function w8(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function ag(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var A1={exports:{}},g0={};var Jb;function C8(){if(Jb)return g0;Jb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return g0.Fragment=e,g0.jsx=n,g0.jsxs=n,g0}var e_;function T8(){return e_||(e_=1,A1.exports=C8()),A1.exports}var E=T8(),R1={exports:{}},m0={},O1={exports:{}},N1={};var t_;function A8(){return t_||(t_=1,(function(t){function e(B,ae){var K=B.length;B.push(ae);e:for(;0<K;){var he=K-1>>>1,G=B[he];if(0<i(G,ae))B[he]=ae,B[K]=G,K=he;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var ae=B[0],K=B.pop();if(K!==ae){B[0]=K;e:for(var he=0,G=B.length,$=G>>>1;he<$;){var Ee=2*(he+1)-1,Te=B[Ee],Ve=Ee+1,ot=B[Ve];if(0>i(Te,K))Ve<G&&0>i(ot,Te)?(B[he]=ot,B[Ve]=K,he=Ve):(B[he]=Te,B[Ee]=K,he=Ee);else if(Ve<G&&0>i(ot,K))B[he]=ot,B[Ve]=K,he=Ve;else break e}}return ae}function i(B,ae){var K=B.sortIndex-ae.sortIndex;return K!==0?K:B.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var g=[],p=[],v=1,_=null,S=3,C=!1,T=!1,R=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function L(B){for(var ae=n(p);ae!==null;){if(ae.callback===null)a(p);else if(ae.startTime<=B)a(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function H(B){if(R=!1,L(B),!T)if(n(g)!==null)T=!0,U||(U=!0,ve());else{var ae=n(p);ae!==null&&be(H,ae.startTime-B)}}var U=!1,Y=-1,Q=5,se=-1;function _e(){return O?!0:!(t.unstable_now()-se<Q)}function Ce(){if(O=!1,U){var B=t.unstable_now();se=B;var ae=!0;try{e:{T=!1,R&&(R=!1,j(Y),Y=-1),C=!0;var K=S;try{t:{for(L(B),_=n(g);_!==null&&!(_.expirationTime>B&&_e());){var he=_.callback;if(typeof he=="function"){_.callback=null,S=_.priorityLevel;var G=he(_.expirationTime<=B);if(B=t.unstable_now(),typeof G=="function"){_.callback=G,L(B),ae=!0;break t}_===n(g)&&a(g),L(B)}else a(g);_=n(g)}if(_!==null)ae=!0;else{var $=n(p);$!==null&&be(H,$.startTime-B),ae=!1}}break e}finally{_=null,S=K,C=!1}ae=void 0}}finally{ae?ve():U=!1}}}var ve;if(typeof z=="function")ve=function(){z(Ce)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ce=fe.port2;fe.port1.onmessage=Ce,ve=function(){ce.postMessage(null)}}else ve=function(){M(Ce,0)};function be(B,ae){Y=M(function(){B(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(B){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var K=S;S=ae;try{return B()}finally{S=K}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(B,ae){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=S;S=B;try{return ae()}finally{S=K}},t.unstable_scheduleCallback=function(B,ae,K){var he=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?he+K:he):K=he,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,B={id:v++,callback:ae,priorityLevel:B,startTime:K,expirationTime:G,sortIndex:-1},K>he?(B.sortIndex=K,e(p,B),n(g)===null&&B===n(p)&&(R?(j(Y),Y=-1):R=!0,be(H,K-he))):(B.sortIndex=G,e(g,B),T||C||(T=!0,U||(U=!0,ve()))),B},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(B){var ae=S;return function(){var K=S;S=ae;try{return B.apply(this,arguments)}finally{S=K}}}})(N1)),N1}var n_;function f2(){return n_||(n_=1,O1.exports=A8()),O1.exports}var M1={exports:{}},zt={};var a_;function R8(){if(a_)return zt;a_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(G,$,Ee){this.props=G,this.context=$,this.refs=R,this.updater=Ee||C}O.prototype.isReactComponent={},O.prototype.setState=function(G,$){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,$,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=O.prototype;function j(G,$,Ee){this.props=G,this.context=$,this.refs=R,this.updater=Ee||C}var z=j.prototype=new M;z.constructor=j,T(z,O.prototype),z.isPureReactComponent=!0;var L=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function Y(G,$,Ee,Te,Ve,ot){return Ee=ot.ref,{$$typeof:t,type:G,key:$,ref:Ee!==void 0?Ee:null,props:ot}}function Q(G,$){return Y(G.type,$,void 0,void 0,void 0,G.props)}function se(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function _e(G){var $={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ee){return $[Ee]})}var Ce=/\/+/g;function ve(G,$){return typeof G=="object"&&G!==null&&G.key!=null?_e(""+G.key):$.toString(36)}function fe(){}function ce(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(fe,fe):(G.status="pending",G.then(function($){G.status==="pending"&&(G.status="fulfilled",G.value=$)},function($){G.status==="pending"&&(G.status="rejected",G.reason=$)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function be(G,$,Ee,Te,Ve){var ot=typeof G;(ot==="undefined"||ot==="boolean")&&(G=null);var ue=!1;if(G===null)ue=!0;else switch(ot){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(G.$$typeof){case t:case e:ue=!0;break;case v:return ue=G._init,be(ue(G._payload),$,Ee,Te,Ve)}}if(ue)return Ve=Ve(G),ue=Te===""?"."+ve(G,0):Te,L(Ve)?(Ee="",ue!=null&&(Ee=ue.replace(Ce,"$&/")+"/"),be(Ve,$,Ee,"",function(dt){return dt})):Ve!=null&&(se(Ve)&&(Ve=Q(Ve,Ee+(Ve.key==null||G&&G.key===Ve.key?"":(""+Ve.key).replace(Ce,"$&/")+"/")+ue)),$.push(Ve)),1;ue=0;var xe=Te===""?".":Te+":";if(L(G))for(var Ie=0;Ie<G.length;Ie++)Te=G[Ie],ot=xe+ve(Te,Ie),ue+=be(Te,$,Ee,ot,Ve);else if(Ie=S(G),typeof Ie=="function")for(G=Ie.call(G),Ie=0;!(Te=G.next()).done;)Te=Te.value,ot=xe+ve(Te,Ie++),ue+=be(Te,$,Ee,ot,Ve);else if(ot==="object"){if(typeof G.then=="function")return be(ce(G),$,Ee,Te,Ve);throw $=String(G),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ue}function B(G,$,Ee){if(G==null)return G;var Te=[],Ve=0;return be(G,Te,"","",function(ot){return $.call(Ee,ot,Ve++)}),Te}function ae(G){if(G._status===-1){var $=G._result;$=$(),$.then(function(Ee){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ee)},function(Ee){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ee)}),G._status===-1&&(G._status=0,G._result=$)}if(G._status===1)return G._result.default;throw G._result}var K=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function he(){}return zt.Children={map:B,forEach:function(G,$,Ee){B(G,function(){$.apply(this,arguments)},Ee)},count:function(G){var $=0;return B(G,function(){$++}),$},toArray:function(G){return B(G,function($){return $})||[]},only:function(G){if(!se(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},zt.Component=O,zt.Fragment=n,zt.Profiler=i,zt.PureComponent=j,zt.StrictMode=a,zt.Suspense=g,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,zt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return H.H.useMemoCache(G)}},zt.cache=function(G){return function(){return G.apply(null,arguments)}},zt.cloneElement=function(G,$,Ee){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Te=T({},G.props),Ve=G.key,ot=void 0;if($!=null)for(ue in $.ref!==void 0&&(ot=void 0),$.key!==void 0&&(Ve=""+$.key),$)!U.call($,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&$.ref===void 0||(Te[ue]=$[ue]);var ue=arguments.length-2;if(ue===1)Te.children=Ee;else if(1<ue){for(var xe=Array(ue),Ie=0;Ie<ue;Ie++)xe[Ie]=arguments[Ie+2];Te.children=xe}return Y(G.type,Ve,void 0,void 0,ot,Te)},zt.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},zt.createElement=function(G,$,Ee){var Te,Ve={},ot=null;if($!=null)for(Te in $.key!==void 0&&(ot=""+$.key),$)U.call($,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ve[Te]=$[Te]);var ue=arguments.length-2;if(ue===1)Ve.children=Ee;else if(1<ue){for(var xe=Array(ue),Ie=0;Ie<ue;Ie++)xe[Ie]=arguments[Ie+2];Ve.children=xe}if(G&&G.defaultProps)for(Te in ue=G.defaultProps,ue)Ve[Te]===void 0&&(Ve[Te]=ue[Te]);return Y(G,ot,void 0,void 0,null,Ve)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(G){return{$$typeof:f,render:G}},zt.isValidElement=se,zt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:ae}},zt.memo=function(G,$){return{$$typeof:p,type:G,compare:$===void 0?null:$}},zt.startTransition=function(G){var $=H.T,Ee={};H.T=Ee;try{var Te=G(),Ve=H.S;Ve!==null&&Ve(Ee,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(he,K)}catch(ot){K(ot)}finally{H.T=$}},zt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},zt.use=function(G){return H.H.use(G)},zt.useActionState=function(G,$,Ee){return H.H.useActionState(G,$,Ee)},zt.useCallback=function(G,$){return H.H.useCallback(G,$)},zt.useContext=function(G){return H.H.useContext(G)},zt.useDebugValue=function(){},zt.useDeferredValue=function(G,$){return H.H.useDeferredValue(G,$)},zt.useEffect=function(G,$,Ee){var Te=H.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Te.useEffect(G,$)},zt.useId=function(){return H.H.useId()},zt.useImperativeHandle=function(G,$,Ee){return H.H.useImperativeHandle(G,$,Ee)},zt.useInsertionEffect=function(G,$){return H.H.useInsertionEffect(G,$)},zt.useLayoutEffect=function(G,$){return H.H.useLayoutEffect(G,$)},zt.useMemo=function(G,$){return H.H.useMemo(G,$)},zt.useOptimistic=function(G,$){return H.H.useOptimistic(G,$)},zt.useReducer=function(G,$,Ee){return H.H.useReducer(G,$,Ee)},zt.useRef=function(G){return H.H.useRef(G)},zt.useState=function(G){return H.H.useState(G)},zt.useSyncExternalStore=function(G,$,Ee){return H.H.useSyncExternalStore(G,$,Ee)},zt.useTransition=function(){return H.H.useTransition()},zt.version="19.1.1",zt}var r_;function rg(){return r_||(r_=1,M1.exports=R8()),M1.exports}var D1={exports:{}},gr={};var i_;function O8(){if(i_)return gr;i_=1;var t=rg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(g,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:g,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gr.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},gr.flushSync=function(g){var p=u.T,v=a.p;try{if(u.T=null,a.p=2,g)return g()}finally{u.T=p,a.p=v,a.d.f()}},gr.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},gr.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},gr.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gr.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},gr.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gr.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=f(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},gr.requestFormReset=function(g){a.d.r(g)},gr.unstable_batchedUpdates=function(g,p){return g(p)},gr.useFormState=function(g,p,v){return u.H.useFormState(g,p,v)},gr.useFormStatus=function(){return u.H.useHostTransitionStatus()},gr.version="19.1.1",gr}var s_;function a5(){if(s_)return D1.exports;s_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),D1.exports=O8(),D1.exports}var l_;function N8(){if(l_)return m0;l_=1;var t=f2(),e=rg(),n=a5();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,d=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(d=s.return),r=s.return;while(r)}return s.tag===3?d:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(a(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var d=r,h=s;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){d=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return f(y),r;if(x===h)return f(y),s;x=x.sibling}throw Error(a(188))}if(d.return!==h.return)d=y,h=x;else{for(var D=!1,k=y.child;k;){if(k===d){D=!0,d=y,h=x;break}if(k===h){D=!0,h=y,d=x;break}k=k.sibling}if(!D){for(k=x.child;k;){if(k===d){D=!0,d=x,h=y;break}if(k===h){D=!0,h=x,d=y;break}k=k.sibling}if(!D)throw Error(a(189))}}if(d.alternate!==h)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function ve(r){return r===null||typeof r!="object"?null:(r=Ce&&r[Ce]||r["@@iterator"],typeof r=="function"?r:null)}var fe=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===fe?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList";case se:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case z:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return s=r.displayName||null,s!==null?s:ce(r.type)||"Memo";case Q:s=r._payload,r=r._init;try{return ce(r(s))}catch{}}return null}var be=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},he=[],G=-1;function $(r){return{current:r}}function Ee(r){0>G||(r.current=he[G],he[G]=null,G--)}function Te(r,s){G++,he[G]=r.current,r.current=s}var Ve=$(null),ot=$(null),ue=$(null),xe=$(null);function Ie(r,s){switch(Te(ue,s),Te(ot,r),Te(Ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Ab(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Ab(s),r=Rb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ee(Ve),Te(Ve,r)}function dt(){Ee(Ve),Ee(ot),Ee(ue)}function rt(r){r.memoizedState!==null&&Te(xe,r);var s=Ve.current,d=Rb(s,r.type);s!==d&&(Te(ot,r),Te(Ve,d))}function xt(r){ot.current===r&&(Ee(Ve),Ee(ot)),xe.current===r&&(Ee(xe),u0._currentValue=K)}var sn=Object.prototype.hasOwnProperty,ln=t.unstable_scheduleCallback,gn=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,ma=t.unstable_requestPaint,ea=t.unstable_now,Ss=t.unstable_getCurrentPriorityLevel,pr=t.unstable_ImmediatePriority,I=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,ge=t.unstable_LowPriority,He=t.unstable_IdlePriority,Le=t.log,je=t.unstable_setDisableYieldValue,Ye=null,$e=null;function vt(r){if(typeof Le=="function"&&je(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ye,r)}catch{}}var Wt=Math.clz32?Math.clz32:Ca,vr=Math.log,Ga=Math.LN2;function Ca(r){return r>>>=0,r===0?32:31-(vr(r)/Ga|0)|0}var qa=256,er=4194304;function Ta(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Re(r,s,d){var h=r.pendingLanes;if(h===0)return 0;var y=0,x=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var k=h&134217727;return k!==0?(h=k&~x,h!==0?y=Ta(h):(D&=k,D!==0?y=Ta(D):d||(d=k&~r,d!==0&&(y=Ta(d))))):(k=h&~x,k!==0?y=Ta(k):D!==0?y=Ta(D):d||(d=h&~r,d!==0&&(y=Ta(d)))),y===0?0:s!==0&&s!==y&&(s&x)===0&&(x=y&-y,d=s&-s,x>=d||x===32&&(d&4194048)!==0)?s:y}function ke(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Jt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ot(){var r=qa;return qa<<=1,(qa&4194048)===0&&(qa=256),r}function dn(){var r=er;return er<<=1,(er&62914560)===0&&(er=4194304),r}function Yn(r){for(var s=[],d=0;31>d;d++)s.push(r);return s}function Kr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xc(r,s,d,h,y,x){var D=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var k=r.entanglements,V=r.expirationTimes,oe=r.hiddenUpdates;for(d=D&~d;0<d;){var Se=31-Wt(d),Ae=1<<Se;k[Se]=0,V[Se]=-1;var me=oe[Se];if(me!==null)for(oe[Se]=null,Se=0;Se<me.length;Se++){var pe=me[Se];pe!==null&&(pe.lane&=-536870913)}d&=~Ae}h!==0&&xs(r,h,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(D&~s))}function xs(r,s,d){r.pendingLanes|=s,r.suspendedLanes&=~s;var h=31-Wt(s);r.entangledLanes|=s,r.entanglements[h]=r.entanglements[h]|1073741824|d&4194090}function ws(r,s){var d=r.entangledLanes|=s;for(r=r.entanglements;d;){var h=31-Wt(d),y=1<<h;y&s|r[h]&s&&(r[h]|=s),d&=~y}}function Gi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ho(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function yl(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:Xb(r.type))}function X(r,s){var d=ae.p;try{return ae.p=r,s()}finally{ae.p=d}}var ee=Math.random().toString(36).slice(2),le="__reactFiber$"+ee,Oe="__reactProps$"+ee,Pe="__reactContainer$"+ee,et="__reactEvents$"+ee,it="__reactListeners$"+ee,Ke="__reactHandles$"+ee,We="__reactResources$"+ee,st="__reactMarker$"+ee;function at(r){delete r[le],delete r[Oe],delete r[et],delete r[it],delete r[Ke]}function Fe(r){var s=r[le];if(s)return s;for(var d=r.parentNode;d;){if(s=d[Pe]||d[le]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(r=Db(r);r!==null;){if(d=r[le])return d;r=Db(r)}return s}r=d,d=r.parentNode}return null}function wt(r){if(r=r[le]||r[Pe]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function tn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Sn(r){var s=r[We];return s||(s=r[We]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(r){r[st]=!0}var mn=new Set,on={};function Gt(r,s){tr(r,s),tr(r+"Capture",s)}function tr(r,s){for(on[r]=s,r=0;r<s.length;r++)mn.add(s[r])}var Mr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nr={},bl={};function _l(r){return sn.call(bl,r)?!0:sn.call(nr,r)?!1:Mr.test(r)?bl[r]=!0:(nr[r]=!0,!1)}function ar(r,s,d){if(_l(s))if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+d)}}function Fr(r,s,d){if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+d)}}function Aa(r,s,d,h){if(h===null)r.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(s,d,""+h)}}var ft,kt;function Va(r){if(ft===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);ft=s&&s[1]||"",kt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+r+kt}var Ya=!1;function xn(r,s){if(!r||Ya)return"";Ya=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(pe){var me=pe}Reflect.construct(r,[],Ae)}else{try{Ae.call()}catch(pe){me=pe}r.call(Ae.prototype)}}else{try{throw Error()}catch(pe){me=pe}(Ae=r())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(pe){if(pe&&me&&typeof pe.stack=="string")return[pe.stack,me.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),D=x[0],k=x[1];if(D&&k){var V=D.split(`
`),oe=k.split(`
`);for(y=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;y<oe.length&&!oe[y].includes("DetermineComponentFrameRoot");)y++;if(h===V.length||y===oe.length)for(h=V.length-1,y=oe.length-1;1<=h&&0<=y&&V[h]!==oe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(V[h]!==oe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||V[h]!==oe[y]){var Se=`
`+V[h].replace(" at new "," at ");return r.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",r.displayName)),Se}while(1<=h&&0<=y);break}}}finally{Ya=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Va(d):""}function Es(r){switch(r.tag){case 26:case 27:case 5:return Va(r.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 15:return xn(r.type,!1);case 11:return xn(r.type.render,!1);case 1:return xn(r.type,!0);case 31:return Va("Activity");default:return""}}function yr(r){try{var s="";do s+=Es(r),r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function pa(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kf(r){var s=Kc(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){h=""+D,x.call(this,D)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Cu(r){r._valueTracker||(r._valueTracker=Kf(r))}function Ff(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var d=s.getValue(),h="";return r&&(h=Kc(r)?r.checked?"true":"false":r.value),r=h,r!==d?(s.setValue(r),!0):!1}function Tu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var _g=/[\n"\\]/g;function br(r){return r.replace(_g,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fc(r,s,d,h,y,x,D,k){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),s!=null?D==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pa(s)):r.value!==""+pa(s)&&(r.value=""+pa(s)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),s!=null?$c(r,D,pa(s)):d!=null?$c(r,D,pa(d)):h!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+pa(k):r.removeAttribute("name")}function Qc(r,s,d,h,y,x,D,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),s!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;d=d!=null?""+pa(d):"",s=s!=null?""+pa(s):d,k||s===r.value||(r.value=s),r.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=k?r.checked:!!h,r.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function $c(r,s,d){s==="number"&&Tu(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function go(r,s,d,h){if(r=r.options,s){s={};for(var y=0;y<d.length;y++)s["$"+d[y]]=!0;for(d=0;d<r.length;d++)y=s.hasOwnProperty("$"+r[d].value),r[d].selected!==y&&(r[d].selected=y),y&&h&&(r[d].defaultSelected=!0)}else{for(d=""+pa(d),s=null,y=0;y<r.length;y++){if(r[y].value===d){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Qf(r,s,d){if(s!=null&&(s=""+pa(s),s!==r.value&&(r.value=s),d==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=d!=null?""+pa(d):""}function $f(r,s,d,h){if(s==null){if(h!=null){if(d!=null)throw Error(a(92));if(be(h)){if(1<h.length)throw Error(a(93));h=h[0]}d=h}d==null&&(d=""),s=d}d=pa(s),r.defaultValue=d,h=r.textContent,h===d&&h!==""&&h!==null&&(r.value=h)}function Sl(r,s){if(s){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=s;return}}r.textContent=s}var Wf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jf(r,s,d){var h=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":h?r.setProperty(s,d):typeof d!="number"||d===0||Wf.has(s)?s==="float"?r.cssFloat=d:r[s]=(""+d).trim():r[s]=d+"px"}function eh(r,s,d){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&d[y]!==h&&Jf(r,y,h)}else for(var x in s)s.hasOwnProperty(x)&&Jf(r,x,s[x])}function Wc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(r){return xg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ed=null;function Cs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qi=null,xl=null;function Au(r){var s=wt(r);if(s&&(r=s.stateNode)){var d=r[Oe]||null;e:switch(r=s.stateNode,s.type){case"input":if(Fc(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+br(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var h=d[s];if(h!==r&&h.form===r.form){var y=h[Oe]||null;if(!y)throw Error(a(90));Fc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<d.length;s++)h=d[s],h.form===r.form&&Ff(h)}break e;case"textarea":Qf(r,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&go(r,!!d.multiple,s,!1)}}}var wl=!1;function th(r,s,d){if(wl)return r(s,d);wl=!0;try{var h=r(s);return h}finally{if(wl=!1,(qi!==null||xl!==null)&&(el(),qi&&(s=qi,r=xl,xl=qi=null,Au(s),r)))for(s=0;s<r.length;s++)Au(r[s])}}function mo(r,s){var d=r.stateNode;if(d===null)return null;var h=d[Oe]||null;if(h===null)return null;d=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(a(231,s,typeof d));return d}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(fi)try{var po={};Object.defineProperty(po,"passive",{get:function(){td=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{td=!1}var Vi=null,Ru=null,Ou=null;function nh(){if(Ou)return Ou;var r,s=Ru,d=s.length,h,y="value"in Vi?Vi.value:Vi.textContent,x=y.length;for(r=0;r<d&&s[r]===y[r];r++);var D=d-r;for(h=1;h<=D&&s[d-h]===y[x-h];h++);return Ou=y.slice(r,1<h?1-h:void 0)}function vo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Nu(){return!0}function ah(){return!1}function Za(r){function s(d,h,y,x,D){this._reactName=d,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(d=r[k],this[k]=d?d(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nu:ah,this.isPropagationStopped=ah,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=Za(Yi),yo=v({},Yi,{view:0,detail:0}),Zv=Za(yo),rh,nd,Zi,bo=v({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zi&&(Zi&&r.type==="mousemove"?(rh=r.screenX-Zi.screenX,nd=r.screenY-Zi.screenY):nd=rh=0,Zi=r),rh)},movementY:function(r){return"movementY"in r?r.movementY:nd}}),Du=Za(bo),wg=v({},bo,{dataTransfer:0}),Eg=Za(wg),ad=v({},yo,{relatedTarget:0}),El=Za(ad),rd=v({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cg=Za(rd),Tg=v({},Yi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ts=Za(Tg),Ag=v({},Yi,{data:0}),Ii=Za(Ag),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},id={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rg(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ih[r])?!!s[r]:!1}function sd(){return Rg}var Cl=v({},yo,{key:function(r){if(r.key){var s=Xi[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?id[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(r){return r.type==="keypress"?vo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ld=Za(Cl),Og=v({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Za(Og),Ng=v({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),Mg=Za(Ng),Iv=v({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=Za(Iv),Dg=v({},bo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=Za(Dg),zg=v({},Yi,{newState:0,oldState:0}),kg=Za(zg),Ug=[9,13,27,32],_o=fi&&"CompositionEvent"in window,Tl=null;fi&&"documentMode"in document&&(Tl=document.documentMode);var Lg=fi&&"TextEvent"in window&&!Tl,sh=fi&&(!_o||Tl&&8<Tl&&11>=Tl),lh=" ",ud=!1;function cd(r,s){switch(r){case"keyup":return Ug.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var As=!1;function dd(r,s){switch(r){case"compositionend":return oh(s);case"keypress":return s.which!==32?null:(ud=!0,lh);case"textInput":return r=s.data,r===lh&&ud?null:r;default:return null}}function uh(r,s){if(As)return r==="compositionend"||!_o&&cd(r,s)?(r=nh(),Ou=Ru=Vi=null,As=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sh&&s.locale!=="ko"?null:s.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Pg[r.type]:s==="textarea"}function ch(r,s,d,h){qi?xl?xl.push(h):xl=[h]:qi=h,s=km(s,"onChange"),0<s.length&&(d=new Mu("onChange","change",null,d,h),r.push({event:d,listeners:s}))}var _r=null,Al=null;function Xv(r){xb(r,0)}function ju(r){var s=tn(r);if(Ff(s))return r}function rr(r,s){if(r==="change")return s}var dh=!1;if(fi){var zu;if(fi){var hd="oninput"in document;if(!hd){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),hd=typeof fh.oninput=="function"}zu=hd}else zu=!1;dh=zu&&(!document.documentMode||9<document.documentMode)}function gd(){_r&&(_r.detachEvent("onpropertychange",md),Al=_r=null)}function md(r){if(r.propertyName==="value"&&ju(Al)){var s=[];ch(s,Al,r,Cs(r)),th(Xv,s)}}function Bg(r,s,d){r==="focusin"?(gd(),_r=s,Al=d,_r.attachEvent("onpropertychange",md)):r==="focusout"&&gd()}function pd(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ju(Al)}function ku(r,s){if(r==="click")return ju(s)}function Ln(r,s){if(r==="input"||r==="change")return ju(s)}function Kv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sr=typeof Object.is=="function"?Object.is:Kv;function So(r,s){if(Sr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var d=Object.keys(r),h=Object.keys(s);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var y=d[h];if(!sn.call(s,y)||!Sr(r[y],s[y]))return!1}return!0}function xo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ki(r,s){var d=xo(r);r=0;for(var h;d;){if(d.nodeType===3){if(h=r+d.textContent.length,r<=s&&h>=s)return{node:d,offset:s-r};r=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xo(d)}}function hh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?hh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function gh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Tu(r.document);s instanceof r.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)r=s.contentWindow;else break;s=Tu(r.document)}return s}function Rl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var hi=fi&&"documentMode"in document&&11>=document.documentMode,Ol=null,Uu=null,wo=null,Lu=!1;function vd(r,s,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Lu||Ol==null||Ol!==Tu(h)||(h=Ol,"selectionStart"in h&&Rl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),wo&&So(wo,h)||(wo=h,h=km(Uu,"onSelect"),0<h.length&&(s=new Mu("onSelect","select",null,s,d),r.push({event:s,listeners:h}),s.target=Ol)))}function gi(r,s){var d={};return d[r.toLowerCase()]=s.toLowerCase(),d["Webkit"+r]="webkit"+s,d["Moz"+r]="moz"+s,d}var Nl={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},yd={},Hg={};fi&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Rs(r){if(yd[r])return yd[r];if(!Nl[r])return r;var s=Nl[r],d;for(d in s)if(s.hasOwnProperty(d)&&d in Hg)return yd[r]=s[d];return r}var mh=Rs("animationend"),Dr=Rs("animationiteration"),bd=Rs("animationstart"),Gg=Rs("transitionrun"),Fv=Rs("transitionstart"),ph=Rs("transitioncancel"),Ra=Rs("transitionend"),vh=new Map,Oa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oa.push("scrollEnd");function jr(r,s){vh.set(r,s),Gt(s,[r])}var Fi=new WeakMap;function sa(r,s){if(typeof r=="object"&&r!==null){var d=Fi.get(r);return d!==void 0?d:(s={value:r,source:s,stack:yr(s)},Fi.set(r,s),s)}return{value:r,source:s,stack:yr(s)}}var ta=[],Os=0,Pu=0;function xr(){for(var r=Os,s=Pu=Os=0;s<r;){var d=ta[s];ta[s++]=null;var h=ta[s];ta[s++]=null;var y=ta[s];ta[s++]=null;var x=ta[s];if(ta[s++]=null,h!==null&&y!==null){var D=h.pending;D===null?y.next=y:(y.next=D.next,D.next=y),h.pending=y}x!==0&&Ms(d,y,x)}}function Bu(r,s,d,h){ta[Os++]=r,ta[Os++]=s,ta[Os++]=d,ta[Os++]=h,Pu|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Ns(r,s,d,h){return Bu(r,s,d,h),Hu(r)}function mi(r,s){return Bu(r,null,null,s),Hu(r)}function Ms(r,s,d){r.lanes|=d;var h=r.alternate;h!==null&&(h.lanes|=d);for(var y=!1,x=r.return;x!==null;)x.childLanes|=d,h=x.alternate,h!==null&&(h.childLanes|=d),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&s!==null&&(y=31-Wt(d),r=x.hiddenUpdates,h=r[y],h===null?r[y]=[s]:h.push(s),s.lane=d|536870912),x):null}function Hu(r){if(50<Mi)throw Mi=0,yc=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ml={};function Gu(r,s,d,h){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(r,s,d,h){return new Gu(r,s,d,h)}function Eo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pi(r,s){var d=r.alternate;return d===null?(d=ir(r.tag,s,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=s,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,s=r.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function _d(r,s){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,s=d.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Co(r,s,d,h,y,x){var D=0;if(h=r,typeof r=="function")Eo(r)&&(D=1);else if(typeof r=="string")D=c8(r,d,Ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case se:return r=ir(31,d,s,y),r.elementType=se,r.lanes=x,r;case T:return Qi(d.children,y,x,s);case R:D=8,y|=24;break;case O:return r=ir(12,d,s,y|2),r.elementType=O,r.lanes=x,r;case H:return r=ir(13,d,s,y),r.elementType=H,r.lanes=x,r;case U:return r=ir(19,d,s,y),r.elementType=U,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case z:D=10;break e;case j:D=9;break e;case L:D=11;break e;case Y:D=14;break e;case Q:D=16,h=null;break e}D=29,d=Error(a(130,r===null?"null":typeof r,"")),h=null}return s=ir(D,d,s,y),s.elementType=r,s.type=h,s.lanes=x,s}function Qi(r,s,d,h){return r=ir(7,r,h,s),r.lanes=d,r}function Sd(r,s,d){return r=ir(6,r,null,s),r.lanes=d,r}function qu(r,s,d){return s=ir(4,r.children!==null?r.children:[],r.key,s),s.lanes=d,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var la=[],Dl=0,Na=null,Vu=0,wr=[],zr=0,sr=null,vi=1,Qr="";function kr(r,s){la[Dl++]=Vu,la[Dl++]=Na,Na=r,Vu=s}function yh(r,s,d){wr[zr++]=vi,wr[zr++]=Qr,wr[zr++]=sr,sr=r;var h=vi;r=Qr;var y=32-Wt(h)-1;h&=~(1<<y),d+=1;var x=32-Wt(s)+y;if(30<x){var D=y-y%5;x=(h&(1<<D)-1).toString(32),h>>=D,y-=D,vi=1<<32-Wt(s)+y|d<<y|h,Qr=x+r}else vi=1<<x|d<<y|h,Qr=r}function xd(r){r.return!==null&&(kr(r,1),yh(r,1,0))}function wd(r){for(;r===Na;)Na=la[--Dl],la[Dl]=null,Vu=la[--Dl],la[Dl]=null;for(;r===sr;)sr=wr[--zr],wr[zr]=null,Qr=wr[--zr],wr[zr]=null,vi=wr[--zr],wr[zr]=null}var Ma=null,Dn=null,Xt=!1,jl=null,yi=!1,bh=Error(a(519));function Ds(r){var s=Error(a(418,""));throw Ao(sa(s,r)),bh}function _h(r){var s=r.stateNode,d=r.type,h=r.memoizedProps;switch(s[le]=r,s[Oe]=h,d){case"dialog":Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":case"embed":Yt("load",s);break;case"video":case"audio":for(d=0;d<a0.length;d++)Yt(a0[d],s);break;case"source":Yt("error",s);break;case"img":case"image":case"link":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"input":Yt("invalid",s),Qc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Cu(s);break;case"select":Yt("invalid",s);break;case"textarea":Yt("invalid",s),$f(s,h.value,h.defaultValue,h.children),Cu(s)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||h.suppressHydrationWarning===!0||Tb(s.textContent,d)?(h.popover!=null&&(Yt("beforetoggle",s),Yt("toggle",s)),h.onScroll!=null&&Yt("scroll",s),h.onScrollEnd!=null&&Yt("scrollend",s),h.onClick!=null&&(s.onclick=Um),s=!0):s=!1,s||Ds(r)}function zl(r){for(Ma=r.return;Ma;)switch(Ma.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Ma=Ma.return}}function js(r){if(r!==Ma)return!1;if(!Xt)return zl(r),Xt=!0,!1;var s=r.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||h1(r.type,r.memoizedProps)),d=!d),d&&Dn&&Ds(r),zl(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(s===0){Dn=ds(r.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++;r=r.nextSibling}Dn=null}}else s===27?(s=Dn,Qo(r.type)?(r=v1,v1=null,Dn=r):Dn=s):Dn=Ma?ds(r.stateNode.nextSibling):null;return!0}function To(){Dn=Ma=null,Xt=!1}function Sh(){var r=jl;return r!==null&&(_a===null?_a=r:_a.push.apply(_a,r),jl=null),r}function Ao(r){jl===null?jl=[r]:jl.push(r)}var Ed=$(null),zs=null,bi=null;function Ur(r,s,d){Te(Ed,s._currentValue),s._currentValue=d}function _i(r){r._currentValue=Ed.current,Ee(Ed)}function Cd(r,s,d){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===d)break;r=r.return}}function nn(r,s,d,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var D=y.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=y;for(var V=0;V<s.length;V++)if(k.context===s[V]){x.lanes|=d,k=x.alternate,k!==null&&(k.lanes|=d),Cd(x.return,d,r),h||(D=null);break e}x=k.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=d,x=D.alternate,x!==null&&(x.lanes|=d),Cd(D,d,r),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===r){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function kl(r,s,d,h){r=null;for(var y=s,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var k=y.type;Sr(y.pendingProps.value,D.value)||(r!==null?r.push(k):r=[k])}}else if(y===xe.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(u0):r=[u0])}y=y.return}r!==null&&nn(s,r,d,h),s.flags|=262144}function Td(r){for(r=r.firstContext;r!==null;){if(!Sr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ks(r){zs=r,bi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Da(r){return qg(zs,r)}function Ad(r,s){return zs===null&&ks(r),qg(r,s)}function qg(r,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},bi===null){if(r===null)throw Error(a(308));bi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else bi=bi.next=s;return d}var Qv=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(d,h){r.push(h)}};this.abort=function(){s.aborted=!0,r.forEach(function(d){return d()})}},xh=t.unstable_scheduleCallback,$i=t.unstable_NormalPriority,Kn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new Qv,data:new Map,refCount:0}}function $r(r){r.refCount--,r.refCount===0&&xh($i,function(){r.controller.abort()})}var Ul=null,Yu=0,Oo=0,Ll=null;function Vg(r,s){if(Ul===null){var d=Ul=[];Yu=0,Oo=r1(),Ll={status:"pending",value:void 0,then:function(h){d.push(h)}}}return Yu++,s.then(wh,wh),s}function wh(){if(--Yu===0&&Ul!==null){Ll!==null&&(Ll.status="fulfilled");var r=Ul;Ul=null,Oo=0,Ll=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Yg(r,s){var d=[],h={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return r.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<d.length;y++)(0,d[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),h}var Eh=B.S;B.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Vg(r,s),Eh!==null&&Eh(r,s)};var Wi=$(null);function Nt(){var r=Wi.current;return r!==null?r:yn.pooledCache}function Rd(r,s){s===null?Te(Wi,Wi.current):Te(Wi,s.pool)}function lr(){var r=Nt();return r===null?null:{parent:Kn._currentValue,pool:r}}var Pl=Error(a(460)),Zg=Error(a(474)),Bl=Error(a(542)),Us={then:function(){}};function Hl(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Zu(){}function Od(r,s,d){switch(d=r[d],d===void 0?r.push(s):d!==s&&(s.then(Zu,Zu),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ji(r),r;default:if(typeof s.status=="string")s.then(Zu,Zu);else{if(r=yn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ji(r),r}throw Iu=s,Pl}}var Iu=null;function Ch(){if(Iu===null)throw Error(a(459));var r=Iu;return Iu=null,r}function Ji(r){if(r===Pl||r===Bl)throw Error(a(483))}var Si=!1;function Xu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ku(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function xi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ia(r,s,d){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(yt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Hu(r),Ms(r,null,d),s}return Bu(r,h,s,d),Hu(r)}function Gl(r,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var h=s.lanes;h&=r.pendingLanes,d|=h,s.lanes=d,ws(r,d)}}function Th(r,s){var d=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var y=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?y=x=D:x=x.next=D,d=d.next}while(d!==null);x===null?y=x=s:x=x.next=s}else y=x=s;d={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=s:r.next=s,d.lastBaseUpdate=s}var Nd=!1;function Fu(){if(Nd){var r=Ll;if(r!==null)throw r}}function Ls(r,s,d,h){Nd=!1;var y=r.updateQueue;Si=!1;var x=y.firstBaseUpdate,D=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var V=k,oe=V.next;V.next=null,D===null?x=oe:D.next=oe,D=V;var Se=r.alternate;Se!==null&&(Se=Se.updateQueue,k=Se.lastBaseUpdate,k!==D&&(k===null?Se.firstBaseUpdate=oe:k.next=oe,Se.lastBaseUpdate=V))}if(x!==null){var Ae=y.baseState;D=0,Se=oe=V=null,k=x;do{var me=k.lane&-536870913,pe=me!==k.lane;if(pe?(Vt&me)===me:(h&me)===me){me!==0&&me===Oo&&(Nd=!0),Se!==null&&(Se=Se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var _t=r,gt=k;me=s;var An=d;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){Ae=_t.call(An,Ae,me);break e}Ae=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,me=typeof _t=="function"?_t.call(An,Ae,me):_t,me==null)break e;Ae=v({},Ae,me);break e;case 2:Si=!0}}me=k.callback,me!==null&&(r.flags|=64,pe&&(r.flags|=8192),pe=y.callbacks,pe===null?y.callbacks=[me]:pe.push(me))}else pe={lane:me,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Se===null?(oe=Se=pe,V=Ae):Se=Se.next=pe,D|=me;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;pe=k,k=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);Se===null&&(V=Ae),y.baseState=V,y.firstBaseUpdate=oe,y.lastBaseUpdate=Se,x===null&&(y.shared.lanes=0),_n|=D,r.lanes=D,r.memoizedState=Ae}}function ut(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function Ig(r,s){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)ut(d[r],s)}var No=$(null),Qu=$(0);function Mo(r,s){r=Ni,Te(Qu,r),Te(No,s),Ni=r|s.baseLanes}function Ah(){Te(Qu,Ni),Te(No,No.current)}function Rh(){Ni=Qu.current,Ee(No),Ee(Qu)}var Ps=0,Mt=null,pn=null,qn=null,$u=!1,es=!1,Bs=!1,Md=0,Wu=0,Lr=null,ts=0;function Pt(){throw Error(a(321))}function wi(r,s){if(s===null)return!1;for(var d=0;d<s.length&&d<r.length;d++)if(!Sr(r[d],s[d]))return!1;return!0}function or(r,s,d,h,y,x){return Ps=x,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?wm:Zh,Bs=!1,x=d(h,y),Bs=!1,es&&(x=Kg(s,d,h,y)),Xg(r),x}function Xg(r){B.H=Ld;var s=pn!==null&&pn.next!==null;if(Ps=0,qn=pn=Mt=null,$u=!1,Wu=0,Lr=null,s)throw Error(a(300));r===null||vn||(r=r.dependencies,r!==null&&Td(r)&&(vn=!0))}function Kg(r,s,d,h){Mt=r;var y=0;do{if(es&&(Lr=null),Wu=0,es=!1,25<=y)throw Error(a(301));if(y+=1,qn=pn=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=e1,x=s(d,h)}while(es);return x}function oa(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?Ju(s):s,r=r.useState()[0],(pn!==null?pn.memoizedState:null)!==r&&(Mt.flags|=1024),s}function Wr(){var r=Md!==0;return Md=0,r}function Oh(r,s,d){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d}function Nh(r){if($u){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$u=!1}Ps=0,qn=pn=Mt=null,es=!1,Wu=Md=0,Lr=null}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Mt.memoizedState=qn=r:qn=qn.next=r,qn}function Fn(){if(pn===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=pn.next;var s=qn===null?Mt.memoizedState:qn.next;if(s!==null)qn=s,pn=r;else{if(r===null)throw Mt.alternate===null?Error(a(467)):Error(a(310));pn=r,r={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},qn===null?Mt.memoizedState=qn=r:qn=qn.next=r}return qn}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(r){var s=Wu;return Wu+=1,Lr===null&&(Lr=[]),r=Od(Lr,r,s),s=Mt,(qn===null?s.memoizedState:qn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?wm:Zh),r}function ec(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ju(r);if(r.$$typeof===z)return Da(r)}throw Error(a(438,String(r)))}function Mh(r){var s=null,d=Mt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var h=Mt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=Dd(),Mt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(r),h=0;h<r;h++)d[h]=_e;return s.index++,d}function cr(r,s){return typeof s=="function"?s(r):s}function Ei(r){var s=Fn();return Dh(s,pn,r)}function Dh(r,s,d){var h=r.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=d;var y=r.baseQueue,x=h.pending;if(x!==null){if(y!==null){var D=y.next;y.next=x.next,x.next=D}s.baseQueue=y=x,h.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{s=y.next;var k=D=null,V=null,oe=s,Se=!1;do{var Ae=oe.lane&-536870913;if(Ae!==oe.lane?(Vt&Ae)===Ae:(Ps&Ae)===Ae){var me=oe.revertLane;if(me===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ae===Oo&&(Se=!0);else if((Ps&me)===me){oe=oe.next,me===Oo&&(Se=!0);continue}else Ae={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(k=V=Ae,D=x):V=V.next=Ae,Mt.lanes|=me,_n|=me;Ae=oe.action,Bs&&d(x,Ae),x=oe.hasEagerState?oe.eagerState:d(x,Ae)}else me={lane:Ae,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(k=V=me,D=x):V=V.next=me,Mt.lanes|=Ae,_n|=Ae;oe=oe.next}while(oe!==null&&oe!==s);if(V===null?D=x:V.next=k,!Sr(x,r.memoizedState)&&(vn=!0,Se&&(d=Ll,d!==null)))throw d;r.memoizedState=x,r.baseState=D,r.baseQueue=V,h.lastRenderedState=x}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function jh(r){var s=Fn(),d=s.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=r;var h=d.dispatch,y=d.pending,x=s.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do x=r(x,D.action),D=D.next;while(D!==y);Sr(x,s.memoizedState)||(vn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),d.lastRenderedState=x}return[x,h]}function Fg(r,s,d){var h=Mt,y=Fn(),x=Xt;if(x){if(d===void 0)throw Error(a(407));d=d()}else d=s();var D=!Sr((pn||y).memoizedState,d);D&&(y.memoizedState=d,vn=!0),y=y.queue;var k=$g.bind(null,h,y,r);if(tc(2048,8,k,[r]),y.getSnapshot!==s||D||qn!==null&&qn.memoizedState.tag&1){if(h.flags|=2048,zo(9,jd(),Qg.bind(null,h,y,d,s),null),yn===null)throw Error(a(349));x||(Ps&124)!==0||Do(h,s,d)}return d}function Do(r,s,d){r.flags|=16384,r={getSnapshot:s,value:d},s=Mt.updateQueue,s===null?(s=Dd(),Mt.updateQueue=s,s.stores=[r]):(d=s.stores,d===null?s.stores=[r]:d.push(r))}function Qg(r,s,d,h){s.value=d,s.getSnapshot=h,Wg(s)&&jo(r)}function $g(r,s,d){return d(function(){Wg(s)&&jo(r)})}function Wg(r){var s=r.getSnapshot;r=r.value;try{var d=s();return!Sr(r,d)}catch{return!0}}function jo(r){var s=mi(r,2);s!==null&&Jn(s,r,2)}function zh(r){var s=ur();if(typeof r=="function"){var d=r;if(r=d(),Bs){vt(!0);try{d()}finally{vt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:r},s}function Jg(r,s,d,h){return r.baseState=d,Dh(r,pn,typeof h=="function"?h:cr)}function $v(r,s,d,h,y){if(Ud(r))throw Error(a(485));if(r=s.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};B.T!==null?d(!0):x.isTransition=!1,h(x),d=s.pending,d===null?(x.next=s.pending=x,em(s,x)):(x.next=d.next,s.pending=d.next=x)}}function em(r,s){var d=s.action,h=s.payload,y=r.state;if(s.isTransition){var x=B.T,D={};B.T=D;try{var k=d(y,h),V=B.S;V!==null&&V(D,k),tm(r,s,k)}catch(oe){kh(r,s,oe)}finally{B.T=x}}else try{x=d(y,h),tm(r,s,x)}catch(oe){kh(r,s,oe)}}function tm(r,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){nm(r,s,h)},function(h){return kh(r,s,h)}):nm(r,s,d)}function nm(r,s,d){s.status="fulfilled",s.value=d,am(s),r.state=d,s=r.pending,s!==null&&(d=s.next,d===s?r.pending=null:(d=d.next,s.next=d,em(r,d)))}function kh(r,s,d){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=d,am(s),s=s.next;while(s!==h)}r.action=null}function am(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function rm(r,s){return s}function im(r,s){if(Xt){var d=yn.formState;if(d!==null){e:{var h=Mt;if(Xt){if(Dn){t:{for(var y=Dn,x=yi;y.nodeType!==8;){if(!x){y=null;break t}if(y=ds(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Dn=ds(y.nextSibling),h=y.data==="F!";break e}}Ds(h)}h=!1}h&&(s=d[0])}}return d=ur(),d.memoizedState=d.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:s},d.queue=h,d=_m.bind(null,Mt,h),h.dispatch=d,h=zh(!1),x=Yh.bind(null,Mt,!1,h.queue),h=ur(),y={state:s,dispatch:null,action:r,pending:null},h.queue=y,d=$v.bind(null,Mt,y,x,d),y.dispatch=d,h.memoizedState=r,[s,d,!1]}function sm(r){var s=Fn();return lm(s,pn,r)}function lm(r,s,d){if(s=Dh(r,s,rm)[0],r=Ei(cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ju(s)}catch(D){throw D===Pl?Bl:D}else h=s;s=Fn();var y=s.queue,x=y.dispatch;return d!==s.memoizedState&&(Mt.flags|=2048,zo(9,jd(),om.bind(null,y,d),null)),[h,x,r]}function om(r,s){r.action=s}function um(r){var s=Fn(),d=pn;if(d!==null)return lm(s,d,r);Fn(),s=s.memoizedState,d=Fn();var h=d.queue.dispatch;return d.memoizedState=r,[s,h,!1]}function zo(r,s,d,h){return r={tag:r,create:d,deps:h,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=Dd(),Mt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=r.next=r:(h=d.next,d.next=r,r.next=h,s.lastEffect=r),r}function jd(){return{destroy:void 0,resource:void 0}}function cm(){return Fn().memoizedState}function zd(r,s,d,h){var y=ur();h=h===void 0?null:h,Mt.flags|=r,y.memoizedState=zo(1|s,jd(),d,h)}function tc(r,s,d,h){var y=Fn();h=h===void 0?null:h;var x=y.memoizedState.inst;pn!==null&&h!==null&&wi(h,pn.memoizedState.deps)?y.memoizedState=zo(s,x,d,h):(Mt.flags|=r,y.memoizedState=zo(1|s,x,d,h))}function Uh(r,s){zd(8390656,8,r,s)}function Lh(r,s){tc(2048,8,r,s)}function dm(r,s){return tc(4,2,r,s)}function Ph(r,s){return tc(4,4,r,s)}function Bh(r,s){if(typeof s=="function"){r=r();var d=s(r);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Hh(r,s,d){d=d!=null?d.concat([r]):null,tc(4,4,Bh.bind(null,s,r),d)}function nc(){}function kd(r,s){var d=Fn();s=s===void 0?null:s;var h=d.memoizedState;return s!==null&&wi(s,h[1])?h[0]:(d.memoizedState=[r,s],r)}function fm(r,s){var d=Fn();s=s===void 0?null:s;var h=d.memoizedState;if(s!==null&&wi(s,h[1]))return h[0];if(h=r(),Bs){vt(!0);try{r()}finally{vt(!1)}}return d.memoizedState=[h,s],h}function Gh(r,s,d){return d===void 0||(Ps&1073741824)!==0?r.memoizedState=s:(r.memoizedState=d,r=Bn(),Mt.lanes|=r,_n|=r,d)}function hm(r,s,d,h){return Sr(d,s)?d:No.current!==null?(r=Gh(r,d,h),Sr(r,s)||(vn=!0),r):(Ps&42)===0?(vn=!0,r.memoizedState=d):(r=Bn(),Mt.lanes|=r,_n|=r,s)}function gm(r,s,d,h,y){var x=ae.p;ae.p=x!==0&&8>x?x:8;var D=B.T,k={};B.T=k,Yh(r,!1,s,d);try{var V=y(),oe=B.S;if(oe!==null&&oe(k,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Se=Yg(V,h);ac(r,s,Se,Zn(r))}else ac(r,s,h,Zn(r))}catch(Ae){ac(r,s,{then:function(){},status:"rejected",reason:Ae},Zn())}finally{ae.p=x,B.T=D}}function mm(){}function qh(r,s,d,h){if(r.tag!==5)throw Error(a(476));var y=pm(r).queue;gm(r,y,s,K,d===null?mm:function(){return vm(r),d(h)})}function pm(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:K},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:d},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function vm(r){var s=pm(r).next.queue;ac(r,s,{},Zn())}function Vh(){return Da(u0)}function ym(){return Fn().memoizedState}function bm(){return Fn().memoizedState}function Wv(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var d=Zn();r=xi(d);var h=Ia(s,r,d);h!==null&&(Jn(h,s,d),Gl(h,s,d)),s={cache:Ro()},r.payload=s;return}s=s.return}}function Jv(r,s,d){var h=Zn();d={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Ud(r)?Sm(s,d):(d=Ns(r,s,d,h),d!==null&&(Jn(d,r,h),xm(d,s,h)))}function _m(r,s,d){var h=Zn();ac(r,s,d,h)}function ac(r,s,d,h){var y={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ud(r))Sm(s,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var D=s.lastRenderedState,k=x(D,d);if(y.hasEagerState=!0,y.eagerState=k,Sr(k,D))return Bu(r,s,y,0),yn===null&&xr(),!1}catch{}finally{}if(d=Ns(r,s,y,h),d!==null)return Jn(d,r,h),xm(d,s,h),!0}return!1}function Yh(r,s,d,h){if(h={lane:2,revertLane:r1(),action:h,hasEagerState:!1,eagerState:null,next:null},Ud(r)){if(s)throw Error(a(479))}else s=Ns(r,d,h,2),s!==null&&Jn(s,r,2)}function Ud(r){var s=r.alternate;return r===Mt||s!==null&&s===Mt}function Sm(r,s){es=$u=!0;var d=r.pending;d===null?s.next=s:(s.next=d.next,d.next=s),r.pending=s}function xm(r,s,d){if((d&4194048)!==0){var h=s.lanes;h&=r.pendingLanes,d|=h,s.lanes=d,ws(r,d)}}var Ld={readContext:Da,use:ec,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},wm={readContext:Da,use:ec,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:Da,useEffect:Uh,useImperativeHandle:function(r,s,d){d=d!=null?d.concat([r]):null,zd(4194308,4,Bh.bind(null,s,r),d)},useLayoutEffect:function(r,s){return zd(4194308,4,r,s)},useInsertionEffect:function(r,s){zd(4,2,r,s)},useMemo:function(r,s){var d=ur();s=s===void 0?null:s;var h=r();if(Bs){vt(!0);try{r()}finally{vt(!1)}}return d.memoizedState=[h,s],h},useReducer:function(r,s,d){var h=ur();if(d!==void 0){var y=d(s);if(Bs){vt(!0);try{d(s)}finally{vt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=Jv.bind(null,Mt,r),[h.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:function(r){r=zh(r);var s=r.queue,d=_m.bind(null,Mt,s);return s.dispatch=d,[r.memoizedState,d]},useDebugValue:nc,useDeferredValue:function(r,s){var d=ur();return Gh(d,r,s)},useTransition:function(){var r=zh(!1);return r=gm.bind(null,Mt,r.queue,!0,!1),ur().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,d){var h=Mt,y=ur();if(Xt){if(d===void 0)throw Error(a(407));d=d()}else{if(d=s(),yn===null)throw Error(a(349));(Vt&124)!==0||Do(h,s,d)}y.memoizedState=d;var x={value:d,getSnapshot:s};return y.queue=x,Uh($g.bind(null,h,x,r),[r]),h.flags|=2048,zo(9,jd(),Qg.bind(null,h,x,d,s),null),d},useId:function(){var r=ur(),s=yn.identifierPrefix;if(Xt){var d=Qr,h=vi;d=(h&~(1<<32-Wt(h)-1)).toString(32)+d,s=""+s+"R"+d,d=Md++,0<d&&(s+="H"+d.toString(32)),s+=""}else d=ts++,s=""+s+"r"+d.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Vh,useFormState:im,useActionState:im,useOptimistic:function(r){var s=ur();s.memoizedState=s.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Yh.bind(null,Mt,!0,d),d.dispatch=s,[r,s]},useMemoCache:Mh,useCacheRefresh:function(){return ur().memoizedState=Wv.bind(null,Mt)}},Zh={readContext:Da,use:ec,useCallback:kd,useContext:Da,useEffect:Lh,useImperativeHandle:Hh,useInsertionEffect:dm,useLayoutEffect:Ph,useMemo:fm,useReducer:Ei,useRef:cm,useState:function(){return Ei(cr)},useDebugValue:nc,useDeferredValue:function(r,s){var d=Fn();return hm(d,pn.memoizedState,r,s)},useTransition:function(){var r=Ei(cr)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:Ju(r),s]},useSyncExternalStore:Fg,useId:ym,useHostTransitionStatus:Vh,useFormState:sm,useActionState:sm,useOptimistic:function(r,s){var d=Fn();return Jg(d,pn,r,s)},useMemoCache:Mh,useCacheRefresh:bm},e1={readContext:Da,use:ec,useCallback:kd,useContext:Da,useEffect:Lh,useImperativeHandle:Hh,useInsertionEffect:dm,useLayoutEffect:Ph,useMemo:fm,useReducer:jh,useRef:cm,useState:function(){return jh(cr)},useDebugValue:nc,useDeferredValue:function(r,s){var d=Fn();return pn===null?Gh(d,r,s):hm(d,pn.memoizedState,r,s)},useTransition:function(){var r=jh(cr)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:Ju(r),s]},useSyncExternalStore:Fg,useId:ym,useHostTransitionStatus:Vh,useFormState:um,useActionState:um,useOptimistic:function(r,s){var d=Fn();return pn!==null?Jg(d,pn,r,s):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:bm},ko=null,Xa=0;function rc(r){var s=Xa;return Xa+=1,ko===null&&(ko=[]),Od(ko,r,s)}function ql(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ic(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Ih(r){var s=r._init;return s(r._payload)}function Xh(r){function s(J,F){if(r){var ie=J.deletions;ie===null?(J.deletions=[F],J.flags|=16):ie.push(F)}}function d(J,F){if(!r)return null;for(;F!==null;)s(J,F),F=F.sibling;return null}function h(J){for(var F=new Map;J!==null;)J.key!==null?F.set(J.key,J):F.set(J.index,J),J=J.sibling;return F}function y(J,F){return J=pi(J,F),J.index=0,J.sibling=null,J}function x(J,F,ie){return J.index=ie,r?(ie=J.alternate,ie!==null?(ie=ie.index,ie<F?(J.flags|=67108866,F):ie):(J.flags|=67108866,F)):(J.flags|=1048576,F)}function D(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function k(J,F,ie,we){return F===null||F.tag!==6?(F=Sd(ie,J.mode,we),F.return=J,F):(F=y(F,ie),F.return=J,F)}function V(J,F,ie,we){var tt=ie.type;return tt===T?Se(J,F,ie.props.children,we,ie.key):F!==null&&(F.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&Ih(tt)===F.type)?(F=y(F,ie.props),ql(F,ie),F.return=J,F):(F=Co(ie.type,ie.key,ie.props,null,J.mode,we),ql(F,ie),F.return=J,F)}function oe(J,F,ie,we){return F===null||F.tag!==4||F.stateNode.containerInfo!==ie.containerInfo||F.stateNode.implementation!==ie.implementation?(F=qu(ie,J.mode,we),F.return=J,F):(F=y(F,ie.children||[]),F.return=J,F)}function Se(J,F,ie,we,tt){return F===null||F.tag!==7?(F=Qi(ie,J.mode,we,tt),F.return=J,F):(F=y(F,ie),F.return=J,F)}function Ae(J,F,ie){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Sd(""+F,J.mode,ie),F.return=J,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return ie=Co(F.type,F.key,F.props,null,J.mode,ie),ql(ie,F),ie.return=J,ie;case C:return F=qu(F,J.mode,ie),F.return=J,F;case Q:var we=F._init;return F=we(F._payload),Ae(J,F,ie)}if(be(F)||ve(F))return F=Qi(F,J.mode,ie,null),F.return=J,F;if(typeof F.then=="function")return Ae(J,rc(F),ie);if(F.$$typeof===z)return Ae(J,Ad(J,F),ie);ic(J,F)}return null}function me(J,F,ie,we){var tt=F!==null?F.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return tt!==null?null:k(J,F,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return ie.key===tt?V(J,F,ie,we):null;case C:return ie.key===tt?oe(J,F,ie,we):null;case Q:return tt=ie._init,ie=tt(ie._payload),me(J,F,ie,we)}if(be(ie)||ve(ie))return tt!==null?null:Se(J,F,ie,we,null);if(typeof ie.then=="function")return me(J,F,rc(ie),we);if(ie.$$typeof===z)return me(J,F,Ad(J,ie),we);ic(J,ie)}return null}function pe(J,F,ie,we,tt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return J=J.get(ie)||null,k(F,J,""+we,tt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case S:return J=J.get(we.key===null?ie:we.key)||null,V(F,J,we,tt);case C:return J=J.get(we.key===null?ie:we.key)||null,oe(F,J,we,tt);case Q:var Bt=we._init;return we=Bt(we._payload),pe(J,F,ie,we,tt)}if(be(we)||ve(we))return J=J.get(ie)||null,Se(F,J,we,tt,null);if(typeof we.then=="function")return pe(J,F,ie,rc(we),tt);if(we.$$typeof===z)return pe(J,F,ie,Ad(F,we),tt);ic(F,we)}return null}function _t(J,F,ie,we){for(var tt=null,Bt=null,lt=F,pt=F=0,La=null;lt!==null&&pt<ie.length;pt++){lt.index>pt?(La=lt,lt=null):La=lt.sibling;var un=me(J,lt,ie[pt],we);if(un===null){lt===null&&(lt=La);break}r&&lt&&un.alternate===null&&s(J,lt),F=x(un,F,pt),Bt===null?tt=un:Bt.sibling=un,Bt=un,lt=La}if(pt===ie.length)return d(J,lt),Xt&&kr(J,pt),tt;if(lt===null){for(;pt<ie.length;pt++)lt=Ae(J,ie[pt],we),lt!==null&&(F=x(lt,F,pt),Bt===null?tt=lt:Bt.sibling=lt,Bt=lt);return Xt&&kr(J,pt),tt}for(lt=h(lt);pt<ie.length;pt++)La=pe(lt,J,pt,ie[pt],we),La!==null&&(r&&La.alternate!==null&&lt.delete(La.key===null?pt:La.key),F=x(La,F,pt),Bt===null?tt=La:Bt.sibling=La,Bt=La);return r&&lt.forEach(function(tu){return s(J,tu)}),Xt&&kr(J,pt),tt}function gt(J,F,ie,we){if(ie==null)throw Error(a(151));for(var tt=null,Bt=null,lt=F,pt=F=0,La=null,un=ie.next();lt!==null&&!un.done;pt++,un=ie.next()){lt.index>pt?(La=lt,lt=null):La=lt.sibling;var tu=me(J,lt,un.value,we);if(tu===null){lt===null&&(lt=La);break}r&&lt&&tu.alternate===null&&s(J,lt),F=x(tu,F,pt),Bt===null?tt=tu:Bt.sibling=tu,Bt=tu,lt=La}if(un.done)return d(J,lt),Xt&&kr(J,pt),tt;if(lt===null){for(;!un.done;pt++,un=ie.next())un=Ae(J,un.value,we),un!==null&&(F=x(un,F,pt),Bt===null?tt=un:Bt.sibling=un,Bt=un);return Xt&&kr(J,pt),tt}for(lt=h(lt);!un.done;pt++,un=ie.next())un=pe(lt,J,pt,un.value,we),un!==null&&(r&&un.alternate!==null&&lt.delete(un.key===null?pt:un.key),F=x(un,F,pt),Bt===null?tt=un:Bt.sibling=un,Bt=un);return r&&lt.forEach(function(x8){return s(J,x8)}),Xt&&kr(J,pt),tt}function An(J,F,ie,we){if(typeof ie=="object"&&ie!==null&&ie.type===T&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:e:{for(var tt=ie.key;F!==null;){if(F.key===tt){if(tt=ie.type,tt===T){if(F.tag===7){d(J,F.sibling),we=y(F,ie.props.children),we.return=J,J=we;break e}}else if(F.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&Ih(tt)===F.type){d(J,F.sibling),we=y(F,ie.props),ql(we,ie),we.return=J,J=we;break e}d(J,F);break}else s(J,F);F=F.sibling}ie.type===T?(we=Qi(ie.props.children,J.mode,we,ie.key),we.return=J,J=we):(we=Co(ie.type,ie.key,ie.props,null,J.mode,we),ql(we,ie),we.return=J,J=we)}return D(J);case C:e:{for(tt=ie.key;F!==null;){if(F.key===tt)if(F.tag===4&&F.stateNode.containerInfo===ie.containerInfo&&F.stateNode.implementation===ie.implementation){d(J,F.sibling),we=y(F,ie.children||[]),we.return=J,J=we;break e}else{d(J,F);break}else s(J,F);F=F.sibling}we=qu(ie,J.mode,we),we.return=J,J=we}return D(J);case Q:return tt=ie._init,ie=tt(ie._payload),An(J,F,ie,we)}if(be(ie))return _t(J,F,ie,we);if(ve(ie)){if(tt=ve(ie),typeof tt!="function")throw Error(a(150));return ie=tt.call(ie),gt(J,F,ie,we)}if(typeof ie.then=="function")return An(J,F,rc(ie),we);if(ie.$$typeof===z)return An(J,F,Ad(J,ie),we);ic(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,F!==null&&F.tag===6?(d(J,F.sibling),we=y(F,ie),we.return=J,J=we):(d(J,F),we=Sd(ie,J.mode,we),we.return=J,J=we),D(J)):d(J,F)}return function(J,F,ie,we){try{Xa=0;var tt=An(J,F,ie,we);return ko=null,tt}catch(lt){if(lt===Pl||lt===Bl)throw lt;var Bt=ir(29,lt,null,J.mode);return Bt.lanes=we,Bt.return=J,Bt}finally{}}}var Uo=Xh(!0),Kh=Xh(!1),Er=$(null),Ci=null;function Hs(r){var s=r.alternate;Te(Lt,Lt.current&1),Te(Er,r),Ci===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(Ci=r)}function Em(r){if(r.tag===22){if(Te(Lt,Lt.current),Te(Er,r),Ci===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ci=r)}}else ns()}function ns(){Te(Lt,Lt.current),Te(Er,Er.current)}function as(r){Ee(Er),Ci===r&&(Ci=null),Ee(Lt)}var Lt=$(0);function sc(r){for(var s=r;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||p1(d)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Fh(r,s,d,h){s=r.memoizedState,d=d(h,s),d=d==null?s:v({},s,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Pd={enqueueSetState:function(r,s,d){r=r._reactInternals;var h=Zn(),y=xi(h);y.payload=s,d!=null&&(y.callback=d),s=Ia(r,y,h),s!==null&&(Jn(s,r,h),Gl(s,r,h))},enqueueReplaceState:function(r,s,d){r=r._reactInternals;var h=Zn(),y=xi(h);y.tag=1,y.payload=s,d!=null&&(y.callback=d),s=Ia(r,y,h),s!==null&&(Jn(s,r,h),Gl(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var d=Zn(),h=xi(d);h.tag=2,s!=null&&(h.callback=s),s=Ia(r,h,d),s!==null&&(Jn(s,r,d),Gl(s,r,d))}};function Qh(r,s,d,h,y,x,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,D):s.prototype&&s.prototype.isPureReactComponent?!So(d,h)||!So(y,x):!0}function Vl(r,s,d,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,h),s.state!==r&&Pd.enqueueReplaceState(s,s.state,null)}function rs(r,s){var d=s;if("ref"in s){d={};for(var h in s)h!=="ref"&&(d[h]=s[h])}if(r=r.defaultProps){d===s&&(d=v({},d));for(var y in r)d[y]===void 0&&(d[y]=r[y])}return d}var is=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Yl(r){is(r)}function dr(r){console.error(r)}function Cm(r){is(r)}function Bd(r,s){try{var d=r.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function lc(r,s,d){try{var h=r.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Lo(r,s,d){return d=xi(d),d.tag=3,d.payload={element:null},d.callback=function(){Bd(r,s)},d}function oc(r){return r=xi(r),r.tag=3,r}function Hd(r,s,d,h){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;r.payload=function(){return y(x)},r.callback=function(){lc(s,d,h)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){lc(s,d,h),typeof y!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function t1(r,s,d,h,y){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=d.alternate,s!==null&&kl(s,d,y,!0),d=Er.current,d!==null){switch(d.tag){case 13:return Ci===null?Di():d.alternate===null&&Dt===0&&(Dt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,h===Us?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([h]):s.add(h),Ne(r,h,y)),!1;case 22:return d.flags|=65536,h===Us?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([h]):d.add(h)),Ne(r,h,y)),!1}throw Error(a(435,d.tag))}return Ne(r,h,y),Di(),!1}if(Xt)return s=Er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==bh&&(r=Error(a(422),{cause:h}),Ao(sa(r,d)))):(h!==bh&&(s=Error(a(423),{cause:h}),Ao(sa(s,d))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=sa(h,d),y=Lo(r.stateNode,h,y),Th(r,y),Dt!==4&&(Dt=2)),!1;var x=Error(a(520),{cause:h});if(x=sa(x,d),Qs===null?Qs=[x]:Qs.push(x),Dt!==4&&(Dt=2),s===null)return!0;h=sa(h,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,r=y&-y,d.lanes|=r,r=Lo(d.stateNode,h,r),Th(d,r),!1;case 1:if(s=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ws===null||!Ws.has(x))))return d.flags|=65536,y&=-y,d.lanes|=y,y=oc(y),Hd(y,r,d,h),Th(d,y),!1}d=d.return}while(d!==null);return!1}var Tm=Error(a(461)),vn=!1;function ua(r,s,d,h){s.child=r===null?Kh(s,null,d,h):Uo(s,r.child,d,h)}function Am(r,s,d,h,y){d=d.render;var x=s.ref;if("ref"in h){var D={};for(var k in h)k!=="ref"&&(D[k]=h[k])}else D=h;return ks(s),h=or(r,s,d,D,x,y),k=Wr(),r!==null&&!vn?(Oh(r,s,y),Rn(r,s,y)):(Xt&&k&&xd(s),s.flags|=1,ua(r,s,h,y),s.child)}function Gd(r,s,d,h,y){if(r===null){var x=d.type;return typeof x=="function"&&!Eo(x)&&x.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=x,Rm(r,s,x,h,y)):(r=Co(d.type,null,h,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,!Zl(r,y)){var D=x.memoizedProps;if(d=d.compare,d=d!==null?d:So,d(D,h)&&r.ref===s.ref)return Rn(r,s,y)}return s.flags|=1,r=pi(x,h),r.ref=s.ref,r.return=s,s.child=r}function Rm(r,s,d,h,y){if(r!==null){var x=r.memoizedProps;if(So(x,h)&&r.ref===s.ref)if(vn=!1,s.pendingProps=h=x,Zl(r,y))(r.flags&131072)!==0&&(vn=!0);else return s.lanes=r.lanes,Rn(r,s,y)}return Ka(r,s,d,h,y)}function Om(r,s,d){var h=s.pendingProps,y=h.children,x=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=x!==null?x.baseLanes|d:d,r!==null){for(y=s.child=r.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;s.childLanes=x&~h}else s.childLanes=0,s.child=null;return Nm(r,s,h,d)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rd(s,x!==null?x.cachePool:null),x!==null?Mo(s,x):Ah(),Em(s);else return s.lanes=s.childLanes=536870912,Nm(r,s,x!==null?x.baseLanes|d:d,d)}else x!==null?(Rd(s,x.cachePool),Mo(s,x),ns(),s.memoizedState=null):(r!==null&&Rd(s,null),Ah(),ns());return ua(r,s,y,d),s.child}function Nm(r,s,d,h){var y=Nt();return y=y===null?null:{parent:Kn._currentValue,pool:y},s.memoizedState={baseLanes:d,cachePool:y},r!==null&&Rd(s,null),Ah(),Em(s),r!==null&&kl(r,s,h,!0),null}function Gs(r,s){var d=s.ref;if(d===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(r===null||r.ref!==d)&&(s.flags|=4194816)}}function Ka(r,s,d,h,y){return ks(s),d=or(r,s,d,h,void 0,y),h=Wr(),r!==null&&!vn?(Oh(r,s,y),Rn(r,s,y)):(Xt&&h&&xd(s),s.flags|=1,ua(r,s,d,y),s.child)}function qd(r,s,d,h,y,x){return ks(s),s.updateQueue=null,d=Kg(s,h,d,y),Xg(r),h=Wr(),r!==null&&!vn?(Oh(r,s,x),Rn(r,s,x)):(Xt&&h&&xd(s),s.flags|=1,ua(r,s,d,x),s.child)}function $h(r,s,d,h,y){if(ks(s),s.stateNode===null){var x=Ml,D=d.contextType;typeof D=="object"&&D!==null&&(x=Da(D)),x=new d(h,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Pd,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=h,x.state=s.memoizedState,x.refs={},Xu(s),D=d.contextType,x.context=typeof D=="object"&&D!==null?Da(D):Ml,x.state=s.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Fh(s,d,D,h),x.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&Pd.enqueueReplaceState(x,x.state,null),Ls(s,h,x,y),Fu(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(r===null){x=s.stateNode;var k=s.memoizedProps,V=rs(d,k);x.props=V;var oe=x.context,Se=d.contextType;D=Ml,typeof Se=="object"&&Se!==null&&(D=Da(Se));var Ae=d.getDerivedStateFromProps;Se=typeof Ae=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,Se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||oe!==D)&&Vl(s,x,h,D),Si=!1;var me=s.memoizedState;x.state=me,Ls(s,h,x,y),Fu(),oe=s.memoizedState,k||me!==oe||Si?(typeof Ae=="function"&&(Fh(s,d,Ae,h),oe=s.memoizedState),(V=Si||Qh(s,d,V,h,me,oe,D))?(Se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=oe),x.props=h,x.state=oe,x.context=D,h=V):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{x=s.stateNode,Ku(r,s),D=s.memoizedProps,Se=rs(d,D),x.props=Se,Ae=s.pendingProps,me=x.context,oe=d.contextType,V=Ml,typeof oe=="object"&&oe!==null&&(V=Da(oe)),k=d.getDerivedStateFromProps,(oe=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Ae||me!==V)&&Vl(s,x,h,V),Si=!1,me=s.memoizedState,x.state=me,Ls(s,h,x,y),Fu();var pe=s.memoizedState;D!==Ae||me!==pe||Si||r!==null&&r.dependencies!==null&&Td(r.dependencies)?(typeof k=="function"&&(Fh(s,d,k,h),pe=s.memoizedState),(Se=Si||Qh(s,d,Se,h,me,pe,V)||r!==null&&r.dependencies!==null&&Td(r.dependencies))?(oe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,pe,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,pe,V)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),x.props=h,x.state=pe,x.context=V,h=Se):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=1024),h=!1)}return x=h,Gs(r,s),h=(s.flags&128)!==0,x||h?(x=s.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,r!==null&&h?(s.child=Uo(s,r.child,null,y),s.child=Uo(s,null,d,y)):ua(r,s,d,y),s.memoizedState=x.state,r=s.child):r=Rn(r,s,y),r}function Vd(r,s,d,h){return To(),s.flags|=256,ua(r,s,d,h),s.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qs(r){return{baseLanes:r,cachePool:lr()}}function Vs(r,s,d){return r=r!==null?r.childLanes&~d:0,s&&(r|=ba),r}function uc(r,s,d){var h=s.pendingProps,y=!1,x=(s.flags&128)!==0,D;if((D=x)||(D=r!==null&&r.memoizedState===null?!1:(Lt.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xt){if(y?Hs(s):ns(),Xt){var k=Dn,V;if(V=k){e:{for(V=k,k=yi;V.nodeType!==8;){if(!k){k=null;break e}if(V=ds(V.nextSibling),V===null){k=null;break e}}k=V}k!==null?(s.memoizedState={dehydrated:k,treeContext:sr!==null?{id:vi,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},V=ir(18,null,null,0),V.stateNode=k,V.return=s,s.child=V,Ma=s,Dn=null,V=!0):V=!1}V||Ds(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return p1(k)?s.lanes=32:s.lanes=536870912,null;as(s)}return k=h.children,h=h.fallback,y?(ns(),y=s.mode,k=Fa({mode:"hidden",children:k},y),h=Qi(h,y,d,null),k.return=s,h.return=s,k.sibling=h,s.child=k,y=s.child,y.memoizedState=qs(d),y.childLanes=Vs(r,D,d),s.memoizedState=Yd,h):(Hs(s),Po(s,k))}if(V=r.memoizedState,V!==null&&(k=V.dehydrated,k!==null)){if(x)s.flags&256?(Hs(s),s.flags&=-257,s=fr(r,s,d)):s.memoizedState!==null?(ns(),s.child=r.child,s.flags|=128,s=null):(ns(),y=h.fallback,k=s.mode,h=Fa({mode:"visible",children:h.children},k),y=Qi(y,k,d,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,Uo(s,r.child,null,d),h=s.child,h.memoizedState=qs(d),h.childLanes=Vs(r,D,d),s.memoizedState=Yd,s=y);else if(Hs(s),p1(k)){if(D=k.nextSibling&&k.nextSibling.dataset,D)var oe=D.dgst;D=oe,h=Error(a(419)),h.stack="",h.digest=D,Ao({value:h,source:null,stack:null}),s=fr(r,s,d)}else if(vn||kl(r,s,d,!1),D=(d&r.childLanes)!==0,vn||D){if(D=yn,D!==null&&(h=d&-d,h=(h&42)!==0?1:Gi(h),h=(h&(D.suspendedLanes|d))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,mi(r,h),Jn(D,r,h),Tm;k.data==="$?"||Di(),s=fr(r,s,d)}else k.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,Dn=ds(k.nextSibling),Ma=s,Xt=!0,jl=null,yi=!1,r!==null&&(wr[zr++]=vi,wr[zr++]=Qr,wr[zr++]=sr,vi=r.id,Qr=r.overflow,sr=s),s=Po(s,h.children),s.flags|=4096);return s}return y?(ns(),y=h.fallback,k=s.mode,V=r.child,oe=V.sibling,h=pi(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,oe!==null?y=pi(oe,y):(y=Qi(y,k,d,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,k=r.child.memoizedState,k===null?k=qs(d):(V=k.cachePool,V!==null?(oe=Kn._currentValue,V=V.parent!==oe?{parent:oe,pool:oe}:V):V=lr(),k={baseLanes:k.baseLanes|d,cachePool:V}),y.memoizedState=k,y.childLanes=Vs(r,D,d),s.memoizedState=Yd,h):(Hs(s),d=r.child,r=d.sibling,d=pi(d,{mode:"visible",children:h.children}),d.return=s,d.sibling=null,r!==null&&(D=s.deletions,D===null?(s.deletions=[r],s.flags|=16):D.push(r)),s.child=d,s.memoizedState=null,d)}function Po(r,s){return s=Fa({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Fa(r,s){return r=ir(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function fr(r,s,d){return Uo(s,r.child,null,d),r=Po(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ys(r,s,d){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Cd(r.return,s,d)}function Jr(r,s,d,h,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=d,x.tailMode=y)}function Ti(r,s,d){var h=s.pendingProps,y=h.revealOrder,x=h.tail;if(ua(r,s,h.children,d),h=Lt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ys(r,d,s);else if(r.tag===19)Ys(r,d,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(Te(Lt,h),y){case"forwards":for(d=s.child,y=null;d!==null;)r=d.alternate,r!==null&&sc(r)===null&&(y=d),d=d.sibling;d=y,d===null?(y=s.child,s.child=null):(y=d.sibling,d.sibling=null),Jr(s,!1,y,d,x);break;case"backwards":for(d=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&sc(r)===null){s.child=y;break}r=y.sibling,y.sibling=d,d=y,y=r}Jr(s,!0,d,null,x);break;case"together":Jr(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rn(r,s,d){if(r!==null&&(s.dependencies=r.dependencies),_n|=s.lanes,(d&s.childLanes)===0)if(r!==null){if(kl(r,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,d=pi(r,r.pendingProps),s.child=d,d.return=s;r.sibling!==null;)r=r.sibling,d=d.sibling=pi(r,r.pendingProps),d.return=s;d.sibling=null}return s.child}function Zl(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Td(r)))}function Zs(r,s,d){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),Ur(s,Kn,r.memoizedState.cache),To();break;case 27:case 5:rt(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:Ur(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Hs(s),s.flags|=128,null):(d&s.child.childLanes)!==0?uc(r,s,d):(Hs(s),r=Rn(r,s,d),r!==null?r.sibling:null);Hs(s);break;case 19:var y=(r.flags&128)!==0;if(h=(d&s.childLanes)!==0,h||(kl(r,s,d,!1),h=(d&s.childLanes)!==0),y){if(h)return Ti(r,s,d);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Te(Lt,Lt.current),h)break;return null;case 22:case 23:return s.lanes=0,Om(r,s,d);case 24:Ur(s,Kn,r.memoizedState.cache)}return Rn(r,s,d)}function cc(r,s,d){if(r!==null)if(r.memoizedProps!==s.pendingProps)vn=!0;else{if(!Zl(r,d)&&(s.flags&128)===0)return vn=!1,Zs(r,s,d);vn=(r.flags&131072)!==0}else vn=!1,Xt&&(s.flags&1048576)!==0&&yh(s,Vu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var h=s.elementType,y=h._init;if(h=y(h._payload),s.type=h,typeof h=="function")Eo(h)?(r=rs(h,r),s.tag=1,s=$h(null,s,h,r,d)):(s.tag=0,s=Ka(null,s,h,r,d));else{if(h!=null){if(y=h.$$typeof,y===L){s.tag=11,s=Am(null,s,h,r,d);break e}else if(y===Y){s.tag=14,s=Gd(null,s,h,r,d);break e}}throw s=ce(h)||h,Error(a(306,s,""))}}return s;case 0:return Ka(r,s,s.type,s.pendingProps,d);case 1:return h=s.type,y=rs(h,s.pendingProps),$h(r,s,h,y,d);case 3:e:{if(Ie(s,s.stateNode.containerInfo),r===null)throw Error(a(387));h=s.pendingProps;var x=s.memoizedState;y=x.element,Ku(r,s),Ls(s,h,null,d);var D=s.memoizedState;if(h=D.cache,Ur(s,Kn,h),h!==x.cache&&nn(s,[Kn],d,!0),Fu(),h=D.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Vd(r,s,h,d);break e}else if(h!==y){y=sa(Error(a(424)),s),Ao(y),s=Vd(r,s,h,d);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Dn=ds(r.firstChild),Ma=s,Xt=!0,jl=null,yi=!0,d=Kh(s,null,h,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(To(),h===y){s=Rn(r,s,d);break e}ua(r,s,h,d)}s=s.child}return s;case 26:return Gs(r,s),r===null?(d=Ub(s.type,null,s.pendingProps,null))?s.memoizedState=d:Xt||(d=s.type,r=s.pendingProps,h=Lm(ue.current).createElement(d),h[le]=s,h[Oe]=r,Ja(h,d,r),Ht(h),s.stateNode=h):s.memoizedState=Ub(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return rt(s),r===null&&Xt&&(h=s.stateNode=jb(s.type,s.pendingProps,ue.current),Ma=s,yi=!0,y=Dn,Qo(s.type)?(v1=y,Dn=ds(h.firstChild)):Dn=y),ua(r,s,s.pendingProps.children,d),Gs(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xt&&((y=h=Dn)&&(h=$w(h,s.type,s.pendingProps,yi),h!==null?(s.stateNode=h,Ma=s,Dn=ds(h.firstChild),yi=!1,y=!0):y=!1),y||Ds(s)),rt(s),y=s.type,x=s.pendingProps,D=r!==null?r.memoizedProps:null,h=x.children,h1(y,x)?h=null:D!==null&&h1(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=or(r,s,oa,null,null,d),u0._currentValue=y),Gs(r,s),ua(r,s,h,d),s.child;case 6:return r===null&&Xt&&((r=d=Dn)&&(d=Ww(d,s.pendingProps,yi),d!==null?(s.stateNode=d,Ma=s,Dn=null,r=!0):r=!1),r||Ds(s)),null;case 13:return uc(r,s,d);case 4:return Ie(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Uo(s,null,h,d):ua(r,s,h,d),s.child;case 11:return Am(r,s,s.type,s.pendingProps,d);case 7:return ua(r,s,s.pendingProps,d),s.child;case 8:return ua(r,s,s.pendingProps.children,d),s.child;case 12:return ua(r,s,s.pendingProps.children,d),s.child;case 10:return h=s.pendingProps,Ur(s,s.type,h.value),ua(r,s,h.children,d),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,ks(s),y=Da(y),h=h(y),s.flags|=1,ua(r,s,h,d),s.child;case 14:return Gd(r,s,s.type,s.pendingProps,d);case 15:return Rm(r,s,s.type,s.pendingProps,d);case 19:return Ti(r,s,d);case 31:return h=s.pendingProps,d=s.mode,h={mode:h.mode,children:h.children},r===null?(d=Fa(h,d),d.ref=s.ref,s.child=d,d.return=s,s=d):(d=pi(r.child,h),d.ref=s.ref,s.child=d,d.return=s,s=d),s;case 22:return Om(r,s,d);case 24:return ks(s),h=Da(Kn),r===null?(y=Nt(),y===null&&(y=yn,x=Ro(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=d),y=x),s.memoizedState={parent:h,cache:y},Xu(s),Ur(s,Kn,y)):((r.lanes&d)!==0&&(Ku(r,s),Ls(s,null,null,d),Fu()),y=r.memoizedState,x=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ur(s,Kn,h)):(h=x.cache,Ur(s,Kn,h),h!==y.cache&&nn(s,[Kn],d,!0))),ua(r,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Pn(r){r.flags|=4}function Qn(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Gb(s)){if(s=Er.current,s!==null&&((Vt&4194048)===Vt?Ci!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||s!==Ci))throw Iu=Us,Zg;r.flags|=8192}}function It(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?dn():536870912,r.lanes|=s,Yo|=s)}function ei(r,s){if(!Xt)switch(r.tailMode){case"hidden":s=r.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function en(r){var s=r.alternate!==null&&r.alternate.child===r.child,d=0,h=0;if(s)for(var y=r.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=d,s}function Wh(r,s,d){var h=s.pendingProps;switch(wd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return en(s),null;case 3:return d=s.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),_i(Kn),dt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(js(s)?Pn(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sh())),en(s),null;case 26:return d=s.memoizedState,r===null?(Pn(s),d!==null?(en(s),Qn(s,d)):(en(s),s.flags&=-16777217)):d?d!==r.memoizedState?(Pn(s),en(s),Qn(s,d)):(en(s),s.flags&=-16777217):(r.memoizedProps!==h&&Pn(s),en(s),s.flags&=-16777217),null;case 27:xt(s),d=ue.current;var y=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Pn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return en(s),null}r=Ve.current,js(s)?_h(s):(r=jb(y,h,d),s.stateNode=r,Pn(s))}return en(s),null;case 5:if(xt(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Pn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return en(s),null}if(r=Ve.current,js(s))_h(s);else{switch(y=Lm(ue.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(d,{is:h.is}):y.createElement(d)}}r[le]=s,r[Oe]=h;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=r;e:switch(Ja(r,d,h),d){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Pn(s)}}return en(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==h&&Pn(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(r=ue.current,js(s)){if(r=s.stateNode,d=s.memoizedProps,h=null,y=Ma,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[le]=s,r=!!(r.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||Tb(r.nodeValue,d)),r||Ds(s)}else r=Lm(r).createTextNode(h),r[le]=s,s.stateNode=r}return en(s),null;case 13:if(h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=js(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[le]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),y=!1}else y=Sh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(as(s),s):(as(s),null)}if(as(s),(s.flags&128)!==0)return s.lanes=d,s;if(d=h!==null,r=r!==null&&r.memoizedState!==null,d){h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)}return d!==r&&d&&(s.child.flags|=8192),It(s,s.updateQueue),en(s),null;case 4:return dt(),r===null&&o1(s.stateNode.containerInfo),en(s),null;case 10:return _i(s.type),en(s),null;case 19:if(Ee(Lt),y=s.memoizedState,y===null)return en(s),null;if(h=(s.flags&128)!==0,x=y.rendering,x===null)if(h)ei(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=sc(r),x!==null){for(s.flags|=128,ei(y,!1),r=x.updateQueue,s.updateQueue=r,It(s,r),s.subtreeFlags=0,r=d,d=s.child;d!==null;)_d(d,r),d=d.sibling;return Te(Lt,Lt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ea()>Kl&&(s.flags|=128,h=!0,ei(y,!1),s.lanes=4194304)}else{if(!h)if(r=sc(x),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,It(s,r),ei(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Xt)return en(s),null}else 2*ea()-y.renderingStartTime>Kl&&d!==536870912&&(s.flags|=128,h=!0,ei(y,!1),s.lanes=4194304);y.isBackwards?(x.sibling=s.child,s.child=x):(r=y.last,r!==null?r.sibling=x:s.child=x,y.last=x)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ea(),s.sibling=null,r=Lt.current,Te(Lt,h?r&1|2:r&1),s):(en(s),null);case 22:case 23:return as(s),Rh(),h=s.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(d&536870912)!==0&&(s.flags&128)===0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),d=s.updateQueue,d!==null&&It(s,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048),r!==null&&Ee(Wi),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),_i(Kn),en(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Cr(r,s){switch(wd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return _i(Kn),dt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return xt(s),null;case 13:if(as(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ee(Lt),null;case 4:return dt(),null;case 10:return _i(s.type),null;case 22:case 23:return as(s),Rh(),r!==null&&Ee(Wi),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return _i(Kn),null;case 25:return null;default:return null}}function dc(r,s){switch(wd(s),s.tag){case 3:_i(Kn),dt();break;case 26:case 27:case 5:xt(s);break;case 4:dt();break;case 13:as(s);break;case 19:Ee(Lt);break;case 10:_i(s.type);break;case 22:case 23:as(s),Rh(),r!==null&&Ee(Wi);break;case 24:_i(Kn)}}function ti(r,s){try{var d=s.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var y=h.next;d=y;do{if((d.tag&r)===r){h=void 0;var x=d.create,D=d.inst;h=x(),D.destroy=h}d=d.next}while(d!==y)}}catch(k){te(s,s.return,k)}}function ja(r,s,d){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&r)===r){var D=h.inst,k=D.destroy;if(k!==void 0){D.destroy=void 0,y=s;var V=d,oe=k;try{oe()}catch(Se){te(y,V,Se)}}}h=h.next}while(h!==x)}}catch(Se){te(s,s.return,Se)}}function Mm(r){var s=r.updateQueue;if(s!==null){var d=r.stateNode;try{Ig(s,d)}catch(h){te(r,r.return,h)}}}function Dm(r,s,d){d.props=rs(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(h){te(r,s,h)}}function fc(r,s){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof d=="function"?r.refCleanup=d(h):d.current=h}}catch(y){te(r,s,y)}}function an(r,s){var d=r.ref,h=r.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(y){te(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){te(r,s,y)}else d.current=null}function hc(r){var s=r.type,d=r.memoizedProps,h=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(y){te(r,r.return,y)}}function Is(r,s,d){try{var h=r.stateNode;Iw(h,r.type,d,s),h[Oe]=s}catch(y){te(r,r.return,y)}}function Zd(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Qo(r.type)||r.tag===4}function Bo(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Zd(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Qo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gc(r,s,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(r),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Um));else if(h!==4&&(h===27&&Qo(r.type)&&(d=r.stateNode,s=null),r=r.child,r!==null))for(gc(r,s,d),r=r.sibling;r!==null;)gc(r,s,d),r=r.sibling}function ss(r,s,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?d.insertBefore(r,s):d.appendChild(r);else if(h!==4&&(h===27&&Qo(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(ss(r,s,d),r=r.sibling;r!==null;)ss(r,s,d),r=r.sibling}function Ho(r){var s=r.stateNode,d=r.memoizedProps;try{for(var h=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Ja(s,h,d),s[le]=r,s[Oe]=d}catch(x){te(r,r.return,x)}}var ni=!1,wn=!1,Xs=!1,Jh=typeof WeakSet=="function"?WeakSet:Set,jn=null;function n1(r,s){if(r=r.containerInfo,d1=Vm,r=gh(r),Rl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var D=0,k=-1,V=-1,oe=0,Se=0,Ae=r,me=null;t:for(;;){for(var pe;Ae!==d||y!==0&&Ae.nodeType!==3||(k=D+y),Ae!==x||h!==0&&Ae.nodeType!==3||(V=D+h),Ae.nodeType===3&&(D+=Ae.nodeValue.length),(pe=Ae.firstChild)!==null;)me=Ae,Ae=pe;for(;;){if(Ae===r)break t;if(me===d&&++oe===y&&(k=D),me===x&&++Se===h&&(V=D),(pe=Ae.nextSibling)!==null)break;Ae=me,me=Ae.parentNode}Ae=pe}d=k===-1||V===-1?null:{start:k,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(f1={focusedElem:r,selectionRange:d},Vm=!1,jn=s;jn!==null;)if(s=jn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,jn=r;else for(;jn!==null;){switch(s=jn,x=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,d=s,y=x.memoizedProps,x=x.memoizedState,h=d.stateNode;try{var _t=rs(d.type,y,d.elementType===d.type);r=h.getSnapshotBeforeUpdate(_t,x),h.__reactInternalSnapshotBeforeUpdate=r}catch(gt){te(d,d.return,gt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,d=r.nodeType,d===9)m1(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":m1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,jn=r;break}jn=s.return}}function Go(r,s,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:qt(r,d),h&4&&ti(5,d);break;case 1:if(qt(r,d),h&4)if(r=d.stateNode,s===null)try{r.componentDidMount()}catch(D){te(d,d.return,D)}else{var y=rs(d.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){te(d,d.return,D)}}h&64&&Mm(d),h&512&&fc(d,d.return);break;case 3:if(qt(r,d),h&64&&(r=d.updateQueue,r!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{Ig(r,s)}catch(D){te(d,d.return,D)}}break;case 27:s===null&&h&4&&Ho(d);case 26:case 5:qt(r,d),s===null&&h&4&&hc(d),h&512&&fc(d,d.return);break;case 12:qt(r,d);break;case 13:qt(r,d),h&4&&Il(r,d),h&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Xe.bind(null,d),Jw(r,d))));break;case 22:if(h=d.memoizedState!==null||ni,!h){s=s!==null&&s.memoizedState!==null||wn,y=ni;var x=wn;ni=h,(wn=s)&&!x?ai(r,d,(d.subtreeFlags&8772)!==0):qt(r,d),ni=y,wn=x}break;case 30:break;default:qt(r,d)}}function Id(r){var s=r.alternate;s!==null&&(r.alternate=null,Id(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&at(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bn=null,ya=!1;function hr(r,s,d){for(d=d.child;d!==null;)Tr(r,s,d),d=d.sibling}function Tr(r,s,d){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ye,d)}catch{}switch(d.tag){case 26:wn||an(d,s),hr(r,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:wn||an(d,s);var h=bn,y=ya;Qo(d.type)&&(bn=d.stateNode,ya=!1),hr(r,s,d),i0(d.stateNode),bn=h,ya=y;break;case 5:wn||an(d,s);case 6:if(h=bn,y=ya,bn=null,hr(r,s,d),bn=h,ya=y,bn!==null)if(ya)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(d.stateNode)}catch(x){te(d,s,x)}else try{bn.removeChild(d.stateNode)}catch(x){te(d,s,x)}break;case 18:bn!==null&&(ya?(r=bn,Mb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),h0(r)):Mb(bn,d.stateNode));break;case 4:h=bn,y=ya,bn=d.stateNode.containerInfo,ya=!0,hr(r,s,d),bn=h,ya=y;break;case 0:case 11:case 14:case 15:wn||ja(2,d,s),wn||ja(4,d,s),hr(r,s,d);break;case 1:wn||(an(d,s),h=d.stateNode,typeof h.componentWillUnmount=="function"&&Dm(d,s,h)),hr(r,s,d);break;case 21:hr(r,s,d);break;case 22:wn=(h=wn)||d.memoizedState!==null,hr(r,s,d),wn=h;break;default:hr(r,s,d)}}function Il(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{h0(r)}catch(d){te(s,s.return,d)}}function e0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Jh),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Jh),s;default:throw Error(a(435,r.tag))}}function Ai(r,s){var d=e0(r);s.forEach(function(h){var y=Tt.bind(null,r,h);d.has(h)||(d.add(h),h.then(y,y))})}function Qa(r,s){var d=s.deletions;if(d!==null)for(var h=0;h<d.length;h++){var y=d[h],x=r,D=s,k=D;e:for(;k!==null;){switch(k.tag){case 27:if(Qo(k.type)){bn=k.stateNode,ya=!1;break e}break;case 5:bn=k.stateNode,ya=!1;break e;case 3:case 4:bn=k.stateNode.containerInfo,ya=!0;break e}k=k.return}if(bn===null)throw Error(a(160));Tr(x,D,y),bn=null,ya=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)mc(s,r),s=s.sibling}var za=null;function mc(r,s){var d=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qa(s,r),$n(r),h&4&&(ja(3,r,r.return),ti(3,r),ja(5,r,r.return));break;case 1:Qa(s,r),$n(r),h&512&&(wn||d===null||an(d,d.return)),h&64&&ni&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var y=za;if(Qa(s,r),$n(r),h&512&&(wn||d===null||an(d,d.return)),h&4){var x=d!==null?d.memoizedState:null;if(h=r.memoizedState,d===null)if(h===null)if(r.stateNode===null){e:{h=r.type,d=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[st]||x[le]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),Ja(x,h,d),x[le]=r,Ht(x),h=x;break e;case"link":var D=Bb("link","href",y).get(h+(d.href||""));if(D){for(var k=0;k<D.length;k++)if(x=D[k],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(k,1);break t}}x=y.createElement(h),Ja(x,h,d),y.head.appendChild(x);break;case"meta":if(D=Bb("meta","content",y).get(h+(d.content||""))){for(k=0;k<D.length;k++)if(x=D[k],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(k,1);break t}}x=y.createElement(h),Ja(x,h,d),y.head.appendChild(x);break;default:throw Error(a(468,h))}x[le]=r,Ht(x),h=x}r.stateNode=h}else Hb(y,r.type,r.stateNode);else r.stateNode=Pb(y,h,r.memoizedProps);else x!==h?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,h===null?Hb(y,r.type,r.stateNode):Pb(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Is(r,r.memoizedProps,d.memoizedProps)}break;case 27:Qa(s,r),$n(r),h&512&&(wn||d===null||an(d,d.return)),d!==null&&h&4&&Is(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Qa(s,r),$n(r),h&512&&(wn||d===null||an(d,d.return)),r.flags&32){y=r.stateNode;try{Sl(y,"")}catch(pe){te(r,r.return,pe)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Is(r,y,d!==null?d.memoizedProps:y)),h&1024&&(Xs=!0);break;case 6:if(Qa(s,r),$n(r),h&4){if(r.stateNode===null)throw Error(a(162));h=r.memoizedProps,d=r.stateNode;try{d.nodeValue=h}catch(pe){te(r,r.return,pe)}}break;case 3:if(Hm=null,y=za,za=Pm(s.containerInfo),Qa(s,r),za=y,$n(r),h&4&&d!==null&&d.memoizedState.isDehydrated)try{h0(s.containerInfo)}catch(pe){te(r,r.return,pe)}Xs&&(Xs=!1,At(r));break;case 4:h=za,za=Pm(r.stateNode.containerInfo),Qa(s,r),$n(r),za=h;break;case 12:Qa(s,r),$n(r);break;case 13:Qa(s,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Io=ea()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ai(r,h)));break;case 22:y=r.memoizedState!==null;var V=d!==null&&d.memoizedState!==null,oe=ni,Se=wn;if(ni=oe||y,wn=Se||V,Qa(s,r),wn=Se,ni=oe,$n(r),h&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(d===null||V||ni||wn||En(r)),d=null,s=r;;){if(s.tag===5||s.tag===26){if(d===null){V=d=s;try{if(x=V.stateNode,y)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{k=V.stateNode;var Ae=V.memoizedProps.style,me=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;k.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(pe){te(V,V.return,pe)}}}else if(s.tag===6){if(d===null){V=s;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(pe){te(V,V.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=r.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Ai(r,d))));break;case 19:Qa(s,r),$n(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ai(r,h)));break;case 30:break;case 21:break;default:Qa(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{for(var d,h=r.return;h!==null;){if(Zd(h)){d=h;break}h=h.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,x=Bo(r);ss(r,x,y);break;case 5:var D=d.stateNode;d.flags&32&&(Sl(D,""),d.flags&=-33);var k=Bo(r);ss(r,k,D);break;case 3:case 4:var V=d.stateNode.containerInfo,oe=Bo(r);gc(r,oe,V);break;default:throw Error(a(161))}}catch(Se){te(r,r.return,Se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function At(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;At(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function qt(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Go(r,s.alternate,s),s=s.sibling}function En(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ja(4,s,s.return),En(s);break;case 1:an(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&Dm(s,s.return,d),En(s);break;case 27:i0(s.stateNode);case 26:case 5:an(s,s.return),En(s);break;case 22:s.memoizedState===null&&En(s);break;case 30:En(s);break;default:En(s)}r=r.sibling}}function ai(r,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=r,x=s,D=x.flags;switch(x.tag){case 0:case 11:case 15:ai(y,x,d),ti(4,x);break;case 1:if(ai(y,x,d),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(oe){te(h,h.return,oe)}if(h=x,y=h.updateQueue,y!==null){var k=h.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)ut(V[y],k)}catch(oe){te(h,h.return,oe)}}d&&D&64&&Mm(x),fc(x,x.return);break;case 27:Ho(x);case 26:case 5:ai(y,x,d),d&&h===null&&D&4&&hc(x),fc(x,x.return);break;case 12:ai(y,x,d);break;case 13:ai(y,x,d),d&&D&4&&Il(y,x);break;case 22:x.memoizedState===null&&ai(y,x,d),fc(x,x.return);break;case 30:break;default:ai(y,x,d)}s=s.sibling}}function Ks(r,s){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&$r(d))}function ls(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$r(r))}function Ar(r,s,d,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qo(r,s,d,h),s=s.sibling}function qo(r,s,d,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Ar(r,s,d,h),y&2048&&ti(9,s);break;case 1:Ar(r,s,d,h);break;case 3:Ar(r,s,d,h),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$r(r)));break;case 12:if(y&2048){Ar(r,s,d,h),r=s.stateNode;try{var x=s.memoizedProps,D=x.id,k=x.onPostCommit;typeof k=="function"&&k(D,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){te(s,s.return,V)}}else Ar(r,s,d,h);break;case 13:Ar(r,s,d,h);break;case 23:break;case 22:x=s.stateNode,D=s.alternate,s.memoizedState!==null?x._visibility&2?Ar(r,s,d,h):pc(r,s):x._visibility&2?Ar(r,s,d,h):(x._visibility|=2,ri(r,s,d,h,(s.subtreeFlags&10256)!==0)),y&2048&&Ks(D,s);break;case 24:Ar(r,s,d,h),y&2048&&ls(s.alternate,s);break;default:Ar(r,s,d,h)}}function ri(r,s,d,h,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=r,D=s,k=d,V=h,oe=D.flags;switch(D.tag){case 0:case 11:case 15:ri(x,D,k,V,y),ti(8,D);break;case 23:break;case 22:var Se=D.stateNode;D.memoizedState!==null?Se._visibility&2?ri(x,D,k,V,y):pc(x,D):(Se._visibility|=2,ri(x,D,k,V,y)),y&&oe&2048&&Ks(D.alternate,D);break;case 24:ri(x,D,k,V,y),y&&oe&2048&&ls(D.alternate,D);break;default:ri(x,D,k,V,y)}s=s.sibling}}function pc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=r,h=s,y=h.flags;switch(h.tag){case 22:pc(d,h),y&2048&&Ks(h.alternate,h);break;case 24:pc(d,h),y&2048&&ls(h.alternate,h);break;default:pc(d,h)}s=s.sibling}}var Fs=8192;function Xl(r){if(r.subtreeFlags&Fs)for(r=r.child;r!==null;)t0(r),r=r.sibling}function t0(r){switch(r.tag){case 26:Xl(r),r.flags&Fs&&r.memoizedState!==null&&f8(za,r.memoizedState,r.memoizedProps);break;case 5:Xl(r);break;case 3:case 4:var s=za;za=Pm(r.stateNode.containerInfo),Xl(r),za=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Fs,Fs=16777216,Xl(r),Fs=s):Xl(r));break;default:Xl(r)}}function jm(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ri(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var h=s[d];jn=h,n0(h,r)}jm(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vo(r),r=r.sibling}function Vo(r){switch(r.tag){case 0:case 11:case 15:Ri(r),r.flags&2048&&ja(9,r,r.return);break;case 3:Ri(r);break;case 12:Ri(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,os(r)):Ri(r);break;default:Ri(r)}}function os(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var h=s[d];jn=h,n0(h,r)}jm(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ja(8,s,s.return),os(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,os(s));break;default:os(s)}r=r.sibling}}function n0(r,s){for(;jn!==null;){var d=jn;switch(d.tag){case 0:case 11:case 15:ja(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:$r(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,jn=h;else e:for(d=r;jn!==null;){h=jn;var y=h.sibling,x=h.return;if(Id(h),h===d){jn=null;break e}if(y!==null){y.return=x,jn=y;break e}jn=x}}}var Pr={getCacheForType:function(r){var s=Da(Kn),d=s.data.get(r);return d===void 0&&(d=r(),s.data.set(r,d)),d}},Oi=typeof WeakMap=="function"?WeakMap:Map,yt=0,yn=null,Ut=null,Vt=0,bt=0,$a=null,ka=!1,Cn=!1,vc=!1,Ni=0,Dt=0,_n=0,Wn=0,Rr=0,ba=0,Yo=0,Qs=null,_a=null,Zo=!1,Io=0,Kl=1/0,$s=null,Ws=null,ct=0,Kt=null,Et=null,jt=0,rn=0,Wa=null,us=null,Mi=0,yc=null;function Zn(){if((yt&2)!==0&&Vt!==0)return Vt&-Vt;if(B.T!==null){var r=Oo;return r!==0?r:r1()}return yl()}function Bn(){ba===0&&(ba=(Vt&536870912)===0||Xt?Ot():536870912);var r=Er.current;return r!==null&&(r.flags|=32),ba}function Jn(r,s,d){(r===yn&&(bt===2||bt===9)||r.cancelPendingCommit!==null)&&(tl(r,0),Or(r,Vt,ba,!1)),Kr(r,d),((yt&2)===0||r!==yn)&&(r===yn&&((yt&2)===0&&(Wn|=d),Dt===4&&Or(r,Vt,ba,!1)),Je(r))}function Js(r,s,d){if((yt&6)!==0)throw Error(a(327));var h=!d&&(s&124)===0&&(s&r.expiredLanes)===0||ke(r,s),y=h?Ko(r,s):na(r,s,!0),x=h;do{if(y===0){Cn&&!h&&Or(r,s,0,!1);break}else{if(d=r.current.alternate,x&&!Br(d)){y=na(r,s,!1),x=!1;continue}if(y===2){if(x=s,r.errorRecoveryDisabledLanes&x)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var k=r;y=Qs;var V=k.current.memoizedState.isDehydrated;if(V&&(tl(k,D).flags|=256),D=na(k,D,!1),D!==2){if(vc&&!V){k.errorRecoveryDisabledLanes|=x,Wn|=x,y=4;break e}x=_a,_a=y,x!==null&&(_a===null?_a=x:_a.push.apply(_a,x))}y=D}if(x=!1,y!==2)continue}}if(y===1){tl(r,0),Or(r,s,0,!0);break}e:{switch(h=r,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Or(h,s,ba,!ka);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Io+300-ea(),10<y)){if(Or(h,s,ba,!ka),Re(h,0,!0)!==0)break e;h.timeoutHandle=Ob(Xd.bind(null,h,d,_a,$s,Zo,s,ba,Wn,Yo,ka,x,2,-0,0),y);break e}Xd(h,d,_a,$s,Zo,s,ba,Wn,Yo,ka,x,0,-0,0)}}break}while(!0);Je(r)}function Xd(r,s,d,h,y,x,D,k,V,oe,Se,Ae,me,pe){if(r.timeoutHandle=-1,Ae=s.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(o0={stylesheets:null,count:0,unsuspend:d8},t0(s),Ae=h8(),Ae!==null)){r.cancelPendingCommit=Ae(o.bind(null,r,s,x,d,h,y,D,k,V,Se,1,me,pe)),Or(r,x,D,!oe);return}o(r,s,x,d,h,y,D,k,V)}function Br(r){for(var s=r;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var y=d[h],x=y.getSnapshot;y=y.value;try{if(!Sr(x(),y))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Or(r,s,d,h){s&=~Rr,s&=~Wn,r.suspendedLanes|=s,r.pingedLanes&=~s,h&&(r.warmLanes|=s),h=r.expirationTimes;for(var y=s;0<y;){var x=31-Wt(y),D=1<<x;h[x]=-1,y&=~D}d!==0&&xs(r,d,s)}function el(){return(yt&6)===0?(fn(0),!1):!0}function Ua(){if(Ut!==null){if(bt===0)var r=Ut.return;else r=Ut,bi=zs=null,Nh(r),ko=null,Xa=0,r=Ut;for(;r!==null;)dc(r.alternate,r),r=r.return;Ut=null}}function tl(r,s){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,Kw(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Ua(),yn=r,Ut=d=pi(r.current,null),Vt=s,bt=0,$a=null,ka=!1,Cn=ke(r,s),vc=!1,Yo=ba=Rr=Wn=_n=Dt=0,_a=Qs=null,Zo=!1,(s&8)!==0&&(s|=s&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=s;0<h;){var y=31-Wt(h),x=1<<y;s|=r[y],h&=~x}return Ni=s,xr(),d}function Kd(r,s){Mt=null,B.H=Ld,s===Pl||s===Bl?(s=Ch(),bt=3):s===Zg?(s=Ch(),bt=4):bt=s===Tm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$a=s,Ut===null&&(Dt=1,Bd(r,sa(s,r.current)))}function Xo(){var r=B.H;return B.H=Ld,r===null?Ld:r}function bc(){var r=B.A;return B.A=Pr,r}function Di(){Dt=4,ka||(Vt&4194048)!==Vt&&Er.current!==null||(Cn=!0),(_n&134217727)===0&&(Wn&134217727)===0||yn===null||Or(yn,Vt,ba,!1)}function na(r,s,d){var h=yt;yt|=2;var y=Xo(),x=bc();(yn!==r||Vt!==s)&&($s=null,tl(r,s)),s=!1;var D=Dt;e:do try{if(bt!==0&&Ut!==null){var k=Ut,V=$a;switch(bt){case 8:Ua(),D=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(s=!0);var oe=bt;if(bt=0,$a=null,Fl(r,k,V,oe),d&&Cn){D=0;break e}break;default:oe=bt,bt=0,$a=null,Fl(r,k,V,oe)}}nl(),D=Dt;break}catch(Se){Kd(r,Se)}while(!0);return s&&r.shellSuspendCounter++,bi=zs=null,yt=h,B.H=y,B.A=x,Ut===null&&(yn=null,Vt=0,xr()),D}function nl(){for(;Ut!==null;)Fd(Ut)}function Ko(r,s){var d=yt;yt|=2;var h=Xo(),y=bc();yn!==r||Vt!==s?($s=null,Kl=ea()+500,tl(r,s)):Cn=ke(r,s);e:do try{if(bt!==0&&Ut!==null){s=Ut;var x=$a;t:switch(bt){case 1:bt=0,$a=null,Fl(r,s,x,1);break;case 2:case 9:if(Hl(x)){bt=0,$a=null,Qd(s);break}s=function(){bt!==2&&bt!==9||yn!==r||(bt=7),Je(r)},x.then(s,s);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:Hl(x)?(bt=0,$a=null,Qd(s)):(bt=0,$a=null,Fl(r,s,x,7));break;case 5:var D=null;switch(Ut.tag){case 26:D=Ut.memoizedState;case 5:case 27:var k=Ut;if(!D||Gb(D)){bt=0,$a=null;var V=k.sibling;if(V!==null)Ut=V;else{var oe=k.return;oe!==null?(Ut=oe,al(oe)):Ut=null}break t}}bt=0,$a=null,Fl(r,s,x,5);break;case 6:bt=0,$a=null,Fl(r,s,x,6);break;case 8:Ua(),Dt=6;break e;default:throw Error(a(462))}}Fo();break}catch(Se){Kd(r,Se)}while(!0);return bi=zs=null,B.H=h,B.A=y,yt=d,Ut!==null?0:(yn=null,Vt=0,xr(),Dt)}function Fo(){for(;Ut!==null&&!Ha();)Fd(Ut)}function Fd(r){var s=cc(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,s===null?al(r):Ut=s}function Qd(r){var s=r,d=s.alternate;switch(s.tag){case 15:case 0:s=qd(d,s,s.pendingProps,s.type,void 0,Vt);break;case 11:s=qd(d,s,s.pendingProps,s.type.render,s.ref,Vt);break;case 5:Nh(s);default:dc(d,s),s=Ut=_d(s,Ni),s=cc(d,s,Ni)}r.memoizedProps=r.pendingProps,s===null?al(r):Ut=s}function Fl(r,s,d,h){bi=zs=null,Nh(s),ko=null,Xa=0;var y=s.return;try{if(t1(r,y,s,d,Vt)){Dt=1,Bd(r,sa(d,r.current)),Ut=null;return}}catch(x){if(y!==null)throw Ut=y,x;Dt=1,Bd(r,sa(d,r.current)),Ut=null;return}s.flags&32768?(Xt||h===1?r=!0:Cn||(Vt&536870912)!==0?r=!1:(ka=r=!0,(h===2||h===9||h===3||h===6)&&(h=Er.current,h!==null&&h.tag===13&&(h.flags|=16384))),$d(s,r)):al(s)}function al(r){var s=r;do{if((s.flags&32768)!==0){$d(s,ka);return}r=s.return;var d=Wh(s.alternate,s,Ni);if(d!==null){Ut=d;return}if(s=s.sibling,s!==null){Ut=s;return}Ut=s=r}while(s!==null);Dt===0&&(Dt=5)}function $d(r,s){do{var d=Cr(r.alternate,r);if(d!==null){d.flags&=32767,Ut=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(r=r.sibling,r!==null)){Ut=r;return}Ut=r=d}while(r!==null);Dt=6,Ut=null}function o(r,s,d,h,y,x,D,k,V){r.cancelPendingCommit=null;do A();while(ct!==0);if((yt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(x=s.lanes|s.childLanes,x|=Pu,Xc(r,d,x,D,k,V),r===yn&&(Ut=yn=null,Vt=0),Et=s,Kt=r,jt=d,rn=x,Wa=y,us=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Hr(re,function(){return P(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,y=ae.p,ae.p=2,D=yt,yt|=4;try{n1(r,s,d)}finally{yt=D,ae.p=y,B.T=h}}ct=1,c(),m(),b()}}function c(){if(ct===1){ct=0;var r=Kt,s=Et,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var h=ae.p;ae.p=2;var y=yt;yt|=4;try{mc(s,r);var x=f1,D=gh(r.containerInfo),k=x.focusedElem,V=x.selectionRange;if(D!==k&&k&&k.ownerDocument&&hh(k.ownerDocument.documentElement,k)){if(V!==null&&Rl(k)){var oe=V.start,Se=V.end;if(Se===void 0&&(Se=oe),"selectionStart"in k)k.selectionStart=oe,k.selectionEnd=Math.min(Se,k.value.length);else{var Ae=k.ownerDocument||document,me=Ae&&Ae.defaultView||window;if(me.getSelection){var pe=me.getSelection(),_t=k.textContent.length,gt=Math.min(V.start,_t),An=V.end===void 0?gt:Math.min(V.end,_t);!pe.extend&&gt>An&&(D=An,An=gt,gt=D);var J=Ki(k,gt),F=Ki(k,An);if(J&&F&&(pe.rangeCount!==1||pe.anchorNode!==J.node||pe.anchorOffset!==J.offset||pe.focusNode!==F.node||pe.focusOffset!==F.offset)){var ie=Ae.createRange();ie.setStart(J.node,J.offset),pe.removeAllRanges(),gt>An?(pe.addRange(ie),pe.extend(F.node,F.offset)):(ie.setEnd(F.node,F.offset),pe.addRange(ie))}}}}for(Ae=[],pe=k;pe=pe.parentNode;)pe.nodeType===1&&Ae.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Ae.length;k++){var we=Ae[k];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Vm=!!d1,f1=d1=null}finally{yt=y,ae.p=h,B.T=d}}r.current=s,ct=2}}function m(){if(ct===2){ct=0;var r=Kt,s=Et,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var h=ae.p;ae.p=2;var y=yt;yt|=4;try{Go(r,s.alternate,s)}finally{yt=y,ae.p=h,B.T=d}}ct=3}}function b(){if(ct===4||ct===3){ct=0,ma();var r=Kt,s=Et,d=jt,h=us;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ct=5:(ct=0,Et=Kt=null,w(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Ws=null),ho(d),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ye,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,y=ae.p,ae.p=2,B.T=null;try{for(var x=r.onRecoverableError,D=0;D<h.length;D++){var k=h[D];x(k.value,{componentStack:k.stack})}}finally{B.T=s,ae.p=y}}(jt&3)!==0&&A(),Je(r),y=r.pendingLanes,(d&4194090)!==0&&(y&42)!==0?r===yc?Mi++:(Mi=0,yc=r):Mi=0,fn(0)}}function w(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,$r(s)))}function A(r){return c(),m(),b(),P()}function P(){if(ct!==5)return!1;var r=Kt,s=rn;rn=0;var d=ho(jt),h=B.T,y=ae.p;try{ae.p=32>d?32:d,B.T=null,d=Wa,Wa=null;var x=Kt,D=jt;if(ct=0,Et=Kt=null,jt=0,(yt&6)!==0)throw Error(a(331));var k=yt;if(yt|=4,Vo(x.current),qo(x,x.current,D,d),yt=k,fn(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ye,x)}catch{}return!0}finally{ae.p=y,B.T=h,w(r,s)}}function Z(r,s,d){s=sa(d,s),s=Lo(r.stateNode,s,2),r=Ia(r,s,2),r!==null&&(Kr(r,2),Je(r))}function te(r,s,d){if(r.tag===3)Z(r,r,d);else for(;s!==null;){if(s.tag===3){Z(s,r,d);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ws===null||!Ws.has(h))){r=sa(d,r),d=oc(2),h=Ia(s,d,2),h!==null&&(Hd(d,h,s,r),Kr(h,2),Je(h));break}}s=s.return}}function Ne(r,s,d){var h=r.pingCache;if(h===null){h=r.pingCache=new Oi;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(d)||(vc=!0,y.add(d),r=Ue.bind(null,r,s,d),s.then(r,r))}function Ue(r,s,d){var h=r.pingCache;h!==null&&h.delete(s),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,yn===r&&(Vt&d)===d&&(Dt===4||Dt===3&&(Vt&62914560)===Vt&&300>ea()-Io?(yt&2)===0&&tl(r,0):Rr|=d,Yo===Vt&&(Yo=0)),Je(r)}function Ze(r,s){s===0&&(s=dn()),r=mi(r,s),r!==null&&(Kr(r,s),Je(r))}function Xe(r){var s=r.memoizedState,d=0;s!==null&&(d=s.retryLane),Ze(r,d)}function Tt(r,s){var d=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(d=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),Ze(r,d)}function Hr(r,s){return ln(r,s)}var rl=null,Gr=null,de=!1,W=!1,ye=!1,De=0;function Je(r){r!==Gr&&r.next===null&&(Gr===null?rl=Gr=r:Gr=Gr.next=r),W=!0,de||(de=!0,a1())}function fn(r,s){if(!ye&&W){ye=!0;do for(var d=!1,h=rl;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var D=h.suspendedLanes,k=h.pingedLanes;x=(1<<31-Wt(42|r)+1)-1,x&=y&~(D&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,cs(h,x))}else x=Vt,x=Re(h,h===yn?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||ke(h,x)||(d=!0,cs(h,x));h=h.next}while(d);ye=!1}}function mt(){Ft()}function Ft(){W=de=!1;var r=0;De!==0&&(Xw()&&(r=De),De=0);for(var s=ea(),d=null,h=rl;h!==null;){var y=h.next,x=aa(h,s);x===0?(h.next=null,d===null?rl=y:d.next=y,y===null&&(Gr=d)):(d=h,(r!==0||(x&3)!==0)&&(W=!0)),h=y}fn(r)}function aa(r,s){for(var d=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var D=31-Wt(x),k=1<<D,V=y[D];V===-1?((k&d)===0||(k&h)!==0)&&(y[D]=Jt(k,s)):V<=s&&(r.expiredLanes|=k),x&=~k}if(s=yn,d=Vt,d=Re(r,r===s?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,d===0||r===s&&(bt===2||bt===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&gn(h),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||ke(r,d)){if(s=d&-d,s===r.callbackPriority)return s;switch(h!==null&&gn(h),ho(d)){case 2:case 8:d=I;break;case 32:d=re;break;case 268435456:d=He;break;default:d=re}return h=Qt.bind(null,r),d=ln(d,h),r.callbackPriority=s,r.callbackNode=d,s}return h!==null&&h!==null&&gn(h),r.callbackPriority=2,r.callbackNode=null,2}function Qt(r,s){if(ct!==0&&ct!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(A()&&r.callbackNode!==d)return null;var h=Vt;return h=Re(r,r===yn?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(Js(r,h,s),aa(r,ea()),r.callbackNode!=null&&r.callbackNode===d?Qt.bind(null,r):null)}function cs(r,s){if(A())return null;Js(r,s,!0)}function a1(){Fw(function(){(yt&6)!==0?ln(pr,mt):Ft()})}function r1(){return De===0&&(De=Ot()),De}function _b(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Jc(""+r)}function Sb(r,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,r.id&&d.setAttribute("form",r.id),s.parentNode.insertBefore(d,s),r=new FormData(r),d.parentNode.removeChild(d),r}function Hw(r,s,d,h,y){if(s==="submit"&&d&&d.stateNode===y){var x=_b((y[Oe]||null).action),D=h.submitter;D&&(s=(s=D[Oe]||null)?_b(s.formAction):D.getAttribute("formAction"),s!==null&&(x=s,D=null));var k=new Mu("action","action",null,h,y);r.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(De!==0){var V=D?Sb(y,D):new FormData(y);qh(d,{pending:!0,data:V,method:y.method,action:x},null,V)}}else typeof x=="function"&&(k.preventDefault(),V=D?Sb(y,D):new FormData(y),qh(d,{pending:!0,data:V,method:y.method,action:x},x,V))},currentTarget:y}]})}}for(var i1=0;i1<Oa.length;i1++){var s1=Oa[i1],Gw=s1.toLowerCase(),qw=s1[0].toUpperCase()+s1.slice(1);jr(Gw,"on"+qw)}jr(mh,"onAnimationEnd"),jr(Dr,"onAnimationIteration"),jr(bd,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Gg,"onTransitionRun"),jr(Fv,"onTransitionStart"),jr(ph,"onTransitionCancel"),jr(Ra,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var a0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(a0));function xb(r,s){s=(s&4)!==0;for(var d=0;d<r.length;d++){var h=r[d],y=h.event;h=h.listeners;e:{var x=void 0;if(s)for(var D=h.length-1;0<=D;D--){var k=h[D],V=k.instance,oe=k.currentTarget;if(k=k.listener,V!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=oe;try{x(y)}catch(Se){is(Se)}y.currentTarget=null,x=V}else for(D=0;D<h.length;D++){if(k=h[D],V=k.instance,oe=k.currentTarget,k=k.listener,V!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=oe;try{x(y)}catch(Se){is(Se)}y.currentTarget=null,x=V}}}}function Yt(r,s){var d=s[et];d===void 0&&(d=s[et]=new Set);var h=r+"__bubble";d.has(h)||(wb(s,r,2,!1),d.add(h))}function l1(r,s,d){var h=0;s&&(h|=4),wb(d,r,h,s)}var zm="_reactListening"+Math.random().toString(36).slice(2);function o1(r){if(!r[zm]){r[zm]=!0,mn.forEach(function(d){d!=="selectionchange"&&(Vw.has(d)||l1(d,!1,r),l1(d,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[zm]||(s[zm]=!0,l1("selectionchange",!1,s))}}function wb(r,s,d,h){switch(Xb(s)){case 2:var y=p8;break;case 8:y=v8;break;default:y=x1}d=y.bind(null,s,d,r),y=void 0,!td||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(s,d,{capture:!0,passive:y}):r.addEventListener(s,d,!0):y!==void 0?r.addEventListener(s,d,{passive:y}):r.addEventListener(s,d,!1)}function u1(r,s,d,h,y){var x=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var k=h.stateNode.containerInfo;if(k===y)break;if(D===4)for(D=h.return;D!==null;){var V=D.tag;if((V===3||V===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;k!==null;){if(D=Fe(k),D===null)return;if(V=D.tag,V===5||V===6||V===26||V===27){h=x=D;continue e}k=k.parentNode}}h=h.return}th(function(){var oe=x,Se=Cs(d),Ae=[];e:{var me=vh.get(r);if(me!==void 0){var pe=Mu,_t=r;switch(r){case"keypress":if(vo(d)===0)break e;case"keydown":case"keyup":pe=ld;break;case"focusin":_t="focus",pe=El;break;case"focusout":_t="blur",pe=El;break;case"beforeblur":case"afterblur":pe=El;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Mg;break;case mh:case Dr:case bd:pe=Cg;break;case Ra:pe=va;break;case"scroll":case"scrollend":pe=Zv;break;case"wheel":pe=jg;break;case"copy":case"cut":case"paste":pe=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=od;break;case"toggle":case"beforetoggle":pe=kg}var gt=(s&4)!==0,An=!gt&&(r==="scroll"||r==="scrollend"),J=gt?me!==null?me+"Capture":null:me;gt=[];for(var F=oe,ie;F!==null;){var we=F;if(ie=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ie===null||J===null||(we=mo(F,J),we!=null&&gt.push(r0(F,we,ie))),An)break;F=F.return}0<gt.length&&(me=new pe(me,_t,null,d,Se),Ae.push({event:me,listeners:gt}))}}if((s&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",me&&d!==ed&&(_t=d.relatedTarget||d.fromElement)&&(Fe(_t)||_t[Pe]))break e;if((pe||me)&&(me=Se.window===Se?Se:(me=Se.ownerDocument)?me.defaultView||me.parentWindow:window,pe?(_t=d.relatedTarget||d.toElement,pe=oe,_t=_t?Fe(_t):null,_t!==null&&(An=l(_t),gt=_t.tag,_t!==An||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(pe=null,_t=oe),pe!==_t)){if(gt=Du,we="onMouseLeave",J="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(gt=od,we="onPointerLeave",J="onPointerEnter",F="pointer"),An=pe==null?me:tn(pe),ie=_t==null?me:tn(_t),me=new gt(we,F+"leave",pe,d,Se),me.target=An,me.relatedTarget=ie,we=null,Fe(Se)===oe&&(gt=new gt(J,F+"enter",_t,d,Se),gt.target=ie,gt.relatedTarget=An,we=gt),An=we,pe&&_t)t:{for(gt=pe,J=_t,F=0,ie=gt;ie;ie=Wd(ie))F++;for(ie=0,we=J;we;we=Wd(we))ie++;for(;0<F-ie;)gt=Wd(gt),F--;for(;0<ie-F;)J=Wd(J),ie--;for(;F--;){if(gt===J||J!==null&&gt===J.alternate)break t;gt=Wd(gt),J=Wd(J)}gt=null}else gt=null;pe!==null&&Eb(Ae,me,pe,gt,!1),_t!==null&&An!==null&&Eb(Ae,An,_t,gt,!0)}}e:{if(me=oe?tn(oe):window,pe=me.nodeName&&me.nodeName.toLowerCase(),pe==="select"||pe==="input"&&me.type==="file")var tt=rr;else if(fd(me))if(dh)tt=Ln;else{tt=pd;var Bt=Bg}else pe=me.nodeName,!pe||pe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?oe&&Wc(oe.elementType)&&(tt=rr):tt=ku;if(tt&&(tt=tt(r,oe))){ch(Ae,tt,d,Se);break e}Bt&&Bt(r,me,oe),r==="focusout"&&oe&&me.type==="number"&&oe.memoizedProps.value!=null&&$c(me,"number",me.value)}switch(Bt=oe?tn(oe):window,r){case"focusin":(fd(Bt)||Bt.contentEditable==="true")&&(Ol=Bt,Uu=oe,wo=null);break;case"focusout":wo=Uu=Ol=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,vd(Ae,d,Se);break;case"selectionchange":if(hi)break;case"keydown":case"keyup":vd(Ae,d,Se)}var lt;if(_o)e:{switch(r){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else As?cd(r,d)&&(pt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(pt="onCompositionStart");pt&&(sh&&d.locale!=="ko"&&(As||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&As&&(lt=nh()):(Vi=Se,Ru="value"in Vi?Vi.value:Vi.textContent,As=!0)),Bt=km(oe,pt),0<Bt.length&&(pt=new Ii(pt,r,null,d,Se),Ae.push({event:pt,listeners:Bt}),lt?pt.data=lt:(lt=oh(d),lt!==null&&(pt.data=lt)))),(lt=Lg?dd(r,d):uh(r,d))&&(pt=km(oe,"onBeforeInput"),0<pt.length&&(Bt=new Ii("onBeforeInput","beforeinput",null,d,Se),Ae.push({event:Bt,listeners:pt}),Bt.data=lt)),Hw(Ae,r,oe,d,Se)}xb(Ae,s)})}function r0(r,s,d){return{instance:r,listener:s,currentTarget:d}}function km(r,s){for(var d=s+"Capture",h=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=mo(r,d),y!=null&&h.unshift(r0(r,y,x)),y=mo(r,s),y!=null&&h.push(r0(r,y,x))),r.tag===3)return h;r=r.return}return[]}function Wd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Eb(r,s,d,h,y){for(var x=s._reactName,D=[];d!==null&&d!==h;){var k=d,V=k.alternate,oe=k.stateNode;if(k=k.tag,V!==null&&V===h)break;k!==5&&k!==26&&k!==27||oe===null||(V=oe,y?(oe=mo(d,x),oe!=null&&D.unshift(r0(d,oe,V))):y||(oe=mo(d,x),oe!=null&&D.push(r0(d,oe,V)))),d=d.return}D.length!==0&&r.push({event:s,listeners:D})}var Yw=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function Cb(r){return(typeof r=="string"?r:""+r).replace(Yw,`
`).replace(Zw,"")}function Tb(r,s){return s=Cb(s),Cb(r)===s}function Um(){}function Tn(r,s,d,h,y,x){switch(d){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Sl(r,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Sl(r,""+h);break;case"className":Fr(r,"class",h);break;case"tabIndex":Fr(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(r,d,h);break;case"style":eh(r,h,x);break;case"data":if(s!=="object"){Fr(r,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||d!=="href")){r.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=Jc(""+h),r.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(s!=="input"&&Tn(r,s,"name",y.name,y,null),Tn(r,s,"formEncType",y.formEncType,y,null),Tn(r,s,"formMethod",y.formMethod,y,null),Tn(r,s,"formTarget",y.formTarget,y,null)):(Tn(r,s,"encType",y.encType,y,null),Tn(r,s,"method",y.method,y,null),Tn(r,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=Jc(""+h),r.setAttribute(d,h);break;case"onClick":h!=null&&(r.onclick=Um);break;case"onScroll":h!=null&&Yt("scroll",r);break;case"onScrollEnd":h!=null&&Yt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}d=Jc(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""+h):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":h===!0?r.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,h):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(d,h):r.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(d):r.setAttribute(d,h);break;case"popover":Yt("beforetoggle",r),Yt("toggle",r),ar(r,"popover",h);break;case"xlinkActuate":Aa(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Aa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Aa(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Aa(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Aa(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Aa(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Aa(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Aa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Aa(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ar(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Sg.get(d)||d,ar(r,d,h))}}function c1(r,s,d,h,y,x){switch(d){case"style":eh(r,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"children":typeof h=="string"?Sl(r,h):(typeof h=="number"||typeof h=="bigint")&&Sl(r,""+h);break;case"onScroll":h!=null&&Yt("scroll",r);break;case"onScrollEnd":h!=null&&Yt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Um);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),s=d.slice(2,y?d.length-7:void 0),x=r[Oe]||null,x=x!=null?x[d]:null,typeof x=="function"&&r.removeEventListener(s,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(s,h,y);break e}d in r?r[d]=h:h===!0?r.setAttribute(d,""):ar(r,d,h)}}}function Ja(r,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",r),Yt("load",r);var h=!1,y=!1,x;for(x in d)if(d.hasOwnProperty(x)){var D=d[x];if(D!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Tn(r,s,x,D,d,null)}}y&&Tn(r,s,"srcSet",d.srcSet,d,null),h&&Tn(r,s,"src",d.src,d,null);return;case"input":Yt("invalid",r);var k=x=D=y=null,V=null,oe=null;for(h in d)if(d.hasOwnProperty(h)){var Se=d[h];if(Se!=null)switch(h){case"name":y=Se;break;case"type":D=Se;break;case"checked":V=Se;break;case"defaultChecked":oe=Se;break;case"value":x=Se;break;case"defaultValue":k=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,s));break;default:Tn(r,s,h,Se,d,null)}}Qc(r,x,k,V,oe,D,y,!1),Cu(r);return;case"select":Yt("invalid",r),h=D=x=null;for(y in d)if(d.hasOwnProperty(y)&&(k=d[y],k!=null))switch(y){case"value":x=k;break;case"defaultValue":D=k;break;case"multiple":h=k;default:Tn(r,s,y,k,d,null)}s=x,d=D,r.multiple=!!h,s!=null?go(r,!!h,s,!1):d!=null&&go(r,!!h,d,!0);return;case"textarea":Yt("invalid",r),x=y=h=null;for(D in d)if(d.hasOwnProperty(D)&&(k=d[D],k!=null))switch(D){case"value":h=k;break;case"defaultValue":y=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Tn(r,s,D,k,d,null)}$f(r,h,y,x),Cu(r);return;case"option":for(V in d)if(d.hasOwnProperty(V)&&(h=d[V],h!=null))switch(V){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tn(r,s,V,h,d,null)}return;case"dialog":Yt("beforetoggle",r),Yt("toggle",r),Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":Yt("load",r);break;case"video":case"audio":for(h=0;h<a0.length;h++)Yt(a0[h],r);break;case"image":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"embed":case"source":case"link":Yt("error",r),Yt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in d)if(d.hasOwnProperty(oe)&&(h=d[oe],h!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Tn(r,s,oe,h,d,null)}return;default:if(Wc(s)){for(Se in d)d.hasOwnProperty(Se)&&(h=d[Se],h!==void 0&&c1(r,s,Se,h,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(h=d[k],h!=null&&Tn(r,s,k,h,d,null))}function Iw(r,s,d,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,D=null,k=null,V=null,oe=null,Se=null;for(pe in d){var Ae=d[pe];if(d.hasOwnProperty(pe)&&Ae!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":V=Ae;default:h.hasOwnProperty(pe)||Tn(r,s,pe,null,h,Ae)}}for(var me in h){var pe=h[me];if(Ae=d[me],h.hasOwnProperty(me)&&(pe!=null||Ae!=null))switch(me){case"type":x=pe;break;case"name":y=pe;break;case"checked":oe=pe;break;case"defaultChecked":Se=pe;break;case"value":D=pe;break;case"defaultValue":k=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,s));break;default:pe!==Ae&&Tn(r,s,me,pe,h,Ae)}}Fc(r,D,k,V,oe,Se,x,y);return;case"select":pe=D=k=me=null;for(x in d)if(V=d[x],d.hasOwnProperty(x)&&V!=null)switch(x){case"value":break;case"multiple":pe=V;default:h.hasOwnProperty(x)||Tn(r,s,x,null,h,V)}for(y in h)if(x=h[y],V=d[y],h.hasOwnProperty(y)&&(x!=null||V!=null))switch(y){case"value":me=x;break;case"defaultValue":k=x;break;case"multiple":D=x;default:x!==V&&Tn(r,s,y,x,h,V)}s=k,d=D,h=pe,me!=null?go(r,!!d,me,!1):!!h!=!!d&&(s!=null?go(r,!!d,s,!0):go(r,!!d,d?[]:"",!1));return;case"textarea":pe=me=null;for(k in d)if(y=d[k],d.hasOwnProperty(k)&&y!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Tn(r,s,k,null,h,y)}for(D in h)if(y=h[D],x=d[D],h.hasOwnProperty(D)&&(y!=null||x!=null))switch(D){case"value":me=y;break;case"defaultValue":pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&Tn(r,s,D,y,h,x)}Qf(r,me,pe);return;case"option":for(var _t in d)if(me=d[_t],d.hasOwnProperty(_t)&&me!=null&&!h.hasOwnProperty(_t))switch(_t){case"selected":r.selected=!1;break;default:Tn(r,s,_t,null,h,me)}for(V in h)if(me=h[V],pe=d[V],h.hasOwnProperty(V)&&me!==pe&&(me!=null||pe!=null))switch(V){case"selected":r.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Tn(r,s,V,me,h,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in d)me=d[gt],d.hasOwnProperty(gt)&&me!=null&&!h.hasOwnProperty(gt)&&Tn(r,s,gt,null,h,me);for(oe in h)if(me=h[oe],pe=d[oe],h.hasOwnProperty(oe)&&me!==pe&&(me!=null||pe!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,s));break;default:Tn(r,s,oe,me,h,pe)}return;default:if(Wc(s)){for(var An in d)me=d[An],d.hasOwnProperty(An)&&me!==void 0&&!h.hasOwnProperty(An)&&c1(r,s,An,void 0,h,me);for(Se in h)me=h[Se],pe=d[Se],!h.hasOwnProperty(Se)||me===pe||me===void 0&&pe===void 0||c1(r,s,Se,me,h,pe);return}}for(var J in d)me=d[J],d.hasOwnProperty(J)&&me!=null&&!h.hasOwnProperty(J)&&Tn(r,s,J,null,h,me);for(Ae in h)me=h[Ae],pe=d[Ae],!h.hasOwnProperty(Ae)||me===pe||me==null&&pe==null||Tn(r,s,Ae,me,h,pe)}var d1=null,f1=null;function Lm(r){return r.nodeType===9?r:r.ownerDocument}function Ab(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function h1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var g1=null;function Xw(){var r=window.event;return r&&r.type==="popstate"?r===g1?!1:(g1=r,!0):(g1=null,!1)}var Ob=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(r){return Nb.resolve(null).then(r).catch(Qw)}:Ob;function Qw(r){setTimeout(function(){throw r})}function Qo(r){return r==="head"}function Mb(r,s){var d=s,h=0,y=0;do{var x=d.nextSibling;if(r.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(0<h&&8>h){d=h;var D=r.ownerDocument;if(d&1&&i0(D.documentElement),d&2&&i0(D.body),d&4)for(d=D.head,i0(d),D=d.firstChild;D;){var k=D.nextSibling,V=D.nodeName;D[st]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=k}}if(y===0){r.removeChild(x),h0(s);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:h=d.charCodeAt(0)-48;else h=0;d=x}while(d);h0(s)}function m1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":m1(d),at(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function $w(r,s,d,h){for(;r.nodeType===1;){var y=d;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[st])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=ds(r.nextSibling),r===null)break}return null}function Ww(r,s,d){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=ds(r.nextSibling),r===null))return null;return r}function p1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Jw(r,s){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")s();else{var h=function(){s(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function ds(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var v1=null;function Db(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return r;s--}else d==="/$"&&s++}r=r.previousSibling}return null}function jb(r,s,d){switch(s=Lm(d),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function i0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);at(r)}var ji=new Map,zb=new Set;function Pm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ql=ae.d;ae.d={f:e8,r:t8,D:n8,C:a8,L:r8,m:i8,X:l8,S:s8,M:o8};function e8(){var r=Ql.f(),s=el();return r||s}function t8(r){var s=wt(r);s!==null&&s.tag===5&&s.type==="form"?vm(s):Ql.r(r)}var Jd=typeof document>"u"?null:document;function kb(r,s,d){var h=Jd;if(h&&typeof s=="string"&&s){var y=br(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),zb.has(y)||(zb.add(y),r={rel:r,crossOrigin:d,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),Ja(s,"link",r),Ht(s),h.head.appendChild(s)))}}function n8(r){Ql.D(r),kb("dns-prefetch",r,null)}function a8(r,s){Ql.C(r,s),kb("preconnect",r,s)}function r8(r,s,d){Ql.L(r,s,d);var h=Jd;if(h&&r&&s){var y='link[rel="preload"][as="'+br(s)+'"]';s==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+br(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+br(d.imageSizes)+'"]')):y+='[href="'+br(r)+'"]';var x=y;switch(s){case"style":x=ef(r);break;case"script":x=tf(r)}ji.has(x)||(r=v({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:r,as:s},d),ji.set(x,r),h.querySelector(y)!==null||s==="style"&&h.querySelector(s0(x))||s==="script"&&h.querySelector(l0(x))||(s=h.createElement("link"),Ja(s,"link",r),Ht(s),h.head.appendChild(s)))}}function i8(r,s){Ql.m(r,s);var d=Jd;if(d&&r){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+br(h)+'"][href="'+br(r)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=tf(r)}if(!ji.has(x)&&(r=v({rel:"modulepreload",href:r},s),ji.set(x,r),d.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(l0(x)))return}h=d.createElement("link"),Ja(h,"link",r),Ht(h),d.head.appendChild(h)}}}function s8(r,s,d){Ql.S(r,s,d);var h=Jd;if(h&&r){var y=Sn(h).hoistableStyles,x=ef(r);s=s||"default";var D=y.get(x);if(!D){var k={loading:0,preload:null};if(D=h.querySelector(s0(x)))k.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},d),(d=ji.get(x))&&y1(r,d);var V=D=h.createElement("link");Ht(V),Ja(V,"link",r),V._p=new Promise(function(oe,Se){V.onload=oe,V.onerror=Se}),V.addEventListener("load",function(){k.loading|=1}),V.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Bm(D,s,h)}D={type:"stylesheet",instance:D,count:1,state:k},y.set(x,D)}}}function l8(r,s){Ql.X(r,s);var d=Jd;if(d&&r){var h=Sn(d).hoistableScripts,y=tf(r),x=h.get(y);x||(x=d.querySelector(l0(y)),x||(r=v({src:r,async:!0},s),(s=ji.get(y))&&b1(r,s),x=d.createElement("script"),Ht(x),Ja(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function o8(r,s){Ql.M(r,s);var d=Jd;if(d&&r){var h=Sn(d).hoistableScripts,y=tf(r),x=h.get(y);x||(x=d.querySelector(l0(y)),x||(r=v({src:r,async:!0,type:"module"},s),(s=ji.get(y))&&b1(r,s),x=d.createElement("script"),Ht(x),Ja(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function Ub(r,s,d,h){var y=(y=ue.current)?Pm(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=ef(d.href),d=Sn(y).hoistableStyles,h=d.get(s),h||(h={type:"style",instance:null,count:0,state:null},d.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=ef(d.href);var x=Sn(y).hoistableStyles,D=x.get(r);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,D),(x=y.querySelector(s0(r)))&&!x._p&&(D.instance=x,D.state.loading=5),ji.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ji.set(r,d),x||u8(y,r,d,D.state))),s&&h===null)throw Error(a(528,""));return D}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=tf(d),d=Sn(y).hoistableScripts,h=d.get(s),h||(h={type:"script",instance:null,count:0,state:null},d.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ef(r){return'href="'+br(r)+'"'}function s0(r){return'link[rel="stylesheet"]['+r+"]"}function Lb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function u8(r,s,d,h){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=r.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Ja(s,"link",d),Ht(s),r.head.appendChild(s))}function tf(r){return'[src="'+br(r)+'"]'}function l0(r){return"script[async]"+r}function Pb(r,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var h=r.querySelector('style[data-href~="'+br(d.href)+'"]');if(h)return s.instance=h,Ht(h),h;var y=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Ht(h),Ja(h,"style",y),Bm(h,d.precedence,r),s.instance=h;case"stylesheet":y=ef(d.href);var x=r.querySelector(s0(y));if(x)return s.state.loading|=4,s.instance=x,Ht(x),x;h=Lb(d),(y=ji.get(y))&&y1(h,y),x=(r.ownerDocument||r).createElement("link"),Ht(x);var D=x;return D._p=new Promise(function(k,V){D.onload=k,D.onerror=V}),Ja(x,"link",h),s.state.loading|=4,Bm(x,d.precedence,r),s.instance=x;case"script":return x=tf(d.src),(y=r.querySelector(l0(x)))?(s.instance=y,Ht(y),y):(h=d,(y=ji.get(x))&&(h=v({},d),b1(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),Ht(y),Ja(y,"link",h),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Bm(h,d.precedence,r));return s.instance}function Bm(r,s,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,D=0;D<h.length;D++){var k=h[D];if(k.dataset.precedence===s)x=k;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(r,s.firstChild))}function y1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function b1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Hm=null;function Bb(r,s,d){if(Hm===null){var h=new Map,y=Hm=new Map;y.set(d,h)}else y=Hm,h=y.get(d),h||(h=new Map,y.set(d,h));if(h.has(r))return h;for(h.set(r,null),d=d.getElementsByTagName(r),y=0;y<d.length;y++){var x=d[y];if(!(x[st]||x[le]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(s)||"";D=r+D;var k=h.get(D);k?k.push(x):h.set(D,[x])}}return h}function Hb(r,s,d){r=r.ownerDocument||r,r.head.insertBefore(d,s==="title"?r.querySelector("head > title"):null)}function c8(r,s,d){if(d===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var o0=null;function d8(){}function f8(r,s,d){if(o0===null)throw Error(a(475));var h=o0;if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=ef(d.href),x=r.querySelector(s0(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=Gm.bind(h),r.then(h,h)),s.state.loading|=4,s.instance=x,Ht(x);return}x=r.ownerDocument||r,d=Lb(d),(y=ji.get(y))&&y1(d,y),x=x.createElement("link"),Ht(x);var D=x;D._p=new Promise(function(k,V){D.onload=k,D.onerror=V}),Ja(x,"link",d),s.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Gm.bind(h),r.addEventListener("load",s),r.addEventListener("error",s))}}function h8(){if(o0===null)throw Error(a(475));var r=o0;return r.stylesheets&&r.count===0&&_1(r,r.stylesheets),0<r.count?function(s){var d=setTimeout(function(){if(r.stylesheets&&_1(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Gm(){if(this.count--,this.count===0){if(this.stylesheets)_1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var qm=null;function _1(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,qm=new Map,s.forEach(g8,r),qm=null,Gm.call(r))}function g8(r,s){if(!(s.state.loading&4)){var d=qm.get(r);if(d)var h=d.get(null);else{d=new Map,qm.set(r,d);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var D=y[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),h=D)}h&&d.set(null,h)}y=s.instance,D=y.getAttribute("data-precedence"),x=d.get(D)||h,x===h&&d.set(null,y),d.set(D,y),this.count++,h=Gm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var u0={$$typeof:z,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function m8(r,s,d,h,y,x,D,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function qb(r,s,d,h,y,x,D,k,V,oe,Se,Ae){return r=new m8(r,s,d,D,k,V,oe,Ae),s=1,x===!0&&(s|=24),x=ir(3,null,null,s),r.current=x,x.stateNode=r,s=Ro(),s.refCount++,r.pooledCache=s,s.refCount++,x.memoizedState={element:h,isDehydrated:d,cache:s},Xu(x),r}function Vb(r){return r?(r=Ml,r):Ml}function Yb(r,s,d,h,y,x){y=Vb(y),h.context===null?h.context=y:h.pendingContext=y,h=xi(s),h.payload={element:d},x=x===void 0?null:x,x!==null&&(h.callback=x),d=Ia(r,h,s),d!==null&&(Jn(d,r,s),Gl(d,r,s))}function Zb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<s?d:s}}function S1(r,s){Zb(r,s),(r=r.alternate)&&Zb(r,s)}function Ib(r){if(r.tag===13){var s=mi(r,67108864);s!==null&&Jn(s,r,67108864),S1(r,67108864)}}var Vm=!0;function p8(r,s,d,h){var y=B.T;B.T=null;var x=ae.p;try{ae.p=2,x1(r,s,d,h)}finally{ae.p=x,B.T=y}}function v8(r,s,d,h){var y=B.T;B.T=null;var x=ae.p;try{ae.p=8,x1(r,s,d,h)}finally{ae.p=x,B.T=y}}function x1(r,s,d,h){if(Vm){var y=w1(h);if(y===null)u1(r,s,h,Ym,d),Kb(r,h);else if(b8(y,r,s,d,h))h.stopPropagation();else if(Kb(r,h),s&4&&-1<y8.indexOf(r)){for(;y!==null;){var x=wt(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=Ta(x.pendingLanes);if(D!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;D;){var V=1<<31-Wt(D);k.entanglements[1]|=V,D&=~V}Je(x),(yt&6)===0&&(Kl=ea()+500,fn(0))}}break;case 13:k=mi(x,2),k!==null&&Jn(k,x,2),el(),S1(x,2)}if(x=w1(h),x===null&&u1(r,s,h,Ym,d),x===y)break;y=x}y!==null&&h.stopPropagation()}else u1(r,s,h,null,d)}}function w1(r){return r=Cs(r),E1(r)}var Ym=null;function E1(r){if(Ym=null,r=Fe(r),r!==null){var s=l(r);if(s===null)r=null;else{var d=s.tag;if(d===13){if(r=u(s),r!==null)return r;r=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ym=r,null}function Xb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case pr:return 2;case I:return 8;case re:case ge:return 32;case He:return 268435456;default:return 32}default:return 32}}var C1=!1,$o=null,Wo=null,Jo=null,c0=new Map,d0=new Map,eu=[],y8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(r,s){switch(r){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":c0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":d0.delete(s.pointerId)}}function f0(r,s,d,h,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:d,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},s!==null&&(s=wt(s),s!==null&&Ib(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function b8(r,s,d,h,y){switch(s){case"focusin":return $o=f0($o,r,s,d,h,y),!0;case"dragenter":return Wo=f0(Wo,r,s,d,h,y),!0;case"mouseover":return Jo=f0(Jo,r,s,d,h,y),!0;case"pointerover":var x=y.pointerId;return c0.set(x,f0(c0.get(x)||null,r,s,d,h,y)),!0;case"gotpointercapture":return x=y.pointerId,d0.set(x,f0(d0.get(x)||null,r,s,d,h,y)),!0}return!1}function Fb(r){var s=Fe(r.target);if(s!==null){var d=l(s);if(d!==null){if(s=d.tag,s===13){if(s=u(d),s!==null){r.blockedOn=s,X(r.priority,function(){if(d.tag===13){var h=Zn();h=Gi(h);var y=mi(d,h);y!==null&&Jn(y,d,h),S1(d,h)}});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zm(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var d=w1(r.nativeEvent);if(d===null){d=r.nativeEvent;var h=new d.constructor(d.type,d);ed=h,d.target.dispatchEvent(h),ed=null}else return s=wt(d),s!==null&&Ib(s),r.blockedOn=d,!1;s.shift()}return!0}function Qb(r,s,d){Zm(r)&&d.delete(s)}function _8(){C1=!1,$o!==null&&Zm($o)&&($o=null),Wo!==null&&Zm(Wo)&&(Wo=null),Jo!==null&&Zm(Jo)&&(Jo=null),c0.forEach(Qb),d0.forEach(Qb)}function Im(r,s){r.blockedOn===s&&(r.blockedOn=null,C1||(C1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_8)))}var Xm=null;function $b(r){Xm!==r&&(Xm=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xm===r&&(Xm=null);for(var s=0;s<r.length;s+=3){var d=r[s],h=r[s+1],y=r[s+2];if(typeof h!="function"){if(E1(h||d)===null)continue;break}var x=wt(d);x!==null&&(r.splice(s,3),s-=3,qh(x,{pending:!0,data:y,method:d.method,action:h},h,y))}}))}function h0(r){function s(V){return Im(V,r)}$o!==null&&Im($o,r),Wo!==null&&Im(Wo,r),Jo!==null&&Im(Jo,r),c0.forEach(s),d0.forEach(s);for(var d=0;d<eu.length;d++){var h=eu[d];h.blockedOn===r&&(h.blockedOn=null)}for(;0<eu.length&&(d=eu[0],d.blockedOn===null);)Fb(d),d.blockedOn===null&&eu.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var y=d[h],x=d[h+1],D=y[Oe]||null;if(typeof x=="function")D||$b(d);else if(D){var k=null;if(x&&x.hasAttribute("formAction")){if(y=x,D=x[Oe]||null)k=D.formAction;else if(E1(y)!==null)continue}else k=D.action;typeof k=="function"?d[h+1]=k:(d.splice(h,3),h-=3),$b(d)}}}function T1(r){this._internalRoot=r}Km.prototype.render=T1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var d=s.current,h=Zn();Yb(d,h,r,s,null,null)},Km.prototype.unmount=T1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Yb(r.current,2,null,r,null,null),el(),s[Pe]=null}};function Km(r){this._internalRoot=r}Km.prototype.unstable_scheduleHydration=function(r){if(r){var s=yl();r={blockedOn:null,target:r,priority:s};for(var d=0;d<eu.length&&s!==0&&s<eu[d].priority;d++);eu.splice(d,0,r),d===0&&Fb(r)}};var Wb=e.version;if(Wb!=="19.1.1")throw Error(a(527,Wb,"19.1.1"));ae.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var S8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{Ye=Fm.inject(S8),$e=Fm}catch{}}return m0.createRoot=function(r,s){if(!i(r))throw Error(a(299));var d=!1,h="",y=Yl,x=dr,D=Cm,k=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=qb(r,1,!1,null,null,d,h,y,x,D,k,null),r[Pe]=s.current,o1(r),new T1(s)},m0.hydrateRoot=function(r,s,d){if(!i(r))throw Error(a(299));var h=!1,y="",x=Yl,D=dr,k=Cm,V=null,oe=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(V=d.unstable_transitionCallbacks),d.formState!==void 0&&(oe=d.formState)),s=qb(r,1,!0,s,d??null,h,y,x,D,k,V,oe),s.context=Vb(null),d=s.current,h=Zn(),h=Gi(h),y=xi(h),y.callback=null,Ia(d,y,h),d=h,s.current.lanes=d,Kr(s,d),Je(s),r[Pe]=s.current,o1(r),new Km(s)},m0.version="19.1.1",m0}var o_;function M8(){if(o_)return R1.exports;o_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R1.exports=N8(),R1.exports}var r5=M8();const D8=ag(r5);var N=rg();const Qe=ag(N),i5=w8({__proto__:null,default:Qe},[N]);var s5=t=>{throw TypeError(t)},j8=(t,e,n)=>e.has(t)||s5("Cannot "+n),j1=(t,e,n)=>(j8(t,e,"read from private field"),n?n.call(t):e.get(t)),z8=(t,e,n)=>e.has(t)?s5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),u_="popstate";function k8(t={}){function e(i,l){let{pathname:u="/",search:f="",hash:g=""}=io(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),V0("",{pathname:u,search:f,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let g=i.location.href,p=g.indexOf("#");f=p===-1?g:g.slice(0,p)}return f+"#"+(typeof l=="string"?l:fu(l))}function a(i,l){ia(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return L8(e,n,a,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ia(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U8(){return Math.random().toString(36).substring(2,10)}function c_(t,e){return{usr:t.state,key:t.key,idx:e}}function V0(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||a||U8()}}function fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function L8(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,f="POP",g=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let O=v(),M=O==null?null:O-p;p=O,g&&g({action:f,location:R.location,delta:M})}function S(O,M){f="PUSH";let j=V0(R.location,O,M);n&&n(j,O),p=v()+1;let z=c_(j,p),L=R.createHref(j);try{u.pushState(z,"",L)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(L)}l&&g&&g({action:f,location:R.location,delta:1})}function C(O,M){f="REPLACE";let j=V0(R.location,O,M);n&&n(j,O),p=v();let z=c_(j,p),L=R.createHref(j);u.replaceState(z,"",L),l&&g&&g({action:f,location:R.location,delta:0})}function T(O){return l5(O)}let R={get action(){return f},get location(){return t(i,u)},listen(O){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(u_,_),g=O,()=>{i.removeEventListener(u_,_),g=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let M=T(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:C,go(O){return u.go(O)}};return R}function l5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:fu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var T0,d_=class{constructor(t){if(z8(this,T0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(j1(this,T0).has(t))return j1(this,T0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){j1(this,T0).set(t,e)}};T0=new WeakMap;var P8=new Set(["lazy","caseSensitive","path","id","index","children"]);function B8(t){return P8.has(t)}var H8=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function G8(t){return H8.has(t)}function q8(t){return t.index===!0}function Y0(t,e,n=[],a={},i=!1){return t.map((l,u)=>{let f=[...n,String(u)],g=typeof l.id=="string"?l.id:f.join("-");if(Zt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Zt(i||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),q8(l)){let p={...l,...e(l),id:g};return a[g]=p,p}else{let p={...l,...e(l),id:g,children:void 0};return a[g]=p,l.children&&(p.children=Y0(l.children,e,f,a,i)),p}})}function lu(t,e,n="/"){return Lp(t,e,n,!1)}function Lp(t,e,n,a){let i=typeof e=="string"?io(e):e,l=Pi(i.pathname||"/",n);if(l==null)return null;let u=o5(t);Y8(u);let f=null;for(let g=0;f==null&&g<u.length;++g){let p=tE(l);f=J8(u[g],p,a)}return f}function V8(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function o5(t,e=[],n=[],a="",i=!1){let l=(u,f,g=i,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;Zt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=dl([a,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(Zt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),o5(u.children,e,S,_,g)),!(u.path==null&&!u.index)&&e.push({path:_,score:$8(_,u.index),routesMeta:S})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let g of u5(u.path))l(u,f,!0,g)}),e}function u5(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=u5(a.join("/")),f=[];return f.push(...u.map(g=>g===""?l:[l,g].join("/"))),i&&f.push(...u),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function Y8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W8(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Z8=/^:[\w-]+$/,I8=3,X8=2,K8=1,F8=10,Q8=-2,f_=t=>t==="*";function $8(t,e){let n=t.split("/"),a=n.length;return n.some(f_)&&(a+=Q8),e&&(a+=X8),n.filter(i=>!f_(i)).reduce((i,l)=>i+(Z8.test(l)?I8:l===""?K8:F8),a)}function W8(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function J8(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let f=0;f<a.length;++f){let g=a[f],p=f===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Ip({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),S=g.route;if(!_&&p&&n&&!a[a.length-1].route.index&&(_=Ip({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:dl([l,_.pathname]),pathnameBase:iE(dl([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=dl([l,_.pathnameBase]))}return u}function Ip(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=eE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:_},S)=>{if(v==="*"){let T=f[S]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=f[S];return _&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function eE(t,e=!1,n=!0){ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,g)=>(a.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function tE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ia(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function nE({basename:t,pathname:e}){return e==="/"?t:dl([t,e])}function aE(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?io(t):t;return{pathname:n?n.startsWith("/")?n:rE(n,e):e,search:sE(a),hash:lE(i)}}function rE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function z1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h2(t){let e=c5(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function g2(t,e,n,a=!1){let i;typeof t=="string"?i=io(t):(i={...t},Zt(!i.pathname||!i.pathname.includes("?"),z1("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),z1("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),z1("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),_-=1;i.pathname=S.join("/")}f=_>=0?e[_]:"/"}let g=aE(i,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var dl=t=>t.join("/").replace(/\/\/+/g,"/"),iE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xp=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Z0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var d5=["POST","PUT","PATCH","DELETE"],oE=new Set(d5),uE=["GET",...d5],cE=new Set(uE),dE=new Set([301,302,303,307,308]),fE=new Set([307,308]),k1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},p0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=t=>gE.test(t),mE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),f5="remix-router-transitions",h5=Symbol("ResetLoaderData");function pE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Zt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],i=t.mapRouteProperties||mE,l={},u=Y0(t.routes,i,void 0,l),f,g=t.basename||"/";g.startsWith("/")||(g=`/${g}`);let p=t.dataStrategy||SE,v={...t.future},_=null,S=new Set,C=null,T=null,R=null,O=t.hydrationData!=null,M=lu(u,t.history.location,g),j=!1,z=null,L;if(M==null&&!t.patchRoutesOnNavigation){let X=zi(404,{pathname:t.history.location.pathname}),{matches:ee,route:le}=Qm(u);L=!0,M=ee,z={[le.id]:X}}else if(M&&!t.hydrationData&&ws(M,u,t.history.location.pathname).active&&(M=null),M)if(M.some(X=>X.route.lazy))L=!1;else if(!M.some(X=>p2(X.route)))L=!0;else{let X=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let le=M.findIndex(Oe=>ee[Oe.route.id]!==void 0);L=M.slice(0,le+1).every(Oe=>!Ay(Oe.route,X,ee))}else L=M.every(le=>!Ay(le.route,X,ee))}else{L=!1,M=[];let X=ws(null,u,t.history.location.pathname);X.active&&X.matches&&(j=!0,M=X.matches)}let H,U={historyAction:t.history.action,location:t.history.location,matches:M,initialized:L,navigation:k1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},Y="POP",Q=!1,se,_e=!1,Ce=new Map,ve=null,fe=!1,ce=!1,be=new Set,B=new Map,ae=0,K=-1,he=new Map,G=new Set,$=new Map,Ee=new Map,Te=new Set,Ve=new Map,ot,ue=null;function xe(){if(_=t.history.listen(({action:X,location:ee,delta:le})=>{if(ot){ot(),ot=void 0;return}ia(Ve.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Oe=Ot({currentLocation:U.location,nextLocation:ee,historyAction:X});if(Oe&&le!=null){let Pe=new Promise(et=>{ot=et});t.history.go(le*-1),Jt(Oe,{state:"blocked",location:ee,proceed(){Jt(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Pe.then(()=>t.history.go(le))},reset(){let et=new Map(U.blockers);et.set(Oe,p0),rt({blockers:et})}});return}return gn(X,ee)}),n){UE(e,Ce);let X=()=>LE(e,Ce);e.addEventListener("pagehide",X),ve=()=>e.removeEventListener("pagehide",X)}return U.initialized||gn("POP",U.location,{initialHydration:!0}),H}function Ie(){_&&_(),ve&&ve(),S.clear(),se&&se.abort(),U.fetchers.forEach((X,ee)=>vr(ee)),U.blockers.forEach((X,ee)=>ke(ee))}function dt(X){return S.add(X),()=>S.delete(X)}function rt(X,ee={}){X.matches&&(X.matches=X.matches.map(Pe=>{let et=l[Pe.route.id],it=Pe.route;return it.element!==et.element||it.errorElement!==et.errorElement||it.hydrateFallbackElement!==et.hydrateFallbackElement?{...Pe,route:et}:Pe})),U={...U,...X};let le=[],Oe=[];U.fetchers.forEach((Pe,et)=>{Pe.state==="idle"&&(Te.has(et)?le.push(et):Oe.push(et))}),Te.forEach(Pe=>{!U.fetchers.has(Pe)&&!B.has(Pe)&&le.push(Pe)}),[...S].forEach(Pe=>Pe(U,{deletedFetchers:le,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),le.forEach(Pe=>vr(Pe)),Oe.forEach(Pe=>U.fetchers.delete(Pe))}function xt(X,ee,{flushSync:le}={}){let Oe=U.actionData!=null&&U.navigation.formMethod!=null&&Ir(U.navigation.formMethod)&&U.navigation.state==="loading"&&X.state?._isRedirect!==!0,Pe;ee.actionData?Object.keys(ee.actionData).length>0?Pe=ee.actionData:Pe=null:Oe?Pe=U.actionData:Pe=null;let et=ee.loaderData?x_(U.loaderData,ee.loaderData,ee.matches||[],ee.errors):U.loaderData,it=U.blockers;it.size>0&&(it=new Map(it),it.forEach((at,Fe)=>it.set(Fe,p0)));let Ke=fe?!1:xs(X,ee.matches||U.matches),We=Q===!0||U.navigation.formMethod!=null&&Ir(U.navigation.formMethod)&&X.state?._isRedirect!==!0;f&&(u=f,f=void 0),fe||Y==="POP"||(Y==="PUSH"?t.history.push(X,X.state):Y==="REPLACE"&&t.history.replace(X,X.state));let st;if(Y==="POP"){let at=Ce.get(U.location.pathname);at&&at.has(X.pathname)?st={currentLocation:U.location,nextLocation:X}:Ce.has(X.pathname)&&(st={currentLocation:X,nextLocation:U.location})}else if(_e){let at=Ce.get(U.location.pathname);at?at.add(X.pathname):(at=new Set([X.pathname]),Ce.set(U.location.pathname,at)),st={currentLocation:U.location,nextLocation:X}}rt({...ee,actionData:Pe,loaderData:et,historyAction:Y,location:X,initialized:!0,navigation:k1,revalidation:"idle",restoreScrollPosition:Ke,preventScrollReset:We,blockers:it},{viewTransitionOpts:st,flushSync:le===!0}),Y="POP",Q=!1,_e=!1,fe=!1,ce=!1,ue?.resolve(),ue=null}async function sn(X,ee){if(typeof X=="number"){t.history.go(X);return}let le=Ty(U.location,U.matches,g,X,ee?.fromRouteId,ee?.relative),{path:Oe,submission:Pe,error:et}=h_(!1,le,ee),it=U.location,Ke=V0(U.location,Oe,ee&&ee.state);Ke={...Ke,...t.history.encodeLocation(Ke)};let We=ee&&ee.replace!=null?ee.replace:void 0,st="PUSH";We===!0?st="REPLACE":We===!1||Pe!=null&&Ir(Pe.formMethod)&&Pe.formAction===U.location.pathname+U.location.search&&(st="REPLACE");let at=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,Fe=(ee&&ee.flushSync)===!0,wt=Ot({currentLocation:it,nextLocation:Ke,historyAction:st});if(wt){Jt(wt,{state:"blocked",location:Ke,proceed(){Jt(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),sn(X,ee)},reset(){let tn=new Map(U.blockers);tn.set(wt,p0),rt({blockers:tn})}});return}await gn(st,Ke,{submission:Pe,pendingError:et,preventScrollReset:at,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:Fe})}function ln(){ue||(ue=PE()),je(),rt({revalidation:"loading"});let X=ue.promise;return U.navigation.state==="submitting"?X:U.navigation.state==="idle"?(gn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),X):(gn(Y||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:_e===!0}),X)}async function gn(X,ee,le){se&&se.abort(),se=null,Y=X,fe=(le&&le.startUninterruptedRevalidation)===!0,Xc(U.location,U.matches),Q=(le&&le.preventScrollReset)===!0,_e=(le&&le.enableViewTransition)===!0;let Oe=f||u,Pe=le&&le.overrideNavigation,et=le?.initialHydration&&U.matches&&U.matches.length>0&&!j?U.matches:lu(Oe,ee,g),it=(le&&le.flushSync)===!0;if(et&&U.initialized&&!ce&&OE(U.location,ee)&&!(le&&le.submission&&Ir(le.submission.formMethod))){xt(ee,{matches:et},{flushSync:it});return}let Ke=ws(et,Oe,ee.pathname);if(Ke.active&&Ke.matches&&(et=Ke.matches),!et){let{error:Ht,notFoundMatches:mn,route:on}=dn(ee.pathname);xt(ee,{matches:mn,loaderData:{},errors:{[on.id]:Ht}},{flushSync:it});return}se=new AbortController;let We=Sf(t.history,ee,se.signal,le&&le.submission),st=t.getContext?await t.getContext():new d_,at;if(le&&le.pendingError)at=[ou(et).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&Ir(le.submission.formMethod)){let Ht=await Ha(We,ee,le.submission,et,st,Ke.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:it});if(Ht.shortCircuited)return;if(Ht.pendingActionResult){let[mn,on]=Ht.pendingActionResult;if(si(on)&&Z0(on.error)&&on.error.status===404){se=null,xt(ee,{matches:Ht.matches,loaderData:{},errors:{[mn]:on.error}});return}}et=Ht.matches||et,at=Ht.pendingActionResult,Pe=U1(ee,le.submission),it=!1,Ke.active=!1,We=Sf(t.history,We.url,We.signal)}let{shortCircuited:Fe,matches:wt,loaderData:tn,errors:Sn}=await ma(We,ee,et,st,Ke.active,Pe,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,it,at);Fe||(se=null,xt(ee,{matches:wt||et,...w_(at),loaderData:tn,errors:Sn}))}async function Ha(X,ee,le,Oe,Pe,et,it,Ke={}){je();let We=zE(ee,le);if(rt({navigation:We},{flushSync:Ke.flushSync===!0}),et){let Fe=await Gi(Oe,ee.pathname,X.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:tn,route:Sn}=Qm(u);return{matches:tn,pendingActionResult:[Sn.id,{type:"error",error:Fe.error}]}}let wt=ou(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,pendingActionResult:[wt,{type:"error",error:Fe.error}]}}else if(Fe.matches)Oe=Fe.matches;else{let{notFoundMatches:wt,error:tn,route:Sn}=dn(ee.pathname);return{matches:wt,pendingActionResult:[Sn.id,{type:"error",error:tn}]}}}let st,at=Pp(Oe,ee);if(!at.route.action&&!at.route.lazy)st={type:"error",error:zi(405,{method:X.method,pathname:ee.pathname,routeId:at.route.id})};else{let Fe=Rf(i,l,X,Oe,at,it?[]:a,Pe),wt=await He(X,Fe,Pe,null);if(st=wt[at.route.id],!st){for(let tn of Oe)if(wt[tn.route.id]){st=wt[tn.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(Ac(st)){let Fe;return Ke&&Ke.replace!=null?Fe=Ke.replace:Fe=b_(st.response.headers.get("Location"),new URL(X.url),g)===U.location.pathname+U.location.search,await ge(X,st,!0,{submission:le,replace:Fe}),{shortCircuited:!0}}if(si(st)){let Fe=ou(Oe,at.route.id);return(Ke&&Ke.replace)!==!0&&(Y="PUSH"),{matches:Oe,pendingActionResult:[Fe.route.id,st,at.route.id]}}return{matches:Oe,pendingActionResult:[at.route.id,st]}}async function ma(X,ee,le,Oe,Pe,et,it,Ke,We,st,at,Fe){let wt=et||U1(ee,it),tn=it||Ke||C_(wt),Sn=!fe&&!st;if(Pe){if(Sn){let kt=ea(Fe);rt({navigation:wt,...kt!==void 0?{actionData:kt}:{}},{flushSync:at})}let ft=await Gi(le,ee.pathname,X.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Va,route:Ya}=Qm(u);return{matches:Va,loaderData:{},errors:{[Ya.id]:ft.error}}}let kt=ou(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[kt]:ft.error}}}else if(ft.matches)le=ft.matches;else{let{error:kt,notFoundMatches:Va,route:Ya}=dn(ee.pathname);return{matches:Va,loaderData:{},errors:{[Ya.id]:kt}}}}let Ht=f||u,{dsMatches:mn,revalidatingFetchers:on}=g_(X,Oe,i,l,t.history,U,le,tn,ee,st?[]:a,st===!0,ce,be,Te,$,G,Ht,g,t.patchRoutesOnNavigation!=null,Fe);if(K=++ae,!t.dataStrategy&&!mn.some(ft=>ft.shouldLoad)&&!mn.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&on.length===0){let ft=er();return xt(ee,{matches:le,loaderData:{},errors:Fe&&si(Fe[1])?{[Fe[0]]:Fe[1].error}:null,...w_(Fe),...ft?{fetchers:new Map(U.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(Sn){let ft={};if(!Pe){ft.navigation=wt;let kt=ea(Fe);kt!==void 0&&(ft.actionData=kt)}on.length>0&&(ft.fetchers=Ss(on)),rt(ft,{flushSync:at})}on.forEach(ft=>{Ca(ft.key),ft.controller&&B.set(ft.key,ft.controller)});let Gt=()=>on.forEach(ft=>Ca(ft.key));se&&se.signal.addEventListener("abort",Gt);let{loaderResults:tr,fetcherResults:Mr}=await Le(mn,on,X,Oe);if(X.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",Gt),on.forEach(ft=>B.delete(ft.key));let nr=$m(tr);if(nr)return await ge(X,nr.result,!0,{replace:We}),{shortCircuited:!0};if(nr=$m(Mr),nr)return G.add(nr.key),await ge(X,nr.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:bl,errors:_l}=S_(U,le,tr,Fe,on,Mr);st&&U.errors&&(_l={...U.errors,..._l});let ar=er(),Fr=Ta(K),Aa=ar||Fr||on.length>0;return{matches:le,loaderData:bl,errors:_l,...Aa?{fetchers:new Map(U.fetchers)}:{}}}function ea(X){if(X&&!si(X[1]))return{[X[0]]:X[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Ss(X){return X.forEach(ee=>{let le=U.fetchers.get(ee.key),Oe=v0(void 0,le?le.data:void 0);U.fetchers.set(ee.key,Oe)}),new Map(U.fetchers)}async function pr(X,ee,le,Oe){Ca(X);let Pe=(Oe&&Oe.flushSync)===!0,et=f||u,it=Ty(U.location,U.matches,g,le,ee,Oe?.relative),Ke=lu(et,it,g),We=ws(Ke,et,it);if(We.active&&We.matches&&(Ke=We.matches),!Ke){$e(X,ee,zi(404,{pathname:it}),{flushSync:Pe});return}let{path:st,submission:at,error:Fe}=h_(!0,it,Oe);if(Fe){$e(X,ee,Fe,{flushSync:Pe});return}let wt=t.getContext?await t.getContext():new d_,tn=(Oe&&Oe.preventScrollReset)===!0;if(at&&Ir(at.formMethod)){await I(X,ee,st,Ke,wt,We.active,Pe,tn,at);return}$.set(X,{routeId:ee,path:st}),await re(X,ee,st,Ke,wt,We.active,Pe,tn,at)}async function I(X,ee,le,Oe,Pe,et,it,Ke,We){je(),$.delete(X);let st=U.fetchers.get(X);Ye(X,kE(We,st),{flushSync:it});let at=new AbortController,Fe=Sf(t.history,le,at.signal,We);if(et){let xn=await Gi(Oe,new URL(Fe.url).pathname,Fe.signal,X);if(xn.type==="aborted")return;if(xn.type==="error"){$e(X,ee,xn.error,{flushSync:it});return}else if(xn.matches)Oe=xn.matches;else{$e(X,ee,zi(404,{pathname:le}),{flushSync:it});return}}let wt=Pp(Oe,le);if(!wt.route.action&&!wt.route.lazy){let xn=zi(405,{method:We.formMethod,pathname:le,routeId:ee});$e(X,ee,xn,{flushSync:it});return}B.set(X,at);let tn=ae,Sn=Rf(i,l,Fe,Oe,wt,a,Pe),mn=(await He(Fe,Sn,Pe,X))[wt.route.id];if(Fe.signal.aborted){B.get(X)===at&&B.delete(X);return}if(Te.has(X)){if(Ac(mn)||si(mn)){Ye(X,Jl(void 0));return}}else{if(Ac(mn))if(B.delete(X),K>tn){Ye(X,Jl(void 0));return}else return G.add(X),Ye(X,v0(We)),ge(Fe,mn,!1,{fetcherSubmission:We,preventScrollReset:Ke});if(si(mn)){$e(X,ee,mn.error);return}}let on=U.navigation.location||U.location,Gt=Sf(t.history,on,at.signal),tr=f||u,Mr=U.navigation.state!=="idle"?lu(tr,U.navigation.location,g):U.matches;Zt(Mr,"Didn't find any matches after fetcher action");let nr=++ae;he.set(X,nr);let bl=v0(We,mn.data);U.fetchers.set(X,bl);let{dsMatches:_l,revalidatingFetchers:ar}=g_(Gt,Pe,i,l,t.history,U,Mr,We,on,a,!1,ce,be,Te,$,G,tr,g,t.patchRoutesOnNavigation!=null,[wt.route.id,mn]);ar.filter(xn=>xn.key!==X).forEach(xn=>{let Es=xn.key,yr=U.fetchers.get(Es),pa=v0(void 0,yr?yr.data:void 0);U.fetchers.set(Es,pa),Ca(Es),xn.controller&&B.set(Es,xn.controller)}),rt({fetchers:new Map(U.fetchers)});let Fr=()=>ar.forEach(xn=>Ca(xn.key));at.signal.addEventListener("abort",Fr);let{loaderResults:Aa,fetcherResults:ft}=await Le(_l,ar,Gt,Pe);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",Fr),he.delete(X),B.delete(X),ar.forEach(xn=>B.delete(xn.key)),U.fetchers.has(X)){let xn=Jl(mn.data);U.fetchers.set(X,xn)}let kt=$m(Aa);if(kt)return ge(Gt,kt.result,!1,{preventScrollReset:Ke});if(kt=$m(ft),kt)return G.add(kt.key),ge(Gt,kt.result,!1,{preventScrollReset:Ke});let{loaderData:Va,errors:Ya}=S_(U,Mr,Aa,void 0,ar,ft);Ta(nr),U.navigation.state==="loading"&&nr>K?(Zt(Y,"Expected pending action"),se&&se.abort(),xt(U.navigation.location,{matches:Mr,loaderData:Va,errors:Ya,fetchers:new Map(U.fetchers)})):(rt({errors:Ya,loaderData:x_(U.loaderData,Va,Mr,Ya),fetchers:new Map(U.fetchers)}),ce=!1)}async function re(X,ee,le,Oe,Pe,et,it,Ke,We){let st=U.fetchers.get(X);Ye(X,v0(We,st?st.data:void 0),{flushSync:it});let at=new AbortController,Fe=Sf(t.history,le,at.signal);if(et){let on=await Gi(Oe,new URL(Fe.url).pathname,Fe.signal,X);if(on.type==="aborted")return;if(on.type==="error"){$e(X,ee,on.error,{flushSync:it});return}else if(on.matches)Oe=on.matches;else{$e(X,ee,zi(404,{pathname:le}),{flushSync:it});return}}let wt=Pp(Oe,le);B.set(X,at);let tn=ae,Sn=Rf(i,l,Fe,Oe,wt,a,Pe),mn=(await He(Fe,Sn,Pe,X))[wt.route.id];if(B.get(X)===at&&B.delete(X),!Fe.signal.aborted){if(Te.has(X)){Ye(X,Jl(void 0));return}if(Ac(mn))if(K>tn){Ye(X,Jl(void 0));return}else{G.add(X),await ge(Fe,mn,!1,{preventScrollReset:Ke});return}if(si(mn)){$e(X,ee,mn.error);return}Ye(X,Jl(mn.data))}}async function ge(X,ee,le,{submission:Oe,fetcherSubmission:Pe,preventScrollReset:et,replace:it}={}){ee.response.headers.has("X-Remix-Revalidate")&&(ce=!0);let Ke=ee.response.headers.get("Location");Zt(Ke,"Expected a Location header on the redirect Response"),Ke=b_(Ke,new URL(X.url),g);let We=V0(U.location,Ke,{_isRedirect:!0});if(n){let Sn=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Sn=!0;else if(m2(Ke)){const Ht=l5(Ke,!0);Sn=Ht.origin!==e.location.origin||Pi(Ht.pathname,g)==null}if(Sn){it?e.location.replace(Ke):e.location.assign(Ke);return}}se=null;let st=it===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:Fe,formEncType:wt}=U.navigation;!Oe&&!Pe&&at&&Fe&&wt&&(Oe=C_(U.navigation));let tn=Oe||Pe;if(fE.has(ee.response.status)&&tn&&Ir(tn.formMethod))await gn(st,We,{submission:{...tn,formAction:Ke},preventScrollReset:et||Q,enableViewTransition:le?_e:void 0});else{let Sn=U1(We,Oe);await gn(st,We,{overrideNavigation:Sn,fetcherSubmission:Pe,preventScrollReset:et||Q,enableViewTransition:le?_e:void 0})}}async function He(X,ee,le,Oe){let Pe,et={};try{Pe=await wE(p,X,ee,Oe,le,!1)}catch(it){return ee.filter(Ke=>Ke.shouldLoad).forEach(Ke=>{et[Ke.route.id]={type:"error",error:it}}),et}if(X.signal.aborted)return et;for(let[it,Ke]of Object.entries(Pe))if(DE(Ke)){let We=Ke.result;et[it]={type:"redirect",response:AE(We,X,it,ee,g)}}else et[it]=await TE(Ke);return et}async function Le(X,ee,le,Oe){let Pe=He(le,X,Oe,null),et=Promise.all(ee.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let at=(await He(We.request,We.matches,Oe,We.key))[We.match.route.id];return{[We.key]:at}}else return Promise.resolve({[We.key]:{type:"error",error:zi(404,{pathname:We.path})}})})),it=await Pe,Ke=(await et).reduce((We,st)=>Object.assign(We,st),{});return{loaderResults:it,fetcherResults:Ke}}function je(){ce=!0,$.forEach((X,ee)=>{B.has(ee)&&be.add(ee),Ca(ee)})}function Ye(X,ee,le={}){U.fetchers.set(X,ee),rt({fetchers:new Map(U.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function $e(X,ee,le,Oe={}){let Pe=ou(U.matches,ee);vr(X),rt({errors:{[Pe.route.id]:le},fetchers:new Map(U.fetchers)},{flushSync:(Oe&&Oe.flushSync)===!0})}function vt(X){return Ee.set(X,(Ee.get(X)||0)+1),Te.has(X)&&Te.delete(X),U.fetchers.get(X)||hE}function Wt(X,ee){Ca(X,ee?.reason),Ye(X,Jl(null))}function vr(X){let ee=U.fetchers.get(X);B.has(X)&&!(ee&&ee.state==="loading"&&he.has(X))&&Ca(X),$.delete(X),he.delete(X),G.delete(X),Te.delete(X),be.delete(X),U.fetchers.delete(X)}function Ga(X){let ee=(Ee.get(X)||0)-1;ee<=0?(Ee.delete(X),Te.add(X)):Ee.set(X,ee),rt({fetchers:new Map(U.fetchers)})}function Ca(X,ee){let le=B.get(X);le&&(le.abort(ee),B.delete(X))}function qa(X){for(let ee of X){let le=vt(ee),Oe=Jl(le.data);U.fetchers.set(ee,Oe)}}function er(){let X=[],ee=!1;for(let le of G){let Oe=U.fetchers.get(le);Zt(Oe,`Expected fetcher: ${le}`),Oe.state==="loading"&&(G.delete(le),X.push(le),ee=!0)}return qa(X),ee}function Ta(X){let ee=[];for(let[le,Oe]of he)if(Oe<X){let Pe=U.fetchers.get(le);Zt(Pe,`Expected fetcher: ${le}`),Pe.state==="loading"&&(Ca(le),he.delete(le),ee.push(le))}return qa(ee),ee.length>0}function Re(X,ee){let le=U.blockers.get(X)||p0;return Ve.get(X)!==ee&&Ve.set(X,ee),le}function ke(X){U.blockers.delete(X),Ve.delete(X)}function Jt(X,ee){let le=U.blockers.get(X)||p0;Zt(le.state==="unblocked"&&ee.state==="blocked"||le.state==="blocked"&&ee.state==="blocked"||le.state==="blocked"&&ee.state==="proceeding"||le.state==="blocked"&&ee.state==="unblocked"||le.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${ee.state}`);let Oe=new Map(U.blockers);Oe.set(X,ee),rt({blockers:Oe})}function Ot({currentLocation:X,nextLocation:ee,historyAction:le}){if(Ve.size===0)return;Ve.size>1&&ia(!1,"A router only supports one blocker at a time");let Oe=Array.from(Ve.entries()),[Pe,et]=Oe[Oe.length-1],it=U.blockers.get(Pe);if(!(it&&it.state==="proceeding")&&et({currentLocation:X,nextLocation:ee,historyAction:le}))return Pe}function dn(X){let ee=zi(404,{pathname:X}),le=f||u,{matches:Oe,route:Pe}=Qm(le);return{notFoundMatches:Oe,route:Pe,error:ee}}function Yn(X,ee,le){if(C=X,R=ee,T=le||null,!O&&U.navigation===k1){O=!0;let Oe=xs(U.location,U.matches);Oe!=null&&rt({restoreScrollPosition:Oe})}return()=>{C=null,R=null,T=null}}function Kr(X,ee){return T&&T(X,ee.map(Oe=>V8(Oe,U.loaderData)))||X.key}function Xc(X,ee){if(C&&R){let le=Kr(X,ee);C[le]=R()}}function xs(X,ee){if(C){let le=Kr(X,ee),Oe=C[le];if(typeof Oe=="number")return Oe}return null}function ws(X,ee,le){if(t.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Lp(ee,le,g,!0)}}else return{active:!0,matches:Lp(ee,le,g,!0)||[]};return{active:!1,matches:null}}async function Gi(X,ee,le,Oe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:X};let Pe=X;for(;;){let et=f==null,it=f||u,Ke=l;try{await t.patchRoutesOnNavigation({signal:le,path:ee,matches:Pe,fetcherKey:Oe,patch:(at,Fe)=>{le.aborted||m_(at,Fe,it,Ke,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:Pe}}finally{et&&!le.aborted&&(u=[...u])}if(le.aborted)return{type:"aborted"};let We=lu(it,ee,g);if(We)return{type:"success",matches:We};let st=Lp(it,ee,g,!0);if(!st||Pe.length===st.length&&Pe.every((at,Fe)=>at.route.id===st[Fe].route.id))return{type:"success",matches:null};Pe=st}}function ho(X){l={},f=Y0(X,i,void 0,l)}function yl(X,ee,le=!1){let Oe=f==null;m_(X,ee,f||u,l,i,le),Oe&&(u=[...u],rt({}))}return H={get basename(){return g},get future(){return v},get state(){return U},get routes(){return u},get window(){return e},initialize:xe,subscribe:dt,enableScrollRestoration:Yn,navigate:sn,fetch:pr,revalidate:ln,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:vt,resetFetcher:Wt,deleteFetcher:Ga,dispose:Ie,getBlocker:Re,deleteBlocker:ke,patchRoutes:yl,_internalFetchControllers:B,_internalSetRoutes:ho,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){rt(X)}},H}function vE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ty(t,e,n,a,i,l){let u,f;if(i){u=[];for(let p of e)if(u.push(p),p.route.id===i){f=p;break}}else u=e,f=e[e.length-1];let g=g2(a||".",h2(u),Pi(t.pathname,n)||t.pathname,l==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&f){let p=v2(g.search);if(f.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let v=new URLSearchParams(g.search),_=v.getAll("index");v.delete("index"),_.filter(C=>C).forEach(C=>v.append("index",C));let S=v.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=nE({basename:n,pathname:g.pathname})),fu(g)}function h_(t,e,n){if(!n||!vE(n))return{path:e};if(n.formMethod&&!jE(n.formMethod))return{path:e,error:zi(405,{method:n.formMethod})};let a=()=>({path:e,error:zi(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=b5(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ir(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[C,T])=>`${S}${C}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Ir(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Zt(typeof FormData=="function","FormData is not available in this environment");let f,g;if(n.formData)f=Oy(n.formData),g=n.formData;else if(n.body instanceof FormData)f=Oy(n.body),g=n.body;else if(n.body instanceof URLSearchParams)f=n.body,g=__(f);else if(n.body==null)f=new URLSearchParams,g=new FormData;else try{f=new URLSearchParams(n.body),g=__(f)}catch{return a()}let p={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Ir(p.formMethod))return{path:e,submission:p};let v=io(e);return t&&v.search&&v2(v.search)&&f.append("index",""),v.search=`?${f}`,{path:fu(v),submission:p}}function g_(t,e,n,a,i,l,u,f,g,p,v,_,S,C,T,R,O,M,j,z){let L=z?si(z[1])?z[1].error:z[1].data:void 0,H=i.createURL(l.location),U=i.createURL(g),Y;if(v&&l.errors){let fe=Object.keys(l.errors)[0];Y=u.findIndex(ce=>ce.route.id===fe)}else if(z&&si(z[1])){let fe=z[0];Y=u.findIndex(ce=>ce.route.id===fe)-1}let Q=z?z[1].statusCode:void 0,se=Q&&Q>=400,_e={currentUrl:H,currentParams:l.matches[0]?.params||{},nextUrl:U,nextParams:u[0].params,...f,actionResult:L,actionStatus:Q},Ce=u.map((fe,ce)=>{let{route:be}=fe,B=null;if(Y!=null&&ce>Y?B=!1:be.lazy?B=!0:p2(be)?v?B=Ay(be,l.loaderData,l.errors):yE(l.loaderData,l.matches[ce],fe)&&(B=!0):B=!1,B!==null)return Ry(n,a,t,fe,p,e,B);let ae=se?!1:_||H.pathname+H.search===U.pathname+U.search||H.search!==U.search||bE(l.matches[ce],fe),K={..._e,defaultShouldRevalidate:ae},he=Kp(fe,K);return Ry(n,a,t,fe,p,e,he,K)}),ve=[];return T.forEach((fe,ce)=>{if(v||!u.some(Ee=>Ee.route.id===fe.routeId)||C.has(ce))return;let be=l.fetchers.get(ce),B=be&&be.state!=="idle"&&be.data===void 0,ae=lu(O,fe.path,M);if(!ae){if(j&&B)return;ve.push({key:ce,routeId:fe.routeId,path:fe.path,matches:null,match:null,request:null,controller:null});return}if(R.has(ce))return;let K=Pp(ae,fe.path),he=new AbortController,G=Sf(i,fe.path,he.signal),$=null;if(S.has(ce))S.delete(ce),$=Rf(n,a,G,ae,K,p,e);else if(B)_&&($=Rf(n,a,G,ae,K,p,e));else{let Ee={..._e,defaultShouldRevalidate:se?!1:_};Kp(K,Ee)&&($=Rf(n,a,G,ae,K,p,e,Ee))}$&&ve.push({key:ce,routeId:fe.routeId,path:fe.path,matches:$,match:K,request:G,controller:he})}),{dsMatches:Ce,revalidatingFetchers:ve}}function p2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Ay(t,e,n){if(t.lazy)return!0;if(!p2(t))return!1;let a=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!a&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!i}function yE(t,e,n){let a=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return a||i}function bE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Kp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function m_(t,e,n,a,i,l){let u;if(t){let p=a[t];Zt(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),u=p.children}else u=n;let f=[],g=[];if(e.forEach(p=>{let v=u.find(_=>g5(p,_));v?g.push({existingRoute:v,newRoute:p}):f.push(p)}),f.length>0){let p=Y0(f,i,[t||"_","patch",String(u?.length||"0")],a);u.push(...p)}if(l&&g.length>0)for(let p=0;p<g.length;p++){let{existingRoute:v,newRoute:_}=g[p],S=v,[C]=Y0([_],i,[],{},!0);Object.assign(S,{element:C.element?C.element:S.element,errorElement:C.errorElement?C.errorElement:S.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:S.hydrateFallbackElement})}}function g5(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(i=>g5(n,i))):!1}var p_=new WeakMap,m5=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let i=n[e.id];if(Zt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let u=p_.get(i);u||(u={},p_.set(i,u));let f=u[t];if(f)return f;let g=(async()=>{let p=B8(t),_=i[t]!==void 0&&t!=="hasErrorBoundary";if(p)ia(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)ia(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(i,{[t]:S}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(S=>S===void 0)&&(i.lazy=void 0))})();return u[t]=g,g},v_=new WeakMap;function _E(t,e,n,a,i){let l=n[t.id];if(Zt(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=v_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{Zt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),C={};for(let T in S){let R=S[T];if(R===void 0)continue;let O=G8(T),j=l[T]!==void 0&&T!=="hasErrorBoundary";O?ia(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?ia(!j,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=R}Object.assign(l,C),Object.assign(l,{...a(l),lazy:void 0})})();return v_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],g;for(let v of u){if(i&&i.includes(v))continue;let _=m5({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(f.push(_),v===e&&(g=_))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function y_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function SE(t){return t.matches.some(e=>e.route.middleware)?p5(t,()=>y_(t)):y_(t)}function p5(t,e){return xE(t,e,a=>a,NE,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=t,f=Math.min(Math.max(u.findIndex(p=>p.route.id===i),0),Math.max(u.findIndex(p=>p.unstable_shouldCallHandler()),0)),g=ou(u,u[f].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:a}})}}}async function xE(t,e,n,a,i){let{matches:l,request:u,params:f,context:g}=t,p=l.flatMap(_=>_.route.middleware?_.route.middleware.map(S=>[_.route.id,S]):[]);return await v5({request:u,params:f,context:g},p,e,n,a,i)}async function v5(t,e,n,a,i,l,u=0){let{request:f}=t;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let g=e[u];if(!g)return await n();let[p,v]=g,_,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await v5(t,e,n,a,i,l,u+1)},_.value}catch(C){return _={value:await l(C,p,_)},_.value}};try{let C=await v(t,S),T=C!=null?a(C):void 0;return i(T)?T:_?T??_.value:(_={value:await S()},_.value)}catch(C){return await l(C,p,_)}}function y5(t,e,n,a,i){let l=m5({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),u=_E(a.route,Ir(n.method)?"action":"loader",e,t,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Ry(t,e,n,a,i,l,u,f=null){let g=!1,p=y5(t,e,n,a,i);return{...a,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return g=!0,f?typeof v=="boolean"?Kp(a,{...f,defaultShouldRevalidate:v}):Kp(a,f):u},resolve(v){let{lazy:_,loader:S,middleware:C}=a.route,T=g||u||v&&!Ir(n.method)&&(_||S),R=C&&C.length>0&&!S&&!_;return T&&!R?EE({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Rf(t,e,n,a,i,l,u,f=null){return a.map(g=>g.route.id!==i.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:y5(t,e,n,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ry(t,e,n,g,l,u,!0,f))}async function wE(t,e,n,a,i,l){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:i,matches:n},g=await t({...u,fetcherKey:a,runClientMiddleware:p=>{let v=u;return p5(v,()=>p({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function EE({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,f,g=Ir(t.method),p=g?"action":"loader",v=_=>{let S,C=new Promise((O,M)=>S=M);f=()=>S(),t.signal.addEventListener("abort",f);let T=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(M=>T(M)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,C])};try{let _=g?e.route.action:e.route.loader;if(n||a)if(_){let S,[C]=await Promise.all([v(_).catch(T=>{S=T}),n,a]);if(S!==void 0)throw S;u=C}else{await n;let S=g?e.route.action:e.route.loader;if(S)[u]=await Promise.all([v(S),a]);else if(p==="action"){let C=new URL(t.url),T=C.pathname+C.search;throw zi(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await v(_);else{let S=new URL(t.url),C=S.pathname+S.search;throw zi(404,{pathname:C})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function CE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function TE(t){let{result:e,type:n}=t;if(_5(e)){let a;try{a=await CE(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Xp(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?E_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xp(e.init?.status||500,void 0,e.data),statusCode:Z0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Z0(e)?e.status:void 0}:E_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function AE(t,e,n,a,i){let l=t.headers.get("Location");if(Zt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!m2(l)){let u=a.slice(0,a.findIndex(f=>f.route.id===n)+1);l=Ty(new URL(e.url),u,i,l),t.headers.set("Location",l)}return t}function b_(t,e,n){if(m2(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=Pi(i.pathname,n)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return t}function Sf(t,e,n,a){let i=t.createURL(b5(e)).toString(),l={signal:n};if(a&&Ir(a.formMethod)){let{formMethod:u,formEncType:f}=a;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(a.json)):f==="text/plain"?l.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?l.body=Oy(a.formData):l.body=a.formData}return new Request(i,l)}function Oy(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function __(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function RE(t,e,n,a=!1,i=!1){let l={},u=null,f,g=!1,p={},v=n&&si(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,C=e[S];if(Zt(!Ac(C),"Cannot handle redirect results in processLoaderData"),si(C)){let T=C.error;if(v!==void 0&&(T=v,v=void 0),u=u||{},i)u[S]=T;else{let R=ou(t,S);u[R.route.id]==null&&(u[R.route.id]=T)}a||(l[S]=h5),g||(g=!0,f=Z0(C.error)?C.error.status:500),C.headers&&(p[S]=C.headers)}else l[S]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(f=C.statusCode),C.headers&&(p[S]=C.headers)}),v!==void 0&&n&&(u={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:p}}function S_(t,e,n,a,i,l){let{loaderData:u,errors:f}=RE(e,n,a);return i.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:v,controller:_}=g;if(_&&_.signal.aborted)return;let S=l[p];if(Zt(S,"Did not find corresponding fetcher result"),si(S)){let C=ou(t.matches,v?.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:S.error}),t.fetchers.delete(p)}else if(Ac(S))Zt(!1,"Unhandled fetcher revalidation redirect");else{let C=Jl(S.data);t.fetchers.set(p,C)}}),{loaderData:u,errors:f}}function x_(t,e,n,a){let i=Object.entries(e).filter(([,l])=>l!==h5).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(i[u]=t[u]),a&&a.hasOwnProperty(u))break}return i}function w_(t){return t?si(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ou(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function Qm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zi(t,{pathname:e,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&e&&n?f=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",a&&e&&n?f=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new Xp(t||500,u,new Error(f),!0)}function $m(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,i]=e[n];if(Ac(i))return{key:a,result:i}}}function b5(t){let e=typeof t=="string"?io(t):t;return fu({...e,hash:""})}function OE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function NE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&ME(n))}function ME(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function DE(t){return _5(t.result)&&dE.has(t.result.status)}function si(t){return t.type==="error"}function Ac(t){return(t&&t.type)==="redirect"}function E_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function _5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function jE(t){return cE.has(t.toUpperCase())}function Ir(t){return oE.has(t.toUpperCase())}function v2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Pp(t,e){let n=typeof e=="string"?io(e).search:e.search;if(t[t.length-1].route.index&&v2(n||""))return t[t.length-1];let a=c5(t);return a[a.length-1]}function C_(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:l,json:u}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function U1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function v0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Jl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function UE(t,e){try{let n=t.sessionStorage.getItem(f5);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function LE(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(f5,JSON.stringify(n))}catch(a){ia(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function PE(){let t,e,n=new Promise((a,i)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var kc=N.createContext(null);kc.displayName="DataRouter";var ig=N.createContext(null);ig.displayName="DataRouterState";N.createContext(!1);var y2=N.createContext({isTransitioning:!1});y2.displayName="ViewTransition";var S5=N.createContext(new Map);S5.displayName="Fetchers";var BE=N.createContext(null);BE.displayName="Await";var gl=N.createContext(null);gl.displayName="Navigation";var vv=N.createContext(null);vv.displayName="Location";var so=N.createContext({outlet:null,matches:[],isDataRoute:!1});so.displayName="Route";var b2=N.createContext(null);b2.displayName="RouteError";function HE(t,{relative:e}={}){Zt(sg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(gl),{hash:i,pathname:l,search:u}=og(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:dl([n,l])),a.createHref({pathname:f,search:u,hash:i})}function sg(){return N.useContext(vv)!=null}function Uc(){return Zt(sg(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(vv).location}var x5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w5(t){N.useContext(gl).static||N.useLayoutEffect(t)}function lg(){let{isDataRoute:t}=N.useContext(so);return t?JE():GE()}function GE(){Zt(sg(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(kc),{basename:e,navigator:n}=N.useContext(gl),{matches:a}=N.useContext(so),{pathname:i}=Uc(),l=JSON.stringify(h2(a)),u=N.useRef(!1);return w5(()=>{u.current=!0}),N.useCallback((g,p={})=>{if(ia(u.current,x5),!u.current)return;if(typeof g=="number"){n.go(g);return}let v=g2(g,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:dl([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,i,t])}N.createContext(null);function og(t,{relative:e}={}){let{matches:n}=N.useContext(so),{pathname:a}=Uc(),i=JSON.stringify(h2(n));return N.useMemo(()=>g2(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function qE(t,e,n,a,i){Zt(sg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(gl),{matches:u}=N.useContext(so),f=u[u.length-1],g=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let j=_&&_.path||"";E5(p,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Uc(),C;C=S;let T=C.pathname||"/",R=T;if(v!=="/"){let j=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=lu(t,{pathname:R});return ia(_||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ia(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),XE(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:dl([v,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:dl([v,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,a,i)}function VE(){let t=WE(),e=Z0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,u)}var YE=N.createElement(VE,null),ZE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(so.Provider,{value:this.props.routeContext},N.createElement(b2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IE({routeContext:t,match:e,children:n}){let a=N.useContext(kc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(so.Provider,{value:t},n)}function XE(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=p),v.route.id){let{loaderData:_,errors:S}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,v,_)=>{let S,C=!1,T=null,R=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||YE,f&&(g<0&&_===0?(E5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):g===_&&(C=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),M=()=>{let j;return S?j=T:C?j=R:v.route.Component?j=N.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=p,N.createElement(IE,{match:v,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:T,error:S,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):M()},null)}function _2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(t){let e=N.useContext(kc);return Zt(e,_2(t)),e}function FE(t){let e=N.useContext(ig);return Zt(e,_2(t)),e}function QE(t){let e=N.useContext(so);return Zt(e,_2(t)),e}function S2(t){let e=QE(t),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $E(){return S2("useRouteId")}function WE(){let t=N.useContext(b2),e=FE("useRouteError"),n=S2("useRouteError");return t!==void 0?t:e.errors?.[n]}function JE(){let{router:t}=KE("useNavigate"),e=S2("useNavigate"),n=N.useRef(!1);return w5(()=>{n.current=!0}),N.useCallback(async(i,l={})=>{ia(n.current,x5),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var T_={};function E5(t,e,n){!e&&!T_[t]&&(T_[t]=!0,ia(!1,n))}var A_={};function R_(t,e){!t&&!A_[e]&&(A_[e]=!0,console.warn(e))}function e9(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ia(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ia(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ia(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var t9=["HydrateFallback","hydrateFallbackElement"],n9=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function a9({router:t,flushSync:e,unstable_onError:n}){let[a,i]=N.useState(t.state),[l,u]=N.useState(),[f,g]=N.useState({isTransitioning:!1}),[p,v]=N.useState(),[_,S]=N.useState(),[C,T]=N.useState(),R=N.useRef(new Map),O=N.useCallback(H=>{i(U=>(H.errors&&n&&Object.entries(H.errors).forEach(([Y,Q])=>{U.errors?.[Y]!==Q&&n(Q)}),H))},[n]),M=N.useCallback((H,{deletedFetchers:U,flushSync:Y,viewTransitionOpts:Q})=>{H.fetchers.forEach((_e,Ce)=>{_e.data!==void 0&&R.current.set(Ce,_e.data)}),U.forEach(_e=>R.current.delete(_e)),R_(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let se=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(R_(Q==null||se,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Q||!se){e&&Y?e(()=>O(H)):N.startTransition(()=>O(H));return}if(e&&Y){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})});let _e=t.window.document.startViewTransition(()=>{e(()=>O(H))});_e.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})})}),e(()=>S(_e));return}_?(p&&p.resolve(),_.skipTransition(),T({state:H,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})):(u(H),g({isTransitioning:!0,flushSync:!1,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation}))},[t.window,e,_,p,O]);N.useLayoutEffect(()=>t.subscribe(M),[t,M]),N.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new n9)},[f]),N.useEffect(()=>{if(p&&l&&t.window){let H=l,U=p.promise,Y=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(H)),await U});Y.finished.finally(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})}),S(Y)}},[l,p,t.window,O]),N.useEffect(()=>{p&&l&&a.location.key===l.location.key&&p.resolve()},[p,_,a.location,l]),N.useEffect(()=>{!f.isTransitioning&&C&&(u(C.state),g({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),T(void 0))},[f.isTransitioning,C]);let j=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,U,Y)=>t.navigate(H,{state:U,preventScrollReset:Y?.preventScrollReset}),replace:(H,U,Y)=>t.navigate(H,{replace:!0,state:U,preventScrollReset:Y?.preventScrollReset})}),[t]),z=t.basename||"/",L=N.useMemo(()=>({router:t,navigator:j,static:!1,basename:z,unstable_onError:n}),[t,j,z,n]);return N.createElement(N.Fragment,null,N.createElement(kc.Provider,{value:L},N.createElement(ig.Provider,{value:a},N.createElement(S5.Provider,{value:R.current},N.createElement(y2.Provider,{value:f},N.createElement(s9,{basename:z,location:a.location,navigationType:a.historyAction,navigator:j},N.createElement(r9,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var r9=N.memo(i9);function i9({routes:t,future:e,state:n,unstable_onError:a}){return qE(t,void 0,n,a,e)}function s9({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){Zt(!sg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=io(n));let{pathname:g="/",search:p="",hash:v="",state:_=null,key:S="default"}=n,C=N.useMemo(()=>{let T=Pi(g,u);return T==null?null:{location:{pathname:T,search:p,hash:v,state:_,key:S},navigationType:a}},[u,g,p,v,_,S,a]);return ia(C!=null,`<Router basename="${u}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(gl.Provider,{value:f},N.createElement(vv.Provider,{children:e,value:C}))}var Bp="get",Hp="application/x-www-form-urlencoded";function yv(t){return t!=null&&typeof t.tagName=="string"}function l9(t){return yv(t)&&t.tagName.toLowerCase()==="button"}function o9(t){return yv(t)&&t.tagName.toLowerCase()==="form"}function u9(t){return yv(t)&&t.tagName.toLowerCase()==="input"}function c9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d9(t,e){return t.button===0&&(!e||e==="_self")&&!c9(t)}var Wm=null;function f9(){if(Wm===null)try{new FormData(document.createElement("form"),0),Wm=!1}catch{Wm=!0}return Wm}var h9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function L1(t){return t!=null&&!h9.has(t)?(ia(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hp}"`),null):t}function g9(t,e){let n,a,i,l,u;if(o9(t)){let f=t.getAttribute("action");a=f?Pi(f,e):null,n=t.getAttribute("method")||Bp,i=L1(t.getAttribute("enctype"))||Hp,l=new FormData(t)}else if(l9(t)||u9(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(a=g?Pi(g,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Bp,i=L1(t.getAttribute("formenctype"))||L1(f.getAttribute("enctype"))||Hp,l=new FormData(f,t),!f9()){let{name:p,type:v,value:_}=t;if(v==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,_)}}else{if(yv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bp,a=null,i=Hp,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function x2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function m9(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Pi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function p9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function y9(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await p9(l,n);return u.links?u.links():[]}return[]}));return x9(a.flat(1).filter(v9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function O_(t,e,n,a,i,l){let u=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,f=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,p)=>u(g,p)||f(g,p)):l==="data"?e.filter((g,p)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function b9(t,e,{includeHydrateFallback:n}={}){return _9(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function _9(t){return[...new Set(t)]}function S9(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function x9(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(S9(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function C5(){let t=N.useContext(kc);return x2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function w9(){let t=N.useContext(ig);return x2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var w2=N.createContext(void 0);w2.displayName="FrameworkContext";function T5(){let t=N.useContext(w2);return x2(t,"You must render this element inside a <HydratedRouter> element"),t}function E9(t,e){let n=N.useContext(w2),[a,i]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=M=>{M.forEach(j=>{u(j.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let C=()=>{i(!0)},T=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:y0(f,C),onBlur:y0(g,T),onMouseEnter:y0(p,C),onMouseLeave:y0(v,T),onTouchStart:y0(_,C)}]:[!1,S,{}]}function y0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function C9({page:t,...e}){let{router:n}=C5(),a=N.useMemo(()=>lu(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(A9,{page:t,matches:a,...e}):null}function T9(t){let{manifest:e,routeModules:n}=T5(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return y9(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function A9({page:t,matches:e,...n}){let a=Uc(),{manifest:i,routeModules:l}=T5(),{basename:u}=C5(),{loaderData:f,matches:g}=w9(),p=N.useMemo(()=>O_(t,e,g,i,a,"data"),[t,e,g,i,a]),v=N.useMemo(()=>O_(t,e,g,i,a,"assets"),[t,e,g,i,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(e.forEach(M=>{let j=i.routes[M.route.id];!j||!j.hasLoader||(!p.some(z=>z.route.id===M.route.id)&&M.route.id in f&&l[M.route.id]?.shouldRevalidate||j.hasClientLoader?R=!0:T.add(M.route.id))}),T.size===0)return[];let O=m9(t,u,"data");return R&&T.size>0&&O.searchParams.set("_routes",e.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[u,f,a,i,p,e,t,l]),S=N.useMemo(()=>b9(v,i),[v,i]),C=T9(v);return N.createElement(N.Fragment,null,_.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),C.map(({key:T,link:R})=>N.createElement("link",{key:T,nonce:n.nonce,...R})))}function R9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var A5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A5&&(window.__reactRouterVersion="7.9.4")}catch{}function O9(t,e){return pE({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:k8({window:e?.window}),hydrationData:N9(),routes:t,mapRouteProperties:e9,hydrationRouteProperties:t9,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function N9(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:M9(t.errors)}),t}function M9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new Xp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var R5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O5=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:f,target:g,to:p,preventScrollReset:v,viewTransition:_,...S},C){let{basename:T}=N.useContext(gl),R=typeof p=="string"&&R5.test(p),O,M=!1;if(typeof p=="string"&&R&&(O=p,A5))try{let se=new URL(window.location.href),_e=p.startsWith("//")?new URL(se.protocol+p):new URL(p),Ce=Pi(_e.pathname,T);_e.origin===se.origin&&Ce!=null?p=Ce+_e.search+_e.hash:M=!0}catch{ia(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=HE(p,{relative:i}),[z,L,H]=E9(a,S),U=k9(p,{replace:u,state:f,target:g,preventScrollReset:v,relative:i,viewTransition:_});function Y(se){e&&e(se),se.defaultPrevented||U(se)}let Q=N.createElement("a",{...S,...H,href:O||j,onClick:M||l?e:Y,ref:R9(C,L),target:g,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,Q,N.createElement(C9,{page:j})):Q});O5.displayName="Link";var D9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:f,children:g,...p},v){let _=og(u,{relative:p.relative}),S=Uc(),C=N.useContext(ig),{navigator:T,basename:R}=N.useContext(gl),O=C!=null&&H9(_)&&f===!0,M=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,j=S.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(j=j.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=Pi(z,R)||z);const L=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=j===M||!i&&j.startsWith(M)&&j.charAt(L)==="/",U=z!=null&&(z===M||!i&&z.startsWith(M)&&z.charAt(M.length)==="/"),Y={isActive:H,isPending:U,isTransitioning:O},Q=H?e:void 0,se;typeof a=="function"?se=a(Y):se=[a,H?"active":null,U?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let _e=typeof l=="function"?l(Y):l;return N.createElement(O5,{...p,"aria-current":Q,className:se,ref:v,style:_e,to:u,viewTransition:f},typeof g=="function"?g(Y):g)});D9.displayName="NavLink";var j9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Bp,action:f,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:_,...S},C)=>{let T=P9(),R=B9(f,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&R5.test(f),j=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let L=z.nativeEvent.submitter,H=L?.getAttribute("formmethod")||u;T(L||z.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:C,method:O,action:R,onSubmit:a?g:j,...S,"data-discover":!M&&t==="render"?"true":void 0})});j9.displayName="Form";function z9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N5(t){let e=N.useContext(kc);return Zt(e,z9(t)),e}function k9(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=lg(),g=Uc(),p=og(t,{relative:l});return N.useCallback(v=>{if(d9(v,e)){v.preventDefault();let _=n!==void 0?n:fu(g)===fu(p);f(t,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[g,f,p,n,a,e,t,i,l,u])}var U9=0,L9=()=>`__${String(++U9)}__`;function P9(){let{router:t}=N5("useSubmit"),{basename:e}=N.useContext(gl),n=$E();return N.useCallback(async(a,i={})=>{let{action:l,method:u,encType:f,formData:g,body:p}=g9(a,e);if(i.navigate===!1){let v=i.fetcherKey||L9();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function B9(t,{relative:e}={}){let{basename:n}=N.useContext(gl),a=N.useContext(so);Zt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...og(t||".",{relative:e})},u=Uc();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(v=>v==="")){f.delete("index"),g.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:dl([n,l.pathname])),fu(l)}function H9(t,{relative:e}={}){let n=N.useContext(y2);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=N5("useViewTransitionState"),i=og(t,{relative:e});if(!n.isTransitioning)return!1;let l=Pi(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Pi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ip(i.pathname,u)!=null||Ip(i.pathname,l)!=null}var ug=a5();const G9=ag(ug);function q9(t){return N.createElement(a9,{flushSync:ug.flushSync,...t})}const V9="modulepreload",Y9=function(t){return"/rect-up/"+t},N_={},cg=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let p=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=f?.nonce||f?.getAttribute("nonce");i=p(n.map(v=>{if(v=Y9(v),v in N_)return;N_[v]=!0;const _=v.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":V9,_||(C.as="script"),C.crossOrigin="",C.href=v,g&&C.setAttribute("nonce",g),document.head.appendChild(C),_)return new Promise((T,R)=>{C.addEventListener("load",T),C.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return i.then(f=>{for(const g of f||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},Z9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cg(async()=>{const{default:a}=await Promise.resolve().then(()=>Gf);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class E2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class M_ extends E2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class D_ extends E2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class j_ extends E2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ny;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ny||(Ny={}));var I9=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class X9{constructor(e,{headers:n={},customFetch:a,region:i=Ny.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Z9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return I9(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:l,method:u,body:f,signal:g}=a;let p={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(p["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(p["Content-Type"]="application/json",S=JSON.stringify(f)));const C=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:S,signal:g}).catch(M=>{throw M.name==="AbortError"?M:new M_(M)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new D_(C);if(!C.ok)throw new j_(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new M_(l)}:{data:null,error:l,response:l instanceof j_||l instanceof D_?l.context:void 0}}})}}var Pa={},nf={},af={},rf={},sf={},lf={},K9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kf=K9();const F9=kf.fetch,M5=kf.fetch.bind(kf),D5=kf.Headers,Q9=kf.Request,$9=kf.Response,Gf=Object.freeze(Object.defineProperty({__proto__:null,Headers:D5,Request:Q9,Response:$9,default:M5,fetch:F9},Symbol.toStringTag,{value:"Module"})),W9=E8(Gf);var Jm={},z_;function j5(){if(z_)return Jm;z_=1,Object.defineProperty(Jm,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Jm.default=t,Jm}var k_;function z5(){if(k_)return lf;k_=1;var t=lf&&lf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(lf,"__esModule",{value:!0});const e=t(W9),n=t(j5());class a{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,_,S,C;let T=null,R=null,O=null,M=p.status,j=p.statusText;if(p.ok){if(this.method!=="HEAD"){const U=await p.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=U:R=JSON.parse(U))}const L=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),H=(S=p.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");L&&H&&H.length>1&&(O=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,M=406,j="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const L=await p.text();try{T=JSON.parse(L),Array.isArray(T)&&p.status===404&&(R=[],T=null,M=200,j="OK")}catch{p.status===404&&L===""?(M=204,j="No Content"):T={message:L}}if(T&&this.isMaybeSingle&&(!((C=T?.details)===null||C===void 0)&&C.includes("0 rows"))&&(T=null,M=200,j="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:R,count:O,status:M,statusText:j}});return this.shouldThrowOnError||(g=g.catch(p=>{var v,_,S;return{error:{message:`${(v=p?.name)!==null&&v!==void 0?v:"FetchError"}: ${p?.message}`,details:`${(_=p?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=p?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return lf.default=a,lf}var U_;function k5(){if(U_)return sf;U_=1;var t=sf&&sf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sf,"__esModule",{value:!0});const e=t(z5());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:g=f}={}){const p=g?`${g}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:f=u}={}){const g=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${i}`),this.url.searchParams.set(p,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:g=!1,format:p="text"}={}){var v;const _=[i?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${S}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return sf.default=n,sf}var L_;function C2(){if(L_)return rf;L_=1;var t=rf&&rf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rf,"__esModule",{value:!0});const e=t(k5());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${g}fts${p}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return rf.default=n,rf}var P_;function U5(){if(P_)return af;P_=1;var t=af&&af.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(af,"__esModule",{value:!0});const e=t(C2());class n{constructor(i,{headers:l={},schema:u,fetch:f}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(i,l){const{head:u=!1,count:f}=l??{},g=u?"HEAD":"GET";let p=!1;const v=(i??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:g=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const _=i.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(_.length>0){const S=[...new Set(_)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return af.default=n,af}var B_;function J9(){if(B_)return nf;B_=1;var t=nf&&nf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nf,"__esModule",{value:!0});const e=t(U5()),n=t(C2());class a{constructor(l,{headers:u={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=g}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:g=!1,count:p}={}){var v;let _;const S=new URL(`${this.url}/rpc/${l}`);let C;f||g?(_=f?"HEAD":"GET",Object.entries(u).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(_="POST",C=u);const T=new Headers(this.headers);return p&&T.set("Prefer",`count=${p}`),new n.default({method:_,url:S,headers:T,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return nf.default=a,nf}var H_;function e7(){if(H_)return Pa;H_=1;var t=Pa&&Pa.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.PostgrestError=Pa.PostgrestBuilder=Pa.PostgrestTransformBuilder=Pa.PostgrestFilterBuilder=Pa.PostgrestQueryBuilder=Pa.PostgrestClient=void 0;const e=t(J9());Pa.PostgrestClient=e.default;const n=t(U5());Pa.PostgrestQueryBuilder=n.default;const a=t(C2());Pa.PostgrestFilterBuilder=a.default;const i=t(k5());Pa.PostgrestTransformBuilder=i.default;const l=t(z5());Pa.PostgrestBuilder=l.default;const u=t(j5());return Pa.PostgrestError=u.default,Pa.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},Pa}var t7=e7();const n7=ag(t7),{PostgrestClient:a7,PostgrestQueryBuilder:uG,PostgrestFilterBuilder:cG,PostgrestTransformBuilder:dG,PostgrestBuilder:fG,PostgrestError:hG}=n7;class r7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const i7="2.75.0",s7=`realtime-js/${i7}`,l7="1.0.0",My=1e4,o7=1e3,u7=100;var z0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(z0||(z0={}));var Sa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Sa||(Sa={}));var hs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(hs||(hs={}));var Dy;(function(t){t.websocket="websocket"})(Dy||(Dy={}));var Cc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Cc||(Cc={}));class c7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const f=a.decode(e.slice(u,u+i));u=u+i;const g=a.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:g,payload:p}}}class L5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zn||(zn={}));const G_=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=d7(u,t,e,i),l),{}):{}},d7=(t,e,n,a)=>{const i=e.find(f=>f.name===t),l=i?.type,u=n[t];return l&&!a.includes(l)?P5(l,u):jy(u)},P5=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return m7(e,n)}switch(t){case zn.bool:return f7(e);case zn.float4:case zn.float8:case zn.int2:case zn.int4:case zn.int8:case zn.numeric:case zn.oid:return h7(e);case zn.json:case zn.jsonb:return g7(e);case zn.timestamp:return p7(e);case zn.abstime:case zn.date:case zn.daterange:case zn.int4range:case zn.int8range:case zn.money:case zn.reltime:case zn.text:case zn.time:case zn.timestamptz:case zn.timetz:case zn.tsrange:case zn.tstzrange:return jy(e);default:return jy(e)}},jy=t=>t,f7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},h7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},g7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},m7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>P5(e,f))}return t},p7=t=>typeof t=="string"?t.replace(" ","T"):t,B5=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class P1{constructor(e,n,a={},i=My){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var q_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(q_||(q_={}));class k0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=k0.syncState(this.state,i,l,u),this.pendingDiffs.forEach(g=>{this.state=k0.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=k0.syncDiff(this.state,i,l,u),f())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const l=this.cloneDeep(e),u=this.transformState(n),f={},g={};return this.map(l,(p,v)=>{u[p]||(g[p]=v)}),this.map(u,(p,v)=>{const _=l[p];if(_){const S=v.map(O=>O.presence_ref),C=_.map(O=>O.presence_ref),T=v.filter(O=>C.indexOf(O.presence_ref)<0),R=_.filter(O=>S.indexOf(O.presence_ref)<0);T.length>0&&(f[p]=T),R.length>0&&(g[p]=R)}else f[p]=v}),this.syncDiff(l,{joins:f,leaves:g},a,i)}static syncDiff(e,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(f,g)=>{var p;const v=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(g),v.length>0){const _=e[f].map(C=>C.presence_ref),S=v.filter(C=>_.indexOf(C.presence_ref)<0);e[f].unshift(...S)}a(f,v,g)}),this.map(u,(f,g)=>{let p=e[f];if(!p)return;const v=g.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),e[f]=p,i(f,p,g),p.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(V_||(V_={}));var U0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(U0||(U0={}));var to;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(to||(to={}));class T2{constructor(e,n={config:{}},a){var i,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Sa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new P1(this,hs.join,this.params,this.timeout),this.rejoinTimer=new L5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sa.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hs.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new k0(this),this.broadcastEndpointURL=B5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Sa.closed){const{config:{broadcast:u,presence:f,private:g}}=this.params,p=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[U0.PRESENCE]&&this.bindings[U0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(to.CHANNEL_ERROR,C)),this._onClose(()=>e?.(to.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var T;if(this.socket.setAuth(),C===void 0){e?.(to.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,M=[];for(let j=0;j<O;j++){const z=R[j],{filter:{event:L,schema:H,table:U,filter:Y}}=z,Q=C&&C[j];if(Q&&Q.event===L&&Q.schema===H&&Q.table===U&&Q.filter===Y)M.push(Object.assign(Object.assign({},z),{id:Q.id}));else{this.unsubscribe(),this.state=Sa.errored,e?.(to.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(to.SUBSCRIBED);return}}).receive("error",C=>{this.state=Sa.errored,e?.(to.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(to.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Sa.joined&&e===U0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,g;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Sa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new P1(this,hs.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new P1(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>u7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,l;const u=e.toLocaleLowerCase(),{close:f,error:g,leave:p,join:v}=hs;if(a&&[f,g,p,v].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var T,R,O;return((T=C.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=C.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(C=>C.callback(S,a)):(l=this.bindings[u])===null||l===void 0||l.filter(C=>{var T,R,O,M,j,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const L=C.id,H=(T=C.filter)===null||T===void 0?void 0:T.event;return L&&((R=n.ids)===null||R===void 0?void 0:R.includes(L))&&(H==="*"||H?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const L=(j=(M=C?.filter)===null||M===void 0?void 0:M.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return L==="*"||L===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:R,table:O,commit_timestamp:M,type:j,errors:z}=T;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:M,eventType:j,new:{},old:{},errors:z}),this._getPayloadRecords(T))}C.callback(S,a)})}_isClosed(){return this.state===Sa.closed}_isJoined(){return this.state===Sa.joined}_isJoining(){return this.state===Sa.joining}_isLeaving(){return this.state===Sa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&T2.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hs.close,{},e)}_onError(e){this._on(hs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=G_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=G_(e.columns,e.old_record)),n}}const B1=()=>{},ep={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v7=[1e3,2e3,5e3,1e4],y7=1e4,b7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _7{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=My,this.transport=null,this.heartbeatIntervalMs=ep.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=B1,this.ref=0,this.reconnectTimer=null,this.logger=B1,this.conn=null,this.sendBuffer=[],this.serializer=new c7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...u)=>cg(async()=>{const{default:f}=await Promise.resolve().then(()=>Gf);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dy.websocket}`,this.httpEndpoint=B5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:l7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case z0.connecting:return Cc.Connecting;case z0.open:return Cc.Open;case z0.closing:return Cc.Closing;default:return Cc.Closed}}isConnected(){return this.connectionState()===Cc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new T2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(o7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ep.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=n,f=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${i} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([b7],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:s7};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(hs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new L5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ep.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,l,u,f,g,p,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:My,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:ep.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:B1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>v7[_-1]||y7),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((_,S)=>S(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class A2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fa(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class S7 extends A2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zy extends A2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var x7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const H5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cg(async()=>{const{default:a}=await Promise.resolve().then(()=>Gf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},w7=()=>x7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cg(()=>Promise.resolve().then(()=>Gf),void 0)).Response:Response}),ky=t=>{if(Array.isArray(t))return t.map(n=>ky(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=ky(a)}),e},E7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Lc=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const H1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C7=(t,e,n)=>Lc(void 0,void 0,void 0,function*(){const a=yield w7();t instanceof a&&!n?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new S7(H1(i),l,u))}).catch(i=>{e(new zy(H1(i),i))}):e(new zy(H1(t),t))}),T7=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(E7(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function dg(t,e,n,a,i,l){return Lc(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,T7(e,a,i,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>C7(g,f,a))})})}function Fp(t,e,n,a){return Lc(this,void 0,void 0,function*(){return dg(t,"GET",e,n,a)})}function sl(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return dg(t,"POST",e,a,i,n)})}function Uy(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return dg(t,"PUT",e,a,i,n)})}function A7(t,e,n,a){return Lc(this,void 0,void 0,function*(){return dg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function G5(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return dg(t,"DELETE",e,a,i,n)})}var R7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class O7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return R7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}})}}var N7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class M7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new O7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return N7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}})}}var qr=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const D7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class j7{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=H5(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return qr(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Y_),i);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const p=this._removeEmptyFolders(n),v=this._getFinalPath(p),_=yield(e=="PUT"?Uy:sl)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(fa(l))return{data:null,error:l};throw l}})}upload(e,n,a){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return qr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:Y_.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",p.cacheControl)):(g=a,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const _=yield Uy(this.fetch,f.toString(),g,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(fa(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return qr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const l=yield sl(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new A2("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}update(e,n,a){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return qr(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}copy(e,n,a){return qr(this,void 0,void 0,function*(){try{return{data:{path:(yield sl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield sl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return qr(this,void 0,void 0,function*(){try{const i=yield sl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>Fp(this.fetch,`${this.url}/${i}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new M7(g,this.shouldThrowOnError)}info(e){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Fp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ky(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}exists(e){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield A7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a)&&a instanceof zy){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const f=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&i.push(g);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${p}`)}}}remove(e){return qr(this,void 0,void 0,function*(){try{return{data:yield G5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}list(e,n,a){return qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},D7),n),{prefix:e||""});return{data:yield sl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}listV2(e,n){return qr(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield sl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const z7="2.75.0",k7={"X-Client-Info":`storage-js/${z7}`};var of=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class U7{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k7),n),this.fetch=H5(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return of(this,void 0,void 0,function*(){try{return{data:yield Fp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}})}getBucket(e){return of(this,void 0,void 0,function*(){try{return{data:yield Fp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}createBucket(e){return of(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return of(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}emptyBucket(e){return of(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}deleteBucket(e){return of(this,void 0,void 0,function*(){try{return{data:yield G5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}}class L7 extends U7{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new j7(this.url,this.headers,e,this.fetch)}}const P7="2.75.0";let A0="";typeof Deno<"u"?A0="deno":typeof document<"u"?A0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?A0="react-native":A0="node";const B7={"X-Client-Info":`supabase-js-${A0}/${P7}`},H7={headers:B7},G7={schema:"public"},q7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V7={};var Y7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const Z7=t=>{let e;return t?e=t:typeof fetch>"u"?e=M5:e=fetch,(...n)=>e(...n)},I7=()=>typeof Headers>"u"?D5:Headers,X7=(t,e,n)=>{const a=Z7(n),i=I7();return(l,u)=>Y7(void 0,void 0,void 0,function*(){var f;const g=(f=yield e())!==null&&f!==void 0?f:t;let p=new i(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},u),{headers:p}))})};var K7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};function F7(t){return t.endsWith("/")?t:t+"/"}function Q7(t,e){var n,a;const{db:i,auth:l,realtime:u,global:f}=t,{db:g,auth:p,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),f),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>K7(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function $7(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const q5="2.75.0",xf=30*1e3,Ly=3,G1=Ly*xf,W7="http://localhost:9999",J7="supabase.auth.token",eC={"X-Client-Info":`gotrue-js/${q5}`},Py="X-Supabase-Api-Version",V5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nC=600*1e3;class I0 extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ht(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aC extends I0{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function rC(t){return ht(t)&&t.name==="AuthApiError"}class Tc extends I0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class pu extends I0{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class au extends pu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iC(t){return ht(t)&&t.name==="AuthSessionMissingError"}class uf extends pu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tp extends pu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class np extends pu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sC(t){return ht(t)&&t.name==="AuthImplicitGrantRedirectError"}class Z_ extends pu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class By extends pu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function q1(t){return ht(t)&&t.name==="AuthRetryableFetchError"}class I_ extends pu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Hy extends pu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X_=` 	
\r=`.split(""),lC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<X_.length;e+=1)t[X_[e].charCodeAt(0)]=-2;for(let e=0;e<Qp.length;e+=1)t[Qp[e].charCodeAt(0)]=e;return t})();function K_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Qp[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Qp[a]),e.queuedBits-=6}}function Y5(t,e,n){const a=lC[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function F_(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{cC(u,a,n)};for(let u=0;u<t.length;u+=1)Y5(t.charCodeAt(u),i,l);return e.join("")}function oC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uC(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}oC(a,e)}}function cC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Of(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Y5(t.charCodeAt(i),n,a);return new Uint8Array(e)}function dC(t){const e=[];return uC(t,n=>e.push(n)),new Uint8Array(e)}function Rc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>K_(i,n,a)),K_(null,n,a),e.join("")}function fC(t){return Math.round(Date.now()/1e3)+t}function hC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ii=()=>typeof window<"u"&&typeof document<"u",_c={tested:!1,writable:!1},Z5=()=>{if(!ii())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_c.tested)return _c.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_c.tested=!0,_c.writable=!0}catch{_c.tested=!0,_c.writable=!1}return _c.writable};function gC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const I5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cg(async()=>{const{default:a}=await Promise.resolve().then(()=>Gf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},mC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Sc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nu=async(t,e)=>{await t.removeItem(e)};class bv{constructor(){this.promise=new bv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bv.promiseConstructor=Promise;function V1(t){const e=t.split(".");if(e.length!==3)throw new Hy("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!tC.test(e[a]))throw new Hy("JWT not in base64url format");return{header:JSON.parse(F_(e[0])),payload:JSON.parse(F_(e[1])),signature:Of(e[2]),raw:{header:e[0],payload:e[1]}}}async function pC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vC(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function yC(t){return("0"+t.toString(16)).substr(-2)}function bC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,yC).join("")}async function _C(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function SC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await _C(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cf(t,e,n=!1){const a=bC();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await wf(t,`${e}-code-verifier`,i);const l=await SC(a);return[l,a===l?"plain":"s256"]}const xC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wC(t){const e=t.headers.get(Py);if(!e||!e.match(xC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function CC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function df(t){if(!TC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Y1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Q_(t){return JSON.parse(JSON.stringify(t))}var AC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Ec=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RC=[502,503,504];async function $_(t){var e;if(!mC(t))throw new By(Ec(t),0);if(RC.includes(t.status))throw new By(Ec(t),t.status);let n;try{n=await t.json()}catch(l){throw new Tc(Ec(l),l)}let a;const i=wC(t);if(i&&i.getTime()>=V5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new I_(Ec(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new au}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new I_(Ec(n),t.status,n.weak_password.reasons);throw new aC(Ec(n),t.status||500,a)}const OC=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function Ct(t,e,n,a){var i;const l=Object.assign({},a?.headers);l[Py]||(l[Py]=V5["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await NC(t,e,n+f,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function NC(t,e,n,a,i,l){const u=OC(e,a,i,l);let f;try{f=await t(n,Object.assign({},u))}catch(g){throw console.error(g),new By(Ec(g),0)}if(f.ok||await $_(f),a?.noResolveJson)return f;try{return await f.json()}catch(g){await $_(g)}}function fs(t){var e;let n=null;jC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=fC(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function W_(t){const e=fs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function uu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MC(t){return{data:t,error:null}}function DC(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=t,u=AC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},g=Object.assign({},u);return{data:{properties:f,user:g},error:null}}function J_(t){return t}function jC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Z1=["global","local","others"];var zC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class kC{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=I5(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Z1[0]){if(Z1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Z1.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:uu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=zC(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DC,redirectTo:n?.redirectTo})}catch(n){if(ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:uu})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,l,u,f,g;try{const p={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:J_});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);p[`${O}Page`]=R}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ht(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){df(e);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:uu})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){df(e);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:uu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){df(e);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:uu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){df(e.userId);try{const{data:n,error:a}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteFactor(e){df(e.userId),df(e.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,l,u,f,g;try{const p={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:J_});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);p[`${O}Page`]=R}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ht(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}}function e4(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ff={debug:!!(globalThis&&Z5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UC extends X5{}async function LC(t,e,n){ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),ff.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new UC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ff.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function PC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function K5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BC(t){return parseInt(t,16)}function HC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function GC(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:g,resources:p,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const C=K5(t.address),T=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${C}

${R}`;let M=`URI: ${_}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),g&&(M+=`
Request ID: ${g}`),p){let j=`
Resources:`;for(const z of p){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);j+=`
- ${z}`}M+=j}return`${O}
${M}`}class da extends Error{constructor({message:e,code:n,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class $p extends da{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function qC({error:t,options:e}){var n,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new da({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new da({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new da({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new da({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new da({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new da({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new da({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new da({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Q5(u)){if(l.rp.id!==u)return new da({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new da({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new da({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new da({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new da({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function VC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new da({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new da({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Q5(a)){if(n.rpId!==a)return new da({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new da({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new da({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new da({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var F5=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class YC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZC=new YC;function IC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=F5(t,["challenge","user","excludeCredentials"]),l=Of(e).buffer,u=Object.assign(Object.assign({},n),{id:Of(n.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const p=a[g];f.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Of(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function XC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=F5(t,["challenge","allowCredentials"]),i=Of(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Of(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function KC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rc(new Uint8Array(i.authenticatorData)),clientDataJSON:Rc(new Uint8Array(i.clientDataJSON)),signature:Rc(new Uint8Array(i.signature)),userHandle:i.userHandle?Rc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function t4(){var t,e;return!!(ii()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $p("Browser returned unexpected credential type",e)}:{data:null,error:new $p("Empty credential response",e)}}catch(e){return{data:null,error:qC({error:e,options:t})}}}async function $C(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $p("Browser returned unexpected credential type",e)}:{data:null,error:new $p("Empty credential response",e)}}catch(e){return{data:null,error:VC({error:e,options:t})}}}const WC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},JC={userVerification:"preferred",hints:["security-key"]};function Wp(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const f=a[l];e(f)?a[l]=Wp(f,u):a[l]=Wp(u)}else a[l]=u}return a}function eT(t,e){return Wp(WC,t,e||{})}function tT(t,e){return Wp(JC,t,e||{})}class nT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const g=i??ZC.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=eT(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await QC({publicKey:p,signal:g});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const p=tT(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await $C(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:g}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!n)return{data:null,error:new I0("rpId is required for WebAuthn authentication")};try{if(!t4())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:f};const{webauthn:g}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:a,credential_response:g.credential_response}})}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!n)return{data:null,error:new I0("rpId is required for WebAuthn registration")};try{if(!t4())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:g,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in register",u)}}}}PC();const aT={url:W7,storageKey:J7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function n4(t,e,n){return await n()}const hf={};class X0{get jwks(){var e,n;return(n=(e=hf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hf[this.storageKey]=Object.assign(Object.assign({},hf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hf[this.storageKey]=Object.assign(Object.assign({},hf[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=X0.nextInstanceID,X0.nextInstanceID+=1,this.instanceID>0&&ii()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},aT),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new kC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=I5(i.fetch),this.lock=i.lock||n4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ii()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=LC:this.lock=n4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nT(this)},this.persistSession?(i.storage?this.storage=i.storage:Z5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=e4(this.memoryStorage)),ii()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${q5}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gC(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),ii()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),sC(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ht(n)?{error:n}:{error:new Tc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:fs}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,i;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let C=null,T=null;this.flowType==="pkce"&&([C,T]=await cf(this.storage,this.storageKey)),l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:C,code_challenge_method:T},xform:fs})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:fs})}else throw new tp("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:W_})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:W_})}else throw new tp("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new uf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,l,u,f,g,p,v,_,S;let C,T;if("message"in e)C=e.message,T=e.signature;else{const{chain:R,wallet:O,statement:M,options:j}=e;let z;if(ii())if(typeof O=="object")z=O;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")z=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const L=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),H=await z.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=K5(H[0]);let Y=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Y){const se=await z.request({method:"eth_chainId"});Y=BC(se)}const Q={domain:L.host,address:U,statement:M,uri:L.href,version:"1",chainId:Y,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=GC(Q),T=await z.request({method:"personal_sign",params:[HC(C),U]})}try{const{data:R,error:O}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:fs});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new uf}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ht(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,i,l,u,f,g,p,v,_,S,C;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:O,wallet:M,statement:j,options:z}=e;let L;if(ii())if(typeof M=="object")L=M;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))L=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=M}const H=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const U=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),j?{statement:j}:null));let Y;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")Y=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)Y=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)T=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),R=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${H.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((p=z?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const U=await L.signMessage(new TextEncoder().encode(T),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=U}}try{const{data:O,error:M}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Rc(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:fs});if(M)throw M;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new uf}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:M})}catch(O){if(ht(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:l,error:u}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:fs});if(await nu(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new uf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(ht(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=e,f=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:fs}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new uf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,l,u;try{if("email"in e){const{email:f,options:g}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await cf(this.storage,this.storageKey));const{error:_}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:f,options:g}=e,{data:p,error:v}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(u=g?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:v}}throw new tp("You must provide either an email or phone number.")}catch(f){if(ht(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,a;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:fs});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await cf(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:MC})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new au;const{error:i}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:f}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new tp("You must provide either an email or phone number and a type")}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<G1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Sc(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Y1()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,v)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,v))})}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:uu}):await this._useSession(async n=>{var a,i,l;const{data:u,error:f}=n;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new au}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:uu})})}catch(n){if(ht(n))return iC(n)&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new au;const u=i.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await cf(this.storage,this.storageKey));const{data:p,error:v}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:u.access_token,xform:uu});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new au;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=V1(e.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new au;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ii())throw new np("No browser detected.");if(e.error||e.error_description||e.error_code)throw new np(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Z_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new np("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Z_("No code detected.");const{data:j,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:f,expires_at:g,token_type:p}=e;if(!l||!f||!u||!p)throw new np("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(f);let S=v+_;g&&(S=parseInt(g));const C=S-v;C*1e3<=xf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${_}s`);const T=S-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const M={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:_,expires_at:S,refresh_token:u,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(a){if(ht(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{error:l};const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(rC(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=hC(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await cf(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,f,g,p,v;const{data:_,error:S}=l;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return ii()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ht(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:f,token:g,access_token:p,nonce:v}=e,_=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:g,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:fs}),{data:S,error:C}=_;return C?{data:{user:null,session:null},error:C}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new uf}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:C})}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await vC(async i=>(i>0&&await pC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fs})),(i,l)=>{const u=200*Math.pow(2,i);return l&&q1(l)&&Date.now()+u-a<xf})}catch(a){if(this._debug(n,"error",a),ht(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),ii()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Sc(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await wf(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:Y1()}else if(i&&!i.user&&!i.user){const u=await Sc(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await nu(this.storage,this.storageKey+"-user"),await wf(this.storage,this.storageKey,i)):i.user=Y1()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<G1;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${G1}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),q1(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(i.access_token);!f&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new au;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bv;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new au;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(i,"error",l),ht(l)){const u={data:null,error:l};return q1(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await wf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=Q_(i);await wf(this.storage,this.storageKey,l)}else{const i=Q_(n);await wf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await nu(this.storage,this.storageKey),await nu(this.storage,this.storageKey+"-code-verifier"),await nu(this.storage,this.storageKey+"-user"),this.userStorage&&await nu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ii()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/xf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xf}ms, refresh threshold is ${Ly} ticks`),i<=Ly&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof X5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ii()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await cf(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(f.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?{data:null,error:l}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&g.type==="totp"&&(!((i=g?.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KC(e.webauthn.credential_response):FC(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:IC(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:XC(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=V1(i.access_token);let f=null;u.aal&&(f=u.aal);let g=f;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(f=>f.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+nC>i)return a;const{data:l,error:u}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:C,error:T}=await this.getSession();if(T||!C.session)return{data:null,error:T};a=C.session.access_token}const{header:i,payload:l,signature:u,raw:{header:f,payload:g}}=V1(a);n?.allowExpired||EC(l.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:l,header:i,signature:u},error:null}}const v=CC(i.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,dC(`${f}.${g}`)))throw new Hy("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}}X0.nextInstanceID=0;const rT=X0;class iT extends rT{constructor(e){super(e)}}var sT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class lT{constructor(e,n,a){var i,l,u;this.supabaseUrl=e,this.supabaseKey=n;const f=$7(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:G7,realtime:V7,auth:Object.assign(Object.assign({},q7),{storageKey:g}),global:H7},v=Q7(a??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=X7(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new a7(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new L7(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new X9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return sT(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,storageKey:u,flowType:f,lock:g,debug:p},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iT({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,flowType:f,lock:g,debug:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oT=(t,e,n)=>new lT(t,e,n);function uT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cT="https://ptwlzqcuyndjswcwgndp.supabase.co",dT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",cn=oT(cT,dT),Jp="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var $5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a4=Qe.createContext&&Qe.createContext($5),fT=["attr","size","title"];function hT(t,e){if(t==null)return{};var n=gT(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function gT(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ev.apply(this,arguments)}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(a){mT(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function mT(t,e,n){return e=pT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pT(t){var e=vT(t,"string");return typeof e=="symbol"?e:e+""}function vT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W5(t){return t&&t.map((e,n)=>Qe.createElement(e.tag,tv({key:n},e.attr),W5(e.child)))}function Gn(t){return e=>Qe.createElement(yT,ev({attr:tv({},t.attr)},e),W5(t.child))}function yT(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=hT(t,fT),f=i||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),Qe.createElement("svg",ev({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:g,style:tv(tv({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Qe.createElement("title",null,l),t.children)};return a4!==void 0?Qe.createElement(a4.Consumer,null,n=>e(n)):e($5)}function J5(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function bT(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function b0(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function _T(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function ST(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function xT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function wT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function ET(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function CT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function TT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function AT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},child:[]}]})(t)}function RT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(t)}function i4(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function s4(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function OT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(t)}function NT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function MT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function I1(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function eS(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function DT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function l4(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function jT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function zT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function Me(t,e,n){function a(f,g){var p;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(p=f._zod).traits??(p.traits=new Set),f._zod.traits.add(t),e(f,g);for(const v in u.prototype)v in f||Object.defineProperty(f,v,{value:u.prototype[v].bind(f)});f._zod.constr=u,f._zod.def=g}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:t});function u(f){var g;const p=n?.Parent?new l:this;a(p,f),(g=p._zod).deferred??(g.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>n?.Parent&&f instanceof n.Parent?!0:f?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class Nf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class tS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const nS={};function Mc(t){return nS}function kT(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,i])=>e.indexOf(+a)===-1).map(([a,i])=>i)}function Gy(t,e){return typeof e=="bigint"?e.toString():e}function R2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function O2(t){return t==null}function N2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const o4=Symbol("evaluating");function Un(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==o4)return a===void 0&&(a=o4,a=n()),a},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Pc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Bc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function u4(t){return JSON.stringify(t)}const aS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function nv(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const UT=R2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function K0(t){if(nv(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(nv(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function rS(t){return K0(t)?{...t}:Array.isArray(t)?[...t]:t}const LT=new Set(["string","number","symbol"]);function _v(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vu(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function St(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function PT(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function BT(t,e){const n=t._zod.def,a=Bc(t._zod.def,{get shape(){const i={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(i[l]=n.shape[l])}return Pc(this,"shape",i),i},checks:[]});return vu(t,a)}function HT(t,e){const n=t._zod.def,a=Bc(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete i[l]}return Pc(this,"shape",i),i},checks:[]});return vu(t,a)}function GT(t,e){if(!K0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Bc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Pc(this,"shape",l),l},checks:[]});return vu(t,i)}function qT(t,e){if(!K0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Pc(this,"shape",a),a},checks:t._zod.def.checks};return vu(t,n)}function VT(t,e){const n=Bc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Pc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return vu(t,n)}function YT(t,e,n){const a=Bc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)l[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return Pc(this,"shape",l),l},checks:[]});return vu(e,a)}function ZT(t,e,n){const a=Bc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new t({type:"nonoptional",innerType:i[u]});return Pc(this,"shape",l),l},checks:[]});return vu(e,a)}function Tf(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function iS(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function ap(t){return typeof t=="string"?t:t?.message}function Dc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const i=ap(t.inst?._zod.def?.error?.(t))??ap(e?.error?.(t))??ap(n.customError?.(t))??ap(n.localeError?.(t))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function M2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function F0(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const sS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Gy,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},D2=Me("$ZodError",sS),Sv=Me("$ZodError",sS,{Parent:Error});function IT(t,e=n=>n.message){const n={},a=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):a.push(e(i));return{formErrors:a,fieldErrors:n}}function XT(t,e=n=>n.message){const n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,f=0;for(;f<l.path.length;){const g=l.path[f];f===l.path.length-1?(u[g]=u[g]||{_errors:[]},u[g]._errors.push(e(l))):u[g]=u[g]||{_errors:[]},u=u[g],f++}}};return a(t),n}const xv=t=>(e,n,a,i)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new Nf;if(u.issues.length){const f=new(i?.Err??t)(u.issues.map(g=>Dc(g,l,Mc())));throw aS(f,i?.callee),f}return u.value},KT=xv(Sv),wv=t=>async(e,n,a,i)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(i?.Err??t)(u.issues.map(g=>Dc(g,l,Mc())));throw aS(f,i?.callee),f}return u.value},FT=wv(Sv),Ev=t=>(e,n,a)=>{const i=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new Nf;return l.issues.length?{success:!1,error:new(t??D2)(l.issues.map(u=>Dc(u,i,Mc())))}:{success:!0,data:l.value}},QT=Ev(Sv),Cv=t=>async(e,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>Dc(u,i,Mc())))}:{success:!0,data:l.value}},$T=Cv(Sv),WT=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return xv(t)(e,n,i)},JT=t=>(e,n,a)=>xv(t)(e,n,a),eA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return wv(t)(e,n,i)},tA=t=>async(e,n,a)=>wv(t)(e,n,a),nA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Ev(t)(e,n,i)},aA=t=>(e,n,a)=>Ev(t)(e,n,a),rA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Cv(t)(e,n,i)},iA=t=>async(e,n,a)=>Cv(t)(e,n,a),sA=/^[cC][^\s-]{8,}$/,lA=/^[0-9a-z]+$/,oA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,uA=/^[0-9a-vA-V]{20}$/,cA=/^[A-Za-z0-9]{27}$/,dA=/^[a-zA-Z0-9_-]{21}$/,fA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,c4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,gA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,mA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function pA(){return new RegExp(mA,"u")}const vA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,bA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,_A=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,lS=/^[A-Za-z0-9_-]*$/,xA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,wA=/^\+(?:[0-9]){6,14}[0-9]$/,oS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",EA=new RegExp(`^${oS}$`);function uS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function CA(t){return new RegExp(`^${uS(t)}$`)}function TA(t){const e=uS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${oS}T(?:${a})$`)}const AA=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},RA=/^(?:true|false)$/i,OA=/^[^A-Z]*$/,NA=/^[^a-z]*$/,ml=Me("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),MA=Me("$ZodCheckMaxLength",(t,e)=>{var n;ml.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const i=a.value;if(i.length<=e.maximum)return;const u=M2(i);a.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),DA=Me("$ZodCheckMinLength",(t,e)=>{var n;ml.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const i=a.value;if(i.length>=e.minimum)return;const u=M2(i);a.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),jA=Me("$ZodCheckLengthEquals",(t,e)=>{var n;ml.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=a=>{const i=a.value,l=i.length;if(l===e.length)return;const u=M2(i),f=l>e.length;a.issues.push({origin:u,...f?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),Tv=Me("$ZodCheckStringFormat",(t,e)=>{var n,a;ml.init(t,e),t._zod.onattach.push(i=>{const l=i._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),zA=Me("$ZodCheckRegex",(t,e)=>{Tv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),kA=Me("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=OA),Tv.init(t,e)}),UA=Me("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=NA),Tv.init(t,e)}),LA=Me("$ZodCheckIncludes",(t,e)=>{ml.init(t,e);const n=_v(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),PA=Me("$ZodCheckStartsWith",(t,e)=>{ml.init(t,e);const n=new RegExp(`^${_v(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),BA=Me("$ZodCheckEndsWith",(t,e)=>{ml.init(t,e);const n=new RegExp(`.*${_v(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),HA=Me("$ZodCheckOverwrite",(t,e)=>{ml.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class GA{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),l=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,i.join(`
`))}}const qA={major:4,minor:1,patch:12},ga=Me("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=qA;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const i of a)for(const l of i._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,f,g)=>{let p=Tf(u),v;for(const _ of f){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(p)continue;const S=u.issues.length,C=_._zod.check(u);if(C instanceof Promise&&g?.async===!1)throw new Nf;if(v||C instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await C,u.issues.length!==S&&(p||(p=Tf(u,S)))});else{if(u.issues.length===S)continue;p||(p=Tf(u,S))}}return v?v.then(()=>u):u},l=(u,f,g)=>{if(Tf(u))return u.aborted=!0,u;const p=i(f,a,g);if(p instanceof Promise){if(g.async===!1)throw new Nf;return p.then(v=>t._zod.parse(v,g))}return t._zod.parse(p,g)};t._zod.run=(u,f)=>{if(f.skipChecks)return t._zod.parse(u,f);if(f.direction==="backward"){const p=t._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return p instanceof Promise?p.then(v=>l(v,u,f)):l(p,u,f)}const g=t._zod.parse(u,f);if(g instanceof Promise){if(f.async===!1)throw new Nf;return g.then(p=>i(p,a,f))}return i(g,a,f)}}t["~standard"]={validate:i=>{try{const l=QT(t,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return $T(t,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),j2=Me("$ZodString",(t,e)=>{ga.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??AA(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Vn=Me("$ZodStringFormat",(t,e)=>{Tv.init(t,e),j2.init(t,e)}),VA=Me("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=hA),Vn.init(t,e)}),YA=Me("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=c4(a))}else e.pattern??(e.pattern=c4());Vn.init(t,e)}),ZA=Me("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=gA),Vn.init(t,e)}),IA=Me("$ZodURL",(t,e)=>{Vn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:xA.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),XA=Me("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=pA()),Vn.init(t,e)}),KA=Me("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=dA),Vn.init(t,e)}),FA=Me("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=sA),Vn.init(t,e)}),QA=Me("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=lA),Vn.init(t,e)}),$A=Me("$ZodULID",(t,e)=>{e.pattern??(e.pattern=oA),Vn.init(t,e)}),WA=Me("$ZodXID",(t,e)=>{e.pattern??(e.pattern=uA),Vn.init(t,e)}),JA=Me("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=cA),Vn.init(t,e)}),eR=Me("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=TA(e)),Vn.init(t,e)}),tR=Me("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=EA),Vn.init(t,e)}),nR=Me("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=CA(e)),Vn.init(t,e)}),aR=Me("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=fA),Vn.init(t,e)}),rR=Me("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=vA),Vn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),iR=Me("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=yA),Vn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),sR=Me("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=bA),Vn.init(t,e)}),lR=Me("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=_A),Vn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,l]=a;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function cS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const oR=Me("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=SA),Vn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{cS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function uR(t){if(!lS.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return cS(n)}const cR=Me("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=lS),Vn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{uR(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),dR=Me("$ZodE164",(t,e)=>{e.pattern??(e.pattern=wA),Vn.init(t,e)});function fR(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const hR=Me("$ZodJWT",(t,e)=>{Vn.init(t,e),t._zod.check=n=>{fR(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),gR=Me("$ZodBoolean",(t,e)=>{ga.init(t,e),t._zod.pattern=RA,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),mR=Me("$ZodUnknown",(t,e)=>{ga.init(t,e),t._zod.parse=n=>n}),pR=Me("$ZodNever",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function d4(t,e,n){t.issues.length&&e.issues.push(...iS(n,t.issues)),e.value[n]=t.value}const vR=Me("$ZodArray",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const f=i[u],g=e.element._zod.run({value:f,issues:[]},a);g instanceof Promise?l.push(g.then(p=>d4(p,n,u))):d4(g,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function av(t,e,n,a){t.issues.length&&e.issues.push(...iS(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function dS(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=PT(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function fS(t,e,n,a,i,l){const u=[],f=i.keySet,g=i.catchall._zod,p=g.def.type;for(const v of Object.keys(e)){if(f.has(v))continue;if(p==="never"){u.push(v);continue}const _=g.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(S=>av(S,n,v,e))):av(_,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const yR=Me("$ZodObject",(t,e)=>{if(ga.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const f=e.shape;Object.defineProperty(e,"shape",{get:()=>{const g={...f};return Object.defineProperty(e,"shape",{value:g}),g}})}const a=R2(()=>dS(e));Un(t._zod,"propValues",()=>{const f=e.shape,g={};for(const p in f){const v=f[p]._zod;if(v.values){g[p]??(g[p]=new Set);for(const _ of v.values)g[p].add(_)}}return g});const i=nv,l=e.catchall;let u;t._zod.parse=(f,g)=>{u??(u=a.value);const p=f.value;if(!i(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),f;f.value={};const v=[],_=u.shape;for(const S of u.keys){const T=_[S]._zod.run({value:p[S],issues:[]},g);T instanceof Promise?v.push(T.then(R=>av(R,f,S,p))):av(T,f,S,p)}return l?fS(v,p,f,g,a.value,t):v.length?Promise.all(v).then(()=>f):f}}),bR=Me("$ZodObjectJIT",(t,e)=>{yR.init(t,e);const n=t._zod.parse,a=R2(()=>dS(e)),i=S=>{const C=new GA(["shape","payload","ctx"]),T=a.value,R=z=>{const L=u4(z);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};C.write("const input = payload.value;");const O=Object.create(null);let M=0;for(const z of T.keys)O[z]=`key_${M++}`;C.write("const newResult = {};");for(const z of T.keys){const L=O[z],H=u4(z);C.write(`const ${L} = ${R(z)};`),C.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        
        if (${L}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${L}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const j=C.compile();return(z,L)=>j(S,z,L)};let l;const u=nv,f=!nS.jitless,p=f&&UT.value,v=e.catchall;let _;t._zod.parse=(S,C)=>{_??(_=a.value);const T=S.value;return u(T)?f&&p&&C?.async===!1&&C.jitless!==!0?(l||(l=i(e.shape)),S=l(S,C),v?fS([],T,S,C,_,t):S):n(S,C):(S.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),S)}});function f4(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const i=t.filter(l=>!Tf(l));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>Dc(u,a,Mc())))}),e)}const _R=Me("$ZodUnion",(t,e)=>{ga.init(t,e),Un(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Un(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Un(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Un(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>N2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(i,l)=>{if(n)return a(i,l);let u=!1;const f=[];for(const g of e.options){const p=g._zod.run({value:i.value,issues:[]},l);if(p instanceof Promise)f.push(p),u=!0;else{if(p.issues.length===0)return p;f.push(p)}}return u?Promise.all(f).then(g=>f4(g,i,t,l)):f4(f,i,t,l)}}),SR=Me("$ZodIntersection",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value,l=e.left._zod.run({value:i,issues:[]},a),u=e.right._zod.run({value:i,issues:[]},a);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([g,p])=>h4(n,g,p)):h4(n,l,u)}});function qy(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(K0(t)&&K0(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const u=qy(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],u=qy(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function h4(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Tf(t))return t;const a=qy(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const xR=Me("$ZodEnum",(t,e)=>{ga.init(t,e);const n=kT(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(i=>LT.has(typeof i)).map(i=>typeof i=="string"?_v(i):i.toString()).join("|")})$`),t._zod.parse=(i,l)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:t}),i}}),wR=Me("$ZodTransform",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new tS(t.constructor.name);const i=e.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new Nf;return n.value=i,n}});function g4(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const ER=Me("$ZodOptional",(t,e)=>{ga.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Un(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Un(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>g4(l,n.value)):g4(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),CR=Me("$ZodNullable",(t,e)=>{ga.init(t,e),Un(t._zod,"optin",()=>e.innerType._zod.optin),Un(t._zod,"optout",()=>e.innerType._zod.optout),Un(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)}|null)$`):void 0}),Un(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),TR=Me("$ZodDefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",Un(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>m4(l,e)):m4(i,e)}});function m4(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const AR=Me("$ZodPrefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",Un(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),RR=Me("$ZodNonOptional",(t,e)=>{ga.init(t,e),Un(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>p4(l,t)):p4(i,t)}});function p4(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const OR=Me("$ZodCatch",(t,e)=>{ga.init(t,e),Un(t._zod,"optin",()=>e.innerType._zod.optin),Un(t._zod,"optout",()=>e.innerType._zod.optout),Un(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>Dc(u,a,Mc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>Dc(l,a,Mc()))},input:n.value}),n.issues=[]),n)}}),NR=Me("$ZodPipe",(t,e)=>{ga.init(t,e),Un(t._zod,"values",()=>e.in._zod.values),Un(t._zod,"optin",()=>e.in._zod.optin),Un(t._zod,"optout",()=>e.out._zod.optout),Un(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(u=>rp(u,e.in,a)):rp(l,e.in,a)}const i=e.in._zod.run(n,a);return i instanceof Promise?i.then(l=>rp(l,e.out,a)):rp(i,e.out,a)}});function rp(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const MR=Me("$ZodReadonly",(t,e)=>{ga.init(t,e),Un(t._zod,"propValues",()=>e.innerType._zod.propValues),Un(t._zod,"values",()=>e.innerType._zod.values),Un(t._zod,"optin",()=>e.innerType._zod.optin),Un(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(v4):v4(i)}});function v4(t){return t.value=Object.freeze(t.value),t}const DR=Me("$ZodCustom",(t,e)=>{ml.init(t,e),ga.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,i=e.fn(a);if(i instanceof Promise)return i.then(l=>y4(l,n,a,t));y4(i,n,a,t)}});function y4(t,e,n,a){if(!t){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),e.issues.push(F0(i))}}class jR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function zR(){return new jR}const ip=zR();function kR(t,e){return new t({type:"string",...St(e)})}function hS(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...St(e)})}function b4(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...St(e)})}function UR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...St(e)})}function LR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...St(e)})}function PR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...St(e)})}function BR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...St(e)})}function HR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...St(e)})}function GR(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...St(e)})}function qR(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...St(e)})}function VR(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...St(e)})}function YR(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...St(e)})}function ZR(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...St(e)})}function IR(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...St(e)})}function XR(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...St(e)})}function KR(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...St(e)})}function FR(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...St(e)})}function QR(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...St(e)})}function $R(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...St(e)})}function WR(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...St(e)})}function JR(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...St(e)})}function eO(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...St(e)})}function tO(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...St(e)})}function nO(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...St(e)})}function aO(t,e){return new t({type:"string",format:"date",check:"string_format",...St(e)})}function rO(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...St(e)})}function iO(t,e){return new t({type:"string",format:"duration",check:"string_format",...St(e)})}function sO(t,e){return new t({type:"boolean",...St(e)})}function lO(t){return new t({type:"unknown"})}function oO(t,e){return new t({type:"never",...St(e)})}function gS(t,e){return new MA({check:"max_length",...St(e),maximum:t})}function rv(t,e){return new DA({check:"min_length",...St(e),minimum:t})}function mS(t,e){return new jA({check:"length_equals",...St(e),length:t})}function uO(t,e){return new zA({check:"string_format",format:"regex",...St(e),pattern:t})}function cO(t){return new kA({check:"string_format",format:"lowercase",...St(t)})}function dO(t){return new UA({check:"string_format",format:"uppercase",...St(t)})}function fO(t,e){return new LA({check:"string_format",format:"includes",...St(e),includes:t})}function hO(t,e){return new PA({check:"string_format",format:"starts_with",...St(e),prefix:t})}function gO(t,e){return new BA({check:"string_format",format:"ends_with",...St(e),suffix:t})}function fg(t){return new HA({check:"overwrite",tx:t})}function mO(t){return fg(e=>e.normalize(t))}function pO(){return fg(t=>t.trim())}function vO(){return fg(t=>t.toLowerCase())}function yO(){return fg(t=>t.toUpperCase())}function bO(t,e,n){return new t({type:"array",element:e,...St(n)})}function _O(t,e,n){return new t({type:"custom",check:"custom",fn:e,...St(n)})}function SO(t){const e=xO(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(F0(a,n.value,e._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(F0(i))}},t(n.value,n)));return e}function xO(t,e){const n=new ml({check:"custom",...St(e)});return n._zod.check=t,n}const wO=Me("ZodISODateTime",(t,e)=>{eR.init(t,e),In.init(t,e)});function EO(t){return nO(wO,t)}const CO=Me("ZodISODate",(t,e)=>{tR.init(t,e),In.init(t,e)});function TO(t){return aO(CO,t)}const AO=Me("ZodISOTime",(t,e)=>{nR.init(t,e),In.init(t,e)});function RO(t){return rO(AO,t)}const OO=Me("ZodISODuration",(t,e)=>{aR.init(t,e),In.init(t,e)});function NO(t){return iO(OO,t)}const MO=(t,e)=>{D2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>XT(t,n)},flatten:{value:n=>IT(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Gy,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Gy,2)}},isEmpty:{get(){return t.issues.length===0}}})},Bi=Me("ZodError",MO,{Parent:Error}),DO=xv(Bi),jO=wv(Bi),zO=Ev(Bi),kO=Cv(Bi),UO=WT(Bi),LO=JT(Bi),PO=eA(Bi),BO=tA(Bi),HO=nA(Bi),GO=aA(Bi),qO=rA(Bi),VO=iA(Bi),wa=Me("ZodType",(t,e)=>(ga.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Bc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>vu(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>DO(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>zO(t,n,a),t.parseAsync=async(n,a)=>jO(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>kO(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>UO(t,n,a),t.decode=(n,a)=>LO(t,n,a),t.encodeAsync=async(n,a)=>PO(t,n,a),t.decodeAsync=async(n,a)=>BO(t,n,a),t.safeEncode=(n,a)=>HO(t,n,a),t.safeDecode=(n,a)=>GO(t,n,a),t.safeEncodeAsync=async(n,a)=>qO(t,n,a),t.safeDecodeAsync=async(n,a)=>VO(t,n,a),t.refine=(n,a)=>t.check(zN(n,a)),t.superRefine=n=>t.check(kN(n)),t.overwrite=n=>t.check(fg(n)),t.optional=()=>x4(t),t.nullable=()=>w4(t),t.nullish=()=>x4(w4(t)),t.nonoptional=n=>AN(t,n),t.array=()=>hN(t),t.or=n=>pN([t,n]),t.and=n=>yN(t,n),t.transform=n=>E4(t,SN(n)),t.default=n=>EN(t,n),t.prefault=n=>TN(t,n),t.catch=n=>ON(t,n),t.pipe=n=>E4(t,n),t.readonly=()=>DN(t),t.describe=n=>{const a=t.clone();return ip.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return ip.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return ip.get(t);const a=t.clone();return ip.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),pS=Me("_ZodString",(t,e)=>{j2.init(t,e),wa.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(uO(...a)),t.includes=(...a)=>t.check(fO(...a)),t.startsWith=(...a)=>t.check(hO(...a)),t.endsWith=(...a)=>t.check(gO(...a)),t.min=(...a)=>t.check(rv(...a)),t.max=(...a)=>t.check(gS(...a)),t.length=(...a)=>t.check(mS(...a)),t.nonempty=(...a)=>t.check(rv(1,...a)),t.lowercase=a=>t.check(cO(a)),t.uppercase=a=>t.check(dO(a)),t.trim=()=>t.check(pO()),t.normalize=(...a)=>t.check(mO(...a)),t.toLowerCase=()=>t.check(vO()),t.toUpperCase=()=>t.check(yO())}),YO=Me("ZodString",(t,e)=>{j2.init(t,e),pS.init(t,e),t.email=n=>t.check(hS(vS,n)),t.url=n=>t.check(HR(ZO,n)),t.jwt=n=>t.check(tO(sN,n)),t.emoji=n=>t.check(GR(IO,n)),t.guid=n=>t.check(b4(_4,n)),t.uuid=n=>t.check(UR(sp,n)),t.uuidv4=n=>t.check(LR(sp,n)),t.uuidv6=n=>t.check(PR(sp,n)),t.uuidv7=n=>t.check(BR(sp,n)),t.nanoid=n=>t.check(qR(XO,n)),t.guid=n=>t.check(b4(_4,n)),t.cuid=n=>t.check(VR(KO,n)),t.cuid2=n=>t.check(YR(FO,n)),t.ulid=n=>t.check(ZR(QO,n)),t.base64=n=>t.check(WR(aN,n)),t.base64url=n=>t.check(JR(rN,n)),t.xid=n=>t.check(IR($O,n)),t.ksuid=n=>t.check(XR(WO,n)),t.ipv4=n=>t.check(KR(JO,n)),t.ipv6=n=>t.check(FR(eN,n)),t.cidrv4=n=>t.check(QR(tN,n)),t.cidrv6=n=>t.check($R(nN,n)),t.e164=n=>t.check(eO(iN,n)),t.datetime=n=>t.check(EO(n)),t.date=n=>t.check(TO(n)),t.time=n=>t.check(RO(n)),t.duration=n=>t.check(NO(n))});function mr(t){return kR(YO,t)}const In=Me("ZodStringFormat",(t,e)=>{Vn.init(t,e),pS.init(t,e)}),vS=Me("ZodEmail",(t,e)=>{ZA.init(t,e),In.init(t,e)});function yS(t){return hS(vS,t)}const _4=Me("ZodGUID",(t,e)=>{VA.init(t,e),In.init(t,e)}),sp=Me("ZodUUID",(t,e)=>{YA.init(t,e),In.init(t,e)}),ZO=Me("ZodURL",(t,e)=>{IA.init(t,e),In.init(t,e)}),IO=Me("ZodEmoji",(t,e)=>{XA.init(t,e),In.init(t,e)}),XO=Me("ZodNanoID",(t,e)=>{KA.init(t,e),In.init(t,e)}),KO=Me("ZodCUID",(t,e)=>{FA.init(t,e),In.init(t,e)}),FO=Me("ZodCUID2",(t,e)=>{QA.init(t,e),In.init(t,e)}),QO=Me("ZodULID",(t,e)=>{$A.init(t,e),In.init(t,e)}),$O=Me("ZodXID",(t,e)=>{WA.init(t,e),In.init(t,e)}),WO=Me("ZodKSUID",(t,e)=>{JA.init(t,e),In.init(t,e)}),JO=Me("ZodIPv4",(t,e)=>{rR.init(t,e),In.init(t,e)}),eN=Me("ZodIPv6",(t,e)=>{iR.init(t,e),In.init(t,e)}),tN=Me("ZodCIDRv4",(t,e)=>{sR.init(t,e),In.init(t,e)}),nN=Me("ZodCIDRv6",(t,e)=>{lR.init(t,e),In.init(t,e)}),aN=Me("ZodBase64",(t,e)=>{oR.init(t,e),In.init(t,e)}),rN=Me("ZodBase64URL",(t,e)=>{cR.init(t,e),In.init(t,e)}),iN=Me("ZodE164",(t,e)=>{dR.init(t,e),In.init(t,e)}),sN=Me("ZodJWT",(t,e)=>{hR.init(t,e),In.init(t,e)}),lN=Me("ZodBoolean",(t,e)=>{gR.init(t,e),wa.init(t,e)});function oN(t){return sO(lN,t)}const uN=Me("ZodUnknown",(t,e)=>{mR.init(t,e),wa.init(t,e)});function S4(){return lO(uN)}const cN=Me("ZodNever",(t,e)=>{pR.init(t,e),wa.init(t,e)});function dN(t){return oO(cN,t)}const fN=Me("ZodArray",(t,e)=>{vR.init(t,e),wa.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(rv(n,a)),t.nonempty=n=>t.check(rv(1,n)),t.max=(n,a)=>t.check(gS(n,a)),t.length=(n,a)=>t.check(mS(n,a)),t.unwrap=()=>t.element});function hN(t,e){return bO(fN,t,e)}const gN=Me("ZodObject",(t,e)=>{bR.init(t,e),wa.init(t,e),Un(t,"shape",()=>e.shape),t.keyof=()=>bN(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:S4()}),t.loose=()=>t.clone({...t._zod.def,catchall:S4()}),t.strict=()=>t.clone({...t._zod.def,catchall:dN()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>GT(t,n),t.safeExtend=n=>qT(t,n),t.merge=n=>VT(t,n),t.pick=n=>BT(t,n),t.omit=n=>HT(t,n),t.partial=(...n)=>YT(bS,t,n[0]),t.required=(...n)=>ZT(_S,t,n[0])});function qf(t,e){const n={type:"object",shape:t??{},...St(e)};return new gN(n)}const mN=Me("ZodUnion",(t,e)=>{_R.init(t,e),wa.init(t,e),t.options=e.options});function pN(t,e){return new mN({type:"union",options:t,...St(e)})}const vN=Me("ZodIntersection",(t,e)=>{SR.init(t,e),wa.init(t,e)});function yN(t,e){return new vN({type:"intersection",left:t,right:e})}const Vy=Me("ZodEnum",(t,e)=>{xR.init(t,e),wa.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,i)=>{const l={};for(const u of a)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],...St(i),entries:l})},t.exclude=(a,i)=>{const l={...e.entries};for(const u of a)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],...St(i),entries:l})}});function bN(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new Vy({type:"enum",entries:n,...St(e)})}const _N=Me("ZodTransform",(t,e)=>{wR.init(t,e),wa.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new tS(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(F0(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(F0(u))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function SN(t){return new _N({type:"transform",transform:t})}const bS=Me("ZodOptional",(t,e)=>{ER.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function x4(t){return new bS({type:"optional",innerType:t})}const xN=Me("ZodNullable",(t,e)=>{CR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function w4(t){return new xN({type:"nullable",innerType:t})}const wN=Me("ZodDefault",(t,e)=>{TR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function EN(t,e){return new wN({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():rS(e)}})}const CN=Me("ZodPrefault",(t,e)=>{AR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function TN(t,e){return new CN({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():rS(e)}})}const _S=Me("ZodNonOptional",(t,e)=>{RR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function AN(t,e){return new _S({type:"nonoptional",innerType:t,...St(e)})}const RN=Me("ZodCatch",(t,e)=>{OR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function ON(t,e){return new RN({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const NN=Me("ZodPipe",(t,e)=>{NR.init(t,e),wa.init(t,e),t.in=e.in,t.out=e.out});function E4(t,e){return new NN({type:"pipe",in:t,out:e})}const MN=Me("ZodReadonly",(t,e)=>{MR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function DN(t){return new MN({type:"readonly",innerType:t})}const jN=Me("ZodCustom",(t,e)=>{DR.init(t,e),wa.init(t,e)});function zN(t,e={}){return _O(jN,t,e)}function kN(t){return SO(t)}var hg=t=>t.type==="checkbox",Oc=t=>t instanceof Date,Zr=t=>t==null;const SS=t=>typeof t=="object";var ha=t=>!Zr(t)&&!Array.isArray(t)&&SS(t)&&!Oc(t),UN=t=>ha(t)&&t.target?hg(t.target)?t.target.checked:t.target.value:t,LN=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,PN=(t,e)=>t.has(LN(e)),BN=t=>{const e=t.constructor&&t.constructor.prototype;return ha(e)&&e.hasOwnProperty("isPrototypeOf")},z2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ba(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(z2&&(t instanceof Blob||a))&&(n||ha(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!BN(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ba(t[i]));else return t;return e}var Av=t=>/^\w*$/.test(t),ra=t=>t===void 0,k2=t=>Array.isArray(t)?t.filter(Boolean):[],U2=t=>k2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(t,e,n)=>{if(!e||!ha(t))return n;const a=(Av(e)?[e]:U2(e)).reduce((i,l)=>Zr(i)?i:i[l],t);return ra(a)||a===t?ra(t[e])?n:t[e]:a},ll=t=>typeof t=="boolean",On=(t,e,n)=>{let a=-1;const i=Av(e)?[e]:U2(e),l=i.length,u=l-1;for(;++a<l;){const f=i[a];let g=n;if(a!==u){const p=t[f];g=ha(p)||Array.isArray(p)?p:isNaN(+i[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=g,t=t[f]}};const C4={BLUR:"blur",FOCUS_OUT:"focusout"},ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$l={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HN=Qe.createContext(null);HN.displayName="HookFormContext";var GN=(t,e,n,a=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const u=l;return e._proxyFormState[u]!==ms.all&&(e._proxyFormState[u]=!a||ms.all),t[u]}});return i};const qN=typeof window<"u"?Qe.useLayoutEffect:Qe.useEffect;var oi=t=>typeof t=="string",VN=(t,e,n,a,i)=>oi(t)?(a&&e.watch.add(t),nt(n,t,i)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),nt(n,l))):(a&&(e.watchAll=!0),n),Yy=t=>Zr(t)||!SS(t);function cu(t,e,n=new WeakSet){if(Yy(t)||Yy(e))return t===e;if(Oc(t)&&Oc(e))return t.getTime()===e.getTime();const a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const u=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const f=e[l];if(Oc(u)&&Oc(f)||ha(u)&&ha(f)||Array.isArray(u)&&Array.isArray(f)?!cu(u,f,n):u!==f)return!1}}return!0}var L2=(t,e,n,a,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:i||!0}}:{},L0=t=>Array.isArray(t)?t:[t],T4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function xS(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const i=t[a],l=e[a];if(i&&ha(i)&&l){const u=xS(i,l);ha(u)&&(n[a]=u)}else t[a]&&(n[a]=l)}return n}var Yr=t=>ha(t)&&!Object.keys(t).length,P2=t=>t.type==="file",ps=t=>typeof t=="function",iv=t=>{if(!z2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wS=t=>t.type==="select-multiple",B2=t=>t.type==="radio",YN=t=>B2(t)||hg(t),X1=t=>iv(t)&&t.isConnected;function ZN(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=ra(t)?a++:t[e[a++]];return t}function IN(t){for(const e in t)if(t.hasOwnProperty(e)&&!ra(t[e]))return!1;return!0}function ca(t,e){const n=Array.isArray(e)?e:Av(e)?[e]:U2(e),a=n.length===1?t:ZN(t,n),i=n.length-1,l=n[i];return a&&delete a[l],i!==0&&(ha(a)&&Yr(a)||Array.isArray(a)&&IN(a))&&ca(t,n.slice(0,-1)),t}var XN=t=>{for(const e in t)if(ps(t[e]))return!0;return!1};function ES(t){return Array.isArray(t)||ha(t)&&!XN(t)}function Zy(t,e={}){for(const n in t)ES(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Zy(t[n],e[n])):ra(t[n])||(e[n]=!0);return e}function Ef(t,e,n){n||(n=Zy(e));for(const a in t)ES(t[a])?ra(e)||Yy(n[a])?n[a]=Zy(t[a],Array.isArray(t[a])?[]:{}):Ef(t[a],Zr(e)?{}:e[a],n[a]):n[a]=!cu(t[a],e[a]);return n}const A4={value:!1,isValid:!1},R4={value:!0,isValid:!0};var CS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ra(t[0].attributes.value)?ra(t[0].value)||t[0].value===""?R4:{value:t[0].value,isValid:!0}:R4:A4}return A4},TS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>ra(t)?t:e?t===""?NaN:t&&+t:n&&oi(t)?new Date(t):a?a(t):t;const O4={isValid:!1,value:null};var AS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,O4):O4;function N4(t){const e=t.ref;return P2(e)?e.files:B2(e)?AS(t.refs).value:wS(e)?[...e.selectedOptions].map(({value:n})=>n):hg(e)?CS(t.refs).value:TS(ra(e.value)?t.ref.value:e.value,t)}var KN=(t,e,n,a)=>{const i={};for(const l of t){const u=nt(e,l);u&&On(i,l,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:a}},sv=t=>t instanceof RegExp,_0=t=>ra(t)?t:sv(t)?t.source:ha(t)?sv(t.value)?t.value.source:t.value:t,M4=t=>({isOnSubmit:!t||t===ms.onSubmit,isOnBlur:t===ms.onBlur,isOnChange:t===ms.onChange,isOnAll:t===ms.all,isOnTouch:t===ms.onTouched});const D4="AsyncFunction";var FN=t=>!!t&&!!t.validate&&!!(ps(t.validate)&&t.validate.constructor.name===D4||ha(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===D4)),QN=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),j4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const P0=(t,e,n,a)=>{for(const i of n||Object.keys(t)){const l=nt(t,i);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if(P0(f,e))break}else if(ha(f)&&P0(f,e))break}}};function z4(t,e,n){const a=nt(t,n);if(a||Av(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),u=nt(e,l),f=nt(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};i.pop()}return{name:n}}var $N=(t,e,n,a)=>{n(t);const{name:i,...l}=t;return Yr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||ms.all))},WN=(t,e,n)=>!t||!e||t===e||L0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),JN=(t,e,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?a.isOnBlur:i.isOnBlur)?!t:(n?a.isOnChange:i.isOnChange)?t:!0,eM=(t,e)=>!k2(nt(t,e)).length&&ca(t,e),tM=(t,e,n)=>{const a=L0(nt(t,n));return On(a,"root",e[n]),On(t,n,a),t};function k4(t,e,n="validate"){if(oi(t)||Array.isArray(t)&&t.every(oi)||ll(t)&&!t)return{type:n,message:oi(t)?t:"",ref:e}}var gf=t=>ha(t)&&!sv(t)?t:{value:t,message:""},U4=async(t,e,n,a,i,l)=>{const{ref:u,refs:f,required:g,maxLength:p,minLength:v,min:_,max:S,pattern:C,validate:T,name:R,valueAsNumber:O,mount:M}=t._f,j=nt(n,R);if(!M||e.has(R))return{};const z=f?f[0]:u,L=ve=>{i&&z.reportValidity&&(z.setCustomValidity(ll(ve)?"":ve||""),z.reportValidity())},H={},U=B2(u),Y=hg(u),Q=U||Y,se=(O||P2(u))&&ra(u.value)&&ra(j)||iv(u)&&u.value===""||j===""||Array.isArray(j)&&!j.length,_e=L2.bind(null,R,a,H),Ce=(ve,fe,ce,be=$l.maxLength,B=$l.minLength)=>{const ae=ve?fe:ce;H[R]={type:ve?be:B,message:ae,ref:u,..._e(ve?be:B,ae)}};if(l?!Array.isArray(j)||!j.length:g&&(!Q&&(se||Zr(j))||ll(j)&&!j||Y&&!CS(f).isValid||U&&!AS(f).isValid)){const{value:ve,message:fe}=oi(g)?{value:!!g,message:g}:gf(g);if(ve&&(H[R]={type:$l.required,message:fe,ref:z,..._e($l.required,fe)},!a))return L(fe),H}if(!se&&(!Zr(_)||!Zr(S))){let ve,fe;const ce=gf(S),be=gf(_);if(!Zr(j)&&!isNaN(j)){const B=u.valueAsNumber||j&&+j;Zr(ce.value)||(ve=B>ce.value),Zr(be.value)||(fe=B<be.value)}else{const B=u.valueAsDate||new Date(j),ae=G=>new Date(new Date().toDateString()+" "+G),K=u.type=="time",he=u.type=="week";oi(ce.value)&&j&&(ve=K?ae(j)>ae(ce.value):he?j>ce.value:B>new Date(ce.value)),oi(be.value)&&j&&(fe=K?ae(j)<ae(be.value):he?j<be.value:B<new Date(be.value))}if((ve||fe)&&(Ce(!!ve,ce.message,be.message,$l.max,$l.min),!a))return L(H[R].message),H}if((p||v)&&!se&&(oi(j)||l&&Array.isArray(j))){const ve=gf(p),fe=gf(v),ce=!Zr(ve.value)&&j.length>+ve.value,be=!Zr(fe.value)&&j.length<+fe.value;if((ce||be)&&(Ce(ce,ve.message,fe.message),!a))return L(H[R].message),H}if(C&&!se&&oi(j)){const{value:ve,message:fe}=gf(C);if(sv(ve)&&!j.match(ve)&&(H[R]={type:$l.pattern,message:fe,ref:u,..._e($l.pattern,fe)},!a))return L(fe),H}if(T){if(ps(T)){const ve=await T(j,n),fe=k4(ve,z);if(fe&&(H[R]={...fe,..._e($l.validate,fe.message)},!a))return L(fe.message),H}else if(ha(T)){let ve={};for(const fe in T){if(!Yr(ve)&&!a)break;const ce=k4(await T[fe](j,n),z,fe);ce&&(ve={...ce,..._e(fe,ce.message)},L(ce.message),a&&(H[R]=ve))}if(!Yr(ve)&&(H[R]={ref:z,...ve},!a))return H}}return L(!0),H};const nM={mode:ms.onSubmit,reValidateMode:ms.onChange,shouldFocusError:!0};function aM(t={}){let e={...nM,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ps(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=ha(e.defaultValues)||ha(e.values)?Ba(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Ba(i),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const S={array:T4(),state:T4()},C=e.criteriaMode===ms.all,T=I=>re=>{clearTimeout(p),p=setTimeout(I,re)},R=async I=>{if(!e.disabled&&(v.isValid||_.isValid||I)){const re=e.resolver?Yr((await Y()).errors):await se(a,!0);re!==n.isValid&&S.state.next({isValid:re})}},O=(I,re)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((I||Array.from(f.mount)).forEach(ge=>{ge&&(re?On(n.validatingFields,ge,re):ca(n.validatingFields,ge))}),S.state.next({validatingFields:n.validatingFields,isValidating:!Yr(n.validatingFields)}))},M=(I,re=[],ge,He,Le=!0,je=!0)=>{if(He&&ge&&!e.disabled){if(u.action=!0,je&&Array.isArray(nt(a,I))){const Ye=ge(nt(a,I),He.argA,He.argB);Le&&On(a,I,Ye)}if(je&&Array.isArray(nt(n.errors,I))){const Ye=ge(nt(n.errors,I),He.argA,He.argB);Le&&On(n.errors,I,Ye),eM(n.errors,I)}if((v.touchedFields||_.touchedFields)&&je&&Array.isArray(nt(n.touchedFields,I))){const Ye=ge(nt(n.touchedFields,I),He.argA,He.argB);Le&&On(n.touchedFields,I,Ye)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Ef(i,l)),S.state.next({name:I,isDirty:Ce(I,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else On(l,I,re)},j=(I,re)=>{On(n.errors,I,re),S.state.next({errors:n.errors})},z=I=>{n.errors=I,S.state.next({errors:n.errors,isValid:!1})},L=(I,re,ge,He)=>{const Le=nt(a,I);if(Le){const je=nt(l,I,ra(ge)?nt(i,I):ge);ra(je)||He&&He.defaultChecked||re?On(l,I,re?je:N4(Le._f)):ce(I,je),u.mount&&R()}},H=(I,re,ge,He,Le)=>{let je=!1,Ye=!1;const $e={name:I};if(!e.disabled){if(!ge||He){(v.isDirty||_.isDirty)&&(Ye=n.isDirty,n.isDirty=$e.isDirty=Ce(),je=Ye!==$e.isDirty);const vt=cu(nt(i,I),re);Ye=!!nt(n.dirtyFields,I),vt?ca(n.dirtyFields,I):On(n.dirtyFields,I,!0),$e.dirtyFields=n.dirtyFields,je=je||(v.dirtyFields||_.dirtyFields)&&Ye!==!vt}if(ge){const vt=nt(n.touchedFields,I);vt||(On(n.touchedFields,I,ge),$e.touchedFields=n.touchedFields,je=je||(v.touchedFields||_.touchedFields)&&vt!==ge)}je&&Le&&S.state.next($e)}return je?$e:{}},U=(I,re,ge,He)=>{const Le=nt(n.errors,I),je=(v.isValid||_.isValid)&&ll(re)&&n.isValid!==re;if(e.delayError&&ge?(g=T(()=>j(I,ge)),g(e.delayError)):(clearTimeout(p),g=null,ge?On(n.errors,I,ge):ca(n.errors,I)),(ge?!cu(Le,ge):Le)||!Yr(He)||je){const Ye={...He,...je&&ll(re)?{isValid:re}:{},errors:n.errors,name:I};n={...n,...Ye},S.state.next(Ye)}},Y=async I=>{O(I,!0);const re=await e.resolver(l,e.context,KN(I||f.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(I),re},Q=async I=>{const{errors:re}=await Y(I);if(I)for(const ge of I){const He=nt(re,ge);He?On(n.errors,ge,He):ca(n.errors,ge)}else n.errors=re;return re},se=async(I,re,ge={valid:!0})=>{for(const He in I){const Le=I[He];if(Le){const{_f:je,...Ye}=Le;if(je){const $e=f.array.has(je.name),vt=Le._f&&FN(Le._f);vt&&v.validatingFields&&O([je.name],!0);const Wt=await U4(Le,f.disabled,l,C,e.shouldUseNativeValidation&&!re,$e);if(vt&&v.validatingFields&&O([je.name]),Wt[je.name]&&(ge.valid=!1,re))break;!re&&(nt(Wt,je.name)?$e?tM(n.errors,Wt,je.name):On(n.errors,je.name,Wt[je.name]):ca(n.errors,je.name))}!Yr(Ye)&&await se(Ye,re,ge)}}return ge.valid},_e=()=>{for(const I of f.unMount){const re=nt(a,I);re&&(re._f.refs?re._f.refs.every(ge=>!X1(ge)):!X1(re._f.ref))&&xe(I)}f.unMount=new Set},Ce=(I,re)=>!e.disabled&&(I&&re&&On(l,I,re),!cu(G(),i)),ve=(I,re,ge)=>VN(I,f,{...u.mount?l:ra(re)?i:oi(I)?{[I]:re}:re},ge,re),fe=I=>k2(nt(u.mount?l:i,I,e.shouldUnregister?nt(i,I,[]):[])),ce=(I,re,ge={})=>{const He=nt(a,I);let Le=re;if(He){const je=He._f;je&&(!je.disabled&&On(l,I,TS(re,je)),Le=iv(je.ref)&&Zr(re)?"":re,wS(je.ref)?[...je.ref.options].forEach(Ye=>Ye.selected=Le.includes(Ye.value)):je.refs?hg(je.ref)?je.refs.forEach(Ye=>{(!Ye.defaultChecked||!Ye.disabled)&&(Array.isArray(Le)?Ye.checked=!!Le.find($e=>$e===Ye.value):Ye.checked=Le===Ye.value||!!Le)}):je.refs.forEach(Ye=>Ye.checked=Ye.value===Le):P2(je.ref)?je.ref.value="":(je.ref.value=Le,je.ref.type||S.state.next({name:I,values:Ba(l)})))}(ge.shouldDirty||ge.shouldTouch)&&H(I,Le,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&he(I)},be=(I,re,ge)=>{for(const He in re){if(!re.hasOwnProperty(He))return;const Le=re[He],je=I+"."+He,Ye=nt(a,je);(f.array.has(I)||ha(Le)||Ye&&!Ye._f)&&!Oc(Le)?be(je,Le,ge):ce(je,Le,ge)}},B=(I,re,ge={})=>{const He=nt(a,I),Le=f.array.has(I),je=Ba(re);On(l,I,je),Le?(S.array.next({name:I,values:Ba(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&ge.shouldDirty&&S.state.next({name:I,dirtyFields:Ef(i,l),isDirty:Ce(I,je)})):He&&!He._f&&!Zr(je)?be(I,je,ge):ce(I,je,ge),j4(I,f)&&S.state.next({...n,name:I}),S.state.next({name:u.mount?I:void 0,values:Ba(l)})},ae=async I=>{u.mount=!0;const re=I.target;let ge=re.name,He=!0;const Le=nt(a,ge),je=vt=>{He=Number.isNaN(vt)||Oc(vt)&&isNaN(vt.getTime())||cu(vt,nt(l,ge,vt))},Ye=M4(e.mode),$e=M4(e.reValidateMode);if(Le){let vt,Wt;const vr=re.type?N4(Le._f):UN(I),Ga=I.type===C4.BLUR||I.type===C4.FOCUS_OUT,Ca=!QN(Le._f)&&!e.resolver&&!nt(n.errors,ge)&&!Le._f.deps||JN(Ga,nt(n.touchedFields,ge),n.isSubmitted,$e,Ye),qa=j4(ge,f,Ga);On(l,ge,vr),Ga?(!re||!re.readOnly)&&(Le._f.onBlur&&Le._f.onBlur(I),g&&g(0)):Le._f.onChange&&Le._f.onChange(I);const er=H(ge,vr,Ga),Ta=!Yr(er)||qa;if(!Ga&&S.state.next({name:ge,type:I.type,values:Ba(l)}),Ca)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?Ga&&R():Ga||R()),Ta&&S.state.next({name:ge,...qa?{}:er});if(!Ga&&qa&&S.state.next({...n}),e.resolver){const{errors:Re}=await Y([ge]);if(je(vr),He){const ke=z4(n.errors,a,ge),Jt=z4(Re,a,ke.name||ge);vt=Jt.error,ge=Jt.name,Wt=Yr(Re)}}else O([ge],!0),vt=(await U4(Le,f.disabled,l,C,e.shouldUseNativeValidation))[ge],O([ge]),je(vr),He&&(vt?Wt=!1:(v.isValid||_.isValid)&&(Wt=await se(a,!0)));He&&(Le._f.deps&&(!Array.isArray(Le._f.deps)||Le._f.deps.length>0)&&he(Le._f.deps),U(ge,Wt,vt,er))}},K=(I,re)=>{if(nt(n.errors,re)&&I.focus)return I.focus(),1},he=async(I,re={})=>{let ge,He;const Le=L0(I);if(e.resolver){const je=await Q(ra(I)?I:Le);ge=Yr(je),He=I?!Le.some(Ye=>nt(je,Ye)):ge}else I?(He=(await Promise.all(Le.map(async je=>{const Ye=nt(a,je);return await se(Ye&&Ye._f?{[je]:Ye}:Ye)}))).every(Boolean),!(!He&&!n.isValid)&&R()):He=ge=await se(a);return S.state.next({...!oi(I)||(v.isValid||_.isValid)&&ge!==n.isValid?{}:{name:I},...e.resolver||!I?{isValid:ge}:{},errors:n.errors}),re.shouldFocus&&!He&&P0(a,K,I?Le:f.mount),He},G=(I,re)=>{let ge={...u.mount?l:i};return re&&(ge=xS(re.dirtyFields?n.dirtyFields:n.touchedFields,ge)),ra(I)?ge:oi(I)?nt(ge,I):I.map(He=>nt(ge,He))},$=(I,re)=>({invalid:!!nt((re||n).errors,I),isDirty:!!nt((re||n).dirtyFields,I),error:nt((re||n).errors,I),isValidating:!!nt(n.validatingFields,I),isTouched:!!nt((re||n).touchedFields,I)}),Ee=I=>{I&&L0(I).forEach(re=>ca(n.errors,re)),S.state.next({errors:I?n.errors:{}})},Te=(I,re,ge)=>{const He=(nt(a,I,{_f:{}})._f||{}).ref,Le=nt(n.errors,I)||{},{ref:je,message:Ye,type:$e,...vt}=Le;On(n.errors,I,{...vt,...re,ref:He}),S.state.next({name:I,errors:n.errors,isValid:!1}),ge&&ge.shouldFocus&&He&&He.focus&&He.focus()},Ve=(I,re)=>ps(I)?S.state.subscribe({next:ge=>"values"in ge&&I(ve(void 0,re),ge)}):ve(I,re,!0),ot=I=>S.state.subscribe({next:re=>{WN(I.name,re.name,I.exact)&&$N(re,I.formState||v,ea,I.reRenderRoot)&&I.callback({values:{...l},...n,...re,defaultValues:i})}}).unsubscribe,ue=I=>(u.mount=!0,_={..._,...I.formState},ot({...I,formState:_})),xe=(I,re={})=>{for(const ge of I?L0(I):f.mount)f.mount.delete(ge),f.array.delete(ge),re.keepValue||(ca(a,ge),ca(l,ge)),!re.keepError&&ca(n.errors,ge),!re.keepDirty&&ca(n.dirtyFields,ge),!re.keepTouched&&ca(n.touchedFields,ge),!re.keepIsValidating&&ca(n.validatingFields,ge),!e.shouldUnregister&&!re.keepDefaultValue&&ca(i,ge);S.state.next({values:Ba(l)}),S.state.next({...n,...re.keepDirty?{isDirty:Ce()}:{}}),!re.keepIsValid&&R()},Ie=({disabled:I,name:re})=>{(ll(I)&&u.mount||I||f.disabled.has(re))&&(I?f.disabled.add(re):f.disabled.delete(re))},dt=(I,re={})=>{let ge=nt(a,I);const He=ll(re.disabled)||ll(e.disabled);return On(a,I,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:I}},name:I,mount:!0,...re}}),f.mount.add(I),ge?Ie({disabled:ll(re.disabled)?re.disabled:e.disabled,name:I}):L(I,!0,re.value),{...He?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:_0(re.min),max:_0(re.max),minLength:_0(re.minLength),maxLength:_0(re.maxLength),pattern:_0(re.pattern)}:{},name:I,onChange:ae,onBlur:ae,ref:Le=>{if(Le){dt(I,re),ge=nt(a,I);const je=ra(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,Ye=YN(je),$e=ge._f.refs||[];if(Ye?$e.find(vt=>vt===je):je===ge._f.ref)return;On(a,I,{_f:{...ge._f,...Ye?{refs:[...$e.filter(X1),je,...Array.isArray(nt(i,I))?[{}]:[]],ref:{type:je.type,name:I}}:{ref:je}}}),L(I,!1,void 0,je)}else ge=nt(a,I,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(PN(f.array,I)&&u.action)&&f.unMount.add(I)}}},rt=()=>e.shouldFocusError&&P0(a,K,f.mount),xt=I=>{ll(I)&&(S.state.next({disabled:I}),P0(a,(re,ge)=>{const He=nt(a,ge);He&&(re.disabled=He._f.disabled||I,Array.isArray(He._f.refs)&&He._f.refs.forEach(Le=>{Le.disabled=He._f.disabled||I}))},0,!1))},sn=(I,re)=>async ge=>{let He;ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist());let Le=Ba(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:je,values:Ye}=await Y();n.errors=je,Le=Ba(Ye)}else await se(a);if(f.disabled.size)for(const je of f.disabled)ca(Le,je);if(ca(n.errors,"root"),Yr(n.errors)){S.state.next({errors:{}});try{await I(Le,ge)}catch(je){He=je}}else re&&await re({...n.errors},ge),rt(),setTimeout(rt);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yr(n.errors)&&!He,submitCount:n.submitCount+1,errors:n.errors}),He)throw He},ln=(I,re={})=>{nt(a,I)&&(ra(re.defaultValue)?B(I,Ba(nt(i,I))):(B(I,re.defaultValue),On(i,I,Ba(re.defaultValue))),re.keepTouched||ca(n.touchedFields,I),re.keepDirty||(ca(n.dirtyFields,I),n.isDirty=re.defaultValue?Ce(I,Ba(nt(i,I))):Ce()),re.keepError||(ca(n.errors,I),v.isValid&&R()),S.state.next({...n}))},gn=(I,re={})=>{const ge=I?Ba(I):i,He=Ba(ge),Le=Yr(I),je=Le?i:He;if(re.keepDefaultValues||(i=ge),!re.keepValues){if(re.keepDirtyValues){const Ye=new Set([...f.mount,...Object.keys(Ef(i,l))]);for(const $e of Array.from(Ye))nt(n.dirtyFields,$e)?On(je,$e,nt(l,$e)):B($e,nt(je,$e))}else{if(z2&&ra(I))for(const Ye of f.mount){const $e=nt(a,Ye);if($e&&$e._f){const vt=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(iv(vt)){const Wt=vt.closest("form");if(Wt){Wt.reset();break}}}}if(re.keepFieldsRef)for(const Ye of f.mount)B(Ye,nt(je,Ye));else a={}}l=e.shouldUnregister?re.keepDefaultValues?Ba(i):{}:Ba(je),S.array.next({values:{...je}}),S.state.next({values:{...je}})}f={mount:re.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!re.keepIsValid||!!re.keepDirtyValues,u.watch=!!e.shouldUnregister,S.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Le?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!cu(I,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Le?{}:re.keepDirtyValues?re.keepDefaultValues&&l?Ef(i,l):n.dirtyFields:re.keepDefaultValues&&I?Ef(i,I):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ha=(I,re)=>gn(ps(I)?I(l):I,re),ma=(I,re={})=>{const ge=nt(a,I),He=ge&&ge._f;if(He){const Le=He.refs?He.refs[0]:He.ref;Le.focus&&(Le.focus(),re.shouldSelect&&ps(Le.select)&&Le.select())}},ea=I=>{n={...n,...I}},pr={control:{register:dt,unregister:xe,getFieldState:$,handleSubmit:sn,setError:Te,_subscribe:ot,_runSchema:Y,_focusError:rt,_getWatch:ve,_getDirty:Ce,_setValid:R,_setFieldArray:M,_setDisabledField:Ie,_setErrors:z,_getFieldArray:fe,_reset:gn,_resetDefaultValues:()=>ps(e.defaultValues)&&e.defaultValues().then(I=>{Ha(I,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:_e,_disableForm:xt,_subjects:S,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(I){u=I},get _defaultValues(){return i},get _names(){return f},set _names(I){f=I},get _formState(){return n},get _options(){return e},set _options(I){e={...e,...I}}},subscribe:ue,trigger:he,register:dt,handleSubmit:sn,watch:Ve,setValue:B,getValues:G,reset:Ha,resetField:ln,clearErrors:Ee,unregister:xe,setError:Te,setFocus:ma,getFieldState:$};return{...pr,formControl:pr}}function Uf(t={}){const e=Qe.useRef(void 0),n=Qe.useRef(void 0),[a,i]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:ps(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ps(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!ps(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...f}=aM(t);e.current={...f,formState:a}}const l=e.current.control;return l._options=t,qN(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),Qe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Qe.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Qe.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Qe.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Qe.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),Qe.useEffect(()=>{t.values&&!cu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,i(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),Qe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=GN(a,l),e.current}const L4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=nt(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Iy=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?L4(a.ref,n,t):a&&a.refs&&a.refs.forEach(i=>L4(i,n,t))}},P4=(t,e)=>{e.shouldUseNativeValidation&&Iy(t,e);const n={};for(const a in t){const i=nt(e.fields,a),l=Object.assign(t[a]||{},{ref:i&&i.ref});if(rM(e.names||Object.keys(t),a)){const u=Object.assign({},nt(n,a));On(u,"root",l),On(n,a,u)}else On(n,a,l)}return n},rM=(t,e)=>{const n=B4(e);return t.some(a=>B4(a).match(`^${n}\\.\\d+`))};function B4(t){return t.replace(/\]|\[/g,"")}function H4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function iM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,p=g&&g[a.code];n[u]=L2(u,e,n,i,p?[].concat(p,a.message):a.message)}t.shift()}return n}function sM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if(a.code==="invalid_union"&&a.errors.length>0){var f=a.errors[0][0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,p=g&&g[a.code];n[u]=L2(u,e,n,i,p?[].concat(p,a.message):a.message)}t.shift()}return n}function Lf(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,i,l){try{return Promise.resolve(H4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:P4(iM(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,i,l){try{return Promise.resolve(H4(function(){return Promise.resolve((n.mode==="sync"?KT:FT)(t,a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return f instanceof D2})(u))return{values:{},errors:P4(sM(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}async function RS(t){const{data:e}=await cn.from("users").select("id").eq("email",t).maybeSingle();return!!e}async function lM(t){const{data:e}=await cn.from("users").select("id").eq("username",t).maybeSingle();return!!e}const oM=qf({email:yS("invalid email"),password:mr("Password Required")}),uM=qf({email:mr().email("Invalid email address")});function cM(){const t=lg(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),{register:l,handleSubmit:u,setError:f,formState:{errors:g,isSubmitting:p}}=Uf({resolver:Lf(oM)}),{register:v,handleSubmit:_,formState:{errors:S,isSubmitting:C}}=Uf({resolver:Lf(uM)}),T=async j=>{j.preventDefault();try{const{data:z,error:L}=await cn.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://x3nozite.github.io/rect-up/"}});if(L){console.error("cant handle oauth:",L);return}}catch(z){console.error("cant sign in with google: ",z)}},R=async j=>{try{const{email:z,password:L}=j;if(!await RS(z)){f("email",{message:"Email is not yet registered!"});return}const{error:U}=await cn.auth.signInWithPassword({email:z,password:L});if(U){alert(U.message);return}alert("login successful!"),t("/")}catch(z){f("root",{message:"Error! "+z}),alert("Error sign in!: "+z)}},O=async j=>{try{const z="https://x3nozite.github.io/rect-up/";console.log("Base URL:",z),console.log("Full redirect URL:",`${z}#/reset-password`);const{error:L}=await cn.auth.resetPasswordForEmail(j.email,{redirectTo:`${z}#/reset-password`});if(L){alert("Error: "+L.message);return}i(!0)}catch(z){alert("Error sending reset email: "+z)}},M=()=>{n(!1),i(!1)};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[E.jsx(J5,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsxs("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:[" ","The all in one task management app"]})]}),E.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:E.jsx("img",{src:Jp,alt:"",className:"object-cover w-full h-full"})}),E.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:[E.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:E.jsxs("div",{className:"my-company flex flex-col text-center  lg:flex",children:[E.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),E.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),E.jsx("div",{className:"main-form ",children:E.jsxs("form",{className:"flex flex-col justify-between",onSubmit:u(R),children:[E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),E.jsx("input",{...l("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),g.email&&E.jsx("div",{className:"text-red-500",children:g.email?.message})]}),E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),E.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",onClick:()=>n(!0),children:"Forgot Password?"})]}),E.jsx("input",{...l("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),g.password&&E.jsx("div",{className:"text-red-500",children:g.password?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("button",{type:"submit",disabled:p,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:p?"Loading...":"Continue with email"})}),E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),E.jsxs("button",{onClick:T,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[E.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})})]})]}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:E.jsx("img",{src:Jp,alt:"",className:"object-cover w-full h-full"})}),e&&E.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[E.jsx("button",{onClick:M,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl",children:""}),a?E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"success-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Check your email"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and click the link to reset your password."}),E.jsx("button",{onClick:M,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Close"})]}):E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Forgot Password"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),E.jsxs("form",{onSubmit:_(O),children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"forgot-email",className:"font-bold",children:"Email"}),E.jsx("input",{...v("email"),type:"email",id:"forgot-email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),S.email&&E.jsx("div",{className:"text-red-500 text-sm",children:S.email?.message})]}),E.jsx("button",{type:"submit",disabled:C,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:C?"Sending...":"Send Reset Link"})]})]})]})})]})}const dM=qf({username:mr().min(1,"Username is required"),email:yS("Email is required"),password:mr("Password is required").min(8,"Password at least 8 characters long"),confirmPassword:mr()}).superRefine(async({confirmPassword:t,password:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Password must match",path:["confirmPassword"]})});function fM(){const{register:t,handleSubmit:e,setError:n,formState:{errors:a,isSubmitting:i}}=Uf({resolver:Lf(dM),mode:"onSubmit"}),l=lg(),u=async f=>{try{const{username:g,email:p,password:v}=f,_=await RS(p),S=await lM(g);if(_){n("email",{message:"Email already exists"});return}if(S){n("username",{message:"Username already exists!"});return}const{error:C}=await cn.auth.signUp({email:p,password:v,options:{data:{username:g}}});if(C){n("root",{message:C.message}),alert("Error creating account: "+C.message);return}alert("Account created successfully, please verify email"),l("/signin")}catch(g){n("root",{message:"Error!"+g}),alert("Error creating account: "+g)}};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>l("/"),children:[E.jsx(J5,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),E.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[E.jsx("img",{src:Jp,alt:"",className:"object-cover w-full h-full"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),E.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),E.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),E.jsx("div",{className:"main-form",children:E.jsxs("form",{onSubmit:e(u),className:"flex flex-col justify-between",autoComplete:"off",children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Username"}),E.jsx("input",{...t("username"),type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-username"}),a.username&&E.jsx("div",{className:"text-red-500",children:a.username?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Email"}),E.jsx("input",{...t("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-email"}),a.email&&E.jsx("div",{className:"text-red-500",children:a.email?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Password"}),E.jsx("input",{...t("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-password"}),a.password&&E.jsx("div",{className:"text-red-500",children:a.password?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Confirm Password"}),E.jsx("input",{...t("confirmPassword"),type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-confirmPassword"}),a.confirmPassword&&E.jsx("div",{className:"text-red-500",children:a.confirmPassword?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("button",{type:"submit",disabled:i,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:i?"Loading...":"Create Account"}),E.jsx("button",{onClick:()=>l("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]}),a.root&&E.jsx("div",{className:"text-red-500",children:a.root.message})]})})]})}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:E.jsx("img",{src:Jp,alt:"",className:"object-cover w-full h-full"})})]})}const hM=qf({password:mr().min(8,"Password must be at least 8 characters long"),confirmPassword:mr()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function gM(){const t=lg(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),[l,u]=N.useState(!0),[f,g]=N.useState(""),{register:p,handleSubmit:v,formState:{errors:_,isSubmitting:S}}=Uf({resolver:Lf(hM)});N.useEffect(()=>{(async()=>{try{const M=window.location.hash.split("#"),j=M.length>2?M[2]:M[1],z=new URLSearchParams(j),L=z.get("error"),H=z.get("error_description");if(L){console.error("Supabase error:",L,H),L==="access_denied"&&H?.includes("expired")?g("The reset link has expired. Password reset links are valid for 1 hour only."):g("Invalid reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}const U=z.get("access_token"),Y=z.get("refresh_token"),Q=z.get("type");if(U&&Q==="recovery"){const{data:se,error:_e}=await cn.auth.setSession({access_token:U,refresh_token:Y||""});if(_e){console.error("Session error:",_e),g("Failed to validate reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}se.session&&(console.log("Session established successfully"),i(!0),u(!1))}else g("No valid reset token found. Please request a new reset link."),u(!1),setTimeout(()=>{t("/signin")},3e3)}catch(O){console.error("Error in handlePasswordReset:",O),g("An error occurred. Please try again."),u(!1),setTimeout(()=>{t("/signin")},3e3)}})();const{data:R}=cn.auth.onAuthStateChange((O,M)=>{console.log("Auth state change:",O,!!M),O==="PASSWORD_RECOVERY"&&M&&(i(!0),u(!1))});return()=>{R.subscription.unsubscribe()}},[t]);const C=async T=>{try{const{error:R}=await cn.auth.updateUser({password:T.password});if(R){alert("Error: "+R.message);return}n(!0),setTimeout(()=>{t("/signin")},3e3)}catch(R){alert("Error resetting password: "+R)}};return l?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-lg text-gray-700",children:"Validating reset link..."})]})}):f?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[E.jsx("div",{className:"error-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"Link Invalid"}),E.jsx("p",{className:"text-gray-600 mb-6",children:f}),E.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Back to Sign In"})]})}):e?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[E.jsx("div",{className:"success-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Reset Successfully!"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You will be redirected to the sign in page in a few seconds."}),E.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Sign In Now"})]})}):a?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reset Password"}),E.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),E.jsxs("form",{className:"flex flex-col gap-6",onSubmit:v(C),children:[E.jsxs("div",{className:"flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"password",className:"font-bold",children:"New Password"}),E.jsx("input",{...p("password"),type:"password",placeholder:"Enter new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.password&&E.jsx("div",{className:"text-red-500 text-sm",children:_.password?.message})]}),E.jsxs("div",{className:"flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"confirmPassword",className:"font-bold",children:"Confirm Password"}),E.jsx("input",{...p("confirmPassword"),type:"password",placeholder:"Confirm new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.confirmPassword&&E.jsx("div",{className:"text-red-500 text-sm",children:_.confirmPassword?.message})]}),E.jsx("button",{type:"submit",disabled:S,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:S?"Resetting...":"Reset Password"})]})]})}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsx("div",{className:"text-center",children:E.jsx("p",{className:"text-lg",children:"Redirecting..."})})})}const mM=Math.PI/180;function pM(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Nc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},qe={_global:Nc,version:"10.0.2",isBrowser:pM(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return qe.angleDeg?t*mM:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return qe.DD.isDragging},isTransforming(){var t,e;return(e=(t=qe.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!qe.DD.node},releaseCanvasOnDestroy:!0,document:Nc.document,_injectGlobal(t){typeof Nc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Nc.Konva=t}},Xn=t=>{qe[t.prototype.getClassName()]=t};qe._injectGlobal(qe);const vM=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,G4=()=>{if(typeof document>"u")throw new Error(vM)};class ui{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new ui(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,f=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=l,this.m[2]=u,this.m[3]=f,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=l,this.m[3]=u,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],f=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,l=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),f=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],l=this.m[4],u=this.m[5],f=e*i-n*a,g={x:l,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const p=Math.sqrt(e*e+n*n);g.rotation=n>0?Math.acos(e/p):-Math.acos(e/p),g.scaleX=p,g.scaleY=f/p,g.skewX=(e*a+n*i)/f,g.skewY=0}else if(a!=0||i!=0){const p=Math.sqrt(a*a+i*i);g.rotation=Math.PI/2-(i>0?Math.acos(-a/p):-Math.acos(a/p)),g.scaleX=f/p,g.scaleY=p,g.skewX=0,g.skewY=(e*a+n*i)/f}return g.rotation=ne._getRotation(g.rotation),g}}const yM="[object Array]",bM="[object Number]",_M="[object String]",SM="[object Boolean]",xM=Math.PI/180,wM=180/Math.PI,K1="#",EM="",CM="0",TM="Konva warning: ",q4="Konva error: ",AM="rgb(",F1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},RM=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let lp=[];const OM=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},ne={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===yM},_isNumber(t){return Object.prototype.toString.call(t)===bM&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===_M},_isBoolean(t){return Object.prototype.toString.call(t)===SM},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){lp.push(t),lp.length===1&&OM(function(){const e=lp;lp=[],e.forEach(function(n){n()})})},createCanvasElement(){G4();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return G4(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=ne.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(K1,EM);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=CM+t;return K1+t},getRGB(t){let e;return t in F1?(e=F1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===K1?this._hexToRgb(t.substring(1)):t.substr(0,4)===AM?(e=RM.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",ne._namedColorToRBA(t)||ne._hex3ColorToRGBA(t)||ne._hex4ColorToRGBA(t)||ne._hex6ColorToRGBA(t)||ne._hex8ColorToRGBA(t)||ne._rgbColorToRGBA(t)||ne._rgbaColorToRGBA(t)||ne._hslColorToRGBA(t)},_namedColorToRBA(t){const e=F1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,l=Number(n[2])/100;let u,f,g;if(i===0)return g=l*255,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};l<.5?u=l*(1+i):u=l+i-l*i;const p=2*l-u,v=[0,0,0];for(let _=0;_<3;_++)f=a+1/3*-(_-1),f<0&&f++,f>1&&f--,6*f<1?g=p+(u-p)*6*f:2*f<1?g=u:3*f<2?g=p+(u-p)*(2/3-f)*6:g=p,v[_]=g*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*xM},radToDeg(t){return t*wM},_degToRad(t){return ne.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ne.degToRad(t)},_radToDeg(t){return ne.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ne.radToDeg(t)},_getRotation(t){return qe.angleDeg?ne.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(q4+t)},error(t){console.error(q4+t)},warn(t){qe.showWarnings&&console.warn(TM+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,l){let u,f,g;const p=(t-n)*(t-n)+(e-a)*(e-a);if(p==0)u=t,f=e,g=(i-n)*(i-n)+(l-a)*(l-a);else{const v=((i-t)*(n-t)+(l-e)*(a-e))/p;v<0?(u=t,f=e,g=(t-i)*(t-i)+(e-l)*(e-l)):v>1?(u=n,f=a,g=(n-i)*(n-i)+(a-l)*(a-l)):(u=t+v*(n-t),f=e+v*(a-e),g=(u-i)*(u-i)+(f-l)*(f-l))}return[u,f,g]},_getProjectionToLine(t,e,n){const a=ne.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(l,u){if(!n&&u===e.length-1)return;const f=e[(u+1)%e.length],g=ne._getProjectionToSegment(l.x,l.y,f.x,f.y,t.x,t.y),p=g[0],v=g[1],_=g[2];_<i&&(a.x=p,a.y=v,i=_)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const u=e;e=t,t=u}for(let u=0;u<t.length;u+=2)a.push({x:t[u],y:t[u+1]});for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const l=[];return i.forEach(function(u){const f=ne._getProjectionToLine(u,a,n);l.push(f.x),l.push(f.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||ne._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(ne._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){qe.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let u=0,f=0,g=0,p=0;typeof a=="number"?u=f=g=p=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),f=Math.min(a[1]||0,e/2,n/2),p=Math.min(a[2]||0,e/2,n/2),g=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+u,l),t.lineTo(i+e-f,l),t.arc(i+e-f,l+f,f,Math.PI*3/2,0,!1),t.lineTo(i+e,l+n-p),t.arc(i+e-p,l+n-p,p,0,Math.PI/2,!1),t.lineTo(i+g,l+n),t.arc(i+g,l+n-g,g,Math.PI/2,Math.PI,!1),t.lineTo(i,l+u),t.arc(i+u,l+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let l=0;l<n;l++){const u=e[(l-1+n)%n],f=e[l],g=e[(l+1)%n],p={x:f.x-u.x,y:f.y-u.y},v={x:g.x-f.x,y:g.y-f.y},_=Math.hypot(p.x,p.y),S=Math.hypot(v.x,v.y);let C;typeof i=="number"?C=i:C=l<i.length?i[l]:0,C=a*Math.cos(Math.PI/n)*Math.min(1,C/a*2);const R={x:p.x/_,y:p.y/_},O={x:v.x/S,y:v.y/S},M={x:f.x-R.x*C,y:f.y-R.y*C},j={x:f.x+O.x*C,y:f.y+O.y*C};l===0?t.moveTo(M.x,M.y):t.lineTo(M.x,M.y),t.arcTo(f.x,f.y,j.x,j.y,C)}}};function NM(t){const e=[],n=t.length,a=ne;for(let i=0;i<n;i++){let l=t[i];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const V4=",",MM="(",DM=")",jM="([",zM="])",kM=";",UM="()",LM="=",Y4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],PM=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],BM=100;let op=null;function Z4(){if(op!==null)return op;try{const e=ne.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(op=!1,!1)}catch{return op=!1,!1}}class Rv{constructor(e){this.canvas=e,qe.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,l="",u,f,g,p;for(u=0;u<i;u++)f=a[u],g=f.method,g?(p=f.args,l+=g,e?l+=UM:ne._isArray(p[0])?l+=jM+p.join(V4)+zM:(n&&(p=p.map(v=>typeof v=="number"?Math.floor(v):v)),l+=MM+p.join(V4)+DM)):(l+=f.property,e||(l+=LM+f.val)),l+=kM;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=BM&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,l,u){this._context.arc(e,n,a,i,l,u)}arcTo(e,n,a,i,l){this._context.arcTo(e,n,a,i,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,l,u){this._context.bezierCurveTo(e,n,a,i,l,u)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,l,u){return this._context.createRadialGradient(e,n,a,i,l,u)}drawImage(e,n,a,i,l,u,f,g,p){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,i,l):v.length===9&&_.drawImage(e,n,a,i,l,u,f,g,p)}ellipse(e,n,a,i,l,u,f,g){this._context.ellipse(e,n,a,i,l,u,f,g)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,l){this._context.roundRect(e,n,a,i,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,l,u){this._context.setTransform(e,n,a,i,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,l,u){this._context.transform(e,n,a,i,l,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Y4.length,a=this.setAttr,i,l;const u=function(f){let g=e[f],p;e[f]=function(){return l=NM(Array.prototype.slice.call(arguments,0)),p=g.apply(e,arguments),e._trace({method:f,args:l}),p}};for(i=0;i<n;i++)u(Y4[i]);e.setAttr=function(){a.apply(e,arguments);const f=arguments[0];let g=arguments[1];(f==="shadowOffsetX"||f==="shadowOffsetY"||f==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:f,val:g})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}PM.forEach(function(t){Object.defineProperty(Rv.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class HM extends Rv{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let u=0;u<i.length;u+=2)l.addColorStop(i[u],i[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,f=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},g=e.getAbsoluteScale(),p=this.canvas.getPixelRatio(),v=g.x*p,_=g.y*p;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",f.x*v),this.setAttr("shadowOffsetY",f.y*_)}}class GM extends Rv{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let up;function qM(){if(up)return up;const t=ne.createCanvasElement(),e=t.getContext("2d");return up=(function(){const n=qe._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),ne.releaseCanvas(t),up}class H2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||qe.pixelRatio||qM();this.pixelRatio=a,this._canvas=ne.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return ne.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class du extends H2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new HM(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function I4(){const t=ne.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function X4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let K4=!1;function VM(){return X4()&&I4()&&!K4&&(K4=!0,ne.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),X4()&&I4()}class G2 extends H2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new GM(this),this.setSize(e.width,e.height),VM()}}const hn={get isDragging(){let t=!1;return hn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return hn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];hn._dragElements.forEach((n,a)=>{const{node:i}=n,l=i.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=ne._getFirstPointerId(t));const u=l._changedPointerPositions.find(f=>f.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const f=i.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<f||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];hn._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(f=>f.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(hn.justDragged=!0,qe._mouseListenClick=!1,qe._touchListenClick=!1,qe._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof qe.Stage&&n.node;u&&e.indexOf(u)===-1&&e.push(u)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){hn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&hn._dragElements.delete(n)})}};qe.isBrowser&&(window.addEventListener("mouseup",hn._endDragBefore,!0),window.addEventListener("touchend",hn._endDragBefore,!0),window.addEventListener("touchcancel",hn._endDragBefore,!0),window.addEventListener("mousemove",hn._drag),window.addEventListener("touchmove",hn._drag),window.addEventListener("mouseup",hn._endDragAfter,!1),window.addEventListener("touchend",hn._endDragAfter,!1),window.addEventListener("touchcancel",hn._endDragAfter,!1));function yu(t){return ne._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ne._isBoolean(t)?t:Object.prototype.toString.call(t)}function OS(t){return t>255?255:t<0?0:Math.round(t)}function Be(){if(qe.isUnminified)return function(t,e){return ne._isNumber(t)||ne.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Ov(t){if(qe.isUnminified)return function(e,n){let a=ne._isNumber(e),i=ne._isArray(e)&&e.length==t;return!a&&!i&&ne.warn(yu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function q2(){if(qe.isUnminified)return function(t,e){return ne._isNumber(t)||t==="auto"||ne.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Hc(){if(qe.isUnminified)return function(t,e){return ne._isString(t)||ne.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function NS(){if(qe.isUnminified)return function(t,e){const n=ne._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||ne.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function YM(){if(qe.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(ne._isArray(t)?t.forEach(function(a){ne._isNumber(a)||ne.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):ne.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function bs(){if(qe.isUnminified)return function(t,e){return t===!0||t===!1||ne.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function ZM(t){if(qe.isUnminified)return function(e,n){return e==null||ne.isObject(e)||ne.warn(yu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const S0="get",x0="set",q={addGetterSetter(t,e,n,a,i){q.addGetter(t,e,n),q.addSetter(t,e,a,i),q.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=S0+ne._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=x0+ne._capitalize(e);t.prototype[i]||q.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=x0+ne._capitalize(e);t.prototype[i]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const l=n.length,u=ne._capitalize,f=S0+u(e),g=x0+u(e);t.prototype[f]=function(){const v={};for(let _=0;_<l;_++){const S=n[_];v[S]=this.getAttr(e+u(S))}return v};const p=ZM(n);t.prototype[g]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),p&&p.call(this,v,e);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(e+u(S),v[S]);return v||n.forEach(S=>{this._setAttr(e+u(S),void 0)}),this._fireChangeEvent(e,_,v),i&&i.call(this),this},q.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=ne._capitalize(e),a=x0+n,i=S0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){ne.error("Adding deprecated "+e);const i=S0+ne._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){ne.error(l);const u=this.attrs[e];return u===void 0?n:u},q.addSetter(t,e,a,function(){ne.error(l)}),q.addOverloadedGetterSetter(t,e)},backCompat(t,e){ne.each(e,function(n,a){const i=t.prototype[a],l=S0+ne._capitalize(n),u=x0+ne._capitalize(n);function f(){i.apply(this,arguments),ne.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=f,t.prototype[l]=f,t.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}};function IM(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const l=parseFloat(i.replace("px",""));return function(u){this.blurRadius(l*.5);const f=qe.Filters;f&&f.Blur&&f.Blur.call(this,u)}}case"brightness":{const l=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(u){this.brightness(l);const f=qe.Filters;f&&f.Brightness&&f.Brightness.call(this,u)}}case"contrast":{const l=parseFloat(i);return function(u){const f=100*(Math.sqrt(l)-1);this.contrast(f);const g=qe.Filters;g&&g.Contrast&&g.Contrast.call(this,u)}}case"grayscale":return function(l){const u=qe.Filters;u&&u.Grayscale&&u.Grayscale.call(this,l)};case"sepia":return function(l){const u=qe.Filters;u&&u.Sepia&&u.Sepia.call(this,l)};case"invert":return function(l){const u=qe.Filters;u&&u.Invert&&u.Invert.call(this,l)};default:ne.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Gp="absoluteOpacity",cp="allEventListeners",eo="absoluteTransform",F4="absoluteScale",xc="canvas",XM="Change",KM="children",FM="konva",Xy="listening",QM="mouseenter",$M="mouseleave",WM="pointerenter",JM="pointerleave",eD="touchenter",tD="touchleave",Q4="set",$4="Shape",qp=" ",W4="stage",ru="transform",nD="Stage",Ky="visible",aD=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(qp);let rD=1,Ge=class Fy{constructor(e){this._id=rD++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ru||e===eo)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===ru||e===eo)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(l=>l+"Change.konva").join(qp);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(xc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===eo&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(xc)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(xc);ne.releaseCanvas(e,n,a,i),this._cache.delete(xc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),u=n.pixelRatio,f=n.x===void 0?Math.floor(a.x):n.x,g=n.y===void 0?Math.floor(a.y):n.y,p=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!i||!l){ne.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(a.x)-f)>.5?1:0,C=Math.abs(Math.round(a.y)-g)>.5?1:0;i+=p*2+S,l+=p*2+C,f-=p,g-=p;const T=new du({pixelRatio:u,width:i,height:l}),R=new du({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),O=new G2({pixelRatio:_,width:i,height:l}),M=T.getContext(),j=O.getContext(),z=new du({width:T.width/T.pixelRatio+Math.abs(f),height:T.height/T.pixelRatio+Math.abs(g),pixelRatio:T.pixelRatio}),L=z.getContext();return O.isCache=!0,T.isCache=!0,this._cache.delete(xc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(T.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),M.save(),j.save(),L.save(),M.translate(-f,-g),j.translate(-f,-g),L.translate(-f,-g),z.x=f,z.y=g,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Gp),this._clearSelfAndDescendantCache(F4),this.drawScene(T,this,z),this.drawHit(O,this),this._isUnderCache=!1,M.restore(),j.restore(),v&&(M.save(),M.beginPath(),M.rect(0,0,i,l),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),this._cache.set(xc,{scene:T,filter:R,hit:O,buffer:z,x:f,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(xc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,l=1/0,u=-1/0,f=-1/0;const g=this.getAbsoluteTransform(n);return a.forEach(function(p){const v=g.point(p);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),{x:i,y:l,width:u-i,height:f-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,l=i.getContext(),u,f,g,p;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let v=!0;for(let S=0;S<e.length;S++)if(typeof e[S]=="string"&&Z4(),typeof e[S]!="string"||!Z4()){v=!1;break}const _=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const S=e.join(" ");return l.save(),l.setAttr("filter",S),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,i}try{for(u=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),f=l.getImageData(0,0,i.getWidth(),i.getHeight()),g=0;g<u;g++)p=e[g],typeof p=="string"&&(p=IM(p)),p.call(this,f),l.putImageData(f,0,0)}catch(S){ne.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(cp),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(qp);for(let i=0;i<a.length;i++){const u=a[i].split("."),f=u[0],g=u[1]||"";this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:g,handler:n})}return this}off(e,n){let a=(e||"").split(qp),i=a.length,l,u,f,g,p,v;if(this._cache&&this._cache.delete(cp),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<i;l++)if(f=a[l],g=f.split("."),p=g[0],v=g[1],p)this.eventListeners[p]&&this._off(p,v,n);else for(u in this.eventListeners)this._off(u,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(l){const u=l.target.findAncestors(n,!0,i);for(let f=0;f<u.length;f++)l=ne.cloneObject(l),l.currentTarget=u[f],a.call(u[f],l)})}remove(){return this.isDragging()&&this.stopDrag(),hn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(eo),this._clearSelfAndDescendantCache(Gp),this._clearSelfAndDescendantCache(F4),this._clearSelfAndDescendantCache(W4),this._clearSelfAndDescendantCache(Ky),this._clearSelfAndDescendantCache(Xy)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+ne._capitalize(e);return ne._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==KM&&(a=Q4+ne._capitalize(n),ne._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Xy,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(Ky,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;hn._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(i=!0)});const l=!n&&!qe.hitOnDragEnabled&&(i||qe.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,l,u,f;function g(v){for(i=[],l=v.length,u=0;u<l;u++)f=v[u],a++,f.nodeType!==$4&&(i=i.concat(f.getChildren().slice())),f._id===n._id&&(u=l);i.length>0&&i[0].getDepth()<=e&&g(i)}const p=this.getStage();return n.nodeType!==nD&&p&&g(p.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ru),this._clearSelfAndDescendantCache(eo)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),l=new ui,u=this.offset();return l.m=i.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(ru);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(ru),this._clearSelfAndDescendantCache(eo),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),l=this.y();return n!==void 0&&(i+=n),a!==void 0&&(l+=a),this.setPosition({x:i,y:l}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),l,u;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(l=a.length,u=0;u<l;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ne.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ne.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ne.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ne.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ne.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ne.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Gp,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,l,u;const f={attrs:{},className:this.getClassName()};for(n in e)a=e[n],u=ne.isObject(a)&&!ne._isPlainObject(a)&&!ne._isArray(a),!u&&(i=typeof this[n]=="function"&&this[n],delete e[n],l=i?i.call(this):null,e[n]=a,l!==a&&(f.attrs[n]=a));return ne._prepareToStringify(f)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let l=this.parent;for(;l;){if(l===a)return i;l._isMatch(e)&&i.push(l),l=l.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,l;for(i=0;i<a;i++)if(l=n[i],ne.isValidSelector(l)||(ne.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ne.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ne.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(W4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(eo,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new ui,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(eo)||new ui,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;n.translate(i-u,l-f)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ru,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(ru)||new ui;a.reset();const i=this.x(),l=this.y(),u=qe.getAngle(this.rotation()),f=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,p=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(i!==0||l!==0)&&a.translate(i,l),u!==0&&a.rotate(u),(p!==0||v!==0)&&a.skew(p,v),(f!==1||g!==1)&&a.scale(f,g),(_!==0||S!==0)&&a.translate(-1*_,-1*S),a.dirty=!1,a}clone(e){let n=ne.cloneObject(this.attrs),a,i,l,u,f;for(a in e)n[a]=e[a];const g=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],l=i.length,u=0;u<l;u++)f=i[u],f.name.indexOf(FM)<0&&(g.eventListeners[a]||(g.eventListeners[a]=[]),g.eventListeners[a].push(f));return g}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),u=e.pixelRatio||1,f=new du({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:u}),g=f.getContext(),p=new du({width:f.width/f.pixelRatio+Math.abs(i),height:f.height/f.pixelRatio+Math.abs(l),pixelRatio:f.pixelRatio});return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(i||l)&&g.translate(-1*i,-1*l),this.drawScene(f,void 0,p),g.restore(),f}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,ne._urlToImage(this.toDataURL(e),function(l){n(l),i?.(l)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),i?.(l)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():qe.dragDistance}_off(e,n,a){let i=this.eventListeners[e],l,u,f;for(l=0;l<i.length;l++)if(u=i[l].name,f=i[l].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===f)){if(i.splice(l,1),i.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+XM,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[Q4+ne._capitalize(e)];return ne._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(qe.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!ne.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===$4&&(n.target=this);const i=[QM,$M,WM,JM,eD,tD];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const u=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const l=(n=this._cache.get(cp))!==null&&n!==void 0?n:{};let u=l?.[e];if(u===void 0){u=[];let f=Object.getPrototypeOf(this);for(;f;){const g=(i=(a=f.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];u.push(...g),f=Object.getPrototypeOf(f)}l[e]=u,this._cache.set(cp,l)}return u}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let l=0;l<i.length;l++)i[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||i;hn._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-i.x,y:l.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){hn._dragElements.has(this._id)||this._createDragElement(e);const a=hn._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,i,e);u?i=u:ne.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=hn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),hn._endDragBefore(e),hn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=hn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||qe.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;hn._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=hn._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&hn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ne.haveIntersection(a,this.getClientRect())}static create(e,n){return ne._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=Fy.prototype.getClassName.call(e),i=e.children,l,u,f;n&&(e.attrs.container=n),qe[a]||(ne.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const g=qe[a];if(l=new g(e.attrs),i)for(u=i.length,f=0;f<u;f++)l.add(Fy._createNode(i[f]));return l}};Ge.prototype.nodeType="Node";Ge.prototype._attrsAffectingSize=[];Ge.prototype.eventListeners={};Ge.prototype.on.call(Ge.prototype,aD,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ru),this._clearSelfAndDescendantCache(eo)});Ge.prototype.on.call(Ge.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ky)});Ge.prototype.on.call(Ge.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Xy)});Ge.prototype.on.call(Ge.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Gp)});const Mn=q.addGetterSetter;Mn(Ge,"zIndex");Mn(Ge,"absolutePosition");Mn(Ge,"position");Mn(Ge,"x",0,Be());Mn(Ge,"y",0,Be());Mn(Ge,"globalCompositeOperation","source-over",Hc());Mn(Ge,"opacity",1,Be());Mn(Ge,"name","",Hc());Mn(Ge,"id","",Hc());Mn(Ge,"rotation",0,Be());q.addComponentsGetterSetter(Ge,"scale",["x","y"]);Mn(Ge,"scaleX",1,Be());Mn(Ge,"scaleY",1,Be());q.addComponentsGetterSetter(Ge,"skew",["x","y"]);Mn(Ge,"skewX",0,Be());Mn(Ge,"skewY",0,Be());q.addComponentsGetterSetter(Ge,"offset",["x","y"]);Mn(Ge,"offsetX",0,Be());Mn(Ge,"offsetY",0,Be());Mn(Ge,"dragDistance",void 0,Be());Mn(Ge,"width",0,Be());Mn(Ge,"height",0,Be());Mn(Ge,"listening",!0,bs());Mn(Ge,"preventDefault",!0,bs());Mn(Ge,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Mn(Ge,"visible",!0,bs());Mn(Ge,"transformsEnabled","all",Hc());Mn(Ge,"size");Mn(Ge,"dragBoundFunc");Mn(Ge,"draggable",!1,bs());q.backCompat(Ge,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ci extends Ge{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const l=i._isMatch(e);return l&&a.push(i),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Ge.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Ge.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas(),u=l&&l.getContext(),f=this._getCanvasCache(),g=f&&f.scene,p=l&&l.isCache;if(!this.isVisible()&&!p)return this;if(g){u.save();const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,l=i&&i.getContext(),u=this._getCanvasCache();if(u&&u.hit){l.save();const g=this.getAbsoluteTransform(n).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var l;const u=n&&n.getContext(),f=this.clipWidth(),g=this.clipHeight(),p=this.clipFunc(),v=typeof f=="number"&&typeof g=="number"||p,_=a===this;if(v){u.save();const C=this.getAbsoluteTransform(a);let T=C.getMatrix();u.transform(T[0],T[1],T[2],T[3],T[4],T[5]),u.beginPath();let R;if(p)R=p.call(this,u,this);else{const O=this.clipX(),M=this.clipY();u.rect(O||0,M||0,f,g)}u.clip.apply(u,R),T=C.copy().invert().getMatrix(),u.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const S=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(C){C[e](n,a,i)}),S&&u.restore(),v&&u.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let l,u,f,g,p={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(C){if(!C.visible())return;const T=C.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(l===void 0?(l=T.x,u=T.y,f=T.x+T.width,g=T.y+T.height):(l=Math.min(l,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x+T.width),g=Math.max(g,T.y+T.height)))});const _=this.find("Shape");let S=!1;for(let C=0;C<_.length;C++)if(_[C]._isVisible(this)){S=!0;break}return S&&l!==void 0?p={x:l,y:u,width:f-l,height:g-u}:p={x:0,y:0,width:0,height:0},a?p:this._transformedRect(p,i)}}q.addComponentsGetterSetter(ci,"clip",["x","y","width","height"]);q.addGetterSetter(ci,"clipX",void 0,Be());q.addGetterSetter(ci,"clipY",void 0,Be());q.addGetterSetter(ci,"clipWidth",void 0,Be());q.addGetterSetter(ci,"clipHeight",void 0,Be());q.addGetterSetter(ci,"clipFunc");const Q0=new Map,MS=qe._global.PointerEvent!==void 0;function Q1(t){return Q0.get(t)}function V2(t){return{evt:t,pointerId:t.pointerId}}function DS(t,e){return Q0.get(t)===e}function jS(t,e){B0(t),e.getStage()&&(Q0.set(t,e),MS&&e._fire("gotpointercapture",V2(new PointerEvent("gotpointercapture"))))}function B0(t,e){const n=Q0.get(t);if(!n)return;const a=n.getStage();a&&a.content,Q0.delete(t),MS&&n._fire("lostpointercapture",V2(new PointerEvent("lostpointercapture")))}const iD="Stage",sD="string",J4="px",lD="mouseout",zS="mouseleave",kS="mouseover",US="mouseenter",LS="mousemove",PS="mousedown",BS="mouseup",R0="pointermove",O0="pointerdown",Af="pointerup",N0="pointercancel",oD="lostpointercapture",dp="pointerout",M0="pointerleave",fp="pointerover",hp="pointerenter",Qy="contextmenu",HS="touchstart",GS="touchend",qS="touchmove",VS="touchcancel",$y="wheel",uD=5,cD=[[US,"_pointerenter"],[PS,"_pointerdown"],[LS,"_pointermove"],[BS,"_pointerup"],[zS,"_pointerleave"],[HS,"_pointerdown"],[qS,"_pointermove"],[GS,"_pointerup"],[VS,"_pointercancel"],[kS,"_pointerover"],[$y,"_wheel"],[Qy,"_contextmenu"],[O0,"_pointerdown"],[R0,"_pointermove"],[Af,"_pointerup"],[N0,"_pointercancel"],[M0,"_pointerleave"],[oD,"_lostpointercapture"]],$1={mouse:{[dp]:lD,[M0]:zS,[fp]:kS,[hp]:US,[R0]:LS,[O0]:PS,[Af]:BS,[N0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[dp]:"touchout",[M0]:"touchleave",[fp]:"touchover",[hp]:"touchenter",[R0]:qS,[O0]:HS,[Af]:GS,[N0]:VS,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[dp]:dp,[M0]:M0,[fp]:fp,[hp]:hp,[R0]:R0,[O0]:O0,[Af]:Af,[N0]:N0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},D0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",mf=t=>{const e=D0(t);if(e==="pointer")return qe.pointerEventsEnabled&&$1.pointer;if(e==="touch")return $1.touch;if(e==="mouse")return $1.mouse};function e3(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ne.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const dD="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",H0=[];let Nv=class extends ci{constructor(e){super(e3(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),H0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{e3(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||ne.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===sD){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),ci.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&ne._isInDocument(e)&&this.container().removeChild(e);const n=H0.indexOf(this);return n>-1&&H0.splice(n,1),ne.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ne.warn(dD),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new du({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(l){if(!l.isVisible())return;const u=l._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let l=i;l>=0;l--){const u=n[l].getIntersection(e);if(u)return u}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+J4,this.content.style.height=n+J4),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>uD&&ne.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),qe.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return DS(e,this)}setPointerCapture(e){jS(e,this)}releaseCapture(e){B0(e)}getLayers(){return this.children}_bindContentEvents(){qe.isBrowser&&cD.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=mf(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=mf(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=mf(e.type),a=D0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),l=!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled;i&&l?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=mf(e.type),a=D0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(l=>{const u=this.getIntersection(l);if(hn.justDragged=!1,qe["_"+a+"ListenClick"]=!0,!u||!u.isListening()){this[a+"ClickStartShape"]=void 0;return}qe.capturePointerEventsEnabled&&u.setPointerCapture(l.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),i=!0;const f=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&f&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=mf(e.type),a=D0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(qe.isDragging()&&hn.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled))return;const u={};let f=!1;const g=this._getTargetShape(a);this._changedPointerPositions.forEach(p=>{const v=Q1(p.id)||this.getIntersection(p),_=p.id,S={evt:e,pointerId:_},C=g!==v;if(C&&g&&(g._fireAndBubble(n.pointerout,{...S},v),g._fireAndBubble(n.pointerleave,{...S},v)),v){if(u[v._id])return;u[v._id]=!0}v&&v.isListening()?(f=!0,C&&(v._fireAndBubble(n.pointerover,{...S},g),v._fireAndBubble(n.pointerenter,{...S},g),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...S})):g&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),f||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=mf(e.type),a=D0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],u={};let f=!1;this._changedPointerPositions.forEach(g=>{const p=Q1(g.id)||this.getIntersection(g);if(p){if(p.releaseCapture(g.id),u[p._id])return;u[p._id]=!0}const v=g.id,_={evt:e,pointerId:v};let S=!1;qe["_"+a+"InDblClickWindow"]?(S=!0,clearTimeout(this[a+"DblTimeout"])):hn.justDragged||(qe["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){qe["_"+a+"InDblClickWindow"]=!1},qe.dblClickWindow),p&&p.isListening()?(f=!0,this[a+"ClickEndShape"]=p,p._fireAndBubble(n.pointerup,{..._}),qe["_"+a+"ListenClick"]&&i&&i===p&&(p._fireAndBubble(n.pointerclick,{..._}),S&&l&&l===p&&p._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,f||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),f=!0),qe["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),S&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),f||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),qe["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Qy,{evt:e}):this._fire(Qy,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble($y,{evt:e}):this._fire($y,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Q1(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Af,V2(e)),B0(e.pointerId)}_lostpointercapture(e){B0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:ne._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:ne._getFirstPointerId(e)}])}_setPointerPosition(e){ne.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new du({width:this.width(),height:this.height()}),this.bufferHitCanvas=new G2({pixelRatio:1,width:this.width(),height:this.height()}),!qe.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return ne.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Nv.prototype.nodeType=iD;Xn(Nv);q.addGetterSetter(Nv,"container");qe.isBrowser&&document.addEventListener("visibilitychange",()=>{H0.forEach(t=>{t.batchDraw()})});const YS="hasShadow",ZS="shadowRGBA",IS="patternImage",XS="linearGradient",KS="radialGradient";let gp;function W1(){return gp||(gp=ne.createCanvasElement().getContext("2d"),gp)}const G0={};function fD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function hD(t){t.stroke()}function gD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function mD(t){t.stroke()}function pD(){this._clearCache(YS)}function vD(){this._clearCache(ZS)}function yD(){this._clearCache(IS)}function bD(){this._clearCache(XS)}function _D(){this._clearCache(KS)}class ze extends Ge{constructor(e){super(e);let n;for(;n=ne.getRandomColor(),!(n&&!(n in G0)););this.colorKey=n,G0[n]=this}getContext(){return ne.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ne.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(YS,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(IS,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=W1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new ui;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(qe.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(XS,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=W1(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}_getRadialGradient(){return this._getCache(KS,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=W1(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}getShadowRGBA(){return this._getCache(ZS,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=ne.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ge.prototype.destroy.call(this),delete G0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),l=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(i&&l&&u)return!0;const f=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(i&&l&&f&&g)}setStrokeHitEnabled(e){ne.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),g=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,p=u.width+g,v=u.height+g,_=!e.skipShadow&&this.hasShadow(),S=_?this.shadowOffsetX():0,C=_?this.shadowOffsetY():0,T=p+Math.abs(S),R=v+Math.abs(C),O=_&&this.shadowBlur()||0,M=T+O*2,j=R+O*2,z={width:M,height:j,x:-(g/2+O)+Math.min(S,0)+u.x,y:-(g/2+O)+Math.min(C,0)+u.y};return i?z:this._transformedRect(z,l)}drawScene(e,n,a){const i=this.getLayer(),l=e||i.getCanvas(),u=l.getContext(),f=this._getCanvasCache(),g=this.getSceneFunc(),p=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(f){u.save();const S=this.getAbsoluteTransform(n).getMatrix();return u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!g)return this;if(u.save(),this._useBufferCanvas()){v=this.getStage();const S=a||v.bufferCanvas,C=S.getContext();C.clear(),C.save(),C._applyLineJoin(this),C._applyMiterLimit(this);const T=this.getAbsoluteTransform(n).getMatrix();C.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g.call(this,C,this),C.restore();const R=S.pixelRatio;p&&u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(S._canvas,S.x||0,S.y||0,S.width/R,S.height/R)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!_){const S=this.getAbsoluteTransform(n).getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}p&&u._applyShadow(this),g.call(this,u,this)}return u.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),l=e||i.hitCanvas,u=l&&l.getContext(),f=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),p=g&&g.hit;if(this.colorKey||ne.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),p){u.save();const _=this.getAbsoluteTransform(n).getMatrix();return u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!f)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return f.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,l=i.getContext(),u=i.getWidth(),f=i.getHeight();l.clear(),l.drawImage(a._canvas,0,0,u,f);try{const g=l.getImageData(0,0,u,f),p=g.data,v=p.length,_=ne._hexToRgb(this.colorKey);for(let S=0;S<v;S+=4)p[S+3]>e?(p[S]=_.r,p[S+1]=_.g,p[S+2]=_.b,p[S+3]=255):p[S+3]=0;l.putImageData(g,0,0)}catch(g){ne.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return DS(e,this)}setPointerCapture(e){jS(e,this)}releaseCapture(e){B0(e)}}ze.prototype._fillFunc=fD;ze.prototype._strokeFunc=hD;ze.prototype._fillFuncHit=gD;ze.prototype._strokeFuncHit=mD;ze.prototype._centroid=!1;ze.prototype.nodeType="Shape";Xn(ze);ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",pD);ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",vD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",yD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",bD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",_D);q.addGetterSetter(ze,"stroke",void 0,NS());q.addGetterSetter(ze,"strokeWidth",2,Be());q.addGetterSetter(ze,"fillAfterStrokeEnabled",!1);q.addGetterSetter(ze,"hitStrokeWidth","auto",q2());q.addGetterSetter(ze,"strokeHitEnabled",!0,bs());q.addGetterSetter(ze,"perfectDrawEnabled",!0,bs());q.addGetterSetter(ze,"shadowForStrokeEnabled",!0,bs());q.addGetterSetter(ze,"lineJoin");q.addGetterSetter(ze,"lineCap");q.addGetterSetter(ze,"miterLimit");q.addGetterSetter(ze,"sceneFunc");q.addGetterSetter(ze,"hitFunc");q.addGetterSetter(ze,"dash");q.addGetterSetter(ze,"dashOffset",0,Be());q.addGetterSetter(ze,"shadowColor",void 0,Hc());q.addGetterSetter(ze,"shadowBlur",0,Be());q.addGetterSetter(ze,"shadowOpacity",1,Be());q.addComponentsGetterSetter(ze,"shadowOffset",["x","y"]);q.addGetterSetter(ze,"shadowOffsetX",0,Be());q.addGetterSetter(ze,"shadowOffsetY",0,Be());q.addGetterSetter(ze,"fillPatternImage");q.addGetterSetter(ze,"fill",void 0,NS());q.addGetterSetter(ze,"fillPatternX",0,Be());q.addGetterSetter(ze,"fillPatternY",0,Be());q.addGetterSetter(ze,"fillLinearGradientColorStops");q.addGetterSetter(ze,"strokeLinearGradientColorStops");q.addGetterSetter(ze,"fillRadialGradientStartRadius",0);q.addGetterSetter(ze,"fillRadialGradientEndRadius",0);q.addGetterSetter(ze,"fillRadialGradientColorStops");q.addGetterSetter(ze,"fillPatternRepeat","repeat");q.addGetterSetter(ze,"fillEnabled",!0);q.addGetterSetter(ze,"strokeEnabled",!0);q.addGetterSetter(ze,"shadowEnabled",!0);q.addGetterSetter(ze,"dashEnabled",!0);q.addGetterSetter(ze,"strokeScaleEnabled",!0);q.addGetterSetter(ze,"fillPriority","color");q.addComponentsGetterSetter(ze,"fillPatternOffset",["x","y"]);q.addGetterSetter(ze,"fillPatternOffsetX",0,Be());q.addGetterSetter(ze,"fillPatternOffsetY",0,Be());q.addComponentsGetterSetter(ze,"fillPatternScale",["x","y"]);q.addGetterSetter(ze,"fillPatternScaleX",1,Be());q.addGetterSetter(ze,"fillPatternScaleY",1,Be());q.addComponentsGetterSetter(ze,"fillLinearGradientStartPoint",["x","y"]);q.addComponentsGetterSetter(ze,"strokeLinearGradientStartPoint",["x","y"]);q.addGetterSetter(ze,"fillLinearGradientStartPointX",0);q.addGetterSetter(ze,"strokeLinearGradientStartPointX",0);q.addGetterSetter(ze,"fillLinearGradientStartPointY",0);q.addGetterSetter(ze,"strokeLinearGradientStartPointY",0);q.addComponentsGetterSetter(ze,"fillLinearGradientEndPoint",["x","y"]);q.addComponentsGetterSetter(ze,"strokeLinearGradientEndPoint",["x","y"]);q.addGetterSetter(ze,"fillLinearGradientEndPointX",0);q.addGetterSetter(ze,"strokeLinearGradientEndPointX",0);q.addGetterSetter(ze,"fillLinearGradientEndPointY",0);q.addGetterSetter(ze,"strokeLinearGradientEndPointY",0);q.addComponentsGetterSetter(ze,"fillRadialGradientStartPoint",["x","y"]);q.addGetterSetter(ze,"fillRadialGradientStartPointX",0);q.addGetterSetter(ze,"fillRadialGradientStartPointY",0);q.addComponentsGetterSetter(ze,"fillRadialGradientEndPoint",["x","y"]);q.addGetterSetter(ze,"fillRadialGradientEndPointX",0);q.addGetterSetter(ze,"fillRadialGradientEndPointY",0);q.addGetterSetter(ze,"fillPatternRotation",0);q.addGetterSetter(ze,"fillRule",void 0,Hc());q.backCompat(ze,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const SD="#",xD="beforeDraw",wD="draw",FS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],ED=FS.length;let Gc=class extends ci{constructor(e){super(e),this.canvas=new du,this.hitCanvas=new G2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ge.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ge.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ge.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ge.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ge.prototype.remove.call(this),e&&e.parentNode&&ne._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ge.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ne.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ne.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ne.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<ED;i++){const l=FS[i],u=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),f=u.shape;if(f)return f;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const l=ne._rgbToHex(a[0],a[1],a[2]),u=G0[SD+l];return u?{shape:u}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas();return this._fire(xD,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),ci.prototype.drawScene.call(this,l,n,a),this._fire(wD,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),ci.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return ne.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Gc.prototype.nodeType="Layer";Xn(Gc);q.addGetterSetter(Gc,"imageSmoothingEnabled",!0);q.addGetterSetter(Gc,"clearBeforeDraw",!0);q.addGetterSetter(Gc,"hitGraphEnabled",!0,bs());class Y2 extends Gc{constructor(e){super(e),this.listening(!1),ne.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Y2.prototype.nodeType="FastLayer";Xn(Y2);let Pf=class extends ci{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to groups.")}};Pf.prototype.nodeType="Group";Xn(Pf);const J1=(function(){return Nc.performance&&Nc.performance.now?function(){return Nc.performance.now()}:function(){return new Date().getTime()}})();class ki{constructor(e,n){this.id=ki.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:J1(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=ki.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=J1(),ki._addAnimation(this),this}stop(){return ki._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let l=0;l<i;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],l=i.layers,u=i.func;i._updateFrameObject(J1());const f=l.length;let g;if(u?g=u.call(i,i.frame)!==!1:g=!0,!!g)for(let p=0;p<f;p++){const v=l[p];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=ki;e.animations.length?(e._runFrames(),ne.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ne.requestAnimFrame(this._animationLoop))}}ki.animations=[];ki.animIdCounter=0;ki.animRunning=!1;const CD={node:1,duration:1,easing:1,onFinish:1,yoyo:1},TD=1,t3=2,n3=3,a3=["fill","stroke","shadowColor"];let AD=0;class RD{constructor(e,n,a,i,l,u,f){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=t3,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=n3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===t3?this.setTime(e):this.state===n3&&this.setTime(this.duration-e)}pause(){this.state=TD,this.fire("onPause")}getTimer(){return new Date().getTime()}}class kn{constructor(e){const n=this,a=e.node,i=a._id,l=e.easing||q0.Linear,u=!!e.yoyo;let f,g;typeof e.duration>"u"?f=.3:e.duration===0?f=.001:f=e.duration,this.node=a,this._id=AD++;const p=a.getLayer()||(a instanceof qe.Stage?a.getLayers():null);p||ne.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ki(function(){n.tween.onEnterFrame()},p),this.tween=new RD(g,function(v){n._tweenFunc(v)},l,0,1,f*1e3,u),this._addListeners(),kn.attrs[i]||(kn.attrs[i]={}),kn.attrs[i][this._id]||(kn.attrs[i][this._id]={}),kn.tweens[i]||(kn.tweens[i]={});for(g in e)CD[g]===void 0&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let l,u,f,g,p;const v=kn.tweens[i][e];v&&delete kn.attrs[i][v][e];let _=a.getAttr(e);if(ne._isArray(n))if(l=[],u=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(g=_,_=ne._prepareArrayForTween(_,n,a.closed())):(f=n,n=ne._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let S=0;S<u;S++)if(S%2===0)l.push(n[S]-_[S]);else{const C=ne.colorToRGBA(_[S]);p=ne.colorToRGBA(n[S]),_[S]=C,l.push({r:p.r-C.r,g:p.g-C.g,b:p.b-C.b,a:p.a-C.a})}else for(let S=0;S<u;S++)l.push(n[S]-_[S]);else a3.indexOf(e)!==-1?(_=ne.colorToRGBA(_),p=ne.colorToRGBA(n),l={r:p.r-_.r,g:p.g-_.g,b:p.b-_.b,a:p.a-_.a}):l=n-_;kn.attrs[i][this._id][e]={start:_,diff:l,end:n,trueEnd:f,trueStart:g},kn.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=kn.attrs[n._id][this._id];let i,l,u,f,g,p,v,_;for(i in a){if(l=a[i],u=l.start,f=l.diff,_=l.end,ne._isArray(u))if(g=[],v=Math.max(u.length,_.length),i.indexOf("fill")===0)for(p=0;p<v;p++)p%2===0?g.push((u[p]||0)+f[p]*e):g.push("rgba("+Math.round(u[p].r+f[p].r*e)+","+Math.round(u[p].g+f[p].g*e)+","+Math.round(u[p].b+f[p].b*e)+","+(u[p].a+f[p].a*e)+")");else for(p=0;p<v;p++)g.push((u[p]||0)+f[p]*e);else a3.indexOf(i)!==-1?g="rgba("+Math.round(u.r+f.r*e)+","+Math.round(u.g+f.g*e)+","+Math.round(u.b+f.b*e)+","+(u.a+f.a*e)+")":g=u+f*e;n.setAttr(i,g)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=kn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=kn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=kn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete kn.tweens[e][i];delete kn.attrs[e][n],kn.tweens[e]&&(Object.keys(kn.tweens[e]).length===0&&delete kn.tweens[e],Object.keys(kn.attrs[e]).length===0&&delete kn.attrs[e])}}kn.attrs={};kn.tweens={};Ge.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new kn(t).play()};const q0={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-u)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-q0.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?q0.BounceEaseIn(t*2,0,n,a)*.5+e:q0.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},Bf=ne._assign(qe,{Util:ne,Transform:ui,Node:Ge,Container:ci,Stage:Nv,stages:H0,Layer:Gc,FastLayer:Y2,Group:Pf,DD:hn,Shape:ze,shapes:G0,Animation:ki,Tween:kn,Easings:q0,Context:Rv,Canvas:H2});class lo extends ze{_sceneFunc(e){const n=qe.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=qe.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(i,Math.PI)),u=1,f=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),g=Math.sin(Math.min(i,Math.PI/2)),p=l*(l>0?e:n),v=u*n,_=f*(f>0?e:n),S=g*(g>0?n:e);return{x:p,y:a?-1*S:_,width:v-p,height:S-_}}}lo.prototype._centroid=!0;lo.prototype.className="Arc";lo.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Xn(lo);q.addGetterSetter(lo,"innerRadius",0,Be());q.addGetterSetter(lo,"outerRadius",0,Be());q.addGetterSetter(lo,"angle",0,Be());q.addGetterSetter(lo,"clockwise",!1,bs());function Wy(t,e,n,a,i,l,u){const f=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),g=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-a,2)),p=u*f/(f+g),v=u*g/(f+g),_=n-p*(i-t),S=a-p*(l-e),C=n+v*(i-t),T=a+v*(l-e);return[_,S,C,T]}function r3(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const l=Wy(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[i]),a.push(t[i+1]),a.push(l[2]),a.push(l[3]))}return a}let oo=class extends ze{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),l=this.closed(),u=this.bezier();if(!a)return;let f=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const g=this.getTensionPoints(),p=g.length;for(f=l?0:4,l||e.quadraticCurveTo(g[0],g[1],g[2],g[3]);f<p-2;)e.bezierCurveTo(g[f++],g[f++],g[f++],g[f++],g[f++],g[f++]);l||e.quadraticCurveTo(g[p-2],g[p-1],n[a-2],n[a-1])}else if(u)for(f=2;f<a;)e.bezierCurveTo(n[f++],n[f++],n[f++],n[f++],n[f++],n[f++]);else for(f=2;f<a;f+=2)e.lineTo(n[f],n[f+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r3(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=Wy(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=Wy(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=r3(e,a);return[i[2],i[3]].concat(u).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let g=0;g<e.length/2;g++)u=e[g*2],f=e[g*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);return{x:n,y:i,width:a-n,height:l-i}}};oo.prototype.className="Line";oo.prototype._attrsAffectingSize=["points","bezier","tension"];Xn(oo);q.addGetterSetter(oo,"closed",!1);q.addGetterSetter(oo,"bezier",!1);q.addGetterSetter(oo,"tension",0,Be());q.addGetterSetter(oo,"points",[],YM());const OD=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],ND=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],MD=[[1],[1,1],[1,2,1],[1,3,3,1]],i3=(t,e,n)=>{let a,i;const u=n/2;a=0;for(let f=0;f<20;f++)i=u*OD[20][f]+u,a+=ND[20][f]*DD(t,e,i);return u*a},s3=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],u=2*e[1]-2*e[0],f=4*(a*a+i*i),g=4*(a*l+i*u),p=l*l+u*u;if(f===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=g/(2*f),_=p/f,S=n+v,C=_-v*v,T=S*S+C>0?Math.sqrt(S*S+C):0,R=v*v+C>0?Math.sqrt(v*v+C):0,O=v+Math.sqrt(v*v+C)!==0?C*Math.log(Math.abs((S+T)/(v+R))):0;return Math.sqrt(f)/2*(S*T-v*R+O)};function DD(t,e,n){const a=Jy(1,n,t),i=Jy(1,n,e),l=a*a+i*i;return Math.sqrt(l)}const Jy=(t,e,n)=>{const a=n.length-1;let i,l;if(a===0)return 0;if(t===0){l=0;for(let u=0;u<=a;u++)l+=MD[a][u]*Math.pow(1-e,a-u)*Math.pow(e,u)*n[u];return l}else{i=new Array(a);for(let u=0;u<a;u++)i[u]=a*(n[u+1]-n[u]);return Jy(t-1,e,i)}},l3=(t,e,n)=>{let a=1,i=t/e,l=(t-n(i))/e,u=0;for(;a>.001;){const f=n(i+l),g=Math.abs(t-f)/e;if(g<a)a=g,i+=l;else{const p=n(i-l),v=Math.abs(t-p)/e;v<a?(a=v,i-=l):l/=2}if(u++,u>500)break}return i};let Ui=class Vr extends ze{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Vr.parsePathData(this.data()),this.pathLength=Vr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const l=n[i].command,u=n[i].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const f=u[0],g=u[1],p=u[2],v=u[3],_=u[4],S=u[5],C=u[6],T=u[7],R=p>v?p:v,O=p>v?1:p/v,M=p>v?v/p:1;e.translate(f,g),e.rotate(C),e.scale(O,M),e.arc(0,0,R,_,_+S,1-T),e.scale(1/O,1/M),e.rotate(-C),e.translate(-f,-g);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(g){if(g.command==="A"){const p=g.points[4],v=g.points[5],_=g.points[4]+v;let S=Math.PI/180;if(Math.abs(p-_)<S&&(S=Math.abs(p-_)),v<0)for(let C=p-S;C>_;C-=S){const T=Vr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}else for(let C=p+S;C<_;C+=S){const T=Vr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}}else if(g.command==="C")for(let p=0;p<=1;p+=.01){const v=Vr.getPointOnCubicBezier(p,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(v.x,v.y)}else e=e.concat(g.points)});let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let g=0;g<e.length/2;g++)u=e[g*2],f=e[g*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(f)||(i=Math.min(i,f),l=Math.max(l,f));return{x:n,y:i,width:a-n,height:l-i}}getLength(){return this.pathLength}getPointAtLength(e){return Vr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,l=n.length;if(!l)return null;for(;i<l&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===l)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const u=n[i],f=u.points;switch(u.command){case"L":return Vr.getPointOnLine(e,u.start.x,u.start.y,f[0],f[1]);case"C":return Vr.getPointOnCubicBezier(l3(e,Vr.getPathLength(n),R=>i3([u.start.x,f[0],f[2],f[4]],[u.start.y,f[1],f[3],f[5]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return Vr.getPointOnQuadraticBezier(l3(e,Vr.getPathLength(n),R=>s3([u.start.x,f[0],f[2]],[u.start.y,f[1],f[3]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3]);case"A":const g=f[0],p=f[1],v=f[2],_=f[3],S=f[5],C=f[6];let T=f[4];return T+=S*e/u.pathLength,Vr.getPointOnEllipticalArc(g,p,v,_,T,C)}return null}static getPointOnLine(e,n,a,i,l,u,f){u=u??n,f=f??a;const g=this.getLineLength(n,a,i,l);if(g<1e-10)return{x:n,y:a};if(i===n)return{x:u,y:f+(l>a?e:-e)};const p=(l-a)/(i-n),v=Math.sqrt(e*e/(1+p*p))*(i<n?-1:1),_=p*v;if(Math.abs(f-a-p*(u-n))<1e-10)return{x:u+v,y:f+_};const S=((u-n)*(i-n)+(f-a)*(l-a))/(g*g),C=n+S*(i-n),T=a+S*(l-a),R=this.getLineLength(u,f,C,T),O=Math.sqrt(e*e-R*R),M=Math.sqrt(O*O/(1+p*p))*(i<n?-1:1),j=p*M;return{x:C+M,y:T+j}}static getPointOnCubicBezier(e,n,a,i,l,u,f,g,p){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function C(O){return(1-O)*(1-O)*(1-O)}const T=g*v(e)+u*_(e)+i*S(e)+n*C(e),R=p*v(e)+f*_(e)+l*S(e)+a*C(e);return{x:T,y:R}}static getPointOnQuadraticBezier(e,n,a,i,l,u,f){function g(C){return C*C}function p(C){return 2*C*(1-C)}function v(C){return(1-C)*(1-C)}const _=u*g(e)+i*p(e)+n*v(e),S=f*g(e)+l*p(e)+a*v(e);return{x:_,y:S}}static getPointOnEllipticalArc(e,n,a,i,l,u){const f=Math.cos(u),g=Math.sin(u),p={x:a*Math.cos(l),y:i*Math.sin(l)};return{x:e+(p.x*f-p.y*g),y:n+(p.x*g+p.y*f)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const i=n.split("|"),l=[],u=[];let f=0,g=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<i.length;_++){let S=i[_],C=S.charAt(0);for(S=S.slice(1),u.length=0;v=p.exec(S);)u.push(v[0]);let T=[],R=C==="A"||C==="a"?0:-1;for(let O=0,M=u.length;O<M;O++){const j=u[O];if(j==="00"){T.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),T.push(parseFloat(j.slice(2))),R+=3,R>=7&&(R-=7);continue}if(j==="11"||j==="10"||j==="01"){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseFloat(j.slice(1))),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z)}}for(;T.length>0&&!isNaN(T[0]);){let O="",M=[];const j=f,z=g;let L,H,U,Y,Q,se,_e,Ce,ve,fe;switch(C){case"l":f+=T.shift(),g+=T.shift(),O="L",M.push(f,g);break;case"L":f=T.shift(),g=T.shift(),M.push(f,g);break;case"m":const ce=T.shift(),be=T.shift();if(f+=ce,g+=be,O="M",l.length>2&&l[l.length-1].command==="z"){for(let B=l.length-2;B>=0;B--)if(l[B].command==="M"){f=l[B].points[0]+ce,g=l[B].points[1]+be;break}}M.push(f,g),C="l";break;case"M":f=T.shift(),g=T.shift(),O="M",M.push(f,g),C="L";break;case"h":f+=T.shift(),O="L",M.push(f,g);break;case"H":f=T.shift(),O="L",M.push(f,g);break;case"v":g+=T.shift(),O="L",M.push(f,g);break;case"V":g=T.shift(),O="L",M.push(f,g);break;case"C":M.push(T.shift(),T.shift(),T.shift(),T.shift()),f=T.shift(),g=T.shift(),M.push(f,g);break;case"c":M.push(f+T.shift(),g+T.shift(),f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="C",M.push(f,g);break;case"S":H=f,U=g,L=l[l.length-1],L.command==="C"&&(H=f+(f-L.points[2]),U=g+(g-L.points[3])),M.push(H,U,T.shift(),T.shift()),f=T.shift(),g=T.shift(),O="C",M.push(f,g);break;case"s":H=f,U=g,L=l[l.length-1],L.command==="C"&&(H=f+(f-L.points[2]),U=g+(g-L.points[3])),M.push(H,U,f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="C",M.push(f,g);break;case"Q":M.push(T.shift(),T.shift()),f=T.shift(),g=T.shift(),M.push(f,g);break;case"q":M.push(f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="Q",M.push(f,g);break;case"T":H=f,U=g,L=l[l.length-1],L.command==="Q"&&(H=f+(f-L.points[0]),U=g+(g-L.points[1])),f=T.shift(),g=T.shift(),O="Q",M.push(H,U,f,g);break;case"t":H=f,U=g,L=l[l.length-1],L.command==="Q"&&(H=f+(f-L.points[0]),U=g+(g-L.points[1])),f+=T.shift(),g+=T.shift(),O="Q",M.push(H,U,f,g);break;case"A":Y=T.shift(),Q=T.shift(),se=T.shift(),_e=T.shift(),Ce=T.shift(),ve=f,fe=g,f=T.shift(),g=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(ve,fe,f,g,_e,Ce,Y,Q,se);break;case"a":Y=T.shift(),Q=T.shift(),se=T.shift(),_e=T.shift(),Ce=T.shift(),ve=f,fe=g,f+=T.shift(),g+=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(ve,fe,f,g,_e,Ce,Y,Q,se);break}l.push({command:O||C,points:M,start:{x:j,y:z},pathLength:this.calcLength(j,z,O||C,M)})}(C==="z"||C==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,i){let l,u,f,g;const p=Vr;switch(a){case"L":return p.getLineLength(e,n,i[0],i[1]);case"C":return i3([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return s3([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":l=0;const v=i[4],_=i[5],S=i[4]+_;let C=Math.PI/180;if(Math.abs(v-S)<C&&(C=Math.abs(v-S)),u=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),_<0)for(g=v-C;g>S;g-=C)f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;else for(g=v+C;g<S;g+=C)f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;return f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],S,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,i,l,u,f,g,p){const v=p*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-i)/2,S=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-i)/2,C=_*_/(f*f)+S*S/(g*g);C>1&&(f*=Math.sqrt(C),g*=Math.sqrt(C));let T=Math.sqrt((f*f*(g*g)-f*f*(S*S)-g*g*(_*_))/(f*f*(S*S)+g*g*(_*_)));l===u&&(T*=-1),isNaN(T)&&(T=0);const R=T*f*S/g,O=T*-g*_/f,M=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,j=(n+i)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(_e){return Math.sqrt(_e[0]*_e[0]+_e[1]*_e[1])},L=function(_e,Ce){return(_e[0]*Ce[0]+_e[1]*Ce[1])/(z(_e)*z(Ce))},H=function(_e,Ce){return(_e[0]*Ce[1]<_e[1]*Ce[0]?-1:1)*Math.acos(L(_e,Ce))},U=H([1,0],[(_-R)/f,(S-O)/g]),Y=[(_-R)/f,(S-O)/g],Q=[(-1*_-R)/f,(-1*S-O)/g];let se=H(Y,Q);return L(Y,Q)<=-1&&(se=Math.PI),L(Y,Q)>=1&&(se=0),u===0&&se>0&&(se=se-2*Math.PI),u===1&&se<0&&(se=se+2*Math.PI),[M,j,f,g,U,se,v,u]}};Ui.prototype.className="Path";Ui.prototype._attrsAffectingSize=["data"];Xn(Ui);q.addGetterSetter(Ui,"data");let qc=class extends oo{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const l=this.tension()!==0&&a.length>4;l&&(i=this.getTensionPoints());const u=this.pointerLength(),f=a.length;let g,p;if(l){const S=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[f-2],a[f-1]],C=Ui.calcLength(i[i.length-4],i[i.length-3],"C",S),T=Ui.getPointOnQuadraticBezier(Math.min(1,1-u/C),S[0],S[1],S[2],S[3],S[4],S[5]);g=a[f-2]-T.x,p=a[f-1]-T.y}else g=a[f-2]-a[f-4],p=a[f-1]-a[f-3];const v=(Math.atan2(p,g)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[f-2],a[f-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(g=(i[0]+i[2])/2-a[0],p=(i[1]+i[3])/2-a[1]):(g=a[2]-a[0],p=a[3]-a[1]),e.rotate((Math.atan2(-p,-g)+n)%n),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};qc.prototype.className="Arrow";Xn(qc);q.addGetterSetter(qc,"pointerLength",10,Be());q.addGetterSetter(qc,"pointerWidth",10,Be());q.addGetterSetter(qc,"pointerAtBeginning",!1);q.addGetterSetter(qc,"pointerAtEnding",!0);let Vf=class extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Vf.prototype._centroid=!0;Vf.prototype.className="Circle";Vf.prototype._attrsAffectingSize=["radius"];Xn(Vf);q.addGetterSetter(Vf,"radius",0,Be());class bu extends ze{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}bu.prototype.className="Ellipse";bu.prototype._centroid=!0;bu.prototype._attrsAffectingSize=["radiusX","radiusY"];Xn(bu);q.addComponentsGetterSetter(bu,"radius",["x","y"]);q.addGetterSetter(bu,"radiusX",0,Be());q.addGetterSetter(bu,"radiusY",0,Be());class Hi extends ze{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),l=this.attrs.image;let u;if(l){const f=this.attrs.cropWidth,g=this.attrs.cropHeight;f&&g?u=[l,this.cropX(),this.cropY(),f,g,0,0,n,a]:u=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?ne.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(i&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?ne.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const i=ne.createImageElement();i.onload=function(){const l=new Hi({image:i});n(l)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}}Hi.prototype.className="Image";Xn(Hi);q.addGetterSetter(Hi,"cornerRadius",0,Ov(4));q.addGetterSetter(Hi,"image");q.addComponentsGetterSetter(Hi,"crop",["x","y","width","height"]);q.addGetterSetter(Hi,"cropX",0,Be());q.addGetterSetter(Hi,"cropY",0,Be());q.addGetterSetter(Hi,"cropWidth",0,Be());q.addGetterSetter(Hi,"cropHeight",0,Be());const QS=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],jD="Change.konva",zD="none",e2="up",t2="right",n2="down",a2="left",kD=QS.length;let Z2=class extends Pf{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<kD;a++)e.on(QS[a]+jD,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,l,u,f,g,p;if(e&&n){switch(a=e.width(),i=e.height(),l=n.pointerDirection(),u=n.pointerWidth(),p=n.pointerHeight(),f=0,g=0,l){case e2:f=a/2,g=-1*p;break;case t2:f=a+u,g=i/2;break;case n2:f=a/2,g=i+p;break;case a2:f=-1*u,g=i/2;break}n.setAttrs({x:-1*f,y:-1*g,width:a,height:i}),e.setAttrs({x:-1*f,y:-1*g})}}};Z2.prototype.className="Label";Xn(Z2);class Vc extends ze{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),f=this.cornerRadius();let g=0,p=0,v=0,_=0;typeof f=="number"?g=p=v=_=Math.min(f,n/2,a/2):(g=Math.min(f[0]||0,n/2,a/2),p=Math.min(f[1]||0,n/2,a/2),_=Math.min(f[2]||0,n/2,a/2),v=Math.min(f[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(g,0),i===e2&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+l)/2,0)),e.lineTo(n-p,0),e.arc(n-p,p,p,Math.PI*3/2,0,!1),i===t2&&(e.lineTo(n,(a-u)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),i===n2&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),i===a2&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),f=this.height();return l===e2?(n-=i,f+=i):l===n2?f+=i:l===a2?(e-=a*1.5,u+=a):l===t2&&(u+=a*1.5),{x:e,y:n,width:u,height:f}}}Vc.prototype.className="Tag";Xn(Vc);q.addGetterSetter(Vc,"pointerDirection",zD);q.addGetterSetter(Vc,"pointerWidth",0,Be());q.addGetterSetter(Vc,"pointerHeight",0,Be());q.addGetterSetter(Vc,"cornerRadius",0,Ov(4));let gg=class extends ze{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?ne.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};gg.prototype.className="Rect";Xn(gg);q.addGetterSetter(gg,"cornerRadius",0,Ov(4));class _u extends ze{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)ne.drawRoundedPolygonPath(e,n,i,a,l);else{e.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)e.lineTo(n[u].x,n[u].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,l=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y)}),{x:n,y:i,width:a-n,height:l-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}_u.prototype.className="RegularPolygon";_u.prototype._centroid=!0;_u.prototype._attrsAffectingSize=["radius"];Xn(_u);q.addGetterSetter(_u,"radius",0,Be());q.addGetterSetter(_u,"sides",0,Be());q.addGetterSetter(_u,"cornerRadius",0,Ov(4));const o3=Math.PI*2;class Yc extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,o3,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),o3,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Yc.prototype.className="Ring";Yc.prototype._centroid=!0;Yc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(Yc);q.addGetterSetter(Yc,"innerRadius",0,Be());q.addGetterSetter(Yc,"outerRadius",0,Be());class pl extends ze{constructor(e){super(e),this._updated=!0,this.anim=new ki(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+0],g=l[i+1],p=l[i+2],v=l[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,p,v),e.closePath(),e.fillStrokeShape(this)),_)if(u){const S=u[n],C=a*2;e.drawImage(_,f,g,p,v,S[C+0],S[C+1],p,v)}else e.drawImage(_,f,g,p,v,0,0,p,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+2],g=l[i+3];if(e.beginPath(),u){const p=u[n],v=a*2;e.rect(p[v+0],p[v+1],f,g)}else e.rect(0,0,f,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],l=i.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}pl.prototype.className="Sprite";Xn(pl);q.addGetterSetter(pl,"animation");q.addGetterSetter(pl,"animations");q.addGetterSetter(pl,"frameOffsets");q.addGetterSetter(pl,"image");q.addGetterSetter(pl,"frameIndex",0,Be());q.addGetterSetter(pl,"frameRate",17,Be());q.backCompat(pl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Su extends ze{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<i*2;l++){const u=l%2===0?a:n,f=u*Math.sin(l*Math.PI/i),g=-1*u*Math.cos(l*Math.PI/i);e.lineTo(f,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Su.prototype.className="Star";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(Su);q.addGetterSetter(Su,"numPoints",5,Be());q.addGetterSetter(Su,"innerRadius",0,Be());q.addGetterSetter(Su,"outerRadius",0,Be());function iu(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=i[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const pf="auto",UD="center",$S="inherit",vf="justify",LD="Change.konva",PD="2d",u3="-",WS="left",BD="text",HD="Text",GD="top",qD="bottom",c3="middle",JS="normal",VD="px ",mp=" ",YD="right",d3="rtl",ZD="word",ID="char",f3="none",ey="",ex=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],XD=ex.length;function KD(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let pp;function ty(){return pp||(pp=ne.createCanvasElement().getContext(PD),pp)}function FD(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function QD(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function $D(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Hn=class extends ze{constructor(e){super($D(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<XD;n++)this.on(ex[n]+LD,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,l=i.length;if(!this.text())return;let u=this.padding(),f=this.fontSize(),g=this.lineHeight()*f,p=this.verticalAlign(),v=this.direction(),_=0,S=this.align(),C=this.getWidth(),T=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),M=this.textDecoration(),j=M.indexOf("underline")!==-1,z=M.indexOf("line-through")!==-1,L;v=v===$S?e.direction:v;let H=g/2,U=c3;if(!qe.legacyTextRendering){const Y=this.measureSize("M");U="alphabetic";const Q=(n=Y.fontBoundingBoxAscent)!==null&&n!==void 0?n:Y.actualBoundingBoxAscent,se=(a=Y.fontBoundingBoxDescent)!==null&&a!==void 0?a:Y.actualBoundingBoxDescent;H=(Q-se)/2+g/2}for(v===d3&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",U),e.setAttr("textAlign",WS),p===c3?_=(this.getHeight()-l*g-u*2)/2:p===qD&&(_=this.getHeight()-l*g-u*2),e.translate(u,_+u),L=0;L<l;L++){let Y=0,Q=0;const se=i[L],_e=se.text,Ce=se.width,ve=se.lastInParagraph;if(e.save(),S===YD?Y+=C-Ce-u*2:S===UD&&(Y+=(C-Ce-u*2)/2),j){e.save(),e.beginPath();const fe=qe.legacyTextRendering?Math.round(f/2):Math.round(f/4),ce=Y,be=H+Q+fe;e.moveTo(ce,be);const B=S===vf&&!ve?C-u*2:Ce;e.lineTo(ce+Math.round(B),be),e.lineWidth=f/15;const ae=this._getLinearGradient();e.strokeStyle=ae||O,e.stroke(),e.restore()}if(v!==d3&&(T!==0||S===vf||R)){const fe=_e.split(" ").length-1,ce=iu(_e);for(let be=0;be<ce.length;be++){const B=ce[be];if(B===" "&&!ve&&S===vf&&(Y+=(C-u*2-Ce)/fe),this._partialTextX=Y,this._partialTextY=H+Q,this._partialText=B,R){e.save();const K=i.slice(0,L).reduce((G,$)=>G+iu($.text).length,0),he=be+K;R({char:B,index:he,x:Y,y:H+Q,lineIndex:L,column:be,isLastInLine:ve,width:this.measureSize(B).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),Y+=this.measureSize(B).width+T}}else T!==0&&e.setAttr("letterSpacing",`${T}px`),this._partialTextX=Y,this._partialTextY=H+Q,this._partialText=_e,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const fe=qe.legacyTextRendering?0:-Math.round(f/4),ce=S===vf?0:Y;e.moveTo(ce,H+Q+fe);const be=S===vf&&!ve?C-u*2:Ce;e.lineTo(ce+Math.round(be),H+Q+fe),e.lineWidth=f/15;const B=this._getLinearGradient();e.strokeStyle=B||O,e.stroke(),e.restore()}e.restore(),l>1&&(H+=g)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=ne._isString(e)?e:e==null?"":e+"";return this._setAttr(BD,n),this}getWidth(){return this.attrs.width===pf||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===pf||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,l,u,f,g,p,v,_,S;let C=ty(),T=this.fontSize(),R;C.save(),C.font=this._getContextFont(),R=C.measureText(e),C.restore();const O=T/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(u=R.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(f=R.emHeightAscent)!==null&&f!==void 0?f:100*O,emHeightDescent:(g=R.emHeightDescent)!==null&&g!==void 0?g:-20*O,fontBoundingBoxAscent:(p=R.fontBoundingBoxAscent)!==null&&p!==void 0?p:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:T}}_getContextFont(){return this.fontStyle()+mp+this.fontVariant()+mp+(this.fontSize()+VD)+KD(this.fontFamily())}_addTextLine(e){this.align()===vf&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return ty().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,l=this.attrs.width,u=this.attrs.height,f=l!==pf&&l!==void 0,g=u!==pf&&u!==void 0,p=this.padding(),v=l-p*2,_=u-p*2,S=0,C=this.wrap(),T=C!==f3,R=C!==ID&&T,O=this.ellipsis();this.textArr=[],ty().font=this._getContextFont();const M=O?this._getTextWidth(ey):0;for(let j=0,z=e.length;j<z;++j){let L=e[j],H=this._getTextWidth(L);if(f&&H>v)for(;L.length>0;){let U=0,Y=iu(L).length,Q="",se=0;for(;U<Y;){const _e=U+Y>>>1,Ce=iu(L),ve=Ce.slice(0,_e+1).join(""),fe=this._getTextWidth(ve);(O&&g&&S+i>_?fe+M:fe)<=v?(U=_e+1,Q=ve,se=fe):Y=_e}if(Q){if(R){const ve=iu(L),fe=iu(Q),ce=ve[fe.length],be=ce===mp||ce===u3;let B;if(be&&se<=v)B=fe.length;else{const ae=fe.lastIndexOf(mp),K=fe.lastIndexOf(u3);B=Math.max(ae,K)+1}B>0&&(U=B,Q=ve.slice(0,U).join(""),se=this._getTextWidth(Q))}if(Q=Q.trimRight(),this._addTextLine(Q),a=Math.max(a,se),S+=i,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(L=iu(L).slice(U).join("").trimLeft(),L.length>0&&(H=this._getTextWidth(L),H<=v)){this._addTextLine(L),S+=i,a=Math.max(a,H);break}}else break}else this._addTextLine(L),S+=i,a=Math.max(a,H),this._shouldHandleEllipsis(S)&&j<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&S+i>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,l=i!==pf&&i!==void 0,u=this.padding(),f=i-u*2;return!(this.wrap()!==f3)||l&&e+a>f}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==pf&&e!==void 0,a=this.padding(),i=e-a*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!l||(n&&(this._getTextWidth(u.text+ey)<i||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+ey))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Hn.prototype._fillFunc=FD;Hn.prototype._strokeFunc=QD;Hn.prototype.className=HD;Hn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Xn(Hn);q.overWriteSetter(Hn,"width",q2());q.overWriteSetter(Hn,"height",q2());q.addGetterSetter(Hn,"direction",$S);q.addGetterSetter(Hn,"fontFamily","Arial");q.addGetterSetter(Hn,"fontSize",12,Be());q.addGetterSetter(Hn,"fontStyle",JS);q.addGetterSetter(Hn,"fontVariant",JS);q.addGetterSetter(Hn,"padding",0,Be());q.addGetterSetter(Hn,"align",WS);q.addGetterSetter(Hn,"verticalAlign",GD);q.addGetterSetter(Hn,"lineHeight",1,Be());q.addGetterSetter(Hn,"wrap",ZD);q.addGetterSetter(Hn,"ellipsis",!1,bs());q.addGetterSetter(Hn,"letterSpacing",0,Be());q.addGetterSetter(Hn,"text","",Hc());q.addGetterSetter(Hn,"textDecoration","");q.addGetterSetter(Hn,"charRenderFunc",void 0);const WD="",tx="normal";function nx(t){t.fillText(this.partialText,0,0)}function ax(t){t.strokeText(this.partialText,0,0)}class Ea extends ze{constructor(e){super(e),this.dummyCanvas=ne.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ui.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Ui.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ui.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let u=0;u<l.length;u++){e.save();const f=l[u].p0;e.translate(f.x,f.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Hn.prototype.setText.call(this,e)}_getContextFont(){return Hn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=iu(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),u=this.align(),f=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let p=0;u==="center"&&(p=Math.max(0,this.pathLength/2-g/2)),u==="right"&&(p=Math.max(0,this.pathLength-g));let v=p;for(let _=0;_<n.length;_++){const S=this._getPointAtLength(v);if(!S)return;const C=n[_].char;let T=n[_].width+l;if(C===" "&&u==="justify"){const L=this.text().split(" ").length-1;T+=(this.pathLength-g)/L}const R=this._getPointAtLength(v+T);if(!R)return;const O=Ui.getLineLength(S.x,S.y,R.x,R.y);let M=0;if(f)try{M=f(n[_-1].char,C)*this.fontSize()}catch{M=0}S.x+=M,R.x+=M,this.textWidth+=M;const j=Ui.getPointOnLine(M+O/2,S.x,S.y,R.x,R.y),z=Math.atan2(R.y-S.y,R.x-S.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:e[_],rotation:z,p0:S,p1:R}),v+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(p){e.push(p.p0.x),e.push(p.p0.y),e.push(p.p1.x),e.push(p.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,l=e[1]||0,u,f;for(let p=0;p<e.length/2;p++)u=e[p*2],f=e[p*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);const g=this.fontSize();return{x:n-g/2,y:i-g/2,width:a-n+g,height:l-i+g}}destroy(){return ne.releaseCanvas(this.dummyCanvas),super.destroy()}}Ea.prototype._fillFunc=nx;Ea.prototype._strokeFunc=ax;Ea.prototype._fillFuncHit=nx;Ea.prototype._strokeFuncHit=ax;Ea.prototype.className="TextPath";Ea.prototype._attrsAffectingSize=["text","fontSize","data"];Xn(Ea);q.addGetterSetter(Ea,"data");q.addGetterSetter(Ea,"fontFamily","Arial");q.addGetterSetter(Ea,"fontSize",12,Be());q.addGetterSetter(Ea,"fontStyle",tx);q.addGetterSetter(Ea,"align","left");q.addGetterSetter(Ea,"letterSpacing",0,Be());q.addGetterSetter(Ea,"textBaseline","middle");q.addGetterSetter(Ea,"fontVariant",tx);q.addGetterSetter(Ea,"text",WD);q.addGetterSetter(Ea,"textDecoration","");q.addGetterSetter(Ea,"kerningFunc",void 0);const rx="tr-konva",JD=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${rx}`).join(" "),h3="nodesRect",ej=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],tj={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},nj="ontouchstart"in qe._global;function aj(t,e,n){if(t==="rotater")return n;e+=ne.degToRad(tj[t]||0);const a=(ne.radToDeg(e)%360+360)%360;return ne._inRange(a,315+22.5,360)||ne._inRange(a,0,22.5)?"ns-resize":ne._inRange(a,45-22.5,45+22.5)?"nesw-resize":ne._inRange(a,90-22.5,90+22.5)?"ew-resize":ne._inRange(a,135-22.5,135+22.5)?"nwse-resize":ne._inRange(a,180-22.5,180+22.5)?"ns-resize":ne._inRange(a,225-22.5,225+22.5)?"nesw-resize":ne._inRange(a,270-22.5,270+22.5)?"ew-resize":ne._inRange(a,315-22.5,315+22.5)?"nwse-resize":(ne.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const lv=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function rj(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function ix(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function ij(t,e){const n=rj(t);return ix(t,e,n)}function sj(t,e,n){let a=e;for(let i=0;i<t.length;i++){const l=qe.getAngle(t[i]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=l)}return a}let r2=0,$t=class extends Pf{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(JD,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ne.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return rx+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(ne.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const u=i._attrsAffectingSize.map(f=>f+"Change."+this._getEventNamespace()).join(" ");i.on(u,l)}i.on(ej.map(u=>u+`.${this._getEventNamespace()}`).join(" "),l),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),l=i.x-n.x,u=i.y-n.y;this.nodes().forEach(f=>{if(f===e||f.isDragging())return;const g=f.getAbsolutePosition();f.setAbsolutePosition({x:g.x+l,y:g.y+u}),f.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h3),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h3,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),f=i.x*l.x-e.offsetX()*l.x,g=i.y*l.y-e.offsetY()*l.y,p=(qe.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+f*Math.cos(p)+g*Math.sin(-p),y:u.y+g*Math.cos(p)+f*Math.sin(p),width:i.width*l.x,height:i.height*l.y,rotation:p};return ix(v,-qe.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(p=>{const v=p.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],S=p.getAbsoluteTransform();_.forEach(function(C){const T=S.point(C);n.push(T)})});const a=new ui;a.rotate(-qe.getAngle(this.rotation()));let i=1/0,l=1/0,u=-1/0,f=-1/0;n.forEach(function(p){const v=a.point(p);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),a.invert();const g=a.point({x:i,y:l});return{x:g.x,y:g.y,width:u-i,height:f-l,rotation:qe.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),lv.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new gg({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:nj?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=qe.getAngle(this.rotation()),l=this.rotateAnchorCursor(),u=aj(e,i,l);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new ze({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),l=i.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*ne._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=e.target.getAbsolutePosition(),f=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:f.x-u.x,y:f.y-u.y},r2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){let n,a,i;const l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const f=u.getPointerPosition();let g={x:f.x-this._anchorDragOffset.x,y:f.y-this._anchorDragOffset.y};const p=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(p,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(p.x===v.x&&p.y===v.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=l.x()-j.width/2,a=-l.y()+j.height/2;let z=Math.atan2(-a,n)+Math.PI/2;j.height<0&&(z-=Math.PI);const H=qe.getAngle(this.rotation())+z,U=qe.getAngle(this.rotationSnapTolerance()),Q=sj(this.rotationSnaps(),H,U)-j.rotation,se=ij(j,Q);this._fitNodesInto(se,e);return}const _=this.shiftBehavior();let S;_==="inverted"?S=this.keepRatio()&&!e.shiftKey:_==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let C=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-left").x()>j.x?-1:1,L=this.findOne(".top-left").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*L,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-right").x()<j.x?-1:1,L=this.findOne(".top-right").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*L,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-a)}var T=l.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(l.y()-j.y,2));const z=j.x<l.x()?-1:1,L=l.y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*L,l.x(j.x-n),l.y(j.y+a)}T=l.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(l.y()-j.y,2));const z=this.findOne(".bottom-right").x()<j.x?-1:1,L=this.findOne(".bottom-right").y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*L,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(C=this.centeredScaling()||e.altKey,C){const j=this.findOne(".top-left"),z=this.findOne(".bottom-right"),L=j.x(),H=j.y(),U=this.getWidth()-z.x(),Y=this.getHeight()-z.y();z.move({x:-L,y:-H}),j.move({x:U,y:Y})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:M,rotation:qe.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();r2--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var l;i._fire("transformend",{evt:e,target:i}),(l=i.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if(ne._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(ne._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const l=new ui;if(l.rotate(qe.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=l.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=l.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:ne.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,f=new ui;f.translate(a.x,a.y),f.rotate(a.rotation),f.scale(a.width/u,a.height/u);const g=new ui,p=e.width/u,v=e.height/u;this.flipEnabled()===!1?(g.translate(e.x,e.y),g.rotate(e.rotation),g.translate(e.width<0?e.width:0,e.height<0?e.height:0),g.scale(Math.abs(p),Math.abs(v))):(g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(p,v));const _=g.multiply(f.invert());this._nodes.forEach(S=>{var C;if(!S.getStage())return;const T=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new ui;O.multiply(T.copy().invert()).multiply(_).multiply(T).multiply(R);const M=O.decompose();S.setAttrs(M),(C=S.getLayer())===null||C===void 0||C.batchDraw()}),this.rotation(ne._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(ne._getRotation(n.rotation));const a=n.width,i=n.height,l=this.enabledAnchors(),u=this.resizeEnabled(),f=this.padding(),g=this.anchorSize(),p=this.find("._anchor");p.forEach(_=>{_.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+f,offsetY:g/2+f,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:g/2+f,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:g/2-f,offsetY:g/2+f,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:g/2+f,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:g/2-f,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:g/2+f,offsetY:g/2-f,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:g/2-f,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:g/2-f,offsetY:g/2-f,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*ne._sign(i)-f,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&p.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Pf.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ge.prototype.toObject.call(this)}clone(e){return Ge.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};$t.isTransforming=()=>r2>0;function lj(t){return t instanceof Array||ne.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){lv.indexOf(e)===-1&&ne.warn("Unknown anchor name: "+e+". Available names are: "+lv.join(", "))}),t||[]}$t.prototype.className="Transformer";Xn($t);q.addGetterSetter($t,"enabledAnchors",lv,lj);q.addGetterSetter($t,"flipEnabled",!0,bs());q.addGetterSetter($t,"resizeEnabled",!0);q.addGetterSetter($t,"anchorSize",10,Be());q.addGetterSetter($t,"rotateEnabled",!0);q.addGetterSetter($t,"rotateLineVisible",!0);q.addGetterSetter($t,"rotationSnaps",[]);q.addGetterSetter($t,"rotateAnchorOffset",50,Be());q.addGetterSetter($t,"rotateAnchorCursor","crosshair");q.addGetterSetter($t,"rotationSnapTolerance",5,Be());q.addGetterSetter($t,"borderEnabled",!0);q.addGetterSetter($t,"anchorStroke","rgb(0, 161, 255)");q.addGetterSetter($t,"anchorStrokeWidth",1,Be());q.addGetterSetter($t,"anchorFill","white");q.addGetterSetter($t,"anchorCornerRadius",0,Be());q.addGetterSetter($t,"borderStroke","rgb(0, 161, 255)");q.addGetterSetter($t,"borderStrokeWidth",1,Be());q.addGetterSetter($t,"borderDash");q.addGetterSetter($t,"keepRatio",!0);q.addGetterSetter($t,"shiftBehavior","default");q.addGetterSetter($t,"centeredScaling",!1);q.addGetterSetter($t,"ignoreStroke",!1);q.addGetterSetter($t,"padding",0,Be());q.addGetterSetter($t,"nodes");q.addGetterSetter($t,"node");q.addGetterSetter($t,"boundBoxFunc");q.addGetterSetter($t,"anchorDragBoundFunc");q.addGetterSetter($t,"anchorStyleFunc");q.addGetterSetter($t,"shouldOverdrawWholeArea",!1);q.addGetterSetter($t,"useSingleNodeRotation",!0);q.backCompat($t,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class uo extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,qe.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}uo.prototype.className="Wedge";uo.prototype._centroid=!0;uo.prototype._attrsAffectingSize=["radius"];Xn(uo);q.addGetterSetter(uo,"radius",0,Be());q.addGetterSetter(uo,"angle",0,Be());q.addGetterSetter(uo,"clockwise",!1);q.backCompat(uo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function g3(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const oj=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],uj=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function cj(t,e){const n=t.data,a=t.width,i=t.height;let l,u,f,g,p,v,_,S,C,T,R,O,M,j,z,L,H,U,Y,Q;const se=e+e+1,_e=a-1,Ce=i-1,ve=e+1,fe=ve*(ve+1)/2,ce=new g3,be=oj[e],B=uj[e];let ae=null,K=ce,he=null,G=null;for(let $=1;$<se;$++)K=K.next=new g3,$===ve&&(ae=K);K.next=ce,f=u=0;for(let $=0;$<i;$++){O=M=j=z=g=p=v=_=0,S=ve*(L=n[u]),C=ve*(H=n[u+1]),T=ve*(U=n[u+2]),R=ve*(Y=n[u+3]),g+=fe*L,p+=fe*H,v+=fe*U,_+=fe*Y,K=ce;for(let Ee=0;Ee<ve;Ee++)K.r=L,K.g=H,K.b=U,K.a=Y,K=K.next;for(let Ee=1;Ee<ve;Ee++)l=u+((_e<Ee?_e:Ee)<<2),g+=(K.r=L=n[l])*(Q=ve-Ee),p+=(K.g=H=n[l+1])*Q,v+=(K.b=U=n[l+2])*Q,_+=(K.a=Y=n[l+3])*Q,O+=L,M+=H,j+=U,z+=Y,K=K.next;he=ce,G=ae;for(let Ee=0;Ee<a;Ee++)n[u+3]=Y=_*be>>B,Y!==0?(Y=255/Y,n[u]=(g*be>>B)*Y,n[u+1]=(p*be>>B)*Y,n[u+2]=(v*be>>B)*Y):n[u]=n[u+1]=n[u+2]=0,g-=S,p-=C,v-=T,_-=R,S-=he.r,C-=he.g,T-=he.b,R-=he.a,l=f+((l=Ee+e+1)<_e?l:_e)<<2,O+=he.r=n[l],M+=he.g=n[l+1],j+=he.b=n[l+2],z+=he.a=n[l+3],g+=O,p+=M,v+=j,_+=z,he=he.next,S+=L=G.r,C+=H=G.g,T+=U=G.b,R+=Y=G.a,O-=L,M-=H,j-=U,z-=Y,G=G.next,u+=4;f+=a}for(let $=0;$<a;$++){M=j=z=O=p=v=_=g=0,u=$<<2,S=ve*(L=n[u]),C=ve*(H=n[u+1]),T=ve*(U=n[u+2]),R=ve*(Y=n[u+3]),g+=fe*L,p+=fe*H,v+=fe*U,_+=fe*Y,K=ce;for(let Te=0;Te<ve;Te++)K.r=L,K.g=H,K.b=U,K.a=Y,K=K.next;let Ee=a;for(let Te=1;Te<=e;Te++)u=Ee+$<<2,g+=(K.r=L=n[u])*(Q=ve-Te),p+=(K.g=H=n[u+1])*Q,v+=(K.b=U=n[u+2])*Q,_+=(K.a=Y=n[u+3])*Q,O+=L,M+=H,j+=U,z+=Y,K=K.next,Te<Ce&&(Ee+=a);u=$,he=ce,G=ae;for(let Te=0;Te<i;Te++)l=u<<2,n[l+3]=Y=_*be>>B,Y>0?(Y=255/Y,n[l]=(g*be>>B)*Y,n[l+1]=(p*be>>B)*Y,n[l+2]=(v*be>>B)*Y):n[l]=n[l+1]=n[l+2]=0,g-=S,p-=C,v-=T,_-=R,S-=he.r,C-=he.g,T-=he.b,R-=he.a,l=$+((l=Te+ve)<Ce?l:Ce)*a<<2,g+=O+=he.r=n[l],p+=M+=he.g=n[l+1],v+=j+=he.b=n[l+2],_+=z+=he.a=n[l+3],he=he.next,S+=L=G.r,C+=H=G.g,T+=U=G.b,R+=Y=G.a,O-=L,M-=H,j-=U,z-=Y,G=G.next,u+=a}}const dj=function(e){const n=Math.round(this.blurRadius());n>0&&cj(e,n)};q.addGetterSetter(Ge,"blurRadius",0,Be(),q.afterSetFilter);const fj=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};q.addGetterSetter(Ge,"brightness",0,Be(),q.afterSetFilter);const hj=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},gj=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,l=150,u=150;for(let f=0;f<a;f+=4)i=n[f],l=n[f+1],u=n[f+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,n[f]=i,n[f+1]=l,n[f+2]=u};q.addGetterSetter(Ge,"contrast",0,Be(),q.afterSetFilter);const mj=function(t){var e,n,a,i,l,u,f,g,p;const v=t.data,_=t.width,S=t.height,C=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),T=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),O=(f={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&f!==void 0?f:315,M=!!((p=(g=this.embossBlend)===null||g===void 0?void 0:g.call(this))!==null&&p!==void 0&&p),j=C*10,z=T*255,L=O*Math.PI/180,H=Math.cos(L),U=Math.sin(L),Y=128/1020*j,Q=new Uint8ClampedArray(v),se=new Float32Array(_*S);for(let ce=0,be=0;be<v.length;be+=4,ce++)se[ce]=.2126*Q[be]+.7152*Q[be+1]+.0722*Q[be+2];const _e=[-1,0,1,-2,0,2,-1,0,1],Ce=[-1,-2,-1,0,0,0,1,2,1],ve=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],fe=ce=>ce<0?0:ce>255?255:ce;for(let ce=1;ce<S-1;ce++)for(let be=1;be<_-1;be++){const B=ce*_+be;let ae=0,K=0;ae+=se[B+ve[0]]*_e[0],K+=se[B+ve[0]]*Ce[0],ae+=se[B+ve[1]]*_e[1],K+=se[B+ve[1]]*Ce[1],ae+=se[B+ve[2]]*_e[2],K+=se[B+ve[2]]*Ce[2],ae+=se[B+ve[3]]*_e[3],K+=se[B+ve[3]]*Ce[3],ae+=se[B+ve[5]]*_e[5],K+=se[B+ve[5]]*Ce[5],ae+=se[B+ve[6]]*_e[6],K+=se[B+ve[6]]*Ce[6],ae+=se[B+ve[7]]*_e[7],K+=se[B+ve[7]]*Ce[7],ae+=se[B+ve[8]]*_e[8],K+=se[B+ve[8]]*Ce[8];const he=H*ae+U*K,G=fe(z+he*Y),$=B*4;if(M){const Ee=G-z;v[$]=fe(Q[$]+Ee),v[$+1]=fe(Q[$+1]+Ee),v[$+2]=fe(Q[$+2]+Ee),v[$+3]=Q[$+3]}else v[$]=v[$+1]=v[$+2]=G,v[$+3]=Q[$+3]}for(let ce=0;ce<_;ce++){let be=ce*4,B=((S-1)*_+ce)*4;v[be]=Q[be],v[be+1]=Q[be+1],v[be+2]=Q[be+2],v[be+3]=Q[be+3],v[B]=Q[B],v[B+1]=Q[B+1],v[B+2]=Q[B+2],v[B+3]=Q[B+3]}for(let ce=1;ce<S-1;ce++){let be=ce*_*4,B=(ce*_+(_-1))*4;v[be]=Q[be],v[be+1]=Q[be+1],v[be+2]=Q[be+2],v[be+3]=Q[be+3],v[B]=Q[B],v[B+1]=Q[B+1],v[B+2]=Q[B+2],v[B+3]=Q[B+3]}return t};q.addGetterSetter(Ge,"embossStrength",.5,Be(),q.afterSetFilter);q.addGetterSetter(Ge,"embossWhiteLevel",.5,Be(),q.afterSetFilter);q.addGetterSetter(Ge,"embossDirection","top-left",void 0,q.afterSetFilter);q.addGetterSetter(Ge,"embossBlend",!1,void 0,q.afterSetFilter);function ny(t,e,n,a,i){const l=n-e,u=i-a;if(l===0)return a+u/2;if(u===0)return a;let f=(t-e)/l;return f=u*f+a,f}const pj=function(t){const e=t.data,n=e.length;let a=e[0],i=a,l,u=e[1],f=u,g,p=e[2],v=p,_;const S=this.enhance();if(S===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>i&&(i=l),g=e[z+1],g<u?u=g:g>f&&(f=g),_=e[z+2],_<p?p=_:_>v&&(v=_);i===a&&(i=255,a=0),f===u&&(f=255,u=0),v===p&&(v=255,p=0);let C,T,R,O,M,j;if(S>0)C=i+S*(255-i),T=a-S*(a-0),R=f+S*(255-f),O=u-S*(u-0),M=v+S*(255-v),j=p-S*(p-0);else{const z=(i+a)*.5;C=i+S*(i-z),T=a+S*(a-z);const L=(f+u)*.5;R=f+S*(f-L),O=u+S*(u-L);const H=(v+p)*.5;M=v+S*(v-H),j=p+S*(p-H)}for(let z=0;z<n;z+=4)e[z+0]=ny(e[z+0],a,i,T,C),e[z+1]=ny(e[z+1],u,f,O,R),e[z+2]=ny(e[z+2],p,v,j,M)};q.addGetterSetter(Ge,"enhance",0,Be(),q.afterSetFilter);const vj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};q.addGetterSetter(Ge,"hue",0,Be(),q.afterSetFilter);q.addGetterSetter(Ge,"saturation",0,Be(),q.afterSetFilter);q.addGetterSetter(Ge,"luminance",0,Be(),q.afterSetFilter);const yj=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,f=a*i*Math.cos(l*Math.PI/180),g=a*i*Math.sin(l*Math.PI/180),p=.299*a+.701*f+.167*g,v=.587*a-.587*f+.33*g,_=.114*a-.114*f-.497*g,S=.299*a-.299*f-.328*g,C=.587*a+.413*f+.035*g,T=.114*a-.114*f+.293*g,R=.299*a-.3*f+1.25*g,O=.587*a-.586*f-1.05*g,M=.114*a+.886*f-.2*g;let j,z,L,H;for(let U=0;U<n;U+=4)j=e[U+0],z=e[U+1],L=e[U+2],H=e[U+3],e[U+0]=p*j+v*z+_*L+u,e[U+1]=S*j+C*z+T*L+u,e[U+2]=R*j+O*z+M*L+u,e[U+3]=H},bj=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=a*i*Math.cos(l*Math.PI/180),f=a*i*Math.sin(l*Math.PI/180),g=.299*a+.701*u+.167*f,p=.587*a-.587*u+.33*f,v=.114*a-.114*u-.497*f,_=.299*a-.299*u-.328*f,S=.587*a+.413*u+.035*f,C=.114*a-.114*u+.293*f,T=.299*a-.3*u+1.25*f,R=.587*a-.586*u-1.05*f,O=.114*a+.886*u-.2*f;for(let M=0;M<n;M+=4){const j=e[M+0],z=e[M+1],L=e[M+2],H=e[M+3];e[M+0]=g*j+p*z+v*L,e[M+1]=_*j+S*z+C*L,e[M+2]=T*j+R*z+O*L,e[M+3]=H}};q.addGetterSetter(Ge,"hue",0,Be(),q.afterSetFilter);q.addGetterSetter(Ge,"saturation",0,Be(),q.afterSetFilter);q.addGetterSetter(Ge,"value",0,Be(),q.afterSetFilter);const _j=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},Sj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let p=Math.sqrt(f*f+g*g),v=l-f,_=u-g;const S=Math.sqrt(v*v+_*_);p=S>p?S:p;const C=u,T=l,R=360/T*Math.PI/180;for(let O=0;O<T;O+=1){const M=Math.sin(O*R),j=Math.cos(O*R);for(let z=0;z<C;z+=1){v=Math.floor(f+p*z/C*j),_=Math.floor(g+p*z/C*M);let L=(_*l+v)*4;const H=a[L+0],U=a[L+1],Y=a[L+2],Q=a[L+3];L=(O+z*l)*4,i[L+0]=H,i[L+1]=U,i[L+2]=Y,i[L+3]=Q}}},xj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let p=Math.sqrt(f*f+g*g),v=l-f,_=u-g;const S=Math.sqrt(v*v+_*_);p=S>p?S:p;const C=u,T=l,R=0;let O,M;for(v=0;v<l;v+=1)for(_=0;_<u;_+=1){const j=v-f,z=_-g,L=Math.sqrt(j*j+z*z)*C/p;let H=(Math.atan2(z,j)*180/Math.PI+360+R)%360;H=H*T/360,O=Math.floor(H),M=Math.floor(L);let U=(M*l+O)*4;const Y=a[U+0],Q=a[U+1],se=a[U+2],_e=a[U+3];U=(_*l+v)*4,i[U+0]=Y,i[U+1]=Q,i[U+2]=se,i[U+3]=_e}},wj=function(t){const e=t.width,n=t.height;let a,i,l,u,f,g,p,v,_,S,C=Math.round(this.kaleidoscopePower());const T=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(T%360)/360);if(C<1)return;const O=ne.createCanvasElement();O.width=e,O.height=n;const M=O.getContext("2d").getImageData(0,0,e,n);ne.releaseCanvas(O),Sj(t,M,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,C);for(;j<=8;)j=j*2,C-=1;j=Math.ceil(j);let z=j,L=0,H=z,U=1;for(R+j>e&&(L=z,H=0,U=-1),i=0;i<n;i+=1)for(a=L;a!==H;a+=U)l=Math.round(a+R)%e,_=(e*i+l)*4,f=M.data[_+0],g=M.data[_+1],p=M.data[_+2],v=M.data[_+3],S=(e*i+a)*4,M.data[S+0]=f,M.data[S+1]=g,M.data[S+2]=p,M.data[S+3]=v;for(i=0;i<n;i+=1)for(z=Math.floor(j),u=0;u<C;u+=1){for(a=0;a<z+1;a+=1)_=(e*i+a)*4,f=M.data[_+0],g=M.data[_+1],p=M.data[_+2],v=M.data[_+3],S=(e*i+z*2-a-1)*4,M.data[S+0]=f,M.data[S+1]=g,M.data[S+2]=p,M.data[S+3]=v;z*=2}xj(M,t,{})};q.addGetterSetter(Ge,"kaleidoscopePower",2,Be(),q.afterSetFilter);q.addGetterSetter(Ge,"kaleidoscopeAngle",0,Be(),q.afterSetFilter);function vp(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function w0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Ej(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Cj(t,e){const n=vp(t,0,0),a=vp(t,t.width-1,0),i=vp(t,0,t.height-1),l=vp(t,t.width-1,t.height-1),u=e||10;if(w0(n,a)<u&&w0(a,l)<u&&w0(l,i)<u&&w0(i,n)<u){const f=Ej([a,n,l,i]),g=[];for(let p=0;p<t.width*t.height;p++){const v=w0(f,[t.data[p*4],t.data[p*4+1],t.data[p*4+2]]);g[p]=v<u?0:255}return g}}function Tj(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function Aj(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const p=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[p]=v===2040?255:0}return u}function Rj(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const p=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[p]=v>=1020?255:0}return u}function Oj(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const p=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[p]=v}return u}const Nj=function(t){const e=this.threshold();let n=Cj(t,e);return n&&(n=Aj(n,t.width,t.height),n=Rj(n,t.width,t.height),n=Oj(n,t.width,t.height),Tj(t,n)),t};q.addGetterSetter(Ge,"threshold",0,Be(),q.afterSetFilter);const Mj=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let l=0;l<a;l+=4)n[l+0]+=i-2*i*Math.random(),n[l+1]+=i-2*i*Math.random(),n[l+2]+=i-2*i*Math.random()};q.addGetterSetter(Ge,"noise",.2,Be(),q.afterSetFilter);const Dj=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),l=Math.ceil(a/e),u=t.data;if(e<=0){ne.error("pixelSize value can not be <= 0");return}for(let f=0;f<i;f+=1)for(let g=0;g<l;g+=1){let p=0,v=0,_=0,S=0;const C=f*e,T=C+e,R=g*e,O=R+e;let M=0;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const L=(n*z+j)*4;p+=u[L+0],v+=u[L+1],_+=u[L+2],S+=u[L+3],M+=1}p=p/M,v=v/M,_=_/M,S=S/M;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const L=(n*z+j)*4;u[L+0]=p,u[L+1]=v,u[L+2]=_,u[L+3]=S}}};q.addGetterSetter(Ge,"pixelSize",8,Be(),q.afterSetFilter);const jj=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/i)*i};q.addGetterSetter(Ge,"levels",.5,Be(),q.afterSetFilter);const zj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue();for(let u=0;u<n;u+=4){const f=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255;e[u]=f*a,e[u+1]=f*i,e[u+2]=f*l,e[u+3]=e[u+3]}};q.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"blue",0,OS,q.afterSetFilter);const kj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue(),u=this.alpha();for(let f=0;f<n;f+=4){const g=1-u;e[f]=a*u+e[f]*g,e[f+1]=i*u+e[f+1]*g,e[f+2]=l*u+e[f+2]*g}};q.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"blue",0,OS,q.afterSetFilter);q.addGetterSetter(Ge,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Uj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],l=e[a+1],u=e[a+2];e[a+0]=Math.min(255,i*.393+l*.769+u*.189),e[a+1]=Math.min(255,i*.349+l*.686+u*.168),e[a+2]=Math.min(255,i*.272+l*.534+u*.131)}},Lj=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],l=n[a+1],u=n[a+2];.2126*i+.7152*l+.0722*u>=128&&(n[a]=255-i,n[a+1]=255-l,n[a+2]=255-u)}return t},Pj=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};q.addGetterSetter(Ge,"threshold",.5,Be(),q.afterSetFilter);const $0=Bf.Util._assign(Bf,{Arc:lo,Arrow:qc,Circle:Vf,Ellipse:bu,Image:Hi,Label:Z2,Tag:Vc,Line:oo,Path:Ui,Rect:gg,RegularPolygon:_u,Ring:Yc,Sprite:pl,Star:Su,Text:Hn,TextPath:Ea,Transformer:$t,Wedge:uo,Filters:{Blur:dj,Brightness:hj,Brighten:fj,Contrast:gj,Emboss:mj,Enhance:pj,Grayscale:vj,HSL:yj,HSV:bj,Invert:_j,Kaleidoscope:wj,Mask:Nj,Noise:Mj,Pixelate:Dj,Posterize:jj,RGB:zj,RGBA:kj,Sepia:Uj,Solarize:Lj,Threshold:Pj}});var ay={exports:{}},ry={exports:{}};var m3;function Bj(){return m3||(m3=1,(function(t){t.exports=function(e){function n(o,c,m,b){return new Qv(o,c,m,b)}function a(){}function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function u(o){if(l(o)!==o)throw Error(i(188))}function f(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(i(188));return c!==o?null:o}for(var m=o,b=c;;){var w=m.return;if(w===null)break;var A=w.alternate;if(A===null){if(b=w.return,b!==null){m=b;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===m)return u(w),o;if(A===b)return u(w),c;A=A.sibling}throw Error(i(188))}if(m.return!==b.return)m=w,b=A;else{for(var P=!1,Z=w.child;Z;){if(Z===m){P=!0,m=w,b=A;break}if(Z===b){P=!0,b=w,m=A;break}Z=Z.sibling}if(!P){for(Z=A.child;Z;){if(Z===m){P=!0,m=A,b=w;break}if(Z===b){P=!0,b=A,m=w;break}Z=Z.sibling}if(!P)throw Error(i(189))}}if(m.alternate!==b)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=p(o),c!==null))return c;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Nd&&o[Nd]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Fu?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Hl:return"Fragment";case Od:return"Profiler";case Zu:return"StrictMode";case Xu:return"Suspense";case Ku:return"SuspenseList";case Gl:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Us:return"Portal";case Ji:return(o.displayName||"Context")+".Provider";case Ch:return(o._context.displayName||"Context")+".Consumer";case Si:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case xi:return c=o.displayName||null,c!==null?c:_(o.type)||"Memo";case Ia:c=o._payload,o=o._init;try{return _(o(c))}catch{}}return null}function S(o){return{current:o}}function C(o){0>is||(o.current=rs[is],rs[is]=null,is--)}function T(o,c){is++,rs[is]=o.current,o.current=c}function R(o){return o>>>=0,o===0?32:31-(Cm(o)/Bd|0)|0}function O(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function M(o,c,m){var b=o.pendingLanes;if(b===0)return 0;var w=0,A=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var Z=b&134217727;return Z!==0?(b=Z&~A,b!==0?w=O(b):(P&=Z,P!==0?w=O(P):m||(m=Z&~o,m!==0&&(w=O(m))))):(Z=b&~A,Z!==0?w=O(Z):P!==0?w=O(P):m||(m=b&~o,m!==0&&(w=O(m)))),w===0?0:c!==0&&c!==w&&(c&A)===0&&(A=w&-w,m=c&-c,A>=m||A===32&&(m&4194048)!==0)?c:w}function j(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function z(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var o=lc;return lc<<=1,(lc&4194048)===0&&(lc=256),o}function H(){var o=Lo;return Lo<<=1,(Lo&62914560)===0&&(Lo=4194304),o}function U(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Y(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Q(o,c,m,b,w,A){var P=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var Z=o.entanglements,te=o.expirationTimes,Ne=o.hiddenUpdates;for(m=P&~m;0<m;){var Ue=31-dr(m),Ze=1<<Ue;Z[Ue]=0,te[Ue]=-1;var Xe=Ne[Ue];if(Xe!==null)for(Ne[Ue]=null,Ue=0;Ue<Xe.length;Ue++){var Tt=Xe[Ue];Tt!==null&&(Tt.lane&=-536870913)}m&=~Ze}b!==0&&se(o,b,0),A!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=A&~(P&~c))}function se(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var b=31-dr(c);o.entangledLanes|=c,o.entanglements[b]=o.entanglements[b]|1073741824|m&4194090}function _e(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var b=31-dr(m),w=1<<b;w&c|o[b]&c&&(o[b]|=c),m&=~w}}function Ce(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ve(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function fe(o){if(typeof Om=="function"&&Nm(o),Ka&&typeof Ka.setStrictMode=="function")try{Ka.setStrictMode(Gs,o)}catch{}}function ce(o){if(qd===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);qd=c&&c[1]||"",$h=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qd+o+$h}function be(o,c){if(!o||Vd)return"";Vd=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Tt){var Xe=Tt}Reflect.construct(o,[],Ze)}else{try{Ze.call()}catch(Tt){Xe=Tt}o.call(Ze.prototype)}}else{try{throw Error()}catch(Tt){Xe=Tt}(Ze=o())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Tt){if(Tt&&Xe&&typeof Tt.stack=="string")return[Tt.stack,Xe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),P=A[0],Z=A[1];if(P&&Z){var te=P.split(`
`),Ne=Z.split(`
`);for(w=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;w<Ne.length&&!Ne[w].includes("DetermineComponentFrameRoot");)w++;if(b===te.length||w===Ne.length)for(b=te.length-1,w=Ne.length-1;1<=b&&0<=w&&te[b]!==Ne[w];)w--;for(;1<=b&&0<=w;b--,w--)if(te[b]!==Ne[w]){if(b!==1||w!==1)do if(b--,w--,0>w||te[b]!==Ne[w]){var Ue=`
`+te[b].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=b&&0<=w);break}}}finally{Vd=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?ce(m):""}function B(o){switch(o.tag){case 26:case 27:case 5:return ce(o.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return be(o.type,!1);case 11:return be(o.type.render,!1);case 1:return be(o.type,!0);case 31:return ce("Activity");default:return""}}function ae(o){try{var c="";do c+=B(o),o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function K(o,c){if(typeof o=="object"&&o!==null){var m=Yd.get(o);return m!==void 0?m:(c={value:o,source:c,stack:ae(c)},Yd.set(o,c),c)}return{value:o,source:c,stack:ae(c)}}function he(o,c){qs[Vs++]=Po,qs[Vs++]=uc,uc=o,Po=c}function G(o,c,m){Fa[fr++]=Jr,Fa[fr++]=Ti,Fa[fr++]=Ys,Ys=o;var b=Jr;o=Ti;var w=32-dr(b)-1;b&=~(1<<w),m+=1;var A=32-dr(c)+w;if(30<A){var P=w-w%5;A=(b&(1<<P)-1).toString(32),b>>=P,w-=P,Jr=1<<32-dr(c)+w|m<<w|b,Ti=A+o}else Jr=1<<A|m<<w|b,Ti=o}function $(o){o.return!==null&&(he(o,1),G(o,1,0))}function Ee(o){for(;o===uc;)uc=qs[--Vs],qs[Vs]=null,Po=qs[--Vs],qs[Vs]=null;for(;o===Ys;)Ys=Fa[--fr],Fa[fr]=null,Ti=Fa[--fr],Fa[fr]=null,Jr=Fa[--fr],Fa[fr]=null}function Te(o,c){T(Zs,c),T(Zl,o),T(Rn,null),o=Ah(c),C(Rn),T(Rn,o)}function Ve(){C(Rn),C(Zl),C(Zs)}function ot(o){o.memoizedState!==null&&T(cc,o);var c=Rn.current,m=Rh(c,o.type);c!==m&&(T(Zl,o),T(Rn,m))}function ue(o){Zl.current===o&&(C(Rn),C(Zl)),cc.current===o&&(C(cc),ts?Ei._currentValue=cr:Ei._currentValue2=cr)}function xe(o){var c=Error(i(418,""));throw ln(K(c,o)),Wh}function Ie(o,c){if(!or)throw Error(i(175));_m(o.stateNode,o.type,o.memoizedProps,c,o)||xe(o)}function dt(o){for(Pn=o.return;Pn;)switch(Pn.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:Pn=Pn.return}}function rt(o){if(!or||o!==Pn)return!1;if(!It)return dt(o),It=!0,!1;var c=o.tag;if(Lt?c!==3&&c!==27&&(c!==5||Zh(o.type)&&!es(o.type,o.memoizedProps))&&Qn&&xe(o):c!==3&&(c!==5||Zh(o.type)&&!es(o.type,o.memoizedProps))&&Qn&&xe(o),dt(o),c===13){if(!or)throw Error(i(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Qn=Ud(o)}else Qn=Lt&&c===27?qh(o.type,Qn):Pn?mm(o.stateNode):null;return!0}function xt(){or&&(Qn=Pn=null,It=!1)}function sn(){var o=ei;return o!==null&&(Ua===null?Ua=o:Ua.push.apply(Ua,o),ei=null),o}function ln(o){ei===null?ei=[o]:ei.push(o)}function gn(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function Ha(o,c,m){ts?(T(dc,c._currentValue),c._currentValue=m):(T(dc,c._currentValue2),c._currentValue2=m)}function ma(o){var c=dc.current;ts?o._currentValue=c:o._currentValue2=c,C(dc)}function ea(o,c,m){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===m)break;o=o.return}}function Ss(o,c,m,b){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var A=w.dependencies;if(A!==null){var P=w.child;A=A.firstContext;e:for(;A!==null;){var Z=A;A=w;for(var te=0;te<c.length;te++)if(Z.context===c[te]){A.lanes|=m,Z=A.alternate,Z!==null&&(Z.lanes|=m),ea(A.return,m,o),b||(P=null);break e}A=Z.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(i(341));P.lanes|=m,A=P.alternate,A!==null&&(A.lanes|=m),ea(P,m,o),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===o){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function pr(o,c,m,b){o=null;for(var w=c,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var Z=w.type;Cr(w.pendingProps.value,P.value)||(o!==null?o.push(Z):o=[Z])}}else if(w===cc.current){if(P=w.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Ei):o=[Ei])}w=w.return}o!==null&&Ss(c,o,m,b),c.flags|=262144}function I(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!Cr(ts?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function re(o){ti=o,ja=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ge(o){return Le(ti,o)}function He(o,c){return ti===null&&re(o),Le(o,c)}function Le(o,c){var m=ts?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:m,next:null},ja===null){if(o===null)throw Error(i(308));ja=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ja=ja.next=c;return m}function je(){return{controller:new Mm,data:new Map,refCount:0}}function Ye(o){o.refCount--,o.refCount===0&&Dm(fc,function(){o.controller.abort()})}function $e(o){o!==Is&&o.next===null&&(Is===null?hc=Is=o:Is=Is.next=o),Bo=!0,Zd||(Zd=!0,er())}function vt(o,c){if(!gc&&Bo){gc=!0;do for(var m=!1,b=hc;b!==null;){if(o!==0){var w=b.pendingLanes;if(w===0)var A=0;else{var P=b.suspendedLanes,Z=b.pingedLanes;A=(1<<31-dr(42|o)+1)-1,A&=w&~(P&~Z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(m=!0,qa(b,A))}else A=jt,A=M(b,b===Kt?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Lr),(A&3)===0||j(b,A)||(m=!0,qa(b,A));b=b.next}while(m);gc=!1}}function Wt(){vr()}function vr(){Bo=Zd=!1;var o=0;ss!==0&&(Nh()&&(o=ss),ss=0);for(var c=vn(),m=null,b=hc;b!==null;){var w=b.next,A=Ga(b,c);A===0?(b.next=null,m===null?hc=w:m.next=w,w===null&&(Is=m)):(m=b,(o!==0||(A&3)!==0)&&(Bo=!0)),b=w}vt(o)}function Ga(o,c){for(var m=o.suspendedLanes,b=o.pingedLanes,w=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var P=31-dr(A),Z=1<<P,te=w[P];te===-1?((Z&m)===0||(Z&b)!==0)&&(w[P]=z(Z,c)):te<=c&&(o.expiredLanes|=Z),A&=~Z}if(c=Kt,m=jt,m=M(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Lr),b=o.callbackNode,m===0||o===c&&(rn===2||rn===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&Hd(b),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||j(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(b!==null&&Hd(b),ve(m)){case 2:case 8:m=Am;break;case 32:m=Gd;break;case 268435456:m=Rm;break;default:m=Gd}return b=Ca.bind(null,o),m=oc(m,b),o.callbackPriority=c,o.callbackNode=m,c}return b!==null&&b!==null&&Hd(b),o.callbackPriority=2,o.callbackNode=null,2}function Ca(o,c){if(na!==0&&na!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(Ur()&&o.callbackNode!==m)return null;var b=jt;return b=M(o,o===Kt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Lr),b===0?null:(Vu(o,b,c),Ga(o,vn()),o.callbackNode!=null&&o.callbackNode===m?Ca.bind(null,o):null)}function qa(o,c){if(Ur())return null;Vu(o,c,!0)}function er(){jh?Fg(function(){(ct&6)!==0?oc(ua,Wt):vr()}):oc(ua,Wt)}function Ta(){return ss===0&&(ss=L()),ss}function Re(o,c){if(Ho===null){var m=Ho=[];ni=0,wn=Ta(),Xs={status:"pending",value:void 0,then:function(b){m.push(b)}}}return ni++,c.then(ke,ke),c}function ke(){if(--ni===0&&Ho!==null){Xs!==null&&(Xs.status="fulfilled");var o=Ho;Ho=null,wn=0,Xs=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Jt(o,c){var m=[],b={status:"pending",value:null,reason:null,then:function(w){m.push(w)}};return o.then(function(){b.status="fulfilled",b.value=c;for(var w=0;w<m.length;w++)(0,m[w])(c)},function(w){for(b.status="rejected",b.reason=w,w=0;w<m.length;w++)(0,m[w])(void 0)}),b}function Ot(){var o=jn.current;return o!==null?o:Kt.pooledCache}function dn(o,c){c===null?T(jn,jn.current):T(jn,c.pool)}function Yn(){var o=Ot();return o===null?null:{parent:ts?an._currentValue:an._currentValue2,pool:o}}function Kr(o,c){if(Cr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),b=Object.keys(c);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var w=m[b];if(!n1.call(c,w)||!Cr(o[w],c[w]))return!1}return!0}function Xc(o){return o=o.status,o==="fulfilled"||o==="rejected"}function xs(){}function ws(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(xs,xs),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ho(o),o;default:if(typeof c.status=="string")c.then(xs,xs);else{if(o=Kt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(b){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=b}},function(b){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ho(o),o}throw hr=c,Go}}function Gi(){if(hr===null)throw Error(i(459));var o=hr;return hr=null,o}function ho(o){if(o===Go||o===bn)throw Error(i(483))}function yl(){for(var o=Il,c=e0=Il=0;c<o;){var m=Tr[c];Tr[c++]=null;var b=Tr[c];Tr[c++]=null;var w=Tr[c];Tr[c++]=null;var A=Tr[c];if(Tr[c++]=null,b!==null&&w!==null){var P=b.pending;P===null?w.next=w:(w.next=P.next,P.next=w),b.pending=w}A!==0&&Oe(m,w,A)}}function X(o,c,m,b){Tr[Il++]=o,Tr[Il++]=c,Tr[Il++]=m,Tr[Il++]=b,e0|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function ee(o,c,m,b){return X(o,c,m,b),Pe(o)}function le(o,c){return X(o,null,null,c),Pe(o)}function Oe(o,c,m){o.lanes|=m;var b=o.alternate;b!==null&&(b.lanes|=m);for(var w=!1,A=o.return;A!==null;)A.childLanes|=m,b=A.alternate,b!==null&&(b.childLanes|=m),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(w=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,w&&c!==null&&(w=31-dr(m),o=A.hiddenUpdates,b=o[w],b===null?o[w]=[c]:b.push(c),c.lane=m|536870912),A):null}function Pe(o){if(50<al)throw al=0,$d=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function et(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function it(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ke(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function We(o,c,m){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(ct&2)!==0){var w=b.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),b.pending=c,c=Pe(o),Oe(o,null,m),c}return X(o,b,c,m),Pe(o)}function st(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var b=c.lanes;b&=o.pendingLanes,m|=b,c.lanes=m,_e(o,m)}}function at(o,c){var m=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var w=null,A=null;if(m=m.firstBaseUpdate,m!==null){do{var P={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};A===null?w=A=P:A=A.next=P,m=m.next}while(m!==null);A===null?w=A=c:A=A.next=c}else w=A=c;m={baseState:b.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}function Fe(){if(Qa){var o=Xs;if(o!==null)throw o}}function wt(o,c,m,b){Qa=!1;var w=o.updateQueue;Ai=!1;var A=w.firstBaseUpdate,P=w.lastBaseUpdate,Z=w.shared.pending;if(Z!==null){w.shared.pending=null;var te=Z,Ne=te.next;te.next=null,P===null?A=Ne:P.next=Ne,P=te;var Ue=o.alternate;Ue!==null&&(Ue=Ue.updateQueue,Z=Ue.lastBaseUpdate,Z!==P&&(Z===null?Ue.firstBaseUpdate=Ne:Z.next=Ne,Ue.lastBaseUpdate=te))}if(A!==null){var Ze=w.baseState;P=0,Ue=Ne=te=null,Z=A;do{var Xe=Z.lane&-536870913,Tt=Xe!==Z.lane;if(Tt?(jt&Xe)===Xe:(b&Xe)===Xe){Xe!==0&&Xe===wn&&(Qa=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Hr=o,rl=Z;Xe=c;var Gr=m;switch(rl.tag){case 1:if(Hr=rl.payload,typeof Hr=="function"){Ze=Hr.call(Gr,Ze,Xe);break e}Ze=Hr;break e;case 3:Hr.flags=Hr.flags&-65537|128;case 0:if(Hr=rl.payload,Xe=typeof Hr=="function"?Hr.call(Gr,Ze,Xe):Hr,Xe==null)break e;Ze=Pl({},Ze,Xe);break e;case 2:Ai=!0}}Xe=Z.callback,Xe!==null&&(o.flags|=64,Tt&&(o.flags|=8192),Tt=w.callbacks,Tt===null?w.callbacks=[Xe]:Tt.push(Xe))}else Tt={lane:Xe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ue===null?(Ne=Ue=Tt,te=Ze):Ue=Ue.next=Tt,P|=Xe;if(Z=Z.next,Z===null){if(Z=w.shared.pending,Z===null)break;Tt=Z,Z=Tt.next,Tt.next=null,w.lastBaseUpdate=Tt,w.shared.pending=null}}while(!0);Ue===null&&(te=Ze),w.baseState=te,w.firstBaseUpdate=Ne,w.lastBaseUpdate=Ue,A===null&&(w.shared.lanes=0),Jn|=P,o.lanes=P,o.memoizedState=Ze}}function tn(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function Sn(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)tn(m[o],c)}function Ht(o,c){o=Zn,T(mc,o),T(za,c),Zn=o|c.baseLanes}function mn(){T(mc,Zn),T(za,za.current)}function on(){Zn=mc.current,C(za),C(mc)}function Gt(){throw Error(i(321))}function tr(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Cr(o[m],c[m]))return!1;return!0}function Mr(o,c,m,b,w,A){return $n=A,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ut.H=o===null||o.memoizedState===null?Xl:t0,ls=!1,A=m(b,w),ls=!1,Ks&&(A=bl(c,m,b,w)),nr(o),A}function nr(o){ut.H=Fs;var c=qt!==null&&qt.next!==null;if($n=0,En=qt=At=null,ai=!1,qo=0,ri=null,c)throw Error(i(300));o===null||bt||(o=o.dependencies,o!==null&&I(o)&&(bt=!0))}function bl(o,c,m,b){At=o;var w=0;do{if(Ks&&(ri=null),qo=0,Ks=!1,25<=w)throw Error(i(301));if(w+=1,En=qt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ut.H=jm,A=c(m,b)}while(Ks);return A}function _l(){var o=ut.H,c=o.useState()[0];return c=typeof c.then=="function"?Ya(c):c,o=o.useState()[0],(qt!==null?qt.memoizedState:null)!==o&&(At.flags|=1024),c}function ar(){var o=Ar!==0;return Ar=0,o}function Fr(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function Aa(o){if(ai){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ai=!1}$n=0,En=qt=At=null,Ks=!1,qo=Ar=0,ri=null}function ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?At.memoizedState=En=o:En=En.next=o,En}function kt(){if(qt===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=qt.next;var c=En===null?At.memoizedState:En.next;if(c!==null)En=c,qt=o;else{if(o===null)throw At.alternate===null?Error(i(467)):Error(i(310));qt=o,o={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},En===null?At.memoizedState=En=o:En=En.next=o}return En}function Va(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(o){var c=qo;return qo+=1,ri===null&&(ri=[]),o=ws(ri,o,c),c=At,(En===null?c.memoizedState:En.next)===null&&(c=c.alternate,ut.H=c===null||c.memoizedState===null?Xl:t0),o}function xn(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ya(o);if(o.$$typeof===Ji)return ge(o)}throw Error(i(438,String(o)))}function Es(o){var c=null,m=At.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var b=At.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Va(),At.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),b=0;b<o;b++)m[b]=Th;return c.index++,m}function yr(o,c){return typeof c=="function"?c(o):c}function pa(o){var c=kt();return Kc(c,qt,o)}function Kc(o,c,m){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=m;var w=o.baseQueue,A=b.pending;if(A!==null){if(w!==null){var P=w.next;w.next=A.next,A.next=P}c.baseQueue=w=A,b.pending=null}if(A=o.baseState,w===null)o.memoizedState=A;else{c=w.next;var Z=P=null,te=null,Ne=c,Ue=!1;do{var Ze=Ne.lane&-536870913;if(Ze!==Ne.lane?(jt&Ze)===Ze:($n&Ze)===Ze){var Xe=Ne.revertLane;if(Xe===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Ze===wn&&(Ue=!0);else if(($n&Xe)===Xe){Ne=Ne.next,Xe===wn&&(Ue=!0);continue}else Ze={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},te===null?(Z=te=Ze,P=A):te=te.next=Ze,At.lanes|=Xe,Jn|=Xe;Ze=Ne.action,ls&&m(A,Ze),A=Ne.hasEagerState?Ne.eagerState:m(A,Ze)}else Xe={lane:Ze,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},te===null?(Z=te=Xe,P=A):te=te.next=Xe,At.lanes|=Ze,Jn|=Ze;Ne=Ne.next}while(Ne!==null&&Ne!==c);if(te===null?P=A:te.next=Z,!Cr(A,o.memoizedState)&&(bt=!0,Ue&&(m=Xs,m!==null)))throw m;o.memoizedState=A,o.baseState=P,o.baseQueue=te,b.lastRenderedState=A}return w===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function Kf(o){var c=kt(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var b=m.dispatch,w=m.pending,A=c.memoizedState;if(w!==null){m.pending=null;var P=w=w.next;do A=o(A,P.action),P=P.next;while(P!==w);Cr(A,c.memoizedState)||(bt=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),m.lastRenderedState=A}return[A,b]}function Cu(o,c,m){var b=At,w=kt(),A=It;if(A){if(m===void 0)throw Error(i(407));m=m()}else m=c();var P=!Cr((qt||w).memoizedState,m);P&&(w.memoizedState=m,bt=!0),w=w.queue;var Z=_g.bind(null,b,w,o);if(wl(2048,8,Z,[o]),w.getSnapshot!==c||P||En!==null&&En.memoizedState.tag&1){if(b.flags|=2048,Cs(9,qi(),Tu.bind(null,b,w,m,c),null),Kt===null)throw Error(i(349));A||($n&124)!==0||Ff(b,c,m)}return m}function Ff(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=At.updateQueue,c===null?(c=Va(),At.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function Tu(o,c,m,b){c.value=m,c.getSnapshot=b,br(c)&&Fc(o)}function _g(o,c,m){return m(function(){br(c)&&Fc(o)})}function br(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Cr(o,m)}catch{return!0}}function Fc(o){var c=le(o,2);c!==null&&Na(c,o,2)}function Qc(o){var c=ft();if(typeof o=="function"){var m=o;if(o=m(),ls){fe(!0);try{m()}finally{fe(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},c}function $c(o,c,m,b){return o.baseState=m,Kc(o,qt,typeof b=="function"?b:yr)}function go(o,c,m,b,w){if(Du(o))throw Error(i(485));if(o=c.action,o!==null){var A={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){A.listeners.push(P)}};ut.T!==null?m(!0):A.isTransition=!1,b(A),m=c.pending,m===null?(A.next=c.pending=A,Qf(c,A)):(A.next=m.next,c.pending=m.next=A)}}function Qf(o,c){var m=c.action,b=c.payload,w=o.state;if(c.isTransition){var A=ut.T,P={};ut.T=P;try{var Z=m(w,b),te=ut.S;te!==null&&te(P,Z),$f(o,c,Z)}catch(Ne){Wf(o,c,Ne)}finally{ut.T=A}}else try{A=m(w,b),$f(o,c,A)}catch(Ne){Wf(o,c,Ne)}}function $f(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){Sl(o,c,b)},function(b){return Wf(o,c,b)}):Sl(o,c,m)}function Sl(o,c,m){c.status="fulfilled",c.value=m,Jf(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,Qf(o,m)))}function Wf(o,c,m){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=m,Jf(c),c=c.next;while(c!==b)}o.action=null}function Jf(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function eh(o,c){return c}function Wc(o,c){if(It){var m=Kt.formState;if(m!==null){e:{var b=At;if(It){if(Qn){var w=hm(Qn,en);if(w){Qn=mm(w),b=gm(w);break e}}xe(b)}b=!1}b&&(c=m[0])}}m=ft(),m.memoizedState=m.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:c},m.queue=b,m=nd.bind(null,At,b),b.dispatch=m,b=Qc(!1);var A=bo.bind(null,At,!1,b.queue);return b=ft(),w={state:c,dispatch:null,action:o,pending:null},b.queue=w,m=go.bind(null,At,w,A,m),w.dispatch=m,b.memoizedState=o,[c,m,!1]}function Sg(o){var c=kt();return xg(c,qt,o)}function xg(o,c,m){if(c=Kc(o,c,eh)[0],o=pa(yr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Ya(c)}catch(P){throw P===Go?bn:P}else b=c;c=kt();var w=c.queue,A=w.dispatch;return m!==c.memoizedState&&(At.flags|=2048,Cs(9,qi(),Jc.bind(null,w,m),null)),[b,A,o]}function Jc(o,c){o.action=c}function ed(o){var c=kt(),m=qt;if(m!==null)return xg(c,m,o);kt(),c=c.memoizedState,m=kt();var b=m.queue.dispatch;return m.memoizedState=o,[c,b,!1]}function Cs(o,c,m,b){return o={tag:o,create:m,deps:b,inst:c,next:null},c=At.updateQueue,c===null&&(c=Va(),At.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(b=m.next,m.next=o,o.next=b,c.lastEffect=o),o}function qi(){return{destroy:void 0,resource:void 0}}function xl(){return kt().memoizedState}function Au(o,c,m,b){var w=ft();b=b===void 0?null:b,At.flags|=o,w.memoizedState=Cs(1|c,qi(),m,b)}function wl(o,c,m,b){var w=kt();b=b===void 0?null:b;var A=w.memoizedState.inst;qt!==null&&b!==null&&tr(b,qt.memoizedState.deps)?w.memoizedState=Cs(c,A,m,b):(At.flags|=o,w.memoizedState=Cs(1|c,A,m,b))}function th(o,c){Au(8390656,8,o,c)}function mo(o,c){wl(2048,8,o,c)}function fi(o,c){return wl(4,2,o,c)}function td(o,c){return wl(4,4,o,c)}function po(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Vi(o,c,m){m=m!=null?m.concat([o]):null,wl(4,4,po.bind(null,c,o),m)}function Ru(){}function Ou(o,c){var m=kt();c=c===void 0?null:c;var b=m.memoizedState;return c!==null&&tr(c,b[1])?b[0]:(m.memoizedState=[o,c],o)}function nh(o,c){var m=kt();c=c===void 0?null:c;var b=m.memoizedState;if(c!==null&&tr(c,b[1]))return b[0];if(b=o(),ls){fe(!0);try{o()}finally{fe(!1)}}return m.memoizedState=[b,c],b}function vo(o,c,m){return m===void 0||($n&1073741824)!==0?o.memoizedState=c:(o.memoizedState=m,o=Dl(),At.lanes|=o,Jn|=o,m)}function Nu(o,c,m,b){return Cr(m,c)?m:za.current!==null?(o=vo(o,m,b),Cr(o,c)||(bt=!0),o):($n&42)===0?(bt=!0,o.memoizedState=m):(o=Dl(),At.lanes|=o,Jn|=o,c)}function ah(o,c,m,b,w){var A=Wr();oa(A!==0&&8>A?A:8);var P=ut.T,Z={};ut.T=Z,bo(o,!1,c,m);try{var te=w(),Ne=ut.S;if(Ne!==null&&Ne(Z,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ue=Jt(te,b);Zi(o,c,Ue,la(o))}else Zi(o,c,b,la(o))}catch(Ze){Zi(o,c,{then:function(){},status:"rejected",reason:Ze},la())}finally{oa(A),ut.T=P}}function Za(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:cr,baseState:cr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:cr},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Yi(){return ge(Ei)}function Mu(){return kt().memoizedState}function yo(){return kt().memoizedState}function Zv(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=la();o=Ke(m);var b=We(c,o,m);b!==null&&(Na(b,c,m),st(b,c,m)),c={cache:je()},o.payload=c;return}c=c.return}}function rh(o,c,m){var b=la();m={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Du(o)?wg(c,m):(m=ee(o,c,m,b),m!==null&&(Na(m,o,b),Eg(m,c,b)))}function nd(o,c,m){var b=la();Zi(o,c,m,b)}function Zi(o,c,m,b){var w={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Du(o))wg(c,w);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var P=c.lastRenderedState,Z=A(P,m);if(w.hasEagerState=!0,w.eagerState=Z,Cr(Z,P))return X(o,c,w,0),Kt===null&&yl(),!1}catch{}finally{}if(m=ee(o,c,w,b),m!==null)return Na(m,o,b),Eg(m,c,b),!0}return!1}function bo(o,c,m,b){if(b={lane:2,revertLane:Ta(),action:b,hasEagerState:!1,eagerState:null,next:null},Du(o)){if(c)throw Error(i(479))}else c=ee(o,m,b,2),c!==null&&Na(c,o,2)}function Du(o){var c=o.alternate;return o===At||c!==null&&c===At}function wg(o,c){Ks=ai=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function Eg(o,c,m){if((m&4194048)!==0){var b=c.lanes;b&=o.pendingLanes,m|=b,c.lanes=m,_e(o,m)}}function ad(o){var c=Vo;return Vo+=1,Ri===null&&(Ri=[]),ws(Ri,o,c)}function El(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function rd(o,c){throw c.$$typeof===Zg?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Cg(o){var c=o._init;return c(o._payload)}function Tg(o){function c(de,W){if(o){var ye=de.deletions;ye===null?(de.deletions=[W],de.flags|=16):ye.push(W)}}function m(de,W){if(!o)return null;for(;W!==null;)c(de,W),W=W.sibling;return null}function b(de){for(var W=new Map;de!==null;)de.key!==null?W.set(de.key,de):W.set(de.index,de),de=de.sibling;return W}function w(de,W){return de=$i(de,W),de.index=0,de.sibling=null,de}function A(de,W,ye){return de.index=ye,o?(ye=de.alternate,ye!==null?(ye=ye.index,ye<W?(de.flags|=67108866,W):ye):(de.flags|=67108866,W)):(de.flags|=1048576,W)}function P(de){return o&&de.alternate===null&&(de.flags|=67108866),de}function Z(de,W,ye,De){return W===null||W.tag!==6?(W=Ul(ye,de.mode,De),W.return=de,W):(W=w(W,ye),W.return=de,W)}function te(de,W,ye,De){var Je=ye.type;return Je===Hl?Ue(de,W,ye.props.children,De,ye.key):W!==null&&(W.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ia&&Cg(Je)===W.type)?(W=w(W,ye.props),El(W,ye),W.return=de,W):(W=Ro(ye.type,ye.key,ye.props,null,de.mode,De),El(W,ye),W.return=de,W)}function Ne(de,W,ye,De){return W===null||W.tag!==4||W.stateNode.containerInfo!==ye.containerInfo||W.stateNode.implementation!==ye.implementation?(W=Yu(ye,de.mode,De),W.return=de,W):(W=w(W,ye.children||[]),W.return=de,W)}function Ue(de,W,ye,De,Je){return W===null||W.tag!==7?(W=$r(ye,de.mode,De,Je),W.return=de,W):(W=w(W,ye),W.return=de,W)}function Ze(de,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Ul(""+W,de.mode,ye),W.return=de,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Bl:return ye=Ro(W.type,W.key,W.props,null,de.mode,ye),El(ye,W),ye.return=de,ye;case Us:return W=Yu(W,de.mode,ye),W.return=de,W;case Ia:var De=W._init;return W=De(W._payload),Ze(de,W,ye)}if(Ls(W)||v(W))return W=$r(W,de.mode,ye,null),W.return=de,W;if(typeof W.then=="function")return Ze(de,ad(W),ye);if(W.$$typeof===Ji)return Ze(de,He(de,W),ye);rd(de,W)}return null}function Xe(de,W,ye,De){var Je=W!==null?W.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Je!==null?null:Z(de,W,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case Bl:return ye.key===Je?te(de,W,ye,De):null;case Us:return ye.key===Je?Ne(de,W,ye,De):null;case Ia:return Je=ye._init,ye=Je(ye._payload),Xe(de,W,ye,De)}if(Ls(ye)||v(ye))return Je!==null?null:Ue(de,W,ye,De,null);if(typeof ye.then=="function")return Xe(de,W,ad(ye),De);if(ye.$$typeof===Ji)return Xe(de,W,He(de,ye),De);rd(de,ye)}return null}function Tt(de,W,ye,De,Je){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return de=de.get(ye)||null,Z(W,de,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case Bl:return de=de.get(De.key===null?ye:De.key)||null,te(W,de,De,Je);case Us:return de=de.get(De.key===null?ye:De.key)||null,Ne(W,de,De,Je);case Ia:var fn=De._init;return De=fn(De._payload),Tt(de,W,ye,De,Je)}if(Ls(De)||v(De))return de=de.get(ye)||null,Ue(W,de,De,Je,null);if(typeof De.then=="function")return Tt(de,W,ye,ad(De),Je);if(De.$$typeof===Ji)return Tt(de,W,ye,He(W,De),Je);rd(W,De)}return null}function Hr(de,W,ye,De){for(var Je=null,fn=null,mt=W,Ft=W=0,aa=null;mt!==null&&Ft<ye.length;Ft++){mt.index>Ft?(aa=mt,mt=null):aa=mt.sibling;var Qt=Xe(de,mt,ye[Ft],De);if(Qt===null){mt===null&&(mt=aa);break}o&&mt&&Qt.alternate===null&&c(de,mt),W=A(Qt,W,Ft),fn===null?Je=Qt:fn.sibling=Qt,fn=Qt,mt=aa}if(Ft===ye.length)return m(de,mt),It&&he(de,Ft),Je;if(mt===null){for(;Ft<ye.length;Ft++)mt=Ze(de,ye[Ft],De),mt!==null&&(W=A(mt,W,Ft),fn===null?Je=mt:fn.sibling=mt,fn=mt);return It&&he(de,Ft),Je}for(mt=b(mt);Ft<ye.length;Ft++)aa=Tt(mt,de,Ft,ye[Ft],De),aa!==null&&(o&&aa.alternate!==null&&mt.delete(aa.key===null?Ft:aa.key),W=A(aa,W,Ft),fn===null?Je=aa:fn.sibling=aa,fn=aa);return o&&mt.forEach(function(cs){return c(de,cs)}),It&&he(de,Ft),Je}function rl(de,W,ye,De){if(ye==null)throw Error(i(151));for(var Je=null,fn=null,mt=W,Ft=W=0,aa=null,Qt=ye.next();mt!==null&&!Qt.done;Ft++,Qt=ye.next()){mt.index>Ft?(aa=mt,mt=null):aa=mt.sibling;var cs=Xe(de,mt,Qt.value,De);if(cs===null){mt===null&&(mt=aa);break}o&&mt&&cs.alternate===null&&c(de,mt),W=A(cs,W,Ft),fn===null?Je=cs:fn.sibling=cs,fn=cs,mt=aa}if(Qt.done)return m(de,mt),It&&he(de,Ft),Je;if(mt===null){for(;!Qt.done;Ft++,Qt=ye.next())Qt=Ze(de,Qt.value,De),Qt!==null&&(W=A(Qt,W,Ft),fn===null?Je=Qt:fn.sibling=Qt,fn=Qt);return It&&he(de,Ft),Je}for(mt=b(mt);!Qt.done;Ft++,Qt=ye.next())Qt=Tt(mt,de,Ft,Qt.value,De),Qt!==null&&(o&&Qt.alternate!==null&&mt.delete(Qt.key===null?Ft:Qt.key),W=A(Qt,W,Ft),fn===null?Je=Qt:fn.sibling=Qt,fn=Qt);return o&&mt.forEach(function(a1){return c(de,a1)}),It&&he(de,Ft),Je}function Gr(de,W,ye,De){if(typeof ye=="object"&&ye!==null&&ye.type===Hl&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case Bl:e:{for(var Je=ye.key;W!==null;){if(W.key===Je){if(Je=ye.type,Je===Hl){if(W.tag===7){m(de,W.sibling),De=w(W,ye.props.children),De.return=de,de=De;break e}}else if(W.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ia&&Cg(Je)===W.type){m(de,W.sibling),De=w(W,ye.props),El(De,ye),De.return=de,de=De;break e}m(de,W);break}else c(de,W);W=W.sibling}ye.type===Hl?(De=$r(ye.props.children,de.mode,De,ye.key),De.return=de,de=De):(De=Ro(ye.type,ye.key,ye.props,null,de.mode,De),El(De,ye),De.return=de,de=De)}return P(de);case Us:e:{for(Je=ye.key;W!==null;){if(W.key===Je)if(W.tag===4&&W.stateNode.containerInfo===ye.containerInfo&&W.stateNode.implementation===ye.implementation){m(de,W.sibling),De=w(W,ye.children||[]),De.return=de,de=De;break e}else{m(de,W);break}else c(de,W);W=W.sibling}De=Yu(ye,de.mode,De),De.return=de,de=De}return P(de);case Ia:return Je=ye._init,ye=Je(ye._payload),Gr(de,W,ye,De)}if(Ls(ye))return Hr(de,W,ye,De);if(v(ye)){if(Je=v(ye),typeof Je!="function")throw Error(i(150));return ye=Je.call(ye),rl(de,W,ye,De)}if(typeof ye.then=="function")return Gr(de,W,ad(ye),De);if(ye.$$typeof===Ji)return Gr(de,W,He(de,ye),De);rd(de,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,W!==null&&W.tag===6?(m(de,W.sibling),De=w(W,ye),De.return=de,de=De):(m(de,W),De=Ul(ye,de.mode,De),De.return=de,de=De),P(de)):m(de,W)}return function(de,W,ye,De){try{Vo=0;var Je=Gr(de,W,ye,De);return Ri=null,Je}catch(mt){if(mt===Go||mt===bn)throw mt;var fn=n(29,mt,null,de.mode);return fn.lanes=De,fn.return=de,fn}finally{}}}function Ts(o){var c=o.alternate;T(yt,yt.current&1),T(Pr,o),Oi===null&&(c===null||za.current!==null||c.memoizedState!==null)&&(Oi=o)}function Ag(o){if(o.tag===22){if(T(yt,yt.current),T(Pr,o),Oi===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Oi=o)}}else Ii()}function Ii(){T(yt,yt.current),T(Pr,Pr.current)}function Xi(o){C(Pr),Oi===o&&(Oi=null),C(yt)}function id(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||nc(m)||kd(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function ih(o,c,m,b){c=o.memoizedState,m=m(b,c),m=m==null?c:Pl({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}function Rg(o,c,m,b,w,A,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,A,P):c.prototype&&c.prototype.isPureReactComponent?!Kr(m,b)||!Kr(w,A):!0}function sd(o,c,m,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,b),c.state!==o&&yn.enqueueReplaceState(c,c.state,null)}function Cl(o,c){var m=c;if("ref"in c){m={};for(var b in c)b!=="ref"&&(m[b]=c[b])}if(o=o.defaultProps){m===c&&(m=Pl({},m));for(var w in o)m[w]===void 0&&(m[w]=o[w])}return m}function ld(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function Og(o,c,m){try{var b=o.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function od(o,c,m){return m=Ke(m),m.tag=3,m.payload={element:null},m.callback=function(){ld(o,c)},m}function Ng(o){return o=Ke(o),o.tag=3,o}function Mg(o,c,m,b){var w=m.type.getDerivedStateFromError;if(typeof w=="function"){var A=b.value;o.payload=function(){return w(A)},o.callback=function(){Og(c,m,b)}}var P=m.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){Og(c,m,b),typeof w!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var Z=b.stack;this.componentDidCatch(b.value,{componentStack:Z!==null?Z:""})})}function Iv(o,c,m,b,w){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=m.alternate,c!==null&&pr(c,m,w,!0),m=Pr.current,m!==null){switch(m.tag){case 13:return Oi===null?Dn():m.alternate===null&&Bn===0&&(Bn=3),m.flags&=-257,m.flags|=65536,m.lanes=w,b===ya?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([b]):c.add(b),kl(o,b,w)),!1;case 22:return m.flags|=65536,b===ya?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([b]):m.add(b)),kl(o,b,w)),!1}throw Error(i(435,m.tag))}return kl(o,b,w),Dn(),!1}if(It)return c=Pr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,b!==Wh&&(o=Error(i(422),{cause:b}),ln(K(o,m)))):(b!==Wh&&(c=Error(i(423),{cause:b}),ln(K(c,m))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,b=K(b,m),w=od(o.stateNode,b,w),at(o,w),Bn!==4&&(Bn=2)),!1;var A=Error(i(520),{cause:b});if(A=K(A,m),el===null?el=[A]:el.push(A),Bn!==4&&(Bn=2),c===null)return!0;b=K(b,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=w&-w,m.lanes|=o,o=od(m.stateNode,b,o),at(m,o),!1;case 1:if(c=m.type,A=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Di===null||!Di.has(A))))return m.flags|=65536,w&=-w,m.lanes|=w,w=Ng(w),Mg(w,o,m,b),at(m,w),!1}m=m.return}while(m!==null);return!1}function va(o,c,m,b){c.child=o===null?n0(c,null,m,b):os(c,o.child,m,b)}function Dg(o,c,m,b,w){m=m.render;var A=c.ref;if("ref"in b){var P={};for(var Z in b)Z!=="ref"&&(P[Z]=b[Z])}else P=b;return re(c),b=Mr(o,c,m,P,A,w),Z=ar(),o!==null&&!bt?(Fr(o,c,w),_r(o,c,w)):(It&&Z&&$(c),c.flags|=1,va(o,c,b,w),c.child)}function jg(o,c,m,b,w){if(o===null){var A=m.type;return typeof A=="function"&&!xh(A)&&A.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=A,zg(o,c,A,b,w)):(o=Ro(m.type,null,b,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!Al(o,w)){var P=A.memoizedProps;if(m=m.compare,m=m!==null?m:Kr,m(P,b)&&o.ref===c.ref)return _r(o,c,w)}return c.flags|=1,o=$i(A,b),o.ref=c.ref,o.return=c,c.child=o}function zg(o,c,m,b,w){if(o!==null){var A=o.memoizedProps;if(Kr(A,b)&&o.ref===c.ref)if(bt=!1,c.pendingProps=b=A,Al(o,w))(o.flags&131072)!==0&&(bt=!0);else return c.lanes=o.lanes,_r(o,c,w)}return Tl(o,c,m,b,w)}function kg(o,c,m){var b=c.pendingProps,w=b.children,A=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=A!==null?A.baseLanes|m:m,o!==null){for(w=c.child=o.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;c.childLanes=A&~b}else c.childLanes=0,c.child=null;return Ug(o,c,b,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&dn(c,A!==null?A.cachePool:null),A!==null?Ht(c,A):mn(),Ag(c);else return c.lanes=c.childLanes=536870912,Ug(o,c,A!==null?A.baseLanes|m:m,m)}else A!==null?(dn(c,A.cachePool),Ht(c,A),Ii(),c.memoizedState=null):(o!==null&&dn(c,null),mn(),Ii());return va(o,c,w,m),c.child}function Ug(o,c,m,b){var w=Ot();return w=w===null?null:{parent:ts?an._currentValue:an._currentValue2,pool:w},c.memoizedState={baseLanes:m,cachePool:w},o!==null&&dn(c,null),mn(),Ag(c),o!==null&&pr(o,c,b,!0),null}function _o(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function Tl(o,c,m,b,w){return re(c),m=Mr(o,c,m,b,void 0,w),b=ar(),o!==null&&!bt?(Fr(o,c,w),_r(o,c,w)):(It&&b&&$(c),c.flags|=1,va(o,c,m,w),c.child)}function Lg(o,c,m,b,w,A){return re(c),c.updateQueue=null,m=bl(c,b,m,w),nr(o),b=ar(),o!==null&&!bt?(Fr(o,c,A),_r(o,c,A)):(It&&b&&$(c),c.flags|=1,va(o,c,m,A),c.child)}function sh(o,c,m,b,w){if(re(c),c.stateNode===null){var A=Yl,P=m.contextType;typeof P=="object"&&P!==null&&(A=ge(P)),A=new m(b,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=yn,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=b,A.state=c.memoizedState,A.refs={},et(c),P=m.contextType,A.context=typeof P=="object"&&P!==null?ge(P):Yl,A.state=c.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&(ih(c,m,P,b),A.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(P=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),P!==A.state&&yn.enqueueReplaceState(A,A.state,null),wt(c,b,A,w),Fe(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(o===null){A=c.stateNode;var Z=c.memoizedProps,te=Cl(m,Z);A.props=te;var Ne=A.context,Ue=m.contextType;P=Yl,typeof Ue=="object"&&Ue!==null&&(P=ge(Ue));var Ze=m.getDerivedStateFromProps;Ue=typeof Ze=="function"||typeof A.getSnapshotBeforeUpdate=="function",Z=c.pendingProps!==Z,Ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Z||Ne!==P)&&sd(c,A,b,P),Ai=!1;var Xe=c.memoizedState;A.state=Xe,wt(c,b,A,w),Fe(),Ne=c.memoizedState,Z||Xe!==Ne||Ai?(typeof Ze=="function"&&(ih(c,m,Ze,b),Ne=c.memoizedState),(te=Ai||Rg(c,m,te,b,Xe,Ne,P))?(Ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=Ne),A.props=b,A.state=Ne,A.context=P,b=te):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{A=c.stateNode,it(o,c),P=c.memoizedProps,Ue=Cl(m,P),A.props=Ue,Ze=c.pendingProps,Xe=A.context,Ne=m.contextType,te=Yl,typeof Ne=="object"&&Ne!==null&&(te=ge(Ne)),Z=m.getDerivedStateFromProps,(Ne=typeof Z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P!==Ze||Xe!==te)&&sd(c,A,b,te),Ai=!1,Xe=c.memoizedState,A.state=Xe,wt(c,b,A,w),Fe();var Tt=c.memoizedState;P!==Ze||Xe!==Tt||Ai||o!==null&&o.dependencies!==null&&I(o.dependencies)?(typeof Z=="function"&&(ih(c,m,Z,b),Tt=c.memoizedState),(Ue=Ai||Rg(c,m,Ue,b,Xe,Tt,te)||o!==null&&o.dependencies!==null&&I(o.dependencies))?(Ne||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,Tt,te),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,Tt,te)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=Tt),A.props=b,A.state=Tt,A.context=te,b=Ue):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=1024),b=!1)}return A=b,_o(o,c),b=(c.flags&128)!==0,A||b?(A=c.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&b?(c.child=os(c,o.child,null,w),c.child=os(c,null,m,w)):va(o,c,m,w),c.memoizedState=A.state,o=c.child):o=_r(o,c,w),o}function lh(o,c,m,b){return xt(),c.flags|=256,va(o,c,m,b),c.child}function ud(o){return{baseLanes:o,cachePool:Yn()}}function cd(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Br),o}function oh(o,c,m){var b=c.pendingProps,w=!1,A=(c.flags&128)!==0,P;if((P=A)||(P=o!==null&&o.memoizedState===null?!1:(yt.current&2)!==0),P&&(w=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(It){if(w?Ts(c):Ii(),It){var Z=Qn,te;(te=Z)&&(Z=Jv(Z,en),Z!==null?(c.memoizedState={dehydrated:Z,treeContext:Ys!==null?{id:Jr,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},te=n(18,null,null,0),te.stateNode=Z,te.return=c,c.child=te,Pn=c,Qn=null,te=!0):te=!1),te||xe(c)}if(Z=c.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return kd(Z)?c.lanes=32:c.lanes=536870912,null;Xi(c)}return Z=b.children,b=b.fallback,w?(Ii(),w=c.mode,Z=dd({mode:"hidden",children:Z},w),b=$r(b,w,m,null),Z.return=c,b.return=c,Z.sibling=b,c.child=Z,w=c.child,w.memoizedState=ud(m),w.childLanes=cd(o,P,m),c.memoizedState=$a,b):(Ts(c),As(c,Z))}if(te=o.memoizedState,te!==null&&(Z=te.dehydrated,Z!==null)){if(A)c.flags&256?(Ts(c),c.flags&=-257,c=uh(o,c,m)):c.memoizedState!==null?(Ii(),c.child=o.child,c.flags|=128,c=null):(Ii(),w=b.fallback,Z=c.mode,b=dd({mode:"visible",children:b.children},Z),w=$r(w,Z,m,null),w.flags|=2,b.return=c,w.return=c,b.sibling=w,c.child=b,os(c,o.child,null,m),b=c.child,b.memoizedState=ud(m),b.childLanes=cd(o,P,m),c.memoizedState=$a,c=w);else if(Ts(c),kd(Z))P=fm(Z).digest,b=Error(i(419)),b.stack="",b.digest=P,ln({value:b,source:null,stack:null}),c=uh(o,c,m);else if(bt||pr(o,c,m,!1),P=(m&o.childLanes)!==0,bt||P){if(P=Kt,P!==null&&(b=m&-m,b=(b&42)!==0?1:Ce(b),b=(b&(P.suspendedLanes|m))!==0?0:b,b!==0&&b!==te.retryLane))throw te.retryLane=b,le(o,b),Na(P,o,b),Vt;nc(Z)||Dn(),c=uh(o,c,m)}else nc(Z)?(c.flags|=192,c.child=o.child,c=null):(o=te.treeContext,or&&(Qn=Vh(Z),Pn=c,It=!0,ei=null,en=!1,o!==null&&(Fa[fr++]=Jr,Fa[fr++]=Ti,Fa[fr++]=Ys,Jr=o.id,Ti=o.overflow,Ys=c)),c=As(c,b.children),c.flags|=4096);return c}return w?(Ii(),w=b.fallback,Z=c.mode,te=o.child,A=te.sibling,b=$i(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,A!==null?w=$i(A,w):(w=$r(w,Z,m,null),w.flags|=2),w.return=c,b.return=c,b.sibling=w,c.child=b,b=w,w=c.child,Z=o.child.memoizedState,Z===null?Z=ud(m):(te=Z.cachePool,te!==null?(A=ts?an._currentValue:an._currentValue2,te=te.parent!==A?{parent:A,pool:A}:te):te=Yn(),Z={baseLanes:Z.baseLanes|m,cachePool:te}),w.memoizedState=Z,w.childLanes=cd(o,P,m),c.memoizedState=$a,b):(Ts(c),m=o.child,o=m.sibling,m=$i(m,{mode:"visible",children:b.children}),m.return=c,m.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=m,c.memoizedState=null,m)}function As(o,c){return c=dd({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function dd(o,c){return o=n(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function uh(o,c,m){return os(c,o.child,null,m),o=As(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Pg(o,c,m){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),ea(o.return,c,m)}function fd(o,c,m,b,w){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=b,A.tail=m,A.tailMode=w)}function ch(o,c,m){var b=c.pendingProps,w=b.revealOrder,A=b.tail;if(va(o,c,b.children,m),b=yt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Pg(o,m,c);else if(o.tag===19)Pg(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(T(yt,b),w){case"forwards":for(m=c.child,w=null;m!==null;)o=m.alternate,o!==null&&id(o)===null&&(w=m),m=m.sibling;m=w,m===null?(w=c.child,c.child=null):(w=m.sibling,m.sibling=null),fd(c,!1,w,m,A);break;case"backwards":for(m=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&id(o)===null){c.child=w;break}o=w.sibling,w.sibling=m,m=w,w=o}fd(c,!0,m,null,A);break;case"together":fd(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function _r(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),Jn|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(pr(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,m=$i(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=$i(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function Al(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&I(o)))}function Xv(o,c,m){switch(c.tag){case 3:Te(c,c.stateNode.containerInfo),Ha(c,an,o.memoizedState.cache),xt();break;case 27:case 5:ot(c);break;case 4:Te(c,c.stateNode.containerInfo);break;case 10:Ha(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Ts(c),c.flags|=128,null):(m&c.child.childLanes)!==0?oh(o,c,m):(Ts(c),o=_r(o,c,m),o!==null?o.sibling:null);Ts(c);break;case 19:var w=(o.flags&128)!==0;if(b=(m&c.childLanes)!==0,b||(pr(o,c,m,!1),b=(m&c.childLanes)!==0),w){if(b)return ch(o,c,m);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),T(yt,yt.current),b)break;return null;case 22:case 23:return c.lanes=0,kg(o,c,m);case 24:Ha(c,an,o.memoizedState.cache)}return _r(o,c,m)}function ju(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)bt=!0;else{if(!Al(o,m)&&(c.flags&128)===0)return bt=!1,Xv(o,c,m);bt=(o.flags&131072)!==0}else bt=!1,It&&(c.flags&1048576)!==0&&G(c,Po,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var b=c.elementType,w=b._init;if(b=w(b._payload),c.type=b,typeof b=="function")xh(b)?(o=Cl(b,o),c.tag=1,c=sh(null,c,b,o,m)):(c.tag=0,c=Tl(null,c,b,o,m));else{if(b!=null){if(w=b.$$typeof,w===Si){c.tag=11,c=Dg(null,c,b,o,m);break e}else if(w===xi){c.tag=14,c=jg(null,c,b,o,m);break e}}throw c=_(b)||b,Error(i(306,c,""))}}return c;case 0:return Tl(o,c,c.type,c.pendingProps,m);case 1:return b=c.type,w=Cl(b,c.pendingProps),sh(o,c,b,w,m);case 3:e:{if(Te(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var A=c.pendingProps;w=c.memoizedState,b=w.element,it(o,c),wt(c,A,null,m);var P=c.memoizedState;if(A=P.cache,Ha(c,an,A),A!==w.cache&&Ss(c,[an],m,!0),Fe(),A=P.element,or&&w.isDehydrated)if(w={element:A,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=lh(o,c,A,m);break e}else if(A!==b){b=K(Error(i(424)),c),ln(b),c=lh(o,c,A,m);break e}else for(or&&(Qn=vm(c.stateNode.containerInfo),Pn=c,It=!0,ei=null,en=!0),m=n0(c,null,A,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(xt(),A===b){c=_r(o,c,m);break e}va(o,c,A,m)}c=c.child}return c;case 26:if(Xa)return _o(o,c),o===null?(m=ic(c.type,null,c.pendingProps,null))?c.memoizedState=m:It||(c.stateNode=Ci(c.type,c.pendingProps,Zs.current,c)):c.memoizedState=ic(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(Lt)return ot(c),o===null&&Lt&&It&&(b=c.stateNode=sc(c.type,c.pendingProps,Zs.current,Rn.current,!1),Pn=c,en=!0,Qn=ym(c.type,b,Qn)),va(o,c,c.pendingProps.children,m),_o(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&It&&(e1(c.type,c.pendingProps,Rn.current),(w=b=Qn)&&(b=bm(b,c.type,c.pendingProps,en),b!==null?(c.stateNode=b,Pn=c,Qn=pm(b),en=!1,w=!0):w=!1),w||xe(c)),ot(c),w=c.type,A=c.pendingProps,P=o!==null?o.memoizedProps:null,b=A.children,es(w,A)?b=null:P!==null&&es(w,P)&&(c.flags|=32),c.memoizedState!==null&&(w=Mr(o,c,_l,null,null,m),ts?Ei._currentValue=w:Ei._currentValue2=w),_o(o,c),va(o,c,b,m),c.child;case 6:return o===null&&It&&(ko(c.pendingProps,Rn.current),(o=m=Qn)&&(m=Wv(m,c.pendingProps,en),m!==null?(c.stateNode=m,Pn=c,Qn=null,o=!0):o=!1),o||xe(c)),null;case 13:return oh(o,c,m);case 4:return Te(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=os(c,null,b,m):va(o,c,b,m),c.child;case 11:return Dg(o,c,c.type,c.pendingProps,m);case 7:return va(o,c,c.pendingProps,m),c.child;case 8:return va(o,c,c.pendingProps.children,m),c.child;case 12:return va(o,c,c.pendingProps.children,m),c.child;case 10:return b=c.pendingProps,Ha(c,c.type,b.value),va(o,c,b.children,m),c.child;case 9:return w=c.type._context,b=c.pendingProps.children,re(c),w=ge(w),b=b(w),c.flags|=1,va(o,c,b,m),c.child;case 14:return jg(o,c,c.type,c.pendingProps,m);case 15:return zg(o,c,c.type,c.pendingProps,m);case 19:return ch(o,c,m);case 31:return b=c.pendingProps,m=c.mode,b={mode:b.mode,children:b.children},o===null?(m=dd(b,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=$i(o.child,b),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return kg(o,c,m);case 24:return re(c),b=ge(an),o===null?(w=Ot(),w===null&&(w=Kt,A=je(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=m),w=A),c.memoizedState={parent:b,cache:w},et(c),Ha(c,an,w)):((o.lanes&m)!==0&&(it(o,c),wt(c,null,null,m),Fe()),w=o.memoizedState,A=c.memoizedState,w.parent!==b?(w={parent:b,cache:b},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Ha(c,an,b)):(b=A.cache,Ha(c,an,b),b!==w.cache&&Ss(c,[an],m,!0))),va(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function rr(o){o.flags|=4}function dh(o,c){if(o!==null&&o.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(o=c.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function zu(o,c,m,b){if(Pt)for(m=c.child;m!==null;){if(m.tag===5||m.tag===6)qn(o,m.stateNode);else if(!(m.tag===4||Lt&&m.tag===27)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}else if(wi)for(var w=c.child;w!==null;){if(w.tag===5){var A=w.stateNode;m&&b&&(A=Bh(A,w.type,w.memoizedProps)),qn(o,A)}else if(w.tag===6)A=w.stateNode,m&&b&&(A=Hh(A,w.memoizedProps)),qn(o,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)A=w.child,A!==null&&(A.return=w),zu(o,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function hd(o,c,m,b){var w=!1;if(wi)for(var A=c.child;A!==null;){if(A.tag===5){var P=A.stateNode;m&&b&&(P=Bh(P,A.type,A.memoizedProps)),Lh(o,P)}else if(A.tag===6)P=A.stateNode,m&&b&&(P=Hh(P,A.memoizedProps)),Lh(o,P);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)w=A.child,w!==null&&(w.return=A),hd(o,A,!0,!0),w=!0;else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return w;A=A.return}A.sibling.return=A.return,A=A.sibling}return w}function fh(o,c){if(wi&&dh(o,c)){o=c.stateNode;var m=o.containerInfo,b=Uh();hd(b,c,!1,!1),o.pendingChildren=b,rr(c),dm(m,b)}}function gd(o,c,m,b){if(Pt)o.memoizedProps!==b&&rr(c);else if(wi){var w=o.stateNode,A=o.memoizedProps;if((o=dh(o,c))||A!==b){var P=Rn.current;A=tc(w,m,A,b,!o,null),A===w?c.stateNode=w:($u(A,m,b,P)&&rr(c),c.stateNode=A,o?zu(A,c,!1,!1):rr(c))}else c.stateNode=w}}function md(o,c,m){if(Fn(c,m)){if(o.flags|=16777216,!Dd(c,m))if(xd())o.flags|=8192;else throw hr=ya,Id}else o.flags&=-16777217}function Bg(o,c){if(Em(c)){if(o.flags|=16777216,!ns(c))if(xd())o.flags|=8192;else throw hr=ya,Id}else o.flags&=-16777217}function pd(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?H():536870912,o.lanes|=c,Or|=c)}function ku(o,c){if(!It)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Ln(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,b=0;if(c)for(var w=o.child;w!==null;)m|=w.lanes|w.childLanes,b|=w.subtreeFlags&65011712,b|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)m|=w.lanes|w.childLanes,b|=w.subtreeFlags,b|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=b,o.childLanes=m,c}function Kv(o,c,m){var b=c.pendingProps;switch(Ee(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(c),null;case 1:return Ln(c),null;case 3:return m=c.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),ma(an),Ve(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(rt(c)?rr(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,sn())),fh(o,c),Ln(c),null;case 26:if(Xa){m=c.type;var w=c.memoizedState;return o===null?(rr(c),w!==null?(Ln(c),Bg(c,w)):(Ln(c),md(c,m,b))):w?w!==o.memoizedState?(rr(c),Ln(c),Bg(c,w)):(Ln(c),c.flags&=-16777217):(Pt?o.memoizedProps!==b&&rr(c):gd(o,c,m,b),Ln(c),md(c,m,b)),null}case 27:if(Lt){if(ue(c),m=Zs.current,w=c.type,o!==null&&c.stateNode!=null)Pt?o.memoizedProps!==b&&rr(c):gd(o,c,w,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Ln(c),null}o=Rn.current,rt(c)?Ie(c,o):(o=sc(w,b,m,o,!0),c.stateNode=o,rr(c))}return Ln(c),null}case 5:if(ue(c),m=c.type,o!==null&&c.stateNode!=null)gd(o,c,m,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Ln(c),null}o=Rn.current,rt(c)?Ie(c,o):(w=pn(m,b,Zs.current,o,c),zu(w,c,!1,!1),c.stateNode=w,$u(w,m,b,o)&&rr(c))}return Ln(c),md(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)m=o.memoizedProps,Pt?m!==b&&rr(c):wi&&(m!==b?(c.stateNode=Bs(b,Zs.current,Rn.current,c),rr(c)):c.stateNode=o.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(o=Zs.current,m=Rn.current,rt(c)){if(!or)throw Error(i(176));if(o=c.stateNode,m=c.memoizedProps,b=null,w=Pn,w!==null)switch(w.tag){case 27:case 5:b=w.memoizedProps}ac(o,m,c,b)||xe(c)}else c.stateNode=Bs(b,o,m,c)}return Ln(c),null;case 13:if(b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=rt(c),b!==null&&b.dehydrated!==null){if(o===null){if(!w)throw Error(i(318));if(!or)throw Error(i(344));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));Yh(w,c)}else xt(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ln(c),w=!1}else w=sn(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Xi(c),c):(Xi(c),null)}if(Xi(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=b!==null,o=o!==null&&o.memoizedState!==null,m){b=c.child,w=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(w=b.alternate.memoizedState.cachePool.pool);var A=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==w&&(b.flags|=2048)}return m!==o&&m&&(c.child.flags|=8192),pd(c,c.updateQueue),Ln(c),null;case 4:return Ve(),fh(o,c),o===null&&Kg(c.stateNode.containerInfo),Ln(c),null;case 10:return ma(c.type),Ln(c),null;case 19:if(C(yt),w=c.memoizedState,w===null)return Ln(c),null;if(b=(c.flags&128)!==0,A=w.rendering,A===null)if(b)ku(w,!1);else{if(Bn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=id(o),A!==null){for(c.flags|=128,ku(w,!1),o=A.updateQueue,c.updateQueue=o,pd(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)Kn(m,o),m=m.sibling;return T(yt,yt.current&1|2),c.child}o=o.sibling}w.tail!==null&&vn()>Xo&&(c.flags|=128,b=!0,ku(w,!1),c.lanes=4194304)}else{if(!b)if(o=id(A),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,pd(c,o),ku(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!It)return Ln(c),null}else 2*vn()-w.renderingStartTime>Xo&&m!==536870912&&(c.flags|=128,b=!0,ku(w,!1),c.lanes=4194304);w.isBackwards?(A.sibling=c.child,c.child=A):(o=w.last,o!==null?o.sibling=A:c.child=A,w.last=A)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=vn(),c.sibling=null,o=yt.current,T(yt,b?o&1|2:o&1),c):(Ln(c),null);case 22:case 23:return Xi(c),on(),b=c.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(m&536870912)!==0&&(c.flags&128)===0&&(Ln(c),c.subtreeFlags&6&&(c.flags|=8192)):Ln(c),m=c.updateQueue,m!==null&&pd(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048),o!==null&&C(jn),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ma(an),Ln(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Sr(o,c){switch(Ee(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ma(an),Ve(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ue(c),null;case 13:if(Xi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));xt()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return C(yt),null;case 4:return Ve(),null;case 10:return ma(c.type),null;case 22:case 23:return Xi(c),on(),o!==null&&C(jn),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ma(an),null;case 25:return null;default:return null}}function So(o,c){switch(Ee(c),c.tag){case 3:ma(an),Ve();break;case 26:case 27:case 5:ue(c);break;case 4:Ve();break;case 13:Xi(c);break;case 19:C(yt);break;case 10:ma(c.type);break;case 22:case 23:Xi(c),on(),o!==null&&C(jn);break;case 24:ma(an)}}function xo(o,c){try{var m=c.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var w=b.next;m=w;do{if((m.tag&o)===o){b=void 0;var A=m.create,P=m.inst;b=A(),P.destroy=b}m=m.next}while(m!==w)}}catch(Z){nn(c,c.return,Z)}}function Ki(o,c,m){try{var b=c.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var A=w.next;b=A;do{if((b.tag&o)===o){var P=b.inst,Z=P.destroy;if(Z!==void 0){P.destroy=void 0,w=c;var te=m,Ne=Z;try{Ne()}catch(Ue){nn(w,te,Ue)}}}b=b.next}while(b!==A)}}catch(Ue){nn(c,c.return,Ue)}}function hh(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{Sn(c,m)}catch(b){nn(o,o.return,b)}}}function gh(o,c,m){m.props=Cl(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(b){nn(o,c,b)}}function Rl(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var b=Mo(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof m=="function"?o.refCleanup=m(b):m.current=b}}catch(w){nn(o,c,w)}}function hi(o,c){var m=o.ref,b=o.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(w){nn(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(w){nn(o,c,w)}else m.current=null}function Ol(o){var c=o.type,m=o.memoizedProps,b=o.stateNode;try{kh(b,c,m,o)}catch(w){nn(o,o.return,w)}}function Uu(o,c,m){try{am(o.stateNode,o.type,m,c,o)}catch(b){nn(o,o.return,b)}}function wo(o){return o.tag===5||o.tag===3||(Xa?o.tag===26:!1)||(Lt?o.tag===27&&Vl(o.type):!1)||o.tag===4}function Lu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wo(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(Lt&&o.tag===27&&Vl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function vd(o,c,m){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?im(m,o,c):tm(m,o);else if(b!==4&&(Lt&&b===27&&Vl(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(vd(o,c,m),o=o.sibling;o!==null;)vd(o,c,m),o=o.sibling}function gi(o,c,m){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?rm(m,o,c):em(m,o);else if(b!==4&&(Lt&&b===27&&Vl(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(gi(o,c,m),o=o.sibling;o!==null;)gi(o,c,m),o=o.sibling}function Nl(o,c,m){o=o.containerInfo;try{Ph(o,m)}catch(b){nn(c,c.return,b)}}function yd(o){var c=o.stateNode,m=o.memoizedProps;try{Fh(o.type,m,c,o)}catch(b){nn(o,o.return,b)}}function Hg(o,c){for(Ps(o.containerInfo),Dt=c;Dt!==null;)if(o=Dt,c=o.child,(o.subtreeFlags&1024)!==0&&c!==null)c.return=o,Dt=c;else for(;Dt!==null;){o=Dt;var m=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&m!==null){c=void 0;var b=o,w=m.memoizedProps;m=m.memoizedState;var A=b.stateNode;try{var P=Cl(b.type,w,b.elementType===b.type);c=A.getSnapshotBeforeUpdate(P,m),A.__reactInternalSnapshotBeforeUpdate=c}catch(Z){nn(b,b.return,Z)}}break;case 3:(c&1024)!==0&&Pt&&zd(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=o.sibling,c!==null){c.return=o.return,Dt=c;break}Dt=o.return}}function Rs(o,c,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:Fi(o,m),b&4&&xo(5,m);break;case 1:if(Fi(o,m),b&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(P){nn(m,m.return,P)}else{var w=Cl(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){nn(m,m.return,P)}}b&64&&hh(m),b&512&&Rl(m,m.return);break;case 3:if(Fi(o,m),b&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=Mo(m.child.stateNode);break;case 1:c=m.child.stateNode}try{Sn(o,c)}catch(P){nn(m,m.return,P)}}break;case 27:Lt&&c===null&&b&4&&yd(m);case 26:case 5:Fi(o,m),c===null&&b&4&&Ol(m),b&512&&Rl(m,m.return);break;case 12:Fi(o,m);break;case 13:Fi(o,m),b&4&&Gg(o,m),b&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=Da.bind(null,m),Gh(o,m))));break;case 22:if(b=m.memoizedState!==null||ka,!b){c=c!==null&&c.memoizedState!==null||Cn,w=ka;var A=Cn;ka=b,(Cn=c)&&!A?ta(o,m,(m.subtreeFlags&8772)!==0):Fi(o,m),ka=w,Cn=A}break;case 30:break;default:Fi(o,m)}}function mh(o){var c=o.alternate;c!==null&&(o.alternate=null,mh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ur(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Dr(o,c,m){for(m=m.child;m!==null;)bd(o,c,m),m=m.sibling}function bd(o,c,m){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(Gs,m)}catch{}switch(m.tag){case 26:if(Xa){Cn||hi(m,c),Dr(o,c,m),m.memoizedState?Xh(m.memoizedState):m.stateNode&&Er(m.stateNode);break}case 27:if(Lt){Cn||hi(m,c);var b=_n,w=Wn;Vl(m.type)&&(_n=m.stateNode,Wn=!1),Dr(o,c,m),Pd(m.stateNode),_n=b,Wn=w;break}case 5:Cn||hi(m,c);case 6:if(Pt){if(b=_n,w=Wn,_n=null,Dr(o,c,m),_n=b,Wn=w,_n!==null)if(Wn)try{lm(_n,m.stateNode)}catch(A){nn(m,c,A)}else try{sm(_n,m.stateNode)}catch(A){nn(m,c,A)}}else Dr(o,c,m);break;case 18:Pt&&_n!==null&&(Wn?wm(_n,m.stateNode):Ld(_n,m.stateNode));break;case 4:Pt?(b=_n,w=Wn,_n=m.stateNode.containerInfo,Wn=!0,Dr(o,c,m),_n=b,Wn=w):(wi&&Nl(m.stateNode,m,Uh()),Dr(o,c,m));break;case 0:case 11:case 14:case 15:Cn||Ki(2,m,c),Cn||Ki(4,m,c),Dr(o,c,m);break;case 1:Cn||(hi(m,c),b=m.stateNode,typeof b.componentWillUnmount=="function"&&gh(m,c,b)),Dr(o,c,m);break;case 21:Dr(o,c,m);break;case 22:Cn=(b=Cn)||m.memoizedState!==null,Dr(o,c,m),Cn=b;break;default:Dr(o,c,m)}}function Gg(o,c){if(or&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{xm(o)}catch(m){nn(c,c.return,m)}}function Fv(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Ni),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Ni),c;default:throw Error(i(435,o.tag))}}function ph(o,c){var m=Fv(o);c.forEach(function(b){var w=Ad.bind(null,o,b);m.has(b)||(m.add(b),b.then(w,w))})}function Ra(o,c){var m=c.deletions;if(m!==null)for(var b=0;b<m.length;b++){var w=m[b],A=o,P=c;if(Pt){var Z=P;e:for(;Z!==null;){switch(Z.tag){case 27:if(Lt){if(Vl(Z.type)){_n=Z.stateNode,Wn=!1;break e}break}case 5:_n=Z.stateNode,Wn=!1;break e;case 3:case 4:_n=Z.stateNode.containerInfo,Wn=!0;break e}Z=Z.return}if(_n===null)throw Error(i(160));bd(A,P,w),_n=null,Wn=!1}else bd(A,P,w);A=w.alternate,A!==null&&(A.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)vh(c,o),c=c.sibling}function vh(o,c){var m=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ra(c,o),Oa(o),b&4&&(Ki(3,o,o.return),xo(3,o),Ki(5,o,o.return));break;case 1:Ra(c,o),Oa(o),b&512&&(Cn||m===null||hi(m,m.return)),b&64&&ka&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:if(Xa){var w=Rr;if(Ra(c,o),Oa(o),b&512&&(Cn||m===null||hi(m,m.return)),b&4){b=m!==null?m.memoizedState:null;var A=o.memoizedState;m===null?A===null?o.stateNode===null?o.stateNode=Uo(w,o.type,o.memoizedProps,o):Kh(w,o.type,o.stateNode):o.stateNode=Ih(w,A,o.memoizedProps):b!==A?(b===null?m.stateNode!==null&&Er(m.stateNode):Xh(b),A===null?Kh(w,o.type,o.stateNode):Ih(w,A,o.memoizedProps)):A===null&&o.stateNode!==null&&Uu(o,o.memoizedProps,m.memoizedProps)}break}case 27:if(Lt){Ra(c,o),Oa(o),b&512&&(Cn||m===null||hi(m,m.return)),m!==null&&b&4&&Uu(o,o.memoizedProps,m.memoizedProps);break}case 5:if(Ra(c,o),Oa(o),b&512&&(Cn||m===null||hi(m,m.return)),Pt){if(o.flags&32){w=o.stateNode;try{om(w)}catch(Ue){nn(o,o.return,Ue)}}b&4&&o.stateNode!=null&&(w=o.memoizedProps,Uu(o,w,m!==null?m.memoizedProps:w)),b&1024&&(vc=!0)}break;case 6:if(Ra(c,o),Oa(o),b&4&&Pt){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,m=m!==null?m.memoizedProps:b,w=o.stateNode;try{nm(w,m,b)}catch(Ue){nn(o,o.return,Ue)}}break;case 3:if(Xa?(Hs(),w=Rr,Rr=ql(c.containerInfo),Ra(c,o),Rr=w):Ra(c,o),Oa(o),b&4){if(Pt&&or&&m!==null&&m.memoizedState.isDehydrated)try{Sm(c.containerInfo)}catch(Ue){nn(o,o.return,Ue)}if(wi){b=c.containerInfo,m=c.pendingChildren;try{Ph(b,m)}catch(Ue){nn(o,o.return,Ue)}}}vc&&(vc=!1,jr(o));break;case 4:Xa?(m=Rr,Rr=ql(o.stateNode.containerInfo),Ra(c,o),Oa(o),Rr=m):(Ra(c,o),Oa(o)),b&4&&wi&&Nl(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Ra(c,o),Oa(o);break;case 13:Ra(c,o),Oa(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Kd=vn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,ph(o,b)));break;case 22:w=o.memoizedState!==null;var P=m!==null&&m.memoizedState!==null,Z=ka,te=Cn;if(ka=Z||w,Cn=te||P,Ra(c,o),Cn=te,ka=Z,Oa(o),b&8192&&(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(m===null||P||ka||Cn||sa(o)),Pt)){e:if(m=null,Pt)for(c=o;;){if(c.tag===5||Xa&&c.tag===26){if(m===null){P=m=c;try{A=P.stateNode,w?um(A):jd(P.stateNode,P.memoizedProps)}catch(Ue){nn(P,P.return,Ue)}}}else if(c.tag===6){if(m===null){P=c;try{var Ne=P.stateNode;w?zo(Ne):cm(Ne,P.memoizedProps)}catch(Ue){nn(P,P.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=o.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,ph(o,m))));break;case 19:Ra(c,o),Oa(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,ph(o,b)));break;case 30:break;case 21:break;default:Ra(c,o),Oa(o)}}function Oa(o){var c=o.flags;if(c&2){try{if(Pt){for(var m,b=o.return;b!==null;){if(wo(b)){m=b;break}b=b.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:if(Lt){var w=m.stateNode,A=Lu(o);gi(o,A,w);break}case 5:var P=m.stateNode;m.flags&32&&(om(P),m.flags&=-33);var Z=Lu(o);gi(o,Z,P);break;case 3:case 4:var te=m.stateNode.containerInfo,Ne=Lu(o);vd(o,Ne,te);break;default:throw Error(i(161))}}}catch(Ue){nn(o,o.return,Ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function jr(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;jr(c),c.tag===5&&c.flags&1024&&Dh(c.stateNode),o=o.sibling}}function Fi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Rs(o,c.alternate,c),c=c.sibling}function sa(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ki(4,c,c.return),sa(c);break;case 1:hi(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&gh(c,c.return,m),sa(c);break;case 27:Lt&&Pd(c.stateNode);case 26:case 5:hi(c,c.return),sa(c);break;case 22:c.memoizedState===null&&sa(c);break;case 30:sa(c);break;default:sa(c)}o=o.sibling}}function ta(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,w=o,A=c,P=A.flags;switch(A.tag){case 0:case 11:case 15:ta(w,A,m),xo(4,A);break;case 1:if(ta(w,A,m),b=A,w=b.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ne){nn(b,b.return,Ne)}if(b=A,w=b.updateQueue,w!==null){var Z=b.stateNode;try{var te=w.shared.hiddenCallbacks;if(te!==null)for(w.shared.hiddenCallbacks=null,w=0;w<te.length;w++)tn(te[w],Z)}catch(Ne){nn(b,b.return,Ne)}}m&&P&64&&hh(A),Rl(A,A.return);break;case 27:Lt&&yd(A);case 26:case 5:ta(w,A,m),m&&b===null&&P&4&&Ol(A),Rl(A,A.return);break;case 12:ta(w,A,m);break;case 13:ta(w,A,m),m&&P&4&&Gg(w,A);break;case 22:A.memoizedState===null&&ta(w,A,m),Rl(A,A.return);break;case 30:break;default:ta(w,A,m)}c=c.sibling}}function Os(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Ye(m))}function Pu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o))}function xr(o,c,m,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Bu(o,c,m,b),c=c.sibling}function Bu(o,c,m,b){var w=c.flags;switch(c.tag){case 0:case 11:case 15:xr(o,c,m,b),w&2048&&xo(9,c);break;case 1:xr(o,c,m,b);break;case 3:xr(o,c,m,b),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o)));break;case 12:if(w&2048){xr(o,c,m,b),o=c.stateNode;try{var A=c.memoizedProps,P=A.id,Z=A.onPostCommit;typeof Z=="function"&&Z(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(te){nn(c,c.return,te)}}else xr(o,c,m,b);break;case 13:xr(o,c,m,b);break;case 23:break;case 22:A=c.stateNode,P=c.alternate,c.memoizedState!==null?A._visibility&2?xr(o,c,m,b):mi(o,c):A._visibility&2?xr(o,c,m,b):(A._visibility|=2,Ns(o,c,m,b,(c.subtreeFlags&10256)!==0)),w&2048&&Os(P,c);break;case 24:xr(o,c,m,b),w&2048&&Pu(c.alternate,c);break;default:xr(o,c,m,b)}}function Ns(o,c,m,b,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,P=c,Z=m,te=b,Ne=P.flags;switch(P.tag){case 0:case 11:case 15:Ns(A,P,Z,te,w),xo(8,P);break;case 23:break;case 22:var Ue=P.stateNode;P.memoizedState!==null?Ue._visibility&2?Ns(A,P,Z,te,w):mi(A,P):(Ue._visibility|=2,Ns(A,P,Z,te,w)),w&&Ne&2048&&Os(P.alternate,P);break;case 24:Ns(A,P,Z,te,w),w&&Ne&2048&&Pu(P.alternate,P);break;default:Ns(A,P,Z,te,w)}c=c.sibling}}function mi(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,b=c,w=b.flags;switch(b.tag){case 22:mi(m,b),w&2048&&Os(b.alternate,b);break;case 24:mi(m,b),w&2048&&Pu(b.alternate,b);break;default:mi(m,b)}c=c.sibling}}function Ms(o){if(o.subtreeFlags&ba)for(o=o.child;o!==null;)Hu(o),o=o.sibling}function Hu(o){switch(o.tag){case 26:Ms(o),o.flags&ba&&(o.memoizedState!==null?as(Rr,o.memoizedState,o.memoizedProps):ec(o.type,o.memoizedProps));break;case 5:Ms(o),o.flags&ba&&ec(o.type,o.memoizedProps);break;case 3:case 4:if(Xa){var c=Rr;Rr=ql(o.stateNode.containerInfo),Ms(o),Rr=c}else Ms(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ba,ba=16777216,Ms(o),ba=c):Ms(o));break;default:Ms(o)}}function Ml(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Gu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];Dt=b,pi(b,o)}Ml(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ir(o),o=o.sibling}function ir(o){switch(o.tag){case 0:case 11:case 15:Gu(o),o.flags&2048&&Ki(9,o,o.return);break;case 3:Gu(o);break;case 12:Gu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Eo(o)):Gu(o);break;default:Gu(o)}}function Eo(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];Dt=b,pi(b,o)}Ml(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ki(8,c,c.return),Eo(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Eo(c));break;default:Eo(c)}o=o.sibling}}function pi(o,c){for(;Dt!==null;){var m=Dt;switch(m.tag){case 0:case 11:case 15:Ki(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ye(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,Dt=b;else e:for(m=o;Dt!==null;){b=Dt;var w=b.sibling,A=b.return;if(mh(b),b===m){Dt=null;break e}if(w!==null){w.return=A,Dt=w;break e}Dt=A}}}function _d(o){var c=Xg(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(i(364));return c}if(o=Qg(o),o===null)throw Error(i(362));return o.stateNode.current}function Co(o,c){var m=o.tag;switch(c.$$typeof){case Qs:if(o.type===c.value)return!0;break;case _a:e:{for(c=c.value,o=[o,0],m=0;m<o.length;){var b=o[m++],w=b.tag,A=o[m++],P=c[A];if(w!==5&&w!==26&&w!==27||!jo(b)){for(;P!=null&&Co(b,P);)A++,P=c[A];if(A===c.length){c=!0;break e}else for(b=b.child;b!==null;)o.push(b,A),b=b.sibling}}c=!1}return c;case Zo:if((m===5||m===26||m===27)&&zh(o.stateNode,c.value))return!0;break;case Kl:if((m===5||m===6||m===26||m===27)&&(o=Wg(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case Io:if((m===5||m===26||m===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Qi(o){switch(o.$$typeof){case Qs:return"<"+(_(o.value)||"Unknown")+">";case _a:return":has("+(Qi(o)||"")+")";case Zo:return'[role="'+o.value+'"]';case Kl:return'"'+o.value+'"';case Io:return'[data-testname="'+o.value+'"]';default:throw Error(i(365))}}function Sd(o,c){var m=[];o=[o,0];for(var b=0;b<o.length;){var w=o[b++],A=w.tag,P=o[b++],Z=c[P];if(A!==5&&A!==26&&A!==27||!jo(w)){for(;Z!=null&&Co(w,Z);)P++,Z=c[P];if(P===c.length)m.push(w);else for(w=w.child;w!==null;)o.push(w,P),w=w.sibling}}return m}function qu(o,c){if(!Do)throw Error(i(363));o=_d(o),o=Sd(o,c),c=[],o=Array.from(o);for(var m=0;m<o.length;){var b=o[m++],w=b.tag;if(w===5||w===26||w===27)jo(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return c}function la(){if((ct&2)!==0&&jt!==0)return jt&-jt;if(ut.T!==null){var o=wn;return o!==0?o:Ta()}return Oh()}function Dl(){Br===0&&(Br=(jt&536870912)===0||It?L():536870912);var o=Pr.current;return o!==null&&(o.flags|=32),Br}function Na(o,c,m){(o===Kt&&(rn===2||rn===9)||o.cancelPendingCommit!==null)&&(kr(o,0),sr(o,jt,Br,!1)),Y(o,m),((ct&2)===0||o!==Kt)&&(o===Kt&&((ct&2)===0&&(Js|=m),Bn===4&&sr(o,jt,Br,!1)),$e(o))}function Vu(o,c,m){if((ct&6)!==0)throw Error(i(327));var b=!m&&(c&124)===0&&(c&o.expiredLanes)===0||j(o,c),w=b?yi(o,c):Xt(o,c,!0),A=b;do{if(w===0){Mi&&!b&&sr(o,c,0,!1);break}else{if(m=o.current.alternate,A&&!zr(m)){w=Xt(o,c,!1),A=!1;continue}if(w===2){if(A=c,o.errorRecoveryDisabledLanes&A)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var Z=o;w=el;var te=or&&Z.current.memoizedState.isDehydrated;if(te&&(kr(Z,P).flags|=256),P=Xt(Z,P,!1),P!==2){if(yc&&!te){Z.errorRecoveryDisabledLanes|=A,Js|=A,w=4;break e}A=Ua,Ua=w,A!==null&&(Ua===null?Ua=A:Ua.push.apply(Ua,A))}w=P}if(A=!1,w!==2)continue}}if(w===1){kr(o,0),sr(o,c,0,!0);break}e:{switch(b=o,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:sr(b,c,Br,!us);break e;case 2:Ua=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(w=Kd+300-vn(),10<w)){if(sr(b,c,Br,!us),M(b,0,!0)!==0)break e;b.timeoutHandle=Md(wr.bind(null,b,m,Ua,bc,tl,c,Br,Js,Or,us,A,2,-0,0),w);break e}wr(b,m,Ua,bc,tl,c,Br,Js,Or,us,A,0,-0,0)}}break}while(!0);$e(o)}function wr(o,c,m,b,w,A,P,Z,te,Ne,Ue,Ze,Xe,Tt){if(o.timeoutHandle=Lr,Ze=c.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(Ju(),Hu(c),Ze=Mh(),Ze!==null)){o.cancelPendingCommit=Ze(Sh.bind(null,o,c,A,m,b,w,P,Z,te,Ue,1,Xe,Tt)),sr(o,A,P,!Ne);return}Sh(o,c,A,m,b,w,P,Z,te)}function zr(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var w=m[b],A=w.getSnapshot;w=w.value;try{if(!Cr(A(),w))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function sr(o,c,m,b){c&=~Xd,c&=~Js,o.suspendedLanes|=c,o.pingedLanes&=~c,b&&(o.warmLanes|=c),b=o.expirationTimes;for(var w=c;0<w;){var A=31-dr(w),P=1<<A;b[A]=-1,w&=~P}m!==0&&se(o,m,c)}function vi(){return(ct&6)===0?(vt(0),!1):!0}function Qr(){if(Et!==null){if(rn===0)var o=Et.return;else o=Et,ja=ti=null,Aa(o),Ri=null,Vo=0,o=Et;for(;o!==null;)So(o.alternate,o),o=o.return;Et=null}}function kr(o,c){var m=o.timeoutHandle;m!==Lr&&(o.timeoutHandle=Lr,Wu(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Qr(),Kt=o,Et=m=$i(o.current,null),jt=c,rn=0,Wa=null,us=!1,Mi=j(o,c),yc=!1,Or=Br=Xd=Js=Jn=Bn=0,Ua=el=null,tl=!1,(c&8)!==0&&(c|=c&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=c;0<b;){var w=31-dr(b),A=1<<w;c|=o[w],b&=~A}return Zn=c,yl(),m}function yh(o,c){At=null,ut.H=Fs,c===Go||c===bn?(c=Gi(),rn=3):c===Id?(c=Gi(),rn=4):rn=c===Vt?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Wa=c,Et===null&&(Bn=1,ld(o,K(c,o.current)))}function xd(){var o=Pr.current;return o===null?!0:(jt&4194048)===jt?Oi===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Oi:!1}function wd(){var o=ut.H;return ut.H=Fs,o===null?Fs:o}function Ma(){var o=ut.A;return ut.A=Yo,o}function Dn(){Bn=4,us||(jt&4194048)!==jt&&Pr.current!==null||(Mi=!0),(Jn&134217727)===0&&(Js&134217727)===0||Kt===null||sr(Kt,jt,Br,!1)}function Xt(o,c,m){var b=ct;ct|=2;var w=wd(),A=Ma();(Kt!==o||jt!==c)&&(bc=null,kr(o,c)),c=!1;var P=Bn;e:do try{if(rn!==0&&Et!==null){var Z=Et,te=Wa;switch(rn){case 8:Qr(),P=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(c=!0);var Ne=rn;if(rn=0,Wa=null,zl(o,Z,te,Ne),m&&Mi){P=0;break e}break;default:Ne=rn,rn=0,Wa=null,zl(o,Z,te,Ne)}}jl(),P=Bn;break}catch(Ue){yh(o,Ue)}while(!0);return c&&o.shellSuspendCounter++,ja=ti=null,ct=b,ut.H=w,ut.A=A,Et===null&&(Kt=null,jt=0,yl()),P}function jl(){for(;Et!==null;)Ds(Et)}function yi(o,c){var m=ct;ct|=2;var b=wd(),w=Ma();Kt!==o||jt!==c?(bc=null,Xo=vn()+500,kr(o,c)):Mi=j(o,c);e:do try{if(rn!==0&&Et!==null){c=Et;var A=Wa;t:switch(rn){case 1:rn=0,Wa=null,zl(o,c,A,1);break;case 2:case 9:if(Xc(A)){rn=0,Wa=null,_h(c);break}c=function(){rn!==2&&rn!==9||Kt!==o||(rn=7),$e(o)},A.then(c,c);break e;case 3:rn=7;break e;case 4:rn=5;break e;case 7:Xc(A)?(rn=0,Wa=null,_h(c)):(rn=0,Wa=null,zl(o,c,A,7));break;case 5:var P=null;switch(Et.tag){case 26:P=Et.memoizedState;case 5:case 27:var Z=Et,te=Z.type,Ne=Z.pendingProps;if(P?ns(P):Dd(te,Ne)){rn=0,Wa=null;var Ue=Z.sibling;if(Ue!==null)Et=Ue;else{var Ze=Z.return;Ze!==null?(Et=Ze,js(Ze)):Et=null}break t}}rn=0,Wa=null,zl(o,c,A,5);break;case 6:rn=0,Wa=null,zl(o,c,A,6);break;case 8:Qr(),Bn=6;break e;default:throw Error(i(462))}}bh();break}catch(Xe){yh(o,Xe)}while(!0);return ja=ti=null,ut.H=b,ut.A=w,ct=m,Et!==null?0:(Kt=null,jt=0,yl(),Bn)}function bh(){for(;Et!==null&&!t1();)Ds(Et)}function Ds(o){var c=ju(o.alternate,o,Zn);o.memoizedProps=o.pendingProps,c===null?js(o):Et=c}function _h(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=Lg(m,c,c.pendingProps,c.type,void 0,jt);break;case 11:c=Lg(m,c,c.pendingProps,c.type.render,c.ref,jt);break;case 5:Aa(c);default:So(m,c),c=Et=Kn(c,Zn),c=ju(m,c,Zn)}o.memoizedProps=o.pendingProps,c===null?js(o):Et=c}function zl(o,c,m,b){ja=ti=null,Aa(c),Ri=null,Vo=0;var w=c.return;try{if(Iv(o,w,c,m,jt)){Bn=1,ld(o,K(m,o.current)),Et=null;return}}catch(A){if(w!==null)throw Et=w,A;Bn=1,ld(o,K(m,o.current)),Et=null;return}c.flags&32768?(It||b===1?o=!0:Mi||(jt&536870912)!==0?o=!1:(us=o=!0,(b===2||b===9||b===3||b===6)&&(b=Pr.current,b!==null&&b.tag===13&&(b.flags|=16384))),To(c,o)):js(c)}function js(o){var c=o;do{if((c.flags&32768)!==0){To(c,us);return}o=c.return;var m=Kv(c.alternate,c,Zn);if(m!==null){Et=m;return}if(c=c.sibling,c!==null){Et=c;return}Et=c=o}while(c!==null);Bn===0&&(Bn=5)}function To(o,c){do{var m=Sr(o.alternate,o);if(m!==null){m.flags&=32767,Et=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){Et=o;return}Et=o=m}while(o!==null);Bn=6,Et=null}function Sh(o,c,m,b,w,A,P,Z,te){o.cancelPendingCommit=null;do Ur();while(na!==0);if((ct&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=e0,Q(o,m,A,P,Z,te),o===Kt&&(Et=Kt=null,jt=0),Ko=c,nl=o,Fo=m,Fd=A,Qd=w,Fl=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,qg(Gd,function(){return _i(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=ut.T,ut.T=null,w=Wr(),oa(2),P=ct,ct|=4;try{Hg(o,c,m)}finally{ct=P,oa(w),ut.T=b}}na=1,Ao(),Ed(),zs()}}function Ao(){if(na===1){na=0;var o=nl,c=Ko,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=ut.T,ut.T=null;var b=Wr();oa(2);var w=ct;ct|=4;try{vh(c,o),Mt(o.containerInfo)}finally{ct=w,oa(b),ut.T=m}}o.current=c,na=2}}function Ed(){if(na===2){na=0;var o=nl,c=Ko,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=ut.T,ut.T=null;var b=Wr();oa(2);var w=ct;ct|=4;try{Rs(o,c.alternate,c)}finally{ct=w,oa(b),ut.T=m}}na=3}}function zs(){if(na===4||na===3){na=0,Tm();var o=nl,c=Ko,m=Fo,b=Fl;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?na=5:(na=0,Ko=nl=null,bi(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Di=null),ve(m),c=c.stateNode,Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(Gs,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=ut.T,w=Wr(),oa(2),ut.T=null;try{for(var A=o.onRecoverableError,P=0;P<b.length;P++){var Z=b[P];A(Z.value,{componentStack:Z.stack})}}finally{ut.T=c,oa(w)}}(Fo&3)!==0&&Ur(),$e(o),w=o.pendingLanes,(m&4194090)!==0&&(w&42)!==0?o===$d?al++:(al=0,$d=o):al=0,vt(0)}}function bi(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ye(c)))}function Ur(o){return Ao(),Ed(),zs(),_i()}function _i(){if(na!==5)return!1;var o=nl,c=Fd;Fd=0;var m=ve(Fo),b=32>m?32:m;m=ut.T;var w=Wr();try{oa(b),ut.T=null,b=Qd,Qd=null;var A=nl,P=Fo;if(na=0,Ko=nl=null,Fo=0,(ct&6)!==0)throw Error(i(331));var Z=ct;if(ct|=4,ir(A.current),Bu(A,A.current,P,b),ct=Z,vt(0,!1),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(Gs,A)}catch{}return!0}finally{oa(w),ut.T=m,bi(o,c)}}function Cd(o,c,m){c=K(m,c),c=od(o.stateNode,c,2),o=We(o,c,2),o!==null&&(Y(o,2),$e(o))}function nn(o,c,m){if(o.tag===3)Cd(o,o,m);else for(;c!==null;){if(c.tag===3){Cd(c,o,m);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Di===null||!Di.has(b))){o=K(m,o),m=Ng(2),b=We(c,m,2),b!==null&&(Mg(m,b,c,o),Y(b,2),$e(b));break}}c=c.return}}function kl(o,c,m){var b=o.pingCache;if(b===null){b=o.pingCache=new Ws;var w=new Set;b.set(c,w)}else w=b.get(c),w===void 0&&(w=new Set,b.set(c,w));w.has(m)||(yc=!0,w.add(m),o=Td.bind(null,o,c,m),c.then(o,o))}function Td(o,c,m){var b=o.pingCache;b!==null&&b.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,Kt===o&&(jt&m)===m&&(Bn===4||Bn===3&&(jt&62914560)===jt&&300>vn()-Kd?(ct&2)===0&&kr(o,0):Xd|=m,Or===jt&&(Or=0)),$e(o)}function ks(o,c){c===0&&(c=H()),o=le(o,c),o!==null&&(Y(o,c),$e(o))}function Da(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),ks(o,m)}function Ad(o,c){var m=0;switch(o.tag){case 13:var b=o.stateNode,w=o.memoizedState;w!==null&&(m=w.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),ks(o,m)}function qg(o,c){return oc(o,c)}function Qv(o,c,m,b){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $i(o,c){var m=o.alternate;return m===null?(m=n(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Kn(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Ro(o,c,m,b,w,A){var P=0;if(b=o,typeof o=="function")xh(o)&&(P=1);else if(typeof o=="string")P=Xa&&Lt?rc(o,m,Rn.current)?26:Qh(o)?27:5:Xa?rc(o,m,Rn.current)?26:5:Lt&&Qh(o)?27:5;else e:switch(o){case Gl:return o=n(31,m,c,w),o.elementType=Gl,o.lanes=A,o;case Hl:return $r(m.children,w,A,c);case Zu:P=8,w|=24;break;case Od:return o=n(12,m,c,w|2),o.elementType=Od,o.lanes=A,o;case Xu:return o=n(13,m,c,w),o.elementType=Xu,o.lanes=A,o;case Ku:return o=n(19,m,c,w),o.elementType=Ku,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Iu:case Ji:P=10;break e;case Ch:P=9;break e;case Si:P=11;break e;case xi:P=14;break e;case Ia:P=16,b=null;break e}P=29,m=Error(i(130,o===null?"null":typeof o,"")),b=null}return c=n(P,m,c,w),c.elementType=o,c.type=b,c.lanes=A,c}function $r(o,c,m,b){return o=n(7,o,b,c),o.lanes=m,o}function Ul(o,c,m){return o=n(6,o,null,c),o.lanes=m,o}function Yu(o,c,m){return c=n(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function Oo(o,c,m,b,w,A,P,Z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Lr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=b,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Ll(o,c,m,b,w,A,P,Z,te,Ne,Ue,Ze){return o=new Oo(o,c,m,P,Z,te,Ne,Ze),c=1,A===!0&&(c|=24),A=n(3,null,null,c),o.current=A,A.stateNode=o,c=je(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:b,isDehydrated:m,cache:c},et(A),o}function Vg(o){return o?(o=Yl,o):Yl}function wh(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=f(c),o=o!==null?g(o):null,o===null?null:Mo(o.stateNode)}function Yg(o,c,m,b,w,A){w=Vg(w),b.context===null?b.context=w:b.pendingContext=w,b=Ke(c),b.payload={element:m},A=A===void 0?null:A,A!==null&&(b.callback=A),m=We(o,b,c),m!==null&&(Na(m,o,c),st(m,o,c))}function Eh(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function Wi(o,c){Eh(o,c),(o=o.alternate)&&Eh(o,c)}var Nt={},Rd=rg(),lr=f2(),Pl=Object.assign,Zg=Symbol.for("react.element"),Bl=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),Hl=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Od=Symbol.for("react.profiler"),Iu=Symbol.for("react.provider"),Ch=Symbol.for("react.consumer"),Ji=Symbol.for("react.context"),Si=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),xi=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),Gl=Symbol.for("react.activity"),Th=Symbol.for("react.memo_cache_sentinel"),Nd=Symbol.iterator,Fu=Symbol.for("react.client.reference"),Ls=Array.isArray,ut=Rd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ig=e.rendererVersion,No=e.rendererPackageName,Qu=e.extraDevToolsConfig,Mo=e.getPublicInstance,Ah=e.getRootHostContext,Rh=e.getChildHostContext,Ps=e.prepareForCommit,Mt=e.resetAfterCommit,pn=e.createInstance;e.cloneMutableInstance;var qn=e.appendInitialChild,$u=e.finalizeInitialChildren,es=e.shouldSetTextContent,Bs=e.createTextInstance;e.cloneMutableTextInstance;var Md=e.scheduleTimeout,Wu=e.cancelTimeout,Lr=e.noTimeout,ts=e.isPrimaryRenderer;e.warnsIfNotActing;var Pt=e.supportsMutation,wi=e.supportsPersistence,or=e.supportsHydration,Xg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Kg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var oa=e.setCurrentUpdatePriority,Wr=e.getCurrentUpdatePriority,Oh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Nh=e.shouldAttemptEagerTransition,ur=e.detachDeletedInstance;e.requestPostPaintCallback;var Fn=e.maySuspendCommit,Dd=e.preloadInstance,Ju=e.startSuspendingCommit,ec=e.suspendInstance;e.suspendOnActiveViewTransition;var Mh=e.waitForCommitToBeReady,cr=e.NotPendingTransition,Ei=e.HostTransitionContext,Dh=e.resetFormInstance;e.bindToConsole;var jh=e.supportsMicrotasks,Fg=e.scheduleMicrotask,Do=e.supportsTestSelectors,Qg=e.findFiberRoot,$g=e.getBoundingRect,Wg=e.getTextContent,jo=e.isHiddenSubtree,zh=e.matchAccessibilityRole,Jg=e.setFocusIfFocusable,$v=e.setupIntersectionObserver,em=e.appendChild,tm=e.appendChildToContainer,nm=e.commitTextUpdate,kh=e.commitMount,am=e.commitUpdate,rm=e.insertBefore,im=e.insertInContainerBefore,sm=e.removeChild,lm=e.removeChildFromContainer,om=e.resetTextContent,um=e.hideInstance,zo=e.hideTextInstance,jd=e.unhideInstance,cm=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var zd=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var tc=e.cloneInstance,Uh=e.createContainerChildSet,Lh=e.appendChildToContainerChildSet,dm=e.finalizeContainerChildren,Ph=e.replaceContainerChildren,Bh=e.cloneHiddenInstance,Hh=e.cloneHiddenTextInstance,nc=e.isSuspenseInstancePending,kd=e.isSuspenseInstanceFallback,fm=e.getSuspenseInstanceFallbackErrorDetails,Gh=e.registerSuspenseInstanceRetry,hm=e.canHydrateFormStateMarker,gm=e.isFormStateMarkerMatching,mm=e.getNextHydratableSibling,qh=e.getNextHydratableSiblingAfterSingleton,pm=e.getFirstHydratableChild,vm=e.getFirstHydratableChildWithinContainer,Vh=e.getFirstHydratableChildWithinSuspenseInstance,ym=e.getFirstHydratableChildWithinSingleton,bm=e.canHydrateInstance,Wv=e.canHydrateTextInstance,Jv=e.canHydrateSuspenseInstance,_m=e.hydrateInstance,ac=e.hydrateTextInstance,Yh=e.hydrateSuspenseInstance,Ud=e.getNextHydratableInstanceAfterSuspenseInstance,Sm=e.commitHydratedContainer,xm=e.commitHydratedSuspenseInstance,Ld=e.clearSuspenseBoundary,wm=e.clearSuspenseBoundaryFromContainer,Zh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var e1=e.validateHydratableInstance,ko=e.validateHydratableTextInstance,Xa=e.supportsResources,rc=e.isHostHoistableType,ql=e.getHoistableRoot,ic=e.getResource,Ih=e.acquireResource,Xh=e.releaseResource,Uo=e.hydrateHoistable,Kh=e.mountHoistable,Er=e.unmountHoistable,Ci=e.createHoistableInstance,Hs=e.prepareToCommitHoistables,Em=e.mayResourceSuspendCommit,ns=e.preloadResource,as=e.suspendResource,Lt=e.supportsSingletons,sc=e.resolveSingletonInstance,Fh=e.acquireSingletonInstance,Pd=e.releaseSingletonInstance,Qh=e.isHostSingletonType,Vl=e.isSingletonScope,rs=[],is=-1,Yl={},dr=Math.clz32?Math.clz32:R,Cm=Math.log,Bd=Math.LN2,lc=256,Lo=4194304,oc=lr.unstable_scheduleCallback,Hd=lr.unstable_cancelCallback,t1=lr.unstable_shouldYield,Tm=lr.unstable_requestPaint,vn=lr.unstable_now,ua=lr.unstable_ImmediatePriority,Am=lr.unstable_UserBlockingPriority,Gd=lr.unstable_NormalPriority,Rm=lr.unstable_IdlePriority,Om=lr.log,Nm=lr.unstable_setDisableYieldValue,Gs=null,Ka=null,qd,$h,Vd=!1,Yd=new WeakMap,qs=[],Vs=0,uc=null,Po=0,Fa=[],fr=0,Ys=null,Jr=1,Ti="",Rn=S(null),Zl=S(null),Zs=S(null),cc=S(null),Pn=null,Qn=null,It=!1,ei=null,en=!1,Wh=Error(i(519)),Cr=typeof Object.is=="function"?Object.is:gn,dc=S(null),ti=null,ja=null,Mm=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,b){o.push(b)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},Dm=lr.unstable_scheduleCallback,fc=lr.unstable_NormalPriority,an={$$typeof:Ji,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},hc=null,Is=null,Zd=!1,Bo=!1,gc=!1,ss=0,Ho=null,ni=0,wn=0,Xs=null,Jh=ut.S;ut.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Re(o,c),Jh!==null&&Jh(o,c)};var jn=S(null),n1=Object.prototype.hasOwnProperty,Go=Error(i(460)),Id=Error(i(474)),bn=Error(i(542)),ya={then:function(){}},hr=null,Tr=[],Il=0,e0=0,Ai=!1,Qa=!1,za=S(null),mc=S(0),$n=0,At=null,qt=null,En=null,ai=!1,Ks=!1,ls=!1,Ar=0,qo=0,ri=null,pc=0,Fs={readContext:ge,use:xn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Xl={readContext:ge,use:xn,useCallback:function(o,c){return ft().memoizedState=[o,c===void 0?null:c],o},useContext:ge,useEffect:th,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,Au(4194308,4,po.bind(null,c,o),m)},useLayoutEffect:function(o,c){return Au(4194308,4,o,c)},useInsertionEffect:function(o,c){Au(4,2,o,c)},useMemo:function(o,c){var m=ft();c=c===void 0?null:c;var b=o();if(ls){fe(!0);try{o()}finally{fe(!1)}}return m.memoizedState=[b,c],b},useReducer:function(o,c,m){var b=ft();if(m!==void 0){var w=m(c);if(ls){fe(!0);try{m(c)}finally{fe(!1)}}}else w=c;return b.memoizedState=b.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},b.queue=o,o=o.dispatch=rh.bind(null,At,o),[b.memoizedState,o]},useRef:function(o){var c=ft();return o={current:o},c.memoizedState=o},useState:function(o){o=Qc(o);var c=o.queue,m=nd.bind(null,At,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:Ru,useDeferredValue:function(o,c){var m=ft();return vo(m,o,c)},useTransition:function(){var o=Qc(!1);return o=ah.bind(null,At,o.queue,!0,!1),ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var b=At,w=ft();if(It){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),Kt===null)throw Error(i(349));(jt&124)!==0||Ff(b,c,m)}w.memoizedState=m;var A={value:m,getSnapshot:c};return w.queue=A,th(_g.bind(null,b,A,o),[o]),b.flags|=2048,Cs(9,qi(),Tu.bind(null,b,A,m,c),null),m},useId:function(){var o=ft(),c=Kt.identifierPrefix;if(It){var m=Ti,b=Jr;m=(b&~(1<<32-dr(b)-1)).toString(32)+m,c=""+c+"R"+m,m=Ar++,0<m&&(c+="H"+m.toString(32)),c+=""}else m=pc++,c=""+c+"r"+m.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Yi,useFormState:Wc,useActionState:Wc,useOptimistic:function(o){var c=ft();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=bo.bind(null,At,!0,m),m.dispatch=c,[o,c]},useMemoCache:Es,useCacheRefresh:function(){return ft().memoizedState=Zv.bind(null,At)}},t0={readContext:ge,use:xn,useCallback:Ou,useContext:ge,useEffect:mo,useImperativeHandle:Vi,useInsertionEffect:fi,useLayoutEffect:td,useMemo:nh,useReducer:pa,useRef:xl,useState:function(){return pa(yr)},useDebugValue:Ru,useDeferredValue:function(o,c){var m=kt();return Nu(m,qt.memoizedState,o,c)},useTransition:function(){var o=pa(yr)[0],c=kt().memoizedState;return[typeof o=="boolean"?o:Ya(o),c]},useSyncExternalStore:Cu,useId:Mu,useHostTransitionStatus:Yi,useFormState:Sg,useActionState:Sg,useOptimistic:function(o,c){var m=kt();return $c(m,qt,o,c)},useMemoCache:Es,useCacheRefresh:yo},jm={readContext:ge,use:xn,useCallback:Ou,useContext:ge,useEffect:mo,useImperativeHandle:Vi,useInsertionEffect:fi,useLayoutEffect:td,useMemo:nh,useReducer:Kf,useRef:xl,useState:function(){return Kf(yr)},useDebugValue:Ru,useDeferredValue:function(o,c){var m=kt();return qt===null?vo(m,o,c):Nu(m,qt.memoizedState,o,c)},useTransition:function(){var o=Kf(yr)[0],c=kt().memoizedState;return[typeof o=="boolean"?o:Ya(o),c]},useSyncExternalStore:Cu,useId:Mu,useHostTransitionStatus:Yi,useFormState:ed,useActionState:ed,useOptimistic:function(o,c){var m=kt();return qt!==null?$c(m,qt,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Es,useCacheRefresh:yo},Ri=null,Vo=0,os=Tg(!0),n0=Tg(!1),Pr=S(null),Oi=null,yt=S(0),yn={enqueueSetState:function(o,c,m){o=o._reactInternals;var b=la(),w=Ke(b);w.payload=c,m!=null&&(w.callback=m),c=We(o,w,b),c!==null&&(Na(c,o,b),st(c,o,b))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var b=la(),w=Ke(b);w.tag=1,w.payload=c,m!=null&&(w.callback=m),c=We(o,w,b),c!==null&&(Na(c,o,b),st(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=la(),b=Ke(m);b.tag=2,c!=null&&(b.callback=c),c=We(o,b,m),c!==null&&(Na(c,o,m),st(c,o,m))}},Ut=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Vt=Error(i(461)),bt=!1,$a={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ka=!1,Cn=!1,vc=!1,Ni=typeof WeakSet=="function"?WeakSet:Set,Dt=null,_n=null,Wn=!1,Rr=null,ba=8192,Yo={getCacheForType:function(o){var c=ge(an),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m}},Qs=0,_a=1,Zo=2,Io=3,Kl=4;if(typeof Symbol=="function"&&Symbol.for){var $s=Symbol.for;Qs=$s("selector.component"),_a=$s("selector.has_pseudo_class"),Zo=$s("selector.role"),Io=$s("selector.test_id"),Kl=$s("selector.text")}var Ws=typeof WeakMap=="function"?WeakMap:Map,ct=0,Kt=null,Et=null,jt=0,rn=0,Wa=null,us=!1,Mi=!1,yc=!1,Zn=0,Bn=0,Jn=0,Js=0,Xd=0,Br=0,Or=0,el=null,Ua=null,tl=!1,Kd=0,Xo=1/0,bc=null,Di=null,na=0,nl=null,Ko=null,Fo=0,Fd=0,Qd=null,Fl=null,al=0,$d=null;return Nt.attemptContinuousHydration=function(o){if(o.tag===13){var c=le(o,67108864);c!==null&&Na(c,o,67108864),Wi(o,67108864)}},Nt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=la();c=Ce(c);var m=le(o,c);m!==null&&Na(m,o,c),Wi(o,c)}},Nt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=O(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var m=1<<31-dr(c);o.entanglements[1]|=m,c&=~m}$e(o),(ct&6)===0&&(Xo=vn()+500,vt(0))}}break;case 13:c=le(o,2),c!==null&&Na(c,o,2),vi(),Wi(o,2)}},Nt.batchedUpdates=function(o,c){return o(c)},Nt.createComponentSelector=function(o){return{$$typeof:Qs,value:o}},Nt.createContainer=function(o,c,m,b,w,A,P,Z,te,Ne){return Ll(o,c,!1,null,m,b,A,P,Z,te,Ne,null)},Nt.createHasPseudoClassSelector=function(o){return{$$typeof:_a,value:o}},Nt.createHydrationContainer=function(o,c,m,b,w,A,P,Z,te,Ne,Ue,Ze,Xe){return o=Ll(m,b,!0,o,w,A,Z,te,Ne,Ue,Ze,Xe),o.context=Vg(null),m=o.current,b=la(),b=Ce(b),w=Ke(b),w.callback=c??null,We(m,w,b),c=b,o.current.lanes=c,Y(o,c),$e(o),o},Nt.createPortal=function(o,c,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:b==null?null:""+b,children:o,containerInfo:c,implementation:m}},Nt.createRoleSelector=function(o){return{$$typeof:Zo,value:o}},Nt.createTestNameSelector=function(o){return{$$typeof:Io,value:o}},Nt.createTextSelector=function(o){return{$$typeof:Kl,value:o}},Nt.defaultOnCaughtError=function(o){console.error(o)},Nt.defaultOnRecoverableError=function(o){Ut(o)},Nt.defaultOnUncaughtError=function(o){Ut(o)},Nt.deferredUpdates=function(o){var c=ut.T,m=Wr();try{return oa(32),ut.T=null,o()}finally{oa(m),ut.T=c}},Nt.discreteUpdates=function(o,c,m,b,w){var A=ut.T,P=Wr();try{return oa(2),ut.T=null,o(c,m,b,w)}finally{oa(P),ut.T=A,ct===0&&(Xo=vn()+500)}},Nt.findAllNodes=qu,Nt.findBoundingRects=function(o,c){if(!Do)throw Error(i(363));c=qu(o,c),o=[];for(var m=0;m<c.length;m++)o.push($g(c[m]));for(c=o.length-1;0<c;c--){m=o[c];for(var b=m.x,w=b+m.width,A=m.y,P=A+m.height,Z=c-1;0<=Z;Z--)if(c!==Z){var te=o[Z],Ne=te.x,Ue=Ne+te.width,Ze=te.y,Xe=Ze+te.height;if(b>=Ne&&A>=Ze&&w<=Ue&&P<=Xe){o.splice(c,1);break}else if(b!==Ne||m.width!==te.width||Xe<A||Ze>P){if(!(A!==Ze||m.height!==te.height||Ue<b||Ne>w)){Ne>b&&(te.width+=Ne-b,te.x=b),Ue<w&&(te.width=w-Ne),o.splice(c,1);break}}else{Ze>A&&(te.height+=Ze-A,te.y=A),Xe<P&&(te.height=P-Ze),o.splice(c,1);break}}}return o},Nt.findHostInstance=wh,Nt.findHostInstanceWithNoPortals=function(o){return o=f(o),o=o!==null?p(o):null,o===null?null:Mo(o.stateNode)},Nt.findHostInstanceWithWarning=function(o){return wh(o)},Nt.flushPassiveEffects=Ur,Nt.flushSyncFromReconciler=function(o){var c=ct;ct|=1;var m=ut.T,b=Wr();try{if(oa(2),ut.T=null,o)return o()}finally{oa(b),ut.T=m,ct=c,(ct&6)===0&&vt(0)}},Nt.flushSyncWork=vi,Nt.focusWithin=function(o,c){if(!Do)throw Error(i(363));for(o=_d(o),c=Sd(o,c),c=Array.from(c),o=0;o<c.length;){var m=c[o++],b=m.tag;if(!jo(m)){if((b===5||b===26||b===27)&&Jg(m.stateNode))return!0;for(m=m.child;m!==null;)c.push(m),m=m.sibling}}return!1},Nt.getFindAllNodesFailureDescription=function(o,c){if(!Do)throw Error(i(363));var m=0,b=[];o=[_d(o),0];for(var w=0;w<o.length;){var A=o[w++],P=A.tag,Z=o[w++],te=c[Z];if((P!==5&&P!==26&&P!==27||!jo(A))&&(Co(A,te)&&(b.push(Qi(te)),Z++,Z>m&&(m=Z)),Z<c.length))for(A=A.child;A!==null;)o.push(A,Z),A=A.sibling}if(m<c.length){for(o=[];m<c.length;m++)o.push(Qi(c[m]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Nt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Mo(o.child.stateNode);default:return o.child.stateNode}},Nt.injectIntoDevTools=function(){var o={bundleType:0,version:Ig,rendererPackageName:No,currentDispatcherRef:ut,reconcilerVersion:"19.1.0"};if(Qu!==null&&(o.rendererConfig=Qu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{Gs=c.inject(o),Ka=c}catch{}o=!!c.checkDCE}}return o},Nt.isAlreadyRendering=function(){return(ct&6)!==0},Nt.observeVisibleRects=function(o,c,m,b){if(!Do)throw Error(i(363));o=qu(o,c);var w=$v(o,m,b).disconnect;return{disconnect:function(){w()}}},Nt.shouldError=function(){return null},Nt.shouldSuspend=function(){return!1},Nt.startHostTransition=function(o,c,m,b){if(o.tag!==5)throw Error(i(476));var w=Za(o).queue;ah(o,w,c,cr,m===null?a:function(){var A=Za(o).next.queue;return Zi(o,A,{},la()),m(b)})},Nt.updateContainer=function(o,c,m,b){var w=c.current,A=la();return Yg(w,A,o,c,m,b),A},Nt.updateContainerSync=function(o,c,m,b){return Yg(c.current,2,o,c,m,b),2},Nt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(ry)),ry.exports}var p3;function Hj(){return p3||(p3=1,ay.exports=Bj()),ay.exports}var Gj=Hj();const qj=ag(Gj);var iy={exports:{}},Wl={};var v3;function Vj(){return v3||(v3=1,Wl.ConcurrentRoot=1,Wl.ContinuousEventPriority=8,Wl.DefaultEventPriority=32,Wl.DiscreteEventPriority=2,Wl.IdleEventPriority=268435456,Wl.LegacyRoot=0,Wl.NoEventPriority=0),Wl}var y3;function Yj(){return y3||(y3=1,iy.exports=Vj()),iy.exports}var Mv=Yj();const b3={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let _3=!1,S3=!1;const ov=".react-konva-event",Zj=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Ij=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Xj={};function Dv(t,e,n=Xj){if(!_3&&"zIndex"in e&&(console.warn(Ij),_3=!0),!S3&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn(Zj),S3=!0)}for(var l in n)if(!b3[l]){var u=l.slice(0,2)==="on",f=n[l]!==e[l];if(u&&f){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),t.off(g,n[l])}var p=!e.hasOwnProperty(l);p&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},S=!1;const C={};for(var l in e)if(!b3[l]){var u=l.slice(0,2)==="on",T=n[l]!==e[l];if(u&&T){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(C[g]=e[l])}!u&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(S=!0,_[l]=e[l])}S&&(t.setAttrs(_),xu(t));for(var g in C)t.off(g+ov),t.on(g+ov,C[g])}function xu(t){if(!qe.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var sy=f2();const sx={},Kj={};Bf.Node.prototype._applyProps=Dv;let lx=Mv.DefaultEventPriority;function Fj(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),xu(t)}function Qj(t,e,n){let a=Bf[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Bf.Group);const i={},l={};for(var u in e)if(u!=="ref"){var f=u.slice(0,2)==="on";f?l[u]=e[u]:i[u]=e[u]}const g=new a(i);return Dv(g,l),g}function $j(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function Wj(t,e,n){return!1}function Jj(t){return t}function ez(){return null}function tz(){return null}function nz(t,e,n,a){return Kj}function az(){}function rz(t){}function iz(t,e){return!1}function sz(){return sx}function lz(){return sx}const oz=setTimeout,uz=clearTimeout,cz=!0,dz=t=>{t()},fz=-1;function hz(t,e){return!1}const gz=!1,mz=!1,pz=!0,vz=!1,yz=!1;function bz(t,e){e.parent===t?e.moveToTop():t.add(e),xu(t)}function _z(t,e){e.parent===t?e.moveToTop():t.add(e),xu(t)}function ox(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),xu(t)}function Sz(t,e,n){ox(t,e,n)}function xz(t,e){e.destroy(),e.off(ov),xu(t)}function wz(t,e){e.destroy(),e.off(ov),xu(t)}function Ez(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Cz(t,e,n){}function Tz(t,e,n,a){Dv(t,a,n)}function Az(t){t.hide(),xu(t)}function Rz(t){}function Oz(t,e){(e.visible==null||e.visible)&&t.show()}function Nz(t,e){}function Mz(t){}function Dz(){}function jz(){return Mv.DefaultEventPriority}function zz(){}function kz(){return null}function Uz(t){lx=t}function Lz(){return lx}function Pz(){return Mv.DiscreteEventPriority}function Bz(){return!1}function Hz(){}function Gz(){return!1}function qz(){return!0}function Vz(){}function Yz(){}function Zz(){return null}const Iz=null;function Xz(){}const Kz=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:Iz,appendChild:bz,appendChildToContainer:_z,appendInitialChild:Fj,cancelTimeout:uz,clearContainer:Mz,commitMount:Cz,commitTextUpdate:Ez,commitUpdate:Tz,createInstance:Qj,createTextInstance:$j,detachDeletedInstance:Dz,finalizeInitialChildren:Wj,getChildHostContext:lz,getCurrentEventPriority:jz,getCurrentUpdatePriority:Lz,getInstanceFromScope:kz,getPublicInstance:Jj,getRootHostContext:sz,hideInstance:Az,hideTextInstance:Rz,idlePriority:sy.unstable_IdlePriority,insertBefore:ox,insertInContainerBefore:Sz,isPrimaryRenderer:gz,maySuspendCommit:Gz,noTimeout:fz,now:sy.unstable_now,preloadInstance:qz,prepareForCommit:ez,preparePortalMount:tz,prepareScopeUpdate:zz,prepareUpdate:nz,removeChild:xz,removeChildFromContainer:wz,requestPostPaintCallback:Hz,resetAfterCommit:az,resetFormInstance:Xz,resetTextContent:rz,resolveUpdatePriority:Pz,run:sy.unstable_runWithPriority,scheduleMicrotask:dz,scheduleTimeout:oz,setCurrentUpdatePriority:Uz,shouldAttemptEagerTransition:Bz,shouldDeprioritizeSubtree:iz,shouldSetTextContent:hz,startSuspendingCommit:Vz,supportsHydration:yz,supportsMicrotasks:cz,supportsMutation:pz,supportsPersistence:vz,suspendInstance:Yz,unhideInstance:Oz,unhideTextInstance:Nz,waitForCommitToBeReady:Zz,warnsIfNotActing:mz},Symbol.toStringTag,{value:"Module"}));function ux(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=ux(a,e,n);if(i)return i;a=a.sibling}}function cx(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const I2=cx(N.createContext(null));class dx extends N.Component{render(){return N.createElement(I2.Provider,{value:this._reactInternals},this.props.children)}}function Fz(){const t=N.useContext(I2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=ux(n,!1,i=>{let l=i.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const Qz=Symbol.for("react.context"),$z=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Qz;function Wz(){const t=Fz(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;$z(a)&&a!==I2&&!e.has(a)&&e.set(a,N.use(cx(a))),n=n.return}return e}function fx(){const t=Wz();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(dx,{...e})),[t])}if(Qe.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function Jz(t){const e=Qe.useRef({});return Qe.useLayoutEffect(()=>{e.current=t}),Qe.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const ek=()=>{const t=Qe.useRef(0);return Qe.useMemo(()=>{t.current++},[]),t.current>1},tk=t=>{const e=Qe.useRef(null),n=Qe.useRef(null),a=Qe.useRef(null),i=Jz(t),l=fx(),u=Qe.useRef(!1),f=p=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(p):v.current=p)},g=ek();return Qe.useLayoutEffect(()=>u.current&&g?()=>{u.current=!1,f(null),Cf.updateContainer(null,a.current,null),n.current.destroy()}:(u.current=!0,n.current=new Bf.Stage({width:t.width,height:t.height,container:e.current}),f(n.current),a.current=Cf.createContainer(n.current,Mv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Cf.updateContainer(Qe.createElement(l,{},t.children),a.current,null,()=>{}),()=>{g||(f(null),Cf.updateContainer(null,a.current,null),n.current.destroy())}),[]),Qe.useLayoutEffect(()=>{f(n.current),Dv(n.current,t,i),Cf.updateContainer(Qe.createElement(l,{},t.children),a.current,null)}),Qe.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},E0="Layer",Xr="Group",ol="Rect",hx="Circle",nk="Line",gs="Text",ak="Path",rk="Arrow",ik="Transformer",Cf=qj(Kz);Cf.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Qe.version,rendererPackageName:"react-konva"});const sk=Qe.forwardRef((t,e)=>Qe.createElement(dx,{},Qe.createElement(tk,{...t,forwardedRef:e})));function ly(t,e,n,a,i){t.forEach(l=>{if(!e.current||!n.current)return;const u=i.current.get(l.from),f=i.current.get(l.to),g=a.current?.findOne(`#${l.id}`);if(!u||!f||!g)return;const p=f.x()-u.x(),v=f.y()-u.y(),_=Math.sqrt(p*p+v*v),S=p/_,C=v/_,T=Math.min(30,_/5-1),R=u.getAttr("mainWidth")*(u.attrs.scalingX??1),O=u.getAttr("mainHeight")*(u.attrs.scalingY??1),M=f.getAttr("mainWidth")*(f.attrs.scalingX??1),j=f.getAttr("mainHeight")*(f.attrs.scalingY??1);g.points([u.x()+R/2+S*(R/2+T),u.y()+O/2+C*(O/2+T),f.x()+M/2-S*(M/2+T),f.y()+j/2-C*(j/2+T)])})}const lk=(t,e,n,a)=>{const i=e.x()-t.x(),l=e.y()-t.y(),u=Math.sqrt(i*i+l*l),f=i/u,g=l/u,p=Math.min(30,u/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),S=a.width()*(e.attrs.scalingX??1),C=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+f*(v/2+p),t.y()+_/2+g*(_/2+p),e.x()+S/2-f*(S/2+p),e.y()+C/2-g*(C/2+p)]},ok=({connector:t,mainLayer:e})=>{const[n,a]=N.useState([]);return N.useEffect(()=>{const i=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),u=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),f=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!i||!l||!u||!f)return;const g=lk(i,l,u,f);a(g)},[e,t]),E.jsx(rk,{id:t.id,points:n,fill:"black",stroke:"black"})},uk=({connectors:t,mainLayer:e})=>E.jsx(E.Fragment,{children:t.map(n=>E.jsx(ok,{connector:n,mainLayer:e},n.id))});function x3(t,e,n){if(e==="eraser")return;const a=t.target;a.cache(),a.moveTo(n.current)}function w3(t,e,n,a){if(a==="eraser")return;const i=t.target.getStage();if(!i||!e.current)return;const l=i?.getPointerPosition();if(!l)return;const u=e.current.getIntersection(l);!n.current&&u?(n.current=u,u.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&u&&n.current!==u?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),u.fire("dragenter",{evt:t.evt},!0),n.current=u):n.current&&!u&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function yp(t,e,n,a,i,l,u,f){if(n==="eraser")return;t.target.clearCache();const g=t.target,v=g.getStage()?.getPointerPosition(),_=e.current?.getIntersection(v);_&&!_.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0);const S=l.find(R=>"group-"+R.id===g.id());g.moveTo(e.current),a.current=null;const C=t.target.id();i(R=>{const O=[...R],M=O.findIndex(j=>"group-"+j.id===C);if(M!==-1){if(O[M].shape!=="line")O[M]={...O[M],x:t.target.x(),y:t.target.y()};else if(O[M].shape==="line"){const j=t.target,z=j.x(),L=j.y();O[M]={...O[M],points:O[M].points.map((H,U)=>U%2===0?H+z:H+L)},j.x(0),j.y(0)}}return O});let T;S&&(S.shape==="line"?T={...S,points:S.points.map((R,O)=>O%2===0?R+t.target.x():R+t.target.y())}:T={...S,x:t.target.x(),y:t.target.y()}),S&&T&&u({action:"update",before:S,after:T,id:f||void 0})}const ck=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,onTransformEnd:p,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C,nodeMap:T})=>{const R=C(t,S),O=R.completed+R.not_completed;R.completed===O?t.completed=!0:t.completed=!1;const M=()=>O===0?{completeColor:"purple",completeText:"No Task Yet"}:R.completed===0?{completeColor:"#ff2056",completeText:"Not Started"}:R.completed===O?{completeColor:"#00bc7d",completeText:"Completed"}:{completeColor:"#ff6900",completeText:"In Progress"},{completeColor:j,completeText:z}=M(),[L,H]=N.useState(!1),U=v(t.color),Y=new Date(t.dueDate),se=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).formatToParts(Y),_e=se.find(K=>K.type==="weekday").value.slice(0,3),Ce=se.find(K=>K.type==="day").value,ve=se.find(K=>K.type==="month").value.slice(0,3),fe=se.find(K=>K.type==="year").value,ce=`${_e}, ${Ce} ${ve} ${fe}`,B=typeof window<"u"&&window.innerWidth<768||L,ae=N.useRef(null);return N.useEffect(()=>{ae.current&&T&&T.current&&T.current.set("group-"+t.id,ae.current)}),E.jsxs(Xr,{ref:ae,id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",mainWidth:t.width,mainHeight:t.height,scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:l!=="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:p,onMouseEnter:()=>{l==="hand"&&H(!0)},onMouseLeave:()=>{l==="hand"&&H(!1)},onTap:()=>{f(t.id)},onDblTap:()=>{l==="hand"&&g(t)},onClick:()=>{f(t.id)},onDblClick:()=>{l==="hand"&&g(t)},children:[E.jsxs(Xr,{visible:!t.isCollapsed,children:[E.jsx(ol,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:U,strokeWidth:2.5,shadowForStrokeEnabled:!1}),E.jsx(gs,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.6,listening:!1}),E.jsx(gs,{text:ce,x:130,y:170,width:150,fontFamily:"Inter",fontSize:14,align:"right",fill:"black",opacity:.8,listening:!1}),E.jsxs(Xr,{children:[E.jsx(ol,{fill:j,width:100,height:30,x:10,y:160,cornerRadius:10}),E.jsx(gs,{text:z,width:100,height:30,fontFamily:"Inter",align:"center",fill:"white",fontStyle:"bold",x:10,y:158,padding:10})]}),B&&E.jsxs(Xr,{x:t.width+5,y:t.height/2,onClick:K=>{K.cancelBubble=!0,_(t,null)},onTap:K=>{K.cancelBubble=!0,_(t,null)},children:[E.jsx(hx,{radius:16,fill:"white",stroke:t.color}),E.jsx(gs,{x:-8,y:-13.5,text:"+",fill:"black",fontSize:24,fontFamily:"Inter",align:"left"})]})]}),E.jsxs(Xr,{children:[E.jsx(ol,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),E.jsx(ol,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),E.jsx(gs,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),E.jsxs(Xr,{x:260,y:7,width:20,height:40,onDblClick:K=>{K.cancelBubble=!0},onDblTap:K=>{K.cancelBubble=!0},onClick:K=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),K.cancelBubble=!0,e(G=>G.map($=>$.shape==="rect"&&$.id===t.id?{...$,isCollapsed:!$.isCollapsed}:$)))},onTap:K=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),K.cancelBubble=!0,e(G=>G.map($=>$.shape==="rect"&&$.id===t.id?{...$,isCollapsed:!$.isCollapsed}:$)))},children:[E.jsx(ol,{width:30,height:30,listening:!0}),E.jsx(gs,{width:30,height:30,x:0,y:0,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"center"})]})]})]},"key-"+t.id)},dk=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,onTransformEnd:p,getBorder:v,onAddTodo:_,allShapes:S,getChildCounts:C,nodeMap:T})=>E.jsx(E.Fragment,{children:t.map(R=>E.jsx(ck,{rect:R,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:p,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C,nodeMap:T},"key-"+R.id))});function fk(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,i=a?.getPointerPosition();if(!i||!a)return;const l=a.scaleX(),u={x:(i.x-a.x())/l,y:(i.y-a.y())/l},f=e.evt.deltaY>0?-1:1,g=1.05,p=f>0?Math.min(l*g,5):Math.max(l/g,.1);a.scale({x:p,y:p});const v={x:i.x-u.x*p,y:i.y-u.y*p};a.position(v),n(Math.round(p*100))}function hk(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('./cursor.svg') 16 16, auto";case"draw":return"crosshair";default:return"default"}}const gk=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,onTransformEnd:u,handleEraserClick:f,onTodoClick:g,shapes:p,nodeMap:v})=>{const[_,S]=N.useState(!1),C="#FDF6B2",T=t.color,R=new Date(t.dueDate),O=R.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),M=new Date,j=R.getTime()-M.getTime(),z=Math.ceil(j/(1e3*60*60*24)),L=Math.floor(z/7),H=Math.floor(z/30),U=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:H>=1?{statusColor:"#2b7fff",statusText:`${H} Month${H>1?"s":""} left`,statusTextColor:"white"}:L>=1?{statusColor:"#2b7fff",statusText:`${L} Week${L>1?"s":""} left`,statusTextColor:"white"}:z>=2?{statusColor:"#2b7fff",statusText:`${z} Day${z>1?"s":""} left`,statusTextColor:"white"}:z===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:z===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:Y,statusText:Q,statusTextColor:se}=U(),Ce=typeof window<"u"&&window.innerWidth<768||_||t.completed,ve=ce=>{e(be=>be.map(B=>B.id===ce&&B.shape==="todo"?{...B,completed:!B.completed}:B))},fe=N.useRef(null);return N.useEffect(()=>{fe.current&&v&&v.current&&v.current.set("group-"+t.id,fe.current)}),E.jsx(Xr,{id:"group-"+t.id,ref:fe,shapeId:t.id,x:t.x,y:t.y,mainWidth:t.width,mainHeight:t.height,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&S(!0)},onMouseLeave:()=>{l==="hand"&&S(!1)},draggable:l!="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:u,onClick:()=>{f(t.id)},onTap:()=>{f(t.id)},onDblClick:()=>{if(l==="hand"){if(!p)return;let ce=null;if(t.parents){const be=p.find(B=>"group-"+B.id===t.parents);be&&be?.shape==="rect"&&(ce=be)}g(ce,t)}},onDblTap:()=>{if(l==="hand"){if(!p)return;let ce=null;if(t.parents){const be=p.find(B=>"group-"+B.id===t.parents);be&&be?.shape==="rect"&&(ce=be)}g(ce,t)}},children:E.jsxs(Xr,{visible:!t.isCollapsed,children:[E.jsx(ol,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:T,strokeWidth:1,shadowForStrokeEnabled:!1}),E.jsxs(Xr,{children:[E.jsx(ol,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),E.jsxs(Xr,{children:[E.jsx(gs,{x:60,y:8,text:t.title,ellipsis:!0,width:t.width-70,height:30,fontSize:20,fontStyle:"bold"}),E.jsx(gs,{x:60,y:32,text:O}),E.jsxs(Xr,{children:[E.jsx(gs,{x:60,y:54,text:"Assigned: "+t.assignee}),E.jsxs(Xr,{x:280,y:50,children:[E.jsx(ol,{width:110,height:18,fill:Y,cornerRadius:[4,4,4,4]}),E.jsx(gs,{x:0,y:3,width:110,height:18,text:Q,fill:se,align:"center",fontStyle:"bold",fontSize:12})]})]}),Ce&&E.jsxs(Xr,{x:26,y:36,children:[E.jsx(hx,{radius:16,fill:C,stroke:T,strokeWidth:1.5,onClick:()=>ve(t.id),onTap:()=>ve(t.id)}),t.completed&&E.jsx(ak,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},mk=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:g,onTodoClick:p,shapes:v,nodeMap:_})=>E.jsx(E.Fragment,{children:t.map(S=>E.jsx(gk,{todo:S,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:g,onTodoClick:p,shapes:v,nodeMap:_},"key-"+S.id))});function mg(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function pk(t,e,n,a,i){if(e!=="draw")return;const l=mg(t);if(!l)return;i(!0);const u={shape:"line",behavior:"decor",color:"black",id:"line-"+Date.now().toString(),points:[l.x,l.y],stroke:n,strokeWidth:4,scaleX:1,scaleY:1};a(f=>[...f,u])}function vk(t,e,n,a){if(!a||e!=="draw")return;const i=mg(t);i&&n(l=>{if(l.length===0)return l;const u=l[l.length-1];if(u.shape!=="line")return l;const f={...u,points:[...u.points,i.x,i.y]};return[...l.slice(0,-1),f]})}function yk(t,e){t&&e(!1)}const bk=({lines:t,onDragEnd:e,onTransformEnd:n})=>E.jsx(E.Fragment,{children:t.map(a=>E.jsx(nk,{id:"group-"+a.id,scaleX:a.scaleX,scaleY:a.scaleY,points:a.points,stroke:a.stroke,strokeWidth:a.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:!0,onDragEnd:e,onTransformEnd:n},a.id))}),E3=20;function _k(t){t(!0)}function C3(t,e,n){for(let a=0;a<t.length-2;a+=2){const i=t[a],l=t[a+1],u=t[a+2],f=t[a+3];if(Sk(e.x,e.y,i,l,u,f)<n)return!0}return!1}function Sk(t,e,n,a,i,l){const u=i-n,f=l-a,g=u*u+f*f;if(g===0)return Math.hypot(t-n,e-a);let p=((t-n)*u+(e-a)*f)/g;p=Math.max(0,Math.min(1,p));const v=n+p*u,_=a+p*f;return Math.hypot(t-v,e-_)}function xk(t,e,n,a,i,l){if(e!=="eraser"||!a)return;const u=mg(t.current);if(!u)return;const f=i.filter(g=>g.shape==="line"&&C3(g.points,u,E3));f.length!==0&&(l({action:"delete",before:f[0],after:f[0]}),n(g=>g.filter(p=>p.shape==="line"?!C3(p.points,u,E3):!0)))}function wk(t){t(!1)}function Ek(t,e,n,a,i,l,u,f){return t<i&&n<i||t>u&&n>u||e<l&&a<l||e>f&&a>f?!1:!!(t>=i&&t<=u&&e>=l&&e<=f||n>=i&&n<=u&&a>=l&&a<=f||bp(t,e,n,a,i,l,u,l)||bp(t,e,n,a,u,l,u,f)||bp(t,e,n,a,u,f,i,f)||bp(t,e,n,a,i,f,i,l))}function bp(t,e,n,a,i,l,u,f){function g(p,v,_,S,C,T){return(T-v)*(_-p)>(S-v)*(C-p)}return g(t,e,i,l,u,f)!==g(n,a,i,l,u,f)&&g(t,e,n,a,i,l)!==g(t,e,n,a,u,f)}function Ck(t,e){const n=e.x,a=e.y,i=e.x+e.width,l=e.y+e.height;for(let u=0;u<t.length-2;u+=2){const f=t[u],g=t[u+1],p=t[u+2],v=t[u+3];if(Ek(f,g,p,v,n,a,i,l))return!0}return!1}const Tk=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const i=mg(e.current);i&&a({visible:!0,x1:i.x,y1:i.y,x2:i.x,y2:i.y})},Ak=(t,e,n,a)=>{if(!e.current)return;const i=mg(t.current);i&&a({...n,x2:i.x,y2:i.y})},Rk=(t,e,n,a,i,l,u)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const f={x:Math.min(e.x1,e.x2)+u.x,y:Math.min(e.y1,e.y2)+u.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},g=l.current?.getStage(),p=i.filter(v=>{if(v.shape==="line"){const T=v.points.map((R,O)=>O%2===0?R+u.x:R+u.y);return Ck(T,f)}if(v.shape==="text"){const C=g?.findOne(`#group-${v.id}`);if(!C)return;const T=C.getClientRect({relativeTo:g});return T.x+=u.x,T.y+=u.y,T?$0.Util.haveIntersection(f,T):void 0}if(!l.current)return;const _=l.current.findOne(`#group-${v.id}`);if(!_)return;const S=_.getClientRect({relativeTo:g});if(S.x+=u.x,S.y+=u.y,!!S)return $0.Util.haveIntersection(f,S)});a(p.map(v=>v.id))},Ok=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const i=t.target.findAncestor(".shape",!0);if(!i||!i.hasName("shape"))return;const l=i.attrs.shapeId;if(!l)return;const u=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,f=n.includes(l);!u&&!f?a([l]):u&&f?a(n.filter(g=>g!==l)):u&&!f&&a([...n,l])},_p=(t,e,n,a,i)=>{const l=t.target.id(),u=t.target,f=n.find(p=>"group-"+p.id===l);e(p=>{const v=[...p],_=v.findIndex(S=>"group-"+S.id===l);if(_!==-1&&v[_].behavior==="node")v[_]={...v[_],x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};else if(_!==-1&&v[_].shape==="text"){const S=u;v[_]={...v[_],x:u.x(),y:u.y(),width:u.width(),fontSize:S.fontSize(),scaleX:1,scaleY:1},u.scaleX(1),u.scaleY(1)}else if(_!==-1&&v[_].shape==="line"){const S=u,C=S.scaleX(),T=S.scaleY(),R=S.x(),O=S.y(),M=S.points().map((j,z)=>z%2===0?j*C+R:j*T+O);v[_]={...v[_],points:M},S.scaleX(1),S.scaleY(1),S.x(0),S.y(0)}return v});const g=n.find(p=>"group-"+p.id===l);if(g){let p;if(g.shape==="text"){const v=u;p={...g,x:v.x(),y:v.y(),scaleX:v.scaleX(),scaleY:v.scaleY(),width:v.width(),fontSize:v.fontSize()}}else g.shape==="line"?p={...g,scaleX:u.scaleX(),scaleY:u.scaleY()}:p={...g,x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};f&&p&&a({action:"update",before:f,after:p,id:i||void 0})}},Nk=({initialText:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setIsEditingText:i,isEditingText:l,tool:u,setEditingRef:f,editingRef:g})=>{const p=N.useRef(null),v=N.useCallback(()=>{u==="hand"&&(i(!0),f(p.current))},[i,u,f]),_=N.useCallback(()=>{const S=p.current;if(!S)return;const C=S.getStage()?.findOne("#transformer");if(!C)return;const T=C?.getActiveAnchor();if(T==="middle-right"||T==="middle-left"){const R=S.width()*S.scaleX();S.setAttrs({width:R,scaleX:1});return}if(T){const R=S.fontSize()*S.scaleY(),O=S.width()*S.scaleX();S.setAttrs({width:O,fontSize:R,scaleX:1,scaleY:1});return}},[]);return E.jsx(E.Fragment,{children:E.jsx(gs,{ref:p,id:"group-"+t.id,shapeId:t.id,name:"shape",x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,fontSize:t.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"left",lineHeight:1,text:t.text,draggable:!0,onClick:()=>e(t.id),onDragEnd:n,onTransform:_,onTransformEnd:a,onDblClick:v,onDblTap:v,visible:!(l&&g&&g?.id()==="group-"+t.id)},"key-"+t.id)})};var Mk=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Dk=t=>{const e=window.getComputedStyle(t).position;return!(e==="absolute"||e==="relative")};function jk(t=()=>{}){const e=Qe.useRef(t);return e.current=t,Qe.useCallback((...n)=>e.current.apply(null,n),[])}const zk=({children:t,groupProps:e,divProps:n,transform:a,transformFunc:i,parentNodeFunc:l})=>{const u=fx(),f=Qe.useRef(null),[g]=Qe.useState(()=>document.createElement("div")),p=Qe.useMemo(()=>D8.createRoot(g),[g]),v=a??!0,_=jk(()=>{if(v&&f.current){let O=f.current.getAbsoluteTransform().decompose();i&&(O=i(O)),g.style.position="absolute",g.style.zIndex="10",g.style.top="0px",g.style.left="0px",g.style.transform=`translate(${O.x}px, ${O.y}px) rotate(${O.rotation}deg) scaleX(${O.scaleX}) scaleY(${O.scaleY})`,g.style.transformOrigin="top left"}else g.style.position="",g.style.zIndex="",g.style.top="",g.style.left="",g.style.transform="",g.style.transformOrigin="";const S=n||{},{style:C}=S,T=Mk(S,["style"]);Object.assign(g.style,C),Object.assign(g,T)});return Qe.useLayoutEffect(()=>{var S;const C=f.current;if(!C)return;const T=l?l({stage:C.getStage()}):(S=C.getStage())===null||S===void 0?void 0:S.container();if(T)return T.appendChild(g),v&&Dk(T)&&(T.style.position="relative"),C.on("absoluteTransformChange",_),_(),()=>{var R;C.off("absoluteTransformChange",_),(R=g.parentNode)===null||R===void 0||R.removeChild(g)}},[v,l]),Qe.useLayoutEffect(()=>{_()},[n,i]),Qe.useLayoutEffect(()=>{queueMicrotask(()=>{ug.flushSync(()=>{p.render(Qe.createElement(u,null,t))})})}),Qe.useLayoutEffect(()=>()=>{setTimeout(()=>{p.unmount()})},[]),Qe.createElement(Xr,Object.assign({ref:f},e))};var oy,T3;function kk(){if(T3)return oy;T3=1;var t=rg();return oy=function(n,a,i){const l=t.useRef("loading"),u=t.useRef(),[f,g]=t.useState(0),p=t.useRef(),v=t.useRef(),_=t.useRef();return(p.current!==n||v.current!==a||_.current!==i)&&(l.current="loading",u.current=void 0,p.current=n,v.current=a,_.current=i),t.useLayoutEffect(function(){if(!n)return;var S=document.createElement("img");function C(){S.decode().catch(()=>{}).finally(()=>{l.current="loaded",u.current=S,g(Math.random())})}function T(){l.current="failed",u.current=void 0,g(Math.random())}return S.addEventListener("load",C),S.addEventListener("error",T),a&&(S.crossOrigin=a),i&&(S.referrerPolicy=i),S.src=n,function(){S.removeEventListener("load",C),S.removeEventListener("error",T)}},[n,a,i]),[u.current,l.current]},oy}kk();const Uk=({textNode:t,onClose:e,onChange:n})=>{const a=N.useRef(null);return N.useEffect(()=>{if(!a.current)return;const i=a.current,l=t.position(),u={x:l.x,y:l.y};i.style.position="absolute",i.value=t.text(),i.style.top=`${u.y}px`,i.style.left=`${u.x}px`,i.style.width=`${t.width()-t.padding()*2}px`,i.style.height=`${t.height()}px`,i.style.fontSize=`${t.fontSize()}px`,i.style.border="3px solid #ccc",i.style.borderRadius="4px",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="none",i.style.outline="none",i.style.resize="none",i.style.lineHeight=String(t.lineHeight()),i.style.fontFamily=t.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=t.align(),i.style.boxSizing="border-box";const f=t.rotation();let g="";f&&(g+=`rotateZ(${f}deg)`),i.style.transform=g,i.focus();const p=S=>{S.target!==i&&(n(i.value),e())},v=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),n(i.value),e()),S.key==="Escape"&&e()},_=()=>{i.style.width=`${t.width()-t.padding()*2}px`,i.style.height="auto",i.style.height=`${i.scrollHeight+t.fontSize()}px`};return i.addEventListener("keydown",v),i.addEventListener("input",_),setTimeout(()=>{window.addEventListener("click",p)}),()=>{i.removeEventListener("keydown",v),i.removeEventListener("input",_),window.removeEventListener("click",p)}},[t,n,e]),E.jsx("textarea",{ref:a,style:{minHeight:"1em",position:"absolute"}})},Lk=t=>E.jsx(zk,{children:E.jsx(Uk,{...t})}),gx=N.createContext(null);function X2(){const t=N.useContext(gx);if(!t)throw new Error("useUndo must be used inside a <UndoRedoProvider>");return t}const Pk=({texts:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f})=>{const[g,p]=N.useState(null),{pushUndo:v}=X2(),_=N.useCallback(S=>{if(g){if(S===""){i(C=>{const T=C.find(R=>"group-"+R.id===g.id());return T&&v({action:"delete",before:T,after:T}),C.filter(R=>"group-"+R.id!==g.id())});return}i(C=>C.map(T=>"group-"+T.id===g.id()?(T.shape==="text"&&v({action:"update",before:T,after:{...T,text:S}}),{...T,text:S}):T))}},[i,g,v]);return E.jsxs(E.Fragment,{children:[t.map(S=>E.jsx(Nk,{initialText:S,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,editingRef:g,setEditingRef:p},S.id)),u&&g&&E.jsx(Lk,{textNode:g,onChange:_,onClose:()=>{l(!1)}})]})},mx=(t,e)=>{if(!t.children)return{completed:0,not_completed:0};let n=0,a=0;return t.children.forEach(i=>{const l=e.find(u=>"group-"+u.id===i);if(l&&l.behavior==="node"&&(l.shape==="todo"&&(l.completed?n++:a++),l.shape==="rect")){const u=mx(l,e);n+=u.completed,a+=u.not_completed}}),{completed:n,not_completed:a}},Bk="1234567890",Hk=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:i,zoom:l,connectors:u=[],setConnectors:f,addConnector:g,strokeColor:p="#000",onShapeClick:v,onAddTodo:_,stageCoor:S,setStageCoor:C,isFormOpen:T})=>{$0.pixelRatio=window.devicePixelRatio||1;const R=N.useRef(null),O=N.useRef(null),M=N.useRef(null),j=N.useRef(null),z=N.useRef(null),[L,H]=N.useState(!1),[U,Y]=N.useState([]),[Q,se]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),_e=N.useRef(!1),Ce=N.useRef(null),ve=N.useRef(null),{pushUndo:fe,undo:ce,redo:be}=X2(),B=N.useRef(null),[ae,K]=N.useState(!1),he=N.useRef(new Map);N.useEffect(()=>{R.current&&t.forEach(ue=>{if(ue.behavior!=="node")return;const xe=R.current?.findOne(`#group-${ue.id}`),Ie=R.current?.findOne(`#${ue.id}`),dt=t.find(rt=>rt.id===Ie.id());!xe||!Ie||!dt||(xe.off("drop"),xe.off("dragenter"),xe.off("dragleave"),xe.on("dragenter",rt=>{const xt=rt.source;if(!xt||xe===xt||Ie.fill()==="green"||dt.shape==="todo"||ue.shape!=="todo"&&ue.children.includes(xt.id())||ue.parents.includes(xt.id()))return;const sn=t.find(ln=>"group-"+ln.id===xt.id());sn?.behavior!=="node"||sn?.parents!==""||Ie.fill("#b9f8cf")}),xe.on("dragmove",rt=>{const xt=rt.source;!xt||xe===xt||Ie.fill()==="#b9f8cf"||Ie.fill("#b9f8cf")}),xe.on("dragleave",rt=>{const xt=rt.source;xe!==xt&&Ie.fill("white")}),xe.on("drop",rt=>{const xt=rt.source;if(ue.behavior!=="node"||ue.shape!=="todo"&&ue.children.includes(xt.id())||!xt||ue.parents.includes(xt.id()))return;const sn=t.find(ln=>"group-"+ln.id===xt.id());sn?.behavior!=="node"||sn?.parents!==""||dt.shape==="todo"||(Ie.fill("white"),e(ln=>ln.map(gn=>gn.behavior==="node"&&"group-"+gn.id===rt.source.id()?{...gn,parents:xe.id()}:gn.behavior==="node"&&gn.shape!="todo"&&"group-"+gn.id===xe.id()?{...gn,children:[...gn.children,rt.source.id()]}:gn)),g(rt.source,xe))}))})},[g,e,t]),N.useEffect(()=>{function ue(xe){if(!(T||ae)){if(xe.ctrlKey&&!xe.shiftKey&&xe.key==="z"){ce(e,f);return}if(xe.ctrlKey&&xe.shiftKey&&xe.key.toLowerCase()==="z"){be(e,f);return}switch(xe.key){case"1":a("hand");break;case"z":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"x":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"c":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"v":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break;case"q":v(null);break;case"w":_(null,null);break}}}return window.addEventListener("keydown",ue),()=>{window.removeEventListener("keydown",ue)}},[ae,T,_,v,be,f,e,a,n,ce]),N.useEffect(()=>{if(U.length&&Ce.current){const ue=U.map(xe=>z.current?.findOne(`#group-${xe}`)).filter(Boolean);Ce.current.nodes(ue),B.current=crypto.randomUUID(),requestAnimationFrame(()=>{const xe=ve.current;if(!xe||!z.current||!Ce.current)return;const Ie=Ce.current.width()/z.current.scaleX(),dt=Ce.current.height()/z.current.scaleY(),rt=(Ce.current.x()-S.x)/z.current.scaleX(),xt=(Ce.current.y()-S.y)/z.current.scaleY();xe.show(),xe.x(rt),xe.y(xt),xe.width(Ie),xe.height(dt),xe.scaleX(1),xe.scaleY(1);const sn=Ce.current.nodes();Ce.current.nodes([...sn,xe])})}else if(Ce.current){Ce.current.nodes([]);const ue=ve.current;B.current=null,ue?.hide()}if(n!=="select"){Ce.current?.nodes([]);const ue=ve.current;B.current=null,ue?.hide()}},[U,n,S,t]),N.useEffect(()=>{n!=="select"&&Y([])},[n]),N.useEffect(()=>{ly(u,R,M,j,he)},[t,u,he]),N.useEffect(()=>{const ue=()=>{const xe=z.current;xe&&(xe.width(window.innerWidth),xe.height(window.innerHeight),xe.draw())};return window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]);const G=ue=>{if(ue.behavior!=="node")return;const xe=t.find(dt=>"group-"+dt.id===ue.parents),Ie=R.current?.findOne(`#${ue.parents}`);return!Ie||!xe?!1:Ie.getChildren()[0].visible()},$=(ue,xe)=>{ue.behavior!=="node"||ue.shape==="todo"||ue.children.length!==0&&ue.children.forEach(Ie=>{const dt=t.find(ln=>"group-"+ln.id===Ie);if(!dt)return;const rt=R.current?.findOne(`#${Ie}`);if(!rt)return;rt.visible(xe);const xt=u.find(ln=>{if(ln.from===Ie)return ln});if(!xt)return;const sn=j.current?.findOne(`#${xt.id}`);sn&&(sn.visible(xe),G(dt)&&$(dt,xe))})},Ee=ue=>{const xe=t.find(Ie=>Ie.id===ue);xe?.behavior!=="node"||xe?.shape==="todo"||xe?.children.forEach(Ie=>{const dt=t.find(rt=>"group-"+rt.id===Ie);!dt||dt.behavior!=="node"||(dt.parents="")})},Te=ue=>{e(xe=>xe.map(Ie=>Ie.shape==="rect"&&Ie.children.includes(ue)?{...Ie,children:Ie.children.filter(dt=>dt!=="group-"+ue)}:Ie))},Ve=ue=>{if(n==="eraser"){const xe=crypto.randomUUID();u.forEach(dt=>{if(dt.to==="group-"+ue||dt.from==="group-"+ue){const rt={...dt};fe({id:xe,before:rt,after:rt,action:"delete"}),f(xt=>xt.filter(sn=>sn.id!==dt.id))}});const Ie=t.find(dt=>dt.id===ue);Ie&&fe({id:xe,before:{...Ie},after:{...Ie},action:"delete"}),Ee(ue),Te(ue),e(dt=>dt.filter(rt=>rt.id!==ue))}},ot=ue=>{let xe;return ue==="#ff2056"?xe="#f6339a":ue==="#2b7fff"?xe="#00a6f4":ue==="#00bc7d"?xe="#00c951":ue==="#ad46ff"?xe="#8e51ff":ue==="#ff6900"&&(xe="#fd9a00"),xe};return E.jsx(E.Fragment,{children:E.jsxs(sk,{width:window.innerWidth,height:window.innerHeight,x:S.x,y:S.y,ref:z,draggable:n==="hand",onWheel:ue=>{fk(z,ue,i),z.current&&C({x:z.current.x(),y:z.current.y()})},onPointerDown:ue=>{n==="draw"&&pk(z.current,n,p,e,H),n==="eraser"&&_k(H),n==="select"&&Tk(ue,z,_e,se)},onPointerMove:()=>{n==="draw"&&vk(z.current,n,e,L),n==="eraser"&&xk(z,n,e,L,t,fe),n==="select"&&Ak(z,_e,Q,se)},onPointerUp:()=>{n==="draw"&&(yk(L,H),fe({action:"add",before:t[t.length-1],after:t[t.length-1]})),n==="eraser"&&wk(H),n==="select"&&Rk(_e,Q,se,Y,t,R,S)},onClick:ue=>{n==="select"&&Ok(ue,Q,U,Y)},scaleX:l/100,scaleY:l/100,style:{cursor:hk(n)},onDragEnd:()=>{z.current&&C({x:z.current.x(),y:z.current.y()})},children:[E.jsxs(E0,{children:[E.jsx(bk,{lines:t.filter(ue=>ue.shape==="line"),onDragEnd:ue=>{yp(ue,R,n,O,e,t,fe,B.current)},onTransformEnd:ue=>{_p(ue,e,t,fe,B.current)}}),E.jsx(Pk,{texts:t.filter(ue=>ue.shape==="text"),onEraserClick:Ve,onDragEnd:ue=>{yp(ue,R,n,O,e,t,fe,B.current)},onTransformEnd:ue=>{_p(ue,e,t,fe,B.current)},setShapes:e,isEditingText:ae,setIsEditingText:K,tool:n})]}),E.jsx(E0,{ref:j,children:E.jsx(uk,{connectors:u,mainLayer:R})}),E.jsxs(E0,{ref:R,children:[E.jsx(ol,{id:Bk,ref:ve,fill:"transparent",draggable:!0,temporary:!0}),E.jsx(dk,{shapes:t.filter(ue=>ue.shape==="rect"),allShapes:t,setShapes:e,onDragStart:ue=>x3(ue,n,M),onDragMove:ue=>{U.length<=1&&w3(ue,R,O,n),ly(u,R,M,j,he)},onDragEnd:ue=>{yp(ue,R,n,O,e,t,fe,B.current)},onTransformEnd:ue=>{_p(ue,e,t,fe,B.current)},tool:n,collapseChild:$,handleEraserClick:Ve,onShapeClick:v,getBorder:ot,onAddTodo:_,getChildCounts:mx,nodeMap:he}),E.jsx(mk,{todos:t.filter(ue=>ue.shape==="todo"),setShapes:e,tool:n,onDragStart:ue=>x3(ue,n,M),onDragMove:ue=>{U.length<=1&&w3(ue,R,O,n),ly(u,R,M,j,he)},onDragEnd:ue=>{yp(ue,R,n,O,e,t,fe,B.current)},onTransformEnd:ue=>{_p(ue,e,t,fe,B.current)},handleEraserClick:Ve,getBorder:ot,onTodoClick:_,shapes:t,nodeMap:he})]}),E.jsx(E0,{ref:M}),E.jsxs(E0,{children:[E.jsx(ik,{ref:Ce,id:"transformer",enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],boundBoxFunc:(ue,xe)=>xe.width<5||xe.height<5?ue:xe}),Q.visible&&E.jsx(ol,{x:Math.min(Q.x1,Q.x2),y:Math.min(Q.y1,Q.y2),width:Math.abs(Q.x2-Q.x1),height:Math.abs(Q.y2-Q.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function Gk({title:t,onClick:e}){return E.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[E.jsx("span",{children:E.jsx(_T,{})}),E.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function qk({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",i=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return E.jsx("button",{type:"button",className:`${a} ${i}`,onClick:e,children:t})}const Vk=qf({title:mr(),description:mr(),color:mr(),date:mr().min(1,"Date cannot be empty!"),time:mr()});function Yk({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:u,handleSubmit:f,setError:g,formState:{errors:p,isSubmitting:v}}=Uf({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:Lf(Vk)}),[_,S]=N.useState(a?.color??"#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,T):t(T),n()}catch(R){g("root",{message:"This Task already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&n()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[n]),E.jsxs("div",{children:[E.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-50"}),E.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90dvw] sm:w-[80dvw] md:w-[80dvw]
    max-h-[70dvh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-col justify-between items-start
    rounded-lg shadow-2xl z-50 overflow-auto
  `,children:[E.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),E.jsxs("form",{onSubmit:f(C),className:"w-full h-full",children:[E.jsxs("div",{className:"my-2 flex flex-row items-end justify-between h-15 w-full",children:[E.jsx("input",{...u("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-xl sm:text-3xl h-full w-full p-2 font-bold rounded-lg"}),p.title&&E.jsx("div",{className:"text-red-500",children:p.title?.message}),E.jsx("button",{onClick:n,className:"hidden md:block hover:cursor-pointer p-2 h-full",children:"X"})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),E.jsxs("select",{...u("color"),value:_,onChange:T=>S(T.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),E.jsx("input",{...u("date"),type:"date",className:"relative w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),p.date&&E.jsx("div",{className:"text-red-500 ml-28 w-full",children:p.date?.message}),E.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),E.jsxs("div",{className:"mb-3  flex flex-col gap-2 w-full items-start",children:[E.jsxs("div",{className:"inline-flex gap-2",children:[E.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:E.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),E.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),E.jsx("textarea",{...u("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs w-full items-start h-[50dvh] md:h-[50dvh] resize-none"}),p.description&&E.jsx("div",{className:"text-red-500",children:p.description?.message})]}),E.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[E.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),E.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),p.root&&E.jsx("div",{className:"text-red-500",children:p.root?.message})]})]})]})}const Zk=qf({title:mr(),assignee:mr(),date:mr(),completed:oN(),color:mr()});function Ik({onAddTodo:t,onUpdateTodo:e,parent:n,onCloseForm:a,initialTodo:i}){const l=i&&i.behavior==="node"&&i.shape==="todo";let u;l?u=new Date(i.dueDate).toISOString().split("T")[0]:u=new Date().toISOString().split("T")[0];const{register:f,handleSubmit:g,setError:p,formState:{isSubmitting:v}}=Uf({defaultValues:l?{title:i.title,assignee:i.assignee,date:u,completed:i.completed,color:i.color}:{title:"My Newest Todo",assignee:"Guest",date:u,completed:!1,color:n?.color},resolver:Lf(Zk)}),[_,S]=N.useState(l?i.color:n?.color??"#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),l?e(i,T):(console.log("init: "+i),t(T,n)),a()}catch(R){p("root",{message:"This Todo already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&a()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[a]),E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-40"}),E.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90%] max-w-sm sm:max-w-md
    h-fit max-h-[90vh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-row justify-between items-start
    rounded-lg shadow-2xl z-50
  `,children:[E.jsx("div",{className:"absolute top-0 bottom-0 left-0 rounded-l-lg w-2 sm:w-3",style:{backgroundColor:_}}),E.jsxs("form",{onSubmit:g(C),className:"w-full h-full",children:[E.jsx("div",{className:"mb-1 flex w-full h-fit",children:E.jsx("input",{...f("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),E.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),E.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-red-200",style:{backgroundColor:n?n.color:"#d1d5dc",color:n?"#ffffff":"#000000"},children:E.jsx("span",{className:"text-sm text-start  w-full ",children:n?n.title:"Not Assigned"})})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),E.jsx("input",{...f("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),E.jsxs("select",{...f("assignee"),name:"assignee",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"Guest",children:"Guest"}),E.jsx("option",{value:"User1",children:"User1"}),E.jsx("option",{value:"User2",children:"User2"}),E.jsx("option",{value:"User3",children:"User3"}),E.jsx("option",{value:"User4",children:"User4"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),E.jsxs("select",{...f("color"),value:_,onChange:T=>S(T.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),E.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:E.jsx("input",{...f("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),E.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[E.jsx("button",{className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:a,children:E.jsx("span",{className:"text-sm",children:"Cancel"})}),E.jsx("button",{type:"submit",disabled:v,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:v?E.jsx("span",{className:"text-sm",children:"Loading..."}):E.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}const px=N.createContext(null);function Xk({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{cn.auth.getSession().then(({data:{session:i}})=>{n(i)});const{data:{subscription:a}}=cn.auth.onAuthStateChange((i,l)=>{n(l)});return()=>a.unsubscribe()},[]),E.jsx(px.Provider,{value:{session:e,setSession:n},children:t})}function Kk(){const t=N.useContext(px);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}function Fk(t){return Gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function A3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jv(...t){return e=>{let n=!1;const a=t.map(i=>{const l=A3(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():A3(t[i],null)}}}}function xa(...t){return N.useCallback(jv(...t),t)}function W0(t){const e=Qk(t),n=N.forwardRef((a,i)=>{const{children:l,...u}=a,f=N.Children.toArray(l),g=f.find(Wk);if(g){const p=g.props.children,v=f.map(_=>_===g?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:_);return E.jsx(e,{...u,ref:i,children:N.isValidElement(p)?N.cloneElement(p,void 0,v):null})}return E.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function Qk(t){const e=N.forwardRef((n,a)=>{const{children:i,...l}=n;if(N.isValidElement(i)){const u=eU(i),f=Jk(l,i.props);return i.type!==N.Fragment&&(f.ref=a?jv(a,u):u),N.cloneElement(i,f)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vx=Symbol("radix.slottable");function $k(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=vx,e}function Wk(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vx}function Jk(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...f)=>{const g=l(...f);return i(...f),g}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function eU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nn=tU.reduce((t,e)=>{const n=W0(`Primitive.${e}`),a=N.forwardRef((i,l)=>{const{asChild:u,...f}=i,g=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(g,{...f,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function yx(t,e){t&&ug.flushSync(()=>t.dispatchEvent(e))}function nU(t,e){const n=N.createContext(e),a=l=>{const{children:u,...f}=l,g=N.useMemo(()=>f,Object.values(f));return E.jsx(n.Provider,{value:g,children:u})};a.displayName=t+"Provider";function i(l){const u=N.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function co(t,e=[]){let n=[];function a(l,u){const f=N.createContext(u),g=n.length;n=[...n,u];const p=_=>{const{scope:S,children:C,...T}=_,R=S?.[t]?.[g]||f,O=N.useMemo(()=>T,Object.values(T));return E.jsx(R.Provider,{value:O,children:C})};p.displayName=l+"Provider";function v(_,S){const C=S?.[t]?.[g]||f,T=N.useContext(C);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,v]}const i=()=>{const l=n.map(u=>N.createContext(u));return function(f){const g=f?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...f,[t]:g}}),[f,g])}};return i.scopeName=t,[a,aU(i,...e)]}function aU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((f,{useScope:g,scopeName:p})=>{const _=g(l)[`__scope${p}`];return{...f,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function bx(t){const e=t+"CollectionProvider",[n,a]=co(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:O,children:M}=R,j=Qe.useRef(null),z=Qe.useRef(new Map).current;return E.jsx(i,{scope:O,itemMap:z,collectionRef:j,children:M})};u.displayName=e;const f=t+"CollectionSlot",g=W0(f),p=Qe.forwardRef((R,O)=>{const{scope:M,children:j}=R,z=l(f,M),L=xa(O,z.collectionRef);return E.jsx(g,{ref:L,children:j})});p.displayName=f;const v=t+"CollectionItemSlot",_="data-radix-collection-item",S=W0(v),C=Qe.forwardRef((R,O)=>{const{scope:M,children:j,...z}=R,L=Qe.useRef(null),H=xa(O,L),U=l(v,M);return Qe.useEffect(()=>(U.itemMap.set(L,{ref:L,...z}),()=>void U.itemMap.delete(L))),E.jsx(S,{[_]:"",ref:H,children:j})});C.displayName=v;function T(R){const O=l(t+"CollectionConsumer",R);return Qe.useCallback(()=>{const j=O.collectionRef.current;if(!j)return[];const z=Array.from(j.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((U,Y)=>z.indexOf(U.ref.current)-z.indexOf(Y.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:u,Slot:p,ItemSlot:C},T,a]}function Rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var hu=globalThis?.document?N.useLayoutEffect:()=>{},rU=i5[" useInsertionEffect ".trim().toString()]||hu;function Yf({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,l,u]=iU({defaultProp:e,onChange:n}),f=t!==void 0,g=f?t:i;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==f&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,a])}const p=N.useCallback(v=>{if(f){const _=sU(v)?v(t):v;_!==t&&u.current?.(_)}else l(v)},[f,t,l,u]);return[g,p]}function iU({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),i=N.useRef(n),l=N.useRef(e);return rU(()=>{l.current=e},[e]),N.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function sU(t){return typeof t=="function"}function lU(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var wu=t=>{const{present:e,children:n}=t,a=oU(e),i=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=xa(a.ref,uU(i));return typeof n=="function"||a.isPresent?N.cloneElement(i,{ref:l}):null};wu.displayName="Presence";function oU(t){const[e,n]=N.useState(),a=N.useRef(null),i=N.useRef(t),l=N.useRef("none"),u=t?"mounted":"unmounted",[f,g]=lU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const p=Sp(a.current);l.current=f==="mounted"?p:"none"},[f]),hu(()=>{const p=a.current,v=i.current;if(v!==t){const S=l.current,C=Sp(p);t?g("MOUNT"):C==="none"||p?.display==="none"?g("UNMOUNT"):g(v&&S!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,g]),hu(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=C=>{const R=Sp(a.current).includes(CSS.escape(C.animationName));if(C.target===e&&R&&(g("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},S=C=>{C.target===e&&(l.current=Sp(a.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:N.useCallback(p=>{a.current=p?getComputedStyle(p):null,n(p)},[])}}function Sp(t){return t?.animationName||"none"}function uU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cU=i5[" useId ".trim().toString()]||(()=>{}),dU=0;function Mf(t){const[e,n]=N.useState(cU());return hu(()=>{n(a=>a??String(dU++))},[t]),t||(e?`radix-${e}`:"")}var fU=N.createContext(void 0);function zv(t){const e=N.useContext(fU);return t||e||"ltr"}function no(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function hU(t,e=globalThis?.document){const n=no(t);N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var gU="DismissableLayer",i2="dismissableLayer.update",mU="dismissableLayer.pointerDownOutside",pU="dismissableLayer.focusOutside",R3,_x=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),K2=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...g}=t,p=N.useContext(_x),[v,_]=N.useState(null),S=v?.ownerDocument??globalThis?.document,[,C]=N.useState({}),T=xa(e,Y=>_(Y)),R=Array.from(p.layers),[O]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=R.indexOf(O),j=v?R.indexOf(v):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,L=j>=M,H=bU(Y=>{const Q=Y.target,se=[...p.branches].some(_e=>_e.contains(Q));!L||se||(i?.(Y),u?.(Y),Y.defaultPrevented||f?.())},S),U=_U(Y=>{const Q=Y.target;[...p.branches].some(_e=>_e.contains(Q))||(l?.(Y),u?.(Y),Y.defaultPrevented||f?.())},S);return hU(Y=>{j===p.layers.size-1&&(a?.(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},S),N.useEffect(()=>{if(v)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(R3=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),O3(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=R3)}},[v,S,n,p]),N.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),O3())},[v,p]),N.useEffect(()=>{const Y=()=>C({});return document.addEventListener(i2,Y),()=>document.removeEventListener(i2,Y)},[]),E.jsx(Nn.div,{...g,ref:T,style:{pointerEvents:z?L?"auto":"none":void 0,...t.style},onFocusCapture:Rt(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Rt(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Rt(t.onPointerDownCapture,H.onPointerDownCapture)})});K2.displayName=gU;var vU="DismissableLayerBranch",yU=N.forwardRef((t,e)=>{const n=N.useContext(_x),a=N.useRef(null),i=xa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),E.jsx(Nn.div,{...t,ref:i})});yU.displayName=vU;function bU(t,e=globalThis?.document){const n=no(t),a=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let g=function(){Sx(mU,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=g,e.addEventListener("click",i.current,{once:!0})):g()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function _U(t,e=globalThis?.document){const n=no(t),a=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!a.current&&Sx(pU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function O3(){const t=new CustomEvent(i2);document.dispatchEvent(t)}function Sx(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?yx(i,l):i.dispatchEvent(l)}var uy="focusScope.autoFocusOnMount",cy="focusScope.autoFocusOnUnmount",N3={bubbles:!1,cancelable:!0},SU="FocusScope",F2=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,g]=N.useState(null),p=no(i),v=no(l),_=N.useRef(null),S=xa(e,R=>g(R)),C=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(C.paused||!f)return;const L=z.target;f.contains(L)?_.current=L:su(_.current,{select:!0})},O=function(z){if(C.paused||!f)return;const L=z.relatedTarget;L!==null&&(f.contains(L)||su(_.current,{select:!0}))},M=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&su(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const j=new MutationObserver(M);return f&&j.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),j.disconnect()}}},[a,f,C.paused]),N.useEffect(()=>{if(f){D3.add(C);const R=document.activeElement;if(!f.contains(R)){const M=new CustomEvent(uy,N3);f.addEventListener(uy,p),f.dispatchEvent(M),M.defaultPrevented||(xU(AU(xx(f)),{select:!0}),document.activeElement===R&&su(f))}return()=>{f.removeEventListener(uy,p),setTimeout(()=>{const M=new CustomEvent(cy,N3);f.addEventListener(cy,v),f.dispatchEvent(M),M.defaultPrevented||su(R??document.body,{select:!0}),f.removeEventListener(cy,v),D3.remove(C)},0)}}},[f,p,v,C]);const T=N.useCallback(R=>{if(!n&&!a||C.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,M=document.activeElement;if(O&&M){const j=R.currentTarget,[z,L]=wU(j);z&&L?!R.shiftKey&&M===L?(R.preventDefault(),n&&su(z,{select:!0})):R.shiftKey&&M===z&&(R.preventDefault(),n&&su(L,{select:!0})):M===j&&R.preventDefault()}},[n,a,C.paused]);return E.jsx(Nn.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});F2.displayName=SU;function xU(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(su(a,{select:e}),document.activeElement!==n)return}function wU(t){const e=xx(t),n=M3(e,t),a=M3(e.reverse(),t);return[n,a]}function xx(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M3(t,e){for(const n of t)if(!EU(n,{upTo:e}))return n}function EU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function CU(t){return t instanceof HTMLInputElement&&"select"in t}function su(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&CU(t)&&e&&t.select()}}var D3=TU();function TU(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=j3(t,e),t.unshift(e)},remove(e){t=j3(t,e),t[0]?.resume()}}}function j3(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function AU(t){return t.filter(e=>e.tagName!=="A")}var RU="Portal",Q2=N.forwardRef((t,e)=>{const{container:n,...a}=t,[i,l]=N.useState(!1);hu(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?G9.createPortal(E.jsx(Nn.div,{...a,ref:e}),u):null});Q2.displayName=RU;var dy=0;function wx(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??z3()),document.body.insertAdjacentElement("beforeend",t[1]??z3()),dy++,()=>{dy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dy--}},[])}function z3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ul=function(){return ul=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ul.apply(this,arguments)};function Ex(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function OU(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Vp="right-scroll-bar-position",Yp="width-before-scroll-bar",NU="with-scroll-bars-hidden",MU="--removed-body-scroll-bar-size";function fy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function DU(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var jU=typeof window<"u"?N.useLayoutEffect:N.useEffect,k3=new WeakMap;function zU(t,e){var n=DU(null,function(a){return t.forEach(function(i){return fy(i,a)})});return jU(function(){var a=k3.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||fy(f,null)}),l.forEach(function(f){i.has(f)||fy(f,u)})}k3.set(n,t)},[t]),n}function kU(t){return t}function UU(t,e){e===void 0&&(e=kU);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var g=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(g)};p(),n={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),n}}}};return i}function LU(t){t===void 0&&(t={});var e=UU(null);return e.options=ul({async:!0,ssr:!1},t),e}var Cx=function(t){var e=t.sideCar,n=Ex(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,ul({},n))};Cx.isSideCarExport=!0;function PU(t,e){return t.useMedium(e),Cx}var Tx=LU(),hy=function(){},kv=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:hy,onWheelCapture:hy,onTouchMoveCapture:hy}),i=a[0],l=a[1],u=t.forwardProps,f=t.children,g=t.className,p=t.removeScrollBar,v=t.enabled,_=t.shards,S=t.sideCar,C=t.noRelative,T=t.noIsolation,R=t.inert,O=t.allowPinchZoom,M=t.as,j=M===void 0?"div":M,z=t.gapMode,L=Ex(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=S,U=zU([n,e]),Y=ul(ul({},L),i);return N.createElement(N.Fragment,null,v&&N.createElement(H,{sideCar:Tx,removeScrollBar:p,shards:_,noRelative:C,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),u?N.cloneElement(N.Children.only(f),ul(ul({},Y),{ref:U})):N.createElement(j,ul({},Y,{className:g,ref:U}),f))});kv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kv.classNames={fullWidth:Yp,zeroRight:Vp};var BU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BU();return e&&t.setAttribute("nonce",e),t}function GU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var VU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=HU())&&(GU(e,n),qU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},YU=function(){var t=VU();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Ax=function(){var t=YU(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},ZU={left:0,top:0,right:0,gap:0},gy=function(t){return parseInt(t||"",10)||0},IU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[gy(n),gy(a),gy(i)]},XU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ZU;var e=IU(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},KU=Ax(),Df="data-scroll-locked",FU=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(NU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(Df,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vp,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Yp,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Vp," .").concat(Vp,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Yp," .").concat(Yp,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Df,`] {
    `).concat(MU,": ").concat(f,`px;
  }
`)},U3=function(){var t=parseInt(document.body.getAttribute(Df)||"0",10);return isFinite(t)?t:0},QU=function(){N.useEffect(function(){return document.body.setAttribute(Df,(U3()+1).toString()),function(){var t=U3()-1;t<=0?document.body.removeAttribute(Df):document.body.setAttribute(Df,t.toString())}},[])},$U=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;QU();var l=N.useMemo(function(){return XU(i)},[i]);return N.createElement(KU,{styles:FU(l,!e,i,n?"":"!important")})},s2=!1;if(typeof window<"u")try{var xp=Object.defineProperty({},"passive",{get:function(){return s2=!0,!0}});window.addEventListener("test",xp,xp),window.removeEventListener("test",xp,xp)}catch{s2=!1}var yf=s2?{passive:!1}:!1,WU=function(t){return t.tagName==="TEXTAREA"},Rx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!WU(t)&&n[e]==="visible")},JU=function(t){return Rx(t,"overflowY")},eL=function(t){return Rx(t,"overflowX")},L3=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=Ox(t,a);if(i){var l=Nx(t,a),u=l[1],f=l[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},tL=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},nL=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},Ox=function(t,e){return t==="v"?JU(e):eL(e)},Nx=function(t,e){return t==="v"?tL(e):nL(e)},aL=function(t,e){return t==="h"&&e==="rtl"?-1:1},rL=function(t,e,n,a,i){var l=aL(t,window.getComputedStyle(e).direction),u=l*a,f=n.target,g=e.contains(f),p=!1,v=u>0,_=0,S=0;do{if(!f)break;var C=Nx(t,f),T=C[0],R=C[1],O=C[2],M=R-O-l*T;(T||M)&&Ox(t,f)&&(_+=M,S+=T);var j=f.parentNode;f=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!g&&f!==document.body||g&&(e.contains(f)||e===f));return(v&&Math.abs(_)<1||!v&&Math.abs(S)<1)&&(p=!0),p},wp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},P3=function(t){return[t.deltaX,t.deltaY]},B3=function(t){return t&&"current"in t?t.current:t},iL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lL=0,bf=[];function oL(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),i=N.useState(lL++)[0],l=N.useState(Ax)[0],u=N.useRef(t);N.useEffect(function(){u.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=OU([t.lockRef.current],(t.shards||[]).map(B3),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var M=wp(R),j=n.current,z="deltaX"in R?R.deltaX:j[0]-M[0],L="deltaY"in R?R.deltaY:j[1]-M[1],H,U=R.target,Y=Math.abs(z)>Math.abs(L)?"h":"v";if("touches"in R&&Y==="h"&&U.type==="range")return!1;var Q=L3(Y,U);if(!Q)return!0;if(Q?H=Y:(H=Y==="v"?"h":"v",Q=L3(Y,U)),!Q)return!1;if(!a.current&&"changedTouches"in R&&(z||L)&&(a.current=H),!H)return!0;var se=a.current||H;return rL(se,O,R,se==="h"?z:L)},[]),g=N.useCallback(function(R){var O=R;if(!(!bf.length||bf[bf.length-1]!==l)){var M="deltaY"in O?P3(O):wp(O),j=e.current.filter(function(H){return H.name===O.type&&(H.target===O.target||O.target===H.shadowParent)&&iL(H.delta,M)})[0];if(j&&j.should){O.cancelable&&O.preventDefault();return}if(!j){var z=(u.current.shards||[]).map(B3).filter(Boolean).filter(function(H){return H.contains(O.target)}),L=z.length>0?f(O,z[0]):!u.current.noIsolation;L&&O.cancelable&&O.preventDefault()}}},[]),p=N.useCallback(function(R,O,M,j){var z={name:R,delta:O,target:M,should:j,shadowParent:uL(M)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(L){return L!==z})},1)},[]),v=N.useCallback(function(R){n.current=wp(R),a.current=void 0},[]),_=N.useCallback(function(R){p(R.type,P3(R),R.target,f(R,t.lockRef.current))},[]),S=N.useCallback(function(R){p(R.type,wp(R),R.target,f(R,t.lockRef.current))},[]);N.useEffect(function(){return bf.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",g,yf),document.addEventListener("touchmove",g,yf),document.addEventListener("touchstart",v,yf),function(){bf=bf.filter(function(R){return R!==l}),document.removeEventListener("wheel",g,yf),document.removeEventListener("touchmove",g,yf),document.removeEventListener("touchstart",v,yf)}},[]);var C=t.removeScrollBar,T=t.inert;return N.createElement(N.Fragment,null,T?N.createElement(l,{styles:sL(i)}):null,C?N.createElement($U,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function uL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cL=PU(Tx,oL);var $2=N.forwardRef(function(t,e){return N.createElement(kv,ul({},t,{ref:e,sideCar:cL}))});$2.classNames=kv.classNames;var dL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_f=new WeakMap,Ep=new WeakMap,Cp={},my=0,Mx=function(t){return t&&(t.host||Mx(t.parentNode))},fL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=Mx(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hL=function(t,e,n,a){var i=fL(e,Array.isArray(t)?t:[t]);Cp[n]||(Cp[n]=new WeakMap);var l=Cp[n],u=[],f=new Set,g=new Set(i),p=function(_){!_||f.has(_)||(f.add(_),p(_.parentNode))};i.forEach(p);var v=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(S){if(f.has(S))v(S);else try{var C=S.getAttribute(a),T=C!==null&&C!=="false",R=(_f.get(S)||0)+1,O=(l.get(S)||0)+1;_f.set(S,R),l.set(S,O),u.push(S),R===1&&T&&Ep.set(S,!0),O===1&&S.setAttribute(n,"true"),T||S.setAttribute(a,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return v(e),f.clear(),my++,function(){u.forEach(function(_){var S=_f.get(_)-1,C=l.get(_)-1;_f.set(_,S),l.set(_,C),S||(Ep.has(_)||_.removeAttribute(a),Ep.delete(_)),C||_.removeAttribute(n)}),my--,my||(_f=new WeakMap,_f=new WeakMap,Ep=new WeakMap,Cp={})}},Dx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=dL(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),hL(a,i,n,"aria-hidden")):function(){return null}},Uv="Dialog",[jx,zx]=co(Uv),[gL,_s]=jx(Uv),kx=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=N.useRef(null),g=N.useRef(null),[p,v]=Yf({prop:a,defaultProp:i??!1,onChange:l,caller:Uv});return E.jsx(gL,{scope:e,triggerRef:f,contentRef:g,contentId:Mf(),titleId:Mf(),descriptionId:Mf(),open:p,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:u,children:n})};kx.displayName=Uv;var Ux="DialogTrigger",Lx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(Ux,n),l=xa(e,i.triggerRef);return E.jsx(Nn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eb(i.open),...a,ref:l,onClick:Rt(t.onClick,i.onOpenToggle)})});Lx.displayName=Ux;var W2="DialogPortal",[mL,Px]=jx(W2,{forceMount:void 0}),Bx=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=_s(W2,e);return E.jsx(mL,{scope:e,forceMount:n,children:N.Children.map(a,u=>E.jsx(wu,{present:n||l.open,children:E.jsx(Q2,{asChild:!0,container:i,children:u})}))})};Bx.displayName=W2;var uv="DialogOverlay",Hx=N.forwardRef((t,e)=>{const n=Px(uv,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=_s(uv,t.__scopeDialog);return l.modal?E.jsx(wu,{present:a||l.open,children:E.jsx(vL,{...i,ref:e})}):null});Hx.displayName=uv;var pL=W0("DialogOverlay.RemoveScroll"),vL=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(uv,n);return E.jsx($2,{as:pL,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(Nn.div,{"data-state":eb(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),jc="DialogContent",Gx=N.forwardRef((t,e)=>{const n=Px(jc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=_s(jc,t.__scopeDialog);return E.jsx(wu,{present:a||l.open,children:l.modal?E.jsx(yL,{...i,ref:e}):E.jsx(bL,{...i,ref:e})})});Gx.displayName=jc;var yL=N.forwardRef((t,e)=>{const n=_s(jc,t.__scopeDialog),a=N.useRef(null),i=xa(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return Dx(l)},[]),E.jsx(qx,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rt(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Rt(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Rt(t.onFocusOutside,l=>l.preventDefault())})}),bL=N.forwardRef((t,e)=>{const n=_s(jc,t.__scopeDialog),a=N.useRef(!1),i=N.useRef(!1);return E.jsx(qx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),qx=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=_s(jc,n),g=N.useRef(null),p=xa(e,g);return wx(),E.jsxs(E.Fragment,{children:[E.jsx(F2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:E.jsx(K2,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":eb(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(SL,{titleId:f.titleId}),E.jsx(wL,{contentRef:g,descriptionId:f.descriptionId})]})]})}),J2="DialogTitle",Vx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(J2,n);return E.jsx(Nn.h2,{id:i.titleId,...a,ref:e})});Vx.displayName=J2;var Yx="DialogDescription",Zx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(Yx,n);return E.jsx(Nn.p,{id:i.descriptionId,...a,ref:e})});Zx.displayName=Yx;var Ix="DialogClose",Xx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(Ix,n);return E.jsx(Nn.button,{type:"button",...a,ref:e,onClick:Rt(t.onClick,()=>i.onOpenChange(!1))})});Xx.displayName=Ix;function eb(t){return t?"open":"closed"}var Kx="DialogTitleWarning",[_L,Fx]=nU(Kx,{contentName:jc,titleName:J2,docsSlug:"dialog"}),SL=({titleId:t})=>{const e=Fx(Kx),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xL="DialogDescriptionWarning",wL=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fx(xL).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},EL=kx,CL=Lx,TL=Bx,AL=Hx,RL=Gx,OL=Vx,NL=Zx,Qx=Xx,$x="AlertDialog",[ML]=co($x,[zx]),fo=zx(),Wx=t=>{const{__scopeAlertDialog:e,...n}=t,a=fo(e);return E.jsx(EL,{...a,...n,modal:!0})};Wx.displayName=$x;var DL="AlertDialogTrigger",Jx=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=fo(n);return E.jsx(CL,{...i,...a,ref:e})});Jx.displayName=DL;var jL="AlertDialogPortal",e6=t=>{const{__scopeAlertDialog:e,...n}=t,a=fo(e);return E.jsx(TL,{...a,...n})};e6.displayName=jL;var zL="AlertDialogOverlay",t6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=fo(n);return E.jsx(AL,{...i,...a,ref:e})});t6.displayName=zL;var jf="AlertDialogContent",[kL,UL]=ML(jf),LL=$k("AlertDialogContent"),n6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,l=fo(n),u=N.useRef(null),f=xa(e,u),g=N.useRef(null);return E.jsx(_L,{contentName:jf,titleName:a6,docsSlug:"alert-dialog",children:E.jsx(kL,{scope:n,cancelRef:g,children:E.jsxs(RL,{role:"alertdialog",...l,...i,ref:f,onOpenAutoFocus:Rt(i.onOpenAutoFocus,p=>{p.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[E.jsx(LL,{children:a}),E.jsx(BL,{contentRef:u})]})})})});n6.displayName=jf;var a6="AlertDialogTitle",r6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=fo(n);return E.jsx(OL,{...i,...a,ref:e})});r6.displayName=a6;var i6="AlertDialogDescription",s6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=fo(n);return E.jsx(NL,{...i,...a,ref:e})});s6.displayName=i6;var PL="AlertDialogAction",l6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=fo(n);return E.jsx(Qx,{...i,...a,ref:e})});l6.displayName=PL;var o6="AlertDialogCancel",u6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=UL(o6,n),l=fo(n),u=xa(e,i);return E.jsx(Qx,{...l,...a,ref:u})});u6.displayName=o6;var BL=({contentRef:t})=>{const e=`\`${jf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jf}\` by passing a \`${i6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Tp=Wx,py=Jx,Ap=e6,Rp=t6,Op=n6,vy=l6,Np=u6,Mp=r6,Dp=s6;function HL(t){const[e,n]=N.useState(void 0);return hu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const g=l.borderBoxSize,p=Array.isArray(g)?g[0]:g;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const GL=["top","right","bottom","left"],gu=Math.min,li=Math.max,cv=Math.round,jp=Math.floor,fl=t=>({x:t,y:t}),qL={left:"right",right:"left",bottom:"top",top:"bottom"},VL={start:"end",end:"start"};function l2(t,e,n){return li(t,gu(e,n))}function ao(t,e){return typeof t=="function"?t(e):t}function ro(t){return t.split("-")[0]}function Zf(t){return t.split("-")[1]}function tb(t){return t==="x"?"y":"x"}function nb(t){return t==="y"?"height":"width"}const YL=new Set(["top","bottom"]);function cl(t){return YL.has(ro(t))?"y":"x"}function ab(t){return tb(cl(t))}function ZL(t,e,n){n===void 0&&(n=!1);const a=Zf(t),i=ab(t),l=nb(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=dv(u)),[u,dv(u)]}function IL(t){const e=dv(t);return[o2(t),e,o2(e)]}function o2(t){return t.replace(/start|end/g,e=>VL[e])}const H3=["left","right"],G3=["right","left"],XL=["top","bottom"],KL=["bottom","top"];function FL(t,e,n){switch(t){case"top":case"bottom":return n?e?G3:H3:e?H3:G3;case"left":case"right":return e?XL:KL;default:return[]}}function QL(t,e,n,a){const i=Zf(t);let l=FL(ro(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(o2)))),l}function dv(t){return t.replace(/left|right|bottom|top/g,e=>qL[e])}function $L(t){return{top:0,right:0,bottom:0,left:0,...t}}function c6(t){return typeof t!="number"?$L(t):{top:t,right:t,bottom:t,left:t}}function fv(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function q3(t,e,n){let{reference:a,floating:i}=t;const l=cl(e),u=ab(e),f=nb(u),g=ro(e),p=l==="y",v=a.x+a.width/2-i.width/2,_=a.y+a.height/2-i.height/2,S=a[f]/2-i[f]/2;let C;switch(g){case"top":C={x:v,y:a.y-i.height};break;case"bottom":C={x:v,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:_};break;case"left":C={x:a.x-i.width,y:_};break;default:C={x:a.x,y:a.y}}switch(Zf(e)){case"start":C[u]-=S*(n&&p?-1:1);break;case"end":C[u]+=S*(n&&p?-1:1);break}return C}const WL=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:_}=q3(p,a,g),S=a,C={},T=0;for(let R=0;R<f.length;R++){const{name:O,fn:M}=f[R],{x:j,y:z,data:L,reset:H}=await M({x:v,y:_,initialPlacement:a,placement:S,strategy:i,middlewareData:C,rects:p,platform:u,elements:{reference:t,floating:e}});v=j??v,_=z??_,C={...C,[O]:{...C[O],...L}},H&&T<=50&&(T++,typeof H=="object"&&(H.placement&&(S=H.placement),H.rects&&(p=H.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:v,y:_}=q3(p,S,g)),R=-1)}return{x:v,y:_,placement:S,strategy:i,middlewareData:C}};async function J0(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:f,strategy:g}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:S=!1,padding:C=0}=ao(e,t),T=c6(C),O=f[S?_==="floating"?"reference":"floating":_],M=fv(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:g})),j=_==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),L=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},H=fv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:j,offsetParent:z,strategy:g}):j);return{top:(M.top-H.top+T.top)/L.y,bottom:(H.bottom-M.bottom+T.bottom)/L.y,left:(M.left-H.left+T.left)/L.x,right:(H.right-M.right+T.right)/L.x}}const JL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:g}=e,{element:p,padding:v=0}=ao(t,e)||{};if(p==null)return{};const _=c6(v),S={x:n,y:a},C=ab(i),T=nb(C),R=await u.getDimensions(p),O=C==="y",M=O?"top":"left",j=O?"bottom":"right",z=O?"clientHeight":"clientWidth",L=l.reference[T]+l.reference[C]-S[C]-l.floating[T],H=S[C]-l.reference[C],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let Y=U?U[z]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(U)))&&(Y=f.floating[z]||l.floating[T]);const Q=L/2-H/2,se=Y/2-R[T]/2-1,_e=gu(_[M],se),Ce=gu(_[j],se),ve=_e,fe=Y-R[T]-Ce,ce=Y/2-R[T]/2+Q,be=l2(ve,ce,fe),B=!g.arrow&&Zf(i)!=null&&ce!==be&&l.reference[T]/2-(ce<ve?_e:Ce)-R[T]/2<0,ae=B?ce<ve?ce-ve:ce-fe:0;return{[C]:S[C]+ae,data:{[C]:be,centerOffset:ce-be-ae,...B&&{alignmentOffset:ae}},reset:B}}}),eP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:g,elements:p}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...O}=ao(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const M=ro(i),j=cl(f),z=ro(f)===f,L=await(g.isRTL==null?void 0:g.isRTL(p.floating)),H=S||(z||!R?[dv(f)]:IL(f)),U=T!=="none";!S&&U&&H.push(...QL(f,R,T,L));const Y=[f,...H],Q=await J0(e,O),se=[];let _e=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&se.push(Q[M]),_){const ce=ZL(i,u,L);se.push(Q[ce[0]],Q[ce[1]])}if(_e=[..._e,{placement:i,overflows:se}],!se.every(ce=>ce<=0)){var Ce,ve;const ce=(((Ce=l.flip)==null?void 0:Ce.index)||0)+1,be=Y[ce];if(be&&(!(_==="alignment"?j!==cl(be):!1)||_e.every(K=>cl(K.placement)===j?K.overflows[0]>0:!0)))return{data:{index:ce,overflows:_e},reset:{placement:be}};let B=(ve=_e.filter(ae=>ae.overflows[0]<=0).sort((ae,K)=>ae.overflows[1]-K.overflows[1])[0])==null?void 0:ve.placement;if(!B)switch(C){case"bestFit":{var fe;const ae=(fe=_e.filter(K=>{if(U){const he=cl(K.placement);return he===j||he==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(he=>he>0).reduce((he,G)=>he+G,0)]).sort((K,he)=>K[1]-he[1])[0])==null?void 0:fe[0];ae&&(B=ae);break}case"initialPlacement":B=f;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function V3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Y3(t){return GL.some(e=>t[e]>=0)}const tP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=ao(t,e);switch(a){case"referenceHidden":{const l=await J0(e,{...i,elementContext:"reference"}),u=V3(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Y3(u)}}}case"escaped":{const l=await J0(e,{...i,altBoundary:!0}),u=V3(l,n.floating);return{data:{escapedOffsets:u,escaped:Y3(u)}}}default:return{}}}}},d6=new Set(["left","top"]);async function nP(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=ro(n),f=Zf(n),g=cl(n)==="y",p=d6.has(u)?-1:1,v=l&&g?-1:1,_=ao(e,t);let{mainAxis:S,crossAxis:C,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof T=="number"&&(C=f==="end"?T*-1:T),g?{x:C*v,y:S*p}:{x:S*p,y:C*v}}const aP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:f}=e,g=await nP(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+g.x,y:l+g.y,data:{...g,placement:u}}}}},rP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:O=>{let{x:M,y:j}=O;return{x:M,y:j}}},...g}=ao(t,e),p={x:n,y:a},v=await J0(e,g),_=cl(ro(i)),S=tb(_);let C=p[S],T=p[_];if(l){const O=S==="y"?"top":"left",M=S==="y"?"bottom":"right",j=C+v[O],z=C-v[M];C=l2(j,C,z)}if(u){const O=_==="y"?"top":"left",M=_==="y"?"bottom":"right",j=T+v[O],z=T-v[M];T=l2(j,T,z)}const R=f.fn({...e,[S]:C,[_]:T});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[S]:l,[_]:u}}}}}},iP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:g=!0,crossAxis:p=!0}=ao(t,e),v={x:n,y:a},_=cl(i),S=tb(_);let C=v[S],T=v[_];const R=ao(f,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(g){const z=S==="y"?"height":"width",L=l.reference[S]-l.floating[z]+O.mainAxis,H=l.reference[S]+l.reference[z]-O.mainAxis;C<L?C=L:C>H&&(C=H)}if(p){var M,j;const z=S==="y"?"width":"height",L=d6.has(ro(i)),H=l.reference[_]-l.floating[z]+(L&&((M=u.offset)==null?void 0:M[_])||0)+(L?0:O.crossAxis),U=l.reference[_]+l.reference[z]+(L?0:((j=u.offset)==null?void 0:j[_])||0)-(L?O.crossAxis:0);T<H?T=H:T>U&&(T=U)}return{[S]:C,[_]:T}}}},sP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:g=()=>{},...p}=ao(t,e),v=await J0(e,p),_=ro(i),S=Zf(i),C=cl(i)==="y",{width:T,height:R}=l.floating;let O,M;_==="top"||_==="bottom"?(O=_,M=S===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(M=_,O=S==="end"?"top":"bottom");const j=R-v.top-v.bottom,z=T-v.left-v.right,L=gu(R-v[O],j),H=gu(T-v[M],z),U=!e.middlewareData.shift;let Y=L,Q=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Q=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(Y=j),U&&!S){const _e=li(v.left,0),Ce=li(v.right,0),ve=li(v.top,0),fe=li(v.bottom,0);C?Q=T-2*(_e!==0||Ce!==0?_e+Ce:li(v.left,v.right)):Y=R-2*(ve!==0||fe!==0?ve+fe:li(v.top,v.bottom))}await g({...e,availableWidth:Q,availableHeight:Y});const se=await u.getDimensions(f.floating);return T!==se.width||R!==se.height?{reset:{rects:!0}}:{}}}};function Lv(){return typeof window<"u"}function If(t){return f6(t)?(t.nodeName||"").toLowerCase():"#document"}function di(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vl(t){var e;return(e=(f6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function f6(t){return Lv()?t instanceof Node||t instanceof di(t).Node:!1}function vs(t){return Lv()?t instanceof Element||t instanceof di(t).Element:!1}function hl(t){return Lv()?t instanceof HTMLElement||t instanceof di(t).HTMLElement:!1}function Z3(t){return!Lv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof di(t).ShadowRoot}const lP=new Set(["inline","contents"]);function pg(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!lP.has(i)}const oP=new Set(["table","td","th"]);function uP(t){return oP.has(If(t))}const cP=[":popover-open",":modal"];function Pv(t){return cP.some(e=>{try{return t.matches(e)}catch{return!1}})}const dP=["transform","translate","scale","rotate","perspective"],fP=["transform","translate","scale","rotate","perspective","filter"],hP=["paint","layout","strict","content"];function rb(t){const e=ib(),n=vs(t)?ys(t):t;return dP.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||fP.some(a=>(n.willChange||"").includes(a))||hP.some(a=>(n.contain||"").includes(a))}function gP(t){let e=mu(t);for(;hl(e)&&!Hf(e);){if(rb(e))return e;if(Pv(e))return null;e=mu(e)}return null}function ib(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mP=new Set(["html","body","#document"]);function Hf(t){return mP.has(If(t))}function ys(t){return di(t).getComputedStyle(t)}function Bv(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mu(t){if(If(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Z3(t)&&t.host||vl(t);return Z3(e)?e.host:e}function h6(t){const e=mu(t);return Hf(e)?t.ownerDocument?t.ownerDocument.body:t.body:hl(e)&&pg(e)?e:h6(e)}function eg(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=h6(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=di(i);if(l){const f=u2(u);return e.concat(u,u.visualViewport||[],pg(i)?i:[],f&&n?eg(f):[])}return e.concat(i,eg(i,[],n))}function u2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function g6(t){const e=ys(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=hl(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,f=cv(n)!==l||cv(a)!==u;return f&&(n=l,a=u),{width:n,height:a,$:f}}function sb(t){return vs(t)?t:t.contextElement}function zf(t){const e=sb(t);if(!hl(e))return fl(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=g6(e);let u=(l?cv(n.width):n.width)/a,f=(l?cv(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const pP=fl(0);function m6(t){const e=di(t);return!ib()||!e.visualViewport?pP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==di(t)?!1:e}function zc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=sb(t);let u=fl(1);e&&(a?vs(a)&&(u=zf(a)):u=zf(t));const f=vP(l,n,a)?m6(l):fl(0);let g=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(l){const S=di(l),C=a&&vs(a)?di(a):a;let T=S,R=u2(T);for(;R&&a&&C!==T;){const O=zf(R),M=R.getBoundingClientRect(),j=ys(R),z=M.left+(R.clientLeft+parseFloat(j.paddingLeft))*O.x,L=M.top+(R.clientTop+parseFloat(j.paddingTop))*O.y;g*=O.x,p*=O.y,v*=O.x,_*=O.y,g+=z,p+=L,T=di(R),R=u2(T)}}return fv({width:v,height:_,x:g,y:p})}function Hv(t,e){const n=Bv(t).scrollLeft;return e?e.left+n:zc(vl(t)).left+n}function p6(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Hv(t,n),i=n.top+e.scrollTop;return{x:a,y:i}}function yP(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=vl(a),f=e?Pv(e.floating):!1;if(a===u||f&&l)return n;let g={scrollLeft:0,scrollTop:0},p=fl(1);const v=fl(0),_=hl(a);if((_||!_&&!l)&&((If(a)!=="body"||pg(u))&&(g=Bv(a)),hl(a))){const C=zc(a);p=zf(a),v.x=C.x+a.clientLeft,v.y=C.y+a.clientTop}const S=u&&!_&&!l?p6(u,g):fl(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-g.scrollLeft*p.x+v.x+S.x,y:n.y*p.y-g.scrollTop*p.y+v.y+S.y}}function bP(t){return Array.from(t.getClientRects())}function _P(t){const e=vl(t),n=Bv(t),a=t.ownerDocument.body,i=li(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=li(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Hv(t);const f=-n.scrollTop;return ys(a).direction==="rtl"&&(u+=li(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:f}}const I3=25;function SP(t,e){const n=di(t),a=vl(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,f=0,g=0;if(i){l=i.width,u=i.height;const v=ib();(!v||v&&e==="fixed")&&(f=i.offsetLeft,g=i.offsetTop)}const p=Hv(a);if(p<=0){const v=a.ownerDocument,_=v.body,S=getComputedStyle(_),C=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(a.clientWidth-_.clientWidth-C);T<=I3&&(l-=T)}else p<=I3&&(l+=p);return{width:l,height:u,x:f,y:g}}const xP=new Set(["absolute","fixed"]);function wP(t,e){const n=zc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=hl(t)?zf(t):fl(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,g=i*l.x,p=a*l.y;return{width:u,height:f,x:g,y:p}}function X3(t,e,n){let a;if(e==="viewport")a=SP(t,n);else if(e==="document")a=_P(vl(t));else if(vs(e))a=wP(e,n);else{const i=m6(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return fv(a)}function v6(t,e){const n=mu(t);return n===e||!vs(n)||Hf(n)?!1:ys(n).position==="fixed"||v6(n,e)}function EP(t,e){const n=e.get(t);if(n)return n;let a=eg(t,[],!1).filter(f=>vs(f)&&If(f)!=="body"),i=null;const l=ys(t).position==="fixed";let u=l?mu(t):t;for(;vs(u)&&!Hf(u);){const f=ys(u),g=rb(u);!g&&f.position==="fixed"&&(i=null),(l?!g&&!i:!g&&f.position==="static"&&!!i&&xP.has(i.position)||pg(u)&&!g&&v6(t,u))?a=a.filter(v=>v!==u):i=f,u=mu(u)}return e.set(t,a),a}function CP(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Pv(e)?[]:EP(e,this._c):[].concat(n),a],f=u[0],g=u.reduce((p,v)=>{const _=X3(e,v,i);return p.top=li(_.top,p.top),p.right=gu(_.right,p.right),p.bottom=gu(_.bottom,p.bottom),p.left=li(_.left,p.left),p},X3(e,f,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function TP(t){const{width:e,height:n}=g6(t);return{width:e,height:n}}function AP(t,e,n){const a=hl(e),i=vl(e),l=n==="fixed",u=zc(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const g=fl(0);function p(){g.x=Hv(i)}if(a||!a&&!l)if((If(e)!=="body"||pg(i))&&(f=Bv(e)),a){const C=zc(e,!0,l,e);g.x=C.x+e.clientLeft,g.y=C.y+e.clientTop}else i&&p();l&&!a&&i&&p();const v=i&&!a&&!l?p6(i,f):fl(0),_=u.left+f.scrollLeft-g.x-v.x,S=u.top+f.scrollTop-g.y-v.y;return{x:_,y:S,width:u.width,height:u.height}}function yy(t){return ys(t).position==="static"}function K3(t,e){if(!hl(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vl(t)===n&&(n=n.ownerDocument.body),n}function y6(t,e){const n=di(t);if(Pv(t))return n;if(!hl(t)){let i=mu(t);for(;i&&!Hf(i);){if(vs(i)&&!yy(i))return i;i=mu(i)}return n}let a=K3(t,e);for(;a&&uP(a)&&yy(a);)a=K3(a,e);return a&&Hf(a)&&yy(a)&&!rb(a)?n:a||gP(t)||n}const RP=async function(t){const e=this.getOffsetParent||y6,n=this.getDimensions,a=await n(t.floating);return{reference:AP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function OP(t){return ys(t).direction==="rtl"}const NP={convertOffsetParentRelativeRectToViewportRelativeRect:yP,getDocumentElement:vl,getClippingRect:CP,getOffsetParent:y6,getElementRects:RP,getClientRects:bP,getDimensions:TP,getScale:zf,isElement:vs,isRTL:OP};function b6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MP(t,e){let n=null,a;const i=vl(t);function l(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function u(f,g){f===void 0&&(f=!1),g===void 0&&(g=1),l();const p=t.getBoundingClientRect(),{left:v,top:_,width:S,height:C}=p;if(f||e(),!S||!C)return;const T=jp(_),R=jp(i.clientWidth-(v+S)),O=jp(i.clientHeight-(_+C)),M=jp(v),z={rootMargin:-T+"px "+-R+"px "+-O+"px "+-M+"px",threshold:li(0,gu(1,g))||1};let L=!0;function H(U){const Y=U[0].intersectionRatio;if(Y!==g){if(!L)return u();Y?u(!1,Y):a=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!b6(p,t.getBoundingClientRect())&&u(),L=!1}try{n=new IntersectionObserver(H,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,z)}n.observe(t)}return u(!0),l}function DP(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,p=sb(t),v=i||l?[...p?eg(p):[],...eg(e)]:[];v.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const _=p&&f?MP(p,n):null;let S=-1,C=null;u&&(C=new ResizeObserver(M=>{let[j]=M;j&&j.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),n()}),p&&!g&&C.observe(p),C.observe(e));let T,R=g?zc(t):null;g&&O();function O(){const M=zc(t);R&&!b6(R,M)&&n(),R=M,T=requestAnimationFrame(O)}return n(),()=>{var M;v.forEach(j=>{i&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),_?.(),(M=C)==null||M.disconnect(),C=null,g&&cancelAnimationFrame(T)}}const jP=aP,zP=rP,kP=eP,UP=sP,LP=tP,F3=JL,PP=iP,BP=(t,e,n)=>{const a=new Map,i={platform:NP,...n},l={...i.platform,_c:a};return WL(t,e,{...i,platform:l})};var HP=typeof document<"u",GP=function(){},Zp=HP?N.useLayoutEffect:GP;function hv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!hv(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!hv(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function _6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Q3(t,e){const n=_6(t);return Math.round(e*n)/n}function by(t){const e=N.useRef(t);return Zp(()=>{e.current=t}),e}function qP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:g,open:p}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,C]=N.useState(a);hv(S,a)||C(a);const[T,R]=N.useState(null),[O,M]=N.useState(null),j=N.useCallback(K=>{K!==U.current&&(U.current=K,R(K))},[]),z=N.useCallback(K=>{K!==Y.current&&(Y.current=K,M(K))},[]),L=l||T,H=u||O,U=N.useRef(null),Y=N.useRef(null),Q=N.useRef(v),se=g!=null,_e=by(g),Ce=by(i),ve=by(p),fe=N.useCallback(()=>{if(!U.current||!Y.current)return;const K={placement:e,strategy:n,middleware:S};Ce.current&&(K.platform=Ce.current),BP(U.current,Y.current,K).then(he=>{const G={...he,isPositioned:ve.current!==!1};ce.current&&!hv(Q.current,G)&&(Q.current=G,ug.flushSync(()=>{_(G)}))})},[S,e,n,Ce,ve]);Zp(()=>{p===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,_(K=>({...K,isPositioned:!1})))},[p]);const ce=N.useRef(!1);Zp(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Zp(()=>{if(L&&(U.current=L),H&&(Y.current=H),L&&H){if(_e.current)return _e.current(L,H,fe);fe()}},[L,H,fe,_e,se]);const be=N.useMemo(()=>({reference:U,floating:Y,setReference:j,setFloating:z}),[j,z]),B=N.useMemo(()=>({reference:L,floating:H}),[L,H]),ae=N.useMemo(()=>{const K={position:n,left:0,top:0};if(!B.floating)return K;const he=Q3(B.floating,v.x),G=Q3(B.floating,v.y);return f?{...K,transform:"translate("+he+"px, "+G+"px)",..._6(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:G}},[n,f,B.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:fe,refs:be,elements:B,floatingStyles:ae}),[v,fe,be,B,ae])}const VP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?F3({element:a.current,padding:i}).fn(n):{}:a?F3({element:a,padding:i}).fn(n):{}}}},YP=(t,e)=>({...jP(t),options:[t,e]}),ZP=(t,e)=>({...zP(t),options:[t,e]}),IP=(t,e)=>({...PP(t),options:[t,e]}),XP=(t,e)=>({...kP(t),options:[t,e]}),KP=(t,e)=>({...UP(t),options:[t,e]}),FP=(t,e)=>({...LP(t),options:[t,e]}),QP=(t,e)=>({...VP(t),options:[t,e]});var $P="Arrow",S6=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return E.jsx(Nn.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});S6.displayName=$P;var WP=S6,lb="Popper",[x6,w6]=co(lb),[JP,E6]=x6(lb),C6=t=>{const{__scopePopper:e,children:n}=t,[a,i]=N.useState(null);return E.jsx(JP,{scope:e,anchor:a,onAnchorChange:i,children:n})};C6.displayName=lb;var T6="PopperAnchor",A6=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=E6(T6,n),u=N.useRef(null),f=xa(e,u),g=N.useRef(null);return N.useEffect(()=>{const p=g.current;g.current=a?.current||u.current,p!==g.current&&l.onAnchorChange(g.current)}),a?null:E.jsx(Nn.div,{...i,ref:f})});A6.displayName=T6;var ob="PopperContent",[eB,tB]=x6(ob),R6=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:T,...R}=t,O=E6(ob,n),[M,j]=N.useState(null),z=xa(e,xe=>j(xe)),[L,H]=N.useState(null),U=HL(L),Y=U?.width??0,Q=U?.height??0,se=a+(l!=="center"?"-"+l:""),_e=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Ce=Array.isArray(p)?p:[p],ve=Ce.length>0,fe={padding:_e,boundary:Ce.filter(aB),altBoundary:ve},{refs:ce,floatingStyles:be,placement:B,isPositioned:ae,middlewareData:K}=qP({strategy:"fixed",placement:se,whileElementsMounted:(...xe)=>DP(...xe,{animationFrame:C==="always"}),elements:{reference:O.anchor},middleware:[YP({mainAxis:i+Q,alignmentAxis:u}),g&&ZP({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?IP():void 0,...fe}),g&&XP({...fe}),KP({...fe,apply:({elements:xe,rects:Ie,availableWidth:dt,availableHeight:rt})=>{const{width:xt,height:sn}=Ie.reference,ln=xe.floating.style;ln.setProperty("--radix-popper-available-width",`${dt}px`),ln.setProperty("--radix-popper-available-height",`${rt}px`),ln.setProperty("--radix-popper-anchor-width",`${xt}px`),ln.setProperty("--radix-popper-anchor-height",`${sn}px`)}}),L&&QP({element:L,padding:f}),rB({arrowWidth:Y,arrowHeight:Q}),S&&FP({strategy:"referenceHidden",...fe})]}),[he,G]=M6(B),$=no(T);hu(()=>{ae&&$?.()},[ae,$]);const Ee=K.arrow?.x,Te=K.arrow?.y,Ve=K.arrow?.centerOffset!==0,[ot,ue]=N.useState();return hu(()=>{M&&ue(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:ae?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(eB,{scope:n,placedSide:he,onArrowChange:H,arrowX:Ee,arrowY:Te,shouldHideArrow:Ve,children:E.jsx(Nn.div,{"data-side":he,"data-align":G,...R,ref:z,style:{...R.style,animation:ae?void 0:"none"}})})})});R6.displayName=ob;var O6="PopperArrow",nB={top:"bottom",right:"left",bottom:"top",left:"right"},N6=N.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=tB(O6,a),u=nB[l.placedSide];return E.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:E.jsx(WP,{...i,ref:n,style:{...i.style,display:"block"}})})});N6.displayName=O6;function aB(t){return t!==null}var rB=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,g=u?0:t.arrowHeight,[p,v]=M6(n),_={start:"0%",center:"50%",end:"100%"}[v],S=(i.arrow?.x??0)+f/2,C=(i.arrow?.y??0)+g/2;let T="",R="";return p==="bottom"?(T=u?_:`${S}px`,R=`${-g}px`):p==="top"?(T=u?_:`${S}px`,R=`${a.floating.height+g}px`):p==="right"?(T=`${-g}px`,R=u?_:`${C}px`):p==="left"&&(T=`${a.floating.width+g}px`,R=u?_:`${C}px`),{data:{x:T,y:R}}}});function M6(t){const[e,n="center"]=t.split("-");return[e,n]}var iB=C6,sB=A6,lB=R6,oB=N6,_y="rovingFocusGroup.onEntryFocus",uB={bubbles:!1,cancelable:!0},vg="RovingFocusGroup",[c2,D6,cB]=bx(vg),[dB,Xf]=co(vg,[cB]),[fB,hB]=dB(vg),j6=N.forwardRef((t,e)=>E.jsx(c2.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(c2.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(gB,{...t,ref:e})})}));j6.displayName=vg;var gB=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,..._}=t,S=N.useRef(null),C=xa(e,S),T=zv(l),[R,O]=Yf({prop:u,defaultProp:f??null,onChange:g,caller:vg}),[M,j]=N.useState(!1),z=no(p),L=D6(n),H=N.useRef(!1),[U,Y]=N.useState(0);return N.useEffect(()=>{const Q=S.current;if(Q)return Q.addEventListener(_y,z),()=>Q.removeEventListener(_y,z)},[z]),E.jsx(fB,{scope:n,orientation:a,dir:T,loop:i,currentTabStopId:R,onItemFocus:N.useCallback(Q=>O(Q),[O]),onItemShiftTab:N.useCallback(()=>j(!0),[]),onFocusableItemAdd:N.useCallback(()=>Y(Q=>Q+1),[]),onFocusableItemRemove:N.useCallback(()=>Y(Q=>Q-1),[]),children:E.jsx(Nn.div,{tabIndex:M||U===0?-1:0,"data-orientation":a,..._,ref:C,style:{outline:"none",...t.style},onMouseDown:Rt(t.onMouseDown,()=>{H.current=!0}),onFocus:Rt(t.onFocus,Q=>{const se=!H.current;if(Q.target===Q.currentTarget&&se&&!M){const _e=new CustomEvent(_y,uB);if(Q.currentTarget.dispatchEvent(_e),!_e.defaultPrevented){const Ce=L().filter(B=>B.focusable),ve=Ce.find(B=>B.active),fe=Ce.find(B=>B.id===R),be=[ve,fe,...Ce].filter(Boolean).map(B=>B.ref.current);U6(be,v)}}H.current=!1}),onBlur:Rt(t.onBlur,()=>j(!1))})})}),z6="RovingFocusGroupItem",k6=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...f}=t,g=Mf(),p=l||g,v=hB(z6,n),_=v.currentTabStopId===p,S=D6(n),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return C(),()=>T()},[a,C,T]),E.jsx(c2.ItemSlot,{scope:n,id:p,focusable:a,active:i,children:E.jsx(Nn.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...f,ref:e,onMouseDown:Rt(t.onMouseDown,O=>{a?v.onItemFocus(p):O.preventDefault()}),onFocus:Rt(t.onFocus,()=>v.onItemFocus(p)),onKeyDown:Rt(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const M=vB(O,v.orientation,v.dir);if(M!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=S().filter(L=>L.focusable).map(L=>L.ref.current);if(M==="last")z.reverse();else if(M==="prev"||M==="next"){M==="prev"&&z.reverse();const L=z.indexOf(O.currentTarget);z=v.loop?yB(z,L+1):z.slice(L+1)}setTimeout(()=>U6(z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:R!=null}):u})})});k6.displayName=z6;var mB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vB(t,e,n){const a=pB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return mB[a]}function U6(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function yB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var ub=j6,Gv=k6,d2=["Enter"," "],bB=["ArrowDown","PageUp","Home"],L6=["ArrowUp","PageDown","End"],_B=[...bB,...L6],SB={ltr:[...d2,"ArrowRight"],rtl:[...d2,"ArrowLeft"]},xB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yg="Menu",[tg,wB,EB]=bx(yg),[Zc,P6]=co(yg,[EB,w6,Xf]),qv=w6(),B6=Xf(),[CB,Ic]=Zc(yg),[TB,bg]=Zc(yg),H6=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=t,f=qv(e),[g,p]=N.useState(null),v=N.useRef(!1),_=no(l),S=zv(i);return N.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(iB,{...f,children:E.jsx(CB,{scope:e,open:n,onOpenChange:_,content:g,onContentChange:p,children:E.jsx(TB,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:S,modal:u,children:a})})})};H6.displayName=yg;var AB="MenuAnchor",cb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=qv(n);return E.jsx(sB,{...i,...a,ref:e})});cb.displayName=AB;var db="MenuPortal",[RB,G6]=Zc(db,{forceMount:void 0}),q6=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,l=Ic(db,e);return E.jsx(RB,{scope:e,forceMount:n,children:E.jsx(wu,{present:n||l.open,children:E.jsx(Q2,{asChild:!0,container:i,children:a})})})};q6.displayName=db;var Li="MenuContent",[OB,fb]=Zc(Li),V6=N.forwardRef((t,e)=>{const n=G6(Li,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Ic(Li,t.__scopeMenu),u=bg(Li,t.__scopeMenu);return E.jsx(tg.Provider,{scope:t.__scopeMenu,children:E.jsx(wu,{present:a||l.open,children:E.jsx(tg.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(NB,{...i,ref:e}):E.jsx(MB,{...i,ref:e})})})})}),NB=N.forwardRef((t,e)=>{const n=Ic(Li,t.__scopeMenu),a=N.useRef(null),i=xa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return Dx(l)},[]),E.jsx(hb,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Rt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),MB=N.forwardRef((t,e)=>{const n=Ic(Li,t.__scopeMenu);return E.jsx(hb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),DB=W0("MenuContent.ScrollLock"),hb=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:g,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,disableOutsideScroll:T,...R}=t,O=Ic(Li,n),M=bg(Li,n),j=qv(n),z=B6(n),L=wB(n),[H,U]=N.useState(null),Y=N.useRef(null),Q=xa(e,Y,O.onContentChange),se=N.useRef(0),_e=N.useRef(""),Ce=N.useRef(0),ve=N.useRef(null),fe=N.useRef("right"),ce=N.useRef(0),be=T?$2:N.Fragment,B=T?{as:DB,allowPinchZoom:!0}:void 0,ae=he=>{const G=_e.current+he,$=L().filter(xe=>!xe.disabled),Ee=document.activeElement,Te=$.find(xe=>xe.ref.current===Ee)?.textValue,Ve=$.map(xe=>xe.textValue),ot=YB(Ve,G,Te),ue=$.find(xe=>xe.textValue===ot)?.ref.current;(function xe(Ie){_e.current=Ie,window.clearTimeout(se.current),Ie!==""&&(se.current=window.setTimeout(()=>xe(""),1e3))})(G),ue&&setTimeout(()=>ue.focus())};N.useEffect(()=>()=>window.clearTimeout(se.current),[]),wx();const K=N.useCallback(he=>fe.current===ve.current?.side&&IB(he,ve.current?.area),[]);return E.jsx(OB,{scope:n,searchRef:_e,onItemEnter:N.useCallback(he=>{K(he)&&he.preventDefault()},[K]),onItemLeave:N.useCallback(he=>{K(he)||(Y.current?.focus(),U(null))},[K]),onTriggerLeave:N.useCallback(he=>{K(he)&&he.preventDefault()},[K]),pointerGraceTimerRef:Ce,onPointerGraceIntentChange:N.useCallback(he=>{ve.current=he},[]),children:E.jsx(be,{...B,children:E.jsx(F2,{asChild:!0,trapped:i,onMountAutoFocus:Rt(l,he=>{he.preventDefault(),Y.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(K2,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,children:E.jsx(ub,{asChild:!0,...z,dir:M.dir,orientation:"vertical",loop:a,currentTabStopId:H,onCurrentTabStopIdChange:U,onEntryFocus:Rt(g,he=>{M.isUsingKeyboardRef.current||he.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(lB,{role:"menu","aria-orientation":"vertical","data-state":iw(O.open),"data-radix-menu-content":"",dir:M.dir,...j,...R,ref:Q,style:{outline:"none",...R.style},onKeyDown:Rt(R.onKeyDown,he=>{const $=he.target.closest("[data-radix-menu-content]")===he.currentTarget,Ee=he.ctrlKey||he.altKey||he.metaKey,Te=he.key.length===1;$&&(he.key==="Tab"&&he.preventDefault(),!Ee&&Te&&ae(he.key));const Ve=Y.current;if(he.target!==Ve||!_B.includes(he.key))return;he.preventDefault();const ue=L().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);L6.includes(he.key)&&ue.reverse(),qB(ue)}),onBlur:Rt(t.onBlur,he=>{he.currentTarget.contains(he.target)||(window.clearTimeout(se.current),_e.current="")}),onPointerMove:Rt(t.onPointerMove,ng(he=>{const G=he.target,$=ce.current!==he.clientX;if(he.currentTarget.contains(G)&&$){const Ee=he.clientX>ce.current?"right":"left";fe.current=Ee,ce.current=he.clientX}}))})})})})})})});V6.displayName=Li;var jB="MenuGroup",gb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(Nn.div,{role:"group",...a,ref:e})});gb.displayName=jB;var zB="MenuLabel",Y6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(Nn.div,{...a,ref:e})});Y6.displayName=zB;var gv="MenuItem",$3="menu.itemSelect",Vv=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,l=N.useRef(null),u=bg(gv,t.__scopeMenu),f=fb(gv,t.__scopeMenu),g=xa(e,l),p=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const S=new CustomEvent($3,{bubbles:!0,cancelable:!0});_.addEventListener($3,C=>a?.(C),{once:!0}),yx(_,S),S.defaultPrevented?p.current=!1:u.onClose()}};return E.jsx(Z6,{...i,ref:g,disabled:n,onClick:Rt(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),p.current=!0},onPointerUp:Rt(t.onPointerUp,_=>{p.current||_.currentTarget?.click()}),onKeyDown:Rt(t.onKeyDown,_=>{const S=f.searchRef.current!=="";n||S&&_.key===" "||d2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});Vv.displayName=gv;var Z6=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=t,u=fb(gv,n),f=B6(n),g=N.useRef(null),p=xa(e,g),[v,_]=N.useState(!1),[S,C]=N.useState("");return N.useEffect(()=>{const T=g.current;T&&C((T.textContent??"").trim())},[l.children]),E.jsx(tg.ItemSlot,{scope:n,disabled:a,textValue:i??S,children:E.jsx(Gv,{asChild:!0,...f,focusable:!a,children:E.jsx(Nn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:p,onPointerMove:Rt(t.onPointerMove,ng(T=>{a?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Rt(t.onPointerLeave,ng(T=>u.onItemLeave(T))),onFocus:Rt(t.onFocus,()=>_(!0)),onBlur:Rt(t.onBlur,()=>_(!1))})})})}),kB="MenuCheckboxItem",I6=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return E.jsx($6,{scope:t.__scopeMenu,checked:n,children:E.jsx(Vv,{role:"menuitemcheckbox","aria-checked":mv(n)?"mixed":n,...i,ref:e,"data-state":pb(n),onSelect:Rt(i.onSelect,()=>a?.(mv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});I6.displayName=kB;var X6="MenuRadioGroup",[UB,LB]=Zc(X6,{value:void 0,onValueChange:()=>{}}),K6=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,l=no(a);return E.jsx(UB,{scope:t.__scopeMenu,value:n,onValueChange:l,children:E.jsx(gb,{...i,ref:e})})});K6.displayName=X6;var F6="MenuRadioItem",Q6=N.forwardRef((t,e)=>{const{value:n,...a}=t,i=LB(F6,t.__scopeMenu),l=n===i.value;return E.jsx($6,{scope:t.__scopeMenu,checked:l,children:E.jsx(Vv,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":pb(l),onSelect:Rt(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Q6.displayName=F6;var mb="MenuItemIndicator",[$6,PB]=Zc(mb,{checked:!1}),W6=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,l=PB(mb,n);return E.jsx(wu,{present:a||mv(l.checked)||l.checked===!0,children:E.jsx(Nn.span,{...i,ref:e,"data-state":pb(l.checked)})})});W6.displayName=mb;var BB="MenuSeparator",J6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(Nn.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});J6.displayName=BB;var HB="MenuArrow",ew=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=qv(n);return E.jsx(oB,{...i,...a,ref:e})});ew.displayName=HB;var GB="MenuSub",[EG,tw]=Zc(GB),j0="MenuSubTrigger",nw=N.forwardRef((t,e)=>{const n=Ic(j0,t.__scopeMenu),a=bg(j0,t.__scopeMenu),i=tw(j0,t.__scopeMenu),l=fb(j0,t.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:g}=l,p={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=f.current;return()=>{window.clearTimeout(_),g(null)}},[f,g]),E.jsx(cb,{asChild:!0,...p,children:E.jsx(Z6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":iw(n.open),...t,ref:jv(e,i.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Rt(t.onPointerMove,ng(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Rt(t.onPointerLeave,ng(_=>{v();const S=n.content?.getBoundingClientRect();if(S){const C=n.content?.dataset.side,T=C==="right",R=T?-5:5,O=S[T?"left":"right"],M=S[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x:O,y:S.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Rt(t.onKeyDown,_=>{const S=l.searchRef.current!=="";t.disabled||S&&_.key===" "||SB[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});nw.displayName=j0;var aw="MenuSubContent",rw=N.forwardRef((t,e)=>{const n=G6(Li,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Ic(Li,t.__scopeMenu),u=bg(Li,t.__scopeMenu),f=tw(aw,t.__scopeMenu),g=N.useRef(null),p=xa(e,g);return E.jsx(tg.Provider,{scope:t.__scopeMenu,children:E.jsx(wu,{present:a||l.open,children:E.jsx(tg.Slot,{scope:t.__scopeMenu,children:E.jsx(hb,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Rt(t.onFocusOutside,v=>{v.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Rt(t.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Rt(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),S=xB[u.dir].includes(v.key);_&&S&&(l.onOpenChange(!1),f.trigger?.focus(),v.preventDefault())})})})})})});rw.displayName=aw;function iw(t){return t?"open":"closed"}function mv(t){return t==="indeterminate"}function pb(t){return mv(t)?"indeterminate":t?"checked":"unchecked"}function qB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function VB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function YB(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=VB(t,Math.max(l,0));i.length===1&&(u=u.filter(p=>p!==n));const g=u.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return g!==n?g:void 0}function ZB(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],g=e[u],p=f.x,v=f.y,_=g.x,S=g.y;v>a!=S>a&&n<(_-p)*(a-v)/(S-v)+p&&(i=!i)}return i}function IB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return ZB(n,e)}function ng(t){return e=>e.pointerType==="mouse"?t(e):void 0}var XB=H6,KB=cb,FB=q6,QB=V6,$B=gb,WB=Y6,JB=Vv,eH=I6,tH=K6,nH=Q6,aH=W6,rH=J6,iH=ew,sH=nw,lH=rw,Yv="DropdownMenu",[oH]=co(Yv,[P6]),Nr=P6(),[uH,sw]=oH(Yv),lw=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:f=!0}=t,g=Nr(e),p=N.useRef(null),[v,_]=Yf({prop:i,defaultProp:l??!1,onChange:u,caller:Yv});return E.jsx(uH,{scope:e,triggerId:Mf(),triggerRef:p,contentId:Mf(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(S=>!S),[_]),modal:f,children:E.jsx(XB,{...g,open:v,onOpenChange:_,dir:a,modal:f,children:n})})};lw.displayName=Yv;var ow="DropdownMenuTrigger",uw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,l=sw(ow,n),u=Nr(n);return E.jsx(KB,{asChild:!0,...u,children:E.jsx(Nn.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:jv(e,l.triggerRef),onPointerDown:Rt(t.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:Rt(t.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});uw.displayName=ow;var cH="DropdownMenuPortal",cw=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Nr(e);return E.jsx(FB,{...a,...n})};cw.displayName=cH;var dw="DropdownMenuContent",fw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=sw(dw,n),l=Nr(n),u=N.useRef(!1);return E.jsx(QB,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:e,onCloseAutoFocus:Rt(t.onCloseAutoFocus,f=>{u.current||i.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Rt(t.onInteractOutside,f=>{const g=f.detail.originalEvent,p=g.button===0&&g.ctrlKey===!0,v=g.button===2||p;(!i.modal||v)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fw.displayName=dw;var dH="DropdownMenuGroup",fH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx($B,{...i,...a,ref:e})});fH.displayName=dH;var hH="DropdownMenuLabel",hw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(WB,{...i,...a,ref:e})});hw.displayName=hH;var gH="DropdownMenuItem",gw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(JB,{...i,...a,ref:e})});gw.displayName=gH;var mH="DropdownMenuCheckboxItem",pH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(eH,{...i,...a,ref:e})});pH.displayName=mH;var vH="DropdownMenuRadioGroup",mw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(tH,{...i,...a,ref:e})});mw.displayName=vH;var yH="DropdownMenuRadioItem",pw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(nH,{...i,...a,ref:e})});pw.displayName=yH;var bH="DropdownMenuItemIndicator",vw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(aH,{...i,...a,ref:e})});vw.displayName=bH;var _H="DropdownMenuSeparator",yw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(rH,{...i,...a,ref:e})});yw.displayName=_H;var SH="DropdownMenuArrow",bw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(iH,{...i,...a,ref:e})});bw.displayName=SH;var xH="DropdownMenuSubTrigger",wH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(sH,{...i,...a,ref:e})});wH.displayName=xH;var EH="DropdownMenuSubContent",CH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(lH,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CH.displayName=EH;var Sy=lw,xy=uw,wy=cw,Ey=fw,TH=hw,il=gw,AH=mw,zp=pw,Cy=vw,C0=yw,RH=bw,OH="Separator",W3="horizontal",NH=["horizontal","vertical"],_w=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=W3,...i}=t,l=MH(a)?a:W3,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return E.jsx(Nn.div,{"data-orientation":l,...f,...i,ref:e})});_w.displayName=OH;function MH(t){return NH.includes(t)}var DH=_w,Sw="Toggle",xw=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:i,...l}=t,[u,f]=Yf({prop:n,onChange:i,defaultProp:a??!1,caller:Sw});return E.jsx(Nn.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Rt(t.onClick,()=>{t.disabled||f(!u)})})});xw.displayName=Sw;var Eu="ToggleGroup",[ww,Ew]=co(Eu,[Xf]),Cw=Xf(),vb=Qe.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const i=a;return E.jsx(jH,{...i,ref:e})}if(n==="multiple"){const i=a;return E.jsx(zH,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Eu}\``)});vb.displayName=Eu;var[Tw,Aw]=ww(Eu),jH=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Yf({prop:n,defaultProp:a??"",onChange:i,caller:Eu});return E.jsx(Tw,{scope:t.__scopeToggleGroup,type:"single",value:Qe.useMemo(()=>u?[u]:[],[u]),onItemActivate:f,onItemDeactivate:Qe.useCallback(()=>f(""),[f]),children:E.jsx(Rw,{...l,ref:e})})}),zH=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Yf({prop:n,defaultProp:a??[],onChange:i,caller:Eu}),g=Qe.useCallback(v=>f((_=[])=>[..._,v]),[f]),p=Qe.useCallback(v=>f((_=[])=>_.filter(S=>S!==v)),[f]);return E.jsx(Tw,{scope:t.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:g,onItemDeactivate:p,children:E.jsx(Rw,{...l,ref:e})})});vb.displayName=Eu;var[kH,UH]=ww(Eu),Rw=Qe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:i=!0,orientation:l,dir:u,loop:f=!0,...g}=t,p=Cw(n),v=zv(u),_={role:"group",dir:v,...g};return E.jsx(kH,{scope:n,rovingFocus:i,disabled:a,children:i?E.jsx(ub,{asChild:!0,...p,orientation:l,dir:v,loop:f,children:E.jsx(Nn.div,{..._,ref:e})}):E.jsx(Nn.div,{..._,ref:e})})}),pv="ToggleGroupItem",Ow=Qe.forwardRef((t,e)=>{const n=Aw(pv,t.__scopeToggleGroup),a=UH(pv,t.__scopeToggleGroup),i=Cw(t.__scopeToggleGroup),l=n.value.includes(t.value),u=a.disabled||t.disabled,f={...t,pressed:l,disabled:u},g=Qe.useRef(null);return a.rovingFocus?E.jsx(Gv,{asChild:!0,...i,focusable:!u,active:l,ref:g,children:E.jsx(J3,{...f,ref:e})}):E.jsx(J3,{...f,ref:e})});Ow.displayName=pv;var J3=Qe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...i}=t,l=Aw(pv,n),u={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},f=l.type==="single"?u:void 0;return E.jsx(xw,{...f,...i,ref:e,onPressedChange:g=>{g?l.onItemActivate(a):l.onItemDeactivate(a)}})}),LH=vb,PH=Ow,yb="Toolbar",[BH]=co(yb,[Xf,Ew]),bb=Xf(),Nw=Ew(),[HH,Mw]=BH(yb),Dw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:i,loop:l=!0,...u}=t,f=bb(n),g=zv(i);return E.jsx(HH,{scope:n,orientation:a,dir:g,children:E.jsx(ub,{asChild:!0,...f,orientation:a,dir:g,loop:l,children:E.jsx(Nn.div,{role:"toolbar","aria-orientation":a,dir:g,...u,ref:e})})})});Dw.displayName=yb;var jw="ToolbarSeparator",zw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Mw(jw,n);return E.jsx(DH,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});zw.displayName=jw;var GH="ToolbarButton",kw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=bb(n);return E.jsx(Gv,{asChild:!0,...i,focusable:!t.disabled,children:E.jsx(Nn.button,{type:"button",...a,ref:e})})});kw.displayName=GH;var qH="ToolbarLink",VH=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=bb(n);return E.jsx(Gv,{asChild:!0,...i,focusable:!0,children:E.jsx(Nn.a,{...a,ref:e,onKeyDown:Rt(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});VH.displayName=qH;var Uw="ToolbarToggleGroup",Lw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Mw(Uw,n),l=Nw(n);return E.jsx(LH,{"data-orientation":i.orientation,dir:i.dir,...l,...a,ref:e,rovingFocus:!1})});Lw.displayName=Uw;var YH="ToolbarToggleItem",Pw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Nw(n),l={__scopeToolbar:t.__scopeToolbar};return E.jsx(kw,{asChild:!0,...l,children:E.jsx(PH,{...i,...a,ref:e})})});Pw.displayName=YH;var ZH=Dw,IH=zw,e5=Lw,wc=Pw;function XH(t){return Gn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function t5({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:i,onEraserClick:l,tool:u,setTool:f}){return E.jsxs(ZH,{className:"flex px-6 py-3 md:px-5 w-full mx-5 sm:px-5 sm:w-fit sm:py-2 rounded-lg bg-white border-2 border-zinc-300 shadow-sm  justify-center max-sm:gap-3 ",children:[E.jsxs(e5,{type:"single",className:"flex gap-2 sm:gap-0.5",children:[E.jsx(wc,{value:"task",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:t,children:[E.jsx(CT,{className:"text-2xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task  Q"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"Q"})]})}),E.jsx(wc,{value:"todo",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:()=>e(),children:[E.jsx(xT,{className:"text-2xl md:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do  W"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"W"})]})}),E.jsx(wc,{value:"annotate",children:E.jsxs("div",{onClick:()=>i(),className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(ST,{className:"text-2xl md:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]})})]}),E.jsx(IH,{className:"w-px my-3 mx-2 bg-black"}),E.jsxs(e5,{type:"single",value:u,onValueChange:g=>{g&&f(g)},className:"flex gap-2 sm:gap-0.5",children:[E.jsx(wc,{value:"hand",className:"group",children:E.jsxs("div",{className:"pan-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(NT,{className:"-rotate-[45deg] text-2xl md:text-xl group-data-[state=on]:stroke-blue-500 sm:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Hand  1 or Z"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"1"})]})}),E.jsx(wc,{value:"select",className:"group",onClick:a,children:E.jsxs("div",{className:"select-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(TT,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select  2 or X"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"2"})]})}),E.jsx(wc,{value:"draw",className:"group",onClick:n,children:E.jsxs("div",{className:"draw-canvas relative flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(eS,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw  3 or C"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"3"})]})}),E.jsx(wc,{value:"eraser",className:"group",onClick:l,children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(XH,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-red-500 group-data-[state=on]:stroke-2",style:{strokeWidth:.5}}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Eraser  4 or V"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-red-500",children:"4"})]})})]})]})}async function Bw(t){const{data:e,error:n}=await cn.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;console.log("canvas id doesnt exist");const{data:a,error:i}=await cn.from("canvas").insert({owner_id:t}).select("canvas_id").single();return i?(console.error("Error creating canvas:",i),null):a.canvas_id}async function KH(t,e){try{const{data:n,error:a}=await cn.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function n5(t){try{const{data:e,error:n}=await cn.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function FH(t,e){try{const{error:n}=await cn.from("canvas").update({background_color:e}).eq("canvas_id",t);n&&console.error(n)}catch(n){console.error("Error on update canvas color function: ",n)}}async function QH(t){try{const{data:e,error:n}=await cn.from("canvas").select("background_color").eq("canvas_id",t).single();return n?(console.error(n),null):e.background_color}catch(e){console.error("Error on get canvas color function: ",e)}}async function kp(t,e){try{const{data:n}=await cn.auth.getUser(),a=n?.user;if(!a)return await new Promise(g=>{const p=indexedDB.open("CanvasDB"),v={local_canvas:"local",canvasData:t,updatedAt:Date.now()},_={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};p.onsuccess=()=>{const C=p.result.transaction(["Canvas","Viewport"],"readwrite"),T=C.objectStore("Canvas"),R=C.objectStore("Viewport");T.put(v),R.put(_),C.oncomplete=()=>g(!0),C.onerror=()=>g(!0)},p.onerror=()=>g(!0)}),{success:!0,canvasId:"local"};if(!a)return{success:!0};let i=e;if(!i&&(i=await Bw(a.id),!i))return{success:!1,error:"Failed to get canvas"};if(!t||!t.shapes||!t.connectors)return console.warn("Skipping save - incomplete data"),{success:!0,canvasId:i};await cn.from("shapes").delete().eq("canvas_id",i);const l=t.shapes.map(g=>({canvas_id:i,shape_data:g})),u=t.connectors.map(g=>({canvas_id:i,shape_data:g})),f=[...l,...u];if(console.log("Saving to DB:",{shapes:l.length,connectors:u.length,total:f.length}),f.length>0){const{error:g}=await cn.from("shapes").insert(f);if(g)return console.error("Insert error:",g),{success:!1,error:g.message}}return{success:!0,canvasId:i}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}const $H=async()=>new Promise(t=>{const e=indexedDB.open("CanvasDB");e.onsuccess=()=>{const a=e.result.transaction("Viewport","readonly"),l=a.objectStore("Viewport").get("local");a.oncomplete=()=>{const u=l.result;t(u||{x:0,y:0,scale:1})}},e.onerror=()=>{t({x:0,y:0,scale:1})}});async function Up(t){try{const{data:{user:e}}=await cn.auth.getUser(),n=await $H();if(!e)return new Promise(R=>{const O=indexedDB.open("CanvasDB");O.onsuccess=()=>{const j=O.result.transaction(["Canvas","Viewport"],"readonly"),L=j.objectStore("Canvas").get("local"),U=j.objectStore("Viewport").get("local");L.onerror=()=>R({success:!1,error:"Failed to get canvas data"}),U.onerror=()=>R({success:!1,error:"Failed to get canvas viewport"}),j.oncomplete=()=>{const Y=L.result,Q=U.result;if(!Y){R({success:!1,error:"No offline canvas found"});return}Q&&(Y.canvasData.viewport=Q),R({success:!0,data:Y.canvasData,canvasId:Y.local_canvas})}}});let a=t;if(!a&&(a=await Bw(e.id),!a))return{success:!1,error:"Failed to get or create canvas"};const{data:i,error:l}=await cn.from("shapes").select("shape_data").eq("canvas_id",a);if(l)return{success:!1,error:l.message};const u=i.filter(R=>R.shape_data.shape==="rect").map(R=>R.shape_data),f=i.filter(R=>R.shape_data.shape==="line").map(R=>R.shape_data),g=i.filter(R=>R.shape_data.shape==="todo").map(R=>R.shape_data),p=i.filter(R=>R.shape_data.shape==="connector").map(R=>R.shape_data),v=[...u,...f,...g],_=Array.from(new Map(v.map(R=>[R.id,R])).values()),S=Array.from(new Map(p.map(R=>[R.id,R])).values()),C=new Set;_.forEach(R=>{C.add(R.id),C.add(`group-${R.id}`)});const T=S.filter(R=>{const O=C.has(R.from),M=C.has(R.to);return!O||!M?(console.warn("Removing orphaned connector:",{id:R.id,from:R.from,to:R.to,fromExists:O,toExists:M}),!1):!0});return console.log("Load complete:",{shapes:_.length,connectors:T.length,removed:S.length-T.length}),{success:!0,data:{shapes:_,connectors:T,viewport:n},canvasId:a}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function WH(t){try{const{data:{user:e}}=await cn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await cn.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function JH(){try{const{data:{user:t}}=await cn.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await cn.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}async function eG(t,e){try{const{data:{user:n}}=await cn.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await cn.from("canvas").update({canvas_name:e,updated_at:new Date().toISOString()}).eq("canvas_id",t).eq("owner_id",n.id);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("updateCanvasName error:",n),{success:!1,error:String(n)}}}async function tG(t){try{const{data:{user:e}}=await cn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await cn.from("shapes").delete().eq("canvas_id",t);if(n)return{success:!1,error:n.message};const{error:a}=await cn.from("canvas").delete().eq("canvas_id",t).eq("owner_id",e.id);return a?{success:!1,error:a.message}:{success:!0}}catch(e){return console.error("deleteCanvasById error:",e),{success:!1,error:String(e)}}}const nG=async()=>{let t,e,n=1;return new Promise(a=>{t=indexedDB.open("CanvasDB",2),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||(console.log("create object store"),e.createObjectStore("Canvas",{keyPath:"local_canvas"})),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"})},t.onsuccess=()=>{e=t.result,n=e.version,console.log("version: ",n),a(!0)},t.onerror=()=>{a(!1)}})},aG=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await nG()?console.log("IndexedDB Initialized (first time)"):console.error("InitDb - Something went wrong")),console.log("IndexedDB initailized")},[])});function rG(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function iG(){const{init:t}=aG(),{session:e}=Kk(),[n,a]=N.useState([]),[i,l]=N.useState(100),[u,f]=N.useState({x:0,y:0}),[g,p]=N.useState(!1),[v,_]=N.useState(!1),[S,C]=N.useState(!1),[T,R]=N.useState([]),[O,M]=N.useState([]),[j,z]=N.useState("hand"),[L,H]=N.useState("#000000"),U=lg(),[Y,Q]=N.useState(null),[se,_e]=N.useState(null),[Ce,ve]=N.useState(null),[fe,ce]=N.useState(!1),[be,B]=N.useState(null),[ae,K]=N.useState(null),[he,G]=N.useState([]),{pushUndo:$}=X2(),[Ee,Te]=N.useState(!1),[Ve,ot]=N.useState(""),[ue,xe]=N.useState(null),[Ie,dt]=N.useState(""),[rt,xt]=N.useState(!0),[sn,ln]=N.useState("#ffffff");rG({shapes:T,connectors:O},1e3,()=>{!ae||T.length===0||kp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ae)}),N.useEffect(()=>{let Re=!0;return(async()=>{if(await t(),!e){const dn=await Up("local");if(!Re)return;dn.success?(R(dn.data.shapes),M(dn.data.connectors),f({x:dn.data.viewport.x,y:dn.data.viewport.y}),l(Math.round(dn.data.viewport.scale*100)),K("local")):(M([]),R([])),K("local"),G([]);return}const ke=await Up(null);if(!Re)return;ke.success?(R(ke.data.shapes),K(ke.canvasId),M(ke.data.connectors),f({x:ke.data.viewport.x,y:ke.data.viewport.y}),l(Math.round(ke.data.viewport.scale*100))):console.error("Failed to load canvas:",ke.error);const Jt=await n5(e.user.id);if(!Re)return;Jt.success?G(Jt.canvases||[]):console.error("Failed to load canvas list:",Jt.error);const Ot=await JH();Re&&(Ot.success?B(Ot.data.avatar_url):console.error("Failed to load user profile:",Ot.error))})(),()=>{Re=!1}},[t,e]),N.useEffect(()=>{if(!ae)return;const Re=setTimeout(()=>{FH(ae,sn)},500);return()=>clearTimeout(Re)},[sn]),N.useEffect(()=>{ae&&(async()=>{const Re=await QH(ae);Re&&ln(Re)})()},[ae]);const gn=(Re,ke)=>{ve(Re),_e(ke),C(!0),_(!0)},Ha=()=>{ve(null),_e(null),C(!1),_(!1)},ma=Re=>{Q(Re),console.log("shape: "+Re),p(!0),C(!0)},ea=()=>{Q(null),p(!1),C(!1)},Ss=(Re,ke)=>{const Jt=new Date(Re.date).toISOString(),Ot={id:"todo-"+Date.now().toString(),x:ke?ke.x+400:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:ke?ke.y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),color:Re.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:Re.title,description:"",dueDate:Jt,completed:Re.completed,assignee:Re.assignee,status:"Something",parents:ke?ke.id:""};R([...T,Ot]),ke&&(R(dn=>dn.map(Yn=>Yn.shape==="rect"&&Yn.id===ke.id?{...Yn,children:[...Yn.children,"group-"+Ot.id]}:Yn)),I(Ot,ke,Ot.id)),$({before:Ot,after:Ot,action:"add",id:Ot.id})},pr=Re=>{z("hand");const ke={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),width:300,height:200,color:Re.color,title:Re.title,description:Re.description,dueDate:Re.date,completed:!1,isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};R([...T,ke]),$({before:ke,after:ke,action:"add"})},I=(Re,ke,Jt)=>{const Ot=Re instanceof $0.Node?Re.id():"group-"+Re.id,dn=ke instanceof $0.Node?ke.id():"group-"+ke.id,Yn={shape:"connector",id:"connector-"+Date.now().toString(),from:Ot,to:dn};M([...O,Yn]),$({before:Yn,after:Yn,action:"add",id:Jt||void 0})},re=()=>{const Re={id:"text-"+Date.now().toString(),x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),fontSize:20,text:"Insert your text here",shape:"text",behavior:"decor",scaleX:1,scaleY:1,width:200,color:"black"};R([...T,Re]),$({before:Re,after:Re,action:"add"})},ge=(Re,ke)=>{R(Jt=>Jt.map(Ot=>Ot.id===Re.id?{...Ot,title:ke.title,description:ke.description,color:ke.color,dueDate:ke.date}:Ot))},He=(Re,ke)=>{R(Jt=>Jt.map(Ot=>Ot.id===Re.id?{...Ot,title:ke.title,assignee:ke.assignee,dueDate:ke.date,completed:ke.completed,color:ke.color}:Ot))},Le=()=>{z(j==="draw"?"hand":"draw")},je=()=>{z(j==="eraser"?"hand":"eraser")},Ye=()=>{z(j==="select"?"hand":"select")},$e=()=>new Promise((Re,ke)=>{const Jt=indexedDB.open("CanvasDB");Jt.onsuccess=()=>{const dn=Jt.result.transaction("Canvas","readwrite");dn.objectStore("Canvas").clear(),dn.oncomplete=()=>{console.log("IndexedDB shapes cleared"),Re()},dn.onerror=()=>{console.error("Failed to clear IndexedDB shapes"),ke()}},Jt.onerror=()=>ke()}),vt=async()=>{if(R([]),M([]),ae==="local")await $e();else if(ae){const Re=await WH(ae);Re.success||console.error("Failed to delete canvas from supabase",Re.error)}},Wt=async()=>{ce(!0);try{await cn.auth.signOut();const Re=await Up("local");Re.success?(R(Re.data.shapes),M(Re.data.connectors),f(Re.data.viewport),l(Math.round(Re.data.viewport.scale*100)),K("local")):(R([]),M([]),K(null)),await new Promise(ke=>setTimeout(ke,2e3))}catch{}finally{ce(!1)}},vr=async()=>{ce(!0);try{await kp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ae||null)}catch{}finally{ce(!1)}},Ga=async Re=>{ce(!0);try{ae&&Re&&Re!==ae&&await kp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ae);const ke=await Up(Re||null);ke.success?(R(ke.data.shapes),M(ke.data.connectors),K(ke.canvasId)):console.error("Load failed:",ke.error)}catch(ke){console.error("Load error:",ke)}finally{ce(!1)}},Ca=async Re=>{if(!e){console.warn("No session");return}ce(!0);try{ae&&await kp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ae);const ke=await KH(e.user.id,Re||`Canvas ${he.length+1}`);if(ke.success&&ke.canvasId){R([]),M([]),K(ke.canvasId);const Jt=await n5(e.user.id);Jt.success&&G(Jt.canvases||[])}else console.error("Create failed:",ke.error)}catch(ke){console.error("Create canvas error:",ke)}finally{ce(!1)}},qa=async Re=>{Re!==ae&&await Ga(Re)},er=async Re=>{if(Ie.trim()){ce(!0);try{const ke=await eG(Re,Ie);ke.success?(G(Jt=>Jt.map(Ot=>Ot.canvas_id===Re?{...Ot,canvas_name:Ie}:Ot)),xe(null),dt("")):console.error("Failed to update canvas name:",ke.error)}catch(ke){console.error("Error updating canvas name:",ke)}finally{ce(!1)}}},Ta=async(Re,ke)=>{if(window.confirm(`Are you sure you want to delete "${ke}"? This action cannot be undone.`)){ce(!0);try{const Ot=await tG(Re);if(Ot.success){if(G(dn=>dn.filter(Yn=>Yn.canvas_id!==Re)),ae===Re){const dn=he.filter(Yn=>Yn.canvas_id!==Re);dn.length>0?await qa(dn[0].canvas_id):(R([]),M([]),K(null))}}else console.error("Failed to delete canvas:",Ot.error)}catch(Ot){console.error("Error deleting canvas:",Ot)}finally{ce(!1)}}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"relative w-screen h-100dvh overflow-hidden ",children:[E.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[E.jsx("div",{className:"more-options",children:E.jsxs(Sy,{children:[E.jsx(xy,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:E.jsx(bT,{})})}),E.jsx(wy,{children:E.jsxs(Ey,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 max-h-[50dvh]  overflow-y-scroll rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white",children:[E.jsx(il,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:vr,children:[E.jsx(s4,{}),"Save"]})}),E.jsx(il,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:Re=>Re.preventDefault(),children:E.jsxs(Tp,{children:[E.jsx(py,{asChild:!0,children:E.jsxs("div",{className:"flex items-center gap-2 w-full",children:[E.jsx(i4,{}),"My Canvases (",he.length,")"]})}),E.jsxs(Ap,{children:[E.jsx(Rp,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Op,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-xl p-4 sm:p-6 rounded-lg z-101",children:[E.jsxs(Mp,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[E.jsx(i4,{}),"My Canvases"]}),E.jsx(Dp,{asChild:!0,children:E.jsx("div",{className:"my-4",children:E.jsx("div",{className:"grid grid-cols-1 gap-3",children:he.length===0?E.jsx("div",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):he.map(Re=>E.jsxs("div",{className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        transition-all
                                        ${ae===Re.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[E.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80",onClick:()=>{ue!==Re.canvas_id&&qa(Re.canvas_id)},children:[E.jsx(s4,{className:"w-5 h-5 text-blue-600"}),E.jsxs("div",{className:"flex-1",children:[ue===Re.canvas_id?E.jsx("input",{type:"text",value:Ie,onChange:ke=>dt(ke.target.value),onKeyDown:ke=>{ke.key===" "&&ke.stopPropagation(),ke.key==="Enter"?er(Re.canvas_id):ke.key==="Escape"&&(xe(null),dt(""))},className:"font-medium text-gray-800 border-2 border-blue-400 rounded px-2 py-1 w-full",autoFocus:!0,onClick:ke=>ke.stopPropagation()}):E.jsx("span",{className:"font-medium text-gray-800",children:Re.canvas_name||"Untitled"}),Re.created_at&&E.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(Re.created_at).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[ae===Re.canvas_id&&E.jsx("span",{className:"text-xs text-blue-600 font-medium mr-2",children:"Current"}),ue===Re.canvas_id?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:ke=>{ke.stopPropagation(),er(Re.canvas_id)},className:"p-2 hover:bg-green-100 rounded transition-colors",title:"Save",children:E.jsx(wT,{className:"w-4 h-4 text-green-600"})}),E.jsx("button",{onClick:ke=>{ke.stopPropagation(),xe(null),dt("")},className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Cancel",children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:ke=>{ke.stopPropagation(),xe(Re.canvas_id),dt(Re.canvas_name||"")},className:"p-2 hover:bg-blue-100 rounded transition-colors",title:"Edit name",children:E.jsx(eS,{className:"w-4 h-4 text-blue-600"})}),E.jsx("button",{onClick:ke=>{ke.stopPropagation(),Ta(Re.canvas_id,Re.canvas_name)},className:"p-2 hover:bg-red-100 rounded transition-colors",title:"Delete canvas",children:E.jsx(l4,{className:"w-4 h-4 text-red-600"})})]})]})]},Re.canvas_id))})})}),E.jsx("div",{className:"flex justify-end mt-6",children:E.jsx(Np,{asChild:!0,children:E.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),E.jsx(C0,{}),E.jsx(il,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:()=>Te(!0),children:[E.jsx(DT,{}),E.jsx("span",{children:fe?"Creating":"New Canvas"})]})}),E.jsx(il,{onSelect:Re=>Re.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs(Tp,{children:[E.jsx(py,{asChild:!0,children:E.jsxs("button",{className:"flex items-center gap-2",children:[E.jsx(l4,{}),"Clear Canvas"]})}),E.jsxs(Ap,{children:[E.jsx(Rp,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Op,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] max-w-sm sm:max-w-md p-4 sm:p-6 rounded-lg z-101",children:[E.jsx(Mp,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),E.jsx(Dp,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Np,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(vy,{asChild:!0,children:E.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:vt,children:"Yes, clear canvas"})})]})]})]})]})}),E.jsx(C0,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(il,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsx("a",{href:"https://github.com/x3nozite/rect-up",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Fk,{}),"Github"]})})}),E.jsx(il,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(OT,{}),"Feedback & Support"]})})}),E.jsx(C0,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(TH,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),E.jsx(AH,{value:sn,onValueChange:ln,className:"py-1 pl-2 ",children:E.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[E.jsx(zp,{value:"#ffffff",className:"group",children:E.jsx("div",{className:"p-4 relative bg-white border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),E.jsxs(zp,{value:"#fff7ed",className:"group",children:[E.jsx("div",{className:"p-4 bg-orange-50 border-orange-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-orange-400"}),E.jsx(Cy,{})]}),E.jsxs(zp,{value:"#f5f3ff",className:"group",children:[E.jsx("div",{className:"p-4 bg-violet-50 border-2 border-indigo-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-violet-400"}),E.jsx(Cy,{})]}),E.jsxs(zp,{value:"#f0fdfa",className:"group",children:[E.jsx("div",{className:"p-4 bg-teal-50 border-2 border-cyan-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-teal-400"}),E.jsx(Cy,{})]})]})})]})})]})}),E.jsx("div",{className:"tool-bar absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:rt&&E.jsx(t5,{onShapeClick:()=>ma(null),onTodoClick:()=>gn(null,null),onTextClick:re,onEraserClick:je,onClearClick:vt,onDrawClick:Le,onSelectClick:Ye,onColorSelect:H,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})}),E.jsxs("div",{className:"user-account",children:[E.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&E.jsx("div",{children:E.jsxs(Sy,{children:[E.jsx(xy,{asChild:!0,children:E.jsx("button",{children:E.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[E.jsx(b0,{className:"text-lg"}),E.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[E.jsx("span",{className:"text-xs",children:"Manage Account"}),E.jsx(ET,{className:"text-xs"})]})]})})}),E.jsx(wy,{children:E.jsxs(Ey,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[E.jsx("div",{children:be?E.jsx("img",{src:be,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(b0,{className:"text-3xl text-blue-500"})}),E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name||e?.user.user_metadata.username}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(C0,{className:"h-[2px] my-2 bg-gray-500"}),E.jsx(il,{onSelect:Re=>Re.preventDefault(),children:E.jsxs(Tp,{children:[E.jsx(py,{asChild:!0,children:E.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[E.jsx(I1,{}),E.jsx("span",{children:"Sign Out"})]})}),E.jsxs(Ap,{children:[E.jsx(Rp,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Op,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[E.jsx(Mp,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),E.jsx(Dp,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Np,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(vy,{asChild:!0,children:E.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await Wt()},children:[E.jsx(I1,{}),"Sign Out"]})})]})]})]})]})}),E.jsx(RH,{className:"fill-purple-100"})]})})]})}),fe&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&E.jsx(qk,{title:"Sign In",onClick:async()=>{U("/signin")}}),!e&&E.jsx(Gk,{title:"Create Account",onClick:()=>U("/create-acc")})]}),E.jsxs("div",{className:"account-mobile flex lg:hidden",children:[E.jsxs(Sy,{children:[E.jsx(xy,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:E.jsx(b0,{})})}),E.jsx(wy,{children:E.jsxs(Ey,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&E.jsxs("div",{children:[E.jsx(il,{children:E.jsxs("div",{onClick:async()=>{U("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(MT,{}),E.jsx("span",{children:"Sign In"})]})}),E.jsx(il,{children:E.jsxs("div",{onClick:()=>U("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(b0,{}),E.jsx("span",{children:"Create Account"})]})})]}),e&&E.jsxs("div",{children:[E.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[E.jsx("div",{className:"pb-2",children:be?E.jsx("img",{src:be,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(b0,{className:"text-2xl"})}),E.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[E.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(C0,{className:"h-px my-2 bg-gray-500"}),E.jsx(il,{children:E.jsxs("div",{onClick:async()=>{await Wt()},className:"inline-flex items-center justify-start gap-2 ",children:[E.jsx(I1,{className:"text-sm font-semibold"}),E.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),fe&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),E.jsx("div",{className:"absolute toolbar-mob flex sm:hidden z-100 w-full left-1/2 -translate-x-1/2 justify-center  pb-4 bottom-0",children:rt&&E.jsx(t5,{onShapeClick:()=>ma(null),onTodoClick:()=>gn(null,null),onTextClick:re,onEraserClick:je,onClearClick:vt,onDrawClick:Le,onSelectClick:Ye,onColorSelect:H,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})}),E.jsx("div",{className:"account-buttons absolute flex flex-row top-1.5 right-0 gap-2 m-4 z-51"}),E.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 w-xs rounded-md shadow-md/15 shadow-gray-600"}),E.jsxs("div",{className:"absolute bottom-21 left-5 sm:bottom-4 sm:left-4  items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit inline-flex",children:[E.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg",onClick:()=>l(Math.max(i-10,10)),children:E.jsx(zT,{})}),E.jsxs("button",{onClick:()=>l(100),className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[i,"%",E.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),E.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>l(Math.min(i+10,500)),children:E.jsx(jT,{})})]}),E.jsx("div",{className:"flex flex-row absolute bottom-20 md:bottom-4 right-4 gap-4",children:E.jsxs("button",{onClick:()=>xt(Re=>!Re),className:"items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 hover:cursor-pointer group",children:[rt?E.jsx(RT,{}):E.jsx(AT,{}),E.jsx("span",{className:"absolute pointer-events-none right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Toolbar Visibility"})]})}),v&&E.jsx(Ik,{parent:Ce,onUpdateTodo:He,onAddTodo:Ss,onCloseForm:Ha,initialTodo:se}),g&&E.jsx(Yk,{onAddTask:pr,onUpdateTask:ge,onCloseForm:ea,initialData:Y}),E.jsx("div",{style:{background:sn,touchAction:"none"},children:E.jsx(Hk,{shapes:T,setShapes:R,tool:j,setTool:z,setZoomValue:l,zoom:i,connectors:O,addConnector:I,setConnectors:M,strokeColor:L,onShapeClick:ma,onAddTodo:gn,stageCoor:u,setStageCoor:f,isFormOpen:S})})]}),E.jsx("ul",{children:n.map(Re=>E.jsx("li",{children:Re.name},Re.name))}),E.jsx(Tp,{open:Ee,onOpenChange:Te,children:E.jsxs(Ap,{children:[E.jsx(Rp,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Op,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-lg p-4 sm:p-5 rounded-lg z-101",children:[E.jsx(Mp,{className:"text-xl font-bold mb-2",children:"New Canvas"}),E.jsx(Dp,{className:"my-3 text-gray-700",children:"Enter a name for your new canvas."}),E.jsx("input",{autoFocus:!0,value:Ve,onChange:Re=>ot(Re.target.value),placeholder:"Canvas name...",className:"w-full border border-gray-300 p-2 rounded-lg mb-4"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Np,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(vy,{asChild:!0,children:E.jsx("button",{className:"bg-blue-200 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-500 hover:text-white",onClick:()=>{Ca(Ve),ot("")},children:"Create Canvas"})})]})]})]})})]})}const sG=O9([{path:"/",element:E.jsx(iG,{})},{path:"/signin",element:E.jsx(cM,{})},{path:"/create-acc",element:E.jsx(fM,{})},{path:"/reset-password",element:E.jsx(gM,{})}]);function lG({children:t}){const[e,n]=N.useState([]),[a,i]=N.useState([]);function l(g){n(p=>[...p,g]),i([])}function u(g,p){const v=e.at(-1);if(!v)return;let _,S=[];for(_=[...e],S=[];_.length>0;){const C=_.at(-1);if(!C)return;const T=C.before;if(C.action==="add")T.shape==="connector"?(g(O=>O.map(M=>M.shape==="todo"?{...M,parents:M.parents===T.to?"":M.parents}:M.shape!=="rect"?M:{...M,children:M.children.filter(j=>j!==T.from),parents:M.parents===T.to?"":M.parents})),p(O=>O.filter(M=>M.id!==T.id))):g(O=>O.filter(M=>M.id!==T.id));else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else T.shape==="connector"?(p(O=>[...O,T]),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:"group-"+M.id===T.from?{...M,parents:T.to}:M.shape==="rect"&&"group-"+M.id===T.to?{...M,children:[...M.children,T.from]}:M))):g(O=>[...O,T]);S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||!v.id||R.id!==v.id)break}n(_),i(C=>[...C,...S])}function f(g,p){const v=a.at(-1);if(!v)return;let _=[...a],S=[];for(S=[];_.length>0;){const C=_.at(-1);if(!C)break;const T=C.after;if(C.action==="add")T.shape==="connector"?(p(O=>[...O,T]),g(O=>O.map(M=>M.shape==="todo"?{...M,parents:"group-"+M.id===T.to?T.from:M.parents}:M.shape!=="rect"?M:{...M,children:"group-"+M.id===T.to?[...M.children,T.from]:M.children}))):g(O=>[...O,T]);else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else C.action==="delete"&&(T.shape==="connector"?(p(O=>O.filter(M=>M.id!==T.id)),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:M.shape==="rect"&&M.children.includes(T.to)?{...M,children:M.children.filter(j=>j!==T.to)}:M.parents===T.from?{...M,parents:""}:M))):g(O=>O.filter(M=>M.id!==T.id)));S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||R.id!==v.id)break}i(_),n(C=>[...C,...S])}return E.jsx(gx.Provider,{value:{undoStack:e,redoStack:a,pushUndo:l,undo:u,redo:f},children:t})}r5.createRoot(document.getElementById("root")).render(E.jsx(Xk,{children:E.jsx(lG,{children:E.jsx(q9,{router:sG})})}));
