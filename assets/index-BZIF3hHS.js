function N8(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function M8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var R1={exports:{}},v0={};var e_;function D8(){if(e_)return v0;e_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return v0.Fragment=e,v0.jsx=n,v0.jsxs=n,v0}var t_;function j8(){return t_||(t_=1,R1.exports=D8()),R1.exports}var E=j8(),O1={exports:{}},y0={},N1={exports:{}},M1={};var n_;function z8(){return n_||(n_=1,(function(t){function e(B,ae){var Q=B.length;B.push(ae);e:for(;0<Q;){var se=Q-1>>>1,G=B[se];if(0<i(G,ae))B[se]=ae,B[Q]=G,Q=se;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var ae=B[0],Q=B.pop();if(Q!==ae){B[0]=Q;e:for(var se=0,G=B.length,ne=G>>>1;se<ne;){var _e=2*(se+1)-1,Ee=B[_e],Ve=_e+1,ut=B[Ve];if(0>i(Ee,Q))Ve<G&&0>i(ut,Ee)?(B[se]=ut,B[Ve]=Q,se=Ve):(B[se]=Ee,B[_e]=Q,se=_e);else if(Ve<G&&0>i(ut,Q))B[se]=ut,B[Ve]=Q,se=Ve;else break e}}return ae}function i(B,ae){var Q=B.sortIndex-ae.sortIndex;return Q!==0?Q:B.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var g=[],p=[],v=1,_=null,S=3,C=!1,T=!1,R=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function U(B){for(var ae=n(p);ae!==null;){if(ae.callback===null)a(p);else if(ae.startTime<=B)a(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function H(B){if(R=!1,U(B),!T)if(n(g)!==null)T=!0,L||(L=!0,le());else{var ae=n(p);ae!==null&&de(H,ae.startTime-B)}}var L=!1,Z=-1,$=5,ie=-1;function be(){return O?!0:!(t.unstable_now()-ie<$)}function Re(){if(O=!1,L){var B=t.unstable_now();ie=B;var ae=!0;try{e:{T=!1,R&&(R=!1,j(Z),Z=-1),C=!0;var Q=S;try{t:{for(U(B),_=n(g);_!==null&&!(_.expirationTime>B&&be());){var se=_.callback;if(typeof se=="function"){_.callback=null,S=_.priorityLevel;var G=se(_.expirationTime<=B);if(B=t.unstable_now(),typeof G=="function"){_.callback=G,U(B),ae=!0;break t}_===n(g)&&a(g),U(B)}else a(g);_=n(g)}if(_!==null)ae=!0;else{var ne=n(p);ne!==null&&de(H,ne.startTime-B),ae=!1}}break e}finally{_=null,S=Q,C=!1}ae=void 0}}finally{ae?le():L=!1}}}var le;if(typeof z=="function")le=function(){z(Re)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ge=ye.port2;ye.port1.onmessage=Re,le=function(){ge.postMessage(null)}}else le=function(){M(Re,0)};function de(B,ae){Z=M(function(){B(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(B){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var Q=S;S=ae;try{return B()}finally{S=Q}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(B,ae){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=S;S=B;try{return ae()}finally{S=Q}},t.unstable_scheduleCallback=function(B,ae,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Q+G,B={id:v++,callback:ae,priorityLevel:B,startTime:Q,expirationTime:G,sortIndex:-1},Q>se?(B.sortIndex=Q,e(p,B),n(g)===null&&B===n(p)&&(R?(j(Z),Z=-1):R=!0,de(H,Q-se))):(B.sortIndex=G,e(g,B),T||C||(T=!0,L||(L=!0,le()))),B},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(B){var ae=S;return function(){var Q=S;S=ae;try{return B.apply(this,arguments)}finally{S=Q}}}})(M1)),M1}var a_;function f2(){return a_||(a_=1,N1.exports=z8()),N1.exports}var D1={exports:{}},Lt={};var r_;function k8(){if(r_)return Lt;r_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(G,ne,_e){this.props=G,this.context=ne,this.refs=R,this.updater=_e||C}O.prototype.isReactComponent={},O.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=O.prototype;function j(G,ne,_e){this.props=G,this.context=ne,this.refs=R,this.updater=_e||C}var z=j.prototype=new M;z.constructor=j,T(z,O.prototype),z.isPureReactComponent=!0;var U=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function Z(G,ne,_e,Ee,Ve,ut){return _e=ut.ref,{$$typeof:t,type:G,key:ne,ref:_e!==void 0?_e:null,props:ut}}function $(G,ne){return Z(G.type,ne,void 0,void 0,void 0,G.props)}function ie(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function be(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(_e){return ne[_e]})}var Re=/\/+/g;function le(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?be(""+G.key):ne.toString(36)}function ye(){}function ge(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ye,ye):(G.status="pending",G.then(function(ne){G.status==="pending"&&(G.status="fulfilled",G.value=ne)},function(ne){G.status==="pending"&&(G.status="rejected",G.reason=ne)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function de(G,ne,_e,Ee,Ve){var ut=typeof G;(ut==="undefined"||ut==="boolean")&&(G=null);var Ie=!1;if(G===null)Ie=!0;else switch(ut){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(G.$$typeof){case t:case e:Ie=!0;break;case v:return Ie=G._init,de(Ie(G._payload),ne,_e,Ee,Ve)}}if(Ie)return Ve=Ve(G),Ie=Ee===""?"."+le(G,0):Ee,U(Ve)?(_e="",Ie!=null&&(_e=Ie.replace(Re,"$&/")+"/"),de(Ve,ne,_e,"",function(we){return we})):Ve!=null&&(ie(Ve)&&(Ve=$(Ve,_e+(Ve.key==null||G&&G.key===Ve.key?"":(""+Ve.key).replace(Re,"$&/")+"/")+Ie)),ne.push(Ve)),1;Ie=0;var st=Ee===""?".":Ee+":";if(U(G))for(var Et=0;Et<G.length;Et++)Ee=G[Et],ut=st+le(Ee,Et),Ie+=de(Ee,ne,_e,ut,Ve);else if(Et=S(G),typeof Et=="function")for(G=Et.call(G),Et=0;!(Ee=G.next()).done;)Ee=Ee.value,ut=st+le(Ee,Et++),Ie+=de(Ee,ne,_e,ut,Ve);else if(ut==="object"){if(typeof G.then=="function")return de(ge(G),ne,_e,Ee,Ve);throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function B(G,ne,_e){if(G==null)return G;var Ee=[],Ve=0;return de(G,Ee,"","",function(ut){return ne.call(_e,ut,Ve++)}),Ee}function ae(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(_e){(G._status===0||G._status===-1)&&(G._status=1,G._result=_e)},function(_e){(G._status===0||G._status===-1)&&(G._status=2,G._result=_e)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var Q=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function se(){}return Lt.Children={map:B,forEach:function(G,ne,_e){B(G,function(){ne.apply(this,arguments)},_e)},count:function(G){var ne=0;return B(G,function(){ne++}),ne},toArray:function(G){return B(G,function(ne){return ne})||[]},only:function(G){if(!ie(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Lt.Component=O,Lt.Fragment=n,Lt.Profiler=i,Lt.PureComponent=j,Lt.StrictMode=a,Lt.Suspense=g,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return H.H.useMemoCache(G)}},Lt.cache=function(G){return function(){return G.apply(null,arguments)}},Lt.cloneElement=function(G,ne,_e){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Ee=T({},G.props),Ve=G.key,ut=void 0;if(ne!=null)for(Ie in ne.ref!==void 0&&(ut=void 0),ne.key!==void 0&&(Ve=""+ne.key),ne)!L.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(Ee[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)Ee.children=_e;else if(1<Ie){for(var st=Array(Ie),Et=0;Et<Ie;Et++)st[Et]=arguments[Et+2];Ee.children=st}return Z(G.type,Ve,void 0,void 0,ut,Ee)},Lt.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},Lt.createElement=function(G,ne,_e){var Ee,Ve={},ut=null;if(ne!=null)for(Ee in ne.key!==void 0&&(ut=""+ne.key),ne)L.call(ne,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Ve[Ee]=ne[Ee]);var Ie=arguments.length-2;if(Ie===1)Ve.children=_e;else if(1<Ie){for(var st=Array(Ie),Et=0;Et<Ie;Et++)st[Et]=arguments[Et+2];Ve.children=st}if(G&&G.defaultProps)for(Ee in Ie=G.defaultProps,Ie)Ve[Ee]===void 0&&(Ve[Ee]=Ie[Ee]);return Z(G,ut,void 0,void 0,null,Ve)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(G){return{$$typeof:f,render:G}},Lt.isValidElement=ie,Lt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:ae}},Lt.memo=function(G,ne){return{$$typeof:p,type:G,compare:ne===void 0?null:ne}},Lt.startTransition=function(G){var ne=H.T,_e={};H.T=_e;try{var Ee=G(),Ve=H.S;Ve!==null&&Ve(_e,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(se,Q)}catch(ut){Q(ut)}finally{H.T=ne}},Lt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Lt.use=function(G){return H.H.use(G)},Lt.useActionState=function(G,ne,_e){return H.H.useActionState(G,ne,_e)},Lt.useCallback=function(G,ne){return H.H.useCallback(G,ne)},Lt.useContext=function(G){return H.H.useContext(G)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(G,ne){return H.H.useDeferredValue(G,ne)},Lt.useEffect=function(G,ne,_e){var Ee=H.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ee.useEffect(G,ne)},Lt.useId=function(){return H.H.useId()},Lt.useImperativeHandle=function(G,ne,_e){return H.H.useImperativeHandle(G,ne,_e)},Lt.useInsertionEffect=function(G,ne){return H.H.useInsertionEffect(G,ne)},Lt.useLayoutEffect=function(G,ne){return H.H.useLayoutEffect(G,ne)},Lt.useMemo=function(G,ne){return H.H.useMemo(G,ne)},Lt.useOptimistic=function(G,ne){return H.H.useOptimistic(G,ne)},Lt.useReducer=function(G,ne,_e){return H.H.useReducer(G,ne,_e)},Lt.useRef=function(G){return H.H.useRef(G)},Lt.useState=function(G){return H.H.useState(G)},Lt.useSyncExternalStore=function(G,ne,_e){return H.H.useSyncExternalStore(G,ne,_e)},Lt.useTransition=function(){return H.H.useTransition()},Lt.version="19.1.1",Lt}var i_;function sg(){return i_||(i_=1,D1.exports=k8()),D1.exports}var j1={exports:{}},pr={};var s_;function U8(){if(s_)return pr;s_=1;var t=sg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(g,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:g,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pr.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},pr.flushSync=function(g){var p=u.T,v=a.p;try{if(u.T=null,a.p=2,g)return g()}finally{u.T=p,a.p=v,a.d.f()}},pr.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},pr.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},pr.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pr.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},pr.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pr.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=f(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},pr.requestFormReset=function(g){a.d.r(g)},pr.unstable_batchedUpdates=function(g,p){return g(p)},pr.useFormState=function(g,p,v){return u.H.useFormState(g,p,v)},pr.useFormStatus=function(){return u.H.useHostTransitionStatus()},pr.version="19.1.1",pr}var l_;function c3(){if(l_)return j1.exports;l_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),j1.exports=U8(),j1.exports}var o_;function L8(){if(o_)return y0;o_=1;var t=f2(),e=sg(),n=c3();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,d=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(d=s.return),r=s.return;while(r)}return s.tag===3?d:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(a(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var d=r,h=s;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){d=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return f(y),r;if(x===h)return f(y),s;x=x.sibling}throw Error(a(188))}if(d.return!==h.return)d=y,h=x;else{for(var D=!1,k=y.child;k;){if(k===d){D=!0,d=y,h=x;break}if(k===h){D=!0,h=y,d=x;break}k=k.sibling}if(!D){for(k=x.child;k;){if(k===d){D=!0,d=x,h=y;break}if(k===h){D=!0,h=x,d=y;break}k=k.sibling}if(!D)throw Error(a(189))}}if(d.alternate!==h)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=Re&&r[Re]||r["@@iterator"],typeof r=="function"?r:null)}var ye=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ye?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case L:return"SuspenseList";case ie:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case z:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Z:return s=r.displayName||null,s!==null?s:ge(r.type)||"Memo";case $:s=r._payload,r=r._init;try{return ge(r(s))}catch{}}return null}var de=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],G=-1;function ne(r){return{current:r}}function _e(r){0>G||(r.current=se[G],se[G]=null,G--)}function Ee(r,s){G++,se[G]=r.current,r.current=s}var Ve=ne(null),ut=ne(null),Ie=ne(null),st=ne(null);function Et(r,s){switch(Ee(Ie,s),Ee(ut,r),Ee(Ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Rb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Rb(s),r=Ob(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}_e(Ve),Ee(Ve,r)}function we(){_e(Ve),_e(ut),_e(Ie)}function Me(r){r.memoizedState!==null&&Ee(st,r);var s=Ve.current,d=Ob(s,r.type);s!==d&&(Ee(ut,r),Ee(Ve,d))}function ot(r){ut.current===r&&(_e(Ve),_e(ut)),st.current===r&&(_e(st),f0._currentValue=Q)}var _t=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,Ot=t.unstable_cancelCallback,mn=t.unstable_shouldYield,_n=t.unstable_requestPaint,un=t.unstable_now,Es=t.unstable_getCurrentPriorityLevel,er=t.unstable_ImmediatePriority,I=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,fe=t.unstable_LowPriority,Be=t.unstable_IdlePriority,Pe=t.log,je=t.unstable_setDisableYieldValue,Ye=null,$e=null;function xt(r){if(typeof Pe=="function"&&je(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ye,r)}catch{}}var tn=Math.clz32?Math.clz32:Ca,Ba=Math.log,Ha=Math.LN2;function Ca(r){return r>>>=0,r===0?32:31-(Ba(r)/Ha|0)|0}var Ga=256,tr=4194304;function ma(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Fr(r,s,d){var h=r.pendingLanes;if(h===0)return 0;var y=0,x=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var k=h&134217727;return k!==0?(h=k&~x,h!==0?y=ma(h):(D&=k,D!==0?y=ma(D):d||(d=k&~r,d!==0&&(y=ma(d))))):(k=h&~x,k!==0?y=ma(k):D!==0?y=ma(D):d||(d=h&~r,d!==0&&(y=ma(d)))),y===0?0:s!==0&&s!==y&&(s&x)===0&&(x=y&-y,d=s&-s,x>=d||x===32&&(d&4194048)!==0)?s:y}function qa(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Nr(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yi(){var r=Ga;return Ga<<=1,(Ga&4194048)===0&&(Ga=256),r}function Qr(){var r=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),r}function Cs(r){for(var s=[],d=0;31>d;d++)s.push(r);return s}function nr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function _l(r,s,d,h,y,x){var D=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var k=r.entanglements,Y=r.expirationTimes,ce=r.hiddenUpdates;for(d=D&~d;0<d;){var Se=31-tn(d),Te=1<<Se;k[Se]=0,Y[Se]=-1;var me=ce[Se];if(me!==null)for(ce[Se]=null,Se=0;Se<me.length;Se++){var pe=me[Se];pe!==null&&(pe.lane&=-536870913)}d&=~Te}h!==0&&gi(r,h,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(D&~s))}function gi(r,s,d){r.pendingLanes|=s,r.suspendedLanes&=~s;var h=31-tn(s);r.entangledLanes|=s,r.entanglements[h]=r.entanglements[h]|1073741824|d&4194090}function Ce(r,s){var d=r.entangledLanes|=s;for(r=r.entanglements;d;){var h=31-tn(d),y=1<<h;y&s|r[h]&s&&(r[h]|=s),d&=~y}}function ze(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function fn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Dt(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:Kb(r.type))}function q(r,s){var d=ae.p;try{return ae.p=r,s()}finally{ae.p=d}}var F=Math.random().toString(36).slice(2),ue="__reactFiber$"+F,Ae="__reactProps$"+F,Le="__reactContainer$"+F,et="__reactEvents$"+F,rt="__reactListeners$"+F,Ke="__reactHandles$"+F,We="__reactResources$"+F,it="__reactMarker$"+F;function at(r){delete r[ue],delete r[Ae],delete r[et],delete r[rt],delete r[Ke]}function Fe(r){var s=r[ue];if(s)return s;for(var d=r.parentNode;d;){if(s=d[Le]||d[ue]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(r=jb(r);r!==null;){if(d=r[ue])return d;r=jb(r)}return s}r=d,d=r.parentNode}return null}function Ct(r){if(r=r[ue]||r[Le]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function rn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function wn(r){var s=r[We];return s||(s=r[We]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(r){r[it]=!0}var pn=new Set,cn={};function Yt(r,s){ar(r,s),ar(r+"Capture",s)}function ar(r,s){for(cn[r]=s,r=0;r<s.length;r++)pn.add(s[r])}var Mr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rr={},Sl={};function xl(r){return _t.call(Sl,r)?!0:_t.call(rr,r)?!1:Mr.test(r)?Sl[r]=!0:(rr[r]=!0,!1)}function ir(r,s,d){if(xl(s))if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+d)}}function $r(r,s,d){if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+d)}}function Ta(r,s,d,h){if(h===null)r.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(s,d,""+h)}}var ft,Pt;function Va(r){if(ft===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);ft=s&&s[1]||"",Pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+r+Pt}var Ya=!1;function En(r,s){if(!r||Ya)return"";Ya=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(pe){var me=pe}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(pe){me=pe}r.call(Te.prototype)}}else{try{throw Error()}catch(pe){me=pe}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(pe){if(pe&&me&&typeof pe.stack=="string")return[pe.stack,me.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),D=x[0],k=x[1];if(D&&k){var Y=D.split(`
`),ce=k.split(`
`);for(y=h=0;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ce.length&&!ce[y].includes("DetermineComponentFrameRoot");)y++;if(h===Y.length||y===ce.length)for(h=Y.length-1,y=ce.length-1;1<=h&&0<=y&&Y[h]!==ce[y];)y--;for(;1<=h&&0<=y;h--,y--)if(Y[h]!==ce[y]){if(h!==1||y!==1)do if(h--,y--,0>y||Y[h]!==ce[y]){var Se=`
`+Y[h].replace(" at new "," at ");return r.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",r.displayName)),Se}while(1<=h&&0<=y);break}}}finally{Ya=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Va(d):""}function Ts(r){switch(r.tag){case 26:case 27:case 5:return Va(r.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 15:return En(r.type,!1);case 11:return En(r.type.render,!1);case 1:return En(r.type,!0);case 31:return Va("Activity");default:return""}}function vr(r){try{var s="";do s+=Ts(r),r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function pa(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $f(r){var s=Fc(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){h=""+D,x.call(this,D)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Au(r){r._valueTracker||(r._valueTracker=$f(r))}function Wf(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var d=s.getValue(),h="";return r&&(h=Fc(r)?r.checked?"true":"false":r.value),r=h,r!==d?(s.setValue(r),!0):!1}function Ru(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xg=/[\n"\\]/g;function yr(r){return r.replace(xg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qc(r,s,d,h,y,x,D,k){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),s!=null?D==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pa(s)):r.value!==""+pa(s)&&(r.value=""+pa(s)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),s!=null?Wc(r,D,pa(s)):d!=null?Wc(r,D,pa(d)):h!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+pa(k):r.removeAttribute("name")}function $c(r,s,d,h,y,x,D,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),s!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;d=d!=null?""+pa(d):"",s=s!=null?""+pa(s):d,k||s===r.value||(r.value=s),r.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=k?r.checked:!!h,r.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function Wc(r,s,d){s==="number"&&Ru(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function mo(r,s,d,h){if(r=r.options,s){s={};for(var y=0;y<d.length;y++)s["$"+d[y]]=!0;for(d=0;d<r.length;d++)y=s.hasOwnProperty("$"+r[d].value),r[d].selected!==y&&(r[d].selected=y),y&&h&&(r[d].defaultSelected=!0)}else{for(d=""+pa(d),s=null,y=0;y<r.length;y++){if(r[y].value===d){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Jf(r,s,d){if(s!=null&&(s=""+pa(s),s!==r.value&&(r.value=s),d==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=d!=null?""+pa(d):""}function eh(r,s,d,h){if(s==null){if(h!=null){if(d!=null)throw Error(a(92));if(de(h)){if(1<h.length)throw Error(a(93));h=h[0]}d=h}d==null&&(d=""),s=d}d=pa(s),r.defaultValue=d,h=r.textContent,h===d&&h!==""&&h!==null&&(r.value=h)}function wl(r,s){if(s){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=s;return}}r.textContent=s}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nh(r,s,d){var h=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":h?r.setProperty(s,d):typeof d!="number"||d===0||th.has(s)?s==="float"?r.cssFloat=d:r[s]=(""+d).trim():r[s]=d+"px"}function ah(r,s,d){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&d[y]!==h&&nh(r,y,h)}else for(var x in s)s.hasOwnProperty(x)&&nh(r,x,s[x])}function Jc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ed(r){return Eg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var td=null;function As(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zi=null,El=null;function Ou(r){var s=Ct(r);if(s&&(r=s.stateNode)){var d=r[Ae]||null;e:switch(r=s.stateNode,s.type){case"input":if(Qc(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+yr(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var h=d[s];if(h!==r&&h.form===r.form){var y=h[Ae]||null;if(!y)throw Error(a(90));Qc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<d.length;s++)h=d[s],h.form===r.form&&Wf(h)}break e;case"textarea":Jf(r,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&mo(r,!!d.multiple,s,!1)}}}var Cl=!1;function rh(r,s,d){if(Cl)return r(s,d);Cl=!0;try{var h=r(s);return h}finally{if(Cl=!1,(Zi!==null||El!==null)&&(nl(),Zi&&(s=Zi,r=El,El=Zi=null,Ou(s),r)))for(s=0;s<r.length;s++)Ou(r[s])}}function po(r,s){var d=r.stateNode;if(d===null)return null;var h=d[Ae]||null;if(h===null)return null;d=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(a(231,s,typeof d));return d}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(mi)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){nd=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{nd=!1}var Ii=null,Nu=null,Mu=null;function ih(){if(Mu)return Mu;var r,s=Nu,d=s.length,h,y="value"in Ii?Ii.value:Ii.textContent,x=y.length;for(r=0;r<d&&s[r]===y[r];r++);var D=d-r;for(h=1;h<=D&&s[d-h]===y[x-h];h++);return Mu=y.slice(r,1<h?1-h:void 0)}function yo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Du(){return!0}function sh(){return!1}function Za(r){function s(d,h,y,x,D){this._reactName=d,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(d=r[k],this[k]=d?d(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Du:sh,this.isPropagationStopped=sh,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=Za(Xi),bo=v({},Xi,{view:0,detail:0}),Iv=Za(bo),lh,ad,Ki,_o=v({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ki&&(Ki&&r.type==="mousemove"?(lh=r.screenX-Ki.screenX,ad=r.screenY-Ki.screenY):ad=lh=0,Ki=r),lh)},movementY:function(r){return"movementY"in r?r.movementY:ad}}),zu=Za(_o),Cg=v({},_o,{dataTransfer:0}),Tg=Za(Cg),rd=v({},bo,{relatedTarget:0}),Tl=Za(rd),id=v({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ag=Za(id),Rg=v({},Xi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rs=Za(Rg),Og=v({},Xi,{data:0}),Fi=Za(Og),Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=oh[r])?!!s[r]:!1}function ld(){return Ng}var Al=v({},bo,{key:function(r){if(r.key){var s=Qi[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(r){return r.type==="keypress"?yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),od=Za(Al),Mg=v({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=Za(Mg),Dg=v({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),jg=Za(Dg),Xv=v({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=Za(Xv),zg=v({},_o,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kg=Za(zg),Ug=v({},Xi,{newState:0,oldState:0}),Lg=Za(Ug),Pg=[9,13,27,32],So=mi&&"CompositionEvent"in window,Rl=null;mi&&"documentMode"in document&&(Rl=document.documentMode);var Bg=mi&&"TextEvent"in window&&!Rl,uh=mi&&(!So||Rl&&8<Rl&&11>=Rl),ch=" ",cd=!1;function dd(r,s){switch(r){case"keyup":return Pg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Os=!1;function fd(r,s){switch(r){case"compositionend":return dh(s);case"keypress":return s.which!==32?null:(cd=!0,ch);case"textInput":return r=s.data,r===ch&&cd?null:r;default:return null}}function fh(r,s){if(Os)return r==="compositionend"||!So&&dd(r,s)?(r=ih(),Mu=Nu=Ii=null,Os=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return uh&&s.locale!=="ko"?null:s.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Hg[r.type]:s==="textarea"}function hh(r,s,d,h){Zi?El?El.push(h):El=[h]:Zi=h,s=Lm(s,"onChange"),0<s.length&&(d=new ju("onChange","change",null,d,h),r.push({event:d,listeners:s}))}var br=null,Ol=null;function Kv(r){wb(r,0)}function ku(r){var s=rn(r);if(Wf(s))return r}function sr(r,s){if(r==="change")return s}var gh=!1;if(mi){var Uu;if(mi){var gd="oninput"in document;if(!gd){var mh=document.createElement("div");mh.setAttribute("oninput","return;"),gd=typeof mh.oninput=="function"}Uu=gd}else Uu=!1;gh=Uu&&(!document.documentMode||9<document.documentMode)}function md(){br&&(br.detachEvent("onpropertychange",pd),Ol=br=null)}function pd(r){if(r.propertyName==="value"&&ku(Ol)){var s=[];hh(s,Ol,r,As(r)),rh(Kv,s)}}function Gg(r,s,d){r==="focusin"?(md(),br=s,Ol=d,br.attachEvent("onpropertychange",pd)):r==="focusout"&&md()}function vd(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(Ol)}function Lu(r,s){if(r==="click")return ku(s)}function Hn(r,s){if(r==="input"||r==="change")return ku(s)}function Fv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var _r=typeof Object.is=="function"?Object.is:Fv;function xo(r,s){if(_r(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var d=Object.keys(r),h=Object.keys(s);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var y=d[h];if(!_t.call(s,y)||!_r(r[y],s[y]))return!1}return!0}function wo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $i(r,s){var d=wo(r);r=0;for(var h;d;){if(d.nodeType===3){if(h=r+d.textContent.length,r<=s&&h>=s)return{node:d,offset:s-r};r=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=wo(d)}}function ph(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ph(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function vh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ru(r.document);s instanceof r.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)r=s.contentWindow;else break;s=Ru(r.document)}return s}function Nl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var pi=mi&&"documentMode"in document&&11>=document.documentMode,Ml=null,Pu=null,Eo=null,Bu=!1;function yd(r,s,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Bu||Ml==null||Ml!==Ru(h)||(h=Ml,"selectionStart"in h&&Nl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Eo&&xo(Eo,h)||(Eo=h,h=Lm(Pu,"onSelect"),0<h.length&&(s=new ju("onSelect","select",null,s,d),r.push({event:s,listeners:h}),s.target=Ml)))}function vi(r,s){var d={};return d[r.toLowerCase()]=s.toLowerCase(),d["Webkit"+r]="webkit"+s,d["Moz"+r]="moz"+s,d}var Dl={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},bd={},qg={};mi&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function Ns(r){if(bd[r])return bd[r];if(!Dl[r])return r;var s=Dl[r],d;for(d in s)if(s.hasOwnProperty(d)&&d in qg)return bd[r]=s[d];return r}var yh=Ns("animationend"),Dr=Ns("animationiteration"),_d=Ns("animationstart"),Vg=Ns("transitionrun"),Qv=Ns("transitionstart"),bh=Ns("transitioncancel"),Aa=Ns("transitionend"),_h=new Map,Ra="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ra.push("scrollEnd");function jr(r,s){_h.set(r,s),Yt(s,[r])}var Wi=new WeakMap;function sa(r,s){if(typeof r=="object"&&r!==null){var d=Wi.get(r);return d!==void 0?d:(s={value:r,source:s,stack:vr(s)},Wi.set(r,s),s)}return{value:r,source:s,stack:vr(s)}}var ta=[],Ms=0,Hu=0;function Sr(){for(var r=Ms,s=Hu=Ms=0;s<r;){var d=ta[s];ta[s++]=null;var h=ta[s];ta[s++]=null;var y=ta[s];ta[s++]=null;var x=ta[s];if(ta[s++]=null,h!==null&&y!==null){var D=h.pending;D===null?y.next=y:(y.next=D.next,D.next=y),h.pending=y}x!==0&&js(d,y,x)}}function Gu(r,s,d,h){ta[Ms++]=r,ta[Ms++]=s,ta[Ms++]=d,ta[Ms++]=h,Hu|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Ds(r,s,d,h){return Gu(r,s,d,h),qu(r)}function yi(r,s){return Gu(r,null,null,s),qu(r)}function js(r,s,d){r.lanes|=d;var h=r.alternate;h!==null&&(h.lanes|=d);for(var y=!1,x=r.return;x!==null;)x.childLanes|=d,h=x.alternate,h!==null&&(h.childLanes|=d),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&s!==null&&(y=31-tn(d),r=x.hiddenUpdates,h=r[y],h===null?r[y]=[s]:h.push(s),s.lane=d|536870912),x):null}function qu(r){if(50<zi)throw zi=0,_c=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var jl={};function Vu(r,s,d,h){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,s,d,h){return new Vu(r,s,d,h)}function Co(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bi(r,s){var d=r.alternate;return d===null?(d=lr(r.tag,s,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=s,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,s=r.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Sd(r,s){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,s=d.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function To(r,s,d,h,y,x){var D=0;if(h=r,typeof r=="function")Co(r)&&(D=1);else if(typeof r=="string")D=v8(r,d,Ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case ie:return r=lr(31,d,s,y),r.elementType=ie,r.lanes=x,r;case T:return Ji(d.children,y,x,s);case R:D=8,y|=24;break;case O:return r=lr(12,d,s,y|2),r.elementType=O,r.lanes=x,r;case H:return r=lr(13,d,s,y),r.elementType=H,r.lanes=x,r;case L:return r=lr(19,d,s,y),r.elementType=L,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case z:D=10;break e;case j:D=9;break e;case U:D=11;break e;case Z:D=14;break e;case $:D=16,h=null;break e}D=29,d=Error(a(130,r===null?"null":typeof r,"")),h=null}return s=lr(D,d,s,y),s.elementType=r,s.type=h,s.lanes=x,s}function Ji(r,s,d,h){return r=lr(7,r,h,s),r.lanes=d,r}function xd(r,s,d){return r=lr(6,r,null,s),r.lanes=d,r}function Yu(r,s,d){return s=lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=d,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var la=[],zl=0,Oa=null,Zu=0,xr=[],zr=0,or=null,_i=1,Wr="";function kr(r,s){la[zl++]=Zu,la[zl++]=Oa,Oa=r,Zu=s}function Sh(r,s,d){xr[zr++]=_i,xr[zr++]=Wr,xr[zr++]=or,or=r;var h=_i;r=Wr;var y=32-tn(h)-1;h&=~(1<<y),d+=1;var x=32-tn(s)+y;if(30<x){var D=y-y%5;x=(h&(1<<D)-1).toString(32),h>>=D,y-=D,_i=1<<32-tn(s)+y|d<<y|h,Wr=x+r}else _i=1<<x|d<<y|h,Wr=r}function wd(r){r.return!==null&&(kr(r,1),Sh(r,1,0))}function Ed(r){for(;r===Oa;)Oa=la[--zl],la[zl]=null,Zu=la[--zl],la[zl]=null;for(;r===or;)or=xr[--zr],xr[zr]=null,Wr=xr[--zr],xr[zr]=null,_i=xr[--zr],xr[zr]=null}var Na=null,kn=null,Qt=!1,kl=null,Si=!1,xh=Error(a(519));function zs(r){var s=Error(a(418,""));throw Ro(sa(s,r)),xh}function wh(r){var s=r.stateNode,d=r.type,h=r.memoizedProps;switch(s[ue]=r,s[Ae]=h,d){case"dialog":Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":case"embed":Xt("load",s);break;case"video":case"audio":for(d=0;d<s0.length;d++)Xt(s0[d],s);break;case"source":Xt("error",s);break;case"img":case"image":case"link":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"input":Xt("invalid",s),$c(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Au(s);break;case"select":Xt("invalid",s);break;case"textarea":Xt("invalid",s),eh(s,h.value,h.defaultValue,h.children),Au(s)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||h.suppressHydrationWarning===!0||Ab(s.textContent,d)?(h.popover!=null&&(Xt("beforetoggle",s),Xt("toggle",s)),h.onScroll!=null&&Xt("scroll",s),h.onScrollEnd!=null&&Xt("scrollend",s),h.onClick!=null&&(s.onclick=Pm),s=!0):s=!1,s||zs(r)}function Ul(r){for(Na=r.return;Na;)switch(Na.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Na=Na.return}}function ks(r){if(r!==Na)return!1;if(!Qt)return Ul(r),Qt=!0,!1;var s=r.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||g1(r.type,r.memoizedProps)),d=!d),d&&kn&&zs(r),Ul(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(s===0){kn=gs(r.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++;r=r.nextSibling}kn=null}}else s===27?(s=kn,$o(r.type)?(r=y1,y1=null,kn=r):kn=s):kn=Na?gs(r.stateNode.nextSibling):null;return!0}function Ao(){kn=Na=null,Qt=!1}function Eh(){var r=kl;return r!==null&&(_a===null?_a=r:_a.push.apply(_a,r),kl=null),r}function Ro(r){kl===null?kl=[r]:kl.push(r)}var Cd=ne(null),Us=null,xi=null;function Ur(r,s,d){Ee(Cd,s._currentValue),s._currentValue=d}function wi(r){r._currentValue=Cd.current,_e(Cd)}function Td(r,s,d){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===d)break;r=r.return}}function sn(r,s,d,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var D=y.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=y;for(var Y=0;Y<s.length;Y++)if(k.context===s[Y]){x.lanes|=d,k=x.alternate,k!==null&&(k.lanes|=d),Td(x.return,d,r),h||(D=null);break e}x=k.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=d,x=D.alternate,x!==null&&(x.lanes|=d),Td(D,d,r),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===r){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function Ll(r,s,d,h){r=null;for(var y=s,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var k=y.type;_r(y.pendingProps.value,D.value)||(r!==null?r.push(k):r=[k])}}else if(y===st.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(f0):r=[f0])}y=y.return}r!==null&&sn(s,r,d,h),s.flags|=262144}function Ad(r){for(r=r.firstContext;r!==null;){if(!_r(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ls(r){Us=r,xi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ma(r){return Yg(Us,r)}function Rd(r,s){return Us===null&&Ls(r),Yg(r,s)}function Yg(r,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},xi===null){if(r===null)throw Error(a(308));xi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else xi=xi.next=s;return d}var $v=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(d,h){r.push(h)}};this.abort=function(){s.aborted=!0,r.forEach(function(d){return d()})}},Ch=t.unstable_scheduleCallback,es=t.unstable_NormalPriority,Fn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oo(){return{controller:new $v,data:new Map,refCount:0}}function Jr(r){r.refCount--,r.refCount===0&&Ch(es,function(){r.controller.abort()})}var Pl=null,Iu=0,No=0,Bl=null;function Zg(r,s){if(Pl===null){var d=Pl=[];Iu=0,No=i1(),Bl={status:"pending",value:void 0,then:function(h){d.push(h)}}}return Iu++,s.then(Th,Th),s}function Th(){if(--Iu===0&&Pl!==null){Bl!==null&&(Bl.status="fulfilled");var r=Pl;Pl=null,No=0,Bl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Ig(r,s){var d=[],h={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return r.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<d.length;y++)(0,d[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),h}var Ah=B.S;B.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Zg(r,s),Ah!==null&&Ah(r,s)};var ts=ne(null);function jt(){var r=ts.current;return r!==null?r:bn.pooledCache}function Od(r,s){s===null?Ee(ts,ts.current):Ee(ts,s.pool)}function ur(){var r=jt();return r===null?null:{parent:Fn._currentValue,pool:r}}var Hl=Error(a(460)),Xg=Error(a(474)),Gl=Error(a(542)),Ps={then:function(){}};function ql(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Xu(){}function Nd(r,s,d){switch(d=r[d],d===void 0?r.push(s):d!==s&&(s.then(Xu,Xu),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ns(r),r;default:if(typeof s.status=="string")s.then(Xu,Xu);else{if(r=bn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ns(r),r}throw Ku=s,Hl}}var Ku=null;function Rh(){if(Ku===null)throw Error(a(459));var r=Ku;return Ku=null,r}function ns(r){if(r===Hl||r===Gl)throw Error(a(483))}var Ei=!1;function Fu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ci(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ia(r,s,d){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=qu(r),js(r,null,d),s}return Gu(r,h,s,d),qu(r)}function Vl(r,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var h=s.lanes;h&=r.pendingLanes,d|=h,s.lanes=d,Ce(r,d)}}function Oh(r,s){var d=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var y=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?y=x=D:x=x.next=D,d=d.next}while(d!==null);x===null?y=x=s:x=x.next=s}else y=x=s;d={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=s:r.next=s,d.lastBaseUpdate=s}var Md=!1;function $u(){if(Md){var r=Bl;if(r!==null)throw r}}function Bs(r,s,d,h){Md=!1;var y=r.updateQueue;Ei=!1;var x=y.firstBaseUpdate,D=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var Y=k,ce=Y.next;Y.next=null,D===null?x=ce:D.next=ce,D=Y;var Se=r.alternate;Se!==null&&(Se=Se.updateQueue,k=Se.lastBaseUpdate,k!==D&&(k===null?Se.firstBaseUpdate=ce:k.next=ce,Se.lastBaseUpdate=Y))}if(x!==null){var Te=y.baseState;D=0,Se=ce=Y=null,k=x;do{var me=k.lane&-536870913,pe=me!==k.lane;if(pe?(It&me)===me:(h&me)===me){me!==0&&me===No&&(Md=!0),Se!==null&&(Se=Se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var bt=r,gt=k;me=s;var On=d;switch(gt.tag){case 1:if(bt=gt.payload,typeof bt=="function"){Te=bt.call(On,Te,me);break e}Te=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=gt.payload,me=typeof bt=="function"?bt.call(On,Te,me):bt,me==null)break e;Te=v({},Te,me);break e;case 2:Ei=!0}}me=k.callback,me!==null&&(r.flags|=64,pe&&(r.flags|=8192),pe=y.callbacks,pe===null?y.callbacks=[me]:pe.push(me))}else pe={lane:me,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Se===null?(ce=Se=pe,Y=Te):Se=Se.next=pe,D|=me;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;pe=k,k=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);Se===null&&(Y=Te),y.baseState=Y,y.firstBaseUpdate=ce,y.lastBaseUpdate=Se,x===null&&(y.shared.lanes=0),xn|=D,r.lanes=D,r.memoizedState=Te}}function ct(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function Kg(r,s){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)ct(d[r],s)}var Mo=ne(null),Wu=ne(0);function Do(r,s){r=ji,Ee(Wu,r),Ee(Mo,s),ji=r|s.baseLanes}function Nh(){Ee(Wu,ji),Ee(Mo,Mo.current)}function Mh(){ji=Wu.current,_e(Mo),_e(Wu)}var Hs=0,zt=null,vn=null,Yn=null,Ju=!1,as=!1,Gs=!1,Dd=0,ec=0,Lr=null,rs=0;function Gt(){throw Error(a(321))}function Ti(r,s){if(s===null)return!1;for(var d=0;d<s.length&&d<r.length;d++)if(!_r(r[d],s[d]))return!1;return!0}function cr(r,s,d,h,y,x){return Hs=x,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?Cm:Kh,Gs=!1,x=d(h,y),Gs=!1,as&&(x=Qg(s,d,h,y)),Fg(r),x}function Fg(r){B.H=Pd;var s=vn!==null&&vn.next!==null;if(Hs=0,Yn=vn=zt=null,Ju=!1,ec=0,Lr=null,s)throw Error(a(300));r===null||yn||(r=r.dependencies,r!==null&&Ad(r)&&(yn=!0))}function Qg(r,s,d,h){zt=r;var y=0;do{if(as&&(Lr=null),ec=0,as=!1,25<=y)throw Error(a(301));if(y+=1,Yn=vn=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=t1,x=s(d,h)}while(as);return x}function oa(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?tc(s):s,r=r.useState()[0],(vn!==null?vn.memoizedState:null)!==r&&(zt.flags|=1024),s}function ei(){var r=Dd!==0;return Dd=0,r}function Dh(r,s,d){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d}function jh(r){if(Ju){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ju=!1}Hs=0,Yn=vn=zt=null,as=!1,ec=Dd=0,Lr=null}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?zt.memoizedState=Yn=r:Yn=Yn.next=r,Yn}function Qn(){if(vn===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=vn.next;var s=Yn===null?zt.memoizedState:Yn.next;if(s!==null)Yn=s,vn=r;else{if(r===null)throw zt.alternate===null?Error(a(467)):Error(a(310));vn=r,r={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Yn===null?zt.memoizedState=Yn=r:Yn=Yn.next=r}return Yn}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(r){var s=ec;return ec+=1,Lr===null&&(Lr=[]),r=Nd(Lr,r,s),s=zt,(Yn===null?s.memoizedState:Yn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Cm:Kh),r}function nc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tc(r);if(r.$$typeof===z)return Ma(r)}throw Error(a(438,String(r)))}function zh(r){var s=null,d=zt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var h=zt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=jd(),zt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(r),h=0;h<r;h++)d[h]=be;return s.index++,d}function fr(r,s){return typeof s=="function"?s(r):s}function Ai(r){var s=Qn();return kh(s,vn,r)}function kh(r,s,d){var h=r.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=d;var y=r.baseQueue,x=h.pending;if(x!==null){if(y!==null){var D=y.next;y.next=x.next,x.next=D}s.baseQueue=y=x,h.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{s=y.next;var k=D=null,Y=null,ce=s,Se=!1;do{var Te=ce.lane&-536870913;if(Te!==ce.lane?(It&Te)===Te:(Hs&Te)===Te){var me=ce.revertLane;if(me===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Te===No&&(Se=!0);else if((Hs&me)===me){ce=ce.next,me===No&&(Se=!0);continue}else Te={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(k=Y=Te,D=x):Y=Y.next=Te,zt.lanes|=me,xn|=me;Te=ce.action,Gs&&d(x,Te),x=ce.hasEagerState?ce.eagerState:d(x,Te)}else me={lane:Te,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(k=Y=me,D=x):Y=Y.next=me,zt.lanes|=Te,xn|=Te;ce=ce.next}while(ce!==null&&ce!==s);if(Y===null?D=x:Y.next=k,!_r(x,r.memoizedState)&&(yn=!0,Se&&(d=Bl,d!==null)))throw d;r.memoizedState=x,r.baseState=D,r.baseQueue=Y,h.lastRenderedState=x}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Uh(r){var s=Qn(),d=s.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=r;var h=d.dispatch,y=d.pending,x=s.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do x=r(x,D.action),D=D.next;while(D!==y);_r(x,s.memoizedState)||(yn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),d.lastRenderedState=x}return[x,h]}function $g(r,s,d){var h=zt,y=Qn(),x=Qt;if(x){if(d===void 0)throw Error(a(407));d=d()}else d=s();var D=!_r((vn||y).memoizedState,d);D&&(y.memoizedState=d,yn=!0),y=y.queue;var k=Jg.bind(null,h,y,r);if(ac(2048,8,k,[r]),y.getSnapshot!==s||D||Yn!==null&&Yn.memoizedState.tag&1){if(h.flags|=2048,ko(9,zd(),Wg.bind(null,h,y,d,s),null),bn===null)throw Error(a(349));x||(Hs&124)!==0||jo(h,s,d)}return d}function jo(r,s,d){r.flags|=16384,r={getSnapshot:s,value:d},s=zt.updateQueue,s===null?(s=jd(),zt.updateQueue=s,s.stores=[r]):(d=s.stores,d===null?s.stores=[r]:d.push(r))}function Wg(r,s,d,h){s.value=d,s.getSnapshot=h,em(s)&&zo(r)}function Jg(r,s,d){return d(function(){em(s)&&zo(r)})}function em(r){var s=r.getSnapshot;r=r.value;try{var d=s();return!_r(r,d)}catch{return!0}}function zo(r){var s=yi(r,2);s!==null&&ea(s,r,2)}function Lh(r){var s=dr();if(typeof r=="function"){var d=r;if(r=d(),Gs){xt(!0);try{d()}finally{xt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:r},s}function tm(r,s,d,h){return r.baseState=d,kh(r,vn,typeof h=="function"?h:fr)}function Wv(r,s,d,h,y){if(Ld(r))throw Error(a(485));if(r=s.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};B.T!==null?d(!0):x.isTransition=!1,h(x),d=s.pending,d===null?(x.next=s.pending=x,nm(s,x)):(x.next=d.next,s.pending=d.next=x)}}function nm(r,s){var d=s.action,h=s.payload,y=r.state;if(s.isTransition){var x=B.T,D={};B.T=D;try{var k=d(y,h),Y=B.S;Y!==null&&Y(D,k),am(r,s,k)}catch(ce){Ph(r,s,ce)}finally{B.T=x}}else try{x=d(y,h),am(r,s,x)}catch(ce){Ph(r,s,ce)}}function am(r,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){rm(r,s,h)},function(h){return Ph(r,s,h)}):rm(r,s,d)}function rm(r,s,d){s.status="fulfilled",s.value=d,im(s),r.state=d,s=r.pending,s!==null&&(d=s.next,d===s?r.pending=null:(d=d.next,s.next=d,nm(r,d)))}function Ph(r,s,d){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=d,im(s),s=s.next;while(s!==h)}r.action=null}function im(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function sm(r,s){return s}function lm(r,s){if(Qt){var d=bn.formState;if(d!==null){e:{var h=zt;if(Qt){if(kn){t:{for(var y=kn,x=Si;y.nodeType!==8;){if(!x){y=null;break t}if(y=gs(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){kn=gs(y.nextSibling),h=y.data==="F!";break e}}zs(h)}h=!1}h&&(s=d[0])}}return d=dr(),d.memoizedState=d.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:s},d.queue=h,d=xm.bind(null,zt,h),h.dispatch=d,h=Lh(!1),x=Xh.bind(null,zt,!1,h.queue),h=dr(),y={state:s,dispatch:null,action:r,pending:null},h.queue=y,d=Wv.bind(null,zt,y,x,d),y.dispatch=d,h.memoizedState=r,[s,d,!1]}function om(r){var s=Qn();return um(s,vn,r)}function um(r,s,d){if(s=kh(r,s,sm)[0],r=Ai(fr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=tc(s)}catch(D){throw D===Hl?Gl:D}else h=s;s=Qn();var y=s.queue,x=y.dispatch;return d!==s.memoizedState&&(zt.flags|=2048,ko(9,zd(),cm.bind(null,y,d),null)),[h,x,r]}function cm(r,s){r.action=s}function dm(r){var s=Qn(),d=vn;if(d!==null)return um(s,d,r);Qn(),s=s.memoizedState,d=Qn();var h=d.queue.dispatch;return d.memoizedState=r,[s,h,!1]}function ko(r,s,d,h){return r={tag:r,create:d,deps:h,inst:s,next:null},s=zt.updateQueue,s===null&&(s=jd(),zt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=r.next=r:(h=d.next,d.next=r,r.next=h,s.lastEffect=r),r}function zd(){return{destroy:void 0,resource:void 0}}function fm(){return Qn().memoizedState}function kd(r,s,d,h){var y=dr();h=h===void 0?null:h,zt.flags|=r,y.memoizedState=ko(1|s,zd(),d,h)}function ac(r,s,d,h){var y=Qn();h=h===void 0?null:h;var x=y.memoizedState.inst;vn!==null&&h!==null&&Ti(h,vn.memoizedState.deps)?y.memoizedState=ko(s,x,d,h):(zt.flags|=r,y.memoizedState=ko(1|s,x,d,h))}function Bh(r,s){kd(8390656,8,r,s)}function Hh(r,s){ac(2048,8,r,s)}function hm(r,s){return ac(4,2,r,s)}function Gh(r,s){return ac(4,4,r,s)}function qh(r,s){if(typeof s=="function"){r=r();var d=s(r);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Vh(r,s,d){d=d!=null?d.concat([r]):null,ac(4,4,qh.bind(null,s,r),d)}function rc(){}function Ud(r,s){var d=Qn();s=s===void 0?null:s;var h=d.memoizedState;return s!==null&&Ti(s,h[1])?h[0]:(d.memoizedState=[r,s],r)}function gm(r,s){var d=Qn();s=s===void 0?null:s;var h=d.memoizedState;if(s!==null&&Ti(s,h[1]))return h[0];if(h=r(),Gs){xt(!0);try{r()}finally{xt(!1)}}return d.memoizedState=[h,s],h}function Yh(r,s,d){return d===void 0||(Hs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=d,r=qn(),zt.lanes|=r,xn|=r,d)}function mm(r,s,d,h){return _r(d,s)?d:Mo.current!==null?(r=Yh(r,d,h),_r(r,s)||(yn=!0),r):(Hs&42)===0?(yn=!0,r.memoizedState=d):(r=qn(),zt.lanes|=r,xn|=r,s)}function pm(r,s,d,h,y){var x=ae.p;ae.p=x!==0&&8>x?x:8;var D=B.T,k={};B.T=k,Xh(r,!1,s,d);try{var Y=y(),ce=B.S;if(ce!==null&&ce(k,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Se=Ig(Y,h);ic(r,s,Se,In(r))}else ic(r,s,h,In(r))}catch(Te){ic(r,s,{then:function(){},status:"rejected",reason:Te},In())}finally{ae.p=x,B.T=D}}function vm(){}function Zh(r,s,d,h){if(r.tag!==5)throw Error(a(476));var y=ym(r).queue;pm(r,y,s,Q,d===null?vm:function(){return bm(r),d(h)})}function ym(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:Q},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:d},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function bm(r){var s=ym(r).next.queue;ic(r,s,{},In())}function Ih(){return Ma(f0)}function _m(){return Qn().memoizedState}function Sm(){return Qn().memoizedState}function Jv(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var d=In();r=Ci(d);var h=Ia(s,r,d);h!==null&&(ea(h,s,d),Vl(h,s,d)),s={cache:Oo()},r.payload=s;return}s=s.return}}function e1(r,s,d){var h=In();d={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Ld(r)?wm(s,d):(d=Ds(r,s,d,h),d!==null&&(ea(d,r,h),Em(d,s,h)))}function xm(r,s,d){var h=In();ic(r,s,d,h)}function ic(r,s,d,h){var y={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ld(r))wm(s,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var D=s.lastRenderedState,k=x(D,d);if(y.hasEagerState=!0,y.eagerState=k,_r(k,D))return Gu(r,s,y,0),bn===null&&Sr(),!1}catch{}finally{}if(d=Ds(r,s,y,h),d!==null)return ea(d,r,h),Em(d,s,h),!0}return!1}function Xh(r,s,d,h){if(h={lane:2,revertLane:i1(),action:h,hasEagerState:!1,eagerState:null,next:null},Ld(r)){if(s)throw Error(a(479))}else s=Ds(r,d,h,2),s!==null&&ea(s,r,2)}function Ld(r){var s=r.alternate;return r===zt||s!==null&&s===zt}function wm(r,s){as=Ju=!0;var d=r.pending;d===null?s.next=s:(s.next=d.next,d.next=s),r.pending=s}function Em(r,s,d){if((d&4194048)!==0){var h=s.lanes;h&=r.pendingLanes,d|=h,s.lanes=d,Ce(r,d)}}var Pd={readContext:Ma,use:nc,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Cm={readContext:Ma,use:nc,useCallback:function(r,s){return dr().memoizedState=[r,s===void 0?null:s],r},useContext:Ma,useEffect:Bh,useImperativeHandle:function(r,s,d){d=d!=null?d.concat([r]):null,kd(4194308,4,qh.bind(null,s,r),d)},useLayoutEffect:function(r,s){return kd(4194308,4,r,s)},useInsertionEffect:function(r,s){kd(4,2,r,s)},useMemo:function(r,s){var d=dr();s=s===void 0?null:s;var h=r();if(Gs){xt(!0);try{r()}finally{xt(!1)}}return d.memoizedState=[h,s],h},useReducer:function(r,s,d){var h=dr();if(d!==void 0){var y=d(s);if(Gs){xt(!0);try{d(s)}finally{xt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=e1.bind(null,zt,r),[h.memoizedState,r]},useRef:function(r){var s=dr();return r={current:r},s.memoizedState=r},useState:function(r){r=Lh(r);var s=r.queue,d=xm.bind(null,zt,s);return s.dispatch=d,[r.memoizedState,d]},useDebugValue:rc,useDeferredValue:function(r,s){var d=dr();return Yh(d,r,s)},useTransition:function(){var r=Lh(!1);return r=pm.bind(null,zt,r.queue,!0,!1),dr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,d){var h=zt,y=dr();if(Qt){if(d===void 0)throw Error(a(407));d=d()}else{if(d=s(),bn===null)throw Error(a(349));(It&124)!==0||jo(h,s,d)}y.memoizedState=d;var x={value:d,getSnapshot:s};return y.queue=x,Bh(Jg.bind(null,h,x,r),[r]),h.flags|=2048,ko(9,zd(),Wg.bind(null,h,x,d,s),null),d},useId:function(){var r=dr(),s=bn.identifierPrefix;if(Qt){var d=Wr,h=_i;d=(h&~(1<<32-tn(h)-1)).toString(32)+d,s=""+s+"R"+d,d=Dd++,0<d&&(s+="H"+d.toString(32)),s+=""}else d=rs++,s=""+s+"r"+d.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Ih,useFormState:lm,useActionState:lm,useOptimistic:function(r){var s=dr();s.memoizedState=s.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Xh.bind(null,zt,!0,d),d.dispatch=s,[r,s]},useMemoCache:zh,useCacheRefresh:function(){return dr().memoizedState=Jv.bind(null,zt)}},Kh={readContext:Ma,use:nc,useCallback:Ud,useContext:Ma,useEffect:Hh,useImperativeHandle:Vh,useInsertionEffect:hm,useLayoutEffect:Gh,useMemo:gm,useReducer:Ai,useRef:fm,useState:function(){return Ai(fr)},useDebugValue:rc,useDeferredValue:function(r,s){var d=Qn();return mm(d,vn.memoizedState,r,s)},useTransition:function(){var r=Ai(fr)[0],s=Qn().memoizedState;return[typeof r=="boolean"?r:tc(r),s]},useSyncExternalStore:$g,useId:_m,useHostTransitionStatus:Ih,useFormState:om,useActionState:om,useOptimistic:function(r,s){var d=Qn();return tm(d,vn,r,s)},useMemoCache:zh,useCacheRefresh:Sm},t1={readContext:Ma,use:nc,useCallback:Ud,useContext:Ma,useEffect:Hh,useImperativeHandle:Vh,useInsertionEffect:hm,useLayoutEffect:Gh,useMemo:gm,useReducer:Uh,useRef:fm,useState:function(){return Uh(fr)},useDebugValue:rc,useDeferredValue:function(r,s){var d=Qn();return vn===null?Yh(d,r,s):mm(d,vn.memoizedState,r,s)},useTransition:function(){var r=Uh(fr)[0],s=Qn().memoizedState;return[typeof r=="boolean"?r:tc(r),s]},useSyncExternalStore:$g,useId:_m,useHostTransitionStatus:Ih,useFormState:dm,useActionState:dm,useOptimistic:function(r,s){var d=Qn();return vn!==null?tm(d,vn,r,s):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:zh,useCacheRefresh:Sm},Uo=null,Xa=0;function sc(r){var s=Xa;return Xa+=1,Uo===null&&(Uo=[]),Nd(Uo,r,s)}function Yl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function lc(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Fh(r){var s=r._init;return s(r._payload)}function Qh(r){function s(J,K){if(r){var oe=J.deletions;oe===null?(J.deletions=[K],J.flags|=16):oe.push(K)}}function d(J,K){if(!r)return null;for(;K!==null;)s(J,K),K=K.sibling;return null}function h(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function y(J,K){return J=bi(J,K),J.index=0,J.sibling=null,J}function x(J,K,oe){return J.index=oe,r?(oe=J.alternate,oe!==null?(oe=oe.index,oe<K?(J.flags|=67108866,K):oe):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function D(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function k(J,K,oe,xe){return K===null||K.tag!==6?(K=xd(oe,J.mode,xe),K.return=J,K):(K=y(K,oe),K.return=J,K)}function Y(J,K,oe,xe){var tt=oe.type;return tt===T?Se(J,K,oe.props.children,xe,oe.key):K!==null&&(K.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===$&&Fh(tt)===K.type)?(K=y(K,oe.props),Yl(K,oe),K.return=J,K):(K=To(oe.type,oe.key,oe.props,null,J.mode,xe),Yl(K,oe),K.return=J,K)}function ce(J,K,oe,xe){return K===null||K.tag!==4||K.stateNode.containerInfo!==oe.containerInfo||K.stateNode.implementation!==oe.implementation?(K=Yu(oe,J.mode,xe),K.return=J,K):(K=y(K,oe.children||[]),K.return=J,K)}function Se(J,K,oe,xe,tt){return K===null||K.tag!==7?(K=Ji(oe,J.mode,xe,tt),K.return=J,K):(K=y(K,oe),K.return=J,K)}function Te(J,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=xd(""+K,J.mode,oe),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return oe=To(K.type,K.key,K.props,null,J.mode,oe),Yl(oe,K),oe.return=J,oe;case C:return K=Yu(K,J.mode,oe),K.return=J,K;case $:var xe=K._init;return K=xe(K._payload),Te(J,K,oe)}if(de(K)||le(K))return K=Ji(K,J.mode,oe,null),K.return=J,K;if(typeof K.then=="function")return Te(J,sc(K),oe);if(K.$$typeof===z)return Te(J,Rd(J,K),oe);lc(J,K)}return null}function me(J,K,oe,xe){var tt=K!==null?K.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return tt!==null?null:k(J,K,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:return oe.key===tt?Y(J,K,oe,xe):null;case C:return oe.key===tt?ce(J,K,oe,xe):null;case $:return tt=oe._init,oe=tt(oe._payload),me(J,K,oe,xe)}if(de(oe)||le(oe))return tt!==null?null:Se(J,K,oe,xe,null);if(typeof oe.then=="function")return me(J,K,sc(oe),xe);if(oe.$$typeof===z)return me(J,K,Rd(J,oe),xe);lc(J,oe)}return null}function pe(J,K,oe,xe,tt){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return J=J.get(oe)||null,k(K,J,""+xe,tt);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case S:return J=J.get(xe.key===null?oe:xe.key)||null,Y(K,J,xe,tt);case C:return J=J.get(xe.key===null?oe:xe.key)||null,ce(K,J,xe,tt);case $:var qt=xe._init;return xe=qt(xe._payload),pe(J,K,oe,xe,tt)}if(de(xe)||le(xe))return J=J.get(oe)||null,Se(K,J,xe,tt,null);if(typeof xe.then=="function")return pe(J,K,oe,sc(xe),tt);if(xe.$$typeof===z)return pe(J,K,oe,Rd(K,xe),tt);lc(K,xe)}return null}function bt(J,K,oe,xe){for(var tt=null,qt=null,lt=K,pt=K=0,Ua=null;lt!==null&&pt<oe.length;pt++){lt.index>pt?(Ua=lt,lt=null):Ua=lt.sibling;var dn=me(J,lt,oe[pt],xe);if(dn===null){lt===null&&(lt=Ua);break}r&&lt&&dn.alternate===null&&s(J,lt),K=x(dn,K,pt),qt===null?tt=dn:qt.sibling=dn,qt=dn,lt=Ua}if(pt===oe.length)return d(J,lt),Qt&&kr(J,pt),tt;if(lt===null){for(;pt<oe.length;pt++)lt=Te(J,oe[pt],xe),lt!==null&&(K=x(lt,K,pt),qt===null?tt=lt:qt.sibling=lt,qt=lt);return Qt&&kr(J,pt),tt}for(lt=h(lt);pt<oe.length;pt++)Ua=pe(lt,J,pt,oe[pt],xe),Ua!==null&&(r&&Ua.alternate!==null&&lt.delete(Ua.key===null?pt:Ua.key),K=x(Ua,K,pt),qt===null?tt=Ua:qt.sibling=Ua,qt=Ua);return r&&lt.forEach(function(nu){return s(J,nu)}),Qt&&kr(J,pt),tt}function gt(J,K,oe,xe){if(oe==null)throw Error(a(151));for(var tt=null,qt=null,lt=K,pt=K=0,Ua=null,dn=oe.next();lt!==null&&!dn.done;pt++,dn=oe.next()){lt.index>pt?(Ua=lt,lt=null):Ua=lt.sibling;var nu=me(J,lt,dn.value,xe);if(nu===null){lt===null&&(lt=Ua);break}r&&lt&&nu.alternate===null&&s(J,lt),K=x(nu,K,pt),qt===null?tt=nu:qt.sibling=nu,qt=nu,lt=Ua}if(dn.done)return d(J,lt),Qt&&kr(J,pt),tt;if(lt===null){for(;!dn.done;pt++,dn=oe.next())dn=Te(J,dn.value,xe),dn!==null&&(K=x(dn,K,pt),qt===null?tt=dn:qt.sibling=dn,qt=dn);return Qt&&kr(J,pt),tt}for(lt=h(lt);!dn.done;pt++,dn=oe.next())dn=pe(lt,J,pt,dn.value,xe),dn!==null&&(r&&dn.alternate!==null&&lt.delete(dn.key===null?pt:dn.key),K=x(dn,K,pt),qt===null?tt=dn:qt.sibling=dn,qt=dn);return r&&lt.forEach(function(O8){return s(J,O8)}),Qt&&kr(J,pt),tt}function On(J,K,oe,xe){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:e:{for(var tt=oe.key;K!==null;){if(K.key===tt){if(tt=oe.type,tt===T){if(K.tag===7){d(J,K.sibling),xe=y(K,oe.props.children),xe.return=J,J=xe;break e}}else if(K.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===$&&Fh(tt)===K.type){d(J,K.sibling),xe=y(K,oe.props),Yl(xe,oe),xe.return=J,J=xe;break e}d(J,K);break}else s(J,K);K=K.sibling}oe.type===T?(xe=Ji(oe.props.children,J.mode,xe,oe.key),xe.return=J,J=xe):(xe=To(oe.type,oe.key,oe.props,null,J.mode,xe),Yl(xe,oe),xe.return=J,J=xe)}return D(J);case C:e:{for(tt=oe.key;K!==null;){if(K.key===tt)if(K.tag===4&&K.stateNode.containerInfo===oe.containerInfo&&K.stateNode.implementation===oe.implementation){d(J,K.sibling),xe=y(K,oe.children||[]),xe.return=J,J=xe;break e}else{d(J,K);break}else s(J,K);K=K.sibling}xe=Yu(oe,J.mode,xe),xe.return=J,J=xe}return D(J);case $:return tt=oe._init,oe=tt(oe._payload),On(J,K,oe,xe)}if(de(oe))return bt(J,K,oe,xe);if(le(oe)){if(tt=le(oe),typeof tt!="function")throw Error(a(150));return oe=tt.call(oe),gt(J,K,oe,xe)}if(typeof oe.then=="function")return On(J,K,sc(oe),xe);if(oe.$$typeof===z)return On(J,K,Rd(J,oe),xe);lc(J,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,K!==null&&K.tag===6?(d(J,K.sibling),xe=y(K,oe),xe.return=J,J=xe):(d(J,K),xe=xd(oe,J.mode,xe),xe.return=J,J=xe),D(J)):d(J,K)}return function(J,K,oe,xe){try{Xa=0;var tt=On(J,K,oe,xe);return Uo=null,tt}catch(lt){if(lt===Hl||lt===Gl)throw lt;var qt=lr(29,lt,null,J.mode);return qt.lanes=xe,qt.return=J,qt}finally{}}}var Lo=Qh(!0),$h=Qh(!1),wr=ne(null),Ri=null;function qs(r){var s=r.alternate;Ee(Ht,Ht.current&1),Ee(wr,r),Ri===null&&(s===null||Mo.current!==null||s.memoizedState!==null)&&(Ri=r)}function Tm(r){if(r.tag===22){if(Ee(Ht,Ht.current),Ee(wr,r),Ri===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ri=r)}}else is()}function is(){Ee(Ht,Ht.current),Ee(wr,wr.current)}function ss(r){_e(wr),Ri===r&&(Ri=null),_e(Ht)}var Ht=ne(0);function oc(r){for(var s=r;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||v1(d)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Wh(r,s,d,h){s=r.memoizedState,d=d(h,s),d=d==null?s:v({},s,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Bd={enqueueSetState:function(r,s,d){r=r._reactInternals;var h=In(),y=Ci(h);y.payload=s,d!=null&&(y.callback=d),s=Ia(r,y,h),s!==null&&(ea(s,r,h),Vl(s,r,h))},enqueueReplaceState:function(r,s,d){r=r._reactInternals;var h=In(),y=Ci(h);y.tag=1,y.payload=s,d!=null&&(y.callback=d),s=Ia(r,y,h),s!==null&&(ea(s,r,h),Vl(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var d=In(),h=Ci(d);h.tag=2,s!=null&&(h.callback=s),s=Ia(r,h,d),s!==null&&(ea(s,r,d),Vl(s,r,d))}};function Jh(r,s,d,h,y,x,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,D):s.prototype&&s.prototype.isPureReactComponent?!xo(d,h)||!xo(y,x):!0}function Zl(r,s,d,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,h),s.state!==r&&Bd.enqueueReplaceState(s,s.state,null)}function ls(r,s){var d=s;if("ref"in s){d={};for(var h in s)h!=="ref"&&(d[h]=s[h])}if(r=r.defaultProps){d===s&&(d=v({},d));for(var y in r)d[y]===void 0&&(d[y]=r[y])}return d}var os=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Il(r){os(r)}function hr(r){console.error(r)}function Am(r){os(r)}function Hd(r,s){try{var d=r.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function uc(r,s,d){try{var h=r.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Po(r,s,d){return d=Ci(d),d.tag=3,d.payload={element:null},d.callback=function(){Hd(r,s)},d}function cc(r){return r=Ci(r),r.tag=3,r}function Gd(r,s,d,h){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;r.payload=function(){return y(x)},r.callback=function(){uc(s,d,h)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){uc(s,d,h),typeof y!="function"&&(el===null?el=new Set([this]):el.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function n1(r,s,d,h,y){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=d.alternate,s!==null&&Ll(s,d,y,!0),d=wr.current,d!==null){switch(d.tag){case 13:return Ri===null?ki():d.alternate===null&&kt===0&&(kt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,h===Ps?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([h]):s.add(h),Oe(r,h,y)),!1;case 22:return d.flags|=65536,h===Ps?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([h]):d.add(h)),Oe(r,h,y)),!1}throw Error(a(435,d.tag))}return Oe(r,h,y),ki(),!1}if(Qt)return s=wr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==xh&&(r=Error(a(422),{cause:h}),Ro(sa(r,d)))):(h!==xh&&(s=Error(a(423),{cause:h}),Ro(sa(s,d))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=sa(h,d),y=Po(r.stateNode,h,y),Oh(r,y),kt!==4&&(kt=2)),!1;var x=Error(a(520),{cause:h});if(x=sa(x,d),Ws===null?Ws=[x]:Ws.push(x),kt!==4&&(kt=2),s===null)return!0;h=sa(h,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,r=y&-y,d.lanes|=r,r=Po(d.stateNode,h,r),Oh(d,r),!1;case 1:if(s=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(el===null||!el.has(x))))return d.flags|=65536,y&=-y,d.lanes|=y,y=cc(y),Gd(y,r,d,h),Oh(d,y),!1}d=d.return}while(d!==null);return!1}var Rm=Error(a(461)),yn=!1;function ua(r,s,d,h){s.child=r===null?$h(s,null,d,h):Lo(s,r.child,d,h)}function Om(r,s,d,h,y){d=d.render;var x=s.ref;if("ref"in h){var D={};for(var k in h)k!=="ref"&&(D[k]=h[k])}else D=h;return Ls(s),h=cr(r,s,d,D,x,y),k=ei(),r!==null&&!yn?(Dh(r,s,y),Mn(r,s,y)):(Qt&&k&&wd(s),s.flags|=1,ua(r,s,h,y),s.child)}function qd(r,s,d,h,y){if(r===null){var x=d.type;return typeof x=="function"&&!Co(x)&&x.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=x,Nm(r,s,x,h,y)):(r=To(d.type,null,h,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,!Xl(r,y)){var D=x.memoizedProps;if(d=d.compare,d=d!==null?d:xo,d(D,h)&&r.ref===s.ref)return Mn(r,s,y)}return s.flags|=1,r=bi(x,h),r.ref=s.ref,r.return=s,s.child=r}function Nm(r,s,d,h,y){if(r!==null){var x=r.memoizedProps;if(xo(x,h)&&r.ref===s.ref)if(yn=!1,s.pendingProps=h=x,Xl(r,y))(r.flags&131072)!==0&&(yn=!0);else return s.lanes=r.lanes,Mn(r,s,y)}return Ka(r,s,d,h,y)}function Mm(r,s,d){var h=s.pendingProps,y=h.children,x=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=x!==null?x.baseLanes|d:d,r!==null){for(y=s.child=r.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;s.childLanes=x&~h}else s.childLanes=0,s.child=null;return Dm(r,s,h,d)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Od(s,x!==null?x.cachePool:null),x!==null?Do(s,x):Nh(),Tm(s);else return s.lanes=s.childLanes=536870912,Dm(r,s,x!==null?x.baseLanes|d:d,d)}else x!==null?(Od(s,x.cachePool),Do(s,x),is(),s.memoizedState=null):(r!==null&&Od(s,null),Nh(),is());return ua(r,s,y,d),s.child}function Dm(r,s,d,h){var y=jt();return y=y===null?null:{parent:Fn._currentValue,pool:y},s.memoizedState={baseLanes:d,cachePool:y},r!==null&&Od(s,null),Nh(),Tm(s),r!==null&&Ll(r,s,h,!0),null}function Vs(r,s){var d=s.ref;if(d===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(r===null||r.ref!==d)&&(s.flags|=4194816)}}function Ka(r,s,d,h,y){return Ls(s),d=cr(r,s,d,h,void 0,y),h=ei(),r!==null&&!yn?(Dh(r,s,y),Mn(r,s,y)):(Qt&&h&&wd(s),s.flags|=1,ua(r,s,d,y),s.child)}function Vd(r,s,d,h,y,x){return Ls(s),s.updateQueue=null,d=Qg(s,h,d,y),Fg(r),h=ei(),r!==null&&!yn?(Dh(r,s,x),Mn(r,s,x)):(Qt&&h&&wd(s),s.flags|=1,ua(r,s,d,x),s.child)}function e0(r,s,d,h,y){if(Ls(s),s.stateNode===null){var x=jl,D=d.contextType;typeof D=="object"&&D!==null&&(x=Ma(D)),x=new d(h,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Bd,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=h,x.state=s.memoizedState,x.refs={},Fu(s),D=d.contextType,x.context=typeof D=="object"&&D!==null?Ma(D):jl,x.state=s.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Wh(s,d,D,h),x.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&Bd.enqueueReplaceState(x,x.state,null),Bs(s,h,x,y),$u(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(r===null){x=s.stateNode;var k=s.memoizedProps,Y=ls(d,k);x.props=Y;var ce=x.context,Se=d.contextType;D=jl,typeof Se=="object"&&Se!==null&&(D=Ma(Se));var Te=d.getDerivedStateFromProps;Se=typeof Te=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,Se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||ce!==D)&&Zl(s,x,h,D),Ei=!1;var me=s.memoizedState;x.state=me,Bs(s,h,x,y),$u(),ce=s.memoizedState,k||me!==ce||Ei?(typeof Te=="function"&&(Wh(s,d,Te,h),ce=s.memoizedState),(Y=Ei||Jh(s,d,Y,h,me,ce,D))?(Se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ce),x.props=h,x.state=ce,x.context=D,h=Y):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{x=s.stateNode,Qu(r,s),D=s.memoizedProps,Se=ls(d,D),x.props=Se,Te=s.pendingProps,me=x.context,ce=d.contextType,Y=jl,typeof ce=="object"&&ce!==null&&(Y=Ma(ce)),k=d.getDerivedStateFromProps,(ce=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Te||me!==Y)&&Zl(s,x,h,Y),Ei=!1,me=s.memoizedState,x.state=me,Bs(s,h,x,y),$u();var pe=s.memoizedState;D!==Te||me!==pe||Ei||r!==null&&r.dependencies!==null&&Ad(r.dependencies)?(typeof k=="function"&&(Wh(s,d,k,h),pe=s.memoizedState),(Se=Ei||Jh(s,d,Se,h,me,pe,Y)||r!==null&&r.dependencies!==null&&Ad(r.dependencies))?(ce||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,pe,Y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,pe,Y)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),x.props=h,x.state=pe,x.context=Y,h=Se):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(s.flags|=1024),h=!1)}return x=h,Vs(r,s),h=(s.flags&128)!==0,x||h?(x=s.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,r!==null&&h?(s.child=Lo(s,r.child,null,y),s.child=Lo(s,null,d,y)):ua(r,s,d,y),s.memoizedState=x.state,r=s.child):r=Mn(r,s,y),r}function Yd(r,s,d,h){return Ao(),s.flags|=256,ua(r,s,d,h),s.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(r){return{baseLanes:r,cachePool:ur()}}function Zs(r,s,d){return r=r!==null?r.childLanes&~d:0,s&&(r|=ba),r}function dc(r,s,d){var h=s.pendingProps,y=!1,x=(s.flags&128)!==0,D;if((D=x)||(D=r!==null&&r.memoizedState===null?!1:(Ht.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qt){if(y?qs(s):is(),Qt){var k=kn,Y;if(Y=k){e:{for(Y=k,k=Si;Y.nodeType!==8;){if(!k){k=null;break e}if(Y=gs(Y.nextSibling),Y===null){k=null;break e}}k=Y}k!==null?(s.memoizedState={dehydrated:k,treeContext:or!==null?{id:_i,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},Y=lr(18,null,null,0),Y.stateNode=k,Y.return=s,s.child=Y,Na=s,kn=null,Y=!0):Y=!1}Y||zs(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return v1(k)?s.lanes=32:s.lanes=536870912,null;ss(s)}return k=h.children,h=h.fallback,y?(is(),y=s.mode,k=Fa({mode:"hidden",children:k},y),h=Ji(h,y,d,null),k.return=s,h.return=s,k.sibling=h,s.child=k,y=s.child,y.memoizedState=Ys(d),y.childLanes=Zs(r,D,d),s.memoizedState=Zd,h):(qs(s),Bo(s,k))}if(Y=r.memoizedState,Y!==null&&(k=Y.dehydrated,k!==null)){if(x)s.flags&256?(qs(s),s.flags&=-257,s=gr(r,s,d)):s.memoizedState!==null?(is(),s.child=r.child,s.flags|=128,s=null):(is(),y=h.fallback,k=s.mode,h=Fa({mode:"visible",children:h.children},k),y=Ji(y,k,d,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,Lo(s,r.child,null,d),h=s.child,h.memoizedState=Ys(d),h.childLanes=Zs(r,D,d),s.memoizedState=Zd,s=y);else if(qs(s),v1(k)){if(D=k.nextSibling&&k.nextSibling.dataset,D)var ce=D.dgst;D=ce,h=Error(a(419)),h.stack="",h.digest=D,Ro({value:h,source:null,stack:null}),s=gr(r,s,d)}else if(yn||Ll(r,s,d,!1),D=(d&r.childLanes)!==0,yn||D){if(D=bn,D!==null&&(h=d&-d,h=(h&42)!==0?1:ze(h),h=(h&(D.suspendedLanes|d))!==0?0:h,h!==0&&h!==Y.retryLane))throw Y.retryLane=h,yi(r,h),ea(D,r,h),Rm;k.data==="$?"||ki(),s=gr(r,s,d)}else k.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=Y.treeContext,kn=gs(k.nextSibling),Na=s,Qt=!0,kl=null,Si=!1,r!==null&&(xr[zr++]=_i,xr[zr++]=Wr,xr[zr++]=or,_i=r.id,Wr=r.overflow,or=s),s=Bo(s,h.children),s.flags|=4096);return s}return y?(is(),y=h.fallback,k=s.mode,Y=r.child,ce=Y.sibling,h=bi(Y,{mode:"hidden",children:h.children}),h.subtreeFlags=Y.subtreeFlags&65011712,ce!==null?y=bi(ce,y):(y=Ji(y,k,d,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,k=r.child.memoizedState,k===null?k=Ys(d):(Y=k.cachePool,Y!==null?(ce=Fn._currentValue,Y=Y.parent!==ce?{parent:ce,pool:ce}:Y):Y=ur(),k={baseLanes:k.baseLanes|d,cachePool:Y}),y.memoizedState=k,y.childLanes=Zs(r,D,d),s.memoizedState=Zd,h):(qs(s),d=r.child,r=d.sibling,d=bi(d,{mode:"visible",children:h.children}),d.return=s,d.sibling=null,r!==null&&(D=s.deletions,D===null?(s.deletions=[r],s.flags|=16):D.push(r)),s.child=d,s.memoizedState=null,d)}function Bo(r,s){return s=Fa({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Fa(r,s){return r=lr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function gr(r,s,d){return Lo(s,r.child,null,d),r=Bo(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Is(r,s,d){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Td(r.return,s,d)}function ti(r,s,d,h,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=d,x.tailMode=y)}function Oi(r,s,d){var h=s.pendingProps,y=h.revealOrder,x=h.tail;if(ua(r,s,h.children,d),h=Ht.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Is(r,d,s);else if(r.tag===19)Is(r,d,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(Ee(Ht,h),y){case"forwards":for(d=s.child,y=null;d!==null;)r=d.alternate,r!==null&&oc(r)===null&&(y=d),d=d.sibling;d=y,d===null?(y=s.child,s.child=null):(y=d.sibling,d.sibling=null),ti(s,!1,y,d,x);break;case"backwards":for(d=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&oc(r)===null){s.child=y;break}r=y.sibling,y.sibling=d,d=y,y=r}ti(s,!0,d,null,x);break;case"together":ti(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mn(r,s,d){if(r!==null&&(s.dependencies=r.dependencies),xn|=s.lanes,(d&s.childLanes)===0)if(r!==null){if(Ll(r,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,d=bi(r,r.pendingProps),s.child=d,d.return=s;r.sibling!==null;)r=r.sibling,d=d.sibling=bi(r,r.pendingProps),d.return=s;d.sibling=null}return s.child}function Xl(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ad(r)))}function Xs(r,s,d){switch(s.tag){case 3:Et(s,s.stateNode.containerInfo),Ur(s,Fn,r.memoizedState.cache),Ao();break;case 27:case 5:Me(s);break;case 4:Et(s,s.stateNode.containerInfo);break;case 10:Ur(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(qs(s),s.flags|=128,null):(d&s.child.childLanes)!==0?dc(r,s,d):(qs(s),r=Mn(r,s,d),r!==null?r.sibling:null);qs(s);break;case 19:var y=(r.flags&128)!==0;if(h=(d&s.childLanes)!==0,h||(Ll(r,s,d,!1),h=(d&s.childLanes)!==0),y){if(h)return Oi(r,s,d);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ee(Ht,Ht.current),h)break;return null;case 22:case 23:return s.lanes=0,Mm(r,s,d);case 24:Ur(s,Fn,r.memoizedState.cache)}return Mn(r,s,d)}function fc(r,s,d){if(r!==null)if(r.memoizedProps!==s.pendingProps)yn=!0;else{if(!Xl(r,d)&&(s.flags&128)===0)return yn=!1,Xs(r,s,d);yn=(r.flags&131072)!==0}else yn=!1,Qt&&(s.flags&1048576)!==0&&Sh(s,Zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var h=s.elementType,y=h._init;if(h=y(h._payload),s.type=h,typeof h=="function")Co(h)?(r=ls(h,r),s.tag=1,s=e0(null,s,h,r,d)):(s.tag=0,s=Ka(null,s,h,r,d));else{if(h!=null){if(y=h.$$typeof,y===U){s.tag=11,s=Om(null,s,h,r,d);break e}else if(y===Z){s.tag=14,s=qd(null,s,h,r,d);break e}}throw s=ge(h)||h,Error(a(306,s,""))}}return s;case 0:return Ka(r,s,s.type,s.pendingProps,d);case 1:return h=s.type,y=ls(h,s.pendingProps),e0(r,s,h,y,d);case 3:e:{if(Et(s,s.stateNode.containerInfo),r===null)throw Error(a(387));h=s.pendingProps;var x=s.memoizedState;y=x.element,Qu(r,s),Bs(s,h,null,d);var D=s.memoizedState;if(h=D.cache,Ur(s,Fn,h),h!==x.cache&&sn(s,[Fn],d,!0),$u(),h=D.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Yd(r,s,h,d);break e}else if(h!==y){y=sa(Error(a(424)),s),Ro(y),s=Yd(r,s,h,d);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kn=gs(r.firstChild),Na=s,Qt=!0,kl=null,Si=!0,d=$h(s,null,h,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ao(),h===y){s=Mn(r,s,d);break e}ua(r,s,h,d)}s=s.child}return s;case 26:return Vs(r,s),r===null?(d=Lb(s.type,null,s.pendingProps,null))?s.memoizedState=d:Qt||(d=s.type,r=s.pendingProps,h=Bm(Ie.current).createElement(d),h[ue]=s,h[Ae]=r,Ja(h,d,r),Vt(h),s.stateNode=h):s.memoizedState=Lb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Me(s),r===null&&Qt&&(h=s.stateNode=zb(s.type,s.pendingProps,Ie.current),Na=s,Si=!0,y=kn,$o(s.type)?(y1=y,kn=gs(h.firstChild)):kn=y),ua(r,s,s.pendingProps.children,d),Vs(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Qt&&((y=h=kn)&&(h=r8(h,s.type,s.pendingProps,Si),h!==null?(s.stateNode=h,Na=s,kn=gs(h.firstChild),Si=!1,y=!0):y=!1),y||zs(s)),Me(s),y=s.type,x=s.pendingProps,D=r!==null?r.memoizedProps:null,h=x.children,g1(y,x)?h=null:D!==null&&g1(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=cr(r,s,oa,null,null,d),f0._currentValue=y),Vs(r,s),ua(r,s,h,d),s.child;case 6:return r===null&&Qt&&((r=d=kn)&&(d=i8(d,s.pendingProps,Si),d!==null?(s.stateNode=d,Na=s,kn=null,r=!0):r=!1),r||zs(s)),null;case 13:return dc(r,s,d);case 4:return Et(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Lo(s,null,h,d):ua(r,s,h,d),s.child;case 11:return Om(r,s,s.type,s.pendingProps,d);case 7:return ua(r,s,s.pendingProps,d),s.child;case 8:return ua(r,s,s.pendingProps.children,d),s.child;case 12:return ua(r,s,s.pendingProps.children,d),s.child;case 10:return h=s.pendingProps,Ur(s,s.type,h.value),ua(r,s,h.children,d),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Ls(s),y=Ma(y),h=h(y),s.flags|=1,ua(r,s,h,d),s.child;case 14:return qd(r,s,s.type,s.pendingProps,d);case 15:return Nm(r,s,s.type,s.pendingProps,d);case 19:return Oi(r,s,d);case 31:return h=s.pendingProps,d=s.mode,h={mode:h.mode,children:h.children},r===null?(d=Fa(h,d),d.ref=s.ref,s.child=d,d.return=s,s=d):(d=bi(r.child,h),d.ref=s.ref,s.child=d,d.return=s,s=d),s;case 22:return Mm(r,s,d);case 24:return Ls(s),h=Ma(Fn),r===null?(y=jt(),y===null&&(y=bn,x=Oo(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=d),y=x),s.memoizedState={parent:h,cache:y},Fu(s),Ur(s,Fn,y)):((r.lanes&d)!==0&&(Qu(r,s),Bs(s,null,null,d),$u()),y=r.memoizedState,x=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ur(s,Fn,h)):(h=x.cache,Ur(s,Fn,h),h!==y.cache&&sn(s,[Fn],d,!0))),ua(r,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Gn(r){r.flags|=4}function $n(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!qb(s)){if(s=wr.current,s!==null&&((It&4194048)===It?Ri!==null:(It&62914560)!==It&&(It&536870912)===0||s!==Ri))throw Ku=Ps,Xg;r.flags|=8192}}function Ft(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Qr():536870912,r.lanes|=s,Zo|=s)}function ni(r,s){if(!Qt)switch(r.tailMode){case"hidden":s=r.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function nn(r){var s=r.alternate!==null&&r.alternate.child===r.child,d=0,h=0;if(s)for(var y=r.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=d,s}function t0(r,s,d){var h=s.pendingProps;switch(Ed(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(s),null;case 1:return nn(s),null;case 3:return d=s.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),wi(Fn),we(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ks(s)?Gn(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Eh())),nn(s),null;case 26:return d=s.memoizedState,r===null?(Gn(s),d!==null?(nn(s),$n(s,d)):(nn(s),s.flags&=-16777217)):d?d!==r.memoizedState?(Gn(s),nn(s),$n(s,d)):(nn(s),s.flags&=-16777217):(r.memoizedProps!==h&&Gn(s),nn(s),s.flags&=-16777217),null;case 27:ot(s),d=Ie.current;var y=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Gn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return nn(s),null}r=Ve.current,ks(s)?wh(s):(r=zb(y,h,d),s.stateNode=r,Gn(s))}return nn(s),null;case 5:if(ot(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Gn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return nn(s),null}if(r=Ve.current,ks(s))wh(s);else{switch(y=Bm(Ie.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(d,{is:h.is}):y.createElement(d)}}r[ue]=s,r[Ae]=h;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=r;e:switch(Ja(r,d,h),d){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Gn(s)}}return nn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==h&&Gn(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ie.current,ks(s)){if(r=s.stateNode,d=s.memoizedProps,h=null,y=Na,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[ue]=s,r=!!(r.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||Ab(r.nodeValue,d)),r||zs(s)}else r=Bm(r).createTextNode(h),r[ue]=s,s.stateNode=r}return nn(s),null;case 13:if(h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=ks(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[ue]=s}else Ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nn(s),y=!1}else y=Eh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(ss(s),s):(ss(s),null)}if(ss(s),(s.flags&128)!==0)return s.lanes=d,s;if(d=h!==null,r=r!==null&&r.memoizedState!==null,d){h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)}return d!==r&&d&&(s.child.flags|=8192),Ft(s,s.updateQueue),nn(s),null;case 4:return we(),r===null&&u1(s.stateNode.containerInfo),nn(s),null;case 10:return wi(s.type),nn(s),null;case 19:if(_e(Ht),y=s.memoizedState,y===null)return nn(s),null;if(h=(s.flags&128)!==0,x=y.rendering,x===null)if(h)ni(y,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=oc(r),x!==null){for(s.flags|=128,ni(y,!1),r=x.updateQueue,s.updateQueue=r,Ft(s,r),s.subtreeFlags=0,r=d,d=s.child;d!==null;)Sd(d,r),d=d.sibling;return Ee(Ht,Ht.current&1|2),s.child}r=r.sibling}y.tail!==null&&un()>Ql&&(s.flags|=128,h=!0,ni(y,!1),s.lanes=4194304)}else{if(!h)if(r=oc(x),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,Ft(s,r),ni(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Qt)return nn(s),null}else 2*un()-y.renderingStartTime>Ql&&d!==536870912&&(s.flags|=128,h=!0,ni(y,!1),s.lanes=4194304);y.isBackwards?(x.sibling=s.child,s.child=x):(r=y.last,r!==null?r.sibling=x:s.child=x,y.last=x)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=un(),s.sibling=null,r=Ht.current,Ee(Ht,h?r&1|2:r&1),s):(nn(s),null);case 22:case 23:return ss(s),Mh(),h=s.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(d&536870912)!==0&&(s.flags&128)===0&&(nn(s),s.subtreeFlags&6&&(s.flags|=8192)):nn(s),d=s.updateQueue,d!==null&&Ft(s,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048),r!==null&&_e(ts),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),wi(Fn),nn(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Er(r,s){switch(Ed(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wi(Fn),we(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ot(s),null;case 13:if(ss(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _e(Ht),null;case 4:return we(),null;case 10:return wi(s.type),null;case 22:case 23:return ss(s),Mh(),r!==null&&_e(ts),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return wi(Fn),null;case 25:return null;default:return null}}function hc(r,s){switch(Ed(s),s.tag){case 3:wi(Fn),we();break;case 26:case 27:case 5:ot(s);break;case 4:we();break;case 13:ss(s);break;case 19:_e(Ht);break;case 10:wi(s.type);break;case 22:case 23:ss(s),Mh(),r!==null&&_e(ts);break;case 24:wi(Fn)}}function ai(r,s){try{var d=s.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var y=h.next;d=y;do{if((d.tag&r)===r){h=void 0;var x=d.create,D=d.inst;h=x(),D.destroy=h}d=d.next}while(d!==y)}}catch(k){ee(s,s.return,k)}}function Da(r,s,d){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&r)===r){var D=h.inst,k=D.destroy;if(k!==void 0){D.destroy=void 0,y=s;var Y=d,ce=k;try{ce()}catch(Se){ee(y,Y,Se)}}}h=h.next}while(h!==x)}}catch(Se){ee(s,s.return,Se)}}function jm(r){var s=r.updateQueue;if(s!==null){var d=r.stateNode;try{Kg(s,d)}catch(h){ee(r,r.return,h)}}}function zm(r,s,d){d.props=ls(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(h){ee(r,s,h)}}function gc(r,s){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof d=="function"?r.refCleanup=d(h):d.current=h}}catch(y){ee(r,s,y)}}function ln(r,s){var d=r.ref,h=r.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(y){ee(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){ee(r,s,y)}else d.current=null}function mc(r){var s=r.type,d=r.memoizedProps,h=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(y){ee(r,r.return,y)}}function Ks(r,s,d){try{var h=r.stateNode;Jw(h,r.type,d,s),h[Ae]=s}catch(y){ee(r,r.return,y)}}function Id(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$o(r.type)||r.tag===4}function Ho(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Id(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$o(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pc(r,s,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(r),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Pm));else if(h!==4&&(h===27&&$o(r.type)&&(d=r.stateNode,s=null),r=r.child,r!==null))for(pc(r,s,d),r=r.sibling;r!==null;)pc(r,s,d),r=r.sibling}function us(r,s,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?d.insertBefore(r,s):d.appendChild(r);else if(h!==4&&(h===27&&$o(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(us(r,s,d),r=r.sibling;r!==null;)us(r,s,d),r=r.sibling}function Go(r){var s=r.stateNode,d=r.memoizedProps;try{for(var h=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Ja(s,h,d),s[ue]=r,s[Ae]=d}catch(x){ee(r,r.return,x)}}var ri=!1,Cn=!1,Fs=!1,n0=typeof WeakSet=="function"?WeakSet:Set,Un=null;function a1(r,s){if(r=r.containerInfo,f1=Zm,r=vh(r),Nl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var D=0,k=-1,Y=-1,ce=0,Se=0,Te=r,me=null;t:for(;;){for(var pe;Te!==d||y!==0&&Te.nodeType!==3||(k=D+y),Te!==x||h!==0&&Te.nodeType!==3||(Y=D+h),Te.nodeType===3&&(D+=Te.nodeValue.length),(pe=Te.firstChild)!==null;)me=Te,Te=pe;for(;;){if(Te===r)break t;if(me===d&&++ce===y&&(k=D),me===x&&++Se===h&&(Y=D),(pe=Te.nextSibling)!==null)break;Te=me,me=Te.parentNode}Te=pe}d=k===-1||Y===-1?null:{start:k,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(h1={focusedElem:r,selectionRange:d},Zm=!1,Un=s;Un!==null;)if(s=Un,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Un=r;else for(;Un!==null;){switch(s=Un,x=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,d=s,y=x.memoizedProps,x=x.memoizedState,h=d.stateNode;try{var bt=ls(d.type,y,d.elementType===d.type);r=h.getSnapshotBeforeUpdate(bt,x),h.__reactInternalSnapshotBeforeUpdate=r}catch(gt){ee(d,d.return,gt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,d=r.nodeType,d===9)p1(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":p1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Un=r;break}Un=s.return}}function qo(r,s,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Zt(r,d),h&4&&ai(5,d);break;case 1:if(Zt(r,d),h&4)if(r=d.stateNode,s===null)try{r.componentDidMount()}catch(D){ee(d,d.return,D)}else{var y=ls(d.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){ee(d,d.return,D)}}h&64&&jm(d),h&512&&gc(d,d.return);break;case 3:if(Zt(r,d),h&64&&(r=d.updateQueue,r!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{Kg(r,s)}catch(D){ee(d,d.return,D)}}break;case 27:s===null&&h&4&&Go(d);case 26:case 5:Zt(r,d),s===null&&h&4&&mc(d),h&512&&gc(d,d.return);break;case 12:Zt(r,d);break;case 13:Zt(r,d),h&4&&Kl(r,d),h&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Xe.bind(null,d),s8(r,d))));break;case 22:if(h=d.memoizedState!==null||ri,!h){s=s!==null&&s.memoizedState!==null||Cn,y=ri;var x=Cn;ri=h,(Cn=s)&&!x?ii(r,d,(d.subtreeFlags&8772)!==0):Zt(r,d),ri=y,Cn=x}break;case 30:break;default:Zt(r,d)}}function Xd(r){var s=r.alternate;s!==null&&(r.alternate=null,Xd(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&at(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Sn=null,ya=!1;function mr(r,s,d){for(d=d.child;d!==null;)Cr(r,s,d),d=d.sibling}function Cr(r,s,d){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ye,d)}catch{}switch(d.tag){case 26:Cn||ln(d,s),mr(r,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Cn||ln(d,s);var h=Sn,y=ya;$o(d.type)&&(Sn=d.stateNode,ya=!1),mr(r,s,d),o0(d.stateNode),Sn=h,ya=y;break;case 5:Cn||ln(d,s);case 6:if(h=Sn,y=ya,Sn=null,mr(r,s,d),Sn=h,ya=y,Sn!==null)if(ya)try{(Sn.nodeType===9?Sn.body:Sn.nodeName==="HTML"?Sn.ownerDocument.body:Sn).removeChild(d.stateNode)}catch(x){ee(d,s,x)}else try{Sn.removeChild(d.stateNode)}catch(x){ee(d,s,x)}break;case 18:Sn!==null&&(ya?(r=Sn,Db(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),p0(r)):Db(Sn,d.stateNode));break;case 4:h=Sn,y=ya,Sn=d.stateNode.containerInfo,ya=!0,mr(r,s,d),Sn=h,ya=y;break;case 0:case 11:case 14:case 15:Cn||Da(2,d,s),Cn||Da(4,d,s),mr(r,s,d);break;case 1:Cn||(ln(d,s),h=d.stateNode,typeof h.componentWillUnmount=="function"&&zm(d,s,h)),mr(r,s,d);break;case 21:mr(r,s,d);break;case 22:Cn=(h=Cn)||d.memoizedState!==null,mr(r,s,d),Cn=h;break;default:mr(r,s,d)}}function Kl(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{p0(r)}catch(d){ee(s,s.return,d)}}function a0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new n0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new n0),s;default:throw Error(a(435,r.tag))}}function Ni(r,s){var d=a0(r);s.forEach(function(h){var y=Rt.bind(null,r,h);d.has(h)||(d.add(h),h.then(y,y))})}function Qa(r,s){var d=s.deletions;if(d!==null)for(var h=0;h<d.length;h++){var y=d[h],x=r,D=s,k=D;e:for(;k!==null;){switch(k.tag){case 27:if($o(k.type)){Sn=k.stateNode,ya=!1;break e}break;case 5:Sn=k.stateNode,ya=!1;break e;case 3:case 4:Sn=k.stateNode.containerInfo,ya=!0;break e}k=k.return}if(Sn===null)throw Error(a(160));Cr(x,D,y),Sn=null,ya=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vc(s,r),s=s.sibling}var ja=null;function vc(r,s){var d=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qa(s,r),Wn(r),h&4&&(Da(3,r,r.return),ai(3,r),Da(5,r,r.return));break;case 1:Qa(s,r),Wn(r),h&512&&(Cn||d===null||ln(d,d.return)),h&64&&ri&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var y=ja;if(Qa(s,r),Wn(r),h&512&&(Cn||d===null||ln(d,d.return)),h&4){var x=d!==null?d.memoizedState:null;if(h=r.memoizedState,d===null)if(h===null)if(r.stateNode===null){e:{h=r.type,d=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[it]||x[ue]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),Ja(x,h,d),x[ue]=r,Vt(x),h=x;break e;case"link":var D=Hb("link","href",y).get(h+(d.href||""));if(D){for(var k=0;k<D.length;k++)if(x=D[k],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(k,1);break t}}x=y.createElement(h),Ja(x,h,d),y.head.appendChild(x);break;case"meta":if(D=Hb("meta","content",y).get(h+(d.content||""))){for(k=0;k<D.length;k++)if(x=D[k],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(k,1);break t}}x=y.createElement(h),Ja(x,h,d),y.head.appendChild(x);break;default:throw Error(a(468,h))}x[ue]=r,Vt(x),h=x}r.stateNode=h}else Gb(y,r.type,r.stateNode);else r.stateNode=Bb(y,h,r.memoizedProps);else x!==h?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,h===null?Gb(y,r.type,r.stateNode):Bb(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Ks(r,r.memoizedProps,d.memoizedProps)}break;case 27:Qa(s,r),Wn(r),h&512&&(Cn||d===null||ln(d,d.return)),d!==null&&h&4&&Ks(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Qa(s,r),Wn(r),h&512&&(Cn||d===null||ln(d,d.return)),r.flags&32){y=r.stateNode;try{wl(y,"")}catch(pe){ee(r,r.return,pe)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Ks(r,y,d!==null?d.memoizedProps:y)),h&1024&&(Fs=!0);break;case 6:if(Qa(s,r),Wn(r),h&4){if(r.stateNode===null)throw Error(a(162));h=r.memoizedProps,d=r.stateNode;try{d.nodeValue=h}catch(pe){ee(r,r.return,pe)}}break;case 3:if(qm=null,y=ja,ja=Hm(s.containerInfo),Qa(s,r),ja=y,Wn(r),h&4&&d!==null&&d.memoizedState.isDehydrated)try{p0(s.containerInfo)}catch(pe){ee(r,r.return,pe)}Fs&&(Fs=!1,Nt(r));break;case 4:h=ja,ja=Hm(r.stateNode.containerInfo),Qa(s,r),Wn(r),ja=h;break;case 12:Qa(s,r),Wn(r);break;case 13:Qa(s,r),Wn(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Xo=un()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ni(r,h)));break;case 22:y=r.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,ce=ri,Se=Cn;if(ri=ce||y,Cn=Se||Y,Qa(s,r),Cn=Se,ri=ce,Wn(r),h&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(d===null||Y||ri||Cn||Tn(r)),d=null,s=r;;){if(s.tag===5||s.tag===26){if(d===null){Y=d=s;try{if(x=Y.stateNode,y)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{k=Y.stateNode;var Te=Y.memoizedProps.style,me=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;k.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(pe){ee(Y,Y.return,pe)}}}else if(s.tag===6){if(d===null){Y=s;try{Y.stateNode.nodeValue=y?"":Y.memoizedProps}catch(pe){ee(Y,Y.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=r.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Ni(r,d))));break;case 19:Qa(s,r),Wn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ni(r,h)));break;case 30:break;case 21:break;default:Qa(s,r),Wn(r)}}function Wn(r){var s=r.flags;if(s&2){try{for(var d,h=r.return;h!==null;){if(Id(h)){d=h;break}h=h.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,x=Ho(r);us(r,x,y);break;case 5:var D=d.stateNode;d.flags&32&&(wl(D,""),d.flags&=-33);var k=Ho(r);us(r,k,D);break;case 3:case 4:var Y=d.stateNode.containerInfo,ce=Ho(r);pc(r,ce,Y);break;default:throw Error(a(161))}}catch(Se){ee(r,r.return,Se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Nt(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Nt(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Zt(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qo(r,s.alternate,s),s=s.sibling}function Tn(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return),Tn(s);break;case 1:ln(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&zm(s,s.return,d),Tn(s);break;case 27:o0(s.stateNode);case 26:case 5:ln(s,s.return),Tn(s);break;case 22:s.memoizedState===null&&Tn(s);break;case 30:Tn(s);break;default:Tn(s)}r=r.sibling}}function ii(r,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=r,x=s,D=x.flags;switch(x.tag){case 0:case 11:case 15:ii(y,x,d),ai(4,x);break;case 1:if(ii(y,x,d),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ce){ee(h,h.return,ce)}if(h=x,y=h.updateQueue,y!==null){var k=h.stateNode;try{var Y=y.shared.hiddenCallbacks;if(Y!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Y.length;y++)ct(Y[y],k)}catch(ce){ee(h,h.return,ce)}}d&&D&64&&jm(x),gc(x,x.return);break;case 27:Go(x);case 26:case 5:ii(y,x,d),d&&h===null&&D&4&&mc(x),gc(x,x.return);break;case 12:ii(y,x,d);break;case 13:ii(y,x,d),d&&D&4&&Kl(y,x);break;case 22:x.memoizedState===null&&ii(y,x,d),gc(x,x.return);break;case 30:break;default:ii(y,x,d)}s=s.sibling}}function Qs(r,s){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Jr(d))}function cs(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Jr(r))}function Tr(r,s,d,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vo(r,s,d,h),s=s.sibling}function Vo(r,s,d,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(r,s,d,h),y&2048&&ai(9,s);break;case 1:Tr(r,s,d,h);break;case 3:Tr(r,s,d,h),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Jr(r)));break;case 12:if(y&2048){Tr(r,s,d,h),r=s.stateNode;try{var x=s.memoizedProps,D=x.id,k=x.onPostCommit;typeof k=="function"&&k(D,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){ee(s,s.return,Y)}}else Tr(r,s,d,h);break;case 13:Tr(r,s,d,h);break;case 23:break;case 22:x=s.stateNode,D=s.alternate,s.memoizedState!==null?x._visibility&2?Tr(r,s,d,h):yc(r,s):x._visibility&2?Tr(r,s,d,h):(x._visibility|=2,si(r,s,d,h,(s.subtreeFlags&10256)!==0)),y&2048&&Qs(D,s);break;case 24:Tr(r,s,d,h),y&2048&&cs(s.alternate,s);break;default:Tr(r,s,d,h)}}function si(r,s,d,h,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=r,D=s,k=d,Y=h,ce=D.flags;switch(D.tag){case 0:case 11:case 15:si(x,D,k,Y,y),ai(8,D);break;case 23:break;case 22:var Se=D.stateNode;D.memoizedState!==null?Se._visibility&2?si(x,D,k,Y,y):yc(x,D):(Se._visibility|=2,si(x,D,k,Y,y)),y&&ce&2048&&Qs(D.alternate,D);break;case 24:si(x,D,k,Y,y),y&&ce&2048&&cs(D.alternate,D);break;default:si(x,D,k,Y,y)}s=s.sibling}}function yc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=r,h=s,y=h.flags;switch(h.tag){case 22:yc(d,h),y&2048&&Qs(h.alternate,h);break;case 24:yc(d,h),y&2048&&cs(h.alternate,h);break;default:yc(d,h)}s=s.sibling}}var $s=8192;function Fl(r){if(r.subtreeFlags&$s)for(r=r.child;r!==null;)r0(r),r=r.sibling}function r0(r){switch(r.tag){case 26:Fl(r),r.flags&$s&&r.memoizedState!==null&&b8(ja,r.memoizedState,r.memoizedProps);break;case 5:Fl(r);break;case 3:case 4:var s=ja;ja=Hm(r.stateNode.containerInfo),Fl(r),ja=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=$s,$s=16777216,Fl(r),$s=s):Fl(r));break;default:Fl(r)}}function km(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Mi(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var h=s[d];Un=h,i0(h,r)}km(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yo(r),r=r.sibling}function Yo(r){switch(r.tag){case 0:case 11:case 15:Mi(r),r.flags&2048&&Da(9,r,r.return);break;case 3:Mi(r);break;case 12:Mi(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ds(r)):Mi(r);break;default:Mi(r)}}function ds(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var h=s[d];Un=h,i0(h,r)}km(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Da(8,s,s.return),ds(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,ds(s));break;default:ds(s)}r=r.sibling}}function i0(r,s){for(;Un!==null;){var d=Un;switch(d.tag){case 0:case 11:case 15:Da(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Jr(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,Un=h;else e:for(d=r;Un!==null;){h=Un;var y=h.sibling,x=h.return;if(Xd(h),h===d){Un=null;break e}if(y!==null){y.return=x,Un=y;break e}Un=x}}}var Pr={getCacheForType:function(r){var s=Ma(Fn),d=s.data.get(r);return d===void 0&&(d=r(),s.data.set(r,d)),d}},Di=typeof WeakMap=="function"?WeakMap:Map,vt=0,bn=null,Bt=null,It=0,yt=0,$a=null,za=!1,An=!1,bc=!1,ji=0,kt=0,xn=0,Jn=0,Ar=0,ba=0,Zo=0,Ws=null,_a=null,Io=!1,Xo=0,Ql=1/0,Js=null,el=null,dt=0,$t=null,Tt=null,Ut=0,on=0,Wa=null,fs=null,zi=0,_c=null;function In(){if((vt&2)!==0&&It!==0)return It&-It;if(B.T!==null){var r=No;return r!==0?r:i1()}return Dt()}function qn(){ba===0&&(ba=(It&536870912)===0||Qt?Yi():536870912);var r=wr.current;return r!==null&&(r.flags|=32),ba}function ea(r,s,d){(r===bn&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(al(r,0),Rr(r,It,ba,!1)),nr(r,d),((vt&2)===0||r!==bn)&&(r===bn&&((vt&2)===0&&(Jn|=d),kt===4&&Rr(r,It,ba,!1)),Je(r))}function tl(r,s,d){if((vt&6)!==0)throw Error(a(327));var h=!d&&(s&124)===0&&(s&r.expiredLanes)===0||qa(r,s),y=h?Fo(r,s):na(r,s,!0),x=h;do{if(y===0){An&&!h&&Rr(r,s,0,!1);break}else{if(d=r.current.alternate,x&&!Br(d)){y=na(r,s,!1),x=!1;continue}if(y===2){if(x=s,r.errorRecoveryDisabledLanes&x)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var k=r;y=Ws;var Y=k.current.memoizedState.isDehydrated;if(Y&&(al(k,D).flags|=256),D=na(k,D,!1),D!==2){if(bc&&!Y){k.errorRecoveryDisabledLanes|=x,Jn|=x,y=4;break e}x=_a,_a=y,x!==null&&(_a===null?_a=x:_a.push.apply(_a,x))}y=D}if(x=!1,y!==2)continue}}if(y===1){al(r,0),Rr(r,s,0,!0);break}e:{switch(h=r,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Rr(h,s,ba,!za);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Xo+300-un(),10<y)){if(Rr(h,s,ba,!za),Fr(h,0,!0)!==0)break e;h.timeoutHandle=Nb(Kd.bind(null,h,d,_a,Js,Io,s,ba,Jn,Zo,za,x,2,-0,0),y);break e}Kd(h,d,_a,Js,Io,s,ba,Jn,Zo,za,x,0,-0,0)}}break}while(!0);Je(r)}function Kd(r,s,d,h,y,x,D,k,Y,ce,Se,Te,me,pe){if(r.timeoutHandle=-1,Te=s.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(d0={stylesheets:null,count:0,unsuspend:y8},r0(s),Te=_8(),Te!==null)){r.cancelPendingCommit=Te(o.bind(null,r,s,x,d,h,y,D,k,Y,Se,1,me,pe)),Rr(r,x,D,!ce);return}o(r,s,x,d,h,y,D,k,Y)}function Br(r){for(var s=r;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var y=d[h],x=y.getSnapshot;y=y.value;try{if(!_r(x(),y))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rr(r,s,d,h){s&=~Ar,s&=~Jn,r.suspendedLanes|=s,r.pingedLanes&=~s,h&&(r.warmLanes|=s),h=r.expirationTimes;for(var y=s;0<y;){var x=31-tn(y),D=1<<x;h[x]=-1,y&=~D}d!==0&&gi(r,d,s)}function nl(){return(vt&6)===0?(hn(0),!1):!0}function ka(){if(Bt!==null){if(yt===0)var r=Bt.return;else r=Bt,xi=Us=null,jh(r),Uo=null,Xa=0,r=Bt;for(;r!==null;)hc(r.alternate,r),r=r.return;Bt=null}}function al(r,s){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,t8(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),ka(),bn=r,Bt=d=bi(r.current,null),It=s,yt=0,$a=null,za=!1,An=qa(r,s),bc=!1,Zo=ba=Ar=Jn=xn=kt=0,_a=Ws=null,Io=!1,(s&8)!==0&&(s|=s&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=s;0<h;){var y=31-tn(h),x=1<<y;s|=r[y],h&=~x}return ji=s,Sr(),d}function Fd(r,s){zt=null,B.H=Pd,s===Hl||s===Gl?(s=Rh(),yt=3):s===Xg?(s=Rh(),yt=4):yt=s===Rm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$a=s,Bt===null&&(kt=1,Hd(r,sa(s,r.current)))}function Ko(){var r=B.H;return B.H=Pd,r===null?Pd:r}function Sc(){var r=B.A;return B.A=Pr,r}function ki(){kt=4,za||(It&4194048)!==It&&wr.current!==null||(An=!0),(xn&134217727)===0&&(Jn&134217727)===0||bn===null||Rr(bn,It,ba,!1)}function na(r,s,d){var h=vt;vt|=2;var y=Ko(),x=Sc();(bn!==r||It!==s)&&(Js=null,al(r,s)),s=!1;var D=kt;e:do try{if(yt!==0&&Bt!==null){var k=Bt,Y=$a;switch(yt){case 8:ka(),D=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(s=!0);var ce=yt;if(yt=0,$a=null,$l(r,k,Y,ce),d&&An){D=0;break e}break;default:ce=yt,yt=0,$a=null,$l(r,k,Y,ce)}}rl(),D=kt;break}catch(Se){Fd(r,Se)}while(!0);return s&&r.shellSuspendCounter++,xi=Us=null,vt=h,B.H=y,B.A=x,Bt===null&&(bn=null,It=0,Sr()),D}function rl(){for(;Bt!==null;)Qd(Bt)}function Fo(r,s){var d=vt;vt|=2;var h=Ko(),y=Sc();bn!==r||It!==s?(Js=null,Ql=un()+500,al(r,s)):An=qa(r,s);e:do try{if(yt!==0&&Bt!==null){s=Bt;var x=$a;t:switch(yt){case 1:yt=0,$a=null,$l(r,s,x,1);break;case 2:case 9:if(ql(x)){yt=0,$a=null,$d(s);break}s=function(){yt!==2&&yt!==9||bn!==r||(yt=7),Je(r)},x.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:ql(x)?(yt=0,$a=null,$d(s)):(yt=0,$a=null,$l(r,s,x,7));break;case 5:var D=null;switch(Bt.tag){case 26:D=Bt.memoizedState;case 5:case 27:var k=Bt;if(!D||qb(D)){yt=0,$a=null;var Y=k.sibling;if(Y!==null)Bt=Y;else{var ce=k.return;ce!==null?(Bt=ce,il(ce)):Bt=null}break t}}yt=0,$a=null,$l(r,s,x,5);break;case 6:yt=0,$a=null,$l(r,s,x,6);break;case 8:ka(),kt=6;break e;default:throw Error(a(462))}}Qo();break}catch(Se){Fd(r,Se)}while(!0);return xi=Us=null,B.H=h,B.A=y,vt=d,Bt!==null?0:(bn=null,It=0,Sr(),kt)}function Qo(){for(;Bt!==null&&!mn();)Qd(Bt)}function Qd(r){var s=fc(r.alternate,r,ji);r.memoizedProps=r.pendingProps,s===null?il(r):Bt=s}function $d(r){var s=r,d=s.alternate;switch(s.tag){case 15:case 0:s=Vd(d,s,s.pendingProps,s.type,void 0,It);break;case 11:s=Vd(d,s,s.pendingProps,s.type.render,s.ref,It);break;case 5:jh(s);default:hc(d,s),s=Bt=Sd(s,ji),s=fc(d,s,ji)}r.memoizedProps=r.pendingProps,s===null?il(r):Bt=s}function $l(r,s,d,h){xi=Us=null,jh(s),Uo=null,Xa=0;var y=s.return;try{if(n1(r,y,s,d,It)){kt=1,Hd(r,sa(d,r.current)),Bt=null;return}}catch(x){if(y!==null)throw Bt=y,x;kt=1,Hd(r,sa(d,r.current)),Bt=null;return}s.flags&32768?(Qt||h===1?r=!0:An||(It&536870912)!==0?r=!1:(za=r=!0,(h===2||h===9||h===3||h===6)&&(h=wr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Wd(s,r)):il(s)}function il(r){var s=r;do{if((s.flags&32768)!==0){Wd(s,za);return}r=s.return;var d=t0(s.alternate,s,ji);if(d!==null){Bt=d;return}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=r}while(s!==null);kt===0&&(kt=5)}function Wd(r,s){do{var d=Er(r.alternate,r);if(d!==null){d.flags&=32767,Bt=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(r=r.sibling,r!==null)){Bt=r;return}Bt=r=d}while(r!==null);kt=6,Bt=null}function o(r,s,d,h,y,x,D,k,Y){r.cancelPendingCommit=null;do A();while(dt!==0);if((vt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(x=s.lanes|s.childLanes,x|=Hu,_l(r,d,x,D,k,Y),r===bn&&(Bt=bn=null,It=0),Tt=s,$t=r,Ut=d,on=x,Wa=y,fs=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Hr(re,function(){return P(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,y=ae.p,ae.p=2,D=vt,vt|=4;try{a1(r,s,d)}finally{vt=D,ae.p=y,B.T=h}}dt=1,c(),m(),b()}}function c(){if(dt===1){dt=0;var r=$t,s=Tt,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var h=ae.p;ae.p=2;var y=vt;vt|=4;try{vc(s,r);var x=h1,D=vh(r.containerInfo),k=x.focusedElem,Y=x.selectionRange;if(D!==k&&k&&k.ownerDocument&&ph(k.ownerDocument.documentElement,k)){if(Y!==null&&Nl(k)){var ce=Y.start,Se=Y.end;if(Se===void 0&&(Se=ce),"selectionStart"in k)k.selectionStart=ce,k.selectionEnd=Math.min(Se,k.value.length);else{var Te=k.ownerDocument||document,me=Te&&Te.defaultView||window;if(me.getSelection){var pe=me.getSelection(),bt=k.textContent.length,gt=Math.min(Y.start,bt),On=Y.end===void 0?gt:Math.min(Y.end,bt);!pe.extend&&gt>On&&(D=On,On=gt,gt=D);var J=$i(k,gt),K=$i(k,On);if(J&&K&&(pe.rangeCount!==1||pe.anchorNode!==J.node||pe.anchorOffset!==J.offset||pe.focusNode!==K.node||pe.focusOffset!==K.offset)){var oe=Te.createRange();oe.setStart(J.node,J.offset),pe.removeAllRanges(),gt>On?(pe.addRange(oe),pe.extend(K.node,K.offset)):(oe.setEnd(K.node,K.offset),pe.addRange(oe))}}}}for(Te=[],pe=k;pe=pe.parentNode;)pe.nodeType===1&&Te.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Te.length;k++){var xe=Te[k];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Zm=!!f1,h1=f1=null}finally{vt=y,ae.p=h,B.T=d}}r.current=s,dt=2}}function m(){if(dt===2){dt=0;var r=$t,s=Tt,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var h=ae.p;ae.p=2;var y=vt;vt|=4;try{qo(r,s.alternate,s)}finally{vt=y,ae.p=h,B.T=d}}dt=3}}function b(){if(dt===4||dt===3){dt=0,_n();var r=$t,s=Tt,d=Ut,h=fs;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dt=5:(dt=0,Tt=$t=null,w(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(el=null),fn(d),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ye,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,y=ae.p,ae.p=2,B.T=null;try{for(var x=r.onRecoverableError,D=0;D<h.length;D++){var k=h[D];x(k.value,{componentStack:k.stack})}}finally{B.T=s,ae.p=y}}(Ut&3)!==0&&A(),Je(r),y=r.pendingLanes,(d&4194090)!==0&&(y&42)!==0?r===_c?zi++:(zi=0,_c=r):zi=0,hn(0)}}function w(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Jr(s)))}function A(r){return c(),m(),b(),P()}function P(){if(dt!==5)return!1;var r=$t,s=on;on=0;var d=fn(Ut),h=B.T,y=ae.p;try{ae.p=32>d?32:d,B.T=null,d=Wa,Wa=null;var x=$t,D=Ut;if(dt=0,Tt=$t=null,Ut=0,(vt&6)!==0)throw Error(a(331));var k=vt;if(vt|=4,Yo(x.current),Vo(x,x.current,D,d),vt=k,hn(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ye,x)}catch{}return!0}finally{ae.p=y,B.T=h,w(r,s)}}function X(r,s,d){s=sa(d,s),s=Po(r.stateNode,s,2),r=Ia(r,s,2),r!==null&&(nr(r,2),Je(r))}function ee(r,s,d){if(r.tag===3)X(r,r,d);else for(;s!==null;){if(s.tag===3){X(s,r,d);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(el===null||!el.has(h))){r=sa(d,r),d=cc(2),h=Ia(s,d,2),h!==null&&(Gd(d,h,s,r),nr(h,2),Je(h));break}}s=s.return}}function Oe(r,s,d){var h=r.pingCache;if(h===null){h=r.pingCache=new Di;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(d)||(bc=!0,y.add(d),r=Ue.bind(null,r,s,d),s.then(r,r))}function Ue(r,s,d){var h=r.pingCache;h!==null&&h.delete(s),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,bn===r&&(It&d)===d&&(kt===4||kt===3&&(It&62914560)===It&&300>un()-Xo?(vt&2)===0&&al(r,0):Ar|=d,Zo===It&&(Zo=0)),Je(r)}function Ze(r,s){s===0&&(s=Qr()),r=yi(r,s),r!==null&&(nr(r,s),Je(r))}function Xe(r){var s=r.memoizedState,d=0;s!==null&&(d=s.retryLane),Ze(r,d)}function Rt(r,s){var d=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(d=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),Ze(r,d)}function Hr(r,s){return St(r,s)}var sl=null,Gr=null,he=!1,W=!1,ve=!1,De=0;function Je(r){r!==Gr&&r.next===null&&(Gr===null?sl=Gr=r:Gr=Gr.next=r),W=!0,he||(he=!0,r1())}function hn(r,s){if(!ve&&W){ve=!0;do for(var d=!1,h=sl;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var D=h.suspendedLanes,k=h.pingedLanes;x=(1<<31-tn(42|r)+1)-1,x&=y&~(D&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,hs(h,x))}else x=It,x=Fr(h,h===bn?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||qa(h,x)||(d=!0,hs(h,x));h=h.next}while(d);ve=!1}}function mt(){Wt()}function Wt(){W=he=!1;var r=0;De!==0&&(e8()&&(r=De),De=0);for(var s=un(),d=null,h=sl;h!==null;){var y=h.next,x=aa(h,s);x===0?(h.next=null,d===null?sl=y:d.next=y,y===null&&(Gr=d)):(d=h,(r!==0||(x&3)!==0)&&(W=!0)),h=y}hn(r)}function aa(r,s){for(var d=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var D=31-tn(x),k=1<<D,Y=y[D];Y===-1?((k&d)===0||(k&h)!==0)&&(y[D]=Nr(k,s)):Y<=s&&(r.expiredLanes|=k),x&=~k}if(s=bn,d=It,d=Fr(r,r===s?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,d===0||r===s&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Ot(h),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||qa(r,d)){if(s=d&-d,s===r.callbackPriority)return s;switch(h!==null&&Ot(h),fn(d)){case 2:case 8:d=I;break;case 32:d=re;break;case 268435456:d=Be;break;default:d=re}return h=Jt.bind(null,r),d=St(d,h),r.callbackPriority=s,r.callbackNode=d,s}return h!==null&&h!==null&&Ot(h),r.callbackPriority=2,r.callbackNode=null,2}function Jt(r,s){if(dt!==0&&dt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(A()&&r.callbackNode!==d)return null;var h=It;return h=Fr(r,r===bn?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(tl(r,h,s),aa(r,un()),r.callbackNode!=null&&r.callbackNode===d?Jt.bind(null,r):null)}function hs(r,s){if(A())return null;tl(r,s,!0)}function r1(){n8(function(){(vt&6)!==0?St(er,mt):Wt()})}function i1(){return De===0&&(De=Yi()),De}function Sb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ed(""+r)}function xb(r,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,r.id&&d.setAttribute("form",r.id),s.parentNode.insertBefore(d,s),r=new FormData(r),d.parentNode.removeChild(d),r}function Xw(r,s,d,h,y){if(s==="submit"&&d&&d.stateNode===y){var x=Sb((y[Ae]||null).action),D=h.submitter;D&&(s=(s=D[Ae]||null)?Sb(s.formAction):D.getAttribute("formAction"),s!==null&&(x=s,D=null));var k=new ju("action","action",null,h,y);r.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(De!==0){var Y=D?xb(y,D):new FormData(y);Zh(d,{pending:!0,data:Y,method:y.method,action:x},null,Y)}}else typeof x=="function"&&(k.preventDefault(),Y=D?xb(y,D):new FormData(y),Zh(d,{pending:!0,data:Y,method:y.method,action:x},x,Y))},currentTarget:y}]})}}for(var s1=0;s1<Ra.length;s1++){var l1=Ra[s1],Kw=l1.toLowerCase(),Fw=l1[0].toUpperCase()+l1.slice(1);jr(Kw,"on"+Fw)}jr(yh,"onAnimationEnd"),jr(Dr,"onAnimationIteration"),jr(_d,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Vg,"onTransitionRun"),jr(Qv,"onTransitionStart"),jr(bh,"onTransitionCancel"),jr(Aa,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var s0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(s0));function wb(r,s){s=(s&4)!==0;for(var d=0;d<r.length;d++){var h=r[d],y=h.event;h=h.listeners;e:{var x=void 0;if(s)for(var D=h.length-1;0<=D;D--){var k=h[D],Y=k.instance,ce=k.currentTarget;if(k=k.listener,Y!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=ce;try{x(y)}catch(Se){os(Se)}y.currentTarget=null,x=Y}else for(D=0;D<h.length;D++){if(k=h[D],Y=k.instance,ce=k.currentTarget,k=k.listener,Y!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=ce;try{x(y)}catch(Se){os(Se)}y.currentTarget=null,x=Y}}}}function Xt(r,s){var d=s[et];d===void 0&&(d=s[et]=new Set);var h=r+"__bubble";d.has(h)||(Eb(s,r,2,!1),d.add(h))}function o1(r,s,d){var h=0;s&&(h|=4),Eb(d,r,h,s)}var Um="_reactListening"+Math.random().toString(36).slice(2);function u1(r){if(!r[Um]){r[Um]=!0,pn.forEach(function(d){d!=="selectionchange"&&(Qw.has(d)||o1(d,!1,r),o1(d,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Um]||(s[Um]=!0,o1("selectionchange",!1,s))}}function Eb(r,s,d,h){switch(Kb(s)){case 2:var y=w8;break;case 8:y=E8;break;default:y=w1}d=y.bind(null,s,d,r),y=void 0,!nd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(s,d,{capture:!0,passive:y}):r.addEventListener(s,d,!0):y!==void 0?r.addEventListener(s,d,{passive:y}):r.addEventListener(s,d,!1)}function c1(r,s,d,h,y){var x=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var k=h.stateNode.containerInfo;if(k===y)break;if(D===4)for(D=h.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;k!==null;){if(D=Fe(k),D===null)return;if(Y=D.tag,Y===5||Y===6||Y===26||Y===27){h=x=D;continue e}k=k.parentNode}}h=h.return}rh(function(){var ce=x,Se=As(d),Te=[];e:{var me=_h.get(r);if(me!==void 0){var pe=ju,bt=r;switch(r){case"keypress":if(yo(d)===0)break e;case"keydown":case"keyup":pe=od;break;case"focusin":bt="focus",pe=Tl;break;case"focusout":bt="blur",pe=Tl;break;case"beforeblur":case"afterblur":pe=Tl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=jg;break;case yh:case Dr:case _d:pe=Ag;break;case Aa:pe=va;break;case"scroll":case"scrollend":pe=Iv;break;case"wheel":pe=kg;break;case"copy":case"cut":case"paste":pe=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=ud;break;case"toggle":case"beforetoggle":pe=Lg}var gt=(s&4)!==0,On=!gt&&(r==="scroll"||r==="scrollend"),J=gt?me!==null?me+"Capture":null:me;gt=[];for(var K=ce,oe;K!==null;){var xe=K;if(oe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||oe===null||J===null||(xe=po(K,J),xe!=null&&gt.push(l0(K,xe,oe))),On)break;K=K.return}0<gt.length&&(me=new pe(me,bt,null,d,Se),Te.push({event:me,listeners:gt}))}}if((s&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",me&&d!==td&&(bt=d.relatedTarget||d.fromElement)&&(Fe(bt)||bt[Le]))break e;if((pe||me)&&(me=Se.window===Se?Se:(me=Se.ownerDocument)?me.defaultView||me.parentWindow:window,pe?(bt=d.relatedTarget||d.toElement,pe=ce,bt=bt?Fe(bt):null,bt!==null&&(On=l(bt),gt=bt.tag,bt!==On||gt!==5&&gt!==27&&gt!==6)&&(bt=null)):(pe=null,bt=ce),pe!==bt)){if(gt=zu,xe="onMouseLeave",J="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(gt=ud,xe="onPointerLeave",J="onPointerEnter",K="pointer"),On=pe==null?me:rn(pe),oe=bt==null?me:rn(bt),me=new gt(xe,K+"leave",pe,d,Se),me.target=On,me.relatedTarget=oe,xe=null,Fe(Se)===ce&&(gt=new gt(J,K+"enter",bt,d,Se),gt.target=oe,gt.relatedTarget=On,xe=gt),On=xe,pe&&bt)t:{for(gt=pe,J=bt,K=0,oe=gt;oe;oe=Jd(oe))K++;for(oe=0,xe=J;xe;xe=Jd(xe))oe++;for(;0<K-oe;)gt=Jd(gt),K--;for(;0<oe-K;)J=Jd(J),oe--;for(;K--;){if(gt===J||J!==null&&gt===J.alternate)break t;gt=Jd(gt),J=Jd(J)}gt=null}else gt=null;pe!==null&&Cb(Te,me,pe,gt,!1),bt!==null&&On!==null&&Cb(Te,On,bt,gt,!0)}}e:{if(me=ce?rn(ce):window,pe=me.nodeName&&me.nodeName.toLowerCase(),pe==="select"||pe==="input"&&me.type==="file")var tt=sr;else if(hd(me))if(gh)tt=Hn;else{tt=vd;var qt=Gg}else pe=me.nodeName,!pe||pe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?ce&&Jc(ce.elementType)&&(tt=sr):tt=Lu;if(tt&&(tt=tt(r,ce))){hh(Te,tt,d,Se);break e}qt&&qt(r,me,ce),r==="focusout"&&ce&&me.type==="number"&&ce.memoizedProps.value!=null&&Wc(me,"number",me.value)}switch(qt=ce?rn(ce):window,r){case"focusin":(hd(qt)||qt.contentEditable==="true")&&(Ml=qt,Pu=ce,Eo=null);break;case"focusout":Eo=Pu=Ml=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,yd(Te,d,Se);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":yd(Te,d,Se)}var lt;if(So)e:{switch(r){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Os?dd(r,d)&&(pt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(pt="onCompositionStart");pt&&(uh&&d.locale!=="ko"&&(Os||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Os&&(lt=ih()):(Ii=Se,Nu="value"in Ii?Ii.value:Ii.textContent,Os=!0)),qt=Lm(ce,pt),0<qt.length&&(pt=new Fi(pt,r,null,d,Se),Te.push({event:pt,listeners:qt}),lt?pt.data=lt:(lt=dh(d),lt!==null&&(pt.data=lt)))),(lt=Bg?fd(r,d):fh(r,d))&&(pt=Lm(ce,"onBeforeInput"),0<pt.length&&(qt=new Fi("onBeforeInput","beforeinput",null,d,Se),Te.push({event:qt,listeners:pt}),qt.data=lt)),Xw(Te,r,ce,d,Se)}wb(Te,s)})}function l0(r,s,d){return{instance:r,listener:s,currentTarget:d}}function Lm(r,s){for(var d=s+"Capture",h=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=po(r,d),y!=null&&h.unshift(l0(r,y,x)),y=po(r,s),y!=null&&h.push(l0(r,y,x))),r.tag===3)return h;r=r.return}return[]}function Jd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cb(r,s,d,h,y){for(var x=s._reactName,D=[];d!==null&&d!==h;){var k=d,Y=k.alternate,ce=k.stateNode;if(k=k.tag,Y!==null&&Y===h)break;k!==5&&k!==26&&k!==27||ce===null||(Y=ce,y?(ce=po(d,x),ce!=null&&D.unshift(l0(d,ce,Y))):y||(ce=po(d,x),ce!=null&&D.push(l0(d,ce,Y)))),d=d.return}D.length!==0&&r.push({event:s,listeners:D})}var $w=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function Tb(r){return(typeof r=="string"?r:""+r).replace($w,`
`).replace(Ww,"")}function Ab(r,s){return s=Tb(s),Tb(r)===s}function Pm(){}function Rn(r,s,d,h,y,x){switch(d){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||wl(r,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&wl(r,""+h);break;case"className":$r(r,"class",h);break;case"tabIndex":$r(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(r,d,h);break;case"style":ah(r,h,x);break;case"data":if(s!=="object"){$r(r,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||d!=="href")){r.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=ed(""+h),r.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(s!=="input"&&Rn(r,s,"name",y.name,y,null),Rn(r,s,"formEncType",y.formEncType,y,null),Rn(r,s,"formMethod",y.formMethod,y,null),Rn(r,s,"formTarget",y.formTarget,y,null)):(Rn(r,s,"encType",y.encType,y,null),Rn(r,s,"method",y.method,y,null),Rn(r,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=ed(""+h),r.setAttribute(d,h);break;case"onClick":h!=null&&(r.onclick=Pm);break;case"onScroll":h!=null&&Xt("scroll",r);break;case"onScrollEnd":h!=null&&Xt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}d=ed(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""+h):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":h===!0?r.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,h):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(d,h):r.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(d):r.setAttribute(d,h);break;case"popover":Xt("beforetoggle",r),Xt("toggle",r),ir(r,"popover",h);break;case"xlinkActuate":Ta(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ta(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ta(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ta(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ta(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ta(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ir(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=wg.get(d)||d,ir(r,d,h))}}function d1(r,s,d,h,y,x){switch(d){case"style":ah(r,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"children":typeof h=="string"?wl(r,h):(typeof h=="number"||typeof h=="bigint")&&wl(r,""+h);break;case"onScroll":h!=null&&Xt("scroll",r);break;case"onScrollEnd":h!=null&&Xt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Pm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),s=d.slice(2,y?d.length-7:void 0),x=r[Ae]||null,x=x!=null?x[d]:null,typeof x=="function"&&r.removeEventListener(s,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(s,h,y);break e}d in r?r[d]=h:h===!0?r.setAttribute(d,""):ir(r,d,h)}}}function Ja(r,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",r),Xt("load",r);var h=!1,y=!1,x;for(x in d)if(d.hasOwnProperty(x)){var D=d[x];if(D!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Rn(r,s,x,D,d,null)}}y&&Rn(r,s,"srcSet",d.srcSet,d,null),h&&Rn(r,s,"src",d.src,d,null);return;case"input":Xt("invalid",r);var k=x=D=y=null,Y=null,ce=null;for(h in d)if(d.hasOwnProperty(h)){var Se=d[h];if(Se!=null)switch(h){case"name":y=Se;break;case"type":D=Se;break;case"checked":Y=Se;break;case"defaultChecked":ce=Se;break;case"value":x=Se;break;case"defaultValue":k=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,s));break;default:Rn(r,s,h,Se,d,null)}}$c(r,x,k,Y,ce,D,y,!1),Au(r);return;case"select":Xt("invalid",r),h=D=x=null;for(y in d)if(d.hasOwnProperty(y)&&(k=d[y],k!=null))switch(y){case"value":x=k;break;case"defaultValue":D=k;break;case"multiple":h=k;default:Rn(r,s,y,k,d,null)}s=x,d=D,r.multiple=!!h,s!=null?mo(r,!!h,s,!1):d!=null&&mo(r,!!h,d,!0);return;case"textarea":Xt("invalid",r),x=y=h=null;for(D in d)if(d.hasOwnProperty(D)&&(k=d[D],k!=null))switch(D){case"value":h=k;break;case"defaultValue":y=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Rn(r,s,D,k,d,null)}eh(r,h,y,x),Au(r);return;case"option":for(Y in d)if(d.hasOwnProperty(Y)&&(h=d[Y],h!=null))switch(Y){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Rn(r,s,Y,h,d,null)}return;case"dialog":Xt("beforetoggle",r),Xt("toggle",r),Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":Xt("load",r);break;case"video":case"audio":for(h=0;h<s0.length;h++)Xt(s0[h],r);break;case"image":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"embed":case"source":case"link":Xt("error",r),Xt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in d)if(d.hasOwnProperty(ce)&&(h=d[ce],h!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Rn(r,s,ce,h,d,null)}return;default:if(Jc(s)){for(Se in d)d.hasOwnProperty(Se)&&(h=d[Se],h!==void 0&&d1(r,s,Se,h,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(h=d[k],h!=null&&Rn(r,s,k,h,d,null))}function Jw(r,s,d,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,D=null,k=null,Y=null,ce=null,Se=null;for(pe in d){var Te=d[pe];if(d.hasOwnProperty(pe)&&Te!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Y=Te;default:h.hasOwnProperty(pe)||Rn(r,s,pe,null,h,Te)}}for(var me in h){var pe=h[me];if(Te=d[me],h.hasOwnProperty(me)&&(pe!=null||Te!=null))switch(me){case"type":x=pe;break;case"name":y=pe;break;case"checked":ce=pe;break;case"defaultChecked":Se=pe;break;case"value":D=pe;break;case"defaultValue":k=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,s));break;default:pe!==Te&&Rn(r,s,me,pe,h,Te)}}Qc(r,D,k,Y,ce,Se,x,y);return;case"select":pe=D=k=me=null;for(x in d)if(Y=d[x],d.hasOwnProperty(x)&&Y!=null)switch(x){case"value":break;case"multiple":pe=Y;default:h.hasOwnProperty(x)||Rn(r,s,x,null,h,Y)}for(y in h)if(x=h[y],Y=d[y],h.hasOwnProperty(y)&&(x!=null||Y!=null))switch(y){case"value":me=x;break;case"defaultValue":k=x;break;case"multiple":D=x;default:x!==Y&&Rn(r,s,y,x,h,Y)}s=k,d=D,h=pe,me!=null?mo(r,!!d,me,!1):!!h!=!!d&&(s!=null?mo(r,!!d,s,!0):mo(r,!!d,d?[]:"",!1));return;case"textarea":pe=me=null;for(k in d)if(y=d[k],d.hasOwnProperty(k)&&y!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Rn(r,s,k,null,h,y)}for(D in h)if(y=h[D],x=d[D],h.hasOwnProperty(D)&&(y!=null||x!=null))switch(D){case"value":me=y;break;case"defaultValue":pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&Rn(r,s,D,y,h,x)}Jf(r,me,pe);return;case"option":for(var bt in d)if(me=d[bt],d.hasOwnProperty(bt)&&me!=null&&!h.hasOwnProperty(bt))switch(bt){case"selected":r.selected=!1;break;default:Rn(r,s,bt,null,h,me)}for(Y in h)if(me=h[Y],pe=d[Y],h.hasOwnProperty(Y)&&me!==pe&&(me!=null||pe!=null))switch(Y){case"selected":r.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Rn(r,s,Y,me,h,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in d)me=d[gt],d.hasOwnProperty(gt)&&me!=null&&!h.hasOwnProperty(gt)&&Rn(r,s,gt,null,h,me);for(ce in h)if(me=h[ce],pe=d[ce],h.hasOwnProperty(ce)&&me!==pe&&(me!=null||pe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,s));break;default:Rn(r,s,ce,me,h,pe)}return;default:if(Jc(s)){for(var On in d)me=d[On],d.hasOwnProperty(On)&&me!==void 0&&!h.hasOwnProperty(On)&&d1(r,s,On,void 0,h,me);for(Se in h)me=h[Se],pe=d[Se],!h.hasOwnProperty(Se)||me===pe||me===void 0&&pe===void 0||d1(r,s,Se,me,h,pe);return}}for(var J in d)me=d[J],d.hasOwnProperty(J)&&me!=null&&!h.hasOwnProperty(J)&&Rn(r,s,J,null,h,me);for(Te in h)me=h[Te],pe=d[Te],!h.hasOwnProperty(Te)||me===pe||me==null&&pe==null||Rn(r,s,Te,me,h,pe)}var f1=null,h1=null;function Bm(r){return r.nodeType===9?r:r.ownerDocument}function Rb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function g1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var m1=null;function e8(){var r=window.event;return r&&r.type==="popstate"?r===m1?!1:(m1=r,!0):(m1=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,t8=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,n8=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(r){return Mb.resolve(null).then(r).catch(a8)}:Nb;function a8(r){setTimeout(function(){throw r})}function $o(r){return r==="head"}function Db(r,s){var d=s,h=0,y=0;do{var x=d.nextSibling;if(r.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(0<h&&8>h){d=h;var D=r.ownerDocument;if(d&1&&o0(D.documentElement),d&2&&o0(D.body),d&4)for(d=D.head,o0(d),D=d.firstChild;D;){var k=D.nextSibling,Y=D.nodeName;D[it]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=k}}if(y===0){r.removeChild(x),p0(s);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:h=d.charCodeAt(0)-48;else h=0;d=x}while(d);p0(s)}function p1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":p1(d),at(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function r8(r,s,d,h){for(;r.nodeType===1;){var y=d;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[it])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=gs(r.nextSibling),r===null)break}return null}function i8(r,s,d){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=gs(r.nextSibling),r===null))return null;return r}function v1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function s8(r,s){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")s();else{var h=function(){s(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function gs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var y1=null;function jb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return r;s--}else d==="/$"&&s++}r=r.previousSibling}return null}function zb(r,s,d){switch(s=Bm(d),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function o0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);at(r)}var Ui=new Map,kb=new Set;function Hm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Wl=ae.d;ae.d={f:l8,r:o8,D:u8,C:c8,L:d8,m:f8,X:g8,S:h8,M:m8};function l8(){var r=Wl.f(),s=nl();return r||s}function o8(r){var s=Ct(r);s!==null&&s.tag===5&&s.type==="form"?bm(s):Wl.r(r)}var ef=typeof document>"u"?null:document;function Ub(r,s,d){var h=ef;if(h&&typeof s=="string"&&s){var y=yr(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),kb.has(y)||(kb.add(y),r={rel:r,crossOrigin:d,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),Ja(s,"link",r),Vt(s),h.head.appendChild(s)))}}function u8(r){Wl.D(r),Ub("dns-prefetch",r,null)}function c8(r,s){Wl.C(r,s),Ub("preconnect",r,s)}function d8(r,s,d){Wl.L(r,s,d);var h=ef;if(h&&r&&s){var y='link[rel="preload"][as="'+yr(s)+'"]';s==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+yr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+yr(d.imageSizes)+'"]')):y+='[href="'+yr(r)+'"]';var x=y;switch(s){case"style":x=tf(r);break;case"script":x=nf(r)}Ui.has(x)||(r=v({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:r,as:s},d),Ui.set(x,r),h.querySelector(y)!==null||s==="style"&&h.querySelector(u0(x))||s==="script"&&h.querySelector(c0(x))||(s=h.createElement("link"),Ja(s,"link",r),Vt(s),h.head.appendChild(s)))}}function f8(r,s){Wl.m(r,s);var d=ef;if(d&&r){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+yr(h)+'"][href="'+yr(r)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=nf(r)}if(!Ui.has(x)&&(r=v({rel:"modulepreload",href:r},s),Ui.set(x,r),d.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(c0(x)))return}h=d.createElement("link"),Ja(h,"link",r),Vt(h),d.head.appendChild(h)}}}function h8(r,s,d){Wl.S(r,s,d);var h=ef;if(h&&r){var y=wn(h).hoistableStyles,x=tf(r);s=s||"default";var D=y.get(x);if(!D){var k={loading:0,preload:null};if(D=h.querySelector(u0(x)))k.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},d),(d=Ui.get(x))&&b1(r,d);var Y=D=h.createElement("link");Vt(Y),Ja(Y,"link",r),Y._p=new Promise(function(ce,Se){Y.onload=ce,Y.onerror=Se}),Y.addEventListener("load",function(){k.loading|=1}),Y.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Gm(D,s,h)}D={type:"stylesheet",instance:D,count:1,state:k},y.set(x,D)}}}function g8(r,s){Wl.X(r,s);var d=ef;if(d&&r){var h=wn(d).hoistableScripts,y=nf(r),x=h.get(y);x||(x=d.querySelector(c0(y)),x||(r=v({src:r,async:!0},s),(s=Ui.get(y))&&_1(r,s),x=d.createElement("script"),Vt(x),Ja(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function m8(r,s){Wl.M(r,s);var d=ef;if(d&&r){var h=wn(d).hoistableScripts,y=nf(r),x=h.get(y);x||(x=d.querySelector(c0(y)),x||(r=v({src:r,async:!0,type:"module"},s),(s=Ui.get(y))&&_1(r,s),x=d.createElement("script"),Vt(x),Ja(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function Lb(r,s,d,h){var y=(y=Ie.current)?Hm(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=tf(d.href),d=wn(y).hoistableStyles,h=d.get(s),h||(h={type:"style",instance:null,count:0,state:null},d.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=tf(d.href);var x=wn(y).hoistableStyles,D=x.get(r);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,D),(x=y.querySelector(u0(r)))&&!x._p&&(D.instance=x,D.state.loading=5),Ui.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ui.set(r,d),x||p8(y,r,d,D.state))),s&&h===null)throw Error(a(528,""));return D}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nf(d),d=wn(y).hoistableScripts,h=d.get(s),h||(h={type:"script",instance:null,count:0,state:null},d.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function tf(r){return'href="'+yr(r)+'"'}function u0(r){return'link[rel="stylesheet"]['+r+"]"}function Pb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function p8(r,s,d,h){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=r.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Ja(s,"link",d),Vt(s),r.head.appendChild(s))}function nf(r){return'[src="'+yr(r)+'"]'}function c0(r){return"script[async]"+r}function Bb(r,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var h=r.querySelector('style[data-href~="'+yr(d.href)+'"]');if(h)return s.instance=h,Vt(h),h;var y=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Vt(h),Ja(h,"style",y),Gm(h,d.precedence,r),s.instance=h;case"stylesheet":y=tf(d.href);var x=r.querySelector(u0(y));if(x)return s.state.loading|=4,s.instance=x,Vt(x),x;h=Pb(d),(y=Ui.get(y))&&b1(h,y),x=(r.ownerDocument||r).createElement("link"),Vt(x);var D=x;return D._p=new Promise(function(k,Y){D.onload=k,D.onerror=Y}),Ja(x,"link",h),s.state.loading|=4,Gm(x,d.precedence,r),s.instance=x;case"script":return x=nf(d.src),(y=r.querySelector(c0(x)))?(s.instance=y,Vt(y),y):(h=d,(y=Ui.get(x))&&(h=v({},d),_1(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),Vt(y),Ja(y,"link",h),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Gm(h,d.precedence,r));return s.instance}function Gm(r,s,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,D=0;D<h.length;D++){var k=h[D];if(k.dataset.precedence===s)x=k;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(r,s.firstChild))}function b1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var qm=null;function Hb(r,s,d){if(qm===null){var h=new Map,y=qm=new Map;y.set(d,h)}else y=qm,h=y.get(d),h||(h=new Map,y.set(d,h));if(h.has(r))return h;for(h.set(r,null),d=d.getElementsByTagName(r),y=0;y<d.length;y++){var x=d[y];if(!(x[it]||x[ue]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(s)||"";D=r+D;var k=h.get(D);k?k.push(x):h.set(D,[x])}}return h}function Gb(r,s,d){r=r.ownerDocument||r,r.head.insertBefore(d,s==="title"?r.querySelector("head > title"):null)}function v8(r,s,d){if(d===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var d0=null;function y8(){}function b8(r,s,d){if(d0===null)throw Error(a(475));var h=d0;if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=tf(d.href),x=r.querySelector(u0(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=Vm.bind(h),r.then(h,h)),s.state.loading|=4,s.instance=x,Vt(x);return}x=r.ownerDocument||r,d=Pb(d),(y=Ui.get(y))&&b1(d,y),x=x.createElement("link"),Vt(x);var D=x;D._p=new Promise(function(k,Y){D.onload=k,D.onerror=Y}),Ja(x,"link",d),s.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Vm.bind(h),r.addEventListener("load",s),r.addEventListener("error",s))}}function _8(){if(d0===null)throw Error(a(475));var r=d0;return r.stylesheets&&r.count===0&&S1(r,r.stylesheets),0<r.count?function(s){var d=setTimeout(function(){if(r.stylesheets&&S1(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Vm(){if(this.count--,this.count===0){if(this.stylesheets)S1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ym=null;function S1(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ym=new Map,s.forEach(S8,r),Ym=null,Vm.call(r))}function S8(r,s){if(!(s.state.loading&4)){var d=Ym.get(r);if(d)var h=d.get(null);else{d=new Map,Ym.set(r,d);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var D=y[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),h=D)}h&&d.set(null,h)}y=s.instance,D=y.getAttribute("data-precedence"),x=d.get(D)||h,x===h&&d.set(null,y),d.set(D,y),this.count++,h=Vm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var f0={$$typeof:z,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function x8(r,s,d,h,y,x,D,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Vb(r,s,d,h,y,x,D,k,Y,ce,Se,Te){return r=new x8(r,s,d,D,k,Y,ce,Te),s=1,x===!0&&(s|=24),x=lr(3,null,null,s),r.current=x,x.stateNode=r,s=Oo(),s.refCount++,r.pooledCache=s,s.refCount++,x.memoizedState={element:h,isDehydrated:d,cache:s},Fu(x),r}function Yb(r){return r?(r=jl,r):jl}function Zb(r,s,d,h,y,x){y=Yb(y),h.context===null?h.context=y:h.pendingContext=y,h=Ci(s),h.payload={element:d},x=x===void 0?null:x,x!==null&&(h.callback=x),d=Ia(r,h,s),d!==null&&(ea(d,r,s),Vl(d,r,s))}function Ib(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<s?d:s}}function x1(r,s){Ib(r,s),(r=r.alternate)&&Ib(r,s)}function Xb(r){if(r.tag===13){var s=yi(r,67108864);s!==null&&ea(s,r,67108864),x1(r,67108864)}}var Zm=!0;function w8(r,s,d,h){var y=B.T;B.T=null;var x=ae.p;try{ae.p=2,w1(r,s,d,h)}finally{ae.p=x,B.T=y}}function E8(r,s,d,h){var y=B.T;B.T=null;var x=ae.p;try{ae.p=8,w1(r,s,d,h)}finally{ae.p=x,B.T=y}}function w1(r,s,d,h){if(Zm){var y=E1(h);if(y===null)c1(r,s,h,Im,d),Fb(r,h);else if(T8(y,r,s,d,h))h.stopPropagation();else if(Fb(r,h),s&4&&-1<C8.indexOf(r)){for(;y!==null;){var x=Ct(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=ma(x.pendingLanes);if(D!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;D;){var Y=1<<31-tn(D);k.entanglements[1]|=Y,D&=~Y}Je(x),(vt&6)===0&&(Ql=un()+500,hn(0))}}break;case 13:k=yi(x,2),k!==null&&ea(k,x,2),nl(),x1(x,2)}if(x=E1(h),x===null&&c1(r,s,h,Im,d),x===y)break;y=x}y!==null&&h.stopPropagation()}else c1(r,s,h,null,d)}}function E1(r){return r=As(r),C1(r)}var Im=null;function C1(r){if(Im=null,r=Fe(r),r!==null){var s=l(r);if(s===null)r=null;else{var d=s.tag;if(d===13){if(r=u(s),r!==null)return r;r=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Im=r,null}function Kb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case er:return 2;case I:return 8;case re:case fe:return 32;case Be:return 268435456;default:return 32}default:return 32}}var T1=!1,Wo=null,Jo=null,eu=null,h0=new Map,g0=new Map,tu=[],C8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fb(r,s){switch(r){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":h0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(s.pointerId)}}function m0(r,s,d,h,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:d,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},s!==null&&(s=Ct(s),s!==null&&Xb(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function T8(r,s,d,h,y){switch(s){case"focusin":return Wo=m0(Wo,r,s,d,h,y),!0;case"dragenter":return Jo=m0(Jo,r,s,d,h,y),!0;case"mouseover":return eu=m0(eu,r,s,d,h,y),!0;case"pointerover":var x=y.pointerId;return h0.set(x,m0(h0.get(x)||null,r,s,d,h,y)),!0;case"gotpointercapture":return x=y.pointerId,g0.set(x,m0(g0.get(x)||null,r,s,d,h,y)),!0}return!1}function Qb(r){var s=Fe(r.target);if(s!==null){var d=l(s);if(d!==null){if(s=d.tag,s===13){if(s=u(d),s!==null){r.blockedOn=s,q(r.priority,function(){if(d.tag===13){var h=In();h=ze(h);var y=yi(d,h);y!==null&&ea(y,d,h),x1(d,h)}});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xm(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var d=E1(r.nativeEvent);if(d===null){d=r.nativeEvent;var h=new d.constructor(d.type,d);td=h,d.target.dispatchEvent(h),td=null}else return s=Ct(d),s!==null&&Xb(s),r.blockedOn=d,!1;s.shift()}return!0}function $b(r,s,d){Xm(r)&&d.delete(s)}function A8(){T1=!1,Wo!==null&&Xm(Wo)&&(Wo=null),Jo!==null&&Xm(Jo)&&(Jo=null),eu!==null&&Xm(eu)&&(eu=null),h0.forEach($b),g0.forEach($b)}function Km(r,s){r.blockedOn===s&&(r.blockedOn=null,T1||(T1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A8)))}var Fm=null;function Wb(r){Fm!==r&&(Fm=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fm===r&&(Fm=null);for(var s=0;s<r.length;s+=3){var d=r[s],h=r[s+1],y=r[s+2];if(typeof h!="function"){if(C1(h||d)===null)continue;break}var x=Ct(d);x!==null&&(r.splice(s,3),s-=3,Zh(x,{pending:!0,data:y,method:d.method,action:h},h,y))}}))}function p0(r){function s(Y){return Km(Y,r)}Wo!==null&&Km(Wo,r),Jo!==null&&Km(Jo,r),eu!==null&&Km(eu,r),h0.forEach(s),g0.forEach(s);for(var d=0;d<tu.length;d++){var h=tu[d];h.blockedOn===r&&(h.blockedOn=null)}for(;0<tu.length&&(d=tu[0],d.blockedOn===null);)Qb(d),d.blockedOn===null&&tu.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var y=d[h],x=d[h+1],D=y[Ae]||null;if(typeof x=="function")D||Wb(d);else if(D){var k=null;if(x&&x.hasAttribute("formAction")){if(y=x,D=x[Ae]||null)k=D.formAction;else if(C1(y)!==null)continue}else k=D.action;typeof k=="function"?d[h+1]=k:(d.splice(h,3),h-=3),Wb(d)}}}function A1(r){this._internalRoot=r}Qm.prototype.render=A1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var d=s.current,h=In();Zb(d,h,r,s,null,null)},Qm.prototype.unmount=A1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Zb(r.current,2,null,r,null,null),nl(),s[Le]=null}};function Qm(r){this._internalRoot=r}Qm.prototype.unstable_scheduleHydration=function(r){if(r){var s=Dt();r={blockedOn:null,target:r,priority:s};for(var d=0;d<tu.length&&s!==0&&s<tu[d].priority;d++);tu.splice(d,0,r),d===0&&Qb(r)}};var Jb=e.version;if(Jb!=="19.1.1")throw Error(a(527,Jb,"19.1.1"));ae.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var R8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Ye=$m.inject(R8),$e=$m}catch{}}return y0.createRoot=function(r,s){if(!i(r))throw Error(a(299));var d=!1,h="",y=Il,x=hr,D=Am,k=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Vb(r,1,!1,null,null,d,h,y,x,D,k,null),r[Le]=s.current,u1(r),new A1(s)},y0.hydrateRoot=function(r,s,d){if(!i(r))throw Error(a(299));var h=!1,y="",x=Il,D=hr,k=Am,Y=null,ce=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Y=d.unstable_transitionCallbacks),d.formState!==void 0&&(ce=d.formState)),s=Vb(r,1,!0,s,d??null,h,y,x,D,k,Y,ce),s.context=Yb(null),d=s.current,h=In(),h=ze(h),y=Ci(h),y.callback=null,Ia(d,y,h),d=h,s.current.lanes=d,nr(s,d),Je(s),r[Le]=s.current,u1(r),new Qm(s)},y0.version="19.1.1",y0}var u_;function P8(){if(u_)return O1.exports;u_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),O1.exports=L8(),O1.exports}var d3=P8();const B8=ig(d3);var N=sg();const Qe=ig(N),f3=N8({__proto__:null,default:Qe},[N]);var h3=t=>{throw TypeError(t)},H8=(t,e,n)=>e.has(t)||h3("Cannot "+n),z1=(t,e,n)=>(H8(t,e,"read from private field"),n?n.call(t):e.get(t)),G8=(t,e,n)=>e.has(t)?h3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),c_="popstate";function q8(t={}){function e(i,l){let{pathname:u="/",search:f="",hash:g=""}=lo(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Z0("",{pathname:u,search:f,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let g=i.location.href,p=g.indexOf("#");f=p===-1?g:g.slice(0,p)}return f+"#"+(typeof l=="string"?l:gu(l))}function a(i,l){ia(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Y8(e,n,a,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ia(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V8(){return Math.random().toString(36).substring(2,10)}function d_(t,e){return{usr:t.state,key:t.key,idx:e}}function Z0(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||a||V8()}}function gu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function Y8(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,f="POP",g=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let O=v(),M=O==null?null:O-p;p=O,g&&g({action:f,location:R.location,delta:M})}function S(O,M){f="PUSH";let j=Z0(R.location,O,M);n&&n(j,O),p=v()+1;let z=d_(j,p),U=R.createHref(j);try{u.pushState(z,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(U)}l&&g&&g({action:f,location:R.location,delta:1})}function C(O,M){f="REPLACE";let j=Z0(R.location,O,M);n&&n(j,O),p=v();let z=d_(j,p),U=R.createHref(j);u.replaceState(z,"",U),l&&g&&g({action:f,location:R.location,delta:0})}function T(O){return g3(O)}let R={get action(){return f},get location(){return t(i,u)},listen(O){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(c_,_),g=O,()=>{i.removeEventListener(c_,_),g=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let M=T(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:C,go(O){return u.go(O)}};return R}function g3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:gu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var R0,f_=class{constructor(t){if(G8(this,R0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(z1(this,R0).has(t))return z1(this,R0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){z1(this,R0).set(t,e)}};R0=new WeakMap;var Z8=new Set(["lazy","caseSensitive","path","id","index","children"]);function I8(t){return Z8.has(t)}var X8=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function K8(t){return X8.has(t)}function F8(t){return t.index===!0}function I0(t,e,n=[],a={},i=!1){return t.map((l,u)=>{let f=[...n,String(u)],g=typeof l.id=="string"?l.id:f.join("-");if(Kt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Kt(i||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),F8(l)){let p={...l,...e(l),id:g};return a[g]=p,p}else{let p={...l,...e(l),id:g,children:void 0};return a[g]=p,l.children&&(p.children=I0(l.children,e,f,a,i)),p}})}function uu(t,e,n="/"){return Pp(t,e,n,!1)}function Pp(t,e,n,a){let i=typeof e=="string"?lo(e):e,l=Gi(i.pathname||"/",n);if(l==null)return null;let u=m3(t);$8(u);let f=null;for(let g=0;f==null&&g<u.length;++g){let p=oE(l);f=sE(u[g],p,a)}return f}function Q8(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function m3(t,e=[],n=[],a="",i=!1){let l=(u,f,g=i,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;Kt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=hl([a,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(Kt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),m3(u.children,e,S,_,g)),!(u.path==null&&!u.index)&&e.push({path:_,score:rE(_,u.index),routesMeta:S})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let g of p3(u.path))l(u,f,!0,g)}),e}function p3(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=p3(a.join("/")),f=[];return f.push(...u.map(g=>g===""?l:[l,g].join("/"))),i&&f.push(...u),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function $8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iE(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var W8=/^:[\w-]+$/,J8=3,eE=2,tE=1,nE=10,aE=-2,h_=t=>t==="*";function rE(t,e){let n=t.split("/"),a=n.length;return n.some(h_)&&(a+=aE),e&&(a+=eE),n.filter(i=>!h_(i)).reduce((i,l)=>i+(W8.test(l)?J8:l===""?tE:nE),a)}function iE(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function sE(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let f=0;f<a.length;++f){let g=a[f],p=f===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Xp({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),S=g.route;if(!_&&p&&n&&!a[a.length-1].route.index&&(_=Xp({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:hl([l,_.pathname]),pathnameBase:fE(hl([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=hl([l,_.pathnameBase]))}return u}function Xp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=lE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:_},S)=>{if(v==="*"){let T=f[S]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=f[S];return _&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function lE(t,e=!1,n=!0){ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,g)=>(a.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function oE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ia(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function uE({basename:t,pathname:e}){return e==="/"?t:hl([t,e])}function cE(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:n?n.startsWith("/")?n:dE(n,e):e,search:hE(a),hash:gE(i)}}function dE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function k1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h2(t){let e=v3(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function g2(t,e,n,a=!1){let i;typeof t=="string"?i=lo(t):(i={...t},Kt(!i.pathname||!i.pathname.includes("?"),k1("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),k1("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),k1("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),_-=1;i.pathname=S.join("/")}f=_>=0?e[_]:"/"}let g=cE(i,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var hl=t=>t.join("/").replace(/\/\/+/g,"/"),fE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Kp=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function X0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var y3=["POST","PUT","PATCH","DELETE"],mE=new Set(y3),pE=["GET",...y3],vE=new Set(pE),yE=new Set([301,302,303,307,308]),bE=new Set([307,308]),U1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_E={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},b0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},SE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=t=>SE.test(t),xE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),b3="remix-router-transitions",_3=Symbol("ResetLoaderData");function wE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Kt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],i=t.mapRouteProperties||xE,l={},u=I0(t.routes,i,void 0,l),f,g=t.basename||"/";g.startsWith("/")||(g=`/${g}`);let p=t.dataStrategy||RE,v={...t.future},_=null,S=new Set,C=null,T=null,R=null,O=t.hydrationData!=null,M=uu(u,t.history.location,g),j=!1,z=null,U;if(M==null&&!t.patchRoutesOnNavigation){let q=Li(404,{pathname:t.history.location.pathname}),{matches:F,route:ue}=Wm(u);U=!0,M=F,z={[ue.id]:q}}else if(M&&!t.hydrationData&&Ce(M,u,t.history.location.pathname).active&&(M=null),M)if(M.some(q=>q.route.lazy))U=!1;else if(!M.some(q=>p2(q.route)))U=!0;else{let q=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null;if(F){let ue=M.findIndex(Ae=>F[Ae.route.id]!==void 0);U=M.slice(0,ue+1).every(Ae=>!Ay(Ae.route,q,F))}else U=M.every(ue=>!Ay(ue.route,q,F))}else{U=!1,M=[];let q=Ce(null,u,t.history.location.pathname);q.active&&q.matches&&(j=!0,M=q.matches)}let H,L={historyAction:t.history.action,location:t.history.location,matches:M,initialized:U,navigation:U1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},Z="POP",$=!1,ie,be=!1,Re=new Map,le=null,ye=!1,ge=!1,de=new Set,B=new Map,ae=0,Q=-1,se=new Map,G=new Set,ne=new Map,_e=new Map,Ee=new Set,Ve=new Map,ut,Ie=null;function st(){if(_=t.history.listen(({action:q,location:F,delta:ue})=>{if(ut){ut(),ut=void 0;return}ia(Ve.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=Yi({currentLocation:L.location,nextLocation:F,historyAction:q});if(Ae&&ue!=null){let Le=new Promise(et=>{ut=et});t.history.go(ue*-1),Nr(Ae,{state:"blocked",location:F,proceed(){Nr(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),Le.then(()=>t.history.go(ue))},reset(){let et=new Map(L.blockers);et.set(Ae,b0),Me({blockers:et})}});return}return Ot(q,F)}),n){VE(e,Re);let q=()=>YE(e,Re);e.addEventListener("pagehide",q),le=()=>e.removeEventListener("pagehide",q)}return L.initialized||Ot("POP",L.location,{initialHydration:!0}),H}function Et(){_&&_(),le&&le(),S.clear(),ie&&ie.abort(),L.fetchers.forEach((q,F)=>Ba(F)),L.blockers.forEach((q,F)=>qa(F))}function we(q){return S.add(q),()=>S.delete(q)}function Me(q,F={}){q.matches&&(q.matches=q.matches.map(Le=>{let et=l[Le.route.id],rt=Le.route;return rt.element!==et.element||rt.errorElement!==et.errorElement||rt.hydrateFallbackElement!==et.hydrateFallbackElement?{...Le,route:et}:Le})),L={...L,...q};let ue=[],Ae=[];L.fetchers.forEach((Le,et)=>{Le.state==="idle"&&(Ee.has(et)?ue.push(et):Ae.push(et))}),Ee.forEach(Le=>{!L.fetchers.has(Le)&&!B.has(Le)&&ue.push(Le)}),[...S].forEach(Le=>Le(L,{deletedFetchers:ue,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),ue.forEach(Le=>Ba(Le)),Ae.forEach(Le=>L.fetchers.delete(Le))}function ot(q,F,{flushSync:ue}={}){let Ae=L.actionData!=null&&L.navigation.formMethod!=null&&Ir(L.navigation.formMethod)&&L.navigation.state==="loading"&&q.state?._isRedirect!==!0,Le;F.actionData?Object.keys(F.actionData).length>0?Le=F.actionData:Le=null:Ae?Le=L.actionData:Le=null;let et=F.loaderData?w_(L.loaderData,F.loaderData,F.matches||[],F.errors):L.loaderData,rt=L.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((at,Fe)=>rt.set(Fe,b0)));let Ke=ye?!1:gi(q,F.matches||L.matches),We=$===!0||L.navigation.formMethod!=null&&Ir(L.navigation.formMethod)&&q.state?._isRedirect!==!0;f&&(u=f,f=void 0),ye||Z==="POP"||(Z==="PUSH"?t.history.push(q,q.state):Z==="REPLACE"&&t.history.replace(q,q.state));let it;if(Z==="POP"){let at=Re.get(L.location.pathname);at&&at.has(q.pathname)?it={currentLocation:L.location,nextLocation:q}:Re.has(q.pathname)&&(it={currentLocation:q,nextLocation:L.location})}else if(be){let at=Re.get(L.location.pathname);at?at.add(q.pathname):(at=new Set([q.pathname]),Re.set(L.location.pathname,at)),it={currentLocation:L.location,nextLocation:q}}Me({...F,actionData:Le,loaderData:et,historyAction:Z,location:q,initialized:!0,navigation:U1,revalidation:"idle",restoreScrollPosition:Ke,preventScrollReset:We,blockers:rt},{viewTransitionOpts:it,flushSync:ue===!0}),Z="POP",$=!1,be=!1,ye=!1,ge=!1,Ie?.resolve(),Ie=null}async function _t(q,F){if(typeof q=="number"){t.history.go(q);return}let ue=Ty(L.location,L.matches,g,q,F?.fromRouteId,F?.relative),{path:Ae,submission:Le,error:et}=g_(!1,ue,F),rt=L.location,Ke=Z0(L.location,Ae,F&&F.state);Ke={...Ke,...t.history.encodeLocation(Ke)};let We=F&&F.replace!=null?F.replace:void 0,it="PUSH";We===!0?it="REPLACE":We===!1||Le!=null&&Ir(Le.formMethod)&&Le.formAction===L.location.pathname+L.location.search&&(it="REPLACE");let at=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Fe=(F&&F.flushSync)===!0,Ct=Yi({currentLocation:rt,nextLocation:Ke,historyAction:it});if(Ct){Nr(Ct,{state:"blocked",location:Ke,proceed(){Nr(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),_t(q,F)},reset(){let rn=new Map(L.blockers);rn.set(Ct,b0),Me({blockers:rn})}});return}await Ot(it,Ke,{submission:Le,pendingError:et,preventScrollReset:at,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Fe})}function St(){Ie||(Ie=ZE()),je(),Me({revalidation:"loading"});let q=Ie.promise;return L.navigation.state==="submitting"?q:L.navigation.state==="idle"?(Ot(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),q):(Ot(Z||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:be===!0}),q)}async function Ot(q,F,ue){ie&&ie.abort(),ie=null,Z=q,ye=(ue&&ue.startUninterruptedRevalidation)===!0,_l(L.location,L.matches),$=(ue&&ue.preventScrollReset)===!0,be=(ue&&ue.enableViewTransition)===!0;let Ae=f||u,Le=ue&&ue.overrideNavigation,et=ue?.initialHydration&&L.matches&&L.matches.length>0&&!j?L.matches:uu(Ae,F,g),rt=(ue&&ue.flushSync)===!0;if(et&&L.initialized&&!ge&&UE(L.location,F)&&!(ue&&ue.submission&&Ir(ue.submission.formMethod))){ot(F,{matches:et},{flushSync:rt});return}let Ke=Ce(et,Ae,F.pathname);if(Ke.active&&Ke.matches&&(et=Ke.matches),!et){let{error:Vt,notFoundMatches:pn,route:cn}=Qr(F.pathname);ot(F,{matches:pn,loaderData:{},errors:{[cn.id]:Vt}},{flushSync:rt});return}ie=new AbortController;let We=Ef(t.history,F,ie.signal,ue&&ue.submission),it=t.getContext?await t.getContext():new f_,at;if(ue&&ue.pendingError)at=[cu(et).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&Ir(ue.submission.formMethod)){let Vt=await mn(We,F,ue.submission,et,it,Ke.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:rt});if(Vt.shortCircuited)return;if(Vt.pendingActionResult){let[pn,cn]=Vt.pendingActionResult;if(oi(cn)&&X0(cn.error)&&cn.error.status===404){ie=null,ot(F,{matches:Vt.matches,loaderData:{},errors:{[pn]:cn.error}});return}}et=Vt.matches||et,at=Vt.pendingActionResult,Le=L1(F,ue.submission),rt=!1,Ke.active=!1,We=Ef(t.history,We.url,We.signal)}let{shortCircuited:Fe,matches:Ct,loaderData:rn,errors:wn}=await _n(We,F,et,it,Ke.active,Le,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,rt,at);Fe||(ie=null,ot(F,{matches:Ct||et,...E_(at),loaderData:rn,errors:wn}))}async function mn(q,F,ue,Ae,Le,et,rt,Ke={}){je();let We=GE(F,ue);if(Me({navigation:We},{flushSync:Ke.flushSync===!0}),et){let Fe=await ze(Ae,F.pathname,q.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:rn,route:wn}=Wm(u);return{matches:rn,pendingActionResult:[wn.id,{type:"error",error:Fe.error}]}}let Ct=cu(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,pendingActionResult:[Ct,{type:"error",error:Fe.error}]}}else if(Fe.matches)Ae=Fe.matches;else{let{notFoundMatches:Ct,error:rn,route:wn}=Qr(F.pathname);return{matches:Ct,pendingActionResult:[wn.id,{type:"error",error:rn}]}}}let it,at=Bp(Ae,F);if(!at.route.action&&!at.route.lazy)it={type:"error",error:Li(405,{method:q.method,pathname:F.pathname,routeId:at.route.id})};else{let Fe=Mf(i,l,q,Ae,at,rt?[]:a,Le),Ct=await Be(q,Fe,Le,null);if(it=Ct[at.route.id],!it){for(let rn of Ae)if(Ct[rn.route.id]){it=Ct[rn.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(Oc(it)){let Fe;return Ke&&Ke.replace!=null?Fe=Ke.replace:Fe=__(it.response.headers.get("Location"),new URL(q.url),g)===L.location.pathname+L.location.search,await fe(q,it,!0,{submission:ue,replace:Fe}),{shortCircuited:!0}}if(oi(it)){let Fe=cu(Ae,at.route.id);return(Ke&&Ke.replace)!==!0&&(Z="PUSH"),{matches:Ae,pendingActionResult:[Fe.route.id,it,at.route.id]}}return{matches:Ae,pendingActionResult:[at.route.id,it]}}async function _n(q,F,ue,Ae,Le,et,rt,Ke,We,it,at,Fe){let Ct=et||L1(F,rt),rn=rt||Ke||T_(Ct),wn=!ye&&!it;if(Le){if(wn){let Pt=un(Fe);Me({navigation:Ct,...Pt!==void 0?{actionData:Pt}:{}},{flushSync:at})}let ft=await ze(ue,F.pathname,q.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Va,route:Ya}=Wm(u);return{matches:Va,loaderData:{},errors:{[Ya.id]:ft.error}}}let Pt=cu(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Pt]:ft.error}}}else if(ft.matches)ue=ft.matches;else{let{error:Pt,notFoundMatches:Va,route:Ya}=Qr(F.pathname);return{matches:Va,loaderData:{},errors:{[Ya.id]:Pt}}}}let Vt=f||u,{dsMatches:pn,revalidatingFetchers:cn}=m_(q,Ae,i,l,t.history,L,ue,rn,F,it?[]:a,it===!0,ge,de,Ee,ne,G,Vt,g,t.patchRoutesOnNavigation!=null,Fe);if(Q=++ae,!t.dataStrategy&&!pn.some(ft=>ft.shouldLoad)&&!pn.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&cn.length===0){let ft=tr();return ot(F,{matches:ue,loaderData:{},errors:Fe&&oi(Fe[1])?{[Fe[0]]:Fe[1].error}:null,...E_(Fe),...ft?{fetchers:new Map(L.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(wn){let ft={};if(!Le){ft.navigation=Ct;let Pt=un(Fe);Pt!==void 0&&(ft.actionData=Pt)}cn.length>0&&(ft.fetchers=Es(cn)),Me(ft,{flushSync:at})}cn.forEach(ft=>{Ca(ft.key),ft.controller&&B.set(ft.key,ft.controller)});let Yt=()=>cn.forEach(ft=>Ca(ft.key));ie&&ie.signal.addEventListener("abort",Yt);let{loaderResults:ar,fetcherResults:Mr}=await Pe(pn,cn,q,Ae);if(q.signal.aborted)return{shortCircuited:!0};ie&&ie.signal.removeEventListener("abort",Yt),cn.forEach(ft=>B.delete(ft.key));let rr=Jm(ar);if(rr)return await fe(q,rr.result,!0,{replace:We}),{shortCircuited:!0};if(rr=Jm(Mr),rr)return G.add(rr.key),await fe(q,rr.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:Sl,errors:xl}=x_(L,ue,ar,Fe,cn,Mr);it&&L.errors&&(xl={...L.errors,...xl});let ir=tr(),$r=ma(Q),Ta=ir||$r||cn.length>0;return{matches:ue,loaderData:Sl,errors:xl,...Ta?{fetchers:new Map(L.fetchers)}:{}}}function un(q){if(q&&!oi(q[1]))return{[q[0]]:q[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Es(q){return q.forEach(F=>{let ue=L.fetchers.get(F.key),Ae=_0(void 0,ue?ue.data:void 0);L.fetchers.set(F.key,Ae)}),new Map(L.fetchers)}async function er(q,F,ue,Ae){Ca(q);let Le=(Ae&&Ae.flushSync)===!0,et=f||u,rt=Ty(L.location,L.matches,g,ue,F,Ae?.relative),Ke=uu(et,rt,g),We=Ce(Ke,et,rt);if(We.active&&We.matches&&(Ke=We.matches),!Ke){$e(q,F,Li(404,{pathname:rt}),{flushSync:Le});return}let{path:it,submission:at,error:Fe}=g_(!0,rt,Ae);if(Fe){$e(q,F,Fe,{flushSync:Le});return}let Ct=t.getContext?await t.getContext():new f_,rn=(Ae&&Ae.preventScrollReset)===!0;if(at&&Ir(at.formMethod)){await I(q,F,it,Ke,Ct,We.active,Le,rn,at);return}ne.set(q,{routeId:F,path:it}),await re(q,F,it,Ke,Ct,We.active,Le,rn,at)}async function I(q,F,ue,Ae,Le,et,rt,Ke,We){je(),ne.delete(q);let it=L.fetchers.get(q);Ye(q,qE(We,it),{flushSync:rt});let at=new AbortController,Fe=Ef(t.history,ue,at.signal,We);if(et){let En=await ze(Ae,new URL(Fe.url).pathname,Fe.signal,q);if(En.type==="aborted")return;if(En.type==="error"){$e(q,F,En.error,{flushSync:rt});return}else if(En.matches)Ae=En.matches;else{$e(q,F,Li(404,{pathname:ue}),{flushSync:rt});return}}let Ct=Bp(Ae,ue);if(!Ct.route.action&&!Ct.route.lazy){let En=Li(405,{method:We.formMethod,pathname:ue,routeId:F});$e(q,F,En,{flushSync:rt});return}B.set(q,at);let rn=ae,wn=Mf(i,l,Fe,Ae,Ct,a,Le),pn=(await Be(Fe,wn,Le,q))[Ct.route.id];if(Fe.signal.aborted){B.get(q)===at&&B.delete(q);return}if(Ee.has(q)){if(Oc(pn)||oi(pn)){Ye(q,to(void 0));return}}else{if(Oc(pn))if(B.delete(q),Q>rn){Ye(q,to(void 0));return}else return G.add(q),Ye(q,_0(We)),fe(Fe,pn,!1,{fetcherSubmission:We,preventScrollReset:Ke});if(oi(pn)){$e(q,F,pn.error);return}}let cn=L.navigation.location||L.location,Yt=Ef(t.history,cn,at.signal),ar=f||u,Mr=L.navigation.state!=="idle"?uu(ar,L.navigation.location,g):L.matches;Kt(Mr,"Didn't find any matches after fetcher action");let rr=++ae;se.set(q,rr);let Sl=_0(We,pn.data);L.fetchers.set(q,Sl);let{dsMatches:xl,revalidatingFetchers:ir}=m_(Yt,Le,i,l,t.history,L,Mr,We,cn,a,!1,ge,de,Ee,ne,G,ar,g,t.patchRoutesOnNavigation!=null,[Ct.route.id,pn]);ir.filter(En=>En.key!==q).forEach(En=>{let Ts=En.key,vr=L.fetchers.get(Ts),pa=_0(void 0,vr?vr.data:void 0);L.fetchers.set(Ts,pa),Ca(Ts),En.controller&&B.set(Ts,En.controller)}),Me({fetchers:new Map(L.fetchers)});let $r=()=>ir.forEach(En=>Ca(En.key));at.signal.addEventListener("abort",$r);let{loaderResults:Ta,fetcherResults:ft}=await Pe(xl,ir,Yt,Le);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",$r),se.delete(q),B.delete(q),ir.forEach(En=>B.delete(En.key)),L.fetchers.has(q)){let En=to(pn.data);L.fetchers.set(q,En)}let Pt=Jm(Ta);if(Pt)return fe(Yt,Pt.result,!1,{preventScrollReset:Ke});if(Pt=Jm(ft),Pt)return G.add(Pt.key),fe(Yt,Pt.result,!1,{preventScrollReset:Ke});let{loaderData:Va,errors:Ya}=x_(L,Mr,Ta,void 0,ir,ft);ma(rr),L.navigation.state==="loading"&&rr>Q?(Kt(Z,"Expected pending action"),ie&&ie.abort(),ot(L.navigation.location,{matches:Mr,loaderData:Va,errors:Ya,fetchers:new Map(L.fetchers)})):(Me({errors:Ya,loaderData:w_(L.loaderData,Va,Mr,Ya),fetchers:new Map(L.fetchers)}),ge=!1)}async function re(q,F,ue,Ae,Le,et,rt,Ke,We){let it=L.fetchers.get(q);Ye(q,_0(We,it?it.data:void 0),{flushSync:rt});let at=new AbortController,Fe=Ef(t.history,ue,at.signal);if(et){let cn=await ze(Ae,new URL(Fe.url).pathname,Fe.signal,q);if(cn.type==="aborted")return;if(cn.type==="error"){$e(q,F,cn.error,{flushSync:rt});return}else if(cn.matches)Ae=cn.matches;else{$e(q,F,Li(404,{pathname:ue}),{flushSync:rt});return}}let Ct=Bp(Ae,ue);B.set(q,at);let rn=ae,wn=Mf(i,l,Fe,Ae,Ct,a,Le),pn=(await Be(Fe,wn,Le,q))[Ct.route.id];if(B.get(q)===at&&B.delete(q),!Fe.signal.aborted){if(Ee.has(q)){Ye(q,to(void 0));return}if(Oc(pn))if(Q>rn){Ye(q,to(void 0));return}else{G.add(q),await fe(Fe,pn,!1,{preventScrollReset:Ke});return}if(oi(pn)){$e(q,F,pn.error);return}Ye(q,to(pn.data))}}async function fe(q,F,ue,{submission:Ae,fetcherSubmission:Le,preventScrollReset:et,replace:rt}={}){F.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let Ke=F.response.headers.get("Location");Kt(Ke,"Expected a Location header on the redirect Response"),Ke=__(Ke,new URL(q.url),g);let We=Z0(L.location,Ke,{_isRedirect:!0});if(n){let wn=!1;if(F.response.headers.has("X-Remix-Reload-Document"))wn=!0;else if(m2(Ke)){const Vt=g3(Ke,!0);wn=Vt.origin!==e.location.origin||Gi(Vt.pathname,g)==null}if(wn){rt?e.location.replace(Ke):e.location.assign(Ke);return}}ie=null;let it=rt===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:Fe,formEncType:Ct}=L.navigation;!Ae&&!Le&&at&&Fe&&Ct&&(Ae=T_(L.navigation));let rn=Ae||Le;if(bE.has(F.response.status)&&rn&&Ir(rn.formMethod))await Ot(it,We,{submission:{...rn,formAction:Ke},preventScrollReset:et||$,enableViewTransition:ue?be:void 0});else{let wn=L1(We,Ae);await Ot(it,We,{overrideNavigation:wn,fetcherSubmission:Le,preventScrollReset:et||$,enableViewTransition:ue?be:void 0})}}async function Be(q,F,ue,Ae){let Le,et={};try{Le=await NE(p,q,F,Ae,ue,!1)}catch(rt){return F.filter(Ke=>Ke.shouldLoad).forEach(Ke=>{et[Ke.route.id]={type:"error",error:rt}}),et}if(q.signal.aborted)return et;for(let[rt,Ke]of Object.entries(Le))if(BE(Ke)){let We=Ke.result;et[rt]={type:"redirect",response:zE(We,q,rt,F,g)}}else et[rt]=await jE(Ke);return et}async function Pe(q,F,ue,Ae){let Le=Be(ue,q,Ae,null),et=Promise.all(F.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let at=(await Be(We.request,We.matches,Ae,We.key))[We.match.route.id];return{[We.key]:at}}else return Promise.resolve({[We.key]:{type:"error",error:Li(404,{pathname:We.path})}})})),rt=await Le,Ke=(await et).reduce((We,it)=>Object.assign(We,it),{});return{loaderResults:rt,fetcherResults:Ke}}function je(){ge=!0,ne.forEach((q,F)=>{B.has(F)&&de.add(F),Ca(F)})}function Ye(q,F,ue={}){L.fetchers.set(q,F),Me({fetchers:new Map(L.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function $e(q,F,ue,Ae={}){let Le=cu(L.matches,F);Ba(q),Me({errors:{[Le.route.id]:ue},fetchers:new Map(L.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function xt(q){return _e.set(q,(_e.get(q)||0)+1),Ee.has(q)&&Ee.delete(q),L.fetchers.get(q)||_E}function tn(q,F){Ca(q,F?.reason),Ye(q,to(null))}function Ba(q){let F=L.fetchers.get(q);B.has(q)&&!(F&&F.state==="loading"&&se.has(q))&&Ca(q),ne.delete(q),se.delete(q),G.delete(q),Ee.delete(q),de.delete(q),L.fetchers.delete(q)}function Ha(q){let F=(_e.get(q)||0)-1;F<=0?(_e.delete(q),Ee.add(q)):_e.set(q,F),Me({fetchers:new Map(L.fetchers)})}function Ca(q,F){let ue=B.get(q);ue&&(ue.abort(F),B.delete(q))}function Ga(q){for(let F of q){let ue=xt(F),Ae=to(ue.data);L.fetchers.set(F,Ae)}}function tr(){let q=[],F=!1;for(let ue of G){let Ae=L.fetchers.get(ue);Kt(Ae,`Expected fetcher: ${ue}`),Ae.state==="loading"&&(G.delete(ue),q.push(ue),F=!0)}return Ga(q),F}function ma(q){let F=[];for(let[ue,Ae]of se)if(Ae<q){let Le=L.fetchers.get(ue);Kt(Le,`Expected fetcher: ${ue}`),Le.state==="loading"&&(Ca(ue),se.delete(ue),F.push(ue))}return Ga(F),F.length>0}function Fr(q,F){let ue=L.blockers.get(q)||b0;return Ve.get(q)!==F&&Ve.set(q,F),ue}function qa(q){L.blockers.delete(q),Ve.delete(q)}function Nr(q,F){let ue=L.blockers.get(q)||b0;Kt(ue.state==="unblocked"&&F.state==="blocked"||ue.state==="blocked"&&F.state==="blocked"||ue.state==="blocked"&&F.state==="proceeding"||ue.state==="blocked"&&F.state==="unblocked"||ue.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${F.state}`);let Ae=new Map(L.blockers);Ae.set(q,F),Me({blockers:Ae})}function Yi({currentLocation:q,nextLocation:F,historyAction:ue}){if(Ve.size===0)return;Ve.size>1&&ia(!1,"A router only supports one blocker at a time");let Ae=Array.from(Ve.entries()),[Le,et]=Ae[Ae.length-1],rt=L.blockers.get(Le);if(!(rt&&rt.state==="proceeding")&&et({currentLocation:q,nextLocation:F,historyAction:ue}))return Le}function Qr(q){let F=Li(404,{pathname:q}),ue=f||u,{matches:Ae,route:Le}=Wm(ue);return{notFoundMatches:Ae,route:Le,error:F}}function Cs(q,F,ue){if(C=q,R=F,T=ue||null,!O&&L.navigation===U1){O=!0;let Ae=gi(L.location,L.matches);Ae!=null&&Me({restoreScrollPosition:Ae})}return()=>{C=null,R=null,T=null}}function nr(q,F){return T&&T(q,F.map(Ae=>Q8(Ae,L.loaderData)))||q.key}function _l(q,F){if(C&&R){let ue=nr(q,F);C[ue]=R()}}function gi(q,F){if(C){let ue=nr(q,F),Ae=C[ue];if(typeof Ae=="number")return Ae}return null}function Ce(q,F,ue){if(t.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Pp(F,ue,g,!0)}}else return{active:!0,matches:Pp(F,ue,g,!0)||[]};return{active:!1,matches:null}}async function ze(q,F,ue,Ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:q};let Le=q;for(;;){let et=f==null,rt=f||u,Ke=l;try{await t.patchRoutesOnNavigation({signal:ue,path:F,matches:Le,fetcherKey:Ae,patch:(at,Fe)=>{ue.aborted||p_(at,Fe,rt,Ke,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:Le}}finally{et&&!ue.aborted&&(u=[...u])}if(ue.aborted)return{type:"aborted"};let We=uu(rt,F,g);if(We)return{type:"success",matches:We};let it=Pp(rt,F,g,!0);if(!it||Le.length===it.length&&Le.every((at,Fe)=>at.route.id===it[Fe].route.id))return{type:"success",matches:null};Le=it}}function fn(q){l={},f=I0(q,i,void 0,l)}function Dt(q,F,ue=!1){let Ae=f==null;p_(q,F,f||u,l,i,ue),Ae&&(u=[...u],Me({}))}return H={get basename(){return g},get future(){return v},get state(){return L},get routes(){return u},get window(){return e},initialize:st,subscribe:we,enableScrollRestoration:Cs,navigate:_t,fetch:er,revalidate:St,createHref:q=>t.history.createHref(q),encodeLocation:q=>t.history.encodeLocation(q),getFetcher:xt,resetFetcher:tn,deleteFetcher:Ha,dispose:Et,getBlocker:Fr,deleteBlocker:qa,patchRoutes:Dt,_internalFetchControllers:B,_internalSetRoutes:fn,_internalSetStateDoNotUseOrYouWillBreakYourApp(q){Me(q)}},H}function EE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ty(t,e,n,a,i,l){let u,f;if(i){u=[];for(let p of e)if(u.push(p),p.route.id===i){f=p;break}}else u=e,f=e[e.length-1];let g=g2(a||".",h2(u),Gi(t.pathname,n)||t.pathname,l==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&f){let p=v2(g.search);if(f.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let v=new URLSearchParams(g.search),_=v.getAll("index");v.delete("index"),_.filter(C=>C).forEach(C=>v.append("index",C));let S=v.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=uE({basename:n,pathname:g.pathname})),gu(g)}function g_(t,e,n){if(!n||!EE(n))return{path:e};if(n.formMethod&&!HE(n.formMethod))return{path:e,error:Li(405,{method:n.formMethod})};let a=()=>({path:e,error:Li(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=T3(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ir(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[C,T])=>`${S}${C}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Ir(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Kt(typeof FormData=="function","FormData is not available in this environment");let f,g;if(n.formData)f=Oy(n.formData),g=n.formData;else if(n.body instanceof FormData)f=Oy(n.body),g=n.body;else if(n.body instanceof URLSearchParams)f=n.body,g=S_(f);else if(n.body==null)f=new URLSearchParams,g=new FormData;else try{f=new URLSearchParams(n.body),g=S_(f)}catch{return a()}let p={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Ir(p.formMethod))return{path:e,submission:p};let v=lo(e);return t&&v.search&&v2(v.search)&&f.append("index",""),v.search=`?${f}`,{path:gu(v),submission:p}}function m_(t,e,n,a,i,l,u,f,g,p,v,_,S,C,T,R,O,M,j,z){let U=z?oi(z[1])?z[1].error:z[1].data:void 0,H=i.createURL(l.location),L=i.createURL(g),Z;if(v&&l.errors){let ye=Object.keys(l.errors)[0];Z=u.findIndex(ge=>ge.route.id===ye)}else if(z&&oi(z[1])){let ye=z[0];Z=u.findIndex(ge=>ge.route.id===ye)-1}let $=z?z[1].statusCode:void 0,ie=$&&$>=400,be={currentUrl:H,currentParams:l.matches[0]?.params||{},nextUrl:L,nextParams:u[0].params,...f,actionResult:U,actionStatus:$},Re=u.map((ye,ge)=>{let{route:de}=ye,B=null;if(Z!=null&&ge>Z?B=!1:de.lazy?B=!0:p2(de)?v?B=Ay(de,l.loaderData,l.errors):CE(l.loaderData,l.matches[ge],ye)&&(B=!0):B=!1,B!==null)return Ry(n,a,t,ye,p,e,B);let ae=ie?!1:_||H.pathname+H.search===L.pathname+L.search||H.search!==L.search||TE(l.matches[ge],ye),Q={...be,defaultShouldRevalidate:ae},se=Fp(ye,Q);return Ry(n,a,t,ye,p,e,se,Q)}),le=[];return T.forEach((ye,ge)=>{if(v||!u.some(_e=>_e.route.id===ye.routeId)||C.has(ge))return;let de=l.fetchers.get(ge),B=de&&de.state!=="idle"&&de.data===void 0,ae=uu(O,ye.path,M);if(!ae){if(j&&B)return;le.push({key:ge,routeId:ye.routeId,path:ye.path,matches:null,match:null,request:null,controller:null});return}if(R.has(ge))return;let Q=Bp(ae,ye.path),se=new AbortController,G=Ef(i,ye.path,se.signal),ne=null;if(S.has(ge))S.delete(ge),ne=Mf(n,a,G,ae,Q,p,e);else if(B)_&&(ne=Mf(n,a,G,ae,Q,p,e));else{let _e={...be,defaultShouldRevalidate:ie?!1:_};Fp(Q,_e)&&(ne=Mf(n,a,G,ae,Q,p,e,_e))}ne&&le.push({key:ge,routeId:ye.routeId,path:ye.path,matches:ne,match:Q,request:G,controller:se})}),{dsMatches:Re,revalidatingFetchers:le}}function p2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Ay(t,e,n){if(t.lazy)return!0;if(!p2(t))return!1;let a=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!a&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!i}function CE(t,e,n){let a=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return a||i}function TE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Fp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function p_(t,e,n,a,i,l){let u;if(t){let p=a[t];Kt(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),u=p.children}else u=n;let f=[],g=[];if(e.forEach(p=>{let v=u.find(_=>S3(p,_));v?g.push({existingRoute:v,newRoute:p}):f.push(p)}),f.length>0){let p=I0(f,i,[t||"_","patch",String(u?.length||"0")],a);u.push(...p)}if(l&&g.length>0)for(let p=0;p<g.length;p++){let{existingRoute:v,newRoute:_}=g[p],S=v,[C]=I0([_],i,[],{},!0);Object.assign(S,{element:C.element?C.element:S.element,errorElement:C.errorElement?C.errorElement:S.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:S.hydrateFallbackElement})}}function S3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(i=>S3(n,i))):!1}var v_=new WeakMap,x3=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let i=n[e.id];if(Kt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let u=v_.get(i);u||(u={},v_.set(i,u));let f=u[t];if(f)return f;let g=(async()=>{let p=I8(t),_=i[t]!==void 0&&t!=="hasErrorBoundary";if(p)ia(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)ia(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(i,{[t]:S}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(S=>S===void 0)&&(i.lazy=void 0))})();return u[t]=g,g},y_=new WeakMap;function AE(t,e,n,a,i){let l=n[t.id];if(Kt(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=y_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{Kt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),C={};for(let T in S){let R=S[T];if(R===void 0)continue;let O=K8(T),j=l[T]!==void 0&&T!=="hasErrorBoundary";O?ia(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?ia(!j,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=R}Object.assign(l,C),Object.assign(l,{...a(l),lazy:void 0})})();return y_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],g;for(let v of u){if(i&&i.includes(v))continue;let _=x3({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(f.push(_),v===e&&(g=_))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function b_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function RE(t){return t.matches.some(e=>e.route.middleware)?w3(t,()=>b_(t)):b_(t)}function w3(t,e){return OE(t,e,a=>a,LE,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=t,f=Math.min(Math.max(u.findIndex(p=>p.route.id===i),0),Math.max(u.findIndex(p=>p.unstable_shouldCallHandler()),0)),g=cu(u,u[f].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:a}})}}}async function OE(t,e,n,a,i){let{matches:l,request:u,params:f,context:g}=t,p=l.flatMap(_=>_.route.middleware?_.route.middleware.map(S=>[_.route.id,S]):[]);return await E3({request:u,params:f,context:g},p,e,n,a,i)}async function E3(t,e,n,a,i,l,u=0){let{request:f}=t;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let g=e[u];if(!g)return await n();let[p,v]=g,_,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await E3(t,e,n,a,i,l,u+1)},_.value}catch(C){return _={value:await l(C,p,_)},_.value}};try{let C=await v(t,S),T=C!=null?a(C):void 0;return i(T)?T:_?T??_.value:(_={value:await S()},_.value)}catch(C){return await l(C,p,_)}}function C3(t,e,n,a,i){let l=x3({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),u=AE(a.route,Ir(n.method)?"action":"loader",e,t,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Ry(t,e,n,a,i,l,u,f=null){let g=!1,p=C3(t,e,n,a,i);return{...a,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return g=!0,f?typeof v=="boolean"?Fp(a,{...f,defaultShouldRevalidate:v}):Fp(a,f):u},resolve(v){let{lazy:_,loader:S,middleware:C}=a.route,T=g||u||v&&!Ir(n.method)&&(_||S),R=C&&C.length>0&&!S&&!_;return T&&!R?ME({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Mf(t,e,n,a,i,l,u,f=null){return a.map(g=>g.route.id!==i.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:C3(t,e,n,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ry(t,e,n,g,l,u,!0,f))}async function NE(t,e,n,a,i,l){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:i,matches:n},g=await t({...u,fetcherKey:a,runClientMiddleware:p=>{let v=u;return w3(v,()=>p({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function ME({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,f,g=Ir(t.method),p=g?"action":"loader",v=_=>{let S,C=new Promise((O,M)=>S=M);f=()=>S(),t.signal.addEventListener("abort",f);let T=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(M=>T(M)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,C])};try{let _=g?e.route.action:e.route.loader;if(n||a)if(_){let S,[C]=await Promise.all([v(_).catch(T=>{S=T}),n,a]);if(S!==void 0)throw S;u=C}else{await n;let S=g?e.route.action:e.route.loader;if(S)[u]=await Promise.all([v(S),a]);else if(p==="action"){let C=new URL(t.url),T=C.pathname+C.search;throw Li(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await v(_);else{let S=new URL(t.url),C=S.pathname+S.search;throw Li(404,{pathname:C})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function DE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function jE(t){let{result:e,type:n}=t;if(A3(e)){let a;try{a=await DE(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Kp(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?C_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Kp(e.init?.status||500,void 0,e.data),statusCode:X0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:X0(e)?e.status:void 0}:C_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zE(t,e,n,a,i){let l=t.headers.get("Location");if(Kt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!m2(l)){let u=a.slice(0,a.findIndex(f=>f.route.id===n)+1);l=Ty(new URL(e.url),u,i,l),t.headers.set("Location",l)}return t}function __(t,e,n){if(m2(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=Gi(i.pathname,n)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return t}function Ef(t,e,n,a){let i=t.createURL(T3(e)).toString(),l={signal:n};if(a&&Ir(a.formMethod)){let{formMethod:u,formEncType:f}=a;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(a.json)):f==="text/plain"?l.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?l.body=Oy(a.formData):l.body=a.formData}return new Request(i,l)}function Oy(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function S_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function kE(t,e,n,a=!1,i=!1){let l={},u=null,f,g=!1,p={},v=n&&oi(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,C=e[S];if(Kt(!Oc(C),"Cannot handle redirect results in processLoaderData"),oi(C)){let T=C.error;if(v!==void 0&&(T=v,v=void 0),u=u||{},i)u[S]=T;else{let R=cu(t,S);u[R.route.id]==null&&(u[R.route.id]=T)}a||(l[S]=_3),g||(g=!0,f=X0(C.error)?C.error.status:500),C.headers&&(p[S]=C.headers)}else l[S]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(f=C.statusCode),C.headers&&(p[S]=C.headers)}),v!==void 0&&n&&(u={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:p}}function x_(t,e,n,a,i,l){let{loaderData:u,errors:f}=kE(e,n,a);return i.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:v,controller:_}=g;if(_&&_.signal.aborted)return;let S=l[p];if(Kt(S,"Did not find corresponding fetcher result"),oi(S)){let C=cu(t.matches,v?.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:S.error}),t.fetchers.delete(p)}else if(Oc(S))Kt(!1,"Unhandled fetcher revalidation redirect");else{let C=to(S.data);t.fetchers.set(p,C)}}),{loaderData:u,errors:f}}function w_(t,e,n,a){let i=Object.entries(e).filter(([,l])=>l!==_3).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(i[u]=t[u]),a&&a.hasOwnProperty(u))break}return i}function E_(t){return t?oi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function cu(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function Wm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Li(t,{pathname:e,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&e&&n?f=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",a&&e&&n?f=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new Kp(t||500,u,new Error(f),!0)}function Jm(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,i]=e[n];if(Oc(i))return{key:a,result:i}}}function T3(t){let e=typeof t=="string"?lo(t):t;return gu({...e,hash:""})}function UE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function LE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&PE(n))}function PE(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function BE(t){return A3(t.result)&&yE.has(t.result.status)}function oi(t){return t.type==="error"}function Oc(t){return(t&&t.type)==="redirect"}function C_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function A3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function HE(t){return vE.has(t.toUpperCase())}function Ir(t){return mE.has(t.toUpperCase())}function v2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Bp(t,e){let n=typeof e=="string"?lo(e).search:e.search;if(t[t.length-1].route.index&&v2(n||""))return t[t.length-1];let a=v3(t);return a[a.length-1]}function T_(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:l,json:u}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function L1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function GE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function to(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VE(t,e){try{let n=t.sessionStorage.getItem(b3);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function YE(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(b3,JSON.stringify(n))}catch(a){ia(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function ZE(){let t,e,n=new Promise((a,i)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Lc=N.createContext(null);Lc.displayName="DataRouter";var lg=N.createContext(null);lg.displayName="DataRouterState";N.createContext(!1);var y2=N.createContext({isTransitioning:!1});y2.displayName="ViewTransition";var R3=N.createContext(new Map);R3.displayName="Fetchers";var IE=N.createContext(null);IE.displayName="Await";var pl=N.createContext(null);pl.displayName="Navigation";var yv=N.createContext(null);yv.displayName="Location";var oo=N.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var b2=N.createContext(null);b2.displayName="RouteError";function XE(t,{relative:e}={}){Kt(og(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(pl),{hash:i,pathname:l,search:u}=cg(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:hl([n,l])),a.createHref({pathname:f,search:u,hash:i})}function og(){return N.useContext(yv)!=null}function Pc(){return Kt(og(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(yv).location}var O3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N3(t){N.useContext(pl).static||N.useLayoutEffect(t)}function ug(){let{isDataRoute:t}=N.useContext(oo);return t?s9():KE()}function KE(){Kt(og(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Lc),{basename:e,navigator:n}=N.useContext(pl),{matches:a}=N.useContext(oo),{pathname:i}=Pc(),l=JSON.stringify(h2(a)),u=N.useRef(!1);return N3(()=>{u.current=!0}),N.useCallback((g,p={})=>{if(ia(u.current,O3),!u.current)return;if(typeof g=="number"){n.go(g);return}let v=g2(g,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:hl([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,i,t])}N.createContext(null);function cg(t,{relative:e}={}){let{matches:n}=N.useContext(oo),{pathname:a}=Pc(),i=JSON.stringify(h2(n));return N.useMemo(()=>g2(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function FE(t,e,n,a,i){Kt(og(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(pl),{matches:u}=N.useContext(oo),f=u[u.length-1],g=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let j=_&&_.path||"";M3(p,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Pc(),C;C=S;let T=C.pathname||"/",R=T;if(v!=="/"){let j=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=uu(t,{pathname:R});return ia(_||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ia(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),e9(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:hl([v,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:hl([v,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,a,i)}function QE(){let t=i9(),e=X0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,u)}var $E=N.createElement(QE,null),WE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(oo.Provider,{value:this.props.routeContext},N.createElement(b2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JE({routeContext:t,match:e,children:n}){let a=N.useContext(Lc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(oo.Provider,{value:t},n)}function e9(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Kt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=p),v.route.id){let{loaderData:_,errors:S}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,v,_)=>{let S,C=!1,T=null,R=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||$E,f&&(g<0&&_===0?(M3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):g===_&&(C=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),M=()=>{let j;return S?j=T:C?j=R:v.route.Component?j=N.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=p,N.createElement(JE,{match:v,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(WE,{location:n.location,revalidation:n.revalidation,component:T,error:S,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):M()},null)}function _2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t9(t){let e=N.useContext(Lc);return Kt(e,_2(t)),e}function n9(t){let e=N.useContext(lg);return Kt(e,_2(t)),e}function a9(t){let e=N.useContext(oo);return Kt(e,_2(t)),e}function S2(t){let e=a9(t),n=e.matches[e.matches.length-1];return Kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function r9(){return S2("useRouteId")}function i9(){let t=N.useContext(b2),e=n9("useRouteError"),n=S2("useRouteError");return t!==void 0?t:e.errors?.[n]}function s9(){let{router:t}=t9("useNavigate"),e=S2("useNavigate"),n=N.useRef(!1);return N3(()=>{n.current=!0}),N.useCallback(async(i,l={})=>{ia(n.current,O3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var A_={};function M3(t,e,n){!e&&!A_[t]&&(A_[t]=!0,ia(!1,n))}var R_={};function O_(t,e){!t&&!R_[e]&&(R_[e]=!0,console.warn(e))}function l9(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ia(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ia(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ia(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var o9=["HydrateFallback","hydrateFallbackElement"],u9=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function c9({router:t,flushSync:e,unstable_onError:n}){let[a,i]=N.useState(t.state),[l,u]=N.useState(),[f,g]=N.useState({isTransitioning:!1}),[p,v]=N.useState(),[_,S]=N.useState(),[C,T]=N.useState(),R=N.useRef(new Map),O=N.useCallback(H=>{i(L=>(H.errors&&n&&Object.entries(H.errors).forEach(([Z,$])=>{L.errors?.[Z]!==$&&n($)}),H))},[n]),M=N.useCallback((H,{deletedFetchers:L,flushSync:Z,viewTransitionOpts:$})=>{H.fetchers.forEach((be,Re)=>{be.data!==void 0&&R.current.set(Re,be.data)}),L.forEach(be=>R.current.delete(be)),O_(Z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ie=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(O_($==null||ie,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!ie){e&&Z?e(()=>O(H)):N.startTransition(()=>O(H));return}if(e&&Z){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let be=t.window.document.startViewTransition(()=>{e(()=>O(H))});be.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})})}),e(()=>S(be));return}_?(p&&p.resolve(),_.skipTransition(),T({state:H,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(u(H),g({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,e,_,p,O]);N.useLayoutEffect(()=>t.subscribe(M),[t,M]),N.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new u9)},[f]),N.useEffect(()=>{if(p&&l&&t.window){let H=l,L=p.promise,Z=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(H)),await L});Z.finished.finally(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})}),S(Z)}},[l,p,t.window,O]),N.useEffect(()=>{p&&l&&a.location.key===l.location.key&&p.resolve()},[p,_,a.location,l]),N.useEffect(()=>{!f.isTransitioning&&C&&(u(C.state),g({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),T(void 0))},[f.isTransitioning,C]);let j=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,L,Z)=>t.navigate(H,{state:L,preventScrollReset:Z?.preventScrollReset}),replace:(H,L,Z)=>t.navigate(H,{replace:!0,state:L,preventScrollReset:Z?.preventScrollReset})}),[t]),z=t.basename||"/",U=N.useMemo(()=>({router:t,navigator:j,static:!1,basename:z,unstable_onError:n}),[t,j,z,n]);return N.createElement(N.Fragment,null,N.createElement(Lc.Provider,{value:U},N.createElement(lg.Provider,{value:a},N.createElement(R3.Provider,{value:R.current},N.createElement(y2.Provider,{value:f},N.createElement(h9,{basename:z,location:a.location,navigationType:a.historyAction,navigator:j},N.createElement(d9,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var d9=N.memo(f9);function f9({routes:t,future:e,state:n,unstable_onError:a}){return FE(t,void 0,n,a,e)}function h9({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){Kt(!og(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=lo(n));let{pathname:g="/",search:p="",hash:v="",state:_=null,key:S="default"}=n,C=N.useMemo(()=>{let T=Gi(g,u);return T==null?null:{location:{pathname:T,search:p,hash:v,state:_,key:S},navigationType:a}},[u,g,p,v,_,S,a]);return ia(C!=null,`<Router basename="${u}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(pl.Provider,{value:f},N.createElement(yv.Provider,{children:e,value:C}))}var Hp="get",Gp="application/x-www-form-urlencoded";function bv(t){return t!=null&&typeof t.tagName=="string"}function g9(t){return bv(t)&&t.tagName.toLowerCase()==="button"}function m9(t){return bv(t)&&t.tagName.toLowerCase()==="form"}function p9(t){return bv(t)&&t.tagName.toLowerCase()==="input"}function v9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y9(t,e){return t.button===0&&(!e||e==="_self")&&!v9(t)}var ep=null;function b9(){if(ep===null)try{new FormData(document.createElement("form"),0),ep=!1}catch{ep=!0}return ep}var _9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function P1(t){return t!=null&&!_9.has(t)?(ia(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gp}"`),null):t}function S9(t,e){let n,a,i,l,u;if(m9(t)){let f=t.getAttribute("action");a=f?Gi(f,e):null,n=t.getAttribute("method")||Hp,i=P1(t.getAttribute("enctype"))||Gp,l=new FormData(t)}else if(g9(t)||p9(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(a=g?Gi(g,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Hp,i=P1(t.getAttribute("formenctype"))||P1(f.getAttribute("enctype"))||Gp,l=new FormData(f,t),!b9()){let{name:p,type:v,value:_}=t;if(v==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,_)}}else{if(bv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hp,a=null,i=Gp,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function x2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x9(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Gi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function w9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function C9(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await w9(l,n);return u.links?u.links():[]}return[]}));return O9(a.flat(1).filter(E9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N_(t,e,n,a,i,l){let u=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,f=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,p)=>u(g,p)||f(g,p)):l==="data"?e.filter((g,p)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function T9(t,e,{includeHydrateFallback:n}={}){return A9(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function A9(t){return[...new Set(t)]}function R9(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function O9(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(R9(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function D3(){let t=N.useContext(Lc);return x2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function N9(){let t=N.useContext(lg);return x2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var w2=N.createContext(void 0);w2.displayName="FrameworkContext";function j3(){let t=N.useContext(w2);return x2(t,"You must render this element inside a <HydratedRouter> element"),t}function M9(t,e){let n=N.useContext(w2),[a,i]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=M=>{M.forEach(j=>{u(j.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let C=()=>{i(!0)},T=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:S0(f,C),onBlur:S0(g,T),onMouseEnter:S0(p,C),onMouseLeave:S0(v,T),onTouchStart:S0(_,C)}]:[!1,S,{}]}function S0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function D9({page:t,...e}){let{router:n}=D3(),a=N.useMemo(()=>uu(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(z9,{page:t,matches:a,...e}):null}function j9(t){let{manifest:e,routeModules:n}=j3(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return C9(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function z9({page:t,matches:e,...n}){let a=Pc(),{manifest:i,routeModules:l}=j3(),{basename:u}=D3(),{loaderData:f,matches:g}=N9(),p=N.useMemo(()=>N_(t,e,g,i,a,"data"),[t,e,g,i,a]),v=N.useMemo(()=>N_(t,e,g,i,a,"assets"),[t,e,g,i,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(e.forEach(M=>{let j=i.routes[M.route.id];!j||!j.hasLoader||(!p.some(z=>z.route.id===M.route.id)&&M.route.id in f&&l[M.route.id]?.shouldRevalidate||j.hasClientLoader?R=!0:T.add(M.route.id))}),T.size===0)return[];let O=x9(t,u,"data");return R&&T.size>0&&O.searchParams.set("_routes",e.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[u,f,a,i,p,e,t,l]),S=N.useMemo(()=>T9(v,i),[v,i]),C=j9(v);return N.createElement(N.Fragment,null,_.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),C.map(({key:T,link:R})=>N.createElement("link",{key:T,nonce:n.nonce,...R})))}function k9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z3&&(window.__reactRouterVersion="7.9.4")}catch{}function U9(t,e){return wE({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:q8({window:e?.window}),hydrationData:L9(),routes:t,mapRouteProperties:l9,hydrationRouteProperties:o9,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function L9(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:P9(t.errors)}),t}function P9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new Kp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var k3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U3=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:f,target:g,to:p,preventScrollReset:v,viewTransition:_,...S},C){let{basename:T}=N.useContext(pl),R=typeof p=="string"&&k3.test(p),O,M=!1;if(typeof p=="string"&&R&&(O=p,z3))try{let ie=new URL(window.location.href),be=p.startsWith("//")?new URL(ie.protocol+p):new URL(p),Re=Gi(be.pathname,T);be.origin===ie.origin&&Re!=null?p=Re+be.search+be.hash:M=!0}catch{ia(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=XE(p,{relative:i}),[z,U,H]=M9(a,S),L=q9(p,{replace:u,state:f,target:g,preventScrollReset:v,relative:i,viewTransition:_});function Z(ie){e&&e(ie),ie.defaultPrevented||L(ie)}let $=N.createElement("a",{...S,...H,href:O||j,onClick:M||l?e:Z,ref:k9(C,U),target:g,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,$,N.createElement(D9,{page:j})):$});U3.displayName="Link";var B9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:f,children:g,...p},v){let _=cg(u,{relative:p.relative}),S=Pc(),C=N.useContext(lg),{navigator:T,basename:R}=N.useContext(pl),O=C!=null&&X9(_)&&f===!0,M=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,j=S.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(j=j.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=Gi(z,R)||z);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=j===M||!i&&j.startsWith(M)&&j.charAt(U)==="/",L=z!=null&&(z===M||!i&&z.startsWith(M)&&z.charAt(M.length)==="/"),Z={isActive:H,isPending:L,isTransitioning:O},$=H?e:void 0,ie;typeof a=="function"?ie=a(Z):ie=[a,H?"active":null,L?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let be=typeof l=="function"?l(Z):l;return N.createElement(U3,{...p,"aria-current":$,className:ie,ref:v,style:be,to:u,viewTransition:f},typeof g=="function"?g(Z):g)});B9.displayName="NavLink";var H9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Hp,action:f,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:_,...S},C)=>{let T=Z9(),R=I9(f,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&k3.test(f),j=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let U=z.nativeEvent.submitter,H=U?.getAttribute("formmethod")||u;T(U||z.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:C,method:O,action:R,onSubmit:a?g:j,...S,"data-discover":!M&&t==="render"?"true":void 0})});H9.displayName="Form";function G9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L3(t){let e=N.useContext(Lc);return Kt(e,G9(t)),e}function q9(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=ug(),g=Pc(),p=cg(t,{relative:l});return N.useCallback(v=>{if(y9(v,e)){v.preventDefault();let _=n!==void 0?n:gu(g)===gu(p);f(t,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[g,f,p,n,a,e,t,i,l,u])}var V9=0,Y9=()=>`__${String(++V9)}__`;function Z9(){let{router:t}=L3("useSubmit"),{basename:e}=N.useContext(pl),n=r9();return N.useCallback(async(a,i={})=>{let{action:l,method:u,encType:f,formData:g,body:p}=S9(a,e);if(i.navigate===!1){let v=i.fetcherKey||Y9();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function I9(t,{relative:e}={}){let{basename:n}=N.useContext(pl),a=N.useContext(oo);Kt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...cg(t||".",{relative:e})},u=Pc();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(v=>v==="")){f.delete("index"),g.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:hl([n,l.pathname])),gu(l)}function X9(t,{relative:e}={}){let n=N.useContext(y2);Kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=L3("useViewTransitionState"),i=cg(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gi(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Gi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Xp(i.pathname,u)!=null||Xp(i.pathname,l)!=null}var dg=c3();const K9=ig(dg);function F9(t){return N.createElement(c9,{flushSync:dg.flushSync,...t})}const Q9="modulepreload",$9=function(t){return"/rect-up/"+t},M_={},fg=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let p=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=f?.nonce||f?.getAttribute("nonce");i=p(n.map(v=>{if(v=$9(v),v in M_)return;M_[v]=!0;const _=v.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":Q9,_||(C.as="script"),C.crossOrigin="",C.href=v,g&&C.setAttribute("nonce",g),document.head.appendChild(C),_)return new Promise((T,R)=>{C.addEventListener("load",T),C.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return i.then(f=>{for(const g of f||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},W9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fg(async()=>{const{default:a}=await Promise.resolve().then(()=>Yf);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class E2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class D_ extends E2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j_ extends E2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class z_ extends E2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ny;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ny||(Ny={}));var J9=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class e7{constructor(e,{headers:n={},customFetch:a,region:i=Ny.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=W9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return J9(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:l,method:u,body:f,signal:g}=a;let p={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(p["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(p["Content-Type"]="application/json",S=JSON.stringify(f)));const C=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:S,signal:g}).catch(M=>{throw M.name==="AbortError"?M:new D_(M)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new j_(C);if(!C.ok)throw new z_(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new D_(l)}:{data:null,error:l,response:l instanceof z_||l instanceof j_?l.context:void 0}}})}}var La={},af={},rf={},sf={},lf={},of={},t7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pf=t7();const n7=Pf.fetch,P3=Pf.fetch.bind(Pf),B3=Pf.Headers,a7=Pf.Request,r7=Pf.Response,Yf=Object.freeze(Object.defineProperty({__proto__:null,Headers:B3,Request:a7,Response:r7,default:P3,fetch:n7},Symbol.toStringTag,{value:"Module"})),i7=M8(Yf);var tp={},k_;function H3(){if(k_)return tp;k_=1,Object.defineProperty(tp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return tp.default=t,tp}var U_;function G3(){if(U_)return of;U_=1;var t=of&&of.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(of,"__esModule",{value:!0});const e=t(i7),n=t(H3());class a{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,_,S,C;let T=null,R=null,O=null,M=p.status,j=p.statusText;if(p.ok){if(this.method!=="HEAD"){const L=await p.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=L:R=JSON.parse(L))}const U=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),H=(S=p.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");U&&H&&H.length>1&&(O=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,M=406,j="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const U=await p.text();try{T=JSON.parse(U),Array.isArray(T)&&p.status===404&&(R=[],T=null,M=200,j="OK")}catch{p.status===404&&U===""?(M=204,j="No Content"):T={message:U}}if(T&&this.isMaybeSingle&&(!((C=T?.details)===null||C===void 0)&&C.includes("0 rows"))&&(T=null,M=200,j="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:R,count:O,status:M,statusText:j}});return this.shouldThrowOnError||(g=g.catch(p=>{var v,_,S;return{error:{message:`${(v=p?.name)!==null&&v!==void 0?v:"FetchError"}: ${p?.message}`,details:`${(_=p?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=p?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return of.default=a,of}var L_;function q3(){if(L_)return lf;L_=1;var t=lf&&lf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lf,"__esModule",{value:!0});const e=t(G3());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:g=f}={}){const p=g?`${g}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:f=u}={}){const g=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${i}`),this.url.searchParams.set(p,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:g=!1,format:p="text"}={}){var v;const _=[i?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${S}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return lf.default=n,lf}var P_;function C2(){if(P_)return sf;P_=1;var t=sf&&sf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sf,"__esModule",{value:!0});const e=t(q3());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${g}fts${p}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return sf.default=n,sf}var B_;function V3(){if(B_)return rf;B_=1;var t=rf&&rf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rf,"__esModule",{value:!0});const e=t(C2());class n{constructor(i,{headers:l={},schema:u,fetch:f}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(i,l){const{head:u=!1,count:f}=l??{},g=u?"HEAD":"GET";let p=!1;const v=(i??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:g=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const _=i.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(_.length>0){const S=[...new Set(_)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return rf.default=n,rf}var H_;function s7(){if(H_)return af;H_=1;var t=af&&af.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(af,"__esModule",{value:!0});const e=t(V3()),n=t(C2());class a{constructor(l,{headers:u={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=g}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:g=!1,count:p}={}){var v;let _;const S=new URL(`${this.url}/rpc/${l}`);let C;f||g?(_=f?"HEAD":"GET",Object.entries(u).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(_="POST",C=u);const T=new Headers(this.headers);return p&&T.set("Prefer",`count=${p}`),new n.default({method:_,url:S,headers:T,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return af.default=a,af}var G_;function l7(){if(G_)return La;G_=1;var t=La&&La.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(La,"__esModule",{value:!0}),La.PostgrestError=La.PostgrestBuilder=La.PostgrestTransformBuilder=La.PostgrestFilterBuilder=La.PostgrestQueryBuilder=La.PostgrestClient=void 0;const e=t(s7());La.PostgrestClient=e.default;const n=t(V3());La.PostgrestQueryBuilder=n.default;const a=t(C2());La.PostgrestFilterBuilder=a.default;const i=t(q3());La.PostgrestTransformBuilder=i.default;const l=t(G3());La.PostgrestBuilder=l.default;const u=t(H3());return La.PostgrestError=u.default,La.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},La}var o7=l7();const u7=ig(o7),{PostgrestClient:c7,PostgrestQueryBuilder:hG,PostgrestFilterBuilder:gG,PostgrestTransformBuilder:mG,PostgrestBuilder:pG,PostgrestError:vG}=u7;class d7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const f7="2.75.0",h7=`realtime-js/${f7}`,g7="1.0.0",My=1e4,m7=1e3,p7=100;var U0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(U0||(U0={}));var Sa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Sa||(Sa={}));var ps;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ps||(ps={}));var Dy;(function(t){t.websocket="websocket"})(Dy||(Dy={}));var Ac;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ac||(Ac={}));class v7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const f=a.decode(e.slice(u,u+i));u=u+i;const g=a.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:g,payload:p}}}class Y3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ln;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ln||(Ln={}));const q_=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=y7(u,t,e,i),l),{}):{}},y7=(t,e,n,a)=>{const i=e.find(f=>f.name===t),l=i?.type,u=n[t];return l&&!a.includes(l)?Z3(l,u):jy(u)},Z3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return x7(e,n)}switch(t){case Ln.bool:return b7(e);case Ln.float4:case Ln.float8:case Ln.int2:case Ln.int4:case Ln.int8:case Ln.numeric:case Ln.oid:return _7(e);case Ln.json:case Ln.jsonb:return S7(e);case Ln.timestamp:return w7(e);case Ln.abstime:case Ln.date:case Ln.daterange:case Ln.int4range:case Ln.int8range:case Ln.money:case Ln.reltime:case Ln.text:case Ln.time:case Ln.timestamptz:case Ln.timetz:case Ln.tsrange:case Ln.tstzrange:return jy(e);default:return jy(e)}},jy=t=>t,b7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},S7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},x7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Z3(e,f))}return t},w7=t=>typeof t=="string"?t.replace(" ","T"):t,I3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class B1{constructor(e,n,a={},i=My){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var V_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(V_||(V_={}));class L0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=L0.syncState(this.state,i,l,u),this.pendingDiffs.forEach(g=>{this.state=L0.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=L0.syncDiff(this.state,i,l,u),f())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const l=this.cloneDeep(e),u=this.transformState(n),f={},g={};return this.map(l,(p,v)=>{u[p]||(g[p]=v)}),this.map(u,(p,v)=>{const _=l[p];if(_){const S=v.map(O=>O.presence_ref),C=_.map(O=>O.presence_ref),T=v.filter(O=>C.indexOf(O.presence_ref)<0),R=_.filter(O=>S.indexOf(O.presence_ref)<0);T.length>0&&(f[p]=T),R.length>0&&(g[p]=R)}else f[p]=v}),this.syncDiff(l,{joins:f,leaves:g},a,i)}static syncDiff(e,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(f,g)=>{var p;const v=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(g),v.length>0){const _=e[f].map(C=>C.presence_ref),S=v.filter(C=>_.indexOf(C.presence_ref)<0);e[f].unshift(...S)}a(f,v,g)}),this.map(u,(f,g)=>{let p=e[f];if(!p)return;const v=g.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),e[f]=p,i(f,p,g),p.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Y_||(Y_={}));var P0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(P0||(P0={}));var ao;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ao||(ao={}));class T2{constructor(e,n={config:{}},a){var i,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Sa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new B1(this,ps.join,this.params,this.timeout),this.rejoinTimer=new Y3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sa.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ps.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new L0(this),this.broadcastEndpointURL=I3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Sa.closed){const{config:{broadcast:u,presence:f,private:g}}=this.params,p=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[P0.PRESENCE]&&this.bindings[P0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(ao.CHANNEL_ERROR,C)),this._onClose(()=>e?.(ao.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var T;if(this.socket.setAuth(),C===void 0){e?.(ao.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,M=[];for(let j=0;j<O;j++){const z=R[j],{filter:{event:U,schema:H,table:L,filter:Z}}=z,$=C&&C[j];if($&&$.event===U&&$.schema===H&&$.table===L&&$.filter===Z)M.push(Object.assign(Object.assign({},z),{id:$.id}));else{this.unsubscribe(),this.state=Sa.errored,e?.(ao.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(ao.SUBSCRIBED);return}}).receive("error",C=>{this.state=Sa.errored,e?.(ao.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(ao.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Sa.joined&&e===P0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,g;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Sa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ps.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new B1(this,ps.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new B1(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>p7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,l;const u=e.toLocaleLowerCase(),{close:f,error:g,leave:p,join:v}=ps;if(a&&[f,g,p,v].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var T,R,O;return((T=C.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=C.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(C=>C.callback(S,a)):(l=this.bindings[u])===null||l===void 0||l.filter(C=>{var T,R,O,M,j,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const U=C.id,H=(T=C.filter)===null||T===void 0?void 0:T.event;return U&&((R=n.ids)===null||R===void 0?void 0:R.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const U=(j=(M=C?.filter)===null||M===void 0?void 0:M.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return U==="*"||U===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:R,table:O,commit_timestamp:M,type:j,errors:z}=T;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:M,eventType:j,new:{},old:{},errors:z}),this._getPayloadRecords(T))}C.callback(S,a)})}_isClosed(){return this.state===Sa.closed}_isJoined(){return this.state===Sa.joined}_isJoining(){return this.state===Sa.joining}_isLeaving(){return this.state===Sa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&T2.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ps.close,{},e)}_onError(e){this._on(ps.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=q_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=q_(e.columns,e.old_record)),n}}const H1=()=>{},np={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},E7=[1e3,2e3,5e3,1e4],C7=1e4,T7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class A7{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=My,this.transport=null,this.heartbeatIntervalMs=np.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=H1,this.ref=0,this.reconnectTimer=null,this.logger=H1,this.conn=null,this.sendBuffer=[],this.serializer=new v7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...u)=>fg(async()=>{const{default:f}=await Promise.resolve().then(()=>Yf);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dy.websocket}`,this.httpEndpoint=I3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:g7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case U0.connecting:return Ac.Connecting;case U0.open:return Ac.Open;case U0.closing:return Ac.Closing;default:return Ac.Closed}}isConnected(){return this.connectionState()===Ac.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new T2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(m7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},np.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=n,f=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${i} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ps.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([T7],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:h7};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ps.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Y3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},np.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,l,u,f,g,p,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:My,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:np.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:H1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>E7[_-1]||C7),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((_,S)=>S(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class A2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fa(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class R7 extends A2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zy extends A2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var O7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const X3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fg(async()=>{const{default:a}=await Promise.resolve().then(()=>Yf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},N7=()=>O7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fg(()=>Promise.resolve().then(()=>Yf),void 0)).Response:Response}),ky=t=>{if(Array.isArray(t))return t.map(n=>ky(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=ky(a)}),e},M7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Bc=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const G1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),D7=(t,e,n)=>Bc(void 0,void 0,void 0,function*(){const a=yield N7();t instanceof a&&!n?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new R7(G1(i),l,u))}).catch(i=>{e(new zy(G1(i),i))}):e(new zy(G1(t),t))}),j7=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(M7(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function hg(t,e,n,a,i,l){return Bc(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,j7(e,a,i,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>D7(g,f,a))})})}function Qp(t,e,n,a){return Bc(this,void 0,void 0,function*(){return hg(t,"GET",e,n,a)})}function ol(t,e,n,a,i){return Bc(this,void 0,void 0,function*(){return hg(t,"POST",e,a,i,n)})}function Uy(t,e,n,a,i){return Bc(this,void 0,void 0,function*(){return hg(t,"PUT",e,a,i,n)})}function z7(t,e,n,a){return Bc(this,void 0,void 0,function*(){return hg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function K3(t,e,n,a,i){return Bc(this,void 0,void 0,function*(){return hg(t,"DELETE",e,a,i,n)})}var k7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class U7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return k7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}})}}var L7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class P7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new U7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return L7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}})}}var qr=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const B7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class H7{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=X3(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return qr(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Z_),i);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const p=this._removeEmptyFolders(n),v=this._getFinalPath(p),_=yield(e=="PUT"?Uy:ol)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(fa(l))return{data:null,error:l};throw l}})}upload(e,n,a){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return qr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:Z_.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",p.cacheControl)):(g=a,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const _=yield Uy(this.fetch,f.toString(),g,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(fa(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return qr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const l=yield ol(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new A2("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}update(e,n,a){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return qr(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}copy(e,n,a){return qr(this,void 0,void 0,function*(){try{return{data:{path:(yield ol(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield ol(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return qr(this,void 0,void 0,function*(){try{const i=yield ol(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>Qp(this.fetch,`${this.url}/${i}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new P7(g,this.shouldThrowOnError)}info(e){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Qp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ky(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}exists(e){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield z7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a)&&a instanceof zy){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const f=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&i.push(g);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${p}`)}}}remove(e){return qr(this,void 0,void 0,function*(){try{return{data:yield K3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}list(e,n,a){return qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},B7),n),{prefix:e||""});return{data:yield ol(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}listV2(e,n){return qr(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield ol(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const G7="2.75.0",q7={"X-Client-Info":`storage-js/${G7}`};var uf=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class V7{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},q7),n),this.fetch=X3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return uf(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}})}getBucket(e){return uf(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}createBucket(e){return uf(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield ol(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return uf(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}emptyBucket(e){return uf(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}deleteBucket(e){return uf(this,void 0,void 0,function*(){try{return{data:yield K3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}}class Y7 extends V7{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new H7(this.url,this.headers,e,this.fetch)}}const Z7="2.75.0";let O0="";typeof Deno<"u"?O0="deno":typeof document<"u"?O0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?O0="react-native":O0="node";const I7={"X-Client-Info":`supabase-js-${O0}/${Z7}`},X7={headers:I7},K7={schema:"public"},F7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q7={};var $7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};const W7=t=>{let e;return t?e=t:typeof fetch>"u"?e=P3:e=fetch,(...n)=>e(...n)},J7=()=>typeof Headers>"u"?B3:Headers,eC=(t,e,n)=>{const a=W7(n),i=J7();return(l,u)=>$7(void 0,void 0,void 0,function*(){var f;const g=(f=yield e())!==null&&f!==void 0?f:t;let p=new i(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},u),{headers:p}))})};var tC=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};function nC(t){return t.endsWith("/")?t:t+"/"}function aC(t,e){var n,a;const{db:i,auth:l,realtime:u,global:f}=t,{db:g,auth:p,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),f),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>tC(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function rC(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const F3="2.75.0",Cf=30*1e3,Ly=3,q1=Ly*Cf,iC="http://localhost:9999",sC="supabase.auth.token",lC={"X-Client-Info":`gotrue-js/${F3}`},Py="X-Supabase-Api-Version",Q3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uC=600*1e3;class K0 extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ht(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cC extends K0{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function dC(t){return ht(t)&&t.name==="AuthApiError"}class Rc extends K0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class yu extends K0{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class iu extends yu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fC(t){return ht(t)&&t.name==="AuthSessionMissingError"}class cf extends yu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ap extends yu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rp extends yu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hC(t){return ht(t)&&t.name==="AuthImplicitGrantRedirectError"}class I_ extends yu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class By extends yu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function V1(t){return ht(t)&&t.name==="AuthRetryableFetchError"}class X_ extends yu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Hy extends yu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K_=` 	
\r=`.split(""),gC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<K_.length;e+=1)t[K_[e].charCodeAt(0)]=-2;for(let e=0;e<$p.length;e+=1)t[$p[e].charCodeAt(0)]=e;return t})();function F_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n($p[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n($p[a]),e.queuedBits-=6}}function $3(t,e,n){const a=gC[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Q_(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{vC(u,a,n)};for(let u=0;u<t.length;u+=1)$3(t.charCodeAt(u),i,l);return e.join("")}function mC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pC(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}mC(a,e)}}function vC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Df(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)$3(t.charCodeAt(i),n,a);return new Uint8Array(e)}function yC(t){const e=[];return pC(t,n=>e.push(n)),new Uint8Array(e)}function Nc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>F_(i,n,a)),F_(null,n,a),e.join("")}function bC(t){return Math.round(Date.now()/1e3)+t}function _C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const li=()=>typeof window<"u"&&typeof document<"u",xc={tested:!1,writable:!1},W3=()=>{if(!li())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xc.tested)return xc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xc.tested=!0,xc.writable=!0}catch{xc.tested=!0,xc.writable=!1}return xc.writable};function SC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const J3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fg(async()=>{const{default:a}=await Promise.resolve().then(()=>Yf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},xC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},wc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},au=async(t,e)=>{await t.removeItem(e)};class _v{constructor(){this.promise=new _v.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_v.promiseConstructor=Promise;function Y1(t){const e=t.split(".");if(e.length!==3)throw new Hy("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!oC.test(e[a]))throw new Hy("JWT not in base64url format");return{header:JSON.parse(Q_(e[0])),payload:JSON.parse(Q_(e[1])),signature:Df(e[2]),raw:{header:e[0],payload:e[1]}}}async function wC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function EC(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function CC(t){return("0"+t.toString(16)).substr(-2)}function TC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,CC).join("")}async function AC(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function RC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await AC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function df(t,e,n=!1){const a=TC();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await Tf(t,`${e}-code-verifier`,i);const l=await RC(a);return[l,a===l?"plain":"s256"]}const OC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NC(t){const e=t.headers.get(Py);if(!e||!e.match(OC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function DC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ff(t){if(!jC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Z1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $_(t){return JSON.parse(JSON.stringify(t))}var zC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Tc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kC=[502,503,504];async function W_(t){var e;if(!xC(t))throw new By(Tc(t),0);if(kC.includes(t.status))throw new By(Tc(t),t.status);let n;try{n=await t.json()}catch(l){throw new Rc(Tc(l),l)}let a;const i=NC(t);if(i&&i.getTime()>=Q3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new X_(Tc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new iu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new X_(Tc(n),t.status,n.weak_password.reasons);throw new cC(Tc(n),t.status||500,a)}const UC=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function At(t,e,n,a){var i;const l=Object.assign({},a?.headers);l[Py]||(l[Py]=Q3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await LC(t,e,n+f,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function LC(t,e,n,a,i,l){const u=UC(e,a,i,l);let f;try{f=await t(n,Object.assign({},u))}catch(g){throw console.error(g),new By(Tc(g),0)}if(f.ok||await W_(f),a?.noResolveJson)return f;try{return await f.json()}catch(g){await W_(g)}}function ms(t){var e;let n=null;HC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=bC(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function J_(t){const e=ms(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function du(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PC(t){return{data:t,error:null}}function BC(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=t,u=zC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},g=Object.assign({},u);return{data:{properties:f,user:g},error:null}}function e4(t){return t}function HC(t){return t.access_token&&t.refresh_token&&t.expires_in}const I1=["global","local","others"];var GC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class qC{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=J3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=I1[0]){if(I1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${I1.join(", ")}`);try{return await At(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await At(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:du})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=GC(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await At(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:BC,redirectTo:n?.redirectTo})}catch(n){if(ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await At(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:du})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,l,u,f,g;try{const p={nextPage:null,lastPage:0,total:0},v=await At(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:e4});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);p[`${O}Page`]=R}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ht(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ff(e);try{return await At(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:du})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ff(e);try{return await At(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:du})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){ff(e);try{return await At(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:du})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ff(e.userId);try{const{data:n,error:a}=await At(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ff(e.userId),ff(e.id);try{return{data:await At(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,l,u,f,g;try{const p={nextPage:null,lastPage:0,total:0},v=await At(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:e4});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);p[`${O}Page`]=R}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ht(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await At(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await At(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await At(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await At(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}}function t4(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const hf={debug:!!(globalThis&&W3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VC extends eS{}async function YC(t,e,n){hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),hf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hf.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ZC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function IC(t){return parseInt(t,16)}function XC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function KC(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:g,resources:p,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const C=tS(t.address),T=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${C}

${R}`;let M=`URI: ${_}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),g&&(M+=`
Request ID: ${g}`),p){let j=`
Resources:`;for(const z of p){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);j+=`
- ${z}`}M+=j}return`${O}
${M}`}class da extends Error{constructor({message:e,code:n,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Wp extends da{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function FC({error:t,options:e}){var n,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new da({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new da({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new da({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new da({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new da({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new da({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new da({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new da({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(aS(u)){if(l.rp.id!==u)return new da({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new da({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new da({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new da({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new da({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function QC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new da({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new da({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(aS(a)){if(n.rpId!==a)return new da({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new da({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new da({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new da({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var nS=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class $C{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const WC=new $C;function JC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=nS(t,["challenge","user","excludeCredentials"]),l=Df(e).buffer,u=Object.assign(Object.assign({},n),{id:Df(n.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const p=a[g];f.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Df(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function eT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=nS(t,["challenge","allowCredentials"]),i=Df(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Df(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function tT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nc(new Uint8Array(i.authenticatorData)),clientDataJSON:Nc(new Uint8Array(i.clientDataJSON)),signature:Nc(new Uint8Array(i.signature)),userHandle:i.userHandle?Nc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function n4(){var t,e;return!!(li()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function aT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wp("Browser returned unexpected credential type",e)}:{data:null,error:new Wp("Empty credential response",e)}}catch(e){return{data:null,error:FC({error:e,options:t})}}}async function rT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wp("Browser returned unexpected credential type",e)}:{data:null,error:new Wp("Empty credential response",e)}}catch(e){return{data:null,error:QC({error:e,options:t})}}}const iT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},sT={userVerification:"preferred",hints:["security-key"]};function Jp(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const f=a[l];e(f)?a[l]=Jp(f,u):a[l]=Jp(u)}else a[l]=u}return a}function lT(t,e){return Jp(iT,t,e||{})}function oT(t,e){return Jp(sT,t,e||{})}class uT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const g=i??WC.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=lT(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await aT({publicKey:p,signal:g});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const p=oT(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await rT(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:g}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Rc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!n)return{data:null,error:new K0("rpId is required for WebAuthn authentication")};try{if(!n4())return{data:null,error:new Rc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:f};const{webauthn:g}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:a,credential_response:g.credential_response}})}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Rc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!n)return{data:null,error:new K0("rpId is required for WebAuthn registration")};try{if(!n4())return{data:null,error:new Rc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:g,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Rc("Unexpected error in register",u)}}}}ZC();const cT={url:iC,storageKey:sC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a4(t,e,n){return await n()}const gf={};class F0{get jwks(){var e,n;return(n=(e=gf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){gf[this.storageKey]=Object.assign(Object.assign({},gf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=gf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gf[this.storageKey]=Object.assign(Object.assign({},gf[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=F0.nextInstanceID,F0.nextInstanceID+=1,this.instanceID>0&&li()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cT),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new qC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=J3(i.fetch),this.lock=i.lock||a4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:li()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=YC:this.lock=a4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uT(this)},this.persistSession?(i.storage?this.storage=i.storage:W3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=t4(this.memoryStorage)),li()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=SC(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),li()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),hC(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ht(n)?{error:n}:{error:new Rc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const l=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ms}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,i;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let C=null,T=null;this.flowType==="pkce"&&([C,T]=await df(this.storage,this.storageKey)),l=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:C,code_challenge_method:T},xform:ms})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:ms})}else throw new ap("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:J_})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:J_})}else throw new ap("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new cf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,l,u,f,g,p,v,_,S;let C,T;if("message"in e)C=e.message,T=e.signature;else{const{chain:R,wallet:O,statement:M,options:j}=e;let z;if(li())if(typeof O=="object")z=O;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")z=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const U=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),H=await z.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=tS(H[0]);let Z=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Z){const ie=await z.request({method:"eth_chainId"});Z=IC(ie)}const $={domain:U.host,address:L,statement:M,uri:U.href,version:"1",chainId:Z,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=KC($),T=await z.request({method:"personal_sign",params:[XC(C),L]})}try{const{data:R,error:O}=await At(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ms});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new cf}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ht(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,i,l,u,f,g,p,v,_,S,C;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:O,wallet:M,statement:j,options:z}=e;let U;if(li())if(typeof M=="object")U=M;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))U=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=M}const H=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const L=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),j?{statement:j}:null));let Z;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")Z=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)Z=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)T=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),R=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((p=z?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const L=await U.signMessage(new TextEncoder().encode(T),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=L}}try{const{data:O,error:M}=await At(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Nc(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:ms});if(M)throw M;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new cf}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:M})}catch(O){if(ht(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await wc(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:l,error:u}=await At(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ms});if(await au(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new cf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(ht(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=e,f=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ms}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new cf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,l,u;try{if("email"in e){const{email:f,options:g}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await df(this.storage,this.storageKey));const{error:_}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:f,options:g}=e,{data:p,error:v}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(u=g?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:v}}throw new ap("You must provide either an email or phone number.")}catch(f){if(ht(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,a;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await At(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:ms});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await df(this.storage,this.storageKey)),await At(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:PC})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new iu;const{error:i}=await At(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await At(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:f}=await At(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new ap("You must provide either an email or phone number and a type")}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await wc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<q1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await wc(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Z1()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,v)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,v))})}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:du}):await this._useSession(async n=>{var a,i,l;const{data:u,error:f}=n;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new iu}:await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:du})})}catch(n){if(ht(n))return fC(n)&&(await this._removeSession(),await au(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new iu;const u=i.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await df(this.storage,this.storageKey));const{data:p,error:v}=await At(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:u.access_token,xform:du});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new iu;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=Y1(e.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new iu;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!li())throw new rp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new I_("No code detected.");const{data:j,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:f,expires_at:g,token_type:p}=e;if(!l||!f||!u||!p)throw new rp("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(f);let S=v+_;g&&(S=parseInt(g));const C=S-v;C*1e3<=Cf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${_}s`);const T=S-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const M={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:_,expires_at:S,refresh_token:u,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(a){if(ht(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await wc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{error:l};const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(dC(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await au(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=_C(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await df(this.storage,this.storageKey,!0));try{return await At(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,f,g,p,v;const{data:_,error:S}=l;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await At(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return li()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ht(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:f,token:g,access_token:p,nonce:v}=e,_=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:g,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ms}),{data:S,error:C}=_;return C?{data:{user:null,session:null},error:C}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new cf}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:C})}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await At(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await EC(async i=>(i>0&&await wC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await At(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ms})),(i,l)=>{const u=200*Math.pow(2,i);return l&&V1(l)&&Date.now()+u-a<Cf})}catch(a){if(this._debug(n,"error",a),ht(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),li()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await wc(this.storage,this.storageKey);if(i&&this.userStorage){let u=await wc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await Tf(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:Z1()}else if(i&&!i.user&&!i.user){const u=await wc(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await au(this.storage,this.storageKey+"-user"),await Tf(this.storage,this.storageKey,i)):i.user=Z1()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<q1;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${q1}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),V1(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(i.access_token);!f&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new iu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _v;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new iu;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(i,"error",l),ht(l)){const u={data:null,error:l};return V1(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Tf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=$_(i);await Tf(this.storage,this.storageKey,l)}else{const i=$_(n);await Tf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await au(this.storage,this.storageKey),await au(this.storage,this.storageKey+"-code-verifier"),await au(this.storage,this.storageKey+"-user"),this.userStorage&&await au(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&li()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Cf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cf}ms, refresh threshold is ${Ly} ticks`),i<=Ly&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!li()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await df(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(f.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?{data:null,error:l}:await At(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await At(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&g.type==="totp"&&(!((i=g?.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tT(e.webauthn.credential_response):nT(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await At(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=await At(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:JC(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:eT(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Y1(i.access_token);let f=null;u.aal&&(f=u.aal);let g=f;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(f=>f.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+uC>i)return a;const{data:l,error:u}=await At(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:C,error:T}=await this.getSession();if(T||!C.session)return{data:null,error:T};a=C.session.access_token}const{header:i,payload:l,signature:u,raw:{header:f,payload:g}}=Y1(a);n?.allowExpired||MC(l.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:l,header:i,signature:u},error:null}}const v=DC(i.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,yC(`${f}.${g}`)))throw new Hy("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}}F0.nextInstanceID=0;const dT=F0;class fT extends dT{constructor(e){super(e)}}var hT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function g(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,g)}p((a=a.apply(t,e||[])).next())})};class gT{constructor(e,n,a){var i,l,u;this.supabaseUrl=e,this.supabaseKey=n;const f=rC(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:K7,realtime:Q7,auth:Object.assign(Object.assign({},F7),{storageKey:g}),global:X7},v=aC(a??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=eC(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new c7(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Y7(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new e7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return hT(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,storageKey:u,flowType:f,lock:g,debug:p},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fT({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,flowType:f,lock:g,debug:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new A7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mT=(t,e,n)=>new gT(t,e,n);function pT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}pT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vT="https://ptwlzqcuyndjswcwgndp.supabase.co",yT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",an=mT(vT,yT),ev="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var rS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r4=Qe.createContext&&Qe.createContext(rS),bT=["attr","size","title"];function _T(t,e){if(t==null)return{};var n=ST(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function ST(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},tv.apply(this,arguments)}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(a){xT(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function xT(t,e,n){return e=wT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wT(t){var e=ET(t,"string");return typeof e=="symbol"?e:e+""}function ET(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iS(t){return t&&t.map((e,n)=>Qe.createElement(e.tag,nv({key:n},e.attr),iS(e.child)))}function Nn(t){return e=>Qe.createElement(CT,tv({attr:nv({},t.attr)},e),iS(t.child))}function CT(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=_T(t,bT),f=i||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),Qe.createElement("svg",tv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:g,style:nv(nv({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Qe.createElement("title",null,l),t.children)};return r4!==void 0?Qe.createElement(r4.Consumer,null,n=>e(n)):e(rS)}function sS(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function TT(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function x0(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function AT(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function RT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function OT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function NT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function MT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function DT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function jT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function zT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},child:[]}]})(t)}function kT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(t)}function s4(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function l4(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function o4(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(t)}function UT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function u4(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function X1(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function lS(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function LT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function c4(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function PT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(t)}function BT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function HT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function Ne(t,e,n){function a(f,g){var p;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(p=f._zod).traits??(p.traits=new Set),f._zod.traits.add(t),e(f,g);for(const v in u.prototype)v in f||Object.defineProperty(f,v,{value:u.prototype[v].bind(f)});f._zod.constr=u,f._zod.def=g}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:t});function u(f){var g;const p=n?.Parent?new l:this;a(p,f),(g=p._zod).deferred??(g.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>n?.Parent&&f instanceof n.Parent?!0:f?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class jf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class oS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const uS={};function jc(t){return uS}function GT(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,i])=>e.indexOf(+a)===-1).map(([a,i])=>i)}function Gy(t,e){return typeof e=="bigint"?e.toString():e}function R2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function O2(t){return t==null}function N2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const d4=Symbol("evaluating");function Bn(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==d4)return a===void 0&&(a=d4,a=n()),a},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Hc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Gc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function f4(t){return JSON.stringify(t)}const cS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function av(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const qT=R2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Q0(t){if(av(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(av(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function dS(t){return Q0(t)?{...t}:Array.isArray(t)?[...t]:t}const VT=new Set(["string","number","symbol"]);function Sv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bu(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function wt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function YT(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function ZT(t,e){const n=t._zod.def,a=Gc(t._zod.def,{get shape(){const i={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(i[l]=n.shape[l])}return Hc(this,"shape",i),i},checks:[]});return bu(t,a)}function IT(t,e){const n=t._zod.def,a=Gc(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete i[l]}return Hc(this,"shape",i),i},checks:[]});return bu(t,a)}function XT(t,e){if(!Q0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Gc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Hc(this,"shape",l),l},checks:[]});return bu(t,i)}function KT(t,e){if(!Q0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Hc(this,"shape",a),a},checks:t._zod.def.checks};return bu(t,n)}function FT(t,e){const n=Gc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Hc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return bu(t,n)}function QT(t,e,n){const a=Gc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)l[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return Hc(this,"shape",l),l},checks:[]});return bu(e,a)}function $T(t,e,n){const a=Gc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new t({type:"nonoptional",innerType:i[u]});return Hc(this,"shape",l),l},checks:[]});return bu(e,a)}function Of(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function fS(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function ip(t){return typeof t=="string"?t:t?.message}function zc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const i=ip(t.inst?._zod.def?.error?.(t))??ip(e?.error?.(t))??ip(n.customError?.(t))??ip(n.localeError?.(t))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function M2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function $0(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const hS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Gy,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},D2=Ne("$ZodError",hS),xv=Ne("$ZodError",hS,{Parent:Error});function WT(t,e=n=>n.message){const n={},a=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):a.push(e(i));return{formErrors:a,fieldErrors:n}}function JT(t,e=n=>n.message){const n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,f=0;for(;f<l.path.length;){const g=l.path[f];f===l.path.length-1?(u[g]=u[g]||{_errors:[]},u[g]._errors.push(e(l))):u[g]=u[g]||{_errors:[]},u=u[g],f++}}};return a(t),n}const wv=t=>(e,n,a,i)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new jf;if(u.issues.length){const f=new(i?.Err??t)(u.issues.map(g=>zc(g,l,jc())));throw cS(f,i?.callee),f}return u.value},eA=wv(xv),Ev=t=>async(e,n,a,i)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(i?.Err??t)(u.issues.map(g=>zc(g,l,jc())));throw cS(f,i?.callee),f}return u.value},tA=Ev(xv),Cv=t=>(e,n,a)=>{const i=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new jf;return l.issues.length?{success:!1,error:new(t??D2)(l.issues.map(u=>zc(u,i,jc())))}:{success:!0,data:l.value}},nA=Cv(xv),Tv=t=>async(e,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>zc(u,i,jc())))}:{success:!0,data:l.value}},aA=Tv(xv),rA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return wv(t)(e,n,i)},iA=t=>(e,n,a)=>wv(t)(e,n,a),sA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Ev(t)(e,n,i)},lA=t=>async(e,n,a)=>Ev(t)(e,n,a),oA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Cv(t)(e,n,i)},uA=t=>(e,n,a)=>Cv(t)(e,n,a),cA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Tv(t)(e,n,i)},dA=t=>async(e,n,a)=>Tv(t)(e,n,a),fA=/^[cC][^\s-]{8,}$/,hA=/^[0-9a-z]+$/,gA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,mA=/^[0-9a-vA-V]{20}$/,pA=/^[A-Za-z0-9]{27}$/,vA=/^[a-zA-Z0-9_-]{21}$/,yA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,bA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,h4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,_A=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,SA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function xA(){return new RegExp(SA,"u")}const wA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,CA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,TA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,gS=/^[A-Za-z0-9_-]*$/,RA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,OA=/^\+(?:[0-9]){6,14}[0-9]$/,mS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",NA=new RegExp(`^${mS}$`);function pS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function MA(t){return new RegExp(`^${pS(t)}$`)}function DA(t){const e=pS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${mS}T(?:${a})$`)}const jA=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},zA=/^(?:true|false)$/i,kA=/^[^A-Z]*$/,UA=/^[^a-z]*$/,vl=Ne("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),LA=Ne("$ZodCheckMaxLength",(t,e)=>{var n;vl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const i=a.value;if(i.length<=e.maximum)return;const u=M2(i);a.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),PA=Ne("$ZodCheckMinLength",(t,e)=>{var n;vl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const i=a.value;if(i.length>=e.minimum)return;const u=M2(i);a.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),BA=Ne("$ZodCheckLengthEquals",(t,e)=>{var n;vl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=a=>{const i=a.value,l=i.length;if(l===e.length)return;const u=M2(i),f=l>e.length;a.issues.push({origin:u,...f?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),Av=Ne("$ZodCheckStringFormat",(t,e)=>{var n,a;vl.init(t,e),t._zod.onattach.push(i=>{const l=i._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),HA=Ne("$ZodCheckRegex",(t,e)=>{Av.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),GA=Ne("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=kA),Av.init(t,e)}),qA=Ne("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=UA),Av.init(t,e)}),VA=Ne("$ZodCheckIncludes",(t,e)=>{vl.init(t,e);const n=Sv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),YA=Ne("$ZodCheckStartsWith",(t,e)=>{vl.init(t,e);const n=new RegExp(`^${Sv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),ZA=Ne("$ZodCheckEndsWith",(t,e)=>{vl.init(t,e);const n=new RegExp(`.*${Sv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),IA=Ne("$ZodCheckOverwrite",(t,e)=>{vl.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class XA{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),l=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,i.join(`
`))}}const KA={major:4,minor:1,patch:12},ga=Ne("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=KA;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const i of a)for(const l of i._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,f,g)=>{let p=Of(u),v;for(const _ of f){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(p)continue;const S=u.issues.length,C=_._zod.check(u);if(C instanceof Promise&&g?.async===!1)throw new jf;if(v||C instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await C,u.issues.length!==S&&(p||(p=Of(u,S)))});else{if(u.issues.length===S)continue;p||(p=Of(u,S))}}return v?v.then(()=>u):u},l=(u,f,g)=>{if(Of(u))return u.aborted=!0,u;const p=i(f,a,g);if(p instanceof Promise){if(g.async===!1)throw new jf;return p.then(v=>t._zod.parse(v,g))}return t._zod.parse(p,g)};t._zod.run=(u,f)=>{if(f.skipChecks)return t._zod.parse(u,f);if(f.direction==="backward"){const p=t._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return p instanceof Promise?p.then(v=>l(v,u,f)):l(p,u,f)}const g=t._zod.parse(u,f);if(g instanceof Promise){if(f.async===!1)throw new jf;return g.then(p=>i(p,a,f))}return i(g,a,f)}}t["~standard"]={validate:i=>{try{const l=nA(t,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return aA(t,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),j2=Ne("$ZodString",(t,e)=>{ga.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??jA(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Zn=Ne("$ZodStringFormat",(t,e)=>{Av.init(t,e),j2.init(t,e)}),FA=Ne("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=bA),Zn.init(t,e)}),QA=Ne("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=h4(a))}else e.pattern??(e.pattern=h4());Zn.init(t,e)}),$A=Ne("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=_A),Zn.init(t,e)}),WA=Ne("$ZodURL",(t,e)=>{Zn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:RA.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),JA=Ne("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=xA()),Zn.init(t,e)}),eR=Ne("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=vA),Zn.init(t,e)}),tR=Ne("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=fA),Zn.init(t,e)}),nR=Ne("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=hA),Zn.init(t,e)}),aR=Ne("$ZodULID",(t,e)=>{e.pattern??(e.pattern=gA),Zn.init(t,e)}),rR=Ne("$ZodXID",(t,e)=>{e.pattern??(e.pattern=mA),Zn.init(t,e)}),iR=Ne("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=pA),Zn.init(t,e)}),sR=Ne("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=DA(e)),Zn.init(t,e)}),lR=Ne("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=NA),Zn.init(t,e)}),oR=Ne("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=MA(e)),Zn.init(t,e)}),uR=Ne("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=yA),Zn.init(t,e)}),cR=Ne("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=wA),Zn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),dR=Ne("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=EA),Zn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),fR=Ne("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=CA),Zn.init(t,e)}),hR=Ne("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=TA),Zn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,l]=a;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function vS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const gR=Ne("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=AA),Zn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{vS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function mR(t){if(!gS.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return vS(n)}const pR=Ne("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=gS),Zn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{mR(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),vR=Ne("$ZodE164",(t,e)=>{e.pattern??(e.pattern=OA),Zn.init(t,e)});function yR(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const bR=Ne("$ZodJWT",(t,e)=>{Zn.init(t,e),t._zod.check=n=>{yR(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),_R=Ne("$ZodBoolean",(t,e)=>{ga.init(t,e),t._zod.pattern=zA,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),SR=Ne("$ZodUnknown",(t,e)=>{ga.init(t,e),t._zod.parse=n=>n}),xR=Ne("$ZodNever",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function g4(t,e,n){t.issues.length&&e.issues.push(...fS(n,t.issues)),e.value[n]=t.value}const wR=Ne("$ZodArray",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const f=i[u],g=e.element._zod.run({value:f,issues:[]},a);g instanceof Promise?l.push(g.then(p=>g4(p,n,u))):g4(g,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function rv(t,e,n,a){t.issues.length&&e.issues.push(...fS(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function yS(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=YT(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function bS(t,e,n,a,i,l){const u=[],f=i.keySet,g=i.catchall._zod,p=g.def.type;for(const v of Object.keys(e)){if(f.has(v))continue;if(p==="never"){u.push(v);continue}const _=g.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(S=>rv(S,n,v,e))):rv(_,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const ER=Ne("$ZodObject",(t,e)=>{if(ga.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const f=e.shape;Object.defineProperty(e,"shape",{get:()=>{const g={...f};return Object.defineProperty(e,"shape",{value:g}),g}})}const a=R2(()=>yS(e));Bn(t._zod,"propValues",()=>{const f=e.shape,g={};for(const p in f){const v=f[p]._zod;if(v.values){g[p]??(g[p]=new Set);for(const _ of v.values)g[p].add(_)}}return g});const i=av,l=e.catchall;let u;t._zod.parse=(f,g)=>{u??(u=a.value);const p=f.value;if(!i(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),f;f.value={};const v=[],_=u.shape;for(const S of u.keys){const T=_[S]._zod.run({value:p[S],issues:[]},g);T instanceof Promise?v.push(T.then(R=>rv(R,f,S,p))):rv(T,f,S,p)}return l?bS(v,p,f,g,a.value,t):v.length?Promise.all(v).then(()=>f):f}}),CR=Ne("$ZodObjectJIT",(t,e)=>{ER.init(t,e);const n=t._zod.parse,a=R2(()=>yS(e)),i=S=>{const C=new XA(["shape","payload","ctx"]),T=a.value,R=z=>{const U=f4(z);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};C.write("const input = payload.value;");const O=Object.create(null);let M=0;for(const z of T.keys)O[z]=`key_${M++}`;C.write("const newResult = {};");for(const z of T.keys){const U=O[z],H=f4(z);C.write(`const ${U} = ${R(z)};`),C.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        
        if (${U}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${U}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const j=C.compile();return(z,U)=>j(S,z,U)};let l;const u=av,f=!uS.jitless,p=f&&qT.value,v=e.catchall;let _;t._zod.parse=(S,C)=>{_??(_=a.value);const T=S.value;return u(T)?f&&p&&C?.async===!1&&C.jitless!==!0?(l||(l=i(e.shape)),S=l(S,C),v?bS([],T,S,C,_,t):S):n(S,C):(S.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),S)}});function m4(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const i=t.filter(l=>!Of(l));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>zc(u,a,jc())))}),e)}const TR=Ne("$ZodUnion",(t,e)=>{ga.init(t,e),Bn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Bn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Bn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Bn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>N2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(i,l)=>{if(n)return a(i,l);let u=!1;const f=[];for(const g of e.options){const p=g._zod.run({value:i.value,issues:[]},l);if(p instanceof Promise)f.push(p),u=!0;else{if(p.issues.length===0)return p;f.push(p)}}return u?Promise.all(f).then(g=>m4(g,i,t,l)):m4(f,i,t,l)}}),AR=Ne("$ZodIntersection",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value,l=e.left._zod.run({value:i,issues:[]},a),u=e.right._zod.run({value:i,issues:[]},a);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([g,p])=>p4(n,g,p)):p4(n,l,u)}});function qy(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Q0(t)&&Q0(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const u=qy(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],u=qy(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function p4(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Of(t))return t;const a=qy(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const RR=Ne("$ZodEnum",(t,e)=>{ga.init(t,e);const n=GT(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(i=>VT.has(typeof i)).map(i=>typeof i=="string"?Sv(i):i.toString()).join("|")})$`),t._zod.parse=(i,l)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:t}),i}}),OR=Ne("$ZodTransform",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new oS(t.constructor.name);const i=e.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new jf;return n.value=i,n}});function v4(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const NR=Ne("$ZodOptional",(t,e)=>{ga.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Bn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Bn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>v4(l,n.value)):v4(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),MR=Ne("$ZodNullable",(t,e)=>{ga.init(t,e),Bn(t._zod,"optin",()=>e.innerType._zod.optin),Bn(t._zod,"optout",()=>e.innerType._zod.optout),Bn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)}|null)$`):void 0}),Bn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),DR=Ne("$ZodDefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",Bn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>y4(l,e)):y4(i,e)}});function y4(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const jR=Ne("$ZodPrefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",Bn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),zR=Ne("$ZodNonOptional",(t,e)=>{ga.init(t,e),Bn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>b4(l,t)):b4(i,t)}});function b4(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const kR=Ne("$ZodCatch",(t,e)=>{ga.init(t,e),Bn(t._zod,"optin",()=>e.innerType._zod.optin),Bn(t._zod,"optout",()=>e.innerType._zod.optout),Bn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>zc(u,a,jc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>zc(l,a,jc()))},input:n.value}),n.issues=[]),n)}}),UR=Ne("$ZodPipe",(t,e)=>{ga.init(t,e),Bn(t._zod,"values",()=>e.in._zod.values),Bn(t._zod,"optin",()=>e.in._zod.optin),Bn(t._zod,"optout",()=>e.out._zod.optout),Bn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(u=>sp(u,e.in,a)):sp(l,e.in,a)}const i=e.in._zod.run(n,a);return i instanceof Promise?i.then(l=>sp(l,e.out,a)):sp(i,e.out,a)}});function sp(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const LR=Ne("$ZodReadonly",(t,e)=>{ga.init(t,e),Bn(t._zod,"propValues",()=>e.innerType._zod.propValues),Bn(t._zod,"values",()=>e.innerType._zod.values),Bn(t._zod,"optin",()=>e.innerType._zod.optin),Bn(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(_4):_4(i)}});function _4(t){return t.value=Object.freeze(t.value),t}const PR=Ne("$ZodCustom",(t,e)=>{vl.init(t,e),ga.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,i=e.fn(a);if(i instanceof Promise)return i.then(l=>S4(l,n,a,t));S4(i,n,a,t)}});function S4(t,e,n,a){if(!t){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),e.issues.push($0(i))}}class BR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function HR(){return new BR}const lp=HR();function GR(t,e){return new t({type:"string",...wt(e)})}function _S(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...wt(e)})}function x4(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...wt(e)})}function qR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...wt(e)})}function VR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...wt(e)})}function YR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...wt(e)})}function ZR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...wt(e)})}function IR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...wt(e)})}function XR(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...wt(e)})}function KR(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...wt(e)})}function FR(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...wt(e)})}function QR(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...wt(e)})}function $R(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...wt(e)})}function WR(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...wt(e)})}function JR(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...wt(e)})}function eO(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...wt(e)})}function tO(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...wt(e)})}function nO(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...wt(e)})}function aO(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...wt(e)})}function rO(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...wt(e)})}function iO(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...wt(e)})}function sO(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...wt(e)})}function lO(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...wt(e)})}function oO(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...wt(e)})}function uO(t,e){return new t({type:"string",format:"date",check:"string_format",...wt(e)})}function cO(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...wt(e)})}function dO(t,e){return new t({type:"string",format:"duration",check:"string_format",...wt(e)})}function fO(t,e){return new t({type:"boolean",...wt(e)})}function hO(t){return new t({type:"unknown"})}function gO(t,e){return new t({type:"never",...wt(e)})}function SS(t,e){return new LA({check:"max_length",...wt(e),maximum:t})}function iv(t,e){return new PA({check:"min_length",...wt(e),minimum:t})}function xS(t,e){return new BA({check:"length_equals",...wt(e),length:t})}function mO(t,e){return new HA({check:"string_format",format:"regex",...wt(e),pattern:t})}function pO(t){return new GA({check:"string_format",format:"lowercase",...wt(t)})}function vO(t){return new qA({check:"string_format",format:"uppercase",...wt(t)})}function yO(t,e){return new VA({check:"string_format",format:"includes",...wt(e),includes:t})}function bO(t,e){return new YA({check:"string_format",format:"starts_with",...wt(e),prefix:t})}function _O(t,e){return new ZA({check:"string_format",format:"ends_with",...wt(e),suffix:t})}function gg(t){return new IA({check:"overwrite",tx:t})}function SO(t){return gg(e=>e.normalize(t))}function xO(){return gg(t=>t.trim())}function wO(){return gg(t=>t.toLowerCase())}function EO(){return gg(t=>t.toUpperCase())}function CO(t,e,n){return new t({type:"array",element:e,...wt(n)})}function TO(t,e,n){return new t({type:"custom",check:"custom",fn:e,...wt(n)})}function AO(t){const e=RO(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push($0(a,n.value,e._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push($0(i))}},t(n.value,n)));return e}function RO(t,e){const n=new vl({check:"custom",...wt(e)});return n._zod.check=t,n}const OO=Ne("ZodISODateTime",(t,e)=>{sR.init(t,e),Xn.init(t,e)});function NO(t){return oO(OO,t)}const MO=Ne("ZodISODate",(t,e)=>{lR.init(t,e),Xn.init(t,e)});function DO(t){return uO(MO,t)}const jO=Ne("ZodISOTime",(t,e)=>{oR.init(t,e),Xn.init(t,e)});function zO(t){return cO(jO,t)}const kO=Ne("ZodISODuration",(t,e)=>{uR.init(t,e),Xn.init(t,e)});function UO(t){return dO(kO,t)}const LO=(t,e)=>{D2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>JT(t,n)},flatten:{value:n=>WT(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Gy,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Gy,2)}},isEmpty:{get(){return t.issues.length===0}}})},qi=Ne("ZodError",LO,{Parent:Error}),PO=wv(qi),BO=Ev(qi),HO=Cv(qi),GO=Tv(qi),qO=rA(qi),VO=iA(qi),YO=sA(qi),ZO=lA(qi),IO=oA(qi),XO=uA(qi),KO=cA(qi),FO=dA(qi),wa=Ne("ZodType",(t,e)=>(ga.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Gc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>bu(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>PO(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>HO(t,n,a),t.parseAsync=async(n,a)=>BO(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>GO(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>qO(t,n,a),t.decode=(n,a)=>VO(t,n,a),t.encodeAsync=async(n,a)=>YO(t,n,a),t.decodeAsync=async(n,a)=>ZO(t,n,a),t.safeEncode=(n,a)=>IO(t,n,a),t.safeDecode=(n,a)=>XO(t,n,a),t.safeEncodeAsync=async(n,a)=>KO(t,n,a),t.safeDecodeAsync=async(n,a)=>FO(t,n,a),t.refine=(n,a)=>t.check(HN(n,a)),t.superRefine=n=>t.check(GN(n)),t.overwrite=n=>t.check(gg(n)),t.optional=()=>C4(t),t.nullable=()=>T4(t),t.nullish=()=>C4(T4(t)),t.nonoptional=n=>jN(t,n),t.array=()=>bN(t),t.or=n=>xN([t,n]),t.and=n=>EN(t,n),t.transform=n=>A4(t,AN(n)),t.default=n=>NN(t,n),t.prefault=n=>DN(t,n),t.catch=n=>kN(t,n),t.pipe=n=>A4(t,n),t.readonly=()=>PN(t),t.describe=n=>{const a=t.clone();return lp.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return lp.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return lp.get(t);const a=t.clone();return lp.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),wS=Ne("_ZodString",(t,e)=>{j2.init(t,e),wa.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(mO(...a)),t.includes=(...a)=>t.check(yO(...a)),t.startsWith=(...a)=>t.check(bO(...a)),t.endsWith=(...a)=>t.check(_O(...a)),t.min=(...a)=>t.check(iv(...a)),t.max=(...a)=>t.check(SS(...a)),t.length=(...a)=>t.check(xS(...a)),t.nonempty=(...a)=>t.check(iv(1,...a)),t.lowercase=a=>t.check(pO(a)),t.uppercase=a=>t.check(vO(a)),t.trim=()=>t.check(xO()),t.normalize=(...a)=>t.check(SO(...a)),t.toLowerCase=()=>t.check(wO()),t.toUpperCase=()=>t.check(EO())}),QO=Ne("ZodString",(t,e)=>{j2.init(t,e),wS.init(t,e),t.email=n=>t.check(_S(ES,n)),t.url=n=>t.check(IR($O,n)),t.jwt=n=>t.check(lO(fN,n)),t.emoji=n=>t.check(XR(WO,n)),t.guid=n=>t.check(x4(w4,n)),t.uuid=n=>t.check(qR(op,n)),t.uuidv4=n=>t.check(VR(op,n)),t.uuidv6=n=>t.check(YR(op,n)),t.uuidv7=n=>t.check(ZR(op,n)),t.nanoid=n=>t.check(KR(JO,n)),t.guid=n=>t.check(x4(w4,n)),t.cuid=n=>t.check(FR(eN,n)),t.cuid2=n=>t.check(QR(tN,n)),t.ulid=n=>t.check($R(nN,n)),t.base64=n=>t.check(rO(uN,n)),t.base64url=n=>t.check(iO(cN,n)),t.xid=n=>t.check(WR(aN,n)),t.ksuid=n=>t.check(JR(rN,n)),t.ipv4=n=>t.check(eO(iN,n)),t.ipv6=n=>t.check(tO(sN,n)),t.cidrv4=n=>t.check(nO(lN,n)),t.cidrv6=n=>t.check(aO(oN,n)),t.e164=n=>t.check(sO(dN,n)),t.datetime=n=>t.check(NO(n)),t.date=n=>t.check(DO(n)),t.time=n=>t.check(zO(n)),t.duration=n=>t.check(UO(n))});function Kr(t){return GR(QO,t)}const Xn=Ne("ZodStringFormat",(t,e)=>{Zn.init(t,e),wS.init(t,e)}),ES=Ne("ZodEmail",(t,e)=>{$A.init(t,e),Xn.init(t,e)});function z2(t){return _S(ES,t)}const w4=Ne("ZodGUID",(t,e)=>{FA.init(t,e),Xn.init(t,e)}),op=Ne("ZodUUID",(t,e)=>{QA.init(t,e),Xn.init(t,e)}),$O=Ne("ZodURL",(t,e)=>{WA.init(t,e),Xn.init(t,e)}),WO=Ne("ZodEmoji",(t,e)=>{JA.init(t,e),Xn.init(t,e)}),JO=Ne("ZodNanoID",(t,e)=>{eR.init(t,e),Xn.init(t,e)}),eN=Ne("ZodCUID",(t,e)=>{tR.init(t,e),Xn.init(t,e)}),tN=Ne("ZodCUID2",(t,e)=>{nR.init(t,e),Xn.init(t,e)}),nN=Ne("ZodULID",(t,e)=>{aR.init(t,e),Xn.init(t,e)}),aN=Ne("ZodXID",(t,e)=>{rR.init(t,e),Xn.init(t,e)}),rN=Ne("ZodKSUID",(t,e)=>{iR.init(t,e),Xn.init(t,e)}),iN=Ne("ZodIPv4",(t,e)=>{cR.init(t,e),Xn.init(t,e)}),sN=Ne("ZodIPv6",(t,e)=>{dR.init(t,e),Xn.init(t,e)}),lN=Ne("ZodCIDRv4",(t,e)=>{fR.init(t,e),Xn.init(t,e)}),oN=Ne("ZodCIDRv6",(t,e)=>{hR.init(t,e),Xn.init(t,e)}),uN=Ne("ZodBase64",(t,e)=>{gR.init(t,e),Xn.init(t,e)}),cN=Ne("ZodBase64URL",(t,e)=>{pR.init(t,e),Xn.init(t,e)}),dN=Ne("ZodE164",(t,e)=>{vR.init(t,e),Xn.init(t,e)}),fN=Ne("ZodJWT",(t,e)=>{bR.init(t,e),Xn.init(t,e)}),hN=Ne("ZodBoolean",(t,e)=>{_R.init(t,e),wa.init(t,e)});function gN(t){return fO(hN,t)}const mN=Ne("ZodUnknown",(t,e)=>{SR.init(t,e),wa.init(t,e)});function E4(){return hO(mN)}const pN=Ne("ZodNever",(t,e)=>{xR.init(t,e),wa.init(t,e)});function vN(t){return gO(pN,t)}const yN=Ne("ZodArray",(t,e)=>{wR.init(t,e),wa.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(iv(n,a)),t.nonempty=n=>t.check(iv(1,n)),t.max=(n,a)=>t.check(SS(n,a)),t.length=(n,a)=>t.check(xS(n,a)),t.unwrap=()=>t.element});function bN(t,e){return CO(yN,t,e)}const _N=Ne("ZodObject",(t,e)=>{CR.init(t,e),wa.init(t,e),Bn(t,"shape",()=>e.shape),t.keyof=()=>CN(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:E4()}),t.loose=()=>t.clone({...t._zod.def,catchall:E4()}),t.strict=()=>t.clone({...t._zod.def,catchall:vN()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>XT(t,n),t.safeExtend=n=>KT(t,n),t.merge=n=>FT(t,n),t.pick=n=>ZT(t,n),t.omit=n=>IT(t,n),t.partial=(...n)=>QT(CS,t,n[0]),t.required=(...n)=>$T(TS,t,n[0])});function Zf(t,e){const n={type:"object",shape:t??{},...wt(e)};return new _N(n)}const SN=Ne("ZodUnion",(t,e)=>{TR.init(t,e),wa.init(t,e),t.options=e.options});function xN(t,e){return new SN({type:"union",options:t,...wt(e)})}const wN=Ne("ZodIntersection",(t,e)=>{AR.init(t,e),wa.init(t,e)});function EN(t,e){return new wN({type:"intersection",left:t,right:e})}const Vy=Ne("ZodEnum",(t,e)=>{RR.init(t,e),wa.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,i)=>{const l={};for(const u of a)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],...wt(i),entries:l})},t.exclude=(a,i)=>{const l={...e.entries};for(const u of a)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],...wt(i),entries:l})}});function CN(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new Vy({type:"enum",entries:n,...wt(e)})}const TN=Ne("ZodTransform",(t,e)=>{OR.init(t,e),wa.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new oS(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push($0(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push($0(u))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function AN(t){return new TN({type:"transform",transform:t})}const CS=Ne("ZodOptional",(t,e)=>{NR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function C4(t){return new CS({type:"optional",innerType:t})}const RN=Ne("ZodNullable",(t,e)=>{MR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function T4(t){return new RN({type:"nullable",innerType:t})}const ON=Ne("ZodDefault",(t,e)=>{DR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function NN(t,e){return new ON({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():dS(e)}})}const MN=Ne("ZodPrefault",(t,e)=>{jR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function DN(t,e){return new MN({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():dS(e)}})}const TS=Ne("ZodNonOptional",(t,e)=>{zR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function jN(t,e){return new TS({type:"nonoptional",innerType:t,...wt(e)})}const zN=Ne("ZodCatch",(t,e)=>{kR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function kN(t,e){return new zN({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const UN=Ne("ZodPipe",(t,e)=>{UR.init(t,e),wa.init(t,e),t.in=e.in,t.out=e.out});function A4(t,e){return new UN({type:"pipe",in:t,out:e})}const LN=Ne("ZodReadonly",(t,e)=>{LR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function PN(t){return new LN({type:"readonly",innerType:t})}const BN=Ne("ZodCustom",(t,e)=>{PR.init(t,e),wa.init(t,e)});function HN(t,e={}){return TO(BN,t,e)}function GN(t){return AO(t)}var mg=t=>t.type==="checkbox",Mc=t=>t instanceof Date,Zr=t=>t==null;const AS=t=>typeof t=="object";var ha=t=>!Zr(t)&&!Array.isArray(t)&&AS(t)&&!Mc(t),qN=t=>ha(t)&&t.target?mg(t.target)?t.target.checked:t.target.value:t,VN=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,YN=(t,e)=>t.has(VN(e)),ZN=t=>{const e=t.constructor&&t.constructor.prototype;return ha(e)&&e.hasOwnProperty("isPrototypeOf")},k2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pa(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(k2&&(t instanceof Blob||a))&&(n||ha(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!ZN(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Pa(t[i]));else return t;return e}var Rv=t=>/^\w*$/.test(t),ra=t=>t===void 0,U2=t=>Array.isArray(t)?t.filter(Boolean):[],L2=t=>U2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(t,e,n)=>{if(!e||!ha(t))return n;const a=(Rv(e)?[e]:L2(e)).reduce((i,l)=>Zr(i)?i:i[l],t);return ra(a)||a===t?ra(t[e])?n:t[e]:a},ul=t=>typeof t=="boolean",Dn=(t,e,n)=>{let a=-1;const i=Rv(e)?[e]:L2(e),l=i.length,u=l-1;for(;++a<l;){const f=i[a];let g=n;if(a!==u){const p=t[f];g=ha(p)||Array.isArray(p)?p:isNaN(+i[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=g,t=t[f]}};const R4={BLUR:"blur",FOCUS_OUT:"focusout"},ys={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IN=Qe.createContext(null);IN.displayName="HookFormContext";var XN=(t,e,n,a=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const u=l;return e._proxyFormState[u]!==ys.all&&(e._proxyFormState[u]=!a||ys.all),t[u]}});return i};const KN=typeof window<"u"?Qe.useLayoutEffect:Qe.useEffect;var ci=t=>typeof t=="string",FN=(t,e,n,a,i)=>ci(t)?(a&&e.watch.add(t),nt(n,t,i)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),nt(n,l))):(a&&(e.watchAll=!0),n),Yy=t=>Zr(t)||!AS(t);function fu(t,e,n=new WeakSet){if(Yy(t)||Yy(e))return t===e;if(Mc(t)&&Mc(e))return t.getTime()===e.getTime();const a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const u=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const f=e[l];if(Mc(u)&&Mc(f)||ha(u)&&ha(f)||Array.isArray(u)&&Array.isArray(f)?!fu(u,f,n):u!==f)return!1}}return!0}var P2=(t,e,n,a,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:i||!0}}:{},B0=t=>Array.isArray(t)?t:[t],O4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function RS(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const i=t[a],l=e[a];if(i&&ha(i)&&l){const u=RS(i,l);ha(u)&&(n[a]=u)}else t[a]&&(n[a]=l)}return n}var Yr=t=>ha(t)&&!Object.keys(t).length,B2=t=>t.type==="file",bs=t=>typeof t=="function",sv=t=>{if(!k2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},OS=t=>t.type==="select-multiple",H2=t=>t.type==="radio",QN=t=>H2(t)||mg(t),K1=t=>sv(t)&&t.isConnected;function $N(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=ra(t)?a++:t[e[a++]];return t}function WN(t){for(const e in t)if(t.hasOwnProperty(e)&&!ra(t[e]))return!1;return!0}function ca(t,e){const n=Array.isArray(e)?e:Rv(e)?[e]:L2(e),a=n.length===1?t:$N(t,n),i=n.length-1,l=n[i];return a&&delete a[l],i!==0&&(ha(a)&&Yr(a)||Array.isArray(a)&&WN(a))&&ca(t,n.slice(0,-1)),t}var JN=t=>{for(const e in t)if(bs(t[e]))return!0;return!1};function NS(t){return Array.isArray(t)||ha(t)&&!JN(t)}function Zy(t,e={}){for(const n in t)NS(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Zy(t[n],e[n])):ra(t[n])||(e[n]=!0);return e}function Af(t,e,n){n||(n=Zy(e));for(const a in t)NS(t[a])?ra(e)||Yy(n[a])?n[a]=Zy(t[a],Array.isArray(t[a])?[]:{}):Af(t[a],Zr(e)?{}:e[a],n[a]):n[a]=!fu(t[a],e[a]);return n}const N4={value:!1,isValid:!1},M4={value:!0,isValid:!0};var MS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ra(t[0].attributes.value)?ra(t[0].value)||t[0].value===""?M4:{value:t[0].value,isValid:!0}:M4:N4}return N4},DS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>ra(t)?t:e?t===""?NaN:t&&+t:n&&ci(t)?new Date(t):a?a(t):t;const D4={isValid:!1,value:null};var jS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,D4):D4;function j4(t){const e=t.ref;return B2(e)?e.files:H2(e)?jS(t.refs).value:OS(e)?[...e.selectedOptions].map(({value:n})=>n):mg(e)?MS(t.refs).value:DS(ra(e.value)?t.ref.value:e.value,t)}var eM=(t,e,n,a)=>{const i={};for(const l of t){const u=nt(e,l);u&&Dn(i,l,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:a}},lv=t=>t instanceof RegExp,w0=t=>ra(t)?t:lv(t)?t.source:ha(t)?lv(t.value)?t.value.source:t.value:t,z4=t=>({isOnSubmit:!t||t===ys.onSubmit,isOnBlur:t===ys.onBlur,isOnChange:t===ys.onChange,isOnAll:t===ys.all,isOnTouch:t===ys.onTouched});const k4="AsyncFunction";var tM=t=>!!t&&!!t.validate&&!!(bs(t.validate)&&t.validate.constructor.name===k4||ha(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===k4)),nM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),U4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const H0=(t,e,n,a)=>{for(const i of n||Object.keys(t)){const l=nt(t,i);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if(H0(f,e))break}else if(ha(f)&&H0(f,e))break}}};function L4(t,e,n){const a=nt(t,n);if(a||Rv(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),u=nt(e,l),f=nt(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};i.pop()}return{name:n}}var aM=(t,e,n,a)=>{n(t);const{name:i,...l}=t;return Yr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||ys.all))},rM=(t,e,n)=>!t||!e||t===e||B0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),iM=(t,e,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?a.isOnBlur:i.isOnBlur)?!t:(n?a.isOnChange:i.isOnChange)?t:!0,sM=(t,e)=>!U2(nt(t,e)).length&&ca(t,e),lM=(t,e,n)=>{const a=B0(nt(t,n));return Dn(a,"root",e[n]),Dn(t,n,a),t};function P4(t,e,n="validate"){if(ci(t)||Array.isArray(t)&&t.every(ci)||ul(t)&&!t)return{type:n,message:ci(t)?t:"",ref:e}}var mf=t=>ha(t)&&!lv(t)?t:{value:t,message:""},B4=async(t,e,n,a,i,l)=>{const{ref:u,refs:f,required:g,maxLength:p,minLength:v,min:_,max:S,pattern:C,validate:T,name:R,valueAsNumber:O,mount:M}=t._f,j=nt(n,R);if(!M||e.has(R))return{};const z=f?f[0]:u,U=le=>{i&&z.reportValidity&&(z.setCustomValidity(ul(le)?"":le||""),z.reportValidity())},H={},L=H2(u),Z=mg(u),$=L||Z,ie=(O||B2(u))&&ra(u.value)&&ra(j)||sv(u)&&u.value===""||j===""||Array.isArray(j)&&!j.length,be=P2.bind(null,R,a,H),Re=(le,ye,ge,de=Jl.maxLength,B=Jl.minLength)=>{const ae=le?ye:ge;H[R]={type:le?de:B,message:ae,ref:u,...be(le?de:B,ae)}};if(l?!Array.isArray(j)||!j.length:g&&(!$&&(ie||Zr(j))||ul(j)&&!j||Z&&!MS(f).isValid||L&&!jS(f).isValid)){const{value:le,message:ye}=ci(g)?{value:!!g,message:g}:mf(g);if(le&&(H[R]={type:Jl.required,message:ye,ref:z,...be(Jl.required,ye)},!a))return U(ye),H}if(!ie&&(!Zr(_)||!Zr(S))){let le,ye;const ge=mf(S),de=mf(_);if(!Zr(j)&&!isNaN(j)){const B=u.valueAsNumber||j&&+j;Zr(ge.value)||(le=B>ge.value),Zr(de.value)||(ye=B<de.value)}else{const B=u.valueAsDate||new Date(j),ae=G=>new Date(new Date().toDateString()+" "+G),Q=u.type=="time",se=u.type=="week";ci(ge.value)&&j&&(le=Q?ae(j)>ae(ge.value):se?j>ge.value:B>new Date(ge.value)),ci(de.value)&&j&&(ye=Q?ae(j)<ae(de.value):se?j<de.value:B<new Date(de.value))}if((le||ye)&&(Re(!!le,ge.message,de.message,Jl.max,Jl.min),!a))return U(H[R].message),H}if((p||v)&&!ie&&(ci(j)||l&&Array.isArray(j))){const le=mf(p),ye=mf(v),ge=!Zr(le.value)&&j.length>+le.value,de=!Zr(ye.value)&&j.length<+ye.value;if((ge||de)&&(Re(ge,le.message,ye.message),!a))return U(H[R].message),H}if(C&&!ie&&ci(j)){const{value:le,message:ye}=mf(C);if(lv(le)&&!j.match(le)&&(H[R]={type:Jl.pattern,message:ye,ref:u,...be(Jl.pattern,ye)},!a))return U(ye),H}if(T){if(bs(T)){const le=await T(j,n),ye=P4(le,z);if(ye&&(H[R]={...ye,...be(Jl.validate,ye.message)},!a))return U(ye.message),H}else if(ha(T)){let le={};for(const ye in T){if(!Yr(le)&&!a)break;const ge=P4(await T[ye](j,n),z,ye);ge&&(le={...ge,...be(ye,ge.message)},U(ge.message),a&&(H[R]=le))}if(!Yr(le)&&(H[R]={ref:z,...le},!a))return H}}return U(!0),H};const oM={mode:ys.onSubmit,reValidateMode:ys.onChange,shouldFocusError:!0};function uM(t={}){let e={...oM,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:bs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=ha(e.defaultValues)||ha(e.values)?Pa(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Pa(i),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const S={array:O4(),state:O4()},C=e.criteriaMode===ys.all,T=I=>re=>{clearTimeout(p),p=setTimeout(I,re)},R=async I=>{if(!e.disabled&&(v.isValid||_.isValid||I)){const re=e.resolver?Yr((await Z()).errors):await ie(a,!0);re!==n.isValid&&S.state.next({isValid:re})}},O=(I,re)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((I||Array.from(f.mount)).forEach(fe=>{fe&&(re?Dn(n.validatingFields,fe,re):ca(n.validatingFields,fe))}),S.state.next({validatingFields:n.validatingFields,isValidating:!Yr(n.validatingFields)}))},M=(I,re=[],fe,Be,Pe=!0,je=!0)=>{if(Be&&fe&&!e.disabled){if(u.action=!0,je&&Array.isArray(nt(a,I))){const Ye=fe(nt(a,I),Be.argA,Be.argB);Pe&&Dn(a,I,Ye)}if(je&&Array.isArray(nt(n.errors,I))){const Ye=fe(nt(n.errors,I),Be.argA,Be.argB);Pe&&Dn(n.errors,I,Ye),sM(n.errors,I)}if((v.touchedFields||_.touchedFields)&&je&&Array.isArray(nt(n.touchedFields,I))){const Ye=fe(nt(n.touchedFields,I),Be.argA,Be.argB);Pe&&Dn(n.touchedFields,I,Ye)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Af(i,l)),S.state.next({name:I,isDirty:Re(I,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Dn(l,I,re)},j=(I,re)=>{Dn(n.errors,I,re),S.state.next({errors:n.errors})},z=I=>{n.errors=I,S.state.next({errors:n.errors,isValid:!1})},U=(I,re,fe,Be)=>{const Pe=nt(a,I);if(Pe){const je=nt(l,I,ra(fe)?nt(i,I):fe);ra(je)||Be&&Be.defaultChecked||re?Dn(l,I,re?je:j4(Pe._f)):ge(I,je),u.mount&&R()}},H=(I,re,fe,Be,Pe)=>{let je=!1,Ye=!1;const $e={name:I};if(!e.disabled){if(!fe||Be){(v.isDirty||_.isDirty)&&(Ye=n.isDirty,n.isDirty=$e.isDirty=Re(),je=Ye!==$e.isDirty);const xt=fu(nt(i,I),re);Ye=!!nt(n.dirtyFields,I),xt?ca(n.dirtyFields,I):Dn(n.dirtyFields,I,!0),$e.dirtyFields=n.dirtyFields,je=je||(v.dirtyFields||_.dirtyFields)&&Ye!==!xt}if(fe){const xt=nt(n.touchedFields,I);xt||(Dn(n.touchedFields,I,fe),$e.touchedFields=n.touchedFields,je=je||(v.touchedFields||_.touchedFields)&&xt!==fe)}je&&Pe&&S.state.next($e)}return je?$e:{}},L=(I,re,fe,Be)=>{const Pe=nt(n.errors,I),je=(v.isValid||_.isValid)&&ul(re)&&n.isValid!==re;if(e.delayError&&fe?(g=T(()=>j(I,fe)),g(e.delayError)):(clearTimeout(p),g=null,fe?Dn(n.errors,I,fe):ca(n.errors,I)),(fe?!fu(Pe,fe):Pe)||!Yr(Be)||je){const Ye={...Be,...je&&ul(re)?{isValid:re}:{},errors:n.errors,name:I};n={...n,...Ye},S.state.next(Ye)}},Z=async I=>{O(I,!0);const re=await e.resolver(l,e.context,eM(I||f.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(I),re},$=async I=>{const{errors:re}=await Z(I);if(I)for(const fe of I){const Be=nt(re,fe);Be?Dn(n.errors,fe,Be):ca(n.errors,fe)}else n.errors=re;return re},ie=async(I,re,fe={valid:!0})=>{for(const Be in I){const Pe=I[Be];if(Pe){const{_f:je,...Ye}=Pe;if(je){const $e=f.array.has(je.name),xt=Pe._f&&tM(Pe._f);xt&&v.validatingFields&&O([je.name],!0);const tn=await B4(Pe,f.disabled,l,C,e.shouldUseNativeValidation&&!re,$e);if(xt&&v.validatingFields&&O([je.name]),tn[je.name]&&(fe.valid=!1,re))break;!re&&(nt(tn,je.name)?$e?lM(n.errors,tn,je.name):Dn(n.errors,je.name,tn[je.name]):ca(n.errors,je.name))}!Yr(Ye)&&await ie(Ye,re,fe)}}return fe.valid},be=()=>{for(const I of f.unMount){const re=nt(a,I);re&&(re._f.refs?re._f.refs.every(fe=>!K1(fe)):!K1(re._f.ref))&&st(I)}f.unMount=new Set},Re=(I,re)=>!e.disabled&&(I&&re&&Dn(l,I,re),!fu(G(),i)),le=(I,re,fe)=>FN(I,f,{...u.mount?l:ra(re)?i:ci(I)?{[I]:re}:re},fe,re),ye=I=>U2(nt(u.mount?l:i,I,e.shouldUnregister?nt(i,I,[]):[])),ge=(I,re,fe={})=>{const Be=nt(a,I);let Pe=re;if(Be){const je=Be._f;je&&(!je.disabled&&Dn(l,I,DS(re,je)),Pe=sv(je.ref)&&Zr(re)?"":re,OS(je.ref)?[...je.ref.options].forEach(Ye=>Ye.selected=Pe.includes(Ye.value)):je.refs?mg(je.ref)?je.refs.forEach(Ye=>{(!Ye.defaultChecked||!Ye.disabled)&&(Array.isArray(Pe)?Ye.checked=!!Pe.find($e=>$e===Ye.value):Ye.checked=Pe===Ye.value||!!Pe)}):je.refs.forEach(Ye=>Ye.checked=Ye.value===Pe):B2(je.ref)?je.ref.value="":(je.ref.value=Pe,je.ref.type||S.state.next({name:I,values:Pa(l)})))}(fe.shouldDirty||fe.shouldTouch)&&H(I,Pe,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&se(I)},de=(I,re,fe)=>{for(const Be in re){if(!re.hasOwnProperty(Be))return;const Pe=re[Be],je=I+"."+Be,Ye=nt(a,je);(f.array.has(I)||ha(Pe)||Ye&&!Ye._f)&&!Mc(Pe)?de(je,Pe,fe):ge(je,Pe,fe)}},B=(I,re,fe={})=>{const Be=nt(a,I),Pe=f.array.has(I),je=Pa(re);Dn(l,I,je),Pe?(S.array.next({name:I,values:Pa(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&fe.shouldDirty&&S.state.next({name:I,dirtyFields:Af(i,l),isDirty:Re(I,je)})):Be&&!Be._f&&!Zr(je)?de(I,je,fe):ge(I,je,fe),U4(I,f)&&S.state.next({...n,name:I}),S.state.next({name:u.mount?I:void 0,values:Pa(l)})},ae=async I=>{u.mount=!0;const re=I.target;let fe=re.name,Be=!0;const Pe=nt(a,fe),je=xt=>{Be=Number.isNaN(xt)||Mc(xt)&&isNaN(xt.getTime())||fu(xt,nt(l,fe,xt))},Ye=z4(e.mode),$e=z4(e.reValidateMode);if(Pe){let xt,tn;const Ba=re.type?j4(Pe._f):qN(I),Ha=I.type===R4.BLUR||I.type===R4.FOCUS_OUT,Ca=!nM(Pe._f)&&!e.resolver&&!nt(n.errors,fe)&&!Pe._f.deps||iM(Ha,nt(n.touchedFields,fe),n.isSubmitted,$e,Ye),Ga=U4(fe,f,Ha);Dn(l,fe,Ba),Ha?(!re||!re.readOnly)&&(Pe._f.onBlur&&Pe._f.onBlur(I),g&&g(0)):Pe._f.onChange&&Pe._f.onChange(I);const tr=H(fe,Ba,Ha),ma=!Yr(tr)||Ga;if(!Ha&&S.state.next({name:fe,type:I.type,values:Pa(l)}),Ca)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?Ha&&R():Ha||R()),ma&&S.state.next({name:fe,...Ga?{}:tr});if(!Ha&&Ga&&S.state.next({...n}),e.resolver){const{errors:Fr}=await Z([fe]);if(je(Ba),Be){const qa=L4(n.errors,a,fe),Nr=L4(Fr,a,qa.name||fe);xt=Nr.error,fe=Nr.name,tn=Yr(Fr)}}else O([fe],!0),xt=(await B4(Pe,f.disabled,l,C,e.shouldUseNativeValidation))[fe],O([fe]),je(Ba),Be&&(xt?tn=!1:(v.isValid||_.isValid)&&(tn=await ie(a,!0)));Be&&(Pe._f.deps&&(!Array.isArray(Pe._f.deps)||Pe._f.deps.length>0)&&se(Pe._f.deps),L(fe,tn,xt,tr))}},Q=(I,re)=>{if(nt(n.errors,re)&&I.focus)return I.focus(),1},se=async(I,re={})=>{let fe,Be;const Pe=B0(I);if(e.resolver){const je=await $(ra(I)?I:Pe);fe=Yr(je),Be=I?!Pe.some(Ye=>nt(je,Ye)):fe}else I?(Be=(await Promise.all(Pe.map(async je=>{const Ye=nt(a,je);return await ie(Ye&&Ye._f?{[je]:Ye}:Ye)}))).every(Boolean),!(!Be&&!n.isValid)&&R()):Be=fe=await ie(a);return S.state.next({...!ci(I)||(v.isValid||_.isValid)&&fe!==n.isValid?{}:{name:I},...e.resolver||!I?{isValid:fe}:{},errors:n.errors}),re.shouldFocus&&!Be&&H0(a,Q,I?Pe:f.mount),Be},G=(I,re)=>{let fe={...u.mount?l:i};return re&&(fe=RS(re.dirtyFields?n.dirtyFields:n.touchedFields,fe)),ra(I)?fe:ci(I)?nt(fe,I):I.map(Be=>nt(fe,Be))},ne=(I,re)=>({invalid:!!nt((re||n).errors,I),isDirty:!!nt((re||n).dirtyFields,I),error:nt((re||n).errors,I),isValidating:!!nt(n.validatingFields,I),isTouched:!!nt((re||n).touchedFields,I)}),_e=I=>{I&&B0(I).forEach(re=>ca(n.errors,re)),S.state.next({errors:I?n.errors:{}})},Ee=(I,re,fe)=>{const Be=(nt(a,I,{_f:{}})._f||{}).ref,Pe=nt(n.errors,I)||{},{ref:je,message:Ye,type:$e,...xt}=Pe;Dn(n.errors,I,{...xt,...re,ref:Be}),S.state.next({name:I,errors:n.errors,isValid:!1}),fe&&fe.shouldFocus&&Be&&Be.focus&&Be.focus()},Ve=(I,re)=>bs(I)?S.state.subscribe({next:fe=>"values"in fe&&I(le(void 0,re),fe)}):le(I,re,!0),ut=I=>S.state.subscribe({next:re=>{rM(I.name,re.name,I.exact)&&aM(re,I.formState||v,un,I.reRenderRoot)&&I.callback({values:{...l},...n,...re,defaultValues:i})}}).unsubscribe,Ie=I=>(u.mount=!0,_={..._,...I.formState},ut({...I,formState:_})),st=(I,re={})=>{for(const fe of I?B0(I):f.mount)f.mount.delete(fe),f.array.delete(fe),re.keepValue||(ca(a,fe),ca(l,fe)),!re.keepError&&ca(n.errors,fe),!re.keepDirty&&ca(n.dirtyFields,fe),!re.keepTouched&&ca(n.touchedFields,fe),!re.keepIsValidating&&ca(n.validatingFields,fe),!e.shouldUnregister&&!re.keepDefaultValue&&ca(i,fe);S.state.next({values:Pa(l)}),S.state.next({...n,...re.keepDirty?{isDirty:Re()}:{}}),!re.keepIsValid&&R()},Et=({disabled:I,name:re})=>{(ul(I)&&u.mount||I||f.disabled.has(re))&&(I?f.disabled.add(re):f.disabled.delete(re))},we=(I,re={})=>{let fe=nt(a,I);const Be=ul(re.disabled)||ul(e.disabled);return Dn(a,I,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:I}},name:I,mount:!0,...re}}),f.mount.add(I),fe?Et({disabled:ul(re.disabled)?re.disabled:e.disabled,name:I}):U(I,!0,re.value),{...Be?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:w0(re.min),max:w0(re.max),minLength:w0(re.minLength),maxLength:w0(re.maxLength),pattern:w0(re.pattern)}:{},name:I,onChange:ae,onBlur:ae,ref:Pe=>{if(Pe){we(I,re),fe=nt(a,I);const je=ra(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,Ye=QN(je),$e=fe._f.refs||[];if(Ye?$e.find(xt=>xt===je):je===fe._f.ref)return;Dn(a,I,{_f:{...fe._f,...Ye?{refs:[...$e.filter(K1),je,...Array.isArray(nt(i,I))?[{}]:[]],ref:{type:je.type,name:I}}:{ref:je}}}),U(I,!1,void 0,je)}else fe=nt(a,I,{}),fe._f&&(fe._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(YN(f.array,I)&&u.action)&&f.unMount.add(I)}}},Me=()=>e.shouldFocusError&&H0(a,Q,f.mount),ot=I=>{ul(I)&&(S.state.next({disabled:I}),H0(a,(re,fe)=>{const Be=nt(a,fe);Be&&(re.disabled=Be._f.disabled||I,Array.isArray(Be._f.refs)&&Be._f.refs.forEach(Pe=>{Pe.disabled=Be._f.disabled||I}))},0,!1))},_t=(I,re)=>async fe=>{let Be;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let Pe=Pa(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:je,values:Ye}=await Z();n.errors=je,Pe=Pa(Ye)}else await ie(a);if(f.disabled.size)for(const je of f.disabled)ca(Pe,je);if(ca(n.errors,"root"),Yr(n.errors)){S.state.next({errors:{}});try{await I(Pe,fe)}catch(je){Be=je}}else re&&await re({...n.errors},fe),Me(),setTimeout(Me);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yr(n.errors)&&!Be,submitCount:n.submitCount+1,errors:n.errors}),Be)throw Be},St=(I,re={})=>{nt(a,I)&&(ra(re.defaultValue)?B(I,Pa(nt(i,I))):(B(I,re.defaultValue),Dn(i,I,Pa(re.defaultValue))),re.keepTouched||ca(n.touchedFields,I),re.keepDirty||(ca(n.dirtyFields,I),n.isDirty=re.defaultValue?Re(I,Pa(nt(i,I))):Re()),re.keepError||(ca(n.errors,I),v.isValid&&R()),S.state.next({...n}))},Ot=(I,re={})=>{const fe=I?Pa(I):i,Be=Pa(fe),Pe=Yr(I),je=Pe?i:Be;if(re.keepDefaultValues||(i=fe),!re.keepValues){if(re.keepDirtyValues){const Ye=new Set([...f.mount,...Object.keys(Af(i,l))]);for(const $e of Array.from(Ye))nt(n.dirtyFields,$e)?Dn(je,$e,nt(l,$e)):B($e,nt(je,$e))}else{if(k2&&ra(I))for(const Ye of f.mount){const $e=nt(a,Ye);if($e&&$e._f){const xt=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(sv(xt)){const tn=xt.closest("form");if(tn){tn.reset();break}}}}if(re.keepFieldsRef)for(const Ye of f.mount)B(Ye,nt(je,Ye));else a={}}l=e.shouldUnregister?re.keepDefaultValues?Pa(i):{}:Pa(je),S.array.next({values:{...je}}),S.state.next({values:{...je}})}f={mount:re.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!re.keepIsValid||!!re.keepDirtyValues,u.watch=!!e.shouldUnregister,S.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Pe?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!fu(I,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Pe?{}:re.keepDirtyValues?re.keepDefaultValues&&l?Af(i,l):n.dirtyFields:re.keepDefaultValues&&I?Af(i,I):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},mn=(I,re)=>Ot(bs(I)?I(l):I,re),_n=(I,re={})=>{const fe=nt(a,I),Be=fe&&fe._f;if(Be){const Pe=Be.refs?Be.refs[0]:Be.ref;Pe.focus&&(Pe.focus(),re.shouldSelect&&bs(Pe.select)&&Pe.select())}},un=I=>{n={...n,...I}},er={control:{register:we,unregister:st,getFieldState:ne,handleSubmit:_t,setError:Ee,_subscribe:ut,_runSchema:Z,_focusError:Me,_getWatch:le,_getDirty:Re,_setValid:R,_setFieldArray:M,_setDisabledField:Et,_setErrors:z,_getFieldArray:ye,_reset:Ot,_resetDefaultValues:()=>bs(e.defaultValues)&&e.defaultValues().then(I=>{mn(I,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:be,_disableForm:ot,_subjects:S,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(I){u=I},get _defaultValues(){return i},get _names(){return f},set _names(I){f=I},get _formState(){return n},get _options(){return e},set _options(I){e={...e,...I}}},subscribe:Ie,trigger:se,register:we,handleSubmit:_t,watch:Ve,setValue:B,getValues:G,reset:mn,resetField:St,clearErrors:_e,unregister:st,setError:Ee,setFocus:_n,getFieldState:ne};return{...er,formControl:er}}function Bf(t={}){const e=Qe.useRef(void 0),n=Qe.useRef(void 0),[a,i]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:bs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:bs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!bs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...f}=uM(t);e.current={...f,formState:a}}const l=e.current.control;return l._options=t,KN(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),Qe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Qe.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Qe.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Qe.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Qe.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),Qe.useEffect(()=>{t.values&&!fu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,i(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),Qe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=XN(a,l),e.current}const H4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=nt(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Iy=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?H4(a.ref,n,t):a&&a.refs&&a.refs.forEach(i=>H4(i,n,t))}},G4=(t,e)=>{e.shouldUseNativeValidation&&Iy(t,e);const n={};for(const a in t){const i=nt(e.fields,a),l=Object.assign(t[a]||{},{ref:i&&i.ref});if(cM(e.names||Object.keys(t),a)){const u=Object.assign({},nt(n,a));Dn(u,"root",l),Dn(n,a,u)}else Dn(n,a,l)}return n},cM=(t,e)=>{const n=q4(e);return t.some(a=>q4(a).match(`^${n}\\.\\d+`))};function q4(t){return t.replace(/\]|\[/g,"")}function V4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function dM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,p=g&&g[a.code];n[u]=P2(u,e,n,i,p?[].concat(p,a.message):a.message)}t.shift()}return n}function fM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if(a.code==="invalid_union"&&a.errors.length>0){var f=a.errors[0][0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,p=g&&g[a.code];n[u]=P2(u,e,n,i,p?[].concat(p,a.message):a.message)}t.shift()}return n}function Hf(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,i,l){try{return Promise.resolve(V4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:G4(dM(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,i,l){try{return Promise.resolve(V4(function(){return Promise.resolve((n.mode==="sync"?eA:tA)(t,a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return f instanceof D2})(u))return{values:{},errors:G4(fM(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}async function zS(t){const{data:e}=await an.from("users").select("id").eq("email",t).maybeSingle();return!!e}async function hM(t){const{data:e}=await an.from("users").select("id").eq("username",t).maybeSingle();return!!e}const gM=Zf({email:z2("invalid email"),password:Kr("Password Required")}),mM=Zf({email:z2("Invalid email address")});function pM(){const t=ug(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),{register:l,handleSubmit:u,setError:f,formState:{errors:g,isSubmitting:p}}=Bf({resolver:Hf(gM)}),{register:v,handleSubmit:_,formState:{errors:S,isSubmitting:C}}=Bf({resolver:Hf(mM)}),T=async j=>{j.preventDefault();try{const{data:z,error:U}=await an.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://x3nozite.github.io/rect-up/"}});if(U){console.error("cant handle oauth:",U);return}}catch(z){console.error("cant sign in with google: ",z)}},R=async j=>{try{const{email:z,password:U}=j;if(!await zS(z)){f("email",{message:"Email is not yet registered!"});return}const{error:L}=await an.auth.signInWithPassword({email:z,password:U});if(L){alert(L.message);return}alert("login successful!"),t("/")}catch(z){f("root",{message:"Error! "+z}),alert("Error sign in!: "+z)}},O=async j=>{try{const z="https://x3nozite.github.io/rect-up/",{error:U}=await an.auth.resetPasswordForEmail(j.email,{redirectTo:`${z}#/reset-password`});if(U){alert("Error: "+U.message);return}i(!0)}catch(z){alert("Error sending reset email: "+z)}},M=()=>{n(!1),i(!1)};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[E.jsx(sS,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden ",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsxs("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:[" ","The all in one task management app"]})]}),E.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"})}),E.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2 overflow-auto",children:[E.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:E.jsxs("div",{className:"my-company flex flex-col text-center  lg:flex",children:[E.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),E.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),E.jsx("div",{className:"main-form ",children:E.jsxs("form",{className:"flex flex-col justify-between",onSubmit:u(R),children:[E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),E.jsx("input",{...l("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),g.email&&E.jsx("div",{className:"text-red-500",children:g.email?.message})]}),E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),E.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",onClick:()=>n(!0),children:"Forgot Password?"})]}),E.jsx("input",{...l("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),g.password&&E.jsx("div",{className:"text-red-500",children:g.password?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("button",{type:"submit",disabled:p,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:p?"Loading...":"Continue with email"})}),E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),E.jsxs("button",{onClick:T,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[E.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})})]})]}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"})}),e&&E.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[E.jsx("button",{onClick:M,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl",children:""}),a?E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"success-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Check your email"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and click the link to reset your password."}),E.jsx("button",{onClick:M,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Close"})]}):E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Forgot Password"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),E.jsxs("form",{onSubmit:_(O),children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"forgot-email",className:"font-bold",children:"Email"}),E.jsx("input",{...v("email"),type:"email",id:"forgot-email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),S.email&&E.jsx("div",{className:"text-red-500 text-sm",children:S.email?.message})]}),E.jsx("button",{type:"submit",disabled:C,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:C?"Sending...":"Send Reset Link"})]})]})]})})]})}const vM=Zf({username:Kr().min(1,"Username is required"),email:z2("Email is required"),password:Kr("Password is required").min(8,"Password at least 8 characters long"),confirmPassword:Kr()}).superRefine(async({confirmPassword:t,password:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Password must match",path:["confirmPassword"]})});function yM(){const{register:t,handleSubmit:e,setError:n,formState:{errors:a,isSubmitting:i}}=Bf({resolver:Hf(vM),mode:"onSubmit"}),l=ug(),u=async f=>{try{const{username:g,email:p,password:v}=f,_=await zS(p),S=await hM(g);if(_){n("email",{message:"Email already exists"});return}if(S){n("username",{message:"Username already exists!"});return}const{error:C}=await an.auth.signUp({email:p,password:v,options:{data:{username:g}}});if(C){n("root",{message:C.message}),alert("Error creating account: "+C.message);return}alert("Account created successfully, please verify email"),l("/signin")}catch(g){n("root",{message:"Error!"+g}),alert("Error creating account: "+g)}};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>l("/"),children:[E.jsx(sS,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),E.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),E.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),E.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),E.jsx("div",{className:"main-form",children:E.jsxs("form",{onSubmit:e(u),className:"flex flex-col justify-between",autoComplete:"off",children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Username"}),E.jsx("input",{...t("username"),type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-username"}),a.username&&E.jsx("div",{className:"text-red-500",children:a.username?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Email"}),E.jsx("input",{...t("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-email"}),a.email&&E.jsx("div",{className:"text-red-500",children:a.email?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Password"}),E.jsx("input",{...t("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-password"}),a.password&&E.jsx("div",{className:"text-red-500",children:a.password?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Confirm Password"}),E.jsx("input",{...t("confirmPassword"),type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-confirmPassword"}),a.confirmPassword&&E.jsx("div",{className:"text-red-500",children:a.confirmPassword?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("button",{type:"submit",disabled:i,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:i?"Loading...":"Create Account"}),E.jsx("button",{onClick:()=>l("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]}),a.root&&E.jsx("div",{className:"text-red-500",children:a.root.message})]})})]})}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"})})]})}const bM=Zf({password:Kr().min(8,"Password must be at least 8 characters long"),confirmPassword:Kr()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function _M(){const t=ug(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),[l,u]=N.useState(!0),[f,g]=N.useState(""),{register:p,handleSubmit:v,formState:{errors:_,isSubmitting:S}}=Bf({resolver:Hf(bM)});N.useEffect(()=>{(async()=>{try{const M=window.location.hash.split("#"),j=M.length>2?M[2]:M[1],z=new URLSearchParams(j),U=z.get("error"),H=z.get("error_description");if(U){console.error("Supabase error:",U,H),U==="access_denied"&&H?.includes("expired")?g("The reset link has expired. Password reset links are valid for 1 hour only."):g("Invalid reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}const L=z.get("access_token"),Z=z.get("refresh_token"),$=z.get("type");if(L&&$==="recovery"){const{data:ie,error:be}=await an.auth.setSession({access_token:L,refresh_token:Z||""});if(be){console.error("Session error:",be),g("Failed to validate reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}ie.session&&(i(!0),u(!1))}else g("No valid reset token found. Please request a new reset link."),u(!1),setTimeout(()=>{t("/signin")},3e3)}catch(O){console.error("Error in handlePasswordReset:",O),g("An error occurred. Please try again."),u(!1),setTimeout(()=>{t("/signin")},3e3)}})();const{data:R}=an.auth.onAuthStateChange((O,M)=>{O==="PASSWORD_RECOVERY"&&M&&(i(!0),u(!1))});return()=>{R.subscription.unsubscribe()}},[t]);const C=async T=>{try{const{error:R}=await an.auth.updateUser({password:T.password});if(R){alert("Error: "+R.message);return}n(!0),setTimeout(()=>{t("/signin")},3e3)}catch(R){alert("Error resetting password: "+R)}};return l?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-lg text-gray-700",children:"Validating reset link..."})]})}):f?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[E.jsx("div",{className:"error-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"Link Invalid"}),E.jsx("p",{className:"text-gray-600 mb-6",children:f}),E.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Back to Sign In"})]})}):e?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[E.jsx("div",{className:"success-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Reset Successfully!"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You will be redirected to the sign in page in a few seconds."}),E.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Sign In Now"})]})}):a?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reset Password"}),E.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),E.jsxs("form",{className:"flex flex-col gap-6",onSubmit:v(C),children:[E.jsxs("div",{className:"flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"password",className:"font-bold",children:"New Password"}),E.jsx("input",{...p("password"),type:"password",placeholder:"Enter new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.password&&E.jsx("div",{className:"text-red-500 text-sm",children:_.password?.message})]}),E.jsxs("div",{className:"flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"confirmPassword",className:"font-bold",children:"Confirm Password"}),E.jsx("input",{...p("confirmPassword"),type:"password",placeholder:"Confirm new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.confirmPassword&&E.jsx("div",{className:"text-red-500 text-sm",children:_.confirmPassword?.message})]}),E.jsx("button",{type:"submit",disabled:S,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:S?"Resetting...":"Reset Password"})]})]})}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsx("div",{className:"text-center",children:E.jsx("p",{className:"text-lg",children:"Redirecting..."})})})}const SM=Math.PI/180;function xM(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Dc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},qe={_global:Dc,version:"10.0.2",isBrowser:xM(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return qe.angleDeg?t*SM:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return qe.DD.isDragging},isTransforming(){var t,e;return(e=(t=qe.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!qe.DD.node},releaseCanvasOnDestroy:!0,document:Dc.document,_injectGlobal(t){typeof Dc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Dc.Konva=t}},Kn=t=>{qe[t.prototype.getClassName()]=t};qe._injectGlobal(qe);const wM=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,Y4=()=>{if(typeof document>"u")throw new Error(wM)};class di{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new di(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,f=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=l,this.m[2]=u,this.m[3]=f,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=l,this.m[3]=u,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],f=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,l=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),f=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],l=this.m[4],u=this.m[5],f=e*i-n*a,g={x:l,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const p=Math.sqrt(e*e+n*n);g.rotation=n>0?Math.acos(e/p):-Math.acos(e/p),g.scaleX=p,g.scaleY=f/p,g.skewX=(e*a+n*i)/f,g.skewY=0}else if(a!=0||i!=0){const p=Math.sqrt(a*a+i*i);g.rotation=Math.PI/2-(i>0?Math.acos(-a/p):-Math.acos(a/p)),g.scaleX=f/p,g.scaleY=p,g.skewX=0,g.skewY=(e*a+n*i)/f}return g.rotation=te._getRotation(g.rotation),g}}const EM="[object Array]",CM="[object Number]",TM="[object String]",AM="[object Boolean]",RM=Math.PI/180,OM=180/Math.PI,F1="#",NM="",MM="0",DM="Konva warning: ",Z4="Konva error: ",jM="rgb(",Q1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},zM=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let up=[];const kM=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},te={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===EM},_isNumber(t){return Object.prototype.toString.call(t)===CM&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===TM},_isBoolean(t){return Object.prototype.toString.call(t)===AM},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){up.push(t),up.length===1&&kM(function(){const e=up;up=[],e.forEach(function(n){n()})})},createCanvasElement(){Y4();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return Y4(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=te.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(F1,NM);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=MM+t;return F1+t},getRGB(t){let e;return t in Q1?(e=Q1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===F1?this._hexToRgb(t.substring(1)):t.substr(0,4)===jM?(e=zM.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",te._namedColorToRBA(t)||te._hex3ColorToRGBA(t)||te._hex4ColorToRGBA(t)||te._hex6ColorToRGBA(t)||te._hex8ColorToRGBA(t)||te._rgbColorToRGBA(t)||te._rgbaColorToRGBA(t)||te._hslColorToRGBA(t)},_namedColorToRBA(t){const e=Q1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,l=Number(n[2])/100;let u,f,g;if(i===0)return g=l*255,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};l<.5?u=l*(1+i):u=l+i-l*i;const p=2*l-u,v=[0,0,0];for(let _=0;_<3;_++)f=a+1/3*-(_-1),f<0&&f++,f>1&&f--,6*f<1?g=p+(u-p)*6*f:2*f<1?g=u:3*f<2?g=p+(u-p)*(2/3-f)*6:g=p,v[_]=g*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*RM},radToDeg(t){return t*OM},_degToRad(t){return te.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),te.degToRad(t)},_radToDeg(t){return te.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),te.radToDeg(t)},_getRotation(t){return qe.angleDeg?te.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(Z4+t)},error(t){console.error(Z4+t)},warn(t){qe.showWarnings&&console.warn(DM+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,l){let u,f,g;const p=(t-n)*(t-n)+(e-a)*(e-a);if(p==0)u=t,f=e,g=(i-n)*(i-n)+(l-a)*(l-a);else{const v=((i-t)*(n-t)+(l-e)*(a-e))/p;v<0?(u=t,f=e,g=(t-i)*(t-i)+(e-l)*(e-l)):v>1?(u=n,f=a,g=(n-i)*(n-i)+(a-l)*(a-l)):(u=t+v*(n-t),f=e+v*(a-e),g=(u-i)*(u-i)+(f-l)*(f-l))}return[u,f,g]},_getProjectionToLine(t,e,n){const a=te.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(l,u){if(!n&&u===e.length-1)return;const f=e[(u+1)%e.length],g=te._getProjectionToSegment(l.x,l.y,f.x,f.y,t.x,t.y),p=g[0],v=g[1],_=g[2];_<i&&(a.x=p,a.y=v,i=_)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const u=e;e=t,t=u}for(let u=0;u<t.length;u+=2)a.push({x:t[u],y:t[u+1]});for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const l=[];return i.forEach(function(u){const f=te._getProjectionToLine(u,a,n);l.push(f.x),l.push(f.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||te._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(te._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){qe.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let u=0,f=0,g=0,p=0;typeof a=="number"?u=f=g=p=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),f=Math.min(a[1]||0,e/2,n/2),p=Math.min(a[2]||0,e/2,n/2),g=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+u,l),t.lineTo(i+e-f,l),t.arc(i+e-f,l+f,f,Math.PI*3/2,0,!1),t.lineTo(i+e,l+n-p),t.arc(i+e-p,l+n-p,p,0,Math.PI/2,!1),t.lineTo(i+g,l+n),t.arc(i+g,l+n-g,g,Math.PI/2,Math.PI,!1),t.lineTo(i,l+u),t.arc(i+u,l+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let l=0;l<n;l++){const u=e[(l-1+n)%n],f=e[l],g=e[(l+1)%n],p={x:f.x-u.x,y:f.y-u.y},v={x:g.x-f.x,y:g.y-f.y},_=Math.hypot(p.x,p.y),S=Math.hypot(v.x,v.y);let C;typeof i=="number"?C=i:C=l<i.length?i[l]:0,C=a*Math.cos(Math.PI/n)*Math.min(1,C/a*2);const R={x:p.x/_,y:p.y/_},O={x:v.x/S,y:v.y/S},M={x:f.x-R.x*C,y:f.y-R.y*C},j={x:f.x+O.x*C,y:f.y+O.y*C};l===0?t.moveTo(M.x,M.y):t.lineTo(M.x,M.y),t.arcTo(f.x,f.y,j.x,j.y,C)}}};function UM(t){const e=[],n=t.length,a=te;for(let i=0;i<n;i++){let l=t[i];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const I4=",",LM="(",PM=")",BM="([",HM="])",GM=";",qM="()",VM="=",X4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],YM=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],ZM=100;let cp=null;function K4(){if(cp!==null)return cp;try{const e=te.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(cp=!1,!1)}catch{return cp=!1,!1}}class Ov{constructor(e){this.canvas=e,qe.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,l="",u,f,g,p;for(u=0;u<i;u++)f=a[u],g=f.method,g?(p=f.args,l+=g,e?l+=qM:te._isArray(p[0])?l+=BM+p.join(I4)+HM:(n&&(p=p.map(v=>typeof v=="number"?Math.floor(v):v)),l+=LM+p.join(I4)+PM)):(l+=f.property,e||(l+=VM+f.val)),l+=GM;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=ZM&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,l,u){this._context.arc(e,n,a,i,l,u)}arcTo(e,n,a,i,l){this._context.arcTo(e,n,a,i,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,l,u){this._context.bezierCurveTo(e,n,a,i,l,u)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,l,u){return this._context.createRadialGradient(e,n,a,i,l,u)}drawImage(e,n,a,i,l,u,f,g,p){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,i,l):v.length===9&&_.drawImage(e,n,a,i,l,u,f,g,p)}ellipse(e,n,a,i,l,u,f,g){this._context.ellipse(e,n,a,i,l,u,f,g)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,l){this._context.roundRect(e,n,a,i,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,l,u){this._context.setTransform(e,n,a,i,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,l,u){this._context.transform(e,n,a,i,l,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=X4.length,a=this.setAttr,i,l;const u=function(f){let g=e[f],p;e[f]=function(){return l=UM(Array.prototype.slice.call(arguments,0)),p=g.apply(e,arguments),e._trace({method:f,args:l}),p}};for(i=0;i<n;i++)u(X4[i]);e.setAttr=function(){a.apply(e,arguments);const f=arguments[0];let g=arguments[1];(f==="shadowOffsetX"||f==="shadowOffsetY"||f==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:f,val:g})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}YM.forEach(function(t){Object.defineProperty(Ov.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class IM extends Ov{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let u=0;u<i.length;u+=2)l.addColorStop(i[u],i[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,f=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},g=e.getAbsoluteScale(),p=this.canvas.getPixelRatio(),v=g.x*p,_=g.y*p;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",f.x*v),this.setAttr("shadowOffsetY",f.y*_)}}class XM extends Ov{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let dp;function KM(){if(dp)return dp;const t=te.createCanvasElement(),e=t.getContext("2d");return dp=(function(){const n=qe._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),te.releaseCanvas(t),dp}class G2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||qe.pixelRatio||KM();this.pixelRatio=a,this._canvas=te.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return te.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class hu extends G2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new IM(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function F4(){const t=te.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function Q4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let $4=!1;function FM(){return Q4()&&F4()&&!$4&&($4=!0,te.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),Q4()&&F4()}class q2 extends G2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new XM(this),this.setSize(e.width,e.height),FM()}}const gn={get isDragging(){let t=!1;return gn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return gn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];gn._dragElements.forEach((n,a)=>{const{node:i}=n,l=i.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=te._getFirstPointerId(t));const u=l._changedPointerPositions.find(f=>f.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const f=i.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<f||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];gn._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(f=>f.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(gn.justDragged=!0,qe._mouseListenClick=!1,qe._touchListenClick=!1,qe._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof qe.Stage&&n.node;u&&e.indexOf(u)===-1&&e.push(u)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){gn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&gn._dragElements.delete(n)})}};qe.isBrowser&&(window.addEventListener("mouseup",gn._endDragBefore,!0),window.addEventListener("touchend",gn._endDragBefore,!0),window.addEventListener("touchcancel",gn._endDragBefore,!0),window.addEventListener("mousemove",gn._drag),window.addEventListener("touchmove",gn._drag),window.addEventListener("mouseup",gn._endDragAfter,!1),window.addEventListener("touchend",gn._endDragAfter,!1),window.addEventListener("touchcancel",gn._endDragAfter,!1));function _u(t){return te._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||te._isBoolean(t)?t:Object.prototype.toString.call(t)}function kS(t){return t>255?255:t<0?0:Math.round(t)}function He(){if(qe.isUnminified)return function(t,e){return te._isNumber(t)||te.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Nv(t){if(qe.isUnminified)return function(e,n){let a=te._isNumber(e),i=te._isArray(e)&&e.length==t;return!a&&!i&&te.warn(_u(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function V2(){if(qe.isUnminified)return function(t,e){return te._isNumber(t)||t==="auto"||te.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function qc(){if(qe.isUnminified)return function(t,e){return te._isString(t)||te.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function US(){if(qe.isUnminified)return function(t,e){const n=te._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||te.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function QM(){if(qe.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(te._isArray(t)?t.forEach(function(a){te._isNumber(a)||te.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):te.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function xs(){if(qe.isUnminified)return function(t,e){return t===!0||t===!1||te.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function $M(t){if(qe.isUnminified)return function(e,n){return e==null||te.isObject(e)||te.warn(_u(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const E0="get",C0="set",V={addGetterSetter(t,e,n,a,i){V.addGetter(t,e,n),V.addSetter(t,e,a,i),V.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=E0+te._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=C0+te._capitalize(e);t.prototype[i]||V.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=C0+te._capitalize(e);t.prototype[i]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const l=n.length,u=te._capitalize,f=E0+u(e),g=C0+u(e);t.prototype[f]=function(){const v={};for(let _=0;_<l;_++){const S=n[_];v[S]=this.getAttr(e+u(S))}return v};const p=$M(n);t.prototype[g]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),p&&p.call(this,v,e);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(e+u(S),v[S]);return v||n.forEach(S=>{this._setAttr(e+u(S),void 0)}),this._fireChangeEvent(e,_,v),i&&i.call(this),this},V.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=te._capitalize(e),a=C0+n,i=E0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){te.error("Adding deprecated "+e);const i=E0+te._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){te.error(l);const u=this.attrs[e];return u===void 0?n:u},V.addSetter(t,e,a,function(){te.error(l)}),V.addOverloadedGetterSetter(t,e)},backCompat(t,e){te.each(e,function(n,a){const i=t.prototype[a],l=E0+te._capitalize(n),u=C0+te._capitalize(n);function f(){i.apply(this,arguments),te.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=f,t.prototype[l]=f,t.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}};function WM(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const l=parseFloat(i.replace("px",""));return function(u){this.blurRadius(l*.5);const f=qe.Filters;f&&f.Blur&&f.Blur.call(this,u)}}case"brightness":{const l=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(u){this.brightness(l);const f=qe.Filters;f&&f.Brightness&&f.Brightness.call(this,u)}}case"contrast":{const l=parseFloat(i);return function(u){const f=100*(Math.sqrt(l)-1);this.contrast(f);const g=qe.Filters;g&&g.Contrast&&g.Contrast.call(this,u)}}case"grayscale":return function(l){const u=qe.Filters;u&&u.Grayscale&&u.Grayscale.call(this,l)};case"sepia":return function(l){const u=qe.Filters;u&&u.Sepia&&u.Sepia.call(this,l)};case"invert":return function(l){const u=qe.Filters;u&&u.Invert&&u.Invert.call(this,l)};default:te.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const qp="absoluteOpacity",fp="allEventListeners",no="absoluteTransform",W4="absoluteScale",Ec="canvas",JM="Change",eD="children",tD="konva",Xy="listening",nD="mouseenter",aD="mouseleave",rD="pointerenter",iD="pointerleave",sD="touchenter",lD="touchleave",J4="set",e5="Shape",Vp=" ",t5="stage",su="transform",oD="Stage",Ky="visible",uD=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Vp);let cD=1,Ge=class Fy{constructor(e){this._id=cD++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===su||e===no)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===su||e===no)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(l=>l+"Change.konva").join(Vp);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(Ec)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===no&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ec)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(Ec);te.releaseCanvas(e,n,a,i),this._cache.delete(Ec)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),u=n.pixelRatio,f=n.x===void 0?Math.floor(a.x):n.x,g=n.y===void 0?Math.floor(a.y):n.y,p=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!i||!l){te.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(a.x)-f)>.5?1:0,C=Math.abs(Math.round(a.y)-g)>.5?1:0;i+=p*2+S,l+=p*2+C,f-=p,g-=p;const T=new hu({pixelRatio:u,width:i,height:l}),R=new hu({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),O=new q2({pixelRatio:_,width:i,height:l}),M=T.getContext(),j=O.getContext(),z=new hu({width:T.width/T.pixelRatio+Math.abs(f),height:T.height/T.pixelRatio+Math.abs(g),pixelRatio:T.pixelRatio}),U=z.getContext();return O.isCache=!0,T.isCache=!0,this._cache.delete(Ec),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(T.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),M.save(),j.save(),U.save(),M.translate(-f,-g),j.translate(-f,-g),U.translate(-f,-g),z.x=f,z.y=g,this._isUnderCache=!0,this._clearSelfAndDescendantCache(qp),this._clearSelfAndDescendantCache(W4),this.drawScene(T,this,z),this.drawHit(O,this),this._isUnderCache=!1,M.restore(),j.restore(),v&&(M.save(),M.beginPath(),M.rect(0,0,i,l),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),this._cache.set(Ec,{scene:T,filter:R,hit:O,buffer:z,x:f,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(Ec)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,l=1/0,u=-1/0,f=-1/0;const g=this.getAbsoluteTransform(n);return a.forEach(function(p){const v=g.point(p);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),{x:i,y:l,width:u-i,height:f-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,l=i.getContext(),u,f,g,p;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let v=!0;for(let S=0;S<e.length;S++)if(typeof e[S]=="string"&&K4(),typeof e[S]!="string"||!K4()){v=!1;break}const _=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const S=e.join(" ");return l.save(),l.setAttr("filter",S),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,i}try{for(u=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),f=l.getImageData(0,0,i.getWidth(),i.getHeight()),g=0;g<u;g++)p=e[g],typeof p=="string"&&(p=WM(p)),p.call(this,f),l.putImageData(f,0,0)}catch(S){te.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(fp),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(Vp);for(let i=0;i<a.length;i++){const u=a[i].split("."),f=u[0],g=u[1]||"";this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:g,handler:n})}return this}off(e,n){let a=(e||"").split(Vp),i=a.length,l,u,f,g,p,v;if(this._cache&&this._cache.delete(fp),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<i;l++)if(f=a[l],g=f.split("."),p=g[0],v=g[1],p)this.eventListeners[p]&&this._off(p,v,n);else for(u in this.eventListeners)this._off(u,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(l){const u=l.target.findAncestors(n,!0,i);for(let f=0;f<u.length;f++)l=te.cloneObject(l),l.currentTarget=u[f],a.call(u[f],l)})}remove(){return this.isDragging()&&this.stopDrag(),gn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(no),this._clearSelfAndDescendantCache(qp),this._clearSelfAndDescendantCache(W4),this._clearSelfAndDescendantCache(t5),this._clearSelfAndDescendantCache(Ky),this._clearSelfAndDescendantCache(Xy)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+te._capitalize(e);return te._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==eD&&(a=J4+te._capitalize(n),te._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Xy,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(Ky,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;gn._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(i=!0)});const l=!n&&!qe.hitOnDragEnabled&&(i||qe.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,l,u,f;function g(v){for(i=[],l=v.length,u=0;u<l;u++)f=v[u],a++,f.nodeType!==e5&&(i=i.concat(f.getChildren().slice())),f._id===n._id&&(u=l);i.length>0&&i[0].getDepth()<=e&&g(i)}const p=this.getStage();return n.nodeType!==oD&&p&&g(p.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(su),this._clearSelfAndDescendantCache(no)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),l=new di,u=this.offset();return l.m=i.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(su);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(su),this._clearSelfAndDescendantCache(no),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),l=this.y();return n!==void 0&&(i+=n),a!==void 0&&(l+=a),this.setPosition({x:i,y:l}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),l,u;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(l=a.length,u=0;u<l;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return te.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return te.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return te.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return te.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return te.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&te.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(qp,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,l,u;const f={attrs:{},className:this.getClassName()};for(n in e)a=e[n],u=te.isObject(a)&&!te._isPlainObject(a)&&!te._isArray(a),!u&&(i=typeof this[n]=="function"&&this[n],delete e[n],l=i?i.call(this):null,e[n]=a,l!==a&&(f.attrs[n]=a));return te._prepareToStringify(f)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let l=this.parent;for(;l;){if(l===a)return i;l._isMatch(e)&&i.push(l),l=l.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,l;for(i=0;i<a;i++)if(l=n[i],te.isValidSelector(l)||(te.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),te.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),te.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(t5,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(no,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new di,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(no)||new di,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;n.translate(i-u,l-f)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(su,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(su)||new di;a.reset();const i=this.x(),l=this.y(),u=qe.getAngle(this.rotation()),f=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,p=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(i!==0||l!==0)&&a.translate(i,l),u!==0&&a.rotate(u),(p!==0||v!==0)&&a.skew(p,v),(f!==1||g!==1)&&a.scale(f,g),(_!==0||S!==0)&&a.translate(-1*_,-1*S),a.dirty=!1,a}clone(e){let n=te.cloneObject(this.attrs),a,i,l,u,f;for(a in e)n[a]=e[a];const g=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],l=i.length,u=0;u<l;u++)f=i[u],f.name.indexOf(tD)<0&&(g.eventListeners[a]||(g.eventListeners[a]=[]),g.eventListeners[a].push(f));return g}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),u=e.pixelRatio||1,f=new hu({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:u}),g=f.getContext(),p=new hu({width:f.width/f.pixelRatio+Math.abs(i),height:f.height/f.pixelRatio+Math.abs(l),pixelRatio:f.pixelRatio});return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(i||l)&&g.translate(-1*i,-1*l),this.drawScene(f,void 0,p),g.restore(),f}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,te._urlToImage(this.toDataURL(e),function(l){n(l),i?.(l)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),i?.(l)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():qe.dragDistance}_off(e,n,a){let i=this.eventListeners[e],l,u,f;for(l=0;l<i.length;l++)if(u=i[l].name,f=i[l].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===f)){if(i.splice(l,1),i.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+JM,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[J4+te._capitalize(e)];return te._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(qe.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!te.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===e5&&(n.target=this);const i=[nD,aD,rD,iD,sD,lD];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const u=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const l=(n=this._cache.get(fp))!==null&&n!==void 0?n:{};let u=l?.[e];if(u===void 0){u=[];let f=Object.getPrototypeOf(this);for(;f;){const g=(i=(a=f.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];u.push(...g),f=Object.getPrototypeOf(f)}l[e]=u,this._cache.set(fp,l)}return u}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let l=0;l<i.length;l++)i[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||i;gn._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-i.x,y:l.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){gn._dragElements.has(this._id)||this._createDragElement(e);const a=gn._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,i,e);u?i=u:te.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=gn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),gn._endDragBefore(e),gn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=gn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||qe.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;gn._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=gn._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&gn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return te.haveIntersection(a,this.getClientRect())}static create(e,n){return te._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=Fy.prototype.getClassName.call(e),i=e.children,l,u,f;n&&(e.attrs.container=n),qe[a]||(te.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const g=qe[a];if(l=new g(e.attrs),i)for(u=i.length,f=0;f<u;f++)l.add(Fy._createNode(i[f]));return l}};Ge.prototype.nodeType="Node";Ge.prototype._attrsAffectingSize=[];Ge.prototype.eventListeners={};Ge.prototype.on.call(Ge.prototype,uD,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(su),this._clearSelfAndDescendantCache(no)});Ge.prototype.on.call(Ge.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ky)});Ge.prototype.on.call(Ge.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Xy)});Ge.prototype.on.call(Ge.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(qp)});const zn=V.addGetterSetter;zn(Ge,"zIndex");zn(Ge,"absolutePosition");zn(Ge,"position");zn(Ge,"x",0,He());zn(Ge,"y",0,He());zn(Ge,"globalCompositeOperation","source-over",qc());zn(Ge,"opacity",1,He());zn(Ge,"name","",qc());zn(Ge,"id","",qc());zn(Ge,"rotation",0,He());V.addComponentsGetterSetter(Ge,"scale",["x","y"]);zn(Ge,"scaleX",1,He());zn(Ge,"scaleY",1,He());V.addComponentsGetterSetter(Ge,"skew",["x","y"]);zn(Ge,"skewX",0,He());zn(Ge,"skewY",0,He());V.addComponentsGetterSetter(Ge,"offset",["x","y"]);zn(Ge,"offsetX",0,He());zn(Ge,"offsetY",0,He());zn(Ge,"dragDistance",void 0,He());zn(Ge,"width",0,He());zn(Ge,"height",0,He());zn(Ge,"listening",!0,xs());zn(Ge,"preventDefault",!0,xs());zn(Ge,"filters",void 0,function(t){return this._filterUpToDate=!1,t});zn(Ge,"visible",!0,xs());zn(Ge,"transformsEnabled","all",qc());zn(Ge,"size");zn(Ge,"dragBoundFunc");zn(Ge,"draggable",!1,xs());V.backCompat(Ge,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class fi extends Ge{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const l=i._isMatch(e);return l&&a.push(i),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Ge.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Ge.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas(),u=l&&l.getContext(),f=this._getCanvasCache(),g=f&&f.scene,p=l&&l.isCache;if(!this.isVisible()&&!p)return this;if(g){u.save();const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,l=i&&i.getContext(),u=this._getCanvasCache();if(u&&u.hit){l.save();const g=this.getAbsoluteTransform(n).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var l;const u=n&&n.getContext(),f=this.clipWidth(),g=this.clipHeight(),p=this.clipFunc(),v=typeof f=="number"&&typeof g=="number"||p,_=a===this;if(v){u.save();const C=this.getAbsoluteTransform(a);let T=C.getMatrix();u.transform(T[0],T[1],T[2],T[3],T[4],T[5]),u.beginPath();let R;if(p)R=p.call(this,u,this);else{const O=this.clipX(),M=this.clipY();u.rect(O||0,M||0,f,g)}u.clip.apply(u,R),T=C.copy().invert().getMatrix(),u.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const S=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(C){C[e](n,a,i)}),S&&u.restore(),v&&u.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let l,u,f,g,p={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(C){if(!C.visible())return;const T=C.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(l===void 0?(l=T.x,u=T.y,f=T.x+T.width,g=T.y+T.height):(l=Math.min(l,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x+T.width),g=Math.max(g,T.y+T.height)))});const _=this.find("Shape");let S=!1;for(let C=0;C<_.length;C++)if(_[C]._isVisible(this)){S=!0;break}return S&&l!==void 0?p={x:l,y:u,width:f-l,height:g-u}:p={x:0,y:0,width:0,height:0},a?p:this._transformedRect(p,i)}}V.addComponentsGetterSetter(fi,"clip",["x","y","width","height"]);V.addGetterSetter(fi,"clipX",void 0,He());V.addGetterSetter(fi,"clipY",void 0,He());V.addGetterSetter(fi,"clipWidth",void 0,He());V.addGetterSetter(fi,"clipHeight",void 0,He());V.addGetterSetter(fi,"clipFunc");const W0=new Map,LS=qe._global.PointerEvent!==void 0;function $1(t){return W0.get(t)}function Y2(t){return{evt:t,pointerId:t.pointerId}}function PS(t,e){return W0.get(t)===e}function BS(t,e){G0(t),e.getStage()&&(W0.set(t,e),LS&&e._fire("gotpointercapture",Y2(new PointerEvent("gotpointercapture"))))}function G0(t,e){const n=W0.get(t);if(!n)return;const a=n.getStage();a&&a.content,W0.delete(t),LS&&n._fire("lostpointercapture",Y2(new PointerEvent("lostpointercapture")))}const dD="Stage",fD="string",n5="px",hD="mouseout",HS="mouseleave",GS="mouseover",qS="mouseenter",VS="mousemove",YS="mousedown",ZS="mouseup",N0="pointermove",M0="pointerdown",Nf="pointerup",D0="pointercancel",gD="lostpointercapture",hp="pointerout",j0="pointerleave",gp="pointerover",mp="pointerenter",Qy="contextmenu",IS="touchstart",XS="touchend",KS="touchmove",FS="touchcancel",$y="wheel",mD=5,pD=[[qS,"_pointerenter"],[YS,"_pointerdown"],[VS,"_pointermove"],[ZS,"_pointerup"],[HS,"_pointerleave"],[IS,"_pointerdown"],[KS,"_pointermove"],[XS,"_pointerup"],[FS,"_pointercancel"],[GS,"_pointerover"],[$y,"_wheel"],[Qy,"_contextmenu"],[M0,"_pointerdown"],[N0,"_pointermove"],[Nf,"_pointerup"],[D0,"_pointercancel"],[j0,"_pointerleave"],[gD,"_lostpointercapture"]],W1={mouse:{[hp]:hD,[j0]:HS,[gp]:GS,[mp]:qS,[N0]:VS,[M0]:YS,[Nf]:ZS,[D0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[hp]:"touchout",[j0]:"touchleave",[gp]:"touchover",[mp]:"touchenter",[N0]:KS,[M0]:IS,[Nf]:XS,[D0]:FS,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[hp]:hp,[j0]:j0,[gp]:gp,[mp]:mp,[N0]:N0,[M0]:M0,[Nf]:Nf,[D0]:D0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},z0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",pf=t=>{const e=z0(t);if(e==="pointer")return qe.pointerEventsEnabled&&W1.pointer;if(e==="touch")return W1.touch;if(e==="mouse")return W1.mouse};function a5(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&te.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const vD="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",q0=[];let Mv=class extends fi{constructor(e){super(a5(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),q0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{a5(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||te.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===fD){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),fi.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&te._isInDocument(e)&&this.container().removeChild(e);const n=q0.indexOf(this);return n>-1&&q0.splice(n,1),te.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(te.warn(vD),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new hu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(l){if(!l.isVisible())return;const u=l._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let l=i;l>=0;l--){const u=n[l].getIntersection(e);if(u)return u}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+n5,this.content.style.height=n+n5),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>mD&&te.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),qe.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return PS(e,this)}setPointerCapture(e){BS(e,this)}releaseCapture(e){G0(e)}getLayers(){return this.children}_bindContentEvents(){qe.isBrowser&&pD.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=pf(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=pf(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=pf(e.type),a=z0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),l=!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled;i&&l?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=pf(e.type),a=z0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(l=>{const u=this.getIntersection(l);if(gn.justDragged=!1,qe["_"+a+"ListenClick"]=!0,!u||!u.isListening()){this[a+"ClickStartShape"]=void 0;return}qe.capturePointerEventsEnabled&&u.setPointerCapture(l.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),i=!0;const f=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&f&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=pf(e.type),a=z0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(qe.isDragging()&&gn.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled))return;const u={};let f=!1;const g=this._getTargetShape(a);this._changedPointerPositions.forEach(p=>{const v=$1(p.id)||this.getIntersection(p),_=p.id,S={evt:e,pointerId:_},C=g!==v;if(C&&g&&(g._fireAndBubble(n.pointerout,{...S},v),g._fireAndBubble(n.pointerleave,{...S},v)),v){if(u[v._id])return;u[v._id]=!0}v&&v.isListening()?(f=!0,C&&(v._fireAndBubble(n.pointerover,{...S},g),v._fireAndBubble(n.pointerenter,{...S},g),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...S})):g&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),f||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=pf(e.type),a=z0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],u={};let f=!1;this._changedPointerPositions.forEach(g=>{const p=$1(g.id)||this.getIntersection(g);if(p){if(p.releaseCapture(g.id),u[p._id])return;u[p._id]=!0}const v=g.id,_={evt:e,pointerId:v};let S=!1;qe["_"+a+"InDblClickWindow"]?(S=!0,clearTimeout(this[a+"DblTimeout"])):gn.justDragged||(qe["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){qe["_"+a+"InDblClickWindow"]=!1},qe.dblClickWindow),p&&p.isListening()?(f=!0,this[a+"ClickEndShape"]=p,p._fireAndBubble(n.pointerup,{..._}),qe["_"+a+"ListenClick"]&&i&&i===p&&(p._fireAndBubble(n.pointerclick,{..._}),S&&l&&l===p&&p._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,f||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),f=!0),qe["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),S&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),f||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),qe["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Qy,{evt:e}):this._fire(Qy,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble($y,{evt:e}):this._fire($y,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=$1(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Nf,Y2(e)),G0(e.pointerId)}_lostpointercapture(e){G0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:te._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:te._getFirstPointerId(e)}])}_setPointerPosition(e){te.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new hu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new q2({pixelRatio:1,width:this.width(),height:this.height()}),!qe.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return te.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Mv.prototype.nodeType=dD;Kn(Mv);V.addGetterSetter(Mv,"container");qe.isBrowser&&document.addEventListener("visibilitychange",()=>{q0.forEach(t=>{t.batchDraw()})});const QS="hasShadow",$S="shadowRGBA",WS="patternImage",JS="linearGradient",ex="radialGradient";let pp;function J1(){return pp||(pp=te.createCanvasElement().getContext("2d"),pp)}const V0={};function yD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function bD(t){t.stroke()}function _D(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function SD(t){t.stroke()}function xD(){this._clearCache(QS)}function wD(){this._clearCache($S)}function ED(){this._clearCache(WS)}function CD(){this._clearCache(JS)}function TD(){this._clearCache(ex)}class ke extends Ge{constructor(e){super(e);let n;for(;n=te.getRandomColor(),!(n&&!(n in V0)););this.colorKey=n,V0[n]=this}getContext(){return te.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return te.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(QS,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(WS,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=J1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new di;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(qe.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(JS,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=J1(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}_getRadialGradient(){return this._getCache(ex,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=J1(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}getShadowRGBA(){return this._getCache($S,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=te.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ge.prototype.destroy.call(this),delete V0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),l=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(i&&l&&u)return!0;const f=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(i&&l&&f&&g)}setStrokeHitEnabled(e){te.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),g=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,p=u.width+g,v=u.height+g,_=!e.skipShadow&&this.hasShadow(),S=_?this.shadowOffsetX():0,C=_?this.shadowOffsetY():0,T=p+Math.abs(S),R=v+Math.abs(C),O=_&&this.shadowBlur()||0,M=T+O*2,j=R+O*2,z={width:M,height:j,x:-(g/2+O)+Math.min(S,0)+u.x,y:-(g/2+O)+Math.min(C,0)+u.y};return i?z:this._transformedRect(z,l)}drawScene(e,n,a){const i=this.getLayer(),l=e||i.getCanvas(),u=l.getContext(),f=this._getCanvasCache(),g=this.getSceneFunc(),p=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(f){u.save();const S=this.getAbsoluteTransform(n).getMatrix();return u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!g)return this;if(u.save(),this._useBufferCanvas()){v=this.getStage();const S=a||v.bufferCanvas,C=S.getContext();C.clear(),C.save(),C._applyLineJoin(this),C._applyMiterLimit(this);const T=this.getAbsoluteTransform(n).getMatrix();C.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g.call(this,C,this),C.restore();const R=S.pixelRatio;p&&u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(S._canvas,S.x||0,S.y||0,S.width/R,S.height/R)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!_){const S=this.getAbsoluteTransform(n).getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}p&&u._applyShadow(this),g.call(this,u,this)}return u.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),l=e||i.hitCanvas,u=l&&l.getContext(),f=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),p=g&&g.hit;if(this.colorKey||te.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),p){u.save();const _=this.getAbsoluteTransform(n).getMatrix();return u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!f)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return f.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,l=i.getContext(),u=i.getWidth(),f=i.getHeight();l.clear(),l.drawImage(a._canvas,0,0,u,f);try{const g=l.getImageData(0,0,u,f),p=g.data,v=p.length,_=te._hexToRgb(this.colorKey);for(let S=0;S<v;S+=4)p[S+3]>e?(p[S]=_.r,p[S+1]=_.g,p[S+2]=_.b,p[S+3]=255):p[S+3]=0;l.putImageData(g,0,0)}catch(g){te.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return PS(e,this)}setPointerCapture(e){BS(e,this)}releaseCapture(e){G0(e)}}ke.prototype._fillFunc=yD;ke.prototype._strokeFunc=bD;ke.prototype._fillFuncHit=_D;ke.prototype._strokeFuncHit=SD;ke.prototype._centroid=!1;ke.prototype.nodeType="Shape";Kn(ke);ke.prototype.eventListeners={};ke.prototype.on.call(ke.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",xD);ke.prototype.on.call(ke.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",wD);ke.prototype.on.call(ke.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",ED);ke.prototype.on.call(ke.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",CD);ke.prototype.on.call(ke.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",TD);V.addGetterSetter(ke,"stroke",void 0,US());V.addGetterSetter(ke,"strokeWidth",2,He());V.addGetterSetter(ke,"fillAfterStrokeEnabled",!1);V.addGetterSetter(ke,"hitStrokeWidth","auto",V2());V.addGetterSetter(ke,"strokeHitEnabled",!0,xs());V.addGetterSetter(ke,"perfectDrawEnabled",!0,xs());V.addGetterSetter(ke,"shadowForStrokeEnabled",!0,xs());V.addGetterSetter(ke,"lineJoin");V.addGetterSetter(ke,"lineCap");V.addGetterSetter(ke,"miterLimit");V.addGetterSetter(ke,"sceneFunc");V.addGetterSetter(ke,"hitFunc");V.addGetterSetter(ke,"dash");V.addGetterSetter(ke,"dashOffset",0,He());V.addGetterSetter(ke,"shadowColor",void 0,qc());V.addGetterSetter(ke,"shadowBlur",0,He());V.addGetterSetter(ke,"shadowOpacity",1,He());V.addComponentsGetterSetter(ke,"shadowOffset",["x","y"]);V.addGetterSetter(ke,"shadowOffsetX",0,He());V.addGetterSetter(ke,"shadowOffsetY",0,He());V.addGetterSetter(ke,"fillPatternImage");V.addGetterSetter(ke,"fill",void 0,US());V.addGetterSetter(ke,"fillPatternX",0,He());V.addGetterSetter(ke,"fillPatternY",0,He());V.addGetterSetter(ke,"fillLinearGradientColorStops");V.addGetterSetter(ke,"strokeLinearGradientColorStops");V.addGetterSetter(ke,"fillRadialGradientStartRadius",0);V.addGetterSetter(ke,"fillRadialGradientEndRadius",0);V.addGetterSetter(ke,"fillRadialGradientColorStops");V.addGetterSetter(ke,"fillPatternRepeat","repeat");V.addGetterSetter(ke,"fillEnabled",!0);V.addGetterSetter(ke,"strokeEnabled",!0);V.addGetterSetter(ke,"shadowEnabled",!0);V.addGetterSetter(ke,"dashEnabled",!0);V.addGetterSetter(ke,"strokeScaleEnabled",!0);V.addGetterSetter(ke,"fillPriority","color");V.addComponentsGetterSetter(ke,"fillPatternOffset",["x","y"]);V.addGetterSetter(ke,"fillPatternOffsetX",0,He());V.addGetterSetter(ke,"fillPatternOffsetY",0,He());V.addComponentsGetterSetter(ke,"fillPatternScale",["x","y"]);V.addGetterSetter(ke,"fillPatternScaleX",1,He());V.addGetterSetter(ke,"fillPatternScaleY",1,He());V.addComponentsGetterSetter(ke,"fillLinearGradientStartPoint",["x","y"]);V.addComponentsGetterSetter(ke,"strokeLinearGradientStartPoint",["x","y"]);V.addGetterSetter(ke,"fillLinearGradientStartPointX",0);V.addGetterSetter(ke,"strokeLinearGradientStartPointX",0);V.addGetterSetter(ke,"fillLinearGradientStartPointY",0);V.addGetterSetter(ke,"strokeLinearGradientStartPointY",0);V.addComponentsGetterSetter(ke,"fillLinearGradientEndPoint",["x","y"]);V.addComponentsGetterSetter(ke,"strokeLinearGradientEndPoint",["x","y"]);V.addGetterSetter(ke,"fillLinearGradientEndPointX",0);V.addGetterSetter(ke,"strokeLinearGradientEndPointX",0);V.addGetterSetter(ke,"fillLinearGradientEndPointY",0);V.addGetterSetter(ke,"strokeLinearGradientEndPointY",0);V.addComponentsGetterSetter(ke,"fillRadialGradientStartPoint",["x","y"]);V.addGetterSetter(ke,"fillRadialGradientStartPointX",0);V.addGetterSetter(ke,"fillRadialGradientStartPointY",0);V.addComponentsGetterSetter(ke,"fillRadialGradientEndPoint",["x","y"]);V.addGetterSetter(ke,"fillRadialGradientEndPointX",0);V.addGetterSetter(ke,"fillRadialGradientEndPointY",0);V.addGetterSetter(ke,"fillPatternRotation",0);V.addGetterSetter(ke,"fillRule",void 0,qc());V.backCompat(ke,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const AD="#",RD="beforeDraw",OD="draw",tx=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],ND=tx.length;let Vc=class extends fi{constructor(e){super(e),this.canvas=new hu,this.hitCanvas=new q2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ge.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ge.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ge.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ge.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ge.prototype.remove.call(this),e&&e.parentNode&&te._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&te.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ge.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){te.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){te.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,te.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<ND;i++){const l=tx[i],u=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),f=u.shape;if(f)return f;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const l=te._rgbToHex(a[0],a[1],a[2]),u=V0[AD+l];return u?{shape:u}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas();return this._fire(RD,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),fi.prototype.drawScene.call(this,l,n,a),this._fire(OD,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),fi.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){te.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return te.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return te.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Vc.prototype.nodeType="Layer";Kn(Vc);V.addGetterSetter(Vc,"imageSmoothingEnabled",!0);V.addGetterSetter(Vc,"clearBeforeDraw",!0);V.addGetterSetter(Vc,"hitGraphEnabled",!0,xs());class Z2 extends Vc{constructor(e){super(e),this.listening(!1),te.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Z2.prototype.nodeType="FastLayer";Kn(Z2);let Gf=class extends fi{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&te.throw("You may only add groups and shapes to groups.")}};Gf.prototype.nodeType="Group";Kn(Gf);const ey=(function(){return Dc.performance&&Dc.performance.now?function(){return Dc.performance.now()}:function(){return new Date().getTime()}})();class Pi{constructor(e,n){this.id=Pi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:ey(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Pi.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=ey(),Pi._addAnimation(this),this}stop(){return Pi._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let l=0;l<i;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],l=i.layers,u=i.func;i._updateFrameObject(ey());const f=l.length;let g;if(u?g=u.call(i,i.frame)!==!1:g=!0,!!g)for(let p=0;p<f;p++){const v=l[p];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=Pi;e.animations.length?(e._runFrames(),te.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,te.requestAnimFrame(this._animationLoop))}}Pi.animations=[];Pi.animIdCounter=0;Pi.animRunning=!1;const MD={node:1,duration:1,easing:1,onFinish:1,yoyo:1},DD=1,r5=2,i5=3,s5=["fill","stroke","shadowColor"];let jD=0;class zD{constructor(e,n,a,i,l,u,f){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=r5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=i5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===r5?this.setTime(e):this.state===i5&&this.setTime(this.duration-e)}pause(){this.state=DD,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Pn{constructor(e){const n=this,a=e.node,i=a._id,l=e.easing||Y0.Linear,u=!!e.yoyo;let f,g;typeof e.duration>"u"?f=.3:e.duration===0?f=.001:f=e.duration,this.node=a,this._id=jD++;const p=a.getLayer()||(a instanceof qe.Stage?a.getLayers():null);p||te.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Pi(function(){n.tween.onEnterFrame()},p),this.tween=new zD(g,function(v){n._tweenFunc(v)},l,0,1,f*1e3,u),this._addListeners(),Pn.attrs[i]||(Pn.attrs[i]={}),Pn.attrs[i][this._id]||(Pn.attrs[i][this._id]={}),Pn.tweens[i]||(Pn.tweens[i]={});for(g in e)MD[g]===void 0&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let l,u,f,g,p;const v=Pn.tweens[i][e];v&&delete Pn.attrs[i][v][e];let _=a.getAttr(e);if(te._isArray(n))if(l=[],u=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(g=_,_=te._prepareArrayForTween(_,n,a.closed())):(f=n,n=te._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let S=0;S<u;S++)if(S%2===0)l.push(n[S]-_[S]);else{const C=te.colorToRGBA(_[S]);p=te.colorToRGBA(n[S]),_[S]=C,l.push({r:p.r-C.r,g:p.g-C.g,b:p.b-C.b,a:p.a-C.a})}else for(let S=0;S<u;S++)l.push(n[S]-_[S]);else s5.indexOf(e)!==-1?(_=te.colorToRGBA(_),p=te.colorToRGBA(n),l={r:p.r-_.r,g:p.g-_.g,b:p.b-_.b,a:p.a-_.a}):l=n-_;Pn.attrs[i][this._id][e]={start:_,diff:l,end:n,trueEnd:f,trueStart:g},Pn.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=Pn.attrs[n._id][this._id];let i,l,u,f,g,p,v,_;for(i in a){if(l=a[i],u=l.start,f=l.diff,_=l.end,te._isArray(u))if(g=[],v=Math.max(u.length,_.length),i.indexOf("fill")===0)for(p=0;p<v;p++)p%2===0?g.push((u[p]||0)+f[p]*e):g.push("rgba("+Math.round(u[p].r+f[p].r*e)+","+Math.round(u[p].g+f[p].g*e)+","+Math.round(u[p].b+f[p].b*e)+","+(u[p].a+f[p].a*e)+")");else for(p=0;p<v;p++)g.push((u[p]||0)+f[p]*e);else s5.indexOf(i)!==-1?g="rgba("+Math.round(u.r+f.r*e)+","+Math.round(u.g+f.g*e)+","+Math.round(u.b+f.b*e)+","+(u.a+f.a*e)+")":g=u+f*e;n.setAttr(i,g)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Pn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Pn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=Pn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete Pn.tweens[e][i];delete Pn.attrs[e][n],Pn.tweens[e]&&(Object.keys(Pn.tweens[e]).length===0&&delete Pn.tweens[e],Object.keys(Pn.attrs[e]).length===0&&delete Pn.attrs[e])}}Pn.attrs={};Pn.tweens={};Ge.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Pn(t).play()};const Y0={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-u)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-Y0.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?Y0.BounceEaseIn(t*2,0,n,a)*.5+e:Y0.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},qf=te._assign(qe,{Util:te,Transform:di,Node:Ge,Container:fi,Stage:Mv,stages:q0,Layer:Vc,FastLayer:Z2,Group:Gf,DD:gn,Shape:ke,shapes:V0,Animation:Pi,Tween:Pn,Easings:Y0,Context:Ov,Canvas:G2});class uo extends ke{_sceneFunc(e){const n=qe.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=qe.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(i,Math.PI)),u=1,f=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),g=Math.sin(Math.min(i,Math.PI/2)),p=l*(l>0?e:n),v=u*n,_=f*(f>0?e:n),S=g*(g>0?n:e);return{x:p,y:a?-1*S:_,width:v-p,height:S-_}}}uo.prototype._centroid=!0;uo.prototype.className="Arc";uo.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Kn(uo);V.addGetterSetter(uo,"innerRadius",0,He());V.addGetterSetter(uo,"outerRadius",0,He());V.addGetterSetter(uo,"angle",0,He());V.addGetterSetter(uo,"clockwise",!1,xs());function Wy(t,e,n,a,i,l,u){const f=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),g=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-a,2)),p=u*f/(f+g),v=u*g/(f+g),_=n-p*(i-t),S=a-p*(l-e),C=n+v*(i-t),T=a+v*(l-e);return[_,S,C,T]}function l5(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const l=Wy(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[i]),a.push(t[i+1]),a.push(l[2]),a.push(l[3]))}return a}let co=class extends ke{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),l=this.closed(),u=this.bezier();if(!a)return;let f=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const g=this.getTensionPoints(),p=g.length;for(f=l?0:4,l||e.quadraticCurveTo(g[0],g[1],g[2],g[3]);f<p-2;)e.bezierCurveTo(g[f++],g[f++],g[f++],g[f++],g[f++],g[f++]);l||e.quadraticCurveTo(g[p-2],g[p-1],n[a-2],n[a-1])}else if(u)for(f=2;f<a;)e.bezierCurveTo(n[f++],n[f++],n[f++],n[f++],n[f++],n[f++]);else for(f=2;f<a;f+=2)e.lineTo(n[f],n[f+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l5(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=Wy(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=Wy(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=l5(e,a);return[i[2],i[3]].concat(u).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let g=0;g<e.length/2;g++)u=e[g*2],f=e[g*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);return{x:n,y:i,width:a-n,height:l-i}}};co.prototype.className="Line";co.prototype._attrsAffectingSize=["points","bezier","tension"];Kn(co);V.addGetterSetter(co,"closed",!1);V.addGetterSetter(co,"bezier",!1);V.addGetterSetter(co,"tension",0,He());V.addGetterSetter(co,"points",[],QM());const kD=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],UD=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],LD=[[1],[1,1],[1,2,1],[1,3,3,1]],o5=(t,e,n)=>{let a,i;const u=n/2;a=0;for(let f=0;f<20;f++)i=u*kD[20][f]+u,a+=UD[20][f]*PD(t,e,i);return u*a},u5=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],u=2*e[1]-2*e[0],f=4*(a*a+i*i),g=4*(a*l+i*u),p=l*l+u*u;if(f===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=g/(2*f),_=p/f,S=n+v,C=_-v*v,T=S*S+C>0?Math.sqrt(S*S+C):0,R=v*v+C>0?Math.sqrt(v*v+C):0,O=v+Math.sqrt(v*v+C)!==0?C*Math.log(Math.abs((S+T)/(v+R))):0;return Math.sqrt(f)/2*(S*T-v*R+O)};function PD(t,e,n){const a=Jy(1,n,t),i=Jy(1,n,e),l=a*a+i*i;return Math.sqrt(l)}const Jy=(t,e,n)=>{const a=n.length-1;let i,l;if(a===0)return 0;if(t===0){l=0;for(let u=0;u<=a;u++)l+=LD[a][u]*Math.pow(1-e,a-u)*Math.pow(e,u)*n[u];return l}else{i=new Array(a);for(let u=0;u<a;u++)i[u]=a*(n[u+1]-n[u]);return Jy(t-1,e,i)}},c5=(t,e,n)=>{let a=1,i=t/e,l=(t-n(i))/e,u=0;for(;a>.001;){const f=n(i+l),g=Math.abs(t-f)/e;if(g<a)a=g,i+=l;else{const p=n(i-l),v=Math.abs(t-p)/e;v<a?(a=v,i-=l):l/=2}if(u++,u>500)break}return i};let Bi=class Vr extends ke{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Vr.parsePathData(this.data()),this.pathLength=Vr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const l=n[i].command,u=n[i].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const f=u[0],g=u[1],p=u[2],v=u[3],_=u[4],S=u[5],C=u[6],T=u[7],R=p>v?p:v,O=p>v?1:p/v,M=p>v?v/p:1;e.translate(f,g),e.rotate(C),e.scale(O,M),e.arc(0,0,R,_,_+S,1-T),e.scale(1/O,1/M),e.rotate(-C),e.translate(-f,-g);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(g){if(g.command==="A"){const p=g.points[4],v=g.points[5],_=g.points[4]+v;let S=Math.PI/180;if(Math.abs(p-_)<S&&(S=Math.abs(p-_)),v<0)for(let C=p-S;C>_;C-=S){const T=Vr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}else for(let C=p+S;C<_;C+=S){const T=Vr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}}else if(g.command==="C")for(let p=0;p<=1;p+=.01){const v=Vr.getPointOnCubicBezier(p,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(v.x,v.y)}else e=e.concat(g.points)});let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let g=0;g<e.length/2;g++)u=e[g*2],f=e[g*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(f)||(i=Math.min(i,f),l=Math.max(l,f));return{x:n,y:i,width:a-n,height:l-i}}getLength(){return this.pathLength}getPointAtLength(e){return Vr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,l=n.length;if(!l)return null;for(;i<l&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===l)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const u=n[i],f=u.points;switch(u.command){case"L":return Vr.getPointOnLine(e,u.start.x,u.start.y,f[0],f[1]);case"C":return Vr.getPointOnCubicBezier(c5(e,Vr.getPathLength(n),R=>o5([u.start.x,f[0],f[2],f[4]],[u.start.y,f[1],f[3],f[5]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return Vr.getPointOnQuadraticBezier(c5(e,Vr.getPathLength(n),R=>u5([u.start.x,f[0],f[2]],[u.start.y,f[1],f[3]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3]);case"A":const g=f[0],p=f[1],v=f[2],_=f[3],S=f[5],C=f[6];let T=f[4];return T+=S*e/u.pathLength,Vr.getPointOnEllipticalArc(g,p,v,_,T,C)}return null}static getPointOnLine(e,n,a,i,l,u,f){u=u??n,f=f??a;const g=this.getLineLength(n,a,i,l);if(g<1e-10)return{x:n,y:a};if(i===n)return{x:u,y:f+(l>a?e:-e)};const p=(l-a)/(i-n),v=Math.sqrt(e*e/(1+p*p))*(i<n?-1:1),_=p*v;if(Math.abs(f-a-p*(u-n))<1e-10)return{x:u+v,y:f+_};const S=((u-n)*(i-n)+(f-a)*(l-a))/(g*g),C=n+S*(i-n),T=a+S*(l-a),R=this.getLineLength(u,f,C,T),O=Math.sqrt(e*e-R*R),M=Math.sqrt(O*O/(1+p*p))*(i<n?-1:1),j=p*M;return{x:C+M,y:T+j}}static getPointOnCubicBezier(e,n,a,i,l,u,f,g,p){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function C(O){return(1-O)*(1-O)*(1-O)}const T=g*v(e)+u*_(e)+i*S(e)+n*C(e),R=p*v(e)+f*_(e)+l*S(e)+a*C(e);return{x:T,y:R}}static getPointOnQuadraticBezier(e,n,a,i,l,u,f){function g(C){return C*C}function p(C){return 2*C*(1-C)}function v(C){return(1-C)*(1-C)}const _=u*g(e)+i*p(e)+n*v(e),S=f*g(e)+l*p(e)+a*v(e);return{x:_,y:S}}static getPointOnEllipticalArc(e,n,a,i,l,u){const f=Math.cos(u),g=Math.sin(u),p={x:a*Math.cos(l),y:i*Math.sin(l)};return{x:e+(p.x*f-p.y*g),y:n+(p.x*g+p.y*f)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const i=n.split("|"),l=[],u=[];let f=0,g=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<i.length;_++){let S=i[_],C=S.charAt(0);for(S=S.slice(1),u.length=0;v=p.exec(S);)u.push(v[0]);let T=[],R=C==="A"||C==="a"?0:-1;for(let O=0,M=u.length;O<M;O++){const j=u[O];if(j==="00"){T.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),T.push(parseFloat(j.slice(2))),R+=3,R>=7&&(R-=7);continue}if(j==="11"||j==="10"||j==="01"){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseFloat(j.slice(1))),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z)}}for(;T.length>0&&!isNaN(T[0]);){let O="",M=[];const j=f,z=g;let U,H,L,Z,$,ie,be,Re,le,ye;switch(C){case"l":f+=T.shift(),g+=T.shift(),O="L",M.push(f,g);break;case"L":f=T.shift(),g=T.shift(),M.push(f,g);break;case"m":const ge=T.shift(),de=T.shift();if(f+=ge,g+=de,O="M",l.length>2&&l[l.length-1].command==="z"){for(let B=l.length-2;B>=0;B--)if(l[B].command==="M"){f=l[B].points[0]+ge,g=l[B].points[1]+de;break}}M.push(f,g),C="l";break;case"M":f=T.shift(),g=T.shift(),O="M",M.push(f,g),C="L";break;case"h":f+=T.shift(),O="L",M.push(f,g);break;case"H":f=T.shift(),O="L",M.push(f,g);break;case"v":g+=T.shift(),O="L",M.push(f,g);break;case"V":g=T.shift(),O="L",M.push(f,g);break;case"C":M.push(T.shift(),T.shift(),T.shift(),T.shift()),f=T.shift(),g=T.shift(),M.push(f,g);break;case"c":M.push(f+T.shift(),g+T.shift(),f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="C",M.push(f,g);break;case"S":H=f,L=g,U=l[l.length-1],U.command==="C"&&(H=f+(f-U.points[2]),L=g+(g-U.points[3])),M.push(H,L,T.shift(),T.shift()),f=T.shift(),g=T.shift(),O="C",M.push(f,g);break;case"s":H=f,L=g,U=l[l.length-1],U.command==="C"&&(H=f+(f-U.points[2]),L=g+(g-U.points[3])),M.push(H,L,f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="C",M.push(f,g);break;case"Q":M.push(T.shift(),T.shift()),f=T.shift(),g=T.shift(),M.push(f,g);break;case"q":M.push(f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="Q",M.push(f,g);break;case"T":H=f,L=g,U=l[l.length-1],U.command==="Q"&&(H=f+(f-U.points[0]),L=g+(g-U.points[1])),f=T.shift(),g=T.shift(),O="Q",M.push(H,L,f,g);break;case"t":H=f,L=g,U=l[l.length-1],U.command==="Q"&&(H=f+(f-U.points[0]),L=g+(g-U.points[1])),f+=T.shift(),g+=T.shift(),O="Q",M.push(H,L,f,g);break;case"A":Z=T.shift(),$=T.shift(),ie=T.shift(),be=T.shift(),Re=T.shift(),le=f,ye=g,f=T.shift(),g=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(le,ye,f,g,be,Re,Z,$,ie);break;case"a":Z=T.shift(),$=T.shift(),ie=T.shift(),be=T.shift(),Re=T.shift(),le=f,ye=g,f+=T.shift(),g+=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(le,ye,f,g,be,Re,Z,$,ie);break}l.push({command:O||C,points:M,start:{x:j,y:z},pathLength:this.calcLength(j,z,O||C,M)})}(C==="z"||C==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,i){let l,u,f,g;const p=Vr;switch(a){case"L":return p.getLineLength(e,n,i[0],i[1]);case"C":return o5([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return u5([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":l=0;const v=i[4],_=i[5],S=i[4]+_;let C=Math.PI/180;if(Math.abs(v-S)<C&&(C=Math.abs(v-S)),u=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),_<0)for(g=v-C;g>S;g-=C)f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;else for(g=v+C;g<S;g+=C)f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;return f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],S,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,i,l,u,f,g,p){const v=p*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-i)/2,S=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-i)/2,C=_*_/(f*f)+S*S/(g*g);C>1&&(f*=Math.sqrt(C),g*=Math.sqrt(C));let T=Math.sqrt((f*f*(g*g)-f*f*(S*S)-g*g*(_*_))/(f*f*(S*S)+g*g*(_*_)));l===u&&(T*=-1),isNaN(T)&&(T=0);const R=T*f*S/g,O=T*-g*_/f,M=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,j=(n+i)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(be){return Math.sqrt(be[0]*be[0]+be[1]*be[1])},U=function(be,Re){return(be[0]*Re[0]+be[1]*Re[1])/(z(be)*z(Re))},H=function(be,Re){return(be[0]*Re[1]<be[1]*Re[0]?-1:1)*Math.acos(U(be,Re))},L=H([1,0],[(_-R)/f,(S-O)/g]),Z=[(_-R)/f,(S-O)/g],$=[(-1*_-R)/f,(-1*S-O)/g];let ie=H(Z,$);return U(Z,$)<=-1&&(ie=Math.PI),U(Z,$)>=1&&(ie=0),u===0&&ie>0&&(ie=ie-2*Math.PI),u===1&&ie<0&&(ie=ie+2*Math.PI),[M,j,f,g,L,ie,v,u]}};Bi.prototype.className="Path";Bi.prototype._attrsAffectingSize=["data"];Kn(Bi);V.addGetterSetter(Bi,"data");let Yc=class extends co{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const l=this.tension()!==0&&a.length>4;l&&(i=this.getTensionPoints());const u=this.pointerLength(),f=a.length;let g,p;if(l){const S=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[f-2],a[f-1]],C=Bi.calcLength(i[i.length-4],i[i.length-3],"C",S),T=Bi.getPointOnQuadraticBezier(Math.min(1,1-u/C),S[0],S[1],S[2],S[3],S[4],S[5]);g=a[f-2]-T.x,p=a[f-1]-T.y}else g=a[f-2]-a[f-4],p=a[f-1]-a[f-3];const v=(Math.atan2(p,g)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[f-2],a[f-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(g=(i[0]+i[2])/2-a[0],p=(i[1]+i[3])/2-a[1]):(g=a[2]-a[0],p=a[3]-a[1]),e.rotate((Math.atan2(-p,-g)+n)%n),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Yc.prototype.className="Arrow";Kn(Yc);V.addGetterSetter(Yc,"pointerLength",10,He());V.addGetterSetter(Yc,"pointerWidth",10,He());V.addGetterSetter(Yc,"pointerAtBeginning",!1);V.addGetterSetter(Yc,"pointerAtEnding",!0);let If=class extends ke{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};If.prototype._centroid=!0;If.prototype.className="Circle";If.prototype._attrsAffectingSize=["radius"];Kn(If);V.addGetterSetter(If,"radius",0,He());class Su extends ke{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Su.prototype.className="Ellipse";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["radiusX","radiusY"];Kn(Su);V.addComponentsGetterSetter(Su,"radius",["x","y"]);V.addGetterSetter(Su,"radiusX",0,He());V.addGetterSetter(Su,"radiusY",0,He());class Vi extends ke{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),l=this.attrs.image;let u;if(l){const f=this.attrs.cropWidth,g=this.attrs.cropHeight;f&&g?u=[l,this.cropX(),this.cropY(),f,g,0,0,n,a]:u=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?te.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(i&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?te.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const i=te.createImageElement();i.onload=function(){const l=new Vi({image:i});n(l)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}}Vi.prototype.className="Image";Kn(Vi);V.addGetterSetter(Vi,"cornerRadius",0,Nv(4));V.addGetterSetter(Vi,"image");V.addComponentsGetterSetter(Vi,"crop",["x","y","width","height"]);V.addGetterSetter(Vi,"cropX",0,He());V.addGetterSetter(Vi,"cropY",0,He());V.addGetterSetter(Vi,"cropWidth",0,He());V.addGetterSetter(Vi,"cropHeight",0,He());const nx=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],BD="Change.konva",HD="none",e2="up",t2="right",n2="down",a2="left",GD=nx.length;let I2=class extends Gf{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<GD;a++)e.on(nx[a]+BD,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,l,u,f,g,p;if(e&&n){switch(a=e.width(),i=e.height(),l=n.pointerDirection(),u=n.pointerWidth(),p=n.pointerHeight(),f=0,g=0,l){case e2:f=a/2,g=-1*p;break;case t2:f=a+u,g=i/2;break;case n2:f=a/2,g=i+p;break;case a2:f=-1*u,g=i/2;break}n.setAttrs({x:-1*f,y:-1*g,width:a,height:i}),e.setAttrs({x:-1*f,y:-1*g})}}};I2.prototype.className="Label";Kn(I2);class Zc extends ke{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),f=this.cornerRadius();let g=0,p=0,v=0,_=0;typeof f=="number"?g=p=v=_=Math.min(f,n/2,a/2):(g=Math.min(f[0]||0,n/2,a/2),p=Math.min(f[1]||0,n/2,a/2),_=Math.min(f[2]||0,n/2,a/2),v=Math.min(f[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(g,0),i===e2&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+l)/2,0)),e.lineTo(n-p,0),e.arc(n-p,p,p,Math.PI*3/2,0,!1),i===t2&&(e.lineTo(n,(a-u)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),i===n2&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),i===a2&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),f=this.height();return l===e2?(n-=i,f+=i):l===n2?f+=i:l===a2?(e-=a*1.5,u+=a):l===t2&&(u+=a*1.5),{x:e,y:n,width:u,height:f}}}Zc.prototype.className="Tag";Kn(Zc);V.addGetterSetter(Zc,"pointerDirection",HD);V.addGetterSetter(Zc,"pointerWidth",0,He());V.addGetterSetter(Zc,"pointerHeight",0,He());V.addGetterSetter(Zc,"cornerRadius",0,Nv(4));let pg=class extends ke{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?te.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};pg.prototype.className="Rect";Kn(pg);V.addGetterSetter(pg,"cornerRadius",0,Nv(4));class xu extends ke{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)te.drawRoundedPolygonPath(e,n,i,a,l);else{e.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)e.lineTo(n[u].x,n[u].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,l=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y)}),{x:n,y:i,width:a-n,height:l-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}xu.prototype.className="RegularPolygon";xu.prototype._centroid=!0;xu.prototype._attrsAffectingSize=["radius"];Kn(xu);V.addGetterSetter(xu,"radius",0,He());V.addGetterSetter(xu,"sides",0,He());V.addGetterSetter(xu,"cornerRadius",0,Nv(4));const d5=Math.PI*2;class Ic extends ke{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,d5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),d5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ic.prototype.className="Ring";Ic.prototype._centroid=!0;Ic.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Kn(Ic);V.addGetterSetter(Ic,"innerRadius",0,He());V.addGetterSetter(Ic,"outerRadius",0,He());class yl extends ke{constructor(e){super(e),this._updated=!0,this.anim=new Pi(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+0],g=l[i+1],p=l[i+2],v=l[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,p,v),e.closePath(),e.fillStrokeShape(this)),_)if(u){const S=u[n],C=a*2;e.drawImage(_,f,g,p,v,S[C+0],S[C+1],p,v)}else e.drawImage(_,f,g,p,v,0,0,p,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+2],g=l[i+3];if(e.beginPath(),u){const p=u[n],v=a*2;e.rect(p[v+0],p[v+1],f,g)}else e.rect(0,0,f,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],l=i.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}yl.prototype.className="Sprite";Kn(yl);V.addGetterSetter(yl,"animation");V.addGetterSetter(yl,"animations");V.addGetterSetter(yl,"frameOffsets");V.addGetterSetter(yl,"image");V.addGetterSetter(yl,"frameIndex",0,He());V.addGetterSetter(yl,"frameRate",17,He());V.backCompat(yl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class wu extends ke{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<i*2;l++){const u=l%2===0?a:n,f=u*Math.sin(l*Math.PI/i),g=-1*u*Math.cos(l*Math.PI/i);e.lineTo(f,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}wu.prototype.className="Star";wu.prototype._centroid=!0;wu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Kn(wu);V.addGetterSetter(wu,"numPoints",5,He());V.addGetterSetter(wu,"innerRadius",0,He());V.addGetterSetter(wu,"outerRadius",0,He());function lu(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=i[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const vf="auto",qD="center",ax="inherit",yf="justify",VD="Change.konva",YD="2d",f5="-",rx="left",ZD="text",ID="Text",XD="top",KD="bottom",h5="middle",ix="normal",FD="px ",vp=" ",QD="right",g5="rtl",$D="word",WD="char",m5="none",ty="",sx=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],JD=sx.length;function ej(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let yp;function ny(){return yp||(yp=te.createCanvasElement().getContext(YD),yp)}function tj(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function nj(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function aj(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Vn=class extends ke{constructor(e){super(aj(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<JD;n++)this.on(sx[n]+VD,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,l=i.length;if(!this.text())return;let u=this.padding(),f=this.fontSize(),g=this.lineHeight()*f,p=this.verticalAlign(),v=this.direction(),_=0,S=this.align(),C=this.getWidth(),T=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),M=this.textDecoration(),j=M.indexOf("underline")!==-1,z=M.indexOf("line-through")!==-1,U;v=v===ax?e.direction:v;let H=g/2,L=h5;if(!qe.legacyTextRendering){const Z=this.measureSize("M");L="alphabetic";const $=(n=Z.fontBoundingBoxAscent)!==null&&n!==void 0?n:Z.actualBoundingBoxAscent,ie=(a=Z.fontBoundingBoxDescent)!==null&&a!==void 0?a:Z.actualBoundingBoxDescent;H=($-ie)/2+g/2}for(v===g5&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",L),e.setAttr("textAlign",rx),p===h5?_=(this.getHeight()-l*g-u*2)/2:p===KD&&(_=this.getHeight()-l*g-u*2),e.translate(u,_+u),U=0;U<l;U++){let Z=0,$=0;const ie=i[U],be=ie.text,Re=ie.width,le=ie.lastInParagraph;if(e.save(),S===QD?Z+=C-Re-u*2:S===qD&&(Z+=(C-Re-u*2)/2),j){e.save(),e.beginPath();const ye=qe.legacyTextRendering?Math.round(f/2):Math.round(f/4),ge=Z,de=H+$+ye;e.moveTo(ge,de);const B=S===yf&&!le?C-u*2:Re;e.lineTo(ge+Math.round(B),de),e.lineWidth=f/15;const ae=this._getLinearGradient();e.strokeStyle=ae||O,e.stroke(),e.restore()}if(v!==g5&&(T!==0||S===yf||R)){const ye=be.split(" ").length-1,ge=lu(be);for(let de=0;de<ge.length;de++){const B=ge[de];if(B===" "&&!le&&S===yf&&(Z+=(C-u*2-Re)/ye),this._partialTextX=Z,this._partialTextY=H+$,this._partialText=B,R){e.save();const Q=i.slice(0,U).reduce((G,ne)=>G+lu(ne.text).length,0),se=de+Q;R({char:B,index:se,x:Z,y:H+$,lineIndex:U,column:de,isLastInLine:le,width:this.measureSize(B).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),Z+=this.measureSize(B).width+T}}else T!==0&&e.setAttr("letterSpacing",`${T}px`),this._partialTextX=Z,this._partialTextY=H+$,this._partialText=be,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const ye=qe.legacyTextRendering?0:-Math.round(f/4),ge=S===yf?0:Z;e.moveTo(ge,H+$+ye);const de=S===yf&&!le?C-u*2:Re;e.lineTo(ge+Math.round(de),H+$+ye),e.lineWidth=f/15;const B=this._getLinearGradient();e.strokeStyle=B||O,e.stroke(),e.restore()}e.restore(),l>1&&(H+=g)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=te._isString(e)?e:e==null?"":e+"";return this._setAttr(ZD,n),this}getWidth(){return this.attrs.width===vf||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===vf||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return te.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,l,u,f,g,p,v,_,S;let C=ny(),T=this.fontSize(),R;C.save(),C.font=this._getContextFont(),R=C.measureText(e),C.restore();const O=T/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(u=R.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(f=R.emHeightAscent)!==null&&f!==void 0?f:100*O,emHeightDescent:(g=R.emHeightDescent)!==null&&g!==void 0?g:-20*O,fontBoundingBoxAscent:(p=R.fontBoundingBoxAscent)!==null&&p!==void 0?p:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:T}}_getContextFont(){return this.fontStyle()+vp+this.fontVariant()+vp+(this.fontSize()+FD)+ej(this.fontFamily())}_addTextLine(e){this.align()===yf&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return ny().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,l=this.attrs.width,u=this.attrs.height,f=l!==vf&&l!==void 0,g=u!==vf&&u!==void 0,p=this.padding(),v=l-p*2,_=u-p*2,S=0,C=this.wrap(),T=C!==m5,R=C!==WD&&T,O=this.ellipsis();this.textArr=[],ny().font=this._getContextFont();const M=O?this._getTextWidth(ty):0;for(let j=0,z=e.length;j<z;++j){let U=e[j],H=this._getTextWidth(U);if(f&&H>v)for(;U.length>0;){let L=0,Z=lu(U).length,$="",ie=0;for(;L<Z;){const be=L+Z>>>1,Re=lu(U),le=Re.slice(0,be+1).join(""),ye=this._getTextWidth(le);(O&&g&&S+i>_?ye+M:ye)<=v?(L=be+1,$=le,ie=ye):Z=be}if($){if(R){const le=lu(U),ye=lu($),ge=le[ye.length],de=ge===vp||ge===f5;let B;if(de&&ie<=v)B=ye.length;else{const ae=ye.lastIndexOf(vp),Q=ye.lastIndexOf(f5);B=Math.max(ae,Q)+1}B>0&&(L=B,$=le.slice(0,L).join(""),ie=this._getTextWidth($))}if($=$.trimRight(),this._addTextLine($),a=Math.max(a,ie),S+=i,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(U=lu(U).slice(L).join("").trimLeft(),U.length>0&&(H=this._getTextWidth(U),H<=v)){this._addTextLine(U),S+=i,a=Math.max(a,H);break}}else break}else this._addTextLine(U),S+=i,a=Math.max(a,H),this._shouldHandleEllipsis(S)&&j<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&S+i>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,l=i!==vf&&i!==void 0,u=this.padding(),f=i-u*2;return!(this.wrap()!==m5)||l&&e+a>f}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==vf&&e!==void 0,a=this.padding(),i=e-a*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!l||(n&&(this._getTextWidth(u.text+ty)<i||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+ty))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Vn.prototype._fillFunc=tj;Vn.prototype._strokeFunc=nj;Vn.prototype.className=ID;Vn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Kn(Vn);V.overWriteSetter(Vn,"width",V2());V.overWriteSetter(Vn,"height",V2());V.addGetterSetter(Vn,"direction",ax);V.addGetterSetter(Vn,"fontFamily","Arial");V.addGetterSetter(Vn,"fontSize",12,He());V.addGetterSetter(Vn,"fontStyle",ix);V.addGetterSetter(Vn,"fontVariant",ix);V.addGetterSetter(Vn,"padding",0,He());V.addGetterSetter(Vn,"align",rx);V.addGetterSetter(Vn,"verticalAlign",XD);V.addGetterSetter(Vn,"lineHeight",1,He());V.addGetterSetter(Vn,"wrap",$D);V.addGetterSetter(Vn,"ellipsis",!1,xs());V.addGetterSetter(Vn,"letterSpacing",0,He());V.addGetterSetter(Vn,"text","",qc());V.addGetterSetter(Vn,"textDecoration","");V.addGetterSetter(Vn,"charRenderFunc",void 0);const rj="",lx="normal";function ox(t){t.fillText(this.partialText,0,0)}function ux(t){t.strokeText(this.partialText,0,0)}class Ea extends ke{constructor(e){super(e),this.dummyCanvas=te.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Bi.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Bi.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Bi.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let u=0;u<l.length;u++){e.save();const f=l[u].p0;e.translate(f.x,f.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return te.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Vn.prototype.setText.call(this,e)}_getContextFont(){return Vn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=lu(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),u=this.align(),f=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let p=0;u==="center"&&(p=Math.max(0,this.pathLength/2-g/2)),u==="right"&&(p=Math.max(0,this.pathLength-g));let v=p;for(let _=0;_<n.length;_++){const S=this._getPointAtLength(v);if(!S)return;const C=n[_].char;let T=n[_].width+l;if(C===" "&&u==="justify"){const U=this.text().split(" ").length-1;T+=(this.pathLength-g)/U}const R=this._getPointAtLength(v+T);if(!R)return;const O=Bi.getLineLength(S.x,S.y,R.x,R.y);let M=0;if(f)try{M=f(n[_-1].char,C)*this.fontSize()}catch{M=0}S.x+=M,R.x+=M,this.textWidth+=M;const j=Bi.getPointOnLine(M+O/2,S.x,S.y,R.x,R.y),z=Math.atan2(R.y-S.y,R.x-S.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:e[_],rotation:z,p0:S,p1:R}),v+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(p){e.push(p.p0.x),e.push(p.p0.y),e.push(p.p1.x),e.push(p.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,l=e[1]||0,u,f;for(let p=0;p<e.length/2;p++)u=e[p*2],f=e[p*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);const g=this.fontSize();return{x:n-g/2,y:i-g/2,width:a-n+g,height:l-i+g}}destroy(){return te.releaseCanvas(this.dummyCanvas),super.destroy()}}Ea.prototype._fillFunc=ox;Ea.prototype._strokeFunc=ux;Ea.prototype._fillFuncHit=ox;Ea.prototype._strokeFuncHit=ux;Ea.prototype.className="TextPath";Ea.prototype._attrsAffectingSize=["text","fontSize","data"];Kn(Ea);V.addGetterSetter(Ea,"data");V.addGetterSetter(Ea,"fontFamily","Arial");V.addGetterSetter(Ea,"fontSize",12,He());V.addGetterSetter(Ea,"fontStyle",lx);V.addGetterSetter(Ea,"align","left");V.addGetterSetter(Ea,"letterSpacing",0,He());V.addGetterSetter(Ea,"textBaseline","middle");V.addGetterSetter(Ea,"fontVariant",lx);V.addGetterSetter(Ea,"text",rj);V.addGetterSetter(Ea,"textDecoration","");V.addGetterSetter(Ea,"kerningFunc",void 0);const cx="tr-konva",ij=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${cx}`).join(" "),p5="nodesRect",sj=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],lj={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},oj="ontouchstart"in qe._global;function uj(t,e,n){if(t==="rotater")return n;e+=te.degToRad(lj[t]||0);const a=(te.radToDeg(e)%360+360)%360;return te._inRange(a,315+22.5,360)||te._inRange(a,0,22.5)?"ns-resize":te._inRange(a,45-22.5,45+22.5)?"nesw-resize":te._inRange(a,90-22.5,90+22.5)?"ew-resize":te._inRange(a,135-22.5,135+22.5)?"nwse-resize":te._inRange(a,180-22.5,180+22.5)?"ns-resize":te._inRange(a,225-22.5,225+22.5)?"nesw-resize":te._inRange(a,270-22.5,270+22.5)?"ew-resize":te._inRange(a,315-22.5,315+22.5)?"nwse-resize":(te.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const ov=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function cj(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function dx(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function dj(t,e){const n=cj(t);return dx(t,e,n)}function fj(t,e,n){let a=e;for(let i=0;i<t.length;i++){const l=qe.getAngle(t[i]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=l)}return a}let r2=0,en=class extends Gf{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ij,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return te.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return cx+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(te.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const u=i._attrsAffectingSize.map(f=>f+"Change."+this._getEventNamespace()).join(" ");i.on(u,l)}i.on(sj.map(u=>u+`.${this._getEventNamespace()}`).join(" "),l),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),l=i.x-n.x,u=i.y-n.y;this.nodes().forEach(f=>{if(f===e||f.isDragging())return;const g=f.getAbsolutePosition();f.setAbsolutePosition({x:g.x+l,y:g.y+u}),f.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p5,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),f=i.x*l.x-e.offsetX()*l.x,g=i.y*l.y-e.offsetY()*l.y,p=(qe.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+f*Math.cos(p)+g*Math.sin(-p),y:u.y+g*Math.cos(p)+f*Math.sin(p),width:i.width*l.x,height:i.height*l.y,rotation:p};return dx(v,-qe.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(p=>{const v=p.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],S=p.getAbsoluteTransform();_.forEach(function(C){const T=S.point(C);n.push(T)})});const a=new di;a.rotate(-qe.getAngle(this.rotation()));let i=1/0,l=1/0,u=-1/0,f=-1/0;n.forEach(function(p){const v=a.point(p);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),a.invert();const g=a.point({x:i,y:l});return{x:g.x,y:g.y,width:u-i,height:f-l,rotation:qe.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ov.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new pg({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:oj?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=qe.getAngle(this.rotation()),l=this.rotateAnchorCursor(),u=uj(e,i,l);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new ke({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),l=i.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*te._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=e.target.getAbsolutePosition(),f=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:f.x-u.x,y:f.y-u.y},r2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){let n,a,i;const l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const f=u.getPointerPosition();let g={x:f.x-this._anchorDragOffset.x,y:f.y-this._anchorDragOffset.y};const p=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(p,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(p.x===v.x&&p.y===v.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=l.x()-j.width/2,a=-l.y()+j.height/2;let z=Math.atan2(-a,n)+Math.PI/2;j.height<0&&(z-=Math.PI);const H=qe.getAngle(this.rotation())+z,L=qe.getAngle(this.rotationSnapTolerance()),$=fj(this.rotationSnaps(),H,L)-j.rotation,ie=dj(j,$);this._fitNodesInto(ie,e);return}const _=this.shiftBehavior();let S;_==="inverted"?S=this.keepRatio()&&!e.shiftKey:_==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let C=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-left").x()>j.x?-1:1,U=this.findOne(".top-left").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-right").x()<j.x?-1:1,U=this.findOne(".top-right").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-a)}var T=l.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(l.y()-j.y,2));const z=j.x<l.x()?-1:1,U=l.y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,l.x(j.x-n),l.y(j.y+a)}T=l.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(l.y()-j.y,2));const z=this.findOne(".bottom-right").x()<j.x?-1:1,U=this.findOne(".bottom-right").y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(C=this.centeredScaling()||e.altKey,C){const j=this.findOne(".top-left"),z=this.findOne(".bottom-right"),U=j.x(),H=j.y(),L=this.getWidth()-z.x(),Z=this.getHeight()-z.y();z.move({x:-U,y:-H}),j.move({x:L,y:Z})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:M,rotation:qe.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();r2--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var l;i._fire("transformend",{evt:e,target:i}),(l=i.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if(te._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(te._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const l=new di;if(l.rotate(qe.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=l.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=l.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:te.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,f=new di;f.translate(a.x,a.y),f.rotate(a.rotation),f.scale(a.width/u,a.height/u);const g=new di,p=e.width/u,v=e.height/u;this.flipEnabled()===!1?(g.translate(e.x,e.y),g.rotate(e.rotation),g.translate(e.width<0?e.width:0,e.height<0?e.height:0),g.scale(Math.abs(p),Math.abs(v))):(g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(p,v));const _=g.multiply(f.invert());this._nodes.forEach(S=>{var C;if(!S.getStage())return;const T=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new di;O.multiply(T.copy().invert()).multiply(_).multiply(T).multiply(R);const M=O.decompose();S.setAttrs(M),(C=S.getLayer())===null||C===void 0||C.batchDraw()}),this.rotation(te._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(te._getRotation(n.rotation));const a=n.width,i=n.height,l=this.enabledAnchors(),u=this.resizeEnabled(),f=this.padding(),g=this.anchorSize(),p=this.find("._anchor");p.forEach(_=>{_.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+f,offsetY:g/2+f,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:g/2+f,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:g/2-f,offsetY:g/2+f,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:g/2+f,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:g/2-f,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:g/2+f,offsetY:g/2-f,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:g/2-f,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:g/2-f,offsetY:g/2-f,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*te._sign(i)-f,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&p.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Gf.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ge.prototype.toObject.call(this)}clone(e){return Ge.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};en.isTransforming=()=>r2>0;function hj(t){return t instanceof Array||te.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){ov.indexOf(e)===-1&&te.warn("Unknown anchor name: "+e+". Available names are: "+ov.join(", "))}),t||[]}en.prototype.className="Transformer";Kn(en);V.addGetterSetter(en,"enabledAnchors",ov,hj);V.addGetterSetter(en,"flipEnabled",!0,xs());V.addGetterSetter(en,"resizeEnabled",!0);V.addGetterSetter(en,"anchorSize",10,He());V.addGetterSetter(en,"rotateEnabled",!0);V.addGetterSetter(en,"rotateLineVisible",!0);V.addGetterSetter(en,"rotationSnaps",[]);V.addGetterSetter(en,"rotateAnchorOffset",50,He());V.addGetterSetter(en,"rotateAnchorCursor","crosshair");V.addGetterSetter(en,"rotationSnapTolerance",5,He());V.addGetterSetter(en,"borderEnabled",!0);V.addGetterSetter(en,"anchorStroke","rgb(0, 161, 255)");V.addGetterSetter(en,"anchorStrokeWidth",1,He());V.addGetterSetter(en,"anchorFill","white");V.addGetterSetter(en,"anchorCornerRadius",0,He());V.addGetterSetter(en,"borderStroke","rgb(0, 161, 255)");V.addGetterSetter(en,"borderStrokeWidth",1,He());V.addGetterSetter(en,"borderDash");V.addGetterSetter(en,"keepRatio",!0);V.addGetterSetter(en,"shiftBehavior","default");V.addGetterSetter(en,"centeredScaling",!1);V.addGetterSetter(en,"ignoreStroke",!1);V.addGetterSetter(en,"padding",0,He());V.addGetterSetter(en,"nodes");V.addGetterSetter(en,"node");V.addGetterSetter(en,"boundBoxFunc");V.addGetterSetter(en,"anchorDragBoundFunc");V.addGetterSetter(en,"anchorStyleFunc");V.addGetterSetter(en,"shouldOverdrawWholeArea",!1);V.addGetterSetter(en,"useSingleNodeRotation",!0);V.backCompat(en,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class fo extends ke{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,qe.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}fo.prototype.className="Wedge";fo.prototype._centroid=!0;fo.prototype._attrsAffectingSize=["radius"];Kn(fo);V.addGetterSetter(fo,"radius",0,He());V.addGetterSetter(fo,"angle",0,He());V.addGetterSetter(fo,"clockwise",!1);V.backCompat(fo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function v5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const gj=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],mj=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function pj(t,e){const n=t.data,a=t.width,i=t.height;let l,u,f,g,p,v,_,S,C,T,R,O,M,j,z,U,H,L,Z,$;const ie=e+e+1,be=a-1,Re=i-1,le=e+1,ye=le*(le+1)/2,ge=new v5,de=gj[e],B=mj[e];let ae=null,Q=ge,se=null,G=null;for(let ne=1;ne<ie;ne++)Q=Q.next=new v5,ne===le&&(ae=Q);Q.next=ge,f=u=0;for(let ne=0;ne<i;ne++){O=M=j=z=g=p=v=_=0,S=le*(U=n[u]),C=le*(H=n[u+1]),T=le*(L=n[u+2]),R=le*(Z=n[u+3]),g+=ye*U,p+=ye*H,v+=ye*L,_+=ye*Z,Q=ge;for(let _e=0;_e<le;_e++)Q.r=U,Q.g=H,Q.b=L,Q.a=Z,Q=Q.next;for(let _e=1;_e<le;_e++)l=u+((be<_e?be:_e)<<2),g+=(Q.r=U=n[l])*($=le-_e),p+=(Q.g=H=n[l+1])*$,v+=(Q.b=L=n[l+2])*$,_+=(Q.a=Z=n[l+3])*$,O+=U,M+=H,j+=L,z+=Z,Q=Q.next;se=ge,G=ae;for(let _e=0;_e<a;_e++)n[u+3]=Z=_*de>>B,Z!==0?(Z=255/Z,n[u]=(g*de>>B)*Z,n[u+1]=(p*de>>B)*Z,n[u+2]=(v*de>>B)*Z):n[u]=n[u+1]=n[u+2]=0,g-=S,p-=C,v-=T,_-=R,S-=se.r,C-=se.g,T-=se.b,R-=se.a,l=f+((l=_e+e+1)<be?l:be)<<2,O+=se.r=n[l],M+=se.g=n[l+1],j+=se.b=n[l+2],z+=se.a=n[l+3],g+=O,p+=M,v+=j,_+=z,se=se.next,S+=U=G.r,C+=H=G.g,T+=L=G.b,R+=Z=G.a,O-=U,M-=H,j-=L,z-=Z,G=G.next,u+=4;f+=a}for(let ne=0;ne<a;ne++){M=j=z=O=p=v=_=g=0,u=ne<<2,S=le*(U=n[u]),C=le*(H=n[u+1]),T=le*(L=n[u+2]),R=le*(Z=n[u+3]),g+=ye*U,p+=ye*H,v+=ye*L,_+=ye*Z,Q=ge;for(let Ee=0;Ee<le;Ee++)Q.r=U,Q.g=H,Q.b=L,Q.a=Z,Q=Q.next;let _e=a;for(let Ee=1;Ee<=e;Ee++)u=_e+ne<<2,g+=(Q.r=U=n[u])*($=le-Ee),p+=(Q.g=H=n[u+1])*$,v+=(Q.b=L=n[u+2])*$,_+=(Q.a=Z=n[u+3])*$,O+=U,M+=H,j+=L,z+=Z,Q=Q.next,Ee<Re&&(_e+=a);u=ne,se=ge,G=ae;for(let Ee=0;Ee<i;Ee++)l=u<<2,n[l+3]=Z=_*de>>B,Z>0?(Z=255/Z,n[l]=(g*de>>B)*Z,n[l+1]=(p*de>>B)*Z,n[l+2]=(v*de>>B)*Z):n[l]=n[l+1]=n[l+2]=0,g-=S,p-=C,v-=T,_-=R,S-=se.r,C-=se.g,T-=se.b,R-=se.a,l=ne+((l=Ee+le)<Re?l:Re)*a<<2,g+=O+=se.r=n[l],p+=M+=se.g=n[l+1],v+=j+=se.b=n[l+2],_+=z+=se.a=n[l+3],se=se.next,S+=U=G.r,C+=H=G.g,T+=L=G.b,R+=Z=G.a,O-=U,M-=H,j-=L,z-=Z,G=G.next,u+=a}}const vj=function(e){const n=Math.round(this.blurRadius());n>0&&pj(e,n)};V.addGetterSetter(Ge,"blurRadius",0,He(),V.afterSetFilter);const yj=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};V.addGetterSetter(Ge,"brightness",0,He(),V.afterSetFilter);const bj=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},_j=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,l=150,u=150;for(let f=0;f<a;f+=4)i=n[f],l=n[f+1],u=n[f+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,n[f]=i,n[f+1]=l,n[f+2]=u};V.addGetterSetter(Ge,"contrast",0,He(),V.afterSetFilter);const Sj=function(t){var e,n,a,i,l,u,f,g,p;const v=t.data,_=t.width,S=t.height,C=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),T=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),O=(f={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&f!==void 0?f:315,M=!!((p=(g=this.embossBlend)===null||g===void 0?void 0:g.call(this))!==null&&p!==void 0&&p),j=C*10,z=T*255,U=O*Math.PI/180,H=Math.cos(U),L=Math.sin(U),Z=128/1020*j,$=new Uint8ClampedArray(v),ie=new Float32Array(_*S);for(let ge=0,de=0;de<v.length;de+=4,ge++)ie[ge]=.2126*$[de]+.7152*$[de+1]+.0722*$[de+2];const be=[-1,0,1,-2,0,2,-1,0,1],Re=[-1,-2,-1,0,0,0,1,2,1],le=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],ye=ge=>ge<0?0:ge>255?255:ge;for(let ge=1;ge<S-1;ge++)for(let de=1;de<_-1;de++){const B=ge*_+de;let ae=0,Q=0;ae+=ie[B+le[0]]*be[0],Q+=ie[B+le[0]]*Re[0],ae+=ie[B+le[1]]*be[1],Q+=ie[B+le[1]]*Re[1],ae+=ie[B+le[2]]*be[2],Q+=ie[B+le[2]]*Re[2],ae+=ie[B+le[3]]*be[3],Q+=ie[B+le[3]]*Re[3],ae+=ie[B+le[5]]*be[5],Q+=ie[B+le[5]]*Re[5],ae+=ie[B+le[6]]*be[6],Q+=ie[B+le[6]]*Re[6],ae+=ie[B+le[7]]*be[7],Q+=ie[B+le[7]]*Re[7],ae+=ie[B+le[8]]*be[8],Q+=ie[B+le[8]]*Re[8];const se=H*ae+L*Q,G=ye(z+se*Z),ne=B*4;if(M){const _e=G-z;v[ne]=ye($[ne]+_e),v[ne+1]=ye($[ne+1]+_e),v[ne+2]=ye($[ne+2]+_e),v[ne+3]=$[ne+3]}else v[ne]=v[ne+1]=v[ne+2]=G,v[ne+3]=$[ne+3]}for(let ge=0;ge<_;ge++){let de=ge*4,B=((S-1)*_+ge)*4;v[de]=$[de],v[de+1]=$[de+1],v[de+2]=$[de+2],v[de+3]=$[de+3],v[B]=$[B],v[B+1]=$[B+1],v[B+2]=$[B+2],v[B+3]=$[B+3]}for(let ge=1;ge<S-1;ge++){let de=ge*_*4,B=(ge*_+(_-1))*4;v[de]=$[de],v[de+1]=$[de+1],v[de+2]=$[de+2],v[de+3]=$[de+3],v[B]=$[B],v[B+1]=$[B+1],v[B+2]=$[B+2],v[B+3]=$[B+3]}return t};V.addGetterSetter(Ge,"embossStrength",.5,He(),V.afterSetFilter);V.addGetterSetter(Ge,"embossWhiteLevel",.5,He(),V.afterSetFilter);V.addGetterSetter(Ge,"embossDirection","top-left",void 0,V.afterSetFilter);V.addGetterSetter(Ge,"embossBlend",!1,void 0,V.afterSetFilter);function ay(t,e,n,a,i){const l=n-e,u=i-a;if(l===0)return a+u/2;if(u===0)return a;let f=(t-e)/l;return f=u*f+a,f}const xj=function(t){const e=t.data,n=e.length;let a=e[0],i=a,l,u=e[1],f=u,g,p=e[2],v=p,_;const S=this.enhance();if(S===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>i&&(i=l),g=e[z+1],g<u?u=g:g>f&&(f=g),_=e[z+2],_<p?p=_:_>v&&(v=_);i===a&&(i=255,a=0),f===u&&(f=255,u=0),v===p&&(v=255,p=0);let C,T,R,O,M,j;if(S>0)C=i+S*(255-i),T=a-S*(a-0),R=f+S*(255-f),O=u-S*(u-0),M=v+S*(255-v),j=p-S*(p-0);else{const z=(i+a)*.5;C=i+S*(i-z),T=a+S*(a-z);const U=(f+u)*.5;R=f+S*(f-U),O=u+S*(u-U);const H=(v+p)*.5;M=v+S*(v-H),j=p+S*(p-H)}for(let z=0;z<n;z+=4)e[z+0]=ay(e[z+0],a,i,T,C),e[z+1]=ay(e[z+1],u,f,O,R),e[z+2]=ay(e[z+2],p,v,j,M)};V.addGetterSetter(Ge,"enhance",0,He(),V.afterSetFilter);const wj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};V.addGetterSetter(Ge,"hue",0,He(),V.afterSetFilter);V.addGetterSetter(Ge,"saturation",0,He(),V.afterSetFilter);V.addGetterSetter(Ge,"luminance",0,He(),V.afterSetFilter);const Ej=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,f=a*i*Math.cos(l*Math.PI/180),g=a*i*Math.sin(l*Math.PI/180),p=.299*a+.701*f+.167*g,v=.587*a-.587*f+.33*g,_=.114*a-.114*f-.497*g,S=.299*a-.299*f-.328*g,C=.587*a+.413*f+.035*g,T=.114*a-.114*f+.293*g,R=.299*a-.3*f+1.25*g,O=.587*a-.586*f-1.05*g,M=.114*a+.886*f-.2*g;let j,z,U,H;for(let L=0;L<n;L+=4)j=e[L+0],z=e[L+1],U=e[L+2],H=e[L+3],e[L+0]=p*j+v*z+_*U+u,e[L+1]=S*j+C*z+T*U+u,e[L+2]=R*j+O*z+M*U+u,e[L+3]=H},Cj=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=a*i*Math.cos(l*Math.PI/180),f=a*i*Math.sin(l*Math.PI/180),g=.299*a+.701*u+.167*f,p=.587*a-.587*u+.33*f,v=.114*a-.114*u-.497*f,_=.299*a-.299*u-.328*f,S=.587*a+.413*u+.035*f,C=.114*a-.114*u+.293*f,T=.299*a-.3*u+1.25*f,R=.587*a-.586*u-1.05*f,O=.114*a+.886*u-.2*f;for(let M=0;M<n;M+=4){const j=e[M+0],z=e[M+1],U=e[M+2],H=e[M+3];e[M+0]=g*j+p*z+v*U,e[M+1]=_*j+S*z+C*U,e[M+2]=T*j+R*z+O*U,e[M+3]=H}};V.addGetterSetter(Ge,"hue",0,He(),V.afterSetFilter);V.addGetterSetter(Ge,"saturation",0,He(),V.afterSetFilter);V.addGetterSetter(Ge,"value",0,He(),V.afterSetFilter);const Tj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},Aj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let p=Math.sqrt(f*f+g*g),v=l-f,_=u-g;const S=Math.sqrt(v*v+_*_);p=S>p?S:p;const C=u,T=l,R=360/T*Math.PI/180;for(let O=0;O<T;O+=1){const M=Math.sin(O*R),j=Math.cos(O*R);for(let z=0;z<C;z+=1){v=Math.floor(f+p*z/C*j),_=Math.floor(g+p*z/C*M);let U=(_*l+v)*4;const H=a[U+0],L=a[U+1],Z=a[U+2],$=a[U+3];U=(O+z*l)*4,i[U+0]=H,i[U+1]=L,i[U+2]=Z,i[U+3]=$}}},Rj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let p=Math.sqrt(f*f+g*g),v=l-f,_=u-g;const S=Math.sqrt(v*v+_*_);p=S>p?S:p;const C=u,T=l,R=0;let O,M;for(v=0;v<l;v+=1)for(_=0;_<u;_+=1){const j=v-f,z=_-g,U=Math.sqrt(j*j+z*z)*C/p;let H=(Math.atan2(z,j)*180/Math.PI+360+R)%360;H=H*T/360,O=Math.floor(H),M=Math.floor(U);let L=(M*l+O)*4;const Z=a[L+0],$=a[L+1],ie=a[L+2],be=a[L+3];L=(_*l+v)*4,i[L+0]=Z,i[L+1]=$,i[L+2]=ie,i[L+3]=be}},Oj=function(t){const e=t.width,n=t.height;let a,i,l,u,f,g,p,v,_,S,C=Math.round(this.kaleidoscopePower());const T=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(T%360)/360);if(C<1)return;const O=te.createCanvasElement();O.width=e,O.height=n;const M=O.getContext("2d").getImageData(0,0,e,n);te.releaseCanvas(O),Aj(t,M,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,C);for(;j<=8;)j=j*2,C-=1;j=Math.ceil(j);let z=j,U=0,H=z,L=1;for(R+j>e&&(U=z,H=0,L=-1),i=0;i<n;i+=1)for(a=U;a!==H;a+=L)l=Math.round(a+R)%e,_=(e*i+l)*4,f=M.data[_+0],g=M.data[_+1],p=M.data[_+2],v=M.data[_+3],S=(e*i+a)*4,M.data[S+0]=f,M.data[S+1]=g,M.data[S+2]=p,M.data[S+3]=v;for(i=0;i<n;i+=1)for(z=Math.floor(j),u=0;u<C;u+=1){for(a=0;a<z+1;a+=1)_=(e*i+a)*4,f=M.data[_+0],g=M.data[_+1],p=M.data[_+2],v=M.data[_+3],S=(e*i+z*2-a-1)*4,M.data[S+0]=f,M.data[S+1]=g,M.data[S+2]=p,M.data[S+3]=v;z*=2}Rj(M,t,{})};V.addGetterSetter(Ge,"kaleidoscopePower",2,He(),V.afterSetFilter);V.addGetterSetter(Ge,"kaleidoscopeAngle",0,He(),V.afterSetFilter);function bp(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function T0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Nj(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Mj(t,e){const n=bp(t,0,0),a=bp(t,t.width-1,0),i=bp(t,0,t.height-1),l=bp(t,t.width-1,t.height-1),u=e||10;if(T0(n,a)<u&&T0(a,l)<u&&T0(l,i)<u&&T0(i,n)<u){const f=Nj([a,n,l,i]),g=[];for(let p=0;p<t.width*t.height;p++){const v=T0(f,[t.data[p*4],t.data[p*4+1],t.data[p*4+2]]);g[p]=v<u?0:255}return g}}function Dj(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function jj(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const p=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[p]=v===2040?255:0}return u}function zj(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const p=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[p]=v>=1020?255:0}return u}function kj(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const p=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[p]=v}return u}const Uj=function(t){const e=this.threshold();let n=Mj(t,e);return n&&(n=jj(n,t.width,t.height),n=zj(n,t.width,t.height),n=kj(n,t.width,t.height),Dj(t,n)),t};V.addGetterSetter(Ge,"threshold",0,He(),V.afterSetFilter);const Lj=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let l=0;l<a;l+=4)n[l+0]+=i-2*i*Math.random(),n[l+1]+=i-2*i*Math.random(),n[l+2]+=i-2*i*Math.random()};V.addGetterSetter(Ge,"noise",.2,He(),V.afterSetFilter);const Pj=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),l=Math.ceil(a/e),u=t.data;if(e<=0){te.error("pixelSize value can not be <= 0");return}for(let f=0;f<i;f+=1)for(let g=0;g<l;g+=1){let p=0,v=0,_=0,S=0;const C=f*e,T=C+e,R=g*e,O=R+e;let M=0;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const U=(n*z+j)*4;p+=u[U+0],v+=u[U+1],_+=u[U+2],S+=u[U+3],M+=1}p=p/M,v=v/M,_=_/M,S=S/M;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const U=(n*z+j)*4;u[U+0]=p,u[U+1]=v,u[U+2]=_,u[U+3]=S}}};V.addGetterSetter(Ge,"pixelSize",8,He(),V.afterSetFilter);const Bj=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/i)*i};V.addGetterSetter(Ge,"levels",.5,He(),V.afterSetFilter);const Hj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue();for(let u=0;u<n;u+=4){const f=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255;e[u]=f*a,e[u+1]=f*i,e[u+2]=f*l,e[u+3]=e[u+3]}};V.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});V.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});V.addGetterSetter(Ge,"blue",0,kS,V.afterSetFilter);const Gj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue(),u=this.alpha();for(let f=0;f<n;f+=4){const g=1-u;e[f]=a*u+e[f]*g,e[f+1]=i*u+e[f+1]*g,e[f+2]=l*u+e[f+2]*g}};V.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});V.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});V.addGetterSetter(Ge,"blue",0,kS,V.afterSetFilter);V.addGetterSetter(Ge,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const qj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],l=e[a+1],u=e[a+2];e[a+0]=Math.min(255,i*.393+l*.769+u*.189),e[a+1]=Math.min(255,i*.349+l*.686+u*.168),e[a+2]=Math.min(255,i*.272+l*.534+u*.131)}},Vj=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],l=n[a+1],u=n[a+2];.2126*i+.7152*l+.0722*u>=128&&(n[a]=255-i,n[a+1]=255-l,n[a+2]=255-u)}return t},Yj=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};V.addGetterSetter(Ge,"threshold",.5,He(),V.afterSetFilter);const J0=qf.Util._assign(qf,{Arc:uo,Arrow:Yc,Circle:If,Ellipse:Su,Image:Vi,Label:I2,Tag:Zc,Line:co,Path:Bi,Rect:pg,RegularPolygon:xu,Ring:Ic,Sprite:yl,Star:wu,Text:Vn,TextPath:Ea,Transformer:en,Wedge:fo,Filters:{Blur:vj,Brightness:bj,Brighten:yj,Contrast:_j,Emboss:Sj,Enhance:xj,Grayscale:wj,HSL:Ej,HSV:Cj,Invert:Tj,Kaleidoscope:Oj,Mask:Uj,Noise:Lj,Pixelate:Pj,Posterize:Bj,RGB:Hj,RGBA:Gj,Sepia:qj,Solarize:Vj,Threshold:Yj}});var ry={exports:{}},iy={exports:{}};var y5;function Zj(){return y5||(y5=1,(function(t){t.exports=function(e){function n(o,c,m,b){return new $v(o,c,m,b)}function a(){}function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function u(o){if(l(o)!==o)throw Error(i(188))}function f(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(i(188));return c!==o?null:o}for(var m=o,b=c;;){var w=m.return;if(w===null)break;var A=w.alternate;if(A===null){if(b=w.return,b!==null){m=b;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===m)return u(w),o;if(A===b)return u(w),c;A=A.sibling}throw Error(i(188))}if(m.return!==b.return)m=w,b=A;else{for(var P=!1,X=w.child;X;){if(X===m){P=!0,m=w,b=A;break}if(X===b){P=!0,b=w,m=A;break}X=X.sibling}if(!P){for(X=A.child;X;){if(X===m){P=!0,m=A,b=w;break}if(X===b){P=!0,b=A,m=w;break}X=X.sibling}if(!P)throw Error(i(189))}}if(m.alternate!==b)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=p(o),c!==null))return c;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Md&&o[Md]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===$u?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ql:return"Fragment";case Nd:return"Profiler";case Xu:return"StrictMode";case Fu:return"Suspense";case Qu:return"SuspenseList";case Vl:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Ps:return"Portal";case ns:return(o.displayName||"Context")+".Provider";case Rh:return(o._context.displayName||"Context")+".Consumer";case Ei:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ci:return c=o.displayName||null,c!==null?c:_(o.type)||"Memo";case Ia:c=o._payload,o=o._init;try{return _(o(c))}catch{}}return null}function S(o){return{current:o}}function C(o){0>os||(o.current=ls[os],ls[os]=null,os--)}function T(o,c){os++,ls[os]=o.current,o.current=c}function R(o){return o>>>=0,o===0?32:31-(Am(o)/Hd|0)|0}function O(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function M(o,c,m){var b=o.pendingLanes;if(b===0)return 0;var w=0,A=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var X=b&134217727;return X!==0?(b=X&~A,b!==0?w=O(b):(P&=X,P!==0?w=O(P):m||(m=X&~o,m!==0&&(w=O(m))))):(X=b&~A,X!==0?w=O(X):P!==0?w=O(P):m||(m=b&~o,m!==0&&(w=O(m)))),w===0?0:c!==0&&c!==w&&(c&A)===0&&(A=w&-w,m=c&-c,A>=m||A===32&&(m&4194048)!==0)?c:w}function j(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function z(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U(){var o=uc;return uc<<=1,(uc&4194048)===0&&(uc=256),o}function H(){var o=Po;return Po<<=1,(Po&62914560)===0&&(Po=4194304),o}function L(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Z(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $(o,c,m,b,w,A){var P=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var X=o.entanglements,ee=o.expirationTimes,Oe=o.hiddenUpdates;for(m=P&~m;0<m;){var Ue=31-hr(m),Ze=1<<Ue;X[Ue]=0,ee[Ue]=-1;var Xe=Oe[Ue];if(Xe!==null)for(Oe[Ue]=null,Ue=0;Ue<Xe.length;Ue++){var Rt=Xe[Ue];Rt!==null&&(Rt.lane&=-536870913)}m&=~Ze}b!==0&&ie(o,b,0),A!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=A&~(P&~c))}function ie(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var b=31-hr(c);o.entangledLanes|=c,o.entanglements[b]=o.entanglements[b]|1073741824|m&4194090}function be(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var b=31-hr(m),w=1<<b;w&c|o[b]&c&&(o[b]|=c),m&=~w}}function Re(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function le(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ye(o){if(typeof Mm=="function"&&Dm(o),Ka&&typeof Ka.setStrictMode=="function")try{Ka.setStrictMode(Vs,o)}catch{}}function ge(o){if(Vd===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Vd=c&&c[1]||"",e0=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vd+o+e0}function de(o,c){if(!o||Yd)return"";Yd=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Rt){var Xe=Rt}Reflect.construct(o,[],Ze)}else{try{Ze.call()}catch(Rt){Xe=Rt}o.call(Ze.prototype)}}else{try{throw Error()}catch(Rt){Xe=Rt}(Ze=o())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Rt){if(Rt&&Xe&&typeof Rt.stack=="string")return[Rt.stack,Xe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),P=A[0],X=A[1];if(P&&X){var ee=P.split(`
`),Oe=X.split(`
`);for(w=b=0;b<ee.length&&!ee[b].includes("DetermineComponentFrameRoot");)b++;for(;w<Oe.length&&!Oe[w].includes("DetermineComponentFrameRoot");)w++;if(b===ee.length||w===Oe.length)for(b=ee.length-1,w=Oe.length-1;1<=b&&0<=w&&ee[b]!==Oe[w];)w--;for(;1<=b&&0<=w;b--,w--)if(ee[b]!==Oe[w]){if(b!==1||w!==1)do if(b--,w--,0>w||ee[b]!==Oe[w]){var Ue=`
`+ee[b].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=b&&0<=w);break}}}finally{Yd=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?ge(m):""}function B(o){switch(o.tag){case 26:case 27:case 5:return ge(o.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return de(o.type,!1);case 11:return de(o.type.render,!1);case 1:return de(o.type,!0);case 31:return ge("Activity");default:return""}}function ae(o){try{var c="";do c+=B(o),o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Q(o,c){if(typeof o=="object"&&o!==null){var m=Zd.get(o);return m!==void 0?m:(c={value:o,source:c,stack:ae(c)},Zd.set(o,c),c)}return{value:o,source:c,stack:ae(c)}}function se(o,c){Ys[Zs++]=Bo,Ys[Zs++]=dc,dc=o,Bo=c}function G(o,c,m){Fa[gr++]=ti,Fa[gr++]=Oi,Fa[gr++]=Is,Is=o;var b=ti;o=Oi;var w=32-hr(b)-1;b&=~(1<<w),m+=1;var A=32-hr(c)+w;if(30<A){var P=w-w%5;A=(b&(1<<P)-1).toString(32),b>>=P,w-=P,ti=1<<32-hr(c)+w|m<<w|b,Oi=A+o}else ti=1<<A|m<<w|b,Oi=o}function ne(o){o.return!==null&&(se(o,1),G(o,1,0))}function _e(o){for(;o===dc;)dc=Ys[--Zs],Ys[Zs]=null,Bo=Ys[--Zs],Ys[Zs]=null;for(;o===Is;)Is=Fa[--gr],Fa[gr]=null,Oi=Fa[--gr],Fa[gr]=null,ti=Fa[--gr],Fa[gr]=null}function Ee(o,c){T(Xs,c),T(Xl,o),T(Mn,null),o=Nh(c),C(Mn),T(Mn,o)}function Ve(){C(Mn),C(Xl),C(Xs)}function ut(o){o.memoizedState!==null&&T(fc,o);var c=Mn.current,m=Mh(c,o.type);c!==m&&(T(Xl,o),T(Mn,m))}function Ie(o){Xl.current===o&&(C(Mn),C(Xl)),fc.current===o&&(C(fc),rs?Ai._currentValue=fr:Ai._currentValue2=fr)}function st(o){var c=Error(i(418,""));throw St(Q(c,o)),t0}function Et(o,c){if(!cr)throw Error(i(175));xm(o.stateNode,o.type,o.memoizedProps,c,o)||st(o)}function we(o){for(Gn=o.return;Gn;)switch(Gn.tag){case 5:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:Gn=Gn.return}}function Me(o){if(!cr||o!==Gn)return!1;if(!Ft)return we(o),Ft=!0,!1;var c=o.tag;if(Ht?c!==3&&c!==27&&(c!==5||Kh(o.type)&&!as(o.type,o.memoizedProps))&&$n&&st(o):c!==3&&(c!==5||Kh(o.type)&&!as(o.type,o.memoizedProps))&&$n&&st(o),we(o),c===13){if(!cr)throw Error(i(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));$n=Ld(o)}else $n=Ht&&c===27?Zh(o.type,$n):Gn?vm(o.stateNode):null;return!0}function ot(){cr&&($n=Gn=null,Ft=!1)}function _t(){var o=ni;return o!==null&&(ka===null?ka=o:ka.push.apply(ka,o),ni=null),o}function St(o){ni===null?ni=[o]:ni.push(o)}function Ot(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function mn(o,c,m){rs?(T(hc,c._currentValue),c._currentValue=m):(T(hc,c._currentValue2),c._currentValue2=m)}function _n(o){var c=hc.current;rs?o._currentValue=c:o._currentValue2=c,C(hc)}function un(o,c,m){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===m)break;o=o.return}}function Es(o,c,m,b){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var A=w.dependencies;if(A!==null){var P=w.child;A=A.firstContext;e:for(;A!==null;){var X=A;A=w;for(var ee=0;ee<c.length;ee++)if(X.context===c[ee]){A.lanes|=m,X=A.alternate,X!==null&&(X.lanes|=m),un(A.return,m,o),b||(P=null);break e}A=X.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(i(341));P.lanes|=m,A=P.alternate,A!==null&&(A.lanes|=m),un(P,m,o),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===o){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function er(o,c,m,b){o=null;for(var w=c,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var X=w.type;Er(w.pendingProps.value,P.value)||(o!==null?o.push(X):o=[X])}}else if(w===fc.current){if(P=w.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Ai):o=[Ai])}w=w.return}o!==null&&Es(c,o,m,b),c.flags|=262144}function I(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!Er(rs?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function re(o){ai=o,Da=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function fe(o){return Pe(ai,o)}function Be(o,c){return ai===null&&re(o),Pe(o,c)}function Pe(o,c){var m=rs?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:m,next:null},Da===null){if(o===null)throw Error(i(308));Da=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Da=Da.next=c;return m}function je(){return{controller:new jm,data:new Map,refCount:0}}function Ye(o){o.refCount--,o.refCount===0&&zm(gc,function(){o.controller.abort()})}function $e(o){o!==Ks&&o.next===null&&(Ks===null?mc=Ks=o:Ks=Ks.next=o),Ho=!0,Id||(Id=!0,tr())}function xt(o,c){if(!pc&&Ho){pc=!0;do for(var m=!1,b=mc;b!==null;){if(o!==0){var w=b.pendingLanes;if(w===0)var A=0;else{var P=b.suspendedLanes,X=b.pingedLanes;A=(1<<31-hr(42|o)+1)-1,A&=w&~(P&~X),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(m=!0,Ga(b,A))}else A=Ut,A=M(b,b===$t?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Lr),(A&3)===0||j(b,A)||(m=!0,Ga(b,A));b=b.next}while(m);pc=!1}}function tn(){Ba()}function Ba(){Ho=Id=!1;var o=0;us!==0&&(jh()&&(o=us),us=0);for(var c=yn(),m=null,b=mc;b!==null;){var w=b.next,A=Ha(b,c);A===0?(b.next=null,m===null?mc=w:m.next=w,w===null&&(Ks=m)):(m=b,(o!==0||(A&3)!==0)&&(Ho=!0)),b=w}xt(o)}function Ha(o,c){for(var m=o.suspendedLanes,b=o.pingedLanes,w=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var P=31-hr(A),X=1<<P,ee=w[P];ee===-1?((X&m)===0||(X&b)!==0)&&(w[P]=z(X,c)):ee<=c&&(o.expiredLanes|=X),A&=~X}if(c=$t,m=Ut,m=M(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Lr),b=o.callbackNode,m===0||o===c&&(on===2||on===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&Gd(b),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||j(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(b!==null&&Gd(b),le(m)){case 2:case 8:m=Om;break;case 32:m=qd;break;case 268435456:m=Nm;break;default:m=qd}return b=Ca.bind(null,o),m=cc(m,b),o.callbackPriority=c,o.callbackNode=m,c}return b!==null&&b!==null&&Gd(b),o.callbackPriority=2,o.callbackNode=null,2}function Ca(o,c){if(na!==0&&na!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(Ur()&&o.callbackNode!==m)return null;var b=Ut;return b=M(o,o===$t?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Lr),b===0?null:(Zu(o,b,c),Ha(o,yn()),o.callbackNode!=null&&o.callbackNode===m?Ca.bind(null,o):null)}function Ga(o,c){if(Ur())return null;Zu(o,c,!0)}function tr(){Uh?$g(function(){(dt&6)!==0?cc(ua,tn):Ba()}):cc(ua,tn)}function ma(){return us===0&&(us=U()),us}function Fr(o,c){if(Go===null){var m=Go=[];ri=0,Cn=ma(),Fs={status:"pending",value:void 0,then:function(b){m.push(b)}}}return ri++,c.then(qa,qa),c}function qa(){if(--ri===0&&Go!==null){Fs!==null&&(Fs.status="fulfilled");var o=Go;Go=null,Cn=0,Fs=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Nr(o,c){var m=[],b={status:"pending",value:null,reason:null,then:function(w){m.push(w)}};return o.then(function(){b.status="fulfilled",b.value=c;for(var w=0;w<m.length;w++)(0,m[w])(c)},function(w){for(b.status="rejected",b.reason=w,w=0;w<m.length;w++)(0,m[w])(void 0)}),b}function Yi(){var o=Un.current;return o!==null?o:$t.pooledCache}function Qr(o,c){c===null?T(Un,Un.current):T(Un,c.pool)}function Cs(){var o=Yi();return o===null?null:{parent:rs?ln._currentValue:ln._currentValue2,pool:o}}function nr(o,c){if(Er(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),b=Object.keys(c);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var w=m[b];if(!a1.call(c,w)||!Er(o[w],c[w]))return!1}return!0}function _l(o){return o=o.status,o==="fulfilled"||o==="rejected"}function gi(){}function Ce(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(gi,gi),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,fn(o),o;default:if(typeof c.status=="string")c.then(gi,gi);else{if(o=$t,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(b){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=b}},function(b){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,fn(o),o}throw mr=c,qo}}function ze(){if(mr===null)throw Error(i(459));var o=mr;return mr=null,o}function fn(o){if(o===qo||o===Sn)throw Error(i(483))}function Dt(){for(var o=Kl,c=a0=Kl=0;c<o;){var m=Cr[c];Cr[c++]=null;var b=Cr[c];Cr[c++]=null;var w=Cr[c];Cr[c++]=null;var A=Cr[c];if(Cr[c++]=null,b!==null&&w!==null){var P=b.pending;P===null?w.next=w:(w.next=P.next,P.next=w),b.pending=w}A!==0&&Ae(m,w,A)}}function q(o,c,m,b){Cr[Kl++]=o,Cr[Kl++]=c,Cr[Kl++]=m,Cr[Kl++]=b,a0|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function F(o,c,m,b){return q(o,c,m,b),Le(o)}function ue(o,c){return q(o,null,null,c),Le(o)}function Ae(o,c,m){o.lanes|=m;var b=o.alternate;b!==null&&(b.lanes|=m);for(var w=!1,A=o.return;A!==null;)A.childLanes|=m,b=A.alternate,b!==null&&(b.childLanes|=m),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(w=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,w&&c!==null&&(w=31-hr(m),o=A.hiddenUpdates,b=o[w],b===null?o[w]=[c]:b.push(c),c.lane=m|536870912),A):null}function Le(o){if(50<il)throw il=0,Wd=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function et(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ke(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function We(o,c,m){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(dt&2)!==0){var w=b.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),b.pending=c,c=Le(o),Ae(o,null,m),c}return q(o,b,c,m),Le(o)}function it(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var b=c.lanes;b&=o.pendingLanes,m|=b,c.lanes=m,be(o,m)}}function at(o,c){var m=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var w=null,A=null;if(m=m.firstBaseUpdate,m!==null){do{var P={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};A===null?w=A=P:A=A.next=P,m=m.next}while(m!==null);A===null?w=A=c:A=A.next=c}else w=A=c;m={baseState:b.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}function Fe(){if(Qa){var o=Fs;if(o!==null)throw o}}function Ct(o,c,m,b){Qa=!1;var w=o.updateQueue;Ni=!1;var A=w.firstBaseUpdate,P=w.lastBaseUpdate,X=w.shared.pending;if(X!==null){w.shared.pending=null;var ee=X,Oe=ee.next;ee.next=null,P===null?A=Oe:P.next=Oe,P=ee;var Ue=o.alternate;Ue!==null&&(Ue=Ue.updateQueue,X=Ue.lastBaseUpdate,X!==P&&(X===null?Ue.firstBaseUpdate=Oe:X.next=Oe,Ue.lastBaseUpdate=ee))}if(A!==null){var Ze=w.baseState;P=0,Ue=Oe=ee=null,X=A;do{var Xe=X.lane&-536870913,Rt=Xe!==X.lane;if(Rt?(Ut&Xe)===Xe:(b&Xe)===Xe){Xe!==0&&Xe===Cn&&(Qa=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Hr=o,sl=X;Xe=c;var Gr=m;switch(sl.tag){case 1:if(Hr=sl.payload,typeof Hr=="function"){Ze=Hr.call(Gr,Ze,Xe);break e}Ze=Hr;break e;case 3:Hr.flags=Hr.flags&-65537|128;case 0:if(Hr=sl.payload,Xe=typeof Hr=="function"?Hr.call(Gr,Ze,Xe):Hr,Xe==null)break e;Ze=Hl({},Ze,Xe);break e;case 2:Ni=!0}}Xe=X.callback,Xe!==null&&(o.flags|=64,Rt&&(o.flags|=8192),Rt=w.callbacks,Rt===null?w.callbacks=[Xe]:Rt.push(Xe))}else Rt={lane:Xe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ue===null?(Oe=Ue=Rt,ee=Ze):Ue=Ue.next=Rt,P|=Xe;if(X=X.next,X===null){if(X=w.shared.pending,X===null)break;Rt=X,X=Rt.next,Rt.next=null,w.lastBaseUpdate=Rt,w.shared.pending=null}}while(!0);Ue===null&&(ee=Ze),w.baseState=ee,w.firstBaseUpdate=Oe,w.lastBaseUpdate=Ue,A===null&&(w.shared.lanes=0),ea|=P,o.lanes=P,o.memoizedState=Ze}}function rn(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function wn(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)rn(m[o],c)}function Vt(o,c){o=In,T(vc,o),T(ja,c),In=o|c.baseLanes}function pn(){T(vc,In),T(ja,ja.current)}function cn(){In=vc.current,C(ja),C(vc)}function Yt(){throw Error(i(321))}function ar(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Er(o[m],c[m]))return!1;return!0}function Mr(o,c,m,b,w,A){return Wn=A,Nt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ct.H=o===null||o.memoizedState===null?Fl:r0,cs=!1,A=m(b,w),cs=!1,Qs&&(A=Sl(c,m,b,w)),rr(o),A}function rr(o){ct.H=$s;var c=Zt!==null&&Zt.next!==null;if(Wn=0,Tn=Zt=Nt=null,ii=!1,Vo=0,si=null,c)throw Error(i(300));o===null||yt||(o=o.dependencies,o!==null&&I(o)&&(yt=!0))}function Sl(o,c,m,b){Nt=o;var w=0;do{if(Qs&&(si=null),Vo=0,Qs=!1,25<=w)throw Error(i(301));if(w+=1,Tn=Zt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ct.H=km,A=c(m,b)}while(Qs);return A}function xl(){var o=ct.H,c=o.useState()[0];return c=typeof c.then=="function"?Ya(c):c,o=o.useState()[0],(Zt!==null?Zt.memoizedState:null)!==o&&(Nt.flags|=1024),c}function ir(){var o=Tr!==0;return Tr=0,o}function $r(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function Ta(o){if(ii){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ii=!1}Wn=0,Tn=Zt=Nt=null,Qs=!1,Vo=Tr=0,si=null}function ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Nt.memoizedState=Tn=o:Tn=Tn.next=o,Tn}function Pt(){if(Zt===null){var o=Nt.alternate;o=o!==null?o.memoizedState:null}else o=Zt.next;var c=Tn===null?Nt.memoizedState:Tn.next;if(c!==null)Tn=c,Zt=o;else{if(o===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));Zt=o,o={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Tn===null?Nt.memoizedState=Tn=o:Tn=Tn.next=o}return Tn}function Va(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(o){var c=Vo;return Vo+=1,si===null&&(si=[]),o=Ce(si,o,c),c=Nt,(Tn===null?c.memoizedState:Tn.next)===null&&(c=c.alternate,ct.H=c===null||c.memoizedState===null?Fl:r0),o}function En(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ya(o);if(o.$$typeof===ns)return fe(o)}throw Error(i(438,String(o)))}function Ts(o){var c=null,m=Nt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var b=Nt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Va(),Nt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),b=0;b<o;b++)m[b]=Oh;return c.index++,m}function vr(o,c){return typeof c=="function"?c(o):c}function pa(o){var c=Pt();return Fc(c,Zt,o)}function Fc(o,c,m){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=m;var w=o.baseQueue,A=b.pending;if(A!==null){if(w!==null){var P=w.next;w.next=A.next,A.next=P}c.baseQueue=w=A,b.pending=null}if(A=o.baseState,w===null)o.memoizedState=A;else{c=w.next;var X=P=null,ee=null,Oe=c,Ue=!1;do{var Ze=Oe.lane&-536870913;if(Ze!==Oe.lane?(Ut&Ze)===Ze:(Wn&Ze)===Ze){var Xe=Oe.revertLane;if(Xe===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ze===Cn&&(Ue=!0);else if((Wn&Xe)===Xe){Oe=Oe.next,Xe===Cn&&(Ue=!0);continue}else Ze={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ee===null?(X=ee=Ze,P=A):ee=ee.next=Ze,Nt.lanes|=Xe,ea|=Xe;Ze=Oe.action,cs&&m(A,Ze),A=Oe.hasEagerState?Oe.eagerState:m(A,Ze)}else Xe={lane:Ze,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ee===null?(X=ee=Xe,P=A):ee=ee.next=Xe,Nt.lanes|=Ze,ea|=Ze;Oe=Oe.next}while(Oe!==null&&Oe!==c);if(ee===null?P=A:ee.next=X,!Er(A,o.memoizedState)&&(yt=!0,Ue&&(m=Fs,m!==null)))throw m;o.memoizedState=A,o.baseState=P,o.baseQueue=ee,b.lastRenderedState=A}return w===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function $f(o){var c=Pt(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var b=m.dispatch,w=m.pending,A=c.memoizedState;if(w!==null){m.pending=null;var P=w=w.next;do A=o(A,P.action),P=P.next;while(P!==w);Er(A,c.memoizedState)||(yt=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),m.lastRenderedState=A}return[A,b]}function Au(o,c,m){var b=Nt,w=Pt(),A=Ft;if(A){if(m===void 0)throw Error(i(407));m=m()}else m=c();var P=!Er((Zt||w).memoizedState,m);P&&(w.memoizedState=m,yt=!0),w=w.queue;var X=xg.bind(null,b,w,o);if(Cl(2048,8,X,[o]),w.getSnapshot!==c||P||Tn!==null&&Tn.memoizedState.tag&1){if(b.flags|=2048,As(9,Zi(),Ru.bind(null,b,w,m,c),null),$t===null)throw Error(i(349));A||(Wn&124)!==0||Wf(b,c,m)}return m}function Wf(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=Nt.updateQueue,c===null?(c=Va(),Nt.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function Ru(o,c,m,b){c.value=m,c.getSnapshot=b,yr(c)&&Qc(o)}function xg(o,c,m){return m(function(){yr(c)&&Qc(o)})}function yr(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Er(o,m)}catch{return!0}}function Qc(o){var c=ue(o,2);c!==null&&Oa(c,o,2)}function $c(o){var c=ft();if(typeof o=="function"){var m=o;if(o=m(),cs){ye(!0);try{m()}finally{ye(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:o},c}function Wc(o,c,m,b){return o.baseState=m,Fc(o,Zt,typeof b=="function"?b:vr)}function mo(o,c,m,b,w){if(zu(o))throw Error(i(485));if(o=c.action,o!==null){var A={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){A.listeners.push(P)}};ct.T!==null?m(!0):A.isTransition=!1,b(A),m=c.pending,m===null?(A.next=c.pending=A,Jf(c,A)):(A.next=m.next,c.pending=m.next=A)}}function Jf(o,c){var m=c.action,b=c.payload,w=o.state;if(c.isTransition){var A=ct.T,P={};ct.T=P;try{var X=m(w,b),ee=ct.S;ee!==null&&ee(P,X),eh(o,c,X)}catch(Oe){th(o,c,Oe)}finally{ct.T=A}}else try{A=m(w,b),eh(o,c,A)}catch(Oe){th(o,c,Oe)}}function eh(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){wl(o,c,b)},function(b){return th(o,c,b)}):wl(o,c,m)}function wl(o,c,m){c.status="fulfilled",c.value=m,nh(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,Jf(o,m)))}function th(o,c,m){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=m,nh(c),c=c.next;while(c!==b)}o.action=null}function nh(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ah(o,c){return c}function Jc(o,c){if(Ft){var m=$t.formState;if(m!==null){e:{var b=Nt;if(Ft){if($n){var w=mm($n,nn);if(w){$n=vm(w),b=pm(w);break e}}st(b)}b=!1}b&&(c=m[0])}}m=ft(),m.memoizedState=m.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:c},m.queue=b,m=ad.bind(null,Nt,b),b.dispatch=m,b=$c(!1);var A=_o.bind(null,Nt,!1,b.queue);return b=ft(),w={state:c,dispatch:null,action:o,pending:null},b.queue=w,m=mo.bind(null,Nt,w,A,m),w.dispatch=m,b.memoizedState=o,[c,m,!1]}function wg(o){var c=Pt();return Eg(c,Zt,o)}function Eg(o,c,m){if(c=Fc(o,c,ah)[0],o=pa(vr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Ya(c)}catch(P){throw P===qo?Sn:P}else b=c;c=Pt();var w=c.queue,A=w.dispatch;return m!==c.memoizedState&&(Nt.flags|=2048,As(9,Zi(),ed.bind(null,w,m),null)),[b,A,o]}function ed(o,c){o.action=c}function td(o){var c=Pt(),m=Zt;if(m!==null)return Eg(c,m,o);Pt(),c=c.memoizedState,m=Pt();var b=m.queue.dispatch;return m.memoizedState=o,[c,b,!1]}function As(o,c,m,b){return o={tag:o,create:m,deps:b,inst:c,next:null},c=Nt.updateQueue,c===null&&(c=Va(),Nt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(b=m.next,m.next=o,o.next=b,c.lastEffect=o),o}function Zi(){return{destroy:void 0,resource:void 0}}function El(){return Pt().memoizedState}function Ou(o,c,m,b){var w=ft();b=b===void 0?null:b,Nt.flags|=o,w.memoizedState=As(1|c,Zi(),m,b)}function Cl(o,c,m,b){var w=Pt();b=b===void 0?null:b;var A=w.memoizedState.inst;Zt!==null&&b!==null&&ar(b,Zt.memoizedState.deps)?w.memoizedState=As(c,A,m,b):(Nt.flags|=o,w.memoizedState=As(1|c,A,m,b))}function rh(o,c){Ou(8390656,8,o,c)}function po(o,c){Cl(2048,8,o,c)}function mi(o,c){return Cl(4,2,o,c)}function nd(o,c){return Cl(4,4,o,c)}function vo(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Ii(o,c,m){m=m!=null?m.concat([o]):null,Cl(4,4,vo.bind(null,c,o),m)}function Nu(){}function Mu(o,c){var m=Pt();c=c===void 0?null:c;var b=m.memoizedState;return c!==null&&ar(c,b[1])?b[0]:(m.memoizedState=[o,c],o)}function ih(o,c){var m=Pt();c=c===void 0?null:c;var b=m.memoizedState;if(c!==null&&ar(c,b[1]))return b[0];if(b=o(),cs){ye(!0);try{o()}finally{ye(!1)}}return m.memoizedState=[b,c],b}function yo(o,c,m){return m===void 0||(Wn&1073741824)!==0?o.memoizedState=c:(o.memoizedState=m,o=zl(),Nt.lanes|=o,ea|=o,m)}function Du(o,c,m,b){return Er(m,c)?m:ja.current!==null?(o=yo(o,m,b),Er(o,c)||(yt=!0),o):(Wn&42)===0?(yt=!0,o.memoizedState=m):(o=zl(),Nt.lanes|=o,ea|=o,c)}function sh(o,c,m,b,w){var A=ei();oa(A!==0&&8>A?A:8);var P=ct.T,X={};ct.T=X,_o(o,!1,c,m);try{var ee=w(),Oe=ct.S;if(Oe!==null&&Oe(X,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ue=Nr(ee,b);Ki(o,c,Ue,la(o))}else Ki(o,c,b,la(o))}catch(Ze){Ki(o,c,{then:function(){},status:"rejected",reason:Ze},la())}finally{oa(A),ct.T=P}}function Za(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:fr,baseState:fr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:fr},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Xi(){return fe(Ai)}function ju(){return Pt().memoizedState}function bo(){return Pt().memoizedState}function Iv(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=la();o=Ke(m);var b=We(c,o,m);b!==null&&(Oa(b,c,m),it(b,c,m)),c={cache:je()},o.payload=c;return}c=c.return}}function lh(o,c,m){var b=la();m={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},zu(o)?Cg(c,m):(m=F(o,c,m,b),m!==null&&(Oa(m,o,b),Tg(m,c,b)))}function ad(o,c,m){var b=la();Ki(o,c,m,b)}function Ki(o,c,m,b){var w={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(zu(o))Cg(c,w);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var P=c.lastRenderedState,X=A(P,m);if(w.hasEagerState=!0,w.eagerState=X,Er(X,P))return q(o,c,w,0),$t===null&&Dt(),!1}catch{}finally{}if(m=F(o,c,w,b),m!==null)return Oa(m,o,b),Tg(m,c,b),!0}return!1}function _o(o,c,m,b){if(b={lane:2,revertLane:ma(),action:b,hasEagerState:!1,eagerState:null,next:null},zu(o)){if(c)throw Error(i(479))}else c=F(o,m,b,2),c!==null&&Oa(c,o,2)}function zu(o){var c=o.alternate;return o===Nt||c!==null&&c===Nt}function Cg(o,c){Qs=ii=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function Tg(o,c,m){if((m&4194048)!==0){var b=c.lanes;b&=o.pendingLanes,m|=b,c.lanes=m,be(o,m)}}function rd(o){var c=Yo;return Yo+=1,Mi===null&&(Mi=[]),Ce(Mi,o,c)}function Tl(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function id(o,c){throw c.$$typeof===Xg?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Ag(o){var c=o._init;return c(o._payload)}function Rg(o){function c(he,W){if(o){var ve=he.deletions;ve===null?(he.deletions=[W],he.flags|=16):ve.push(W)}}function m(he,W){if(!o)return null;for(;W!==null;)c(he,W),W=W.sibling;return null}function b(he){for(var W=new Map;he!==null;)he.key!==null?W.set(he.key,he):W.set(he.index,he),he=he.sibling;return W}function w(he,W){return he=es(he,W),he.index=0,he.sibling=null,he}function A(he,W,ve){return he.index=ve,o?(ve=he.alternate,ve!==null?(ve=ve.index,ve<W?(he.flags|=67108866,W):ve):(he.flags|=67108866,W)):(he.flags|=1048576,W)}function P(he){return o&&he.alternate===null&&(he.flags|=67108866),he}function X(he,W,ve,De){return W===null||W.tag!==6?(W=Pl(ve,he.mode,De),W.return=he,W):(W=w(W,ve),W.return=he,W)}function ee(he,W,ve,De){var Je=ve.type;return Je===ql?Ue(he,W,ve.props.children,De,ve.key):W!==null&&(W.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ia&&Ag(Je)===W.type)?(W=w(W,ve.props),Tl(W,ve),W.return=he,W):(W=Oo(ve.type,ve.key,ve.props,null,he.mode,De),Tl(W,ve),W.return=he,W)}function Oe(he,W,ve,De){return W===null||W.tag!==4||W.stateNode.containerInfo!==ve.containerInfo||W.stateNode.implementation!==ve.implementation?(W=Iu(ve,he.mode,De),W.return=he,W):(W=w(W,ve.children||[]),W.return=he,W)}function Ue(he,W,ve,De,Je){return W===null||W.tag!==7?(W=Jr(ve,he.mode,De,Je),W.return=he,W):(W=w(W,ve),W.return=he,W)}function Ze(he,W,ve){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Pl(""+W,he.mode,ve),W.return=he,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Gl:return ve=Oo(W.type,W.key,W.props,null,he.mode,ve),Tl(ve,W),ve.return=he,ve;case Ps:return W=Iu(W,he.mode,ve),W.return=he,W;case Ia:var De=W._init;return W=De(W._payload),Ze(he,W,ve)}if(Bs(W)||v(W))return W=Jr(W,he.mode,ve,null),W.return=he,W;if(typeof W.then=="function")return Ze(he,rd(W),ve);if(W.$$typeof===ns)return Ze(he,Be(he,W),ve);id(he,W)}return null}function Xe(he,W,ve,De){var Je=W!==null?W.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Je!==null?null:X(he,W,""+ve,De);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Gl:return ve.key===Je?ee(he,W,ve,De):null;case Ps:return ve.key===Je?Oe(he,W,ve,De):null;case Ia:return Je=ve._init,ve=Je(ve._payload),Xe(he,W,ve,De)}if(Bs(ve)||v(ve))return Je!==null?null:Ue(he,W,ve,De,null);if(typeof ve.then=="function")return Xe(he,W,rd(ve),De);if(ve.$$typeof===ns)return Xe(he,W,Be(he,ve),De);id(he,ve)}return null}function Rt(he,W,ve,De,Je){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return he=he.get(ve)||null,X(W,he,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case Gl:return he=he.get(De.key===null?ve:De.key)||null,ee(W,he,De,Je);case Ps:return he=he.get(De.key===null?ve:De.key)||null,Oe(W,he,De,Je);case Ia:var hn=De._init;return De=hn(De._payload),Rt(he,W,ve,De,Je)}if(Bs(De)||v(De))return he=he.get(ve)||null,Ue(W,he,De,Je,null);if(typeof De.then=="function")return Rt(he,W,ve,rd(De),Je);if(De.$$typeof===ns)return Rt(he,W,ve,Be(W,De),Je);id(W,De)}return null}function Hr(he,W,ve,De){for(var Je=null,hn=null,mt=W,Wt=W=0,aa=null;mt!==null&&Wt<ve.length;Wt++){mt.index>Wt?(aa=mt,mt=null):aa=mt.sibling;var Jt=Xe(he,mt,ve[Wt],De);if(Jt===null){mt===null&&(mt=aa);break}o&&mt&&Jt.alternate===null&&c(he,mt),W=A(Jt,W,Wt),hn===null?Je=Jt:hn.sibling=Jt,hn=Jt,mt=aa}if(Wt===ve.length)return m(he,mt),Ft&&se(he,Wt),Je;if(mt===null){for(;Wt<ve.length;Wt++)mt=Ze(he,ve[Wt],De),mt!==null&&(W=A(mt,W,Wt),hn===null?Je=mt:hn.sibling=mt,hn=mt);return Ft&&se(he,Wt),Je}for(mt=b(mt);Wt<ve.length;Wt++)aa=Rt(mt,he,Wt,ve[Wt],De),aa!==null&&(o&&aa.alternate!==null&&mt.delete(aa.key===null?Wt:aa.key),W=A(aa,W,Wt),hn===null?Je=aa:hn.sibling=aa,hn=aa);return o&&mt.forEach(function(hs){return c(he,hs)}),Ft&&se(he,Wt),Je}function sl(he,W,ve,De){if(ve==null)throw Error(i(151));for(var Je=null,hn=null,mt=W,Wt=W=0,aa=null,Jt=ve.next();mt!==null&&!Jt.done;Wt++,Jt=ve.next()){mt.index>Wt?(aa=mt,mt=null):aa=mt.sibling;var hs=Xe(he,mt,Jt.value,De);if(hs===null){mt===null&&(mt=aa);break}o&&mt&&hs.alternate===null&&c(he,mt),W=A(hs,W,Wt),hn===null?Je=hs:hn.sibling=hs,hn=hs,mt=aa}if(Jt.done)return m(he,mt),Ft&&se(he,Wt),Je;if(mt===null){for(;!Jt.done;Wt++,Jt=ve.next())Jt=Ze(he,Jt.value,De),Jt!==null&&(W=A(Jt,W,Wt),hn===null?Je=Jt:hn.sibling=Jt,hn=Jt);return Ft&&se(he,Wt),Je}for(mt=b(mt);!Jt.done;Wt++,Jt=ve.next())Jt=Rt(mt,he,Wt,Jt.value,De),Jt!==null&&(o&&Jt.alternate!==null&&mt.delete(Jt.key===null?Wt:Jt.key),W=A(Jt,W,Wt),hn===null?Je=Jt:hn.sibling=Jt,hn=Jt);return o&&mt.forEach(function(r1){return c(he,r1)}),Ft&&se(he,Wt),Je}function Gr(he,W,ve,De){if(typeof ve=="object"&&ve!==null&&ve.type===ql&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Gl:e:{for(var Je=ve.key;W!==null;){if(W.key===Je){if(Je=ve.type,Je===ql){if(W.tag===7){m(he,W.sibling),De=w(W,ve.props.children),De.return=he,he=De;break e}}else if(W.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ia&&Ag(Je)===W.type){m(he,W.sibling),De=w(W,ve.props),Tl(De,ve),De.return=he,he=De;break e}m(he,W);break}else c(he,W);W=W.sibling}ve.type===ql?(De=Jr(ve.props.children,he.mode,De,ve.key),De.return=he,he=De):(De=Oo(ve.type,ve.key,ve.props,null,he.mode,De),Tl(De,ve),De.return=he,he=De)}return P(he);case Ps:e:{for(Je=ve.key;W!==null;){if(W.key===Je)if(W.tag===4&&W.stateNode.containerInfo===ve.containerInfo&&W.stateNode.implementation===ve.implementation){m(he,W.sibling),De=w(W,ve.children||[]),De.return=he,he=De;break e}else{m(he,W);break}else c(he,W);W=W.sibling}De=Iu(ve,he.mode,De),De.return=he,he=De}return P(he);case Ia:return Je=ve._init,ve=Je(ve._payload),Gr(he,W,ve,De)}if(Bs(ve))return Hr(he,W,ve,De);if(v(ve)){if(Je=v(ve),typeof Je!="function")throw Error(i(150));return ve=Je.call(ve),sl(he,W,ve,De)}if(typeof ve.then=="function")return Gr(he,W,rd(ve),De);if(ve.$$typeof===ns)return Gr(he,W,Be(he,ve),De);id(he,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,W!==null&&W.tag===6?(m(he,W.sibling),De=w(W,ve),De.return=he,he=De):(m(he,W),De=Pl(ve,he.mode,De),De.return=he,he=De),P(he)):m(he,W)}return function(he,W,ve,De){try{Yo=0;var Je=Gr(he,W,ve,De);return Mi=null,Je}catch(mt){if(mt===qo||mt===Sn)throw mt;var hn=n(29,mt,null,he.mode);return hn.lanes=De,hn.return=he,hn}finally{}}}function Rs(o){var c=o.alternate;T(vt,vt.current&1),T(Pr,o),Di===null&&(c===null||ja.current!==null||c.memoizedState!==null)&&(Di=o)}function Og(o){if(o.tag===22){if(T(vt,vt.current),T(Pr,o),Di===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Di=o)}}else Fi()}function Fi(){T(vt,vt.current),T(Pr,Pr.current)}function Qi(o){C(Pr),Di===o&&(Di=null),C(vt)}function sd(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||rc(m)||Ud(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function oh(o,c,m,b){c=o.memoizedState,m=m(b,c),m=m==null?c:Hl({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}function Ng(o,c,m,b,w,A,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,A,P):c.prototype&&c.prototype.isPureReactComponent?!nr(m,b)||!nr(w,A):!0}function ld(o,c,m,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,b),c.state!==o&&bn.enqueueReplaceState(c,c.state,null)}function Al(o,c){var m=c;if("ref"in c){m={};for(var b in c)b!=="ref"&&(m[b]=c[b])}if(o=o.defaultProps){m===c&&(m=Hl({},m));for(var w in o)m[w]===void 0&&(m[w]=o[w])}return m}function od(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function Mg(o,c,m){try{var b=o.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function ud(o,c,m){return m=Ke(m),m.tag=3,m.payload={element:null},m.callback=function(){od(o,c)},m}function Dg(o){return o=Ke(o),o.tag=3,o}function jg(o,c,m,b){var w=m.type.getDerivedStateFromError;if(typeof w=="function"){var A=b.value;o.payload=function(){return w(A)},o.callback=function(){Mg(c,m,b)}}var P=m.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){Mg(c,m,b),typeof w!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var X=b.stack;this.componentDidCatch(b.value,{componentStack:X!==null?X:""})})}function Xv(o,c,m,b,w){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=m.alternate,c!==null&&er(c,m,w,!0),m=Pr.current,m!==null){switch(m.tag){case 13:return Di===null?kn():m.alternate===null&&qn===0&&(qn=3),m.flags&=-257,m.flags|=65536,m.lanes=w,b===ya?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([b]):c.add(b),Ll(o,b,w)),!1;case 22:return m.flags|=65536,b===ya?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([b]):m.add(b)),Ll(o,b,w)),!1}throw Error(i(435,m.tag))}return Ll(o,b,w),kn(),!1}if(Ft)return c=Pr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,b!==t0&&(o=Error(i(422),{cause:b}),St(Q(o,m)))):(b!==t0&&(c=Error(i(423),{cause:b}),St(Q(c,m))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,b=Q(b,m),w=ud(o.stateNode,b,w),at(o,w),qn!==4&&(qn=2)),!1;var A=Error(i(520),{cause:b});if(A=Q(A,m),nl===null?nl=[A]:nl.push(A),qn!==4&&(qn=2),c===null)return!0;b=Q(b,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=w&-w,m.lanes|=o,o=ud(m.stateNode,b,o),at(m,o),!1;case 1:if(c=m.type,A=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ki===null||!ki.has(A))))return m.flags|=65536,w&=-w,m.lanes|=w,w=Dg(w),jg(w,o,m,b),at(m,w),!1}m=m.return}while(m!==null);return!1}function va(o,c,m,b){c.child=o===null?i0(c,null,m,b):ds(c,o.child,m,b)}function zg(o,c,m,b,w){m=m.render;var A=c.ref;if("ref"in b){var P={};for(var X in b)X!=="ref"&&(P[X]=b[X])}else P=b;return re(c),b=Mr(o,c,m,P,A,w),X=ir(),o!==null&&!yt?($r(o,c,w),br(o,c,w)):(Ft&&X&&ne(c),c.flags|=1,va(o,c,b,w),c.child)}function kg(o,c,m,b,w){if(o===null){var A=m.type;return typeof A=="function"&&!Ch(A)&&A.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=A,Ug(o,c,A,b,w)):(o=Oo(m.type,null,b,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!Ol(o,w)){var P=A.memoizedProps;if(m=m.compare,m=m!==null?m:nr,m(P,b)&&o.ref===c.ref)return br(o,c,w)}return c.flags|=1,o=es(A,b),o.ref=c.ref,o.return=c,c.child=o}function Ug(o,c,m,b,w){if(o!==null){var A=o.memoizedProps;if(nr(A,b)&&o.ref===c.ref)if(yt=!1,c.pendingProps=b=A,Ol(o,w))(o.flags&131072)!==0&&(yt=!0);else return c.lanes=o.lanes,br(o,c,w)}return Rl(o,c,m,b,w)}function Lg(o,c,m){var b=c.pendingProps,w=b.children,A=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=A!==null?A.baseLanes|m:m,o!==null){for(w=c.child=o.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;c.childLanes=A&~b}else c.childLanes=0,c.child=null;return Pg(o,c,b,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Qr(c,A!==null?A.cachePool:null),A!==null?Vt(c,A):pn(),Og(c);else return c.lanes=c.childLanes=536870912,Pg(o,c,A!==null?A.baseLanes|m:m,m)}else A!==null?(Qr(c,A.cachePool),Vt(c,A),Fi(),c.memoizedState=null):(o!==null&&Qr(c,null),pn(),Fi());return va(o,c,w,m),c.child}function Pg(o,c,m,b){var w=Yi();return w=w===null?null:{parent:rs?ln._currentValue:ln._currentValue2,pool:w},c.memoizedState={baseLanes:m,cachePool:w},o!==null&&Qr(c,null),pn(),Og(c),o!==null&&er(o,c,b,!0),null}function So(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function Rl(o,c,m,b,w){return re(c),m=Mr(o,c,m,b,void 0,w),b=ir(),o!==null&&!yt?($r(o,c,w),br(o,c,w)):(Ft&&b&&ne(c),c.flags|=1,va(o,c,m,w),c.child)}function Bg(o,c,m,b,w,A){return re(c),c.updateQueue=null,m=Sl(c,b,m,w),rr(o),b=ir(),o!==null&&!yt?($r(o,c,A),br(o,c,A)):(Ft&&b&&ne(c),c.flags|=1,va(o,c,m,A),c.child)}function uh(o,c,m,b,w){if(re(c),c.stateNode===null){var A=Il,P=m.contextType;typeof P=="object"&&P!==null&&(A=fe(P)),A=new m(b,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=bn,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=b,A.state=c.memoizedState,A.refs={},et(c),P=m.contextType,A.context=typeof P=="object"&&P!==null?fe(P):Il,A.state=c.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&(oh(c,m,P,b),A.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(P=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),P!==A.state&&bn.enqueueReplaceState(A,A.state,null),Ct(c,b,A,w),Fe(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(o===null){A=c.stateNode;var X=c.memoizedProps,ee=Al(m,X);A.props=ee;var Oe=A.context,Ue=m.contextType;P=Il,typeof Ue=="object"&&Ue!==null&&(P=fe(Ue));var Ze=m.getDerivedStateFromProps;Ue=typeof Ze=="function"||typeof A.getSnapshotBeforeUpdate=="function",X=c.pendingProps!==X,Ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(X||Oe!==P)&&ld(c,A,b,P),Ni=!1;var Xe=c.memoizedState;A.state=Xe,Ct(c,b,A,w),Fe(),Oe=c.memoizedState,X||Xe!==Oe||Ni?(typeof Ze=="function"&&(oh(c,m,Ze,b),Oe=c.memoizedState),(ee=Ni||Ng(c,m,ee,b,Xe,Oe,P))?(Ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=Oe),A.props=b,A.state=Oe,A.context=P,b=ee):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{A=c.stateNode,rt(o,c),P=c.memoizedProps,Ue=Al(m,P),A.props=Ue,Ze=c.pendingProps,Xe=A.context,Oe=m.contextType,ee=Il,typeof Oe=="object"&&Oe!==null&&(ee=fe(Oe)),X=m.getDerivedStateFromProps,(Oe=typeof X=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P!==Ze||Xe!==ee)&&ld(c,A,b,ee),Ni=!1,Xe=c.memoizedState,A.state=Xe,Ct(c,b,A,w),Fe();var Rt=c.memoizedState;P!==Ze||Xe!==Rt||Ni||o!==null&&o.dependencies!==null&&I(o.dependencies)?(typeof X=="function"&&(oh(c,m,X,b),Rt=c.memoizedState),(Ue=Ni||Ng(c,m,Ue,b,Xe,Rt,ee)||o!==null&&o.dependencies!==null&&I(o.dependencies))?(Oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,Rt,ee),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,Rt,ee)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=Rt),A.props=b,A.state=Rt,A.context=ee,b=Ue):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=1024),b=!1)}return A=b,So(o,c),b=(c.flags&128)!==0,A||b?(A=c.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&b?(c.child=ds(c,o.child,null,w),c.child=ds(c,null,m,w)):va(o,c,m,w),c.memoizedState=A.state,o=c.child):o=br(o,c,w),o}function ch(o,c,m,b){return ot(),c.flags|=256,va(o,c,m,b),c.child}function cd(o){return{baseLanes:o,cachePool:Cs()}}function dd(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Br),o}function dh(o,c,m){var b=c.pendingProps,w=!1,A=(c.flags&128)!==0,P;if((P=A)||(P=o!==null&&o.memoizedState===null?!1:(vt.current&2)!==0),P&&(w=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(Ft){if(w?Rs(c):Fi(),Ft){var X=$n,ee;(ee=X)&&(X=e1(X,nn),X!==null?(c.memoizedState={dehydrated:X,treeContext:Is!==null?{id:ti,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},ee=n(18,null,null,0),ee.stateNode=X,ee.return=c,c.child=ee,Gn=c,$n=null,ee=!0):ee=!1),ee||st(c)}if(X=c.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return Ud(X)?c.lanes=32:c.lanes=536870912,null;Qi(c)}return X=b.children,b=b.fallback,w?(Fi(),w=c.mode,X=fd({mode:"hidden",children:X},w),b=Jr(b,w,m,null),X.return=c,b.return=c,X.sibling=b,c.child=X,w=c.child,w.memoizedState=cd(m),w.childLanes=dd(o,P,m),c.memoizedState=$a,b):(Rs(c),Os(c,X))}if(ee=o.memoizedState,ee!==null&&(X=ee.dehydrated,X!==null)){if(A)c.flags&256?(Rs(c),c.flags&=-257,c=fh(o,c,m)):c.memoizedState!==null?(Fi(),c.child=o.child,c.flags|=128,c=null):(Fi(),w=b.fallback,X=c.mode,b=fd({mode:"visible",children:b.children},X),w=Jr(w,X,m,null),w.flags|=2,b.return=c,w.return=c,b.sibling=w,c.child=b,ds(c,o.child,null,m),b=c.child,b.memoizedState=cd(m),b.childLanes=dd(o,P,m),c.memoizedState=$a,c=w);else if(Rs(c),Ud(X))P=gm(X).digest,b=Error(i(419)),b.stack="",b.digest=P,St({value:b,source:null,stack:null}),c=fh(o,c,m);else if(yt||er(o,c,m,!1),P=(m&o.childLanes)!==0,yt||P){if(P=$t,P!==null&&(b=m&-m,b=(b&42)!==0?1:Re(b),b=(b&(P.suspendedLanes|m))!==0?0:b,b!==0&&b!==ee.retryLane))throw ee.retryLane=b,ue(o,b),Oa(P,o,b),It;rc(X)||kn(),c=fh(o,c,m)}else rc(X)?(c.flags|=192,c.child=o.child,c=null):(o=ee.treeContext,cr&&($n=Ih(X),Gn=c,Ft=!0,ni=null,nn=!1,o!==null&&(Fa[gr++]=ti,Fa[gr++]=Oi,Fa[gr++]=Is,ti=o.id,Oi=o.overflow,Is=c)),c=Os(c,b.children),c.flags|=4096);return c}return w?(Fi(),w=b.fallback,X=c.mode,ee=o.child,A=ee.sibling,b=es(ee,{mode:"hidden",children:b.children}),b.subtreeFlags=ee.subtreeFlags&65011712,A!==null?w=es(A,w):(w=Jr(w,X,m,null),w.flags|=2),w.return=c,b.return=c,b.sibling=w,c.child=b,b=w,w=c.child,X=o.child.memoizedState,X===null?X=cd(m):(ee=X.cachePool,ee!==null?(A=rs?ln._currentValue:ln._currentValue2,ee=ee.parent!==A?{parent:A,pool:A}:ee):ee=Cs(),X={baseLanes:X.baseLanes|m,cachePool:ee}),w.memoizedState=X,w.childLanes=dd(o,P,m),c.memoizedState=$a,b):(Rs(c),m=o.child,o=m.sibling,m=es(m,{mode:"visible",children:b.children}),m.return=c,m.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=m,c.memoizedState=null,m)}function Os(o,c){return c=fd({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function fd(o,c){return o=n(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function fh(o,c,m){return ds(c,o.child,null,m),o=Os(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Hg(o,c,m){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),un(o.return,c,m)}function hd(o,c,m,b,w){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=b,A.tail=m,A.tailMode=w)}function hh(o,c,m){var b=c.pendingProps,w=b.revealOrder,A=b.tail;if(va(o,c,b.children,m),b=vt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Hg(o,m,c);else if(o.tag===19)Hg(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(T(vt,b),w){case"forwards":for(m=c.child,w=null;m!==null;)o=m.alternate,o!==null&&sd(o)===null&&(w=m),m=m.sibling;m=w,m===null?(w=c.child,c.child=null):(w=m.sibling,m.sibling=null),hd(c,!1,w,m,A);break;case"backwards":for(m=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&sd(o)===null){c.child=w;break}o=w.sibling,w.sibling=m,m=w,w=o}hd(c,!0,m,null,A);break;case"together":hd(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function br(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),ea|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(er(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,m=es(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=es(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function Ol(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&I(o)))}function Kv(o,c,m){switch(c.tag){case 3:Ee(c,c.stateNode.containerInfo),mn(c,ln,o.memoizedState.cache),ot();break;case 27:case 5:ut(c);break;case 4:Ee(c,c.stateNode.containerInfo);break;case 10:mn(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Rs(c),c.flags|=128,null):(m&c.child.childLanes)!==0?dh(o,c,m):(Rs(c),o=br(o,c,m),o!==null?o.sibling:null);Rs(c);break;case 19:var w=(o.flags&128)!==0;if(b=(m&c.childLanes)!==0,b||(er(o,c,m,!1),b=(m&c.childLanes)!==0),w){if(b)return hh(o,c,m);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),T(vt,vt.current),b)break;return null;case 22:case 23:return c.lanes=0,Lg(o,c,m);case 24:mn(c,ln,o.memoizedState.cache)}return br(o,c,m)}function ku(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)yt=!0;else{if(!Ol(o,m)&&(c.flags&128)===0)return yt=!1,Kv(o,c,m);yt=(o.flags&131072)!==0}else yt=!1,Ft&&(c.flags&1048576)!==0&&G(c,Bo,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var b=c.elementType,w=b._init;if(b=w(b._payload),c.type=b,typeof b=="function")Ch(b)?(o=Al(b,o),c.tag=1,c=uh(null,c,b,o,m)):(c.tag=0,c=Rl(null,c,b,o,m));else{if(b!=null){if(w=b.$$typeof,w===Ei){c.tag=11,c=zg(null,c,b,o,m);break e}else if(w===Ci){c.tag=14,c=kg(null,c,b,o,m);break e}}throw c=_(b)||b,Error(i(306,c,""))}}return c;case 0:return Rl(o,c,c.type,c.pendingProps,m);case 1:return b=c.type,w=Al(b,c.pendingProps),uh(o,c,b,w,m);case 3:e:{if(Ee(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var A=c.pendingProps;w=c.memoizedState,b=w.element,rt(o,c),Ct(c,A,null,m);var P=c.memoizedState;if(A=P.cache,mn(c,ln,A),A!==w.cache&&Es(c,[ln],m,!0),Fe(),A=P.element,cr&&w.isDehydrated)if(w={element:A,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=ch(o,c,A,m);break e}else if(A!==b){b=Q(Error(i(424)),c),St(b),c=ch(o,c,A,m);break e}else for(cr&&($n=bm(c.stateNode.containerInfo),Gn=c,Ft=!0,ni=null,nn=!0),m=i0(c,null,A,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ot(),A===b){c=br(o,c,m);break e}va(o,c,A,m)}c=c.child}return c;case 26:if(Xa)return So(o,c),o===null?(m=lc(c.type,null,c.pendingProps,null))?c.memoizedState=m:Ft||(c.stateNode=Ri(c.type,c.pendingProps,Xs.current,c)):c.memoizedState=lc(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(Ht)return ut(c),o===null&&Ht&&Ft&&(b=c.stateNode=oc(c.type,c.pendingProps,Xs.current,Mn.current,!1),Gn=c,nn=!0,$n=_m(c.type,b,$n)),va(o,c,c.pendingProps.children,m),So(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Ft&&(t1(c.type,c.pendingProps,Mn.current),(w=b=$n)&&(b=Sm(b,c.type,c.pendingProps,nn),b!==null?(c.stateNode=b,Gn=c,$n=ym(b),nn=!1,w=!0):w=!1),w||st(c)),ut(c),w=c.type,A=c.pendingProps,P=o!==null?o.memoizedProps:null,b=A.children,as(w,A)?b=null:P!==null&&as(w,P)&&(c.flags|=32),c.memoizedState!==null&&(w=Mr(o,c,xl,null,null,m),rs?Ai._currentValue=w:Ai._currentValue2=w),So(o,c),va(o,c,b,m),c.child;case 6:return o===null&&Ft&&(Uo(c.pendingProps,Mn.current),(o=m=$n)&&(m=Jv(m,c.pendingProps,nn),m!==null?(c.stateNode=m,Gn=c,$n=null,o=!0):o=!1),o||st(c)),null;case 13:return dh(o,c,m);case 4:return Ee(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=ds(c,null,b,m):va(o,c,b,m),c.child;case 11:return zg(o,c,c.type,c.pendingProps,m);case 7:return va(o,c,c.pendingProps,m),c.child;case 8:return va(o,c,c.pendingProps.children,m),c.child;case 12:return va(o,c,c.pendingProps.children,m),c.child;case 10:return b=c.pendingProps,mn(c,c.type,b.value),va(o,c,b.children,m),c.child;case 9:return w=c.type._context,b=c.pendingProps.children,re(c),w=fe(w),b=b(w),c.flags|=1,va(o,c,b,m),c.child;case 14:return kg(o,c,c.type,c.pendingProps,m);case 15:return Ug(o,c,c.type,c.pendingProps,m);case 19:return hh(o,c,m);case 31:return b=c.pendingProps,m=c.mode,b={mode:b.mode,children:b.children},o===null?(m=fd(b,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=es(o.child,b),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return Lg(o,c,m);case 24:return re(c),b=fe(ln),o===null?(w=Yi(),w===null&&(w=$t,A=je(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=m),w=A),c.memoizedState={parent:b,cache:w},et(c),mn(c,ln,w)):((o.lanes&m)!==0&&(rt(o,c),Ct(c,null,null,m),Fe()),w=o.memoizedState,A=c.memoizedState,w.parent!==b?(w={parent:b,cache:b},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),mn(c,ln,b)):(b=A.cache,mn(c,ln,b),b!==w.cache&&Es(c,[ln],m,!0))),va(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function sr(o){o.flags|=4}function gh(o,c){if(o!==null&&o.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(o=c.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function Uu(o,c,m,b){if(Gt)for(m=c.child;m!==null;){if(m.tag===5||m.tag===6)Yn(o,m.stateNode);else if(!(m.tag===4||Ht&&m.tag===27)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}else if(Ti)for(var w=c.child;w!==null;){if(w.tag===5){var A=w.stateNode;m&&b&&(A=qh(A,w.type,w.memoizedProps)),Yn(o,A)}else if(w.tag===6)A=w.stateNode,m&&b&&(A=Vh(A,w.memoizedProps)),Yn(o,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)A=w.child,A!==null&&(A.return=w),Uu(o,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function gd(o,c,m,b){var w=!1;if(Ti)for(var A=c.child;A!==null;){if(A.tag===5){var P=A.stateNode;m&&b&&(P=qh(P,A.type,A.memoizedProps)),Hh(o,P)}else if(A.tag===6)P=A.stateNode,m&&b&&(P=Vh(P,A.memoizedProps)),Hh(o,P);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)w=A.child,w!==null&&(w.return=A),gd(o,A,!0,!0),w=!0;else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return w;A=A.return}A.sibling.return=A.return,A=A.sibling}return w}function mh(o,c){if(Ti&&gh(o,c)){o=c.stateNode;var m=o.containerInfo,b=Bh();gd(b,c,!1,!1),o.pendingChildren=b,sr(c),hm(m,b)}}function md(o,c,m,b){if(Gt)o.memoizedProps!==b&&sr(c);else if(Ti){var w=o.stateNode,A=o.memoizedProps;if((o=gh(o,c))||A!==b){var P=Mn.current;A=ac(w,m,A,b,!o,null),A===w?c.stateNode=w:(Ju(A,m,b,P)&&sr(c),c.stateNode=A,o?Uu(A,c,!1,!1):sr(c))}else c.stateNode=w}}function pd(o,c,m){if(Qn(c,m)){if(o.flags|=16777216,!jd(c,m))if(wd())o.flags|=8192;else throw mr=ya,Xd}else o.flags&=-16777217}function Gg(o,c){if(Tm(c)){if(o.flags|=16777216,!is(c))if(wd())o.flags|=8192;else throw mr=ya,Xd}else o.flags&=-16777217}function vd(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?H():536870912,o.lanes|=c,Rr|=c)}function Lu(o,c){if(!Ft)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Hn(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,b=0;if(c)for(var w=o.child;w!==null;)m|=w.lanes|w.childLanes,b|=w.subtreeFlags&65011712,b|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)m|=w.lanes|w.childLanes,b|=w.subtreeFlags,b|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=b,o.childLanes=m,c}function Fv(o,c,m){var b=c.pendingProps;switch(_e(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(c),null;case 1:return Hn(c),null;case 3:return m=c.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),_n(ln),Ve(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Me(c)?sr(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,_t())),mh(o,c),Hn(c),null;case 26:if(Xa){m=c.type;var w=c.memoizedState;return o===null?(sr(c),w!==null?(Hn(c),Gg(c,w)):(Hn(c),pd(c,m,b))):w?w!==o.memoizedState?(sr(c),Hn(c),Gg(c,w)):(Hn(c),c.flags&=-16777217):(Gt?o.memoizedProps!==b&&sr(c):md(o,c,m,b),Hn(c),pd(c,m,b)),null}case 27:if(Ht){if(Ie(c),m=Xs.current,w=c.type,o!==null&&c.stateNode!=null)Gt?o.memoizedProps!==b&&sr(c):md(o,c,w,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Hn(c),null}o=Mn.current,Me(c)?Et(c,o):(o=oc(w,b,m,o,!0),c.stateNode=o,sr(c))}return Hn(c),null}case 5:if(Ie(c),m=c.type,o!==null&&c.stateNode!=null)md(o,c,m,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Hn(c),null}o=Mn.current,Me(c)?Et(c,o):(w=vn(m,b,Xs.current,o,c),Uu(w,c,!1,!1),c.stateNode=w,Ju(w,m,b,o)&&sr(c))}return Hn(c),pd(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)m=o.memoizedProps,Gt?m!==b&&sr(c):Ti&&(m!==b?(c.stateNode=Gs(b,Xs.current,Mn.current,c),sr(c)):c.stateNode=o.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(o=Xs.current,m=Mn.current,Me(c)){if(!cr)throw Error(i(176));if(o=c.stateNode,m=c.memoizedProps,b=null,w=Gn,w!==null)switch(w.tag){case 27:case 5:b=w.memoizedProps}ic(o,m,c,b)||st(c)}else c.stateNode=Gs(b,o,m,c)}return Hn(c),null;case 13:if(b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Me(c),b!==null&&b.dehydrated!==null){if(o===null){if(!w)throw Error(i(318));if(!cr)throw Error(i(344));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));Xh(w,c)}else ot(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Hn(c),w=!1}else w=_t(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Qi(c),c):(Qi(c),null)}if(Qi(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=b!==null,o=o!==null&&o.memoizedState!==null,m){b=c.child,w=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(w=b.alternate.memoizedState.cachePool.pool);var A=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==w&&(b.flags|=2048)}return m!==o&&m&&(c.child.flags|=8192),vd(c,c.updateQueue),Hn(c),null;case 4:return Ve(),mh(o,c),o===null&&Qg(c.stateNode.containerInfo),Hn(c),null;case 10:return _n(c.type),Hn(c),null;case 19:if(C(vt),w=c.memoizedState,w===null)return Hn(c),null;if(b=(c.flags&128)!==0,A=w.rendering,A===null)if(b)Lu(w,!1);else{if(qn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=sd(o),A!==null){for(c.flags|=128,Lu(w,!1),o=A.updateQueue,c.updateQueue=o,vd(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)Fn(m,o),m=m.sibling;return T(vt,vt.current&1|2),c.child}o=o.sibling}w.tail!==null&&yn()>Ko&&(c.flags|=128,b=!0,Lu(w,!1),c.lanes=4194304)}else{if(!b)if(o=sd(A),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,vd(c,o),Lu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Ft)return Hn(c),null}else 2*yn()-w.renderingStartTime>Ko&&m!==536870912&&(c.flags|=128,b=!0,Lu(w,!1),c.lanes=4194304);w.isBackwards?(A.sibling=c.child,c.child=A):(o=w.last,o!==null?o.sibling=A:c.child=A,w.last=A)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=yn(),c.sibling=null,o=vt.current,T(vt,b?o&1|2:o&1),c):(Hn(c),null);case 22:case 23:return Qi(c),cn(),b=c.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(m&536870912)!==0&&(c.flags&128)===0&&(Hn(c),c.subtreeFlags&6&&(c.flags|=8192)):Hn(c),m=c.updateQueue,m!==null&&vd(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048),o!==null&&C(Un),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),_n(ln),Hn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function _r(o,c){switch(_e(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return _n(ln),Ve(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ie(c),null;case 13:if(Qi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));ot()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return C(vt),null;case 4:return Ve(),null;case 10:return _n(c.type),null;case 22:case 23:return Qi(c),cn(),o!==null&&C(Un),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return _n(ln),null;case 25:return null;default:return null}}function xo(o,c){switch(_e(c),c.tag){case 3:_n(ln),Ve();break;case 26:case 27:case 5:Ie(c);break;case 4:Ve();break;case 13:Qi(c);break;case 19:C(vt);break;case 10:_n(c.type);break;case 22:case 23:Qi(c),cn(),o!==null&&C(Un);break;case 24:_n(ln)}}function wo(o,c){try{var m=c.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var w=b.next;m=w;do{if((m.tag&o)===o){b=void 0;var A=m.create,P=m.inst;b=A(),P.destroy=b}m=m.next}while(m!==w)}}catch(X){sn(c,c.return,X)}}function $i(o,c,m){try{var b=c.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var A=w.next;b=A;do{if((b.tag&o)===o){var P=b.inst,X=P.destroy;if(X!==void 0){P.destroy=void 0,w=c;var ee=m,Oe=X;try{Oe()}catch(Ue){sn(w,ee,Ue)}}}b=b.next}while(b!==A)}}catch(Ue){sn(c,c.return,Ue)}}function ph(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{wn(c,m)}catch(b){sn(o,o.return,b)}}}function vh(o,c,m){m.props=Al(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(b){sn(o,c,b)}}function Nl(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var b=Do(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof m=="function"?o.refCleanup=m(b):m.current=b}}catch(w){sn(o,c,w)}}function pi(o,c){var m=o.ref,b=o.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(w){sn(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(w){sn(o,c,w)}else m.current=null}function Ml(o){var c=o.type,m=o.memoizedProps,b=o.stateNode;try{Ph(b,c,m,o)}catch(w){sn(o,o.return,w)}}function Pu(o,c,m){try{im(o.stateNode,o.type,m,c,o)}catch(b){sn(o,o.return,b)}}function Eo(o){return o.tag===5||o.tag===3||(Xa?o.tag===26:!1)||(Ht?o.tag===27&&Zl(o.type):!1)||o.tag===4}function Bu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Eo(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(Ht&&o.tag===27&&Zl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yd(o,c,m){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?lm(m,o,c):am(m,o);else if(b!==4&&(Ht&&b===27&&Zl(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(yd(o,c,m),o=o.sibling;o!==null;)yd(o,c,m),o=o.sibling}function vi(o,c,m){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?sm(m,o,c):nm(m,o);else if(b!==4&&(Ht&&b===27&&Zl(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(vi(o,c,m),o=o.sibling;o!==null;)vi(o,c,m),o=o.sibling}function Dl(o,c,m){o=o.containerInfo;try{Gh(o,m)}catch(b){sn(c,c.return,b)}}function bd(o){var c=o.stateNode,m=o.memoizedProps;try{Wh(o.type,m,c,o)}catch(b){sn(o,o.return,b)}}function qg(o,c){for(Hs(o.containerInfo),kt=c;kt!==null;)if(o=kt,c=o.child,(o.subtreeFlags&1024)!==0&&c!==null)c.return=o,kt=c;else for(;kt!==null;){o=kt;var m=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&m!==null){c=void 0;var b=o,w=m.memoizedProps;m=m.memoizedState;var A=b.stateNode;try{var P=Al(b.type,w,b.elementType===b.type);c=A.getSnapshotBeforeUpdate(P,m),A.__reactInternalSnapshotBeforeUpdate=c}catch(X){sn(b,b.return,X)}}break;case 3:(c&1024)!==0&&Gt&&kd(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=o.sibling,c!==null){c.return=o.return,kt=c;break}kt=o.return}}function Ns(o,c,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:Wi(o,m),b&4&&wo(5,m);break;case 1:if(Wi(o,m),b&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(P){sn(m,m.return,P)}else{var w=Al(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){sn(m,m.return,P)}}b&64&&ph(m),b&512&&Nl(m,m.return);break;case 3:if(Wi(o,m),b&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=Do(m.child.stateNode);break;case 1:c=m.child.stateNode}try{wn(o,c)}catch(P){sn(m,m.return,P)}}break;case 27:Ht&&c===null&&b&4&&bd(m);case 26:case 5:Wi(o,m),c===null&&b&4&&Ml(m),b&512&&Nl(m,m.return);break;case 12:Wi(o,m);break;case 13:Wi(o,m),b&4&&Vg(o,m),b&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=Ma.bind(null,m),Yh(o,m))));break;case 22:if(b=m.memoizedState!==null||za,!b){c=c!==null&&c.memoizedState!==null||An,w=za;var A=An;za=b,(An=c)&&!A?ta(o,m,(m.subtreeFlags&8772)!==0):Wi(o,m),za=w,An=A}break;case 30:break;default:Wi(o,m)}}function yh(o){var c=o.alternate;c!==null&&(o.alternate=null,yh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&dr(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Dr(o,c,m){for(m=m.child;m!==null;)_d(o,c,m),m=m.sibling}function _d(o,c,m){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(Vs,m)}catch{}switch(m.tag){case 26:if(Xa){An||pi(m,c),Dr(o,c,m),m.memoizedState?Qh(m.memoizedState):m.stateNode&&wr(m.stateNode);break}case 27:if(Ht){An||pi(m,c);var b=xn,w=Jn;Zl(m.type)&&(xn=m.stateNode,Jn=!1),Dr(o,c,m),Bd(m.stateNode),xn=b,Jn=w;break}case 5:An||pi(m,c);case 6:if(Gt){if(b=xn,w=Jn,xn=null,Dr(o,c,m),xn=b,Jn=w,xn!==null)if(Jn)try{um(xn,m.stateNode)}catch(A){sn(m,c,A)}else try{om(xn,m.stateNode)}catch(A){sn(m,c,A)}}else Dr(o,c,m);break;case 18:Gt&&xn!==null&&(Jn?Cm(xn,m.stateNode):Pd(xn,m.stateNode));break;case 4:Gt?(b=xn,w=Jn,xn=m.stateNode.containerInfo,Jn=!0,Dr(o,c,m),xn=b,Jn=w):(Ti&&Dl(m.stateNode,m,Bh()),Dr(o,c,m));break;case 0:case 11:case 14:case 15:An||$i(2,m,c),An||$i(4,m,c),Dr(o,c,m);break;case 1:An||(pi(m,c),b=m.stateNode,typeof b.componentWillUnmount=="function"&&vh(m,c,b)),Dr(o,c,m);break;case 21:Dr(o,c,m);break;case 22:An=(b=An)||m.memoizedState!==null,Dr(o,c,m),An=b;break;default:Dr(o,c,m)}}function Vg(o,c){if(cr&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Em(o)}catch(m){sn(c,c.return,m)}}function Qv(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new ji),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new ji),c;default:throw Error(i(435,o.tag))}}function bh(o,c){var m=Qv(o);c.forEach(function(b){var w=Rd.bind(null,o,b);m.has(b)||(m.add(b),b.then(w,w))})}function Aa(o,c){var m=c.deletions;if(m!==null)for(var b=0;b<m.length;b++){var w=m[b],A=o,P=c;if(Gt){var X=P;e:for(;X!==null;){switch(X.tag){case 27:if(Ht){if(Zl(X.type)){xn=X.stateNode,Jn=!1;break e}break}case 5:xn=X.stateNode,Jn=!1;break e;case 3:case 4:xn=X.stateNode.containerInfo,Jn=!0;break e}X=X.return}if(xn===null)throw Error(i(160));_d(A,P,w),xn=null,Jn=!1}else _d(A,P,w);A=w.alternate,A!==null&&(A.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)_h(c,o),c=c.sibling}function _h(o,c){var m=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Aa(c,o),Ra(o),b&4&&($i(3,o,o.return),wo(3,o),$i(5,o,o.return));break;case 1:Aa(c,o),Ra(o),b&512&&(An||m===null||pi(m,m.return)),b&64&&za&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:if(Xa){var w=Ar;if(Aa(c,o),Ra(o),b&512&&(An||m===null||pi(m,m.return)),b&4){b=m!==null?m.memoizedState:null;var A=o.memoizedState;m===null?A===null?o.stateNode===null?o.stateNode=Lo(w,o.type,o.memoizedProps,o):$h(w,o.type,o.stateNode):o.stateNode=Fh(w,A,o.memoizedProps):b!==A?(b===null?m.stateNode!==null&&wr(m.stateNode):Qh(b),A===null?$h(w,o.type,o.stateNode):Fh(w,A,o.memoizedProps)):A===null&&o.stateNode!==null&&Pu(o,o.memoizedProps,m.memoizedProps)}break}case 27:if(Ht){Aa(c,o),Ra(o),b&512&&(An||m===null||pi(m,m.return)),m!==null&&b&4&&Pu(o,o.memoizedProps,m.memoizedProps);break}case 5:if(Aa(c,o),Ra(o),b&512&&(An||m===null||pi(m,m.return)),Gt){if(o.flags&32){w=o.stateNode;try{cm(w)}catch(Ue){sn(o,o.return,Ue)}}b&4&&o.stateNode!=null&&(w=o.memoizedProps,Pu(o,w,m!==null?m.memoizedProps:w)),b&1024&&(bc=!0)}break;case 6:if(Aa(c,o),Ra(o),b&4&&Gt){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,m=m!==null?m.memoizedProps:b,w=o.stateNode;try{rm(w,m,b)}catch(Ue){sn(o,o.return,Ue)}}break;case 3:if(Xa?(qs(),w=Ar,Ar=Yl(c.containerInfo),Aa(c,o),Ar=w):Aa(c,o),Ra(o),b&4){if(Gt&&cr&&m!==null&&m.memoizedState.isDehydrated)try{wm(c.containerInfo)}catch(Ue){sn(o,o.return,Ue)}if(Ti){b=c.containerInfo,m=c.pendingChildren;try{Gh(b,m)}catch(Ue){sn(o,o.return,Ue)}}}bc&&(bc=!1,jr(o));break;case 4:Xa?(m=Ar,Ar=Yl(o.stateNode.containerInfo),Aa(c,o),Ra(o),Ar=m):(Aa(c,o),Ra(o)),b&4&&Ti&&Dl(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Aa(c,o),Ra(o);break;case 13:Aa(c,o),Ra(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Fd=yn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,bh(o,b)));break;case 22:w=o.memoizedState!==null;var P=m!==null&&m.memoizedState!==null,X=za,ee=An;if(za=X||w,An=ee||P,Aa(c,o),An=ee,za=X,Ra(o),b&8192&&(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(m===null||P||za||An||sa(o)),Gt)){e:if(m=null,Gt)for(c=o;;){if(c.tag===5||Xa&&c.tag===26){if(m===null){P=m=c;try{A=P.stateNode,w?dm(A):zd(P.stateNode,P.memoizedProps)}catch(Ue){sn(P,P.return,Ue)}}}else if(c.tag===6){if(m===null){P=c;try{var Oe=P.stateNode;w?ko(Oe):fm(Oe,P.memoizedProps)}catch(Ue){sn(P,P.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=o.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,bh(o,m))));break;case 19:Aa(c,o),Ra(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,bh(o,b)));break;case 30:break;case 21:break;default:Aa(c,o),Ra(o)}}function Ra(o){var c=o.flags;if(c&2){try{if(Gt){for(var m,b=o.return;b!==null;){if(Eo(b)){m=b;break}b=b.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:if(Ht){var w=m.stateNode,A=Bu(o);vi(o,A,w);break}case 5:var P=m.stateNode;m.flags&32&&(cm(P),m.flags&=-33);var X=Bu(o);vi(o,X,P);break;case 3:case 4:var ee=m.stateNode.containerInfo,Oe=Bu(o);yd(o,Oe,ee);break;default:throw Error(i(161))}}}catch(Ue){sn(o,o.return,Ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function jr(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;jr(c),c.tag===5&&c.flags&1024&&kh(c.stateNode),o=o.sibling}}function Wi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Ns(o,c.alternate,c),c=c.sibling}function sa(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:$i(4,c,c.return),sa(c);break;case 1:pi(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&vh(c,c.return,m),sa(c);break;case 27:Ht&&Bd(c.stateNode);case 26:case 5:pi(c,c.return),sa(c);break;case 22:c.memoizedState===null&&sa(c);break;case 30:sa(c);break;default:sa(c)}o=o.sibling}}function ta(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,w=o,A=c,P=A.flags;switch(A.tag){case 0:case 11:case 15:ta(w,A,m),wo(4,A);break;case 1:if(ta(w,A,m),b=A,w=b.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Oe){sn(b,b.return,Oe)}if(b=A,w=b.updateQueue,w!==null){var X=b.stateNode;try{var ee=w.shared.hiddenCallbacks;if(ee!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ee.length;w++)rn(ee[w],X)}catch(Oe){sn(b,b.return,Oe)}}m&&P&64&&ph(A),Nl(A,A.return);break;case 27:Ht&&bd(A);case 26:case 5:ta(w,A,m),m&&b===null&&P&4&&Ml(A),Nl(A,A.return);break;case 12:ta(w,A,m);break;case 13:ta(w,A,m),m&&P&4&&Vg(w,A);break;case 22:A.memoizedState===null&&ta(w,A,m),Nl(A,A.return);break;case 30:break;default:ta(w,A,m)}c=c.sibling}}function Ms(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Ye(m))}function Hu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o))}function Sr(o,c,m,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Gu(o,c,m,b),c=c.sibling}function Gu(o,c,m,b){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Sr(o,c,m,b),w&2048&&wo(9,c);break;case 1:Sr(o,c,m,b);break;case 3:Sr(o,c,m,b),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o)));break;case 12:if(w&2048){Sr(o,c,m,b),o=c.stateNode;try{var A=c.memoizedProps,P=A.id,X=A.onPostCommit;typeof X=="function"&&X(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ee){sn(c,c.return,ee)}}else Sr(o,c,m,b);break;case 13:Sr(o,c,m,b);break;case 23:break;case 22:A=c.stateNode,P=c.alternate,c.memoizedState!==null?A._visibility&2?Sr(o,c,m,b):yi(o,c):A._visibility&2?Sr(o,c,m,b):(A._visibility|=2,Ds(o,c,m,b,(c.subtreeFlags&10256)!==0)),w&2048&&Ms(P,c);break;case 24:Sr(o,c,m,b),w&2048&&Hu(c.alternate,c);break;default:Sr(o,c,m,b)}}function Ds(o,c,m,b,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,P=c,X=m,ee=b,Oe=P.flags;switch(P.tag){case 0:case 11:case 15:Ds(A,P,X,ee,w),wo(8,P);break;case 23:break;case 22:var Ue=P.stateNode;P.memoizedState!==null?Ue._visibility&2?Ds(A,P,X,ee,w):yi(A,P):(Ue._visibility|=2,Ds(A,P,X,ee,w)),w&&Oe&2048&&Ms(P.alternate,P);break;case 24:Ds(A,P,X,ee,w),w&&Oe&2048&&Hu(P.alternate,P);break;default:Ds(A,P,X,ee,w)}c=c.sibling}}function yi(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,b=c,w=b.flags;switch(b.tag){case 22:yi(m,b),w&2048&&Ms(b.alternate,b);break;case 24:yi(m,b),w&2048&&Hu(b.alternate,b);break;default:yi(m,b)}c=c.sibling}}function js(o){if(o.subtreeFlags&ba)for(o=o.child;o!==null;)qu(o),o=o.sibling}function qu(o){switch(o.tag){case 26:js(o),o.flags&ba&&(o.memoizedState!==null?ss(Ar,o.memoizedState,o.memoizedProps):nc(o.type,o.memoizedProps));break;case 5:js(o),o.flags&ba&&nc(o.type,o.memoizedProps);break;case 3:case 4:if(Xa){var c=Ar;Ar=Yl(o.stateNode.containerInfo),js(o),Ar=c}else js(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ba,ba=16777216,js(o),ba=c):js(o));break;default:js(o)}}function jl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Vu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];kt=b,bi(b,o)}jl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lr(o),o=o.sibling}function lr(o){switch(o.tag){case 0:case 11:case 15:Vu(o),o.flags&2048&&$i(9,o,o.return);break;case 3:Vu(o);break;case 12:Vu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Co(o)):Vu(o);break;default:Vu(o)}}function Co(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];kt=b,bi(b,o)}jl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:$i(8,c,c.return),Co(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Co(c));break;default:Co(c)}o=o.sibling}}function bi(o,c){for(;kt!==null;){var m=kt;switch(m.tag){case 0:case 11:case 15:$i(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ye(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,kt=b;else e:for(m=o;kt!==null;){b=kt;var w=b.sibling,A=b.return;if(yh(b),b===m){kt=null;break e}if(w!==null){w.return=A,kt=w;break e}kt=A}}}function Sd(o){var c=Fg(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(i(364));return c}if(o=Wg(o),o===null)throw Error(i(362));return o.stateNode.current}function To(o,c){var m=o.tag;switch(c.$$typeof){case Ws:if(o.type===c.value)return!0;break;case _a:e:{for(c=c.value,o=[o,0],m=0;m<o.length;){var b=o[m++],w=b.tag,A=o[m++],P=c[A];if(w!==5&&w!==26&&w!==27||!zo(b)){for(;P!=null&&To(b,P);)A++,P=c[A];if(A===c.length){c=!0;break e}else for(b=b.child;b!==null;)o.push(b,A),b=b.sibling}}c=!1}return c;case Io:if((m===5||m===26||m===27)&&Lh(o.stateNode,c.value))return!0;break;case Ql:if((m===5||m===6||m===26||m===27)&&(o=em(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case Xo:if((m===5||m===26||m===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Ji(o){switch(o.$$typeof){case Ws:return"<"+(_(o.value)||"Unknown")+">";case _a:return":has("+(Ji(o)||"")+")";case Io:return'[role="'+o.value+'"]';case Ql:return'"'+o.value+'"';case Xo:return'[data-testname="'+o.value+'"]';default:throw Error(i(365))}}function xd(o,c){var m=[];o=[o,0];for(var b=0;b<o.length;){var w=o[b++],A=w.tag,P=o[b++],X=c[P];if(A!==5&&A!==26&&A!==27||!zo(w)){for(;X!=null&&To(w,X);)P++,X=c[P];if(P===c.length)m.push(w);else for(w=w.child;w!==null;)o.push(w,P),w=w.sibling}}return m}function Yu(o,c){if(!jo)throw Error(i(363));o=Sd(o),o=xd(o,c),c=[],o=Array.from(o);for(var m=0;m<o.length;){var b=o[m++],w=b.tag;if(w===5||w===26||w===27)zo(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return c}function la(){if((dt&2)!==0&&Ut!==0)return Ut&-Ut;if(ct.T!==null){var o=Cn;return o!==0?o:ma()}return Dh()}function zl(){Br===0&&(Br=(Ut&536870912)===0||Ft?U():536870912);var o=Pr.current;return o!==null&&(o.flags|=32),Br}function Oa(o,c,m){(o===$t&&(on===2||on===9)||o.cancelPendingCommit!==null)&&(kr(o,0),or(o,Ut,Br,!1)),Z(o,m),((dt&2)===0||o!==$t)&&(o===$t&&((dt&2)===0&&(tl|=m),qn===4&&or(o,Ut,Br,!1)),$e(o))}function Zu(o,c,m){if((dt&6)!==0)throw Error(i(327));var b=!m&&(c&124)===0&&(c&o.expiredLanes)===0||j(o,c),w=b?Si(o,c):Qt(o,c,!0),A=b;do{if(w===0){zi&&!b&&or(o,c,0,!1);break}else{if(m=o.current.alternate,A&&!zr(m)){w=Qt(o,c,!1),A=!1;continue}if(w===2){if(A=c,o.errorRecoveryDisabledLanes&A)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var X=o;w=nl;var ee=cr&&X.current.memoizedState.isDehydrated;if(ee&&(kr(X,P).flags|=256),P=Qt(X,P,!1),P!==2){if(_c&&!ee){X.errorRecoveryDisabledLanes|=A,tl|=A,w=4;break e}A=ka,ka=w,A!==null&&(ka===null?ka=A:ka.push.apply(ka,A))}w=P}if(A=!1,w!==2)continue}}if(w===1){kr(o,0),or(o,c,0,!0);break}e:{switch(b=o,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:or(b,c,Br,!fs);break e;case 2:ka=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(w=Fd+300-yn(),10<w)){if(or(b,c,Br,!fs),M(b,0,!0)!==0)break e;b.timeoutHandle=Dd(xr.bind(null,b,m,ka,Sc,al,c,Br,tl,Rr,fs,A,2,-0,0),w);break e}xr(b,m,ka,Sc,al,c,Br,tl,Rr,fs,A,0,-0,0)}}break}while(!0);$e(o)}function xr(o,c,m,b,w,A,P,X,ee,Oe,Ue,Ze,Xe,Rt){if(o.timeoutHandle=Lr,Ze=c.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(tc(),qu(c),Ze=zh(),Ze!==null)){o.cancelPendingCommit=Ze(Eh.bind(null,o,c,A,m,b,w,P,X,ee,Ue,1,Xe,Rt)),or(o,A,P,!Oe);return}Eh(o,c,A,m,b,w,P,X,ee)}function zr(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var w=m[b],A=w.getSnapshot;w=w.value;try{if(!Er(A(),w))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function or(o,c,m,b){c&=~Kd,c&=~tl,o.suspendedLanes|=c,o.pingedLanes&=~c,b&&(o.warmLanes|=c),b=o.expirationTimes;for(var w=c;0<w;){var A=31-hr(w),P=1<<A;b[A]=-1,w&=~P}m!==0&&ie(o,m,c)}function _i(){return(dt&6)===0?(xt(0),!1):!0}function Wr(){if(Tt!==null){if(on===0)var o=Tt.return;else o=Tt,Da=ai=null,Ta(o),Mi=null,Yo=0,o=Tt;for(;o!==null;)xo(o.alternate,o),o=o.return;Tt=null}}function kr(o,c){var m=o.timeoutHandle;m!==Lr&&(o.timeoutHandle=Lr,ec(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Wr(),$t=o,Tt=m=es(o.current,null),Ut=c,on=0,Wa=null,fs=!1,zi=j(o,c),_c=!1,Rr=Br=Kd=tl=ea=qn=0,ka=nl=null,al=!1,(c&8)!==0&&(c|=c&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=c;0<b;){var w=31-hr(b),A=1<<w;c|=o[w],b&=~A}return In=c,Dt(),m}function Sh(o,c){Nt=null,ct.H=$s,c===qo||c===Sn?(c=ze(),on=3):c===Xd?(c=ze(),on=4):on=c===It?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Wa=c,Tt===null&&(qn=1,od(o,Q(c,o.current)))}function wd(){var o=Pr.current;return o===null?!0:(Ut&4194048)===Ut?Di===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?o===Di:!1}function Ed(){var o=ct.H;return ct.H=$s,o===null?$s:o}function Na(){var o=ct.A;return ct.A=Zo,o}function kn(){qn=4,fs||(Ut&4194048)!==Ut&&Pr.current!==null||(zi=!0),(ea&134217727)===0&&(tl&134217727)===0||$t===null||or($t,Ut,Br,!1)}function Qt(o,c,m){var b=dt;dt|=2;var w=Ed(),A=Na();($t!==o||Ut!==c)&&(Sc=null,kr(o,c)),c=!1;var P=qn;e:do try{if(on!==0&&Tt!==null){var X=Tt,ee=Wa;switch(on){case 8:Wr(),P=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(c=!0);var Oe=on;if(on=0,Wa=null,Ul(o,X,ee,Oe),m&&zi){P=0;break e}break;default:Oe=on,on=0,Wa=null,Ul(o,X,ee,Oe)}}kl(),P=qn;break}catch(Ue){Sh(o,Ue)}while(!0);return c&&o.shellSuspendCounter++,Da=ai=null,dt=b,ct.H=w,ct.A=A,Tt===null&&($t=null,Ut=0,Dt()),P}function kl(){for(;Tt!==null;)zs(Tt)}function Si(o,c){var m=dt;dt|=2;var b=Ed(),w=Na();$t!==o||Ut!==c?(Sc=null,Ko=yn()+500,kr(o,c)):zi=j(o,c);e:do try{if(on!==0&&Tt!==null){c=Tt;var A=Wa;t:switch(on){case 1:on=0,Wa=null,Ul(o,c,A,1);break;case 2:case 9:if(_l(A)){on=0,Wa=null,wh(c);break}c=function(){on!==2&&on!==9||$t!==o||(on=7),$e(o)},A.then(c,c);break e;case 3:on=7;break e;case 4:on=5;break e;case 7:_l(A)?(on=0,Wa=null,wh(c)):(on=0,Wa=null,Ul(o,c,A,7));break;case 5:var P=null;switch(Tt.tag){case 26:P=Tt.memoizedState;case 5:case 27:var X=Tt,ee=X.type,Oe=X.pendingProps;if(P?is(P):jd(ee,Oe)){on=0,Wa=null;var Ue=X.sibling;if(Ue!==null)Tt=Ue;else{var Ze=X.return;Ze!==null?(Tt=Ze,ks(Ze)):Tt=null}break t}}on=0,Wa=null,Ul(o,c,A,5);break;case 6:on=0,Wa=null,Ul(o,c,A,6);break;case 8:Wr(),qn=6;break e;default:throw Error(i(462))}}xh();break}catch(Xe){Sh(o,Xe)}while(!0);return Da=ai=null,ct.H=b,ct.A=w,dt=m,Tt!==null?0:($t=null,Ut=0,Dt(),qn)}function xh(){for(;Tt!==null&&!n1();)zs(Tt)}function zs(o){var c=ku(o.alternate,o,In);o.memoizedProps=o.pendingProps,c===null?ks(o):Tt=c}function wh(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=Bg(m,c,c.pendingProps,c.type,void 0,Ut);break;case 11:c=Bg(m,c,c.pendingProps,c.type.render,c.ref,Ut);break;case 5:Ta(c);default:xo(m,c),c=Tt=Fn(c,In),c=ku(m,c,In)}o.memoizedProps=o.pendingProps,c===null?ks(o):Tt=c}function Ul(o,c,m,b){Da=ai=null,Ta(c),Mi=null,Yo=0;var w=c.return;try{if(Xv(o,w,c,m,Ut)){qn=1,od(o,Q(m,o.current)),Tt=null;return}}catch(A){if(w!==null)throw Tt=w,A;qn=1,od(o,Q(m,o.current)),Tt=null;return}c.flags&32768?(Ft||b===1?o=!0:zi||(Ut&536870912)!==0?o=!1:(fs=o=!0,(b===2||b===9||b===3||b===6)&&(b=Pr.current,b!==null&&b.tag===13&&(b.flags|=16384))),Ao(c,o)):ks(c)}function ks(o){var c=o;do{if((c.flags&32768)!==0){Ao(c,fs);return}o=c.return;var m=Fv(c.alternate,c,In);if(m!==null){Tt=m;return}if(c=c.sibling,c!==null){Tt=c;return}Tt=c=o}while(c!==null);qn===0&&(qn=5)}function Ao(o,c){do{var m=_r(o.alternate,o);if(m!==null){m.flags&=32767,Tt=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){Tt=o;return}Tt=o=m}while(o!==null);qn=6,Tt=null}function Eh(o,c,m,b,w,A,P,X,ee){o.cancelPendingCommit=null;do Ur();while(na!==0);if((dt&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=a0,$(o,m,A,P,X,ee),o===$t&&(Tt=$t=null,Ut=0),Fo=c,rl=o,Qo=m,Qd=A,$d=w,$l=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Yg(qd,function(){return wi(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=ct.T,ct.T=null,w=ei(),oa(2),P=dt,dt|=4;try{qg(o,c,m)}finally{dt=P,oa(w),ct.T=b}}na=1,Ro(),Cd(),Us()}}function Ro(){if(na===1){na=0;var o=rl,c=Fo,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=ct.T,ct.T=null;var b=ei();oa(2);var w=dt;dt|=4;try{_h(c,o),zt(o.containerInfo)}finally{dt=w,oa(b),ct.T=m}}o.current=c,na=2}}function Cd(){if(na===2){na=0;var o=rl,c=Fo,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=ct.T,ct.T=null;var b=ei();oa(2);var w=dt;dt|=4;try{Ns(o,c.alternate,c)}finally{dt=w,oa(b),ct.T=m}}na=3}}function Us(){if(na===4||na===3){na=0,Rm();var o=rl,c=Fo,m=Qo,b=$l;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?na=5:(na=0,Fo=rl=null,xi(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(ki=null),le(m),c=c.stateNode,Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(Vs,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=ct.T,w=ei(),oa(2),ct.T=null;try{for(var A=o.onRecoverableError,P=0;P<b.length;P++){var X=b[P];A(X.value,{componentStack:X.stack})}}finally{ct.T=c,oa(w)}}(Qo&3)!==0&&Ur(),$e(o),w=o.pendingLanes,(m&4194090)!==0&&(w&42)!==0?o===Wd?il++:(il=0,Wd=o):il=0,xt(0)}}function xi(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ye(c)))}function Ur(o){return Ro(),Cd(),Us(),wi()}function wi(){if(na!==5)return!1;var o=rl,c=Qd;Qd=0;var m=le(Qo),b=32>m?32:m;m=ct.T;var w=ei();try{oa(b),ct.T=null,b=$d,$d=null;var A=rl,P=Qo;if(na=0,Fo=rl=null,Qo=0,(dt&6)!==0)throw Error(i(331));var X=dt;if(dt|=4,lr(A.current),Gu(A,A.current,P,b),dt=X,xt(0,!1),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(Vs,A)}catch{}return!0}finally{oa(w),ct.T=m,xi(o,c)}}function Td(o,c,m){c=Q(m,c),c=ud(o.stateNode,c,2),o=We(o,c,2),o!==null&&(Z(o,2),$e(o))}function sn(o,c,m){if(o.tag===3)Td(o,o,m);else for(;c!==null;){if(c.tag===3){Td(c,o,m);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ki===null||!ki.has(b))){o=Q(m,o),m=Dg(2),b=We(c,m,2),b!==null&&(jg(m,b,c,o),Z(b,2),$e(b));break}}c=c.return}}function Ll(o,c,m){var b=o.pingCache;if(b===null){b=o.pingCache=new el;var w=new Set;b.set(c,w)}else w=b.get(c),w===void 0&&(w=new Set,b.set(c,w));w.has(m)||(_c=!0,w.add(m),o=Ad.bind(null,o,c,m),c.then(o,o))}function Ad(o,c,m){var b=o.pingCache;b!==null&&b.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,$t===o&&(Ut&m)===m&&(qn===4||qn===3&&(Ut&62914560)===Ut&&300>yn()-Fd?(dt&2)===0&&kr(o,0):Kd|=m,Rr===Ut&&(Rr=0)),$e(o)}function Ls(o,c){c===0&&(c=H()),o=ue(o,c),o!==null&&(Z(o,c),$e(o))}function Ma(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),Ls(o,m)}function Rd(o,c){var m=0;switch(o.tag){case 13:var b=o.stateNode,w=o.memoizedState;w!==null&&(m=w.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),Ls(o,m)}function Yg(o,c){return cc(o,c)}function $v(o,c,m,b){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ch(o){return o=o.prototype,!(!o||!o.isReactComponent)}function es(o,c){var m=o.alternate;return m===null?(m=n(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Fn(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Oo(o,c,m,b,w,A){var P=0;if(b=o,typeof o=="function")Ch(o)&&(P=1);else if(typeof o=="string")P=Xa&&Ht?sc(o,m,Mn.current)?26:Jh(o)?27:5:Xa?sc(o,m,Mn.current)?26:5:Ht&&Jh(o)?27:5;else e:switch(o){case Vl:return o=n(31,m,c,w),o.elementType=Vl,o.lanes=A,o;case ql:return Jr(m.children,w,A,c);case Xu:P=8,w|=24;break;case Nd:return o=n(12,m,c,w|2),o.elementType=Nd,o.lanes=A,o;case Fu:return o=n(13,m,c,w),o.elementType=Fu,o.lanes=A,o;case Qu:return o=n(19,m,c,w),o.elementType=Qu,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ku:case ns:P=10;break e;case Rh:P=9;break e;case Ei:P=11;break e;case Ci:P=14;break e;case Ia:P=16,b=null;break e}P=29,m=Error(i(130,o===null?"null":typeof o,"")),b=null}return c=n(P,m,c,w),c.elementType=o,c.type=b,c.lanes=A,c}function Jr(o,c,m,b){return o=n(7,o,b,c),o.lanes=m,o}function Pl(o,c,m){return o=n(6,o,null,c),o.lanes=m,o}function Iu(o,c,m){return c=n(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function No(o,c,m,b,w,A,P,X){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Lr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=b,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Bl(o,c,m,b,w,A,P,X,ee,Oe,Ue,Ze){return o=new No(o,c,m,P,X,ee,Oe,Ze),c=1,A===!0&&(c|=24),A=n(3,null,null,c),o.current=A,A.stateNode=o,c=je(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:b,isDehydrated:m,cache:c},et(A),o}function Zg(o){return o?(o=Il,o):Il}function Th(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=f(c),o=o!==null?g(o):null,o===null?null:Do(o.stateNode)}function Ig(o,c,m,b,w,A){w=Zg(w),b.context===null?b.context=w:b.pendingContext=w,b=Ke(c),b.payload={element:m},A=A===void 0?null:A,A!==null&&(b.callback=A),m=We(o,b,c),m!==null&&(Oa(m,o,c),it(m,o,c))}function Ah(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function ts(o,c){Ah(o,c),(o=o.alternate)&&Ah(o,c)}var jt={},Od=sg(),ur=f2(),Hl=Object.assign,Xg=Symbol.for("react.element"),Gl=Symbol.for("react.transitional.element"),Ps=Symbol.for("react.portal"),ql=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),Ku=Symbol.for("react.provider"),Rh=Symbol.for("react.consumer"),ns=Symbol.for("react.context"),Ei=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),Ci=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),Vl=Symbol.for("react.activity"),Oh=Symbol.for("react.memo_cache_sentinel"),Md=Symbol.iterator,$u=Symbol.for("react.client.reference"),Bs=Array.isArray,ct=Od.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kg=e.rendererVersion,Mo=e.rendererPackageName,Wu=e.extraDevToolsConfig,Do=e.getPublicInstance,Nh=e.getRootHostContext,Mh=e.getChildHostContext,Hs=e.prepareForCommit,zt=e.resetAfterCommit,vn=e.createInstance;e.cloneMutableInstance;var Yn=e.appendInitialChild,Ju=e.finalizeInitialChildren,as=e.shouldSetTextContent,Gs=e.createTextInstance;e.cloneMutableTextInstance;var Dd=e.scheduleTimeout,ec=e.cancelTimeout,Lr=e.noTimeout,rs=e.isPrimaryRenderer;e.warnsIfNotActing;var Gt=e.supportsMutation,Ti=e.supportsPersistence,cr=e.supportsHydration,Fg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Qg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var oa=e.setCurrentUpdatePriority,ei=e.getCurrentUpdatePriority,Dh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var jh=e.shouldAttemptEagerTransition,dr=e.detachDeletedInstance;e.requestPostPaintCallback;var Qn=e.maySuspendCommit,jd=e.preloadInstance,tc=e.startSuspendingCommit,nc=e.suspendInstance;e.suspendOnActiveViewTransition;var zh=e.waitForCommitToBeReady,fr=e.NotPendingTransition,Ai=e.HostTransitionContext,kh=e.resetFormInstance;e.bindToConsole;var Uh=e.supportsMicrotasks,$g=e.scheduleMicrotask,jo=e.supportsTestSelectors,Wg=e.findFiberRoot,Jg=e.getBoundingRect,em=e.getTextContent,zo=e.isHiddenSubtree,Lh=e.matchAccessibilityRole,tm=e.setFocusIfFocusable,Wv=e.setupIntersectionObserver,nm=e.appendChild,am=e.appendChildToContainer,rm=e.commitTextUpdate,Ph=e.commitMount,im=e.commitUpdate,sm=e.insertBefore,lm=e.insertInContainerBefore,om=e.removeChild,um=e.removeChildFromContainer,cm=e.resetTextContent,dm=e.hideInstance,ko=e.hideTextInstance,zd=e.unhideInstance,fm=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var kd=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var ac=e.cloneInstance,Bh=e.createContainerChildSet,Hh=e.appendChildToContainerChildSet,hm=e.finalizeContainerChildren,Gh=e.replaceContainerChildren,qh=e.cloneHiddenInstance,Vh=e.cloneHiddenTextInstance,rc=e.isSuspenseInstancePending,Ud=e.isSuspenseInstanceFallback,gm=e.getSuspenseInstanceFallbackErrorDetails,Yh=e.registerSuspenseInstanceRetry,mm=e.canHydrateFormStateMarker,pm=e.isFormStateMarkerMatching,vm=e.getNextHydratableSibling,Zh=e.getNextHydratableSiblingAfterSingleton,ym=e.getFirstHydratableChild,bm=e.getFirstHydratableChildWithinContainer,Ih=e.getFirstHydratableChildWithinSuspenseInstance,_m=e.getFirstHydratableChildWithinSingleton,Sm=e.canHydrateInstance,Jv=e.canHydrateTextInstance,e1=e.canHydrateSuspenseInstance,xm=e.hydrateInstance,ic=e.hydrateTextInstance,Xh=e.hydrateSuspenseInstance,Ld=e.getNextHydratableInstanceAfterSuspenseInstance,wm=e.commitHydratedContainer,Em=e.commitHydratedSuspenseInstance,Pd=e.clearSuspenseBoundary,Cm=e.clearSuspenseBoundaryFromContainer,Kh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var t1=e.validateHydratableInstance,Uo=e.validateHydratableTextInstance,Xa=e.supportsResources,sc=e.isHostHoistableType,Yl=e.getHoistableRoot,lc=e.getResource,Fh=e.acquireResource,Qh=e.releaseResource,Lo=e.hydrateHoistable,$h=e.mountHoistable,wr=e.unmountHoistable,Ri=e.createHoistableInstance,qs=e.prepareToCommitHoistables,Tm=e.mayResourceSuspendCommit,is=e.preloadResource,ss=e.suspendResource,Ht=e.supportsSingletons,oc=e.resolveSingletonInstance,Wh=e.acquireSingletonInstance,Bd=e.releaseSingletonInstance,Jh=e.isHostSingletonType,Zl=e.isSingletonScope,ls=[],os=-1,Il={},hr=Math.clz32?Math.clz32:R,Am=Math.log,Hd=Math.LN2,uc=256,Po=4194304,cc=ur.unstable_scheduleCallback,Gd=ur.unstable_cancelCallback,n1=ur.unstable_shouldYield,Rm=ur.unstable_requestPaint,yn=ur.unstable_now,ua=ur.unstable_ImmediatePriority,Om=ur.unstable_UserBlockingPriority,qd=ur.unstable_NormalPriority,Nm=ur.unstable_IdlePriority,Mm=ur.log,Dm=ur.unstable_setDisableYieldValue,Vs=null,Ka=null,Vd,e0,Yd=!1,Zd=new WeakMap,Ys=[],Zs=0,dc=null,Bo=0,Fa=[],gr=0,Is=null,ti=1,Oi="",Mn=S(null),Xl=S(null),Xs=S(null),fc=S(null),Gn=null,$n=null,Ft=!1,ni=null,nn=!1,t0=Error(i(519)),Er=typeof Object.is=="function"?Object.is:Ot,hc=S(null),ai=null,Da=null,jm=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,b){o.push(b)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},zm=ur.unstable_scheduleCallback,gc=ur.unstable_NormalPriority,ln={$$typeof:ns,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},mc=null,Ks=null,Id=!1,Ho=!1,pc=!1,us=0,Go=null,ri=0,Cn=0,Fs=null,n0=ct.S;ct.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Fr(o,c),n0!==null&&n0(o,c)};var Un=S(null),a1=Object.prototype.hasOwnProperty,qo=Error(i(460)),Xd=Error(i(474)),Sn=Error(i(542)),ya={then:function(){}},mr=null,Cr=[],Kl=0,a0=0,Ni=!1,Qa=!1,ja=S(null),vc=S(0),Wn=0,Nt=null,Zt=null,Tn=null,ii=!1,Qs=!1,cs=!1,Tr=0,Vo=0,si=null,yc=0,$s={readContext:fe,use:En,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},Fl={readContext:fe,use:En,useCallback:function(o,c){return ft().memoizedState=[o,c===void 0?null:c],o},useContext:fe,useEffect:rh,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,Ou(4194308,4,vo.bind(null,c,o),m)},useLayoutEffect:function(o,c){return Ou(4194308,4,o,c)},useInsertionEffect:function(o,c){Ou(4,2,o,c)},useMemo:function(o,c){var m=ft();c=c===void 0?null:c;var b=o();if(cs){ye(!0);try{o()}finally{ye(!1)}}return m.memoizedState=[b,c],b},useReducer:function(o,c,m){var b=ft();if(m!==void 0){var w=m(c);if(cs){ye(!0);try{m(c)}finally{ye(!1)}}}else w=c;return b.memoizedState=b.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},b.queue=o,o=o.dispatch=lh.bind(null,Nt,o),[b.memoizedState,o]},useRef:function(o){var c=ft();return o={current:o},c.memoizedState=o},useState:function(o){o=$c(o);var c=o.queue,m=ad.bind(null,Nt,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:Nu,useDeferredValue:function(o,c){var m=ft();return yo(m,o,c)},useTransition:function(){var o=$c(!1);return o=sh.bind(null,Nt,o.queue,!0,!1),ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var b=Nt,w=ft();if(Ft){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),$t===null)throw Error(i(349));(Ut&124)!==0||Wf(b,c,m)}w.memoizedState=m;var A={value:m,getSnapshot:c};return w.queue=A,rh(xg.bind(null,b,A,o),[o]),b.flags|=2048,As(9,Zi(),Ru.bind(null,b,A,m,c),null),m},useId:function(){var o=ft(),c=$t.identifierPrefix;if(Ft){var m=Oi,b=ti;m=(b&~(1<<32-hr(b)-1)).toString(32)+m,c=""+c+"R"+m,m=Tr++,0<m&&(c+="H"+m.toString(32)),c+=""}else m=yc++,c=""+c+"r"+m.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Xi,useFormState:Jc,useActionState:Jc,useOptimistic:function(o){var c=ft();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=_o.bind(null,Nt,!0,m),m.dispatch=c,[o,c]},useMemoCache:Ts,useCacheRefresh:function(){return ft().memoizedState=Iv.bind(null,Nt)}},r0={readContext:fe,use:En,useCallback:Mu,useContext:fe,useEffect:po,useImperativeHandle:Ii,useInsertionEffect:mi,useLayoutEffect:nd,useMemo:ih,useReducer:pa,useRef:El,useState:function(){return pa(vr)},useDebugValue:Nu,useDeferredValue:function(o,c){var m=Pt();return Du(m,Zt.memoizedState,o,c)},useTransition:function(){var o=pa(vr)[0],c=Pt().memoizedState;return[typeof o=="boolean"?o:Ya(o),c]},useSyncExternalStore:Au,useId:ju,useHostTransitionStatus:Xi,useFormState:wg,useActionState:wg,useOptimistic:function(o,c){var m=Pt();return Wc(m,Zt,o,c)},useMemoCache:Ts,useCacheRefresh:bo},km={readContext:fe,use:En,useCallback:Mu,useContext:fe,useEffect:po,useImperativeHandle:Ii,useInsertionEffect:mi,useLayoutEffect:nd,useMemo:ih,useReducer:$f,useRef:El,useState:function(){return $f(vr)},useDebugValue:Nu,useDeferredValue:function(o,c){var m=Pt();return Zt===null?yo(m,o,c):Du(m,Zt.memoizedState,o,c)},useTransition:function(){var o=$f(vr)[0],c=Pt().memoizedState;return[typeof o=="boolean"?o:Ya(o),c]},useSyncExternalStore:Au,useId:ju,useHostTransitionStatus:Xi,useFormState:td,useActionState:td,useOptimistic:function(o,c){var m=Pt();return Zt!==null?Wc(m,Zt,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Ts,useCacheRefresh:bo},Mi=null,Yo=0,ds=Rg(!0),i0=Rg(!1),Pr=S(null),Di=null,vt=S(0),bn={enqueueSetState:function(o,c,m){o=o._reactInternals;var b=la(),w=Ke(b);w.payload=c,m!=null&&(w.callback=m),c=We(o,w,b),c!==null&&(Oa(c,o,b),it(c,o,b))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var b=la(),w=Ke(b);w.tag=1,w.payload=c,m!=null&&(w.callback=m),c=We(o,w,b),c!==null&&(Oa(c,o,b),it(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=la(),b=Ke(m);b.tag=2,c!=null&&(b.callback=c),c=We(o,b,m),c!==null&&(Oa(c,o,m),it(c,o,m))}},Bt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},It=Error(i(461)),yt=!1,$a={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},za=!1,An=!1,bc=!1,ji=typeof WeakSet=="function"?WeakSet:Set,kt=null,xn=null,Jn=!1,Ar=null,ba=8192,Zo={getCacheForType:function(o){var c=fe(ln),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m}},Ws=0,_a=1,Io=2,Xo=3,Ql=4;if(typeof Symbol=="function"&&Symbol.for){var Js=Symbol.for;Ws=Js("selector.component"),_a=Js("selector.has_pseudo_class"),Io=Js("selector.role"),Xo=Js("selector.test_id"),Ql=Js("selector.text")}var el=typeof WeakMap=="function"?WeakMap:Map,dt=0,$t=null,Tt=null,Ut=0,on=0,Wa=null,fs=!1,zi=!1,_c=!1,In=0,qn=0,ea=0,tl=0,Kd=0,Br=0,Rr=0,nl=null,ka=null,al=!1,Fd=0,Ko=1/0,Sc=null,ki=null,na=0,rl=null,Fo=null,Qo=0,Qd=0,$d=null,$l=null,il=0,Wd=null;return jt.attemptContinuousHydration=function(o){if(o.tag===13){var c=ue(o,67108864);c!==null&&Oa(c,o,67108864),ts(o,67108864)}},jt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=la();c=Re(c);var m=ue(o,c);m!==null&&Oa(m,o,c),ts(o,c)}},jt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=O(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var m=1<<31-hr(c);o.entanglements[1]|=m,c&=~m}$e(o),(dt&6)===0&&(Ko=yn()+500,xt(0))}}break;case 13:c=ue(o,2),c!==null&&Oa(c,o,2),_i(),ts(o,2)}},jt.batchedUpdates=function(o,c){return o(c)},jt.createComponentSelector=function(o){return{$$typeof:Ws,value:o}},jt.createContainer=function(o,c,m,b,w,A,P,X,ee,Oe){return Bl(o,c,!1,null,m,b,A,P,X,ee,Oe,null)},jt.createHasPseudoClassSelector=function(o){return{$$typeof:_a,value:o}},jt.createHydrationContainer=function(o,c,m,b,w,A,P,X,ee,Oe,Ue,Ze,Xe){return o=Bl(m,b,!0,o,w,A,X,ee,Oe,Ue,Ze,Xe),o.context=Zg(null),m=o.current,b=la(),b=Re(b),w=Ke(b),w.callback=c??null,We(m,w,b),c=b,o.current.lanes=c,Z(o,c),$e(o),o},jt.createPortal=function(o,c,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:b==null?null:""+b,children:o,containerInfo:c,implementation:m}},jt.createRoleSelector=function(o){return{$$typeof:Io,value:o}},jt.createTestNameSelector=function(o){return{$$typeof:Xo,value:o}},jt.createTextSelector=function(o){return{$$typeof:Ql,value:o}},jt.defaultOnCaughtError=function(o){console.error(o)},jt.defaultOnRecoverableError=function(o){Bt(o)},jt.defaultOnUncaughtError=function(o){Bt(o)},jt.deferredUpdates=function(o){var c=ct.T,m=ei();try{return oa(32),ct.T=null,o()}finally{oa(m),ct.T=c}},jt.discreteUpdates=function(o,c,m,b,w){var A=ct.T,P=ei();try{return oa(2),ct.T=null,o(c,m,b,w)}finally{oa(P),ct.T=A,dt===0&&(Ko=yn()+500)}},jt.findAllNodes=Yu,jt.findBoundingRects=function(o,c){if(!jo)throw Error(i(363));c=Yu(o,c),o=[];for(var m=0;m<c.length;m++)o.push(Jg(c[m]));for(c=o.length-1;0<c;c--){m=o[c];for(var b=m.x,w=b+m.width,A=m.y,P=A+m.height,X=c-1;0<=X;X--)if(c!==X){var ee=o[X],Oe=ee.x,Ue=Oe+ee.width,Ze=ee.y,Xe=Ze+ee.height;if(b>=Oe&&A>=Ze&&w<=Ue&&P<=Xe){o.splice(c,1);break}else if(b!==Oe||m.width!==ee.width||Xe<A||Ze>P){if(!(A!==Ze||m.height!==ee.height||Ue<b||Oe>w)){Oe>b&&(ee.width+=Oe-b,ee.x=b),Ue<w&&(ee.width=w-Oe),o.splice(c,1);break}}else{Ze>A&&(ee.height+=Ze-A,ee.y=A),Xe<P&&(ee.height=P-Ze),o.splice(c,1);break}}}return o},jt.findHostInstance=Th,jt.findHostInstanceWithNoPortals=function(o){return o=f(o),o=o!==null?p(o):null,o===null?null:Do(o.stateNode)},jt.findHostInstanceWithWarning=function(o){return Th(o)},jt.flushPassiveEffects=Ur,jt.flushSyncFromReconciler=function(o){var c=dt;dt|=1;var m=ct.T,b=ei();try{if(oa(2),ct.T=null,o)return o()}finally{oa(b),ct.T=m,dt=c,(dt&6)===0&&xt(0)}},jt.flushSyncWork=_i,jt.focusWithin=function(o,c){if(!jo)throw Error(i(363));for(o=Sd(o),c=xd(o,c),c=Array.from(c),o=0;o<c.length;){var m=c[o++],b=m.tag;if(!zo(m)){if((b===5||b===26||b===27)&&tm(m.stateNode))return!0;for(m=m.child;m!==null;)c.push(m),m=m.sibling}}return!1},jt.getFindAllNodesFailureDescription=function(o,c){if(!jo)throw Error(i(363));var m=0,b=[];o=[Sd(o),0];for(var w=0;w<o.length;){var A=o[w++],P=A.tag,X=o[w++],ee=c[X];if((P!==5&&P!==26&&P!==27||!zo(A))&&(To(A,ee)&&(b.push(Ji(ee)),X++,X>m&&(m=X)),X<c.length))for(A=A.child;A!==null;)o.push(A,X),A=A.sibling}if(m<c.length){for(o=[];m<c.length;m++)o.push(Ji(c[m]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},jt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Do(o.child.stateNode);default:return o.child.stateNode}},jt.injectIntoDevTools=function(){var o={bundleType:0,version:Kg,rendererPackageName:Mo,currentDispatcherRef:ct,reconcilerVersion:"19.1.0"};if(Wu!==null&&(o.rendererConfig=Wu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{Vs=c.inject(o),Ka=c}catch{}o=!!c.checkDCE}}return o},jt.isAlreadyRendering=function(){return(dt&6)!==0},jt.observeVisibleRects=function(o,c,m,b){if(!jo)throw Error(i(363));o=Yu(o,c);var w=Wv(o,m,b).disconnect;return{disconnect:function(){w()}}},jt.shouldError=function(){return null},jt.shouldSuspend=function(){return!1},jt.startHostTransition=function(o,c,m,b){if(o.tag!==5)throw Error(i(476));var w=Za(o).queue;sh(o,w,c,fr,m===null?a:function(){var A=Za(o).next.queue;return Ki(o,A,{},la()),m(b)})},jt.updateContainer=function(o,c,m,b){var w=c.current,A=la();return Ig(w,A,o,c,m,b),A},jt.updateContainerSync=function(o,c,m,b){return Ig(c.current,2,o,c,m,b),2},jt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(iy)),iy.exports}var b5;function Ij(){return b5||(b5=1,ry.exports=Zj()),ry.exports}var Xj=Ij();const Kj=ig(Xj);var sy={exports:{}},eo={};var _5;function Fj(){return _5||(_5=1,eo.ConcurrentRoot=1,eo.ContinuousEventPriority=8,eo.DefaultEventPriority=32,eo.DiscreteEventPriority=2,eo.IdleEventPriority=268435456,eo.LegacyRoot=0,eo.NoEventPriority=0),eo}var S5;function Qj(){return S5||(S5=1,sy.exports=Fj()),sy.exports}var Dv=Qj();const x5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let w5=!1,E5=!1;const uv=".react-konva-event",$j=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Wj=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Jj={};function jv(t,e,n=Jj){if(!w5&&"zIndex"in e&&(console.warn(Wj),w5=!0),!E5&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn($j),E5=!0)}for(var l in n)if(!x5[l]){var u=l.slice(0,2)==="on",f=n[l]!==e[l];if(u&&f){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),t.off(g,n[l])}var p=!e.hasOwnProperty(l);p&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},S=!1;const C={};for(var l in e)if(!x5[l]){var u=l.slice(0,2)==="on",T=n[l]!==e[l];if(u&&T){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(C[g]=e[l])}!u&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(S=!0,_[l]=e[l])}S&&(t.setAttrs(_),Eu(t));for(var g in C)t.off(g+uv),t.on(g+uv,C[g])}function Eu(t){if(!qe.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var ly=f2();const fx={},ez={};qf.Node.prototype._applyProps=jv;let hx=Dv.DefaultEventPriority;function tz(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Eu(t)}function nz(t,e,n){let a=qf[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=qf.Group);const i={},l={};for(var u in e)if(u!=="ref"){var f=u.slice(0,2)==="on";f?l[u]=e[u]:i[u]=e[u]}const g=new a(i);return jv(g,l),g}function az(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function rz(t,e,n){return!1}function iz(t){return t}function sz(){return null}function lz(){return null}function oz(t,e,n,a){return ez}function uz(){}function cz(t){}function dz(t,e){return!1}function fz(){return fx}function hz(){return fx}const gz=setTimeout,mz=clearTimeout,pz=!0,vz=t=>{t()},yz=-1;function bz(t,e){return!1}const _z=!1,Sz=!1,xz=!0,wz=!1,Ez=!1;function Cz(t,e){e.parent===t?e.moveToTop():t.add(e),Eu(t)}function Tz(t,e){e.parent===t?e.moveToTop():t.add(e),Eu(t)}function gx(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Eu(t)}function Az(t,e,n){gx(t,e,n)}function Rz(t,e){e.destroy(),e.off(uv),Eu(t)}function Oz(t,e){e.destroy(),e.off(uv),Eu(t)}function Nz(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Mz(t,e,n){}function Dz(t,e,n,a){jv(t,a,n)}function jz(t){t.hide(),Eu(t)}function zz(t){}function kz(t,e){(e.visible==null||e.visible)&&t.show()}function Uz(t,e){}function Lz(t){}function Pz(){}function Bz(){return Dv.DefaultEventPriority}function Hz(){}function Gz(){return null}function qz(t){hx=t}function Vz(){return hx}function Yz(){return Dv.DiscreteEventPriority}function Zz(){return!1}function Iz(){}function Xz(){return!1}function Kz(){return!0}function Fz(){}function Qz(){}function $z(){return null}const Wz=null;function Jz(){}const ek=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:Wz,appendChild:Cz,appendChildToContainer:Tz,appendInitialChild:tz,cancelTimeout:mz,clearContainer:Lz,commitMount:Mz,commitTextUpdate:Nz,commitUpdate:Dz,createInstance:nz,createTextInstance:az,detachDeletedInstance:Pz,finalizeInitialChildren:rz,getChildHostContext:hz,getCurrentEventPriority:Bz,getCurrentUpdatePriority:Vz,getInstanceFromScope:Gz,getPublicInstance:iz,getRootHostContext:fz,hideInstance:jz,hideTextInstance:zz,idlePriority:ly.unstable_IdlePriority,insertBefore:gx,insertInContainerBefore:Az,isPrimaryRenderer:_z,maySuspendCommit:Xz,noTimeout:yz,now:ly.unstable_now,preloadInstance:Kz,prepareForCommit:sz,preparePortalMount:lz,prepareScopeUpdate:Hz,prepareUpdate:oz,removeChild:Rz,removeChildFromContainer:Oz,requestPostPaintCallback:Iz,resetAfterCommit:uz,resetFormInstance:Jz,resetTextContent:cz,resolveUpdatePriority:Yz,run:ly.unstable_runWithPriority,scheduleMicrotask:vz,scheduleTimeout:gz,setCurrentUpdatePriority:qz,shouldAttemptEagerTransition:Zz,shouldDeprioritizeSubtree:dz,shouldSetTextContent:bz,startSuspendingCommit:Fz,supportsHydration:Ez,supportsMicrotasks:pz,supportsMutation:xz,supportsPersistence:wz,suspendInstance:Qz,unhideInstance:kz,unhideTextInstance:Uz,waitForCommitToBeReady:$z,warnsIfNotActing:Sz},Symbol.toStringTag,{value:"Module"}));function mx(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=mx(a,e,n);if(i)return i;a=a.sibling}}function px(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const X2=px(N.createContext(null));class vx extends N.Component{render(){return N.createElement(X2.Provider,{value:this._reactInternals},this.props.children)}}function tk(){const t=N.useContext(X2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=mx(n,!1,i=>{let l=i.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const nk=Symbol.for("react.context"),ak=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===nk;function rk(){const t=tk(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;ak(a)&&a!==X2&&!e.has(a)&&e.set(a,N.use(px(a))),n=n.return}return e}function yx(){const t=rk();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(vx,{...e})),[t])}if(Qe.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function ik(t){const e=Qe.useRef({});return Qe.useLayoutEffect(()=>{e.current=t}),Qe.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const sk=()=>{const t=Qe.useRef(0);return Qe.useMemo(()=>{t.current++},[]),t.current>1},lk=t=>{const e=Qe.useRef(null),n=Qe.useRef(null),a=Qe.useRef(null),i=ik(t),l=yx(),u=Qe.useRef(!1),f=p=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(p):v.current=p)},g=sk();return Qe.useLayoutEffect(()=>u.current&&g?()=>{u.current=!1,f(null),Rf.updateContainer(null,a.current,null),n.current.destroy()}:(u.current=!0,n.current=new qf.Stage({width:t.width,height:t.height,container:e.current}),f(n.current),a.current=Rf.createContainer(n.current,Dv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Rf.updateContainer(Qe.createElement(l,{},t.children),a.current,null,()=>{}),()=>{g||(f(null),Rf.updateContainer(null,a.current,null),n.current.destroy())}),[]),Qe.useLayoutEffect(()=>{f(n.current),jv(n.current,t,i),Rf.updateContainer(Qe.createElement(l,{},t.children),a.current,null)}),Qe.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},A0="Layer",Xr="Group",cl="Rect",bx="Circle",ok="Line",vs="Text",uk="Path",ck="Arrow",dk="Transformer",Rf=Kj(ek);Rf.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Qe.version,rendererPackageName:"react-konva"});const fk=Qe.forwardRef((t,e)=>Qe.createElement(vx,{},Qe.createElement(lk,{...t,forwardedRef:e})));function oy(t,e,n,a,i){t.forEach(l=>{if(!e.current||!n.current)return;const u=i.current.get(l.from),f=i.current.get(l.to),g=a.current?.findOne(`#${l.id}`);if(!u||!f||!g)return;const p=f.x()-u.x(),v=f.y()-u.y(),_=Math.sqrt(p*p+v*v),S=p/_,C=v/_,T=Math.min(30,_/5-1),R=u.getAttr("mainWidth")*(u.attrs.scalingX??1),O=u.getAttr("mainHeight")*(u.attrs.scalingY??1),M=f.getAttr("mainWidth")*(f.attrs.scalingX??1),j=f.getAttr("mainHeight")*(f.attrs.scalingY??1);g.points([u.x()+R/2+S*(R/2+T),u.y()+O/2+C*(O/2+T),f.x()+M/2-S*(M/2+T),f.y()+j/2-C*(j/2+T)])})}const hk=(t,e,n,a)=>{const i=e.x()-t.x(),l=e.y()-t.y(),u=Math.sqrt(i*i+l*l),f=i/u,g=l/u,p=Math.min(30,u/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),S=a.width()*(e.attrs.scalingX??1),C=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+f*(v/2+p),t.y()+_/2+g*(_/2+p),e.x()+S/2-f*(S/2+p),e.y()+C/2-g*(C/2+p)]},gk=({connector:t,mainLayer:e})=>{const[n,a]=N.useState([]);return N.useEffect(()=>{const i=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),u=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),f=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!i||!l||!u||!f)return;const g=hk(i,l,u,f);a(g)},[e,t]),E.jsx(ck,{id:t.id,points:n,fill:"black",stroke:"black"})},mk=({connectors:t,mainLayer:e})=>E.jsx(E.Fragment,{children:t.map(n=>E.jsx(gk,{connector:n,mainLayer:e},n.id))});function C5(t,e,n){if(e==="eraser")return;const a=t.target;a.cache(),a.moveTo(n.current)}function T5(t,e,n,a){if(a==="eraser")return;const i=t.target.getStage();if(!i||!e.current)return;const l=i?.getPointerPosition();if(!l)return;const u=e.current.getIntersection(l);!n.current&&u?(n.current=u,u.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&u&&n.current!==u?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),u.fire("dragenter",{evt:t.evt},!0),n.current=u):n.current&&!u&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function _p(t,e,n,a,i,l,u,f){if(n==="eraser")return;t.target.clearCache();const g=t.target,v=g.getStage()?.getPointerPosition(),_=e.current?.getIntersection(v);_&&!_.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0);const S=l.find(R=>"group-"+R.id===g.id());g.moveTo(e.current),a.current=null;const C=t.target.id();i(R=>{const O=[...R],M=O.findIndex(j=>"group-"+j.id===C);if(M!==-1){if(O[M].shape!=="line")O[M]={...O[M],x:t.target.x(),y:t.target.y()};else if(O[M].shape==="line"){const j=t.target,z=j.x(),U=j.y();O[M]={...O[M],points:O[M].points.map((H,L)=>L%2===0?H+z:H+U)},j.x(0),j.y(0)}}return O});let T;S&&(S.shape==="line"?T={...S,points:S.points.map((R,O)=>O%2===0?R+t.target.x():R+t.target.y())}:T={...S,x:t.target.x(),y:t.target.y()}),S&&T&&u({action:"update",before:S,after:T,id:f||void 0})}const pk=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,onTransformEnd:p,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C,nodeMap:T,isDraggable:R})=>{const O=C(t,S),M=O.completed+O.not_completed;O.completed===M?t.completed=!0:t.completed=!1;const j=()=>M===0?{completeColor:"purple",completeText:"No Task Yet"}:O.completed===0?{completeColor:"#ff2056",completeText:"Not Started"}:O.completed===M?{completeColor:"#00bc7d",completeText:"Completed"}:{completeColor:"#ff6900",completeText:"In Progress"},{completeColor:z,completeText:U}=j(),[H,L]=N.useState(!1),Z=v(t.color),$=new Date(t.dueDate),be=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).formatToParts($),Re=be.find(se=>se.type==="weekday").value.slice(0,3),le=be.find(se=>se.type==="day").value,ye=be.find(se=>se.type==="month").value.slice(0,3),ge=be.find(se=>se.type==="year").value,de=`${Re}, ${le} ${ye} ${ge}`,B=N.useRef(null);N.useEffect(()=>{B.current&&T&&T.current&&T.current.set("group-"+t.id,B.current)});const Q=typeof window<"u"&&(window.matchMedia("(pointer: coarse)").matches||window.innerWidth<724)||H;return E.jsxs(Xr,{ref:B,id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",mainWidth:t.width,mainHeight:t.height,scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:R,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:p,onMouseEnter:()=>{l==="hand"&&L(!0)},onMouseLeave:()=>{l==="hand"&&L(!1)},onTap:()=>{f(t.id)},onDblTap:()=>{l==="hand"&&g(t)},onClick:()=>{f(t.id)},onDblClick:()=>{l==="hand"&&g(t)},children:[E.jsxs(Xr,{visible:!t.isCollapsed,children:[E.jsx(cl,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:Z,strokeWidth:2.5,shadowForStrokeEnabled:!1}),E.jsx(vs,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.6,listening:!1}),E.jsx(vs,{text:de,x:130,y:170,width:150,fontFamily:"Inter",fontSize:14,align:"right",fill:"black",opacity:.8,listening:!1}),E.jsxs(Xr,{children:[E.jsx(cl,{fill:z,width:100,height:30,x:10,y:160,cornerRadius:10}),E.jsx(vs,{text:U,width:100,height:30,fontFamily:"Inter",align:"center",fill:"white",fontStyle:"bold",x:10,y:158,padding:10})]}),Q&&E.jsxs(Xr,{x:t.width+5,y:t.height/2,onClick:se=>{se.cancelBubble=!0,_(t,null)},onTap:se=>{se.cancelBubble=!0,_(t,null)},children:[E.jsx(bx,{radius:16,fill:"white",stroke:t.color}),E.jsx(vs,{x:-8,y:-13.5,text:"+",fill:"black",fontSize:24,fontFamily:"Inter",align:"left"})]})]}),E.jsxs(Xr,{children:[E.jsx(cl,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),E.jsx(cl,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),E.jsx(vs,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),E.jsxs(Xr,{x:260,y:7,width:20,height:40,onDblClick:se=>{se.cancelBubble=!0},onDblTap:se=>{se.cancelBubble=!0},onClick:se=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),se.cancelBubble=!0,e(ne=>ne.map(_e=>_e.shape==="rect"&&_e.id===t.id?{..._e,isCollapsed:!_e.isCollapsed}:_e)))},onTap:se=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),se.cancelBubble=!0,e(ne=>ne.map(_e=>_e.shape==="rect"&&_e.id===t.id?{..._e,isCollapsed:!_e.isCollapsed}:_e)))},children:[E.jsx(cl,{width:30,height:30,listening:!0}),E.jsx(vs,{width:30,height:30,x:0,y:0,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"center"})]})]})]},"key-"+t.id)},vk=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,onTransformEnd:p,getBorder:v,onAddTodo:_,allShapes:S,getChildCounts:C,nodeMap:T,isDraggable:R})=>E.jsx(E.Fragment,{children:t.map(O=>E.jsx(pk,{rect:O,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:p,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C,nodeMap:T,isDraggable:R},"key-"+O.id))});function yk(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,i=a?.getPointerPosition();if(!i||!a)return;const l=a.scaleX(),u={x:(i.x-a.x())/l,y:(i.y-a.y())/l},f=e.evt.deltaY>0?-1:1,g=1.05,p=f>0?Math.min(l*g,5):Math.max(l/g,.1);a.scale({x:p,y:p});const v={x:i.x-u.x*p,y:i.y-u.y*p};a.position(v),n(Math.round(p*100))}function bk(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('/rect-up/cursor.svg') 16 16, auto";case"draw":return"crosshair";default:return"default"}}const _k=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,onTransformEnd:u,handleEraserClick:f,onTodoClick:g,shapes:p,nodeMap:v,isDraggable:_})=>{const[S,C]=N.useState(!1),T="#FDF6B2",R=t.color,O=new Date(t.dueDate),M=O.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),j=new Date,z=O.getTime()-j.getTime(),U=Math.ceil(z/(1e3*60*60*24)),H=Math.floor(U/7),L=Math.floor(U/30),Z=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:L>=1?{statusColor:"#2b7fff",statusText:`${L} Month${L>1?"s":""} left`,statusTextColor:"white"}:H>=1?{statusColor:"#2b7fff",statusText:`${H} Week${H>1?"s":""} left`,statusTextColor:"white"}:U>=2?{statusColor:"#2b7fff",statusText:`${U} Day${U>1?"s":""} left`,statusTextColor:"white"}:U===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:U===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:$,statusText:ie,statusTextColor:be}=Z(),le=typeof window<"u"&&(window.matchMedia("(pointer: coarse)").matches||window.innerWidth<724)||S,ye=de=>{e(B=>B.map(ae=>ae.id===de&&ae.shape==="todo"?{...ae,completed:!ae.completed}:ae))},ge=N.useRef(null);return N.useEffect(()=>{ge.current&&v&&v.current&&v.current.set("group-"+t.id,ge.current)}),E.jsx(Xr,{id:"group-"+t.id,ref:ge,shapeId:t.id,x:t.x,y:t.y,mainWidth:t.width,mainHeight:t.height,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&C(!0)},onMouseLeave:()=>{l==="hand"&&C(!1)},draggable:_,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:u,onClick:()=>{f(t.id)},onTap:()=>{f(t.id)},onDblClick:()=>{if(l==="hand"){if(!p)return;let de=null;if(t.parents){const B=t.parents?.startsWith("group-")?t.parents.replace("group-",""):t.parents,ae=p.find(Q=>Q.id===B);ae&&ae?.shape==="rect"&&(de=ae)}g(de,t)}},onDblTap:()=>{if(l==="hand"){if(!p)return;let de=null;if(t.parents){const B=t.parents?.startsWith("group-")?t.parents.replace("group-",""):t.parents,ae=p.find(Q=>Q.id===B);ae&&ae?.shape==="rect"&&(de=ae)}g(de,t)}},children:E.jsxs(Xr,{visible:!t.isCollapsed,children:[E.jsx(cl,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:R,strokeWidth:1,shadowForStrokeEnabled:!1}),E.jsxs(Xr,{children:[E.jsx(cl,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),E.jsxs(Xr,{children:[E.jsx(vs,{x:60,y:8,text:t.title,ellipsis:!0,width:t.width-70,height:30,fontSize:20,fontStyle:"bold"}),E.jsx(vs,{x:60,y:32,text:M}),E.jsxs(Xr,{children:[E.jsx(vs,{x:60,y:54,text:"Assigned: "+t.assignee}),E.jsxs(Xr,{x:280,y:50,children:[E.jsx(cl,{width:110,height:18,fill:$,cornerRadius:[4,4,4,4]}),E.jsx(vs,{x:0,y:3,width:110,height:18,text:ie,fill:be,align:"center",fontStyle:"bold",fontSize:12})]})]}),le&&E.jsxs(Xr,{x:26,y:36,children:[E.jsx(bx,{radius:16,fill:T,stroke:R,strokeWidth:1.5,onClick:()=>ye(t.id),onTap:()=>ye(t.id)}),t.completed&&E.jsx(uk,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},Sk=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:g,onTodoClick:p,shapes:v,nodeMap:_,isDraggable:S})=>E.jsx(E.Fragment,{children:t.map(C=>E.jsx(_k,{todo:C,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:g,onTodoClick:p,shapes:v,nodeMap:_,isDraggable:S},"key-"+C.id))});function vg(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function xk(t,e,n,a,i){if(e!=="draw")return;const l=vg(t);if(!l)return;i(!0);const u={shape:"line",behavior:"decor",color:"black",id:"line-"+Date.now().toString(),points:[l.x,l.y],stroke:n,strokeWidth:4,scaleX:1,scaleY:1};a(f=>[...f,u])}function wk(t,e,n,a){if(!a||e!=="draw")return;const i=vg(t);i&&n(l=>{if(l.length===0)return l;const u=l[l.length-1];if(u.shape!=="line")return l;const f={...u,points:[...u.points,i.x,i.y]};return[...l.slice(0,-1),f]})}function Ek(t,e){t&&e(!1)}const Ck=({lines:t,onDragEnd:e,onTransformEnd:n,isDraggable:a})=>E.jsx(E.Fragment,{children:t.map(i=>E.jsx(ok,{id:"group-"+i.id,scaleX:i.scaleX,scaleY:i.scaleY,points:i.points,stroke:i.stroke,strokeWidth:i.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:a,onDragEnd:e,onTransformEnd:n},i.id))}),A5=20;function Tk(t){t(!0)}function R5(t,e,n){for(let a=0;a<t.length-2;a+=2){const i=t[a],l=t[a+1],u=t[a+2],f=t[a+3];if(Ak(e.x,e.y,i,l,u,f)<n)return!0}return!1}function Ak(t,e,n,a,i,l){const u=i-n,f=l-a,g=u*u+f*f;if(g===0)return Math.hypot(t-n,e-a);let p=((t-n)*u+(e-a)*f)/g;p=Math.max(0,Math.min(1,p));const v=n+p*u,_=a+p*f;return Math.hypot(t-v,e-_)}function Rk(t,e,n,a,i,l){if(e!=="eraser"||!a)return;const u=vg(t.current);if(!u)return;const f=i.filter(g=>g.shape==="line"&&R5(g.points,u,A5));f.length!==0&&(l({action:"delete",before:f[0],after:f[0]}),n(g=>g.filter(p=>p.shape==="line"?!R5(p.points,u,A5):!0)))}function Ok(t){t(!1)}function Nk(t,e,n,a,i,l,u,f){return t<i&&n<i||t>u&&n>u||e<l&&a<l||e>f&&a>f?!1:!!(t>=i&&t<=u&&e>=l&&e<=f||n>=i&&n<=u&&a>=l&&a<=f||Sp(t,e,n,a,i,l,u,l)||Sp(t,e,n,a,u,l,u,f)||Sp(t,e,n,a,u,f,i,f)||Sp(t,e,n,a,i,f,i,l))}function Sp(t,e,n,a,i,l,u,f){function g(p,v,_,S,C,T){return(T-v)*(_-p)>(S-v)*(C-p)}return g(t,e,i,l,u,f)!==g(n,a,i,l,u,f)&&g(t,e,n,a,i,l)!==g(t,e,n,a,u,f)}function Mk(t,e){const n=e.x,a=e.y,i=e.x+e.width,l=e.y+e.height;for(let u=0;u<t.length-2;u+=2){const f=t[u],g=t[u+1],p=t[u+2],v=t[u+3];if(Nk(f,g,p,v,n,a,i,l))return!0}return!1}const Dk=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const i=vg(e.current);i&&a({visible:!0,x1:i.x,y1:i.y,x2:i.x,y2:i.y})},jk=(t,e,n,a)=>{if(!e.current)return;const i=vg(t.current);i&&a({...n,x2:i.x,y2:i.y})},zk=(t,e,n,a,i,l,u)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const f={x:Math.min(e.x1,e.x2)+u.x,y:Math.min(e.y1,e.y2)+u.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},g=l.current?.getStage(),p=i.filter(v=>{if(v.shape==="line"){const T=v.points.map((R,O)=>O%2===0?R+u.x:R+u.y);return Mk(T,f)}if(v.shape==="text"){const C=g?.findOne(`#group-${v.id}`);if(!C)return;const T=C.getClientRect({relativeTo:g});return T.x+=u.x,T.y+=u.y,T?J0.Util.haveIntersection(f,T):void 0}if(!l.current)return;const _=l.current.findOne(`#group-${v.id}`);if(!_)return;const S=_.getClientRect({relativeTo:g});if(S.x+=u.x,S.y+=u.y,!!S)return J0.Util.haveIntersection(f,S)});a(p.map(v=>v.id))},kk=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const i=t.target.findAncestor(".shape",!0);if(!i||!i.hasName("shape"))return;const l=i.attrs.shapeId;if(!l)return;const u=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,f=n.includes(l);!u&&!f?a([l]):u&&f?a(n.filter(g=>g!==l)):u&&!f&&a([...n,l])},xp=(t,e,n,a,i)=>{const l=t.target.id(),u=t.target,f=n.find(p=>"group-"+p.id===l);e(p=>{const v=[...p],_=v.findIndex(S=>"group-"+S.id===l);if(_!==-1&&v[_].behavior==="node")v[_]={...v[_],x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};else if(_!==-1&&v[_].shape==="text"){const S=u;v[_]={...v[_],x:u.x(),y:u.y(),width:u.width(),fontSize:S.fontSize(),scaleX:1,scaleY:1},u.scaleX(1),u.scaleY(1)}else if(_!==-1&&v[_].shape==="line"){const S=u,C=S.scaleX(),T=S.scaleY(),R=S.x(),O=S.y(),M=S.points().map((j,z)=>z%2===0?j*C+R:j*T+O);v[_]={...v[_],points:M},S.scaleX(1),S.scaleY(1),S.x(0),S.y(0)}return v});const g=n.find(p=>"group-"+p.id===l);if(g){let p;if(g.shape==="text"){const v=u;p={...g,x:v.x(),y:v.y(),scaleX:v.scaleX(),scaleY:v.scaleY(),width:v.width(),fontSize:v.fontSize()}}else g.shape==="line"?p={...g,scaleX:u.scaleX(),scaleY:u.scaleY()}:p={...g,x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};f&&p&&a({action:"update",before:f,after:p,id:i||void 0})}},Uk=({initialText:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setIsEditingText:i,isEditingText:l,tool:u,setEditingRef:f,editingRef:g,isDraggable:p})=>{const v=N.useRef(null),_=N.useCallback(()=>{u==="hand"&&(i(!0),f(v.current))},[i,u,f]),S=N.useCallback(()=>{const C=v.current;if(!C)return;const T=C.getStage()?.findOne("#transformer");if(!T)return;const R=T?.getActiveAnchor();if(R==="middle-right"||R==="middle-left"){const O=C.width()*C.scaleX();C.setAttrs({width:O,scaleX:1});return}if(R){const O=C.fontSize()*C.scaleY(),M=C.width()*C.scaleX();C.setAttrs({width:M,fontSize:O,scaleX:1,scaleY:1});return}},[]);return E.jsx(E.Fragment,{children:E.jsx(vs,{ref:v,id:"group-"+t.id,shapeId:t.id,name:"shape",x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,fontSize:t.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"left",lineHeight:1,text:t.text,draggable:p,onClick:()=>e(t.id),onDragEnd:n,onTransform:S,onTransformEnd:a,onDblClick:_,onDblTap:_,visible:!(l&&g&&g?.id()==="group-"+t.id)},"key-"+t.id)})};var Lk=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Pk=t=>{const e=window.getComputedStyle(t).position;return!(e==="absolute"||e==="relative")};function Bk(t=()=>{}){const e=Qe.useRef(t);return e.current=t,Qe.useCallback((...n)=>e.current.apply(null,n),[])}const Hk=({children:t,groupProps:e,divProps:n,transform:a,transformFunc:i,parentNodeFunc:l})=>{const u=yx(),f=Qe.useRef(null),[g]=Qe.useState(()=>document.createElement("div")),p=Qe.useMemo(()=>B8.createRoot(g),[g]),v=a??!0,_=Bk(()=>{if(v&&f.current){let O=f.current.getAbsoluteTransform().decompose();i&&(O=i(O)),g.style.position="absolute",g.style.zIndex="10",g.style.top="0px",g.style.left="0px",g.style.transform=`translate(${O.x}px, ${O.y}px) rotate(${O.rotation}deg) scaleX(${O.scaleX}) scaleY(${O.scaleY})`,g.style.transformOrigin="top left"}else g.style.position="",g.style.zIndex="",g.style.top="",g.style.left="",g.style.transform="",g.style.transformOrigin="";const S=n||{},{style:C}=S,T=Lk(S,["style"]);Object.assign(g.style,C),Object.assign(g,T)});return Qe.useLayoutEffect(()=>{var S;const C=f.current;if(!C)return;const T=l?l({stage:C.getStage()}):(S=C.getStage())===null||S===void 0?void 0:S.container();if(T)return T.appendChild(g),v&&Pk(T)&&(T.style.position="relative"),C.on("absoluteTransformChange",_),_(),()=>{var R;C.off("absoluteTransformChange",_),(R=g.parentNode)===null||R===void 0||R.removeChild(g)}},[v,l]),Qe.useLayoutEffect(()=>{_()},[n,i]),Qe.useLayoutEffect(()=>{queueMicrotask(()=>{dg.flushSync(()=>{p.render(Qe.createElement(u,null,t))})})}),Qe.useLayoutEffect(()=>()=>{setTimeout(()=>{p.unmount()})},[]),Qe.createElement(Xr,Object.assign({ref:f},e))};var uy,O5;function Gk(){if(O5)return uy;O5=1;var t=sg();return uy=function(n,a,i){const l=t.useRef("loading"),u=t.useRef(),[f,g]=t.useState(0),p=t.useRef(),v=t.useRef(),_=t.useRef();return(p.current!==n||v.current!==a||_.current!==i)&&(l.current="loading",u.current=void 0,p.current=n,v.current=a,_.current=i),t.useLayoutEffect(function(){if(!n)return;var S=document.createElement("img");function C(){S.decode().catch(()=>{}).finally(()=>{l.current="loaded",u.current=S,g(Math.random())})}function T(){l.current="failed",u.current=void 0,g(Math.random())}return S.addEventListener("load",C),S.addEventListener("error",T),a&&(S.crossOrigin=a),i&&(S.referrerPolicy=i),S.src=n,function(){S.removeEventListener("load",C),S.removeEventListener("error",T)}},[n,a,i]),[u.current,l.current]},uy}Gk();const qk=({textNode:t,onClose:e,onChange:n})=>{const a=N.useRef(null);return N.useEffect(()=>{if(!a.current)return;const i=a.current,l=t.position(),u={x:l.x,y:l.y};i.style.position="absolute",i.value=t.text(),i.style.top=`${u.y}px`,i.style.left=`${u.x}px`,i.style.width=`${t.width()-t.padding()*2}px`,i.style.height=`${t.height()}px`,i.style.fontSize=`${t.fontSize()}px`,i.style.border="3px solid #ccc",i.style.borderRadius="4px",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="none",i.style.outline="none",i.style.resize="none",i.style.lineHeight=String(t.lineHeight()),i.style.fontFamily=t.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=t.align(),i.style.boxSizing="border-box";const f=t.rotation();let g="";f&&(g+=`rotateZ(${f}deg)`),i.style.transform=g,i.focus();const p=S=>{S.target!==i&&(n(i.value),e())},v=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),n(i.value),e()),S.key==="Escape"&&e()},_=()=>{i.style.width=`${t.width()-t.padding()*2}px`,i.style.height="auto",i.style.height=`${i.scrollHeight+t.fontSize()}px`};return i.addEventListener("keydown",v),i.addEventListener("input",_),setTimeout(()=>{window.addEventListener("click",p)}),()=>{i.removeEventListener("keydown",v),i.removeEventListener("input",_),window.removeEventListener("click",p)}},[t,n,e]),E.jsx("textarea",{ref:a,style:{minHeight:"1em",position:"absolute"}})},Vk=t=>E.jsx(Hk,{children:E.jsx(qk,{...t})}),_x=N.createContext(null);function K2(){const t=N.useContext(_x);if(!t)throw new Error("useUndo must be used inside a <UndoRedoProvider>");return t}const Yk=({texts:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,isDraggable:g})=>{const[p,v]=N.useState(null),{pushUndo:_}=K2(),S=N.useCallback(C=>{if(p){if(C===""){i(T=>{const R=T.find(O=>"group-"+O.id===p.id());return R&&_({action:"delete",before:R,after:R}),T.filter(O=>"group-"+O.id!==p.id())});return}i(T=>T.map(R=>"group-"+R.id===p.id()?(R.shape==="text"&&_({action:"update",before:R,after:{...R,text:C}}),{...R,text:C}):R))}},[i,p,_]);return E.jsxs(E.Fragment,{children:[t.map(C=>E.jsx(Uk,{initialText:C,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,editingRef:p,setEditingRef:v,isDraggable:g},C.id)),u&&p&&E.jsx(Vk,{textNode:p,onChange:S,onClose:()=>{l(!1)}})]})},Sx=(t,e)=>{if(!t.children)return{completed:0,not_completed:0};let n=0,a=0;return t.children.forEach(i=>{const l=e.find(u=>"group-"+u.id===i);if(l&&l.behavior==="node"&&(l.shape==="todo"&&(l.completed?n++:a++),l.shape==="rect")){const u=Sx(l,e);n+=u.completed,a+=u.not_completed}}),{completed:n,not_completed:a}},Zk="1234567890",Ik=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:i,zoom:l,connectors:u=[],setConnectors:f,addConnector:g,strokeColor:p,onShapeClick:v,onAddTodo:_,stageCoor:S,setStageCoor:C,isFormOpen:T,onTextClick:R})=>{J0.pixelRatio=window.devicePixelRatio||1;const O=N.useRef(null),M=N.useRef(null),j=N.useRef(null),z=N.useRef(null),U=N.useRef(null),[H,L]=N.useState(!1),[Z,$]=N.useState([]),[ie,be]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),Re=N.useRef(!1),le=N.useRef(null),ye=N.useRef(null),{pushUndo:ge,undo:de,redo:B}=K2(),ae=N.useRef(null),[Q,se]=N.useState(!1),G=N.useRef(new Map),[ne,_e]=N.useState(!0);N.useEffect(()=>{O.current&&t.forEach(we=>{if(we.behavior!=="node")return;const Me=O.current?.findOne(`#group-${we.id}`),ot=O.current?.findOne(`#${we.id}`);if(!Me||!ot)return;const _t=t.find(St=>St.id===ot.id());_t&&(Me.off("drop"),Me.off("dragenter"),Me.off("dragleave"),Me.on("dragenter",St=>{const Ot=St.source;if(!Ot||Me===Ot||ot.fill()==="green"||_t.shape==="todo"||we.shape!=="todo"&&we.children.includes(Ot.id())||we.parents.includes(Ot.id()))return;const mn=t.find(_n=>"group-"+_n.id===Ot.id());mn?.behavior!=="node"||mn?.parents!==""||ot.fill("#b9f8cf")}),Me.on("dragmove",St=>{const Ot=St.source;!Ot||Me===Ot||ot.fill()==="#b9f8cf"||ot.fill("#b9f8cf")}),Me.on("dragleave",St=>{const Ot=St.source;Me!==Ot&&ot.fill("white")}),Me.on("drop",St=>{const Ot=St.source;if(we.behavior!=="node"||we.shape!=="todo"&&we.children.includes(Ot.id())||!Ot||we.parents.includes(Ot.id()))return;const mn=t.find(_n=>"group-"+_n.id===Ot.id());mn?.behavior!=="node"||mn?.parents!==""||_t.shape==="todo"||(ot.fill("white"),e(_n=>_n.map(un=>un.behavior==="node"&&"group-"+un.id===St.source.id()?{...un,parents:Me.id()}:un.behavior==="node"&&un.shape!="todo"&&"group-"+un.id===Me.id()?{...un,children:[...un.children,St.source.id()]}:un)),g(St.source,Me))}))})},[g,e,t]),N.useEffect(()=>{function we(Me){if(!(T||Q)){if(Me.ctrlKey&&!Me.shiftKey&&Me.key==="z"){de(e,f);return}if((Me.ctrlKey||Me.metaKey)&&Me.key==="y"||Me.shiftKey&&Me.key==="z"){B(e,f);return}switch(Me.key){case"1":a("hand");break;case"z":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"x":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"c":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"v":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break;case"q":v(null);break;case"w":_(null,null);break;case"e":R();break}}}return window.addEventListener("keydown",we),()=>{window.removeEventListener("keydown",we)}},[Q,T,_,v,B,f,e,a,n,de,R]),N.useEffect(()=>{if(Z.length&&le.current){const we=Z.map(Me=>U.current?.findOne(`#group-${Me}`)).filter(Boolean);le.current.nodes(we),ae.current=crypto.randomUUID(),requestAnimationFrame(()=>{const Me=ye.current;if(!Me||!U.current||!le.current)return;const ot=le.current.width()/U.current.scaleX(),_t=le.current.height()/U.current.scaleY(),St=(le.current.x()-S.x)/U.current.scaleX(),Ot=(le.current.y()-S.y)/U.current.scaleY();Me.show(),Me.x(St),Me.y(Ot),Me.width(ot),Me.height(_t),Me.scaleX(1),Me.scaleY(1);const mn=le.current.nodes();le.current.nodes([...mn,Me])})}else if(le.current){le.current.nodes([]);const we=ye.current;ae.current=null,we?.hide()}if(n!=="select"){le.current?.nodes([]);const we=ye.current;ae.current=null,we?.hide()}},[Z,n,S,t]),N.useEffect(()=>{n!=="select"&&$([])},[n]),N.useEffect(()=>{oy(u,O,j,z,G)},[t,u,G]),N.useEffect(()=>{const we=()=>{const Me=U.current;Me&&(Me.width(window.innerWidth),Me.height(window.innerHeight),Me.draw())};return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]),N.useEffect(()=>{_e(!(n!=="hand"&&n!=="select"))},[n]);const Ee=we=>{if(we.behavior!=="node")return;const Me=t.find(_t=>"group-"+_t.id===we.parents),ot=O.current?.findOne(`#${we.parents}`);return!ot||!Me?!1:ot.getChildren()[0].visible()},Ve=(we,Me)=>{we.behavior!=="node"||we.shape==="todo"||we.children.length!==0&&we.children.forEach(ot=>{const _t=t.find(_n=>"group-"+_n.id===ot);if(!_t)return;const St=O.current?.findOne(`#${ot}`);if(!St)return;St.visible(Me);const Ot=u.find(_n=>{if(_n.from===ot)return _n});if(!Ot)return;const mn=z.current?.findOne(`#${Ot.id}`);mn&&(mn.visible(Me),Ee(_t)&&Ve(_t,Me))})},ut=we=>{const Me=t.find(ot=>ot.id===we);Me?.behavior!=="node"||Me?.shape==="todo"||Me?.children.forEach(ot=>{const _t=t.find(St=>"group-"+St.id===ot);!_t||_t.behavior!=="node"||(_t.parents="")})},Ie=we=>{e(Me=>Me.map(ot=>ot.shape==="rect"&&ot.children.includes(we)?{...ot,children:ot.children.filter(_t=>_t!=="group-"+we)}:ot))},st=we=>{if(n==="eraser"){const Me=crypto.randomUUID();u.forEach(_t=>{if(_t.to==="group-"+we||_t.from==="group-"+we){const St={..._t};ge({id:Me,before:St,after:St,action:"delete"}),f(Ot=>Ot.filter(mn=>mn.id!==_t.id))}});const ot=t.find(_t=>_t.id===we);ot&&ge({id:Me,before:{...ot},after:{...ot},action:"delete"}),ut(we),Ie(we),e(_t=>_t.filter(St=>St.id!==we))}},Et=we=>{let Me;return we==="#ff2056"?Me="#f6339a":we==="#2b7fff"?Me="#00a6f4":we==="#00bc7d"?Me="#00c951":we==="#ad46ff"?Me="#8e51ff":we==="#ff6900"&&(Me="#fd9a00"),Me};return E.jsx(E.Fragment,{children:E.jsxs(fk,{width:window.innerWidth,height:window.innerHeight,x:S.x,y:S.y,ref:U,draggable:n==="hand",onWheel:we=>{yk(U,we,i),U.current&&C({x:U.current.x(),y:U.current.y()})},onPointerDown:we=>{n==="draw"&&xk(U.current,n,p,e,L),n==="eraser"&&Tk(L),n==="select"&&Dk(we,U,Re,be)},onPointerMove:()=>{n==="draw"&&wk(U.current,n,e,H),n==="eraser"&&Rk(U,n,e,H,t,ge),n==="select"&&jk(U,Re,ie,be)},onPointerUp:()=>{n==="draw"&&(Ek(H,L),ge({action:"add",before:t[t.length-1],after:t[t.length-1]})),n==="eraser"&&Ok(L),n==="select"&&zk(Re,ie,be,$,t,O,S)},onClick:we=>{n==="select"&&kk(we,ie,Z,$)},scaleX:l/100,scaleY:l/100,style:{cursor:bk(n)},onDragEnd:()=>{U.current&&C({x:U.current.x(),y:U.current.y()})},children:[E.jsxs(A0,{children:[E.jsx(Ck,{lines:t.filter(we=>we.shape==="line"),onDragEnd:we=>{_p(we,O,n,M,e,t,ge,ae.current)},onTransformEnd:we=>{xp(we,e,t,ge,ae.current)},isDraggable:ne}),E.jsx(Yk,{texts:t.filter(we=>we.shape==="text"),onEraserClick:st,onDragEnd:we=>{_p(we,O,n,M,e,t,ge,ae.current)},onTransformEnd:we=>{xp(we,e,t,ge,ae.current)},setShapes:e,isEditingText:Q,setIsEditingText:se,tool:n,isDraggable:ne})]}),E.jsx(A0,{ref:z,children:E.jsx(mk,{connectors:u,mainLayer:O})}),E.jsxs(A0,{ref:O,children:[E.jsx(cl,{id:Zk,ref:ye,fill:"transparent",draggable:!0,temporary:!0}),E.jsx(vk,{shapes:t.filter(we=>we.shape==="rect"),allShapes:t,setShapes:e,onDragStart:we=>C5(we,n,j),onDragMove:we=>{Z.length<=1&&T5(we,O,M,n),oy(u,O,j,z,G)},onDragEnd:we=>{_p(we,O,n,M,e,t,ge,ae.current)},onTransformEnd:we=>{xp(we,e,t,ge,ae.current)},tool:n,collapseChild:Ve,handleEraserClick:st,onShapeClick:v,getBorder:Et,onAddTodo:_,getChildCounts:Sx,nodeMap:G,isDraggable:ne}),E.jsx(Sk,{todos:t.filter(we=>we.shape==="todo"),setShapes:e,tool:n,onDragStart:we=>C5(we,n,j),onDragMove:we=>{Z.length<=1&&T5(we,O,M,n),oy(u,O,j,z,G)},onDragEnd:we=>{_p(we,O,n,M,e,t,ge,ae.current)},onTransformEnd:we=>{xp(we,e,t,ge,ae.current)},handleEraserClick:st,getBorder:Et,onTodoClick:_,shapes:t,nodeMap:G,isDraggable:ne})]}),E.jsx(A0,{ref:j}),E.jsxs(A0,{children:[E.jsx(dk,{ref:le,id:"transformer",enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],rotateEnabled:!1,boundBoxFunc:(we,Me)=>Me.width<5||Me.height<5?we:Me}),ie.visible&&E.jsx(cl,{x:Math.min(ie.x1,ie.x2),y:Math.min(ie.y1,ie.y2),width:Math.abs(ie.x2-ie.x1),height:Math.abs(ie.y2-ie.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function Xk({title:t,onClick:e}){return E.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[E.jsx("span",{children:E.jsx(AT,{})}),E.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function Kk({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",i=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return E.jsx("button",{type:"button",className:`${a} ${i}`,onClick:e,children:t})}const Fk=Zf({title:Kr(),description:Kr(),color:Kr(),date:Kr().min(1,"Date cannot be empty!"),time:Kr()});function Qk({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:u,handleSubmit:f,setError:g,formState:{errors:p,isSubmitting:v}}=Bf({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:Hf(Fk)}),[_,S]=N.useState(a?.color??"#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,T):t(T),n()}catch(R){g("root",{message:"This Task already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&n()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[n]),E.jsxs("div",{children:[E.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-50"}),E.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90dvw] sm:w-[80dvw] md:w-[80dvw]
    max-h-[70dvh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-col justify-between items-start
    rounded-lg shadow-2xl z-50 overflow-auto
  `,children:[E.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),E.jsxs("form",{onSubmit:f(C),className:"w-full h-full",children:[E.jsxs("div",{className:"my-2 flex flex-row items-end justify-between h-15 w-full",children:[E.jsx("input",{...u("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-xl sm:text-3xl h-full w-full p-2 font-bold rounded-lg"}),p.title&&E.jsx("div",{className:"text-red-500",children:p.title?.message}),E.jsx("button",{onClick:n,className:"hidden md:block hover:cursor-pointer p-2 h-full",children:"X"})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),E.jsxs("select",{...u("color"),value:_,onChange:T=>S(T.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),E.jsx("input",{...u("date"),type:"date",className:"relative w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),p.date&&E.jsx("div",{className:"text-red-500 ml-28 w-full",children:p.date?.message}),E.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),E.jsxs("div",{className:"mb-3  flex flex-col gap-2 w-full items-start",children:[E.jsxs("div",{className:"inline-flex gap-2",children:[E.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:E.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),E.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),E.jsx("textarea",{...u("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs w-full items-start h-[50dvh] md:h-[50dvh] resize-none"}),p.description&&E.jsx("div",{className:"text-red-500",children:p.description?.message})]}),E.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[E.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),E.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),p.root&&E.jsx("div",{className:"text-red-500",children:p.root?.message})]})]})]})}const xx=N.createContext(null);function $k({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{an.auth.getSession().then(({data:{session:i}})=>{n(i)});const{data:{subscription:a}}=an.auth.onAuthStateChange((i,l)=>{n(l)});return()=>a.unsubscribe()},[]),E.jsx(xx.Provider,{value:{session:e,setSession:n},children:t})}function wx(){const t=N.useContext(xx);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}const Wk=Zf({title:Kr(),date:Kr().min(1,"Date cannot be empty"),completed:gN(),color:Kr()});function Jk({onAddTodo:t,onUpdateTodo:e,parent:n,onCloseForm:a,initialTodo:i}){const{session:l}=wx(),u=i&&i.behavior==="node"&&i.shape==="todo";let f;u?f=new Date(i.dueDate).toISOString().split("T")[0]:f=new Date().toISOString().split("T")[0];const{register:g,handleSubmit:p,setError:v,formState:{isSubmitting:_}}=Bf({defaultValues:u?{title:i.title,date:f,completed:i.completed,color:i.color}:{title:"My Newest Todo",date:f,completed:!1,color:n?.color},resolver:Hf(Wk)}),[S,C]=N.useState(u?i.color:n?.color??"#ff2056"),T=async R=>{try{await new Promise(O=>setTimeout(O,500)),u?e(i,R):t(R,n),a()}catch(O){v("root",{message:"This Todo already exists!: "+O})}};return N.useEffect(()=>{const R=O=>{O.key==="Escape"&&a()};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[a]),E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-40"}),E.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90%] max-w-sm sm:max-w-md
    h-fit max-h-[90vh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-row justify-between items-start
    rounded-lg shadow-2xl z-50
  `,children:[E.jsx("div",{className:"absolute top-0 bottom-0 left-0 rounded-l-lg w-2 sm:w-3",style:{backgroundColor:S}}),E.jsxs("form",{onSubmit:p(T),className:"w-full h-full",children:[E.jsx("div",{className:"mb-1 flex w-full h-fit",children:E.jsx("input",{...g("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),E.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),E.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-red-200",style:{backgroundColor:n?n.color:"#d1d5dc",color:n?"#ffffff":"#000000"},children:E.jsx("span",{className:"text-sm text-start  w-full ",children:n?n.title:"Not Assigned"})})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),E.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-gray-200",children:E.jsx("span",{className:"text-sm text-start  w-full ",children:l?l.user.email:"Guest"})})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),E.jsx("input",{...g("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),E.jsxs("select",{...g("color"),value:S,onChange:R=>C(R.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),E.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:E.jsx("input",{...g("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),E.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[E.jsx("button",{className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:a,children:E.jsx("span",{className:"text-sm",children:"Cancel"})}),E.jsx("button",{type:"submit",disabled:_,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:_?E.jsx("span",{className:"text-sm",children:"Loading..."}):E.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}function eU(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.793 2.232a.75.75 0 0 1-.025 1.06L3.622 7.25h10.003a5.375 5.375 0 0 1 0 10.75H10.75a.75.75 0 0 1 0-1.5h2.875a3.875 3.875 0 0 0 0-7.75H3.622l4.146 3.957a.75.75 0 0 1-1.036 1.085l-5.5-5.25a.75.75 0 0 1 0-1.085l5.5-5.25a.75.75 0 0 1 1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function tU(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.207 2.232a.75.75 0 0 0 .025 1.06l4.146 3.958H6.375a5.375 5.375 0 0 0 0 10.75H9.25a.75.75 0 0 0 0-1.5H6.375a3.875 3.875 0 0 1 0-7.75h10.003l-4.146 3.957a.75.75 0 0 0 1.036 1.085l5.5-5.25a.75.75 0 0 0 0-1.085l-5.5-5.25a.75.75 0 0 0-1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function nU(t){return Nn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function N5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zv(...t){return e=>{let n=!1;const a=t.map(i=>{const l=N5(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():N5(t[i],null)}}}}function xa(...t){return N.useCallback(zv(...t),t)}function eg(t){const e=aU(t),n=N.forwardRef((a,i)=>{const{children:l,...u}=a,f=N.Children.toArray(l),g=f.find(iU);if(g){const p=g.props.children,v=f.map(_=>_===g?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:_);return E.jsx(e,{...u,ref:i,children:N.isValidElement(p)?N.cloneElement(p,void 0,v):null})}return E.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function aU(t){const e=N.forwardRef((n,a)=>{const{children:i,...l}=n;if(N.isValidElement(i)){const u=lU(i),f=sU(l,i.props);return i.type!==N.Fragment&&(f.ref=a?zv(a,u):u),N.cloneElement(i,f)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ex=Symbol("radix.slottable");function rU(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Ex,e}function iU(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ex}function sU(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...f)=>{const g=l(...f);return i(...f),g}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function lU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var oU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=oU.reduce((t,e)=>{const n=eg(`Primitive.${e}`),a=N.forwardRef((i,l)=>{const{asChild:u,...f}=i,g=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(g,{...f,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function Cx(t,e){t&&dg.flushSync(()=>t.dispatchEvent(e))}function uU(t,e){const n=N.createContext(e),a=l=>{const{children:u,...f}=l,g=N.useMemo(()=>f,Object.values(f));return E.jsx(n.Provider,{value:g,children:u})};a.displayName=t+"Provider";function i(l){const u=N.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function ho(t,e=[]){let n=[];function a(l,u){const f=N.createContext(u),g=n.length;n=[...n,u];const p=_=>{const{scope:S,children:C,...T}=_,R=S?.[t]?.[g]||f,O=N.useMemo(()=>T,Object.values(T));return E.jsx(R.Provider,{value:O,children:C})};p.displayName=l+"Provider";function v(_,S){const C=S?.[t]?.[g]||f,T=N.useContext(C);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,v]}const i=()=>{const l=n.map(u=>N.createContext(u));return function(f){const g=f?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...f,[t]:g}}),[f,g])}};return i.scopeName=t,[a,cU(i,...e)]}function cU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((f,{useScope:g,scopeName:p})=>{const _=g(l)[`__scope${p}`];return{...f,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Tx(t){const e=t+"CollectionProvider",[n,a]=ho(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:O,children:M}=R,j=Qe.useRef(null),z=Qe.useRef(new Map).current;return E.jsx(i,{scope:O,itemMap:z,collectionRef:j,children:M})};u.displayName=e;const f=t+"CollectionSlot",g=eg(f),p=Qe.forwardRef((R,O)=>{const{scope:M,children:j}=R,z=l(f,M),U=xa(O,z.collectionRef);return E.jsx(g,{ref:U,children:j})});p.displayName=f;const v=t+"CollectionItemSlot",_="data-radix-collection-item",S=eg(v),C=Qe.forwardRef((R,O)=>{const{scope:M,children:j,...z}=R,U=Qe.useRef(null),H=xa(O,U),L=l(v,M);return Qe.useEffect(()=>(L.itemMap.set(U,{ref:U,...z}),()=>void L.itemMap.delete(U))),E.jsx(S,{[_]:"",ref:H,children:j})});C.displayName=v;function T(R){const O=l(t+"CollectionConsumer",R);return Qe.useCallback(()=>{const j=O.collectionRef.current;if(!j)return[];const z=Array.from(j.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((L,Z)=>z.indexOf(L.ref.current)-z.indexOf(Z.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:u,Slot:p,ItemSlot:C},T,a]}function Mt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var mu=globalThis?.document?N.useLayoutEffect:()=>{},dU=f3[" useInsertionEffect ".trim().toString()]||mu;function Xf({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,l,u]=fU({defaultProp:e,onChange:n}),f=t!==void 0,g=f?t:i;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==f&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,a])}const p=N.useCallback(v=>{if(f){const _=hU(v)?v(t):v;_!==t&&u.current?.(_)}else l(v)},[f,t,l,u]);return[g,p]}function fU({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),i=N.useRef(n),l=N.useRef(e);return dU(()=>{l.current=e},[e]),N.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function hU(t){return typeof t=="function"}function gU(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var Cu=t=>{const{present:e,children:n}=t,a=mU(e),i=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=xa(a.ref,pU(i));return typeof n=="function"||a.isPresent?N.cloneElement(i,{ref:l}):null};Cu.displayName="Presence";function mU(t){const[e,n]=N.useState(),a=N.useRef(null),i=N.useRef(t),l=N.useRef("none"),u=t?"mounted":"unmounted",[f,g]=gU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const p=wp(a.current);l.current=f==="mounted"?p:"none"},[f]),mu(()=>{const p=a.current,v=i.current;if(v!==t){const S=l.current,C=wp(p);t?g("MOUNT"):C==="none"||p?.display==="none"?g("UNMOUNT"):g(v&&S!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,g]),mu(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=C=>{const R=wp(a.current).includes(CSS.escape(C.animationName));if(C.target===e&&R&&(g("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},S=C=>{C.target===e&&(l.current=wp(a.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:N.useCallback(p=>{a.current=p?getComputedStyle(p):null,n(p)},[])}}function wp(t){return t?.animationName||"none"}function pU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vU=f3[" useId ".trim().toString()]||(()=>{}),yU=0;function zf(t){const[e,n]=N.useState(vU());return mu(()=>{n(a=>a??String(yU++))},[t]),t||(e?`radix-${e}`:"")}var bU=N.createContext(void 0);function kv(t){const e=N.useContext(bU);return t||e||"ltr"}function ro(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function _U(t,e=globalThis?.document){const n=ro(t);N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var SU="DismissableLayer",i2="dismissableLayer.update",xU="dismissableLayer.pointerDownOutside",wU="dismissableLayer.focusOutside",M5,Ax=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F2=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...g}=t,p=N.useContext(Ax),[v,_]=N.useState(null),S=v?.ownerDocument??globalThis?.document,[,C]=N.useState({}),T=xa(e,Z=>_(Z)),R=Array.from(p.layers),[O]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=R.indexOf(O),j=v?R.indexOf(v):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,U=j>=M,H=TU(Z=>{const $=Z.target,ie=[...p.branches].some(be=>be.contains($));!U||ie||(i?.(Z),u?.(Z),Z.defaultPrevented||f?.())},S),L=AU(Z=>{const $=Z.target;[...p.branches].some(be=>be.contains($))||(l?.(Z),u?.(Z),Z.defaultPrevented||f?.())},S);return _U(Z=>{j===p.layers.size-1&&(a?.(Z),!Z.defaultPrevented&&f&&(Z.preventDefault(),f()))},S),N.useEffect(()=>{if(v)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(M5=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),D5(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=M5)}},[v,S,n,p]),N.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),D5())},[v,p]),N.useEffect(()=>{const Z=()=>C({});return document.addEventListener(i2,Z),()=>document.removeEventListener(i2,Z)},[]),E.jsx(jn.div,{...g,ref:T,style:{pointerEvents:z?U?"auto":"none":void 0,...t.style},onFocusCapture:Mt(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Mt(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Mt(t.onPointerDownCapture,H.onPointerDownCapture)})});F2.displayName=SU;var EU="DismissableLayerBranch",CU=N.forwardRef((t,e)=>{const n=N.useContext(Ax),a=N.useRef(null),i=xa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),E.jsx(jn.div,{...t,ref:i})});CU.displayName=EU;function TU(t,e=globalThis?.document){const n=ro(t),a=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let g=function(){Rx(xU,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=g,e.addEventListener("click",i.current,{once:!0})):g()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function AU(t,e=globalThis?.document){const n=ro(t),a=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!a.current&&Rx(wU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function D5(){const t=new CustomEvent(i2);document.dispatchEvent(t)}function Rx(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?Cx(i,l):i.dispatchEvent(l)}var cy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",j5={bubbles:!1,cancelable:!0},RU="FocusScope",Q2=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,g]=N.useState(null),p=ro(i),v=ro(l),_=N.useRef(null),S=xa(e,R=>g(R)),C=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(C.paused||!f)return;const U=z.target;f.contains(U)?_.current=U:ou(_.current,{select:!0})},O=function(z){if(C.paused||!f)return;const U=z.relatedTarget;U!==null&&(f.contains(U)||ou(_.current,{select:!0}))},M=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&ou(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const j=new MutationObserver(M);return f&&j.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),j.disconnect()}}},[a,f,C.paused]),N.useEffect(()=>{if(f){k5.add(C);const R=document.activeElement;if(!f.contains(R)){const M=new CustomEvent(cy,j5);f.addEventListener(cy,p),f.dispatchEvent(M),M.defaultPrevented||(OU(zU(Ox(f)),{select:!0}),document.activeElement===R&&ou(f))}return()=>{f.removeEventListener(cy,p),setTimeout(()=>{const M=new CustomEvent(dy,j5);f.addEventListener(dy,v),f.dispatchEvent(M),M.defaultPrevented||ou(R??document.body,{select:!0}),f.removeEventListener(dy,v),k5.remove(C)},0)}}},[f,p,v,C]);const T=N.useCallback(R=>{if(!n&&!a||C.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,M=document.activeElement;if(O&&M){const j=R.currentTarget,[z,U]=NU(j);z&&U?!R.shiftKey&&M===U?(R.preventDefault(),n&&ou(z,{select:!0})):R.shiftKey&&M===z&&(R.preventDefault(),n&&ou(U,{select:!0})):M===j&&R.preventDefault()}},[n,a,C.paused]);return E.jsx(jn.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});Q2.displayName=RU;function OU(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(ou(a,{select:e}),document.activeElement!==n)return}function NU(t){const e=Ox(t),n=z5(e,t),a=z5(e.reverse(),t);return[n,a]}function Ox(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function z5(t,e){for(const n of t)if(!MU(n,{upTo:e}))return n}function MU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DU(t){return t instanceof HTMLInputElement&&"select"in t}function ou(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&DU(t)&&e&&t.select()}}var k5=jU();function jU(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=U5(t,e),t.unshift(e)},remove(e){t=U5(t,e),t[0]?.resume()}}}function U5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function zU(t){return t.filter(e=>e.tagName!=="A")}var kU="Portal",$2=N.forwardRef((t,e)=>{const{container:n,...a}=t,[i,l]=N.useState(!1);mu(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?K9.createPortal(E.jsx(jn.div,{...a,ref:e}),u):null});$2.displayName=kU;var fy=0;function Nx(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??L5()),document.body.insertAdjacentElement("beforeend",t[1]??L5()),fy++,()=>{fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fy--}},[])}function L5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dl=function(){return dl=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},dl.apply(this,arguments)};function Mx(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function UU(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Yp="right-scroll-bar-position",Zp="width-before-scroll-bar",LU="with-scroll-bars-hidden",PU="--removed-body-scroll-bar-size";function hy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function BU(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var HU=typeof window<"u"?N.useLayoutEffect:N.useEffect,P5=new WeakMap;function GU(t,e){var n=BU(null,function(a){return t.forEach(function(i){return hy(i,a)})});return HU(function(){var a=P5.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||hy(f,null)}),l.forEach(function(f){i.has(f)||hy(f,u)})}P5.set(n,t)},[t]),n}function qU(t){return t}function VU(t,e){e===void 0&&(e=qU);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var g=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(g)};p(),n={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),n}}}};return i}function YU(t){t===void 0&&(t={});var e=VU(null);return e.options=dl({async:!0,ssr:!1},t),e}var Dx=function(t){var e=t.sideCar,n=Mx(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,dl({},n))};Dx.isSideCarExport=!0;function ZU(t,e){return t.useMedium(e),Dx}var jx=YU(),gy=function(){},Uv=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:gy,onWheelCapture:gy,onTouchMoveCapture:gy}),i=a[0],l=a[1],u=t.forwardProps,f=t.children,g=t.className,p=t.removeScrollBar,v=t.enabled,_=t.shards,S=t.sideCar,C=t.noRelative,T=t.noIsolation,R=t.inert,O=t.allowPinchZoom,M=t.as,j=M===void 0?"div":M,z=t.gapMode,U=Mx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=S,L=GU([n,e]),Z=dl(dl({},U),i);return N.createElement(N.Fragment,null,v&&N.createElement(H,{sideCar:jx,removeScrollBar:p,shards:_,noRelative:C,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),u?N.cloneElement(N.Children.only(f),dl(dl({},Z),{ref:L})):N.createElement(j,dl({},Z,{className:g,ref:L}),f))});Uv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uv.classNames={fullWidth:Zp,zeroRight:Yp};var IU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IU();return e&&t.setAttribute("nonce",e),t}function KU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function FU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=XU())&&(KU(e,n),FU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$U=function(){var t=QU();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},zx=function(){var t=$U(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},WU={left:0,top:0,right:0,gap:0},my=function(t){return parseInt(t||"",10)||0},JU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[my(n),my(a),my(i)]},eL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return WU;var e=JU(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},tL=zx(),kf="data-scroll-locked",nL=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(LU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(kf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yp,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Zp,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Yp," .").concat(Yp,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Zp," .").concat(Zp,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(kf,`] {
    `).concat(PU,": ").concat(f,`px;
  }
`)},B5=function(){var t=parseInt(document.body.getAttribute(kf)||"0",10);return isFinite(t)?t:0},aL=function(){N.useEffect(function(){return document.body.setAttribute(kf,(B5()+1).toString()),function(){var t=B5()-1;t<=0?document.body.removeAttribute(kf):document.body.setAttribute(kf,t.toString())}},[])},rL=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;aL();var l=N.useMemo(function(){return eL(i)},[i]);return N.createElement(tL,{styles:nL(l,!e,i,n?"":"!important")})},s2=!1;if(typeof window<"u")try{var Ep=Object.defineProperty({},"passive",{get:function(){return s2=!0,!0}});window.addEventListener("test",Ep,Ep),window.removeEventListener("test",Ep,Ep)}catch{s2=!1}var bf=s2?{passive:!1}:!1,iL=function(t){return t.tagName==="TEXTAREA"},kx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!iL(t)&&n[e]==="visible")},sL=function(t){return kx(t,"overflowY")},lL=function(t){return kx(t,"overflowX")},H5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=Ux(t,a);if(i){var l=Lx(t,a),u=l[1],f=l[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},oL=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},uL=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},Ux=function(t,e){return t==="v"?sL(e):lL(e)},Lx=function(t,e){return t==="v"?oL(e):uL(e)},cL=function(t,e){return t==="h"&&e==="rtl"?-1:1},dL=function(t,e,n,a,i){var l=cL(t,window.getComputedStyle(e).direction),u=l*a,f=n.target,g=e.contains(f),p=!1,v=u>0,_=0,S=0;do{if(!f)break;var C=Lx(t,f),T=C[0],R=C[1],O=C[2],M=R-O-l*T;(T||M)&&Ux(t,f)&&(_+=M,S+=T);var j=f.parentNode;f=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!g&&f!==document.body||g&&(e.contains(f)||e===f));return(v&&Math.abs(_)<1||!v&&Math.abs(S)<1)&&(p=!0),p},Cp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},G5=function(t){return[t.deltaX,t.deltaY]},q5=function(t){return t&&"current"in t?t.current:t},fL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gL=0,_f=[];function mL(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),i=N.useState(gL++)[0],l=N.useState(zx)[0],u=N.useRef(t);N.useEffect(function(){u.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=UU([t.lockRef.current],(t.shards||[]).map(q5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var M=Cp(R),j=n.current,z="deltaX"in R?R.deltaX:j[0]-M[0],U="deltaY"in R?R.deltaY:j[1]-M[1],H,L=R.target,Z=Math.abs(z)>Math.abs(U)?"h":"v";if("touches"in R&&Z==="h"&&L.type==="range")return!1;var $=H5(Z,L);if(!$)return!0;if($?H=Z:(H=Z==="v"?"h":"v",$=H5(Z,L)),!$)return!1;if(!a.current&&"changedTouches"in R&&(z||U)&&(a.current=H),!H)return!0;var ie=a.current||H;return dL(ie,O,R,ie==="h"?z:U)},[]),g=N.useCallback(function(R){var O=R;if(!(!_f.length||_f[_f.length-1]!==l)){var M="deltaY"in O?G5(O):Cp(O),j=e.current.filter(function(H){return H.name===O.type&&(H.target===O.target||O.target===H.shadowParent)&&fL(H.delta,M)})[0];if(j&&j.should){O.cancelable&&O.preventDefault();return}if(!j){var z=(u.current.shards||[]).map(q5).filter(Boolean).filter(function(H){return H.contains(O.target)}),U=z.length>0?f(O,z[0]):!u.current.noIsolation;U&&O.cancelable&&O.preventDefault()}}},[]),p=N.useCallback(function(R,O,M,j){var z={name:R,delta:O,target:M,should:j,shadowParent:pL(M)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(U){return U!==z})},1)},[]),v=N.useCallback(function(R){n.current=Cp(R),a.current=void 0},[]),_=N.useCallback(function(R){p(R.type,G5(R),R.target,f(R,t.lockRef.current))},[]),S=N.useCallback(function(R){p(R.type,Cp(R),R.target,f(R,t.lockRef.current))},[]);N.useEffect(function(){return _f.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",g,bf),document.addEventListener("touchmove",g,bf),document.addEventListener("touchstart",v,bf),function(){_f=_f.filter(function(R){return R!==l}),document.removeEventListener("wheel",g,bf),document.removeEventListener("touchmove",g,bf),document.removeEventListener("touchstart",v,bf)}},[]);var C=t.removeScrollBar,T=t.inert;return N.createElement(N.Fragment,null,T?N.createElement(l,{styles:hL(i)}):null,C?N.createElement(rL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vL=ZU(jx,mL);var W2=N.forwardRef(function(t,e){return N.createElement(Uv,dl({},t,{ref:e,sideCar:vL}))});W2.classNames=Uv.classNames;var yL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sf=new WeakMap,Tp=new WeakMap,Ap={},py=0,Px=function(t){return t&&(t.host||Px(t.parentNode))},bL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=Px(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_L=function(t,e,n,a){var i=bL(e,Array.isArray(t)?t:[t]);Ap[n]||(Ap[n]=new WeakMap);var l=Ap[n],u=[],f=new Set,g=new Set(i),p=function(_){!_||f.has(_)||(f.add(_),p(_.parentNode))};i.forEach(p);var v=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(S){if(f.has(S))v(S);else try{var C=S.getAttribute(a),T=C!==null&&C!=="false",R=(Sf.get(S)||0)+1,O=(l.get(S)||0)+1;Sf.set(S,R),l.set(S,O),u.push(S),R===1&&T&&Tp.set(S,!0),O===1&&S.setAttribute(n,"true"),T||S.setAttribute(a,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return v(e),f.clear(),py++,function(){u.forEach(function(_){var S=Sf.get(_)-1,C=l.get(_)-1;Sf.set(_,S),l.set(_,C),S||(Tp.has(_)||_.removeAttribute(a),Tp.delete(_)),C||_.removeAttribute(n)}),py--,py||(Sf=new WeakMap,Sf=new WeakMap,Tp=new WeakMap,Ap={})}},Bx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=yL(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),_L(a,i,n,"aria-hidden")):function(){return null}},Lv="Dialog",[Hx,Gx]=ho(Lv),[SL,ws]=Hx(Lv),qx=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=N.useRef(null),g=N.useRef(null),[p,v]=Xf({prop:a,defaultProp:i??!1,onChange:l,caller:Lv});return E.jsx(SL,{scope:e,triggerRef:f,contentRef:g,contentId:zf(),titleId:zf(),descriptionId:zf(),open:p,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:u,children:n})};qx.displayName=Lv;var Vx="DialogTrigger",Yx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=ws(Vx,n),l=xa(e,i.triggerRef);return E.jsx(jn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tb(i.open),...a,ref:l,onClick:Mt(t.onClick,i.onOpenToggle)})});Yx.displayName=Vx;var J2="DialogPortal",[xL,Zx]=Hx(J2,{forceMount:void 0}),Ix=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=ws(J2,e);return E.jsx(xL,{scope:e,forceMount:n,children:N.Children.map(a,u=>E.jsx(Cu,{present:n||l.open,children:E.jsx($2,{asChild:!0,container:i,children:u})}))})};Ix.displayName=J2;var cv="DialogOverlay",Xx=N.forwardRef((t,e)=>{const n=Zx(cv,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=ws(cv,t.__scopeDialog);return l.modal?E.jsx(Cu,{present:a||l.open,children:E.jsx(EL,{...i,ref:e})}):null});Xx.displayName=cv;var wL=eg("DialogOverlay.RemoveScroll"),EL=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=ws(cv,n);return E.jsx(W2,{as:wL,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(jn.div,{"data-state":tb(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),kc="DialogContent",Kx=N.forwardRef((t,e)=>{const n=Zx(kc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=ws(kc,t.__scopeDialog);return E.jsx(Cu,{present:a||l.open,children:l.modal?E.jsx(CL,{...i,ref:e}):E.jsx(TL,{...i,ref:e})})});Kx.displayName=kc;var CL=N.forwardRef((t,e)=>{const n=ws(kc,t.__scopeDialog),a=N.useRef(null),i=xa(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return Bx(l)},[]),E.jsx(Fx,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mt(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Mt(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Mt(t.onFocusOutside,l=>l.preventDefault())})}),TL=N.forwardRef((t,e)=>{const n=ws(kc,t.__scopeDialog),a=N.useRef(!1),i=N.useRef(!1);return E.jsx(Fx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),Fx=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=ws(kc,n),g=N.useRef(null),p=xa(e,g);return Nx(),E.jsxs(E.Fragment,{children:[E.jsx(Q2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:E.jsx(F2,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":tb(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(RL,{titleId:f.titleId}),E.jsx(NL,{contentRef:g,descriptionId:f.descriptionId})]})]})}),eb="DialogTitle",Qx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=ws(eb,n);return E.jsx(jn.h2,{id:i.titleId,...a,ref:e})});Qx.displayName=eb;var $x="DialogDescription",Wx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=ws($x,n);return E.jsx(jn.p,{id:i.descriptionId,...a,ref:e})});Wx.displayName=$x;var Jx="DialogClose",e6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=ws(Jx,n);return E.jsx(jn.button,{type:"button",...a,ref:e,onClick:Mt(t.onClick,()=>i.onOpenChange(!1))})});e6.displayName=Jx;function tb(t){return t?"open":"closed"}var t6="DialogTitleWarning",[AL,n6]=uU(t6,{contentName:kc,titleName:eb,docsSlug:"dialog"}),RL=({titleId:t})=>{const e=n6(t6),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},OL="DialogDescriptionWarning",NL=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n6(OL).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},ML=qx,DL=Yx,jL=Ix,zL=Xx,kL=Kx,UL=Qx,LL=Wx,a6=e6,r6="AlertDialog",[PL]=ho(r6,[Gx]),go=Gx(),i6=t=>{const{__scopeAlertDialog:e,...n}=t,a=go(e);return E.jsx(ML,{...a,...n,modal:!0})};i6.displayName=r6;var BL="AlertDialogTrigger",s6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return E.jsx(DL,{...i,...a,ref:e})});s6.displayName=BL;var HL="AlertDialogPortal",l6=t=>{const{__scopeAlertDialog:e,...n}=t,a=go(e);return E.jsx(jL,{...a,...n})};l6.displayName=HL;var GL="AlertDialogOverlay",o6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return E.jsx(zL,{...i,...a,ref:e})});o6.displayName=GL;var Uf="AlertDialogContent",[qL,VL]=PL(Uf),YL=rU("AlertDialogContent"),u6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,l=go(n),u=N.useRef(null),f=xa(e,u),g=N.useRef(null);return E.jsx(AL,{contentName:Uf,titleName:c6,docsSlug:"alert-dialog",children:E.jsx(qL,{scope:n,cancelRef:g,children:E.jsxs(kL,{role:"alertdialog",...l,...i,ref:f,onOpenAutoFocus:Mt(i.onOpenAutoFocus,p=>{p.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[E.jsx(YL,{children:a}),E.jsx(IL,{contentRef:u})]})})})});u6.displayName=Uf;var c6="AlertDialogTitle",d6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return E.jsx(UL,{...i,...a,ref:e})});d6.displayName=c6;var f6="AlertDialogDescription",h6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return E.jsx(LL,{...i,...a,ref:e})});h6.displayName=f6;var ZL="AlertDialogAction",g6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return E.jsx(a6,{...i,...a,ref:e})});g6.displayName=ZL;var m6="AlertDialogCancel",p6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=VL(m6,n),l=go(n),u=xa(e,i);return E.jsx(a6,{...l,...a,ref:u})});p6.displayName=m6;var IL=({contentRef:t})=>{const e=`\`${Uf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Uf}\` by passing a \`${f6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Uf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Rp=i6,vy=s6,Op=l6,Np=o6,Mp=u6,yy=g6,Dp=p6,jp=d6,zp=h6;function XL(t){const[e,n]=N.useState(void 0);return mu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const g=l.borderBoxSize,p=Array.isArray(g)?g[0]:g;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const KL=["top","right","bottom","left"],pu=Math.min,ui=Math.max,dv=Math.round,kp=Math.floor,gl=t=>({x:t,y:t}),FL={left:"right",right:"left",bottom:"top",top:"bottom"},QL={start:"end",end:"start"};function l2(t,e,n){return ui(t,pu(e,n))}function io(t,e){return typeof t=="function"?t(e):t}function so(t){return t.split("-")[0]}function Kf(t){return t.split("-")[1]}function nb(t){return t==="x"?"y":"x"}function ab(t){return t==="y"?"height":"width"}const $L=new Set(["top","bottom"]);function fl(t){return $L.has(so(t))?"y":"x"}function rb(t){return nb(fl(t))}function WL(t,e,n){n===void 0&&(n=!1);const a=Kf(t),i=rb(t),l=ab(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=fv(u)),[u,fv(u)]}function JL(t){const e=fv(t);return[o2(t),e,o2(e)]}function o2(t){return t.replace(/start|end/g,e=>QL[e])}const V5=["left","right"],Y5=["right","left"],eP=["top","bottom"],tP=["bottom","top"];function nP(t,e,n){switch(t){case"top":case"bottom":return n?e?Y5:V5:e?V5:Y5;case"left":case"right":return e?eP:tP;default:return[]}}function aP(t,e,n,a){const i=Kf(t);let l=nP(so(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(o2)))),l}function fv(t){return t.replace(/left|right|bottom|top/g,e=>FL[e])}function rP(t){return{top:0,right:0,bottom:0,left:0,...t}}function v6(t){return typeof t!="number"?rP(t):{top:t,right:t,bottom:t,left:t}}function hv(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function Z5(t,e,n){let{reference:a,floating:i}=t;const l=fl(e),u=rb(e),f=ab(u),g=so(e),p=l==="y",v=a.x+a.width/2-i.width/2,_=a.y+a.height/2-i.height/2,S=a[f]/2-i[f]/2;let C;switch(g){case"top":C={x:v,y:a.y-i.height};break;case"bottom":C={x:v,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:_};break;case"left":C={x:a.x-i.width,y:_};break;default:C={x:a.x,y:a.y}}switch(Kf(e)){case"start":C[u]-=S*(n&&p?-1:1);break;case"end":C[u]+=S*(n&&p?-1:1);break}return C}const iP=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:_}=Z5(p,a,g),S=a,C={},T=0;for(let R=0;R<f.length;R++){const{name:O,fn:M}=f[R],{x:j,y:z,data:U,reset:H}=await M({x:v,y:_,initialPlacement:a,placement:S,strategy:i,middlewareData:C,rects:p,platform:u,elements:{reference:t,floating:e}});v=j??v,_=z??_,C={...C,[O]:{...C[O],...U}},H&&T<=50&&(T++,typeof H=="object"&&(H.placement&&(S=H.placement),H.rects&&(p=H.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:v,y:_}=Z5(p,S,g)),R=-1)}return{x:v,y:_,placement:S,strategy:i,middlewareData:C}};async function tg(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:f,strategy:g}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:S=!1,padding:C=0}=io(e,t),T=v6(C),O=f[S?_==="floating"?"reference":"floating":_],M=hv(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:g})),j=_==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),U=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},H=hv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:j,offsetParent:z,strategy:g}):j);return{top:(M.top-H.top+T.top)/U.y,bottom:(H.bottom-M.bottom+T.bottom)/U.y,left:(M.left-H.left+T.left)/U.x,right:(H.right-M.right+T.right)/U.x}}const sP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:g}=e,{element:p,padding:v=0}=io(t,e)||{};if(p==null)return{};const _=v6(v),S={x:n,y:a},C=rb(i),T=ab(C),R=await u.getDimensions(p),O=C==="y",M=O?"top":"left",j=O?"bottom":"right",z=O?"clientHeight":"clientWidth",U=l.reference[T]+l.reference[C]-S[C]-l.floating[T],H=S[C]-l.reference[C],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let Z=L?L[z]:0;(!Z||!await(u.isElement==null?void 0:u.isElement(L)))&&(Z=f.floating[z]||l.floating[T]);const $=U/2-H/2,ie=Z/2-R[T]/2-1,be=pu(_[M],ie),Re=pu(_[j],ie),le=be,ye=Z-R[T]-Re,ge=Z/2-R[T]/2+$,de=l2(le,ge,ye),B=!g.arrow&&Kf(i)!=null&&ge!==de&&l.reference[T]/2-(ge<le?be:Re)-R[T]/2<0,ae=B?ge<le?ge-le:ge-ye:0;return{[C]:S[C]+ae,data:{[C]:de,centerOffset:ge-de-ae,...B&&{alignmentOffset:ae}},reset:B}}}),lP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:g,elements:p}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...O}=io(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const M=so(i),j=fl(f),z=so(f)===f,U=await(g.isRTL==null?void 0:g.isRTL(p.floating)),H=S||(z||!R?[fv(f)]:JL(f)),L=T!=="none";!S&&L&&H.push(...aP(f,R,T,U));const Z=[f,...H],$=await tg(e,O),ie=[];let be=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&ie.push($[M]),_){const ge=WL(i,u,U);ie.push($[ge[0]],$[ge[1]])}if(be=[...be,{placement:i,overflows:ie}],!ie.every(ge=>ge<=0)){var Re,le;const ge=(((Re=l.flip)==null?void 0:Re.index)||0)+1,de=Z[ge];if(de&&(!(_==="alignment"?j!==fl(de):!1)||be.every(Q=>fl(Q.placement)===j?Q.overflows[0]>0:!0)))return{data:{index:ge,overflows:be},reset:{placement:de}};let B=(le=be.filter(ae=>ae.overflows[0]<=0).sort((ae,Q)=>ae.overflows[1]-Q.overflows[1])[0])==null?void 0:le.placement;if(!B)switch(C){case"bestFit":{var ye;const ae=(ye=be.filter(Q=>{if(L){const se=fl(Q.placement);return se===j||se==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(se=>se>0).reduce((se,G)=>se+G,0)]).sort((Q,se)=>Q[1]-se[1])[0])==null?void 0:ye[0];ae&&(B=ae);break}case"initialPlacement":B=f;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function I5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function X5(t){return KL.some(e=>t[e]>=0)}const oP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=io(t,e);switch(a){case"referenceHidden":{const l=await tg(e,{...i,elementContext:"reference"}),u=I5(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:X5(u)}}}case"escaped":{const l=await tg(e,{...i,altBoundary:!0}),u=I5(l,n.floating);return{data:{escapedOffsets:u,escaped:X5(u)}}}default:return{}}}}},y6=new Set(["left","top"]);async function uP(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=so(n),f=Kf(n),g=fl(n)==="y",p=y6.has(u)?-1:1,v=l&&g?-1:1,_=io(e,t);let{mainAxis:S,crossAxis:C,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof T=="number"&&(C=f==="end"?T*-1:T),g?{x:C*v,y:S*p}:{x:S*p,y:C*v}}const cP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:f}=e,g=await uP(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+g.x,y:l+g.y,data:{...g,placement:u}}}}},dP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:O=>{let{x:M,y:j}=O;return{x:M,y:j}}},...g}=io(t,e),p={x:n,y:a},v=await tg(e,g),_=fl(so(i)),S=nb(_);let C=p[S],T=p[_];if(l){const O=S==="y"?"top":"left",M=S==="y"?"bottom":"right",j=C+v[O],z=C-v[M];C=l2(j,C,z)}if(u){const O=_==="y"?"top":"left",M=_==="y"?"bottom":"right",j=T+v[O],z=T-v[M];T=l2(j,T,z)}const R=f.fn({...e,[S]:C,[_]:T});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[S]:l,[_]:u}}}}}},fP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:g=!0,crossAxis:p=!0}=io(t,e),v={x:n,y:a},_=fl(i),S=nb(_);let C=v[S],T=v[_];const R=io(f,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(g){const z=S==="y"?"height":"width",U=l.reference[S]-l.floating[z]+O.mainAxis,H=l.reference[S]+l.reference[z]-O.mainAxis;C<U?C=U:C>H&&(C=H)}if(p){var M,j;const z=S==="y"?"width":"height",U=y6.has(so(i)),H=l.reference[_]-l.floating[z]+(U&&((M=u.offset)==null?void 0:M[_])||0)+(U?0:O.crossAxis),L=l.reference[_]+l.reference[z]+(U?0:((j=u.offset)==null?void 0:j[_])||0)-(U?O.crossAxis:0);T<H?T=H:T>L&&(T=L)}return{[S]:C,[_]:T}}}},hP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:g=()=>{},...p}=io(t,e),v=await tg(e,p),_=so(i),S=Kf(i),C=fl(i)==="y",{width:T,height:R}=l.floating;let O,M;_==="top"||_==="bottom"?(O=_,M=S===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(M=_,O=S==="end"?"top":"bottom");const j=R-v.top-v.bottom,z=T-v.left-v.right,U=pu(R-v[O],j),H=pu(T-v[M],z),L=!e.middlewareData.shift;let Z=U,$=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(Z=j),L&&!S){const be=ui(v.left,0),Re=ui(v.right,0),le=ui(v.top,0),ye=ui(v.bottom,0);C?$=T-2*(be!==0||Re!==0?be+Re:ui(v.left,v.right)):Z=R-2*(le!==0||ye!==0?le+ye:ui(v.top,v.bottom))}await g({...e,availableWidth:$,availableHeight:Z});const ie=await u.getDimensions(f.floating);return T!==ie.width||R!==ie.height?{reset:{rects:!0}}:{}}}};function Pv(){return typeof window<"u"}function Ff(t){return b6(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bl(t){var e;return(e=(b6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b6(t){return Pv()?t instanceof Node||t instanceof hi(t).Node:!1}function _s(t){return Pv()?t instanceof Element||t instanceof hi(t).Element:!1}function ml(t){return Pv()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function K5(t){return!Pv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}const gP=new Set(["inline","contents"]);function yg(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=Ss(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!gP.has(i)}const mP=new Set(["table","td","th"]);function pP(t){return mP.has(Ff(t))}const vP=[":popover-open",":modal"];function Bv(t){return vP.some(e=>{try{return t.matches(e)}catch{return!1}})}const yP=["transform","translate","scale","rotate","perspective"],bP=["transform","translate","scale","rotate","perspective","filter"],_P=["paint","layout","strict","content"];function ib(t){const e=sb(),n=_s(t)?Ss(t):t;return yP.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||bP.some(a=>(n.willChange||"").includes(a))||_P.some(a=>(n.contain||"").includes(a))}function SP(t){let e=vu(t);for(;ml(e)&&!Vf(e);){if(ib(e))return e;if(Bv(e))return null;e=vu(e)}return null}function sb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xP=new Set(["html","body","#document"]);function Vf(t){return xP.has(Ff(t))}function Ss(t){return hi(t).getComputedStyle(t)}function Hv(t){return _s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vu(t){if(Ff(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K5(t)&&t.host||bl(t);return K5(e)?e.host:e}function _6(t){const e=vu(t);return Vf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ml(e)&&yg(e)?e:_6(e)}function ng(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=_6(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=hi(i);if(l){const f=u2(u);return e.concat(u,u.visualViewport||[],yg(i)?i:[],f&&n?ng(f):[])}return e.concat(i,ng(i,[],n))}function u2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function S6(t){const e=Ss(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=ml(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,f=dv(n)!==l||dv(a)!==u;return f&&(n=l,a=u),{width:n,height:a,$:f}}function lb(t){return _s(t)?t:t.contextElement}function Lf(t){const e=lb(t);if(!ml(e))return gl(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=S6(e);let u=(l?dv(n.width):n.width)/a,f=(l?dv(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const wP=gl(0);function x6(t){const e=hi(t);return!sb()||!e.visualViewport?wP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hi(t)?!1:e}function Uc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=lb(t);let u=gl(1);e&&(a?_s(a)&&(u=Lf(a)):u=Lf(t));const f=EP(l,n,a)?x6(l):gl(0);let g=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(l){const S=hi(l),C=a&&_s(a)?hi(a):a;let T=S,R=u2(T);for(;R&&a&&C!==T;){const O=Lf(R),M=R.getBoundingClientRect(),j=Ss(R),z=M.left+(R.clientLeft+parseFloat(j.paddingLeft))*O.x,U=M.top+(R.clientTop+parseFloat(j.paddingTop))*O.y;g*=O.x,p*=O.y,v*=O.x,_*=O.y,g+=z,p+=U,T=hi(R),R=u2(T)}}return hv({width:v,height:_,x:g,y:p})}function Gv(t,e){const n=Hv(t).scrollLeft;return e?e.left+n:Uc(bl(t)).left+n}function w6(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Gv(t,n),i=n.top+e.scrollTop;return{x:a,y:i}}function CP(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=bl(a),f=e?Bv(e.floating):!1;if(a===u||f&&l)return n;let g={scrollLeft:0,scrollTop:0},p=gl(1);const v=gl(0),_=ml(a);if((_||!_&&!l)&&((Ff(a)!=="body"||yg(u))&&(g=Hv(a)),ml(a))){const C=Uc(a);p=Lf(a),v.x=C.x+a.clientLeft,v.y=C.y+a.clientTop}const S=u&&!_&&!l?w6(u,g):gl(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-g.scrollLeft*p.x+v.x+S.x,y:n.y*p.y-g.scrollTop*p.y+v.y+S.y}}function TP(t){return Array.from(t.getClientRects())}function AP(t){const e=bl(t),n=Hv(t),a=t.ownerDocument.body,i=ui(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=ui(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Gv(t);const f=-n.scrollTop;return Ss(a).direction==="rtl"&&(u+=ui(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:f}}const F5=25;function RP(t,e){const n=hi(t),a=bl(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,f=0,g=0;if(i){l=i.width,u=i.height;const v=sb();(!v||v&&e==="fixed")&&(f=i.offsetLeft,g=i.offsetTop)}const p=Gv(a);if(p<=0){const v=a.ownerDocument,_=v.body,S=getComputedStyle(_),C=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(a.clientWidth-_.clientWidth-C);T<=F5&&(l-=T)}else p<=F5&&(l+=p);return{width:l,height:u,x:f,y:g}}const OP=new Set(["absolute","fixed"]);function NP(t,e){const n=Uc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=ml(t)?Lf(t):gl(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,g=i*l.x,p=a*l.y;return{width:u,height:f,x:g,y:p}}function Q5(t,e,n){let a;if(e==="viewport")a=RP(t,n);else if(e==="document")a=AP(bl(t));else if(_s(e))a=NP(e,n);else{const i=x6(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hv(a)}function E6(t,e){const n=vu(t);return n===e||!_s(n)||Vf(n)?!1:Ss(n).position==="fixed"||E6(n,e)}function MP(t,e){const n=e.get(t);if(n)return n;let a=ng(t,[],!1).filter(f=>_s(f)&&Ff(f)!=="body"),i=null;const l=Ss(t).position==="fixed";let u=l?vu(t):t;for(;_s(u)&&!Vf(u);){const f=Ss(u),g=ib(u);!g&&f.position==="fixed"&&(i=null),(l?!g&&!i:!g&&f.position==="static"&&!!i&&OP.has(i.position)||yg(u)&&!g&&E6(t,u))?a=a.filter(v=>v!==u):i=f,u=vu(u)}return e.set(t,a),a}function DP(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Bv(e)?[]:MP(e,this._c):[].concat(n),a],f=u[0],g=u.reduce((p,v)=>{const _=Q5(e,v,i);return p.top=ui(_.top,p.top),p.right=pu(_.right,p.right),p.bottom=pu(_.bottom,p.bottom),p.left=ui(_.left,p.left),p},Q5(e,f,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function jP(t){const{width:e,height:n}=S6(t);return{width:e,height:n}}function zP(t,e,n){const a=ml(e),i=bl(e),l=n==="fixed",u=Uc(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const g=gl(0);function p(){g.x=Gv(i)}if(a||!a&&!l)if((Ff(e)!=="body"||yg(i))&&(f=Hv(e)),a){const C=Uc(e,!0,l,e);g.x=C.x+e.clientLeft,g.y=C.y+e.clientTop}else i&&p();l&&!a&&i&&p();const v=i&&!a&&!l?w6(i,f):gl(0),_=u.left+f.scrollLeft-g.x-v.x,S=u.top+f.scrollTop-g.y-v.y;return{x:_,y:S,width:u.width,height:u.height}}function by(t){return Ss(t).position==="static"}function $5(t,e){if(!ml(t)||Ss(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bl(t)===n&&(n=n.ownerDocument.body),n}function C6(t,e){const n=hi(t);if(Bv(t))return n;if(!ml(t)){let i=vu(t);for(;i&&!Vf(i);){if(_s(i)&&!by(i))return i;i=vu(i)}return n}let a=$5(t,e);for(;a&&pP(a)&&by(a);)a=$5(a,e);return a&&Vf(a)&&by(a)&&!ib(a)?n:a||SP(t)||n}const kP=async function(t){const e=this.getOffsetParent||C6,n=this.getDimensions,a=await n(t.floating);return{reference:zP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function UP(t){return Ss(t).direction==="rtl"}const LP={convertOffsetParentRelativeRectToViewportRelativeRect:CP,getDocumentElement:bl,getClippingRect:DP,getOffsetParent:C6,getElementRects:kP,getClientRects:TP,getDimensions:jP,getScale:Lf,isElement:_s,isRTL:UP};function T6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PP(t,e){let n=null,a;const i=bl(t);function l(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function u(f,g){f===void 0&&(f=!1),g===void 0&&(g=1),l();const p=t.getBoundingClientRect(),{left:v,top:_,width:S,height:C}=p;if(f||e(),!S||!C)return;const T=kp(_),R=kp(i.clientWidth-(v+S)),O=kp(i.clientHeight-(_+C)),M=kp(v),z={rootMargin:-T+"px "+-R+"px "+-O+"px "+-M+"px",threshold:ui(0,pu(1,g))||1};let U=!0;function H(L){const Z=L[0].intersectionRatio;if(Z!==g){if(!U)return u();Z?u(!1,Z):a=setTimeout(()=>{u(!1,1e-7)},1e3)}Z===1&&!T6(p,t.getBoundingClientRect())&&u(),U=!1}try{n=new IntersectionObserver(H,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,z)}n.observe(t)}return u(!0),l}function BP(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,p=lb(t),v=i||l?[...p?ng(p):[],...ng(e)]:[];v.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const _=p&&f?PP(p,n):null;let S=-1,C=null;u&&(C=new ResizeObserver(M=>{let[j]=M;j&&j.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),n()}),p&&!g&&C.observe(p),C.observe(e));let T,R=g?Uc(t):null;g&&O();function O(){const M=Uc(t);R&&!T6(R,M)&&n(),R=M,T=requestAnimationFrame(O)}return n(),()=>{var M;v.forEach(j=>{i&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),_?.(),(M=C)==null||M.disconnect(),C=null,g&&cancelAnimationFrame(T)}}const HP=cP,GP=dP,qP=lP,VP=hP,YP=oP,W5=sP,ZP=fP,IP=(t,e,n)=>{const a=new Map,i={platform:LP,...n},l={...i.platform,_c:a};return iP(t,e,{...i,platform:l})};var XP=typeof document<"u",KP=function(){},Ip=XP?N.useLayoutEffect:KP;function gv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!gv(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!gv(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function A6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function J5(t,e){const n=A6(t);return Math.round(e*n)/n}function _y(t){const e=N.useRef(t);return Ip(()=>{e.current=t}),e}function FP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:g,open:p}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,C]=N.useState(a);gv(S,a)||C(a);const[T,R]=N.useState(null),[O,M]=N.useState(null),j=N.useCallback(Q=>{Q!==L.current&&(L.current=Q,R(Q))},[]),z=N.useCallback(Q=>{Q!==Z.current&&(Z.current=Q,M(Q))},[]),U=l||T,H=u||O,L=N.useRef(null),Z=N.useRef(null),$=N.useRef(v),ie=g!=null,be=_y(g),Re=_y(i),le=_y(p),ye=N.useCallback(()=>{if(!L.current||!Z.current)return;const Q={placement:e,strategy:n,middleware:S};Re.current&&(Q.platform=Re.current),IP(L.current,Z.current,Q).then(se=>{const G={...se,isPositioned:le.current!==!1};ge.current&&!gv($.current,G)&&($.current=G,dg.flushSync(()=>{_(G)}))})},[S,e,n,Re,le]);Ip(()=>{p===!1&&$.current.isPositioned&&($.current.isPositioned=!1,_(Q=>({...Q,isPositioned:!1})))},[p]);const ge=N.useRef(!1);Ip(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Ip(()=>{if(U&&(L.current=U),H&&(Z.current=H),U&&H){if(be.current)return be.current(U,H,ye);ye()}},[U,H,ye,be,ie]);const de=N.useMemo(()=>({reference:L,floating:Z,setReference:j,setFloating:z}),[j,z]),B=N.useMemo(()=>({reference:U,floating:H}),[U,H]),ae=N.useMemo(()=>{const Q={position:n,left:0,top:0};if(!B.floating)return Q;const se=J5(B.floating,v.x),G=J5(B.floating,v.y);return f?{...Q,transform:"translate("+se+"px, "+G+"px)",...A6(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:G}},[n,f,B.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:ye,refs:de,elements:B,floatingStyles:ae}),[v,ye,de,B,ae])}const QP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?W5({element:a.current,padding:i}).fn(n):{}:a?W5({element:a,padding:i}).fn(n):{}}}},$P=(t,e)=>({...HP(t),options:[t,e]}),WP=(t,e)=>({...GP(t),options:[t,e]}),JP=(t,e)=>({...ZP(t),options:[t,e]}),eB=(t,e)=>({...qP(t),options:[t,e]}),tB=(t,e)=>({...VP(t),options:[t,e]}),nB=(t,e)=>({...YP(t),options:[t,e]}),aB=(t,e)=>({...QP(t),options:[t,e]});var rB="Arrow",R6=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return E.jsx(jn.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});R6.displayName=rB;var iB=R6,ob="Popper",[O6,N6]=ho(ob),[sB,M6]=O6(ob),D6=t=>{const{__scopePopper:e,children:n}=t,[a,i]=N.useState(null);return E.jsx(sB,{scope:e,anchor:a,onAnchorChange:i,children:n})};D6.displayName=ob;var j6="PopperAnchor",z6=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=M6(j6,n),u=N.useRef(null),f=xa(e,u),g=N.useRef(null);return N.useEffect(()=>{const p=g.current;g.current=a?.current||u.current,p!==g.current&&l.onAnchorChange(g.current)}),a?null:E.jsx(jn.div,{...i,ref:f})});z6.displayName=j6;var ub="PopperContent",[lB,oB]=O6(ub),k6=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:T,...R}=t,O=M6(ub,n),[M,j]=N.useState(null),z=xa(e,st=>j(st)),[U,H]=N.useState(null),L=XL(U),Z=L?.width??0,$=L?.height??0,ie=a+(l!=="center"?"-"+l:""),be=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Re=Array.isArray(p)?p:[p],le=Re.length>0,ye={padding:be,boundary:Re.filter(cB),altBoundary:le},{refs:ge,floatingStyles:de,placement:B,isPositioned:ae,middlewareData:Q}=FP({strategy:"fixed",placement:ie,whileElementsMounted:(...st)=>BP(...st,{animationFrame:C==="always"}),elements:{reference:O.anchor},middleware:[$P({mainAxis:i+$,alignmentAxis:u}),g&&WP({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?JP():void 0,...ye}),g&&eB({...ye}),tB({...ye,apply:({elements:st,rects:Et,availableWidth:we,availableHeight:Me})=>{const{width:ot,height:_t}=Et.reference,St=st.floating.style;St.setProperty("--radix-popper-available-width",`${we}px`),St.setProperty("--radix-popper-available-height",`${Me}px`),St.setProperty("--radix-popper-anchor-width",`${ot}px`),St.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),U&&aB({element:U,padding:f}),dB({arrowWidth:Z,arrowHeight:$}),S&&nB({strategy:"referenceHidden",...ye})]}),[se,G]=P6(B),ne=ro(T);mu(()=>{ae&&ne?.()},[ae,ne]);const _e=Q.arrow?.x,Ee=Q.arrow?.y,Ve=Q.arrow?.centerOffset!==0,[ut,Ie]=N.useState();return mu(()=>{M&&Ie(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:ae?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(lB,{scope:n,placedSide:se,onArrowChange:H,arrowX:_e,arrowY:Ee,shouldHideArrow:Ve,children:E.jsx(jn.div,{"data-side":se,"data-align":G,...R,ref:z,style:{...R.style,animation:ae?void 0:"none"}})})})});k6.displayName=ub;var U6="PopperArrow",uB={top:"bottom",right:"left",bottom:"top",left:"right"},L6=N.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=oB(U6,a),u=uB[l.placedSide];return E.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:E.jsx(iB,{...i,ref:n,style:{...i.style,display:"block"}})})});L6.displayName=U6;function cB(t){return t!==null}var dB=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,g=u?0:t.arrowHeight,[p,v]=P6(n),_={start:"0%",center:"50%",end:"100%"}[v],S=(i.arrow?.x??0)+f/2,C=(i.arrow?.y??0)+g/2;let T="",R="";return p==="bottom"?(T=u?_:`${S}px`,R=`${-g}px`):p==="top"?(T=u?_:`${S}px`,R=`${a.floating.height+g}px`):p==="right"?(T=`${-g}px`,R=u?_:`${C}px`):p==="left"&&(T=`${a.floating.width+g}px`,R=u?_:`${C}px`),{data:{x:T,y:R}}}});function P6(t){const[e,n="center"]=t.split("-");return[e,n]}var fB=D6,hB=z6,gB=k6,mB=L6,Sy="rovingFocusGroup.onEntryFocus",pB={bubbles:!1,cancelable:!0},bg="RovingFocusGroup",[c2,B6,vB]=Tx(bg),[yB,Qf]=ho(bg,[vB]),[bB,_B]=yB(bg),H6=N.forwardRef((t,e)=>E.jsx(c2.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(c2.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(SB,{...t,ref:e})})}));H6.displayName=bg;var SB=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,..._}=t,S=N.useRef(null),C=xa(e,S),T=kv(l),[R,O]=Xf({prop:u,defaultProp:f??null,onChange:g,caller:bg}),[M,j]=N.useState(!1),z=ro(p),U=B6(n),H=N.useRef(!1),[L,Z]=N.useState(0);return N.useEffect(()=>{const $=S.current;if($)return $.addEventListener(Sy,z),()=>$.removeEventListener(Sy,z)},[z]),E.jsx(bB,{scope:n,orientation:a,dir:T,loop:i,currentTabStopId:R,onItemFocus:N.useCallback($=>O($),[O]),onItemShiftTab:N.useCallback(()=>j(!0),[]),onFocusableItemAdd:N.useCallback(()=>Z($=>$+1),[]),onFocusableItemRemove:N.useCallback(()=>Z($=>$-1),[]),children:E.jsx(jn.div,{tabIndex:M||L===0?-1:0,"data-orientation":a,..._,ref:C,style:{outline:"none",...t.style},onMouseDown:Mt(t.onMouseDown,()=>{H.current=!0}),onFocus:Mt(t.onFocus,$=>{const ie=!H.current;if($.target===$.currentTarget&&ie&&!M){const be=new CustomEvent(Sy,pB);if($.currentTarget.dispatchEvent(be),!be.defaultPrevented){const Re=U().filter(B=>B.focusable),le=Re.find(B=>B.active),ye=Re.find(B=>B.id===R),de=[le,ye,...Re].filter(Boolean).map(B=>B.ref.current);V6(de,v)}}H.current=!1}),onBlur:Mt(t.onBlur,()=>j(!1))})})}),G6="RovingFocusGroupItem",q6=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...f}=t,g=zf(),p=l||g,v=_B(G6,n),_=v.currentTabStopId===p,S=B6(n),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return C(),()=>T()},[a,C,T]),E.jsx(c2.ItemSlot,{scope:n,id:p,focusable:a,active:i,children:E.jsx(jn.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...f,ref:e,onMouseDown:Mt(t.onMouseDown,O=>{a?v.onItemFocus(p):O.preventDefault()}),onFocus:Mt(t.onFocus,()=>v.onItemFocus(p)),onKeyDown:Mt(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const M=EB(O,v.orientation,v.dir);if(M!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=S().filter(U=>U.focusable).map(U=>U.ref.current);if(M==="last")z.reverse();else if(M==="prev"||M==="next"){M==="prev"&&z.reverse();const U=z.indexOf(O.currentTarget);z=v.loop?CB(z,U+1):z.slice(U+1)}setTimeout(()=>V6(z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:R!=null}):u})})});q6.displayName=G6;var xB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function EB(t,e,n){const a=wB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return xB[a]}function V6(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function CB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var cb=H6,qv=q6,d2=["Enter"," "],TB=["ArrowDown","PageUp","Home"],Y6=["ArrowUp","PageDown","End"],AB=[...TB,...Y6],RB={ltr:[...d2,"ArrowRight"],rtl:[...d2,"ArrowLeft"]},OB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_g="Menu",[ag,NB,MB]=Tx(_g),[Xc,Z6]=ho(_g,[MB,N6,Qf]),Vv=N6(),I6=Qf(),[DB,Kc]=Xc(_g),[jB,Sg]=Xc(_g),X6=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=t,f=Vv(e),[g,p]=N.useState(null),v=N.useRef(!1),_=ro(l),S=kv(i);return N.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(fB,{...f,children:E.jsx(DB,{scope:e,open:n,onOpenChange:_,content:g,onContentChange:p,children:E.jsx(jB,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:S,modal:u,children:a})})})};X6.displayName=_g;var zB="MenuAnchor",db=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Vv(n);return E.jsx(hB,{...i,...a,ref:e})});db.displayName=zB;var fb="MenuPortal",[kB,K6]=Xc(fb,{forceMount:void 0}),F6=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,l=Kc(fb,e);return E.jsx(kB,{scope:e,forceMount:n,children:E.jsx(Cu,{present:n||l.open,children:E.jsx($2,{asChild:!0,container:i,children:a})})})};F6.displayName=fb;var Hi="MenuContent",[UB,hb]=Xc(Hi),Q6=N.forwardRef((t,e)=>{const n=K6(Hi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Kc(Hi,t.__scopeMenu),u=Sg(Hi,t.__scopeMenu);return E.jsx(ag.Provider,{scope:t.__scopeMenu,children:E.jsx(Cu,{present:a||l.open,children:E.jsx(ag.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(LB,{...i,ref:e}):E.jsx(PB,{...i,ref:e})})})})}),LB=N.forwardRef((t,e)=>{const n=Kc(Hi,t.__scopeMenu),a=N.useRef(null),i=xa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return Bx(l)},[]),E.jsx(gb,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Mt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PB=N.forwardRef((t,e)=>{const n=Kc(Hi,t.__scopeMenu);return E.jsx(gb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),BB=eg("MenuContent.ScrollLock"),gb=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:g,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,disableOutsideScroll:T,...R}=t,O=Kc(Hi,n),M=Sg(Hi,n),j=Vv(n),z=I6(n),U=NB(n),[H,L]=N.useState(null),Z=N.useRef(null),$=xa(e,Z,O.onContentChange),ie=N.useRef(0),be=N.useRef(""),Re=N.useRef(0),le=N.useRef(null),ye=N.useRef("right"),ge=N.useRef(0),de=T?W2:N.Fragment,B=T?{as:BB,allowPinchZoom:!0}:void 0,ae=se=>{const G=be.current+se,ne=U().filter(st=>!st.disabled),_e=document.activeElement,Ee=ne.find(st=>st.ref.current===_e)?.textValue,Ve=ne.map(st=>st.textValue),ut=$B(Ve,G,Ee),Ie=ne.find(st=>st.textValue===ut)?.ref.current;(function st(Et){be.current=Et,window.clearTimeout(ie.current),Et!==""&&(ie.current=window.setTimeout(()=>st(""),1e3))})(G),Ie&&setTimeout(()=>Ie.focus())};N.useEffect(()=>()=>window.clearTimeout(ie.current),[]),Nx();const Q=N.useCallback(se=>ye.current===le.current?.side&&JB(se,le.current?.area),[]);return E.jsx(UB,{scope:n,searchRef:be,onItemEnter:N.useCallback(se=>{Q(se)&&se.preventDefault()},[Q]),onItemLeave:N.useCallback(se=>{Q(se)||(Z.current?.focus(),L(null))},[Q]),onTriggerLeave:N.useCallback(se=>{Q(se)&&se.preventDefault()},[Q]),pointerGraceTimerRef:Re,onPointerGraceIntentChange:N.useCallback(se=>{le.current=se},[]),children:E.jsx(de,{...B,children:E.jsx(Q2,{asChild:!0,trapped:i,onMountAutoFocus:Mt(l,se=>{se.preventDefault(),Z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(F2,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,children:E.jsx(cb,{asChild:!0,...z,dir:M.dir,orientation:"vertical",loop:a,currentTabStopId:H,onCurrentTabStopIdChange:L,onEntryFocus:Mt(g,se=>{M.isUsingKeyboardRef.current||se.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(gB,{role:"menu","aria-orientation":"vertical","data-state":fw(O.open),"data-radix-menu-content":"",dir:M.dir,...j,...R,ref:$,style:{outline:"none",...R.style},onKeyDown:Mt(R.onKeyDown,se=>{const ne=se.target.closest("[data-radix-menu-content]")===se.currentTarget,_e=se.ctrlKey||se.altKey||se.metaKey,Ee=se.key.length===1;ne&&(se.key==="Tab"&&se.preventDefault(),!_e&&Ee&&ae(se.key));const Ve=Z.current;if(se.target!==Ve||!AB.includes(se.key))return;se.preventDefault();const Ie=U().filter(st=>!st.disabled).map(st=>st.ref.current);Y6.includes(se.key)&&Ie.reverse(),FB(Ie)}),onBlur:Mt(t.onBlur,se=>{se.currentTarget.contains(se.target)||(window.clearTimeout(ie.current),be.current="")}),onPointerMove:Mt(t.onPointerMove,rg(se=>{const G=se.target,ne=ge.current!==se.clientX;if(se.currentTarget.contains(G)&&ne){const _e=se.clientX>ge.current?"right":"left";ye.current=_e,ge.current=se.clientX}}))})})})})})})});Q6.displayName=Hi;var HB="MenuGroup",mb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(jn.div,{role:"group",...a,ref:e})});mb.displayName=HB;var GB="MenuLabel",$6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(jn.div,{...a,ref:e})});$6.displayName=GB;var mv="MenuItem",e3="menu.itemSelect",Yv=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,l=N.useRef(null),u=Sg(mv,t.__scopeMenu),f=hb(mv,t.__scopeMenu),g=xa(e,l),p=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const S=new CustomEvent(e3,{bubbles:!0,cancelable:!0});_.addEventListener(e3,C=>a?.(C),{once:!0}),Cx(_,S),S.defaultPrevented?p.current=!1:u.onClose()}};return E.jsx(W6,{...i,ref:g,disabled:n,onClick:Mt(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),p.current=!0},onPointerUp:Mt(t.onPointerUp,_=>{p.current||_.currentTarget?.click()}),onKeyDown:Mt(t.onKeyDown,_=>{const S=f.searchRef.current!=="";n||S&&_.key===" "||d2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});Yv.displayName=mv;var W6=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=t,u=hb(mv,n),f=I6(n),g=N.useRef(null),p=xa(e,g),[v,_]=N.useState(!1),[S,C]=N.useState("");return N.useEffect(()=>{const T=g.current;T&&C((T.textContent??"").trim())},[l.children]),E.jsx(ag.ItemSlot,{scope:n,disabled:a,textValue:i??S,children:E.jsx(qv,{asChild:!0,...f,focusable:!a,children:E.jsx(jn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:p,onPointerMove:Mt(t.onPointerMove,rg(T=>{a?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Mt(t.onPointerLeave,rg(T=>u.onItemLeave(T))),onFocus:Mt(t.onFocus,()=>_(!0)),onBlur:Mt(t.onBlur,()=>_(!1))})})})}),qB="MenuCheckboxItem",J6=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return E.jsx(rw,{scope:t.__scopeMenu,checked:n,children:E.jsx(Yv,{role:"menuitemcheckbox","aria-checked":pv(n)?"mixed":n,...i,ref:e,"data-state":vb(n),onSelect:Mt(i.onSelect,()=>a?.(pv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});J6.displayName=qB;var ew="MenuRadioGroup",[VB,YB]=Xc(ew,{value:void 0,onValueChange:()=>{}}),tw=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,l=ro(a);return E.jsx(VB,{scope:t.__scopeMenu,value:n,onValueChange:l,children:E.jsx(mb,{...i,ref:e})})});tw.displayName=ew;var nw="MenuRadioItem",aw=N.forwardRef((t,e)=>{const{value:n,...a}=t,i=YB(nw,t.__scopeMenu),l=n===i.value;return E.jsx(rw,{scope:t.__scopeMenu,checked:l,children:E.jsx(Yv,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":vb(l),onSelect:Mt(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});aw.displayName=nw;var pb="MenuItemIndicator",[rw,ZB]=Xc(pb,{checked:!1}),iw=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,l=ZB(pb,n);return E.jsx(Cu,{present:a||pv(l.checked)||l.checked===!0,children:E.jsx(jn.span,{...i,ref:e,"data-state":vb(l.checked)})})});iw.displayName=pb;var IB="MenuSeparator",sw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(jn.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});sw.displayName=IB;var XB="MenuArrow",lw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Vv(n);return E.jsx(mB,{...i,...a,ref:e})});lw.displayName=XB;var KB="MenuSub",[RG,ow]=Xc(KB),k0="MenuSubTrigger",uw=N.forwardRef((t,e)=>{const n=Kc(k0,t.__scopeMenu),a=Sg(k0,t.__scopeMenu),i=ow(k0,t.__scopeMenu),l=hb(k0,t.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:g}=l,p={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=f.current;return()=>{window.clearTimeout(_),g(null)}},[f,g]),E.jsx(db,{asChild:!0,...p,children:E.jsx(W6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":fw(n.open),...t,ref:zv(e,i.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Mt(t.onPointerMove,rg(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Mt(t.onPointerLeave,rg(_=>{v();const S=n.content?.getBoundingClientRect();if(S){const C=n.content?.dataset.side,T=C==="right",R=T?-5:5,O=S[T?"left":"right"],M=S[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x:O,y:S.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Mt(t.onKeyDown,_=>{const S=l.searchRef.current!=="";t.disabled||S&&_.key===" "||RB[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});uw.displayName=k0;var cw="MenuSubContent",dw=N.forwardRef((t,e)=>{const n=K6(Hi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Kc(Hi,t.__scopeMenu),u=Sg(Hi,t.__scopeMenu),f=ow(cw,t.__scopeMenu),g=N.useRef(null),p=xa(e,g);return E.jsx(ag.Provider,{scope:t.__scopeMenu,children:E.jsx(Cu,{present:a||l.open,children:E.jsx(ag.Slot,{scope:t.__scopeMenu,children:E.jsx(gb,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Mt(t.onFocusOutside,v=>{v.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Mt(t.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Mt(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),S=OB[u.dir].includes(v.key);_&&S&&(l.onOpenChange(!1),f.trigger?.focus(),v.preventDefault())})})})})})});dw.displayName=cw;function fw(t){return t?"open":"closed"}function pv(t){return t==="indeterminate"}function vb(t){return pv(t)?"indeterminate":t?"checked":"unchecked"}function FB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function QB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function $B(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=QB(t,Math.max(l,0));i.length===1&&(u=u.filter(p=>p!==n));const g=u.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return g!==n?g:void 0}function WB(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],g=e[u],p=f.x,v=f.y,_=g.x,S=g.y;v>a!=S>a&&n<(_-p)*(a-v)/(S-v)+p&&(i=!i)}return i}function JB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return WB(n,e)}function rg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var eH=X6,tH=db,nH=F6,aH=Q6,rH=mb,iH=$6,sH=Yv,lH=J6,oH=tw,uH=aw,cH=iw,dH=sw,fH=lw,hH=uw,gH=dw,Zv="DropdownMenu",[mH]=ho(Zv,[Z6]),Or=Z6(),[pH,hw]=mH(Zv),gw=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:f=!0}=t,g=Or(e),p=N.useRef(null),[v,_]=Xf({prop:i,defaultProp:l??!1,onChange:u,caller:Zv});return E.jsx(pH,{scope:e,triggerId:zf(),triggerRef:p,contentId:zf(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(S=>!S),[_]),modal:f,children:E.jsx(eH,{...g,open:v,onOpenChange:_,dir:a,modal:f,children:n})})};gw.displayName=Zv;var mw="DropdownMenuTrigger",pw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,l=hw(mw,n),u=Or(n);return E.jsx(tH,{asChild:!0,...u,children:E.jsx(jn.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:zv(e,l.triggerRef),onPointerDown:Mt(t.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:Mt(t.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});pw.displayName=mw;var vH="DropdownMenuPortal",vw=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Or(e);return E.jsx(nH,{...a,...n})};vw.displayName=vH;var yw="DropdownMenuContent",bw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=hw(yw,n),l=Or(n),u=N.useRef(!1);return E.jsx(aH,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:e,onCloseAutoFocus:Mt(t.onCloseAutoFocus,f=>{u.current||i.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Mt(t.onInteractOutside,f=>{const g=f.detail.originalEvent,p=g.button===0&&g.ctrlKey===!0,v=g.button===2||p;(!i.modal||v)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bw.displayName=yw;var yH="DropdownMenuGroup",bH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(rH,{...i,...a,ref:e})});bH.displayName=yH;var _H="DropdownMenuLabel",_w=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(iH,{...i,...a,ref:e})});_w.displayName=_H;var SH="DropdownMenuItem",Sw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(sH,{...i,...a,ref:e})});Sw.displayName=SH;var xH="DropdownMenuCheckboxItem",wH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(lH,{...i,...a,ref:e})});wH.displayName=xH;var EH="DropdownMenuRadioGroup",xw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(oH,{...i,...a,ref:e})});xw.displayName=EH;var CH="DropdownMenuRadioItem",ww=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(uH,{...i,...a,ref:e})});ww.displayName=CH;var TH="DropdownMenuItemIndicator",Ew=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(cH,{...i,...a,ref:e})});Ew.displayName=TH;var AH="DropdownMenuSeparator",Cw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(dH,{...i,...a,ref:e})});Cw.displayName=AH;var RH="DropdownMenuArrow",Tw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(fH,{...i,...a,ref:e})});Tw.displayName=RH;var OH="DropdownMenuSubTrigger",NH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(hH,{...i,...a,ref:e})});NH.displayName=OH;var MH="DropdownMenuSubContent",DH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Or(n);return E.jsx(gH,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DH.displayName=MH;var xy=gw,wy=pw,Ey=vw,Cy=bw,t3=_w,ll=Sw,n3=xw,ru=ww,xf=Ew,wf=Cw,jH=Tw,zH="Separator",a3="horizontal",kH=["horizontal","vertical"],Aw=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=a3,...i}=t,l=UH(a)?a:a3,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return E.jsx(jn.div,{"data-orientation":l,...f,...i,ref:e})});Aw.displayName=zH;function UH(t){return kH.includes(t)}var LH=Aw,Rw="Toggle",Ow=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:i,...l}=t,[u,f]=Xf({prop:n,onChange:i,defaultProp:a??!1,caller:Rw});return E.jsx(jn.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Mt(t.onClick,()=>{t.disabled||f(!u)})})});Ow.displayName=Rw;var Tu="ToggleGroup",[Nw,Mw]=ho(Tu,[Qf]),Dw=Qf(),yb=Qe.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const i=a;return E.jsx(PH,{...i,ref:e})}if(n==="multiple"){const i=a;return E.jsx(BH,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Tu}\``)});yb.displayName=Tu;var[jw,zw]=Nw(Tu),PH=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Xf({prop:n,defaultProp:a??"",onChange:i,caller:Tu});return E.jsx(jw,{scope:t.__scopeToggleGroup,type:"single",value:Qe.useMemo(()=>u?[u]:[],[u]),onItemActivate:f,onItemDeactivate:Qe.useCallback(()=>f(""),[f]),children:E.jsx(kw,{...l,ref:e})})}),BH=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Xf({prop:n,defaultProp:a??[],onChange:i,caller:Tu}),g=Qe.useCallback(v=>f((_=[])=>[..._,v]),[f]),p=Qe.useCallback(v=>f((_=[])=>_.filter(S=>S!==v)),[f]);return E.jsx(jw,{scope:t.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:g,onItemDeactivate:p,children:E.jsx(kw,{...l,ref:e})})});yb.displayName=Tu;var[HH,GH]=Nw(Tu),kw=Qe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:i=!0,orientation:l,dir:u,loop:f=!0,...g}=t,p=Dw(n),v=kv(u),_={role:"group",dir:v,...g};return E.jsx(HH,{scope:n,rovingFocus:i,disabled:a,children:i?E.jsx(cb,{asChild:!0,...p,orientation:l,dir:v,loop:f,children:E.jsx(jn.div,{..._,ref:e})}):E.jsx(jn.div,{..._,ref:e})})}),vv="ToggleGroupItem",Uw=Qe.forwardRef((t,e)=>{const n=zw(vv,t.__scopeToggleGroup),a=GH(vv,t.__scopeToggleGroup),i=Dw(t.__scopeToggleGroup),l=n.value.includes(t.value),u=a.disabled||t.disabled,f={...t,pressed:l,disabled:u},g=Qe.useRef(null);return a.rovingFocus?E.jsx(qv,{asChild:!0,...i,focusable:!u,active:l,ref:g,children:E.jsx(r3,{...f,ref:e})}):E.jsx(r3,{...f,ref:e})});Uw.displayName=vv;var r3=Qe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...i}=t,l=zw(vv,n),u={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},f=l.type==="single"?u:void 0;return E.jsx(Ow,{...f,...i,ref:e,onPressedChange:g=>{g?l.onItemActivate(a):l.onItemDeactivate(a)}})}),qH=yb,VH=Uw,bb="Toolbar",[YH]=ho(bb,[Qf,Mw]),_b=Qf(),Lw=Mw(),[ZH,Pw]=YH(bb),Bw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:i,loop:l=!0,...u}=t,f=_b(n),g=kv(i);return E.jsx(ZH,{scope:n,orientation:a,dir:g,children:E.jsx(cb,{asChild:!0,...f,orientation:a,dir:g,loop:l,children:E.jsx(jn.div,{role:"toolbar","aria-orientation":a,dir:g,...u,ref:e})})})});Bw.displayName=bb;var Hw="ToolbarSeparator",Gw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Pw(Hw,n);return E.jsx(LH,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});Gw.displayName=Hw;var IH="ToolbarButton",qw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=_b(n);return E.jsx(qv,{asChild:!0,...i,focusable:!t.disabled,children:E.jsx(jn.button,{type:"button",...a,ref:e})})});qw.displayName=IH;var XH="ToolbarLink",KH=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=_b(n);return E.jsx(qv,{asChild:!0,...i,focusable:!0,children:E.jsx(jn.a,{...a,ref:e,onKeyDown:Mt(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});KH.displayName=XH;var Vw="ToolbarToggleGroup",Yw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Pw(Vw,n),l=Lw(n);return E.jsx(qH,{"data-orientation":i.orientation,dir:i.dir,...l,...a,ref:e,rovingFocus:!1})});Yw.displayName=Vw;var FH="ToolbarToggleItem",Zw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Lw(n),l={__scopeToolbar:t.__scopeToolbar};return E.jsx(qw,{asChild:!0,...l,children:E.jsx(VH,{...i,...a,ref:e})})});Zw.displayName=FH;var QH=Bw,$H=Gw,i3=Yw,Cc=Zw;function WH(t){return Nn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function s3({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:i,onEraserClick:l,tool:u,setTool:f}){return E.jsxs(QH,{className:"flex px-6 py-3 md:px-5 w-full mx-5 sm:px-5 sm:w-fit sm:py-2 rounded-lg bg-white border-2 border-zinc-300 shadow-sm  justify-center max-sm:gap-3 ",children:[E.jsxs(i3,{type:"single",className:"flex gap-2 sm:gap-0.5",children:[E.jsx(Cc,{value:"task",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:t,children:[E.jsx(DT,{className:"text-2xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task  Q"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"Q"})]})}),E.jsx(Cc,{value:"todo",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:()=>e(),children:[E.jsx(OT,{className:"text-2xl md:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do  W"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"W"})]})}),E.jsx(Cc,{value:"annotate",children:E.jsxs("div",{onClick:()=>i(),className:"add-annotate relative group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(RT,{className:"text-2xl md:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Text  E"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"E"})]})})]}),E.jsx($H,{className:"w-px my-3 mx-2 bg-black"}),E.jsxs(i3,{type:"single",value:u,onValueChange:g=>{g&&f(g)},className:"flex gap-2 sm:gap-0.5",children:[E.jsx(Cc,{value:"hand",className:"group",children:E.jsxs("div",{className:"pan-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(UT,{className:"-rotate-[45deg] text-2xl md:text-xl group-data-[state=on]:stroke-blue-500 sm:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Hand  1 or Z"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"1"})]})}),E.jsx(Cc,{value:"select",className:"group",onClick:a,children:E.jsxs("div",{className:"select-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(jT,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select  2 or X"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"2"})]})}),E.jsx(Cc,{value:"draw",className:"group",onClick:n,children:E.jsxs("div",{className:"draw-canvas relative flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(lS,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw  3 or C"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"3"})]})}),E.jsx(Cc,{value:"eraser",className:"group",onClick:l,children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(WH,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-red-500 group-data-[state=on]:stroke-2",style:{strokeWidth:.5}}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Eraser  4 or V"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-red-500",children:"4"})]})})]})]})}async function Iw(t){const{data:e,error:n}=await an.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;const{data:a,error:i}=await an.from("canvas").insert({owner_id:t}).select("canvas_id").single();return i?(console.error("Error creating canvas:",i),null):a.canvas_id}async function JH(t,e){try{const{data:n,error:a}=await an.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function l3(t){try{const{data:e,error:n}=await an.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function o3(t,e){try{const{data:n}=await an.auth.getUser();if(!n?.user||t==="local")return await new Promise(l=>{const u=indexedDB.open("CanvasDB"),f={local_color:"local",color:e||"#ffffff",updatedAt:Date.now()};u.onsuccess=()=>{const p=u.result.transaction("BackgroundColor","readwrite");p.objectStore("BackgroundColor").put(f),p.oncomplete=()=>l(!0),p.onerror=()=>l(!0)},u.onerror=()=>l(!0)}),{success:!0,canvasId:"local"};const{error:i}=await an.from("canvas").update({background_color:e}).eq("canvas_id",t);i&&console.error(i)}catch(n){console.error("Error on update canvas color function: ",n)}}async function u3(t){try{const{data:e}=await an.auth.getUser();if(!e?.user||t==="local")return new Promise(l=>{const u=indexedDB.open("CanvasDB");u.onsuccess=()=>{const g=u.result.transaction(["BackgroundColor"],"readonly"),v=g.objectStore("BackgroundColor").get("local");g.oncomplete=()=>{const _=v.result;l(_?_.color:"#ffffff")}},u.onerror=()=>{l("#ffffff")}});const{data:a,error:i}=await an.from("canvas").select("background_color").eq("canvas_id",t).single();return i?(console.error(i),"#ffffff"):a.background_color}catch(e){console.error("Error on get canvas color function: ",e)}}async function Up(t,e){try{const{data:n}=await an.auth.getUser(),a=n?.user;if(!a||e==="local")return await new Promise(g=>{const p=indexedDB.open("CanvasDB"),v={local_canvas:"local",canvasData:t,updatedAt:Date.now()},_={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};p.onsuccess=()=>{const C=p.result.transaction(["Canvas","Viewport"],"readwrite"),T=C.objectStore("Canvas"),R=C.objectStore("Viewport");T.put(v),R.put(_),C.oncomplete=()=>g(!0),C.onerror=()=>g(!0)},p.onerror=()=>g(!0)}),{success:!0,canvasId:"local"};if(!a)return{success:!0};let i=e;if(!i&&(i=await Iw(a.id),!i))return{success:!1,error:"Failed to get canvas"};if(!t||!t.shapes||!t.connectors)return console.warn("Skipping save - incomplete data"),{success:!0,canvasId:i};await an.from("shapes").delete().eq("canvas_id",i);const l=t.shapes.map(g=>({canvas_id:i,shape_data:g})),u=t.connectors.map(g=>({canvas_id:i,shape_data:g})),f=[...l,...u];if(f.length>0){const{error:g}=await an.from("shapes").insert(f);if(g)return console.error("Insert error:",g),{success:!1,error:g.message}}return{success:!0,canvasId:i}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}const eG=async()=>new Promise(t=>{const e=indexedDB.open("CanvasDB");e.onsuccess=()=>{const a=e.result.transaction("Viewport","readonly"),l=a.objectStore("Viewport").get("local");a.oncomplete=()=>{const u=l.result;t(u||{x:0,y:0,scale:1})}},e.onerror=()=>{t({x:0,y:0,scale:1})}});async function Lp(t){try{const{data:{user:e}}=await an.auth.getUser(),n=await eG();if(!e||t==="local")return new Promise(R=>{const O=indexedDB.open("CanvasDB");O.onsuccess=()=>{const j=O.result.transaction(["Canvas","Viewport"],"readonly"),U=j.objectStore("Canvas").get("local"),L=j.objectStore("Viewport").get("local");U.onerror=()=>R({success:!1,error:"Failed to get canvas data"}),L.onerror=()=>R({success:!1,error:"Failed to get canvas viewport"}),j.oncomplete=()=>{const Z=U.result,$=L.result;if(!Z){R({success:!1,error:"No offline canvas found"});return}$&&(Z.canvasData.viewport=$),R({success:!0,data:Z.canvasData,canvasId:Z.local_canvas})}}});let a=t;if(!a&&(a=await Iw(e.id),!a))return{success:!1,error:"Failed to get or create canvas"};const{data:i,error:l}=await an.from("shapes").select("shape_data").eq("canvas_id",a);if(l)return{success:!1,error:l.message};const u=i.filter(R=>R.shape_data.shape==="rect").map(R=>R.shape_data),f=i.filter(R=>R.shape_data.shape==="line").map(R=>R.shape_data),g=i.filter(R=>R.shape_data.shape==="todo").map(R=>R.shape_data),p=i.filter(R=>R.shape_data.shape==="connector").map(R=>R.shape_data),v=[...u,...f,...g],_=Array.from(new Map(v.map(R=>[R.id,R])).values()),S=Array.from(new Map(p.map(R=>[R.id,R])).values()),C=new Set;_.forEach(R=>{C.add(R.id),C.add(`group-${R.id}`)});const T=S.filter(R=>{const O=C.has(R.from),M=C.has(R.to);return!O||!M?(console.warn("Removing orphaned connector:",{id:R.id,from:R.from,to:R.to,fromExists:O,toExists:M}),!1):!0});return{success:!0,data:{shapes:_,connectors:T,viewport:n},canvasId:a}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function tG(t){try{const{data:{user:e}}=await an.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await an.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function nG(){try{const{data:{user:t}}=await an.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await an.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}async function aG(t,e){try{const{data:{user:n}}=await an.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await an.from("canvas").update({canvas_name:e,updated_at:new Date().toISOString()}).eq("canvas_id",t).eq("owner_id",n.id);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("updateCanvasName error:",n),{success:!1,error:String(n)}}}async function rG(t){try{const{data:{user:e}}=await an.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await an.from("shapes").delete().eq("canvas_id",t);if(n)return{success:!1,error:n.message};const{error:a}=await an.from("canvas").delete().eq("canvas_id",t).eq("owner_id",e.id);return a?{success:!1,error:a.message}:{success:!0}}catch(e){return console.error("deleteCanvasById error:",e),{success:!1,error:String(e)}}}const iG=async()=>{let t,e,n=4;return new Promise(a=>{t=indexedDB.open("CanvasDB",n),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||e.createObjectStore("Canvas",{keyPath:"local_canvas"}),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"}),e.objectStoreNames.contains("BackgroundColor")||e.createObjectStore("BackgroundColor",{keyPath:"local_color"})},t.onsuccess=()=>{e=t.result,n=e.version,a(!0)},t.onerror=()=>{a(!1)}})},sG=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await iG()||console.error("InitDb - Something went wrong"))},[])});function lG(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function oG({message:t,type:e}){const n={loading:"#facc15",success:"#22c55e",empty:"#9ca3af",error:"#ef4444"};return E.jsx("div",{style:{position:"fixed",bottom:20,right:20,padding:"10px 14px",background:n[e],color:"#111",borderRadius:8,fontSize:14,fontWeight:500,boxShadow:"0 8px 20px rgba(0,0,0,0.25)",zIndex:9999,transition:"background 0.25s ease"},children:t})}function uG(){const{init:t}=sG(),{session:e}=wx(),[n,a]=N.useState([]),[i,l]=N.useState(100),[u,f]=N.useState({x:0,y:0}),[g,p]=N.useState(!1),[v,_]=N.useState(!1),[S,C]=N.useState(!1),[T,R]=N.useState([]),[O,M]=N.useState([]),[j,z]=N.useState("hand"),U=ug(),[H,L]=N.useState(null),[Z,$]=N.useState(null),[ie,be]=N.useState(null),[Re,le]=N.useState(!1),[ye,ge]=N.useState(null),[de,B]=N.useState(null),[ae,Q]=N.useState([]),{pushUndo:se,undo:G,redo:ne}=K2(),[_e,Ee]=N.useState(!1),[Ve,ut]=N.useState(""),[Ie,st]=N.useState(null),[Et,we]=N.useState(""),[Me,ot]=N.useState(!0),[_t,St]=N.useState("#ffffff"),[Ot,mn]=N.useState("#000"),[_n,un]=N.useState(!1),[Es,er]=N.useState(!1),[I,re]=N.useState(null),fe=(Ce,ze)=>{console.log("showToast called:",Ce,ze),re({message:Ce,type:ze}),setTimeout(()=>re(null),3e3)};lG({shapes:T,connectors:O},1e3,()=>{!de||T.length===0||Up({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},de)}),N.useEffect(()=>{let Ce=!0;return(async()=>{if(await t(),fe("Loading objects...","loading"),!e){const q=await Lp("local");if(!Ce)return;if(q.success){R(q.data.shapes),M(q.data.connectors),f({x:q.data.viewport.x,y:q.data.viewport.y}),l(Math.round(q.data.viewport.scale*100)),B("local");const F=q.data.shapes.length+q.data.connectors.length;F===0?fe("No objects found.","empty"):fe(`Loaded ${F} objects`,"success"),setTimeout(()=>re(null),3e3)}else M([]),R([]);B("local"),Q([]);return}const ze=await Lp(null);if(!Ce)return;if(ze.success){R(ze.data.shapes),B(ze.canvasId),M(ze.data.connectors),f({x:ze.data.viewport.x,y:ze.data.viewport.y}),l(Math.round(ze.data.viewport.scale*100));const q=ze.data.shapes.length+ze.data.connectors.length;q===0?fe("No objects found.","empty"):fe(`Loaded ${q} objects`,"success"),setTimeout(()=>re(null),3e3)}else console.error("Failed to load canvas:",ze.error);const fn=await l3(e.user.id);if(!Ce)return;fn.success?Q(fn.canvases||[]):console.error("Failed to load canvas list:",fn.error);const Dt=await nG();Ce&&(Dt.success?ge(Dt.data.avatar_url):console.error("Failed to load user profile:",Dt.error))})(),()=>{Ce=!1}},[t,e]),N.useEffect(()=>{const Ce=setTimeout(()=>{o3(de||"local",_t)},500);return()=>clearTimeout(Ce)},[_t]),N.useEffect(()=>{(async()=>{if(de){const Ce=await u3(de);Ce&&St(Ce)}else{const Ce=await u3("local");Ce&&St(Ce)}})()},[de]),N.useEffect(()=>{!e&&de==="local"&&T.length>=5&&!_n&&(er(!0),un(!0)),(e||T.length<5)&&un(!1)},[e,T.length,de,_n]);const Be=(Ce,ze)=>{be(Ce),$(ze),C(!0),_(!0)},Pe=()=>{be(null),$(null),C(!1),_(!1)},je=Ce=>{L(Ce),p(!0),C(!0)},Ye=()=>{L(null),p(!1),C(!1)},$e=(Ce,ze)=>{const fn=new Date(Ce.date).toISOString(),Dt={id:"todo-"+Date.now().toString(),x:ze?ze.x+400:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:ze?ze.y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),color:Ce.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:Ce.title,description:"",dueDate:fn,completed:Ce.completed,assignee:e?.user.email??"Guest",status:"Something",parents:ze?ze.id:""};R([...T,Dt]),ze&&(R(q=>q.map(F=>F.shape==="rect"&&F.id===ze.id?{...F,children:[...F.children,"group-"+Dt.id]}:F)),tn(Dt,ze,Dt.id)),se({before:Dt,after:Dt,action:"add",id:Dt.id})},xt=Ce=>{z("hand");const ze={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),width:300,height:200,color:Ce.color,title:Ce.title,description:Ce.description,dueDate:Ce.date,completed:!1,isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};R([...T,ze]),se({before:ze,after:ze,action:"add"})},tn=(Ce,ze,fn)=>{const Dt=Ce instanceof J0.Node?Ce.id():"group-"+Ce.id,q=ze instanceof J0.Node?ze.id():"group-"+ze.id,F={shape:"connector",id:"connector-"+Date.now().toString(),from:Dt,to:q};M([...O,F]),se({before:F,after:F,action:"add",id:fn||void 0})},Ba=()=>{const Ce={id:"text-"+Date.now().toString(),x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),fontSize:20,text:"Insert your text here",shape:"text",behavior:"decor",scaleX:1,scaleY:1,width:200,color:"black"};R([...T,Ce]),se({before:Ce,after:Ce,action:"add"})},Ha=(Ce,ze)=>{R(fn=>fn.map(Dt=>Dt.id===Ce.id?{...Dt,title:ze.title,description:ze.description,color:ze.color,dueDate:ze.date}:Dt))},Ca=(Ce,ze)=>{R(fn=>fn.map(Dt=>Dt.id===Ce.id?{...Dt,title:ze.title,dueDate:ze.date,completed:ze.completed,color:ze.color}:Dt))},Ga=()=>{z(j==="draw"?"hand":"draw")},tr=()=>{z(j==="eraser"?"hand":"eraser")},ma=()=>{z(j==="select"?"hand":"select")},Fr=()=>new Promise((Ce,ze)=>{const fn=indexedDB.open("CanvasDB");fn.onsuccess=()=>{const q=fn.result.transaction("Canvas","readwrite");q.objectStore("Canvas").clear(),q.oncomplete=()=>{Ce()},q.onerror=()=>{console.error("Failed to clear IndexedDB shapes"),ze()}},fn.onerror=()=>ze()}),qa=async()=>{if(R([]),M([]),de==="local")await Fr();else if(de){const Ce=await tG(de);Ce.success||console.error("Failed to delete canvas from supabase",Ce.error)}},Nr=async()=>{le(!0);try{await an.auth.signOut();const Ce=await Lp("local");Ce.success?(R(Ce.data.shapes),M(Ce.data.connectors),f(Ce.data.viewport),l(Math.round(Ce.data.viewport.scale*100)),B("local")):(R([]),M([]),B(null)),await new Promise(ze=>setTimeout(ze,2e3))}catch{}finally{le(!1)}},Yi=async()=>{le(!0);try{await Up({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},de||null)}catch{}finally{le(!1)}},Qr=async Ce=>{le(!0);try{de&&Ce&&Ce!==de&&await Up({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},de);const ze=await Lp(Ce||null);ze.success?(R(ze.data.shapes),M(ze.data.connectors),B(ze.canvasId)):fe(ze.error,"error")}catch(ze){console.error("Load error:",ze)}finally{le(!1)}},Cs=async Ce=>{if(!e){console.warn("No session");return}le(!0);try{de&&await Up({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},de);const ze=await JH(e.user.id,Ce||`Canvas ${ae.length+1}`);if(ze.success&&ze.canvasId){R([]),M([]),B(ze.canvasId);const fn=await l3(e.user.id);fn.success&&Q(fn.canvases||[])}else console.error("Create failed:",ze.error)}catch(ze){console.error("Create canvas error:",ze)}finally{le(!1)}},nr=async Ce=>{Ce!==de&&await Qr(Ce)},_l=async Ce=>{if(Et.trim()){le(!0);try{const ze=await aG(Ce,Et);ze.success?(Q(fn=>fn.map(Dt=>Dt.canvas_id===Ce?{...Dt,canvas_name:Et}:Dt)),st(null),we("")):console.error("Failed to update canvas name:",ze.error)}catch(ze){console.error("Error updating canvas name:",ze)}finally{le(!1)}}},gi=async(Ce,ze)=>{if(window.confirm(`Are you sure you want to delete "${ze}"? This action cannot be undone.`)){le(!0);try{const Dt=await rG(Ce);if(Dt.success){if(Q(q=>q.filter(F=>F.canvas_id!==Ce)),de===Ce){const q=ae.filter(F=>F.canvas_id!==Ce);q.length>0?await nr(q[0].canvas_id):(R([]),M([]),B(null))}}else console.error("Failed to delete canvas:",Dt.error)}catch(Dt){console.error("Error deleting canvas:",Dt)}finally{le(!1)}}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"relative w-screen h-100dvh overflow-hidden ",children:[E.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[E.jsx("div",{className:"more-options",children:E.jsxs(xy,{children:[E.jsx(wy,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:E.jsx(TT,{})})}),E.jsx(Ey,{children:E.jsxs(Cy,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 max-h-[50dvh]  overflow-y-scroll rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white ",children:[E.jsx(ll,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:Yi,children:[E.jsx(l4,{}),"Save"]})}),E.jsx(ll,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:Ce=>Ce.preventDefault(),children:E.jsxs(Rp,{children:[E.jsx(vy,{asChild:!0,children:E.jsxs("div",{className:"flex items-center gap-2 w-full",children:[E.jsx(s4,{}),"My Canvases (",ae.length,")"]})}),E.jsxs(Op,{children:[E.jsx(Np,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mp,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-xl p-4 sm:p-6 rounded-lg z-101",children:[E.jsxs(jp,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[E.jsx(s4,{}),"My Canvases"]}),E.jsx(zp,{asChild:!0,children:E.jsx("div",{className:"my-4",children:E.jsx("div",{className:"grid grid-cols-1 gap-3",children:ae.length===0?E.jsx("div",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):ae.map(Ce=>E.jsxs("div",{className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        transition-all
                                        ${de===Ce.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[E.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80",onClick:()=>{Ie!==Ce.canvas_id&&nr(Ce.canvas_id)},children:[E.jsx(l4,{className:"w-5 h-5 text-blue-600"}),E.jsxs("div",{className:"flex-1",children:[Ie===Ce.canvas_id?E.jsx("input",{type:"text",value:Et,onChange:ze=>we(ze.target.value),onKeyDown:ze=>{ze.key===" "&&ze.stopPropagation(),ze.key==="Enter"?_l(Ce.canvas_id):ze.key==="Escape"&&(st(null),we(""))},className:"font-medium text-gray-800 border-2 border-blue-400 rounded px-2 py-1 w-full",autoFocus:!0,onClick:ze=>ze.stopPropagation()}):E.jsx("span",{className:"font-medium text-gray-800",children:Ce.canvas_name||"Untitled"}),Ce.created_at&&E.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(Ce.created_at).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[de===Ce.canvas_id&&E.jsx("span",{className:"text-xs text-blue-600 font-medium mr-2",children:"Current"}),Ie===Ce.canvas_id?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:ze=>{ze.stopPropagation(),_l(Ce.canvas_id)},className:"p-2 hover:bg-green-100 rounded transition-colors",title:"Save",children:E.jsx(NT,{className:"w-4 h-4 text-green-600"})}),E.jsx("button",{onClick:ze=>{ze.stopPropagation(),st(null),we("")},className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Cancel",children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:ze=>{ze.stopPropagation(),st(Ce.canvas_id),we(Ce.canvas_name||"")},className:"p-2 hover:bg-blue-100 rounded transition-colors",title:"Edit name",children:E.jsx(lS,{className:"w-4 h-4 text-blue-600"})}),E.jsx("button",{onClick:ze=>{ze.stopPropagation(),gi(Ce.canvas_id,Ce.canvas_name)},className:"p-2 hover:bg-red-100 rounded transition-colors",title:"Delete canvas",children:E.jsx(c4,{className:"w-4 h-4 text-red-600"})})]})]})]},Ce.canvas_id))})})}),E.jsx("div",{className:"flex justify-end mt-6",children:E.jsx(Dp,{asChild:!0,children:E.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),E.jsx(wf,{}),E.jsx(ll,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:()=>Ee(!0),children:[E.jsx(LT,{}),E.jsx("span",{children:Re?"Creating":"New Canvas"})]})}),E.jsx(ll,{onSelect:Ce=>Ce.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs(Rp,{children:[E.jsx(vy,{asChild:!0,children:E.jsxs("button",{className:"flex items-center gap-2",children:[E.jsx(c4,{}),"Clear Canvas"]})}),E.jsxs(Op,{children:[E.jsx(Np,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mp,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] max-w-sm sm:max-w-md p-4 sm:p-6 rounded-lg z-101",children:[E.jsx(jp,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),E.jsx(zp,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Dp,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(yy,{asChild:!0,children:E.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:qa,children:"Yes, clear canvas"})})]})]})]})]})}),E.jsx(wf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(ll,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsx("a",{href:"https://github.com/x3nozite/rect-up",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(nU,{}),"Github"]})})}),E.jsx(ll,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(o4,{}),"Feedback & Support"]})})}),E.jsx(wf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(t3,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Stroke Color"}),E.jsx(n3,{value:Ot,onValueChange:mn,className:"py-1 pl-2 ",children:E.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[E.jsx(ru,{value:"#000",className:"group",children:E.jsx("div",{className:"p-4 relative bg-[#000] border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),E.jsxs(ru,{value:"#e7000b",className:"group",children:[E.jsx("div",{className:"p-4 bg-[#e7000b] border-red-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-red-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#155dfc",className:"group",children:[E.jsx("div",{className:"p-4 bg-[#155dfc] border-2 border-blue-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-blue-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#009966",className:"group",children:[E.jsx("div",{className:"p-4 bg-[#009966] border-2 border-emerald-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-emerald-400"}),E.jsx(xf,{})]})]})}),E.jsx(wf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(t3,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),E.jsx(n3,{value:_t,onValueChange:St,className:"py-1 pl-2 ",children:E.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[E.jsx(ru,{value:"#ffffff",className:"group",children:E.jsx("div",{className:"p-4 relative bg-white border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),E.jsxs(ru,{value:"#fff7ed",className:"group",children:[E.jsx("div",{className:"p-4 bg-orange-50 border-orange-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-orange-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#f5f3ff",className:"group",children:[E.jsx("div",{className:"p-4 bg-violet-50 border-2 border-indigo-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-violet-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#f0fdfa",className:"group",children:[E.jsx("div",{className:"p-4 bg-teal-50 border-2 border-cyan-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-teal-400"}),E.jsx(xf,{})]})]})})]})})]})}),E.jsx("div",{className:"tool-bar absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:Me&&E.jsx(s3,{onShapeClick:()=>je(null),onTodoClick:()=>Be(null,null),onTextClick:Ba,onEraserClick:tr,onClearClick:qa,onDrawClick:Ga,onSelectClick:ma,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})}),E.jsxs("div",{className:"user-account",children:[E.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&E.jsx("div",{children:E.jsxs(xy,{children:[E.jsx(wy,{asChild:!0,children:E.jsx("button",{children:E.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[E.jsx(x0,{className:"text-lg"}),E.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[E.jsx("span",{className:"text-xs",children:"Manage Account"}),E.jsx(MT,{className:"text-xs"})]})]})})}),E.jsx(Ey,{children:E.jsxs(Cy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[E.jsx("div",{children:ye?E.jsx("img",{src:ye,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(x0,{className:"text-3xl text-blue-500"})}),E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name||e?.user.user_metadata.username}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(wf,{className:"h-[2px] my-2 bg-gray-500"}),E.jsx(ll,{onSelect:Ce=>Ce.preventDefault(),children:E.jsxs(Rp,{children:[E.jsx(vy,{asChild:!0,children:E.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[E.jsx(X1,{}),E.jsx("span",{children:"Sign Out"})]})}),E.jsxs(Op,{children:[E.jsx(Np,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mp,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[E.jsx(jp,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),E.jsx(zp,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Dp,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(yy,{asChild:!0,children:E.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await Nr()},children:[E.jsx(X1,{}),"Sign Out"]})})]})]})]})]})}),E.jsx(jH,{className:"fill-purple-100"})]})})]})}),Re&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&E.jsx(Kk,{title:"Sign In",onClick:async()=>{U("/signin")}}),!e&&E.jsx(Xk,{title:"Create Account",onClick:()=>U("/create-acc")})]}),E.jsxs("div",{className:"account-mobile flex lg:hidden",children:[E.jsxs(xy,{children:[E.jsx(wy,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:E.jsx(x0,{})})}),E.jsx(Ey,{children:E.jsxs(Cy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&E.jsxs("div",{children:[E.jsx(ll,{children:E.jsxs("div",{onClick:async()=>{U("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(u4,{}),E.jsx("span",{children:"Sign In"})]})}),E.jsx(ll,{children:E.jsxs("div",{onClick:()=>U("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(x0,{}),E.jsx("span",{children:"Create Account"})]})})]}),e&&E.jsxs("div",{children:[E.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[E.jsx("div",{className:"pb-2",children:ye?E.jsx("img",{src:ye,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(x0,{className:"text-2xl"})}),E.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[E.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(wf,{className:"h-px my-2 bg-gray-500"}),E.jsx(ll,{children:E.jsxs("div",{onClick:async()=>{await Nr()},className:"inline-flex items-center justify-start gap-2 ",children:[E.jsx(X1,{className:"text-sm font-semibold"}),E.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),Re&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),E.jsxs("div",{className:"absolute pb-4 bottom-bar flex flex-col   inset-x-0 gap-2 w-full bottom-0",children:[E.jsxs("div",{className:"flex flex-row w-full justify-between px-5",children:[E.jsxs("div",{className:"flex flex-row gap-2",children:[E.jsxs("div",{className:" items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit inline-flex",children:[E.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>l(Math.max(i-10,10)),children:E.jsx(HT,{})}),E.jsxs("button",{onClick:()=>l(100),className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[i,"%",E.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),E.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>l(Math.min(i+10,500)),children:E.jsx(BT,{})})]}),E.jsxs("div",{className:" items-center z-10 gap-1 sm:gap-0 bg-green-100 border-2 border-emerald-200 rounded-xl w-fit inline-flex",children:[E.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>G(R,M),children:[E.jsx(eU,{}),E.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Undo"})]}),E.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>ne(R,M),children:[E.jsx(tU,{}),E.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Redo"})]})]})]}),E.jsx("div",{className:"flex flex-row  bottom-20 md:bottom-4 right-4 gap-4",children:E.jsxs("button",{onClick:()=>ot(Ce=>!Ce),className:"items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 active:bg-red-300 hover:cursor-pointer group",children:[Me?E.jsx(kT,{}):E.jsx(zT,{}),E.jsx("span",{className:"absolute pointer-events-none right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Toolbar Visibility"})]})})]}),E.jsx("div",{className:"toolbar-mob  flex sm:hidden z-100 w-full  justify-center  ",children:Me&&E.jsx(s3,{onShapeClick:()=>je(null),onTodoClick:()=>Be(null,null),onTextClick:Ba,onEraserClick:tr,onClearClick:qa,onDrawClick:Ga,onSelectClick:ma,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})})]}),v&&E.jsx(Jk,{parent:ie,onUpdateTodo:Ca,onAddTodo:$e,onCloseForm:Pe,initialTodo:Z}),g&&E.jsx(Qk,{onAddTask:xt,onUpdateTask:Ha,onCloseForm:Ye,initialData:H}),E.jsx("div",{style:{background:_t,touchAction:"none"},children:E.jsx(Ik,{shapes:T,setShapes:R,tool:j,setTool:z,setZoomValue:l,zoom:i,connectors:O,addConnector:tn,setConnectors:M,strokeColor:Ot,onShapeClick:je,onAddTodo:Be,stageCoor:u,setStageCoor:f,isFormOpen:S,onTextClick:Ba})})]}),E.jsx("ul",{children:n.map(Ce=>E.jsx("li",{children:Ce.name},Ce.name))}),E.jsx(Rp,{open:_e,onOpenChange:Ee,children:E.jsxs(Op,{children:[E.jsx(Np,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mp,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-lg p-4 sm:p-5 rounded-lg z-101",children:[E.jsx(jp,{className:"text-xl font-bold mb-2",children:"New Canvas"}),E.jsx(zp,{className:"my-3 text-gray-700",children:"Enter a name for your new canvas."}),E.jsx("input",{autoFocus:!0,value:Ve,onChange:Ce=>ut(Ce.target.value),placeholder:"Canvas name...",className:"w-full border border-gray-300 p-2 rounded-lg mb-4"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Dp,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(yy,{asChild:!0,children:E.jsx("button",{className:"bg-blue-200 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-500 hover:text-white",onClick:()=>{Cs(Ve),ut("")},children:"Create Canvas"})})]})]})]})}),Es&&!e&&de==="local"&&T.length>=5&&E.jsx("div",{className:"fixed bottom-24 right-5 z-[200] max-w-sm animate-in slide-in-from-right",children:E.jsx("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(o4,{className:"text-blue-600 text-xl flex-shrink-0"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-start justify-between mb-1",children:[E.jsx("h4",{className:"font-semibold text-gray-900",children:"Local Storage Reminder"}),E.jsx("button",{onClick:()=>er(!1),className:"text-gray-400 hover:text-gray-600 -mt-1 -mr-1",children:E.jsx(PT,{})})]}),E.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[T.length," shapes saved locally. Sign in to use across different devices!"]}),E.jsxs("button",{onClick:()=>U("/signin"),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 text-sm font-medium w-full flex items-center justify-center gap-1",children:[E.jsx(u4,{}),"Sign In Now"]})]})]})})}),I&&(console.log("rendering toast",I),E.jsx(oG,{message:I.message,type:I.type}))]})}const cG=U9([{path:"/",element:E.jsx(uG,{})},{path:"/signin",element:E.jsx(pM,{})},{path:"/create-acc",element:E.jsx(yM,{})},{path:"/reset-password",element:E.jsx(_M,{})}]);function dG({children:t}){const[e,n]=N.useState([]),[a,i]=N.useState([]);function l(g){n(p=>[...p,g]),i([])}function u(g,p){const v=e.at(-1);if(!v)return;let _,S=[];for(_=[...e],S=[];_.length>0;){const C=_.at(-1);if(!C)return;const T=C.before;if(C.action==="add")T.shape==="connector"?(g(O=>O.map(M=>M.shape==="todo"?{...M,parents:M.parents===T.to?"":M.parents}:M.shape!=="rect"?M:{...M,children:M.children.filter(j=>j!==T.from),parents:M.parents===T.to?"":M.parents})),p(O=>O.filter(M=>M.id!==T.id))):g(O=>O.filter(M=>M.id!==T.id));else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else T.shape==="connector"?(p(O=>[...O,T]),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:"group-"+M.id===T.from?{...M,parents:T.to}:M.shape==="rect"&&"group-"+M.id===T.to?{...M,children:[...M.children,T.from]}:M))):g(O=>[...O,T]);S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||!v.id||R.id!==v.id)break}n(_),i(C=>[...C,...S])}function f(g,p){const v=a.at(-1);if(!v)return;let _=[...a],S=[];for(S=[];_.length>0;){const C=_.at(-1);if(!C)break;const T=C.after;if(C.action==="add")T.shape==="connector"?(p(O=>[...O,T]),g(O=>O.map(M=>M.shape==="todo"?{...M,parents:"group-"+M.id===T.to?T.from:M.parents}:M.shape!=="rect"?M:{...M,children:"group-"+M.id===T.to?[...M.children,T.from]:M.children}))):g(O=>[...O,T]);else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else C.action==="delete"&&(T.shape==="connector"?(p(O=>O.filter(M=>M.id!==T.id)),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:M.shape==="rect"&&M.children.includes(T.to)?{...M,children:M.children.filter(j=>j!==T.to)}:M.parents===T.from?{...M,parents:""}:M))):g(O=>O.filter(M=>M.id!==T.id)));S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||R.id!==v.id)break}i(_),n(C=>[...C,...S])}return E.jsx(_x.Provider,{value:{undoStack:e,redoStack:a,pushUndo:l,undo:u,redo:f},children:t})}d3.createRoot(document.getElementById("root")).render(E.jsx($k,{children:E.jsx(dG,{children:E.jsx(F9,{router:cG})})}));
