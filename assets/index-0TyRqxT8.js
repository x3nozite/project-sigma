function R8(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function O8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var R1={exports:{}},v0={};var e_;function N8(){if(e_)return v0;e_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return v0.Fragment=e,v0.jsx=n,v0.jsxs=n,v0}var t_;function M8(){return t_||(t_=1,R1.exports=N8()),R1.exports}var E=M8(),O1={exports:{}},y0={},N1={exports:{}},M1={};var n_;function D8(){return n_||(n_=1,(function(t){function e(B,se){var K=B.length;B.push(se);e:for(;0<K;){var pe=K-1>>>1,G=B[pe];if(0<i(G,se))B[pe]=se,B[K]=G,K=pe;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var se=B[0],K=B.pop();if(K!==se){B[0]=K;e:for(var pe=0,G=B.length,W=G>>>1;pe<W;){var xe=2*(pe+1)-1,Ee=B[xe],Ve=xe+1,ut=B[Ve];if(0>i(Ee,K))Ve<G&&0>i(ut,Ee)?(B[pe]=ut,B[Ve]=K,pe=Ve):(B[pe]=Ee,B[xe]=K,pe=xe);else if(Ve<G&&0>i(ut,K))B[pe]=ut,B[Ve]=K,pe=Ve;else break e}}return se}function i(B,se){var K=B.sortIndex-se.sortIndex;return K!==0?K:B.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var g=[],m=[],v=1,_=null,S=3,C=!1,T=!1,R=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function U(B){for(var se=n(m);se!==null;){if(se.callback===null)a(m);else if(se.startTime<=B)a(m),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(m)}}function H(B){if(R=!1,U(B),!T)if(n(g)!==null)T=!0,L||(L=!0,ie());else{var se=n(m);se!==null&&fe(H,se.startTime-B)}}var L=!1,Y=-1,Q=5,ae=-1;function _e(){return O?!0:!(t.unstable_now()-ae<Q)}function Oe(){if(O=!1,L){var B=t.unstable_now();ae=B;var se=!0;try{e:{T=!1,R&&(R=!1,j(Y),Y=-1),C=!0;var K=S;try{t:{for(U(B),_=n(g);_!==null&&!(_.expirationTime>B&&_e());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,S=_.priorityLevel;var G=pe(_.expirationTime<=B);if(B=t.unstable_now(),typeof G=="function"){_.callback=G,U(B),se=!0;break t}_===n(g)&&a(g),U(B)}else a(g);_=n(g)}if(_!==null)se=!0;else{var W=n(m);W!==null&&fe(H,W.startTime-B),se=!1}}break e}finally{_=null,S=K,C=!1}se=void 0}}finally{se?ie():L=!1}}}var ie;if(typeof z=="function")ie=function(){z(Oe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ce=ve.port2;ve.port1.onmessage=Oe,ie=function(){ce.postMessage(null)}}else ie=function(){M(Oe,0)};function fe(B,se){Y=M(function(){B(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(B){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var K=S;S=se;try{return B()}finally{S=K}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=S;S=B;try{return se()}finally{S=K}},t.unstable_scheduleCallback=function(B,se,K){var pe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?pe+K:pe):K=pe,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,B={id:v++,callback:se,priorityLevel:B,startTime:K,expirationTime:G,sortIndex:-1},K>pe?(B.sortIndex=K,e(m,B),n(g)===null&&B===n(m)&&(R?(j(Y),Y=-1):R=!0,fe(H,K-pe))):(B.sortIndex=G,e(g,B),T||C||(T=!0,L||(L=!0,ie()))),B},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(B){var se=S;return function(){var K=S;S=se;try{return B.apply(this,arguments)}finally{S=K}}}})(M1)),M1}var a_;function f2(){return a_||(a_=1,N1.exports=D8()),N1.exports}var D1={exports:{}},zt={};var r_;function j8(){if(r_)return zt;r_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(G,W,xe){this.props=G,this.context=W,this.refs=R,this.updater=xe||C}O.prototype.isReactComponent={},O.prototype.setState=function(G,W){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,W,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=O.prototype;function j(G,W,xe){this.props=G,this.context=W,this.refs=R,this.updater=xe||C}var z=j.prototype=new M;z.constructor=j,T(z,O.prototype),z.isPureReactComponent=!0;var U=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function Y(G,W,xe,Ee,Ve,ut){return xe=ut.ref,{$$typeof:t,type:G,key:W,ref:xe!==void 0?xe:null,props:ut}}function Q(G,W){return Y(G.type,W,void 0,void 0,void 0,G.props)}function ae(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function _e(G){var W={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(xe){return W[xe]})}var Oe=/\/+/g;function ie(G,W){return typeof G=="object"&&G!==null&&G.key!=null?_e(""+G.key):W.toString(36)}function ve(){}function ce(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ve,ve):(G.status="pending",G.then(function(W){G.status==="pending"&&(G.status="fulfilled",G.value=W)},function(W){G.status==="pending"&&(G.status="rejected",G.reason=W)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function fe(G,W,xe,Ee,Ve){var ut=typeof G;(ut==="undefined"||ut==="boolean")&&(G=null);var Ie=!1;if(G===null)Ie=!0;else switch(ut){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(G.$$typeof){case t:case e:Ie=!0;break;case v:return Ie=G._init,fe(Ie(G._payload),W,xe,Ee,Ve)}}if(Ie)return Ve=Ve(G),Ie=Ee===""?"."+ie(G,0):Ee,U(Ve)?(xe="",Ie!=null&&(xe=Ie.replace(Oe,"$&/")+"/"),fe(Ve,W,xe,"",function(lt){return lt})):Ve!=null&&(ae(Ve)&&(Ve=Q(Ve,xe+(Ve.key==null||G&&G.key===Ve.key?"":(""+Ve.key).replace(Oe,"$&/")+"/")+Ie)),W.push(Ve)),1;Ie=0;var be=Ee===""?".":Ee+":";if(U(G))for(var Ae=0;Ae<G.length;Ae++)Ee=G[Ae],ut=be+ie(Ee,Ae),Ie+=fe(Ee,W,xe,ut,Ve);else if(Ae=S(G),typeof Ae=="function")for(G=Ae.call(G),Ae=0;!(Ee=G.next()).done;)Ee=Ee.value,ut=be+ie(Ee,Ae++),Ie+=fe(Ee,W,xe,ut,Ve);else if(ut==="object"){if(typeof G.then=="function")return fe(ce(G),W,xe,Ee,Ve);throw W=String(G),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function B(G,W,xe){if(G==null)return G;var Ee=[],Ve=0;return fe(G,Ee,"","",function(ut){return W.call(xe,ut,Ve++)}),Ee}function se(G){if(G._status===-1){var W=G._result;W=W(),W.then(function(xe){(G._status===0||G._status===-1)&&(G._status=1,G._result=xe)},function(xe){(G._status===0||G._status===-1)&&(G._status=2,G._result=xe)}),G._status===-1&&(G._status=0,G._result=W)}if(G._status===1)return G._result.default;throw G._result}var K=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function pe(){}return zt.Children={map:B,forEach:function(G,W,xe){B(G,function(){W.apply(this,arguments)},xe)},count:function(G){var W=0;return B(G,function(){W++}),W},toArray:function(G){return B(G,function(W){return W})||[]},only:function(G){if(!ae(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},zt.Component=O,zt.Fragment=n,zt.Profiler=i,zt.PureComponent=j,zt.StrictMode=a,zt.Suspense=g,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,zt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return H.H.useMemoCache(G)}},zt.cache=function(G){return function(){return G.apply(null,arguments)}},zt.cloneElement=function(G,W,xe){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Ee=T({},G.props),Ve=G.key,ut=void 0;if(W!=null)for(Ie in W.ref!==void 0&&(ut=void 0),W.key!==void 0&&(Ve=""+W.key),W)!L.call(W,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&W.ref===void 0||(Ee[Ie]=W[Ie]);var Ie=arguments.length-2;if(Ie===1)Ee.children=xe;else if(1<Ie){for(var be=Array(Ie),Ae=0;Ae<Ie;Ae++)be[Ae]=arguments[Ae+2];Ee.children=be}return Y(G.type,Ve,void 0,void 0,ut,Ee)},zt.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},zt.createElement=function(G,W,xe){var Ee,Ve={},ut=null;if(W!=null)for(Ee in W.key!==void 0&&(ut=""+W.key),W)L.call(W,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Ve[Ee]=W[Ee]);var Ie=arguments.length-2;if(Ie===1)Ve.children=xe;else if(1<Ie){for(var be=Array(Ie),Ae=0;Ae<Ie;Ae++)be[Ae]=arguments[Ae+2];Ve.children=be}if(G&&G.defaultProps)for(Ee in Ie=G.defaultProps,Ie)Ve[Ee]===void 0&&(Ve[Ee]=Ie[Ee]);return Y(G,ut,void 0,void 0,null,Ve)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(G){return{$$typeof:f,render:G}},zt.isValidElement=ae,zt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:se}},zt.memo=function(G,W){return{$$typeof:m,type:G,compare:W===void 0?null:W}},zt.startTransition=function(G){var W=H.T,xe={};H.T=xe;try{var Ee=G(),Ve=H.S;Ve!==null&&Ve(xe,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(pe,K)}catch(ut){K(ut)}finally{H.T=W}},zt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},zt.use=function(G){return H.H.use(G)},zt.useActionState=function(G,W,xe){return H.H.useActionState(G,W,xe)},zt.useCallback=function(G,W){return H.H.useCallback(G,W)},zt.useContext=function(G){return H.H.useContext(G)},zt.useDebugValue=function(){},zt.useDeferredValue=function(G,W){return H.H.useDeferredValue(G,W)},zt.useEffect=function(G,W,xe){var Ee=H.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ee.useEffect(G,W)},zt.useId=function(){return H.H.useId()},zt.useImperativeHandle=function(G,W,xe){return H.H.useImperativeHandle(G,W,xe)},zt.useInsertionEffect=function(G,W){return H.H.useInsertionEffect(G,W)},zt.useLayoutEffect=function(G,W){return H.H.useLayoutEffect(G,W)},zt.useMemo=function(G,W){return H.H.useMemo(G,W)},zt.useOptimistic=function(G,W){return H.H.useOptimistic(G,W)},zt.useReducer=function(G,W,xe){return H.H.useReducer(G,W,xe)},zt.useRef=function(G){return H.H.useRef(G)},zt.useState=function(G){return H.H.useState(G)},zt.useSyncExternalStore=function(G,W,xe){return H.H.useSyncExternalStore(G,W,xe)},zt.useTransition=function(){return H.H.useTransition()},zt.version="19.1.1",zt}var i_;function sg(){return i_||(i_=1,D1.exports=j8()),D1.exports}var j1={exports:{}},gr={};var s_;function z8(){if(s_)return gr;s_=1;var t=sg();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gr.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,v)},gr.flushSync=function(g){var m=u.T,v=a.p;try{if(u.T=null,a.p=2,g)return g()}finally{u.T=m,a.p=v,a.d.f()}},gr.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},gr.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},gr.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=f(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gr.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},gr.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=f(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gr.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=f(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},gr.requestFormReset=function(g){a.d.r(g)},gr.unstable_batchedUpdates=function(g,m){return g(m)},gr.useFormState=function(g,m,v){return u.H.useFormState(g,m,v)},gr.useFormStatus=function(){return u.H.useHostTransitionStatus()},gr.version="19.1.1",gr}var l_;function o3(){if(l_)return j1.exports;l_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),j1.exports=z8(),j1.exports}var o_;function k8(){if(o_)return y0;o_=1;var t=f2(),e=sg(),n=o3();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,d=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(d=s.return),r=s.return;while(r)}return s.tag===3?d:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(a(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var d=r,h=s;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){d=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return f(y),r;if(x===h)return f(y),s;x=x.sibling}throw Error(a(188))}if(d.return!==h.return)d=y,h=x;else{for(var D=!1,k=y.child;k;){if(k===d){D=!0,d=y,h=x;break}if(k===h){D=!0,h=y,d=x;break}k=k.sibling}if(!D){for(k=x.child;k;){if(k===d){D=!0,d=x,h=y;break}if(k===h){D=!0,h=x,d=y;break}k=k.sibling}if(!D)throw Error(a(189))}}if(d.alternate!==h)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function ie(r){return r===null||typeof r!="object"?null:(r=Oe&&r[Oe]||r["@@iterator"],typeof r=="function"?r:null)}var ve=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ve?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case L:return"SuspenseList";case ae:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case z:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return s=r.displayName||null,s!==null?s:ce(r.type)||"Memo";case Q:s=r._payload,r=r._init;try{return ce(r(s))}catch{}}return null}var fe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},pe=[],G=-1;function W(r){return{current:r}}function xe(r){0>G||(r.current=pe[G],pe[G]=null,G--)}function Ee(r,s){G++,pe[G]=r.current,r.current=s}var Ve=W(null),ut=W(null),Ie=W(null),be=W(null);function Ae(r,s){switch(Ee(Ie,s),Ee(ut,r),Ee(Ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Rb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Rb(s),r=Ob(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}xe(Ve),Ee(Ve,r)}function lt(){xe(Ve),xe(ut),xe(Ie)}function at(r){r.memoizedState!==null&&Ee(be,r);var s=Ve.current,d=Ob(s,r.type);s!==d&&(Ee(ut,r),Ee(Ve,d))}function yt(r){ut.current===r&&(xe(Ve),xe(ut)),be.current===r&&(xe(be),f0._currentValue=K)}var Tt=Object.prototype.hasOwnProperty,Kt=t.unstable_scheduleCallback,gn=t.unstable_cancelCallback,Rn=t.unstable_shouldYield,ma=t.unstable_requestPaint,ea=t.unstable_now,hi=t.unstable_getCurrentPriorityLevel,pr=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,he=t.unstable_LowPriority,Be=t.unstable_IdlePriority,Pe=t.log,ze=t.unstable_setDisableYieldValue,Ye=null,$e=null;function bt(r){if(typeof Pe=="function"&&ze(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ye,r)}catch{}}var an=Math.clz32?Math.clz32:Ra,qa=Math.log,Aa=Math.LN2;function Ra(r){return r>>>=0,r===0?32:31-(qa(r)/Aa|0)|0}var er=256,mr=4194304;function va(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Mr(r,s,d){var h=r.pendingLanes;if(h===0)return 0;var y=0,x=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var k=h&134217727;return k!==0?(h=k&~x,h!==0?y=va(h):(D&=k,D!==0?y=va(D):d||(d=k&~r,d!==0&&(y=va(d))))):(k=h&~x,k!==0?y=va(k):D!==0?y=va(D):d||(d=h&~r,d!==0&&(y=va(d)))),y===0?0:s!==0&&s!==y&&(s&x)===0&&(x=y&-y,d=s&-s,x>=d||x===32&&(d&4194048)!==0)?s:y}function vr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ce(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var r=er;return er<<=1,(er&4194048)===0&&(er=256),r}function en(){var r=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),r}function kt(r){for(var s=[],d=0;31>d;d++)s.push(r);return s}function rn(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ta(r,s,d,h,y,x){var D=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var k=r.entanglements,V=r.expirationTimes,ue=r.hiddenUpdates;for(d=D&~d;0<d;){var Se=31-an(d),Te=1<<Se;k[Se]=0,V[Se]=-1;var ge=ue[Se];if(ge!==null)for(ue[Se]=null,Se=0;Se<ge.length;Se++){var me=ge[Se];me!==null&&(me.lane&=-536870913)}d&=~Te}h!==0&&ws(r,h,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(D&~s))}function ws(r,s,d){r.pendingLanes|=s,r.suspendedLanes&=~s;var h=31-an(s);r.entangledLanes|=s,r.entanglements[h]=r.entanglements[h]|1073741824|d&4194090}function Es(r,s){var d=r.entangledLanes|=s;for(r=r.entanglements;d;){var h=31-an(d),y=1<<h;y&s|r[h]&s&&(r[h]|=s),d&=~y}}function Vi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function go(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function bl(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:Kb(r.type))}function I(r,s){var d=se.p;try{return se.p=r,s()}finally{se.p=d}}var ee=Math.random().toString(36).slice(2),oe="__reactFiber$"+ee,Re="__reactProps$"+ee,Le="__reactContainer$"+ee,et="__reactEvents$"+ee,it="__reactListeners$"+ee,Ke="__reactHandles$"+ee,We="__reactResources$"+ee,st="__reactMarker$"+ee;function rt(r){delete r[oe],delete r[Re],delete r[et],delete r[it],delete r[Ke]}function Fe(r){var s=r[oe];if(s)return s;for(var d=r.parentNode;d;){if(s=d[Le]||d[oe]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(r=jb(r);r!==null;){if(d=r[oe])return d;r=jb(r)}return s}r=d,d=r.parentNode}return null}function wt(r){if(r=r[oe]||r[Le]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function sn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Sn(r){var s=r[We];return s||(s=r[We]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(r){r[st]=!0}var pn=new Set,cn={};function qt(r,s){tr(r,s),tr(r+"Capture",s)}function tr(r,s){for(cn[r]=s,r=0;r<s.length;r++)pn.add(s[r])}var Dr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nr={},_l={};function Sl(r){return Tt.call(_l,r)?!0:Tt.call(nr,r)?!1:Dr.test(r)?_l[r]=!0:(nr[r]=!0,!1)}function ar(r,s,d){if(Sl(s))if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+d)}}function Qr(r,s,d){if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+d)}}function Oa(r,s,d,h){if(h===null)r.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(s,d,""+h)}}var ft,Ut;function Va(r){if(ft===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);ft=s&&s[1]||"",Ut=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+r+Ut}var Ya=!1;function xn(r,s){if(!r||Ya)return"";Ya=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(me){var ge=me}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(me){ge=me}r.call(Te.prototype)}}else{try{throw Error()}catch(me){ge=me}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(me){if(me&&ge&&typeof me.stack=="string")return[me.stack,ge.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),D=x[0],k=x[1];if(D&&k){var V=D.split(`
`),ue=k.split(`
`);for(y=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(h===V.length||y===ue.length)for(h=V.length-1,y=ue.length-1;1<=h&&0<=y&&V[h]!==ue[y];)y--;for(;1<=h&&0<=y;h--,y--)if(V[h]!==ue[y]){if(h!==1||y!==1)do if(h--,y--,0>y||V[h]!==ue[y]){var Se=`
`+V[h].replace(" at new "," at ");return r.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",r.displayName)),Se}while(1<=h&&0<=y);break}}}finally{Ya=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Va(d):""}function Cs(r){switch(r.tag){case 26:case 27:case 5:return Va(r.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 15:return xn(r.type,!1);case 11:return xn(r.type.render,!1);case 1:return xn(r.type,!0);case 31:return Va("Activity");default:return""}}function yr(r){try{var s="";do s+=Cs(r),r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function ya(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $f(r){var s=Fc(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){h=""+D,x.call(this,D)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Au(r){r._valueTracker||(r._valueTracker=$f(r))}function Wf(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var d=s.getValue(),h="";return r&&(h=Fc(r)?r.checked?"true":"false":r.value),r=h,r!==d?(s.setValue(r),!0):!1}function Ru(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xg=/[\n"\\]/g;function br(r){return r.replace(xg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qc(r,s,d,h,y,x,D,k){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),s!=null?D==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ya(s)):r.value!==""+ya(s)&&(r.value=""+ya(s)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),s!=null?Wc(r,D,ya(s)):d!=null?Wc(r,D,ya(d)):h!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ya(k):r.removeAttribute("name")}function $c(r,s,d,h,y,x,D,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),s!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;d=d!=null?""+ya(d):"",s=s!=null?""+ya(s):d,k||s===r.value||(r.value=s),r.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=k?r.checked:!!h,r.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function Wc(r,s,d){s==="number"&&Ru(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function po(r,s,d,h){if(r=r.options,s){s={};for(var y=0;y<d.length;y++)s["$"+d[y]]=!0;for(d=0;d<r.length;d++)y=s.hasOwnProperty("$"+r[d].value),r[d].selected!==y&&(r[d].selected=y),y&&h&&(r[d].defaultSelected=!0)}else{for(d=""+ya(d),s=null,y=0;y<r.length;y++){if(r[y].value===d){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Jf(r,s,d){if(s!=null&&(s=""+ya(s),s!==r.value&&(r.value=s),d==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=d!=null?""+ya(d):""}function eh(r,s,d,h){if(s==null){if(h!=null){if(d!=null)throw Error(a(92));if(fe(h)){if(1<h.length)throw Error(a(93));h=h[0]}d=h}d==null&&(d=""),s=d}d=ya(s),r.defaultValue=d,h=r.textContent,h===d&&h!==""&&h!==null&&(r.value=h)}function xl(r,s){if(s){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=s;return}}r.textContent=s}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nh(r,s,d){var h=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":h?r.setProperty(s,d):typeof d!="number"||d===0||th.has(s)?s==="float"?r.cssFloat=d:r[s]=(""+d).trim():r[s]=d+"px"}function ah(r,s,d){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&d[y]!==h&&nh(r,y,h)}else for(var x in s)s.hasOwnProperty(x)&&nh(r,x,s[x])}function Jc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ed(r){return Eg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var td=null;function Ts(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Yi=null,wl=null;function Ou(r){var s=wt(r);if(s&&(r=s.stateNode)){var d=r[Re]||null;e:switch(r=s.stateNode,s.type){case"input":if(Qc(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+br(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var h=d[s];if(h!==r&&h.form===r.form){var y=h[Re]||null;if(!y)throw Error(a(90));Qc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<d.length;s++)h=d[s],h.form===r.form&&Wf(h)}break e;case"textarea":Jf(r,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&po(r,!!d.multiple,s,!1)}}}var El=!1;function rh(r,s,d){if(El)return r(s,d);El=!0;try{var h=r(s);return h}finally{if(El=!1,(Yi!==null||wl!==null)&&(tl(),Yi&&(s=Yi,r=wl,wl=Yi=null,Ou(s),r)))for(s=0;s<r.length;s++)Ou(r[s])}}function mo(r,s){var d=r.stateNode;if(d===null)return null;var h=d[Re]||null;if(h===null)return null;d=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(a(231,s,typeof d));return d}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(gi)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){nd=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{nd=!1}var Zi=null,Nu=null,Mu=null;function ih(){if(Mu)return Mu;var r,s=Nu,d=s.length,h,y="value"in Zi?Zi.value:Zi.textContent,x=y.length;for(r=0;r<d&&s[r]===y[r];r++);var D=d-r;for(h=1;h<=D&&s[d-h]===y[x-h];h++);return Mu=y.slice(r,1<h?1-h:void 0)}function yo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Du(){return!0}function sh(){return!1}function Za(r){function s(d,h,y,x,D){this._reactName=d,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(d=r[k],this[k]=d?d(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Du:sh,this.isPropagationStopped=sh,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=Za(Ii),bo=v({},Ii,{view:0,detail:0}),Iv=Za(bo),lh,ad,Xi,_o=v({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xi&&(Xi&&r.type==="mousemove"?(lh=r.screenX-Xi.screenX,ad=r.screenY-Xi.screenY):ad=lh=0,Xi=r),lh)},movementY:function(r){return"movementY"in r?r.movementY:ad}}),zu=Za(_o),Cg=v({},_o,{dataTransfer:0}),Tg=Za(Cg),rd=v({},bo,{relatedTarget:0}),Cl=Za(rd),id=v({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Ag=Za(id),Rg=v({},Ii,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),As=Za(Rg),Og=v({},Ii,{data:0}),Ki=Za(Og),Fi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=oh[r])?!!s[r]:!1}function ld(){return Ng}var Tl=v({},bo,{key:function(r){if(r.key){var s=Fi[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(r){return r.type==="keypress"?yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),od=Za(Tl),Mg=v({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=Za(Mg),Dg=v({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),jg=Za(Dg),Xv=v({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),ba=Za(Xv),zg=v({},_o,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kg=Za(zg),Ug=v({},Ii,{newState:0,oldState:0}),Lg=Za(Ug),Pg=[9,13,27,32],So=gi&&"CompositionEvent"in window,Al=null;gi&&"documentMode"in document&&(Al=document.documentMode);var Bg=gi&&"TextEvent"in window&&!Al,uh=gi&&(!So||Al&&8<Al&&11>=Al),ch=" ",cd=!1;function dd(r,s){switch(r){case"keyup":return Pg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Rs=!1;function fd(r,s){switch(r){case"compositionend":return dh(s);case"keypress":return s.which!==32?null:(cd=!0,ch);case"textInput":return r=s.data,r===ch&&cd?null:r;default:return null}}function fh(r,s){if(Rs)return r==="compositionend"||!So&&dd(r,s)?(r=ih(),Mu=Nu=Zi=null,Rs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return uh&&s.locale!=="ko"?null:s.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Hg[r.type]:s==="textarea"}function hh(r,s,d,h){Yi?wl?wl.push(h):wl=[h]:Yi=h,s=Lp(s,"onChange"),0<s.length&&(d=new ju("onChange","change",null,d,h),r.push({event:d,listeners:s}))}var _r=null,Rl=null;function Kv(r){wb(r,0)}function ku(r){var s=sn(r);if(Wf(s))return r}function rr(r,s){if(r==="change")return s}var gh=!1;if(gi){var Uu;if(gi){var gd="oninput"in document;if(!gd){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),gd=typeof ph.oninput=="function"}Uu=gd}else Uu=!1;gh=Uu&&(!document.documentMode||9<document.documentMode)}function pd(){_r&&(_r.detachEvent("onpropertychange",md),Rl=_r=null)}function md(r){if(r.propertyName==="value"&&ku(Rl)){var s=[];hh(s,Rl,r,Ts(r)),rh(Kv,s)}}function Gg(r,s,d){r==="focusin"?(pd(),_r=s,Rl=d,_r.attachEvent("onpropertychange",md)):r==="focusout"&&pd()}function vd(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(Rl)}function Lu(r,s){if(r==="click")return ku(s)}function Bn(r,s){if(r==="input"||r==="change")return ku(s)}function Fv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sr=typeof Object.is=="function"?Object.is:Fv;function xo(r,s){if(Sr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var d=Object.keys(r),h=Object.keys(s);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var y=d[h];if(!Tt.call(s,y)||!Sr(r[y],s[y]))return!1}return!0}function wo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qi(r,s){var d=wo(r);r=0;for(var h;d;){if(d.nodeType===3){if(h=r+d.textContent.length,r<=s&&h>=s)return{node:d,offset:s-r};r=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=wo(d)}}function mh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?mh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function vh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ru(r.document);s instanceof r.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)r=s.contentWindow;else break;s=Ru(r.document)}return s}function Ol(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var pi=gi&&"documentMode"in document&&11>=document.documentMode,Nl=null,Pu=null,Eo=null,Bu=!1;function yd(r,s,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Bu||Nl==null||Nl!==Ru(h)||(h=Nl,"selectionStart"in h&&Ol(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Eo&&xo(Eo,h)||(Eo=h,h=Lp(Pu,"onSelect"),0<h.length&&(s=new ju("onSelect","select",null,s,d),r.push({event:s,listeners:h}),s.target=Nl)))}function mi(r,s){var d={};return d[r.toLowerCase()]=s.toLowerCase(),d["Webkit"+r]="webkit"+s,d["Moz"+r]="moz"+s,d}var Ml={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionrun:mi("Transition","TransitionRun"),transitionstart:mi("Transition","TransitionStart"),transitioncancel:mi("Transition","TransitionCancel"),transitionend:mi("Transition","TransitionEnd")},bd={},qg={};gi&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Os(r){if(bd[r])return bd[r];if(!Ml[r])return r;var s=Ml[r],d;for(d in s)if(s.hasOwnProperty(d)&&d in qg)return bd[r]=s[d];return r}var yh=Os("animationend"),jr=Os("animationiteration"),_d=Os("animationstart"),Vg=Os("transitionrun"),Qv=Os("transitionstart"),bh=Os("transitioncancel"),Na=Os("transitionend"),_h=new Map,Ma="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ma.push("scrollEnd");function zr(r,s){_h.set(r,s),qt(s,[r])}var $i=new WeakMap;function la(r,s){if(typeof r=="object"&&r!==null){var d=$i.get(r);return d!==void 0?d:(s={value:r,source:s,stack:yr(s)},$i.set(r,s),s)}return{value:r,source:s,stack:yr(s)}}var na=[],Ns=0,Hu=0;function xr(){for(var r=Ns,s=Hu=Ns=0;s<r;){var d=na[s];na[s++]=null;var h=na[s];na[s++]=null;var y=na[s];na[s++]=null;var x=na[s];if(na[s++]=null,h!==null&&y!==null){var D=h.pending;D===null?y.next=y:(y.next=D.next,D.next=y),h.pending=y}x!==0&&Ds(d,y,x)}}function Gu(r,s,d,h){na[Ns++]=r,na[Ns++]=s,na[Ns++]=d,na[Ns++]=h,Hu|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Ms(r,s,d,h){return Gu(r,s,d,h),qu(r)}function vi(r,s){return Gu(r,null,null,s),qu(r)}function Ds(r,s,d){r.lanes|=d;var h=r.alternate;h!==null&&(h.lanes|=d);for(var y=!1,x=r.return;x!==null;)x.childLanes|=d,h=x.alternate,h!==null&&(h.childLanes|=d),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&s!==null&&(y=31-an(d),r=x.hiddenUpdates,h=r[y],h===null?r[y]=[s]:h.push(s),s.lane=d|536870912),x):null}function qu(r){if(50<ji)throw ji=0,_c=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Dl={};function Vu(r,s,d,h){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(r,s,d,h){return new Vu(r,s,d,h)}function Co(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yi(r,s){var d=r.alternate;return d===null?(d=ir(r.tag,s,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=s,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,s=r.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Sd(r,s){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,s=d.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function To(r,s,d,h,y,x){var D=0;if(h=r,typeof r=="function")Co(r)&&(D=1);else if(typeof r=="string")D=p8(r,d,Ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case ae:return r=ir(31,d,s,y),r.elementType=ae,r.lanes=x,r;case T:return Wi(d.children,y,x,s);case R:D=8,y|=24;break;case O:return r=ir(12,d,s,y|2),r.elementType=O,r.lanes=x,r;case H:return r=ir(13,d,s,y),r.elementType=H,r.lanes=x,r;case L:return r=ir(19,d,s,y),r.elementType=L,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case z:D=10;break e;case j:D=9;break e;case U:D=11;break e;case Y:D=14;break e;case Q:D=16,h=null;break e}D=29,d=Error(a(130,r===null?"null":typeof r,"")),h=null}return s=ir(D,d,s,y),s.elementType=r,s.type=h,s.lanes=x,s}function Wi(r,s,d,h){return r=ir(7,r,h,s),r.lanes=d,r}function xd(r,s,d){return r=ir(6,r,null,s),r.lanes=d,r}function Yu(r,s,d){return s=ir(4,r.children!==null?r.children:[],r.key,s),s.lanes=d,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var oa=[],jl=0,Da=null,Zu=0,wr=[],kr=0,sr=null,bi=1,$r="";function Ur(r,s){oa[jl++]=Zu,oa[jl++]=Da,Da=r,Zu=s}function Sh(r,s,d){wr[kr++]=bi,wr[kr++]=$r,wr[kr++]=sr,sr=r;var h=bi;r=$r;var y=32-an(h)-1;h&=~(1<<y),d+=1;var x=32-an(s)+y;if(30<x){var D=y-y%5;x=(h&(1<<D)-1).toString(32),h>>=D,y-=D,bi=1<<32-an(s)+y|d<<y|h,$r=x+r}else bi=1<<x|d<<y|h,$r=r}function wd(r){r.return!==null&&(Ur(r,1),Sh(r,1,0))}function Ed(r){for(;r===Da;)Da=oa[--jl],oa[jl]=null,Zu=oa[--jl],oa[jl]=null;for(;r===sr;)sr=wr[--kr],wr[kr]=null,$r=wr[--kr],wr[kr]=null,bi=wr[--kr],wr[kr]=null}var ja=null,zn=null,Ft=!1,zl=null,_i=!1,xh=Error(a(519));function js(r){var s=Error(a(418,""));throw Ro(la(s,r)),xh}function wh(r){var s=r.stateNode,d=r.type,h=r.memoizedProps;switch(s[oe]=r,s[Re]=h,d){case"dialog":Zt("cancel",s),Zt("close",s);break;case"iframe":case"object":case"embed":Zt("load",s);break;case"video":case"audio":for(d=0;d<s0.length;d++)Zt(s0[d],s);break;case"source":Zt("error",s);break;case"img":case"image":case"link":Zt("error",s),Zt("load",s);break;case"details":Zt("toggle",s);break;case"input":Zt("invalid",s),$c(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Au(s);break;case"select":Zt("invalid",s);break;case"textarea":Zt("invalid",s),eh(s,h.value,h.defaultValue,h.children),Au(s)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||h.suppressHydrationWarning===!0||Ab(s.textContent,d)?(h.popover!=null&&(Zt("beforetoggle",s),Zt("toggle",s)),h.onScroll!=null&&Zt("scroll",s),h.onScrollEnd!=null&&Zt("scrollend",s),h.onClick!=null&&(s.onclick=Pp),s=!0):s=!1,s||js(r)}function kl(r){for(ja=r.return;ja;)switch(ja.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:ja=ja.return}}function zs(r){if(r!==ja)return!1;if(!Ft)return kl(r),Ft=!0,!1;var s=r.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||g1(r.type,r.memoizedProps)),d=!d),d&&zn&&js(r),kl(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(s===0){zn=hs(r.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++;r=r.nextSibling}zn=null}}else s===27?(s=zn,$o(r.type)?(r=y1,y1=null,zn=r):zn=s):zn=ja?hs(r.stateNode.nextSibling):null;return!0}function Ao(){zn=ja=null,Ft=!1}function Eh(){var r=zl;return r!==null&&(xa===null?xa=r:xa.push.apply(xa,r),zl=null),r}function Ro(r){zl===null?zl=[r]:zl.push(r)}var Cd=W(null),ks=null,Si=null;function Lr(r,s,d){Ee(Cd,s._currentValue),s._currentValue=d}function xi(r){r._currentValue=Cd.current,xe(Cd)}function Td(r,s,d){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===d)break;r=r.return}}function ln(r,s,d,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var D=y.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=y;for(var V=0;V<s.length;V++)if(k.context===s[V]){x.lanes|=d,k=x.alternate,k!==null&&(k.lanes|=d),Td(x.return,d,r),h||(D=null);break e}x=k.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=d,x=D.alternate,x!==null&&(x.lanes|=d),Td(D,d,r),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===r){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function Ul(r,s,d,h){r=null;for(var y=s,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var k=y.type;Sr(y.pendingProps.value,D.value)||(r!==null?r.push(k):r=[k])}}else if(y===be.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(f0):r=[f0])}y=y.return}r!==null&&ln(s,r,d,h),s.flags|=262144}function Ad(r){for(r=r.firstContext;r!==null;){if(!Sr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Us(r){ks=r,Si=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function za(r){return Yg(ks,r)}function Rd(r,s){return ks===null&&Us(r),Yg(r,s)}function Yg(r,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},Si===null){if(r===null)throw Error(a(308));Si=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Si=Si.next=s;return d}var $v=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(d,h){r.push(h)}};this.abort=function(){s.aborted=!0,r.forEach(function(d){return d()})}},Ch=t.unstable_scheduleCallback,Ji=t.unstable_NormalPriority,Kn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oo(){return{controller:new $v,data:new Map,refCount:0}}function Wr(r){r.refCount--,r.refCount===0&&Ch(Ji,function(){r.controller.abort()})}var Ll=null,Iu=0,No=0,Pl=null;function Zg(r,s){if(Ll===null){var d=Ll=[];Iu=0,No=i1(),Pl={status:"pending",value:void 0,then:function(h){d.push(h)}}}return Iu++,s.then(Th,Th),s}function Th(){if(--Iu===0&&Ll!==null){Pl!==null&&(Pl.status="fulfilled");var r=Ll;Ll=null,No=0,Pl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Ig(r,s){var d=[],h={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return r.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<d.length;y++)(0,d[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),h}var Ah=B.S;B.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Zg(r,s),Ah!==null&&Ah(r,s)};var es=W(null);function Nt(){var r=es.current;return r!==null?r:yn.pooledCache}function Od(r,s){s===null?Ee(es,es.current):Ee(es,s.pool)}function lr(){var r=Nt();return r===null?null:{parent:Kn._currentValue,pool:r}}var Bl=Error(a(460)),Xg=Error(a(474)),Hl=Error(a(542)),Ls={then:function(){}};function Gl(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Xu(){}function Nd(r,s,d){switch(d=r[d],d===void 0?r.push(s):d!==s&&(s.then(Xu,Xu),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ts(r),r;default:if(typeof s.status=="string")s.then(Xu,Xu);else{if(r=yn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ts(r),r}throw Ku=s,Bl}}var Ku=null;function Rh(){if(Ku===null)throw Error(a(459));var r=Ku;return Ku=null,r}function ts(r){if(r===Bl||r===Hl)throw Error(a(483))}var wi=!1;function Fu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ei(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ia(r,s,d){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=qu(r),Ds(r,null,d),s}return Gu(r,h,s,d),qu(r)}function ql(r,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var h=s.lanes;h&=r.pendingLanes,d|=h,s.lanes=d,Es(r,d)}}function Oh(r,s){var d=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var y=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?y=x=D:x=x.next=D,d=d.next}while(d!==null);x===null?y=x=s:x=x.next=s}else y=x=s;d={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=s:r.next=s,d.lastBaseUpdate=s}var Md=!1;function $u(){if(Md){var r=Pl;if(r!==null)throw r}}function Ps(r,s,d,h){Md=!1;var y=r.updateQueue;wi=!1;var x=y.firstBaseUpdate,D=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var V=k,ue=V.next;V.next=null,D===null?x=ue:D.next=ue,D=V;var Se=r.alternate;Se!==null&&(Se=Se.updateQueue,k=Se.lastBaseUpdate,k!==D&&(k===null?Se.firstBaseUpdate=ue:k.next=ue,Se.lastBaseUpdate=V))}if(x!==null){var Te=y.baseState;D=0,Se=ue=V=null,k=x;do{var ge=k.lane&-536870913,me=ge!==k.lane;if(me?(Yt&ge)===ge:(h&ge)===ge){ge!==0&&ge===No&&(Md=!0),Se!==null&&(Se=Se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var St=r,gt=k;ge=s;var An=d;switch(gt.tag){case 1:if(St=gt.payload,typeof St=="function"){Te=St.call(An,Te,ge);break e}Te=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=gt.payload,ge=typeof St=="function"?St.call(An,Te,ge):St,ge==null)break e;Te=v({},Te,ge);break e;case 2:wi=!0}}ge=k.callback,ge!==null&&(r.flags|=64,me&&(r.flags|=8192),me=y.callbacks,me===null?y.callbacks=[ge]:me.push(ge))}else me={lane:ge,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Se===null?(ue=Se=me,V=Te):Se=Se.next=me,D|=ge;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;me=k,k=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);Se===null&&(V=Te),y.baseState=V,y.firstBaseUpdate=ue,y.lastBaseUpdate=Se,x===null&&(y.shared.lanes=0),_n|=D,r.lanes=D,r.memoizedState=Te}}function ct(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function Kg(r,s){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)ct(d[r],s)}var Mo=W(null),Wu=W(0);function Do(r,s){r=Di,Ee(Wu,r),Ee(Mo,s),Di=r|s.baseLanes}function Nh(){Ee(Wu,Di),Ee(Mo,Mo.current)}function Mh(){Di=Wu.current,xe(Mo),xe(Wu)}var Bs=0,Mt=null,mn=null,Vn=null,Ju=!1,ns=!1,Hs=!1,Dd=0,ec=0,Pr=null,as=0;function Bt(){throw Error(a(321))}function Ci(r,s){if(s===null)return!1;for(var d=0;d<s.length&&d<r.length;d++)if(!Sr(r[d],s[d]))return!1;return!0}function or(r,s,d,h,y,x){return Bs=x,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?Cp:Kh,Hs=!1,x=d(h,y),Hs=!1,ns&&(x=Qg(s,d,h,y)),Fg(r),x}function Fg(r){B.H=Pd;var s=mn!==null&&mn.next!==null;if(Bs=0,Vn=mn=Mt=null,Ju=!1,ec=0,Pr=null,s)throw Error(a(300));r===null||vn||(r=r.dependencies,r!==null&&Ad(r)&&(vn=!0))}function Qg(r,s,d,h){Mt=r;var y=0;do{if(ns&&(Pr=null),ec=0,ns=!1,25<=y)throw Error(a(301));if(y+=1,Vn=mn=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=t1,x=s(d,h)}while(ns);return x}function ua(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?tc(s):s,r=r.useState()[0],(mn!==null?mn.memoizedState:null)!==r&&(Mt.flags|=1024),s}function Jr(){var r=Dd!==0;return Dd=0,r}function Dh(r,s,d){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d}function jh(r){if(Ju){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ju=!1}Bs=0,Vn=mn=Mt=null,ns=!1,ec=Dd=0,Pr=null}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?Mt.memoizedState=Vn=r:Vn=Vn.next=r,Vn}function Fn(){if(mn===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=mn.next;var s=Vn===null?Mt.memoizedState:Vn.next;if(s!==null)Vn=s,mn=r;else{if(r===null)throw Mt.alternate===null?Error(a(467)):Error(a(310));mn=r,r={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},Vn===null?Mt.memoizedState=Vn=r:Vn=Vn.next=r}return Vn}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(r){var s=ec;return ec+=1,Pr===null&&(Pr=[]),r=Nd(Pr,r,s),s=Mt,(Vn===null?s.memoizedState:Vn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Cp:Kh),r}function nc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tc(r);if(r.$$typeof===z)return za(r)}throw Error(a(438,String(r)))}function zh(r){var s=null,d=Mt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var h=Mt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=jd(),Mt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(r),h=0;h<r;h++)d[h]=_e;return s.index++,d}function cr(r,s){return typeof s=="function"?s(r):s}function Ti(r){var s=Fn();return kh(s,mn,r)}function kh(r,s,d){var h=r.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=d;var y=r.baseQueue,x=h.pending;if(x!==null){if(y!==null){var D=y.next;y.next=x.next,x.next=D}s.baseQueue=y=x,h.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{s=y.next;var k=D=null,V=null,ue=s,Se=!1;do{var Te=ue.lane&-536870913;if(Te!==ue.lane?(Yt&Te)===Te:(Bs&Te)===Te){var ge=ue.revertLane;if(ge===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Te===No&&(Se=!0);else if((Bs&ge)===ge){ue=ue.next,ge===No&&(Se=!0);continue}else Te={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},V===null?(k=V=Te,D=x):V=V.next=Te,Mt.lanes|=ge,_n|=ge;Te=ue.action,Hs&&d(x,Te),x=ue.hasEagerState?ue.eagerState:d(x,Te)}else ge={lane:Te,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},V===null?(k=V=ge,D=x):V=V.next=ge,Mt.lanes|=Te,_n|=Te;ue=ue.next}while(ue!==null&&ue!==s);if(V===null?D=x:V.next=k,!Sr(x,r.memoizedState)&&(vn=!0,Se&&(d=Pl,d!==null)))throw d;r.memoizedState=x,r.baseState=D,r.baseQueue=V,h.lastRenderedState=x}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Uh(r){var s=Fn(),d=s.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=r;var h=d.dispatch,y=d.pending,x=s.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do x=r(x,D.action),D=D.next;while(D!==y);Sr(x,s.memoizedState)||(vn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),d.lastRenderedState=x}return[x,h]}function $g(r,s,d){var h=Mt,y=Fn(),x=Ft;if(x){if(d===void 0)throw Error(a(407));d=d()}else d=s();var D=!Sr((mn||y).memoizedState,d);D&&(y.memoizedState=d,vn=!0),y=y.queue;var k=Jg.bind(null,h,y,r);if(ac(2048,8,k,[r]),y.getSnapshot!==s||D||Vn!==null&&Vn.memoizedState.tag&1){if(h.flags|=2048,ko(9,zd(),Wg.bind(null,h,y,d,s),null),yn===null)throw Error(a(349));x||(Bs&124)!==0||jo(h,s,d)}return d}function jo(r,s,d){r.flags|=16384,r={getSnapshot:s,value:d},s=Mt.updateQueue,s===null?(s=jd(),Mt.updateQueue=s,s.stores=[r]):(d=s.stores,d===null?s.stores=[r]:d.push(r))}function Wg(r,s,d,h){s.value=d,s.getSnapshot=h,ep(s)&&zo(r)}function Jg(r,s,d){return d(function(){ep(s)&&zo(r)})}function ep(r){var s=r.getSnapshot;r=r.value;try{var d=s();return!Sr(r,d)}catch{return!0}}function zo(r){var s=vi(r,2);s!==null&&Jn(s,r,2)}function Lh(r){var s=ur();if(typeof r=="function"){var d=r;if(r=d(),Hs){bt(!0);try{d()}finally{bt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:r},s}function tp(r,s,d,h){return r.baseState=d,kh(r,mn,typeof h=="function"?h:cr)}function Wv(r,s,d,h,y){if(Ld(r))throw Error(a(485));if(r=s.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};B.T!==null?d(!0):x.isTransition=!1,h(x),d=s.pending,d===null?(x.next=s.pending=x,np(s,x)):(x.next=d.next,s.pending=d.next=x)}}function np(r,s){var d=s.action,h=s.payload,y=r.state;if(s.isTransition){var x=B.T,D={};B.T=D;try{var k=d(y,h),V=B.S;V!==null&&V(D,k),ap(r,s,k)}catch(ue){Ph(r,s,ue)}finally{B.T=x}}else try{x=d(y,h),ap(r,s,x)}catch(ue){Ph(r,s,ue)}}function ap(r,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){rp(r,s,h)},function(h){return Ph(r,s,h)}):rp(r,s,d)}function rp(r,s,d){s.status="fulfilled",s.value=d,ip(s),r.state=d,s=r.pending,s!==null&&(d=s.next,d===s?r.pending=null:(d=d.next,s.next=d,np(r,d)))}function Ph(r,s,d){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=d,ip(s),s=s.next;while(s!==h)}r.action=null}function ip(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function sp(r,s){return s}function lp(r,s){if(Ft){var d=yn.formState;if(d!==null){e:{var h=Mt;if(Ft){if(zn){t:{for(var y=zn,x=_i;y.nodeType!==8;){if(!x){y=null;break t}if(y=hs(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){zn=hs(y.nextSibling),h=y.data==="F!";break e}}js(h)}h=!1}h&&(s=d[0])}}return d=ur(),d.memoizedState=d.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:s},d.queue=h,d=xp.bind(null,Mt,h),h.dispatch=d,h=Lh(!1),x=Xh.bind(null,Mt,!1,h.queue),h=ur(),y={state:s,dispatch:null,action:r,pending:null},h.queue=y,d=Wv.bind(null,Mt,y,x,d),y.dispatch=d,h.memoizedState=r,[s,d,!1]}function op(r){var s=Fn();return up(s,mn,r)}function up(r,s,d){if(s=kh(r,s,sp)[0],r=Ti(cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=tc(s)}catch(D){throw D===Bl?Hl:D}else h=s;s=Fn();var y=s.queue,x=y.dispatch;return d!==s.memoizedState&&(Mt.flags|=2048,ko(9,zd(),cp.bind(null,y,d),null)),[h,x,r]}function cp(r,s){r.action=s}function dp(r){var s=Fn(),d=mn;if(d!==null)return up(s,d,r);Fn(),s=s.memoizedState,d=Fn();var h=d.queue.dispatch;return d.memoizedState=r,[s,h,!1]}function ko(r,s,d,h){return r={tag:r,create:d,deps:h,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=jd(),Mt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=r.next=r:(h=d.next,d.next=r,r.next=h,s.lastEffect=r),r}function zd(){return{destroy:void 0,resource:void 0}}function fp(){return Fn().memoizedState}function kd(r,s,d,h){var y=ur();h=h===void 0?null:h,Mt.flags|=r,y.memoizedState=ko(1|s,zd(),d,h)}function ac(r,s,d,h){var y=Fn();h=h===void 0?null:h;var x=y.memoizedState.inst;mn!==null&&h!==null&&Ci(h,mn.memoizedState.deps)?y.memoizedState=ko(s,x,d,h):(Mt.flags|=r,y.memoizedState=ko(1|s,x,d,h))}function Bh(r,s){kd(8390656,8,r,s)}function Hh(r,s){ac(2048,8,r,s)}function hp(r,s){return ac(4,2,r,s)}function Gh(r,s){return ac(4,4,r,s)}function qh(r,s){if(typeof s=="function"){r=r();var d=s(r);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Vh(r,s,d){d=d!=null?d.concat([r]):null,ac(4,4,qh.bind(null,s,r),d)}function rc(){}function Ud(r,s){var d=Fn();s=s===void 0?null:s;var h=d.memoizedState;return s!==null&&Ci(s,h[1])?h[0]:(d.memoizedState=[r,s],r)}function gp(r,s){var d=Fn();s=s===void 0?null:s;var h=d.memoizedState;if(s!==null&&Ci(s,h[1]))return h[0];if(h=r(),Hs){bt(!0);try{r()}finally{bt(!1)}}return d.memoizedState=[h,s],h}function Yh(r,s,d){return d===void 0||(Bs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=d,r=Gn(),Mt.lanes|=r,_n|=r,d)}function pp(r,s,d,h){return Sr(d,s)?d:Mo.current!==null?(r=Yh(r,d,h),Sr(r,s)||(vn=!0),r):(Bs&42)===0?(vn=!0,r.memoizedState=d):(r=Gn(),Mt.lanes|=r,_n|=r,s)}function mp(r,s,d,h,y){var x=se.p;se.p=x!==0&&8>x?x:8;var D=B.T,k={};B.T=k,Xh(r,!1,s,d);try{var V=y(),ue=B.S;if(ue!==null&&ue(k,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Se=Ig(V,h);ic(r,s,Se,Zn(r))}else ic(r,s,h,Zn(r))}catch(Te){ic(r,s,{then:function(){},status:"rejected",reason:Te},Zn())}finally{se.p=x,B.T=D}}function vp(){}function Zh(r,s,d,h){if(r.tag!==5)throw Error(a(476));var y=yp(r).queue;mp(r,y,s,K,d===null?vp:function(){return bp(r),d(h)})}function yp(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:K},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:d},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function bp(r){var s=yp(r).next.queue;ic(r,s,{},Zn())}function Ih(){return za(f0)}function _p(){return Fn().memoizedState}function Sp(){return Fn().memoizedState}function Jv(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var d=Zn();r=Ei(d);var h=Ia(s,r,d);h!==null&&(Jn(h,s,d),ql(h,s,d)),s={cache:Oo()},r.payload=s;return}s=s.return}}function e1(r,s,d){var h=Zn();d={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Ld(r)?wp(s,d):(d=Ms(r,s,d,h),d!==null&&(Jn(d,r,h),Ep(d,s,h)))}function xp(r,s,d){var h=Zn();ic(r,s,d,h)}function ic(r,s,d,h){var y={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ld(r))wp(s,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var D=s.lastRenderedState,k=x(D,d);if(y.hasEagerState=!0,y.eagerState=k,Sr(k,D))return Gu(r,s,y,0),yn===null&&xr(),!1}catch{}finally{}if(d=Ms(r,s,y,h),d!==null)return Jn(d,r,h),Ep(d,s,h),!0}return!1}function Xh(r,s,d,h){if(h={lane:2,revertLane:i1(),action:h,hasEagerState:!1,eagerState:null,next:null},Ld(r)){if(s)throw Error(a(479))}else s=Ms(r,d,h,2),s!==null&&Jn(s,r,2)}function Ld(r){var s=r.alternate;return r===Mt||s!==null&&s===Mt}function wp(r,s){ns=Ju=!0;var d=r.pending;d===null?s.next=s:(s.next=d.next,d.next=s),r.pending=s}function Ep(r,s,d){if((d&4194048)!==0){var h=s.lanes;h&=r.pendingLanes,d|=h,s.lanes=d,Es(r,d)}}var Pd={readContext:za,use:nc,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},Cp={readContext:za,use:nc,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:za,useEffect:Bh,useImperativeHandle:function(r,s,d){d=d!=null?d.concat([r]):null,kd(4194308,4,qh.bind(null,s,r),d)},useLayoutEffect:function(r,s){return kd(4194308,4,r,s)},useInsertionEffect:function(r,s){kd(4,2,r,s)},useMemo:function(r,s){var d=ur();s=s===void 0?null:s;var h=r();if(Hs){bt(!0);try{r()}finally{bt(!1)}}return d.memoizedState=[h,s],h},useReducer:function(r,s,d){var h=ur();if(d!==void 0){var y=d(s);if(Hs){bt(!0);try{d(s)}finally{bt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=e1.bind(null,Mt,r),[h.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:function(r){r=Lh(r);var s=r.queue,d=xp.bind(null,Mt,s);return s.dispatch=d,[r.memoizedState,d]},useDebugValue:rc,useDeferredValue:function(r,s){var d=ur();return Yh(d,r,s)},useTransition:function(){var r=Lh(!1);return r=mp.bind(null,Mt,r.queue,!0,!1),ur().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,d){var h=Mt,y=ur();if(Ft){if(d===void 0)throw Error(a(407));d=d()}else{if(d=s(),yn===null)throw Error(a(349));(Yt&124)!==0||jo(h,s,d)}y.memoizedState=d;var x={value:d,getSnapshot:s};return y.queue=x,Bh(Jg.bind(null,h,x,r),[r]),h.flags|=2048,ko(9,zd(),Wg.bind(null,h,x,d,s),null),d},useId:function(){var r=ur(),s=yn.identifierPrefix;if(Ft){var d=$r,h=bi;d=(h&~(1<<32-an(h)-1)).toString(32)+d,s=""+s+"R"+d,d=Dd++,0<d&&(s+="H"+d.toString(32)),s+=""}else d=as++,s=""+s+"r"+d.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Ih,useFormState:lp,useActionState:lp,useOptimistic:function(r){var s=ur();s.memoizedState=s.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Xh.bind(null,Mt,!0,d),d.dispatch=s,[r,s]},useMemoCache:zh,useCacheRefresh:function(){return ur().memoizedState=Jv.bind(null,Mt)}},Kh={readContext:za,use:nc,useCallback:Ud,useContext:za,useEffect:Hh,useImperativeHandle:Vh,useInsertionEffect:hp,useLayoutEffect:Gh,useMemo:gp,useReducer:Ti,useRef:fp,useState:function(){return Ti(cr)},useDebugValue:rc,useDeferredValue:function(r,s){var d=Fn();return pp(d,mn.memoizedState,r,s)},useTransition:function(){var r=Ti(cr)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:tc(r),s]},useSyncExternalStore:$g,useId:_p,useHostTransitionStatus:Ih,useFormState:op,useActionState:op,useOptimistic:function(r,s){var d=Fn();return tp(d,mn,r,s)},useMemoCache:zh,useCacheRefresh:Sp},t1={readContext:za,use:nc,useCallback:Ud,useContext:za,useEffect:Hh,useImperativeHandle:Vh,useInsertionEffect:hp,useLayoutEffect:Gh,useMemo:gp,useReducer:Uh,useRef:fp,useState:function(){return Uh(cr)},useDebugValue:rc,useDeferredValue:function(r,s){var d=Fn();return mn===null?Yh(d,r,s):pp(d,mn.memoizedState,r,s)},useTransition:function(){var r=Uh(cr)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:tc(r),s]},useSyncExternalStore:$g,useId:_p,useHostTransitionStatus:Ih,useFormState:dp,useActionState:dp,useOptimistic:function(r,s){var d=Fn();return mn!==null?tp(d,mn,r,s):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:zh,useCacheRefresh:Sp},Uo=null,Xa=0;function sc(r){var s=Xa;return Xa+=1,Uo===null&&(Uo=[]),Nd(Uo,r,s)}function Vl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function lc(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Fh(r){var s=r._init;return s(r._payload)}function Qh(r){function s(J,F){if(r){var le=J.deletions;le===null?(J.deletions=[F],J.flags|=16):le.push(F)}}function d(J,F){if(!r)return null;for(;F!==null;)s(J,F),F=F.sibling;return null}function h(J){for(var F=new Map;J!==null;)J.key!==null?F.set(J.key,J):F.set(J.index,J),J=J.sibling;return F}function y(J,F){return J=yi(J,F),J.index=0,J.sibling=null,J}function x(J,F,le){return J.index=le,r?(le=J.alternate,le!==null?(le=le.index,le<F?(J.flags|=67108866,F):le):(J.flags|=67108866,F)):(J.flags|=1048576,F)}function D(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function k(J,F,le,we){return F===null||F.tag!==6?(F=xd(le,J.mode,we),F.return=J,F):(F=y(F,le),F.return=J,F)}function V(J,F,le,we){var tt=le.type;return tt===T?Se(J,F,le.props.children,we,le.key):F!==null&&(F.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&Fh(tt)===F.type)?(F=y(F,le.props),Vl(F,le),F.return=J,F):(F=To(le.type,le.key,le.props,null,J.mode,we),Vl(F,le),F.return=J,F)}function ue(J,F,le,we){return F===null||F.tag!==4||F.stateNode.containerInfo!==le.containerInfo||F.stateNode.implementation!==le.implementation?(F=Yu(le,J.mode,we),F.return=J,F):(F=y(F,le.children||[]),F.return=J,F)}function Se(J,F,le,we,tt){return F===null||F.tag!==7?(F=Wi(le,J.mode,we,tt),F.return=J,F):(F=y(F,le),F.return=J,F)}function Te(J,F,le){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=xd(""+F,J.mode,le),F.return=J,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return le=To(F.type,F.key,F.props,null,J.mode,le),Vl(le,F),le.return=J,le;case C:return F=Yu(F,J.mode,le),F.return=J,F;case Q:var we=F._init;return F=we(F._payload),Te(J,F,le)}if(fe(F)||ie(F))return F=Wi(F,J.mode,le,null),F.return=J,F;if(typeof F.then=="function")return Te(J,sc(F),le);if(F.$$typeof===z)return Te(J,Rd(J,F),le);lc(J,F)}return null}function ge(J,F,le,we){var tt=F!==null?F.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return tt!==null?null:k(J,F,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return le.key===tt?V(J,F,le,we):null;case C:return le.key===tt?ue(J,F,le,we):null;case Q:return tt=le._init,le=tt(le._payload),ge(J,F,le,we)}if(fe(le)||ie(le))return tt!==null?null:Se(J,F,le,we,null);if(typeof le.then=="function")return ge(J,F,sc(le),we);if(le.$$typeof===z)return ge(J,F,Rd(J,le),we);lc(J,le)}return null}function me(J,F,le,we,tt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return J=J.get(le)||null,k(F,J,""+we,tt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case S:return J=J.get(we.key===null?le:we.key)||null,V(F,J,we,tt);case C:return J=J.get(we.key===null?le:we.key)||null,ue(F,J,we,tt);case Q:var Ht=we._init;return we=Ht(we._payload),me(J,F,le,we,tt)}if(fe(we)||ie(we))return J=J.get(le)||null,Se(F,J,we,tt,null);if(typeof we.then=="function")return me(J,F,le,sc(we),tt);if(we.$$typeof===z)return me(J,F,le,Rd(F,we),tt);lc(F,we)}return null}function St(J,F,le,we){for(var tt=null,Ht=null,ot=F,mt=F=0,Ba=null;ot!==null&&mt<le.length;mt++){ot.index>mt?(Ba=ot,ot=null):Ba=ot.sibling;var dn=ge(J,ot,le[mt],we);if(dn===null){ot===null&&(ot=Ba);break}r&&ot&&dn.alternate===null&&s(J,ot),F=x(dn,F,mt),Ht===null?tt=dn:Ht.sibling=dn,Ht=dn,ot=Ba}if(mt===le.length)return d(J,ot),Ft&&Ur(J,mt),tt;if(ot===null){for(;mt<le.length;mt++)ot=Te(J,le[mt],we),ot!==null&&(F=x(ot,F,mt),Ht===null?tt=ot:Ht.sibling=ot,Ht=ot);return Ft&&Ur(J,mt),tt}for(ot=h(ot);mt<le.length;mt++)Ba=me(ot,J,mt,le[mt],we),Ba!==null&&(r&&Ba.alternate!==null&&ot.delete(Ba.key===null?mt:Ba.key),F=x(Ba,F,mt),Ht===null?tt=Ba:Ht.sibling=Ba,Ht=Ba);return r&&ot.forEach(function(nu){return s(J,nu)}),Ft&&Ur(J,mt),tt}function gt(J,F,le,we){if(le==null)throw Error(a(151));for(var tt=null,Ht=null,ot=F,mt=F=0,Ba=null,dn=le.next();ot!==null&&!dn.done;mt++,dn=le.next()){ot.index>mt?(Ba=ot,ot=null):Ba=ot.sibling;var nu=ge(J,ot,dn.value,we);if(nu===null){ot===null&&(ot=Ba);break}r&&ot&&nu.alternate===null&&s(J,ot),F=x(nu,F,mt),Ht===null?tt=nu:Ht.sibling=nu,Ht=nu,ot=Ba}if(dn.done)return d(J,ot),Ft&&Ur(J,mt),tt;if(ot===null){for(;!dn.done;mt++,dn=le.next())dn=Te(J,dn.value,we),dn!==null&&(F=x(dn,F,mt),Ht===null?tt=dn:Ht.sibling=dn,Ht=dn);return Ft&&Ur(J,mt),tt}for(ot=h(ot);!dn.done;mt++,dn=le.next())dn=me(ot,J,mt,dn.value,we),dn!==null&&(r&&dn.alternate!==null&&ot.delete(dn.key===null?mt:dn.key),F=x(dn,F,mt),Ht===null?tt=dn:Ht.sibling=dn,Ht=dn);return r&&ot.forEach(function(A8){return s(J,A8)}),Ft&&Ur(J,mt),tt}function An(J,F,le,we){if(typeof le=="object"&&le!==null&&le.type===T&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case S:e:{for(var tt=le.key;F!==null;){if(F.key===tt){if(tt=le.type,tt===T){if(F.tag===7){d(J,F.sibling),we=y(F,le.props.children),we.return=J,J=we;break e}}else if(F.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&Fh(tt)===F.type){d(J,F.sibling),we=y(F,le.props),Vl(we,le),we.return=J,J=we;break e}d(J,F);break}else s(J,F);F=F.sibling}le.type===T?(we=Wi(le.props.children,J.mode,we,le.key),we.return=J,J=we):(we=To(le.type,le.key,le.props,null,J.mode,we),Vl(we,le),we.return=J,J=we)}return D(J);case C:e:{for(tt=le.key;F!==null;){if(F.key===tt)if(F.tag===4&&F.stateNode.containerInfo===le.containerInfo&&F.stateNode.implementation===le.implementation){d(J,F.sibling),we=y(F,le.children||[]),we.return=J,J=we;break e}else{d(J,F);break}else s(J,F);F=F.sibling}we=Yu(le,J.mode,we),we.return=J,J=we}return D(J);case Q:return tt=le._init,le=tt(le._payload),An(J,F,le,we)}if(fe(le))return St(J,F,le,we);if(ie(le)){if(tt=ie(le),typeof tt!="function")throw Error(a(150));return le=tt.call(le),gt(J,F,le,we)}if(typeof le.then=="function")return An(J,F,sc(le),we);if(le.$$typeof===z)return An(J,F,Rd(J,le),we);lc(J,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,F!==null&&F.tag===6?(d(J,F.sibling),we=y(F,le),we.return=J,J=we):(d(J,F),we=xd(le,J.mode,we),we.return=J,J=we),D(J)):d(J,F)}return function(J,F,le,we){try{Xa=0;var tt=An(J,F,le,we);return Uo=null,tt}catch(ot){if(ot===Bl||ot===Hl)throw ot;var Ht=ir(29,ot,null,J.mode);return Ht.lanes=we,Ht.return=J,Ht}finally{}}}var Lo=Qh(!0),$h=Qh(!1),Er=W(null),Ai=null;function Gs(r){var s=r.alternate;Ee(Pt,Pt.current&1),Ee(Er,r),Ai===null&&(s===null||Mo.current!==null||s.memoizedState!==null)&&(Ai=r)}function Tp(r){if(r.tag===22){if(Ee(Pt,Pt.current),Ee(Er,r),Ai===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ai=r)}}else rs()}function rs(){Ee(Pt,Pt.current),Ee(Er,Er.current)}function is(r){xe(Er),Ai===r&&(Ai=null),xe(Pt)}var Pt=W(0);function oc(r){for(var s=r;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||v1(d)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Wh(r,s,d,h){s=r.memoizedState,d=d(h,s),d=d==null?s:v({},s,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Bd={enqueueSetState:function(r,s,d){r=r._reactInternals;var h=Zn(),y=Ei(h);y.payload=s,d!=null&&(y.callback=d),s=Ia(r,y,h),s!==null&&(Jn(s,r,h),ql(s,r,h))},enqueueReplaceState:function(r,s,d){r=r._reactInternals;var h=Zn(),y=Ei(h);y.tag=1,y.payload=s,d!=null&&(y.callback=d),s=Ia(r,y,h),s!==null&&(Jn(s,r,h),ql(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var d=Zn(),h=Ei(d);h.tag=2,s!=null&&(h.callback=s),s=Ia(r,h,d),s!==null&&(Jn(s,r,d),ql(s,r,d))}};function Jh(r,s,d,h,y,x,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,D):s.prototype&&s.prototype.isPureReactComponent?!xo(d,h)||!xo(y,x):!0}function Yl(r,s,d,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,h),s.state!==r&&Bd.enqueueReplaceState(s,s.state,null)}function ss(r,s){var d=s;if("ref"in s){d={};for(var h in s)h!=="ref"&&(d[h]=s[h])}if(r=r.defaultProps){d===s&&(d=v({},d));for(var y in r)d[y]===void 0&&(d[y]=r[y])}return d}var ls=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Zl(r){ls(r)}function dr(r){console.error(r)}function Ap(r){ls(r)}function Hd(r,s){try{var d=r.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function uc(r,s,d){try{var h=r.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Po(r,s,d){return d=Ei(d),d.tag=3,d.payload={element:null},d.callback=function(){Hd(r,s)},d}function cc(r){return r=Ei(r),r.tag=3,r}function Gd(r,s,d,h){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;r.payload=function(){return y(x)},r.callback=function(){uc(s,d,h)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){uc(s,d,h),typeof y!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function n1(r,s,d,h,y){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=d.alternate,s!==null&&Ul(s,d,y,!0),d=Er.current,d!==null){switch(d.tag){case 13:return Ai===null?zi():d.alternate===null&&Dt===0&&(Dt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,h===Ls?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([h]):s.add(h),Ne(r,h,y)),!1;case 22:return d.flags|=65536,h===Ls?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([h]):d.add(h)),Ne(r,h,y)),!1}throw Error(a(435,d.tag))}return Ne(r,h,y),zi(),!1}if(Ft)return s=Er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==xh&&(r=Error(a(422),{cause:h}),Ro(la(r,d)))):(h!==xh&&(s=Error(a(423),{cause:h}),Ro(la(s,d))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=la(h,d),y=Po(r.stateNode,h,y),Oh(r,y),Dt!==4&&(Dt=2)),!1;var x=Error(a(520),{cause:h});if(x=la(x,d),$s===null?$s=[x]:$s.push(x),Dt!==4&&(Dt=2),s===null)return!0;h=la(h,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,r=y&-y,d.lanes|=r,r=Po(d.stateNode,h,r),Oh(d,r),!1;case 1:if(s=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Js===null||!Js.has(x))))return d.flags|=65536,y&=-y,d.lanes|=y,y=cc(y),Gd(y,r,d,h),Oh(d,y),!1}d=d.return}while(d!==null);return!1}var Rp=Error(a(461)),vn=!1;function ca(r,s,d,h){s.child=r===null?$h(s,null,d,h):Lo(s,r.child,d,h)}function Op(r,s,d,h,y){d=d.render;var x=s.ref;if("ref"in h){var D={};for(var k in h)k!=="ref"&&(D[k]=h[k])}else D=h;return Us(s),h=or(r,s,d,D,x,y),k=Jr(),r!==null&&!vn?(Dh(r,s,y),On(r,s,y)):(Ft&&k&&wd(s),s.flags|=1,ca(r,s,h,y),s.child)}function qd(r,s,d,h,y){if(r===null){var x=d.type;return typeof x=="function"&&!Co(x)&&x.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=x,Np(r,s,x,h,y)):(r=To(d.type,null,h,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,!Il(r,y)){var D=x.memoizedProps;if(d=d.compare,d=d!==null?d:xo,d(D,h)&&r.ref===s.ref)return On(r,s,y)}return s.flags|=1,r=yi(x,h),r.ref=s.ref,r.return=s,s.child=r}function Np(r,s,d,h,y){if(r!==null){var x=r.memoizedProps;if(xo(x,h)&&r.ref===s.ref)if(vn=!1,s.pendingProps=h=x,Il(r,y))(r.flags&131072)!==0&&(vn=!0);else return s.lanes=r.lanes,On(r,s,y)}return Ka(r,s,d,h,y)}function Mp(r,s,d){var h=s.pendingProps,y=h.children,x=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=x!==null?x.baseLanes|d:d,r!==null){for(y=s.child=r.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;s.childLanes=x&~h}else s.childLanes=0,s.child=null;return Dp(r,s,h,d)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Od(s,x!==null?x.cachePool:null),x!==null?Do(s,x):Nh(),Tp(s);else return s.lanes=s.childLanes=536870912,Dp(r,s,x!==null?x.baseLanes|d:d,d)}else x!==null?(Od(s,x.cachePool),Do(s,x),rs(),s.memoizedState=null):(r!==null&&Od(s,null),Nh(),rs());return ca(r,s,y,d),s.child}function Dp(r,s,d,h){var y=Nt();return y=y===null?null:{parent:Kn._currentValue,pool:y},s.memoizedState={baseLanes:d,cachePool:y},r!==null&&Od(s,null),Nh(),Tp(s),r!==null&&Ul(r,s,h,!0),null}function qs(r,s){var d=s.ref;if(d===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(r===null||r.ref!==d)&&(s.flags|=4194816)}}function Ka(r,s,d,h,y){return Us(s),d=or(r,s,d,h,void 0,y),h=Jr(),r!==null&&!vn?(Dh(r,s,y),On(r,s,y)):(Ft&&h&&wd(s),s.flags|=1,ca(r,s,d,y),s.child)}function Vd(r,s,d,h,y,x){return Us(s),s.updateQueue=null,d=Qg(s,h,d,y),Fg(r),h=Jr(),r!==null&&!vn?(Dh(r,s,x),On(r,s,x)):(Ft&&h&&wd(s),s.flags|=1,ca(r,s,d,x),s.child)}function e0(r,s,d,h,y){if(Us(s),s.stateNode===null){var x=Dl,D=d.contextType;typeof D=="object"&&D!==null&&(x=za(D)),x=new d(h,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Bd,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=h,x.state=s.memoizedState,x.refs={},Fu(s),D=d.contextType,x.context=typeof D=="object"&&D!==null?za(D):Dl,x.state=s.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Wh(s,d,D,h),x.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&Bd.enqueueReplaceState(x,x.state,null),Ps(s,h,x,y),$u(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(r===null){x=s.stateNode;var k=s.memoizedProps,V=ss(d,k);x.props=V;var ue=x.context,Se=d.contextType;D=Dl,typeof Se=="object"&&Se!==null&&(D=za(Se));var Te=d.getDerivedStateFromProps;Se=typeof Te=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,Se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||ue!==D)&&Yl(s,x,h,D),wi=!1;var ge=s.memoizedState;x.state=ge,Ps(s,h,x,y),$u(),ue=s.memoizedState,k||ge!==ue||wi?(typeof Te=="function"&&(Wh(s,d,Te,h),ue=s.memoizedState),(V=wi||Jh(s,d,V,h,ge,ue,D))?(Se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ue),x.props=h,x.state=ue,x.context=D,h=V):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{x=s.stateNode,Qu(r,s),D=s.memoizedProps,Se=ss(d,D),x.props=Se,Te=s.pendingProps,ge=x.context,ue=d.contextType,V=Dl,typeof ue=="object"&&ue!==null&&(V=za(ue)),k=d.getDerivedStateFromProps,(ue=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Te||ge!==V)&&Yl(s,x,h,V),wi=!1,ge=s.memoizedState,x.state=ge,Ps(s,h,x,y),$u();var me=s.memoizedState;D!==Te||ge!==me||wi||r!==null&&r.dependencies!==null&&Ad(r.dependencies)?(typeof k=="function"&&(Wh(s,d,k,h),me=s.memoizedState),(Se=wi||Jh(s,d,Se,h,ge,me,V)||r!==null&&r.dependencies!==null&&Ad(r.dependencies))?(ue||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,me,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,me,V)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),x.props=h,x.state=me,x.context=V,h=Se):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(s.flags|=1024),h=!1)}return x=h,qs(r,s),h=(s.flags&128)!==0,x||h?(x=s.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,r!==null&&h?(s.child=Lo(s,r.child,null,y),s.child=Lo(s,null,d,y)):ca(r,s,d,y),s.memoizedState=x.state,r=s.child):r=On(r,s,y),r}function Yd(r,s,d,h){return Ao(),s.flags|=256,ca(r,s,d,h),s.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vs(r){return{baseLanes:r,cachePool:lr()}}function Ys(r,s,d){return r=r!==null?r.childLanes&~d:0,s&&(r|=Sa),r}function dc(r,s,d){var h=s.pendingProps,y=!1,x=(s.flags&128)!==0,D;if((D=x)||(D=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ft){if(y?Gs(s):rs(),Ft){var k=zn,V;if(V=k){e:{for(V=k,k=_i;V.nodeType!==8;){if(!k){k=null;break e}if(V=hs(V.nextSibling),V===null){k=null;break e}}k=V}k!==null?(s.memoizedState={dehydrated:k,treeContext:sr!==null?{id:bi,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},V=ir(18,null,null,0),V.stateNode=k,V.return=s,s.child=V,ja=s,zn=null,V=!0):V=!1}V||js(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return v1(k)?s.lanes=32:s.lanes=536870912,null;is(s)}return k=h.children,h=h.fallback,y?(rs(),y=s.mode,k=Fa({mode:"hidden",children:k},y),h=Wi(h,y,d,null),k.return=s,h.return=s,k.sibling=h,s.child=k,y=s.child,y.memoizedState=Vs(d),y.childLanes=Ys(r,D,d),s.memoizedState=Zd,h):(Gs(s),Bo(s,k))}if(V=r.memoizedState,V!==null&&(k=V.dehydrated,k!==null)){if(x)s.flags&256?(Gs(s),s.flags&=-257,s=fr(r,s,d)):s.memoizedState!==null?(rs(),s.child=r.child,s.flags|=128,s=null):(rs(),y=h.fallback,k=s.mode,h=Fa({mode:"visible",children:h.children},k),y=Wi(y,k,d,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,Lo(s,r.child,null,d),h=s.child,h.memoizedState=Vs(d),h.childLanes=Ys(r,D,d),s.memoizedState=Zd,s=y);else if(Gs(s),v1(k)){if(D=k.nextSibling&&k.nextSibling.dataset,D)var ue=D.dgst;D=ue,h=Error(a(419)),h.stack="",h.digest=D,Ro({value:h,source:null,stack:null}),s=fr(r,s,d)}else if(vn||Ul(r,s,d,!1),D=(d&r.childLanes)!==0,vn||D){if(D=yn,D!==null&&(h=d&-d,h=(h&42)!==0?1:Vi(h),h=(h&(D.suspendedLanes|d))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,vi(r,h),Jn(D,r,h),Rp;k.data==="$?"||zi(),s=fr(r,s,d)}else k.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,zn=hs(k.nextSibling),ja=s,Ft=!0,zl=null,_i=!1,r!==null&&(wr[kr++]=bi,wr[kr++]=$r,wr[kr++]=sr,bi=r.id,$r=r.overflow,sr=s),s=Bo(s,h.children),s.flags|=4096);return s}return y?(rs(),y=h.fallback,k=s.mode,V=r.child,ue=V.sibling,h=yi(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,ue!==null?y=yi(ue,y):(y=Wi(y,k,d,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,k=r.child.memoizedState,k===null?k=Vs(d):(V=k.cachePool,V!==null?(ue=Kn._currentValue,V=V.parent!==ue?{parent:ue,pool:ue}:V):V=lr(),k={baseLanes:k.baseLanes|d,cachePool:V}),y.memoizedState=k,y.childLanes=Ys(r,D,d),s.memoizedState=Zd,h):(Gs(s),d=r.child,r=d.sibling,d=yi(d,{mode:"visible",children:h.children}),d.return=s,d.sibling=null,r!==null&&(D=s.deletions,D===null?(s.deletions=[r],s.flags|=16):D.push(r)),s.child=d,s.memoizedState=null,d)}function Bo(r,s){return s=Fa({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Fa(r,s){return r=ir(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function fr(r,s,d){return Lo(s,r.child,null,d),r=Bo(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Zs(r,s,d){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Td(r.return,s,d)}function ei(r,s,d,h,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=d,x.tailMode=y)}function Ri(r,s,d){var h=s.pendingProps,y=h.revealOrder,x=h.tail;if(ca(r,s,h.children,d),h=Pt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zs(r,d,s);else if(r.tag===19)Zs(r,d,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(Ee(Pt,h),y){case"forwards":for(d=s.child,y=null;d!==null;)r=d.alternate,r!==null&&oc(r)===null&&(y=d),d=d.sibling;d=y,d===null?(y=s.child,s.child=null):(y=d.sibling,d.sibling=null),ei(s,!1,y,d,x);break;case"backwards":for(d=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&oc(r)===null){s.child=y;break}r=y.sibling,y.sibling=d,d=y,y=r}ei(s,!0,d,null,x);break;case"together":ei(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function On(r,s,d){if(r!==null&&(s.dependencies=r.dependencies),_n|=s.lanes,(d&s.childLanes)===0)if(r!==null){if(Ul(r,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,d=yi(r,r.pendingProps),s.child=d,d.return=s;r.sibling!==null;)r=r.sibling,d=d.sibling=yi(r,r.pendingProps),d.return=s;d.sibling=null}return s.child}function Il(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ad(r)))}function Is(r,s,d){switch(s.tag){case 3:Ae(s,s.stateNode.containerInfo),Lr(s,Kn,r.memoizedState.cache),Ao();break;case 27:case 5:at(s);break;case 4:Ae(s,s.stateNode.containerInfo);break;case 10:Lr(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Gs(s),s.flags|=128,null):(d&s.child.childLanes)!==0?dc(r,s,d):(Gs(s),r=On(r,s,d),r!==null?r.sibling:null);Gs(s);break;case 19:var y=(r.flags&128)!==0;if(h=(d&s.childLanes)!==0,h||(Ul(r,s,d,!1),h=(d&s.childLanes)!==0),y){if(h)return Ri(r,s,d);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ee(Pt,Pt.current),h)break;return null;case 22:case 23:return s.lanes=0,Mp(r,s,d);case 24:Lr(s,Kn,r.memoizedState.cache)}return On(r,s,d)}function fc(r,s,d){if(r!==null)if(r.memoizedProps!==s.pendingProps)vn=!0;else{if(!Il(r,d)&&(s.flags&128)===0)return vn=!1,Is(r,s,d);vn=(r.flags&131072)!==0}else vn=!1,Ft&&(s.flags&1048576)!==0&&Sh(s,Zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var h=s.elementType,y=h._init;if(h=y(h._payload),s.type=h,typeof h=="function")Co(h)?(r=ss(h,r),s.tag=1,s=e0(null,s,h,r,d)):(s.tag=0,s=Ka(null,s,h,r,d));else{if(h!=null){if(y=h.$$typeof,y===U){s.tag=11,s=Op(null,s,h,r,d);break e}else if(y===Y){s.tag=14,s=qd(null,s,h,r,d);break e}}throw s=ce(h)||h,Error(a(306,s,""))}}return s;case 0:return Ka(r,s,s.type,s.pendingProps,d);case 1:return h=s.type,y=ss(h,s.pendingProps),e0(r,s,h,y,d);case 3:e:{if(Ae(s,s.stateNode.containerInfo),r===null)throw Error(a(387));h=s.pendingProps;var x=s.memoizedState;y=x.element,Qu(r,s),Ps(s,h,null,d);var D=s.memoizedState;if(h=D.cache,Lr(s,Kn,h),h!==x.cache&&ln(s,[Kn],d,!0),$u(),h=D.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Yd(r,s,h,d);break e}else if(h!==y){y=la(Error(a(424)),s),Ro(y),s=Yd(r,s,h,d);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(zn=hs(r.firstChild),ja=s,Ft=!0,zl=null,_i=!0,d=$h(s,null,h,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ao(),h===y){s=On(r,s,d);break e}ca(r,s,h,d)}s=s.child}return s;case 26:return qs(r,s),r===null?(d=Lb(s.type,null,s.pendingProps,null))?s.memoizedState=d:Ft||(d=s.type,r=s.pendingProps,h=Bp(Ie.current).createElement(d),h[oe]=s,h[Re]=r,Ja(h,d,r),Gt(h),s.stateNode=h):s.memoizedState=Lb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return at(s),r===null&&Ft&&(h=s.stateNode=zb(s.type,s.pendingProps,Ie.current),ja=s,_i=!0,y=zn,$o(s.type)?(y1=y,zn=hs(h.firstChild)):zn=y),ca(r,s,s.pendingProps.children,d),qs(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ft&&((y=h=zn)&&(h=n8(h,s.type,s.pendingProps,_i),h!==null?(s.stateNode=h,ja=s,zn=hs(h.firstChild),_i=!1,y=!0):y=!1),y||js(s)),at(s),y=s.type,x=s.pendingProps,D=r!==null?r.memoizedProps:null,h=x.children,g1(y,x)?h=null:D!==null&&g1(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=or(r,s,ua,null,null,d),f0._currentValue=y),qs(r,s),ca(r,s,h,d),s.child;case 6:return r===null&&Ft&&((r=d=zn)&&(d=a8(d,s.pendingProps,_i),d!==null?(s.stateNode=d,ja=s,zn=null,r=!0):r=!1),r||js(s)),null;case 13:return dc(r,s,d);case 4:return Ae(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Lo(s,null,h,d):ca(r,s,h,d),s.child;case 11:return Op(r,s,s.type,s.pendingProps,d);case 7:return ca(r,s,s.pendingProps,d),s.child;case 8:return ca(r,s,s.pendingProps.children,d),s.child;case 12:return ca(r,s,s.pendingProps.children,d),s.child;case 10:return h=s.pendingProps,Lr(s,s.type,h.value),ca(r,s,h.children,d),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Us(s),y=za(y),h=h(y),s.flags|=1,ca(r,s,h,d),s.child;case 14:return qd(r,s,s.type,s.pendingProps,d);case 15:return Np(r,s,s.type,s.pendingProps,d);case 19:return Ri(r,s,d);case 31:return h=s.pendingProps,d=s.mode,h={mode:h.mode,children:h.children},r===null?(d=Fa(h,d),d.ref=s.ref,s.child=d,d.return=s,s=d):(d=yi(r.child,h),d.ref=s.ref,s.child=d,d.return=s,s=d),s;case 22:return Mp(r,s,d);case 24:return Us(s),h=za(Kn),r===null?(y=Nt(),y===null&&(y=yn,x=Oo(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=d),y=x),s.memoizedState={parent:h,cache:y},Fu(s),Lr(s,Kn,y)):((r.lanes&d)!==0&&(Qu(r,s),Ps(s,null,null,d),$u()),y=r.memoizedState,x=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Lr(s,Kn,h)):(h=x.cache,Lr(s,Kn,h),h!==y.cache&&ln(s,[Kn],d,!0))),ca(r,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Hn(r){r.flags|=4}function Qn(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!qb(s)){if(s=Er.current,s!==null&&((Yt&4194048)===Yt?Ai!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||s!==Ai))throw Ku=Ls,Xg;r.flags|=8192}}function Xt(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?en():536870912,r.lanes|=s,Zo|=s)}function ti(r,s){if(!Ft)switch(r.tailMode){case"hidden":s=r.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function tn(r){var s=r.alternate!==null&&r.alternate.child===r.child,d=0,h=0;if(s)for(var y=r.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=d,s}function t0(r,s,d){var h=s.pendingProps;switch(Ed(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(s),null;case 1:return tn(s),null;case 3:return d=s.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),xi(Kn),lt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(zs(s)?Hn(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Eh())),tn(s),null;case 26:return d=s.memoizedState,r===null?(Hn(s),d!==null?(tn(s),Qn(s,d)):(tn(s),s.flags&=-16777217)):d?d!==r.memoizedState?(Hn(s),tn(s),Qn(s,d)):(tn(s),s.flags&=-16777217):(r.memoizedProps!==h&&Hn(s),tn(s),s.flags&=-16777217),null;case 27:yt(s),d=Ie.current;var y=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Hn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return tn(s),null}r=Ve.current,zs(s)?wh(s):(r=zb(y,h,d),s.stateNode=r,Hn(s))}return tn(s),null;case 5:if(yt(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Hn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return tn(s),null}if(r=Ve.current,zs(s))wh(s);else{switch(y=Bp(Ie.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(d,{is:h.is}):y.createElement(d)}}r[oe]=s,r[Re]=h;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=r;e:switch(Ja(r,d,h),d){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hn(s)}}return tn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==h&&Hn(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ie.current,zs(s)){if(r=s.stateNode,d=s.memoizedProps,h=null,y=ja,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[oe]=s,r=!!(r.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||Ab(r.nodeValue,d)),r||js(s)}else r=Bp(r).createTextNode(h),r[oe]=s,s.stateNode=r}return tn(s),null;case 13:if(h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=zs(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[oe]=s}else Ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tn(s),y=!1}else y=Eh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(is(s),s):(is(s),null)}if(is(s),(s.flags&128)!==0)return s.lanes=d,s;if(d=h!==null,r=r!==null&&r.memoizedState!==null,d){h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)}return d!==r&&d&&(s.child.flags|=8192),Xt(s,s.updateQueue),tn(s),null;case 4:return lt(),r===null&&u1(s.stateNode.containerInfo),tn(s),null;case 10:return xi(s.type),tn(s),null;case 19:if(xe(Pt),y=s.memoizedState,y===null)return tn(s),null;if(h=(s.flags&128)!==0,x=y.rendering,x===null)if(h)ti(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=oc(r),x!==null){for(s.flags|=128,ti(y,!1),r=x.updateQueue,s.updateQueue=r,Xt(s,r),s.subtreeFlags=0,r=d,d=s.child;d!==null;)Sd(d,r),d=d.sibling;return Ee(Pt,Pt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ea()>Fl&&(s.flags|=128,h=!0,ti(y,!1),s.lanes=4194304)}else{if(!h)if(r=oc(x),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,Xt(s,r),ti(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ft)return tn(s),null}else 2*ea()-y.renderingStartTime>Fl&&d!==536870912&&(s.flags|=128,h=!0,ti(y,!1),s.lanes=4194304);y.isBackwards?(x.sibling=s.child,s.child=x):(r=y.last,r!==null?r.sibling=x:s.child=x,y.last=x)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ea(),s.sibling=null,r=Pt.current,Ee(Pt,h?r&1|2:r&1),s):(tn(s),null);case 22:case 23:return is(s),Mh(),h=s.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(d&536870912)!==0&&(s.flags&128)===0&&(tn(s),s.subtreeFlags&6&&(s.flags|=8192)):tn(s),d=s.updateQueue,d!==null&&Xt(s,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048),r!==null&&xe(es),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),xi(Kn),tn(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Cr(r,s){switch(Ed(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return xi(Kn),lt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return yt(s),null;case 13:if(is(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return xe(Pt),null;case 4:return lt(),null;case 10:return xi(s.type),null;case 22:case 23:return is(s),Mh(),r!==null&&xe(es),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return xi(Kn),null;case 25:return null;default:return null}}function hc(r,s){switch(Ed(s),s.tag){case 3:xi(Kn),lt();break;case 26:case 27:case 5:yt(s);break;case 4:lt();break;case 13:is(s);break;case 19:xe(Pt);break;case 10:xi(s.type);break;case 22:case 23:is(s),Mh(),r!==null&&xe(es);break;case 24:xi(Kn)}}function ni(r,s){try{var d=s.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var y=h.next;d=y;do{if((d.tag&r)===r){h=void 0;var x=d.create,D=d.inst;h=x(),D.destroy=h}d=d.next}while(d!==y)}}catch(k){te(s,s.return,k)}}function ka(r,s,d){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&r)===r){var D=h.inst,k=D.destroy;if(k!==void 0){D.destroy=void 0,y=s;var V=d,ue=k;try{ue()}catch(Se){te(y,V,Se)}}}h=h.next}while(h!==x)}}catch(Se){te(s,s.return,Se)}}function jp(r){var s=r.updateQueue;if(s!==null){var d=r.stateNode;try{Kg(s,d)}catch(h){te(r,r.return,h)}}}function zp(r,s,d){d.props=ss(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(h){te(r,s,h)}}function gc(r,s){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof d=="function"?r.refCleanup=d(h):d.current=h}}catch(y){te(r,s,y)}}function on(r,s){var d=r.ref,h=r.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(y){te(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){te(r,s,y)}else d.current=null}function pc(r){var s=r.type,d=r.memoizedProps,h=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(y){te(r,r.return,y)}}function Xs(r,s,d){try{var h=r.stateNode;$w(h,r.type,d,s),h[Re]=s}catch(y){te(r,r.return,y)}}function Id(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$o(r.type)||r.tag===4}function Ho(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Id(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$o(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mc(r,s,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(r),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Pp));else if(h!==4&&(h===27&&$o(r.type)&&(d=r.stateNode,s=null),r=r.child,r!==null))for(mc(r,s,d),r=r.sibling;r!==null;)mc(r,s,d),r=r.sibling}function os(r,s,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?d.insertBefore(r,s):d.appendChild(r);else if(h!==4&&(h===27&&$o(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(os(r,s,d),r=r.sibling;r!==null;)os(r,s,d),r=r.sibling}function Go(r){var s=r.stateNode,d=r.memoizedProps;try{for(var h=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Ja(s,h,d),s[oe]=r,s[Re]=d}catch(x){te(r,r.return,x)}}var ai=!1,wn=!1,Ks=!1,n0=typeof WeakSet=="function"?WeakSet:Set,kn=null;function a1(r,s){if(r=r.containerInfo,f1=Zp,r=vh(r),Ol(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var D=0,k=-1,V=-1,ue=0,Se=0,Te=r,ge=null;t:for(;;){for(var me;Te!==d||y!==0&&Te.nodeType!==3||(k=D+y),Te!==x||h!==0&&Te.nodeType!==3||(V=D+h),Te.nodeType===3&&(D+=Te.nodeValue.length),(me=Te.firstChild)!==null;)ge=Te,Te=me;for(;;){if(Te===r)break t;if(ge===d&&++ue===y&&(k=D),ge===x&&++Se===h&&(V=D),(me=Te.nextSibling)!==null)break;Te=ge,ge=Te.parentNode}Te=me}d=k===-1||V===-1?null:{start:k,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(h1={focusedElem:r,selectionRange:d},Zp=!1,kn=s;kn!==null;)if(s=kn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,kn=r;else for(;kn!==null;){switch(s=kn,x=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,d=s,y=x.memoizedProps,x=x.memoizedState,h=d.stateNode;try{var St=ss(d.type,y,d.elementType===d.type);r=h.getSnapshotBeforeUpdate(St,x),h.__reactInternalSnapshotBeforeUpdate=r}catch(gt){te(d,d.return,gt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,d=r.nodeType,d===9)m1(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":m1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,kn=r;break}kn=s.return}}function qo(r,s,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Vt(r,d),h&4&&ni(5,d);break;case 1:if(Vt(r,d),h&4)if(r=d.stateNode,s===null)try{r.componentDidMount()}catch(D){te(d,d.return,D)}else{var y=ss(d.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){te(d,d.return,D)}}h&64&&jp(d),h&512&&gc(d,d.return);break;case 3:if(Vt(r,d),h&64&&(r=d.updateQueue,r!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{Kg(r,s)}catch(D){te(d,d.return,D)}}break;case 27:s===null&&h&4&&Go(d);case 26:case 5:Vt(r,d),s===null&&h&4&&pc(d),h&512&&gc(d,d.return);break;case 12:Vt(r,d);break;case 13:Vt(r,d),h&4&&Xl(r,d),h&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Xe.bind(null,d),r8(r,d))));break;case 22:if(h=d.memoizedState!==null||ai,!h){s=s!==null&&s.memoizedState!==null||wn,y=ai;var x=wn;ai=h,(wn=s)&&!x?ri(r,d,(d.subtreeFlags&8772)!==0):Vt(r,d),ai=y,wn=x}break;case 30:break;default:Vt(r,d)}}function Xd(r){var s=r.alternate;s!==null&&(r.alternate=null,Xd(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&rt(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bn=null,_a=!1;function hr(r,s,d){for(d=d.child;d!==null;)Tr(r,s,d),d=d.sibling}function Tr(r,s,d){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ye,d)}catch{}switch(d.tag){case 26:wn||on(d,s),hr(r,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:wn||on(d,s);var h=bn,y=_a;$o(d.type)&&(bn=d.stateNode,_a=!1),hr(r,s,d),o0(d.stateNode),bn=h,_a=y;break;case 5:wn||on(d,s);case 6:if(h=bn,y=_a,bn=null,hr(r,s,d),bn=h,_a=y,bn!==null)if(_a)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(d.stateNode)}catch(x){te(d,s,x)}else try{bn.removeChild(d.stateNode)}catch(x){te(d,s,x)}break;case 18:bn!==null&&(_a?(r=bn,Db(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),m0(r)):Db(bn,d.stateNode));break;case 4:h=bn,y=_a,bn=d.stateNode.containerInfo,_a=!0,hr(r,s,d),bn=h,_a=y;break;case 0:case 11:case 14:case 15:wn||ka(2,d,s),wn||ka(4,d,s),hr(r,s,d);break;case 1:wn||(on(d,s),h=d.stateNode,typeof h.componentWillUnmount=="function"&&zp(d,s,h)),hr(r,s,d);break;case 21:hr(r,s,d);break;case 22:wn=(h=wn)||d.memoizedState!==null,hr(r,s,d),wn=h;break;default:hr(r,s,d)}}function Xl(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{m0(r)}catch(d){te(s,s.return,d)}}function a0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new n0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new n0),s;default:throw Error(a(435,r.tag))}}function Oi(r,s){var d=a0(r);s.forEach(function(h){var y=At.bind(null,r,h);d.has(h)||(d.add(h),h.then(y,y))})}function Qa(r,s){var d=s.deletions;if(d!==null)for(var h=0;h<d.length;h++){var y=d[h],x=r,D=s,k=D;e:for(;k!==null;){switch(k.tag){case 27:if($o(k.type)){bn=k.stateNode,_a=!1;break e}break;case 5:bn=k.stateNode,_a=!1;break e;case 3:case 4:bn=k.stateNode.containerInfo,_a=!0;break e}k=k.return}if(bn===null)throw Error(a(160));Tr(x,D,y),bn=null,_a=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vc(s,r),s=s.sibling}var Ua=null;function vc(r,s){var d=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qa(s,r),$n(r),h&4&&(ka(3,r,r.return),ni(3,r),ka(5,r,r.return));break;case 1:Qa(s,r),$n(r),h&512&&(wn||d===null||on(d,d.return)),h&64&&ai&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var y=Ua;if(Qa(s,r),$n(r),h&512&&(wn||d===null||on(d,d.return)),h&4){var x=d!==null?d.memoizedState:null;if(h=r.memoizedState,d===null)if(h===null)if(r.stateNode===null){e:{h=r.type,d=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[st]||x[oe]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),Ja(x,h,d),x[oe]=r,Gt(x),h=x;break e;case"link":var D=Hb("link","href",y).get(h+(d.href||""));if(D){for(var k=0;k<D.length;k++)if(x=D[k],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(k,1);break t}}x=y.createElement(h),Ja(x,h,d),y.head.appendChild(x);break;case"meta":if(D=Hb("meta","content",y).get(h+(d.content||""))){for(k=0;k<D.length;k++)if(x=D[k],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(k,1);break t}}x=y.createElement(h),Ja(x,h,d),y.head.appendChild(x);break;default:throw Error(a(468,h))}x[oe]=r,Gt(x),h=x}r.stateNode=h}else Gb(y,r.type,r.stateNode);else r.stateNode=Bb(y,h,r.memoizedProps);else x!==h?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,h===null?Gb(y,r.type,r.stateNode):Bb(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Xs(r,r.memoizedProps,d.memoizedProps)}break;case 27:Qa(s,r),$n(r),h&512&&(wn||d===null||on(d,d.return)),d!==null&&h&4&&Xs(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Qa(s,r),$n(r),h&512&&(wn||d===null||on(d,d.return)),r.flags&32){y=r.stateNode;try{xl(y,"")}catch(me){te(r,r.return,me)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Xs(r,y,d!==null?d.memoizedProps:y)),h&1024&&(Ks=!0);break;case 6:if(Qa(s,r),$n(r),h&4){if(r.stateNode===null)throw Error(a(162));h=r.memoizedProps,d=r.stateNode;try{d.nodeValue=h}catch(me){te(r,r.return,me)}}break;case 3:if(qp=null,y=Ua,Ua=Hp(s.containerInfo),Qa(s,r),Ua=y,$n(r),h&4&&d!==null&&d.memoizedState.isDehydrated)try{m0(s.containerInfo)}catch(me){te(r,r.return,me)}Ks&&(Ks=!1,Rt(r));break;case 4:h=Ua,Ua=Hp(r.stateNode.containerInfo),Qa(s,r),$n(r),Ua=h;break;case 12:Qa(s,r),$n(r);break;case 13:Qa(s,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Xo=ea()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Oi(r,h)));break;case 22:y=r.memoizedState!==null;var V=d!==null&&d.memoizedState!==null,ue=ai,Se=wn;if(ai=ue||y,wn=Se||V,Qa(s,r),wn=Se,ai=ue,$n(r),h&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(d===null||V||ai||wn||En(r)),d=null,s=r;;){if(s.tag===5||s.tag===26){if(d===null){V=d=s;try{if(x=V.stateNode,y)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{k=V.stateNode;var Te=V.memoizedProps.style,ge=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;k.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(me){te(V,V.return,me)}}}else if(s.tag===6){if(d===null){V=s;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(me){te(V,V.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=r.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Oi(r,d))));break;case 19:Qa(s,r),$n(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Oi(r,h)));break;case 30:break;case 21:break;default:Qa(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{for(var d,h=r.return;h!==null;){if(Id(h)){d=h;break}h=h.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,x=Ho(r);os(r,x,y);break;case 5:var D=d.stateNode;d.flags&32&&(xl(D,""),d.flags&=-33);var k=Ho(r);os(r,k,D);break;case 3:case 4:var V=d.stateNode.containerInfo,ue=Ho(r);mc(r,ue,V);break;default:throw Error(a(161))}}catch(Se){te(r,r.return,Se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Rt(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Rt(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Vt(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qo(r,s.alternate,s),s=s.sibling}function En(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ka(4,s,s.return),En(s);break;case 1:on(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&zp(s,s.return,d),En(s);break;case 27:o0(s.stateNode);case 26:case 5:on(s,s.return),En(s);break;case 22:s.memoizedState===null&&En(s);break;case 30:En(s);break;default:En(s)}r=r.sibling}}function ri(r,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=r,x=s,D=x.flags;switch(x.tag){case 0:case 11:case 15:ri(y,x,d),ni(4,x);break;case 1:if(ri(y,x,d),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){te(h,h.return,ue)}if(h=x,y=h.updateQueue,y!==null){var k=h.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)ct(V[y],k)}catch(ue){te(h,h.return,ue)}}d&&D&64&&jp(x),gc(x,x.return);break;case 27:Go(x);case 26:case 5:ri(y,x,d),d&&h===null&&D&4&&pc(x),gc(x,x.return);break;case 12:ri(y,x,d);break;case 13:ri(y,x,d),d&&D&4&&Xl(y,x);break;case 22:x.memoizedState===null&&ri(y,x,d),gc(x,x.return);break;case 30:break;default:ri(y,x,d)}s=s.sibling}}function Fs(r,s){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Wr(d))}function us(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Wr(r))}function Ar(r,s,d,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vo(r,s,d,h),s=s.sibling}function Vo(r,s,d,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Ar(r,s,d,h),y&2048&&ni(9,s);break;case 1:Ar(r,s,d,h);break;case 3:Ar(r,s,d,h),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Wr(r)));break;case 12:if(y&2048){Ar(r,s,d,h),r=s.stateNode;try{var x=s.memoizedProps,D=x.id,k=x.onPostCommit;typeof k=="function"&&k(D,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){te(s,s.return,V)}}else Ar(r,s,d,h);break;case 13:Ar(r,s,d,h);break;case 23:break;case 22:x=s.stateNode,D=s.alternate,s.memoizedState!==null?x._visibility&2?Ar(r,s,d,h):yc(r,s):x._visibility&2?Ar(r,s,d,h):(x._visibility|=2,ii(r,s,d,h,(s.subtreeFlags&10256)!==0)),y&2048&&Fs(D,s);break;case 24:Ar(r,s,d,h),y&2048&&us(s.alternate,s);break;default:Ar(r,s,d,h)}}function ii(r,s,d,h,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=r,D=s,k=d,V=h,ue=D.flags;switch(D.tag){case 0:case 11:case 15:ii(x,D,k,V,y),ni(8,D);break;case 23:break;case 22:var Se=D.stateNode;D.memoizedState!==null?Se._visibility&2?ii(x,D,k,V,y):yc(x,D):(Se._visibility|=2,ii(x,D,k,V,y)),y&&ue&2048&&Fs(D.alternate,D);break;case 24:ii(x,D,k,V,y),y&&ue&2048&&us(D.alternate,D);break;default:ii(x,D,k,V,y)}s=s.sibling}}function yc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=r,h=s,y=h.flags;switch(h.tag){case 22:yc(d,h),y&2048&&Fs(h.alternate,h);break;case 24:yc(d,h),y&2048&&us(h.alternate,h);break;default:yc(d,h)}s=s.sibling}}var Qs=8192;function Kl(r){if(r.subtreeFlags&Qs)for(r=r.child;r!==null;)r0(r),r=r.sibling}function r0(r){switch(r.tag){case 26:Kl(r),r.flags&Qs&&r.memoizedState!==null&&v8(Ua,r.memoizedState,r.memoizedProps);break;case 5:Kl(r);break;case 3:case 4:var s=Ua;Ua=Hp(r.stateNode.containerInfo),Kl(r),Ua=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Qs,Qs=16777216,Kl(r),Qs=s):Kl(r));break;default:Kl(r)}}function kp(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ni(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var h=s[d];kn=h,i0(h,r)}kp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yo(r),r=r.sibling}function Yo(r){switch(r.tag){case 0:case 11:case 15:Ni(r),r.flags&2048&&ka(9,r,r.return);break;case 3:Ni(r);break;case 12:Ni(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,cs(r)):Ni(r);break;default:Ni(r)}}function cs(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var h=s[d];kn=h,i0(h,r)}kp(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ka(8,s,s.return),cs(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,cs(s));break;default:cs(s)}r=r.sibling}}function i0(r,s){for(;kn!==null;){var d=kn;switch(d.tag){case 0:case 11:case 15:ka(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wr(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,kn=h;else e:for(d=r;kn!==null;){h=kn;var y=h.sibling,x=h.return;if(Xd(h),h===d){kn=null;break e}if(y!==null){y.return=x,kn=y;break e}kn=x}}}var Br={getCacheForType:function(r){var s=za(Kn),d=s.data.get(r);return d===void 0&&(d=r(),s.data.set(r,d)),d}},Mi=typeof WeakMap=="function"?WeakMap:Map,vt=0,yn=null,Lt=null,Yt=0,_t=0,$a=null,La=!1,Cn=!1,bc=!1,Di=0,Dt=0,_n=0,Wn=0,Rr=0,Sa=0,Zo=0,$s=null,xa=null,Io=!1,Xo=0,Fl=1/0,Ws=null,Js=null,dt=0,Qt=null,Et=null,jt=0,un=0,Wa=null,ds=null,ji=0,_c=null;function Zn(){if((vt&2)!==0&&Yt!==0)return Yt&-Yt;if(B.T!==null){var r=No;return r!==0?r:i1()}return bl()}function Gn(){Sa===0&&(Sa=(Yt&536870912)===0||Ft?ke():536870912);var r=Er.current;return r!==null&&(r.flags|=32),Sa}function Jn(r,s,d){(r===yn&&(_t===2||_t===9)||r.cancelPendingCommit!==null)&&(nl(r,0),Or(r,Yt,Sa,!1)),rn(r,d),((vt&2)===0||r!==yn)&&(r===yn&&((vt&2)===0&&(Wn|=d),Dt===4&&Or(r,Yt,Sa,!1)),Je(r))}function el(r,s,d){if((vt&6)!==0)throw Error(a(327));var h=!d&&(s&124)===0&&(s&r.expiredLanes)===0||vr(r,s),y=h?Fo(r,s):aa(r,s,!0),x=h;do{if(y===0){Cn&&!h&&Or(r,s,0,!1);break}else{if(d=r.current.alternate,x&&!Hr(d)){y=aa(r,s,!1),x=!1;continue}if(y===2){if(x=s,r.errorRecoveryDisabledLanes&x)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var k=r;y=$s;var V=k.current.memoizedState.isDehydrated;if(V&&(nl(k,D).flags|=256),D=aa(k,D,!1),D!==2){if(bc&&!V){k.errorRecoveryDisabledLanes|=x,Wn|=x,y=4;break e}x=xa,xa=y,x!==null&&(xa===null?xa=x:xa.push.apply(xa,x))}y=D}if(x=!1,y!==2)continue}}if(y===1){nl(r,0),Or(r,s,0,!0);break}e:{switch(h=r,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Or(h,s,Sa,!La);break e;case 2:xa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Xo+300-ea(),10<y)){if(Or(h,s,Sa,!La),Mr(h,0,!0)!==0)break e;h.timeoutHandle=Nb(Kd.bind(null,h,d,xa,Ws,Io,s,Sa,Wn,Zo,La,x,2,-0,0),y);break e}Kd(h,d,xa,Ws,Io,s,Sa,Wn,Zo,La,x,0,-0,0)}}break}while(!0);Je(r)}function Kd(r,s,d,h,y,x,D,k,V,ue,Se,Te,ge,me){if(r.timeoutHandle=-1,Te=s.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(d0={stylesheets:null,count:0,unsuspend:m8},r0(s),Te=y8(),Te!==null)){r.cancelPendingCommit=Te(o.bind(null,r,s,x,d,h,y,D,k,V,Se,1,ge,me)),Or(r,x,D,!ue);return}o(r,s,x,d,h,y,D,k,V)}function Hr(r){for(var s=r;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var y=d[h],x=y.getSnapshot;y=y.value;try{if(!Sr(x(),y))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Or(r,s,d,h){s&=~Rr,s&=~Wn,r.suspendedLanes|=s,r.pingedLanes&=~s,h&&(r.warmLanes|=s),h=r.expirationTimes;for(var y=s;0<y;){var x=31-an(y),D=1<<x;h[x]=-1,y&=~D}d!==0&&ws(r,d,s)}function tl(){return(vt&6)===0?(fn(0),!1):!0}function Pa(){if(Lt!==null){if(_t===0)var r=Lt.return;else r=Lt,Si=ks=null,jh(r),Uo=null,Xa=0,r=Lt;for(;r!==null;)hc(r.alternate,r),r=r.return;Lt=null}}function nl(r,s){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,Jw(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Pa(),yn=r,Lt=d=yi(r.current,null),Yt=s,_t=0,$a=null,La=!1,Cn=vr(r,s),bc=!1,Zo=Sa=Rr=Wn=_n=Dt=0,xa=$s=null,Io=!1,(s&8)!==0&&(s|=s&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=s;0<h;){var y=31-an(h),x=1<<y;s|=r[y],h&=~x}return Di=s,xr(),d}function Fd(r,s){Mt=null,B.H=Pd,s===Bl||s===Hl?(s=Rh(),_t=3):s===Xg?(s=Rh(),_t=4):_t=s===Rp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$a=s,Lt===null&&(Dt=1,Hd(r,la(s,r.current)))}function Ko(){var r=B.H;return B.H=Pd,r===null?Pd:r}function Sc(){var r=B.A;return B.A=Br,r}function zi(){Dt=4,La||(Yt&4194048)!==Yt&&Er.current!==null||(Cn=!0),(_n&134217727)===0&&(Wn&134217727)===0||yn===null||Or(yn,Yt,Sa,!1)}function aa(r,s,d){var h=vt;vt|=2;var y=Ko(),x=Sc();(yn!==r||Yt!==s)&&(Ws=null,nl(r,s)),s=!1;var D=Dt;e:do try{if(_t!==0&&Lt!==null){var k=Lt,V=$a;switch(_t){case 8:Pa(),D=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(s=!0);var ue=_t;if(_t=0,$a=null,Ql(r,k,V,ue),d&&Cn){D=0;break e}break;default:ue=_t,_t=0,$a=null,Ql(r,k,V,ue)}}al(),D=Dt;break}catch(Se){Fd(r,Se)}while(!0);return s&&r.shellSuspendCounter++,Si=ks=null,vt=h,B.H=y,B.A=x,Lt===null&&(yn=null,Yt=0,xr()),D}function al(){for(;Lt!==null;)Qd(Lt)}function Fo(r,s){var d=vt;vt|=2;var h=Ko(),y=Sc();yn!==r||Yt!==s?(Ws=null,Fl=ea()+500,nl(r,s)):Cn=vr(r,s);e:do try{if(_t!==0&&Lt!==null){s=Lt;var x=$a;t:switch(_t){case 1:_t=0,$a=null,Ql(r,s,x,1);break;case 2:case 9:if(Gl(x)){_t=0,$a=null,$d(s);break}s=function(){_t!==2&&_t!==9||yn!==r||(_t=7),Je(r)},x.then(s,s);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Gl(x)?(_t=0,$a=null,$d(s)):(_t=0,$a=null,Ql(r,s,x,7));break;case 5:var D=null;switch(Lt.tag){case 26:D=Lt.memoizedState;case 5:case 27:var k=Lt;if(!D||qb(D)){_t=0,$a=null;var V=k.sibling;if(V!==null)Lt=V;else{var ue=k.return;ue!==null?(Lt=ue,rl(ue)):Lt=null}break t}}_t=0,$a=null,Ql(r,s,x,5);break;case 6:_t=0,$a=null,Ql(r,s,x,6);break;case 8:Pa(),Dt=6;break e;default:throw Error(a(462))}}Qo();break}catch(Se){Fd(r,Se)}while(!0);return Si=ks=null,B.H=h,B.A=y,vt=d,Lt!==null?0:(yn=null,Yt=0,xr(),Dt)}function Qo(){for(;Lt!==null&&!Rn();)Qd(Lt)}function Qd(r){var s=fc(r.alternate,r,Di);r.memoizedProps=r.pendingProps,s===null?rl(r):Lt=s}function $d(r){var s=r,d=s.alternate;switch(s.tag){case 15:case 0:s=Vd(d,s,s.pendingProps,s.type,void 0,Yt);break;case 11:s=Vd(d,s,s.pendingProps,s.type.render,s.ref,Yt);break;case 5:jh(s);default:hc(d,s),s=Lt=Sd(s,Di),s=fc(d,s,Di)}r.memoizedProps=r.pendingProps,s===null?rl(r):Lt=s}function Ql(r,s,d,h){Si=ks=null,jh(s),Uo=null,Xa=0;var y=s.return;try{if(n1(r,y,s,d,Yt)){Dt=1,Hd(r,la(d,r.current)),Lt=null;return}}catch(x){if(y!==null)throw Lt=y,x;Dt=1,Hd(r,la(d,r.current)),Lt=null;return}s.flags&32768?(Ft||h===1?r=!0:Cn||(Yt&536870912)!==0?r=!1:(La=r=!0,(h===2||h===9||h===3||h===6)&&(h=Er.current,h!==null&&h.tag===13&&(h.flags|=16384))),Wd(s,r)):rl(s)}function rl(r){var s=r;do{if((s.flags&32768)!==0){Wd(s,La);return}r=s.return;var d=t0(s.alternate,s,Di);if(d!==null){Lt=d;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=r}while(s!==null);Dt===0&&(Dt=5)}function Wd(r,s){do{var d=Cr(r.alternate,r);if(d!==null){d.flags&=32767,Lt=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(r=r.sibling,r!==null)){Lt=r;return}Lt=r=d}while(r!==null);Dt=6,Lt=null}function o(r,s,d,h,y,x,D,k,V){r.cancelPendingCommit=null;do A();while(dt!==0);if((vt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(x=s.lanes|s.childLanes,x|=Hu,ta(r,d,x,D,k,V),r===yn&&(Lt=yn=null,Yt=0),Et=s,Qt=r,jt=d,un=x,Wa=y,ds=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Gr(re,function(){return P(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,y=se.p,se.p=2,D=vt,vt|=4;try{a1(r,s,d)}finally{vt=D,se.p=y,B.T=h}}dt=1,c(),p(),b()}}function c(){if(dt===1){dt=0;var r=Qt,s=Et,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var h=se.p;se.p=2;var y=vt;vt|=4;try{vc(s,r);var x=h1,D=vh(r.containerInfo),k=x.focusedElem,V=x.selectionRange;if(D!==k&&k&&k.ownerDocument&&mh(k.ownerDocument.documentElement,k)){if(V!==null&&Ol(k)){var ue=V.start,Se=V.end;if(Se===void 0&&(Se=ue),"selectionStart"in k)k.selectionStart=ue,k.selectionEnd=Math.min(Se,k.value.length);else{var Te=k.ownerDocument||document,ge=Te&&Te.defaultView||window;if(ge.getSelection){var me=ge.getSelection(),St=k.textContent.length,gt=Math.min(V.start,St),An=V.end===void 0?gt:Math.min(V.end,St);!me.extend&&gt>An&&(D=An,An=gt,gt=D);var J=Qi(k,gt),F=Qi(k,An);if(J&&F&&(me.rangeCount!==1||me.anchorNode!==J.node||me.anchorOffset!==J.offset||me.focusNode!==F.node||me.focusOffset!==F.offset)){var le=Te.createRange();le.setStart(J.node,J.offset),me.removeAllRanges(),gt>An?(me.addRange(le),me.extend(F.node,F.offset)):(le.setEnd(F.node,F.offset),me.addRange(le))}}}}for(Te=[],me=k;me=me.parentNode;)me.nodeType===1&&Te.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Te.length;k++){var we=Te[k];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Zp=!!f1,h1=f1=null}finally{vt=y,se.p=h,B.T=d}}r.current=s,dt=2}}function p(){if(dt===2){dt=0;var r=Qt,s=Et,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var h=se.p;se.p=2;var y=vt;vt|=4;try{qo(r,s.alternate,s)}finally{vt=y,se.p=h,B.T=d}}dt=3}}function b(){if(dt===4||dt===3){dt=0,ma();var r=Qt,s=Et,d=jt,h=ds;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dt=5:(dt=0,Et=Qt=null,w(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Js=null),go(d),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ye,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,y=se.p,se.p=2,B.T=null;try{for(var x=r.onRecoverableError,D=0;D<h.length;D++){var k=h[D];x(k.value,{componentStack:k.stack})}}finally{B.T=s,se.p=y}}(jt&3)!==0&&A(),Je(r),y=r.pendingLanes,(d&4194090)!==0&&(y&42)!==0?r===_c?ji++:(ji=0,_c=r):ji=0,fn(0)}}function w(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Wr(s)))}function A(r){return c(),p(),b(),P()}function P(){if(dt!==5)return!1;var r=Qt,s=un;un=0;var d=go(jt),h=B.T,y=se.p;try{se.p=32>d?32:d,B.T=null,d=Wa,Wa=null;var x=Qt,D=jt;if(dt=0,Et=Qt=null,jt=0,(vt&6)!==0)throw Error(a(331));var k=vt;if(vt|=4,Yo(x.current),Vo(x,x.current,D,d),vt=k,fn(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ye,x)}catch{}return!0}finally{se.p=y,B.T=h,w(r,s)}}function Z(r,s,d){s=la(d,s),s=Po(r.stateNode,s,2),r=Ia(r,s,2),r!==null&&(rn(r,2),Je(r))}function te(r,s,d){if(r.tag===3)Z(r,r,d);else for(;s!==null;){if(s.tag===3){Z(s,r,d);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Js===null||!Js.has(h))){r=la(d,r),d=cc(2),h=Ia(s,d,2),h!==null&&(Gd(d,h,s,r),rn(h,2),Je(h));break}}s=s.return}}function Ne(r,s,d){var h=r.pingCache;if(h===null){h=r.pingCache=new Mi;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(d)||(bc=!0,y.add(d),r=Ue.bind(null,r,s,d),s.then(r,r))}function Ue(r,s,d){var h=r.pingCache;h!==null&&h.delete(s),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,yn===r&&(Yt&d)===d&&(Dt===4||Dt===3&&(Yt&62914560)===Yt&&300>ea()-Xo?(vt&2)===0&&nl(r,0):Rr|=d,Zo===Yt&&(Zo=0)),Je(r)}function Ze(r,s){s===0&&(s=en()),r=vi(r,s),r!==null&&(rn(r,s),Je(r))}function Xe(r){var s=r.memoizedState,d=0;s!==null&&(d=s.retryLane),Ze(r,d)}function At(r,s){var d=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(d=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),Ze(r,d)}function Gr(r,s){return Kt(r,s)}var il=null,qr=null,de=!1,$=!1,ye=!1,De=0;function Je(r){r!==qr&&r.next===null&&(qr===null?il=qr=r:qr=qr.next=r),$=!0,de||(de=!0,r1())}function fn(r,s){if(!ye&&$){ye=!0;do for(var d=!1,h=il;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var D=h.suspendedLanes,k=h.pingedLanes;x=(1<<31-an(42|r)+1)-1,x&=y&~(D&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,fs(h,x))}else x=Yt,x=Mr(h,h===yn?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||vr(h,x)||(d=!0,fs(h,x));h=h.next}while(d);ye=!1}}function pt(){$t()}function $t(){$=de=!1;var r=0;De!==0&&(Ww()&&(r=De),De=0);for(var s=ea(),d=null,h=il;h!==null;){var y=h.next,x=ra(h,s);x===0?(h.next=null,d===null?il=y:d.next=y,y===null&&(qr=d)):(d=h,(r!==0||(x&3)!==0)&&($=!0)),h=y}fn(r)}function ra(r,s){for(var d=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var D=31-an(x),k=1<<D,V=y[D];V===-1?((k&d)===0||(k&h)!==0)&&(y[D]=Ce(k,s)):V<=s&&(r.expiredLanes|=k),x&=~k}if(s=yn,d=Yt,d=Mr(r,r===s?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,d===0||r===s&&(_t===2||_t===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&gn(h),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||vr(r,d)){if(s=d&-d,s===r.callbackPriority)return s;switch(h!==null&&gn(h),go(d)){case 2:case 8:d=X;break;case 32:d=re;break;case 268435456:d=Be;break;default:d=re}return h=Wt.bind(null,r),d=Kt(d,h),r.callbackPriority=s,r.callbackNode=d,s}return h!==null&&h!==null&&gn(h),r.callbackPriority=2,r.callbackNode=null,2}function Wt(r,s){if(dt!==0&&dt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(A()&&r.callbackNode!==d)return null;var h=Yt;return h=Mr(r,r===yn?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(el(r,h,s),ra(r,ea()),r.callbackNode!=null&&r.callbackNode===d?Wt.bind(null,r):null)}function fs(r,s){if(A())return null;el(r,s,!0)}function r1(){e8(function(){(vt&6)!==0?Kt(pr,pt):$t()})}function i1(){return De===0&&(De=ke()),De}function Sb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ed(""+r)}function xb(r,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,r.id&&d.setAttribute("form",r.id),s.parentNode.insertBefore(d,s),r=new FormData(r),d.parentNode.removeChild(d),r}function Zw(r,s,d,h,y){if(s==="submit"&&d&&d.stateNode===y){var x=Sb((y[Re]||null).action),D=h.submitter;D&&(s=(s=D[Re]||null)?Sb(s.formAction):D.getAttribute("formAction"),s!==null&&(x=s,D=null));var k=new ju("action","action",null,h,y);r.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(De!==0){var V=D?xb(y,D):new FormData(y);Zh(d,{pending:!0,data:V,method:y.method,action:x},null,V)}}else typeof x=="function"&&(k.preventDefault(),V=D?xb(y,D):new FormData(y),Zh(d,{pending:!0,data:V,method:y.method,action:x},x,V))},currentTarget:y}]})}}for(var s1=0;s1<Ma.length;s1++){var l1=Ma[s1],Iw=l1.toLowerCase(),Xw=l1[0].toUpperCase()+l1.slice(1);zr(Iw,"on"+Xw)}zr(yh,"onAnimationEnd"),zr(jr,"onAnimationIteration"),zr(_d,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Vg,"onTransitionRun"),zr(Qv,"onTransitionStart"),zr(bh,"onTransitionCancel"),zr(Na,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var s0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(s0));function wb(r,s){s=(s&4)!==0;for(var d=0;d<r.length;d++){var h=r[d],y=h.event;h=h.listeners;e:{var x=void 0;if(s)for(var D=h.length-1;0<=D;D--){var k=h[D],V=k.instance,ue=k.currentTarget;if(k=k.listener,V!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=ue;try{x(y)}catch(Se){ls(Se)}y.currentTarget=null,x=V}else for(D=0;D<h.length;D++){if(k=h[D],V=k.instance,ue=k.currentTarget,k=k.listener,V!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=ue;try{x(y)}catch(Se){ls(Se)}y.currentTarget=null,x=V}}}}function Zt(r,s){var d=s[et];d===void 0&&(d=s[et]=new Set);var h=r+"__bubble";d.has(h)||(Eb(s,r,2,!1),d.add(h))}function o1(r,s,d){var h=0;s&&(h|=4),Eb(d,r,h,s)}var Up="_reactListening"+Math.random().toString(36).slice(2);function u1(r){if(!r[Up]){r[Up]=!0,pn.forEach(function(d){d!=="selectionchange"&&(Kw.has(d)||o1(d,!1,r),o1(d,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Up]||(s[Up]=!0,o1("selectionchange",!1,s))}}function Eb(r,s,d,h){switch(Kb(s)){case 2:var y=S8;break;case 8:y=x8;break;default:y=w1}d=y.bind(null,s,d,r),y=void 0,!nd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(s,d,{capture:!0,passive:y}):r.addEventListener(s,d,!0):y!==void 0?r.addEventListener(s,d,{passive:y}):r.addEventListener(s,d,!1)}function c1(r,s,d,h,y){var x=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var k=h.stateNode.containerInfo;if(k===y)break;if(D===4)for(D=h.return;D!==null;){var V=D.tag;if((V===3||V===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;k!==null;){if(D=Fe(k),D===null)return;if(V=D.tag,V===5||V===6||V===26||V===27){h=x=D;continue e}k=k.parentNode}}h=h.return}rh(function(){var ue=x,Se=Ts(d),Te=[];e:{var ge=_h.get(r);if(ge!==void 0){var me=ju,St=r;switch(r){case"keypress":if(yo(d)===0)break e;case"keydown":case"keyup":me=od;break;case"focusin":St="focus",me=Cl;break;case"focusout":St="blur",me=Cl;break;case"beforeblur":case"afterblur":me=Cl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=jg;break;case yh:case jr:case _d:me=Ag;break;case Na:me=ba;break;case"scroll":case"scrollend":me=Iv;break;case"wheel":me=kg;break;case"copy":case"cut":case"paste":me=As;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ud;break;case"toggle":case"beforetoggle":me=Lg}var gt=(s&4)!==0,An=!gt&&(r==="scroll"||r==="scrollend"),J=gt?ge!==null?ge+"Capture":null:ge;gt=[];for(var F=ue,le;F!==null;){var we=F;if(le=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||le===null||J===null||(we=mo(F,J),we!=null&&gt.push(l0(F,we,le))),An)break;F=F.return}0<gt.length&&(ge=new me(ge,St,null,d,Se),Te.push({event:ge,listeners:gt}))}}if((s&7)===0){e:{if(ge=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ge&&d!==td&&(St=d.relatedTarget||d.fromElement)&&(Fe(St)||St[Le]))break e;if((me||ge)&&(ge=Se.window===Se?Se:(ge=Se.ownerDocument)?ge.defaultView||ge.parentWindow:window,me?(St=d.relatedTarget||d.toElement,me=ue,St=St?Fe(St):null,St!==null&&(An=l(St),gt=St.tag,St!==An||gt!==5&&gt!==27&&gt!==6)&&(St=null)):(me=null,St=ue),me!==St)){if(gt=zu,we="onMouseLeave",J="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(gt=ud,we="onPointerLeave",J="onPointerEnter",F="pointer"),An=me==null?ge:sn(me),le=St==null?ge:sn(St),ge=new gt(we,F+"leave",me,d,Se),ge.target=An,ge.relatedTarget=le,we=null,Fe(Se)===ue&&(gt=new gt(J,F+"enter",St,d,Se),gt.target=le,gt.relatedTarget=An,we=gt),An=we,me&&St)t:{for(gt=me,J=St,F=0,le=gt;le;le=Jd(le))F++;for(le=0,we=J;we;we=Jd(we))le++;for(;0<F-le;)gt=Jd(gt),F--;for(;0<le-F;)J=Jd(J),le--;for(;F--;){if(gt===J||J!==null&&gt===J.alternate)break t;gt=Jd(gt),J=Jd(J)}gt=null}else gt=null;me!==null&&Cb(Te,ge,me,gt,!1),St!==null&&An!==null&&Cb(Te,An,St,gt,!0)}}e:{if(ge=ue?sn(ue):window,me=ge.nodeName&&ge.nodeName.toLowerCase(),me==="select"||me==="input"&&ge.type==="file")var tt=rr;else if(hd(ge))if(gh)tt=Bn;else{tt=vd;var Ht=Gg}else me=ge.nodeName,!me||me.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?ue&&Jc(ue.elementType)&&(tt=rr):tt=Lu;if(tt&&(tt=tt(r,ue))){hh(Te,tt,d,Se);break e}Ht&&Ht(r,ge,ue),r==="focusout"&&ue&&ge.type==="number"&&ue.memoizedProps.value!=null&&Wc(ge,"number",ge.value)}switch(Ht=ue?sn(ue):window,r){case"focusin":(hd(Ht)||Ht.contentEditable==="true")&&(Nl=Ht,Pu=ue,Eo=null);break;case"focusout":Eo=Pu=Nl=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,yd(Te,d,Se);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":yd(Te,d,Se)}var ot;if(So)e:{switch(r){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Rs?dd(r,d)&&(mt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(mt="onCompositionStart");mt&&(uh&&d.locale!=="ko"&&(Rs||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Rs&&(ot=ih()):(Zi=Se,Nu="value"in Zi?Zi.value:Zi.textContent,Rs=!0)),Ht=Lp(ue,mt),0<Ht.length&&(mt=new Ki(mt,r,null,d,Se),Te.push({event:mt,listeners:Ht}),ot?mt.data=ot:(ot=dh(d),ot!==null&&(mt.data=ot)))),(ot=Bg?fd(r,d):fh(r,d))&&(mt=Lp(ue,"onBeforeInput"),0<mt.length&&(Ht=new Ki("onBeforeInput","beforeinput",null,d,Se),Te.push({event:Ht,listeners:mt}),Ht.data=ot)),Zw(Te,r,ue,d,Se)}wb(Te,s)})}function l0(r,s,d){return{instance:r,listener:s,currentTarget:d}}function Lp(r,s){for(var d=s+"Capture",h=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=mo(r,d),y!=null&&h.unshift(l0(r,y,x)),y=mo(r,s),y!=null&&h.push(l0(r,y,x))),r.tag===3)return h;r=r.return}return[]}function Jd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cb(r,s,d,h,y){for(var x=s._reactName,D=[];d!==null&&d!==h;){var k=d,V=k.alternate,ue=k.stateNode;if(k=k.tag,V!==null&&V===h)break;k!==5&&k!==26&&k!==27||ue===null||(V=ue,y?(ue=mo(d,x),ue!=null&&D.unshift(l0(d,ue,V))):y||(ue=mo(d,x),ue!=null&&D.push(l0(d,ue,V)))),d=d.return}D.length!==0&&r.push({event:s,listeners:D})}var Fw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function Tb(r){return(typeof r=="string"?r:""+r).replace(Fw,`
`).replace(Qw,"")}function Ab(r,s){return s=Tb(s),Tb(r)===s}function Pp(){}function Tn(r,s,d,h,y,x){switch(d){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||xl(r,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&xl(r,""+h);break;case"className":Qr(r,"class",h);break;case"tabIndex":Qr(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(r,d,h);break;case"style":ah(r,h,x);break;case"data":if(s!=="object"){Qr(r,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||d!=="href")){r.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=ed(""+h),r.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(s!=="input"&&Tn(r,s,"name",y.name,y,null),Tn(r,s,"formEncType",y.formEncType,y,null),Tn(r,s,"formMethod",y.formMethod,y,null),Tn(r,s,"formTarget",y.formTarget,y,null)):(Tn(r,s,"encType",y.encType,y,null),Tn(r,s,"method",y.method,y,null),Tn(r,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=ed(""+h),r.setAttribute(d,h);break;case"onClick":h!=null&&(r.onclick=Pp);break;case"onScroll":h!=null&&Zt("scroll",r);break;case"onScrollEnd":h!=null&&Zt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}d=ed(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""+h):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":h===!0?r.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,h):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(d,h):r.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(d):r.setAttribute(d,h);break;case"popover":Zt("beforetoggle",r),Zt("toggle",r),ar(r,"popover",h);break;case"xlinkActuate":Oa(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Oa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Oa(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Oa(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Oa(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Oa(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Oa(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Oa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Oa(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ar(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=wg.get(d)||d,ar(r,d,h))}}function d1(r,s,d,h,y,x){switch(d){case"style":ah(r,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"children":typeof h=="string"?xl(r,h):(typeof h=="number"||typeof h=="bigint")&&xl(r,""+h);break;case"onScroll":h!=null&&Zt("scroll",r);break;case"onScrollEnd":h!=null&&Zt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Pp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),s=d.slice(2,y?d.length-7:void 0),x=r[Re]||null,x=x!=null?x[d]:null,typeof x=="function"&&r.removeEventListener(s,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(s,h,y);break e}d in r?r[d]=h:h===!0?r.setAttribute(d,""):ar(r,d,h)}}}function Ja(r,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",r),Zt("load",r);var h=!1,y=!1,x;for(x in d)if(d.hasOwnProperty(x)){var D=d[x];if(D!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Tn(r,s,x,D,d,null)}}y&&Tn(r,s,"srcSet",d.srcSet,d,null),h&&Tn(r,s,"src",d.src,d,null);return;case"input":Zt("invalid",r);var k=x=D=y=null,V=null,ue=null;for(h in d)if(d.hasOwnProperty(h)){var Se=d[h];if(Se!=null)switch(h){case"name":y=Se;break;case"type":D=Se;break;case"checked":V=Se;break;case"defaultChecked":ue=Se;break;case"value":x=Se;break;case"defaultValue":k=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,s));break;default:Tn(r,s,h,Se,d,null)}}$c(r,x,k,V,ue,D,y,!1),Au(r);return;case"select":Zt("invalid",r),h=D=x=null;for(y in d)if(d.hasOwnProperty(y)&&(k=d[y],k!=null))switch(y){case"value":x=k;break;case"defaultValue":D=k;break;case"multiple":h=k;default:Tn(r,s,y,k,d,null)}s=x,d=D,r.multiple=!!h,s!=null?po(r,!!h,s,!1):d!=null&&po(r,!!h,d,!0);return;case"textarea":Zt("invalid",r),x=y=h=null;for(D in d)if(d.hasOwnProperty(D)&&(k=d[D],k!=null))switch(D){case"value":h=k;break;case"defaultValue":y=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Tn(r,s,D,k,d,null)}eh(r,h,y,x),Au(r);return;case"option":for(V in d)if(d.hasOwnProperty(V)&&(h=d[V],h!=null))switch(V){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tn(r,s,V,h,d,null)}return;case"dialog":Zt("beforetoggle",r),Zt("toggle",r),Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":Zt("load",r);break;case"video":case"audio":for(h=0;h<s0.length;h++)Zt(s0[h],r);break;case"image":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"embed":case"source":case"link":Zt("error",r),Zt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(h=d[ue],h!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Tn(r,s,ue,h,d,null)}return;default:if(Jc(s)){for(Se in d)d.hasOwnProperty(Se)&&(h=d[Se],h!==void 0&&d1(r,s,Se,h,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(h=d[k],h!=null&&Tn(r,s,k,h,d,null))}function $w(r,s,d,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,D=null,k=null,V=null,ue=null,Se=null;for(me in d){var Te=d[me];if(d.hasOwnProperty(me)&&Te!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":V=Te;default:h.hasOwnProperty(me)||Tn(r,s,me,null,h,Te)}}for(var ge in h){var me=h[ge];if(Te=d[ge],h.hasOwnProperty(ge)&&(me!=null||Te!=null))switch(ge){case"type":x=me;break;case"name":y=me;break;case"checked":ue=me;break;case"defaultChecked":Se=me;break;case"value":D=me;break;case"defaultValue":k=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,s));break;default:me!==Te&&Tn(r,s,ge,me,h,Te)}}Qc(r,D,k,V,ue,Se,x,y);return;case"select":me=D=k=ge=null;for(x in d)if(V=d[x],d.hasOwnProperty(x)&&V!=null)switch(x){case"value":break;case"multiple":me=V;default:h.hasOwnProperty(x)||Tn(r,s,x,null,h,V)}for(y in h)if(x=h[y],V=d[y],h.hasOwnProperty(y)&&(x!=null||V!=null))switch(y){case"value":ge=x;break;case"defaultValue":k=x;break;case"multiple":D=x;default:x!==V&&Tn(r,s,y,x,h,V)}s=k,d=D,h=me,ge!=null?po(r,!!d,ge,!1):!!h!=!!d&&(s!=null?po(r,!!d,s,!0):po(r,!!d,d?[]:"",!1));return;case"textarea":me=ge=null;for(k in d)if(y=d[k],d.hasOwnProperty(k)&&y!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Tn(r,s,k,null,h,y)}for(D in h)if(y=h[D],x=d[D],h.hasOwnProperty(D)&&(y!=null||x!=null))switch(D){case"value":ge=y;break;case"defaultValue":me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&Tn(r,s,D,y,h,x)}Jf(r,ge,me);return;case"option":for(var St in d)if(ge=d[St],d.hasOwnProperty(St)&&ge!=null&&!h.hasOwnProperty(St))switch(St){case"selected":r.selected=!1;break;default:Tn(r,s,St,null,h,ge)}for(V in h)if(ge=h[V],me=d[V],h.hasOwnProperty(V)&&ge!==me&&(ge!=null||me!=null))switch(V){case"selected":r.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Tn(r,s,V,ge,h,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in d)ge=d[gt],d.hasOwnProperty(gt)&&ge!=null&&!h.hasOwnProperty(gt)&&Tn(r,s,gt,null,h,ge);for(ue in h)if(ge=h[ue],me=d[ue],h.hasOwnProperty(ue)&&ge!==me&&(ge!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,s));break;default:Tn(r,s,ue,ge,h,me)}return;default:if(Jc(s)){for(var An in d)ge=d[An],d.hasOwnProperty(An)&&ge!==void 0&&!h.hasOwnProperty(An)&&d1(r,s,An,void 0,h,ge);for(Se in h)ge=h[Se],me=d[Se],!h.hasOwnProperty(Se)||ge===me||ge===void 0&&me===void 0||d1(r,s,Se,ge,h,me);return}}for(var J in d)ge=d[J],d.hasOwnProperty(J)&&ge!=null&&!h.hasOwnProperty(J)&&Tn(r,s,J,null,h,ge);for(Te in h)ge=h[Te],me=d[Te],!h.hasOwnProperty(Te)||ge===me||ge==null&&me==null||Tn(r,s,Te,ge,h,me)}var f1=null,h1=null;function Bp(r){return r.nodeType===9?r:r.ownerDocument}function Rb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function g1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var p1=null;function Ww(){var r=window.event;return r&&r.type==="popstate"?r===p1?!1:(p1=r,!0):(p1=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,Jw=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,e8=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(r){return Mb.resolve(null).then(r).catch(t8)}:Nb;function t8(r){setTimeout(function(){throw r})}function $o(r){return r==="head"}function Db(r,s){var d=s,h=0,y=0;do{var x=d.nextSibling;if(r.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(0<h&&8>h){d=h;var D=r.ownerDocument;if(d&1&&o0(D.documentElement),d&2&&o0(D.body),d&4)for(d=D.head,o0(d),D=d.firstChild;D;){var k=D.nextSibling,V=D.nodeName;D[st]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=k}}if(y===0){r.removeChild(x),m0(s);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:h=d.charCodeAt(0)-48;else h=0;d=x}while(d);m0(s)}function m1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":m1(d),rt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function n8(r,s,d,h){for(;r.nodeType===1;){var y=d;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[st])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=hs(r.nextSibling),r===null)break}return null}function a8(r,s,d){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=hs(r.nextSibling),r===null))return null;return r}function v1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function r8(r,s){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")s();else{var h=function(){s(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function hs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var y1=null;function jb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return r;s--}else d==="/$"&&s++}r=r.previousSibling}return null}function zb(r,s,d){switch(s=Bp(d),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function o0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);rt(r)}var ki=new Map,kb=new Set;function Hp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var $l=se.d;se.d={f:i8,r:s8,D:l8,C:o8,L:u8,m:c8,X:f8,S:d8,M:h8};function i8(){var r=$l.f(),s=tl();return r||s}function s8(r){var s=wt(r);s!==null&&s.tag===5&&s.type==="form"?bp(s):$l.r(r)}var ef=typeof document>"u"?null:document;function Ub(r,s,d){var h=ef;if(h&&typeof s=="string"&&s){var y=br(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),kb.has(y)||(kb.add(y),r={rel:r,crossOrigin:d,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),Ja(s,"link",r),Gt(s),h.head.appendChild(s)))}}function l8(r){$l.D(r),Ub("dns-prefetch",r,null)}function o8(r,s){$l.C(r,s),Ub("preconnect",r,s)}function u8(r,s,d){$l.L(r,s,d);var h=ef;if(h&&r&&s){var y='link[rel="preload"][as="'+br(s)+'"]';s==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+br(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+br(d.imageSizes)+'"]')):y+='[href="'+br(r)+'"]';var x=y;switch(s){case"style":x=tf(r);break;case"script":x=nf(r)}ki.has(x)||(r=v({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:r,as:s},d),ki.set(x,r),h.querySelector(y)!==null||s==="style"&&h.querySelector(u0(x))||s==="script"&&h.querySelector(c0(x))||(s=h.createElement("link"),Ja(s,"link",r),Gt(s),h.head.appendChild(s)))}}function c8(r,s){$l.m(r,s);var d=ef;if(d&&r){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+br(h)+'"][href="'+br(r)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=nf(r)}if(!ki.has(x)&&(r=v({rel:"modulepreload",href:r},s),ki.set(x,r),d.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(c0(x)))return}h=d.createElement("link"),Ja(h,"link",r),Gt(h),d.head.appendChild(h)}}}function d8(r,s,d){$l.S(r,s,d);var h=ef;if(h&&r){var y=Sn(h).hoistableStyles,x=tf(r);s=s||"default";var D=y.get(x);if(!D){var k={loading:0,preload:null};if(D=h.querySelector(u0(x)))k.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},d),(d=ki.get(x))&&b1(r,d);var V=D=h.createElement("link");Gt(V),Ja(V,"link",r),V._p=new Promise(function(ue,Se){V.onload=ue,V.onerror=Se}),V.addEventListener("load",function(){k.loading|=1}),V.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Gp(D,s,h)}D={type:"stylesheet",instance:D,count:1,state:k},y.set(x,D)}}}function f8(r,s){$l.X(r,s);var d=ef;if(d&&r){var h=Sn(d).hoistableScripts,y=nf(r),x=h.get(y);x||(x=d.querySelector(c0(y)),x||(r=v({src:r,async:!0},s),(s=ki.get(y))&&_1(r,s),x=d.createElement("script"),Gt(x),Ja(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function h8(r,s){$l.M(r,s);var d=ef;if(d&&r){var h=Sn(d).hoistableScripts,y=nf(r),x=h.get(y);x||(x=d.querySelector(c0(y)),x||(r=v({src:r,async:!0,type:"module"},s),(s=ki.get(y))&&_1(r,s),x=d.createElement("script"),Gt(x),Ja(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function Lb(r,s,d,h){var y=(y=Ie.current)?Hp(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=tf(d.href),d=Sn(y).hoistableStyles,h=d.get(s),h||(h={type:"style",instance:null,count:0,state:null},d.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=tf(d.href);var x=Sn(y).hoistableStyles,D=x.get(r);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,D),(x=y.querySelector(u0(r)))&&!x._p&&(D.instance=x,D.state.loading=5),ki.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ki.set(r,d),x||g8(y,r,d,D.state))),s&&h===null)throw Error(a(528,""));return D}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nf(d),d=Sn(y).hoistableScripts,h=d.get(s),h||(h={type:"script",instance:null,count:0,state:null},d.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function tf(r){return'href="'+br(r)+'"'}function u0(r){return'link[rel="stylesheet"]['+r+"]"}function Pb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function g8(r,s,d,h){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=r.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Ja(s,"link",d),Gt(s),r.head.appendChild(s))}function nf(r){return'[src="'+br(r)+'"]'}function c0(r){return"script[async]"+r}function Bb(r,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var h=r.querySelector('style[data-href~="'+br(d.href)+'"]');if(h)return s.instance=h,Gt(h),h;var y=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Gt(h),Ja(h,"style",y),Gp(h,d.precedence,r),s.instance=h;case"stylesheet":y=tf(d.href);var x=r.querySelector(u0(y));if(x)return s.state.loading|=4,s.instance=x,Gt(x),x;h=Pb(d),(y=ki.get(y))&&b1(h,y),x=(r.ownerDocument||r).createElement("link"),Gt(x);var D=x;return D._p=new Promise(function(k,V){D.onload=k,D.onerror=V}),Ja(x,"link",h),s.state.loading|=4,Gp(x,d.precedence,r),s.instance=x;case"script":return x=nf(d.src),(y=r.querySelector(c0(x)))?(s.instance=y,Gt(y),y):(h=d,(y=ki.get(x))&&(h=v({},d),_1(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),Gt(y),Ja(y,"link",h),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Gp(h,d.precedence,r));return s.instance}function Gp(r,s,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,D=0;D<h.length;D++){var k=h[D];if(k.dataset.precedence===s)x=k;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(r,s.firstChild))}function b1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var qp=null;function Hb(r,s,d){if(qp===null){var h=new Map,y=qp=new Map;y.set(d,h)}else y=qp,h=y.get(d),h||(h=new Map,y.set(d,h));if(h.has(r))return h;for(h.set(r,null),d=d.getElementsByTagName(r),y=0;y<d.length;y++){var x=d[y];if(!(x[st]||x[oe]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(s)||"";D=r+D;var k=h.get(D);k?k.push(x):h.set(D,[x])}}return h}function Gb(r,s,d){r=r.ownerDocument||r,r.head.insertBefore(d,s==="title"?r.querySelector("head > title"):null)}function p8(r,s,d){if(d===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var d0=null;function m8(){}function v8(r,s,d){if(d0===null)throw Error(a(475));var h=d0;if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=tf(d.href),x=r.querySelector(u0(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=Vp.bind(h),r.then(h,h)),s.state.loading|=4,s.instance=x,Gt(x);return}x=r.ownerDocument||r,d=Pb(d),(y=ki.get(y))&&b1(d,y),x=x.createElement("link"),Gt(x);var D=x;D._p=new Promise(function(k,V){D.onload=k,D.onerror=V}),Ja(x,"link",d),s.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Vp.bind(h),r.addEventListener("load",s),r.addEventListener("error",s))}}function y8(){if(d0===null)throw Error(a(475));var r=d0;return r.stylesheets&&r.count===0&&S1(r,r.stylesheets),0<r.count?function(s){var d=setTimeout(function(){if(r.stylesheets&&S1(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Vp(){if(this.count--,this.count===0){if(this.stylesheets)S1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Yp=null;function S1(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Yp=new Map,s.forEach(b8,r),Yp=null,Vp.call(r))}function b8(r,s){if(!(s.state.loading&4)){var d=Yp.get(r);if(d)var h=d.get(null);else{d=new Map,Yp.set(r,d);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var D=y[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),h=D)}h&&d.set(null,h)}y=s.instance,D=y.getAttribute("data-precedence"),x=d.get(D)||h,x===h&&d.set(null,y),d.set(D,y),this.count++,h=Vp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var f0={$$typeof:z,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function _8(r,s,d,h,y,x,D,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Vb(r,s,d,h,y,x,D,k,V,ue,Se,Te){return r=new _8(r,s,d,D,k,V,ue,Te),s=1,x===!0&&(s|=24),x=ir(3,null,null,s),r.current=x,x.stateNode=r,s=Oo(),s.refCount++,r.pooledCache=s,s.refCount++,x.memoizedState={element:h,isDehydrated:d,cache:s},Fu(x),r}function Yb(r){return r?(r=Dl,r):Dl}function Zb(r,s,d,h,y,x){y=Yb(y),h.context===null?h.context=y:h.pendingContext=y,h=Ei(s),h.payload={element:d},x=x===void 0?null:x,x!==null&&(h.callback=x),d=Ia(r,h,s),d!==null&&(Jn(d,r,s),ql(d,r,s))}function Ib(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<s?d:s}}function x1(r,s){Ib(r,s),(r=r.alternate)&&Ib(r,s)}function Xb(r){if(r.tag===13){var s=vi(r,67108864);s!==null&&Jn(s,r,67108864),x1(r,67108864)}}var Zp=!0;function S8(r,s,d,h){var y=B.T;B.T=null;var x=se.p;try{se.p=2,w1(r,s,d,h)}finally{se.p=x,B.T=y}}function x8(r,s,d,h){var y=B.T;B.T=null;var x=se.p;try{se.p=8,w1(r,s,d,h)}finally{se.p=x,B.T=y}}function w1(r,s,d,h){if(Zp){var y=E1(h);if(y===null)c1(r,s,h,Ip,d),Fb(r,h);else if(E8(y,r,s,d,h))h.stopPropagation();else if(Fb(r,h),s&4&&-1<w8.indexOf(r)){for(;y!==null;){var x=wt(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=va(x.pendingLanes);if(D!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;D;){var V=1<<31-an(D);k.entanglements[1]|=V,D&=~V}Je(x),(vt&6)===0&&(Fl=ea()+500,fn(0))}}break;case 13:k=vi(x,2),k!==null&&Jn(k,x,2),tl(),x1(x,2)}if(x=E1(h),x===null&&c1(r,s,h,Ip,d),x===y)break;y=x}y!==null&&h.stopPropagation()}else c1(r,s,h,null,d)}}function E1(r){return r=Ts(r),C1(r)}var Ip=null;function C1(r){if(Ip=null,r=Fe(r),r!==null){var s=l(r);if(s===null)r=null;else{var d=s.tag;if(d===13){if(r=u(s),r!==null)return r;r=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ip=r,null}function Kb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case pr:return 2;case X:return 8;case re:case he:return 32;case Be:return 268435456;default:return 32}default:return 32}}var T1=!1,Wo=null,Jo=null,eu=null,h0=new Map,g0=new Map,tu=[],w8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fb(r,s){switch(r){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":h0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(s.pointerId)}}function p0(r,s,d,h,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:d,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},s!==null&&(s=wt(s),s!==null&&Xb(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function E8(r,s,d,h,y){switch(s){case"focusin":return Wo=p0(Wo,r,s,d,h,y),!0;case"dragenter":return Jo=p0(Jo,r,s,d,h,y),!0;case"mouseover":return eu=p0(eu,r,s,d,h,y),!0;case"pointerover":var x=y.pointerId;return h0.set(x,p0(h0.get(x)||null,r,s,d,h,y)),!0;case"gotpointercapture":return x=y.pointerId,g0.set(x,p0(g0.get(x)||null,r,s,d,h,y)),!0}return!1}function Qb(r){var s=Fe(r.target);if(s!==null){var d=l(s);if(d!==null){if(s=d.tag,s===13){if(s=u(d),s!==null){r.blockedOn=s,I(r.priority,function(){if(d.tag===13){var h=Zn();h=Vi(h);var y=vi(d,h);y!==null&&Jn(y,d,h),x1(d,h)}});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xp(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var d=E1(r.nativeEvent);if(d===null){d=r.nativeEvent;var h=new d.constructor(d.type,d);td=h,d.target.dispatchEvent(h),td=null}else return s=wt(d),s!==null&&Xb(s),r.blockedOn=d,!1;s.shift()}return!0}function $b(r,s,d){Xp(r)&&d.delete(s)}function C8(){T1=!1,Wo!==null&&Xp(Wo)&&(Wo=null),Jo!==null&&Xp(Jo)&&(Jo=null),eu!==null&&Xp(eu)&&(eu=null),h0.forEach($b),g0.forEach($b)}function Kp(r,s){r.blockedOn===s&&(r.blockedOn=null,T1||(T1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,C8)))}var Fp=null;function Wb(r){Fp!==r&&(Fp=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fp===r&&(Fp=null);for(var s=0;s<r.length;s+=3){var d=r[s],h=r[s+1],y=r[s+2];if(typeof h!="function"){if(C1(h||d)===null)continue;break}var x=wt(d);x!==null&&(r.splice(s,3),s-=3,Zh(x,{pending:!0,data:y,method:d.method,action:h},h,y))}}))}function m0(r){function s(V){return Kp(V,r)}Wo!==null&&Kp(Wo,r),Jo!==null&&Kp(Jo,r),eu!==null&&Kp(eu,r),h0.forEach(s),g0.forEach(s);for(var d=0;d<tu.length;d++){var h=tu[d];h.blockedOn===r&&(h.blockedOn=null)}for(;0<tu.length&&(d=tu[0],d.blockedOn===null);)Qb(d),d.blockedOn===null&&tu.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var y=d[h],x=d[h+1],D=y[Re]||null;if(typeof x=="function")D||Wb(d);else if(D){var k=null;if(x&&x.hasAttribute("formAction")){if(y=x,D=x[Re]||null)k=D.formAction;else if(C1(y)!==null)continue}else k=D.action;typeof k=="function"?d[h+1]=k:(d.splice(h,3),h-=3),Wb(d)}}}function A1(r){this._internalRoot=r}Qp.prototype.render=A1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var d=s.current,h=Zn();Zb(d,h,r,s,null,null)},Qp.prototype.unmount=A1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Zb(r.current,2,null,r,null,null),tl(),s[Le]=null}};function Qp(r){this._internalRoot=r}Qp.prototype.unstable_scheduleHydration=function(r){if(r){var s=bl();r={blockedOn:null,target:r,priority:s};for(var d=0;d<tu.length&&s!==0&&s<tu[d].priority;d++);tu.splice(d,0,r),d===0&&Qb(r)}};var Jb=e.version;if(Jb!=="19.1.1")throw Error(a(527,Jb,"19.1.1"));se.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var T8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{Ye=$p.inject(T8),$e=$p}catch{}}return y0.createRoot=function(r,s){if(!i(r))throw Error(a(299));var d=!1,h="",y=Zl,x=dr,D=Ap,k=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Vb(r,1,!1,null,null,d,h,y,x,D,k,null),r[Le]=s.current,u1(r),new A1(s)},y0.hydrateRoot=function(r,s,d){if(!i(r))throw Error(a(299));var h=!1,y="",x=Zl,D=dr,k=Ap,V=null,ue=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(V=d.unstable_transitionCallbacks),d.formState!==void 0&&(ue=d.formState)),s=Vb(r,1,!0,s,d??null,h,y,x,D,k,V,ue),s.context=Yb(null),d=s.current,h=Zn(),h=Vi(h),y=Ei(h),y.callback=null,Ia(d,y,h),d=h,s.current.lanes=d,rn(s,d),Je(s),r[Le]=s.current,u1(r),new Qp(s)},y0.version="19.1.1",y0}var u_;function U8(){if(u_)return O1.exports;u_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),O1.exports=k8(),O1.exports}var u3=U8();const L8=ig(u3);var N=sg();const Qe=ig(N),c3=R8({__proto__:null,default:Qe},[N]);var d3=t=>{throw TypeError(t)},P8=(t,e,n)=>e.has(t)||d3("Cannot "+n),z1=(t,e,n)=>(P8(t,e,"read from private field"),n?n.call(t):e.get(t)),B8=(t,e,n)=>e.has(t)?d3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),c_="popstate";function H8(t={}){function e(i,l){let{pathname:u="/",search:f="",hash:g=""}=so(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Z0("",{pathname:u,search:f,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let g=i.location.href,m=g.indexOf("#");f=m===-1?g:g.slice(0,m)}return f+"#"+(typeof l=="string"?l:gu(l))}function a(i,l){sa(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return q8(e,n,a,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G8(){return Math.random().toString(36).substring(2,10)}function d_(t,e){return{usr:t.state,key:t.key,idx:e}}function Z0(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:n,key:e&&e.key||a||G8()}}function gu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function so(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function q8(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,f="POP",g=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let O=v(),M=O==null?null:O-m;m=O,g&&g({action:f,location:R.location,delta:M})}function S(O,M){f="PUSH";let j=Z0(R.location,O,M);n&&n(j,O),m=v()+1;let z=d_(j,m),U=R.createHref(j);try{u.pushState(z,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(U)}l&&g&&g({action:f,location:R.location,delta:1})}function C(O,M){f="REPLACE";let j=Z0(R.location,O,M);n&&n(j,O),m=v();let z=d_(j,m),U=R.createHref(j);u.replaceState(z,"",U),l&&g&&g({action:f,location:R.location,delta:0})}function T(O){return f3(O)}let R={get action(){return f},get location(){return t(i,u)},listen(O){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(c_,_),g=O,()=>{i.removeEventListener(c_,_),g=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let M=T(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:C,go(O){return u.go(O)}};return R}function f3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:gu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var R0,f_=class{constructor(t){if(B8(this,R0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(z1(this,R0).has(t))return z1(this,R0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){z1(this,R0).set(t,e)}};R0=new WeakMap;var V8=new Set(["lazy","caseSensitive","path","id","index","children"]);function Y8(t){return V8.has(t)}var Z8=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function I8(t){return Z8.has(t)}function X8(t){return t.index===!0}function I0(t,e,n=[],a={},i=!1){return t.map((l,u)=>{let f=[...n,String(u)],g=typeof l.id=="string"?l.id:f.join("-");if(It(l.index!==!0||!l.children,"Cannot specify children on an index route"),It(i||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),X8(l)){let m={...l,...e(l),id:g};return a[g]=m,m}else{let m={...l,...e(l),id:g,children:void 0};return a[g]=m,l.children&&(m.children=I0(l.children,e,f,a,i)),m}})}function uu(t,e,n="/"){return Pm(t,e,n,!1)}function Pm(t,e,n,a){let i=typeof e=="string"?so(e):e,l=Hi(i.pathname||"/",n);if(l==null)return null;let u=h3(t);F8(u);let f=null;for(let g=0;f==null&&g<u.length;++g){let m=sE(l);f=rE(u[g],m,a)}return f}function K8(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function h3(t,e=[],n=[],a="",i=!1){let l=(u,f,g=i,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;It(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=fl([a,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(It(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),h3(u.children,e,S,_,g)),!(u.path==null&&!u.index)&&e.push({path:_,score:nE(_,u.index),routesMeta:S})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let g of g3(u.path))l(u,f,!0,g)}),e}function g3(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=g3(a.join("/")),f=[];return f.push(...u.map(g=>g===""?l:[l,g].join("/"))),i&&f.push(...u),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function F8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aE(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Q8=/^:[\w-]+$/,$8=3,W8=2,J8=1,eE=10,tE=-2,h_=t=>t==="*";function nE(t,e){let n=t.split("/"),a=n.length;return n.some(h_)&&(a+=tE),e&&(a+=W8),n.filter(i=>!h_(i)).reduce((i,l)=>i+(Q8.test(l)?$8:l===""?J8:eE),a)}function aE(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function rE(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let f=0;f<a.length;++f){let g=a[f],m=f===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Xm({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},v),S=g.route;if(!_&&m&&n&&!a[a.length-1].route.index&&(_=Xm({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:fl([l,_.pathname]),pathnameBase:cE(fl([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=fl([l,_.pathnameBase]))}return u}function Xm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=iE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:_},S)=>{if(v==="*"){let T=f[S]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=f[S];return _&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function iE(t,e=!1,n=!0){sa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,g)=>(a.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function sE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function lE({basename:t,pathname:e}){return e==="/"?t:fl([t,e])}function oE(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?so(t):t;return{pathname:n?n.startsWith("/")?n:uE(n,e):e,search:dE(a),hash:fE(i)}}function uE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function k1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h2(t){let e=p3(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function g2(t,e,n,a=!1){let i;typeof t=="string"?i=so(t):(i={...t},It(!i.pathname||!i.pathname.includes("?"),k1("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),k1("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),k1("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),_-=1;i.pathname=S.join("/")}f=_>=0?e[_]:"/"}let g=oE(i,f),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||v)&&(g.pathname+="/"),g}var fl=t=>t.join("/").replace(/\/\/+/g,"/"),cE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Km=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function X0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var m3=["POST","PUT","PATCH","DELETE"],hE=new Set(m3),gE=["GET",...m3],pE=new Set(gE),mE=new Set([301,302,303,307,308]),vE=new Set([307,308]),U1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},b0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p2=t=>bE.test(t),_E=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),v3="remix-router-transitions",y3=Symbol("ResetLoaderData");function SE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";It(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],i=t.mapRouteProperties||_E,l={},u=I0(t.routes,i,void 0,l),f,g=t.basename||"/";g.startsWith("/")||(g=`/${g}`);let m=t.dataStrategy||TE,v={...t.future},_=null,S=new Set,C=null,T=null,R=null,O=t.hydrationData!=null,M=uu(u,t.history.location,g),j=!1,z=null,U;if(M==null&&!t.patchRoutesOnNavigation){let I=Ui(404,{pathname:t.history.location.pathname}),{matches:ee,route:oe}=Wp(u);U=!0,M=ee,z={[oe.id]:I}}else if(M&&!t.hydrationData&&Es(M,u,t.history.location.pathname).active&&(M=null),M)if(M.some(I=>I.route.lazy))U=!1;else if(!M.some(I=>m2(I.route)))U=!0;else{let I=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let oe=M.findIndex(Re=>ee[Re.route.id]!==void 0);U=M.slice(0,oe+1).every(Re=>!Ay(Re.route,I,ee))}else U=M.every(oe=>!Ay(oe.route,I,ee))}else{U=!1,M=[];let I=Es(null,u,t.history.location.pathname);I.active&&I.matches&&(j=!0,M=I.matches)}let H,L={historyAction:t.history.action,location:t.history.location,matches:M,initialized:U,navigation:U1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},Y="POP",Q=!1,ae,_e=!1,Oe=new Map,ie=null,ve=!1,ce=!1,fe=new Set,B=new Map,se=0,K=-1,pe=new Map,G=new Set,W=new Map,xe=new Map,Ee=new Set,Ve=new Map,ut,Ie=null;function be(){if(_=t.history.listen(({action:I,location:ee,delta:oe})=>{if(ut){ut(),ut=void 0;return}sa(Ve.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Re=ke({currentLocation:L.location,nextLocation:ee,historyAction:I});if(Re&&oe!=null){let Le=new Promise(et=>{ut=et});t.history.go(oe*-1),Ce(Re,{state:"blocked",location:ee,proceed(){Ce(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Le.then(()=>t.history.go(oe))},reset(){let et=new Map(L.blockers);et.set(Re,b0),at({blockers:et})}});return}return gn(I,ee)}),n){GE(e,Oe);let I=()=>qE(e,Oe);e.addEventListener("pagehide",I),ie=()=>e.removeEventListener("pagehide",I)}return L.initialized||gn("POP",L.location,{initialHydration:!0}),H}function Ae(){_&&_(),ie&&ie(),S.clear(),ae&&ae.abort(),L.fetchers.forEach((I,ee)=>qa(ee)),L.blockers.forEach((I,ee)=>vr(ee))}function lt(I){return S.add(I),()=>S.delete(I)}function at(I,ee={}){I.matches&&(I.matches=I.matches.map(Le=>{let et=l[Le.route.id],it=Le.route;return it.element!==et.element||it.errorElement!==et.errorElement||it.hydrateFallbackElement!==et.hydrateFallbackElement?{...Le,route:et}:Le})),L={...L,...I};let oe=[],Re=[];L.fetchers.forEach((Le,et)=>{Le.state==="idle"&&(Ee.has(et)?oe.push(et):Re.push(et))}),Ee.forEach(Le=>{!L.fetchers.has(Le)&&!B.has(Le)&&oe.push(Le)}),[...S].forEach(Le=>Le(L,{deletedFetchers:oe,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),oe.forEach(Le=>qa(Le)),Re.forEach(Le=>L.fetchers.delete(Le))}function yt(I,ee,{flushSync:oe}={}){let Re=L.actionData!=null&&L.navigation.formMethod!=null&&Xr(L.navigation.formMethod)&&L.navigation.state==="loading"&&I.state?._isRedirect!==!0,Le;ee.actionData?Object.keys(ee.actionData).length>0?Le=ee.actionData:Le=null:Re?Le=L.actionData:Le=null;let et=ee.loaderData?w_(L.loaderData,ee.loaderData,ee.matches||[],ee.errors):L.loaderData,it=L.blockers;it.size>0&&(it=new Map(it),it.forEach((rt,Fe)=>it.set(Fe,b0)));let Ke=ve?!1:ws(I,ee.matches||L.matches),We=Q===!0||L.navigation.formMethod!=null&&Xr(L.navigation.formMethod)&&I.state?._isRedirect!==!0;f&&(u=f,f=void 0),ve||Y==="POP"||(Y==="PUSH"?t.history.push(I,I.state):Y==="REPLACE"&&t.history.replace(I,I.state));let st;if(Y==="POP"){let rt=Oe.get(L.location.pathname);rt&&rt.has(I.pathname)?st={currentLocation:L.location,nextLocation:I}:Oe.has(I.pathname)&&(st={currentLocation:I,nextLocation:L.location})}else if(_e){let rt=Oe.get(L.location.pathname);rt?rt.add(I.pathname):(rt=new Set([I.pathname]),Oe.set(L.location.pathname,rt)),st={currentLocation:L.location,nextLocation:I}}at({...ee,actionData:Le,loaderData:et,historyAction:Y,location:I,initialized:!0,navigation:U1,revalidation:"idle",restoreScrollPosition:Ke,preventScrollReset:We,blockers:it},{viewTransitionOpts:st,flushSync:oe===!0}),Y="POP",Q=!1,_e=!1,ve=!1,ce=!1,Ie?.resolve(),Ie=null}async function Tt(I,ee){if(typeof I=="number"){t.history.go(I);return}let oe=Ty(L.location,L.matches,g,I,ee?.fromRouteId,ee?.relative),{path:Re,submission:Le,error:et}=g_(!1,oe,ee),it=L.location,Ke=Z0(L.location,Re,ee&&ee.state);Ke={...Ke,...t.history.encodeLocation(Ke)};let We=ee&&ee.replace!=null?ee.replace:void 0,st="PUSH";We===!0?st="REPLACE":We===!1||Le!=null&&Xr(Le.formMethod)&&Le.formAction===L.location.pathname+L.location.search&&(st="REPLACE");let rt=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,Fe=(ee&&ee.flushSync)===!0,wt=ke({currentLocation:it,nextLocation:Ke,historyAction:st});if(wt){Ce(wt,{state:"blocked",location:Ke,proceed(){Ce(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),Tt(I,ee)},reset(){let sn=new Map(L.blockers);sn.set(wt,b0),at({blockers:sn})}});return}await gn(st,Ke,{submission:Le,pendingError:et,preventScrollReset:rt,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:Fe})}function Kt(){Ie||(Ie=VE()),ze(),at({revalidation:"loading"});let I=Ie.promise;return L.navigation.state==="submitting"?I:L.navigation.state==="idle"?(gn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),I):(gn(Y||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:_e===!0}),I)}async function gn(I,ee,oe){ae&&ae.abort(),ae=null,Y=I,ve=(oe&&oe.startUninterruptedRevalidation)===!0,ta(L.location,L.matches),Q=(oe&&oe.preventScrollReset)===!0,_e=(oe&&oe.enableViewTransition)===!0;let Re=f||u,Le=oe&&oe.overrideNavigation,et=oe?.initialHydration&&L.matches&&L.matches.length>0&&!j?L.matches:uu(Re,ee,g),it=(oe&&oe.flushSync)===!0;if(et&&L.initialized&&!ce&&zE(L.location,ee)&&!(oe&&oe.submission&&Xr(oe.submission.formMethod))){yt(ee,{matches:et},{flushSync:it});return}let Ke=Es(et,Re,ee.pathname);if(Ke.active&&Ke.matches&&(et=Ke.matches),!et){let{error:Gt,notFoundMatches:pn,route:cn}=en(ee.pathname);yt(ee,{matches:pn,loaderData:{},errors:{[cn.id]:Gt}},{flushSync:it});return}ae=new AbortController;let We=Ef(t.history,ee,ae.signal,oe&&oe.submission),st=t.getContext?await t.getContext():new f_,rt;if(oe&&oe.pendingError)rt=[cu(et).route.id,{type:"error",error:oe.pendingError}];else if(oe&&oe.submission&&Xr(oe.submission.formMethod)){let Gt=await Rn(We,ee,oe.submission,et,st,Ke.active,oe&&oe.initialHydration===!0,{replace:oe.replace,flushSync:it});if(Gt.shortCircuited)return;if(Gt.pendingActionResult){let[pn,cn]=Gt.pendingActionResult;if(li(cn)&&X0(cn.error)&&cn.error.status===404){ae=null,yt(ee,{matches:Gt.matches,loaderData:{},errors:{[pn]:cn.error}});return}}et=Gt.matches||et,rt=Gt.pendingActionResult,Le=L1(ee,oe.submission),it=!1,Ke.active=!1,We=Ef(t.history,We.url,We.signal)}let{shortCircuited:Fe,matches:wt,loaderData:sn,errors:Sn}=await ma(We,ee,et,st,Ke.active,Le,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,it,rt);Fe||(ae=null,yt(ee,{matches:wt||et,...E_(rt),loaderData:sn,errors:Sn}))}async function Rn(I,ee,oe,Re,Le,et,it,Ke={}){ze();let We=BE(ee,oe);if(at({navigation:We},{flushSync:Ke.flushSync===!0}),et){let Fe=await Vi(Re,ee.pathname,I.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:sn,route:Sn}=Wp(u);return{matches:sn,pendingActionResult:[Sn.id,{type:"error",error:Fe.error}]}}let wt=cu(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,pendingActionResult:[wt,{type:"error",error:Fe.error}]}}else if(Fe.matches)Re=Fe.matches;else{let{notFoundMatches:wt,error:sn,route:Sn}=en(ee.pathname);return{matches:wt,pendingActionResult:[Sn.id,{type:"error",error:sn}]}}}let st,rt=Bm(Re,ee);if(!rt.route.action&&!rt.route.lazy)st={type:"error",error:Ui(405,{method:I.method,pathname:ee.pathname,routeId:rt.route.id})};else{let Fe=Mf(i,l,I,Re,rt,it?[]:a,Le),wt=await Be(I,Fe,Le,null);if(st=wt[rt.route.id],!st){for(let sn of Re)if(wt[sn.route.id]){st=wt[sn.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if(Oc(st)){let Fe;return Ke&&Ke.replace!=null?Fe=Ke.replace:Fe=__(st.response.headers.get("Location"),new URL(I.url),g)===L.location.pathname+L.location.search,await he(I,st,!0,{submission:oe,replace:Fe}),{shortCircuited:!0}}if(li(st)){let Fe=cu(Re,rt.route.id);return(Ke&&Ke.replace)!==!0&&(Y="PUSH"),{matches:Re,pendingActionResult:[Fe.route.id,st,rt.route.id]}}return{matches:Re,pendingActionResult:[rt.route.id,st]}}async function ma(I,ee,oe,Re,Le,et,it,Ke,We,st,rt,Fe){let wt=et||L1(ee,it),sn=it||Ke||T_(wt),Sn=!ve&&!st;if(Le){if(Sn){let Ut=ea(Fe);at({navigation:wt,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:rt})}let ft=await Vi(oe,ee.pathname,I.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Va,route:Ya}=Wp(u);return{matches:Va,loaderData:{},errors:{[Ya.id]:ft.error}}}let Ut=cu(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Ut]:ft.error}}}else if(ft.matches)oe=ft.matches;else{let{error:Ut,notFoundMatches:Va,route:Ya}=en(ee.pathname);return{matches:Va,loaderData:{},errors:{[Ya.id]:Ut}}}}let Gt=f||u,{dsMatches:pn,revalidatingFetchers:cn}=p_(I,Re,i,l,t.history,L,oe,sn,ee,st?[]:a,st===!0,ce,fe,Ee,W,G,Gt,g,t.patchRoutesOnNavigation!=null,Fe);if(K=++se,!t.dataStrategy&&!pn.some(ft=>ft.shouldLoad)&&!pn.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&cn.length===0){let ft=mr();return yt(ee,{matches:oe,loaderData:{},errors:Fe&&li(Fe[1])?{[Fe[0]]:Fe[1].error}:null,...E_(Fe),...ft?{fetchers:new Map(L.fetchers)}:{}},{flushSync:rt}),{shortCircuited:!0}}if(Sn){let ft={};if(!Le){ft.navigation=wt;let Ut=ea(Fe);Ut!==void 0&&(ft.actionData=Ut)}cn.length>0&&(ft.fetchers=hi(cn)),at(ft,{flushSync:rt})}cn.forEach(ft=>{Ra(ft.key),ft.controller&&B.set(ft.key,ft.controller)});let qt=()=>cn.forEach(ft=>Ra(ft.key));ae&&ae.signal.addEventListener("abort",qt);let{loaderResults:tr,fetcherResults:Dr}=await Pe(pn,cn,I,Re);if(I.signal.aborted)return{shortCircuited:!0};ae&&ae.signal.removeEventListener("abort",qt),cn.forEach(ft=>B.delete(ft.key));let nr=Jp(tr);if(nr)return await he(I,nr.result,!0,{replace:We}),{shortCircuited:!0};if(nr=Jp(Dr),nr)return G.add(nr.key),await he(I,nr.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:_l,errors:Sl}=x_(L,oe,tr,Fe,cn,Dr);st&&L.errors&&(Sl={...L.errors,...Sl});let ar=mr(),Qr=va(K),Oa=ar||Qr||cn.length>0;return{matches:oe,loaderData:_l,errors:Sl,...Oa?{fetchers:new Map(L.fetchers)}:{}}}function ea(I){if(I&&!li(I[1]))return{[I[0]]:I[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function hi(I){return I.forEach(ee=>{let oe=L.fetchers.get(ee.key),Re=_0(void 0,oe?oe.data:void 0);L.fetchers.set(ee.key,Re)}),new Map(L.fetchers)}async function pr(I,ee,oe,Re){Ra(I);let Le=(Re&&Re.flushSync)===!0,et=f||u,it=Ty(L.location,L.matches,g,oe,ee,Re?.relative),Ke=uu(et,it,g),We=Es(Ke,et,it);if(We.active&&We.matches&&(Ke=We.matches),!Ke){$e(I,ee,Ui(404,{pathname:it}),{flushSync:Le});return}let{path:st,submission:rt,error:Fe}=g_(!0,it,Re);if(Fe){$e(I,ee,Fe,{flushSync:Le});return}let wt=t.getContext?await t.getContext():new f_,sn=(Re&&Re.preventScrollReset)===!0;if(rt&&Xr(rt.formMethod)){await X(I,ee,st,Ke,wt,We.active,Le,sn,rt);return}W.set(I,{routeId:ee,path:st}),await re(I,ee,st,Ke,wt,We.active,Le,sn,rt)}async function X(I,ee,oe,Re,Le,et,it,Ke,We){ze(),W.delete(I);let st=L.fetchers.get(I);Ye(I,HE(We,st),{flushSync:it});let rt=new AbortController,Fe=Ef(t.history,oe,rt.signal,We);if(et){let xn=await Vi(Re,new URL(Fe.url).pathname,Fe.signal,I);if(xn.type==="aborted")return;if(xn.type==="error"){$e(I,ee,xn.error,{flushSync:it});return}else if(xn.matches)Re=xn.matches;else{$e(I,ee,Ui(404,{pathname:oe}),{flushSync:it});return}}let wt=Bm(Re,oe);if(!wt.route.action&&!wt.route.lazy){let xn=Ui(405,{method:We.formMethod,pathname:oe,routeId:ee});$e(I,ee,xn,{flushSync:it});return}B.set(I,rt);let sn=se,Sn=Mf(i,l,Fe,Re,wt,a,Le),pn=(await Be(Fe,Sn,Le,I))[wt.route.id];if(Fe.signal.aborted){B.get(I)===rt&&B.delete(I);return}if(Ee.has(I)){if(Oc(pn)||li(pn)){Ye(I,eo(void 0));return}}else{if(Oc(pn))if(B.delete(I),K>sn){Ye(I,eo(void 0));return}else return G.add(I),Ye(I,_0(We)),he(Fe,pn,!1,{fetcherSubmission:We,preventScrollReset:Ke});if(li(pn)){$e(I,ee,pn.error);return}}let cn=L.navigation.location||L.location,qt=Ef(t.history,cn,rt.signal),tr=f||u,Dr=L.navigation.state!=="idle"?uu(tr,L.navigation.location,g):L.matches;It(Dr,"Didn't find any matches after fetcher action");let nr=++se;pe.set(I,nr);let _l=_0(We,pn.data);L.fetchers.set(I,_l);let{dsMatches:Sl,revalidatingFetchers:ar}=p_(qt,Le,i,l,t.history,L,Dr,We,cn,a,!1,ce,fe,Ee,W,G,tr,g,t.patchRoutesOnNavigation!=null,[wt.route.id,pn]);ar.filter(xn=>xn.key!==I).forEach(xn=>{let Cs=xn.key,yr=L.fetchers.get(Cs),ya=_0(void 0,yr?yr.data:void 0);L.fetchers.set(Cs,ya),Ra(Cs),xn.controller&&B.set(Cs,xn.controller)}),at({fetchers:new Map(L.fetchers)});let Qr=()=>ar.forEach(xn=>Ra(xn.key));rt.signal.addEventListener("abort",Qr);let{loaderResults:Oa,fetcherResults:ft}=await Pe(Sl,ar,qt,Le);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",Qr),pe.delete(I),B.delete(I),ar.forEach(xn=>B.delete(xn.key)),L.fetchers.has(I)){let xn=eo(pn.data);L.fetchers.set(I,xn)}let Ut=Jp(Oa);if(Ut)return he(qt,Ut.result,!1,{preventScrollReset:Ke});if(Ut=Jp(ft),Ut)return G.add(Ut.key),he(qt,Ut.result,!1,{preventScrollReset:Ke});let{loaderData:Va,errors:Ya}=x_(L,Dr,Oa,void 0,ar,ft);va(nr),L.navigation.state==="loading"&&nr>K?(It(Y,"Expected pending action"),ae&&ae.abort(),yt(L.navigation.location,{matches:Dr,loaderData:Va,errors:Ya,fetchers:new Map(L.fetchers)})):(at({errors:Ya,loaderData:w_(L.loaderData,Va,Dr,Ya),fetchers:new Map(L.fetchers)}),ce=!1)}async function re(I,ee,oe,Re,Le,et,it,Ke,We){let st=L.fetchers.get(I);Ye(I,_0(We,st?st.data:void 0),{flushSync:it});let rt=new AbortController,Fe=Ef(t.history,oe,rt.signal);if(et){let cn=await Vi(Re,new URL(Fe.url).pathname,Fe.signal,I);if(cn.type==="aborted")return;if(cn.type==="error"){$e(I,ee,cn.error,{flushSync:it});return}else if(cn.matches)Re=cn.matches;else{$e(I,ee,Ui(404,{pathname:oe}),{flushSync:it});return}}let wt=Bm(Re,oe);B.set(I,rt);let sn=se,Sn=Mf(i,l,Fe,Re,wt,a,Le),pn=(await Be(Fe,Sn,Le,I))[wt.route.id];if(B.get(I)===rt&&B.delete(I),!Fe.signal.aborted){if(Ee.has(I)){Ye(I,eo(void 0));return}if(Oc(pn))if(K>sn){Ye(I,eo(void 0));return}else{G.add(I),await he(Fe,pn,!1,{preventScrollReset:Ke});return}if(li(pn)){$e(I,ee,pn.error);return}Ye(I,eo(pn.data))}}async function he(I,ee,oe,{submission:Re,fetcherSubmission:Le,preventScrollReset:et,replace:it}={}){ee.response.headers.has("X-Remix-Revalidate")&&(ce=!0);let Ke=ee.response.headers.get("Location");It(Ke,"Expected a Location header on the redirect Response"),Ke=__(Ke,new URL(I.url),g);let We=Z0(L.location,Ke,{_isRedirect:!0});if(n){let Sn=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Sn=!0;else if(p2(Ke)){const Gt=f3(Ke,!0);Sn=Gt.origin!==e.location.origin||Hi(Gt.pathname,g)==null}if(Sn){it?e.location.replace(Ke):e.location.assign(Ke);return}}ae=null;let st=it===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:rt,formAction:Fe,formEncType:wt}=L.navigation;!Re&&!Le&&rt&&Fe&&wt&&(Re=T_(L.navigation));let sn=Re||Le;if(vE.has(ee.response.status)&&sn&&Xr(sn.formMethod))await gn(st,We,{submission:{...sn,formAction:Ke},preventScrollReset:et||Q,enableViewTransition:oe?_e:void 0});else{let Sn=L1(We,Re);await gn(st,We,{overrideNavigation:Sn,fetcherSubmission:Le,preventScrollReset:et||Q,enableViewTransition:oe?_e:void 0})}}async function Be(I,ee,oe,Re){let Le,et={};try{Le=await RE(m,I,ee,Re,oe,!1)}catch(it){return ee.filter(Ke=>Ke.shouldLoad).forEach(Ke=>{et[Ke.route.id]={type:"error",error:it}}),et}if(I.signal.aborted)return et;for(let[it,Ke]of Object.entries(Le))if(LE(Ke)){let We=Ke.result;et[it]={type:"redirect",response:DE(We,I,it,ee,g)}}else et[it]=await ME(Ke);return et}async function Pe(I,ee,oe,Re){let Le=Be(oe,I,Re,null),et=Promise.all(ee.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let rt=(await Be(We.request,We.matches,Re,We.key))[We.match.route.id];return{[We.key]:rt}}else return Promise.resolve({[We.key]:{type:"error",error:Ui(404,{pathname:We.path})}})})),it=await Le,Ke=(await et).reduce((We,st)=>Object.assign(We,st),{});return{loaderResults:it,fetcherResults:Ke}}function ze(){ce=!0,W.forEach((I,ee)=>{B.has(ee)&&fe.add(ee),Ra(ee)})}function Ye(I,ee,oe={}){L.fetchers.set(I,ee),at({fetchers:new Map(L.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function $e(I,ee,oe,Re={}){let Le=cu(L.matches,ee);qa(I),at({errors:{[Le.route.id]:oe},fetchers:new Map(L.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function bt(I){return xe.set(I,(xe.get(I)||0)+1),Ee.has(I)&&Ee.delete(I),L.fetchers.get(I)||yE}function an(I,ee){Ra(I,ee?.reason),Ye(I,eo(null))}function qa(I){let ee=L.fetchers.get(I);B.has(I)&&!(ee&&ee.state==="loading"&&pe.has(I))&&Ra(I),W.delete(I),pe.delete(I),G.delete(I),Ee.delete(I),fe.delete(I),L.fetchers.delete(I)}function Aa(I){let ee=(xe.get(I)||0)-1;ee<=0?(xe.delete(I),Ee.add(I)):xe.set(I,ee),at({fetchers:new Map(L.fetchers)})}function Ra(I,ee){let oe=B.get(I);oe&&(oe.abort(ee),B.delete(I))}function er(I){for(let ee of I){let oe=bt(ee),Re=eo(oe.data);L.fetchers.set(ee,Re)}}function mr(){let I=[],ee=!1;for(let oe of G){let Re=L.fetchers.get(oe);It(Re,`Expected fetcher: ${oe}`),Re.state==="loading"&&(G.delete(oe),I.push(oe),ee=!0)}return er(I),ee}function va(I){let ee=[];for(let[oe,Re]of pe)if(Re<I){let Le=L.fetchers.get(oe);It(Le,`Expected fetcher: ${oe}`),Le.state==="loading"&&(Ra(oe),pe.delete(oe),ee.push(oe))}return er(ee),ee.length>0}function Mr(I,ee){let oe=L.blockers.get(I)||b0;return Ve.get(I)!==ee&&Ve.set(I,ee),oe}function vr(I){L.blockers.delete(I),Ve.delete(I)}function Ce(I,ee){let oe=L.blockers.get(I)||b0;It(oe.state==="unblocked"&&ee.state==="blocked"||oe.state==="blocked"&&ee.state==="blocked"||oe.state==="blocked"&&ee.state==="proceeding"||oe.state==="blocked"&&ee.state==="unblocked"||oe.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${oe.state} -> ${ee.state}`);let Re=new Map(L.blockers);Re.set(I,ee),at({blockers:Re})}function ke({currentLocation:I,nextLocation:ee,historyAction:oe}){if(Ve.size===0)return;Ve.size>1&&sa(!1,"A router only supports one blocker at a time");let Re=Array.from(Ve.entries()),[Le,et]=Re[Re.length-1],it=L.blockers.get(Le);if(!(it&&it.state==="proceeding")&&et({currentLocation:I,nextLocation:ee,historyAction:oe}))return Le}function en(I){let ee=Ui(404,{pathname:I}),oe=f||u,{matches:Re,route:Le}=Wp(oe);return{notFoundMatches:Re,route:Le,error:ee}}function kt(I,ee,oe){if(C=I,R=ee,T=oe||null,!O&&L.navigation===U1){O=!0;let Re=ws(L.location,L.matches);Re!=null&&at({restoreScrollPosition:Re})}return()=>{C=null,R=null,T=null}}function rn(I,ee){return T&&T(I,ee.map(Re=>K8(Re,L.loaderData)))||I.key}function ta(I,ee){if(C&&R){let oe=rn(I,ee);C[oe]=R()}}function ws(I,ee){if(C){let oe=rn(I,ee),Re=C[oe];if(typeof Re=="number")return Re}return null}function Es(I,ee,oe){if(t.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:Pm(ee,oe,g,!0)}}else return{active:!0,matches:Pm(ee,oe,g,!0)||[]};return{active:!1,matches:null}}async function Vi(I,ee,oe,Re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:I};let Le=I;for(;;){let et=f==null,it=f||u,Ke=l;try{await t.patchRoutesOnNavigation({signal:oe,path:ee,matches:Le,fetcherKey:Re,patch:(rt,Fe)=>{oe.aborted||m_(rt,Fe,it,Ke,i,!1)}})}catch(rt){return{type:"error",error:rt,partialMatches:Le}}finally{et&&!oe.aborted&&(u=[...u])}if(oe.aborted)return{type:"aborted"};let We=uu(it,ee,g);if(We)return{type:"success",matches:We};let st=Pm(it,ee,g,!0);if(!st||Le.length===st.length&&Le.every((rt,Fe)=>rt.route.id===st[Fe].route.id))return{type:"success",matches:null};Le=st}}function go(I){l={},f=I0(I,i,void 0,l)}function bl(I,ee,oe=!1){let Re=f==null;m_(I,ee,f||u,l,i,oe),Re&&(u=[...u],at({}))}return H={get basename(){return g},get future(){return v},get state(){return L},get routes(){return u},get window(){return e},initialize:be,subscribe:lt,enableScrollRestoration:kt,navigate:Tt,fetch:pr,revalidate:Kt,createHref:I=>t.history.createHref(I),encodeLocation:I=>t.history.encodeLocation(I),getFetcher:bt,resetFetcher:an,deleteFetcher:Aa,dispose:Ae,getBlocker:Mr,deleteBlocker:vr,patchRoutes:bl,_internalFetchControllers:B,_internalSetRoutes:go,_internalSetStateDoNotUseOrYouWillBreakYourApp(I){at(I)}},H}function xE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ty(t,e,n,a,i,l){let u,f;if(i){u=[];for(let m of e)if(u.push(m),m.route.id===i){f=m;break}}else u=e,f=e[e.length-1];let g=g2(a||".",h2(u),Hi(t.pathname,n)||t.pathname,l==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&f){let m=v2(g.search);if(f.route.index&&!m)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let v=new URLSearchParams(g.search),_=v.getAll("index");v.delete("index"),_.filter(C=>C).forEach(C=>v.append("index",C));let S=v.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=lE({basename:n,pathname:g.pathname})),gu(g)}function g_(t,e,n){if(!n||!xE(n))return{path:e};if(n.formMethod&&!PE(n.formMethod))return{path:e,error:Ui(405,{method:n.formMethod})};let a=()=>({path:e,error:Ui(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=E3(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xr(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[C,T])=>`${S}${C}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Xr(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}It(typeof FormData=="function","FormData is not available in this environment");let f,g;if(n.formData)f=Oy(n.formData),g=n.formData;else if(n.body instanceof FormData)f=Oy(n.body),g=n.body;else if(n.body instanceof URLSearchParams)f=n.body,g=S_(f);else if(n.body==null)f=new URLSearchParams,g=new FormData;else try{f=new URLSearchParams(n.body),g=S_(f)}catch{return a()}let m={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Xr(m.formMethod))return{path:e,submission:m};let v=so(e);return t&&v.search&&v2(v.search)&&f.append("index",""),v.search=`?${f}`,{path:gu(v),submission:m}}function p_(t,e,n,a,i,l,u,f,g,m,v,_,S,C,T,R,O,M,j,z){let U=z?li(z[1])?z[1].error:z[1].data:void 0,H=i.createURL(l.location),L=i.createURL(g),Y;if(v&&l.errors){let ve=Object.keys(l.errors)[0];Y=u.findIndex(ce=>ce.route.id===ve)}else if(z&&li(z[1])){let ve=z[0];Y=u.findIndex(ce=>ce.route.id===ve)-1}let Q=z?z[1].statusCode:void 0,ae=Q&&Q>=400,_e={currentUrl:H,currentParams:l.matches[0]?.params||{},nextUrl:L,nextParams:u[0].params,...f,actionResult:U,actionStatus:Q},Oe=u.map((ve,ce)=>{let{route:fe}=ve,B=null;if(Y!=null&&ce>Y?B=!1:fe.lazy?B=!0:m2(fe)?v?B=Ay(fe,l.loaderData,l.errors):wE(l.loaderData,l.matches[ce],ve)&&(B=!0):B=!1,B!==null)return Ry(n,a,t,ve,m,e,B);let se=ae?!1:_||H.pathname+H.search===L.pathname+L.search||H.search!==L.search||EE(l.matches[ce],ve),K={..._e,defaultShouldRevalidate:se},pe=Fm(ve,K);return Ry(n,a,t,ve,m,e,pe,K)}),ie=[];return T.forEach((ve,ce)=>{if(v||!u.some(xe=>xe.route.id===ve.routeId)||C.has(ce))return;let fe=l.fetchers.get(ce),B=fe&&fe.state!=="idle"&&fe.data===void 0,se=uu(O,ve.path,M);if(!se){if(j&&B)return;ie.push({key:ce,routeId:ve.routeId,path:ve.path,matches:null,match:null,request:null,controller:null});return}if(R.has(ce))return;let K=Bm(se,ve.path),pe=new AbortController,G=Ef(i,ve.path,pe.signal),W=null;if(S.has(ce))S.delete(ce),W=Mf(n,a,G,se,K,m,e);else if(B)_&&(W=Mf(n,a,G,se,K,m,e));else{let xe={..._e,defaultShouldRevalidate:ae?!1:_};Fm(K,xe)&&(W=Mf(n,a,G,se,K,m,e,xe))}W&&ie.push({key:ce,routeId:ve.routeId,path:ve.path,matches:W,match:K,request:G,controller:pe})}),{dsMatches:Oe,revalidatingFetchers:ie}}function m2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Ay(t,e,n){if(t.lazy)return!0;if(!m2(t))return!1;let a=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!a&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!i}function wE(t,e,n){let a=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return a||i}function EE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Fm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function m_(t,e,n,a,i,l){let u;if(t){let m=a[t];It(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),u=m.children}else u=n;let f=[],g=[];if(e.forEach(m=>{let v=u.find(_=>b3(m,_));v?g.push({existingRoute:v,newRoute:m}):f.push(m)}),f.length>0){let m=I0(f,i,[t||"_","patch",String(u?.length||"0")],a);u.push(...m)}if(l&&g.length>0)for(let m=0;m<g.length;m++){let{existingRoute:v,newRoute:_}=g[m],S=v,[C]=I0([_],i,[],{},!0);Object.assign(S,{element:C.element?C.element:S.element,errorElement:C.errorElement?C.errorElement:S.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:S.hydrateFallbackElement})}}function b3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(i=>b3(n,i))):!1}var v_=new WeakMap,_3=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let i=n[e.id];if(It(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let u=v_.get(i);u||(u={},v_.set(i,u));let f=u[t];if(f)return f;let g=(async()=>{let m=Y8(t),_=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)sa(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)sa(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(i,{[t]:S}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(S=>S===void 0)&&(i.lazy=void 0))})();return u[t]=g,g},y_=new WeakMap;function CE(t,e,n,a,i){let l=n[t.id];if(It(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=y_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{It(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),C={};for(let T in S){let R=S[T];if(R===void 0)continue;let O=I8(T),j=l[T]!==void 0&&T!=="hasErrorBoundary";O?sa(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?sa(!j,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=R}Object.assign(l,C),Object.assign(l,{...a(l),lazy:void 0})})();return y_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],g;for(let v of u){if(i&&i.includes(v))continue;let _=_3({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(f.push(_),v===e&&(g=_))}let m=f.length>0?Promise.all(f).then(()=>{}):void 0;return m?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:g}}async function b_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function TE(t){return t.matches.some(e=>e.route.middleware)?S3(t,()=>b_(t)):b_(t)}function S3(t,e){return AE(t,e,a=>a,kE,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=t,f=Math.min(Math.max(u.findIndex(m=>m.route.id===i),0),Math.max(u.findIndex(m=>m.unstable_shouldCallHandler()),0)),g=cu(u,u[f].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:a}})}}}async function AE(t,e,n,a,i){let{matches:l,request:u,params:f,context:g}=t,m=l.flatMap(_=>_.route.middleware?_.route.middleware.map(S=>[_.route.id,S]):[]);return await x3({request:u,params:f,context:g},m,e,n,a,i)}async function x3(t,e,n,a,i,l,u=0){let{request:f}=t;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let g=e[u];if(!g)return await n();let[m,v]=g,_,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await x3(t,e,n,a,i,l,u+1)},_.value}catch(C){return _={value:await l(C,m,_)},_.value}};try{let C=await v(t,S),T=C!=null?a(C):void 0;return i(T)?T:_?T??_.value:(_={value:await S()},_.value)}catch(C){return await l(C,m,_)}}function w3(t,e,n,a,i){let l=_3({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),u=CE(a.route,Xr(n.method)?"action":"loader",e,t,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Ry(t,e,n,a,i,l,u,f=null){let g=!1,m=w3(t,e,n,a,i);return{...a,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return g=!0,f?typeof v=="boolean"?Fm(a,{...f,defaultShouldRevalidate:v}):Fm(a,f):u},resolve(v){let{lazy:_,loader:S,middleware:C}=a.route,T=g||u||v&&!Xr(n.method)&&(_||S),R=C&&C.length>0&&!S&&!_;return T&&!R?OE({request:n,match:a,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Mf(t,e,n,a,i,l,u,f=null){return a.map(g=>g.route.id!==i.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:w3(t,e,n,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ry(t,e,n,g,l,u,!0,f))}async function RE(t,e,n,a,i,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:i,matches:n},g=await t({...u,fetcherKey:a,runClientMiddleware:m=>{let v=u;return S3(v,()=>m({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return g}async function OE({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,f,g=Xr(t.method),m=g?"action":"loader",v=_=>{let S,C=new Promise((O,M)=>S=M);f=()=>S(),t.signal.addEventListener("abort",f);let T=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(M=>T(M)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,C])};try{let _=g?e.route.action:e.route.loader;if(n||a)if(_){let S,[C]=await Promise.all([v(_).catch(T=>{S=T}),n,a]);if(S!==void 0)throw S;u=C}else{await n;let S=g?e.route.action:e.route.loader;if(S)[u]=await Promise.all([v(S),a]);else if(m==="action"){let C=new URL(t.url),T=C.pathname+C.search;throw Ui(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await v(_);else{let S=new URL(t.url),C=S.pathname+S.search;throw Ui(404,{pathname:C})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function NE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function ME(t){let{result:e,type:n}=t;if(C3(e)){let a;try{a=await NE(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Km(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?C_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Km(e.init?.status||500,void 0,e.data),statusCode:X0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:X0(e)?e.status:void 0}:C_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function DE(t,e,n,a,i){let l=t.headers.get("Location");if(It(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!p2(l)){let u=a.slice(0,a.findIndex(f=>f.route.id===n)+1);l=Ty(new URL(e.url),u,i,l),t.headers.set("Location",l)}return t}function __(t,e,n){if(p2(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=Hi(i.pathname,n)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return t}function Ef(t,e,n,a){let i=t.createURL(E3(e)).toString(),l={signal:n};if(a&&Xr(a.formMethod)){let{formMethod:u,formEncType:f}=a;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(a.json)):f==="text/plain"?l.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?l.body=Oy(a.formData):l.body=a.formData}return new Request(i,l)}function Oy(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function S_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function jE(t,e,n,a=!1,i=!1){let l={},u=null,f,g=!1,m={},v=n&&li(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,C=e[S];if(It(!Oc(C),"Cannot handle redirect results in processLoaderData"),li(C)){let T=C.error;if(v!==void 0&&(T=v,v=void 0),u=u||{},i)u[S]=T;else{let R=cu(t,S);u[R.route.id]==null&&(u[R.route.id]=T)}a||(l[S]=y3),g||(g=!0,f=X0(C.error)?C.error.status:500),C.headers&&(m[S]=C.headers)}else l[S]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(f=C.statusCode),C.headers&&(m[S]=C.headers)}),v!==void 0&&n&&(u={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:m}}function x_(t,e,n,a,i,l){let{loaderData:u,errors:f}=jE(e,n,a);return i.filter(g=>!g.matches||g.matches.some(m=>m.shouldLoad)).forEach(g=>{let{key:m,match:v,controller:_}=g;if(_&&_.signal.aborted)return;let S=l[m];if(It(S,"Did not find corresponding fetcher result"),li(S)){let C=cu(t.matches,v?.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:S.error}),t.fetchers.delete(m)}else if(Oc(S))It(!1,"Unhandled fetcher revalidation redirect");else{let C=eo(S.data);t.fetchers.set(m,C)}}),{loaderData:u,errors:f}}function w_(t,e,n,a){let i=Object.entries(e).filter(([,l])=>l!==y3).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(i[u]=t[u]),a&&a.hasOwnProperty(u))break}return i}function E_(t){return t?li(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function cu(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function Wp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ui(t,{pathname:e,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&e&&n?f=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",a&&e&&n?f=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new Km(t||500,u,new Error(f),!0)}function Jp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,i]=e[n];if(Oc(i))return{key:a,result:i}}}function E3(t){let e=typeof t=="string"?so(t):t;return gu({...e,hash:""})}function zE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function kE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&UE(n))}function UE(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function LE(t){return C3(t.result)&&mE.has(t.result.status)}function li(t){return t.type==="error"}function Oc(t){return(t&&t.type)==="redirect"}function C_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function C3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function PE(t){return pE.has(t.toUpperCase())}function Xr(t){return hE.has(t.toUpperCase())}function v2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Bm(t,e){let n=typeof e=="string"?so(e).search:e.search;if(t[t.length-1].route.index&&v2(n||""))return t[t.length-1];let a=p3(t);return a[a.length-1]}function T_(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:l,json:u}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function L1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function HE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function eo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function GE(t,e){try{let n=t.sessionStorage.getItem(v3);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function qE(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(v3,JSON.stringify(n))}catch(a){sa(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function VE(){let t,e,n=new Promise((a,i)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Lc=N.createContext(null);Lc.displayName="DataRouter";var lg=N.createContext(null);lg.displayName="DataRouterState";N.createContext(!1);var y2=N.createContext({isTransitioning:!1});y2.displayName="ViewTransition";var T3=N.createContext(new Map);T3.displayName="Fetchers";var YE=N.createContext(null);YE.displayName="Await";var pl=N.createContext(null);pl.displayName="Navigation";var yv=N.createContext(null);yv.displayName="Location";var lo=N.createContext({outlet:null,matches:[],isDataRoute:!1});lo.displayName="Route";var b2=N.createContext(null);b2.displayName="RouteError";function ZE(t,{relative:e}={}){It(og(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(pl),{hash:i,pathname:l,search:u}=cg(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:fl([n,l])),a.createHref({pathname:f,search:u,hash:i})}function og(){return N.useContext(yv)!=null}function Pc(){return It(og(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(yv).location}var A3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R3(t){N.useContext(pl).static||N.useLayoutEffect(t)}function ug(){let{isDataRoute:t}=N.useContext(lo);return t?r9():IE()}function IE(){It(og(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Lc),{basename:e,navigator:n}=N.useContext(pl),{matches:a}=N.useContext(lo),{pathname:i}=Pc(),l=JSON.stringify(h2(a)),u=N.useRef(!1);return R3(()=>{u.current=!0}),N.useCallback((g,m={})=>{if(sa(u.current,A3),!u.current)return;if(typeof g=="number"){n.go(g);return}let v=g2(g,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fl([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,i,t])}N.createContext(null);function cg(t,{relative:e}={}){let{matches:n}=N.useContext(lo),{pathname:a}=Pc(),i=JSON.stringify(h2(n));return N.useMemo(()=>g2(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function XE(t,e,n,a,i){It(og(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(pl),{matches:u}=N.useContext(lo),f=u[u.length-1],g=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let j=_&&_.path||"";O3(m,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Pc(),C;C=S;let T=C.pathname||"/",R=T;if(v!=="/"){let j=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=uu(t,{pathname:R});return sa(_||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),sa(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),WE(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:fl([v,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:fl([v,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,a,i)}function KE(){let t=a9(),e=X0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,u)}var FE=N.createElement(KE,null),QE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(lo.Provider,{value:this.props.routeContext},N.createElement(b2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $E({routeContext:t,match:e,children:n}){let a=N.useContext(Lc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(lo.Provider,{value:t},n)}function WE(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);It(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,g=-1;if(n)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=m),v.route.id){let{loaderData:_,errors:S}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let S,C=!1,T=null,R=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||FE,f&&(g<0&&_===0?(O3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):g===_&&(C=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),M=()=>{let j;return S?j=T:C?j=R:v.route.Component?j=N.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=m,N.createElement($E,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(QE,{location:n.location,revalidation:n.revalidation,component:T,error:S,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):M()},null)}function _2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(t){let e=N.useContext(Lc);return It(e,_2(t)),e}function e9(t){let e=N.useContext(lg);return It(e,_2(t)),e}function t9(t){let e=N.useContext(lo);return It(e,_2(t)),e}function S2(t){let e=t9(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function n9(){return S2("useRouteId")}function a9(){let t=N.useContext(b2),e=e9("useRouteError"),n=S2("useRouteError");return t!==void 0?t:e.errors?.[n]}function r9(){let{router:t}=JE("useNavigate"),e=S2("useNavigate"),n=N.useRef(!1);return R3(()=>{n.current=!0}),N.useCallback(async(i,l={})=>{sa(n.current,A3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var A_={};function O3(t,e,n){!e&&!A_[t]&&(A_[t]=!0,sa(!1,n))}var R_={};function O_(t,e){!t&&!R_[e]&&(R_[e]=!0,console.warn(e))}function i9(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&sa(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&sa(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&sa(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var s9=["HydrateFallback","hydrateFallbackElement"],l9=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function o9({router:t,flushSync:e,unstable_onError:n}){let[a,i]=N.useState(t.state),[l,u]=N.useState(),[f,g]=N.useState({isTransitioning:!1}),[m,v]=N.useState(),[_,S]=N.useState(),[C,T]=N.useState(),R=N.useRef(new Map),O=N.useCallback(H=>{i(L=>(H.errors&&n&&Object.entries(H.errors).forEach(([Y,Q])=>{L.errors?.[Y]!==Q&&n(Q)}),H))},[n]),M=N.useCallback((H,{deletedFetchers:L,flushSync:Y,viewTransitionOpts:Q})=>{H.fetchers.forEach((_e,Oe)=>{_e.data!==void 0&&R.current.set(Oe,_e.data)}),L.forEach(_e=>R.current.delete(_e)),O_(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ae=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(O_(Q==null||ae,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Q||!ae){e&&Y?e(()=>O(H)):N.startTransition(()=>O(H));return}if(e&&Y){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})});let _e=t.window.document.startViewTransition(()=>{e(()=>O(H))});_e.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})})}),e(()=>S(_e));return}_?(m&&m.resolve(),_.skipTransition(),T({state:H,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})):(u(H),g({isTransitioning:!0,flushSync:!1,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation}))},[t.window,e,_,m,O]);N.useLayoutEffect(()=>t.subscribe(M),[t,M]),N.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new l9)},[f]),N.useEffect(()=>{if(m&&l&&t.window){let H=l,L=m.promise,Y=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(H)),await L});Y.finished.finally(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})}),S(Y)}},[l,m,t.window,O]),N.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,_,a.location,l]),N.useEffect(()=>{!f.isTransitioning&&C&&(u(C.state),g({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),T(void 0))},[f.isTransitioning,C]);let j=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,L,Y)=>t.navigate(H,{state:L,preventScrollReset:Y?.preventScrollReset}),replace:(H,L,Y)=>t.navigate(H,{replace:!0,state:L,preventScrollReset:Y?.preventScrollReset})}),[t]),z=t.basename||"/",U=N.useMemo(()=>({router:t,navigator:j,static:!1,basename:z,unstable_onError:n}),[t,j,z,n]);return N.createElement(N.Fragment,null,N.createElement(Lc.Provider,{value:U},N.createElement(lg.Provider,{value:a},N.createElement(T3.Provider,{value:R.current},N.createElement(y2.Provider,{value:f},N.createElement(d9,{basename:z,location:a.location,navigationType:a.historyAction,navigator:j},N.createElement(u9,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var u9=N.memo(c9);function c9({routes:t,future:e,state:n,unstable_onError:a}){return XE(t,void 0,n,a,e)}function d9({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){It(!og(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=so(n));let{pathname:g="/",search:m="",hash:v="",state:_=null,key:S="default"}=n,C=N.useMemo(()=>{let T=Hi(g,u);return T==null?null:{location:{pathname:T,search:m,hash:v,state:_,key:S},navigationType:a}},[u,g,m,v,_,S,a]);return sa(C!=null,`<Router basename="${u}"> is not able to match the URL "${g}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(pl.Provider,{value:f},N.createElement(yv.Provider,{children:e,value:C}))}var Hm="get",Gm="application/x-www-form-urlencoded";function bv(t){return t!=null&&typeof t.tagName=="string"}function f9(t){return bv(t)&&t.tagName.toLowerCase()==="button"}function h9(t){return bv(t)&&t.tagName.toLowerCase()==="form"}function g9(t){return bv(t)&&t.tagName.toLowerCase()==="input"}function p9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m9(t,e){return t.button===0&&(!e||e==="_self")&&!p9(t)}var em=null;function v9(){if(em===null)try{new FormData(document.createElement("form"),0),em=!1}catch{em=!0}return em}var y9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function P1(t){return t!=null&&!y9.has(t)?(sa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gm}"`),null):t}function b9(t,e){let n,a,i,l,u;if(h9(t)){let f=t.getAttribute("action");a=f?Hi(f,e):null,n=t.getAttribute("method")||Hm,i=P1(t.getAttribute("enctype"))||Gm,l=new FormData(t)}else if(f9(t)||g9(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(a=g?Hi(g,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Hm,i=P1(t.getAttribute("formenctype"))||P1(f.getAttribute("enctype"))||Gm,l=new FormData(f,t),!v9()){let{name:m,type:v,value:_}=t;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,_)}}else{if(bv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hm,a=null,i=Gm,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function x2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _9(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Hi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function S9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function w9(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await S9(l,n);return u.links?u.links():[]}return[]}));return A9(a.flat(1).filter(x9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N_(t,e,n,a,i,l){let u=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,f=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,m)=>u(g,m)||f(g,m)):l==="data"?e.filter((g,m)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,m)||f(g,m))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function E9(t,e,{includeHydrateFallback:n}={}){return C9(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function C9(t){return[...new Set(t)]}function T9(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function A9(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(T9(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function N3(){let t=N.useContext(Lc);return x2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function R9(){let t=N.useContext(lg);return x2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var w2=N.createContext(void 0);w2.displayName="FrameworkContext";function M3(){let t=N.useContext(w2);return x2(t,"You must render this element inside a <HydratedRouter> element"),t}function O9(t,e){let n=N.useContext(w2),[a,i]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=M=>{M.forEach(j=>{u(j.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let C=()=>{i(!0)},T=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:S0(f,C),onBlur:S0(g,T),onMouseEnter:S0(m,C),onMouseLeave:S0(v,T),onTouchStart:S0(_,C)}]:[!1,S,{}]}function S0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function N9({page:t,...e}){let{router:n}=N3(),a=N.useMemo(()=>uu(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(D9,{page:t,matches:a,...e}):null}function M9(t){let{manifest:e,routeModules:n}=M3(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return w9(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function D9({page:t,matches:e,...n}){let a=Pc(),{manifest:i,routeModules:l}=M3(),{basename:u}=N3(),{loaderData:f,matches:g}=R9(),m=N.useMemo(()=>N_(t,e,g,i,a,"data"),[t,e,g,i,a]),v=N.useMemo(()=>N_(t,e,g,i,a,"assets"),[t,e,g,i,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(e.forEach(M=>{let j=i.routes[M.route.id];!j||!j.hasLoader||(!m.some(z=>z.route.id===M.route.id)&&M.route.id in f&&l[M.route.id]?.shouldRevalidate||j.hasClientLoader?R=!0:T.add(M.route.id))}),T.size===0)return[];let O=_9(t,u,"data");return R&&T.size>0&&O.searchParams.set("_routes",e.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[u,f,a,i,m,e,t,l]),S=N.useMemo(()=>E9(v,i),[v,i]),C=M9(v);return N.createElement(N.Fragment,null,_.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),C.map(({key:T,link:R})=>N.createElement("link",{key:T,nonce:n.nonce,...R})))}function j9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var D3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D3&&(window.__reactRouterVersion="7.9.4")}catch{}function z9(t,e){return SE({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:H8({window:e?.window}),hydrationData:k9(),routes:t,mapRouteProperties:i9,hydrationRouteProperties:s9,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function k9(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:U9(t.errors)}),t}function U9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new Km(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var j3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z3=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:f,target:g,to:m,preventScrollReset:v,viewTransition:_,...S},C){let{basename:T}=N.useContext(pl),R=typeof m=="string"&&j3.test(m),O,M=!1;if(typeof m=="string"&&R&&(O=m,D3))try{let ae=new URL(window.location.href),_e=m.startsWith("//")?new URL(ae.protocol+m):new URL(m),Oe=Hi(_e.pathname,T);_e.origin===ae.origin&&Oe!=null?m=Oe+_e.search+_e.hash:M=!0}catch{sa(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=ZE(m,{relative:i}),[z,U,H]=O9(a,S),L=H9(m,{replace:u,state:f,target:g,preventScrollReset:v,relative:i,viewTransition:_});function Y(ae){e&&e(ae),ae.defaultPrevented||L(ae)}let Q=N.createElement("a",{...S,...H,href:O||j,onClick:M||l?e:Y,ref:j9(C,U),target:g,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,Q,N.createElement(N9,{page:j})):Q});z3.displayName="Link";var L9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:f,children:g,...m},v){let _=cg(u,{relative:m.relative}),S=Pc(),C=N.useContext(lg),{navigator:T,basename:R}=N.useContext(pl),O=C!=null&&Z9(_)&&f===!0,M=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,j=S.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(j=j.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=Hi(z,R)||z);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=j===M||!i&&j.startsWith(M)&&j.charAt(U)==="/",L=z!=null&&(z===M||!i&&z.startsWith(M)&&z.charAt(M.length)==="/"),Y={isActive:H,isPending:L,isTransitioning:O},Q=H?e:void 0,ae;typeof a=="function"?ae=a(Y):ae=[a,H?"active":null,L?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let _e=typeof l=="function"?l(Y):l;return N.createElement(z3,{...m,"aria-current":Q,className:ae,ref:v,style:_e,to:u,viewTransition:f},typeof g=="function"?g(Y):g)});L9.displayName="NavLink";var P9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Hm,action:f,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:_,...S},C)=>{let T=V9(),R=Y9(f,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&j3.test(f),j=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let U=z.nativeEvent.submitter,H=U?.getAttribute("formmethod")||u;T(U||z.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:C,method:O,action:R,onSubmit:a?g:j,...S,"data-discover":!M&&t==="render"?"true":void 0})});P9.displayName="Form";function B9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k3(t){let e=N.useContext(Lc);return It(e,B9(t)),e}function H9(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=ug(),g=Pc(),m=cg(t,{relative:l});return N.useCallback(v=>{if(m9(v,e)){v.preventDefault();let _=n!==void 0?n:gu(g)===gu(m);f(t,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[g,f,m,n,a,e,t,i,l,u])}var G9=0,q9=()=>`__${String(++G9)}__`;function V9(){let{router:t}=k3("useSubmit"),{basename:e}=N.useContext(pl),n=n9();return N.useCallback(async(a,i={})=>{let{action:l,method:u,encType:f,formData:g,body:m}=b9(a,e);if(i.navigate===!1){let v=i.fetcherKey||q9();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:m,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:m,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Y9(t,{relative:e}={}){let{basename:n}=N.useContext(pl),a=N.useContext(lo);It(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...cg(t||".",{relative:e})},u=Pc();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(v=>v==="")){f.delete("index"),g.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:fl([n,l.pathname])),gu(l)}function Z9(t,{relative:e}={}){let n=N.useContext(y2);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=k3("useViewTransitionState"),i=cg(t,{relative:e});if(!n.isTransitioning)return!1;let l=Hi(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Hi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Xm(i.pathname,u)!=null||Xm(i.pathname,l)!=null}var dg=o3();const I9=ig(dg);function X9(t){return N.createElement(o9,{flushSync:dg.flushSync,...t})}const K9="modulepreload",F9=function(t){return"/rect-up/"+t},M_={},fg=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=f?.nonce||f?.getAttribute("nonce");i=m(n.map(v=>{if(v=F9(v),v in M_)return;M_[v]=!0;const _=v.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":K9,_||(C.as="script"),C.crossOrigin="",C.href=v,g&&C.setAttribute("nonce",g),document.head.appendChild(C),_)return new Promise((T,R)=>{C.addEventListener("load",T),C.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return i.then(f=>{for(const g of f||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},Q9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fg(async()=>{const{default:a}=await Promise.resolve().then(()=>Yf);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class E2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class D_ extends E2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j_ extends E2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class z_ extends E2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ny;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ny||(Ny={}));var $9=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};class W9{constructor(e,{headers:n={},customFetch:a,region:i=Ny.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Q9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $9(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:l,method:u,body:f,signal:g}=a;let m={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(m["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(m["Content-Type"]="application/json",S=JSON.stringify(f)));const C=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:g}).catch(M=>{throw M.name==="AbortError"?M:new D_(M)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new j_(C);if(!C.ok)throw new z_(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new D_(l)}:{data:null,error:l,response:l instanceof z_||l instanceof j_?l.context:void 0}}})}}var Ha={},af={},rf={},sf={},lf={},of={},J9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pf=J9();const e7=Pf.fetch,U3=Pf.fetch.bind(Pf),L3=Pf.Headers,t7=Pf.Request,n7=Pf.Response,Yf=Object.freeze(Object.defineProperty({__proto__:null,Headers:L3,Request:t7,Response:n7,default:U3,fetch:e7},Symbol.toStringTag,{value:"Module"})),a7=O8(Yf);var tm={},k_;function P3(){if(k_)return tm;k_=1,Object.defineProperty(tm,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return tm.default=t,tm}var U_;function B3(){if(U_)return of;U_=1;var t=of&&of.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(of,"__esModule",{value:!0});const e=t(a7),n=t(P3());class a{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,_,S,C;let T=null,R=null,O=null,M=m.status,j=m.statusText;if(m.ok){if(this.method!=="HEAD"){const L=await m.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=L:R=JSON.parse(L))}const U=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),H=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");U&&H&&H.length>1&&(O=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,M=406,j="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const U=await m.text();try{T=JSON.parse(U),Array.isArray(T)&&m.status===404&&(R=[],T=null,M=200,j="OK")}catch{m.status===404&&U===""?(M=204,j="No Content"):T={message:U}}if(T&&this.isMaybeSingle&&(!((C=T?.details)===null||C===void 0)&&C.includes("0 rows"))&&(T=null,M=200,j="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:R,count:O,status:M,statusText:j}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,_,S;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return of.default=a,of}var L_;function H3(){if(L_)return lf;L_=1;var t=lf&&lf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lf,"__esModule",{value:!0});const e=t(B3());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:g=f}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:f=u}={}){const g=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:g=!1,format:m="text"}={}){var v;const _=[i?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return lf.default=n,lf}var P_;function C2(){if(P_)return sf;P_=1;var t=sf&&sf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sf,"__esModule",{value:!0});const e=t(H3());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${g}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return sf.default=n,sf}var B_;function G3(){if(B_)return rf;B_=1;var t=rf&&rf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rf,"__esModule",{value:!0});const e=t(C2());class n{constructor(i,{headers:l={},schema:u,fetch:f}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(i,l){const{head:u=!1,count:f}=l??{},g=u?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(_=>/\s/.test(_)&&!m?"":(_==='"'&&(m=!m),_)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const _=i.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(_.length>0){const S=[...new Set(_)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return rf.default=n,rf}var H_;function r7(){if(H_)return af;H_=1;var t=af&&af.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(af,"__esModule",{value:!0});const e=t(G3()),n=t(C2());class a{constructor(l,{headers:u={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=g}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:g=!1,count:m}={}){var v;let _;const S=new URL(`${this.url}/rpc/${l}`);let C;f||g?(_=f?"HEAD":"GET",Object.entries(u).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(_="POST",C=u);const T=new Headers(this.headers);return m&&T.set("Prefer",`count=${m}`),new n.default({method:_,url:S,headers:T,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return af.default=a,af}var G_;function i7(){if(G_)return Ha;G_=1;var t=Ha&&Ha.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.PostgrestError=Ha.PostgrestBuilder=Ha.PostgrestTransformBuilder=Ha.PostgrestFilterBuilder=Ha.PostgrestQueryBuilder=Ha.PostgrestClient=void 0;const e=t(r7());Ha.PostgrestClient=e.default;const n=t(G3());Ha.PostgrestQueryBuilder=n.default;const a=t(C2());Ha.PostgrestFilterBuilder=a.default;const i=t(H3());Ha.PostgrestTransformBuilder=i.default;const l=t(B3());Ha.PostgrestBuilder=l.default;const u=t(P3());return Ha.PostgrestError=u.default,Ha.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},Ha}var s7=i7();const l7=ig(s7),{PostgrestClient:o7,PostgrestQueryBuilder:dG,PostgrestFilterBuilder:fG,PostgrestTransformBuilder:hG,PostgrestBuilder:gG,PostgrestError:pG}=l7;class u7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const c7="2.75.0",d7=`realtime-js/${c7}`,f7="1.0.0",My=1e4,h7=1e3,g7=100;var U0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(U0||(U0={}));var wa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wa||(wa={}));var ps;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ps||(ps={}));var Dy;(function(t){t.websocket="websocket"})(Dy||(Dy={}));var Ac;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ac||(Ac={}));class p7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const f=a.decode(e.slice(u,u+i));u=u+i;const g=a.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:g,payload:m}}}class q3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Un;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Un||(Un={}));const q_=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=m7(u,t,e,i),l),{}):{}},m7=(t,e,n,a)=>{const i=e.find(f=>f.name===t),l=i?.type,u=n[t];return l&&!a.includes(l)?V3(l,u):jy(u)},V3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return _7(e,n)}switch(t){case Un.bool:return v7(e);case Un.float4:case Un.float8:case Un.int2:case Un.int4:case Un.int8:case Un.numeric:case Un.oid:return y7(e);case Un.json:case Un.jsonb:return b7(e);case Un.timestamp:return S7(e);case Un.abstime:case Un.date:case Un.daterange:case Un.int4range:case Un.int8range:case Un.money:case Un.reltime:case Un.text:case Un.time:case Un.timestamptz:case Un.timetz:case Un.tsrange:case Un.tstzrange:return jy(e);default:return jy(e)}},jy=t=>t,v7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},y7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},b7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},_7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>V3(e,f))}return t},S7=t=>typeof t=="string"?t.replace(" ","T"):t,Y3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class B1{constructor(e,n,a={},i=My){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var V_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(V_||(V_={}));class L0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=L0.syncState(this.state,i,l,u),this.pendingDiffs.forEach(g=>{this.state=L0.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=L0.syncDiff(this.state,i,l,u),f())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const l=this.cloneDeep(e),u=this.transformState(n),f={},g={};return this.map(l,(m,v)=>{u[m]||(g[m]=v)}),this.map(u,(m,v)=>{const _=l[m];if(_){const S=v.map(O=>O.presence_ref),C=_.map(O=>O.presence_ref),T=v.filter(O=>C.indexOf(O.presence_ref)<0),R=_.filter(O=>S.indexOf(O.presence_ref)<0);T.length>0&&(f[m]=T),R.length>0&&(g[m]=R)}else f[m]=v}),this.syncDiff(l,{joins:f,leaves:g},a,i)}static syncDiff(e,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(f,g)=>{var m;const v=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(g),v.length>0){const _=e[f].map(C=>C.presence_ref),S=v.filter(C=>_.indexOf(C.presence_ref)<0);e[f].unshift(...S)}a(f,v,g)}),this.map(u,(f,g)=>{let m=e[f];if(!m)return;const v=g.map(_=>_.presence_ref);m=m.filter(_=>v.indexOf(_.presence_ref)<0),e[f]=m,i(f,m,g),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Y_||(Y_={}));var P0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(P0||(P0={}));var no;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(no||(no={}));class T2{constructor(e,n={config:{}},a){var i,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=wa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new B1(this,ps.join,this.params,this.timeout),this.rejoinTimer=new q3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wa.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ps.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new L0(this),this.broadcastEndpointURL=Y3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==wa.closed){const{config:{broadcast:u,presence:f,private:g}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[P0.PRESENCE]&&this.bindings[P0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(no.CHANNEL_ERROR,C)),this._onClose(()=>e?.(no.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var T;if(this.socket.setAuth(),C===void 0){e?.(no.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,M=[];for(let j=0;j<O;j++){const z=R[j],{filter:{event:U,schema:H,table:L,filter:Y}}=z,Q=C&&C[j];if(Q&&Q.event===U&&Q.schema===H&&Q.table===L&&Q.filter===Y)M.push(Object.assign(Object.assign({},z),{id:Q.id}));else{this.unsubscribe(),this.state=wa.errored,e?.(no.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(no.SUBSCRIBED);return}}).receive("error",C=>{this.state=wa.errored,e?.(no.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(no.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===wa.joined&&e===P0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,g;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ps.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new B1(this,ps.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new B1(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,l;const u=e.toLocaleLowerCase(),{close:f,error:g,leave:m,join:v}=ps;if(a&&[f,g,m,v].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var T,R,O;return((T=C.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=C.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(C=>C.callback(S,a)):(l=this.bindings[u])===null||l===void 0||l.filter(C=>{var T,R,O,M,j,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const U=C.id,H=(T=C.filter)===null||T===void 0?void 0:T.event;return U&&((R=n.ids)===null||R===void 0?void 0:R.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const U=(j=(M=C?.filter)===null||M===void 0?void 0:M.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return U==="*"||U===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:R,table:O,commit_timestamp:M,type:j,errors:z}=T;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:M,eventType:j,new:{},old:{},errors:z}),this._getPayloadRecords(T))}C.callback(S,a)})}_isClosed(){return this.state===wa.closed}_isJoined(){return this.state===wa.joined}_isJoining(){return this.state===wa.joining}_isLeaving(){return this.state===wa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&T2.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ps.close,{},e)}_onError(e){this._on(ps.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=q_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=q_(e.columns,e.old_record)),n}}const H1=()=>{},nm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x7=[1e3,2e3,5e3,1e4],w7=1e4,E7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C7{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=My,this.transport=null,this.heartbeatIntervalMs=nm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=H1,this.ref=0,this.reconnectTimer=null,this.logger=H1,this.conn=null,this.sendBuffer=[],this.serializer=new p7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...u)=>fg(async()=>{const{default:f}=await Promise.resolve().then(()=>Yf);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dy.websocket}`,this.httpEndpoint=Y3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case U0.connecting:return Ac.Connecting;case U0.open:return Ac.Open;case U0.closing:return Ac.Closing;default:return Ac.Closed}}isConnected(){return this.connectionState()===Ac.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new T2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(h7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},nm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=n,f=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${i} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ps.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([E7],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:d7};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ps.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new q3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,l,u,f,g,m,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:My,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:nm.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:H1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>x7[_-1]||w7),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,S)=>S(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class A2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ha(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class T7 extends A2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zy extends A2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var A7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};const Z3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fg(async()=>{const{default:a}=await Promise.resolve().then(()=>Yf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},R7=()=>A7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fg(()=>Promise.resolve().then(()=>Yf),void 0)).Response:Response}),ky=t=>{if(Array.isArray(t))return t.map(n=>ky(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=ky(a)}),e},O7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Bc=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};const G1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N7=(t,e,n)=>Bc(void 0,void 0,void 0,function*(){const a=yield R7();t instanceof a&&!n?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new T7(G1(i),l,u))}).catch(i=>{e(new zy(G1(i),i))}):e(new zy(G1(t),t))}),M7=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(O7(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function hg(t,e,n,a,i,l){return Bc(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,M7(e,a,i,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>N7(g,f,a))})})}function Qm(t,e,n,a){return Bc(this,void 0,void 0,function*(){return hg(t,"GET",e,n,a)})}function ll(t,e,n,a,i){return Bc(this,void 0,void 0,function*(){return hg(t,"POST",e,a,i,n)})}function Uy(t,e,n,a,i){return Bc(this,void 0,void 0,function*(){return hg(t,"PUT",e,a,i,n)})}function D7(t,e,n,a){return Bc(this,void 0,void 0,function*(){return hg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function I3(t,e,n,a,i){return Bc(this,void 0,void 0,function*(){return hg(t,"DELETE",e,a,i,n)})}var j7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};class z7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return j7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ha(e))return{data:null,error:e};throw e}})}}var k7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};class U7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new z7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return k7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ha(e))return{data:null,error:e};throw e}})}}var Vr=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};const L7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class P7{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=Z3(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return Vr(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Z_),i);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),_=yield(e=="PUT"?Uy:ll)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ha(l))return{data:null,error:l};throw l}})}upload(e,n,a){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return Vr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:Z_.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",m.cacheControl)):(g=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const _=yield Uy(this.fetch,f.toString(),g,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ha(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return Vr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const l=yield ll(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new A2("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ha(a))return{data:null,error:a};throw a}})}update(e,n,a){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Vr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ha(i))return{data:null,error:i};throw i}})}copy(e,n,a){return Vr(this,void 0,void 0,function*(){try{return{data:{path:(yield ll(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ha(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return Vr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield ll(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ha(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return Vr(this,void 0,void 0,function*(){try{const i=yield ll(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ha(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>Qm(this.fetch,`${this.url}/${i}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new U7(g,this.shouldThrowOnError)}info(e){return Vr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Qm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ky(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ha(a))return{data:null,error:a};throw a}})}exists(e){return Vr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield D7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ha(a)&&a instanceof zy){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const f=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&i.push(g);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${m}`)}}}remove(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield I3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ha(n))return{data:null,error:n};throw n}})}list(e,n,a){return Vr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},L7),n),{prefix:e||""});return{data:yield ll(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ha(i))return{data:null,error:i};throw i}})}listV2(e,n){return Vr(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield ll(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ha(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const B7="2.75.0",H7={"X-Client-Info":`storage-js/${B7}`};var uf=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};class G7{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},H7),n),this.fetch=Z3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return uf(this,void 0,void 0,function*(){try{return{data:yield Qm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ha(e))return{data:null,error:e};throw e}})}getBucket(e){return uf(this,void 0,void 0,function*(){try{return{data:yield Qm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ha(n))return{data:null,error:n};throw n}})}createBucket(e){return uf(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield ll(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ha(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return uf(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ha(a))return{data:null,error:a};throw a}})}emptyBucket(e){return uf(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ha(n))return{data:null,error:n};throw n}})}deleteBucket(e){return uf(this,void 0,void 0,function*(){try{return{data:yield I3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ha(n))return{data:null,error:n};throw n}})}}class q7 extends G7{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new P7(this.url,this.headers,e,this.fetch)}}const V7="2.75.0";let O0="";typeof Deno<"u"?O0="deno":typeof document<"u"?O0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?O0="react-native":O0="node";const Y7={"X-Client-Info":`supabase-js-${O0}/${V7}`},Z7={headers:Y7},I7={schema:"public"},X7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K7={};var F7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};const Q7=t=>{let e;return t?e=t:typeof fetch>"u"?e=U3:e=fetch,(...n)=>e(...n)},$7=()=>typeof Headers>"u"?L3:Headers,W7=(t,e,n)=>{const a=Q7(n),i=$7();return(l,u)=>F7(void 0,void 0,void 0,function*(){var f;const g=(f=yield e())!==null&&f!==void 0?f:t;let m=new i(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},u),{headers:m}))})};var J7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};function eC(t){return t.endsWith("/")?t:t+"/"}function tC(t,e){var n,a;const{db:i,auth:l,realtime:u,global:f}=t,{db:g,auth:m,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),f),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>J7(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function nC(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const X3="2.75.0",Cf=30*1e3,Ly=3,q1=Ly*Cf,aC="http://localhost:9999",rC="supabase.auth.token",iC={"X-Client-Info":`gotrue-js/${X3}`},Py="X-Supabase-Api-Version",K3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lC=600*1e3;class K0 extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ht(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oC extends K0{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function uC(t){return ht(t)&&t.name==="AuthApiError"}class Rc extends K0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class yu extends K0{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class iu extends yu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cC(t){return ht(t)&&t.name==="AuthSessionMissingError"}class cf extends yu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class am extends yu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rm extends yu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dC(t){return ht(t)&&t.name==="AuthImplicitGrantRedirectError"}class I_ extends yu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class By extends yu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function V1(t){return ht(t)&&t.name==="AuthRetryableFetchError"}class X_ extends yu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Hy extends yu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K_=` 	
\r=`.split(""),fC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<K_.length;e+=1)t[K_[e].charCodeAt(0)]=-2;for(let e=0;e<$m.length;e+=1)t[$m[e].charCodeAt(0)]=e;return t})();function F_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n($m[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n($m[a]),e.queuedBits-=6}}function F3(t,e,n){const a=fC[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Q_(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{pC(u,a,n)};for(let u=0;u<t.length;u+=1)F3(t.charCodeAt(u),i,l);return e.join("")}function hC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gC(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}hC(a,e)}}function pC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Df(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)F3(t.charCodeAt(i),n,a);return new Uint8Array(e)}function mC(t){const e=[];return gC(t,n=>e.push(n)),new Uint8Array(e)}function Nc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>F_(i,n,a)),F_(null,n,a),e.join("")}function vC(t){return Math.round(Date.now()/1e3)+t}function yC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const si=()=>typeof window<"u"&&typeof document<"u",xc={tested:!1,writable:!1},Q3=()=>{if(!si())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xc.tested)return xc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xc.tested=!0,xc.writable=!0}catch{xc.tested=!0,xc.writable=!1}return xc.writable};function bC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const $3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fg(async()=>{const{default:a}=await Promise.resolve().then(()=>Yf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},_C=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},wc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},au=async(t,e)=>{await t.removeItem(e)};class _v{constructor(){this.promise=new _v.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_v.promiseConstructor=Promise;function Y1(t){const e=t.split(".");if(e.length!==3)throw new Hy("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!sC.test(e[a]))throw new Hy("JWT not in base64url format");return{header:JSON.parse(Q_(e[0])),payload:JSON.parse(Q_(e[1])),signature:Df(e[2]),raw:{header:e[0],payload:e[1]}}}async function SC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xC(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function wC(t){return("0"+t.toString(16)).substr(-2)}function EC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,wC).join("")}async function CC(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function TC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await CC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function df(t,e,n=!1){const a=EC();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await Tf(t,`${e}-code-verifier`,i);const l=await TC(a);return[l,a===l?"plain":"s256"]}const AC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RC(t){const e=t.headers.get(Py);if(!e||!e.match(AC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function OC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function NC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ff(t){if(!MC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Z1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $_(t){return JSON.parse(JSON.stringify(t))}var DC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Tc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jC=[502,503,504];async function W_(t){var e;if(!_C(t))throw new By(Tc(t),0);if(jC.includes(t.status))throw new By(Tc(t),t.status);let n;try{n=await t.json()}catch(l){throw new Rc(Tc(l),l)}let a;const i=RC(t);if(i&&i.getTime()>=K3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new X_(Tc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new iu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new X_(Tc(n),t.status,n.weak_password.reasons);throw new oC(Tc(n),t.status||500,a)}const zC=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function Ct(t,e,n,a){var i;const l=Object.assign({},a?.headers);l[Py]||(l[Py]=K3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await kC(t,e,n+f,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function kC(t,e,n,a,i,l){const u=zC(e,a,i,l);let f;try{f=await t(n,Object.assign({},u))}catch(g){throw console.error(g),new By(Tc(g),0)}if(f.ok||await W_(f),a?.noResolveJson)return f;try{return await f.json()}catch(g){await W_(g)}}function gs(t){var e;let n=null;PC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=vC(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function J_(t){const e=gs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function du(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function UC(t){return{data:t,error:null}}function LC(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=t,u=DC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},g=Object.assign({},u);return{data:{properties:f,user:g},error:null}}function e4(t){return t}function PC(t){return t.access_token&&t.refresh_token&&t.expires_in}const I1=["global","local","others"];var BC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class HC{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=$3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=I1[0]){if(I1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${I1.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:du})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=BC(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:LC,redirectTo:n?.redirectTo})}catch(n){if(ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:du})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,l,u,f,g;try{const m={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:e4});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ht(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ff(e);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:du})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ff(e);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:du})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){ff(e);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:du})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ff(e.userId);try{const{data:n,error:a}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ff(e.userId),ff(e.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,l,u,f,g;try{const m={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:e4});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ht(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}}function t4(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const hf={debug:!!(globalThis&&Q3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GC extends W3{}async function qC(t,e,n){hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),hf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new GC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hf.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function VC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function YC(t){return parseInt(t,16)}function ZC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function IC(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:g,resources:m,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const C=J3(t.address),T=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${C}

${R}`;let M=`URI: ${_}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),g&&(M+=`
Request ID: ${g}`),m){let j=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);j+=`
- ${z}`}M+=j}return`${O}
${M}`}class fa extends Error{constructor({message:e,code:n,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Wm extends fa{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function XC({error:t,options:e}){var n,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new fa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new fa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new fa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new fa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(tS(u)){if(l.rp.id!==u)return new fa({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new fa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(tS(a)){if(n.rpId!==a)return new fa({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var eS=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class FC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const QC=new FC;function $C(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=eS(t,["challenge","user","excludeCredentials"]),l=Df(e).buffer,u=Object.assign(Object.assign({},n),{id:Df(n.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];f.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:Df(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function WC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=eS(t,["challenge","allowCredentials"]),i=Df(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Df(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function JC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nc(new Uint8Array(i.authenticatorData)),clientDataJSON:Nc(new Uint8Array(i.clientDataJSON)),signature:Nc(new Uint8Array(i.signature)),userHandle:i.userHandle?Nc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function n4(){var t,e;return!!(si()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wm("Browser returned unexpected credential type",e)}:{data:null,error:new Wm("Empty credential response",e)}}catch(e){return{data:null,error:XC({error:e,options:t})}}}async function nT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wm("Browser returned unexpected credential type",e)}:{data:null,error:new Wm("Empty credential response",e)}}catch(e){return{data:null,error:KC({error:e,options:t})}}}const aT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},rT={userVerification:"preferred",hints:["security-key"]};function Jm(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const f=a[l];e(f)?a[l]=Jm(f,u):a[l]=Jm(u)}else a[l]=u}return a}function iT(t,e){return Jm(aT,t,e||{})}function sT(t,e){return Jm(rT,t,e||{})}class lT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const g=i??QC.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=iT(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await tT({publicKey:m,signal:g});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const m=sT(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await nT(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:g}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Rc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!n)return{data:null,error:new K0("rpId is required for WebAuthn authentication")};try{if(!n4())return{data:null,error:new Rc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:f};const{webauthn:g}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:a,credential_response:g.credential_response}})}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Rc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!n)return{data:null,error:new K0("rpId is required for WebAuthn registration")};try{if(!n4())return{data:null,error:new Rc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:g,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Rc("Unexpected error in register",u)}}}}VC();const oT={url:aC,storageKey:rC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a4(t,e,n){return await n()}const gf={};class F0{get jwks(){var e,n;return(n=(e=gf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){gf[this.storageKey]=Object.assign(Object.assign({},gf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=gf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gf[this.storageKey]=Object.assign(Object.assign({},gf[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=F0.nextInstanceID,F0.nextInstanceID+=1,this.instanceID>0&&si()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},oT),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new HC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$3(i.fetch),this.lock=i.lock||a4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:si()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=qC:this.lock=a4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lT(this)},this.persistSession?(i.storage?this.storage=i.storage:Q3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=t4(this.memoryStorage)),si()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=bC(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),si()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),dC(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ht(n)?{error:n}:{error:new Rc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:gs}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,i;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let C=null,T=null;this.flowType==="pkce"&&([C,T]=await df(this.storage,this.storageKey)),l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:C,code_challenge_method:T},xform:gs})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:gs})}else throw new am("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:J_})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:J_})}else throw new am("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new cf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,l,u,f,g,m,v,_,S;let C,T;if("message"in e)C=e.message,T=e.signature;else{const{chain:R,wallet:O,statement:M,options:j}=e;let z;if(si())if(typeof O=="object")z=O;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")z=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const U=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),H=await z.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=J3(H[0]);let Y=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Y){const ae=await z.request({method:"eth_chainId"});Y=YC(ae)}const Q={domain:U.host,address:L,statement:M,uri:U.href,version:"1",chainId:Y,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=IC(Q),T=await z.request({method:"personal_sign",params:[ZC(C),L]})}try{const{data:R,error:O}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:gs});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new cf}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ht(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,i,l,u,f,g,m,v,_,S,C;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:O,wallet:M,statement:j,options:z}=e;let U;if(si())if(typeof M=="object")U=M;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))U=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=M}const H=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const L=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),j?{statement:j}:null));let Y;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")Y=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)Y=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)T=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),R=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const L=await U.signMessage(new TextEncoder().encode(T),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=L}}try{const{data:O,error:M}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Nc(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:gs});if(M)throw M;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new cf}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:M})}catch(O){if(ht(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await wc(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:l,error:u}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:gs});if(await au(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new cf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(ht(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=e,f=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:gs}),{data:g,error:m}=f;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new cf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,l,u;try{if("email"in e){const{email:f,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await df(this.storage,this.storageKey));const{error:_}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:f,options:g}=e,{data:m,error:v}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(u=g?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new am("You must provide either an email or phone number.")}catch(f){if(ht(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,a;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:gs});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,m=u.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await df(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:UC})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new iu;const{error:i}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:f}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new am("You must provide either an email or phone number and a type")}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await wc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<q1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await wc(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Z1()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,m,v)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:du}):await this._useSession(async n=>{var a,i,l;const{data:u,error:f}=n;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new iu}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:du})})}catch(n){if(ht(n))return cC(n)&&(await this._removeSession(),await au(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new iu;const u=i.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await df(this.storage,this.storageKey));const{data:m,error:v}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:u.access_token,xform:du});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new iu;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=Y1(e.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new iu;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!si())throw new rm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new I_("No code detected.");const{data:j,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:f,expires_at:g,token_type:m}=e;if(!l||!f||!u||!m)throw new rm("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(f);let S=v+_;g&&(S=parseInt(g));const C=S-v;C*1e3<=Cf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${_}s`);const T=S-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const M={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:_,expires_at:S,refresh_token:u,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(a){if(ht(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await wc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{error:l};const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(uC(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await au(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=yC(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await df(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,f,g,m,v;const{data:_,error:S}=l;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return si()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ht(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:f,token:g,access_token:m,nonce:v}=e,_=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:gs}),{data:S,error:C}=_;return C?{data:{user:null,session:null},error:C}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new cf}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:C})}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await xC(async i=>(i>0&&await SC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gs})),(i,l)=>{const u=200*Math.pow(2,i);return l&&V1(l)&&Date.now()+u-a<Cf})}catch(a){if(this._debug(n,"error",a),ht(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),si()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await wc(this.storage,this.storageKey);if(i&&this.userStorage){let u=await wc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await Tf(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:Z1()}else if(i&&!i.user&&!i.user){const u=await wc(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await au(this.storage,this.storageKey+"-user"),await Tf(this.storage,this.storageKey,i)):i.user=Z1()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<q1;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${q1}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),V1(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(i.access_token);!f&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new iu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _v;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new iu;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(i,"error",l),ht(l)){const u={data:null,error:l};return V1(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Tf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=$_(i);await Tf(this.storage,this.storageKey,l)}else{const i=$_(n);await Tf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await au(this.storage,this.storageKey),await au(this.storage,this.storageKey+"-code-verifier"),await au(this.storage,this.storageKey+"-user"),this.userStorage&&await au(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&si()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Cf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cf}ms, refresh threshold is ${Ly} ticks`),i<=Ly&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof W3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!si()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await df(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(f.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?{data:null,error:l}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&g.type==="totp"&&(!((i=g?.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JC(e.webauthn.credential_response):eT(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:$C(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:WC(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Y1(i.access_token);let f=null;u.aal&&(f=u.aal);let g=f;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(f=>f.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+lC>i)return a;const{data:l,error:u}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:C,error:T}=await this.getSession();if(T||!C.session)return{data:null,error:T};a=C.session.access_token}const{header:i,payload:l,signature:u,raw:{header:f,payload:g}}=Y1(a);n?.allowExpired||OC(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:l,header:i,signature:u},error:null}}const v=NC(i.alg),_=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,mC(`${f}.${g}`)))throw new Hy("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}}F0.nextInstanceID=0;const uT=F0;class cT extends uT{constructor(e){super(e)}}var dT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(f,g)}m((a=a.apply(t,e||[])).next())})};class fT{constructor(e,n,a){var i,l,u;this.supabaseUrl=e,this.supabaseKey=n;const f=nC(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:I7,realtime:K7,auth:Object.assign(Object.assign({},X7),{storageKey:g}),global:Z7},v=tC(a??{},m);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=W7(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new o7(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new q7(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new W9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return dT(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,storageKey:u,flowType:f,lock:g,debug:m},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cT({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,flowType:f,lock:g,debug:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new C7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hT=(t,e,n)=>new fT(t,e,n);function gT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pT="https://ptwlzqcuyndjswcwgndp.supabase.co",mT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",nn=hT(pT,mT),ev="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var nS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r4=Qe.createContext&&Qe.createContext(nS),vT=["attr","size","title"];function yT(t,e){if(t==null)return{};var n=bT(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function bT(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},tv.apply(this,arguments)}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(a){_T(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _T(t,e,n){return e=ST(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ST(t){var e=xT(t,"string");return typeof e=="symbol"?e:e+""}function xT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aS(t){return t&&t.map((e,n)=>Qe.createElement(e.tag,nv({key:n},e.attr),aS(e.child)))}function Dn(t){return e=>Qe.createElement(wT,tv({attr:nv({},t.attr)},e),aS(t.child))}function wT(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=yT(t,vT),f=i||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),Qe.createElement("svg",tv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:g,style:nv(nv({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Qe.createElement("title",null,l),t.children)};return r4!==void 0?Qe.createElement(r4.Consumer,null,n=>e(n)):e(nS)}function rS(t){return Dn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function ET(t){return Dn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function x0(t){return Dn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function CT(t){return Dn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function TT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function AT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function RT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function OT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function NT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function MT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function DT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},child:[]}]})(t)}function jT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(t)}function s4(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function l4(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function zT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(t)}function kT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function UT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function X1(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function iS(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function LT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function o4(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function PT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function BT(t){return Dn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function Me(t,e,n){function a(f,g){var m;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(m=f._zod).traits??(m.traits=new Set),f._zod.traits.add(t),e(f,g);for(const v in u.prototype)v in f||Object.defineProperty(f,v,{value:u.prototype[v].bind(f)});f._zod.constr=u,f._zod.def=g}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:t});function u(f){var g;const m=n?.Parent?new l:this;a(m,f),(g=m._zod).deferred??(g.deferred=[]);for(const v of m._zod.deferred)v();return m}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>n?.Parent&&f instanceof n.Parent?!0:f?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class jf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class sS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const lS={};function jc(t){return lS}function HT(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,i])=>e.indexOf(+a)===-1).map(([a,i])=>i)}function Gy(t,e){return typeof e=="bigint"?e.toString():e}function R2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function O2(t){return t==null}function N2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const u4=Symbol("evaluating");function Pn(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==u4)return a===void 0&&(a=u4,a=n()),a},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Hc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Gc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function c4(t){return JSON.stringify(t)}const oS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function av(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const GT=R2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Q0(t){if(av(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(av(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function uS(t){return Q0(t)?{...t}:Array.isArray(t)?[...t]:t}const qT=new Set(["string","number","symbol"]);function Sv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bu(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function xt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function VT(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function YT(t,e){const n=t._zod.def,a=Gc(t._zod.def,{get shape(){const i={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(i[l]=n.shape[l])}return Hc(this,"shape",i),i},checks:[]});return bu(t,a)}function ZT(t,e){const n=t._zod.def,a=Gc(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete i[l]}return Hc(this,"shape",i),i},checks:[]});return bu(t,a)}function IT(t,e){if(!Q0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Gc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Hc(this,"shape",l),l},checks:[]});return bu(t,i)}function XT(t,e){if(!Q0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Hc(this,"shape",a),a},checks:t._zod.def.checks};return bu(t,n)}function KT(t,e){const n=Gc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Hc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return bu(t,n)}function FT(t,e,n){const a=Gc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)l[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return Hc(this,"shape",l),l},checks:[]});return bu(e,a)}function QT(t,e,n){const a=Gc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new t({type:"nonoptional",innerType:i[u]});return Hc(this,"shape",l),l},checks:[]});return bu(e,a)}function Of(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function cS(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function im(t){return typeof t=="string"?t:t?.message}function zc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const i=im(t.inst?._zod.def?.error?.(t))??im(e?.error?.(t))??im(n.customError?.(t))??im(n.localeError?.(t))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function M2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function $0(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const dS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Gy,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},D2=Me("$ZodError",dS),xv=Me("$ZodError",dS,{Parent:Error});function $T(t,e=n=>n.message){const n={},a=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):a.push(e(i));return{formErrors:a,fieldErrors:n}}function WT(t,e=n=>n.message){const n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,f=0;for(;f<l.path.length;){const g=l.path[f];f===l.path.length-1?(u[g]=u[g]||{_errors:[]},u[g]._errors.push(e(l))):u[g]=u[g]||{_errors:[]},u=u[g],f++}}};return a(t),n}const wv=t=>(e,n,a,i)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new jf;if(u.issues.length){const f=new(i?.Err??t)(u.issues.map(g=>zc(g,l,jc())));throw oS(f,i?.callee),f}return u.value},JT=wv(xv),Ev=t=>async(e,n,a,i)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(i?.Err??t)(u.issues.map(g=>zc(g,l,jc())));throw oS(f,i?.callee),f}return u.value},eA=Ev(xv),Cv=t=>(e,n,a)=>{const i=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new jf;return l.issues.length?{success:!1,error:new(t??D2)(l.issues.map(u=>zc(u,i,jc())))}:{success:!0,data:l.value}},tA=Cv(xv),Tv=t=>async(e,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>zc(u,i,jc())))}:{success:!0,data:l.value}},nA=Tv(xv),aA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return wv(t)(e,n,i)},rA=t=>(e,n,a)=>wv(t)(e,n,a),iA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Ev(t)(e,n,i)},sA=t=>async(e,n,a)=>Ev(t)(e,n,a),lA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Cv(t)(e,n,i)},oA=t=>(e,n,a)=>Cv(t)(e,n,a),uA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Tv(t)(e,n,i)},cA=t=>async(e,n,a)=>Tv(t)(e,n,a),dA=/^[cC][^\s-]{8,}$/,fA=/^[0-9a-z]+$/,hA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,gA=/^[0-9a-vA-V]{20}$/,pA=/^[A-Za-z0-9]{27}$/,mA=/^[a-zA-Z0-9_-]{21}$/,vA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,yA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,d4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,bA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_A="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function SA(){return new RegExp(_A,"u")}const xA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,EA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,CA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,fS=/^[A-Za-z0-9_-]*$/,AA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,RA=/^\+(?:[0-9]){6,14}[0-9]$/,hS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",OA=new RegExp(`^${hS}$`);function gS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function NA(t){return new RegExp(`^${gS(t)}$`)}function MA(t){const e=gS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${hS}T(?:${a})$`)}const DA=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},jA=/^(?:true|false)$/i,zA=/^[^A-Z]*$/,kA=/^[^a-z]*$/,ml=Me("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),UA=Me("$ZodCheckMaxLength",(t,e)=>{var n;ml.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const i=a.value;if(i.length<=e.maximum)return;const u=M2(i);a.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),LA=Me("$ZodCheckMinLength",(t,e)=>{var n;ml.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const i=a.value;if(i.length>=e.minimum)return;const u=M2(i);a.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),PA=Me("$ZodCheckLengthEquals",(t,e)=>{var n;ml.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=a=>{const i=a.value,l=i.length;if(l===e.length)return;const u=M2(i),f=l>e.length;a.issues.push({origin:u,...f?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),Av=Me("$ZodCheckStringFormat",(t,e)=>{var n,a;ml.init(t,e),t._zod.onattach.push(i=>{const l=i._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),BA=Me("$ZodCheckRegex",(t,e)=>{Av.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),HA=Me("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=zA),Av.init(t,e)}),GA=Me("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=kA),Av.init(t,e)}),qA=Me("$ZodCheckIncludes",(t,e)=>{ml.init(t,e);const n=Sv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),VA=Me("$ZodCheckStartsWith",(t,e)=>{ml.init(t,e);const n=new RegExp(`^${Sv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),YA=Me("$ZodCheckEndsWith",(t,e)=>{ml.init(t,e);const n=new RegExp(`.*${Sv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),ZA=Me("$ZodCheckOverwrite",(t,e)=>{ml.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class IA{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),l=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,i.join(`
`))}}const XA={major:4,minor:1,patch:12},pa=Me("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=XA;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const i of a)for(const l of i._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,f,g)=>{let m=Of(u),v;for(const _ of f){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(m)continue;const S=u.issues.length,C=_._zod.check(u);if(C instanceof Promise&&g?.async===!1)throw new jf;if(v||C instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await C,u.issues.length!==S&&(m||(m=Of(u,S)))});else{if(u.issues.length===S)continue;m||(m=Of(u,S))}}return v?v.then(()=>u):u},l=(u,f,g)=>{if(Of(u))return u.aborted=!0,u;const m=i(f,a,g);if(m instanceof Promise){if(g.async===!1)throw new jf;return m.then(v=>t._zod.parse(v,g))}return t._zod.parse(m,g)};t._zod.run=(u,f)=>{if(f.skipChecks)return t._zod.parse(u,f);if(f.direction==="backward"){const m=t._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return m instanceof Promise?m.then(v=>l(v,u,f)):l(m,u,f)}const g=t._zod.parse(u,f);if(g instanceof Promise){if(f.async===!1)throw new jf;return g.then(m=>i(m,a,f))}return i(g,a,f)}}t["~standard"]={validate:i=>{try{const l=tA(t,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return nA(t,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),j2=Me("$ZodString",(t,e)=>{pa.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??DA(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Yn=Me("$ZodStringFormat",(t,e)=>{Av.init(t,e),j2.init(t,e)}),KA=Me("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=yA),Yn.init(t,e)}),FA=Me("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=d4(a))}else e.pattern??(e.pattern=d4());Yn.init(t,e)}),QA=Me("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=bA),Yn.init(t,e)}),$A=Me("$ZodURL",(t,e)=>{Yn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:AA.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),WA=Me("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=SA()),Yn.init(t,e)}),JA=Me("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=mA),Yn.init(t,e)}),eR=Me("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=dA),Yn.init(t,e)}),tR=Me("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=fA),Yn.init(t,e)}),nR=Me("$ZodULID",(t,e)=>{e.pattern??(e.pattern=hA),Yn.init(t,e)}),aR=Me("$ZodXID",(t,e)=>{e.pattern??(e.pattern=gA),Yn.init(t,e)}),rR=Me("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=pA),Yn.init(t,e)}),iR=Me("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=MA(e)),Yn.init(t,e)}),sR=Me("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=OA),Yn.init(t,e)}),lR=Me("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=NA(e)),Yn.init(t,e)}),oR=Me("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=vA),Yn.init(t,e)}),uR=Me("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=xA),Yn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),cR=Me("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=wA),Yn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),dR=Me("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=EA),Yn.init(t,e)}),fR=Me("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=CA),Yn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,l]=a;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function pS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const hR=Me("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=TA),Yn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{pS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function gR(t){if(!fS.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return pS(n)}const pR=Me("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=fS),Yn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{gR(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),mR=Me("$ZodE164",(t,e)=>{e.pattern??(e.pattern=RA),Yn.init(t,e)});function vR(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const yR=Me("$ZodJWT",(t,e)=>{Yn.init(t,e),t._zod.check=n=>{vR(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),bR=Me("$ZodBoolean",(t,e)=>{pa.init(t,e),t._zod.pattern=jA,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),_R=Me("$ZodUnknown",(t,e)=>{pa.init(t,e),t._zod.parse=n=>n}),SR=Me("$ZodNever",(t,e)=>{pa.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function f4(t,e,n){t.issues.length&&e.issues.push(...cS(n,t.issues)),e.value[n]=t.value}const xR=Me("$ZodArray",(t,e)=>{pa.init(t,e),t._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const f=i[u],g=e.element._zod.run({value:f,issues:[]},a);g instanceof Promise?l.push(g.then(m=>f4(m,n,u))):f4(g,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function rv(t,e,n,a){t.issues.length&&e.issues.push(...cS(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function mS(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=VT(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function vS(t,e,n,a,i,l){const u=[],f=i.keySet,g=i.catchall._zod,m=g.def.type;for(const v of Object.keys(e)){if(f.has(v))continue;if(m==="never"){u.push(v);continue}const _=g.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(S=>rv(S,n,v,e))):rv(_,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const wR=Me("$ZodObject",(t,e)=>{if(pa.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const f=e.shape;Object.defineProperty(e,"shape",{get:()=>{const g={...f};return Object.defineProperty(e,"shape",{value:g}),g}})}const a=R2(()=>mS(e));Pn(t._zod,"propValues",()=>{const f=e.shape,g={};for(const m in f){const v=f[m]._zod;if(v.values){g[m]??(g[m]=new Set);for(const _ of v.values)g[m].add(_)}}return g});const i=av,l=e.catchall;let u;t._zod.parse=(f,g)=>{u??(u=a.value);const m=f.value;if(!i(m))return f.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),f;f.value={};const v=[],_=u.shape;for(const S of u.keys){const T=_[S]._zod.run({value:m[S],issues:[]},g);T instanceof Promise?v.push(T.then(R=>rv(R,f,S,m))):rv(T,f,S,m)}return l?vS(v,m,f,g,a.value,t):v.length?Promise.all(v).then(()=>f):f}}),ER=Me("$ZodObjectJIT",(t,e)=>{wR.init(t,e);const n=t._zod.parse,a=R2(()=>mS(e)),i=S=>{const C=new IA(["shape","payload","ctx"]),T=a.value,R=z=>{const U=c4(z);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};C.write("const input = payload.value;");const O=Object.create(null);let M=0;for(const z of T.keys)O[z]=`key_${M++}`;C.write("const newResult = {};");for(const z of T.keys){const U=O[z],H=c4(z);C.write(`const ${U} = ${R(z)};`),C.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        
        if (${U}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${U}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const j=C.compile();return(z,U)=>j(S,z,U)};let l;const u=av,f=!lS.jitless,m=f&&GT.value,v=e.catchall;let _;t._zod.parse=(S,C)=>{_??(_=a.value);const T=S.value;return u(T)?f&&m&&C?.async===!1&&C.jitless!==!0?(l||(l=i(e.shape)),S=l(S,C),v?vS([],T,S,C,_,t):S):n(S,C):(S.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),S)}});function h4(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const i=t.filter(l=>!Of(l));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>zc(u,a,jc())))}),e)}const CR=Me("$ZodUnion",(t,e)=>{pa.init(t,e),Pn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Pn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Pn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Pn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>N2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(i,l)=>{if(n)return a(i,l);let u=!1;const f=[];for(const g of e.options){const m=g._zod.run({value:i.value,issues:[]},l);if(m instanceof Promise)f.push(m),u=!0;else{if(m.issues.length===0)return m;f.push(m)}}return u?Promise.all(f).then(g=>h4(g,i,t,l)):h4(f,i,t,l)}}),TR=Me("$ZodIntersection",(t,e)=>{pa.init(t,e),t._zod.parse=(n,a)=>{const i=n.value,l=e.left._zod.run({value:i,issues:[]},a),u=e.right._zod.run({value:i,issues:[]},a);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([g,m])=>g4(n,g,m)):g4(n,l,u)}});function qy(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Q0(t)&&Q0(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const u=qy(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],u=qy(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function g4(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Of(t))return t;const a=qy(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const AR=Me("$ZodEnum",(t,e)=>{pa.init(t,e);const n=HT(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(i=>qT.has(typeof i)).map(i=>typeof i=="string"?Sv(i):i.toString()).join("|")})$`),t._zod.parse=(i,l)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:t}),i}}),RR=Me("$ZodTransform",(t,e)=>{pa.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new sS(t.constructor.name);const i=e.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new jf;return n.value=i,n}});function p4(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const OR=Me("$ZodOptional",(t,e)=>{pa.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Pn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Pn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>p4(l,n.value)):p4(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),NR=Me("$ZodNullable",(t,e)=>{pa.init(t,e),Pn(t._zod,"optin",()=>e.innerType._zod.optin),Pn(t._zod,"optout",()=>e.innerType._zod.optout),Pn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)}|null)$`):void 0}),Pn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),MR=Me("$ZodDefault",(t,e)=>{pa.init(t,e),t._zod.optin="optional",Pn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>m4(l,e)):m4(i,e)}});function m4(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const DR=Me("$ZodPrefault",(t,e)=>{pa.init(t,e),t._zod.optin="optional",Pn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),jR=Me("$ZodNonOptional",(t,e)=>{pa.init(t,e),Pn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>v4(l,t)):v4(i,t)}});function v4(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const zR=Me("$ZodCatch",(t,e)=>{pa.init(t,e),Pn(t._zod,"optin",()=>e.innerType._zod.optin),Pn(t._zod,"optout",()=>e.innerType._zod.optout),Pn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>zc(u,a,jc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>zc(l,a,jc()))},input:n.value}),n.issues=[]),n)}}),kR=Me("$ZodPipe",(t,e)=>{pa.init(t,e),Pn(t._zod,"values",()=>e.in._zod.values),Pn(t._zod,"optin",()=>e.in._zod.optin),Pn(t._zod,"optout",()=>e.out._zod.optout),Pn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(u=>sm(u,e.in,a)):sm(l,e.in,a)}const i=e.in._zod.run(n,a);return i instanceof Promise?i.then(l=>sm(l,e.out,a)):sm(i,e.out,a)}});function sm(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const UR=Me("$ZodReadonly",(t,e)=>{pa.init(t,e),Pn(t._zod,"propValues",()=>e.innerType._zod.propValues),Pn(t._zod,"values",()=>e.innerType._zod.values),Pn(t._zod,"optin",()=>e.innerType._zod.optin),Pn(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(y4):y4(i)}});function y4(t){return t.value=Object.freeze(t.value),t}const LR=Me("$ZodCustom",(t,e)=>{ml.init(t,e),pa.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,i=e.fn(a);if(i instanceof Promise)return i.then(l=>b4(l,n,a,t));b4(i,n,a,t)}});function b4(t,e,n,a){if(!t){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),e.issues.push($0(i))}}class PR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function BR(){return new PR}const lm=BR();function HR(t,e){return new t({type:"string",...xt(e)})}function yS(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...xt(e)})}function _4(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...xt(e)})}function GR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...xt(e)})}function qR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xt(e)})}function VR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xt(e)})}function YR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xt(e)})}function ZR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...xt(e)})}function IR(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...xt(e)})}function XR(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...xt(e)})}function KR(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...xt(e)})}function FR(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...xt(e)})}function QR(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...xt(e)})}function $R(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...xt(e)})}function WR(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...xt(e)})}function JR(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...xt(e)})}function eO(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...xt(e)})}function tO(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xt(e)})}function nO(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xt(e)})}function aO(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...xt(e)})}function rO(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...xt(e)})}function iO(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...xt(e)})}function sO(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...xt(e)})}function lO(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xt(e)})}function oO(t,e){return new t({type:"string",format:"date",check:"string_format",...xt(e)})}function uO(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...xt(e)})}function cO(t,e){return new t({type:"string",format:"duration",check:"string_format",...xt(e)})}function dO(t,e){return new t({type:"boolean",...xt(e)})}function fO(t){return new t({type:"unknown"})}function hO(t,e){return new t({type:"never",...xt(e)})}function bS(t,e){return new UA({check:"max_length",...xt(e),maximum:t})}function iv(t,e){return new LA({check:"min_length",...xt(e),minimum:t})}function _S(t,e){return new PA({check:"length_equals",...xt(e),length:t})}function gO(t,e){return new BA({check:"string_format",format:"regex",...xt(e),pattern:t})}function pO(t){return new HA({check:"string_format",format:"lowercase",...xt(t)})}function mO(t){return new GA({check:"string_format",format:"uppercase",...xt(t)})}function vO(t,e){return new qA({check:"string_format",format:"includes",...xt(e),includes:t})}function yO(t,e){return new VA({check:"string_format",format:"starts_with",...xt(e),prefix:t})}function bO(t,e){return new YA({check:"string_format",format:"ends_with",...xt(e),suffix:t})}function gg(t){return new ZA({check:"overwrite",tx:t})}function _O(t){return gg(e=>e.normalize(t))}function SO(){return gg(t=>t.trim())}function xO(){return gg(t=>t.toLowerCase())}function wO(){return gg(t=>t.toUpperCase())}function EO(t,e,n){return new t({type:"array",element:e,...xt(n)})}function CO(t,e,n){return new t({type:"custom",check:"custom",fn:e,...xt(n)})}function TO(t){const e=AO(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push($0(a,n.value,e._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push($0(i))}},t(n.value,n)));return e}function AO(t,e){const n=new ml({check:"custom",...xt(e)});return n._zod.check=t,n}const RO=Me("ZodISODateTime",(t,e)=>{iR.init(t,e),In.init(t,e)});function OO(t){return lO(RO,t)}const NO=Me("ZodISODate",(t,e)=>{sR.init(t,e),In.init(t,e)});function MO(t){return oO(NO,t)}const DO=Me("ZodISOTime",(t,e)=>{lR.init(t,e),In.init(t,e)});function jO(t){return uO(DO,t)}const zO=Me("ZodISODuration",(t,e)=>{oR.init(t,e),In.init(t,e)});function kO(t){return cO(zO,t)}const UO=(t,e)=>{D2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>WT(t,n)},flatten:{value:n=>$T(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Gy,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Gy,2)}},isEmpty:{get(){return t.issues.length===0}}})},Gi=Me("ZodError",UO,{Parent:Error}),LO=wv(Gi),PO=Ev(Gi),BO=Cv(Gi),HO=Tv(Gi),GO=aA(Gi),qO=rA(Gi),VO=iA(Gi),YO=sA(Gi),ZO=lA(Gi),IO=oA(Gi),XO=uA(Gi),KO=cA(Gi),Ca=Me("ZodType",(t,e)=>(pa.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Gc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>bu(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>LO(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>BO(t,n,a),t.parseAsync=async(n,a)=>PO(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>HO(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>GO(t,n,a),t.decode=(n,a)=>qO(t,n,a),t.encodeAsync=async(n,a)=>VO(t,n,a),t.decodeAsync=async(n,a)=>YO(t,n,a),t.safeEncode=(n,a)=>ZO(t,n,a),t.safeDecode=(n,a)=>IO(t,n,a),t.safeEncodeAsync=async(n,a)=>XO(t,n,a),t.safeDecodeAsync=async(n,a)=>KO(t,n,a),t.refine=(n,a)=>t.check(BN(n,a)),t.superRefine=n=>t.check(HN(n)),t.overwrite=n=>t.check(gg(n)),t.optional=()=>w4(t),t.nullable=()=>E4(t),t.nullish=()=>w4(E4(t)),t.nonoptional=n=>DN(t,n),t.array=()=>yN(t),t.or=n=>SN([t,n]),t.and=n=>wN(t,n),t.transform=n=>C4(t,TN(n)),t.default=n=>ON(t,n),t.prefault=n=>MN(t,n),t.catch=n=>zN(t,n),t.pipe=n=>C4(t,n),t.readonly=()=>LN(t),t.describe=n=>{const a=t.clone();return lm.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return lm.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return lm.get(t);const a=t.clone();return lm.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),SS=Me("_ZodString",(t,e)=>{j2.init(t,e),Ca.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(gO(...a)),t.includes=(...a)=>t.check(vO(...a)),t.startsWith=(...a)=>t.check(yO(...a)),t.endsWith=(...a)=>t.check(bO(...a)),t.min=(...a)=>t.check(iv(...a)),t.max=(...a)=>t.check(bS(...a)),t.length=(...a)=>t.check(_S(...a)),t.nonempty=(...a)=>t.check(iv(1,...a)),t.lowercase=a=>t.check(pO(a)),t.uppercase=a=>t.check(mO(a)),t.trim=()=>t.check(SO()),t.normalize=(...a)=>t.check(_O(...a)),t.toLowerCase=()=>t.check(xO()),t.toUpperCase=()=>t.check(wO())}),FO=Me("ZodString",(t,e)=>{j2.init(t,e),SS.init(t,e),t.email=n=>t.check(yS(xS,n)),t.url=n=>t.check(ZR(QO,n)),t.jwt=n=>t.check(sO(dN,n)),t.emoji=n=>t.check(IR($O,n)),t.guid=n=>t.check(_4(S4,n)),t.uuid=n=>t.check(GR(om,n)),t.uuidv4=n=>t.check(qR(om,n)),t.uuidv6=n=>t.check(VR(om,n)),t.uuidv7=n=>t.check(YR(om,n)),t.nanoid=n=>t.check(XR(WO,n)),t.guid=n=>t.check(_4(S4,n)),t.cuid=n=>t.check(KR(JO,n)),t.cuid2=n=>t.check(FR(eN,n)),t.ulid=n=>t.check(QR(tN,n)),t.base64=n=>t.check(aO(oN,n)),t.base64url=n=>t.check(rO(uN,n)),t.xid=n=>t.check($R(nN,n)),t.ksuid=n=>t.check(WR(aN,n)),t.ipv4=n=>t.check(JR(rN,n)),t.ipv6=n=>t.check(eO(iN,n)),t.cidrv4=n=>t.check(tO(sN,n)),t.cidrv6=n=>t.check(nO(lN,n)),t.e164=n=>t.check(iO(cN,n)),t.datetime=n=>t.check(OO(n)),t.date=n=>t.check(MO(n)),t.time=n=>t.check(jO(n)),t.duration=n=>t.check(kO(n))});function Fr(t){return HR(FO,t)}const In=Me("ZodStringFormat",(t,e)=>{Yn.init(t,e),SS.init(t,e)}),xS=Me("ZodEmail",(t,e)=>{QA.init(t,e),In.init(t,e)});function z2(t){return yS(xS,t)}const S4=Me("ZodGUID",(t,e)=>{KA.init(t,e),In.init(t,e)}),om=Me("ZodUUID",(t,e)=>{FA.init(t,e),In.init(t,e)}),QO=Me("ZodURL",(t,e)=>{$A.init(t,e),In.init(t,e)}),$O=Me("ZodEmoji",(t,e)=>{WA.init(t,e),In.init(t,e)}),WO=Me("ZodNanoID",(t,e)=>{JA.init(t,e),In.init(t,e)}),JO=Me("ZodCUID",(t,e)=>{eR.init(t,e),In.init(t,e)}),eN=Me("ZodCUID2",(t,e)=>{tR.init(t,e),In.init(t,e)}),tN=Me("ZodULID",(t,e)=>{nR.init(t,e),In.init(t,e)}),nN=Me("ZodXID",(t,e)=>{aR.init(t,e),In.init(t,e)}),aN=Me("ZodKSUID",(t,e)=>{rR.init(t,e),In.init(t,e)}),rN=Me("ZodIPv4",(t,e)=>{uR.init(t,e),In.init(t,e)}),iN=Me("ZodIPv6",(t,e)=>{cR.init(t,e),In.init(t,e)}),sN=Me("ZodCIDRv4",(t,e)=>{dR.init(t,e),In.init(t,e)}),lN=Me("ZodCIDRv6",(t,e)=>{fR.init(t,e),In.init(t,e)}),oN=Me("ZodBase64",(t,e)=>{hR.init(t,e),In.init(t,e)}),uN=Me("ZodBase64URL",(t,e)=>{pR.init(t,e),In.init(t,e)}),cN=Me("ZodE164",(t,e)=>{mR.init(t,e),In.init(t,e)}),dN=Me("ZodJWT",(t,e)=>{yR.init(t,e),In.init(t,e)}),fN=Me("ZodBoolean",(t,e)=>{bR.init(t,e),Ca.init(t,e)});function hN(t){return dO(fN,t)}const gN=Me("ZodUnknown",(t,e)=>{_R.init(t,e),Ca.init(t,e)});function x4(){return fO(gN)}const pN=Me("ZodNever",(t,e)=>{SR.init(t,e),Ca.init(t,e)});function mN(t){return hO(pN,t)}const vN=Me("ZodArray",(t,e)=>{xR.init(t,e),Ca.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(iv(n,a)),t.nonempty=n=>t.check(iv(1,n)),t.max=(n,a)=>t.check(bS(n,a)),t.length=(n,a)=>t.check(_S(n,a)),t.unwrap=()=>t.element});function yN(t,e){return EO(vN,t,e)}const bN=Me("ZodObject",(t,e)=>{ER.init(t,e),Ca.init(t,e),Pn(t,"shape",()=>e.shape),t.keyof=()=>EN(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:x4()}),t.loose=()=>t.clone({...t._zod.def,catchall:x4()}),t.strict=()=>t.clone({...t._zod.def,catchall:mN()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>IT(t,n),t.safeExtend=n=>XT(t,n),t.merge=n=>KT(t,n),t.pick=n=>YT(t,n),t.omit=n=>ZT(t,n),t.partial=(...n)=>FT(wS,t,n[0]),t.required=(...n)=>QT(ES,t,n[0])});function Zf(t,e){const n={type:"object",shape:t??{},...xt(e)};return new bN(n)}const _N=Me("ZodUnion",(t,e)=>{CR.init(t,e),Ca.init(t,e),t.options=e.options});function SN(t,e){return new _N({type:"union",options:t,...xt(e)})}const xN=Me("ZodIntersection",(t,e)=>{TR.init(t,e),Ca.init(t,e)});function wN(t,e){return new xN({type:"intersection",left:t,right:e})}const Vy=Me("ZodEnum",(t,e)=>{AR.init(t,e),Ca.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,i)=>{const l={};for(const u of a)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],...xt(i),entries:l})},t.exclude=(a,i)=>{const l={...e.entries};for(const u of a)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],...xt(i),entries:l})}});function EN(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new Vy({type:"enum",entries:n,...xt(e)})}const CN=Me("ZodTransform",(t,e)=>{RR.init(t,e),Ca.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new sS(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push($0(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push($0(u))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function TN(t){return new CN({type:"transform",transform:t})}const wS=Me("ZodOptional",(t,e)=>{OR.init(t,e),Ca.init(t,e),t.unwrap=()=>t._zod.def.innerType});function w4(t){return new wS({type:"optional",innerType:t})}const AN=Me("ZodNullable",(t,e)=>{NR.init(t,e),Ca.init(t,e),t.unwrap=()=>t._zod.def.innerType});function E4(t){return new AN({type:"nullable",innerType:t})}const RN=Me("ZodDefault",(t,e)=>{MR.init(t,e),Ca.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function ON(t,e){return new RN({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():uS(e)}})}const NN=Me("ZodPrefault",(t,e)=>{DR.init(t,e),Ca.init(t,e),t.unwrap=()=>t._zod.def.innerType});function MN(t,e){return new NN({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():uS(e)}})}const ES=Me("ZodNonOptional",(t,e)=>{jR.init(t,e),Ca.init(t,e),t.unwrap=()=>t._zod.def.innerType});function DN(t,e){return new ES({type:"nonoptional",innerType:t,...xt(e)})}const jN=Me("ZodCatch",(t,e)=>{zR.init(t,e),Ca.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function zN(t,e){return new jN({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const kN=Me("ZodPipe",(t,e)=>{kR.init(t,e),Ca.init(t,e),t.in=e.in,t.out=e.out});function C4(t,e){return new kN({type:"pipe",in:t,out:e})}const UN=Me("ZodReadonly",(t,e)=>{UR.init(t,e),Ca.init(t,e),t.unwrap=()=>t._zod.def.innerType});function LN(t){return new UN({type:"readonly",innerType:t})}const PN=Me("ZodCustom",(t,e)=>{LR.init(t,e),Ca.init(t,e)});function BN(t,e={}){return CO(PN,t,e)}function HN(t){return TO(t)}var pg=t=>t.type==="checkbox",Mc=t=>t instanceof Date,Ir=t=>t==null;const CS=t=>typeof t=="object";var ga=t=>!Ir(t)&&!Array.isArray(t)&&CS(t)&&!Mc(t),GN=t=>ga(t)&&t.target?pg(t.target)?t.target.checked:t.target.value:t,qN=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,VN=(t,e)=>t.has(qN(e)),YN=t=>{const e=t.constructor&&t.constructor.prototype;return ga(e)&&e.hasOwnProperty("isPrototypeOf")},k2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ga(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(k2&&(t instanceof Blob||a))&&(n||ga(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!YN(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ga(t[i]));else return t;return e}var Rv=t=>/^\w*$/.test(t),ia=t=>t===void 0,U2=t=>Array.isArray(t)?t.filter(Boolean):[],L2=t=>U2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(t,e,n)=>{if(!e||!ga(t))return n;const a=(Rv(e)?[e]:L2(e)).reduce((i,l)=>Ir(i)?i:i[l],t);return ia(a)||a===t?ia(t[e])?n:t[e]:a},ol=t=>typeof t=="boolean",Nn=(t,e,n)=>{let a=-1;const i=Rv(e)?[e]:L2(e),l=i.length,u=l-1;for(;++a<l;){const f=i[a];let g=n;if(a!==u){const m=t[f];g=ga(m)||Array.isArray(m)?m:isNaN(+i[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=g,t=t[f]}};const T4={BLUR:"blur",FOCUS_OUT:"focusout"},vs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZN=Qe.createContext(null);ZN.displayName="HookFormContext";var IN=(t,e,n,a=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const u=l;return e._proxyFormState[u]!==vs.all&&(e._proxyFormState[u]=!a||vs.all),t[u]}});return i};const XN=typeof window<"u"?Qe.useLayoutEffect:Qe.useEffect;var ui=t=>typeof t=="string",KN=(t,e,n,a,i)=>ui(t)?(a&&e.watch.add(t),nt(n,t,i)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),nt(n,l))):(a&&(e.watchAll=!0),n),Yy=t=>Ir(t)||!CS(t);function fu(t,e,n=new WeakSet){if(Yy(t)||Yy(e))return t===e;if(Mc(t)&&Mc(e))return t.getTime()===e.getTime();const a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const u=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const f=e[l];if(Mc(u)&&Mc(f)||ga(u)&&ga(f)||Array.isArray(u)&&Array.isArray(f)?!fu(u,f,n):u!==f)return!1}}return!0}var P2=(t,e,n,a,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:i||!0}}:{},B0=t=>Array.isArray(t)?t:[t],A4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function TS(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const i=t[a],l=e[a];if(i&&ga(i)&&l){const u=TS(i,l);ga(u)&&(n[a]=u)}else t[a]&&(n[a]=l)}return n}var Zr=t=>ga(t)&&!Object.keys(t).length,B2=t=>t.type==="file",ys=t=>typeof t=="function",sv=t=>{if(!k2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AS=t=>t.type==="select-multiple",H2=t=>t.type==="radio",FN=t=>H2(t)||pg(t),K1=t=>sv(t)&&t.isConnected;function QN(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=ia(t)?a++:t[e[a++]];return t}function $N(t){for(const e in t)if(t.hasOwnProperty(e)&&!ia(t[e]))return!1;return!0}function da(t,e){const n=Array.isArray(e)?e:Rv(e)?[e]:L2(e),a=n.length===1?t:QN(t,n),i=n.length-1,l=n[i];return a&&delete a[l],i!==0&&(ga(a)&&Zr(a)||Array.isArray(a)&&$N(a))&&da(t,n.slice(0,-1)),t}var WN=t=>{for(const e in t)if(ys(t[e]))return!0;return!1};function RS(t){return Array.isArray(t)||ga(t)&&!WN(t)}function Zy(t,e={}){for(const n in t)RS(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Zy(t[n],e[n])):ia(t[n])||(e[n]=!0);return e}function Af(t,e,n){n||(n=Zy(e));for(const a in t)RS(t[a])?ia(e)||Yy(n[a])?n[a]=Zy(t[a],Array.isArray(t[a])?[]:{}):Af(t[a],Ir(e)?{}:e[a],n[a]):n[a]=!fu(t[a],e[a]);return n}const R4={value:!1,isValid:!1},O4={value:!0,isValid:!0};var OS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ia(t[0].attributes.value)?ia(t[0].value)||t[0].value===""?O4:{value:t[0].value,isValid:!0}:O4:R4}return R4},NS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>ia(t)?t:e?t===""?NaN:t&&+t:n&&ui(t)?new Date(t):a?a(t):t;const N4={isValid:!1,value:null};var MS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,N4):N4;function M4(t){const e=t.ref;return B2(e)?e.files:H2(e)?MS(t.refs).value:AS(e)?[...e.selectedOptions].map(({value:n})=>n):pg(e)?OS(t.refs).value:NS(ia(e.value)?t.ref.value:e.value,t)}var JN=(t,e,n,a)=>{const i={};for(const l of t){const u=nt(e,l);u&&Nn(i,l,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:a}},lv=t=>t instanceof RegExp,w0=t=>ia(t)?t:lv(t)?t.source:ga(t)?lv(t.value)?t.value.source:t.value:t,D4=t=>({isOnSubmit:!t||t===vs.onSubmit,isOnBlur:t===vs.onBlur,isOnChange:t===vs.onChange,isOnAll:t===vs.all,isOnTouch:t===vs.onTouched});const j4="AsyncFunction";var eM=t=>!!t&&!!t.validate&&!!(ys(t.validate)&&t.validate.constructor.name===j4||ga(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===j4)),tM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),z4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const H0=(t,e,n,a)=>{for(const i of n||Object.keys(t)){const l=nt(t,i);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if(H0(f,e))break}else if(ga(f)&&H0(f,e))break}}};function k4(t,e,n){const a=nt(t,n);if(a||Rv(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),u=nt(e,l),f=nt(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};i.pop()}return{name:n}}var nM=(t,e,n,a)=>{n(t);const{name:i,...l}=t;return Zr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||vs.all))},aM=(t,e,n)=>!t||!e||t===e||B0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),rM=(t,e,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?a.isOnBlur:i.isOnBlur)?!t:(n?a.isOnChange:i.isOnChange)?t:!0,iM=(t,e)=>!U2(nt(t,e)).length&&da(t,e),sM=(t,e,n)=>{const a=B0(nt(t,n));return Nn(a,"root",e[n]),Nn(t,n,a),t};function U4(t,e,n="validate"){if(ui(t)||Array.isArray(t)&&t.every(ui)||ol(t)&&!t)return{type:n,message:ui(t)?t:"",ref:e}}var pf=t=>ga(t)&&!lv(t)?t:{value:t,message:""},L4=async(t,e,n,a,i,l)=>{const{ref:u,refs:f,required:g,maxLength:m,minLength:v,min:_,max:S,pattern:C,validate:T,name:R,valueAsNumber:O,mount:M}=t._f,j=nt(n,R);if(!M||e.has(R))return{};const z=f?f[0]:u,U=ie=>{i&&z.reportValidity&&(z.setCustomValidity(ol(ie)?"":ie||""),z.reportValidity())},H={},L=H2(u),Y=pg(u),Q=L||Y,ae=(O||B2(u))&&ia(u.value)&&ia(j)||sv(u)&&u.value===""||j===""||Array.isArray(j)&&!j.length,_e=P2.bind(null,R,a,H),Oe=(ie,ve,ce,fe=Wl.maxLength,B=Wl.minLength)=>{const se=ie?ve:ce;H[R]={type:ie?fe:B,message:se,ref:u,..._e(ie?fe:B,se)}};if(l?!Array.isArray(j)||!j.length:g&&(!Q&&(ae||Ir(j))||ol(j)&&!j||Y&&!OS(f).isValid||L&&!MS(f).isValid)){const{value:ie,message:ve}=ui(g)?{value:!!g,message:g}:pf(g);if(ie&&(H[R]={type:Wl.required,message:ve,ref:z,..._e(Wl.required,ve)},!a))return U(ve),H}if(!ae&&(!Ir(_)||!Ir(S))){let ie,ve;const ce=pf(S),fe=pf(_);if(!Ir(j)&&!isNaN(j)){const B=u.valueAsNumber||j&&+j;Ir(ce.value)||(ie=B>ce.value),Ir(fe.value)||(ve=B<fe.value)}else{const B=u.valueAsDate||new Date(j),se=G=>new Date(new Date().toDateString()+" "+G),K=u.type=="time",pe=u.type=="week";ui(ce.value)&&j&&(ie=K?se(j)>se(ce.value):pe?j>ce.value:B>new Date(ce.value)),ui(fe.value)&&j&&(ve=K?se(j)<se(fe.value):pe?j<fe.value:B<new Date(fe.value))}if((ie||ve)&&(Oe(!!ie,ce.message,fe.message,Wl.max,Wl.min),!a))return U(H[R].message),H}if((m||v)&&!ae&&(ui(j)||l&&Array.isArray(j))){const ie=pf(m),ve=pf(v),ce=!Ir(ie.value)&&j.length>+ie.value,fe=!Ir(ve.value)&&j.length<+ve.value;if((ce||fe)&&(Oe(ce,ie.message,ve.message),!a))return U(H[R].message),H}if(C&&!ae&&ui(j)){const{value:ie,message:ve}=pf(C);if(lv(ie)&&!j.match(ie)&&(H[R]={type:Wl.pattern,message:ve,ref:u,..._e(Wl.pattern,ve)},!a))return U(ve),H}if(T){if(ys(T)){const ie=await T(j,n),ve=U4(ie,z);if(ve&&(H[R]={...ve,..._e(Wl.validate,ve.message)},!a))return U(ve.message),H}else if(ga(T)){let ie={};for(const ve in T){if(!Zr(ie)&&!a)break;const ce=U4(await T[ve](j,n),z,ve);ce&&(ie={...ce,..._e(ve,ce.message)},U(ce.message),a&&(H[R]=ie))}if(!Zr(ie)&&(H[R]={ref:z,...ie},!a))return H}}return U(!0),H};const lM={mode:vs.onSubmit,reValidateMode:vs.onChange,shouldFocusError:!0};function oM(t={}){let e={...lM,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ys(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=ga(e.defaultValues)||ga(e.values)?Ga(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Ga(i),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const S={array:A4(),state:A4()},C=e.criteriaMode===vs.all,T=X=>re=>{clearTimeout(m),m=setTimeout(X,re)},R=async X=>{if(!e.disabled&&(v.isValid||_.isValid||X)){const re=e.resolver?Zr((await Y()).errors):await ae(a,!0);re!==n.isValid&&S.state.next({isValid:re})}},O=(X,re)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((X||Array.from(f.mount)).forEach(he=>{he&&(re?Nn(n.validatingFields,he,re):da(n.validatingFields,he))}),S.state.next({validatingFields:n.validatingFields,isValidating:!Zr(n.validatingFields)}))},M=(X,re=[],he,Be,Pe=!0,ze=!0)=>{if(Be&&he&&!e.disabled){if(u.action=!0,ze&&Array.isArray(nt(a,X))){const Ye=he(nt(a,X),Be.argA,Be.argB);Pe&&Nn(a,X,Ye)}if(ze&&Array.isArray(nt(n.errors,X))){const Ye=he(nt(n.errors,X),Be.argA,Be.argB);Pe&&Nn(n.errors,X,Ye),iM(n.errors,X)}if((v.touchedFields||_.touchedFields)&&ze&&Array.isArray(nt(n.touchedFields,X))){const Ye=he(nt(n.touchedFields,X),Be.argA,Be.argB);Pe&&Nn(n.touchedFields,X,Ye)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Af(i,l)),S.state.next({name:X,isDirty:Oe(X,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Nn(l,X,re)},j=(X,re)=>{Nn(n.errors,X,re),S.state.next({errors:n.errors})},z=X=>{n.errors=X,S.state.next({errors:n.errors,isValid:!1})},U=(X,re,he,Be)=>{const Pe=nt(a,X);if(Pe){const ze=nt(l,X,ia(he)?nt(i,X):he);ia(ze)||Be&&Be.defaultChecked||re?Nn(l,X,re?ze:M4(Pe._f)):ce(X,ze),u.mount&&R()}},H=(X,re,he,Be,Pe)=>{let ze=!1,Ye=!1;const $e={name:X};if(!e.disabled){if(!he||Be){(v.isDirty||_.isDirty)&&(Ye=n.isDirty,n.isDirty=$e.isDirty=Oe(),ze=Ye!==$e.isDirty);const bt=fu(nt(i,X),re);Ye=!!nt(n.dirtyFields,X),bt?da(n.dirtyFields,X):Nn(n.dirtyFields,X,!0),$e.dirtyFields=n.dirtyFields,ze=ze||(v.dirtyFields||_.dirtyFields)&&Ye!==!bt}if(he){const bt=nt(n.touchedFields,X);bt||(Nn(n.touchedFields,X,he),$e.touchedFields=n.touchedFields,ze=ze||(v.touchedFields||_.touchedFields)&&bt!==he)}ze&&Pe&&S.state.next($e)}return ze?$e:{}},L=(X,re,he,Be)=>{const Pe=nt(n.errors,X),ze=(v.isValid||_.isValid)&&ol(re)&&n.isValid!==re;if(e.delayError&&he?(g=T(()=>j(X,he)),g(e.delayError)):(clearTimeout(m),g=null,he?Nn(n.errors,X,he):da(n.errors,X)),(he?!fu(Pe,he):Pe)||!Zr(Be)||ze){const Ye={...Be,...ze&&ol(re)?{isValid:re}:{},errors:n.errors,name:X};n={...n,...Ye},S.state.next(Ye)}},Y=async X=>{O(X,!0);const re=await e.resolver(l,e.context,JN(X||f.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(X),re},Q=async X=>{const{errors:re}=await Y(X);if(X)for(const he of X){const Be=nt(re,he);Be?Nn(n.errors,he,Be):da(n.errors,he)}else n.errors=re;return re},ae=async(X,re,he={valid:!0})=>{for(const Be in X){const Pe=X[Be];if(Pe){const{_f:ze,...Ye}=Pe;if(ze){const $e=f.array.has(ze.name),bt=Pe._f&&eM(Pe._f);bt&&v.validatingFields&&O([ze.name],!0);const an=await L4(Pe,f.disabled,l,C,e.shouldUseNativeValidation&&!re,$e);if(bt&&v.validatingFields&&O([ze.name]),an[ze.name]&&(he.valid=!1,re))break;!re&&(nt(an,ze.name)?$e?sM(n.errors,an,ze.name):Nn(n.errors,ze.name,an[ze.name]):da(n.errors,ze.name))}!Zr(Ye)&&await ae(Ye,re,he)}}return he.valid},_e=()=>{for(const X of f.unMount){const re=nt(a,X);re&&(re._f.refs?re._f.refs.every(he=>!K1(he)):!K1(re._f.ref))&&be(X)}f.unMount=new Set},Oe=(X,re)=>!e.disabled&&(X&&re&&Nn(l,X,re),!fu(G(),i)),ie=(X,re,he)=>KN(X,f,{...u.mount?l:ia(re)?i:ui(X)?{[X]:re}:re},he,re),ve=X=>U2(nt(u.mount?l:i,X,e.shouldUnregister?nt(i,X,[]):[])),ce=(X,re,he={})=>{const Be=nt(a,X);let Pe=re;if(Be){const ze=Be._f;ze&&(!ze.disabled&&Nn(l,X,NS(re,ze)),Pe=sv(ze.ref)&&Ir(re)?"":re,AS(ze.ref)?[...ze.ref.options].forEach(Ye=>Ye.selected=Pe.includes(Ye.value)):ze.refs?pg(ze.ref)?ze.refs.forEach(Ye=>{(!Ye.defaultChecked||!Ye.disabled)&&(Array.isArray(Pe)?Ye.checked=!!Pe.find($e=>$e===Ye.value):Ye.checked=Pe===Ye.value||!!Pe)}):ze.refs.forEach(Ye=>Ye.checked=Ye.value===Pe):B2(ze.ref)?ze.ref.value="":(ze.ref.value=Pe,ze.ref.type||S.state.next({name:X,values:Ga(l)})))}(he.shouldDirty||he.shouldTouch)&&H(X,Pe,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&pe(X)},fe=(X,re,he)=>{for(const Be in re){if(!re.hasOwnProperty(Be))return;const Pe=re[Be],ze=X+"."+Be,Ye=nt(a,ze);(f.array.has(X)||ga(Pe)||Ye&&!Ye._f)&&!Mc(Pe)?fe(ze,Pe,he):ce(ze,Pe,he)}},B=(X,re,he={})=>{const Be=nt(a,X),Pe=f.array.has(X),ze=Ga(re);Nn(l,X,ze),Pe?(S.array.next({name:X,values:Ga(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&he.shouldDirty&&S.state.next({name:X,dirtyFields:Af(i,l),isDirty:Oe(X,ze)})):Be&&!Be._f&&!Ir(ze)?fe(X,ze,he):ce(X,ze,he),z4(X,f)&&S.state.next({...n,name:X}),S.state.next({name:u.mount?X:void 0,values:Ga(l)})},se=async X=>{u.mount=!0;const re=X.target;let he=re.name,Be=!0;const Pe=nt(a,he),ze=bt=>{Be=Number.isNaN(bt)||Mc(bt)&&isNaN(bt.getTime())||fu(bt,nt(l,he,bt))},Ye=D4(e.mode),$e=D4(e.reValidateMode);if(Pe){let bt,an;const qa=re.type?M4(Pe._f):GN(X),Aa=X.type===T4.BLUR||X.type===T4.FOCUS_OUT,Ra=!tM(Pe._f)&&!e.resolver&&!nt(n.errors,he)&&!Pe._f.deps||rM(Aa,nt(n.touchedFields,he),n.isSubmitted,$e,Ye),er=z4(he,f,Aa);Nn(l,he,qa),Aa?(!re||!re.readOnly)&&(Pe._f.onBlur&&Pe._f.onBlur(X),g&&g(0)):Pe._f.onChange&&Pe._f.onChange(X);const mr=H(he,qa,Aa),va=!Zr(mr)||er;if(!Aa&&S.state.next({name:he,type:X.type,values:Ga(l)}),Ra)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?Aa&&R():Aa||R()),va&&S.state.next({name:he,...er?{}:mr});if(!Aa&&er&&S.state.next({...n}),e.resolver){const{errors:Mr}=await Y([he]);if(ze(qa),Be){const vr=k4(n.errors,a,he),Ce=k4(Mr,a,vr.name||he);bt=Ce.error,he=Ce.name,an=Zr(Mr)}}else O([he],!0),bt=(await L4(Pe,f.disabled,l,C,e.shouldUseNativeValidation))[he],O([he]),ze(qa),Be&&(bt?an=!1:(v.isValid||_.isValid)&&(an=await ae(a,!0)));Be&&(Pe._f.deps&&(!Array.isArray(Pe._f.deps)||Pe._f.deps.length>0)&&pe(Pe._f.deps),L(he,an,bt,mr))}},K=(X,re)=>{if(nt(n.errors,re)&&X.focus)return X.focus(),1},pe=async(X,re={})=>{let he,Be;const Pe=B0(X);if(e.resolver){const ze=await Q(ia(X)?X:Pe);he=Zr(ze),Be=X?!Pe.some(Ye=>nt(ze,Ye)):he}else X?(Be=(await Promise.all(Pe.map(async ze=>{const Ye=nt(a,ze);return await ae(Ye&&Ye._f?{[ze]:Ye}:Ye)}))).every(Boolean),!(!Be&&!n.isValid)&&R()):Be=he=await ae(a);return S.state.next({...!ui(X)||(v.isValid||_.isValid)&&he!==n.isValid?{}:{name:X},...e.resolver||!X?{isValid:he}:{},errors:n.errors}),re.shouldFocus&&!Be&&H0(a,K,X?Pe:f.mount),Be},G=(X,re)=>{let he={...u.mount?l:i};return re&&(he=TS(re.dirtyFields?n.dirtyFields:n.touchedFields,he)),ia(X)?he:ui(X)?nt(he,X):X.map(Be=>nt(he,Be))},W=(X,re)=>({invalid:!!nt((re||n).errors,X),isDirty:!!nt((re||n).dirtyFields,X),error:nt((re||n).errors,X),isValidating:!!nt(n.validatingFields,X),isTouched:!!nt((re||n).touchedFields,X)}),xe=X=>{X&&B0(X).forEach(re=>da(n.errors,re)),S.state.next({errors:X?n.errors:{}})},Ee=(X,re,he)=>{const Be=(nt(a,X,{_f:{}})._f||{}).ref,Pe=nt(n.errors,X)||{},{ref:ze,message:Ye,type:$e,...bt}=Pe;Nn(n.errors,X,{...bt,...re,ref:Be}),S.state.next({name:X,errors:n.errors,isValid:!1}),he&&he.shouldFocus&&Be&&Be.focus&&Be.focus()},Ve=(X,re)=>ys(X)?S.state.subscribe({next:he=>"values"in he&&X(ie(void 0,re),he)}):ie(X,re,!0),ut=X=>S.state.subscribe({next:re=>{aM(X.name,re.name,X.exact)&&nM(re,X.formState||v,ea,X.reRenderRoot)&&X.callback({values:{...l},...n,...re,defaultValues:i})}}).unsubscribe,Ie=X=>(u.mount=!0,_={..._,...X.formState},ut({...X,formState:_})),be=(X,re={})=>{for(const he of X?B0(X):f.mount)f.mount.delete(he),f.array.delete(he),re.keepValue||(da(a,he),da(l,he)),!re.keepError&&da(n.errors,he),!re.keepDirty&&da(n.dirtyFields,he),!re.keepTouched&&da(n.touchedFields,he),!re.keepIsValidating&&da(n.validatingFields,he),!e.shouldUnregister&&!re.keepDefaultValue&&da(i,he);S.state.next({values:Ga(l)}),S.state.next({...n,...re.keepDirty?{isDirty:Oe()}:{}}),!re.keepIsValid&&R()},Ae=({disabled:X,name:re})=>{(ol(X)&&u.mount||X||f.disabled.has(re))&&(X?f.disabled.add(re):f.disabled.delete(re))},lt=(X,re={})=>{let he=nt(a,X);const Be=ol(re.disabled)||ol(e.disabled);return Nn(a,X,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:X}},name:X,mount:!0,...re}}),f.mount.add(X),he?Ae({disabled:ol(re.disabled)?re.disabled:e.disabled,name:X}):U(X,!0,re.value),{...Be?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:w0(re.min),max:w0(re.max),minLength:w0(re.minLength),maxLength:w0(re.maxLength),pattern:w0(re.pattern)}:{},name:X,onChange:se,onBlur:se,ref:Pe=>{if(Pe){lt(X,re),he=nt(a,X);const ze=ia(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,Ye=FN(ze),$e=he._f.refs||[];if(Ye?$e.find(bt=>bt===ze):ze===he._f.ref)return;Nn(a,X,{_f:{...he._f,...Ye?{refs:[...$e.filter(K1),ze,...Array.isArray(nt(i,X))?[{}]:[]],ref:{type:ze.type,name:X}}:{ref:ze}}}),U(X,!1,void 0,ze)}else he=nt(a,X,{}),he._f&&(he._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(VN(f.array,X)&&u.action)&&f.unMount.add(X)}}},at=()=>e.shouldFocusError&&H0(a,K,f.mount),yt=X=>{ol(X)&&(S.state.next({disabled:X}),H0(a,(re,he)=>{const Be=nt(a,he);Be&&(re.disabled=Be._f.disabled||X,Array.isArray(Be._f.refs)&&Be._f.refs.forEach(Pe=>{Pe.disabled=Be._f.disabled||X}))},0,!1))},Tt=(X,re)=>async he=>{let Be;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let Pe=Ga(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:ze,values:Ye}=await Y();n.errors=ze,Pe=Ga(Ye)}else await ae(a);if(f.disabled.size)for(const ze of f.disabled)da(Pe,ze);if(da(n.errors,"root"),Zr(n.errors)){S.state.next({errors:{}});try{await X(Pe,he)}catch(ze){Be=ze}}else re&&await re({...n.errors},he),at(),setTimeout(at);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zr(n.errors)&&!Be,submitCount:n.submitCount+1,errors:n.errors}),Be)throw Be},Kt=(X,re={})=>{nt(a,X)&&(ia(re.defaultValue)?B(X,Ga(nt(i,X))):(B(X,re.defaultValue),Nn(i,X,Ga(re.defaultValue))),re.keepTouched||da(n.touchedFields,X),re.keepDirty||(da(n.dirtyFields,X),n.isDirty=re.defaultValue?Oe(X,Ga(nt(i,X))):Oe()),re.keepError||(da(n.errors,X),v.isValid&&R()),S.state.next({...n}))},gn=(X,re={})=>{const he=X?Ga(X):i,Be=Ga(he),Pe=Zr(X),ze=Pe?i:Be;if(re.keepDefaultValues||(i=he),!re.keepValues){if(re.keepDirtyValues){const Ye=new Set([...f.mount,...Object.keys(Af(i,l))]);for(const $e of Array.from(Ye))nt(n.dirtyFields,$e)?Nn(ze,$e,nt(l,$e)):B($e,nt(ze,$e))}else{if(k2&&ia(X))for(const Ye of f.mount){const $e=nt(a,Ye);if($e&&$e._f){const bt=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(sv(bt)){const an=bt.closest("form");if(an){an.reset();break}}}}if(re.keepFieldsRef)for(const Ye of f.mount)B(Ye,nt(ze,Ye));else a={}}l=e.shouldUnregister?re.keepDefaultValues?Ga(i):{}:Ga(ze),S.array.next({values:{...ze}}),S.state.next({values:{...ze}})}f={mount:re.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!re.keepIsValid||!!re.keepDirtyValues,u.watch=!!e.shouldUnregister,S.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Pe?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!fu(X,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Pe?{}:re.keepDirtyValues?re.keepDefaultValues&&l?Af(i,l):n.dirtyFields:re.keepDefaultValues&&X?Af(i,X):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Rn=(X,re)=>gn(ys(X)?X(l):X,re),ma=(X,re={})=>{const he=nt(a,X),Be=he&&he._f;if(Be){const Pe=Be.refs?Be.refs[0]:Be.ref;Pe.focus&&(Pe.focus(),re.shouldSelect&&ys(Pe.select)&&Pe.select())}},ea=X=>{n={...n,...X}},pr={control:{register:lt,unregister:be,getFieldState:W,handleSubmit:Tt,setError:Ee,_subscribe:ut,_runSchema:Y,_focusError:at,_getWatch:ie,_getDirty:Oe,_setValid:R,_setFieldArray:M,_setDisabledField:Ae,_setErrors:z,_getFieldArray:ve,_reset:gn,_resetDefaultValues:()=>ys(e.defaultValues)&&e.defaultValues().then(X=>{Rn(X,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:_e,_disableForm:yt,_subjects:S,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(X){u=X},get _defaultValues(){return i},get _names(){return f},set _names(X){f=X},get _formState(){return n},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:Ie,trigger:pe,register:lt,handleSubmit:Tt,watch:Ve,setValue:B,getValues:G,reset:Rn,resetField:Kt,clearErrors:xe,unregister:be,setError:Ee,setFocus:ma,getFieldState:W};return{...pr,formControl:pr}}function Bf(t={}){const e=Qe.useRef(void 0),n=Qe.useRef(void 0),[a,i]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:ys(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ys(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!ys(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...f}=oM(t);e.current={...f,formState:a}}const l=e.current.control;return l._options=t,XN(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),Qe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Qe.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Qe.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Qe.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Qe.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),Qe.useEffect(()=>{t.values&&!fu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,i(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),Qe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=IN(a,l),e.current}const P4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=nt(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Iy=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?P4(a.ref,n,t):a&&a.refs&&a.refs.forEach(i=>P4(i,n,t))}},B4=(t,e)=>{e.shouldUseNativeValidation&&Iy(t,e);const n={};for(const a in t){const i=nt(e.fields,a),l=Object.assign(t[a]||{},{ref:i&&i.ref});if(uM(e.names||Object.keys(t),a)){const u=Object.assign({},nt(n,a));Nn(u,"root",l),Nn(n,a,u)}else Nn(n,a,l)}return n},uM=(t,e)=>{const n=H4(e);return t.some(a=>H4(a).match(`^${n}\\.\\d+`))};function H4(t){return t.replace(/\]|\[/g,"")}function G4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function cM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,m=g&&g[a.code];n[u]=P2(u,e,n,i,m?[].concat(m,a.message):a.message)}t.shift()}return n}function dM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if(a.code==="invalid_union"&&a.errors.length>0){var f=a.errors[0][0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,m=g&&g[a.code];n[u]=P2(u,e,n,i,m?[].concat(m,a.message):a.message)}t.shift()}return n}function Hf(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,i,l){try{return Promise.resolve(G4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:B4(cM(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,i,l){try{return Promise.resolve(G4(function(){return Promise.resolve((n.mode==="sync"?JT:eA)(t,a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return f instanceof D2})(u))return{values:{},errors:B4(dM(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}async function DS(t){const{data:e}=await nn.from("users").select("id").eq("email",t).maybeSingle();return!!e}async function fM(t){const{data:e}=await nn.from("users").select("id").eq("username",t).maybeSingle();return!!e}const hM=Zf({email:z2("invalid email"),password:Fr("Password Required")}),gM=Zf({email:z2("Invalid email address")});function pM(){const t=ug(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),{register:l,handleSubmit:u,setError:f,formState:{errors:g,isSubmitting:m}}=Bf({resolver:Hf(hM)}),{register:v,handleSubmit:_,formState:{errors:S,isSubmitting:C}}=Bf({resolver:Hf(gM)}),T=async j=>{j.preventDefault();try{const{data:z,error:U}=await nn.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://x3nozite.github.io/rect-up/"}});if(U){console.error("cant handle oauth:",U);return}}catch(z){console.error("cant sign in with google: ",z)}},R=async j=>{try{const{email:z,password:U}=j;if(!await DS(z)){f("email",{message:"Email is not yet registered!"});return}const{error:L}=await nn.auth.signInWithPassword({email:z,password:U});if(L){alert(L.message);return}alert("login successful!"),t("/")}catch(z){f("root",{message:"Error! "+z}),alert("Error sign in!: "+z)}},O=async j=>{try{const z="https://x3nozite.github.io/rect-up/",{error:U}=await nn.auth.resetPasswordForEmail(j.email,{redirectTo:`${z}#/reset-password`});if(U){alert("Error: "+U.message);return}i(!0)}catch(z){alert("Error sending reset email: "+z)}},M=()=>{n(!1),i(!1)};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[E.jsx(rS,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsxs("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:[" ","The all in one task management app"]})]}),E.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"})}),E.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:[E.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:E.jsxs("div",{className:"my-company flex flex-col text-center  lg:flex",children:[E.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),E.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),E.jsx("div",{className:"main-form ",children:E.jsxs("form",{className:"flex flex-col justify-between",onSubmit:u(R),children:[E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),E.jsx("input",{...l("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),g.email&&E.jsx("div",{className:"text-red-500",children:g.email?.message})]}),E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),E.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",onClick:()=>n(!0),children:"Forgot Password?"})]}),E.jsx("input",{...l("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),g.password&&E.jsx("div",{className:"text-red-500",children:g.password?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("button",{type:"submit",disabled:m,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:m?"Loading...":"Continue with email"})}),E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),E.jsxs("button",{onClick:T,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[E.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})})]})]}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"})}),e&&E.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[E.jsx("button",{onClick:M,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl",children:""}),a?E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"success-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Check your email"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and click the link to reset your password."}),E.jsx("button",{onClick:M,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Close"})]}):E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Forgot Password"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),E.jsxs("form",{onSubmit:_(O),children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"forgot-email",className:"font-bold",children:"Email"}),E.jsx("input",{...v("email"),type:"email",id:"forgot-email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),S.email&&E.jsx("div",{className:"text-red-500 text-sm",children:S.email?.message})]}),E.jsx("button",{type:"submit",disabled:C,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:C?"Sending...":"Send Reset Link"})]})]})]})})]})}const mM=Zf({username:Fr().min(1,"Username is required"),email:z2("Email is required"),password:Fr("Password is required").min(8,"Password at least 8 characters long"),confirmPassword:Fr()}).superRefine(async({confirmPassword:t,password:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Password must match",path:["confirmPassword"]})});function vM(){const{register:t,handleSubmit:e,setError:n,formState:{errors:a,isSubmitting:i}}=Bf({resolver:Hf(mM),mode:"onSubmit"}),l=ug(),u=async f=>{try{const{username:g,email:m,password:v}=f,_=await DS(m),S=await fM(g);if(_){n("email",{message:"Email already exists"});return}if(S){n("username",{message:"Username already exists!"});return}const{error:C}=await nn.auth.signUp({email:m,password:v,options:{data:{username:g}}});if(C){n("root",{message:C.message}),alert("Error creating account: "+C.message);return}alert("Account created successfully, please verify email"),l("/signin")}catch(g){n("root",{message:"Error!"+g}),alert("Error creating account: "+g)}};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>l("/"),children:[E.jsx(rS,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),E.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),E.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),E.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),E.jsx("div",{className:"main-form",children:E.jsxs("form",{onSubmit:e(u),className:"flex flex-col justify-between",autoComplete:"off",children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Username"}),E.jsx("input",{...t("username"),type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-username"}),a.username&&E.jsx("div",{className:"text-red-500",children:a.username?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Email"}),E.jsx("input",{...t("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-email"}),a.email&&E.jsx("div",{className:"text-red-500",children:a.email?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Password"}),E.jsx("input",{...t("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-password"}),a.password&&E.jsx("div",{className:"text-red-500",children:a.password?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Confirm Password"}),E.jsx("input",{...t("confirmPassword"),type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-confirmPassword"}),a.confirmPassword&&E.jsx("div",{className:"text-red-500",children:a.confirmPassword?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("button",{type:"submit",disabled:i,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:i?"Loading...":"Create Account"}),E.jsx("button",{onClick:()=>l("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]}),a.root&&E.jsx("div",{className:"text-red-500",children:a.root.message})]})})]})}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:E.jsx("img",{src:ev,alt:"",className:"object-cover w-full h-full"})})]})}const yM=Zf({password:Fr().min(8,"Password must be at least 8 characters long"),confirmPassword:Fr()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function bM(){const t=ug(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),[l,u]=N.useState(!0),[f,g]=N.useState(""),{register:m,handleSubmit:v,formState:{errors:_,isSubmitting:S}}=Bf({resolver:Hf(yM)});N.useEffect(()=>{(async()=>{try{const M=window.location.hash.split("#"),j=M.length>2?M[2]:M[1],z=new URLSearchParams(j),U=z.get("error"),H=z.get("error_description");if(U){console.error("Supabase error:",U,H),U==="access_denied"&&H?.includes("expired")?g("The reset link has expired. Password reset links are valid for 1 hour only."):g("Invalid reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}const L=z.get("access_token"),Y=z.get("refresh_token"),Q=z.get("type");if(L&&Q==="recovery"){const{data:ae,error:_e}=await nn.auth.setSession({access_token:L,refresh_token:Y||""});if(_e){console.error("Session error:",_e),g("Failed to validate reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}ae.session&&(console.log("Session established successfully"),i(!0),u(!1))}else g("No valid reset token found. Please request a new reset link."),u(!1),setTimeout(()=>{t("/signin")},3e3)}catch(O){console.error("Error in handlePasswordReset:",O),g("An error occurred. Please try again."),u(!1),setTimeout(()=>{t("/signin")},3e3)}})();const{data:R}=nn.auth.onAuthStateChange((O,M)=>{console.log("Auth state change:",O,!!M),O==="PASSWORD_RECOVERY"&&M&&(i(!0),u(!1))});return()=>{R.subscription.unsubscribe()}},[t]);const C=async T=>{try{const{error:R}=await nn.auth.updateUser({password:T.password});if(R){alert("Error: "+R.message);return}n(!0),setTimeout(()=>{t("/signin")},3e3)}catch(R){alert("Error resetting password: "+R)}};return l?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-lg text-gray-700",children:"Validating reset link..."})]})}):f?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[E.jsx("div",{className:"error-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"Link Invalid"}),E.jsx("p",{className:"text-gray-600 mb-6",children:f}),E.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Back to Sign In"})]})}):e?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[E.jsx("div",{className:"success-icon mb-4",children:E.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:E.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Reset Successfully!"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You will be redirected to the sign in page in a few seconds."}),E.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Sign In Now"})]})}):a?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reset Password"}),E.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),E.jsxs("form",{className:"flex flex-col gap-6",onSubmit:v(C),children:[E.jsxs("div",{className:"flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"password",className:"font-bold",children:"New Password"}),E.jsx("input",{...m("password"),type:"password",placeholder:"Enter new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.password&&E.jsx("div",{className:"text-red-500 text-sm",children:_.password?.message})]}),E.jsxs("div",{className:"flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"confirmPassword",className:"font-bold",children:"Confirm Password"}),E.jsx("input",{...m("confirmPassword"),type:"password",placeholder:"Confirm new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.confirmPassword&&E.jsx("div",{className:"text-red-500 text-sm",children:_.confirmPassword?.message})]}),E.jsx("button",{type:"submit",disabled:S,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:S?"Resetting...":"Reset Password"})]})]})}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsx("div",{className:"text-center",children:E.jsx("p",{className:"text-lg",children:"Redirecting..."})})})}const _M=Math.PI/180;function SM(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Dc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},qe={_global:Dc,version:"10.0.2",isBrowser:SM(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return qe.angleDeg?t*_M:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return qe.DD.isDragging},isTransforming(){var t,e;return(e=(t=qe.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!qe.DD.node},releaseCanvasOnDestroy:!0,document:Dc.document,_injectGlobal(t){typeof Dc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Dc.Konva=t}},Xn=t=>{qe[t.prototype.getClassName()]=t};qe._injectGlobal(qe);const xM=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,q4=()=>{if(typeof document>"u")throw new Error(xM)};class ci{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new ci(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,f=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=l,this.m[2]=u,this.m[3]=f,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=l,this.m[3]=u,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],f=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,l=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),f=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],l=this.m[4],u=this.m[5],f=e*i-n*a,g={x:l,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const m=Math.sqrt(e*e+n*n);g.rotation=n>0?Math.acos(e/m):-Math.acos(e/m),g.scaleX=m,g.scaleY=f/m,g.skewX=(e*a+n*i)/f,g.skewY=0}else if(a!=0||i!=0){const m=Math.sqrt(a*a+i*i);g.rotation=Math.PI/2-(i>0?Math.acos(-a/m):-Math.acos(a/m)),g.scaleX=f/m,g.scaleY=m,g.skewX=0,g.skewY=(e*a+n*i)/f}return g.rotation=ne._getRotation(g.rotation),g}}const wM="[object Array]",EM="[object Number]",CM="[object String]",TM="[object Boolean]",AM=Math.PI/180,RM=180/Math.PI,F1="#",OM="",NM="0",MM="Konva warning: ",V4="Konva error: ",DM="rgb(",Q1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},jM=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let um=[];const zM=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},ne={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===wM},_isNumber(t){return Object.prototype.toString.call(t)===EM&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===CM},_isBoolean(t){return Object.prototype.toString.call(t)===TM},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){um.push(t),um.length===1&&zM(function(){const e=um;um=[],e.forEach(function(n){n()})})},createCanvasElement(){q4();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return q4(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=ne.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(F1,OM);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=NM+t;return F1+t},getRGB(t){let e;return t in Q1?(e=Q1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===F1?this._hexToRgb(t.substring(1)):t.substr(0,4)===DM?(e=jM.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",ne._namedColorToRBA(t)||ne._hex3ColorToRGBA(t)||ne._hex4ColorToRGBA(t)||ne._hex6ColorToRGBA(t)||ne._hex8ColorToRGBA(t)||ne._rgbColorToRGBA(t)||ne._rgbaColorToRGBA(t)||ne._hslColorToRGBA(t)},_namedColorToRBA(t){const e=Q1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,l=Number(n[2])/100;let u,f,g;if(i===0)return g=l*255,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};l<.5?u=l*(1+i):u=l+i-l*i;const m=2*l-u,v=[0,0,0];for(let _=0;_<3;_++)f=a+1/3*-(_-1),f<0&&f++,f>1&&f--,6*f<1?g=m+(u-m)*6*f:2*f<1?g=u:3*f<2?g=m+(u-m)*(2/3-f)*6:g=m,v[_]=g*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*AM},radToDeg(t){return t*RM},_degToRad(t){return ne.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ne.degToRad(t)},_radToDeg(t){return ne.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ne.radToDeg(t)},_getRotation(t){return qe.angleDeg?ne.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(V4+t)},error(t){console.error(V4+t)},warn(t){qe.showWarnings&&console.warn(MM+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,l){let u,f,g;const m=(t-n)*(t-n)+(e-a)*(e-a);if(m==0)u=t,f=e,g=(i-n)*(i-n)+(l-a)*(l-a);else{const v=((i-t)*(n-t)+(l-e)*(a-e))/m;v<0?(u=t,f=e,g=(t-i)*(t-i)+(e-l)*(e-l)):v>1?(u=n,f=a,g=(n-i)*(n-i)+(a-l)*(a-l)):(u=t+v*(n-t),f=e+v*(a-e),g=(u-i)*(u-i)+(f-l)*(f-l))}return[u,f,g]},_getProjectionToLine(t,e,n){const a=ne.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(l,u){if(!n&&u===e.length-1)return;const f=e[(u+1)%e.length],g=ne._getProjectionToSegment(l.x,l.y,f.x,f.y,t.x,t.y),m=g[0],v=g[1],_=g[2];_<i&&(a.x=m,a.y=v,i=_)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const u=e;e=t,t=u}for(let u=0;u<t.length;u+=2)a.push({x:t[u],y:t[u+1]});for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const l=[];return i.forEach(function(u){const f=ne._getProjectionToLine(u,a,n);l.push(f.x),l.push(f.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||ne._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(ne._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){qe.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let u=0,f=0,g=0,m=0;typeof a=="number"?u=f=g=m=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),f=Math.min(a[1]||0,e/2,n/2),m=Math.min(a[2]||0,e/2,n/2),g=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+u,l),t.lineTo(i+e-f,l),t.arc(i+e-f,l+f,f,Math.PI*3/2,0,!1),t.lineTo(i+e,l+n-m),t.arc(i+e-m,l+n-m,m,0,Math.PI/2,!1),t.lineTo(i+g,l+n),t.arc(i+g,l+n-g,g,Math.PI/2,Math.PI,!1),t.lineTo(i,l+u),t.arc(i+u,l+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let l=0;l<n;l++){const u=e[(l-1+n)%n],f=e[l],g=e[(l+1)%n],m={x:f.x-u.x,y:f.y-u.y},v={x:g.x-f.x,y:g.y-f.y},_=Math.hypot(m.x,m.y),S=Math.hypot(v.x,v.y);let C;typeof i=="number"?C=i:C=l<i.length?i[l]:0,C=a*Math.cos(Math.PI/n)*Math.min(1,C/a*2);const R={x:m.x/_,y:m.y/_},O={x:v.x/S,y:v.y/S},M={x:f.x-R.x*C,y:f.y-R.y*C},j={x:f.x+O.x*C,y:f.y+O.y*C};l===0?t.moveTo(M.x,M.y):t.lineTo(M.x,M.y),t.arcTo(f.x,f.y,j.x,j.y,C)}}};function kM(t){const e=[],n=t.length,a=ne;for(let i=0;i<n;i++){let l=t[i];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const Y4=",",UM="(",LM=")",PM="([",BM="])",HM=";",GM="()",qM="=",Z4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],VM=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],YM=100;let cm=null;function I4(){if(cm!==null)return cm;try{const e=ne.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(cm=!1,!1)}catch{return cm=!1,!1}}class Ov{constructor(e){this.canvas=e,qe.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,l="",u,f,g,m;for(u=0;u<i;u++)f=a[u],g=f.method,g?(m=f.args,l+=g,e?l+=GM:ne._isArray(m[0])?l+=PM+m.join(Y4)+BM:(n&&(m=m.map(v=>typeof v=="number"?Math.floor(v):v)),l+=UM+m.join(Y4)+LM)):(l+=f.property,e||(l+=qM+f.val)),l+=HM;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=YM&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,l,u){this._context.arc(e,n,a,i,l,u)}arcTo(e,n,a,i,l){this._context.arcTo(e,n,a,i,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,l,u){this._context.bezierCurveTo(e,n,a,i,l,u)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,l,u){return this._context.createRadialGradient(e,n,a,i,l,u)}drawImage(e,n,a,i,l,u,f,g,m){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,i,l):v.length===9&&_.drawImage(e,n,a,i,l,u,f,g,m)}ellipse(e,n,a,i,l,u,f,g){this._context.ellipse(e,n,a,i,l,u,f,g)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,l){this._context.roundRect(e,n,a,i,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,l,u){this._context.setTransform(e,n,a,i,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,l,u){this._context.transform(e,n,a,i,l,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Z4.length,a=this.setAttr,i,l;const u=function(f){let g=e[f],m;e[f]=function(){return l=kM(Array.prototype.slice.call(arguments,0)),m=g.apply(e,arguments),e._trace({method:f,args:l}),m}};for(i=0;i<n;i++)u(Z4[i]);e.setAttr=function(){a.apply(e,arguments);const f=arguments[0];let g=arguments[1];(f==="shadowOffsetX"||f==="shadowOffsetY"||f==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:f,val:g})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}VM.forEach(function(t){Object.defineProperty(Ov.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class ZM extends Ov{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let u=0;u<i.length;u+=2)l.addColorStop(i[u],i[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,f=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},g=e.getAbsoluteScale(),m=this.canvas.getPixelRatio(),v=g.x*m,_=g.y*m;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",f.x*v),this.setAttr("shadowOffsetY",f.y*_)}}class IM extends Ov{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let dm;function XM(){if(dm)return dm;const t=ne.createCanvasElement(),e=t.getContext("2d");return dm=(function(){const n=qe._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),ne.releaseCanvas(t),dm}class G2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||qe.pixelRatio||XM();this.pixelRatio=a,this._canvas=ne.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return ne.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class hu extends G2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new ZM(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function X4(){const t=ne.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function K4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let F4=!1;function KM(){return K4()&&X4()&&!F4&&(F4=!0,ne.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),K4()&&X4()}class q2 extends G2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new IM(this),this.setSize(e.width,e.height),KM()}}const hn={get isDragging(){let t=!1;return hn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return hn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];hn._dragElements.forEach((n,a)=>{const{node:i}=n,l=i.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=ne._getFirstPointerId(t));const u=l._changedPointerPositions.find(f=>f.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const f=i.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<f||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];hn._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(f=>f.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(hn.justDragged=!0,qe._mouseListenClick=!1,qe._touchListenClick=!1,qe._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof qe.Stage&&n.node;u&&e.indexOf(u)===-1&&e.push(u)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){hn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&hn._dragElements.delete(n)})}};qe.isBrowser&&(window.addEventListener("mouseup",hn._endDragBefore,!0),window.addEventListener("touchend",hn._endDragBefore,!0),window.addEventListener("touchcancel",hn._endDragBefore,!0),window.addEventListener("mousemove",hn._drag),window.addEventListener("touchmove",hn._drag),window.addEventListener("mouseup",hn._endDragAfter,!1),window.addEventListener("touchend",hn._endDragAfter,!1),window.addEventListener("touchcancel",hn._endDragAfter,!1));function _u(t){return ne._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ne._isBoolean(t)?t:Object.prototype.toString.call(t)}function jS(t){return t>255?255:t<0?0:Math.round(t)}function He(){if(qe.isUnminified)return function(t,e){return ne._isNumber(t)||ne.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Nv(t){if(qe.isUnminified)return function(e,n){let a=ne._isNumber(e),i=ne._isArray(e)&&e.length==t;return!a&&!i&&ne.warn(_u(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function V2(){if(qe.isUnminified)return function(t,e){return ne._isNumber(t)||t==="auto"||ne.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function qc(){if(qe.isUnminified)return function(t,e){return ne._isString(t)||ne.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function zS(){if(qe.isUnminified)return function(t,e){const n=ne._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||ne.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function FM(){if(qe.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(ne._isArray(t)?t.forEach(function(a){ne._isNumber(a)||ne.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):ne.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Ss(){if(qe.isUnminified)return function(t,e){return t===!0||t===!1||ne.warn(_u(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function QM(t){if(qe.isUnminified)return function(e,n){return e==null||ne.isObject(e)||ne.warn(_u(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const E0="get",C0="set",q={addGetterSetter(t,e,n,a,i){q.addGetter(t,e,n),q.addSetter(t,e,a,i),q.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=E0+ne._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=C0+ne._capitalize(e);t.prototype[i]||q.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=C0+ne._capitalize(e);t.prototype[i]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const l=n.length,u=ne._capitalize,f=E0+u(e),g=C0+u(e);t.prototype[f]=function(){const v={};for(let _=0;_<l;_++){const S=n[_];v[S]=this.getAttr(e+u(S))}return v};const m=QM(n);t.prototype[g]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),m&&m.call(this,v,e);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(e+u(S),v[S]);return v||n.forEach(S=>{this._setAttr(e+u(S),void 0)}),this._fireChangeEvent(e,_,v),i&&i.call(this),this},q.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=ne._capitalize(e),a=C0+n,i=E0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){ne.error("Adding deprecated "+e);const i=E0+ne._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){ne.error(l);const u=this.attrs[e];return u===void 0?n:u},q.addSetter(t,e,a,function(){ne.error(l)}),q.addOverloadedGetterSetter(t,e)},backCompat(t,e){ne.each(e,function(n,a){const i=t.prototype[a],l=E0+ne._capitalize(n),u=C0+ne._capitalize(n);function f(){i.apply(this,arguments),ne.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=f,t.prototype[l]=f,t.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}};function $M(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const l=parseFloat(i.replace("px",""));return function(u){this.blurRadius(l*.5);const f=qe.Filters;f&&f.Blur&&f.Blur.call(this,u)}}case"brightness":{const l=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(u){this.brightness(l);const f=qe.Filters;f&&f.Brightness&&f.Brightness.call(this,u)}}case"contrast":{const l=parseFloat(i);return function(u){const f=100*(Math.sqrt(l)-1);this.contrast(f);const g=qe.Filters;g&&g.Contrast&&g.Contrast.call(this,u)}}case"grayscale":return function(l){const u=qe.Filters;u&&u.Grayscale&&u.Grayscale.call(this,l)};case"sepia":return function(l){const u=qe.Filters;u&&u.Sepia&&u.Sepia.call(this,l)};case"invert":return function(l){const u=qe.Filters;u&&u.Invert&&u.Invert.call(this,l)};default:ne.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const qm="absoluteOpacity",fm="allEventListeners",to="absoluteTransform",Q4="absoluteScale",Ec="canvas",WM="Change",JM="children",eD="konva",Xy="listening",tD="mouseenter",nD="mouseleave",aD="pointerenter",rD="pointerleave",iD="touchenter",sD="touchleave",$4="set",W4="Shape",Vm=" ",J4="stage",su="transform",lD="Stage",Ky="visible",oD=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Vm);let uD=1,Ge=class Fy{constructor(e){this._id=uD++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===su||e===to)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===su||e===to)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(l=>l+"Change.konva").join(Vm);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(Ec)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===to&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ec)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(Ec);ne.releaseCanvas(e,n,a,i),this._cache.delete(Ec)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),u=n.pixelRatio,f=n.x===void 0?Math.floor(a.x):n.x,g=n.y===void 0?Math.floor(a.y):n.y,m=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!i||!l){ne.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(a.x)-f)>.5?1:0,C=Math.abs(Math.round(a.y)-g)>.5?1:0;i+=m*2+S,l+=m*2+C,f-=m,g-=m;const T=new hu({pixelRatio:u,width:i,height:l}),R=new hu({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),O=new q2({pixelRatio:_,width:i,height:l}),M=T.getContext(),j=O.getContext(),z=new hu({width:T.width/T.pixelRatio+Math.abs(f),height:T.height/T.pixelRatio+Math.abs(g),pixelRatio:T.pixelRatio}),U=z.getContext();return O.isCache=!0,T.isCache=!0,this._cache.delete(Ec),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(T.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),M.save(),j.save(),U.save(),M.translate(-f,-g),j.translate(-f,-g),U.translate(-f,-g),z.x=f,z.y=g,this._isUnderCache=!0,this._clearSelfAndDescendantCache(qm),this._clearSelfAndDescendantCache(Q4),this.drawScene(T,this,z),this.drawHit(O,this),this._isUnderCache=!1,M.restore(),j.restore(),v&&(M.save(),M.beginPath(),M.rect(0,0,i,l),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),this._cache.set(Ec,{scene:T,filter:R,hit:O,buffer:z,x:f,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(Ec)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,l=1/0,u=-1/0,f=-1/0;const g=this.getAbsoluteTransform(n);return a.forEach(function(m){const v=g.point(m);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),{x:i,y:l,width:u-i,height:f-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,l=i.getContext(),u,f,g,m;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let v=!0;for(let S=0;S<e.length;S++)if(typeof e[S]=="string"&&I4(),typeof e[S]!="string"||!I4()){v=!1;break}const _=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const S=e.join(" ");return l.save(),l.setAttr("filter",S),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,i}try{for(u=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),f=l.getImageData(0,0,i.getWidth(),i.getHeight()),g=0;g<u;g++)m=e[g],typeof m=="string"&&(m=$M(m)),m.call(this,f),l.putImageData(f,0,0)}catch(S){ne.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(fm),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(Vm);for(let i=0;i<a.length;i++){const u=a[i].split("."),f=u[0],g=u[1]||"";this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:g,handler:n})}return this}off(e,n){let a=(e||"").split(Vm),i=a.length,l,u,f,g,m,v;if(this._cache&&this._cache.delete(fm),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<i;l++)if(f=a[l],g=f.split("."),m=g[0],v=g[1],m)this.eventListeners[m]&&this._off(m,v,n);else for(u in this.eventListeners)this._off(u,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(l){const u=l.target.findAncestors(n,!0,i);for(let f=0;f<u.length;f++)l=ne.cloneObject(l),l.currentTarget=u[f],a.call(u[f],l)})}remove(){return this.isDragging()&&this.stopDrag(),hn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(to),this._clearSelfAndDescendantCache(qm),this._clearSelfAndDescendantCache(Q4),this._clearSelfAndDescendantCache(J4),this._clearSelfAndDescendantCache(Ky),this._clearSelfAndDescendantCache(Xy)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+ne._capitalize(e);return ne._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==JM&&(a=$4+ne._capitalize(n),ne._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Xy,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(Ky,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;hn._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(i=!0)});const l=!n&&!qe.hitOnDragEnabled&&(i||qe.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,l,u,f;function g(v){for(i=[],l=v.length,u=0;u<l;u++)f=v[u],a++,f.nodeType!==W4&&(i=i.concat(f.getChildren().slice())),f._id===n._id&&(u=l);i.length>0&&i[0].getDepth()<=e&&g(i)}const m=this.getStage();return n.nodeType!==lD&&m&&g(m.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(su),this._clearSelfAndDescendantCache(to)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),l=new ci,u=this.offset();return l.m=i.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(su);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(su),this._clearSelfAndDescendantCache(to),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),l=this.y();return n!==void 0&&(i+=n),a!==void 0&&(l+=a),this.setPosition({x:i,y:l}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),l,u;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(l=a.length,u=0;u<l;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ne.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ne.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ne.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ne.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ne.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ne.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(qm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,l,u;const f={attrs:{},className:this.getClassName()};for(n in e)a=e[n],u=ne.isObject(a)&&!ne._isPlainObject(a)&&!ne._isArray(a),!u&&(i=typeof this[n]=="function"&&this[n],delete e[n],l=i?i.call(this):null,e[n]=a,l!==a&&(f.attrs[n]=a));return ne._prepareToStringify(f)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let l=this.parent;for(;l;){if(l===a)return i;l._isMatch(e)&&i.push(l),l=l.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,l;for(i=0;i<a;i++)if(l=n[i],ne.isValidSelector(l)||(ne.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ne.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ne.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(J4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(to,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new ci,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(to)||new ci,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;n.translate(i-u,l-f)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(su,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(su)||new ci;a.reset();const i=this.x(),l=this.y(),u=qe.getAngle(this.rotation()),f=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,m=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(i!==0||l!==0)&&a.translate(i,l),u!==0&&a.rotate(u),(m!==0||v!==0)&&a.skew(m,v),(f!==1||g!==1)&&a.scale(f,g),(_!==0||S!==0)&&a.translate(-1*_,-1*S),a.dirty=!1,a}clone(e){let n=ne.cloneObject(this.attrs),a,i,l,u,f;for(a in e)n[a]=e[a];const g=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],l=i.length,u=0;u<l;u++)f=i[u],f.name.indexOf(eD)<0&&(g.eventListeners[a]||(g.eventListeners[a]=[]),g.eventListeners[a].push(f));return g}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),u=e.pixelRatio||1,f=new hu({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:u}),g=f.getContext(),m=new hu({width:f.width/f.pixelRatio+Math.abs(i),height:f.height/f.pixelRatio+Math.abs(l),pixelRatio:f.pixelRatio});return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(i||l)&&g.translate(-1*i,-1*l),this.drawScene(f,void 0,m),g.restore(),f}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,ne._urlToImage(this.toDataURL(e),function(l){n(l),i?.(l)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),i?.(l)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():qe.dragDistance}_off(e,n,a){let i=this.eventListeners[e],l,u,f;for(l=0;l<i.length;l++)if(u=i[l].name,f=i[l].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===f)){if(i.splice(l,1),i.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+WM,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[$4+ne._capitalize(e)];return ne._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(qe.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!ne.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===W4&&(n.target=this);const i=[tD,nD,aD,rD,iD,sD];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const u=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const l=(n=this._cache.get(fm))!==null&&n!==void 0?n:{};let u=l?.[e];if(u===void 0){u=[];let f=Object.getPrototypeOf(this);for(;f;){const g=(i=(a=f.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];u.push(...g),f=Object.getPrototypeOf(f)}l[e]=u,this._cache.set(fm,l)}return u}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let l=0;l<i.length;l++)i[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||i;hn._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-i.x,y:l.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){hn._dragElements.has(this._id)||this._createDragElement(e);const a=hn._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,i,e);u?i=u:ne.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=hn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),hn._endDragBefore(e),hn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=hn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||qe.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;hn._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=hn._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&hn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ne.haveIntersection(a,this.getClientRect())}static create(e,n){return ne._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=Fy.prototype.getClassName.call(e),i=e.children,l,u,f;n&&(e.attrs.container=n),qe[a]||(ne.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const g=qe[a];if(l=new g(e.attrs),i)for(u=i.length,f=0;f<u;f++)l.add(Fy._createNode(i[f]));return l}};Ge.prototype.nodeType="Node";Ge.prototype._attrsAffectingSize=[];Ge.prototype.eventListeners={};Ge.prototype.on.call(Ge.prototype,oD,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(su),this._clearSelfAndDescendantCache(to)});Ge.prototype.on.call(Ge.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ky)});Ge.prototype.on.call(Ge.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Xy)});Ge.prototype.on.call(Ge.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(qm)});const jn=q.addGetterSetter;jn(Ge,"zIndex");jn(Ge,"absolutePosition");jn(Ge,"position");jn(Ge,"x",0,He());jn(Ge,"y",0,He());jn(Ge,"globalCompositeOperation","source-over",qc());jn(Ge,"opacity",1,He());jn(Ge,"name","",qc());jn(Ge,"id","",qc());jn(Ge,"rotation",0,He());q.addComponentsGetterSetter(Ge,"scale",["x","y"]);jn(Ge,"scaleX",1,He());jn(Ge,"scaleY",1,He());q.addComponentsGetterSetter(Ge,"skew",["x","y"]);jn(Ge,"skewX",0,He());jn(Ge,"skewY",0,He());q.addComponentsGetterSetter(Ge,"offset",["x","y"]);jn(Ge,"offsetX",0,He());jn(Ge,"offsetY",0,He());jn(Ge,"dragDistance",void 0,He());jn(Ge,"width",0,He());jn(Ge,"height",0,He());jn(Ge,"listening",!0,Ss());jn(Ge,"preventDefault",!0,Ss());jn(Ge,"filters",void 0,function(t){return this._filterUpToDate=!1,t});jn(Ge,"visible",!0,Ss());jn(Ge,"transformsEnabled","all",qc());jn(Ge,"size");jn(Ge,"dragBoundFunc");jn(Ge,"draggable",!1,Ss());q.backCompat(Ge,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class di extends Ge{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const l=i._isMatch(e);return l&&a.push(i),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Ge.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Ge.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas(),u=l&&l.getContext(),f=this._getCanvasCache(),g=f&&f.scene,m=l&&l.isCache;if(!this.isVisible()&&!m)return this;if(g){u.save();const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,l=i&&i.getContext(),u=this._getCanvasCache();if(u&&u.hit){l.save();const g=this.getAbsoluteTransform(n).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var l;const u=n&&n.getContext(),f=this.clipWidth(),g=this.clipHeight(),m=this.clipFunc(),v=typeof f=="number"&&typeof g=="number"||m,_=a===this;if(v){u.save();const C=this.getAbsoluteTransform(a);let T=C.getMatrix();u.transform(T[0],T[1],T[2],T[3],T[4],T[5]),u.beginPath();let R;if(m)R=m.call(this,u,this);else{const O=this.clipX(),M=this.clipY();u.rect(O||0,M||0,f,g)}u.clip.apply(u,R),T=C.copy().invert().getMatrix(),u.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const S=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(C){C[e](n,a,i)}),S&&u.restore(),v&&u.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let l,u,f,g,m={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(C){if(!C.visible())return;const T=C.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(l===void 0?(l=T.x,u=T.y,f=T.x+T.width,g=T.y+T.height):(l=Math.min(l,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x+T.width),g=Math.max(g,T.y+T.height)))});const _=this.find("Shape");let S=!1;for(let C=0;C<_.length;C++)if(_[C]._isVisible(this)){S=!0;break}return S&&l!==void 0?m={x:l,y:u,width:f-l,height:g-u}:m={x:0,y:0,width:0,height:0},a?m:this._transformedRect(m,i)}}q.addComponentsGetterSetter(di,"clip",["x","y","width","height"]);q.addGetterSetter(di,"clipX",void 0,He());q.addGetterSetter(di,"clipY",void 0,He());q.addGetterSetter(di,"clipWidth",void 0,He());q.addGetterSetter(di,"clipHeight",void 0,He());q.addGetterSetter(di,"clipFunc");const W0=new Map,kS=qe._global.PointerEvent!==void 0;function $1(t){return W0.get(t)}function Y2(t){return{evt:t,pointerId:t.pointerId}}function US(t,e){return W0.get(t)===e}function LS(t,e){G0(t),e.getStage()&&(W0.set(t,e),kS&&e._fire("gotpointercapture",Y2(new PointerEvent("gotpointercapture"))))}function G0(t,e){const n=W0.get(t);if(!n)return;const a=n.getStage();a&&a.content,W0.delete(t),kS&&n._fire("lostpointercapture",Y2(new PointerEvent("lostpointercapture")))}const cD="Stage",dD="string",e5="px",fD="mouseout",PS="mouseleave",BS="mouseover",HS="mouseenter",GS="mousemove",qS="mousedown",VS="mouseup",N0="pointermove",M0="pointerdown",Nf="pointerup",D0="pointercancel",hD="lostpointercapture",hm="pointerout",j0="pointerleave",gm="pointerover",pm="pointerenter",Qy="contextmenu",YS="touchstart",ZS="touchend",IS="touchmove",XS="touchcancel",$y="wheel",gD=5,pD=[[HS,"_pointerenter"],[qS,"_pointerdown"],[GS,"_pointermove"],[VS,"_pointerup"],[PS,"_pointerleave"],[YS,"_pointerdown"],[IS,"_pointermove"],[ZS,"_pointerup"],[XS,"_pointercancel"],[BS,"_pointerover"],[$y,"_wheel"],[Qy,"_contextmenu"],[M0,"_pointerdown"],[N0,"_pointermove"],[Nf,"_pointerup"],[D0,"_pointercancel"],[j0,"_pointerleave"],[hD,"_lostpointercapture"]],W1={mouse:{[hm]:fD,[j0]:PS,[gm]:BS,[pm]:HS,[N0]:GS,[M0]:qS,[Nf]:VS,[D0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[hm]:"touchout",[j0]:"touchleave",[gm]:"touchover",[pm]:"touchenter",[N0]:IS,[M0]:YS,[Nf]:ZS,[D0]:XS,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[hm]:hm,[j0]:j0,[gm]:gm,[pm]:pm,[N0]:N0,[M0]:M0,[Nf]:Nf,[D0]:D0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},z0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",mf=t=>{const e=z0(t);if(e==="pointer")return qe.pointerEventsEnabled&&W1.pointer;if(e==="touch")return W1.touch;if(e==="mouse")return W1.mouse};function t5(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ne.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const mD="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",q0=[];let Mv=class extends di{constructor(e){super(t5(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),q0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{t5(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||ne.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===dD){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),di.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&ne._isInDocument(e)&&this.container().removeChild(e);const n=q0.indexOf(this);return n>-1&&q0.splice(n,1),ne.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ne.warn(mD),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new hu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(l){if(!l.isVisible())return;const u=l._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let l=i;l>=0;l--){const u=n[l].getIntersection(e);if(u)return u}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+e5,this.content.style.height=n+e5),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>gD&&ne.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),qe.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return US(e,this)}setPointerCapture(e){LS(e,this)}releaseCapture(e){G0(e)}getLayers(){return this.children}_bindContentEvents(){qe.isBrowser&&pD.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=mf(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=mf(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=mf(e.type),a=z0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),l=!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled;i&&l?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=mf(e.type),a=z0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(l=>{const u=this.getIntersection(l);if(hn.justDragged=!1,qe["_"+a+"ListenClick"]=!0,!u||!u.isListening()){this[a+"ClickStartShape"]=void 0;return}qe.capturePointerEventsEnabled&&u.setPointerCapture(l.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),i=!0;const f=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&f&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=mf(e.type),a=z0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(qe.isDragging()&&hn.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled))return;const u={};let f=!1;const g=this._getTargetShape(a);this._changedPointerPositions.forEach(m=>{const v=$1(m.id)||this.getIntersection(m),_=m.id,S={evt:e,pointerId:_},C=g!==v;if(C&&g&&(g._fireAndBubble(n.pointerout,{...S},v),g._fireAndBubble(n.pointerleave,{...S},v)),v){if(u[v._id])return;u[v._id]=!0}v&&v.isListening()?(f=!0,C&&(v._fireAndBubble(n.pointerover,{...S},g),v._fireAndBubble(n.pointerenter,{...S},g),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...S})):g&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),f||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=mf(e.type),a=z0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],u={};let f=!1;this._changedPointerPositions.forEach(g=>{const m=$1(g.id)||this.getIntersection(g);if(m){if(m.releaseCapture(g.id),u[m._id])return;u[m._id]=!0}const v=g.id,_={evt:e,pointerId:v};let S=!1;qe["_"+a+"InDblClickWindow"]?(S=!0,clearTimeout(this[a+"DblTimeout"])):hn.justDragged||(qe["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){qe["_"+a+"InDblClickWindow"]=!1},qe.dblClickWindow),m&&m.isListening()?(f=!0,this[a+"ClickEndShape"]=m,m._fireAndBubble(n.pointerup,{..._}),qe["_"+a+"ListenClick"]&&i&&i===m&&(m._fireAndBubble(n.pointerclick,{..._}),S&&l&&l===m&&m._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,f||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),f=!0),qe["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),S&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),f||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),qe["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Qy,{evt:e}):this._fire(Qy,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble($y,{evt:e}):this._fire($y,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=$1(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Nf,Y2(e)),G0(e.pointerId)}_lostpointercapture(e){G0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:ne._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:ne._getFirstPointerId(e)}])}_setPointerPosition(e){ne.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new hu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new q2({pixelRatio:1,width:this.width(),height:this.height()}),!qe.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return ne.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Mv.prototype.nodeType=cD;Xn(Mv);q.addGetterSetter(Mv,"container");qe.isBrowser&&document.addEventListener("visibilitychange",()=>{q0.forEach(t=>{t.batchDraw()})});const KS="hasShadow",FS="shadowRGBA",QS="patternImage",$S="linearGradient",WS="radialGradient";let mm;function J1(){return mm||(mm=ne.createCanvasElement().getContext("2d"),mm)}const V0={};function vD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function yD(t){t.stroke()}function bD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function _D(t){t.stroke()}function SD(){this._clearCache(KS)}function xD(){this._clearCache(FS)}function wD(){this._clearCache(QS)}function ED(){this._clearCache($S)}function CD(){this._clearCache(WS)}class je extends Ge{constructor(e){super(e);let n;for(;n=ne.getRandomColor(),!(n&&!(n in V0)););this.colorKey=n,V0[n]=this}getContext(){return ne.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ne.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(KS,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(QS,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=J1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new ci;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(qe.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache($S,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=J1(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}_getRadialGradient(){return this._getCache(WS,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=J1(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}getShadowRGBA(){return this._getCache(FS,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=ne.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ge.prototype.destroy.call(this),delete V0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),l=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(i&&l&&u)return!0;const f=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(i&&l&&f&&g)}setStrokeHitEnabled(e){ne.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),g=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,m=u.width+g,v=u.height+g,_=!e.skipShadow&&this.hasShadow(),S=_?this.shadowOffsetX():0,C=_?this.shadowOffsetY():0,T=m+Math.abs(S),R=v+Math.abs(C),O=_&&this.shadowBlur()||0,M=T+O*2,j=R+O*2,z={width:M,height:j,x:-(g/2+O)+Math.min(S,0)+u.x,y:-(g/2+O)+Math.min(C,0)+u.y};return i?z:this._transformedRect(z,l)}drawScene(e,n,a){const i=this.getLayer(),l=e||i.getCanvas(),u=l.getContext(),f=this._getCanvasCache(),g=this.getSceneFunc(),m=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(f){u.save();const S=this.getAbsoluteTransform(n).getMatrix();return u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!g)return this;if(u.save(),this._useBufferCanvas()){v=this.getStage();const S=a||v.bufferCanvas,C=S.getContext();C.clear(),C.save(),C._applyLineJoin(this),C._applyMiterLimit(this);const T=this.getAbsoluteTransform(n).getMatrix();C.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g.call(this,C,this),C.restore();const R=S.pixelRatio;m&&u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(S._canvas,S.x||0,S.y||0,S.width/R,S.height/R)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!_){const S=this.getAbsoluteTransform(n).getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}m&&u._applyShadow(this),g.call(this,u,this)}return u.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),l=e||i.hitCanvas,u=l&&l.getContext(),f=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),m=g&&g.hit;if(this.colorKey||ne.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),m){u.save();const _=this.getAbsoluteTransform(n).getMatrix();return u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!f)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return f.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,l=i.getContext(),u=i.getWidth(),f=i.getHeight();l.clear(),l.drawImage(a._canvas,0,0,u,f);try{const g=l.getImageData(0,0,u,f),m=g.data,v=m.length,_=ne._hexToRgb(this.colorKey);for(let S=0;S<v;S+=4)m[S+3]>e?(m[S]=_.r,m[S+1]=_.g,m[S+2]=_.b,m[S+3]=255):m[S+3]=0;l.putImageData(g,0,0)}catch(g){ne.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return US(e,this)}setPointerCapture(e){LS(e,this)}releaseCapture(e){G0(e)}}je.prototype._fillFunc=vD;je.prototype._strokeFunc=yD;je.prototype._fillFuncHit=bD;je.prototype._strokeFuncHit=_D;je.prototype._centroid=!1;je.prototype.nodeType="Shape";Xn(je);je.prototype.eventListeners={};je.prototype.on.call(je.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",SD);je.prototype.on.call(je.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",xD);je.prototype.on.call(je.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",wD);je.prototype.on.call(je.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",ED);je.prototype.on.call(je.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",CD);q.addGetterSetter(je,"stroke",void 0,zS());q.addGetterSetter(je,"strokeWidth",2,He());q.addGetterSetter(je,"fillAfterStrokeEnabled",!1);q.addGetterSetter(je,"hitStrokeWidth","auto",V2());q.addGetterSetter(je,"strokeHitEnabled",!0,Ss());q.addGetterSetter(je,"perfectDrawEnabled",!0,Ss());q.addGetterSetter(je,"shadowForStrokeEnabled",!0,Ss());q.addGetterSetter(je,"lineJoin");q.addGetterSetter(je,"lineCap");q.addGetterSetter(je,"miterLimit");q.addGetterSetter(je,"sceneFunc");q.addGetterSetter(je,"hitFunc");q.addGetterSetter(je,"dash");q.addGetterSetter(je,"dashOffset",0,He());q.addGetterSetter(je,"shadowColor",void 0,qc());q.addGetterSetter(je,"shadowBlur",0,He());q.addGetterSetter(je,"shadowOpacity",1,He());q.addComponentsGetterSetter(je,"shadowOffset",["x","y"]);q.addGetterSetter(je,"shadowOffsetX",0,He());q.addGetterSetter(je,"shadowOffsetY",0,He());q.addGetterSetter(je,"fillPatternImage");q.addGetterSetter(je,"fill",void 0,zS());q.addGetterSetter(je,"fillPatternX",0,He());q.addGetterSetter(je,"fillPatternY",0,He());q.addGetterSetter(je,"fillLinearGradientColorStops");q.addGetterSetter(je,"strokeLinearGradientColorStops");q.addGetterSetter(je,"fillRadialGradientStartRadius",0);q.addGetterSetter(je,"fillRadialGradientEndRadius",0);q.addGetterSetter(je,"fillRadialGradientColorStops");q.addGetterSetter(je,"fillPatternRepeat","repeat");q.addGetterSetter(je,"fillEnabled",!0);q.addGetterSetter(je,"strokeEnabled",!0);q.addGetterSetter(je,"shadowEnabled",!0);q.addGetterSetter(je,"dashEnabled",!0);q.addGetterSetter(je,"strokeScaleEnabled",!0);q.addGetterSetter(je,"fillPriority","color");q.addComponentsGetterSetter(je,"fillPatternOffset",["x","y"]);q.addGetterSetter(je,"fillPatternOffsetX",0,He());q.addGetterSetter(je,"fillPatternOffsetY",0,He());q.addComponentsGetterSetter(je,"fillPatternScale",["x","y"]);q.addGetterSetter(je,"fillPatternScaleX",1,He());q.addGetterSetter(je,"fillPatternScaleY",1,He());q.addComponentsGetterSetter(je,"fillLinearGradientStartPoint",["x","y"]);q.addComponentsGetterSetter(je,"strokeLinearGradientStartPoint",["x","y"]);q.addGetterSetter(je,"fillLinearGradientStartPointX",0);q.addGetterSetter(je,"strokeLinearGradientStartPointX",0);q.addGetterSetter(je,"fillLinearGradientStartPointY",0);q.addGetterSetter(je,"strokeLinearGradientStartPointY",0);q.addComponentsGetterSetter(je,"fillLinearGradientEndPoint",["x","y"]);q.addComponentsGetterSetter(je,"strokeLinearGradientEndPoint",["x","y"]);q.addGetterSetter(je,"fillLinearGradientEndPointX",0);q.addGetterSetter(je,"strokeLinearGradientEndPointX",0);q.addGetterSetter(je,"fillLinearGradientEndPointY",0);q.addGetterSetter(je,"strokeLinearGradientEndPointY",0);q.addComponentsGetterSetter(je,"fillRadialGradientStartPoint",["x","y"]);q.addGetterSetter(je,"fillRadialGradientStartPointX",0);q.addGetterSetter(je,"fillRadialGradientStartPointY",0);q.addComponentsGetterSetter(je,"fillRadialGradientEndPoint",["x","y"]);q.addGetterSetter(je,"fillRadialGradientEndPointX",0);q.addGetterSetter(je,"fillRadialGradientEndPointY",0);q.addGetterSetter(je,"fillPatternRotation",0);q.addGetterSetter(je,"fillRule",void 0,qc());q.backCompat(je,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const TD="#",AD="beforeDraw",RD="draw",JS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],OD=JS.length;let Vc=class extends di{constructor(e){super(e),this.canvas=new hu,this.hitCanvas=new q2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ge.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ge.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ge.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ge.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ge.prototype.remove.call(this),e&&e.parentNode&&ne._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ge.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ne.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ne.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ne.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<OD;i++){const l=JS[i],u=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),f=u.shape;if(f)return f;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const l=ne._rgbToHex(a[0],a[1],a[2]),u=V0[TD+l];return u?{shape:u}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas();return this._fire(AD,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),di.prototype.drawScene.call(this,l,n,a),this._fire(RD,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),di.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return ne.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Vc.prototype.nodeType="Layer";Xn(Vc);q.addGetterSetter(Vc,"imageSmoothingEnabled",!0);q.addGetterSetter(Vc,"clearBeforeDraw",!0);q.addGetterSetter(Vc,"hitGraphEnabled",!0,Ss());class Z2 extends Vc{constructor(e){super(e),this.listening(!1),ne.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Z2.prototype.nodeType="FastLayer";Xn(Z2);let Gf=class extends di{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to groups.")}};Gf.prototype.nodeType="Group";Xn(Gf);const ey=(function(){return Dc.performance&&Dc.performance.now?function(){return Dc.performance.now()}:function(){return new Date().getTime()}})();class Li{constructor(e,n){this.id=Li.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:ey(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Li.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=ey(),Li._addAnimation(this),this}stop(){return Li._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let l=0;l<i;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],l=i.layers,u=i.func;i._updateFrameObject(ey());const f=l.length;let g;if(u?g=u.call(i,i.frame)!==!1:g=!0,!!g)for(let m=0;m<f;m++){const v=l[m];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=Li;e.animations.length?(e._runFrames(),ne.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ne.requestAnimFrame(this._animationLoop))}}Li.animations=[];Li.animIdCounter=0;Li.animRunning=!1;const ND={node:1,duration:1,easing:1,onFinish:1,yoyo:1},MD=1,n5=2,a5=3,r5=["fill","stroke","shadowColor"];let DD=0;class jD{constructor(e,n,a,i,l,u,f){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=n5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=a5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===n5?this.setTime(e):this.state===a5&&this.setTime(this.duration-e)}pause(){this.state=MD,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Ln{constructor(e){const n=this,a=e.node,i=a._id,l=e.easing||Y0.Linear,u=!!e.yoyo;let f,g;typeof e.duration>"u"?f=.3:e.duration===0?f=.001:f=e.duration,this.node=a,this._id=DD++;const m=a.getLayer()||(a instanceof qe.Stage?a.getLayers():null);m||ne.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Li(function(){n.tween.onEnterFrame()},m),this.tween=new jD(g,function(v){n._tweenFunc(v)},l,0,1,f*1e3,u),this._addListeners(),Ln.attrs[i]||(Ln.attrs[i]={}),Ln.attrs[i][this._id]||(Ln.attrs[i][this._id]={}),Ln.tweens[i]||(Ln.tweens[i]={});for(g in e)ND[g]===void 0&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let l,u,f,g,m;const v=Ln.tweens[i][e];v&&delete Ln.attrs[i][v][e];let _=a.getAttr(e);if(ne._isArray(n))if(l=[],u=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(g=_,_=ne._prepareArrayForTween(_,n,a.closed())):(f=n,n=ne._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let S=0;S<u;S++)if(S%2===0)l.push(n[S]-_[S]);else{const C=ne.colorToRGBA(_[S]);m=ne.colorToRGBA(n[S]),_[S]=C,l.push({r:m.r-C.r,g:m.g-C.g,b:m.b-C.b,a:m.a-C.a})}else for(let S=0;S<u;S++)l.push(n[S]-_[S]);else r5.indexOf(e)!==-1?(_=ne.colorToRGBA(_),m=ne.colorToRGBA(n),l={r:m.r-_.r,g:m.g-_.g,b:m.b-_.b,a:m.a-_.a}):l=n-_;Ln.attrs[i][this._id][e]={start:_,diff:l,end:n,trueEnd:f,trueStart:g},Ln.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=Ln.attrs[n._id][this._id];let i,l,u,f,g,m,v,_;for(i in a){if(l=a[i],u=l.start,f=l.diff,_=l.end,ne._isArray(u))if(g=[],v=Math.max(u.length,_.length),i.indexOf("fill")===0)for(m=0;m<v;m++)m%2===0?g.push((u[m]||0)+f[m]*e):g.push("rgba("+Math.round(u[m].r+f[m].r*e)+","+Math.round(u[m].g+f[m].g*e)+","+Math.round(u[m].b+f[m].b*e)+","+(u[m].a+f[m].a*e)+")");else for(m=0;m<v;m++)g.push((u[m]||0)+f[m]*e);else r5.indexOf(i)!==-1?g="rgba("+Math.round(u.r+f.r*e)+","+Math.round(u.g+f.g*e)+","+Math.round(u.b+f.b*e)+","+(u.a+f.a*e)+")":g=u+f*e;n.setAttr(i,g)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Ln.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Ln.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=Ln.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete Ln.tweens[e][i];delete Ln.attrs[e][n],Ln.tweens[e]&&(Object.keys(Ln.tweens[e]).length===0&&delete Ln.tweens[e],Object.keys(Ln.attrs[e]).length===0&&delete Ln.attrs[e])}}Ln.attrs={};Ln.tweens={};Ge.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Ln(t).play()};const Y0={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-u)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-Y0.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?Y0.BounceEaseIn(t*2,0,n,a)*.5+e:Y0.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},qf=ne._assign(qe,{Util:ne,Transform:ci,Node:Ge,Container:di,Stage:Mv,stages:q0,Layer:Vc,FastLayer:Z2,Group:Gf,DD:hn,Shape:je,shapes:V0,Animation:Li,Tween:Ln,Easings:Y0,Context:Ov,Canvas:G2});class oo extends je{_sceneFunc(e){const n=qe.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=qe.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(i,Math.PI)),u=1,f=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),g=Math.sin(Math.min(i,Math.PI/2)),m=l*(l>0?e:n),v=u*n,_=f*(f>0?e:n),S=g*(g>0?n:e);return{x:m,y:a?-1*S:_,width:v-m,height:S-_}}}oo.prototype._centroid=!0;oo.prototype.className="Arc";oo.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Xn(oo);q.addGetterSetter(oo,"innerRadius",0,He());q.addGetterSetter(oo,"outerRadius",0,He());q.addGetterSetter(oo,"angle",0,He());q.addGetterSetter(oo,"clockwise",!1,Ss());function Wy(t,e,n,a,i,l,u){const f=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),g=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-a,2)),m=u*f/(f+g),v=u*g/(f+g),_=n-m*(i-t),S=a-m*(l-e),C=n+v*(i-t),T=a+v*(l-e);return[_,S,C,T]}function i5(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const l=Wy(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[i]),a.push(t[i+1]),a.push(l[2]),a.push(l[3]))}return a}let uo=class extends je{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),l=this.closed(),u=this.bezier();if(!a)return;let f=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const g=this.getTensionPoints(),m=g.length;for(f=l?0:4,l||e.quadraticCurveTo(g[0],g[1],g[2],g[3]);f<m-2;)e.bezierCurveTo(g[f++],g[f++],g[f++],g[f++],g[f++],g[f++]);l||e.quadraticCurveTo(g[m-2],g[m-1],n[a-2],n[a-1])}else if(u)for(f=2;f<a;)e.bezierCurveTo(n[f++],n[f++],n[f++],n[f++],n[f++],n[f++]);else for(f=2;f<a;f+=2)e.lineTo(n[f],n[f+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():i5(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=Wy(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=Wy(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=i5(e,a);return[i[2],i[3]].concat(u).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let g=0;g<e.length/2;g++)u=e[g*2],f=e[g*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);return{x:n,y:i,width:a-n,height:l-i}}};uo.prototype.className="Line";uo.prototype._attrsAffectingSize=["points","bezier","tension"];Xn(uo);q.addGetterSetter(uo,"closed",!1);q.addGetterSetter(uo,"bezier",!1);q.addGetterSetter(uo,"tension",0,He());q.addGetterSetter(uo,"points",[],FM());const zD=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],kD=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],UD=[[1],[1,1],[1,2,1],[1,3,3,1]],s5=(t,e,n)=>{let a,i;const u=n/2;a=0;for(let f=0;f<20;f++)i=u*zD[20][f]+u,a+=kD[20][f]*LD(t,e,i);return u*a},l5=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],u=2*e[1]-2*e[0],f=4*(a*a+i*i),g=4*(a*l+i*u),m=l*l+u*u;if(f===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=g/(2*f),_=m/f,S=n+v,C=_-v*v,T=S*S+C>0?Math.sqrt(S*S+C):0,R=v*v+C>0?Math.sqrt(v*v+C):0,O=v+Math.sqrt(v*v+C)!==0?C*Math.log(Math.abs((S+T)/(v+R))):0;return Math.sqrt(f)/2*(S*T-v*R+O)};function LD(t,e,n){const a=Jy(1,n,t),i=Jy(1,n,e),l=a*a+i*i;return Math.sqrt(l)}const Jy=(t,e,n)=>{const a=n.length-1;let i,l;if(a===0)return 0;if(t===0){l=0;for(let u=0;u<=a;u++)l+=UD[a][u]*Math.pow(1-e,a-u)*Math.pow(e,u)*n[u];return l}else{i=new Array(a);for(let u=0;u<a;u++)i[u]=a*(n[u+1]-n[u]);return Jy(t-1,e,i)}},o5=(t,e,n)=>{let a=1,i=t/e,l=(t-n(i))/e,u=0;for(;a>.001;){const f=n(i+l),g=Math.abs(t-f)/e;if(g<a)a=g,i+=l;else{const m=n(i-l),v=Math.abs(t-m)/e;v<a?(a=v,i-=l):l/=2}if(u++,u>500)break}return i};let Pi=class Yr extends je{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Yr.parsePathData(this.data()),this.pathLength=Yr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const l=n[i].command,u=n[i].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const f=u[0],g=u[1],m=u[2],v=u[3],_=u[4],S=u[5],C=u[6],T=u[7],R=m>v?m:v,O=m>v?1:m/v,M=m>v?v/m:1;e.translate(f,g),e.rotate(C),e.scale(O,M),e.arc(0,0,R,_,_+S,1-T),e.scale(1/O,1/M),e.rotate(-C),e.translate(-f,-g);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(g){if(g.command==="A"){const m=g.points[4],v=g.points[5],_=g.points[4]+v;let S=Math.PI/180;if(Math.abs(m-_)<S&&(S=Math.abs(m-_)),v<0)for(let C=m-S;C>_;C-=S){const T=Yr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}else for(let C=m+S;C<_;C+=S){const T=Yr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}}else if(g.command==="C")for(let m=0;m<=1;m+=.01){const v=Yr.getPointOnCubicBezier(m,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(v.x,v.y)}else e=e.concat(g.points)});let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let g=0;g<e.length/2;g++)u=e[g*2],f=e[g*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(f)||(i=Math.min(i,f),l=Math.max(l,f));return{x:n,y:i,width:a-n,height:l-i}}getLength(){return this.pathLength}getPointAtLength(e){return Yr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,l=n.length;if(!l)return null;for(;i<l&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===l)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const u=n[i],f=u.points;switch(u.command){case"L":return Yr.getPointOnLine(e,u.start.x,u.start.y,f[0],f[1]);case"C":return Yr.getPointOnCubicBezier(o5(e,Yr.getPathLength(n),R=>s5([u.start.x,f[0],f[2],f[4]],[u.start.y,f[1],f[3],f[5]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return Yr.getPointOnQuadraticBezier(o5(e,Yr.getPathLength(n),R=>l5([u.start.x,f[0],f[2]],[u.start.y,f[1],f[3]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3]);case"A":const g=f[0],m=f[1],v=f[2],_=f[3],S=f[5],C=f[6];let T=f[4];return T+=S*e/u.pathLength,Yr.getPointOnEllipticalArc(g,m,v,_,T,C)}return null}static getPointOnLine(e,n,a,i,l,u,f){u=u??n,f=f??a;const g=this.getLineLength(n,a,i,l);if(g<1e-10)return{x:n,y:a};if(i===n)return{x:u,y:f+(l>a?e:-e)};const m=(l-a)/(i-n),v=Math.sqrt(e*e/(1+m*m))*(i<n?-1:1),_=m*v;if(Math.abs(f-a-m*(u-n))<1e-10)return{x:u+v,y:f+_};const S=((u-n)*(i-n)+(f-a)*(l-a))/(g*g),C=n+S*(i-n),T=a+S*(l-a),R=this.getLineLength(u,f,C,T),O=Math.sqrt(e*e-R*R),M=Math.sqrt(O*O/(1+m*m))*(i<n?-1:1),j=m*M;return{x:C+M,y:T+j}}static getPointOnCubicBezier(e,n,a,i,l,u,f,g,m){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function C(O){return(1-O)*(1-O)*(1-O)}const T=g*v(e)+u*_(e)+i*S(e)+n*C(e),R=m*v(e)+f*_(e)+l*S(e)+a*C(e);return{x:T,y:R}}static getPointOnQuadraticBezier(e,n,a,i,l,u,f){function g(C){return C*C}function m(C){return 2*C*(1-C)}function v(C){return(1-C)*(1-C)}const _=u*g(e)+i*m(e)+n*v(e),S=f*g(e)+l*m(e)+a*v(e);return{x:_,y:S}}static getPointOnEllipticalArc(e,n,a,i,l,u){const f=Math.cos(u),g=Math.sin(u),m={x:a*Math.cos(l),y:i*Math.sin(l)};return{x:e+(m.x*f-m.y*g),y:n+(m.x*g+m.y*f)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const i=n.split("|"),l=[],u=[];let f=0,g=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<i.length;_++){let S=i[_],C=S.charAt(0);for(S=S.slice(1),u.length=0;v=m.exec(S);)u.push(v[0]);let T=[],R=C==="A"||C==="a"?0:-1;for(let O=0,M=u.length;O<M;O++){const j=u[O];if(j==="00"){T.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),T.push(parseFloat(j.slice(2))),R+=3,R>=7&&(R-=7);continue}if(j==="11"||j==="10"||j==="01"){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseFloat(j.slice(1))),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z)}}for(;T.length>0&&!isNaN(T[0]);){let O="",M=[];const j=f,z=g;let U,H,L,Y,Q,ae,_e,Oe,ie,ve;switch(C){case"l":f+=T.shift(),g+=T.shift(),O="L",M.push(f,g);break;case"L":f=T.shift(),g=T.shift(),M.push(f,g);break;case"m":const ce=T.shift(),fe=T.shift();if(f+=ce,g+=fe,O="M",l.length>2&&l[l.length-1].command==="z"){for(let B=l.length-2;B>=0;B--)if(l[B].command==="M"){f=l[B].points[0]+ce,g=l[B].points[1]+fe;break}}M.push(f,g),C="l";break;case"M":f=T.shift(),g=T.shift(),O="M",M.push(f,g),C="L";break;case"h":f+=T.shift(),O="L",M.push(f,g);break;case"H":f=T.shift(),O="L",M.push(f,g);break;case"v":g+=T.shift(),O="L",M.push(f,g);break;case"V":g=T.shift(),O="L",M.push(f,g);break;case"C":M.push(T.shift(),T.shift(),T.shift(),T.shift()),f=T.shift(),g=T.shift(),M.push(f,g);break;case"c":M.push(f+T.shift(),g+T.shift(),f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="C",M.push(f,g);break;case"S":H=f,L=g,U=l[l.length-1],U.command==="C"&&(H=f+(f-U.points[2]),L=g+(g-U.points[3])),M.push(H,L,T.shift(),T.shift()),f=T.shift(),g=T.shift(),O="C",M.push(f,g);break;case"s":H=f,L=g,U=l[l.length-1],U.command==="C"&&(H=f+(f-U.points[2]),L=g+(g-U.points[3])),M.push(H,L,f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="C",M.push(f,g);break;case"Q":M.push(T.shift(),T.shift()),f=T.shift(),g=T.shift(),M.push(f,g);break;case"q":M.push(f+T.shift(),g+T.shift()),f+=T.shift(),g+=T.shift(),O="Q",M.push(f,g);break;case"T":H=f,L=g,U=l[l.length-1],U.command==="Q"&&(H=f+(f-U.points[0]),L=g+(g-U.points[1])),f=T.shift(),g=T.shift(),O="Q",M.push(H,L,f,g);break;case"t":H=f,L=g,U=l[l.length-1],U.command==="Q"&&(H=f+(f-U.points[0]),L=g+(g-U.points[1])),f+=T.shift(),g+=T.shift(),O="Q",M.push(H,L,f,g);break;case"A":Y=T.shift(),Q=T.shift(),ae=T.shift(),_e=T.shift(),Oe=T.shift(),ie=f,ve=g,f=T.shift(),g=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(ie,ve,f,g,_e,Oe,Y,Q,ae);break;case"a":Y=T.shift(),Q=T.shift(),ae=T.shift(),_e=T.shift(),Oe=T.shift(),ie=f,ve=g,f+=T.shift(),g+=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(ie,ve,f,g,_e,Oe,Y,Q,ae);break}l.push({command:O||C,points:M,start:{x:j,y:z},pathLength:this.calcLength(j,z,O||C,M)})}(C==="z"||C==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,i){let l,u,f,g;const m=Yr;switch(a){case"L":return m.getLineLength(e,n,i[0],i[1]);case"C":return s5([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return l5([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":l=0;const v=i[4],_=i[5],S=i[4]+_;let C=Math.PI/180;if(Math.abs(v-S)<C&&(C=Math.abs(v-S)),u=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),_<0)for(g=v-C;g>S;g-=C)f=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=m.getLineLength(u.x,u.y,f.x,f.y),u=f;else for(g=v+C;g<S;g+=C)f=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=m.getLineLength(u.x,u.y,f.x,f.y),u=f;return f=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],S,0),l+=m.getLineLength(u.x,u.y,f.x,f.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,i,l,u,f,g,m){const v=m*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-i)/2,S=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-i)/2,C=_*_/(f*f)+S*S/(g*g);C>1&&(f*=Math.sqrt(C),g*=Math.sqrt(C));let T=Math.sqrt((f*f*(g*g)-f*f*(S*S)-g*g*(_*_))/(f*f*(S*S)+g*g*(_*_)));l===u&&(T*=-1),isNaN(T)&&(T=0);const R=T*f*S/g,O=T*-g*_/f,M=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,j=(n+i)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(_e){return Math.sqrt(_e[0]*_e[0]+_e[1]*_e[1])},U=function(_e,Oe){return(_e[0]*Oe[0]+_e[1]*Oe[1])/(z(_e)*z(Oe))},H=function(_e,Oe){return(_e[0]*Oe[1]<_e[1]*Oe[0]?-1:1)*Math.acos(U(_e,Oe))},L=H([1,0],[(_-R)/f,(S-O)/g]),Y=[(_-R)/f,(S-O)/g],Q=[(-1*_-R)/f,(-1*S-O)/g];let ae=H(Y,Q);return U(Y,Q)<=-1&&(ae=Math.PI),U(Y,Q)>=1&&(ae=0),u===0&&ae>0&&(ae=ae-2*Math.PI),u===1&&ae<0&&(ae=ae+2*Math.PI),[M,j,f,g,L,ae,v,u]}};Pi.prototype.className="Path";Pi.prototype._attrsAffectingSize=["data"];Xn(Pi);q.addGetterSetter(Pi,"data");let Yc=class extends uo{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const l=this.tension()!==0&&a.length>4;l&&(i=this.getTensionPoints());const u=this.pointerLength(),f=a.length;let g,m;if(l){const S=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[f-2],a[f-1]],C=Pi.calcLength(i[i.length-4],i[i.length-3],"C",S),T=Pi.getPointOnQuadraticBezier(Math.min(1,1-u/C),S[0],S[1],S[2],S[3],S[4],S[5]);g=a[f-2]-T.x,m=a[f-1]-T.y}else g=a[f-2]-a[f-4],m=a[f-1]-a[f-3];const v=(Math.atan2(m,g)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[f-2],a[f-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(g=(i[0]+i[2])/2-a[0],m=(i[1]+i[3])/2-a[1]):(g=a[2]-a[0],m=a[3]-a[1]),e.rotate((Math.atan2(-m,-g)+n)%n),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Yc.prototype.className="Arrow";Xn(Yc);q.addGetterSetter(Yc,"pointerLength",10,He());q.addGetterSetter(Yc,"pointerWidth",10,He());q.addGetterSetter(Yc,"pointerAtBeginning",!1);q.addGetterSetter(Yc,"pointerAtEnding",!0);let If=class extends je{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};If.prototype._centroid=!0;If.prototype.className="Circle";If.prototype._attrsAffectingSize=["radius"];Xn(If);q.addGetterSetter(If,"radius",0,He());class Su extends je{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Su.prototype.className="Ellipse";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["radiusX","radiusY"];Xn(Su);q.addComponentsGetterSetter(Su,"radius",["x","y"]);q.addGetterSetter(Su,"radiusX",0,He());q.addGetterSetter(Su,"radiusY",0,He());class qi extends je{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),l=this.attrs.image;let u;if(l){const f=this.attrs.cropWidth,g=this.attrs.cropHeight;f&&g?u=[l,this.cropX(),this.cropY(),f,g,0,0,n,a]:u=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?ne.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(i&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?ne.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const i=ne.createImageElement();i.onload=function(){const l=new qi({image:i});n(l)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}}qi.prototype.className="Image";Xn(qi);q.addGetterSetter(qi,"cornerRadius",0,Nv(4));q.addGetterSetter(qi,"image");q.addComponentsGetterSetter(qi,"crop",["x","y","width","height"]);q.addGetterSetter(qi,"cropX",0,He());q.addGetterSetter(qi,"cropY",0,He());q.addGetterSetter(qi,"cropWidth",0,He());q.addGetterSetter(qi,"cropHeight",0,He());const ex=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],PD="Change.konva",BD="none",e2="up",t2="right",n2="down",a2="left",HD=ex.length;let I2=class extends Gf{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<HD;a++)e.on(ex[a]+PD,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,l,u,f,g,m;if(e&&n){switch(a=e.width(),i=e.height(),l=n.pointerDirection(),u=n.pointerWidth(),m=n.pointerHeight(),f=0,g=0,l){case e2:f=a/2,g=-1*m;break;case t2:f=a+u,g=i/2;break;case n2:f=a/2,g=i+m;break;case a2:f=-1*u,g=i/2;break}n.setAttrs({x:-1*f,y:-1*g,width:a,height:i}),e.setAttrs({x:-1*f,y:-1*g})}}};I2.prototype.className="Label";Xn(I2);class Zc extends je{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),f=this.cornerRadius();let g=0,m=0,v=0,_=0;typeof f=="number"?g=m=v=_=Math.min(f,n/2,a/2):(g=Math.min(f[0]||0,n/2,a/2),m=Math.min(f[1]||0,n/2,a/2),_=Math.min(f[2]||0,n/2,a/2),v=Math.min(f[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(g,0),i===e2&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+l)/2,0)),e.lineTo(n-m,0),e.arc(n-m,m,m,Math.PI*3/2,0,!1),i===t2&&(e.lineTo(n,(a-u)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),i===n2&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),i===a2&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),f=this.height();return l===e2?(n-=i,f+=i):l===n2?f+=i:l===a2?(e-=a*1.5,u+=a):l===t2&&(u+=a*1.5),{x:e,y:n,width:u,height:f}}}Zc.prototype.className="Tag";Xn(Zc);q.addGetterSetter(Zc,"pointerDirection",BD);q.addGetterSetter(Zc,"pointerWidth",0,He());q.addGetterSetter(Zc,"pointerHeight",0,He());q.addGetterSetter(Zc,"cornerRadius",0,Nv(4));let mg=class extends je{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?ne.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};mg.prototype.className="Rect";Xn(mg);q.addGetterSetter(mg,"cornerRadius",0,Nv(4));class xu extends je{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)ne.drawRoundedPolygonPath(e,n,i,a,l);else{e.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)e.lineTo(n[u].x,n[u].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,l=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y)}),{x:n,y:i,width:a-n,height:l-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}xu.prototype.className="RegularPolygon";xu.prototype._centroid=!0;xu.prototype._attrsAffectingSize=["radius"];Xn(xu);q.addGetterSetter(xu,"radius",0,He());q.addGetterSetter(xu,"sides",0,He());q.addGetterSetter(xu,"cornerRadius",0,Nv(4));const u5=Math.PI*2;class Ic extends je{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,u5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),u5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ic.prototype.className="Ring";Ic.prototype._centroid=!0;Ic.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(Ic);q.addGetterSetter(Ic,"innerRadius",0,He());q.addGetterSetter(Ic,"outerRadius",0,He());class vl extends je{constructor(e){super(e),this._updated=!0,this.anim=new Li(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+0],g=l[i+1],m=l[i+2],v=l[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,m,v),e.closePath(),e.fillStrokeShape(this)),_)if(u){const S=u[n],C=a*2;e.drawImage(_,f,g,m,v,S[C+0],S[C+1],m,v)}else e.drawImage(_,f,g,m,v,0,0,m,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+2],g=l[i+3];if(e.beginPath(),u){const m=u[n],v=a*2;e.rect(m[v+0],m[v+1],f,g)}else e.rect(0,0,f,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],l=i.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}vl.prototype.className="Sprite";Xn(vl);q.addGetterSetter(vl,"animation");q.addGetterSetter(vl,"animations");q.addGetterSetter(vl,"frameOffsets");q.addGetterSetter(vl,"image");q.addGetterSetter(vl,"frameIndex",0,He());q.addGetterSetter(vl,"frameRate",17,He());q.backCompat(vl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class wu extends je{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<i*2;l++){const u=l%2===0?a:n,f=u*Math.sin(l*Math.PI/i),g=-1*u*Math.cos(l*Math.PI/i);e.lineTo(f,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}wu.prototype.className="Star";wu.prototype._centroid=!0;wu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(wu);q.addGetterSetter(wu,"numPoints",5,He());q.addGetterSetter(wu,"innerRadius",0,He());q.addGetterSetter(wu,"outerRadius",0,He());function lu(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=i[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const vf="auto",GD="center",tx="inherit",yf="justify",qD="Change.konva",VD="2d",c5="-",nx="left",YD="text",ZD="Text",ID="top",XD="bottom",d5="middle",ax="normal",KD="px ",vm=" ",FD="right",f5="rtl",QD="word",$D="char",h5="none",ty="",rx=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],WD=rx.length;function JD(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let ym;function ny(){return ym||(ym=ne.createCanvasElement().getContext(VD),ym)}function ej(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function tj(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function nj(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let qn=class extends je{constructor(e){super(nj(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<WD;n++)this.on(rx[n]+qD,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,l=i.length;if(!this.text())return;let u=this.padding(),f=this.fontSize(),g=this.lineHeight()*f,m=this.verticalAlign(),v=this.direction(),_=0,S=this.align(),C=this.getWidth(),T=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),M=this.textDecoration(),j=M.indexOf("underline")!==-1,z=M.indexOf("line-through")!==-1,U;v=v===tx?e.direction:v;let H=g/2,L=d5;if(!qe.legacyTextRendering){const Y=this.measureSize("M");L="alphabetic";const Q=(n=Y.fontBoundingBoxAscent)!==null&&n!==void 0?n:Y.actualBoundingBoxAscent,ae=(a=Y.fontBoundingBoxDescent)!==null&&a!==void 0?a:Y.actualBoundingBoxDescent;H=(Q-ae)/2+g/2}for(v===f5&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",L),e.setAttr("textAlign",nx),m===d5?_=(this.getHeight()-l*g-u*2)/2:m===XD&&(_=this.getHeight()-l*g-u*2),e.translate(u,_+u),U=0;U<l;U++){let Y=0,Q=0;const ae=i[U],_e=ae.text,Oe=ae.width,ie=ae.lastInParagraph;if(e.save(),S===FD?Y+=C-Oe-u*2:S===GD&&(Y+=(C-Oe-u*2)/2),j){e.save(),e.beginPath();const ve=qe.legacyTextRendering?Math.round(f/2):Math.round(f/4),ce=Y,fe=H+Q+ve;e.moveTo(ce,fe);const B=S===yf&&!ie?C-u*2:Oe;e.lineTo(ce+Math.round(B),fe),e.lineWidth=f/15;const se=this._getLinearGradient();e.strokeStyle=se||O,e.stroke(),e.restore()}if(v!==f5&&(T!==0||S===yf||R)){const ve=_e.split(" ").length-1,ce=lu(_e);for(let fe=0;fe<ce.length;fe++){const B=ce[fe];if(B===" "&&!ie&&S===yf&&(Y+=(C-u*2-Oe)/ve),this._partialTextX=Y,this._partialTextY=H+Q,this._partialText=B,R){e.save();const K=i.slice(0,U).reduce((G,W)=>G+lu(W.text).length,0),pe=fe+K;R({char:B,index:pe,x:Y,y:H+Q,lineIndex:U,column:fe,isLastInLine:ie,width:this.measureSize(B).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),Y+=this.measureSize(B).width+T}}else T!==0&&e.setAttr("letterSpacing",`${T}px`),this._partialTextX=Y,this._partialTextY=H+Q,this._partialText=_e,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const ve=qe.legacyTextRendering?0:-Math.round(f/4),ce=S===yf?0:Y;e.moveTo(ce,H+Q+ve);const fe=S===yf&&!ie?C-u*2:Oe;e.lineTo(ce+Math.round(fe),H+Q+ve),e.lineWidth=f/15;const B=this._getLinearGradient();e.strokeStyle=B||O,e.stroke(),e.restore()}e.restore(),l>1&&(H+=g)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=ne._isString(e)?e:e==null?"":e+"";return this._setAttr(YD,n),this}getWidth(){return this.attrs.width===vf||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===vf||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,l,u,f,g,m,v,_,S;let C=ny(),T=this.fontSize(),R;C.save(),C.font=this._getContextFont(),R=C.measureText(e),C.restore();const O=T/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(u=R.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(f=R.emHeightAscent)!==null&&f!==void 0?f:100*O,emHeightDescent:(g=R.emHeightDescent)!==null&&g!==void 0?g:-20*O,fontBoundingBoxAscent:(m=R.fontBoundingBoxAscent)!==null&&m!==void 0?m:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:T}}_getContextFont(){return this.fontStyle()+vm+this.fontVariant()+vm+(this.fontSize()+KD)+JD(this.fontFamily())}_addTextLine(e){this.align()===yf&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return ny().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,l=this.attrs.width,u=this.attrs.height,f=l!==vf&&l!==void 0,g=u!==vf&&u!==void 0,m=this.padding(),v=l-m*2,_=u-m*2,S=0,C=this.wrap(),T=C!==h5,R=C!==$D&&T,O=this.ellipsis();this.textArr=[],ny().font=this._getContextFont();const M=O?this._getTextWidth(ty):0;for(let j=0,z=e.length;j<z;++j){let U=e[j],H=this._getTextWidth(U);if(f&&H>v)for(;U.length>0;){let L=0,Y=lu(U).length,Q="",ae=0;for(;L<Y;){const _e=L+Y>>>1,Oe=lu(U),ie=Oe.slice(0,_e+1).join(""),ve=this._getTextWidth(ie);(O&&g&&S+i>_?ve+M:ve)<=v?(L=_e+1,Q=ie,ae=ve):Y=_e}if(Q){if(R){const ie=lu(U),ve=lu(Q),ce=ie[ve.length],fe=ce===vm||ce===c5;let B;if(fe&&ae<=v)B=ve.length;else{const se=ve.lastIndexOf(vm),K=ve.lastIndexOf(c5);B=Math.max(se,K)+1}B>0&&(L=B,Q=ie.slice(0,L).join(""),ae=this._getTextWidth(Q))}if(Q=Q.trimRight(),this._addTextLine(Q),a=Math.max(a,ae),S+=i,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(U=lu(U).slice(L).join("").trimLeft(),U.length>0&&(H=this._getTextWidth(U),H<=v)){this._addTextLine(U),S+=i,a=Math.max(a,H);break}}else break}else this._addTextLine(U),S+=i,a=Math.max(a,H),this._shouldHandleEllipsis(S)&&j<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&S+i>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,l=i!==vf&&i!==void 0,u=this.padding(),f=i-u*2;return!(this.wrap()!==h5)||l&&e+a>f}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==vf&&e!==void 0,a=this.padding(),i=e-a*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!l||(n&&(this._getTextWidth(u.text+ty)<i||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+ty))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};qn.prototype._fillFunc=ej;qn.prototype._strokeFunc=tj;qn.prototype.className=ZD;qn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Xn(qn);q.overWriteSetter(qn,"width",V2());q.overWriteSetter(qn,"height",V2());q.addGetterSetter(qn,"direction",tx);q.addGetterSetter(qn,"fontFamily","Arial");q.addGetterSetter(qn,"fontSize",12,He());q.addGetterSetter(qn,"fontStyle",ax);q.addGetterSetter(qn,"fontVariant",ax);q.addGetterSetter(qn,"padding",0,He());q.addGetterSetter(qn,"align",nx);q.addGetterSetter(qn,"verticalAlign",ID);q.addGetterSetter(qn,"lineHeight",1,He());q.addGetterSetter(qn,"wrap",QD);q.addGetterSetter(qn,"ellipsis",!1,Ss());q.addGetterSetter(qn,"letterSpacing",0,He());q.addGetterSetter(qn,"text","",qc());q.addGetterSetter(qn,"textDecoration","");q.addGetterSetter(qn,"charRenderFunc",void 0);const aj="",ix="normal";function sx(t){t.fillText(this.partialText,0,0)}function lx(t){t.strokeText(this.partialText,0,0)}class Ta extends je{constructor(e){super(e),this.dummyCanvas=ne.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Pi.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Pi.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Pi.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let u=0;u<l.length;u++){e.save();const f=l[u].p0;e.translate(f.x,f.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return qn.prototype.setText.call(this,e)}_getContextFont(){return qn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=lu(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),u=this.align(),f=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let m=0;u==="center"&&(m=Math.max(0,this.pathLength/2-g/2)),u==="right"&&(m=Math.max(0,this.pathLength-g));let v=m;for(let _=0;_<n.length;_++){const S=this._getPointAtLength(v);if(!S)return;const C=n[_].char;let T=n[_].width+l;if(C===" "&&u==="justify"){const U=this.text().split(" ").length-1;T+=(this.pathLength-g)/U}const R=this._getPointAtLength(v+T);if(!R)return;const O=Pi.getLineLength(S.x,S.y,R.x,R.y);let M=0;if(f)try{M=f(n[_-1].char,C)*this.fontSize()}catch{M=0}S.x+=M,R.x+=M,this.textWidth+=M;const j=Pi.getPointOnLine(M+O/2,S.x,S.y,R.x,R.y),z=Math.atan2(R.y-S.y,R.x-S.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:e[_],rotation:z,p0:S,p1:R}),v+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(m){e.push(m.p0.x),e.push(m.p0.y),e.push(m.p1.x),e.push(m.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,l=e[1]||0,u,f;for(let m=0;m<e.length/2;m++)u=e[m*2],f=e[m*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);const g=this.fontSize();return{x:n-g/2,y:i-g/2,width:a-n+g,height:l-i+g}}destroy(){return ne.releaseCanvas(this.dummyCanvas),super.destroy()}}Ta.prototype._fillFunc=sx;Ta.prototype._strokeFunc=lx;Ta.prototype._fillFuncHit=sx;Ta.prototype._strokeFuncHit=lx;Ta.prototype.className="TextPath";Ta.prototype._attrsAffectingSize=["text","fontSize","data"];Xn(Ta);q.addGetterSetter(Ta,"data");q.addGetterSetter(Ta,"fontFamily","Arial");q.addGetterSetter(Ta,"fontSize",12,He());q.addGetterSetter(Ta,"fontStyle",ix);q.addGetterSetter(Ta,"align","left");q.addGetterSetter(Ta,"letterSpacing",0,He());q.addGetterSetter(Ta,"textBaseline","middle");q.addGetterSetter(Ta,"fontVariant",ix);q.addGetterSetter(Ta,"text",aj);q.addGetterSetter(Ta,"textDecoration","");q.addGetterSetter(Ta,"kerningFunc",void 0);const ox="tr-konva",rj=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${ox}`).join(" "),g5="nodesRect",ij=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],sj={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},lj="ontouchstart"in qe._global;function oj(t,e,n){if(t==="rotater")return n;e+=ne.degToRad(sj[t]||0);const a=(ne.radToDeg(e)%360+360)%360;return ne._inRange(a,315+22.5,360)||ne._inRange(a,0,22.5)?"ns-resize":ne._inRange(a,45-22.5,45+22.5)?"nesw-resize":ne._inRange(a,90-22.5,90+22.5)?"ew-resize":ne._inRange(a,135-22.5,135+22.5)?"nwse-resize":ne._inRange(a,180-22.5,180+22.5)?"ns-resize":ne._inRange(a,225-22.5,225+22.5)?"nesw-resize":ne._inRange(a,270-22.5,270+22.5)?"ew-resize":ne._inRange(a,315-22.5,315+22.5)?"nwse-resize":(ne.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const ov=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function uj(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function ux(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function cj(t,e){const n=uj(t);return ux(t,e,n)}function dj(t,e,n){let a=e;for(let i=0;i<t.length;i++){const l=qe.getAngle(t[i]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=l)}return a}let r2=0,Jt=class extends Gf{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(rj,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ne.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return ox+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(ne.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const u=i._attrsAffectingSize.map(f=>f+"Change."+this._getEventNamespace()).join(" ");i.on(u,l)}i.on(ij.map(u=>u+`.${this._getEventNamespace()}`).join(" "),l),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),l=i.x-n.x,u=i.y-n.y;this.nodes().forEach(f=>{if(f===e||f.isDragging())return;const g=f.getAbsolutePosition();f.setAbsolutePosition({x:g.x+l,y:g.y+u}),f.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(g5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(g5,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),f=i.x*l.x-e.offsetX()*l.x,g=i.y*l.y-e.offsetY()*l.y,m=(qe.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+f*Math.cos(m)+g*Math.sin(-m),y:u.y+g*Math.cos(m)+f*Math.sin(m),width:i.width*l.x,height:i.height*l.y,rotation:m};return ux(v,-qe.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(m=>{const v=m.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],S=m.getAbsoluteTransform();_.forEach(function(C){const T=S.point(C);n.push(T)})});const a=new ci;a.rotate(-qe.getAngle(this.rotation()));let i=1/0,l=1/0,u=-1/0,f=-1/0;n.forEach(function(m){const v=a.point(m);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),a.invert();const g=a.point({x:i,y:l});return{x:g.x,y:g.y,width:u-i,height:f-l,rotation:qe.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ov.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new mg({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:lj?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=qe.getAngle(this.rotation()),l=this.rotateAnchorCursor(),u=oj(e,i,l);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new je({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),l=i.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*ne._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=e.target.getAbsolutePosition(),f=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:f.x-u.x,y:f.y-u.y},r2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){let n,a,i;const l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const f=u.getPointerPosition();let g={x:f.x-this._anchorDragOffset.x,y:f.y-this._anchorDragOffset.y};const m=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(m,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(m.x===v.x&&m.y===v.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=l.x()-j.width/2,a=-l.y()+j.height/2;let z=Math.atan2(-a,n)+Math.PI/2;j.height<0&&(z-=Math.PI);const H=qe.getAngle(this.rotation())+z,L=qe.getAngle(this.rotationSnapTolerance()),Q=dj(this.rotationSnaps(),H,L)-j.rotation,ae=cj(j,Q);this._fitNodesInto(ae,e);return}const _=this.shiftBehavior();let S;_==="inverted"?S=this.keepRatio()&&!e.shiftKey:_==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let C=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-left").x()>j.x?-1:1,U=this.findOne(".top-left").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-right").x()<j.x?-1:1,U=this.findOne(".top-right").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-a)}var T=l.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(l.y()-j.y,2));const z=j.x<l.x()?-1:1,U=l.y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,l.x(j.x-n),l.y(j.y+a)}T=l.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(l.y()-j.y,2));const z=this.findOne(".bottom-right").x()<j.x?-1:1,U=this.findOne(".bottom-right").y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*U,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(C=this.centeredScaling()||e.altKey,C){const j=this.findOne(".top-left"),z=this.findOne(".bottom-right"),U=j.x(),H=j.y(),L=this.getWidth()-z.x(),Y=this.getHeight()-z.y();z.move({x:-U,y:-H}),j.move({x:L,y:Y})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:M,rotation:qe.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();r2--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var l;i._fire("transformend",{evt:e,target:i}),(l=i.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if(ne._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(ne._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const l=new ci;if(l.rotate(qe.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=l.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=l.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:ne.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,f=new ci;f.translate(a.x,a.y),f.rotate(a.rotation),f.scale(a.width/u,a.height/u);const g=new ci,m=e.width/u,v=e.height/u;this.flipEnabled()===!1?(g.translate(e.x,e.y),g.rotate(e.rotation),g.translate(e.width<0?e.width:0,e.height<0?e.height:0),g.scale(Math.abs(m),Math.abs(v))):(g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(m,v));const _=g.multiply(f.invert());this._nodes.forEach(S=>{var C;if(!S.getStage())return;const T=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new ci;O.multiply(T.copy().invert()).multiply(_).multiply(T).multiply(R);const M=O.decompose();S.setAttrs(M),(C=S.getLayer())===null||C===void 0||C.batchDraw()}),this.rotation(ne._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(ne._getRotation(n.rotation));const a=n.width,i=n.height,l=this.enabledAnchors(),u=this.resizeEnabled(),f=this.padding(),g=this.anchorSize(),m=this.find("._anchor");m.forEach(_=>{_.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+f,offsetY:g/2+f,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:g/2+f,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:g/2-f,offsetY:g/2+f,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:g/2+f,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:g/2-f,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:g/2+f,offsetY:g/2-f,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:g/2-f,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:g/2-f,offsetY:g/2-f,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*ne._sign(i)-f,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&m.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Gf.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ge.prototype.toObject.call(this)}clone(e){return Ge.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Jt.isTransforming=()=>r2>0;function fj(t){return t instanceof Array||ne.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){ov.indexOf(e)===-1&&ne.warn("Unknown anchor name: "+e+". Available names are: "+ov.join(", "))}),t||[]}Jt.prototype.className="Transformer";Xn(Jt);q.addGetterSetter(Jt,"enabledAnchors",ov,fj);q.addGetterSetter(Jt,"flipEnabled",!0,Ss());q.addGetterSetter(Jt,"resizeEnabled",!0);q.addGetterSetter(Jt,"anchorSize",10,He());q.addGetterSetter(Jt,"rotateEnabled",!0);q.addGetterSetter(Jt,"rotateLineVisible",!0);q.addGetterSetter(Jt,"rotationSnaps",[]);q.addGetterSetter(Jt,"rotateAnchorOffset",50,He());q.addGetterSetter(Jt,"rotateAnchorCursor","crosshair");q.addGetterSetter(Jt,"rotationSnapTolerance",5,He());q.addGetterSetter(Jt,"borderEnabled",!0);q.addGetterSetter(Jt,"anchorStroke","rgb(0, 161, 255)");q.addGetterSetter(Jt,"anchorStrokeWidth",1,He());q.addGetterSetter(Jt,"anchorFill","white");q.addGetterSetter(Jt,"anchorCornerRadius",0,He());q.addGetterSetter(Jt,"borderStroke","rgb(0, 161, 255)");q.addGetterSetter(Jt,"borderStrokeWidth",1,He());q.addGetterSetter(Jt,"borderDash");q.addGetterSetter(Jt,"keepRatio",!0);q.addGetterSetter(Jt,"shiftBehavior","default");q.addGetterSetter(Jt,"centeredScaling",!1);q.addGetterSetter(Jt,"ignoreStroke",!1);q.addGetterSetter(Jt,"padding",0,He());q.addGetterSetter(Jt,"nodes");q.addGetterSetter(Jt,"node");q.addGetterSetter(Jt,"boundBoxFunc");q.addGetterSetter(Jt,"anchorDragBoundFunc");q.addGetterSetter(Jt,"anchorStyleFunc");q.addGetterSetter(Jt,"shouldOverdrawWholeArea",!1);q.addGetterSetter(Jt,"useSingleNodeRotation",!0);q.backCompat(Jt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class co extends je{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,qe.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}co.prototype.className="Wedge";co.prototype._centroid=!0;co.prototype._attrsAffectingSize=["radius"];Xn(co);q.addGetterSetter(co,"radius",0,He());q.addGetterSetter(co,"angle",0,He());q.addGetterSetter(co,"clockwise",!1);q.backCompat(co,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function p5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const hj=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],gj=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function pj(t,e){const n=t.data,a=t.width,i=t.height;let l,u,f,g,m,v,_,S,C,T,R,O,M,j,z,U,H,L,Y,Q;const ae=e+e+1,_e=a-1,Oe=i-1,ie=e+1,ve=ie*(ie+1)/2,ce=new p5,fe=hj[e],B=gj[e];let se=null,K=ce,pe=null,G=null;for(let W=1;W<ae;W++)K=K.next=new p5,W===ie&&(se=K);K.next=ce,f=u=0;for(let W=0;W<i;W++){O=M=j=z=g=m=v=_=0,S=ie*(U=n[u]),C=ie*(H=n[u+1]),T=ie*(L=n[u+2]),R=ie*(Y=n[u+3]),g+=ve*U,m+=ve*H,v+=ve*L,_+=ve*Y,K=ce;for(let xe=0;xe<ie;xe++)K.r=U,K.g=H,K.b=L,K.a=Y,K=K.next;for(let xe=1;xe<ie;xe++)l=u+((_e<xe?_e:xe)<<2),g+=(K.r=U=n[l])*(Q=ie-xe),m+=(K.g=H=n[l+1])*Q,v+=(K.b=L=n[l+2])*Q,_+=(K.a=Y=n[l+3])*Q,O+=U,M+=H,j+=L,z+=Y,K=K.next;pe=ce,G=se;for(let xe=0;xe<a;xe++)n[u+3]=Y=_*fe>>B,Y!==0?(Y=255/Y,n[u]=(g*fe>>B)*Y,n[u+1]=(m*fe>>B)*Y,n[u+2]=(v*fe>>B)*Y):n[u]=n[u+1]=n[u+2]=0,g-=S,m-=C,v-=T,_-=R,S-=pe.r,C-=pe.g,T-=pe.b,R-=pe.a,l=f+((l=xe+e+1)<_e?l:_e)<<2,O+=pe.r=n[l],M+=pe.g=n[l+1],j+=pe.b=n[l+2],z+=pe.a=n[l+3],g+=O,m+=M,v+=j,_+=z,pe=pe.next,S+=U=G.r,C+=H=G.g,T+=L=G.b,R+=Y=G.a,O-=U,M-=H,j-=L,z-=Y,G=G.next,u+=4;f+=a}for(let W=0;W<a;W++){M=j=z=O=m=v=_=g=0,u=W<<2,S=ie*(U=n[u]),C=ie*(H=n[u+1]),T=ie*(L=n[u+2]),R=ie*(Y=n[u+3]),g+=ve*U,m+=ve*H,v+=ve*L,_+=ve*Y,K=ce;for(let Ee=0;Ee<ie;Ee++)K.r=U,K.g=H,K.b=L,K.a=Y,K=K.next;let xe=a;for(let Ee=1;Ee<=e;Ee++)u=xe+W<<2,g+=(K.r=U=n[u])*(Q=ie-Ee),m+=(K.g=H=n[u+1])*Q,v+=(K.b=L=n[u+2])*Q,_+=(K.a=Y=n[u+3])*Q,O+=U,M+=H,j+=L,z+=Y,K=K.next,Ee<Oe&&(xe+=a);u=W,pe=ce,G=se;for(let Ee=0;Ee<i;Ee++)l=u<<2,n[l+3]=Y=_*fe>>B,Y>0?(Y=255/Y,n[l]=(g*fe>>B)*Y,n[l+1]=(m*fe>>B)*Y,n[l+2]=(v*fe>>B)*Y):n[l]=n[l+1]=n[l+2]=0,g-=S,m-=C,v-=T,_-=R,S-=pe.r,C-=pe.g,T-=pe.b,R-=pe.a,l=W+((l=Ee+ie)<Oe?l:Oe)*a<<2,g+=O+=pe.r=n[l],m+=M+=pe.g=n[l+1],v+=j+=pe.b=n[l+2],_+=z+=pe.a=n[l+3],pe=pe.next,S+=U=G.r,C+=H=G.g,T+=L=G.b,R+=Y=G.a,O-=U,M-=H,j-=L,z-=Y,G=G.next,u+=a}}const mj=function(e){const n=Math.round(this.blurRadius());n>0&&pj(e,n)};q.addGetterSetter(Ge,"blurRadius",0,He(),q.afterSetFilter);const vj=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};q.addGetterSetter(Ge,"brightness",0,He(),q.afterSetFilter);const yj=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},bj=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,l=150,u=150;for(let f=0;f<a;f+=4)i=n[f],l=n[f+1],u=n[f+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,n[f]=i,n[f+1]=l,n[f+2]=u};q.addGetterSetter(Ge,"contrast",0,He(),q.afterSetFilter);const _j=function(t){var e,n,a,i,l,u,f,g,m;const v=t.data,_=t.width,S=t.height,C=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),T=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),O=(f={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&f!==void 0?f:315,M=!!((m=(g=this.embossBlend)===null||g===void 0?void 0:g.call(this))!==null&&m!==void 0&&m),j=C*10,z=T*255,U=O*Math.PI/180,H=Math.cos(U),L=Math.sin(U),Y=128/1020*j,Q=new Uint8ClampedArray(v),ae=new Float32Array(_*S);for(let ce=0,fe=0;fe<v.length;fe+=4,ce++)ae[ce]=.2126*Q[fe]+.7152*Q[fe+1]+.0722*Q[fe+2];const _e=[-1,0,1,-2,0,2,-1,0,1],Oe=[-1,-2,-1,0,0,0,1,2,1],ie=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],ve=ce=>ce<0?0:ce>255?255:ce;for(let ce=1;ce<S-1;ce++)for(let fe=1;fe<_-1;fe++){const B=ce*_+fe;let se=0,K=0;se+=ae[B+ie[0]]*_e[0],K+=ae[B+ie[0]]*Oe[0],se+=ae[B+ie[1]]*_e[1],K+=ae[B+ie[1]]*Oe[1],se+=ae[B+ie[2]]*_e[2],K+=ae[B+ie[2]]*Oe[2],se+=ae[B+ie[3]]*_e[3],K+=ae[B+ie[3]]*Oe[3],se+=ae[B+ie[5]]*_e[5],K+=ae[B+ie[5]]*Oe[5],se+=ae[B+ie[6]]*_e[6],K+=ae[B+ie[6]]*Oe[6],se+=ae[B+ie[7]]*_e[7],K+=ae[B+ie[7]]*Oe[7],se+=ae[B+ie[8]]*_e[8],K+=ae[B+ie[8]]*Oe[8];const pe=H*se+L*K,G=ve(z+pe*Y),W=B*4;if(M){const xe=G-z;v[W]=ve(Q[W]+xe),v[W+1]=ve(Q[W+1]+xe),v[W+2]=ve(Q[W+2]+xe),v[W+3]=Q[W+3]}else v[W]=v[W+1]=v[W+2]=G,v[W+3]=Q[W+3]}for(let ce=0;ce<_;ce++){let fe=ce*4,B=((S-1)*_+ce)*4;v[fe]=Q[fe],v[fe+1]=Q[fe+1],v[fe+2]=Q[fe+2],v[fe+3]=Q[fe+3],v[B]=Q[B],v[B+1]=Q[B+1],v[B+2]=Q[B+2],v[B+3]=Q[B+3]}for(let ce=1;ce<S-1;ce++){let fe=ce*_*4,B=(ce*_+(_-1))*4;v[fe]=Q[fe],v[fe+1]=Q[fe+1],v[fe+2]=Q[fe+2],v[fe+3]=Q[fe+3],v[B]=Q[B],v[B+1]=Q[B+1],v[B+2]=Q[B+2],v[B+3]=Q[B+3]}return t};q.addGetterSetter(Ge,"embossStrength",.5,He(),q.afterSetFilter);q.addGetterSetter(Ge,"embossWhiteLevel",.5,He(),q.afterSetFilter);q.addGetterSetter(Ge,"embossDirection","top-left",void 0,q.afterSetFilter);q.addGetterSetter(Ge,"embossBlend",!1,void 0,q.afterSetFilter);function ay(t,e,n,a,i){const l=n-e,u=i-a;if(l===0)return a+u/2;if(u===0)return a;let f=(t-e)/l;return f=u*f+a,f}const Sj=function(t){const e=t.data,n=e.length;let a=e[0],i=a,l,u=e[1],f=u,g,m=e[2],v=m,_;const S=this.enhance();if(S===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>i&&(i=l),g=e[z+1],g<u?u=g:g>f&&(f=g),_=e[z+2],_<m?m=_:_>v&&(v=_);i===a&&(i=255,a=0),f===u&&(f=255,u=0),v===m&&(v=255,m=0);let C,T,R,O,M,j;if(S>0)C=i+S*(255-i),T=a-S*(a-0),R=f+S*(255-f),O=u-S*(u-0),M=v+S*(255-v),j=m-S*(m-0);else{const z=(i+a)*.5;C=i+S*(i-z),T=a+S*(a-z);const U=(f+u)*.5;R=f+S*(f-U),O=u+S*(u-U);const H=(v+m)*.5;M=v+S*(v-H),j=m+S*(m-H)}for(let z=0;z<n;z+=4)e[z+0]=ay(e[z+0],a,i,T,C),e[z+1]=ay(e[z+1],u,f,O,R),e[z+2]=ay(e[z+2],m,v,j,M)};q.addGetterSetter(Ge,"enhance",0,He(),q.afterSetFilter);const xj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};q.addGetterSetter(Ge,"hue",0,He(),q.afterSetFilter);q.addGetterSetter(Ge,"saturation",0,He(),q.afterSetFilter);q.addGetterSetter(Ge,"luminance",0,He(),q.afterSetFilter);const wj=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,f=a*i*Math.cos(l*Math.PI/180),g=a*i*Math.sin(l*Math.PI/180),m=.299*a+.701*f+.167*g,v=.587*a-.587*f+.33*g,_=.114*a-.114*f-.497*g,S=.299*a-.299*f-.328*g,C=.587*a+.413*f+.035*g,T=.114*a-.114*f+.293*g,R=.299*a-.3*f+1.25*g,O=.587*a-.586*f-1.05*g,M=.114*a+.886*f-.2*g;let j,z,U,H;for(let L=0;L<n;L+=4)j=e[L+0],z=e[L+1],U=e[L+2],H=e[L+3],e[L+0]=m*j+v*z+_*U+u,e[L+1]=S*j+C*z+T*U+u,e[L+2]=R*j+O*z+M*U+u,e[L+3]=H},Ej=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=a*i*Math.cos(l*Math.PI/180),f=a*i*Math.sin(l*Math.PI/180),g=.299*a+.701*u+.167*f,m=.587*a-.587*u+.33*f,v=.114*a-.114*u-.497*f,_=.299*a-.299*u-.328*f,S=.587*a+.413*u+.035*f,C=.114*a-.114*u+.293*f,T=.299*a-.3*u+1.25*f,R=.587*a-.586*u-1.05*f,O=.114*a+.886*u-.2*f;for(let M=0;M<n;M+=4){const j=e[M+0],z=e[M+1],U=e[M+2],H=e[M+3];e[M+0]=g*j+m*z+v*U,e[M+1]=_*j+S*z+C*U,e[M+2]=T*j+R*z+O*U,e[M+3]=H}};q.addGetterSetter(Ge,"hue",0,He(),q.afterSetFilter);q.addGetterSetter(Ge,"saturation",0,He(),q.afterSetFilter);q.addGetterSetter(Ge,"value",0,He(),q.afterSetFilter);const Cj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},Tj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let m=Math.sqrt(f*f+g*g),v=l-f,_=u-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const C=u,T=l,R=360/T*Math.PI/180;for(let O=0;O<T;O+=1){const M=Math.sin(O*R),j=Math.cos(O*R);for(let z=0;z<C;z+=1){v=Math.floor(f+m*z/C*j),_=Math.floor(g+m*z/C*M);let U=(_*l+v)*4;const H=a[U+0],L=a[U+1],Y=a[U+2],Q=a[U+3];U=(O+z*l)*4,i[U+0]=H,i[U+1]=L,i[U+2]=Y,i[U+3]=Q}}},Aj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let m=Math.sqrt(f*f+g*g),v=l-f,_=u-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const C=u,T=l,R=0;let O,M;for(v=0;v<l;v+=1)for(_=0;_<u;_+=1){const j=v-f,z=_-g,U=Math.sqrt(j*j+z*z)*C/m;let H=(Math.atan2(z,j)*180/Math.PI+360+R)%360;H=H*T/360,O=Math.floor(H),M=Math.floor(U);let L=(M*l+O)*4;const Y=a[L+0],Q=a[L+1],ae=a[L+2],_e=a[L+3];L=(_*l+v)*4,i[L+0]=Y,i[L+1]=Q,i[L+2]=ae,i[L+3]=_e}},Rj=function(t){const e=t.width,n=t.height;let a,i,l,u,f,g,m,v,_,S,C=Math.round(this.kaleidoscopePower());const T=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(T%360)/360);if(C<1)return;const O=ne.createCanvasElement();O.width=e,O.height=n;const M=O.getContext("2d").getImageData(0,0,e,n);ne.releaseCanvas(O),Tj(t,M,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,C);for(;j<=8;)j=j*2,C-=1;j=Math.ceil(j);let z=j,U=0,H=z,L=1;for(R+j>e&&(U=z,H=0,L=-1),i=0;i<n;i+=1)for(a=U;a!==H;a+=L)l=Math.round(a+R)%e,_=(e*i+l)*4,f=M.data[_+0],g=M.data[_+1],m=M.data[_+2],v=M.data[_+3],S=(e*i+a)*4,M.data[S+0]=f,M.data[S+1]=g,M.data[S+2]=m,M.data[S+3]=v;for(i=0;i<n;i+=1)for(z=Math.floor(j),u=0;u<C;u+=1){for(a=0;a<z+1;a+=1)_=(e*i+a)*4,f=M.data[_+0],g=M.data[_+1],m=M.data[_+2],v=M.data[_+3],S=(e*i+z*2-a-1)*4,M.data[S+0]=f,M.data[S+1]=g,M.data[S+2]=m,M.data[S+3]=v;z*=2}Aj(M,t,{})};q.addGetterSetter(Ge,"kaleidoscopePower",2,He(),q.afterSetFilter);q.addGetterSetter(Ge,"kaleidoscopeAngle",0,He(),q.afterSetFilter);function bm(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function T0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Oj(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Nj(t,e){const n=bm(t,0,0),a=bm(t,t.width-1,0),i=bm(t,0,t.height-1),l=bm(t,t.width-1,t.height-1),u=e||10;if(T0(n,a)<u&&T0(a,l)<u&&T0(l,i)<u&&T0(i,n)<u){const f=Oj([a,n,l,i]),g=[];for(let m=0;m<t.width*t.height;m++){const v=T0(f,[t.data[m*4],t.data[m*4+1],t.data[m*4+2]]);g[m]=v<u?0:255}return g}}function Mj(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function Dj(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const m=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[m]=v===2040?255:0}return u}function jj(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const m=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[m]=v>=1020?255:0}return u}function zj(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let g=0;g<e;g++){const m=f*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=f+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[m]=v}return u}const kj=function(t){const e=this.threshold();let n=Nj(t,e);return n&&(n=Dj(n,t.width,t.height),n=jj(n,t.width,t.height),n=zj(n,t.width,t.height),Mj(t,n)),t};q.addGetterSetter(Ge,"threshold",0,He(),q.afterSetFilter);const Uj=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let l=0;l<a;l+=4)n[l+0]+=i-2*i*Math.random(),n[l+1]+=i-2*i*Math.random(),n[l+2]+=i-2*i*Math.random()};q.addGetterSetter(Ge,"noise",.2,He(),q.afterSetFilter);const Lj=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),l=Math.ceil(a/e),u=t.data;if(e<=0){ne.error("pixelSize value can not be <= 0");return}for(let f=0;f<i;f+=1)for(let g=0;g<l;g+=1){let m=0,v=0,_=0,S=0;const C=f*e,T=C+e,R=g*e,O=R+e;let M=0;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const U=(n*z+j)*4;m+=u[U+0],v+=u[U+1],_+=u[U+2],S+=u[U+3],M+=1}m=m/M,v=v/M,_=_/M,S=S/M;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const U=(n*z+j)*4;u[U+0]=m,u[U+1]=v,u[U+2]=_,u[U+3]=S}}};q.addGetterSetter(Ge,"pixelSize",8,He(),q.afterSetFilter);const Pj=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/i)*i};q.addGetterSetter(Ge,"levels",.5,He(),q.afterSetFilter);const Bj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue();for(let u=0;u<n;u+=4){const f=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255;e[u]=f*a,e[u+1]=f*i,e[u+2]=f*l,e[u+3]=e[u+3]}};q.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"blue",0,jS,q.afterSetFilter);const Hj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue(),u=this.alpha();for(let f=0;f<n;f+=4){const g=1-u;e[f]=a*u+e[f]*g,e[f+1]=i*u+e[f+1]*g,e[f+2]=l*u+e[f+2]*g}};q.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Ge,"blue",0,jS,q.afterSetFilter);q.addGetterSetter(Ge,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Gj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],l=e[a+1],u=e[a+2];e[a+0]=Math.min(255,i*.393+l*.769+u*.189),e[a+1]=Math.min(255,i*.349+l*.686+u*.168),e[a+2]=Math.min(255,i*.272+l*.534+u*.131)}},qj=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],l=n[a+1],u=n[a+2];.2126*i+.7152*l+.0722*u>=128&&(n[a]=255-i,n[a+1]=255-l,n[a+2]=255-u)}return t},Vj=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};q.addGetterSetter(Ge,"threshold",.5,He(),q.afterSetFilter);const J0=qf.Util._assign(qf,{Arc:oo,Arrow:Yc,Circle:If,Ellipse:Su,Image:qi,Label:I2,Tag:Zc,Line:uo,Path:Pi,Rect:mg,RegularPolygon:xu,Ring:Ic,Sprite:vl,Star:wu,Text:qn,TextPath:Ta,Transformer:Jt,Wedge:co,Filters:{Blur:mj,Brightness:yj,Brighten:vj,Contrast:bj,Emboss:_j,Enhance:Sj,Grayscale:xj,HSL:wj,HSV:Ej,Invert:Cj,Kaleidoscope:Rj,Mask:kj,Noise:Uj,Pixelate:Lj,Posterize:Pj,RGB:Bj,RGBA:Hj,Sepia:Gj,Solarize:qj,Threshold:Vj}});var ry={exports:{}},iy={exports:{}};var m5;function Yj(){return m5||(m5=1,(function(t){t.exports=function(e){function n(o,c,p,b){return new $v(o,c,p,b)}function a(){}function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function u(o){if(l(o)!==o)throw Error(i(188))}function f(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(i(188));return c!==o?null:o}for(var p=o,b=c;;){var w=p.return;if(w===null)break;var A=w.alternate;if(A===null){if(b=w.return,b!==null){p=b;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===p)return u(w),o;if(A===b)return u(w),c;A=A.sibling}throw Error(i(188))}if(p.return!==b.return)p=w,b=A;else{for(var P=!1,Z=w.child;Z;){if(Z===p){P=!0,p=w,b=A;break}if(Z===b){P=!0,b=w,p=A;break}Z=Z.sibling}if(!P){for(Z=A.child;Z;){if(Z===p){P=!0,p=A,b=w;break}if(Z===b){P=!0,b=A,p=w;break}Z=Z.sibling}if(!P)throw Error(i(189))}}if(p.alternate!==b)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=m(o),c!==null))return c;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Md&&o[Md]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===$u?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Gl:return"Fragment";case Nd:return"Profiler";case Xu:return"StrictMode";case Fu:return"Suspense";case Qu:return"SuspenseList";case ql:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Ls:return"Portal";case ts:return(o.displayName||"Context")+".Provider";case Rh:return(o._context.displayName||"Context")+".Consumer";case wi:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ei:return c=o.displayName||null,c!==null?c:_(o.type)||"Memo";case Ia:c=o._payload,o=o._init;try{return _(o(c))}catch{}}return null}function S(o){return{current:o}}function C(o){0>ls||(o.current=ss[ls],ss[ls]=null,ls--)}function T(o,c){ls++,ss[ls]=o.current,o.current=c}function R(o){return o>>>=0,o===0?32:31-(Ap(o)/Hd|0)|0}function O(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function M(o,c,p){var b=o.pendingLanes;if(b===0)return 0;var w=0,A=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var Z=b&134217727;return Z!==0?(b=Z&~A,b!==0?w=O(b):(P&=Z,P!==0?w=O(P):p||(p=Z&~o,p!==0&&(w=O(p))))):(Z=b&~A,Z!==0?w=O(Z):P!==0?w=O(P):p||(p=b&~o,p!==0&&(w=O(p)))),w===0?0:c!==0&&c!==w&&(c&A)===0&&(A=w&-w,p=c&-c,A>=p||A===32&&(p&4194048)!==0)?c:w}function j(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function z(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U(){var o=uc;return uc<<=1,(uc&4194048)===0&&(uc=256),o}function H(){var o=Po;return Po<<=1,(Po&62914560)===0&&(Po=4194304),o}function L(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Y(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Q(o,c,p,b,w,A){var P=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var Z=o.entanglements,te=o.expirationTimes,Ne=o.hiddenUpdates;for(p=P&~p;0<p;){var Ue=31-dr(p),Ze=1<<Ue;Z[Ue]=0,te[Ue]=-1;var Xe=Ne[Ue];if(Xe!==null)for(Ne[Ue]=null,Ue=0;Ue<Xe.length;Ue++){var At=Xe[Ue];At!==null&&(At.lane&=-536870913)}p&=~Ze}b!==0&&ae(o,b,0),A!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=A&~(P&~c))}function ae(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var b=31-dr(c);o.entangledLanes|=c,o.entanglements[b]=o.entanglements[b]|1073741824|p&4194090}function _e(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var b=31-dr(p),w=1<<b;w&c|o[b]&c&&(o[b]|=c),p&=~w}}function Oe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ie(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ve(o){if(typeof Mp=="function"&&Dp(o),Ka&&typeof Ka.setStrictMode=="function")try{Ka.setStrictMode(qs,o)}catch{}}function ce(o){if(Vd===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Vd=c&&c[1]||"",e0=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vd+o+e0}function fe(o,c){if(!o||Yd)return"";Yd=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(At){var Xe=At}Reflect.construct(o,[],Ze)}else{try{Ze.call()}catch(At){Xe=At}o.call(Ze.prototype)}}else{try{throw Error()}catch(At){Xe=At}(Ze=o())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(At){if(At&&Xe&&typeof At.stack=="string")return[At.stack,Xe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),P=A[0],Z=A[1];if(P&&Z){var te=P.split(`
`),Ne=Z.split(`
`);for(w=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;w<Ne.length&&!Ne[w].includes("DetermineComponentFrameRoot");)w++;if(b===te.length||w===Ne.length)for(b=te.length-1,w=Ne.length-1;1<=b&&0<=w&&te[b]!==Ne[w];)w--;for(;1<=b&&0<=w;b--,w--)if(te[b]!==Ne[w]){if(b!==1||w!==1)do if(b--,w--,0>w||te[b]!==Ne[w]){var Ue=`
`+te[b].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=b&&0<=w);break}}}finally{Yd=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?ce(p):""}function B(o){switch(o.tag){case 26:case 27:case 5:return ce(o.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return fe(o.type,!1);case 11:return fe(o.type.render,!1);case 1:return fe(o.type,!0);case 31:return ce("Activity");default:return""}}function se(o){try{var c="";do c+=B(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function K(o,c){if(typeof o=="object"&&o!==null){var p=Zd.get(o);return p!==void 0?p:(c={value:o,source:c,stack:se(c)},Zd.set(o,c),c)}return{value:o,source:c,stack:se(c)}}function pe(o,c){Vs[Ys++]=Bo,Vs[Ys++]=dc,dc=o,Bo=c}function G(o,c,p){Fa[fr++]=ei,Fa[fr++]=Ri,Fa[fr++]=Zs,Zs=o;var b=ei;o=Ri;var w=32-dr(b)-1;b&=~(1<<w),p+=1;var A=32-dr(c)+w;if(30<A){var P=w-w%5;A=(b&(1<<P)-1).toString(32),b>>=P,w-=P,ei=1<<32-dr(c)+w|p<<w|b,Ri=A+o}else ei=1<<A|p<<w|b,Ri=o}function W(o){o.return!==null&&(pe(o,1),G(o,1,0))}function xe(o){for(;o===dc;)dc=Vs[--Ys],Vs[Ys]=null,Bo=Vs[--Ys],Vs[Ys]=null;for(;o===Zs;)Zs=Fa[--fr],Fa[fr]=null,Ri=Fa[--fr],Fa[fr]=null,ei=Fa[--fr],Fa[fr]=null}function Ee(o,c){T(Is,c),T(Il,o),T(On,null),o=Nh(c),C(On),T(On,o)}function Ve(){C(On),C(Il),C(Is)}function ut(o){o.memoizedState!==null&&T(fc,o);var c=On.current,p=Mh(c,o.type);c!==p&&(T(Il,o),T(On,p))}function Ie(o){Il.current===o&&(C(On),C(Il)),fc.current===o&&(C(fc),as?Ti._currentValue=cr:Ti._currentValue2=cr)}function be(o){var c=Error(i(418,""));throw Kt(K(c,o)),t0}function Ae(o,c){if(!or)throw Error(i(175));xp(o.stateNode,o.type,o.memoizedProps,c,o)||be(o)}function lt(o){for(Hn=o.return;Hn;)switch(Hn.tag){case 5:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:Hn=Hn.return}}function at(o){if(!or||o!==Hn)return!1;if(!Xt)return lt(o),Xt=!0,!1;var c=o.tag;if(Pt?c!==3&&c!==27&&(c!==5||Kh(o.type)&&!ns(o.type,o.memoizedProps))&&Qn&&be(o):c!==3&&(c!==5||Kh(o.type)&&!ns(o.type,o.memoizedProps))&&Qn&&be(o),lt(o),c===13){if(!or)throw Error(i(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Qn=Ld(o)}else Qn=Pt&&c===27?Zh(o.type,Qn):Hn?vp(o.stateNode):null;return!0}function yt(){or&&(Qn=Hn=null,Xt=!1)}function Tt(){var o=ti;return o!==null&&(Pa===null?Pa=o:Pa.push.apply(Pa,o),ti=null),o}function Kt(o){ti===null?ti=[o]:ti.push(o)}function gn(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function Rn(o,c,p){as?(T(hc,c._currentValue),c._currentValue=p):(T(hc,c._currentValue2),c._currentValue2=p)}function ma(o){var c=hc.current;as?o._currentValue=c:o._currentValue2=c,C(hc)}function ea(o,c,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===p)break;o=o.return}}function hi(o,c,p,b){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var A=w.dependencies;if(A!==null){var P=w.child;A=A.firstContext;e:for(;A!==null;){var Z=A;A=w;for(var te=0;te<c.length;te++)if(Z.context===c[te]){A.lanes|=p,Z=A.alternate,Z!==null&&(Z.lanes|=p),ea(A.return,p,o),b||(P=null);break e}A=Z.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(i(341));P.lanes|=p,A=P.alternate,A!==null&&(A.lanes|=p),ea(P,p,o),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===o){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function pr(o,c,p,b){o=null;for(var w=c,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var Z=w.type;Cr(w.pendingProps.value,P.value)||(o!==null?o.push(Z):o=[Z])}}else if(w===fc.current){if(P=w.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Ti):o=[Ti])}w=w.return}o!==null&&hi(c,o,p,b),c.flags|=262144}function X(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!Cr(as?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function re(o){ni=o,ka=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function he(o){return Pe(ni,o)}function Be(o,c){return ni===null&&re(o),Pe(o,c)}function Pe(o,c){var p=as?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:p,next:null},ka===null){if(o===null)throw Error(i(308));ka=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ka=ka.next=c;return p}function ze(){return{controller:new jp,data:new Map,refCount:0}}function Ye(o){o.refCount--,o.refCount===0&&zp(gc,function(){o.controller.abort()})}function $e(o){o!==Xs&&o.next===null&&(Xs===null?pc=Xs=o:Xs=Xs.next=o),Ho=!0,Id||(Id=!0,mr())}function bt(o,c){if(!mc&&Ho){mc=!0;do for(var p=!1,b=pc;b!==null;){if(o!==0){var w=b.pendingLanes;if(w===0)var A=0;else{var P=b.suspendedLanes,Z=b.pingedLanes;A=(1<<31-dr(42|o)+1)-1,A&=w&~(P&~Z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,er(b,A))}else A=jt,A=M(b,b===Qt?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Pr),(A&3)===0||j(b,A)||(p=!0,er(b,A));b=b.next}while(p);mc=!1}}function an(){qa()}function qa(){Ho=Id=!1;var o=0;os!==0&&(jh()&&(o=os),os=0);for(var c=vn(),p=null,b=pc;b!==null;){var w=b.next,A=Aa(b,c);A===0?(b.next=null,p===null?pc=w:p.next=w,w===null&&(Xs=p)):(p=b,(o!==0||(A&3)!==0)&&(Ho=!0)),b=w}bt(o)}function Aa(o,c){for(var p=o.suspendedLanes,b=o.pingedLanes,w=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var P=31-dr(A),Z=1<<P,te=w[P];te===-1?((Z&p)===0||(Z&b)!==0)&&(w[P]=z(Z,c)):te<=c&&(o.expiredLanes|=Z),A&=~Z}if(c=Qt,p=jt,p=M(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Pr),b=o.callbackNode,p===0||o===c&&(un===2||un===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&Gd(b),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||j(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(b!==null&&Gd(b),ie(p)){case 2:case 8:p=Op;break;case 32:p=qd;break;case 268435456:p=Np;break;default:p=qd}return b=Ra.bind(null,o),p=cc(p,b),o.callbackPriority=c,o.callbackNode=p,c}return b!==null&&b!==null&&Gd(b),o.callbackPriority=2,o.callbackNode=null,2}function Ra(o,c){if(aa!==0&&aa!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Lr()&&o.callbackNode!==p)return null;var b=jt;return b=M(o,o===Qt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Pr),b===0?null:(Zu(o,b,c),Aa(o,vn()),o.callbackNode!=null&&o.callbackNode===p?Ra.bind(null,o):null)}function er(o,c){if(Lr())return null;Zu(o,c,!0)}function mr(){Uh?$g(function(){(dt&6)!==0?cc(ca,an):qa()}):cc(ca,an)}function va(){return os===0&&(os=U()),os}function Mr(o,c){if(Go===null){var p=Go=[];ai=0,wn=va(),Ks={status:"pending",value:void 0,then:function(b){p.push(b)}}}return ai++,c.then(vr,vr),c}function vr(){if(--ai===0&&Go!==null){Ks!==null&&(Ks.status="fulfilled");var o=Go;Go=null,wn=0,Ks=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Ce(o,c){var p=[],b={status:"pending",value:null,reason:null,then:function(w){p.push(w)}};return o.then(function(){b.status="fulfilled",b.value=c;for(var w=0;w<p.length;w++)(0,p[w])(c)},function(w){for(b.status="rejected",b.reason=w,w=0;w<p.length;w++)(0,p[w])(void 0)}),b}function ke(){var o=kn.current;return o!==null?o:Qt.pooledCache}function en(o,c){c===null?T(kn,kn.current):T(kn,c.pool)}function kt(){var o=ke();return o===null?null:{parent:as?on._currentValue:on._currentValue2,pool:o}}function rn(o,c){if(Cr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),b=Object.keys(c);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var w=p[b];if(!a1.call(c,w)||!Cr(o[w],c[w]))return!1}return!0}function ta(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ws(){}function Es(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(ws,ws),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,go(o),o;default:if(typeof c.status=="string")c.then(ws,ws);else{if(o=Qt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(b){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=b}},function(b){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,go(o),o}throw hr=c,qo}}function Vi(){if(hr===null)throw Error(i(459));var o=hr;return hr=null,o}function go(o){if(o===qo||o===bn)throw Error(i(483))}function bl(){for(var o=Xl,c=a0=Xl=0;c<o;){var p=Tr[c];Tr[c++]=null;var b=Tr[c];Tr[c++]=null;var w=Tr[c];Tr[c++]=null;var A=Tr[c];if(Tr[c++]=null,b!==null&&w!==null){var P=b.pending;P===null?w.next=w:(w.next=P.next,P.next=w),b.pending=w}A!==0&&Re(p,w,A)}}function I(o,c,p,b){Tr[Xl++]=o,Tr[Xl++]=c,Tr[Xl++]=p,Tr[Xl++]=b,a0|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function ee(o,c,p,b){return I(o,c,p,b),Le(o)}function oe(o,c){return I(o,null,null,c),Le(o)}function Re(o,c,p){o.lanes|=p;var b=o.alternate;b!==null&&(b.lanes|=p);for(var w=!1,A=o.return;A!==null;)A.childLanes|=p,b=A.alternate,b!==null&&(b.childLanes|=p),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(w=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,w&&c!==null&&(w=31-dr(p),o=A.hiddenUpdates,b=o[w],b===null?o[w]=[c]:b.push(c),c.lane=p|536870912),A):null}function Le(o){if(50<rl)throw rl=0,Wd=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function et(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function it(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ke(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function We(o,c,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(dt&2)!==0){var w=b.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),b.pending=c,c=Le(o),Re(o,null,p),c}return I(o,b,c,p),Le(o)}function st(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,_e(o,p)}}function rt(o,c){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var w=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?w=A=P:A=A.next=P,p=p.next}while(p!==null);A===null?w=A=c:A=A.next=c}else w=A=c;p={baseState:b.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Fe(){if(Qa){var o=Ks;if(o!==null)throw o}}function wt(o,c,p,b){Qa=!1;var w=o.updateQueue;Oi=!1;var A=w.firstBaseUpdate,P=w.lastBaseUpdate,Z=w.shared.pending;if(Z!==null){w.shared.pending=null;var te=Z,Ne=te.next;te.next=null,P===null?A=Ne:P.next=Ne,P=te;var Ue=o.alternate;Ue!==null&&(Ue=Ue.updateQueue,Z=Ue.lastBaseUpdate,Z!==P&&(Z===null?Ue.firstBaseUpdate=Ne:Z.next=Ne,Ue.lastBaseUpdate=te))}if(A!==null){var Ze=w.baseState;P=0,Ue=Ne=te=null,Z=A;do{var Xe=Z.lane&-536870913,At=Xe!==Z.lane;if(At?(jt&Xe)===Xe:(b&Xe)===Xe){Xe!==0&&Xe===wn&&(Qa=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Gr=o,il=Z;Xe=c;var qr=p;switch(il.tag){case 1:if(Gr=il.payload,typeof Gr=="function"){Ze=Gr.call(qr,Ze,Xe);break e}Ze=Gr;break e;case 3:Gr.flags=Gr.flags&-65537|128;case 0:if(Gr=il.payload,Xe=typeof Gr=="function"?Gr.call(qr,Ze,Xe):Gr,Xe==null)break e;Ze=Bl({},Ze,Xe);break e;case 2:Oi=!0}}Xe=Z.callback,Xe!==null&&(o.flags|=64,At&&(o.flags|=8192),At=w.callbacks,At===null?w.callbacks=[Xe]:At.push(Xe))}else At={lane:Xe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ue===null?(Ne=Ue=At,te=Ze):Ue=Ue.next=At,P|=Xe;if(Z=Z.next,Z===null){if(Z=w.shared.pending,Z===null)break;At=Z,Z=At.next,At.next=null,w.lastBaseUpdate=At,w.shared.pending=null}}while(!0);Ue===null&&(te=Ze),w.baseState=te,w.firstBaseUpdate=Ne,w.lastBaseUpdate=Ue,A===null&&(w.shared.lanes=0),Jn|=P,o.lanes=P,o.memoizedState=Ze}}function sn(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function Sn(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)sn(p[o],c)}function Gt(o,c){o=Zn,T(vc,o),T(Ua,c),Zn=o|c.baseLanes}function pn(){T(vc,Zn),T(Ua,Ua.current)}function cn(){Zn=vc.current,C(Ua),C(vc)}function qt(){throw Error(i(321))}function tr(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Cr(o[p],c[p]))return!1;return!0}function Dr(o,c,p,b,w,A){return $n=A,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ct.H=o===null||o.memoizedState===null?Kl:r0,us=!1,A=p(b,w),us=!1,Fs&&(A=_l(c,p,b,w)),nr(o),A}function nr(o){ct.H=Qs;var c=Vt!==null&&Vt.next!==null;if($n=0,En=Vt=Rt=null,ri=!1,Vo=0,ii=null,c)throw Error(i(300));o===null||_t||(o=o.dependencies,o!==null&&X(o)&&(_t=!0))}function _l(o,c,p,b){Rt=o;var w=0;do{if(Fs&&(ii=null),Vo=0,Fs=!1,25<=w)throw Error(i(301));if(w+=1,En=Vt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ct.H=kp,A=c(p,b)}while(Fs);return A}function Sl(){var o=ct.H,c=o.useState()[0];return c=typeof c.then=="function"?Ya(c):c,o=o.useState()[0],(Vt!==null?Vt.memoizedState:null)!==o&&(Rt.flags|=1024),c}function ar(){var o=Ar!==0;return Ar=0,o}function Qr(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Oa(o){if(ri){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ri=!1}$n=0,En=Vt=Rt=null,Fs=!1,Vo=Ar=0,ii=null}function ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Rt.memoizedState=En=o:En=En.next=o,En}function Ut(){if(Vt===null){var o=Rt.alternate;o=o!==null?o.memoizedState:null}else o=Vt.next;var c=En===null?Rt.memoizedState:En.next;if(c!==null)En=c,Vt=o;else{if(o===null)throw Rt.alternate===null?Error(i(467)):Error(i(310));Vt=o,o={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},En===null?Rt.memoizedState=En=o:En=En.next=o}return En}function Va(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(o){var c=Vo;return Vo+=1,ii===null&&(ii=[]),o=Es(ii,o,c),c=Rt,(En===null?c.memoizedState:En.next)===null&&(c=c.alternate,ct.H=c===null||c.memoizedState===null?Kl:r0),o}function xn(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ya(o);if(o.$$typeof===ts)return he(o)}throw Error(i(438,String(o)))}function Cs(o){var c=null,p=Rt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var b=Rt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Va(),Rt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),b=0;b<o;b++)p[b]=Oh;return c.index++,p}function yr(o,c){return typeof c=="function"?c(o):c}function ya(o){var c=Ut();return Fc(c,Vt,o)}function Fc(o,c,p){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=p;var w=o.baseQueue,A=b.pending;if(A!==null){if(w!==null){var P=w.next;w.next=A.next,A.next=P}c.baseQueue=w=A,b.pending=null}if(A=o.baseState,w===null)o.memoizedState=A;else{c=w.next;var Z=P=null,te=null,Ne=c,Ue=!1;do{var Ze=Ne.lane&-536870913;if(Ze!==Ne.lane?(jt&Ze)===Ze:($n&Ze)===Ze){var Xe=Ne.revertLane;if(Xe===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Ze===wn&&(Ue=!0);else if(($n&Xe)===Xe){Ne=Ne.next,Xe===wn&&(Ue=!0);continue}else Ze={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},te===null?(Z=te=Ze,P=A):te=te.next=Ze,Rt.lanes|=Xe,Jn|=Xe;Ze=Ne.action,us&&p(A,Ze),A=Ne.hasEagerState?Ne.eagerState:p(A,Ze)}else Xe={lane:Ze,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},te===null?(Z=te=Xe,P=A):te=te.next=Xe,Rt.lanes|=Ze,Jn|=Ze;Ne=Ne.next}while(Ne!==null&&Ne!==c);if(te===null?P=A:te.next=Z,!Cr(A,o.memoizedState)&&(_t=!0,Ue&&(p=Ks,p!==null)))throw p;o.memoizedState=A,o.baseState=P,o.baseQueue=te,b.lastRenderedState=A}return w===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function $f(o){var c=Ut(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=o;var b=p.dispatch,w=p.pending,A=c.memoizedState;if(w!==null){p.pending=null;var P=w=w.next;do A=o(A,P.action),P=P.next;while(P!==w);Cr(A,c.memoizedState)||(_t=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),p.lastRenderedState=A}return[A,b]}function Au(o,c,p){var b=Rt,w=Ut(),A=Xt;if(A){if(p===void 0)throw Error(i(407));p=p()}else p=c();var P=!Cr((Vt||w).memoizedState,p);P&&(w.memoizedState=p,_t=!0),w=w.queue;var Z=xg.bind(null,b,w,o);if(El(2048,8,Z,[o]),w.getSnapshot!==c||P||En!==null&&En.memoizedState.tag&1){if(b.flags|=2048,Ts(9,Yi(),Ru.bind(null,b,w,p,c),null),Qt===null)throw Error(i(349));A||($n&124)!==0||Wf(b,c,p)}return p}function Wf(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=Rt.updateQueue,c===null?(c=Va(),Rt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Ru(o,c,p,b){c.value=p,c.getSnapshot=b,br(c)&&Qc(o)}function xg(o,c,p){return p(function(){br(c)&&Qc(o)})}function br(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Cr(o,p)}catch{return!0}}function Qc(o){var c=oe(o,2);c!==null&&Da(c,o,2)}function $c(o){var c=ft();if(typeof o=="function"){var p=o;if(o=p(),us){ve(!0);try{p()}finally{ve(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},c}function Wc(o,c,p,b){return o.baseState=p,Fc(o,Vt,typeof b=="function"?b:yr)}function po(o,c,p,b,w){if(zu(o))throw Error(i(485));if(o=c.action,o!==null){var A={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){A.listeners.push(P)}};ct.T!==null?p(!0):A.isTransition=!1,b(A),p=c.pending,p===null?(A.next=c.pending=A,Jf(c,A)):(A.next=p.next,c.pending=p.next=A)}}function Jf(o,c){var p=c.action,b=c.payload,w=o.state;if(c.isTransition){var A=ct.T,P={};ct.T=P;try{var Z=p(w,b),te=ct.S;te!==null&&te(P,Z),eh(o,c,Z)}catch(Ne){th(o,c,Ne)}finally{ct.T=A}}else try{A=p(w,b),eh(o,c,A)}catch(Ne){th(o,c,Ne)}}function eh(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){xl(o,c,b)},function(b){return th(o,c,b)}):xl(o,c,p)}function xl(o,c,p){c.status="fulfilled",c.value=p,nh(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,Jf(o,p)))}function th(o,c,p){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=p,nh(c),c=c.next;while(c!==b)}o.action=null}function nh(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ah(o,c){return c}function Jc(o,c){if(Xt){var p=Qt.formState;if(p!==null){e:{var b=Rt;if(Xt){if(Qn){var w=pp(Qn,tn);if(w){Qn=vp(w),b=mp(w);break e}}be(b)}b=!1}b&&(c=p[0])}}p=ft(),p.memoizedState=p.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:c},p.queue=b,p=ad.bind(null,Rt,b),b.dispatch=p,b=$c(!1);var A=_o.bind(null,Rt,!1,b.queue);return b=ft(),w={state:c,dispatch:null,action:o,pending:null},b.queue=w,p=po.bind(null,Rt,w,A,p),w.dispatch=p,b.memoizedState=o,[c,p,!1]}function wg(o){var c=Ut();return Eg(c,Vt,o)}function Eg(o,c,p){if(c=Fc(o,c,ah)[0],o=ya(yr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Ya(c)}catch(P){throw P===qo?bn:P}else b=c;c=Ut();var w=c.queue,A=w.dispatch;return p!==c.memoizedState&&(Rt.flags|=2048,Ts(9,Yi(),ed.bind(null,w,p),null)),[b,A,o]}function ed(o,c){o.action=c}function td(o){var c=Ut(),p=Vt;if(p!==null)return Eg(c,p,o);Ut(),c=c.memoizedState,p=Ut();var b=p.queue.dispatch;return p.memoizedState=o,[c,b,!1]}function Ts(o,c,p,b){return o={tag:o,create:p,deps:b,inst:c,next:null},c=Rt.updateQueue,c===null&&(c=Va(),Rt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,c.lastEffect=o),o}function Yi(){return{destroy:void 0,resource:void 0}}function wl(){return Ut().memoizedState}function Ou(o,c,p,b){var w=ft();b=b===void 0?null:b,Rt.flags|=o,w.memoizedState=Ts(1|c,Yi(),p,b)}function El(o,c,p,b){var w=Ut();b=b===void 0?null:b;var A=w.memoizedState.inst;Vt!==null&&b!==null&&tr(b,Vt.memoizedState.deps)?w.memoizedState=Ts(c,A,p,b):(Rt.flags|=o,w.memoizedState=Ts(1|c,A,p,b))}function rh(o,c){Ou(8390656,8,o,c)}function mo(o,c){El(2048,8,o,c)}function gi(o,c){return El(4,2,o,c)}function nd(o,c){return El(4,4,o,c)}function vo(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Zi(o,c,p){p=p!=null?p.concat([o]):null,El(4,4,vo.bind(null,c,o),p)}function Nu(){}function Mu(o,c){var p=Ut();c=c===void 0?null:c;var b=p.memoizedState;return c!==null&&tr(c,b[1])?b[0]:(p.memoizedState=[o,c],o)}function ih(o,c){var p=Ut();c=c===void 0?null:c;var b=p.memoizedState;if(c!==null&&tr(c,b[1]))return b[0];if(b=o(),us){ve(!0);try{o()}finally{ve(!1)}}return p.memoizedState=[b,c],b}function yo(o,c,p){return p===void 0||($n&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=jl(),Rt.lanes|=o,Jn|=o,p)}function Du(o,c,p,b){return Cr(p,c)?p:Ua.current!==null?(o=yo(o,p,b),Cr(o,c)||(_t=!0),o):($n&42)===0?(_t=!0,o.memoizedState=p):(o=jl(),Rt.lanes|=o,Jn|=o,c)}function sh(o,c,p,b,w){var A=Jr();ua(A!==0&&8>A?A:8);var P=ct.T,Z={};ct.T=Z,_o(o,!1,c,p);try{var te=w(),Ne=ct.S;if(Ne!==null&&Ne(Z,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ue=Ce(te,b);Xi(o,c,Ue,oa(o))}else Xi(o,c,b,oa(o))}catch(Ze){Xi(o,c,{then:function(){},status:"rejected",reason:Ze},oa())}finally{ua(A),ct.T=P}}function Za(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:cr,baseState:cr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:cr},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Ii(){return he(Ti)}function ju(){return Ut().memoizedState}function bo(){return Ut().memoizedState}function Iv(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=oa();o=Ke(p);var b=We(c,o,p);b!==null&&(Da(b,c,p),st(b,c,p)),c={cache:ze()},o.payload=c;return}c=c.return}}function lh(o,c,p){var b=oa();p={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},zu(o)?Cg(c,p):(p=ee(o,c,p,b),p!==null&&(Da(p,o,b),Tg(p,c,b)))}function ad(o,c,p){var b=oa();Xi(o,c,p,b)}function Xi(o,c,p,b){var w={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(zu(o))Cg(c,w);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var P=c.lastRenderedState,Z=A(P,p);if(w.hasEagerState=!0,w.eagerState=Z,Cr(Z,P))return I(o,c,w,0),Qt===null&&bl(),!1}catch{}finally{}if(p=ee(o,c,w,b),p!==null)return Da(p,o,b),Tg(p,c,b),!0}return!1}function _o(o,c,p,b){if(b={lane:2,revertLane:va(),action:b,hasEagerState:!1,eagerState:null,next:null},zu(o)){if(c)throw Error(i(479))}else c=ee(o,p,b,2),c!==null&&Da(c,o,2)}function zu(o){var c=o.alternate;return o===Rt||c!==null&&c===Rt}function Cg(o,c){Fs=ri=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function Tg(o,c,p){if((p&4194048)!==0){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,_e(o,p)}}function rd(o){var c=Yo;return Yo+=1,Ni===null&&(Ni=[]),Es(Ni,o,c)}function Cl(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function id(o,c){throw c.$$typeof===Xg?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Ag(o){var c=o._init;return c(o._payload)}function Rg(o){function c(de,$){if(o){var ye=de.deletions;ye===null?(de.deletions=[$],de.flags|=16):ye.push($)}}function p(de,$){if(!o)return null;for(;$!==null;)c(de,$),$=$.sibling;return null}function b(de){for(var $=new Map;de!==null;)de.key!==null?$.set(de.key,de):$.set(de.index,de),de=de.sibling;return $}function w(de,$){return de=Ji(de,$),de.index=0,de.sibling=null,de}function A(de,$,ye){return de.index=ye,o?(ye=de.alternate,ye!==null?(ye=ye.index,ye<$?(de.flags|=67108866,$):ye):(de.flags|=67108866,$)):(de.flags|=1048576,$)}function P(de){return o&&de.alternate===null&&(de.flags|=67108866),de}function Z(de,$,ye,De){return $===null||$.tag!==6?($=Ll(ye,de.mode,De),$.return=de,$):($=w($,ye),$.return=de,$)}function te(de,$,ye,De){var Je=ye.type;return Je===Gl?Ue(de,$,ye.props.children,De,ye.key):$!==null&&($.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ia&&Ag(Je)===$.type)?($=w($,ye.props),Cl($,ye),$.return=de,$):($=Oo(ye.type,ye.key,ye.props,null,de.mode,De),Cl($,ye),$.return=de,$)}function Ne(de,$,ye,De){return $===null||$.tag!==4||$.stateNode.containerInfo!==ye.containerInfo||$.stateNode.implementation!==ye.implementation?($=Iu(ye,de.mode,De),$.return=de,$):($=w($,ye.children||[]),$.return=de,$)}function Ue(de,$,ye,De,Je){return $===null||$.tag!==7?($=Wr(ye,de.mode,De,Je),$.return=de,$):($=w($,ye),$.return=de,$)}function Ze(de,$,ye){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Ll(""+$,de.mode,ye),$.return=de,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Hl:return ye=Oo($.type,$.key,$.props,null,de.mode,ye),Cl(ye,$),ye.return=de,ye;case Ls:return $=Iu($,de.mode,ye),$.return=de,$;case Ia:var De=$._init;return $=De($._payload),Ze(de,$,ye)}if(Ps($)||v($))return $=Wr($,de.mode,ye,null),$.return=de,$;if(typeof $.then=="function")return Ze(de,rd($),ye);if($.$$typeof===ts)return Ze(de,Be(de,$),ye);id(de,$)}return null}function Xe(de,$,ye,De){var Je=$!==null?$.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Je!==null?null:Z(de,$,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case Hl:return ye.key===Je?te(de,$,ye,De):null;case Ls:return ye.key===Je?Ne(de,$,ye,De):null;case Ia:return Je=ye._init,ye=Je(ye._payload),Xe(de,$,ye,De)}if(Ps(ye)||v(ye))return Je!==null?null:Ue(de,$,ye,De,null);if(typeof ye.then=="function")return Xe(de,$,rd(ye),De);if(ye.$$typeof===ts)return Xe(de,$,Be(de,ye),De);id(de,ye)}return null}function At(de,$,ye,De,Je){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return de=de.get(ye)||null,Z($,de,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case Hl:return de=de.get(De.key===null?ye:De.key)||null,te($,de,De,Je);case Ls:return de=de.get(De.key===null?ye:De.key)||null,Ne($,de,De,Je);case Ia:var fn=De._init;return De=fn(De._payload),At(de,$,ye,De,Je)}if(Ps(De)||v(De))return de=de.get(ye)||null,Ue($,de,De,Je,null);if(typeof De.then=="function")return At(de,$,ye,rd(De),Je);if(De.$$typeof===ts)return At(de,$,ye,Be($,De),Je);id($,De)}return null}function Gr(de,$,ye,De){for(var Je=null,fn=null,pt=$,$t=$=0,ra=null;pt!==null&&$t<ye.length;$t++){pt.index>$t?(ra=pt,pt=null):ra=pt.sibling;var Wt=Xe(de,pt,ye[$t],De);if(Wt===null){pt===null&&(pt=ra);break}o&&pt&&Wt.alternate===null&&c(de,pt),$=A(Wt,$,$t),fn===null?Je=Wt:fn.sibling=Wt,fn=Wt,pt=ra}if($t===ye.length)return p(de,pt),Xt&&pe(de,$t),Je;if(pt===null){for(;$t<ye.length;$t++)pt=Ze(de,ye[$t],De),pt!==null&&($=A(pt,$,$t),fn===null?Je=pt:fn.sibling=pt,fn=pt);return Xt&&pe(de,$t),Je}for(pt=b(pt);$t<ye.length;$t++)ra=At(pt,de,$t,ye[$t],De),ra!==null&&(o&&ra.alternate!==null&&pt.delete(ra.key===null?$t:ra.key),$=A(ra,$,$t),fn===null?Je=ra:fn.sibling=ra,fn=ra);return o&&pt.forEach(function(fs){return c(de,fs)}),Xt&&pe(de,$t),Je}function il(de,$,ye,De){if(ye==null)throw Error(i(151));for(var Je=null,fn=null,pt=$,$t=$=0,ra=null,Wt=ye.next();pt!==null&&!Wt.done;$t++,Wt=ye.next()){pt.index>$t?(ra=pt,pt=null):ra=pt.sibling;var fs=Xe(de,pt,Wt.value,De);if(fs===null){pt===null&&(pt=ra);break}o&&pt&&fs.alternate===null&&c(de,pt),$=A(fs,$,$t),fn===null?Je=fs:fn.sibling=fs,fn=fs,pt=ra}if(Wt.done)return p(de,pt),Xt&&pe(de,$t),Je;if(pt===null){for(;!Wt.done;$t++,Wt=ye.next())Wt=Ze(de,Wt.value,De),Wt!==null&&($=A(Wt,$,$t),fn===null?Je=Wt:fn.sibling=Wt,fn=Wt);return Xt&&pe(de,$t),Je}for(pt=b(pt);!Wt.done;$t++,Wt=ye.next())Wt=At(pt,de,$t,Wt.value,De),Wt!==null&&(o&&Wt.alternate!==null&&pt.delete(Wt.key===null?$t:Wt.key),$=A(Wt,$,$t),fn===null?Je=Wt:fn.sibling=Wt,fn=Wt);return o&&pt.forEach(function(r1){return c(de,r1)}),Xt&&pe(de,$t),Je}function qr(de,$,ye,De){if(typeof ye=="object"&&ye!==null&&ye.type===Gl&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case Hl:e:{for(var Je=ye.key;$!==null;){if($.key===Je){if(Je=ye.type,Je===Gl){if($.tag===7){p(de,$.sibling),De=w($,ye.props.children),De.return=de,de=De;break e}}else if($.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ia&&Ag(Je)===$.type){p(de,$.sibling),De=w($,ye.props),Cl(De,ye),De.return=de,de=De;break e}p(de,$);break}else c(de,$);$=$.sibling}ye.type===Gl?(De=Wr(ye.props.children,de.mode,De,ye.key),De.return=de,de=De):(De=Oo(ye.type,ye.key,ye.props,null,de.mode,De),Cl(De,ye),De.return=de,de=De)}return P(de);case Ls:e:{for(Je=ye.key;$!==null;){if($.key===Je)if($.tag===4&&$.stateNode.containerInfo===ye.containerInfo&&$.stateNode.implementation===ye.implementation){p(de,$.sibling),De=w($,ye.children||[]),De.return=de,de=De;break e}else{p(de,$);break}else c(de,$);$=$.sibling}De=Iu(ye,de.mode,De),De.return=de,de=De}return P(de);case Ia:return Je=ye._init,ye=Je(ye._payload),qr(de,$,ye,De)}if(Ps(ye))return Gr(de,$,ye,De);if(v(ye)){if(Je=v(ye),typeof Je!="function")throw Error(i(150));return ye=Je.call(ye),il(de,$,ye,De)}if(typeof ye.then=="function")return qr(de,$,rd(ye),De);if(ye.$$typeof===ts)return qr(de,$,Be(de,ye),De);id(de,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,$!==null&&$.tag===6?(p(de,$.sibling),De=w($,ye),De.return=de,de=De):(p(de,$),De=Ll(ye,de.mode,De),De.return=de,de=De),P(de)):p(de,$)}return function(de,$,ye,De){try{Yo=0;var Je=qr(de,$,ye,De);return Ni=null,Je}catch(pt){if(pt===qo||pt===bn)throw pt;var fn=n(29,pt,null,de.mode);return fn.lanes=De,fn.return=de,fn}finally{}}}function As(o){var c=o.alternate;T(vt,vt.current&1),T(Br,o),Mi===null&&(c===null||Ua.current!==null||c.memoizedState!==null)&&(Mi=o)}function Og(o){if(o.tag===22){if(T(vt,vt.current),T(Br,o),Mi===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Mi=o)}}else Ki()}function Ki(){T(vt,vt.current),T(Br,Br.current)}function Fi(o){C(Br),Mi===o&&(Mi=null),C(vt)}function sd(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||rc(p)||Ud(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function oh(o,c,p,b){c=o.memoizedState,p=p(b,c),p=p==null?c:Bl({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}function Ng(o,c,p,b,w,A,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,A,P):c.prototype&&c.prototype.isPureReactComponent?!rn(p,b)||!rn(w,A):!0}function ld(o,c,p,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,b),c.state!==o&&yn.enqueueReplaceState(c,c.state,null)}function Tl(o,c){var p=c;if("ref"in c){p={};for(var b in c)b!=="ref"&&(p[b]=c[b])}if(o=o.defaultProps){p===c&&(p=Bl({},p));for(var w in o)p[w]===void 0&&(p[w]=o[w])}return p}function od(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function Mg(o,c,p){try{var b=o.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function ud(o,c,p){return p=Ke(p),p.tag=3,p.payload={element:null},p.callback=function(){od(o,c)},p}function Dg(o){return o=Ke(o),o.tag=3,o}function jg(o,c,p,b){var w=p.type.getDerivedStateFromError;if(typeof w=="function"){var A=b.value;o.payload=function(){return w(A)},o.callback=function(){Mg(c,p,b)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){Mg(c,p,b),typeof w!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var Z=b.stack;this.componentDidCatch(b.value,{componentStack:Z!==null?Z:""})})}function Xv(o,c,p,b,w){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=p.alternate,c!==null&&pr(c,p,w,!0),p=Br.current,p!==null){switch(p.tag){case 13:return Mi===null?zn():p.alternate===null&&Gn===0&&(Gn=3),p.flags&=-257,p.flags|=65536,p.lanes=w,b===_a?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([b]):c.add(b),Ul(o,b,w)),!1;case 22:return p.flags|=65536,b===_a?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([b]):p.add(b)),Ul(o,b,w)),!1}throw Error(i(435,p.tag))}return Ul(o,b,w),zn(),!1}if(Xt)return c=Br.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,b!==t0&&(o=Error(i(422),{cause:b}),Kt(K(o,p)))):(b!==t0&&(c=Error(i(423),{cause:b}),Kt(K(c,p))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,b=K(b,p),w=ud(o.stateNode,b,w),rt(o,w),Gn!==4&&(Gn=2)),!1;var A=Error(i(520),{cause:b});if(A=K(A,p),tl===null?tl=[A]:tl.push(A),Gn!==4&&(Gn=2),c===null)return!0;b=K(b,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=w&-w,p.lanes|=o,o=ud(p.stateNode,b,o),rt(p,o),!1;case 1:if(c=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(zi===null||!zi.has(A))))return p.flags|=65536,w&=-w,p.lanes|=w,w=Dg(w),jg(w,o,p,b),rt(p,w),!1}p=p.return}while(p!==null);return!1}function ba(o,c,p,b){c.child=o===null?i0(c,null,p,b):cs(c,o.child,p,b)}function zg(o,c,p,b,w){p=p.render;var A=c.ref;if("ref"in b){var P={};for(var Z in b)Z!=="ref"&&(P[Z]=b[Z])}else P=b;return re(c),b=Dr(o,c,p,P,A,w),Z=ar(),o!==null&&!_t?(Qr(o,c,w),_r(o,c,w)):(Xt&&Z&&W(c),c.flags|=1,ba(o,c,b,w),c.child)}function kg(o,c,p,b,w){if(o===null){var A=p.type;return typeof A=="function"&&!Ch(A)&&A.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=A,Ug(o,c,A,b,w)):(o=Oo(p.type,null,b,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!Rl(o,w)){var P=A.memoizedProps;if(p=p.compare,p=p!==null?p:rn,p(P,b)&&o.ref===c.ref)return _r(o,c,w)}return c.flags|=1,o=Ji(A,b),o.ref=c.ref,o.return=c,c.child=o}function Ug(o,c,p,b,w){if(o!==null){var A=o.memoizedProps;if(rn(A,b)&&o.ref===c.ref)if(_t=!1,c.pendingProps=b=A,Rl(o,w))(o.flags&131072)!==0&&(_t=!0);else return c.lanes=o.lanes,_r(o,c,w)}return Al(o,c,p,b,w)}function Lg(o,c,p){var b=c.pendingProps,w=b.children,A=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=A!==null?A.baseLanes|p:p,o!==null){for(w=c.child=o.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;c.childLanes=A&~b}else c.childLanes=0,c.child=null;return Pg(o,c,b,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&en(c,A!==null?A.cachePool:null),A!==null?Gt(c,A):pn(),Og(c);else return c.lanes=c.childLanes=536870912,Pg(o,c,A!==null?A.baseLanes|p:p,p)}else A!==null?(en(c,A.cachePool),Gt(c,A),Ki(),c.memoizedState=null):(o!==null&&en(c,null),pn(),Ki());return ba(o,c,w,p),c.child}function Pg(o,c,p,b){var w=ke();return w=w===null?null:{parent:as?on._currentValue:on._currentValue2,pool:w},c.memoizedState={baseLanes:p,cachePool:w},o!==null&&en(c,null),pn(),Og(c),o!==null&&pr(o,c,b,!0),null}function So(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function Al(o,c,p,b,w){return re(c),p=Dr(o,c,p,b,void 0,w),b=ar(),o!==null&&!_t?(Qr(o,c,w),_r(o,c,w)):(Xt&&b&&W(c),c.flags|=1,ba(o,c,p,w),c.child)}function Bg(o,c,p,b,w,A){return re(c),c.updateQueue=null,p=_l(c,b,p,w),nr(o),b=ar(),o!==null&&!_t?(Qr(o,c,A),_r(o,c,A)):(Xt&&b&&W(c),c.flags|=1,ba(o,c,p,A),c.child)}function uh(o,c,p,b,w){if(re(c),c.stateNode===null){var A=Zl,P=p.contextType;typeof P=="object"&&P!==null&&(A=he(P)),A=new p(b,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=yn,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=b,A.state=c.memoizedState,A.refs={},et(c),P=p.contextType,A.context=typeof P=="object"&&P!==null?he(P):Zl,A.state=c.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(oh(c,p,P,b),A.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(P=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),P!==A.state&&yn.enqueueReplaceState(A,A.state,null),wt(c,b,A,w),Fe(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(o===null){A=c.stateNode;var Z=c.memoizedProps,te=Tl(p,Z);A.props=te;var Ne=A.context,Ue=p.contextType;P=Zl,typeof Ue=="object"&&Ue!==null&&(P=he(Ue));var Ze=p.getDerivedStateFromProps;Ue=typeof Ze=="function"||typeof A.getSnapshotBeforeUpdate=="function",Z=c.pendingProps!==Z,Ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Z||Ne!==P)&&ld(c,A,b,P),Oi=!1;var Xe=c.memoizedState;A.state=Xe,wt(c,b,A,w),Fe(),Ne=c.memoizedState,Z||Xe!==Ne||Oi?(typeof Ze=="function"&&(oh(c,p,Ze,b),Ne=c.memoizedState),(te=Oi||Ng(c,p,te,b,Xe,Ne,P))?(Ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=Ne),A.props=b,A.state=Ne,A.context=P,b=te):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{A=c.stateNode,it(o,c),P=c.memoizedProps,Ue=Tl(p,P),A.props=Ue,Ze=c.pendingProps,Xe=A.context,Ne=p.contextType,te=Zl,typeof Ne=="object"&&Ne!==null&&(te=he(Ne)),Z=p.getDerivedStateFromProps,(Ne=typeof Z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P!==Ze||Xe!==te)&&ld(c,A,b,te),Oi=!1,Xe=c.memoizedState,A.state=Xe,wt(c,b,A,w),Fe();var At=c.memoizedState;P!==Ze||Xe!==At||Oi||o!==null&&o.dependencies!==null&&X(o.dependencies)?(typeof Z=="function"&&(oh(c,p,Z,b),At=c.memoizedState),(Ue=Oi||Ng(c,p,Ue,b,Xe,At,te)||o!==null&&o.dependencies!==null&&X(o.dependencies))?(Ne||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,At,te),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,At,te)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=At),A.props=b,A.state=At,A.context=te,b=Ue):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Xe===o.memoizedState||(c.flags|=1024),b=!1)}return A=b,So(o,c),b=(c.flags&128)!==0,A||b?(A=c.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&b?(c.child=cs(c,o.child,null,w),c.child=cs(c,null,p,w)):ba(o,c,p,w),c.memoizedState=A.state,o=c.child):o=_r(o,c,w),o}function ch(o,c,p,b){return yt(),c.flags|=256,ba(o,c,p,b),c.child}function cd(o){return{baseLanes:o,cachePool:kt()}}function dd(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Hr),o}function dh(o,c,p){var b=c.pendingProps,w=!1,A=(c.flags&128)!==0,P;if((P=A)||(P=o!==null&&o.memoizedState===null?!1:(vt.current&2)!==0),P&&(w=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(Xt){if(w?As(c):Ki(),Xt){var Z=Qn,te;(te=Z)&&(Z=e1(Z,tn),Z!==null?(c.memoizedState={dehydrated:Z,treeContext:Zs!==null?{id:ei,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},te=n(18,null,null,0),te.stateNode=Z,te.return=c,c.child=te,Hn=c,Qn=null,te=!0):te=!1),te||be(c)}if(Z=c.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Ud(Z)?c.lanes=32:c.lanes=536870912,null;Fi(c)}return Z=b.children,b=b.fallback,w?(Ki(),w=c.mode,Z=fd({mode:"hidden",children:Z},w),b=Wr(b,w,p,null),Z.return=c,b.return=c,Z.sibling=b,c.child=Z,w=c.child,w.memoizedState=cd(p),w.childLanes=dd(o,P,p),c.memoizedState=$a,b):(As(c),Rs(c,Z))}if(te=o.memoizedState,te!==null&&(Z=te.dehydrated,Z!==null)){if(A)c.flags&256?(As(c),c.flags&=-257,c=fh(o,c,p)):c.memoizedState!==null?(Ki(),c.child=o.child,c.flags|=128,c=null):(Ki(),w=b.fallback,Z=c.mode,b=fd({mode:"visible",children:b.children},Z),w=Wr(w,Z,p,null),w.flags|=2,b.return=c,w.return=c,b.sibling=w,c.child=b,cs(c,o.child,null,p),b=c.child,b.memoizedState=cd(p),b.childLanes=dd(o,P,p),c.memoizedState=$a,c=w);else if(As(c),Ud(Z))P=gp(Z).digest,b=Error(i(419)),b.stack="",b.digest=P,Kt({value:b,source:null,stack:null}),c=fh(o,c,p);else if(_t||pr(o,c,p,!1),P=(p&o.childLanes)!==0,_t||P){if(P=Qt,P!==null&&(b=p&-p,b=(b&42)!==0?1:Oe(b),b=(b&(P.suspendedLanes|p))!==0?0:b,b!==0&&b!==te.retryLane))throw te.retryLane=b,oe(o,b),Da(P,o,b),Yt;rc(Z)||zn(),c=fh(o,c,p)}else rc(Z)?(c.flags|=192,c.child=o.child,c=null):(o=te.treeContext,or&&(Qn=Ih(Z),Hn=c,Xt=!0,ti=null,tn=!1,o!==null&&(Fa[fr++]=ei,Fa[fr++]=Ri,Fa[fr++]=Zs,ei=o.id,Ri=o.overflow,Zs=c)),c=Rs(c,b.children),c.flags|=4096);return c}return w?(Ki(),w=b.fallback,Z=c.mode,te=o.child,A=te.sibling,b=Ji(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,A!==null?w=Ji(A,w):(w=Wr(w,Z,p,null),w.flags|=2),w.return=c,b.return=c,b.sibling=w,c.child=b,b=w,w=c.child,Z=o.child.memoizedState,Z===null?Z=cd(p):(te=Z.cachePool,te!==null?(A=as?on._currentValue:on._currentValue2,te=te.parent!==A?{parent:A,pool:A}:te):te=kt(),Z={baseLanes:Z.baseLanes|p,cachePool:te}),w.memoizedState=Z,w.childLanes=dd(o,P,p),c.memoizedState=$a,b):(As(c),p=o.child,o=p.sibling,p=Ji(p,{mode:"visible",children:b.children}),p.return=c,p.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=p,c.memoizedState=null,p)}function Rs(o,c){return c=fd({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function fd(o,c){return o=n(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function fh(o,c,p){return cs(c,o.child,null,p),o=Rs(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Hg(o,c,p){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),ea(o.return,c,p)}function hd(o,c,p,b,w){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=b,A.tail=p,A.tailMode=w)}function hh(o,c,p){var b=c.pendingProps,w=b.revealOrder,A=b.tail;if(ba(o,c,b.children,p),b=vt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Hg(o,p,c);else if(o.tag===19)Hg(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(T(vt,b),w){case"forwards":for(p=c.child,w=null;p!==null;)o=p.alternate,o!==null&&sd(o)===null&&(w=p),p=p.sibling;p=w,p===null?(w=c.child,c.child=null):(w=p.sibling,p.sibling=null),hd(c,!1,w,p,A);break;case"backwards":for(p=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&sd(o)===null){c.child=w;break}o=w.sibling,w.sibling=p,p=w,w=o}hd(c,!0,p,null,A);break;case"together":hd(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function _r(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),Jn|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(pr(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,p=Ji(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Ji(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function Rl(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&X(o)))}function Kv(o,c,p){switch(c.tag){case 3:Ee(c,c.stateNode.containerInfo),Rn(c,on,o.memoizedState.cache),yt();break;case 27:case 5:ut(c);break;case 4:Ee(c,c.stateNode.containerInfo);break;case 10:Rn(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(As(c),c.flags|=128,null):(p&c.child.childLanes)!==0?dh(o,c,p):(As(c),o=_r(o,c,p),o!==null?o.sibling:null);As(c);break;case 19:var w=(o.flags&128)!==0;if(b=(p&c.childLanes)!==0,b||(pr(o,c,p,!1),b=(p&c.childLanes)!==0),w){if(b)return hh(o,c,p);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),T(vt,vt.current),b)break;return null;case 22:case 23:return c.lanes=0,Lg(o,c,p);case 24:Rn(c,on,o.memoizedState.cache)}return _r(o,c,p)}function ku(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)_t=!0;else{if(!Rl(o,p)&&(c.flags&128)===0)return _t=!1,Kv(o,c,p);_t=(o.flags&131072)!==0}else _t=!1,Xt&&(c.flags&1048576)!==0&&G(c,Bo,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var b=c.elementType,w=b._init;if(b=w(b._payload),c.type=b,typeof b=="function")Ch(b)?(o=Tl(b,o),c.tag=1,c=uh(null,c,b,o,p)):(c.tag=0,c=Al(null,c,b,o,p));else{if(b!=null){if(w=b.$$typeof,w===wi){c.tag=11,c=zg(null,c,b,o,p);break e}else if(w===Ei){c.tag=14,c=kg(null,c,b,o,p);break e}}throw c=_(b)||b,Error(i(306,c,""))}}return c;case 0:return Al(o,c,c.type,c.pendingProps,p);case 1:return b=c.type,w=Tl(b,c.pendingProps),uh(o,c,b,w,p);case 3:e:{if(Ee(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var A=c.pendingProps;w=c.memoizedState,b=w.element,it(o,c),wt(c,A,null,p);var P=c.memoizedState;if(A=P.cache,Rn(c,on,A),A!==w.cache&&hi(c,[on],p,!0),Fe(),A=P.element,or&&w.isDehydrated)if(w={element:A,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=ch(o,c,A,p);break e}else if(A!==b){b=K(Error(i(424)),c),Kt(b),c=ch(o,c,A,p);break e}else for(or&&(Qn=bp(c.stateNode.containerInfo),Hn=c,Xt=!0,ti=null,tn=!0),p=i0(c,null,A,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(yt(),A===b){c=_r(o,c,p);break e}ba(o,c,A,p)}c=c.child}return c;case 26:if(Xa)return So(o,c),o===null?(p=lc(c.type,null,c.pendingProps,null))?c.memoizedState=p:Xt||(c.stateNode=Ai(c.type,c.pendingProps,Is.current,c)):c.memoizedState=lc(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(Pt)return ut(c),o===null&&Pt&&Xt&&(b=c.stateNode=oc(c.type,c.pendingProps,Is.current,On.current,!1),Hn=c,tn=!0,Qn=_p(c.type,b,Qn)),ba(o,c,c.pendingProps.children,p),So(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Xt&&(t1(c.type,c.pendingProps,On.current),(w=b=Qn)&&(b=Sp(b,c.type,c.pendingProps,tn),b!==null?(c.stateNode=b,Hn=c,Qn=yp(b),tn=!1,w=!0):w=!1),w||be(c)),ut(c),w=c.type,A=c.pendingProps,P=o!==null?o.memoizedProps:null,b=A.children,ns(w,A)?b=null:P!==null&&ns(w,P)&&(c.flags|=32),c.memoizedState!==null&&(w=Dr(o,c,Sl,null,null,p),as?Ti._currentValue=w:Ti._currentValue2=w),So(o,c),ba(o,c,b,p),c.child;case 6:return o===null&&Xt&&(Uo(c.pendingProps,On.current),(o=p=Qn)&&(p=Jv(p,c.pendingProps,tn),p!==null?(c.stateNode=p,Hn=c,Qn=null,o=!0):o=!1),o||be(c)),null;case 13:return dh(o,c,p);case 4:return Ee(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=cs(c,null,b,p):ba(o,c,b,p),c.child;case 11:return zg(o,c,c.type,c.pendingProps,p);case 7:return ba(o,c,c.pendingProps,p),c.child;case 8:return ba(o,c,c.pendingProps.children,p),c.child;case 12:return ba(o,c,c.pendingProps.children,p),c.child;case 10:return b=c.pendingProps,Rn(c,c.type,b.value),ba(o,c,b.children,p),c.child;case 9:return w=c.type._context,b=c.pendingProps.children,re(c),w=he(w),b=b(w),c.flags|=1,ba(o,c,b,p),c.child;case 14:return kg(o,c,c.type,c.pendingProps,p);case 15:return Ug(o,c,c.type,c.pendingProps,p);case 19:return hh(o,c,p);case 31:return b=c.pendingProps,p=c.mode,b={mode:b.mode,children:b.children},o===null?(p=fd(b,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=Ji(o.child,b),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Lg(o,c,p);case 24:return re(c),b=he(on),o===null?(w=ke(),w===null&&(w=Qt,A=ze(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=p),w=A),c.memoizedState={parent:b,cache:w},et(c),Rn(c,on,w)):((o.lanes&p)!==0&&(it(o,c),wt(c,null,null,p),Fe()),w=o.memoizedState,A=c.memoizedState,w.parent!==b?(w={parent:b,cache:b},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Rn(c,on,b)):(b=A.cache,Rn(c,on,b),b!==w.cache&&hi(c,[on],p,!0))),ba(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function rr(o){o.flags|=4}function gh(o,c){if(o!==null&&o.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(o=c.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function Uu(o,c,p,b){if(Bt)for(p=c.child;p!==null;){if(p.tag===5||p.tag===6)Vn(o,p.stateNode);else if(!(p.tag===4||Pt&&p.tag===27)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else if(Ci)for(var w=c.child;w!==null;){if(w.tag===5){var A=w.stateNode;p&&b&&(A=qh(A,w.type,w.memoizedProps)),Vn(o,A)}else if(w.tag===6)A=w.stateNode,p&&b&&(A=Vh(A,w.memoizedProps)),Vn(o,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)A=w.child,A!==null&&(A.return=w),Uu(o,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function gd(o,c,p,b){var w=!1;if(Ci)for(var A=c.child;A!==null;){if(A.tag===5){var P=A.stateNode;p&&b&&(P=qh(P,A.type,A.memoizedProps)),Hh(o,P)}else if(A.tag===6)P=A.stateNode,p&&b&&(P=Vh(P,A.memoizedProps)),Hh(o,P);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)w=A.child,w!==null&&(w.return=A),gd(o,A,!0,!0),w=!0;else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return w;A=A.return}A.sibling.return=A.return,A=A.sibling}return w}function ph(o,c){if(Ci&&gh(o,c)){o=c.stateNode;var p=o.containerInfo,b=Bh();gd(b,c,!1,!1),o.pendingChildren=b,rr(c),hp(p,b)}}function pd(o,c,p,b){if(Bt)o.memoizedProps!==b&&rr(c);else if(Ci){var w=o.stateNode,A=o.memoizedProps;if((o=gh(o,c))||A!==b){var P=On.current;A=ac(w,p,A,b,!o,null),A===w?c.stateNode=w:(Ju(A,p,b,P)&&rr(c),c.stateNode=A,o?Uu(A,c,!1,!1):rr(c))}else c.stateNode=w}}function md(o,c,p){if(Fn(c,p)){if(o.flags|=16777216,!jd(c,p))if(wd())o.flags|=8192;else throw hr=_a,Xd}else o.flags&=-16777217}function Gg(o,c){if(Tp(c)){if(o.flags|=16777216,!rs(c))if(wd())o.flags|=8192;else throw hr=_a,Xd}else o.flags&=-16777217}function vd(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?H():536870912,o.lanes|=c,Or|=c)}function Lu(o,c){if(!Xt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Bn(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(c)for(var w=o.child;w!==null;)p|=w.lanes|w.childLanes,b|=w.subtreeFlags&65011712,b|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)p|=w.lanes|w.childLanes,b|=w.subtreeFlags,b|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=b,o.childLanes=p,c}function Fv(o,c,p){var b=c.pendingProps;switch(xe(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(c),null;case 1:return Bn(c),null;case 3:return p=c.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),ma(on),Ve(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(at(c)?rr(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Tt())),ph(o,c),Bn(c),null;case 26:if(Xa){p=c.type;var w=c.memoizedState;return o===null?(rr(c),w!==null?(Bn(c),Gg(c,w)):(Bn(c),md(c,p,b))):w?w!==o.memoizedState?(rr(c),Bn(c),Gg(c,w)):(Bn(c),c.flags&=-16777217):(Bt?o.memoizedProps!==b&&rr(c):pd(o,c,p,b),Bn(c),md(c,p,b)),null}case 27:if(Pt){if(Ie(c),p=Is.current,w=c.type,o!==null&&c.stateNode!=null)Bt?o.memoizedProps!==b&&rr(c):pd(o,c,w,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Bn(c),null}o=On.current,at(c)?Ae(c,o):(o=oc(w,b,p,o,!0),c.stateNode=o,rr(c))}return Bn(c),null}case 5:if(Ie(c),p=c.type,o!==null&&c.stateNode!=null)pd(o,c,p,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Bn(c),null}o=On.current,at(c)?Ae(c,o):(w=mn(p,b,Is.current,o,c),Uu(w,c,!1,!1),c.stateNode=w,Ju(w,p,b,o)&&rr(c))}return Bn(c),md(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)p=o.memoizedProps,Bt?p!==b&&rr(c):Ci&&(p!==b?(c.stateNode=Hs(b,Is.current,On.current,c),rr(c)):c.stateNode=o.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(o=Is.current,p=On.current,at(c)){if(!or)throw Error(i(176));if(o=c.stateNode,p=c.memoizedProps,b=null,w=Hn,w!==null)switch(w.tag){case 27:case 5:b=w.memoizedProps}ic(o,p,c,b)||be(c)}else c.stateNode=Hs(b,o,p,c)}return Bn(c),null;case 13:if(b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=at(c),b!==null&&b.dehydrated!==null){if(o===null){if(!w)throw Error(i(318));if(!or)throw Error(i(344));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));Xh(w,c)}else yt(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bn(c),w=!1}else w=Tt(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Fi(c),c):(Fi(c),null)}if(Fi(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=b!==null,o=o!==null&&o.memoizedState!==null,p){b=c.child,w=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(w=b.alternate.memoizedState.cachePool.pool);var A=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==w&&(b.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),vd(c,c.updateQueue),Bn(c),null;case 4:return Ve(),ph(o,c),o===null&&Qg(c.stateNode.containerInfo),Bn(c),null;case 10:return ma(c.type),Bn(c),null;case 19:if(C(vt),w=c.memoizedState,w===null)return Bn(c),null;if(b=(c.flags&128)!==0,A=w.rendering,A===null)if(b)Lu(w,!1);else{if(Gn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=sd(o),A!==null){for(c.flags|=128,Lu(w,!1),o=A.updateQueue,c.updateQueue=o,vd(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)Kn(p,o),p=p.sibling;return T(vt,vt.current&1|2),c.child}o=o.sibling}w.tail!==null&&vn()>Ko&&(c.flags|=128,b=!0,Lu(w,!1),c.lanes=4194304)}else{if(!b)if(o=sd(A),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,vd(c,o),Lu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Xt)return Bn(c),null}else 2*vn()-w.renderingStartTime>Ko&&p!==536870912&&(c.flags|=128,b=!0,Lu(w,!1),c.lanes=4194304);w.isBackwards?(A.sibling=c.child,c.child=A):(o=w.last,o!==null?o.sibling=A:c.child=A,w.last=A)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=vn(),c.sibling=null,o=vt.current,T(vt,b?o&1|2:o&1),c):(Bn(c),null);case 22:case 23:return Fi(c),cn(),b=c.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(p&536870912)!==0&&(c.flags&128)===0&&(Bn(c),c.subtreeFlags&6&&(c.flags|=8192)):Bn(c),p=c.updateQueue,p!==null&&vd(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048),o!==null&&C(kn),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),ma(on),Bn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Sr(o,c){switch(xe(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ma(on),Ve(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ie(c),null;case 13:if(Fi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));yt()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return C(vt),null;case 4:return Ve(),null;case 10:return ma(c.type),null;case 22:case 23:return Fi(c),cn(),o!==null&&C(kn),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ma(on),null;case 25:return null;default:return null}}function xo(o,c){switch(xe(c),c.tag){case 3:ma(on),Ve();break;case 26:case 27:case 5:Ie(c);break;case 4:Ve();break;case 13:Fi(c);break;case 19:C(vt);break;case 10:ma(c.type);break;case 22:case 23:Fi(c),cn(),o!==null&&C(kn);break;case 24:ma(on)}}function wo(o,c){try{var p=c.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&o)===o){b=void 0;var A=p.create,P=p.inst;b=A(),P.destroy=b}p=p.next}while(p!==w)}}catch(Z){ln(c,c.return,Z)}}function Qi(o,c,p){try{var b=c.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var A=w.next;b=A;do{if((b.tag&o)===o){var P=b.inst,Z=P.destroy;if(Z!==void 0){P.destroy=void 0,w=c;var te=p,Ne=Z;try{Ne()}catch(Ue){ln(w,te,Ue)}}}b=b.next}while(b!==A)}}catch(Ue){ln(c,c.return,Ue)}}function mh(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{Sn(c,p)}catch(b){ln(o,o.return,b)}}}function vh(o,c,p){p.props=Tl(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(b){ln(o,c,b)}}function Ol(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var b=Do(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof p=="function"?o.refCleanup=p(b):p.current=b}}catch(w){ln(o,c,w)}}function pi(o,c){var p=o.ref,b=o.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(w){ln(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(w){ln(o,c,w)}else p.current=null}function Nl(o){var c=o.type,p=o.memoizedProps,b=o.stateNode;try{Ph(b,c,p,o)}catch(w){ln(o,o.return,w)}}function Pu(o,c,p){try{ip(o.stateNode,o.type,p,c,o)}catch(b){ln(o,o.return,b)}}function Eo(o){return o.tag===5||o.tag===3||(Xa?o.tag===26:!1)||(Pt?o.tag===27&&Yl(o.type):!1)||o.tag===4}function Bu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Eo(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(Pt&&o.tag===27&&Yl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yd(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?lp(p,o,c):ap(p,o);else if(b!==4&&(Pt&&b===27&&Yl(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(yd(o,c,p),o=o.sibling;o!==null;)yd(o,c,p),o=o.sibling}function mi(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?sp(p,o,c):np(p,o);else if(b!==4&&(Pt&&b===27&&Yl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(mi(o,c,p),o=o.sibling;o!==null;)mi(o,c,p),o=o.sibling}function Ml(o,c,p){o=o.containerInfo;try{Gh(o,p)}catch(b){ln(c,c.return,b)}}function bd(o){var c=o.stateNode,p=o.memoizedProps;try{Wh(o.type,p,c,o)}catch(b){ln(o,o.return,b)}}function qg(o,c){for(Bs(o.containerInfo),Dt=c;Dt!==null;)if(o=Dt,c=o.child,(o.subtreeFlags&1024)!==0&&c!==null)c.return=o,Dt=c;else for(;Dt!==null;){o=Dt;var p=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&p!==null){c=void 0;var b=o,w=p.memoizedProps;p=p.memoizedState;var A=b.stateNode;try{var P=Tl(b.type,w,b.elementType===b.type);c=A.getSnapshotBeforeUpdate(P,p),A.__reactInternalSnapshotBeforeUpdate=c}catch(Z){ln(b,b.return,Z)}}break;case 3:(c&1024)!==0&&Bt&&kd(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=o.sibling,c!==null){c.return=o.return,Dt=c;break}Dt=o.return}}function Os(o,c,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:$i(o,p),b&4&&wo(5,p);break;case 1:if($i(o,p),b&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(P){ln(p,p.return,P)}else{var w=Tl(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){ln(p,p.return,P)}}b&64&&mh(p),b&512&&Ol(p,p.return);break;case 3:if($i(o,p),b&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=Do(p.child.stateNode);break;case 1:c=p.child.stateNode}try{Sn(o,c)}catch(P){ln(p,p.return,P)}}break;case 27:Pt&&c===null&&b&4&&bd(p);case 26:case 5:$i(o,p),c===null&&b&4&&Nl(p),b&512&&Ol(p,p.return);break;case 12:$i(o,p);break;case 13:$i(o,p),b&4&&Vg(o,p),b&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=za.bind(null,p),Yh(o,p))));break;case 22:if(b=p.memoizedState!==null||La,!b){c=c!==null&&c.memoizedState!==null||Cn,w=La;var A=Cn;La=b,(Cn=c)&&!A?na(o,p,(p.subtreeFlags&8772)!==0):$i(o,p),La=w,Cn=A}break;case 30:break;default:$i(o,p)}}function yh(o){var c=o.alternate;c!==null&&(o.alternate=null,yh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ur(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function jr(o,c,p){for(p=p.child;p!==null;)_d(o,c,p),p=p.sibling}function _d(o,c,p){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(qs,p)}catch{}switch(p.tag){case 26:if(Xa){Cn||pi(p,c),jr(o,c,p),p.memoizedState?Qh(p.memoizedState):p.stateNode&&Er(p.stateNode);break}case 27:if(Pt){Cn||pi(p,c);var b=_n,w=Wn;Yl(p.type)&&(_n=p.stateNode,Wn=!1),jr(o,c,p),Bd(p.stateNode),_n=b,Wn=w;break}case 5:Cn||pi(p,c);case 6:if(Bt){if(b=_n,w=Wn,_n=null,jr(o,c,p),_n=b,Wn=w,_n!==null)if(Wn)try{up(_n,p.stateNode)}catch(A){ln(p,c,A)}else try{op(_n,p.stateNode)}catch(A){ln(p,c,A)}}else jr(o,c,p);break;case 18:Bt&&_n!==null&&(Wn?Cp(_n,p.stateNode):Pd(_n,p.stateNode));break;case 4:Bt?(b=_n,w=Wn,_n=p.stateNode.containerInfo,Wn=!0,jr(o,c,p),_n=b,Wn=w):(Ci&&Ml(p.stateNode,p,Bh()),jr(o,c,p));break;case 0:case 11:case 14:case 15:Cn||Qi(2,p,c),Cn||Qi(4,p,c),jr(o,c,p);break;case 1:Cn||(pi(p,c),b=p.stateNode,typeof b.componentWillUnmount=="function"&&vh(p,c,b)),jr(o,c,p);break;case 21:jr(o,c,p);break;case 22:Cn=(b=Cn)||p.memoizedState!==null,jr(o,c,p),Cn=b;break;default:jr(o,c,p)}}function Vg(o,c){if(or&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ep(o)}catch(p){ln(c,c.return,p)}}function Qv(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Di),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Di),c;default:throw Error(i(435,o.tag))}}function bh(o,c){var p=Qv(o);c.forEach(function(b){var w=Rd.bind(null,o,b);p.has(b)||(p.add(b),b.then(w,w))})}function Na(o,c){var p=c.deletions;if(p!==null)for(var b=0;b<p.length;b++){var w=p[b],A=o,P=c;if(Bt){var Z=P;e:for(;Z!==null;){switch(Z.tag){case 27:if(Pt){if(Yl(Z.type)){_n=Z.stateNode,Wn=!1;break e}break}case 5:_n=Z.stateNode,Wn=!1;break e;case 3:case 4:_n=Z.stateNode.containerInfo,Wn=!0;break e}Z=Z.return}if(_n===null)throw Error(i(160));_d(A,P,w),_n=null,Wn=!1}else _d(A,P,w);A=w.alternate,A!==null&&(A.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)_h(c,o),c=c.sibling}function _h(o,c){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Na(c,o),Ma(o),b&4&&(Qi(3,o,o.return),wo(3,o),Qi(5,o,o.return));break;case 1:Na(c,o),Ma(o),b&512&&(Cn||p===null||pi(p,p.return)),b&64&&La&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:if(Xa){var w=Rr;if(Na(c,o),Ma(o),b&512&&(Cn||p===null||pi(p,p.return)),b&4){b=p!==null?p.memoizedState:null;var A=o.memoizedState;p===null?A===null?o.stateNode===null?o.stateNode=Lo(w,o.type,o.memoizedProps,o):$h(w,o.type,o.stateNode):o.stateNode=Fh(w,A,o.memoizedProps):b!==A?(b===null?p.stateNode!==null&&Er(p.stateNode):Qh(b),A===null?$h(w,o.type,o.stateNode):Fh(w,A,o.memoizedProps)):A===null&&o.stateNode!==null&&Pu(o,o.memoizedProps,p.memoizedProps)}break}case 27:if(Pt){Na(c,o),Ma(o),b&512&&(Cn||p===null||pi(p,p.return)),p!==null&&b&4&&Pu(o,o.memoizedProps,p.memoizedProps);break}case 5:if(Na(c,o),Ma(o),b&512&&(Cn||p===null||pi(p,p.return)),Bt){if(o.flags&32){w=o.stateNode;try{cp(w)}catch(Ue){ln(o,o.return,Ue)}}b&4&&o.stateNode!=null&&(w=o.memoizedProps,Pu(o,w,p!==null?p.memoizedProps:w)),b&1024&&(bc=!0)}break;case 6:if(Na(c,o),Ma(o),b&4&&Bt){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,p=p!==null?p.memoizedProps:b,w=o.stateNode;try{rp(w,p,b)}catch(Ue){ln(o,o.return,Ue)}}break;case 3:if(Xa?(Gs(),w=Rr,Rr=Vl(c.containerInfo),Na(c,o),Rr=w):Na(c,o),Ma(o),b&4){if(Bt&&or&&p!==null&&p.memoizedState.isDehydrated)try{wp(c.containerInfo)}catch(Ue){ln(o,o.return,Ue)}if(Ci){b=c.containerInfo,p=c.pendingChildren;try{Gh(b,p)}catch(Ue){ln(o,o.return,Ue)}}}bc&&(bc=!1,zr(o));break;case 4:Xa?(p=Rr,Rr=Vl(o.stateNode.containerInfo),Na(c,o),Ma(o),Rr=p):(Na(c,o),Ma(o)),b&4&&Ci&&Ml(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Na(c,o),Ma(o);break;case 13:Na(c,o),Ma(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Fd=vn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,bh(o,b)));break;case 22:w=o.memoizedState!==null;var P=p!==null&&p.memoizedState!==null,Z=La,te=Cn;if(La=Z||w,Cn=te||P,Na(c,o),Cn=te,La=Z,Ma(o),b&8192&&(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(p===null||P||La||Cn||la(o)),Bt)){e:if(p=null,Bt)for(c=o;;){if(c.tag===5||Xa&&c.tag===26){if(p===null){P=p=c;try{A=P.stateNode,w?dp(A):zd(P.stateNode,P.memoizedProps)}catch(Ue){ln(P,P.return,Ue)}}}else if(c.tag===6){if(p===null){P=c;try{var Ne=P.stateNode;w?ko(Ne):fp(Ne,P.memoizedProps)}catch(Ue){ln(P,P.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=o.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,bh(o,p))));break;case 19:Na(c,o),Ma(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,bh(o,b)));break;case 30:break;case 21:break;default:Na(c,o),Ma(o)}}function Ma(o){var c=o.flags;if(c&2){try{if(Bt){for(var p,b=o.return;b!==null;){if(Eo(b)){p=b;break}b=b.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:if(Pt){var w=p.stateNode,A=Bu(o);mi(o,A,w);break}case 5:var P=p.stateNode;p.flags&32&&(cp(P),p.flags&=-33);var Z=Bu(o);mi(o,Z,P);break;case 3:case 4:var te=p.stateNode.containerInfo,Ne=Bu(o);yd(o,Ne,te);break;default:throw Error(i(161))}}}catch(Ue){ln(o,o.return,Ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function zr(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;zr(c),c.tag===5&&c.flags&1024&&kh(c.stateNode),o=o.sibling}}function $i(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Os(o,c.alternate,c),c=c.sibling}function la(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Qi(4,c,c.return),la(c);break;case 1:pi(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&vh(c,c.return,p),la(c);break;case 27:Pt&&Bd(c.stateNode);case 26:case 5:pi(c,c.return),la(c);break;case 22:c.memoizedState===null&&la(c);break;case 30:la(c);break;default:la(c)}o=o.sibling}}function na(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,w=o,A=c,P=A.flags;switch(A.tag){case 0:case 11:case 15:na(w,A,p),wo(4,A);break;case 1:if(na(w,A,p),b=A,w=b.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ne){ln(b,b.return,Ne)}if(b=A,w=b.updateQueue,w!==null){var Z=b.stateNode;try{var te=w.shared.hiddenCallbacks;if(te!==null)for(w.shared.hiddenCallbacks=null,w=0;w<te.length;w++)sn(te[w],Z)}catch(Ne){ln(b,b.return,Ne)}}p&&P&64&&mh(A),Ol(A,A.return);break;case 27:Pt&&bd(A);case 26:case 5:na(w,A,p),p&&b===null&&P&4&&Nl(A),Ol(A,A.return);break;case 12:na(w,A,p);break;case 13:na(w,A,p),p&&P&4&&Vg(w,A);break;case 22:A.memoizedState===null&&na(w,A,p),Ol(A,A.return);break;case 30:break;default:na(w,A,p)}c=c.sibling}}function Ns(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ye(p))}function Hu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o))}function xr(o,c,p,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Gu(o,c,p,b),c=c.sibling}function Gu(o,c,p,b){var w=c.flags;switch(c.tag){case 0:case 11:case 15:xr(o,c,p,b),w&2048&&wo(9,c);break;case 1:xr(o,c,p,b);break;case 3:xr(o,c,p,b),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o)));break;case 12:if(w&2048){xr(o,c,p,b),o=c.stateNode;try{var A=c.memoizedProps,P=A.id,Z=A.onPostCommit;typeof Z=="function"&&Z(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(te){ln(c,c.return,te)}}else xr(o,c,p,b);break;case 13:xr(o,c,p,b);break;case 23:break;case 22:A=c.stateNode,P=c.alternate,c.memoizedState!==null?A._visibility&2?xr(o,c,p,b):vi(o,c):A._visibility&2?xr(o,c,p,b):(A._visibility|=2,Ms(o,c,p,b,(c.subtreeFlags&10256)!==0)),w&2048&&Ns(P,c);break;case 24:xr(o,c,p,b),w&2048&&Hu(c.alternate,c);break;default:xr(o,c,p,b)}}function Ms(o,c,p,b,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,P=c,Z=p,te=b,Ne=P.flags;switch(P.tag){case 0:case 11:case 15:Ms(A,P,Z,te,w),wo(8,P);break;case 23:break;case 22:var Ue=P.stateNode;P.memoizedState!==null?Ue._visibility&2?Ms(A,P,Z,te,w):vi(A,P):(Ue._visibility|=2,Ms(A,P,Z,te,w)),w&&Ne&2048&&Ns(P.alternate,P);break;case 24:Ms(A,P,Z,te,w),w&&Ne&2048&&Hu(P.alternate,P);break;default:Ms(A,P,Z,te,w)}c=c.sibling}}function vi(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,b=c,w=b.flags;switch(b.tag){case 22:vi(p,b),w&2048&&Ns(b.alternate,b);break;case 24:vi(p,b),w&2048&&Hu(b.alternate,b);break;default:vi(p,b)}c=c.sibling}}function Ds(o){if(o.subtreeFlags&Sa)for(o=o.child;o!==null;)qu(o),o=o.sibling}function qu(o){switch(o.tag){case 26:Ds(o),o.flags&Sa&&(o.memoizedState!==null?is(Rr,o.memoizedState,o.memoizedProps):nc(o.type,o.memoizedProps));break;case 5:Ds(o),o.flags&Sa&&nc(o.type,o.memoizedProps);break;case 3:case 4:if(Xa){var c=Rr;Rr=Vl(o.stateNode.containerInfo),Ds(o),Rr=c}else Ds(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Sa,Sa=16777216,Ds(o),Sa=c):Ds(o));break;default:Ds(o)}}function Dl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Vu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Dt=b,yi(b,o)}Dl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ir(o),o=o.sibling}function ir(o){switch(o.tag){case 0:case 11:case 15:Vu(o),o.flags&2048&&Qi(9,o,o.return);break;case 3:Vu(o);break;case 12:Vu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Co(o)):Vu(o);break;default:Vu(o)}}function Co(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Dt=b,yi(b,o)}Dl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Qi(8,c,c.return),Co(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Co(c));break;default:Co(c)}o=o.sibling}}function yi(o,c){for(;Dt!==null;){var p=Dt;switch(p.tag){case 0:case 11:case 15:Qi(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ye(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Dt=b;else e:for(p=o;Dt!==null;){b=Dt;var w=b.sibling,A=b.return;if(yh(b),b===p){Dt=null;break e}if(w!==null){w.return=A,Dt=w;break e}Dt=A}}}function Sd(o){var c=Fg(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(i(364));return c}if(o=Wg(o),o===null)throw Error(i(362));return o.stateNode.current}function To(o,c){var p=o.tag;switch(c.$$typeof){case $s:if(o.type===c.value)return!0;break;case xa:e:{for(c=c.value,o=[o,0],p=0;p<o.length;){var b=o[p++],w=b.tag,A=o[p++],P=c[A];if(w!==5&&w!==26&&w!==27||!zo(b)){for(;P!=null&&To(b,P);)A++,P=c[A];if(A===c.length){c=!0;break e}else for(b=b.child;b!==null;)o.push(b,A),b=b.sibling}}c=!1}return c;case Io:if((p===5||p===26||p===27)&&Lh(o.stateNode,c.value))return!0;break;case Fl:if((p===5||p===6||p===26||p===27)&&(o=ep(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case Xo:if((p===5||p===26||p===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Wi(o){switch(o.$$typeof){case $s:return"<"+(_(o.value)||"Unknown")+">";case xa:return":has("+(Wi(o)||"")+")";case Io:return'[role="'+o.value+'"]';case Fl:return'"'+o.value+'"';case Xo:return'[data-testname="'+o.value+'"]';default:throw Error(i(365))}}function xd(o,c){var p=[];o=[o,0];for(var b=0;b<o.length;){var w=o[b++],A=w.tag,P=o[b++],Z=c[P];if(A!==5&&A!==26&&A!==27||!zo(w)){for(;Z!=null&&To(w,Z);)P++,Z=c[P];if(P===c.length)p.push(w);else for(w=w.child;w!==null;)o.push(w,P),w=w.sibling}}return p}function Yu(o,c){if(!jo)throw Error(i(363));o=Sd(o),o=xd(o,c),c=[],o=Array.from(o);for(var p=0;p<o.length;){var b=o[p++],w=b.tag;if(w===5||w===26||w===27)zo(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return c}function oa(){if((dt&2)!==0&&jt!==0)return jt&-jt;if(ct.T!==null){var o=wn;return o!==0?o:va()}return Dh()}function jl(){Hr===0&&(Hr=(jt&536870912)===0||Xt?U():536870912);var o=Br.current;return o!==null&&(o.flags|=32),Hr}function Da(o,c,p){(o===Qt&&(un===2||un===9)||o.cancelPendingCommit!==null)&&(Ur(o,0),sr(o,jt,Hr,!1)),Y(o,p),((dt&2)===0||o!==Qt)&&(o===Qt&&((dt&2)===0&&(el|=p),Gn===4&&sr(o,jt,Hr,!1)),$e(o))}function Zu(o,c,p){if((dt&6)!==0)throw Error(i(327));var b=!p&&(c&124)===0&&(c&o.expiredLanes)===0||j(o,c),w=b?_i(o,c):Ft(o,c,!0),A=b;do{if(w===0){ji&&!b&&sr(o,c,0,!1);break}else{if(p=o.current.alternate,A&&!kr(p)){w=Ft(o,c,!1),A=!1;continue}if(w===2){if(A=c,o.errorRecoveryDisabledLanes&A)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var Z=o;w=tl;var te=or&&Z.current.memoizedState.isDehydrated;if(te&&(Ur(Z,P).flags|=256),P=Ft(Z,P,!1),P!==2){if(_c&&!te){Z.errorRecoveryDisabledLanes|=A,el|=A,w=4;break e}A=Pa,Pa=w,A!==null&&(Pa===null?Pa=A:Pa.push.apply(Pa,A))}w=P}if(A=!1,w!==2)continue}}if(w===1){Ur(o,0),sr(o,c,0,!0);break}e:{switch(b=o,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:sr(b,c,Hr,!ds);break e;case 2:Pa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(w=Fd+300-vn(),10<w)){if(sr(b,c,Hr,!ds),M(b,0,!0)!==0)break e;b.timeoutHandle=Dd(wr.bind(null,b,p,Pa,Sc,nl,c,Hr,el,Or,ds,A,2,-0,0),w);break e}wr(b,p,Pa,Sc,nl,c,Hr,el,Or,ds,A,0,-0,0)}}break}while(!0);$e(o)}function wr(o,c,p,b,w,A,P,Z,te,Ne,Ue,Ze,Xe,At){if(o.timeoutHandle=Pr,Ze=c.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(tc(),qu(c),Ze=zh(),Ze!==null)){o.cancelPendingCommit=Ze(Eh.bind(null,o,c,A,p,b,w,P,Z,te,Ue,1,Xe,At)),sr(o,A,P,!Ne);return}Eh(o,c,A,p,b,w,P,Z,te)}function kr(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var w=p[b],A=w.getSnapshot;w=w.value;try{if(!Cr(A(),w))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function sr(o,c,p,b){c&=~Kd,c&=~el,o.suspendedLanes|=c,o.pingedLanes&=~c,b&&(o.warmLanes|=c),b=o.expirationTimes;for(var w=c;0<w;){var A=31-dr(w),P=1<<A;b[A]=-1,w&=~P}p!==0&&ae(o,p,c)}function bi(){return(dt&6)===0?(bt(0),!1):!0}function $r(){if(Et!==null){if(un===0)var o=Et.return;else o=Et,ka=ni=null,Oa(o),Ni=null,Yo=0,o=Et;for(;o!==null;)xo(o.alternate,o),o=o.return;Et=null}}function Ur(o,c){var p=o.timeoutHandle;p!==Pr&&(o.timeoutHandle=Pr,ec(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),$r(),Qt=o,Et=p=Ji(o.current,null),jt=c,un=0,Wa=null,ds=!1,ji=j(o,c),_c=!1,Or=Hr=Kd=el=Jn=Gn=0,Pa=tl=null,nl=!1,(c&8)!==0&&(c|=c&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=c;0<b;){var w=31-dr(b),A=1<<w;c|=o[w],b&=~A}return Zn=c,bl(),p}function Sh(o,c){Rt=null,ct.H=Qs,c===qo||c===bn?(c=Vi(),un=3):c===Xd?(c=Vi(),un=4):un=c===Yt?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Wa=c,Et===null&&(Gn=1,od(o,K(c,o.current)))}function wd(){var o=Br.current;return o===null?!0:(jt&4194048)===jt?Mi===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Mi:!1}function Ed(){var o=ct.H;return ct.H=Qs,o===null?Qs:o}function ja(){var o=ct.A;return ct.A=Zo,o}function zn(){Gn=4,ds||(jt&4194048)!==jt&&Br.current!==null||(ji=!0),(Jn&134217727)===0&&(el&134217727)===0||Qt===null||sr(Qt,jt,Hr,!1)}function Ft(o,c,p){var b=dt;dt|=2;var w=Ed(),A=ja();(Qt!==o||jt!==c)&&(Sc=null,Ur(o,c)),c=!1;var P=Gn;e:do try{if(un!==0&&Et!==null){var Z=Et,te=Wa;switch(un){case 8:$r(),P=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(c=!0);var Ne=un;if(un=0,Wa=null,kl(o,Z,te,Ne),p&&ji){P=0;break e}break;default:Ne=un,un=0,Wa=null,kl(o,Z,te,Ne)}}zl(),P=Gn;break}catch(Ue){Sh(o,Ue)}while(!0);return c&&o.shellSuspendCounter++,ka=ni=null,dt=b,ct.H=w,ct.A=A,Et===null&&(Qt=null,jt=0,bl()),P}function zl(){for(;Et!==null;)js(Et)}function _i(o,c){var p=dt;dt|=2;var b=Ed(),w=ja();Qt!==o||jt!==c?(Sc=null,Ko=vn()+500,Ur(o,c)):ji=j(o,c);e:do try{if(un!==0&&Et!==null){c=Et;var A=Wa;t:switch(un){case 1:un=0,Wa=null,kl(o,c,A,1);break;case 2:case 9:if(ta(A)){un=0,Wa=null,wh(c);break}c=function(){un!==2&&un!==9||Qt!==o||(un=7),$e(o)},A.then(c,c);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:ta(A)?(un=0,Wa=null,wh(c)):(un=0,Wa=null,kl(o,c,A,7));break;case 5:var P=null;switch(Et.tag){case 26:P=Et.memoizedState;case 5:case 27:var Z=Et,te=Z.type,Ne=Z.pendingProps;if(P?rs(P):jd(te,Ne)){un=0,Wa=null;var Ue=Z.sibling;if(Ue!==null)Et=Ue;else{var Ze=Z.return;Ze!==null?(Et=Ze,zs(Ze)):Et=null}break t}}un=0,Wa=null,kl(o,c,A,5);break;case 6:un=0,Wa=null,kl(o,c,A,6);break;case 8:$r(),Gn=6;break e;default:throw Error(i(462))}}xh();break}catch(Xe){Sh(o,Xe)}while(!0);return ka=ni=null,ct.H=b,ct.A=w,dt=p,Et!==null?0:(Qt=null,jt=0,bl(),Gn)}function xh(){for(;Et!==null&&!n1();)js(Et)}function js(o){var c=ku(o.alternate,o,Zn);o.memoizedProps=o.pendingProps,c===null?zs(o):Et=c}function wh(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=Bg(p,c,c.pendingProps,c.type,void 0,jt);break;case 11:c=Bg(p,c,c.pendingProps,c.type.render,c.ref,jt);break;case 5:Oa(c);default:xo(p,c),c=Et=Kn(c,Zn),c=ku(p,c,Zn)}o.memoizedProps=o.pendingProps,c===null?zs(o):Et=c}function kl(o,c,p,b){ka=ni=null,Oa(c),Ni=null,Yo=0;var w=c.return;try{if(Xv(o,w,c,p,jt)){Gn=1,od(o,K(p,o.current)),Et=null;return}}catch(A){if(w!==null)throw Et=w,A;Gn=1,od(o,K(p,o.current)),Et=null;return}c.flags&32768?(Xt||b===1?o=!0:ji||(jt&536870912)!==0?o=!1:(ds=o=!0,(b===2||b===9||b===3||b===6)&&(b=Br.current,b!==null&&b.tag===13&&(b.flags|=16384))),Ao(c,o)):zs(c)}function zs(o){var c=o;do{if((c.flags&32768)!==0){Ao(c,ds);return}o=c.return;var p=Fv(c.alternate,c,Zn);if(p!==null){Et=p;return}if(c=c.sibling,c!==null){Et=c;return}Et=c=o}while(c!==null);Gn===0&&(Gn=5)}function Ao(o,c){do{var p=Sr(o.alternate,o);if(p!==null){p.flags&=32767,Et=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Et=o;return}Et=o=p}while(o!==null);Gn=6,Et=null}function Eh(o,c,p,b,w,A,P,Z,te){o.cancelPendingCommit=null;do Lr();while(aa!==0);if((dt&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=a0,Q(o,p,A,P,Z,te),o===Qt&&(Et=Qt=null,jt=0),Fo=c,al=o,Qo=p,Qd=A,$d=w,Ql=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Yg(qd,function(){return xi(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=ct.T,ct.T=null,w=Jr(),ua(2),P=dt,dt|=4;try{qg(o,c,p)}finally{dt=P,ua(w),ct.T=b}}aa=1,Ro(),Cd(),ks()}}function Ro(){if(aa===1){aa=0;var o=al,c=Fo,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ct.T,ct.T=null;var b=Jr();ua(2);var w=dt;dt|=4;try{_h(c,o),Mt(o.containerInfo)}finally{dt=w,ua(b),ct.T=p}}o.current=c,aa=2}}function Cd(){if(aa===2){aa=0;var o=al,c=Fo,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ct.T,ct.T=null;var b=Jr();ua(2);var w=dt;dt|=4;try{Os(o,c.alternate,c)}finally{dt=w,ua(b),ct.T=p}}aa=3}}function ks(){if(aa===4||aa===3){aa=0,Rp();var o=al,c=Fo,p=Qo,b=Ql;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?aa=5:(aa=0,Fo=al=null,Si(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(zi=null),ie(p),c=c.stateNode,Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(qs,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=ct.T,w=Jr(),ua(2),ct.T=null;try{for(var A=o.onRecoverableError,P=0;P<b.length;P++){var Z=b[P];A(Z.value,{componentStack:Z.stack})}}finally{ct.T=c,ua(w)}}(Qo&3)!==0&&Lr(),$e(o),w=o.pendingLanes,(p&4194090)!==0&&(w&42)!==0?o===Wd?rl++:(rl=0,Wd=o):rl=0,bt(0)}}function Si(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ye(c)))}function Lr(o){return Ro(),Cd(),ks(),xi()}function xi(){if(aa!==5)return!1;var o=al,c=Qd;Qd=0;var p=ie(Qo),b=32>p?32:p;p=ct.T;var w=Jr();try{ua(b),ct.T=null,b=$d,$d=null;var A=al,P=Qo;if(aa=0,Fo=al=null,Qo=0,(dt&6)!==0)throw Error(i(331));var Z=dt;if(dt|=4,ir(A.current),Gu(A,A.current,P,b),dt=Z,bt(0,!1),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(qs,A)}catch{}return!0}finally{ua(w),ct.T=p,Si(o,c)}}function Td(o,c,p){c=K(p,c),c=ud(o.stateNode,c,2),o=We(o,c,2),o!==null&&(Y(o,2),$e(o))}function ln(o,c,p){if(o.tag===3)Td(o,o,p);else for(;c!==null;){if(c.tag===3){Td(c,o,p);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(zi===null||!zi.has(b))){o=K(p,o),p=Dg(2),b=We(c,p,2),b!==null&&(jg(p,b,c,o),Y(b,2),$e(b));break}}c=c.return}}function Ul(o,c,p){var b=o.pingCache;if(b===null){b=o.pingCache=new Js;var w=new Set;b.set(c,w)}else w=b.get(c),w===void 0&&(w=new Set,b.set(c,w));w.has(p)||(_c=!0,w.add(p),o=Ad.bind(null,o,c,p),c.then(o,o))}function Ad(o,c,p){var b=o.pingCache;b!==null&&b.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Qt===o&&(jt&p)===p&&(Gn===4||Gn===3&&(jt&62914560)===jt&&300>vn()-Fd?(dt&2)===0&&Ur(o,0):Kd|=p,Or===jt&&(Or=0)),$e(o)}function Us(o,c){c===0&&(c=H()),o=oe(o,c),o!==null&&(Y(o,c),$e(o))}function za(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),Us(o,p)}function Rd(o,c){var p=0;switch(o.tag){case 13:var b=o.stateNode,w=o.memoizedState;w!==null&&(p=w.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),Us(o,p)}function Yg(o,c){return cc(o,c)}function $v(o,c,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ch(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ji(o,c){var p=o.alternate;return p===null?(p=n(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Kn(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Oo(o,c,p,b,w,A){var P=0;if(b=o,typeof o=="function")Ch(o)&&(P=1);else if(typeof o=="string")P=Xa&&Pt?sc(o,p,On.current)?26:Jh(o)?27:5:Xa?sc(o,p,On.current)?26:5:Pt&&Jh(o)?27:5;else e:switch(o){case ql:return o=n(31,p,c,w),o.elementType=ql,o.lanes=A,o;case Gl:return Wr(p.children,w,A,c);case Xu:P=8,w|=24;break;case Nd:return o=n(12,p,c,w|2),o.elementType=Nd,o.lanes=A,o;case Fu:return o=n(13,p,c,w),o.elementType=Fu,o.lanes=A,o;case Qu:return o=n(19,p,c,w),o.elementType=Qu,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ku:case ts:P=10;break e;case Rh:P=9;break e;case wi:P=11;break e;case Ei:P=14;break e;case Ia:P=16,b=null;break e}P=29,p=Error(i(130,o===null?"null":typeof o,"")),b=null}return c=n(P,p,c,w),c.elementType=o,c.type=b,c.lanes=A,c}function Wr(o,c,p,b){return o=n(7,o,b,c),o.lanes=p,o}function Ll(o,c,p){return o=n(6,o,null,c),o.lanes=p,o}function Iu(o,c,p){return c=n(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function No(o,c,p,b,w,A,P,Z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=b,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Pl(o,c,p,b,w,A,P,Z,te,Ne,Ue,Ze){return o=new No(o,c,p,P,Z,te,Ne,Ze),c=1,A===!0&&(c|=24),A=n(3,null,null,c),o.current=A,A.stateNode=o,c=ze(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:b,isDehydrated:p,cache:c},et(A),o}function Zg(o){return o?(o=Zl,o):Zl}function Th(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=f(c),o=o!==null?g(o):null,o===null?null:Do(o.stateNode)}function Ig(o,c,p,b,w,A){w=Zg(w),b.context===null?b.context=w:b.pendingContext=w,b=Ke(c),b.payload={element:p},A=A===void 0?null:A,A!==null&&(b.callback=A),p=We(o,b,c),p!==null&&(Da(p,o,c),st(p,o,c))}function Ah(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function es(o,c){Ah(o,c),(o=o.alternate)&&Ah(o,c)}var Nt={},Od=sg(),lr=f2(),Bl=Object.assign,Xg=Symbol.for("react.element"),Hl=Symbol.for("react.transitional.element"),Ls=Symbol.for("react.portal"),Gl=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),Ku=Symbol.for("react.provider"),Rh=Symbol.for("react.consumer"),ts=Symbol.for("react.context"),wi=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),Ei=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),ql=Symbol.for("react.activity"),Oh=Symbol.for("react.memo_cache_sentinel"),Md=Symbol.iterator,$u=Symbol.for("react.client.reference"),Ps=Array.isArray,ct=Od.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kg=e.rendererVersion,Mo=e.rendererPackageName,Wu=e.extraDevToolsConfig,Do=e.getPublicInstance,Nh=e.getRootHostContext,Mh=e.getChildHostContext,Bs=e.prepareForCommit,Mt=e.resetAfterCommit,mn=e.createInstance;e.cloneMutableInstance;var Vn=e.appendInitialChild,Ju=e.finalizeInitialChildren,ns=e.shouldSetTextContent,Hs=e.createTextInstance;e.cloneMutableTextInstance;var Dd=e.scheduleTimeout,ec=e.cancelTimeout,Pr=e.noTimeout,as=e.isPrimaryRenderer;e.warnsIfNotActing;var Bt=e.supportsMutation,Ci=e.supportsPersistence,or=e.supportsHydration,Fg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Qg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ua=e.setCurrentUpdatePriority,Jr=e.getCurrentUpdatePriority,Dh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var jh=e.shouldAttemptEagerTransition,ur=e.detachDeletedInstance;e.requestPostPaintCallback;var Fn=e.maySuspendCommit,jd=e.preloadInstance,tc=e.startSuspendingCommit,nc=e.suspendInstance;e.suspendOnActiveViewTransition;var zh=e.waitForCommitToBeReady,cr=e.NotPendingTransition,Ti=e.HostTransitionContext,kh=e.resetFormInstance;e.bindToConsole;var Uh=e.supportsMicrotasks,$g=e.scheduleMicrotask,jo=e.supportsTestSelectors,Wg=e.findFiberRoot,Jg=e.getBoundingRect,ep=e.getTextContent,zo=e.isHiddenSubtree,Lh=e.matchAccessibilityRole,tp=e.setFocusIfFocusable,Wv=e.setupIntersectionObserver,np=e.appendChild,ap=e.appendChildToContainer,rp=e.commitTextUpdate,Ph=e.commitMount,ip=e.commitUpdate,sp=e.insertBefore,lp=e.insertInContainerBefore,op=e.removeChild,up=e.removeChildFromContainer,cp=e.resetTextContent,dp=e.hideInstance,ko=e.hideTextInstance,zd=e.unhideInstance,fp=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var kd=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var ac=e.cloneInstance,Bh=e.createContainerChildSet,Hh=e.appendChildToContainerChildSet,hp=e.finalizeContainerChildren,Gh=e.replaceContainerChildren,qh=e.cloneHiddenInstance,Vh=e.cloneHiddenTextInstance,rc=e.isSuspenseInstancePending,Ud=e.isSuspenseInstanceFallback,gp=e.getSuspenseInstanceFallbackErrorDetails,Yh=e.registerSuspenseInstanceRetry,pp=e.canHydrateFormStateMarker,mp=e.isFormStateMarkerMatching,vp=e.getNextHydratableSibling,Zh=e.getNextHydratableSiblingAfterSingleton,yp=e.getFirstHydratableChild,bp=e.getFirstHydratableChildWithinContainer,Ih=e.getFirstHydratableChildWithinSuspenseInstance,_p=e.getFirstHydratableChildWithinSingleton,Sp=e.canHydrateInstance,Jv=e.canHydrateTextInstance,e1=e.canHydrateSuspenseInstance,xp=e.hydrateInstance,ic=e.hydrateTextInstance,Xh=e.hydrateSuspenseInstance,Ld=e.getNextHydratableInstanceAfterSuspenseInstance,wp=e.commitHydratedContainer,Ep=e.commitHydratedSuspenseInstance,Pd=e.clearSuspenseBoundary,Cp=e.clearSuspenseBoundaryFromContainer,Kh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var t1=e.validateHydratableInstance,Uo=e.validateHydratableTextInstance,Xa=e.supportsResources,sc=e.isHostHoistableType,Vl=e.getHoistableRoot,lc=e.getResource,Fh=e.acquireResource,Qh=e.releaseResource,Lo=e.hydrateHoistable,$h=e.mountHoistable,Er=e.unmountHoistable,Ai=e.createHoistableInstance,Gs=e.prepareToCommitHoistables,Tp=e.mayResourceSuspendCommit,rs=e.preloadResource,is=e.suspendResource,Pt=e.supportsSingletons,oc=e.resolveSingletonInstance,Wh=e.acquireSingletonInstance,Bd=e.releaseSingletonInstance,Jh=e.isHostSingletonType,Yl=e.isSingletonScope,ss=[],ls=-1,Zl={},dr=Math.clz32?Math.clz32:R,Ap=Math.log,Hd=Math.LN2,uc=256,Po=4194304,cc=lr.unstable_scheduleCallback,Gd=lr.unstable_cancelCallback,n1=lr.unstable_shouldYield,Rp=lr.unstable_requestPaint,vn=lr.unstable_now,ca=lr.unstable_ImmediatePriority,Op=lr.unstable_UserBlockingPriority,qd=lr.unstable_NormalPriority,Np=lr.unstable_IdlePriority,Mp=lr.log,Dp=lr.unstable_setDisableYieldValue,qs=null,Ka=null,Vd,e0,Yd=!1,Zd=new WeakMap,Vs=[],Ys=0,dc=null,Bo=0,Fa=[],fr=0,Zs=null,ei=1,Ri="",On=S(null),Il=S(null),Is=S(null),fc=S(null),Hn=null,Qn=null,Xt=!1,ti=null,tn=!1,t0=Error(i(519)),Cr=typeof Object.is=="function"?Object.is:gn,hc=S(null),ni=null,ka=null,jp=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,b){o.push(b)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},zp=lr.unstable_scheduleCallback,gc=lr.unstable_NormalPriority,on={$$typeof:ts,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},pc=null,Xs=null,Id=!1,Ho=!1,mc=!1,os=0,Go=null,ai=0,wn=0,Ks=null,n0=ct.S;ct.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Mr(o,c),n0!==null&&n0(o,c)};var kn=S(null),a1=Object.prototype.hasOwnProperty,qo=Error(i(460)),Xd=Error(i(474)),bn=Error(i(542)),_a={then:function(){}},hr=null,Tr=[],Xl=0,a0=0,Oi=!1,Qa=!1,Ua=S(null),vc=S(0),$n=0,Rt=null,Vt=null,En=null,ri=!1,Fs=!1,us=!1,Ar=0,Vo=0,ii=null,yc=0,Qs={readContext:he,use:xn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},Kl={readContext:he,use:xn,useCallback:function(o,c){return ft().memoizedState=[o,c===void 0?null:c],o},useContext:he,useEffect:rh,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Ou(4194308,4,vo.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Ou(4194308,4,o,c)},useInsertionEffect:function(o,c){Ou(4,2,o,c)},useMemo:function(o,c){var p=ft();c=c===void 0?null:c;var b=o();if(us){ve(!0);try{o()}finally{ve(!1)}}return p.memoizedState=[b,c],b},useReducer:function(o,c,p){var b=ft();if(p!==void 0){var w=p(c);if(us){ve(!0);try{p(c)}finally{ve(!1)}}}else w=c;return b.memoizedState=b.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},b.queue=o,o=o.dispatch=lh.bind(null,Rt,o),[b.memoizedState,o]},useRef:function(o){var c=ft();return o={current:o},c.memoizedState=o},useState:function(o){o=$c(o);var c=o.queue,p=ad.bind(null,Rt,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Nu,useDeferredValue:function(o,c){var p=ft();return yo(p,o,c)},useTransition:function(){var o=$c(!1);return o=sh.bind(null,Rt,o.queue,!0,!1),ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var b=Rt,w=ft();if(Xt){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),Qt===null)throw Error(i(349));(jt&124)!==0||Wf(b,c,p)}w.memoizedState=p;var A={value:p,getSnapshot:c};return w.queue=A,rh(xg.bind(null,b,A,o),[o]),b.flags|=2048,Ts(9,Yi(),Ru.bind(null,b,A,p,c),null),p},useId:function(){var o=ft(),c=Qt.identifierPrefix;if(Xt){var p=Ri,b=ei;p=(b&~(1<<32-dr(b)-1)).toString(32)+p,c=""+c+"R"+p,p=Ar++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=yc++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Ii,useFormState:Jc,useActionState:Jc,useOptimistic:function(o){var c=ft();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=_o.bind(null,Rt,!0,p),p.dispatch=c,[o,c]},useMemoCache:Cs,useCacheRefresh:function(){return ft().memoizedState=Iv.bind(null,Rt)}},r0={readContext:he,use:xn,useCallback:Mu,useContext:he,useEffect:mo,useImperativeHandle:Zi,useInsertionEffect:gi,useLayoutEffect:nd,useMemo:ih,useReducer:ya,useRef:wl,useState:function(){return ya(yr)},useDebugValue:Nu,useDeferredValue:function(o,c){var p=Ut();return Du(p,Vt.memoizedState,o,c)},useTransition:function(){var o=ya(yr)[0],c=Ut().memoizedState;return[typeof o=="boolean"?o:Ya(o),c]},useSyncExternalStore:Au,useId:ju,useHostTransitionStatus:Ii,useFormState:wg,useActionState:wg,useOptimistic:function(o,c){var p=Ut();return Wc(p,Vt,o,c)},useMemoCache:Cs,useCacheRefresh:bo},kp={readContext:he,use:xn,useCallback:Mu,useContext:he,useEffect:mo,useImperativeHandle:Zi,useInsertionEffect:gi,useLayoutEffect:nd,useMemo:ih,useReducer:$f,useRef:wl,useState:function(){return $f(yr)},useDebugValue:Nu,useDeferredValue:function(o,c){var p=Ut();return Vt===null?yo(p,o,c):Du(p,Vt.memoizedState,o,c)},useTransition:function(){var o=$f(yr)[0],c=Ut().memoizedState;return[typeof o=="boolean"?o:Ya(o),c]},useSyncExternalStore:Au,useId:ju,useHostTransitionStatus:Ii,useFormState:td,useActionState:td,useOptimistic:function(o,c){var p=Ut();return Vt!==null?Wc(p,Vt,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:Cs,useCacheRefresh:bo},Ni=null,Yo=0,cs=Rg(!0),i0=Rg(!1),Br=S(null),Mi=null,vt=S(0),yn={enqueueSetState:function(o,c,p){o=o._reactInternals;var b=oa(),w=Ke(b);w.payload=c,p!=null&&(w.callback=p),c=We(o,w,b),c!==null&&(Da(c,o,b),st(c,o,b))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var b=oa(),w=Ke(b);w.tag=1,w.payload=c,p!=null&&(w.callback=p),c=We(o,w,b),c!==null&&(Da(c,o,b),st(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=oa(),b=Ke(p);b.tag=2,c!=null&&(b.callback=c),c=We(o,b,p),c!==null&&(Da(c,o,p),st(c,o,p))}},Lt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Yt=Error(i(461)),_t=!1,$a={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},La=!1,Cn=!1,bc=!1,Di=typeof WeakSet=="function"?WeakSet:Set,Dt=null,_n=null,Wn=!1,Rr=null,Sa=8192,Zo={getCacheForType:function(o){var c=he(on),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},$s=0,xa=1,Io=2,Xo=3,Fl=4;if(typeof Symbol=="function"&&Symbol.for){var Ws=Symbol.for;$s=Ws("selector.component"),xa=Ws("selector.has_pseudo_class"),Io=Ws("selector.role"),Xo=Ws("selector.test_id"),Fl=Ws("selector.text")}var Js=typeof WeakMap=="function"?WeakMap:Map,dt=0,Qt=null,Et=null,jt=0,un=0,Wa=null,ds=!1,ji=!1,_c=!1,Zn=0,Gn=0,Jn=0,el=0,Kd=0,Hr=0,Or=0,tl=null,Pa=null,nl=!1,Fd=0,Ko=1/0,Sc=null,zi=null,aa=0,al=null,Fo=null,Qo=0,Qd=0,$d=null,Ql=null,rl=0,Wd=null;return Nt.attemptContinuousHydration=function(o){if(o.tag===13){var c=oe(o,67108864);c!==null&&Da(c,o,67108864),es(o,67108864)}},Nt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=oa();c=Oe(c);var p=oe(o,c);p!==null&&Da(p,o,c),es(o,c)}},Nt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=O(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var p=1<<31-dr(c);o.entanglements[1]|=p,c&=~p}$e(o),(dt&6)===0&&(Ko=vn()+500,bt(0))}}break;case 13:c=oe(o,2),c!==null&&Da(c,o,2),bi(),es(o,2)}},Nt.batchedUpdates=function(o,c){return o(c)},Nt.createComponentSelector=function(o){return{$$typeof:$s,value:o}},Nt.createContainer=function(o,c,p,b,w,A,P,Z,te,Ne){return Pl(o,c,!1,null,p,b,A,P,Z,te,Ne,null)},Nt.createHasPseudoClassSelector=function(o){return{$$typeof:xa,value:o}},Nt.createHydrationContainer=function(o,c,p,b,w,A,P,Z,te,Ne,Ue,Ze,Xe){return o=Pl(p,b,!0,o,w,A,Z,te,Ne,Ue,Ze,Xe),o.context=Zg(null),p=o.current,b=oa(),b=Oe(b),w=Ke(b),w.callback=c??null,We(p,w,b),c=b,o.current.lanes=c,Y(o,c),$e(o),o},Nt.createPortal=function(o,c,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:b==null?null:""+b,children:o,containerInfo:c,implementation:p}},Nt.createRoleSelector=function(o){return{$$typeof:Io,value:o}},Nt.createTestNameSelector=function(o){return{$$typeof:Xo,value:o}},Nt.createTextSelector=function(o){return{$$typeof:Fl,value:o}},Nt.defaultOnCaughtError=function(o){console.error(o)},Nt.defaultOnRecoverableError=function(o){Lt(o)},Nt.defaultOnUncaughtError=function(o){Lt(o)},Nt.deferredUpdates=function(o){var c=ct.T,p=Jr();try{return ua(32),ct.T=null,o()}finally{ua(p),ct.T=c}},Nt.discreteUpdates=function(o,c,p,b,w){var A=ct.T,P=Jr();try{return ua(2),ct.T=null,o(c,p,b,w)}finally{ua(P),ct.T=A,dt===0&&(Ko=vn()+500)}},Nt.findAllNodes=Yu,Nt.findBoundingRects=function(o,c){if(!jo)throw Error(i(363));c=Yu(o,c),o=[];for(var p=0;p<c.length;p++)o.push(Jg(c[p]));for(c=o.length-1;0<c;c--){p=o[c];for(var b=p.x,w=b+p.width,A=p.y,P=A+p.height,Z=c-1;0<=Z;Z--)if(c!==Z){var te=o[Z],Ne=te.x,Ue=Ne+te.width,Ze=te.y,Xe=Ze+te.height;if(b>=Ne&&A>=Ze&&w<=Ue&&P<=Xe){o.splice(c,1);break}else if(b!==Ne||p.width!==te.width||Xe<A||Ze>P){if(!(A!==Ze||p.height!==te.height||Ue<b||Ne>w)){Ne>b&&(te.width+=Ne-b,te.x=b),Ue<w&&(te.width=w-Ne),o.splice(c,1);break}}else{Ze>A&&(te.height+=Ze-A,te.y=A),Xe<P&&(te.height=P-Ze),o.splice(c,1);break}}}return o},Nt.findHostInstance=Th,Nt.findHostInstanceWithNoPortals=function(o){return o=f(o),o=o!==null?m(o):null,o===null?null:Do(o.stateNode)},Nt.findHostInstanceWithWarning=function(o){return Th(o)},Nt.flushPassiveEffects=Lr,Nt.flushSyncFromReconciler=function(o){var c=dt;dt|=1;var p=ct.T,b=Jr();try{if(ua(2),ct.T=null,o)return o()}finally{ua(b),ct.T=p,dt=c,(dt&6)===0&&bt(0)}},Nt.flushSyncWork=bi,Nt.focusWithin=function(o,c){if(!jo)throw Error(i(363));for(o=Sd(o),c=xd(o,c),c=Array.from(c),o=0;o<c.length;){var p=c[o++],b=p.tag;if(!zo(p)){if((b===5||b===26||b===27)&&tp(p.stateNode))return!0;for(p=p.child;p!==null;)c.push(p),p=p.sibling}}return!1},Nt.getFindAllNodesFailureDescription=function(o,c){if(!jo)throw Error(i(363));var p=0,b=[];o=[Sd(o),0];for(var w=0;w<o.length;){var A=o[w++],P=A.tag,Z=o[w++],te=c[Z];if((P!==5&&P!==26&&P!==27||!zo(A))&&(To(A,te)&&(b.push(Wi(te)),Z++,Z>p&&(p=Z)),Z<c.length))for(A=A.child;A!==null;)o.push(A,Z),A=A.sibling}if(p<c.length){for(o=[];p<c.length;p++)o.push(Wi(c[p]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Nt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Do(o.child.stateNode);default:return o.child.stateNode}},Nt.injectIntoDevTools=function(){var o={bundleType:0,version:Kg,rendererPackageName:Mo,currentDispatcherRef:ct,reconcilerVersion:"19.1.0"};if(Wu!==null&&(o.rendererConfig=Wu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{qs=c.inject(o),Ka=c}catch{}o=!!c.checkDCE}}return o},Nt.isAlreadyRendering=function(){return(dt&6)!==0},Nt.observeVisibleRects=function(o,c,p,b){if(!jo)throw Error(i(363));o=Yu(o,c);var w=Wv(o,p,b).disconnect;return{disconnect:function(){w()}}},Nt.shouldError=function(){return null},Nt.shouldSuspend=function(){return!1},Nt.startHostTransition=function(o,c,p,b){if(o.tag!==5)throw Error(i(476));var w=Za(o).queue;sh(o,w,c,cr,p===null?a:function(){var A=Za(o).next.queue;return Xi(o,A,{},oa()),p(b)})},Nt.updateContainer=function(o,c,p,b){var w=c.current,A=oa();return Ig(w,A,o,c,p,b),A},Nt.updateContainerSync=function(o,c,p,b){return Ig(c.current,2,o,c,p,b),2},Nt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(iy)),iy.exports}var v5;function Zj(){return v5||(v5=1,ry.exports=Yj()),ry.exports}var Ij=Zj();const Xj=ig(Ij);var sy={exports:{}},Jl={};var y5;function Kj(){return y5||(y5=1,Jl.ConcurrentRoot=1,Jl.ContinuousEventPriority=8,Jl.DefaultEventPriority=32,Jl.DiscreteEventPriority=2,Jl.IdleEventPriority=268435456,Jl.LegacyRoot=0,Jl.NoEventPriority=0),Jl}var b5;function Fj(){return b5||(b5=1,sy.exports=Kj()),sy.exports}var Dv=Fj();const _5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let S5=!1,x5=!1;const uv=".react-konva-event",Qj=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,$j=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Wj={};function jv(t,e,n=Wj){if(!S5&&"zIndex"in e&&(console.warn($j),S5=!0),!x5&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn(Qj),x5=!0)}for(var l in n)if(!_5[l]){var u=l.slice(0,2)==="on",f=n[l]!==e[l];if(u&&f){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),t.off(g,n[l])}var m=!e.hasOwnProperty(l);m&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},S=!1;const C={};for(var l in e)if(!_5[l]){var u=l.slice(0,2)==="on",T=n[l]!==e[l];if(u&&T){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(C[g]=e[l])}!u&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(S=!0,_[l]=e[l])}S&&(t.setAttrs(_),Eu(t));for(var g in C)t.off(g+uv),t.on(g+uv,C[g])}function Eu(t){if(!qe.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var ly=f2();const cx={},Jj={};qf.Node.prototype._applyProps=jv;let dx=Dv.DefaultEventPriority;function ez(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Eu(t)}function tz(t,e,n){let a=qf[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=qf.Group);const i={},l={};for(var u in e)if(u!=="ref"){var f=u.slice(0,2)==="on";f?l[u]=e[u]:i[u]=e[u]}const g=new a(i);return jv(g,l),g}function nz(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function az(t,e,n){return!1}function rz(t){return t}function iz(){return null}function sz(){return null}function lz(t,e,n,a){return Jj}function oz(){}function uz(t){}function cz(t,e){return!1}function dz(){return cx}function fz(){return cx}const hz=setTimeout,gz=clearTimeout,pz=!0,mz=t=>{t()},vz=-1;function yz(t,e){return!1}const bz=!1,_z=!1,Sz=!0,xz=!1,wz=!1;function Ez(t,e){e.parent===t?e.moveToTop():t.add(e),Eu(t)}function Cz(t,e){e.parent===t?e.moveToTop():t.add(e),Eu(t)}function fx(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Eu(t)}function Tz(t,e,n){fx(t,e,n)}function Az(t,e){e.destroy(),e.off(uv),Eu(t)}function Rz(t,e){e.destroy(),e.off(uv),Eu(t)}function Oz(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Nz(t,e,n){}function Mz(t,e,n,a){jv(t,a,n)}function Dz(t){t.hide(),Eu(t)}function jz(t){}function zz(t,e){(e.visible==null||e.visible)&&t.show()}function kz(t,e){}function Uz(t){}function Lz(){}function Pz(){return Dv.DefaultEventPriority}function Bz(){}function Hz(){return null}function Gz(t){dx=t}function qz(){return dx}function Vz(){return Dv.DiscreteEventPriority}function Yz(){return!1}function Zz(){}function Iz(){return!1}function Xz(){return!0}function Kz(){}function Fz(){}function Qz(){return null}const $z=null;function Wz(){}const Jz=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:$z,appendChild:Ez,appendChildToContainer:Cz,appendInitialChild:ez,cancelTimeout:gz,clearContainer:Uz,commitMount:Nz,commitTextUpdate:Oz,commitUpdate:Mz,createInstance:tz,createTextInstance:nz,detachDeletedInstance:Lz,finalizeInitialChildren:az,getChildHostContext:fz,getCurrentEventPriority:Pz,getCurrentUpdatePriority:qz,getInstanceFromScope:Hz,getPublicInstance:rz,getRootHostContext:dz,hideInstance:Dz,hideTextInstance:jz,idlePriority:ly.unstable_IdlePriority,insertBefore:fx,insertInContainerBefore:Tz,isPrimaryRenderer:bz,maySuspendCommit:Iz,noTimeout:vz,now:ly.unstable_now,preloadInstance:Xz,prepareForCommit:iz,preparePortalMount:sz,prepareScopeUpdate:Bz,prepareUpdate:lz,removeChild:Az,removeChildFromContainer:Rz,requestPostPaintCallback:Zz,resetAfterCommit:oz,resetFormInstance:Wz,resetTextContent:uz,resolveUpdatePriority:Vz,run:ly.unstable_runWithPriority,scheduleMicrotask:mz,scheduleTimeout:hz,setCurrentUpdatePriority:Gz,shouldAttemptEagerTransition:Yz,shouldDeprioritizeSubtree:cz,shouldSetTextContent:yz,startSuspendingCommit:Kz,supportsHydration:wz,supportsMicrotasks:pz,supportsMutation:Sz,supportsPersistence:xz,suspendInstance:Fz,unhideInstance:zz,unhideTextInstance:kz,waitForCommitToBeReady:Qz,warnsIfNotActing:_z},Symbol.toStringTag,{value:"Module"}));function hx(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=hx(a,e,n);if(i)return i;a=a.sibling}}function gx(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const X2=gx(N.createContext(null));class px extends N.Component{render(){return N.createElement(X2.Provider,{value:this._reactInternals},this.props.children)}}function ek(){const t=N.useContext(X2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=hx(n,!1,i=>{let l=i.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const tk=Symbol.for("react.context"),nk=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===tk;function ak(){const t=ek(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;nk(a)&&a!==X2&&!e.has(a)&&e.set(a,N.use(gx(a))),n=n.return}return e}function mx(){const t=ak();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(px,{...e})),[t])}if(Qe.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function rk(t){const e=Qe.useRef({});return Qe.useLayoutEffect(()=>{e.current=t}),Qe.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const ik=()=>{const t=Qe.useRef(0);return Qe.useMemo(()=>{t.current++},[]),t.current>1},sk=t=>{const e=Qe.useRef(null),n=Qe.useRef(null),a=Qe.useRef(null),i=rk(t),l=mx(),u=Qe.useRef(!1),f=m=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(m):v.current=m)},g=ik();return Qe.useLayoutEffect(()=>u.current&&g?()=>{u.current=!1,f(null),Rf.updateContainer(null,a.current,null),n.current.destroy()}:(u.current=!0,n.current=new qf.Stage({width:t.width,height:t.height,container:e.current}),f(n.current),a.current=Rf.createContainer(n.current,Dv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Rf.updateContainer(Qe.createElement(l,{},t.children),a.current,null,()=>{}),()=>{g||(f(null),Rf.updateContainer(null,a.current,null),n.current.destroy())}),[]),Qe.useLayoutEffect(()=>{f(n.current),jv(n.current,t,i),Rf.updateContainer(Qe.createElement(l,{},t.children),a.current,null)}),Qe.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},A0="Layer",Kr="Group",ul="Rect",vx="Circle",lk="Line",ms="Text",ok="Path",uk="Arrow",ck="Transformer",Rf=Xj(Jz);Rf.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Qe.version,rendererPackageName:"react-konva"});const dk=Qe.forwardRef((t,e)=>Qe.createElement(px,{},Qe.createElement(sk,{...t,forwardedRef:e})));function oy(t,e,n,a,i){t.forEach(l=>{if(!e.current||!n.current)return;const u=i.current.get(l.from),f=i.current.get(l.to),g=a.current?.findOne(`#${l.id}`);if(!u||!f||!g)return;const m=f.x()-u.x(),v=f.y()-u.y(),_=Math.sqrt(m*m+v*v),S=m/_,C=v/_,T=Math.min(30,_/5-1),R=u.getAttr("mainWidth")*(u.attrs.scalingX??1),O=u.getAttr("mainHeight")*(u.attrs.scalingY??1),M=f.getAttr("mainWidth")*(f.attrs.scalingX??1),j=f.getAttr("mainHeight")*(f.attrs.scalingY??1);g.points([u.x()+R/2+S*(R/2+T),u.y()+O/2+C*(O/2+T),f.x()+M/2-S*(M/2+T),f.y()+j/2-C*(j/2+T)])})}const fk=(t,e,n,a)=>{const i=e.x()-t.x(),l=e.y()-t.y(),u=Math.sqrt(i*i+l*l),f=i/u,g=l/u,m=Math.min(30,u/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),S=a.width()*(e.attrs.scalingX??1),C=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+f*(v/2+m),t.y()+_/2+g*(_/2+m),e.x()+S/2-f*(S/2+m),e.y()+C/2-g*(C/2+m)]},hk=({connector:t,mainLayer:e})=>{const[n,a]=N.useState([]);return N.useEffect(()=>{const i=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),u=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),f=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!i||!l||!u||!f)return;const g=fk(i,l,u,f);a(g)},[e,t]),E.jsx(uk,{id:t.id,points:n,fill:"black",stroke:"black"})},gk=({connectors:t,mainLayer:e})=>E.jsx(E.Fragment,{children:t.map(n=>E.jsx(hk,{connector:n,mainLayer:e},n.id))});function w5(t,e,n){if(e==="eraser")return;const a=t.target;a.cache(),a.moveTo(n.current)}function E5(t,e,n,a){if(a==="eraser")return;const i=t.target.getStage();if(!i||!e.current)return;const l=i?.getPointerPosition();if(!l)return;const u=e.current.getIntersection(l);!n.current&&u?(n.current=u,u.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&u&&n.current!==u?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),u.fire("dragenter",{evt:t.evt},!0),n.current=u):n.current&&!u&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function _m(t,e,n,a,i,l,u,f){if(n==="eraser")return;t.target.clearCache();const g=t.target,v=g.getStage()?.getPointerPosition(),_=e.current?.getIntersection(v);_&&!_.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0);const S=l.find(R=>"group-"+R.id===g.id());g.moveTo(e.current),a.current=null;const C=t.target.id();i(R=>{const O=[...R],M=O.findIndex(j=>"group-"+j.id===C);if(M!==-1){if(O[M].shape!=="line")O[M]={...O[M],x:t.target.x(),y:t.target.y()};else if(O[M].shape==="line"){const j=t.target,z=j.x(),U=j.y();O[M]={...O[M],points:O[M].points.map((H,L)=>L%2===0?H+z:H+U)},j.x(0),j.y(0)}}return O});let T;S&&(S.shape==="line"?T={...S,points:S.points.map((R,O)=>O%2===0?R+t.target.x():R+t.target.y())}:T={...S,x:t.target.x(),y:t.target.y()}),S&&T&&u({action:"update",before:S,after:T,id:f||void 0})}const pk=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C,nodeMap:T})=>{const R=C(t,S),O=R.completed+R.not_completed;R.completed===O?t.completed=!0:t.completed=!1;const M=()=>O===0?{completeColor:"purple",completeText:"No Task Yet"}:R.completed===0?{completeColor:"#ff2056",completeText:"Not Started"}:R.completed===O?{completeColor:"#00bc7d",completeText:"Completed"}:{completeColor:"#ff6900",completeText:"In Progress"},{completeColor:j,completeText:z}=M(),[U,H]=N.useState(!1),L=v(t.color),Y=new Date(t.dueDate),ae=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).formatToParts(Y),_e=ae.find(K=>K.type==="weekday").value.slice(0,3),Oe=ae.find(K=>K.type==="day").value,ie=ae.find(K=>K.type==="month").value.slice(0,3),ve=ae.find(K=>K.type==="year").value,ce=`${_e}, ${Oe} ${ie} ${ve}`,B=typeof window<"u"&&window.innerWidth<768||U,se=N.useRef(null);return N.useEffect(()=>{se.current&&T&&T.current&&T.current.set("group-"+t.id,se.current)}),E.jsxs(Kr,{ref:se,id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",mainWidth:t.width,mainHeight:t.height,scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:l!=="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:m,onMouseEnter:()=>{l==="hand"&&H(!0)},onMouseLeave:()=>{l==="hand"&&H(!1)},onTap:()=>{f(t.id)},onDblTap:()=>{l==="hand"&&g(t)},onClick:()=>{f(t.id)},onDblClick:()=>{l==="hand"&&g(t)},children:[E.jsxs(Kr,{visible:!t.isCollapsed,children:[E.jsx(ul,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:L,strokeWidth:2.5,shadowForStrokeEnabled:!1}),E.jsx(ms,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.6,listening:!1}),E.jsx(ms,{text:ce,x:130,y:170,width:150,fontFamily:"Inter",fontSize:14,align:"right",fill:"black",opacity:.8,listening:!1}),E.jsxs(Kr,{children:[E.jsx(ul,{fill:j,width:100,height:30,x:10,y:160,cornerRadius:10}),E.jsx(ms,{text:z,width:100,height:30,fontFamily:"Inter",align:"center",fill:"white",fontStyle:"bold",x:10,y:158,padding:10})]}),B&&E.jsxs(Kr,{x:t.width+5,y:t.height/2,onClick:K=>{K.cancelBubble=!0,_(t,null)},onTap:K=>{K.cancelBubble=!0,_(t,null)},children:[E.jsx(vx,{radius:16,fill:"white",stroke:t.color}),E.jsx(ms,{x:-8,y:-13.5,text:"+",fill:"black",fontSize:24,fontFamily:"Inter",align:"left"})]})]}),E.jsxs(Kr,{children:[E.jsx(ul,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),E.jsx(ul,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),E.jsx(ms,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),E.jsxs(Kr,{x:260,y:7,width:20,height:40,onDblClick:K=>{K.cancelBubble=!0},onDblTap:K=>{K.cancelBubble=!0},onClick:K=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),K.cancelBubble=!0,e(G=>G.map(W=>W.shape==="rect"&&W.id===t.id?{...W,isCollapsed:!W.isCollapsed}:W)))},onTap:K=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),K.cancelBubble=!0,e(G=>G.map(W=>W.shape==="rect"&&W.id===t.id?{...W,isCollapsed:!W.isCollapsed}:W)))},children:[E.jsx(ul,{width:30,height:30,listening:!0}),E.jsx(ms,{width:30,height:30,x:0,y:0,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"center"})]})]})]},"key-"+t.id)},mk=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_,allShapes:S,getChildCounts:C,nodeMap:T})=>E.jsx(E.Fragment,{children:t.map(R=>E.jsx(pk,{rect:R,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:m,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:g,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C,nodeMap:T},"key-"+R.id))});function vk(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,i=a?.getPointerPosition();if(!i||!a)return;const l=a.scaleX(),u={x:(i.x-a.x())/l,y:(i.y-a.y())/l},f=e.evt.deltaY>0?-1:1,g=1.05,m=f>0?Math.min(l*g,5):Math.max(l/g,.1);a.scale({x:m,y:m});const v={x:i.x-u.x*m,y:i.y-u.y*m};a.position(v),n(Math.round(m*100))}function yk(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('/rect-up/cursor.svg') 16 16, auto";case"draw":return"crosshair";default:return"default"}}const bk=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,onTransformEnd:u,handleEraserClick:f,onTodoClick:g,shapes:m,nodeMap:v})=>{const[_,S]=N.useState(!1),C="#FDF6B2",T=t.color,R=new Date(t.dueDate),O=R.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),M=new Date,j=R.getTime()-M.getTime(),z=Math.ceil(j/(1e3*60*60*24)),U=Math.floor(z/7),H=Math.floor(z/30),L=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:H>=1?{statusColor:"#2b7fff",statusText:`${H} Month${H>1?"s":""} left`,statusTextColor:"white"}:U>=1?{statusColor:"#2b7fff",statusText:`${U} Week${U>1?"s":""} left`,statusTextColor:"white"}:z>=2?{statusColor:"#2b7fff",statusText:`${z} Day${z>1?"s":""} left`,statusTextColor:"white"}:z===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:z===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:Y,statusText:Q,statusTextColor:ae}=L(),Oe=typeof window<"u"&&window.innerWidth<768||_||t.completed,ie=ce=>{e(fe=>fe.map(B=>B.id===ce&&B.shape==="todo"?{...B,completed:!B.completed}:B))},ve=N.useRef(null);return N.useEffect(()=>{ve.current&&v&&v.current&&v.current.set("group-"+t.id,ve.current)}),E.jsx(Kr,{id:"group-"+t.id,ref:ve,shapeId:t.id,x:t.x,y:t.y,mainWidth:t.width,mainHeight:t.height,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&S(!0)},onMouseLeave:()=>{l==="hand"&&S(!1)},draggable:l!="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:u,onClick:()=>{f(t.id)},onTap:()=>{f(t.id)},onDblClick:()=>{if(l==="hand"){if(!m)return;let ce=null;if(t.parents){const fe=t.parents?.startsWith("group-")?t.parents.replace("group-",""):t.parents,B=m.find(se=>se.id===fe);B&&B?.shape==="rect"&&(ce=B)}g(ce,t)}},onDblTap:()=>{if(l==="hand"){if(!m)return;let ce=null;if(t.parents){const fe=m.find(B=>"rect-"+B.id===t.parents);fe&&fe?.shape==="rect"&&(ce=fe)}g(ce,t)}},children:E.jsxs(Kr,{visible:!t.isCollapsed,children:[E.jsx(ul,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:T,strokeWidth:1,shadowForStrokeEnabled:!1}),E.jsxs(Kr,{children:[E.jsx(ul,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),E.jsxs(Kr,{children:[E.jsx(ms,{x:60,y:8,text:t.title,ellipsis:!0,width:t.width-70,height:30,fontSize:20,fontStyle:"bold"}),E.jsx(ms,{x:60,y:32,text:O}),E.jsxs(Kr,{children:[E.jsx(ms,{x:60,y:54,text:"Assigned: "+t.assignee}),E.jsxs(Kr,{x:280,y:50,children:[E.jsx(ul,{width:110,height:18,fill:Y,cornerRadius:[4,4,4,4]}),E.jsx(ms,{x:0,y:3,width:110,height:18,text:Q,fill:ae,align:"center",fontStyle:"bold",fontSize:12})]})]}),Oe&&E.jsxs(Kr,{x:26,y:36,children:[E.jsx(vx,{radius:16,fill:C,stroke:T,strokeWidth:1.5,onClick:()=>ie(t.id),onTap:()=>ie(t.id)}),t.completed&&E.jsx(ok,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},_k=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:g,onTodoClick:m,shapes:v,nodeMap:_})=>E.jsx(E.Fragment,{children:t.map(S=>E.jsx(bk,{todo:S,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:g,onTodoClick:m,shapes:v,nodeMap:_},"key-"+S.id))});function vg(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function Sk(t,e,n,a,i){if(e!=="draw")return;const l=vg(t);if(!l)return;i(!0);const u={shape:"line",behavior:"decor",color:"black",id:"line-"+Date.now().toString(),points:[l.x,l.y],stroke:n,strokeWidth:4,scaleX:1,scaleY:1};a(f=>[...f,u])}function xk(t,e,n,a){if(!a||e!=="draw")return;const i=vg(t);i&&n(l=>{if(l.length===0)return l;const u=l[l.length-1];if(u.shape!=="line")return l;const f={...u,points:[...u.points,i.x,i.y]};return[...l.slice(0,-1),f]})}function wk(t,e){t&&e(!1)}const Ek=({lines:t,onDragEnd:e,onTransformEnd:n})=>E.jsx(E.Fragment,{children:t.map(a=>E.jsx(lk,{id:"group-"+a.id,scaleX:a.scaleX,scaleY:a.scaleY,points:a.points,stroke:a.stroke,strokeWidth:a.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:!0,onDragEnd:e,onTransformEnd:n},a.id))}),C5=20;function Ck(t){t(!0)}function T5(t,e,n){for(let a=0;a<t.length-2;a+=2){const i=t[a],l=t[a+1],u=t[a+2],f=t[a+3];if(Tk(e.x,e.y,i,l,u,f)<n)return!0}return!1}function Tk(t,e,n,a,i,l){const u=i-n,f=l-a,g=u*u+f*f;if(g===0)return Math.hypot(t-n,e-a);let m=((t-n)*u+(e-a)*f)/g;m=Math.max(0,Math.min(1,m));const v=n+m*u,_=a+m*f;return Math.hypot(t-v,e-_)}function Ak(t,e,n,a,i,l){if(e!=="eraser"||!a)return;const u=vg(t.current);if(!u)return;const f=i.filter(g=>g.shape==="line"&&T5(g.points,u,C5));f.length!==0&&(l({action:"delete",before:f[0],after:f[0]}),n(g=>g.filter(m=>m.shape==="line"?!T5(m.points,u,C5):!0)))}function Rk(t){t(!1)}function Ok(t,e,n,a,i,l,u,f){return t<i&&n<i||t>u&&n>u||e<l&&a<l||e>f&&a>f?!1:!!(t>=i&&t<=u&&e>=l&&e<=f||n>=i&&n<=u&&a>=l&&a<=f||Sm(t,e,n,a,i,l,u,l)||Sm(t,e,n,a,u,l,u,f)||Sm(t,e,n,a,u,f,i,f)||Sm(t,e,n,a,i,f,i,l))}function Sm(t,e,n,a,i,l,u,f){function g(m,v,_,S,C,T){return(T-v)*(_-m)>(S-v)*(C-m)}return g(t,e,i,l,u,f)!==g(n,a,i,l,u,f)&&g(t,e,n,a,i,l)!==g(t,e,n,a,u,f)}function Nk(t,e){const n=e.x,a=e.y,i=e.x+e.width,l=e.y+e.height;for(let u=0;u<t.length-2;u+=2){const f=t[u],g=t[u+1],m=t[u+2],v=t[u+3];if(Ok(f,g,m,v,n,a,i,l))return!0}return!1}const Mk=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const i=vg(e.current);i&&a({visible:!0,x1:i.x,y1:i.y,x2:i.x,y2:i.y})},Dk=(t,e,n,a)=>{if(!e.current)return;const i=vg(t.current);i&&a({...n,x2:i.x,y2:i.y})},jk=(t,e,n,a,i,l,u)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const f={x:Math.min(e.x1,e.x2)+u.x,y:Math.min(e.y1,e.y2)+u.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},g=l.current?.getStage(),m=i.filter(v=>{if(v.shape==="line"){const T=v.points.map((R,O)=>O%2===0?R+u.x:R+u.y);return Nk(T,f)}if(v.shape==="text"){const C=g?.findOne(`#group-${v.id}`);if(!C)return;const T=C.getClientRect({relativeTo:g});return T.x+=u.x,T.y+=u.y,T?J0.Util.haveIntersection(f,T):void 0}if(!l.current)return;const _=l.current.findOne(`#group-${v.id}`);if(!_)return;const S=_.getClientRect({relativeTo:g});if(S.x+=u.x,S.y+=u.y,!!S)return J0.Util.haveIntersection(f,S)});a(m.map(v=>v.id))},zk=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const i=t.target.findAncestor(".shape",!0);if(!i||!i.hasName("shape"))return;const l=i.attrs.shapeId;if(!l)return;const u=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,f=n.includes(l);!u&&!f?a([l]):u&&f?a(n.filter(g=>g!==l)):u&&!f&&a([...n,l])},xm=(t,e,n,a,i)=>{const l=t.target.id(),u=t.target,f=n.find(m=>"group-"+m.id===l);e(m=>{const v=[...m],_=v.findIndex(S=>"group-"+S.id===l);if(_!==-1&&v[_].behavior==="node")v[_]={...v[_],x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};else if(_!==-1&&v[_].shape==="text"){const S=u;v[_]={...v[_],x:u.x(),y:u.y(),width:u.width(),fontSize:S.fontSize(),scaleX:1,scaleY:1},u.scaleX(1),u.scaleY(1)}else if(_!==-1&&v[_].shape==="line"){const S=u,C=S.scaleX(),T=S.scaleY(),R=S.x(),O=S.y(),M=S.points().map((j,z)=>z%2===0?j*C+R:j*T+O);v[_]={...v[_],points:M},S.scaleX(1),S.scaleY(1),S.x(0),S.y(0)}return v});const g=n.find(m=>"group-"+m.id===l);if(g){let m;if(g.shape==="text"){const v=u;m={...g,x:v.x(),y:v.y(),scaleX:v.scaleX(),scaleY:v.scaleY(),width:v.width(),fontSize:v.fontSize()}}else g.shape==="line"?m={...g,scaleX:u.scaleX(),scaleY:u.scaleY()}:m={...g,x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};f&&m&&a({action:"update",before:f,after:m,id:i||void 0})}},kk=({initialText:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setIsEditingText:i,isEditingText:l,tool:u,setEditingRef:f,editingRef:g})=>{const m=N.useRef(null),v=N.useCallback(()=>{u==="hand"&&(i(!0),f(m.current))},[i,u,f]),_=N.useCallback(()=>{const S=m.current;if(!S)return;const C=S.getStage()?.findOne("#transformer");if(!C)return;const T=C?.getActiveAnchor();if(T==="middle-right"||T==="middle-left"){const R=S.width()*S.scaleX();S.setAttrs({width:R,scaleX:1});return}if(T){const R=S.fontSize()*S.scaleY(),O=S.width()*S.scaleX();S.setAttrs({width:O,fontSize:R,scaleX:1,scaleY:1});return}},[]);return E.jsx(E.Fragment,{children:E.jsx(ms,{ref:m,id:"group-"+t.id,shapeId:t.id,name:"shape",x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,fontSize:t.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"left",lineHeight:1,text:t.text,draggable:!0,onClick:()=>e(t.id),onDragEnd:n,onTransform:_,onTransformEnd:a,onDblClick:v,onDblTap:v,visible:!(l&&g&&g?.id()==="group-"+t.id)},"key-"+t.id)})};var Uk=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Lk=t=>{const e=window.getComputedStyle(t).position;return!(e==="absolute"||e==="relative")};function Pk(t=()=>{}){const e=Qe.useRef(t);return e.current=t,Qe.useCallback((...n)=>e.current.apply(null,n),[])}const Bk=({children:t,groupProps:e,divProps:n,transform:a,transformFunc:i,parentNodeFunc:l})=>{const u=mx(),f=Qe.useRef(null),[g]=Qe.useState(()=>document.createElement("div")),m=Qe.useMemo(()=>L8.createRoot(g),[g]),v=a??!0,_=Pk(()=>{if(v&&f.current){let O=f.current.getAbsoluteTransform().decompose();i&&(O=i(O)),g.style.position="absolute",g.style.zIndex="10",g.style.top="0px",g.style.left="0px",g.style.transform=`translate(${O.x}px, ${O.y}px) rotate(${O.rotation}deg) scaleX(${O.scaleX}) scaleY(${O.scaleY})`,g.style.transformOrigin="top left"}else g.style.position="",g.style.zIndex="",g.style.top="",g.style.left="",g.style.transform="",g.style.transformOrigin="";const S=n||{},{style:C}=S,T=Uk(S,["style"]);Object.assign(g.style,C),Object.assign(g,T)});return Qe.useLayoutEffect(()=>{var S;const C=f.current;if(!C)return;const T=l?l({stage:C.getStage()}):(S=C.getStage())===null||S===void 0?void 0:S.container();if(T)return T.appendChild(g),v&&Lk(T)&&(T.style.position="relative"),C.on("absoluteTransformChange",_),_(),()=>{var R;C.off("absoluteTransformChange",_),(R=g.parentNode)===null||R===void 0||R.removeChild(g)}},[v,l]),Qe.useLayoutEffect(()=>{_()},[n,i]),Qe.useLayoutEffect(()=>{queueMicrotask(()=>{dg.flushSync(()=>{m.render(Qe.createElement(u,null,t))})})}),Qe.useLayoutEffect(()=>()=>{setTimeout(()=>{m.unmount()})},[]),Qe.createElement(Kr,Object.assign({ref:f},e))};var uy,A5;function Hk(){if(A5)return uy;A5=1;var t=sg();return uy=function(n,a,i){const l=t.useRef("loading"),u=t.useRef(),[f,g]=t.useState(0),m=t.useRef(),v=t.useRef(),_=t.useRef();return(m.current!==n||v.current!==a||_.current!==i)&&(l.current="loading",u.current=void 0,m.current=n,v.current=a,_.current=i),t.useLayoutEffect(function(){if(!n)return;var S=document.createElement("img");function C(){S.decode().catch(()=>{}).finally(()=>{l.current="loaded",u.current=S,g(Math.random())})}function T(){l.current="failed",u.current=void 0,g(Math.random())}return S.addEventListener("load",C),S.addEventListener("error",T),a&&(S.crossOrigin=a),i&&(S.referrerPolicy=i),S.src=n,function(){S.removeEventListener("load",C),S.removeEventListener("error",T)}},[n,a,i]),[u.current,l.current]},uy}Hk();const Gk=({textNode:t,onClose:e,onChange:n})=>{const a=N.useRef(null);return N.useEffect(()=>{if(!a.current)return;const i=a.current,l=t.position(),u={x:l.x,y:l.y};i.style.position="absolute",i.value=t.text(),i.style.top=`${u.y}px`,i.style.left=`${u.x}px`,i.style.width=`${t.width()-t.padding()*2}px`,i.style.height=`${t.height()}px`,i.style.fontSize=`${t.fontSize()}px`,i.style.border="3px solid #ccc",i.style.borderRadius="4px",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="none",i.style.outline="none",i.style.resize="none",i.style.lineHeight=String(t.lineHeight()),i.style.fontFamily=t.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=t.align(),i.style.boxSizing="border-box";const f=t.rotation();let g="";f&&(g+=`rotateZ(${f}deg)`),i.style.transform=g,i.focus();const m=S=>{S.target!==i&&(n(i.value),e())},v=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),n(i.value),e()),S.key==="Escape"&&e()},_=()=>{i.style.width=`${t.width()-t.padding()*2}px`,i.style.height="auto",i.style.height=`${i.scrollHeight+t.fontSize()}px`};return i.addEventListener("keydown",v),i.addEventListener("input",_),setTimeout(()=>{window.addEventListener("click",m)}),()=>{i.removeEventListener("keydown",v),i.removeEventListener("input",_),window.removeEventListener("click",m)}},[t,n,e]),E.jsx("textarea",{ref:a,style:{minHeight:"1em",position:"absolute"}})},qk=t=>E.jsx(Bk,{children:E.jsx(Gk,{...t})}),yx=N.createContext(null);function K2(){const t=N.useContext(yx);if(!t)throw new Error("useUndo must be used inside a <UndoRedoProvider>");return t}const Vk=({texts:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f})=>{const[g,m]=N.useState(null),{pushUndo:v}=K2(),_=N.useCallback(S=>{if(g){if(S===""){i(C=>{const T=C.find(R=>"group-"+R.id===g.id());return T&&v({action:"delete",before:T,after:T}),C.filter(R=>"group-"+R.id!==g.id())});return}i(C=>C.map(T=>"group-"+T.id===g.id()?(T.shape==="text"&&v({action:"update",before:T,after:{...T,text:S}}),{...T,text:S}):T))}},[i,g,v]);return E.jsxs(E.Fragment,{children:[t.map(S=>E.jsx(kk,{initialText:S,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,editingRef:g,setEditingRef:m},S.id)),u&&g&&E.jsx(qk,{textNode:g,onChange:_,onClose:()=>{l(!1)}})]})},bx=(t,e)=>{if(!t.children)return{completed:0,not_completed:0};let n=0,a=0;return t.children.forEach(i=>{const l=e.find(u=>"group-"+u.id===i);if(l&&l.behavior==="node"&&(l.shape==="todo"&&(l.completed?n++:a++),l.shape==="rect")){const u=bx(l,e);n+=u.completed,a+=u.not_completed}}),{completed:n,not_completed:a}},Yk="1234567890",Zk=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:i,zoom:l,connectors:u=[],setConnectors:f,addConnector:g,strokeColor:m,onShapeClick:v,onAddTodo:_,stageCoor:S,setStageCoor:C,isFormOpen:T,onTextClick:R})=>{J0.pixelRatio=window.devicePixelRatio||1;const O=N.useRef(null),M=N.useRef(null),j=N.useRef(null),z=N.useRef(null),U=N.useRef(null),[H,L]=N.useState(!1),[Y,Q]=N.useState([]),[ae,_e]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),Oe=N.useRef(!1),ie=N.useRef(null),ve=N.useRef(null),{pushUndo:ce,undo:fe,redo:B}=K2(),se=N.useRef(null),[K,pe]=N.useState(!1),G=N.useRef(new Map);N.useEffect(()=>{O.current&&t.forEach(be=>{if(be.behavior!=="node")return;const Ae=O.current?.findOne(`#group-${be.id}`),lt=O.current?.findOne(`#${be.id}`),at=t.find(yt=>yt.id===lt.id());!Ae||!lt||!at||(Ae.off("drop"),Ae.off("dragenter"),Ae.off("dragleave"),Ae.on("dragenter",yt=>{const Tt=yt.source;if(!Tt||Ae===Tt||lt.fill()==="green"||at.shape==="todo"||be.shape!=="todo"&&be.children.includes(Tt.id())||be.parents.includes(Tt.id()))return;const Kt=t.find(gn=>"group-"+gn.id===Tt.id());Kt?.behavior!=="node"||Kt?.parents!==""||lt.fill("#b9f8cf")}),Ae.on("dragmove",yt=>{const Tt=yt.source;!Tt||Ae===Tt||lt.fill()==="#b9f8cf"||lt.fill("#b9f8cf")}),Ae.on("dragleave",yt=>{const Tt=yt.source;Ae!==Tt&&lt.fill("white")}),Ae.on("drop",yt=>{const Tt=yt.source;if(be.behavior!=="node"||be.shape!=="todo"&&be.children.includes(Tt.id())||!Tt||be.parents.includes(Tt.id()))return;const Kt=t.find(gn=>"group-"+gn.id===Tt.id());Kt?.behavior!=="node"||Kt?.parents!==""||at.shape==="todo"||(lt.fill("white"),e(gn=>gn.map(Rn=>Rn.behavior==="node"&&"group-"+Rn.id===yt.source.id()?{...Rn,parents:Ae.id()}:Rn.behavior==="node"&&Rn.shape!="todo"&&"group-"+Rn.id===Ae.id()?{...Rn,children:[...Rn.children,yt.source.id()]}:Rn)),g(yt.source,Ae))}))})},[g,e,t]),N.useEffect(()=>{function be(Ae){if(!(T||K)){if(Ae.ctrlKey&&!Ae.shiftKey&&Ae.key==="z"){fe(e,f);return}if((Ae.ctrlKey||Ae.metaKey)&&Ae.key==="y"||Ae.shiftKey&&Ae.key==="z"){B(e,f);return}switch(Ae.key){case"1":a("hand");break;case"z":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"x":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"c":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"v":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break;case"q":v(null);break;case"w":_(null,null);break;case"e":R();break}}}return window.addEventListener("keydown",be),()=>{window.removeEventListener("keydown",be)}},[K,T,_,v,B,f,e,a,n,fe,R]),N.useEffect(()=>{if(Y.length&&ie.current){const be=Y.map(Ae=>U.current?.findOne(`#group-${Ae}`)).filter(Boolean);ie.current.nodes(be),se.current=crypto.randomUUID(),requestAnimationFrame(()=>{const Ae=ve.current;if(!Ae||!U.current||!ie.current)return;const lt=ie.current.width()/U.current.scaleX(),at=ie.current.height()/U.current.scaleY(),yt=(ie.current.x()-S.x)/U.current.scaleX(),Tt=(ie.current.y()-S.y)/U.current.scaleY();Ae.show(),Ae.x(yt),Ae.y(Tt),Ae.width(lt),Ae.height(at),Ae.scaleX(1),Ae.scaleY(1);const Kt=ie.current.nodes();ie.current.nodes([...Kt,Ae])})}else if(ie.current){ie.current.nodes([]);const be=ve.current;se.current=null,be?.hide()}if(n!=="select"){ie.current?.nodes([]);const be=ve.current;se.current=null,be?.hide()}},[Y,n,S,t]),N.useEffect(()=>{n!=="select"&&Q([])},[n]),N.useEffect(()=>{oy(u,O,j,z,G)},[t,u,G]),N.useEffect(()=>{const be=()=>{const Ae=U.current;Ae&&(Ae.width(window.innerWidth),Ae.height(window.innerHeight),Ae.draw())};return window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]);const W=be=>{if(be.behavior!=="node")return;const Ae=t.find(at=>"group-"+at.id===be.parents),lt=O.current?.findOne(`#${be.parents}`);return!lt||!Ae?!1:lt.getChildren()[0].visible()},xe=(be,Ae)=>{be.behavior!=="node"||be.shape==="todo"||be.children.length!==0&&be.children.forEach(lt=>{const at=t.find(gn=>"group-"+gn.id===lt);if(!at)return;const yt=O.current?.findOne(`#${lt}`);if(!yt)return;yt.visible(Ae);const Tt=u.find(gn=>{if(gn.from===lt)return gn});if(!Tt)return;const Kt=z.current?.findOne(`#${Tt.id}`);Kt&&(Kt.visible(Ae),W(at)&&xe(at,Ae))})},Ee=be=>{const Ae=t.find(lt=>lt.id===be);Ae?.behavior!=="node"||Ae?.shape==="todo"||Ae?.children.forEach(lt=>{const at=t.find(yt=>"group-"+yt.id===lt);!at||at.behavior!=="node"||(at.parents="")})},Ve=be=>{e(Ae=>Ae.map(lt=>lt.shape==="rect"&&lt.children.includes(be)?{...lt,children:lt.children.filter(at=>at!=="group-"+be)}:lt))},ut=be=>{if(n==="eraser"){const Ae=crypto.randomUUID();u.forEach(at=>{if(at.to==="group-"+be||at.from==="group-"+be){const yt={...at};ce({id:Ae,before:yt,after:yt,action:"delete"}),f(Tt=>Tt.filter(Kt=>Kt.id!==at.id))}});const lt=t.find(at=>at.id===be);lt&&ce({id:Ae,before:{...lt},after:{...lt},action:"delete"}),Ee(be),Ve(be),e(at=>at.filter(yt=>yt.id!==be))}},Ie=be=>{let Ae;return be==="#ff2056"?Ae="#f6339a":be==="#2b7fff"?Ae="#00a6f4":be==="#00bc7d"?Ae="#00c951":be==="#ad46ff"?Ae="#8e51ff":be==="#ff6900"&&(Ae="#fd9a00"),Ae};return E.jsx(E.Fragment,{children:E.jsxs(dk,{width:window.innerWidth,height:window.innerHeight,x:S.x,y:S.y,ref:U,draggable:n==="hand",onWheel:be=>{vk(U,be,i),U.current&&C({x:U.current.x(),y:U.current.y()})},onPointerDown:be=>{n==="draw"&&Sk(U.current,n,m,e,L),n==="eraser"&&Ck(L),n==="select"&&Mk(be,U,Oe,_e)},onPointerMove:()=>{n==="draw"&&xk(U.current,n,e,H),n==="eraser"&&Ak(U,n,e,H,t,ce),n==="select"&&Dk(U,Oe,ae,_e)},onPointerUp:()=>{n==="draw"&&(wk(H,L),ce({action:"add",before:t[t.length-1],after:t[t.length-1]})),n==="eraser"&&Rk(L),n==="select"&&jk(Oe,ae,_e,Q,t,O,S)},onClick:be=>{n==="select"&&zk(be,ae,Y,Q)},scaleX:l/100,scaleY:l/100,style:{cursor:yk(n)},onDragEnd:()=>{U.current&&C({x:U.current.x(),y:U.current.y()})},children:[E.jsxs(A0,{children:[E.jsx(Ek,{lines:t.filter(be=>be.shape==="line"),onDragEnd:be=>{_m(be,O,n,M,e,t,ce,se.current)},onTransformEnd:be=>{xm(be,e,t,ce,se.current)}}),E.jsx(Vk,{texts:t.filter(be=>be.shape==="text"),onEraserClick:ut,onDragEnd:be=>{_m(be,O,n,M,e,t,ce,se.current)},onTransformEnd:be=>{xm(be,e,t,ce,se.current)},setShapes:e,isEditingText:K,setIsEditingText:pe,tool:n})]}),E.jsx(A0,{ref:z,children:E.jsx(gk,{connectors:u,mainLayer:O})}),E.jsxs(A0,{ref:O,children:[E.jsx(ul,{id:Yk,ref:ve,fill:"transparent",draggable:!0,temporary:!0}),E.jsx(mk,{shapes:t.filter(be=>be.shape==="rect"),allShapes:t,setShapes:e,onDragStart:be=>w5(be,n,j),onDragMove:be=>{Y.length<=1&&E5(be,O,M,n),oy(u,O,j,z,G)},onDragEnd:be=>{_m(be,O,n,M,e,t,ce,se.current)},onTransformEnd:be=>{xm(be,e,t,ce,se.current)},tool:n,collapseChild:xe,handleEraserClick:ut,onShapeClick:v,getBorder:Ie,onAddTodo:_,getChildCounts:bx,nodeMap:G}),E.jsx(_k,{todos:t.filter(be=>be.shape==="todo"),setShapes:e,tool:n,onDragStart:be=>w5(be,n,j),onDragMove:be=>{Y.length<=1&&E5(be,O,M,n),oy(u,O,j,z,G)},onDragEnd:be=>{_m(be,O,n,M,e,t,ce,se.current)},onTransformEnd:be=>{xm(be,e,t,ce,se.current)},handleEraserClick:ut,getBorder:Ie,onTodoClick:_,shapes:t,nodeMap:G})]}),E.jsx(A0,{ref:j}),E.jsxs(A0,{children:[E.jsx(ck,{ref:ie,id:"transformer",enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],boundBoxFunc:(be,Ae)=>Ae.width<5||Ae.height<5?be:Ae}),ae.visible&&E.jsx(ul,{x:Math.min(ae.x1,ae.x2),y:Math.min(ae.y1,ae.y2),width:Math.abs(ae.x2-ae.x1),height:Math.abs(ae.y2-ae.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function Ik({title:t,onClick:e}){return E.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[E.jsx("span",{children:E.jsx(CT,{})}),E.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function Xk({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",i=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return E.jsx("button",{type:"button",className:`${a} ${i}`,onClick:e,children:t})}const Kk=Zf({title:Fr(),description:Fr(),color:Fr(),date:Fr().min(1,"Date cannot be empty!"),time:Fr()});function Fk({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:u,handleSubmit:f,setError:g,formState:{errors:m,isSubmitting:v}}=Bf({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:Hf(Kk)}),[_,S]=N.useState(a?.color??"#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,T):t(T),n()}catch(R){g("root",{message:"This Task already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&n()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[n]),E.jsxs("div",{children:[E.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-50"}),E.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90dvw] sm:w-[80dvw] md:w-[80dvw]
    max-h-[70dvh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-col justify-between items-start
    rounded-lg shadow-2xl z-50 overflow-auto
  `,children:[E.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),E.jsxs("form",{onSubmit:f(C),className:"w-full h-full",children:[E.jsxs("div",{className:"my-2 flex flex-row items-end justify-between h-15 w-full",children:[E.jsx("input",{...u("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-xl sm:text-3xl h-full w-full p-2 font-bold rounded-lg"}),m.title&&E.jsx("div",{className:"text-red-500",children:m.title?.message}),E.jsx("button",{onClick:n,className:"hidden md:block hover:cursor-pointer p-2 h-full",children:"X"})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),E.jsxs("select",{...u("color"),value:_,onChange:T=>S(T.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),E.jsx("input",{...u("date"),type:"date",className:"relative w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),m.date&&E.jsx("div",{className:"text-red-500 ml-28 w-full",children:m.date?.message}),E.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),E.jsxs("div",{className:"mb-3  flex flex-col gap-2 w-full items-start",children:[E.jsxs("div",{className:"inline-flex gap-2",children:[E.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:E.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),E.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),E.jsx("textarea",{...u("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs w-full items-start h-[50dvh] md:h-[50dvh] resize-none"}),m.description&&E.jsx("div",{className:"text-red-500",children:m.description?.message})]}),E.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[E.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),E.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),m.root&&E.jsx("div",{className:"text-red-500",children:m.root?.message})]})]})]})}const _x=N.createContext(null);function Qk({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{nn.auth.getSession().then(({data:{session:i}})=>{n(i)});const{data:{subscription:a}}=nn.auth.onAuthStateChange((i,l)=>{n(l)});return()=>a.unsubscribe()},[]),E.jsx(_x.Provider,{value:{session:e,setSession:n},children:t})}function Sx(){const t=N.useContext(_x);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}const $k=Zf({title:Fr(),date:Fr().min(1,"Date cannot be empty"),completed:hN(),color:Fr()});function Wk({onAddTodo:t,onUpdateTodo:e,parent:n,onCloseForm:a,initialTodo:i}){const{session:l}=Sx(),u=i&&i.behavior==="node"&&i.shape==="todo";let f;u?f=new Date(i.dueDate).toISOString().split("T")[0]:f=new Date().toISOString().split("T")[0];const{register:g,handleSubmit:m,setError:v,formState:{isSubmitting:_}}=Bf({defaultValues:u?{title:i.title,date:f,completed:i.completed,color:i.color}:{title:"My Newest Todo",date:f,completed:!1,color:n?.color},resolver:Hf($k)}),[S,C]=N.useState(u?i.color:n?.color??"#ff2056"),T=async R=>{try{await new Promise(O=>setTimeout(O,500)),u?e(i,R):(console.log("init: "+i),t(R,n)),a()}catch(O){v("root",{message:"This Todo already exists!: "+O})}};return N.useEffect(()=>{const R=O=>{O.key==="Escape"&&a()};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[a]),E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-40"}),E.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90%] max-w-sm sm:max-w-md
    h-fit max-h-[90vh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-row justify-between items-start
    rounded-lg shadow-2xl z-50
  `,children:[E.jsx("div",{className:"absolute top-0 bottom-0 left-0 rounded-l-lg w-2 sm:w-3",style:{backgroundColor:S}}),E.jsxs("form",{onSubmit:m(T),className:"w-full h-full",children:[E.jsx("div",{className:"mb-1 flex w-full h-fit",children:E.jsx("input",{...g("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),E.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),E.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-red-200",style:{backgroundColor:n?n.color:"#d1d5dc",color:n?"#ffffff":"#000000"},children:E.jsx("span",{className:"text-sm text-start  w-full ",children:n?n.title:"Not Assigned"})})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),E.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-gray-200",children:E.jsx("span",{className:"text-sm text-start  w-full ",children:l?l.user.email:"Guest"})})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),E.jsx("input",{...g("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),E.jsxs("select",{...g("color"),value:S,onChange:R=>C(R.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),E.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:E.jsx("input",{...g("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),E.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[E.jsx("button",{className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:a,children:E.jsx("span",{className:"text-sm",children:"Cancel"})}),E.jsx("button",{type:"submit",disabled:_,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:_?E.jsx("span",{className:"text-sm",children:"Loading..."}):E.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}function Jk(t){return Dn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.793 2.232a.75.75 0 0 1-.025 1.06L3.622 7.25h10.003a5.375 5.375 0 0 1 0 10.75H10.75a.75.75 0 0 1 0-1.5h2.875a3.875 3.875 0 0 0 0-7.75H3.622l4.146 3.957a.75.75 0 0 1-1.036 1.085l-5.5-5.25a.75.75 0 0 1 0-1.085l5.5-5.25a.75.75 0 0 1 1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function eU(t){return Dn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.207 2.232a.75.75 0 0 0 .025 1.06l4.146 3.958H6.375a5.375 5.375 0 0 0 0 10.75H9.25a.75.75 0 0 0 0-1.5H6.375a3.875 3.875 0 0 1 0-7.75h10.003l-4.146 3.957a.75.75 0 0 0 1.036 1.085l5.5-5.25a.75.75 0 0 0 0-1.085l-5.5-5.25a.75.75 0 0 0-1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function tU(t){return Dn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function R5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zv(...t){return e=>{let n=!1;const a=t.map(i=>{const l=R5(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():R5(t[i],null)}}}}function Ea(...t){return N.useCallback(zv(...t),t)}function eg(t){const e=nU(t),n=N.forwardRef((a,i)=>{const{children:l,...u}=a,f=N.Children.toArray(l),g=f.find(rU);if(g){const m=g.props.children,v=f.map(_=>_===g?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:_);return E.jsx(e,{...u,ref:i,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return E.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function nU(t){const e=N.forwardRef((n,a)=>{const{children:i,...l}=n;if(N.isValidElement(i)){const u=sU(i),f=iU(l,i.props);return i.type!==N.Fragment&&(f.ref=a?zv(a,u):u),N.cloneElement(i,f)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xx=Symbol("radix.slottable");function aU(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=xx,e}function rU(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xx}function iU(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...f)=>{const g=l(...f);return i(...f),g}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function sU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mn=lU.reduce((t,e)=>{const n=eg(`Primitive.${e}`),a=N.forwardRef((i,l)=>{const{asChild:u,...f}=i,g=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(g,{...f,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function wx(t,e){t&&dg.flushSync(()=>t.dispatchEvent(e))}function oU(t,e){const n=N.createContext(e),a=l=>{const{children:u,...f}=l,g=N.useMemo(()=>f,Object.values(f));return E.jsx(n.Provider,{value:g,children:u})};a.displayName=t+"Provider";function i(l){const u=N.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function fo(t,e=[]){let n=[];function a(l,u){const f=N.createContext(u),g=n.length;n=[...n,u];const m=_=>{const{scope:S,children:C,...T}=_,R=S?.[t]?.[g]||f,O=N.useMemo(()=>T,Object.values(T));return E.jsx(R.Provider,{value:O,children:C})};m.displayName=l+"Provider";function v(_,S){const C=S?.[t]?.[g]||f,T=N.useContext(C);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[m,v]}const i=()=>{const l=n.map(u=>N.createContext(u));return function(f){const g=f?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...f,[t]:g}}),[f,g])}};return i.scopeName=t,[a,uU(i,...e)]}function uU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((f,{useScope:g,scopeName:m})=>{const _=g(l)[`__scope${m}`];return{...f,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Ex(t){const e=t+"CollectionProvider",[n,a]=fo(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:O,children:M}=R,j=Qe.useRef(null),z=Qe.useRef(new Map).current;return E.jsx(i,{scope:O,itemMap:z,collectionRef:j,children:M})};u.displayName=e;const f=t+"CollectionSlot",g=eg(f),m=Qe.forwardRef((R,O)=>{const{scope:M,children:j}=R,z=l(f,M),U=Ea(O,z.collectionRef);return E.jsx(g,{ref:U,children:j})});m.displayName=f;const v=t+"CollectionItemSlot",_="data-radix-collection-item",S=eg(v),C=Qe.forwardRef((R,O)=>{const{scope:M,children:j,...z}=R,U=Qe.useRef(null),H=Ea(O,U),L=l(v,M);return Qe.useEffect(()=>(L.itemMap.set(U,{ref:U,...z}),()=>void L.itemMap.delete(U))),E.jsx(S,{[_]:"",ref:H,children:j})});C.displayName=v;function T(R){const O=l(t+"CollectionConsumer",R);return Qe.useCallback(()=>{const j=O.collectionRef.current;if(!j)return[];const z=Array.from(j.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((L,Y)=>z.indexOf(L.ref.current)-z.indexOf(Y.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:u,Slot:m,ItemSlot:C},T,a]}function Ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var pu=globalThis?.document?N.useLayoutEffect:()=>{},cU=c3[" useInsertionEffect ".trim().toString()]||pu;function Xf({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,l,u]=dU({defaultProp:e,onChange:n}),f=t!==void 0,g=f?t:i;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==f&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,a])}const m=N.useCallback(v=>{if(f){const _=fU(v)?v(t):v;_!==t&&u.current?.(_)}else l(v)},[f,t,l,u]);return[g,m]}function dU({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),i=N.useRef(n),l=N.useRef(e);return cU(()=>{l.current=e},[e]),N.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function fU(t){return typeof t=="function"}function hU(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var Cu=t=>{const{present:e,children:n}=t,a=gU(e),i=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=Ea(a.ref,pU(i));return typeof n=="function"||a.isPresent?N.cloneElement(i,{ref:l}):null};Cu.displayName="Presence";function gU(t){const[e,n]=N.useState(),a=N.useRef(null),i=N.useRef(t),l=N.useRef("none"),u=t?"mounted":"unmounted",[f,g]=hU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const m=wm(a.current);l.current=f==="mounted"?m:"none"},[f]),pu(()=>{const m=a.current,v=i.current;if(v!==t){const S=l.current,C=wm(m);t?g("MOUNT"):C==="none"||m?.display==="none"?g("UNMOUNT"):g(v&&S!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,g]),pu(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,_=C=>{const R=wm(a.current).includes(CSS.escape(C.animationName));if(C.target===e&&R&&(g("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},S=C=>{C.target===e&&(l.current=wm(a.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:N.useCallback(m=>{a.current=m?getComputedStyle(m):null,n(m)},[])}}function wm(t){return t?.animationName||"none"}function pU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mU=c3[" useId ".trim().toString()]||(()=>{}),vU=0;function zf(t){const[e,n]=N.useState(mU());return pu(()=>{n(a=>a??String(vU++))},[t]),t||(e?`radix-${e}`:"")}var yU=N.createContext(void 0);function kv(t){const e=N.useContext(yU);return t||e||"ltr"}function ao(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function bU(t,e=globalThis?.document){const n=ao(t);N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var _U="DismissableLayer",i2="dismissableLayer.update",SU="dismissableLayer.pointerDownOutside",xU="dismissableLayer.focusOutside",O5,Cx=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F2=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...g}=t,m=N.useContext(Cx),[v,_]=N.useState(null),S=v?.ownerDocument??globalThis?.document,[,C]=N.useState({}),T=Ea(e,Y=>_(Y)),R=Array.from(m.layers),[O]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=R.indexOf(O),j=v?R.indexOf(v):-1,z=m.layersWithOutsidePointerEventsDisabled.size>0,U=j>=M,H=CU(Y=>{const Q=Y.target,ae=[...m.branches].some(_e=>_e.contains(Q));!U||ae||(i?.(Y),u?.(Y),Y.defaultPrevented||f?.())},S),L=TU(Y=>{const Q=Y.target;[...m.branches].some(_e=>_e.contains(Q))||(l?.(Y),u?.(Y),Y.defaultPrevented||f?.())},S);return bU(Y=>{j===m.layers.size-1&&(a?.(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},S),N.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(O5=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),N5(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=O5)}},[v,S,n,m]),N.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),N5())},[v,m]),N.useEffect(()=>{const Y=()=>C({});return document.addEventListener(i2,Y),()=>document.removeEventListener(i2,Y)},[]),E.jsx(Mn.div,{...g,ref:T,style:{pointerEvents:z?U?"auto":"none":void 0,...t.style},onFocusCapture:Ot(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ot(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ot(t.onPointerDownCapture,H.onPointerDownCapture)})});F2.displayName=_U;var wU="DismissableLayerBranch",EU=N.forwardRef((t,e)=>{const n=N.useContext(Cx),a=N.useRef(null),i=Ea(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),E.jsx(Mn.div,{...t,ref:i})});EU.displayName=wU;function CU(t,e=globalThis?.document){const n=ao(t),a=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let g=function(){Tx(SU,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=g,e.addEventListener("click",i.current,{once:!0})):g()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function TU(t,e=globalThis?.document){const n=ao(t),a=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!a.current&&Tx(xU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function N5(){const t=new CustomEvent(i2);document.dispatchEvent(t)}function Tx(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?wx(i,l):i.dispatchEvent(l)}var cy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",M5={bubbles:!1,cancelable:!0},AU="FocusScope",Q2=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,g]=N.useState(null),m=ao(i),v=ao(l),_=N.useRef(null),S=Ea(e,R=>g(R)),C=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(C.paused||!f)return;const U=z.target;f.contains(U)?_.current=U:ou(_.current,{select:!0})},O=function(z){if(C.paused||!f)return;const U=z.relatedTarget;U!==null&&(f.contains(U)||ou(_.current,{select:!0}))},M=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&ou(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const j=new MutationObserver(M);return f&&j.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),j.disconnect()}}},[a,f,C.paused]),N.useEffect(()=>{if(f){j5.add(C);const R=document.activeElement;if(!f.contains(R)){const M=new CustomEvent(cy,M5);f.addEventListener(cy,m),f.dispatchEvent(M),M.defaultPrevented||(RU(jU(Ax(f)),{select:!0}),document.activeElement===R&&ou(f))}return()=>{f.removeEventListener(cy,m),setTimeout(()=>{const M=new CustomEvent(dy,M5);f.addEventListener(dy,v),f.dispatchEvent(M),M.defaultPrevented||ou(R??document.body,{select:!0}),f.removeEventListener(dy,v),j5.remove(C)},0)}}},[f,m,v,C]);const T=N.useCallback(R=>{if(!n&&!a||C.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,M=document.activeElement;if(O&&M){const j=R.currentTarget,[z,U]=OU(j);z&&U?!R.shiftKey&&M===U?(R.preventDefault(),n&&ou(z,{select:!0})):R.shiftKey&&M===z&&(R.preventDefault(),n&&ou(U,{select:!0})):M===j&&R.preventDefault()}},[n,a,C.paused]);return E.jsx(Mn.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});Q2.displayName=AU;function RU(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(ou(a,{select:e}),document.activeElement!==n)return}function OU(t){const e=Ax(t),n=D5(e,t),a=D5(e.reverse(),t);return[n,a]}function Ax(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function D5(t,e){for(const n of t)if(!NU(n,{upTo:e}))return n}function NU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MU(t){return t instanceof HTMLInputElement&&"select"in t}function ou(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MU(t)&&e&&t.select()}}var j5=DU();function DU(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=z5(t,e),t.unshift(e)},remove(e){t=z5(t,e),t[0]?.resume()}}}function z5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function jU(t){return t.filter(e=>e.tagName!=="A")}var zU="Portal",$2=N.forwardRef((t,e)=>{const{container:n,...a}=t,[i,l]=N.useState(!1);pu(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?I9.createPortal(E.jsx(Mn.div,{...a,ref:e}),u):null});$2.displayName=zU;var fy=0;function Rx(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??k5()),document.body.insertAdjacentElement("beforeend",t[1]??k5()),fy++,()=>{fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fy--}},[])}function k5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cl=function(){return cl=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},cl.apply(this,arguments)};function Ox(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function kU(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Ym="right-scroll-bar-position",Zm="width-before-scroll-bar",UU="with-scroll-bars-hidden",LU="--removed-body-scroll-bar-size";function hy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function PU(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var BU=typeof window<"u"?N.useLayoutEffect:N.useEffect,U5=new WeakMap;function HU(t,e){var n=PU(null,function(a){return t.forEach(function(i){return hy(i,a)})});return BU(function(){var a=U5.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||hy(f,null)}),l.forEach(function(f){i.has(f)||hy(f,u)})}U5.set(n,t)},[t]),n}function GU(t){return t}function qU(t,e){e===void 0&&(e=GU);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var g=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(g)};m(),n={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),n}}}};return i}function VU(t){t===void 0&&(t={});var e=qU(null);return e.options=cl({async:!0,ssr:!1},t),e}var Nx=function(t){var e=t.sideCar,n=Ox(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,cl({},n))};Nx.isSideCarExport=!0;function YU(t,e){return t.useMedium(e),Nx}var Mx=VU(),gy=function(){},Uv=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:gy,onWheelCapture:gy,onTouchMoveCapture:gy}),i=a[0],l=a[1],u=t.forwardProps,f=t.children,g=t.className,m=t.removeScrollBar,v=t.enabled,_=t.shards,S=t.sideCar,C=t.noRelative,T=t.noIsolation,R=t.inert,O=t.allowPinchZoom,M=t.as,j=M===void 0?"div":M,z=t.gapMode,U=Ox(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=S,L=HU([n,e]),Y=cl(cl({},U),i);return N.createElement(N.Fragment,null,v&&N.createElement(H,{sideCar:Mx,removeScrollBar:m,shards:_,noRelative:C,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),u?N.cloneElement(N.Children.only(f),cl(cl({},Y),{ref:L})):N.createElement(j,cl({},Y,{className:g,ref:L}),f))});Uv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uv.classNames={fullWidth:Zm,zeroRight:Ym};var ZU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ZU();return e&&t.setAttribute("nonce",e),t}function XU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function KU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=IU())&&(XU(e,n),KU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},QU=function(){var t=FU();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Dx=function(){var t=QU(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},$U={left:0,top:0,right:0,gap:0},py=function(t){return parseInt(t||"",10)||0},WU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[py(n),py(a),py(i)]},JU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $U;var e=WU(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},eL=Dx(),kf="data-scroll-locked",tL=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(UU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(kf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ym,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Zm,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Ym," .").concat(Ym,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Zm," .").concat(Zm,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(kf,`] {
    `).concat(LU,": ").concat(f,`px;
  }
`)},L5=function(){var t=parseInt(document.body.getAttribute(kf)||"0",10);return isFinite(t)?t:0},nL=function(){N.useEffect(function(){return document.body.setAttribute(kf,(L5()+1).toString()),function(){var t=L5()-1;t<=0?document.body.removeAttribute(kf):document.body.setAttribute(kf,t.toString())}},[])},aL=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;nL();var l=N.useMemo(function(){return JU(i)},[i]);return N.createElement(eL,{styles:tL(l,!e,i,n?"":"!important")})},s2=!1;if(typeof window<"u")try{var Em=Object.defineProperty({},"passive",{get:function(){return s2=!0,!0}});window.addEventListener("test",Em,Em),window.removeEventListener("test",Em,Em)}catch{s2=!1}var bf=s2?{passive:!1}:!1,rL=function(t){return t.tagName==="TEXTAREA"},jx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rL(t)&&n[e]==="visible")},iL=function(t){return jx(t,"overflowY")},sL=function(t){return jx(t,"overflowX")},P5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=zx(t,a);if(i){var l=kx(t,a),u=l[1],f=l[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},lL=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},oL=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},zx=function(t,e){return t==="v"?iL(e):sL(e)},kx=function(t,e){return t==="v"?lL(e):oL(e)},uL=function(t,e){return t==="h"&&e==="rtl"?-1:1},cL=function(t,e,n,a,i){var l=uL(t,window.getComputedStyle(e).direction),u=l*a,f=n.target,g=e.contains(f),m=!1,v=u>0,_=0,S=0;do{if(!f)break;var C=kx(t,f),T=C[0],R=C[1],O=C[2],M=R-O-l*T;(T||M)&&zx(t,f)&&(_+=M,S+=T);var j=f.parentNode;f=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!g&&f!==document.body||g&&(e.contains(f)||e===f));return(v&&Math.abs(_)<1||!v&&Math.abs(S)<1)&&(m=!0),m},Cm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B5=function(t){return[t.deltaX,t.deltaY]},H5=function(t){return t&&"current"in t?t.current:t},dL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hL=0,_f=[];function gL(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),i=N.useState(hL++)[0],l=N.useState(Dx)[0],u=N.useRef(t);N.useEffect(function(){u.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=kU([t.lockRef.current],(t.shards||[]).map(H5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var M=Cm(R),j=n.current,z="deltaX"in R?R.deltaX:j[0]-M[0],U="deltaY"in R?R.deltaY:j[1]-M[1],H,L=R.target,Y=Math.abs(z)>Math.abs(U)?"h":"v";if("touches"in R&&Y==="h"&&L.type==="range")return!1;var Q=P5(Y,L);if(!Q)return!0;if(Q?H=Y:(H=Y==="v"?"h":"v",Q=P5(Y,L)),!Q)return!1;if(!a.current&&"changedTouches"in R&&(z||U)&&(a.current=H),!H)return!0;var ae=a.current||H;return cL(ae,O,R,ae==="h"?z:U)},[]),g=N.useCallback(function(R){var O=R;if(!(!_f.length||_f[_f.length-1]!==l)){var M="deltaY"in O?B5(O):Cm(O),j=e.current.filter(function(H){return H.name===O.type&&(H.target===O.target||O.target===H.shadowParent)&&dL(H.delta,M)})[0];if(j&&j.should){O.cancelable&&O.preventDefault();return}if(!j){var z=(u.current.shards||[]).map(H5).filter(Boolean).filter(function(H){return H.contains(O.target)}),U=z.length>0?f(O,z[0]):!u.current.noIsolation;U&&O.cancelable&&O.preventDefault()}}},[]),m=N.useCallback(function(R,O,M,j){var z={name:R,delta:O,target:M,should:j,shadowParent:pL(M)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(U){return U!==z})},1)},[]),v=N.useCallback(function(R){n.current=Cm(R),a.current=void 0},[]),_=N.useCallback(function(R){m(R.type,B5(R),R.target,f(R,t.lockRef.current))},[]),S=N.useCallback(function(R){m(R.type,Cm(R),R.target,f(R,t.lockRef.current))},[]);N.useEffect(function(){return _f.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",g,bf),document.addEventListener("touchmove",g,bf),document.addEventListener("touchstart",v,bf),function(){_f=_f.filter(function(R){return R!==l}),document.removeEventListener("wheel",g,bf),document.removeEventListener("touchmove",g,bf),document.removeEventListener("touchstart",v,bf)}},[]);var C=t.removeScrollBar,T=t.inert;return N.createElement(N.Fragment,null,T?N.createElement(l,{styles:fL(i)}):null,C?N.createElement(aL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const mL=YU(Mx,gL);var W2=N.forwardRef(function(t,e){return N.createElement(Uv,cl({},t,{ref:e,sideCar:mL}))});W2.classNames=Uv.classNames;var vL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sf=new WeakMap,Tm=new WeakMap,Am={},my=0,Ux=function(t){return t&&(t.host||Ux(t.parentNode))},yL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=Ux(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bL=function(t,e,n,a){var i=yL(e,Array.isArray(t)?t:[t]);Am[n]||(Am[n]=new WeakMap);var l=Am[n],u=[],f=new Set,g=new Set(i),m=function(_){!_||f.has(_)||(f.add(_),m(_.parentNode))};i.forEach(m);var v=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(S){if(f.has(S))v(S);else try{var C=S.getAttribute(a),T=C!==null&&C!=="false",R=(Sf.get(S)||0)+1,O=(l.get(S)||0)+1;Sf.set(S,R),l.set(S,O),u.push(S),R===1&&T&&Tm.set(S,!0),O===1&&S.setAttribute(n,"true"),T||S.setAttribute(a,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return v(e),f.clear(),my++,function(){u.forEach(function(_){var S=Sf.get(_)-1,C=l.get(_)-1;Sf.set(_,S),l.set(_,C),S||(Tm.has(_)||_.removeAttribute(a),Tm.delete(_)),C||_.removeAttribute(n)}),my--,my||(Sf=new WeakMap,Sf=new WeakMap,Tm=new WeakMap,Am={})}},Lx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=vL(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),bL(a,i,n,"aria-hidden")):function(){return null}},Lv="Dialog",[Px,Bx]=fo(Lv),[_L,xs]=Px(Lv),Hx=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=N.useRef(null),g=N.useRef(null),[m,v]=Xf({prop:a,defaultProp:i??!1,onChange:l,caller:Lv});return E.jsx(_L,{scope:e,triggerRef:f,contentRef:g,contentId:zf(),titleId:zf(),descriptionId:zf(),open:m,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:u,children:n})};Hx.displayName=Lv;var Gx="DialogTrigger",qx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=xs(Gx,n),l=Ea(e,i.triggerRef);return E.jsx(Mn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tb(i.open),...a,ref:l,onClick:Ot(t.onClick,i.onOpenToggle)})});qx.displayName=Gx;var J2="DialogPortal",[SL,Vx]=Px(J2,{forceMount:void 0}),Yx=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=xs(J2,e);return E.jsx(SL,{scope:e,forceMount:n,children:N.Children.map(a,u=>E.jsx(Cu,{present:n||l.open,children:E.jsx($2,{asChild:!0,container:i,children:u})}))})};Yx.displayName=J2;var cv="DialogOverlay",Zx=N.forwardRef((t,e)=>{const n=Vx(cv,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=xs(cv,t.__scopeDialog);return l.modal?E.jsx(Cu,{present:a||l.open,children:E.jsx(wL,{...i,ref:e})}):null});Zx.displayName=cv;var xL=eg("DialogOverlay.RemoveScroll"),wL=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=xs(cv,n);return E.jsx(W2,{as:xL,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(Mn.div,{"data-state":tb(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),kc="DialogContent",Ix=N.forwardRef((t,e)=>{const n=Vx(kc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=xs(kc,t.__scopeDialog);return E.jsx(Cu,{present:a||l.open,children:l.modal?E.jsx(EL,{...i,ref:e}):E.jsx(CL,{...i,ref:e})})});Ix.displayName=kc;var EL=N.forwardRef((t,e)=>{const n=xs(kc,t.__scopeDialog),a=N.useRef(null),i=Ea(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return Lx(l)},[]),E.jsx(Xx,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ot(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Ot(t.onFocusOutside,l=>l.preventDefault())})}),CL=N.forwardRef((t,e)=>{const n=xs(kc,t.__scopeDialog),a=N.useRef(!1),i=N.useRef(!1);return E.jsx(Xx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),Xx=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=xs(kc,n),g=N.useRef(null),m=Ea(e,g);return Rx(),E.jsxs(E.Fragment,{children:[E.jsx(Q2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:E.jsx(F2,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":tb(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(AL,{titleId:f.titleId}),E.jsx(OL,{contentRef:g,descriptionId:f.descriptionId})]})]})}),eb="DialogTitle",Kx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=xs(eb,n);return E.jsx(Mn.h2,{id:i.titleId,...a,ref:e})});Kx.displayName=eb;var Fx="DialogDescription",Qx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=xs(Fx,n);return E.jsx(Mn.p,{id:i.descriptionId,...a,ref:e})});Qx.displayName=Fx;var $x="DialogClose",Wx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=xs($x,n);return E.jsx(Mn.button,{type:"button",...a,ref:e,onClick:Ot(t.onClick,()=>i.onOpenChange(!1))})});Wx.displayName=$x;function tb(t){return t?"open":"closed"}var Jx="DialogTitleWarning",[TL,e6]=oU(Jx,{contentName:kc,titleName:eb,docsSlug:"dialog"}),AL=({titleId:t})=>{const e=e6(Jx),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},RL="DialogDescriptionWarning",OL=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e6(RL).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},NL=Hx,ML=qx,DL=Yx,jL=Zx,zL=Ix,kL=Kx,UL=Qx,t6=Wx,n6="AlertDialog",[LL]=fo(n6,[Bx]),ho=Bx(),a6=t=>{const{__scopeAlertDialog:e,...n}=t,a=ho(e);return E.jsx(NL,{...a,...n,modal:!0})};a6.displayName=n6;var PL="AlertDialogTrigger",r6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=ho(n);return E.jsx(ML,{...i,...a,ref:e})});r6.displayName=PL;var BL="AlertDialogPortal",i6=t=>{const{__scopeAlertDialog:e,...n}=t,a=ho(e);return E.jsx(DL,{...a,...n})};i6.displayName=BL;var HL="AlertDialogOverlay",s6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=ho(n);return E.jsx(jL,{...i,...a,ref:e})});s6.displayName=HL;var Uf="AlertDialogContent",[GL,qL]=LL(Uf),VL=aU("AlertDialogContent"),l6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,l=ho(n),u=N.useRef(null),f=Ea(e,u),g=N.useRef(null);return E.jsx(TL,{contentName:Uf,titleName:o6,docsSlug:"alert-dialog",children:E.jsx(GL,{scope:n,cancelRef:g,children:E.jsxs(zL,{role:"alertdialog",...l,...i,ref:f,onOpenAutoFocus:Ot(i.onOpenAutoFocus,m=>{m.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[E.jsx(VL,{children:a}),E.jsx(ZL,{contentRef:u})]})})})});l6.displayName=Uf;var o6="AlertDialogTitle",u6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=ho(n);return E.jsx(kL,{...i,...a,ref:e})});u6.displayName=o6;var c6="AlertDialogDescription",d6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=ho(n);return E.jsx(UL,{...i,...a,ref:e})});d6.displayName=c6;var YL="AlertDialogAction",f6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=ho(n);return E.jsx(t6,{...i,...a,ref:e})});f6.displayName=YL;var h6="AlertDialogCancel",g6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=qL(h6,n),l=ho(n),u=Ea(e,i);return E.jsx(t6,{...l,...a,ref:u})});g6.displayName=h6;var ZL=({contentRef:t})=>{const e=`\`${Uf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Uf}\` by passing a \`${c6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Uf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Rm=a6,vy=r6,Om=i6,Nm=s6,Mm=l6,yy=f6,Dm=g6,jm=u6,zm=d6;function IL(t){const[e,n]=N.useState(void 0);return pu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const g=l.borderBoxSize,m=Array.isArray(g)?g[0]:g;u=m.inlineSize,f=m.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const XL=["top","right","bottom","left"],mu=Math.min,oi=Math.max,dv=Math.round,km=Math.floor,hl=t=>({x:t,y:t}),KL={left:"right",right:"left",bottom:"top",top:"bottom"},FL={start:"end",end:"start"};function l2(t,e,n){return oi(t,mu(e,n))}function ro(t,e){return typeof t=="function"?t(e):t}function io(t){return t.split("-")[0]}function Kf(t){return t.split("-")[1]}function nb(t){return t==="x"?"y":"x"}function ab(t){return t==="y"?"height":"width"}const QL=new Set(["top","bottom"]);function dl(t){return QL.has(io(t))?"y":"x"}function rb(t){return nb(dl(t))}function $L(t,e,n){n===void 0&&(n=!1);const a=Kf(t),i=rb(t),l=ab(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=fv(u)),[u,fv(u)]}function WL(t){const e=fv(t);return[o2(t),e,o2(e)]}function o2(t){return t.replace(/start|end/g,e=>FL[e])}const G5=["left","right"],q5=["right","left"],JL=["top","bottom"],eP=["bottom","top"];function tP(t,e,n){switch(t){case"top":case"bottom":return n?e?q5:G5:e?G5:q5;case"left":case"right":return e?JL:eP;default:return[]}}function nP(t,e,n,a){const i=Kf(t);let l=tP(io(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(o2)))),l}function fv(t){return t.replace(/left|right|bottom|top/g,e=>KL[e])}function aP(t){return{top:0,right:0,bottom:0,left:0,...t}}function p6(t){return typeof t!="number"?aP(t):{top:t,right:t,bottom:t,left:t}}function hv(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function V5(t,e,n){let{reference:a,floating:i}=t;const l=dl(e),u=rb(e),f=ab(u),g=io(e),m=l==="y",v=a.x+a.width/2-i.width/2,_=a.y+a.height/2-i.height/2,S=a[f]/2-i[f]/2;let C;switch(g){case"top":C={x:v,y:a.y-i.height};break;case"bottom":C={x:v,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:_};break;case"left":C={x:a.x-i.width,y:_};break;default:C={x:a.x,y:a.y}}switch(Kf(e)){case"start":C[u]-=S*(n&&m?-1:1);break;case"end":C[u]+=S*(n&&m?-1:1);break}return C}const rP=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:_}=V5(m,a,g),S=a,C={},T=0;for(let R=0;R<f.length;R++){const{name:O,fn:M}=f[R],{x:j,y:z,data:U,reset:H}=await M({x:v,y:_,initialPlacement:a,placement:S,strategy:i,middlewareData:C,rects:m,platform:u,elements:{reference:t,floating:e}});v=j??v,_=z??_,C={...C,[O]:{...C[O],...U}},H&&T<=50&&(T++,typeof H=="object"&&(H.placement&&(S=H.placement),H.rects&&(m=H.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:v,y:_}=V5(m,S,g)),R=-1)}return{x:v,y:_,placement:S,strategy:i,middlewareData:C}};async function tg(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:f,strategy:g}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:S=!1,padding:C=0}=ro(e,t),T=p6(C),O=f[S?_==="floating"?"reference":"floating":_],M=hv(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:v,strategy:g})),j=_==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),U=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},H=hv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:j,offsetParent:z,strategy:g}):j);return{top:(M.top-H.top+T.top)/U.y,bottom:(H.bottom-M.bottom+T.bottom)/U.y,left:(M.left-H.left+T.left)/U.x,right:(H.right-M.right+T.right)/U.x}}const iP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:g}=e,{element:m,padding:v=0}=ro(t,e)||{};if(m==null)return{};const _=p6(v),S={x:n,y:a},C=rb(i),T=ab(C),R=await u.getDimensions(m),O=C==="y",M=O?"top":"left",j=O?"bottom":"right",z=O?"clientHeight":"clientWidth",U=l.reference[T]+l.reference[C]-S[C]-l.floating[T],H=S[C]-l.reference[C],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let Y=L?L[z]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(L)))&&(Y=f.floating[z]||l.floating[T]);const Q=U/2-H/2,ae=Y/2-R[T]/2-1,_e=mu(_[M],ae),Oe=mu(_[j],ae),ie=_e,ve=Y-R[T]-Oe,ce=Y/2-R[T]/2+Q,fe=l2(ie,ce,ve),B=!g.arrow&&Kf(i)!=null&&ce!==fe&&l.reference[T]/2-(ce<ie?_e:Oe)-R[T]/2<0,se=B?ce<ie?ce-ie:ce-ve:0;return{[C]:S[C]+se,data:{[C]:fe,centerOffset:ce-fe-se,...B&&{alignmentOffset:se}},reset:B}}}),sP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:g,elements:m}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...O}=ro(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const M=io(i),j=dl(f),z=io(f)===f,U=await(g.isRTL==null?void 0:g.isRTL(m.floating)),H=S||(z||!R?[fv(f)]:WL(f)),L=T!=="none";!S&&L&&H.push(...nP(f,R,T,U));const Y=[f,...H],Q=await tg(e,O),ae=[];let _e=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&ae.push(Q[M]),_){const ce=$L(i,u,U);ae.push(Q[ce[0]],Q[ce[1]])}if(_e=[..._e,{placement:i,overflows:ae}],!ae.every(ce=>ce<=0)){var Oe,ie;const ce=(((Oe=l.flip)==null?void 0:Oe.index)||0)+1,fe=Y[ce];if(fe&&(!(_==="alignment"?j!==dl(fe):!1)||_e.every(K=>dl(K.placement)===j?K.overflows[0]>0:!0)))return{data:{index:ce,overflows:_e},reset:{placement:fe}};let B=(ie=_e.filter(se=>se.overflows[0]<=0).sort((se,K)=>se.overflows[1]-K.overflows[1])[0])==null?void 0:ie.placement;if(!B)switch(C){case"bestFit":{var ve;const se=(ve=_e.filter(K=>{if(L){const pe=dl(K.placement);return pe===j||pe==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(pe=>pe>0).reduce((pe,G)=>pe+G,0)]).sort((K,pe)=>K[1]-pe[1])[0])==null?void 0:ve[0];se&&(B=se);break}case"initialPlacement":B=f;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function Y5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Z5(t){return XL.some(e=>t[e]>=0)}const lP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=ro(t,e);switch(a){case"referenceHidden":{const l=await tg(e,{...i,elementContext:"reference"}),u=Y5(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Z5(u)}}}case"escaped":{const l=await tg(e,{...i,altBoundary:!0}),u=Y5(l,n.floating);return{data:{escapedOffsets:u,escaped:Z5(u)}}}default:return{}}}}},m6=new Set(["left","top"]);async function oP(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=io(n),f=Kf(n),g=dl(n)==="y",m=m6.has(u)?-1:1,v=l&&g?-1:1,_=ro(e,t);let{mainAxis:S,crossAxis:C,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof T=="number"&&(C=f==="end"?T*-1:T),g?{x:C*v,y:S*m}:{x:S*m,y:C*v}}const uP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:f}=e,g=await oP(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+g.x,y:l+g.y,data:{...g,placement:u}}}}},cP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:O=>{let{x:M,y:j}=O;return{x:M,y:j}}},...g}=ro(t,e),m={x:n,y:a},v=await tg(e,g),_=dl(io(i)),S=nb(_);let C=m[S],T=m[_];if(l){const O=S==="y"?"top":"left",M=S==="y"?"bottom":"right",j=C+v[O],z=C-v[M];C=l2(j,C,z)}if(u){const O=_==="y"?"top":"left",M=_==="y"?"bottom":"right",j=T+v[O],z=T-v[M];T=l2(j,T,z)}const R=f.fn({...e,[S]:C,[_]:T});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[S]:l,[_]:u}}}}}},dP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:g=!0,crossAxis:m=!0}=ro(t,e),v={x:n,y:a},_=dl(i),S=nb(_);let C=v[S],T=v[_];const R=ro(f,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(g){const z=S==="y"?"height":"width",U=l.reference[S]-l.floating[z]+O.mainAxis,H=l.reference[S]+l.reference[z]-O.mainAxis;C<U?C=U:C>H&&(C=H)}if(m){var M,j;const z=S==="y"?"width":"height",U=m6.has(io(i)),H=l.reference[_]-l.floating[z]+(U&&((M=u.offset)==null?void 0:M[_])||0)+(U?0:O.crossAxis),L=l.reference[_]+l.reference[z]+(U?0:((j=u.offset)==null?void 0:j[_])||0)-(U?O.crossAxis:0);T<H?T=H:T>L&&(T=L)}return{[S]:C,[_]:T}}}},fP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:g=()=>{},...m}=ro(t,e),v=await tg(e,m),_=io(i),S=Kf(i),C=dl(i)==="y",{width:T,height:R}=l.floating;let O,M;_==="top"||_==="bottom"?(O=_,M=S===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(M=_,O=S==="end"?"top":"bottom");const j=R-v.top-v.bottom,z=T-v.left-v.right,U=mu(R-v[O],j),H=mu(T-v[M],z),L=!e.middlewareData.shift;let Y=U,Q=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Q=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(Y=j),L&&!S){const _e=oi(v.left,0),Oe=oi(v.right,0),ie=oi(v.top,0),ve=oi(v.bottom,0);C?Q=T-2*(_e!==0||Oe!==0?_e+Oe:oi(v.left,v.right)):Y=R-2*(ie!==0||ve!==0?ie+ve:oi(v.top,v.bottom))}await g({...e,availableWidth:Q,availableHeight:Y});const ae=await u.getDimensions(f.floating);return T!==ae.width||R!==ae.height?{reset:{rects:!0}}:{}}}};function Pv(){return typeof window<"u"}function Ff(t){return v6(t)?(t.nodeName||"").toLowerCase():"#document"}function fi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yl(t){var e;return(e=(v6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function v6(t){return Pv()?t instanceof Node||t instanceof fi(t).Node:!1}function bs(t){return Pv()?t instanceof Element||t instanceof fi(t).Element:!1}function gl(t){return Pv()?t instanceof HTMLElement||t instanceof fi(t).HTMLElement:!1}function I5(t){return!Pv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fi(t).ShadowRoot}const hP=new Set(["inline","contents"]);function yg(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=_s(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!hP.has(i)}const gP=new Set(["table","td","th"]);function pP(t){return gP.has(Ff(t))}const mP=[":popover-open",":modal"];function Bv(t){return mP.some(e=>{try{return t.matches(e)}catch{return!1}})}const vP=["transform","translate","scale","rotate","perspective"],yP=["transform","translate","scale","rotate","perspective","filter"],bP=["paint","layout","strict","content"];function ib(t){const e=sb(),n=bs(t)?_s(t):t;return vP.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yP.some(a=>(n.willChange||"").includes(a))||bP.some(a=>(n.contain||"").includes(a))}function _P(t){let e=vu(t);for(;gl(e)&&!Vf(e);){if(ib(e))return e;if(Bv(e))return null;e=vu(e)}return null}function sb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SP=new Set(["html","body","#document"]);function Vf(t){return SP.has(Ff(t))}function _s(t){return fi(t).getComputedStyle(t)}function Hv(t){return bs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vu(t){if(Ff(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I5(t)&&t.host||yl(t);return I5(e)?e.host:e}function y6(t){const e=vu(t);return Vf(e)?t.ownerDocument?t.ownerDocument.body:t.body:gl(e)&&yg(e)?e:y6(e)}function ng(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=y6(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=fi(i);if(l){const f=u2(u);return e.concat(u,u.visualViewport||[],yg(i)?i:[],f&&n?ng(f):[])}return e.concat(i,ng(i,[],n))}function u2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function b6(t){const e=_s(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=gl(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,f=dv(n)!==l||dv(a)!==u;return f&&(n=l,a=u),{width:n,height:a,$:f}}function lb(t){return bs(t)?t:t.contextElement}function Lf(t){const e=lb(t);if(!gl(e))return hl(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=b6(e);let u=(l?dv(n.width):n.width)/a,f=(l?dv(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const xP=hl(0);function _6(t){const e=fi(t);return!sb()||!e.visualViewport?xP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fi(t)?!1:e}function Uc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=lb(t);let u=hl(1);e&&(a?bs(a)&&(u=Lf(a)):u=Lf(t));const f=wP(l,n,a)?_6(l):hl(0);let g=(i.left+f.x)/u.x,m=(i.top+f.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(l){const S=fi(l),C=a&&bs(a)?fi(a):a;let T=S,R=u2(T);for(;R&&a&&C!==T;){const O=Lf(R),M=R.getBoundingClientRect(),j=_s(R),z=M.left+(R.clientLeft+parseFloat(j.paddingLeft))*O.x,U=M.top+(R.clientTop+parseFloat(j.paddingTop))*O.y;g*=O.x,m*=O.y,v*=O.x,_*=O.y,g+=z,m+=U,T=fi(R),R=u2(T)}}return hv({width:v,height:_,x:g,y:m})}function Gv(t,e){const n=Hv(t).scrollLeft;return e?e.left+n:Uc(yl(t)).left+n}function S6(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Gv(t,n),i=n.top+e.scrollTop;return{x:a,y:i}}function EP(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=yl(a),f=e?Bv(e.floating):!1;if(a===u||f&&l)return n;let g={scrollLeft:0,scrollTop:0},m=hl(1);const v=hl(0),_=gl(a);if((_||!_&&!l)&&((Ff(a)!=="body"||yg(u))&&(g=Hv(a)),gl(a))){const C=Uc(a);m=Lf(a),v.x=C.x+a.clientLeft,v.y=C.y+a.clientTop}const S=u&&!_&&!l?S6(u,g):hl(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-g.scrollLeft*m.x+v.x+S.x,y:n.y*m.y-g.scrollTop*m.y+v.y+S.y}}function CP(t){return Array.from(t.getClientRects())}function TP(t){const e=yl(t),n=Hv(t),a=t.ownerDocument.body,i=oi(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=oi(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Gv(t);const f=-n.scrollTop;return _s(a).direction==="rtl"&&(u+=oi(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:f}}const X5=25;function AP(t,e){const n=fi(t),a=yl(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,f=0,g=0;if(i){l=i.width,u=i.height;const v=sb();(!v||v&&e==="fixed")&&(f=i.offsetLeft,g=i.offsetTop)}const m=Gv(a);if(m<=0){const v=a.ownerDocument,_=v.body,S=getComputedStyle(_),C=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(a.clientWidth-_.clientWidth-C);T<=X5&&(l-=T)}else m<=X5&&(l+=m);return{width:l,height:u,x:f,y:g}}const RP=new Set(["absolute","fixed"]);function OP(t,e){const n=Uc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=gl(t)?Lf(t):hl(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,g=i*l.x,m=a*l.y;return{width:u,height:f,x:g,y:m}}function K5(t,e,n){let a;if(e==="viewport")a=AP(t,n);else if(e==="document")a=TP(yl(t));else if(bs(e))a=OP(e,n);else{const i=_6(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hv(a)}function x6(t,e){const n=vu(t);return n===e||!bs(n)||Vf(n)?!1:_s(n).position==="fixed"||x6(n,e)}function NP(t,e){const n=e.get(t);if(n)return n;let a=ng(t,[],!1).filter(f=>bs(f)&&Ff(f)!=="body"),i=null;const l=_s(t).position==="fixed";let u=l?vu(t):t;for(;bs(u)&&!Vf(u);){const f=_s(u),g=ib(u);!g&&f.position==="fixed"&&(i=null),(l?!g&&!i:!g&&f.position==="static"&&!!i&&RP.has(i.position)||yg(u)&&!g&&x6(t,u))?a=a.filter(v=>v!==u):i=f,u=vu(u)}return e.set(t,a),a}function MP(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Bv(e)?[]:NP(e,this._c):[].concat(n),a],f=u[0],g=u.reduce((m,v)=>{const _=K5(e,v,i);return m.top=oi(_.top,m.top),m.right=mu(_.right,m.right),m.bottom=mu(_.bottom,m.bottom),m.left=oi(_.left,m.left),m},K5(e,f,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function DP(t){const{width:e,height:n}=b6(t);return{width:e,height:n}}function jP(t,e,n){const a=gl(e),i=yl(e),l=n==="fixed",u=Uc(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const g=hl(0);function m(){g.x=Gv(i)}if(a||!a&&!l)if((Ff(e)!=="body"||yg(i))&&(f=Hv(e)),a){const C=Uc(e,!0,l,e);g.x=C.x+e.clientLeft,g.y=C.y+e.clientTop}else i&&m();l&&!a&&i&&m();const v=i&&!a&&!l?S6(i,f):hl(0),_=u.left+f.scrollLeft-g.x-v.x,S=u.top+f.scrollTop-g.y-v.y;return{x:_,y:S,width:u.width,height:u.height}}function by(t){return _s(t).position==="static"}function F5(t,e){if(!gl(t)||_s(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yl(t)===n&&(n=n.ownerDocument.body),n}function w6(t,e){const n=fi(t);if(Bv(t))return n;if(!gl(t)){let i=vu(t);for(;i&&!Vf(i);){if(bs(i)&&!by(i))return i;i=vu(i)}return n}let a=F5(t,e);for(;a&&pP(a)&&by(a);)a=F5(a,e);return a&&Vf(a)&&by(a)&&!ib(a)?n:a||_P(t)||n}const zP=async function(t){const e=this.getOffsetParent||w6,n=this.getDimensions,a=await n(t.floating);return{reference:jP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function kP(t){return _s(t).direction==="rtl"}const UP={convertOffsetParentRelativeRectToViewportRelativeRect:EP,getDocumentElement:yl,getClippingRect:MP,getOffsetParent:w6,getElementRects:zP,getClientRects:CP,getDimensions:DP,getScale:Lf,isElement:bs,isRTL:kP};function E6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LP(t,e){let n=null,a;const i=yl(t);function l(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function u(f,g){f===void 0&&(f=!1),g===void 0&&(g=1),l();const m=t.getBoundingClientRect(),{left:v,top:_,width:S,height:C}=m;if(f||e(),!S||!C)return;const T=km(_),R=km(i.clientWidth-(v+S)),O=km(i.clientHeight-(_+C)),M=km(v),z={rootMargin:-T+"px "+-R+"px "+-O+"px "+-M+"px",threshold:oi(0,mu(1,g))||1};let U=!0;function H(L){const Y=L[0].intersectionRatio;if(Y!==g){if(!U)return u();Y?u(!1,Y):a=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!E6(m,t.getBoundingClientRect())&&u(),U=!1}try{n=new IntersectionObserver(H,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,z)}n.observe(t)}return u(!0),l}function PP(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,m=lb(t),v=i||l?[...m?ng(m):[],...ng(e)]:[];v.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const _=m&&f?LP(m,n):null;let S=-1,C=null;u&&(C=new ResizeObserver(M=>{let[j]=M;j&&j.target===m&&C&&(C.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),n()}),m&&!g&&C.observe(m),C.observe(e));let T,R=g?Uc(t):null;g&&O();function O(){const M=Uc(t);R&&!E6(R,M)&&n(),R=M,T=requestAnimationFrame(O)}return n(),()=>{var M;v.forEach(j=>{i&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),_?.(),(M=C)==null||M.disconnect(),C=null,g&&cancelAnimationFrame(T)}}const BP=uP,HP=cP,GP=sP,qP=fP,VP=lP,Q5=iP,YP=dP,ZP=(t,e,n)=>{const a=new Map,i={platform:UP,...n},l={...i.platform,_c:a};return rP(t,e,{...i,platform:l})};var IP=typeof document<"u",XP=function(){},Im=IP?N.useLayoutEffect:XP;function gv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!gv(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!gv(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function C6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $5(t,e){const n=C6(t);return Math.round(e*n)/n}function _y(t){const e=N.useRef(t);return Im(()=>{e.current=t}),e}function KP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:g,open:m}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,C]=N.useState(a);gv(S,a)||C(a);const[T,R]=N.useState(null),[O,M]=N.useState(null),j=N.useCallback(K=>{K!==L.current&&(L.current=K,R(K))},[]),z=N.useCallback(K=>{K!==Y.current&&(Y.current=K,M(K))},[]),U=l||T,H=u||O,L=N.useRef(null),Y=N.useRef(null),Q=N.useRef(v),ae=g!=null,_e=_y(g),Oe=_y(i),ie=_y(m),ve=N.useCallback(()=>{if(!L.current||!Y.current)return;const K={placement:e,strategy:n,middleware:S};Oe.current&&(K.platform=Oe.current),ZP(L.current,Y.current,K).then(pe=>{const G={...pe,isPositioned:ie.current!==!1};ce.current&&!gv(Q.current,G)&&(Q.current=G,dg.flushSync(()=>{_(G)}))})},[S,e,n,Oe,ie]);Im(()=>{m===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,_(K=>({...K,isPositioned:!1})))},[m]);const ce=N.useRef(!1);Im(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Im(()=>{if(U&&(L.current=U),H&&(Y.current=H),U&&H){if(_e.current)return _e.current(U,H,ve);ve()}},[U,H,ve,_e,ae]);const fe=N.useMemo(()=>({reference:L,floating:Y,setReference:j,setFloating:z}),[j,z]),B=N.useMemo(()=>({reference:U,floating:H}),[U,H]),se=N.useMemo(()=>{const K={position:n,left:0,top:0};if(!B.floating)return K;const pe=$5(B.floating,v.x),G=$5(B.floating,v.y);return f?{...K,transform:"translate("+pe+"px, "+G+"px)",...C6(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:G}},[n,f,B.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:ve,refs:fe,elements:B,floatingStyles:se}),[v,ve,fe,B,se])}const FP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?Q5({element:a.current,padding:i}).fn(n):{}:a?Q5({element:a,padding:i}).fn(n):{}}}},QP=(t,e)=>({...BP(t),options:[t,e]}),$P=(t,e)=>({...HP(t),options:[t,e]}),WP=(t,e)=>({...YP(t),options:[t,e]}),JP=(t,e)=>({...GP(t),options:[t,e]}),eB=(t,e)=>({...qP(t),options:[t,e]}),tB=(t,e)=>({...VP(t),options:[t,e]}),nB=(t,e)=>({...FP(t),options:[t,e]});var aB="Arrow",T6=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return E.jsx(Mn.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});T6.displayName=aB;var rB=T6,ob="Popper",[A6,R6]=fo(ob),[iB,O6]=A6(ob),N6=t=>{const{__scopePopper:e,children:n}=t,[a,i]=N.useState(null);return E.jsx(iB,{scope:e,anchor:a,onAnchorChange:i,children:n})};N6.displayName=ob;var M6="PopperAnchor",D6=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=O6(M6,n),u=N.useRef(null),f=Ea(e,u),g=N.useRef(null);return N.useEffect(()=>{const m=g.current;g.current=a?.current||u.current,m!==g.current&&l.onAnchorChange(g.current)}),a?null:E.jsx(Mn.div,{...i,ref:f})});D6.displayName=M6;var ub="PopperContent",[sB,lB]=A6(ub),j6=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:T,...R}=t,O=O6(ub,n),[M,j]=N.useState(null),z=Ea(e,be=>j(be)),[U,H]=N.useState(null),L=IL(U),Y=L?.width??0,Q=L?.height??0,ae=a+(l!=="center"?"-"+l:""),_e=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Oe=Array.isArray(m)?m:[m],ie=Oe.length>0,ve={padding:_e,boundary:Oe.filter(uB),altBoundary:ie},{refs:ce,floatingStyles:fe,placement:B,isPositioned:se,middlewareData:K}=KP({strategy:"fixed",placement:ae,whileElementsMounted:(...be)=>PP(...be,{animationFrame:C==="always"}),elements:{reference:O.anchor},middleware:[QP({mainAxis:i+Q,alignmentAxis:u}),g&&$P({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?WP():void 0,...ve}),g&&JP({...ve}),eB({...ve,apply:({elements:be,rects:Ae,availableWidth:lt,availableHeight:at})=>{const{width:yt,height:Tt}=Ae.reference,Kt=be.floating.style;Kt.setProperty("--radix-popper-available-width",`${lt}px`),Kt.setProperty("--radix-popper-available-height",`${at}px`),Kt.setProperty("--radix-popper-anchor-width",`${yt}px`),Kt.setProperty("--radix-popper-anchor-height",`${Tt}px`)}}),U&&nB({element:U,padding:f}),cB({arrowWidth:Y,arrowHeight:Q}),S&&tB({strategy:"referenceHidden",...ve})]}),[pe,G]=U6(B),W=ao(T);pu(()=>{se&&W?.()},[se,W]);const xe=K.arrow?.x,Ee=K.arrow?.y,Ve=K.arrow?.centerOffset!==0,[ut,Ie]=N.useState();return pu(()=>{M&&Ie(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:se?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(sB,{scope:n,placedSide:pe,onArrowChange:H,arrowX:xe,arrowY:Ee,shouldHideArrow:Ve,children:E.jsx(Mn.div,{"data-side":pe,"data-align":G,...R,ref:z,style:{...R.style,animation:se?void 0:"none"}})})})});j6.displayName=ub;var z6="PopperArrow",oB={top:"bottom",right:"left",bottom:"top",left:"right"},k6=N.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=lB(z6,a),u=oB[l.placedSide];return E.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:E.jsx(rB,{...i,ref:n,style:{...i.style,display:"block"}})})});k6.displayName=z6;function uB(t){return t!==null}var cB=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,g=u?0:t.arrowHeight,[m,v]=U6(n),_={start:"0%",center:"50%",end:"100%"}[v],S=(i.arrow?.x??0)+f/2,C=(i.arrow?.y??0)+g/2;let T="",R="";return m==="bottom"?(T=u?_:`${S}px`,R=`${-g}px`):m==="top"?(T=u?_:`${S}px`,R=`${a.floating.height+g}px`):m==="right"?(T=`${-g}px`,R=u?_:`${C}px`):m==="left"&&(T=`${a.floating.width+g}px`,R=u?_:`${C}px`),{data:{x:T,y:R}}}});function U6(t){const[e,n="center"]=t.split("-");return[e,n]}var dB=N6,fB=D6,hB=j6,gB=k6,Sy="rovingFocusGroup.onEntryFocus",pB={bubbles:!1,cancelable:!0},bg="RovingFocusGroup",[c2,L6,mB]=Ex(bg),[vB,Qf]=fo(bg,[mB]),[yB,bB]=vB(bg),P6=N.forwardRef((t,e)=>E.jsx(c2.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(c2.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(_B,{...t,ref:e})})}));P6.displayName=bg;var _B=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,..._}=t,S=N.useRef(null),C=Ea(e,S),T=kv(l),[R,O]=Xf({prop:u,defaultProp:f??null,onChange:g,caller:bg}),[M,j]=N.useState(!1),z=ao(m),U=L6(n),H=N.useRef(!1),[L,Y]=N.useState(0);return N.useEffect(()=>{const Q=S.current;if(Q)return Q.addEventListener(Sy,z),()=>Q.removeEventListener(Sy,z)},[z]),E.jsx(yB,{scope:n,orientation:a,dir:T,loop:i,currentTabStopId:R,onItemFocus:N.useCallback(Q=>O(Q),[O]),onItemShiftTab:N.useCallback(()=>j(!0),[]),onFocusableItemAdd:N.useCallback(()=>Y(Q=>Q+1),[]),onFocusableItemRemove:N.useCallback(()=>Y(Q=>Q-1),[]),children:E.jsx(Mn.div,{tabIndex:M||L===0?-1:0,"data-orientation":a,..._,ref:C,style:{outline:"none",...t.style},onMouseDown:Ot(t.onMouseDown,()=>{H.current=!0}),onFocus:Ot(t.onFocus,Q=>{const ae=!H.current;if(Q.target===Q.currentTarget&&ae&&!M){const _e=new CustomEvent(Sy,pB);if(Q.currentTarget.dispatchEvent(_e),!_e.defaultPrevented){const Oe=U().filter(B=>B.focusable),ie=Oe.find(B=>B.active),ve=Oe.find(B=>B.id===R),fe=[ie,ve,...Oe].filter(Boolean).map(B=>B.ref.current);G6(fe,v)}}H.current=!1}),onBlur:Ot(t.onBlur,()=>j(!1))})})}),B6="RovingFocusGroupItem",H6=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...f}=t,g=zf(),m=l||g,v=bB(B6,n),_=v.currentTabStopId===m,S=L6(n),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return C(),()=>T()},[a,C,T]),E.jsx(c2.ItemSlot,{scope:n,id:m,focusable:a,active:i,children:E.jsx(Mn.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...f,ref:e,onMouseDown:Ot(t.onMouseDown,O=>{a?v.onItemFocus(m):O.preventDefault()}),onFocus:Ot(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:Ot(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const M=wB(O,v.orientation,v.dir);if(M!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=S().filter(U=>U.focusable).map(U=>U.ref.current);if(M==="last")z.reverse();else if(M==="prev"||M==="next"){M==="prev"&&z.reverse();const U=z.indexOf(O.currentTarget);z=v.loop?EB(z,U+1):z.slice(U+1)}setTimeout(()=>G6(z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:R!=null}):u})})});H6.displayName=B6;var SB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wB(t,e,n){const a=xB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return SB[a]}function G6(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function EB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var cb=P6,qv=H6,d2=["Enter"," "],CB=["ArrowDown","PageUp","Home"],q6=["ArrowUp","PageDown","End"],TB=[...CB,...q6],AB={ltr:[...d2,"ArrowRight"],rtl:[...d2,"ArrowLeft"]},RB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_g="Menu",[ag,OB,NB]=Ex(_g),[Xc,V6]=fo(_g,[NB,R6,Qf]),Vv=R6(),Y6=Qf(),[MB,Kc]=Xc(_g),[DB,Sg]=Xc(_g),Z6=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=t,f=Vv(e),[g,m]=N.useState(null),v=N.useRef(!1),_=ao(l),S=kv(i);return N.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(dB,{...f,children:E.jsx(MB,{scope:e,open:n,onOpenChange:_,content:g,onContentChange:m,children:E.jsx(DB,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:S,modal:u,children:a})})})};Z6.displayName=_g;var jB="MenuAnchor",db=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Vv(n);return E.jsx(fB,{...i,...a,ref:e})});db.displayName=jB;var fb="MenuPortal",[zB,I6]=Xc(fb,{forceMount:void 0}),X6=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,l=Kc(fb,e);return E.jsx(zB,{scope:e,forceMount:n,children:E.jsx(Cu,{present:n||l.open,children:E.jsx($2,{asChild:!0,container:i,children:a})})})};X6.displayName=fb;var Bi="MenuContent",[kB,hb]=Xc(Bi),K6=N.forwardRef((t,e)=>{const n=I6(Bi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Kc(Bi,t.__scopeMenu),u=Sg(Bi,t.__scopeMenu);return E.jsx(ag.Provider,{scope:t.__scopeMenu,children:E.jsx(Cu,{present:a||l.open,children:E.jsx(ag.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(UB,{...i,ref:e}):E.jsx(LB,{...i,ref:e})})})})}),UB=N.forwardRef((t,e)=>{const n=Kc(Bi,t.__scopeMenu),a=N.useRef(null),i=Ea(e,a);return N.useEffect(()=>{const l=a.current;if(l)return Lx(l)},[]),E.jsx(gb,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ot(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),LB=N.forwardRef((t,e)=>{const n=Kc(Bi,t.__scopeMenu);return E.jsx(gb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),PB=eg("MenuContent.ScrollLock"),gb=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,disableOutsideScroll:T,...R}=t,O=Kc(Bi,n),M=Sg(Bi,n),j=Vv(n),z=Y6(n),U=OB(n),[H,L]=N.useState(null),Y=N.useRef(null),Q=Ea(e,Y,O.onContentChange),ae=N.useRef(0),_e=N.useRef(""),Oe=N.useRef(0),ie=N.useRef(null),ve=N.useRef("right"),ce=N.useRef(0),fe=T?W2:N.Fragment,B=T?{as:PB,allowPinchZoom:!0}:void 0,se=pe=>{const G=_e.current+pe,W=U().filter(be=>!be.disabled),xe=document.activeElement,Ee=W.find(be=>be.ref.current===xe)?.textValue,Ve=W.map(be=>be.textValue),ut=QB(Ve,G,Ee),Ie=W.find(be=>be.textValue===ut)?.ref.current;(function be(Ae){_e.current=Ae,window.clearTimeout(ae.current),Ae!==""&&(ae.current=window.setTimeout(()=>be(""),1e3))})(G),Ie&&setTimeout(()=>Ie.focus())};N.useEffect(()=>()=>window.clearTimeout(ae.current),[]),Rx();const K=N.useCallback(pe=>ve.current===ie.current?.side&&WB(pe,ie.current?.area),[]);return E.jsx(kB,{scope:n,searchRef:_e,onItemEnter:N.useCallback(pe=>{K(pe)&&pe.preventDefault()},[K]),onItemLeave:N.useCallback(pe=>{K(pe)||(Y.current?.focus(),L(null))},[K]),onTriggerLeave:N.useCallback(pe=>{K(pe)&&pe.preventDefault()},[K]),pointerGraceTimerRef:Oe,onPointerGraceIntentChange:N.useCallback(pe=>{ie.current=pe},[]),children:E.jsx(fe,{...B,children:E.jsx(Q2,{asChild:!0,trapped:i,onMountAutoFocus:Ot(l,pe=>{pe.preventDefault(),Y.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(F2,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,children:E.jsx(cb,{asChild:!0,...z,dir:M.dir,orientation:"vertical",loop:a,currentTabStopId:H,onCurrentTabStopIdChange:L,onEntryFocus:Ot(g,pe=>{M.isUsingKeyboardRef.current||pe.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(hB,{role:"menu","aria-orientation":"vertical","data-state":cw(O.open),"data-radix-menu-content":"",dir:M.dir,...j,...R,ref:Q,style:{outline:"none",...R.style},onKeyDown:Ot(R.onKeyDown,pe=>{const W=pe.target.closest("[data-radix-menu-content]")===pe.currentTarget,xe=pe.ctrlKey||pe.altKey||pe.metaKey,Ee=pe.key.length===1;W&&(pe.key==="Tab"&&pe.preventDefault(),!xe&&Ee&&se(pe.key));const Ve=Y.current;if(pe.target!==Ve||!TB.includes(pe.key))return;pe.preventDefault();const Ie=U().filter(be=>!be.disabled).map(be=>be.ref.current);q6.includes(pe.key)&&Ie.reverse(),KB(Ie)}),onBlur:Ot(t.onBlur,pe=>{pe.currentTarget.contains(pe.target)||(window.clearTimeout(ae.current),_e.current="")}),onPointerMove:Ot(t.onPointerMove,rg(pe=>{const G=pe.target,W=ce.current!==pe.clientX;if(pe.currentTarget.contains(G)&&W){const xe=pe.clientX>ce.current?"right":"left";ve.current=xe,ce.current=pe.clientX}}))})})})})})})});K6.displayName=Bi;var BB="MenuGroup",pb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(Mn.div,{role:"group",...a,ref:e})});pb.displayName=BB;var HB="MenuLabel",F6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(Mn.div,{...a,ref:e})});F6.displayName=HB;var pv="MenuItem",W5="menu.itemSelect",Yv=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,l=N.useRef(null),u=Sg(pv,t.__scopeMenu),f=hb(pv,t.__scopeMenu),g=Ea(e,l),m=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const S=new CustomEvent(W5,{bubbles:!0,cancelable:!0});_.addEventListener(W5,C=>a?.(C),{once:!0}),wx(_,S),S.defaultPrevented?m.current=!1:u.onClose()}};return E.jsx(Q6,{...i,ref:g,disabled:n,onClick:Ot(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),m.current=!0},onPointerUp:Ot(t.onPointerUp,_=>{m.current||_.currentTarget?.click()}),onKeyDown:Ot(t.onKeyDown,_=>{const S=f.searchRef.current!=="";n||S&&_.key===" "||d2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});Yv.displayName=pv;var Q6=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=t,u=hb(pv,n),f=Y6(n),g=N.useRef(null),m=Ea(e,g),[v,_]=N.useState(!1),[S,C]=N.useState("");return N.useEffect(()=>{const T=g.current;T&&C((T.textContent??"").trim())},[l.children]),E.jsx(ag.ItemSlot,{scope:n,disabled:a,textValue:i??S,children:E.jsx(qv,{asChild:!0,...f,focusable:!a,children:E.jsx(Mn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:m,onPointerMove:Ot(t.onPointerMove,rg(T=>{a?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ot(t.onPointerLeave,rg(T=>u.onItemLeave(T))),onFocus:Ot(t.onFocus,()=>_(!0)),onBlur:Ot(t.onBlur,()=>_(!1))})})})}),GB="MenuCheckboxItem",$6=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return E.jsx(nw,{scope:t.__scopeMenu,checked:n,children:E.jsx(Yv,{role:"menuitemcheckbox","aria-checked":mv(n)?"mixed":n,...i,ref:e,"data-state":vb(n),onSelect:Ot(i.onSelect,()=>a?.(mv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$6.displayName=GB;var W6="MenuRadioGroup",[qB,VB]=Xc(W6,{value:void 0,onValueChange:()=>{}}),J6=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,l=ao(a);return E.jsx(qB,{scope:t.__scopeMenu,value:n,onValueChange:l,children:E.jsx(pb,{...i,ref:e})})});J6.displayName=W6;var ew="MenuRadioItem",tw=N.forwardRef((t,e)=>{const{value:n,...a}=t,i=VB(ew,t.__scopeMenu),l=n===i.value;return E.jsx(nw,{scope:t.__scopeMenu,checked:l,children:E.jsx(Yv,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":vb(l),onSelect:Ot(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});tw.displayName=ew;var mb="MenuItemIndicator",[nw,YB]=Xc(mb,{checked:!1}),aw=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,l=YB(mb,n);return E.jsx(Cu,{present:a||mv(l.checked)||l.checked===!0,children:E.jsx(Mn.span,{...i,ref:e,"data-state":vb(l.checked)})})});aw.displayName=mb;var ZB="MenuSeparator",rw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(Mn.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});rw.displayName=ZB;var IB="MenuArrow",iw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Vv(n);return E.jsx(gB,{...i,...a,ref:e})});iw.displayName=IB;var XB="MenuSub",[TG,sw]=Xc(XB),k0="MenuSubTrigger",lw=N.forwardRef((t,e)=>{const n=Kc(k0,t.__scopeMenu),a=Sg(k0,t.__scopeMenu),i=sw(k0,t.__scopeMenu),l=hb(k0,t.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:g}=l,m={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=f.current;return()=>{window.clearTimeout(_),g(null)}},[f,g]),E.jsx(db,{asChild:!0,...m,children:E.jsx(Q6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":cw(n.open),...t,ref:zv(e,i.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ot(t.onPointerMove,rg(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Ot(t.onPointerLeave,rg(_=>{v();const S=n.content?.getBoundingClientRect();if(S){const C=n.content?.dataset.side,T=C==="right",R=T?-5:5,O=S[T?"left":"right"],M=S[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x:O,y:S.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ot(t.onKeyDown,_=>{const S=l.searchRef.current!=="";t.disabled||S&&_.key===" "||AB[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});lw.displayName=k0;var ow="MenuSubContent",uw=N.forwardRef((t,e)=>{const n=I6(Bi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Kc(Bi,t.__scopeMenu),u=Sg(Bi,t.__scopeMenu),f=sw(ow,t.__scopeMenu),g=N.useRef(null),m=Ea(e,g);return E.jsx(ag.Provider,{scope:t.__scopeMenu,children:E.jsx(Cu,{present:a||l.open,children:E.jsx(ag.Slot,{scope:t.__scopeMenu,children:E.jsx(gb,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ot(t.onFocusOutside,v=>{v.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ot(t.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Ot(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),S=RB[u.dir].includes(v.key);_&&S&&(l.onOpenChange(!1),f.trigger?.focus(),v.preventDefault())})})})})})});uw.displayName=ow;function cw(t){return t?"open":"closed"}function mv(t){return t==="indeterminate"}function vb(t){return mv(t)?"indeterminate":t?"checked":"unchecked"}function KB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function FB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function QB(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=FB(t,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const g=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return g!==n?g:void 0}function $B(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],g=e[u],m=f.x,v=f.y,_=g.x,S=g.y;v>a!=S>a&&n<(_-m)*(a-v)/(S-v)+m&&(i=!i)}return i}function WB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return $B(n,e)}function rg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var JB=Z6,eH=db,tH=X6,nH=K6,aH=pb,rH=F6,iH=Yv,sH=$6,lH=J6,oH=tw,uH=aw,cH=rw,dH=iw,fH=lw,hH=uw,Zv="DropdownMenu",[gH]=fo(Zv,[V6]),Nr=V6(),[pH,dw]=gH(Zv),fw=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:f=!0}=t,g=Nr(e),m=N.useRef(null),[v,_]=Xf({prop:i,defaultProp:l??!1,onChange:u,caller:Zv});return E.jsx(pH,{scope:e,triggerId:zf(),triggerRef:m,contentId:zf(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(S=>!S),[_]),modal:f,children:E.jsx(JB,{...g,open:v,onOpenChange:_,dir:a,modal:f,children:n})})};fw.displayName=Zv;var hw="DropdownMenuTrigger",gw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,l=dw(hw,n),u=Nr(n);return E.jsx(eH,{asChild:!0,...u,children:E.jsx(Mn.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:zv(e,l.triggerRef),onPointerDown:Ot(t.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:Ot(t.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});gw.displayName=hw;var mH="DropdownMenuPortal",pw=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Nr(e);return E.jsx(tH,{...a,...n})};pw.displayName=mH;var mw="DropdownMenuContent",vw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=dw(mw,n),l=Nr(n),u=N.useRef(!1);return E.jsx(nH,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:e,onCloseAutoFocus:Ot(t.onCloseAutoFocus,f=>{u.current||i.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Ot(t.onInteractOutside,f=>{const g=f.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,v=g.button===2||m;(!i.modal||v)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vw.displayName=mw;var vH="DropdownMenuGroup",yH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(aH,{...i,...a,ref:e})});yH.displayName=vH;var bH="DropdownMenuLabel",yw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(rH,{...i,...a,ref:e})});yw.displayName=bH;var _H="DropdownMenuItem",bw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(iH,{...i,...a,ref:e})});bw.displayName=_H;var SH="DropdownMenuCheckboxItem",xH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(sH,{...i,...a,ref:e})});xH.displayName=SH;var wH="DropdownMenuRadioGroup",_w=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(lH,{...i,...a,ref:e})});_w.displayName=wH;var EH="DropdownMenuRadioItem",Sw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(oH,{...i,...a,ref:e})});Sw.displayName=EH;var CH="DropdownMenuItemIndicator",xw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(uH,{...i,...a,ref:e})});xw.displayName=CH;var TH="DropdownMenuSeparator",ww=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(cH,{...i,...a,ref:e})});ww.displayName=TH;var AH="DropdownMenuArrow",Ew=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(dH,{...i,...a,ref:e})});Ew.displayName=AH;var RH="DropdownMenuSubTrigger",OH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(fH,{...i,...a,ref:e})});OH.displayName=RH;var NH="DropdownMenuSubContent",MH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return E.jsx(hH,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MH.displayName=NH;var xy=fw,wy=gw,Ey=pw,Cy=vw,J5=yw,sl=bw,e3=_w,ru=Sw,xf=xw,wf=ww,DH=Ew,jH="Separator",t3="horizontal",zH=["horizontal","vertical"],Cw=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=t3,...i}=t,l=kH(a)?a:t3,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return E.jsx(Mn.div,{"data-orientation":l,...f,...i,ref:e})});Cw.displayName=jH;function kH(t){return zH.includes(t)}var UH=Cw,Tw="Toggle",Aw=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:i,...l}=t,[u,f]=Xf({prop:n,onChange:i,defaultProp:a??!1,caller:Tw});return E.jsx(Mn.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Ot(t.onClick,()=>{t.disabled||f(!u)})})});Aw.displayName=Tw;var Tu="ToggleGroup",[Rw,Ow]=fo(Tu,[Qf]),Nw=Qf(),yb=Qe.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const i=a;return E.jsx(LH,{...i,ref:e})}if(n==="multiple"){const i=a;return E.jsx(PH,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Tu}\``)});yb.displayName=Tu;var[Mw,Dw]=Rw(Tu),LH=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Xf({prop:n,defaultProp:a??"",onChange:i,caller:Tu});return E.jsx(Mw,{scope:t.__scopeToggleGroup,type:"single",value:Qe.useMemo(()=>u?[u]:[],[u]),onItemActivate:f,onItemDeactivate:Qe.useCallback(()=>f(""),[f]),children:E.jsx(jw,{...l,ref:e})})}),PH=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Xf({prop:n,defaultProp:a??[],onChange:i,caller:Tu}),g=Qe.useCallback(v=>f((_=[])=>[..._,v]),[f]),m=Qe.useCallback(v=>f((_=[])=>_.filter(S=>S!==v)),[f]);return E.jsx(Mw,{scope:t.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:g,onItemDeactivate:m,children:E.jsx(jw,{...l,ref:e})})});yb.displayName=Tu;var[BH,HH]=Rw(Tu),jw=Qe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:i=!0,orientation:l,dir:u,loop:f=!0,...g}=t,m=Nw(n),v=kv(u),_={role:"group",dir:v,...g};return E.jsx(BH,{scope:n,rovingFocus:i,disabled:a,children:i?E.jsx(cb,{asChild:!0,...m,orientation:l,dir:v,loop:f,children:E.jsx(Mn.div,{..._,ref:e})}):E.jsx(Mn.div,{..._,ref:e})})}),vv="ToggleGroupItem",zw=Qe.forwardRef((t,e)=>{const n=Dw(vv,t.__scopeToggleGroup),a=HH(vv,t.__scopeToggleGroup),i=Nw(t.__scopeToggleGroup),l=n.value.includes(t.value),u=a.disabled||t.disabled,f={...t,pressed:l,disabled:u},g=Qe.useRef(null);return a.rovingFocus?E.jsx(qv,{asChild:!0,...i,focusable:!u,active:l,ref:g,children:E.jsx(n3,{...f,ref:e})}):E.jsx(n3,{...f,ref:e})});zw.displayName=vv;var n3=Qe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...i}=t,l=Dw(vv,n),u={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},f=l.type==="single"?u:void 0;return E.jsx(Aw,{...f,...i,ref:e,onPressedChange:g=>{g?l.onItemActivate(a):l.onItemDeactivate(a)}})}),GH=yb,qH=zw,bb="Toolbar",[VH]=fo(bb,[Qf,Ow]),_b=Qf(),kw=Ow(),[YH,Uw]=VH(bb),Lw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:i,loop:l=!0,...u}=t,f=_b(n),g=kv(i);return E.jsx(YH,{scope:n,orientation:a,dir:g,children:E.jsx(cb,{asChild:!0,...f,orientation:a,dir:g,loop:l,children:E.jsx(Mn.div,{role:"toolbar","aria-orientation":a,dir:g,...u,ref:e})})})});Lw.displayName=bb;var Pw="ToolbarSeparator",Bw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Uw(Pw,n);return E.jsx(UH,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});Bw.displayName=Pw;var ZH="ToolbarButton",Hw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=_b(n);return E.jsx(qv,{asChild:!0,...i,focusable:!t.disabled,children:E.jsx(Mn.button,{type:"button",...a,ref:e})})});Hw.displayName=ZH;var IH="ToolbarLink",XH=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=_b(n);return E.jsx(qv,{asChild:!0,...i,focusable:!0,children:E.jsx(Mn.a,{...a,ref:e,onKeyDown:Ot(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});XH.displayName=IH;var Gw="ToolbarToggleGroup",qw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Uw(Gw,n),l=kw(n);return E.jsx(GH,{"data-orientation":i.orientation,dir:i.dir,...l,...a,ref:e,rovingFocus:!1})});qw.displayName=Gw;var KH="ToolbarToggleItem",Vw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=kw(n),l={__scopeToolbar:t.__scopeToolbar};return E.jsx(Hw,{asChild:!0,...l,children:E.jsx(qH,{...i,...a,ref:e})})});Vw.displayName=KH;var FH=Lw,QH=Bw,a3=qw,Cc=Vw;function $H(t){return Dn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function r3({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:i,onEraserClick:l,tool:u,setTool:f}){return E.jsxs(FH,{className:"flex px-6 py-3 md:px-5 w-full mx-5 sm:px-5 sm:w-fit sm:py-2 rounded-lg bg-white border-2 border-zinc-300 shadow-sm  justify-center max-sm:gap-3 ",children:[E.jsxs(a3,{type:"single",className:"flex gap-2 sm:gap-0.5",children:[E.jsx(Cc,{value:"task",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:t,children:[E.jsx(NT,{className:"text-2xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task  Q"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"Q"})]})}),E.jsx(Cc,{value:"todo",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:()=>e(),children:[E.jsx(AT,{className:"text-2xl md:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do  W"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"W"})]})}),E.jsx(Cc,{value:"annotate",children:E.jsxs("div",{onClick:()=>i(),className:"add-annotate relative group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(TT,{className:"text-2xl md:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Text  E"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"E"})]})})]}),E.jsx(QH,{className:"w-px my-3 mx-2 bg-black"}),E.jsxs(a3,{type:"single",value:u,onValueChange:g=>{g&&f(g)},className:"flex gap-2 sm:gap-0.5",children:[E.jsx(Cc,{value:"hand",className:"group",children:E.jsxs("div",{className:"pan-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(kT,{className:"-rotate-[45deg] text-2xl md:text-xl group-data-[state=on]:stroke-blue-500 sm:text-xl"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Hand  1 or Z"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"1"})]})}),E.jsx(Cc,{value:"select",className:"group",onClick:a,children:E.jsxs("div",{className:"select-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(MT,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select  2 or X"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"2"})]})}),E.jsx(Cc,{value:"draw",className:"group",onClick:n,children:E.jsxs("div",{className:"draw-canvas relative flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx(iS,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw  3 or C"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"3"})]})}),E.jsx(Cc,{value:"eraser",className:"group",onClick:l,children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[E.jsx($H,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-red-500 group-data-[state=on]:stroke-2",style:{strokeWidth:.5}}),E.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Eraser  4 or V"}),E.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-red-500",children:"4"})]})})]})]})}async function Yw(t){const{data:e,error:n}=await nn.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;console.log("canvas id doesnt exist");const{data:a,error:i}=await nn.from("canvas").insert({owner_id:t}).select("canvas_id").single();return i?(console.error("Error creating canvas:",i),null):a.canvas_id}async function WH(t,e){try{const{data:n,error:a}=await nn.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function i3(t){try{const{data:e,error:n}=await nn.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function s3(t,e){try{const{data:n}=await nn.auth.getUser();if(!n?.user||t==="local")return await new Promise(l=>{const u=indexedDB.open("CanvasDB"),f={local_color:"local",color:e||"#ffffff",updatedAt:Date.now()};u.onsuccess=()=>{const m=u.result.transaction("BackgroundColor","readwrite");m.objectStore("BackgroundColor").put(f),m.oncomplete=()=>l(!0),m.onerror=()=>l(!0)},u.onerror=()=>l(!0)}),{success:!0,canvasId:"local"};const{error:i}=await nn.from("canvas").update({background_color:e}).eq("canvas_id",t);i&&console.error(i)}catch(n){console.error("Error on update canvas color function: ",n)}}async function l3(t){try{const{data:e}=await nn.auth.getUser();if(!e?.user||t==="local")return new Promise(l=>{const u=indexedDB.open("CanvasDB");u.onsuccess=()=>{const g=u.result.transaction(["BackgroundColor"],"readonly"),v=g.objectStore("BackgroundColor").get("local");g.oncomplete=()=>{const _=v.result;l(_?_.color:"#ffffff")}},u.onerror=()=>{l("#ffffff")}});const{data:a,error:i}=await nn.from("canvas").select("background_color").eq("canvas_id",t).single();return i?(console.error(i),"#ffffff"):a.background_color}catch(e){console.error("Error on get canvas color function: ",e)}}async function Um(t,e){try{const{data:n}=await nn.auth.getUser(),a=n?.user;if(!a||e==="local")return await new Promise(g=>{const m=indexedDB.open("CanvasDB"),v={local_canvas:"local",canvasData:t,updatedAt:Date.now()},_={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};m.onsuccess=()=>{const C=m.result.transaction(["Canvas","Viewport"],"readwrite"),T=C.objectStore("Canvas"),R=C.objectStore("Viewport");T.put(v),R.put(_),C.oncomplete=()=>g(!0),C.onerror=()=>g(!0)},m.onerror=()=>g(!0)}),{success:!0,canvasId:"local"};if(!a)return{success:!0};let i=e;if(!i&&(i=await Yw(a.id),!i))return{success:!1,error:"Failed to get canvas"};if(!t||!t.shapes||!t.connectors)return console.warn("Skipping save - incomplete data"),{success:!0,canvasId:i};await nn.from("shapes").delete().eq("canvas_id",i);const l=t.shapes.map(g=>({canvas_id:i,shape_data:g})),u=t.connectors.map(g=>({canvas_id:i,shape_data:g})),f=[...l,...u];if(console.log("Saving to DB:",{shapes:l.length,connectors:u.length,total:f.length}),f.length>0){const{error:g}=await nn.from("shapes").insert(f);if(g)return console.error("Insert error:",g),{success:!1,error:g.message}}return{success:!0,canvasId:i}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}const JH=async()=>new Promise(t=>{const e=indexedDB.open("CanvasDB");e.onsuccess=()=>{const a=e.result.transaction("Viewport","readonly"),l=a.objectStore("Viewport").get("local");a.oncomplete=()=>{const u=l.result;t(u||{x:0,y:0,scale:1})}},e.onerror=()=>{t({x:0,y:0,scale:1})}});async function Lm(t){try{const{data:{user:e}}=await nn.auth.getUser(),n=await JH();if(!e||t==="local")return new Promise(R=>{const O=indexedDB.open("CanvasDB");O.onsuccess=()=>{const j=O.result.transaction(["Canvas","Viewport"],"readonly"),U=j.objectStore("Canvas").get("local"),L=j.objectStore("Viewport").get("local");U.onerror=()=>R({success:!1,error:"Failed to get canvas data"}),L.onerror=()=>R({success:!1,error:"Failed to get canvas viewport"}),j.oncomplete=()=>{const Y=U.result,Q=L.result;if(!Y){R({success:!1,error:"No offline canvas found"});return}Q&&(Y.canvasData.viewport=Q),R({success:!0,data:Y.canvasData,canvasId:Y.local_canvas})}}});let a=t;if(!a&&(a=await Yw(e.id),!a))return{success:!1,error:"Failed to get or create canvas"};const{data:i,error:l}=await nn.from("shapes").select("shape_data").eq("canvas_id",a);if(l)return{success:!1,error:l.message};const u=i.filter(R=>R.shape_data.shape==="rect").map(R=>R.shape_data),f=i.filter(R=>R.shape_data.shape==="line").map(R=>R.shape_data),g=i.filter(R=>R.shape_data.shape==="todo").map(R=>R.shape_data),m=i.filter(R=>R.shape_data.shape==="connector").map(R=>R.shape_data),v=[...u,...f,...g],_=Array.from(new Map(v.map(R=>[R.id,R])).values()),S=Array.from(new Map(m.map(R=>[R.id,R])).values()),C=new Set;_.forEach(R=>{C.add(R.id),C.add(`group-${R.id}`)});const T=S.filter(R=>{const O=C.has(R.from),M=C.has(R.to);return!O||!M?(console.warn("Removing orphaned connector:",{id:R.id,from:R.from,to:R.to,fromExists:O,toExists:M}),!1):!0});return console.log("Load complete:",{shapes:_.length,connectors:T.length,removed:S.length-T.length}),{success:!0,data:{shapes:_,connectors:T,viewport:n},canvasId:a}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function eG(t){try{const{data:{user:e}}=await nn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await nn.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function tG(){try{const{data:{user:t}}=await nn.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await nn.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}async function nG(t,e){try{const{data:{user:n}}=await nn.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await nn.from("canvas").update({canvas_name:e,updated_at:new Date().toISOString()}).eq("canvas_id",t).eq("owner_id",n.id);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("updateCanvasName error:",n),{success:!1,error:String(n)}}}async function aG(t){try{const{data:{user:e}}=await nn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await nn.from("shapes").delete().eq("canvas_id",t);if(n)return{success:!1,error:n.message};const{error:a}=await nn.from("canvas").delete().eq("canvas_id",t).eq("owner_id",e.id);return a?{success:!1,error:a.message}:{success:!0}}catch(e){return console.error("deleteCanvasById error:",e),{success:!1,error:String(e)}}}const rG=async()=>{let t,e,n=1;return new Promise(a=>{t=indexedDB.open("CanvasDB",3),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||(console.log("create object store"),e.createObjectStore("Canvas",{keyPath:"local_canvas"})),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"}),e.objectStoreNames.contains("BackgroundColor")||e.createObjectStore("BackgroundColor",{keyPath:"local_color"})},t.onsuccess=()=>{e=t.result,n=e.version,console.log("version: ",n),a(!0)},t.onerror=()=>{a(!1)}})},iG=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await rG()?console.log("IndexedDB Initialized (first time)"):console.error("InitDb - Something went wrong")),console.log("IndexedDB initailized")},[])});function sG(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function lG(){const{init:t}=iG(),{session:e}=Sx(),[n,a]=N.useState([]),[i,l]=N.useState(100),[u,f]=N.useState({x:0,y:0}),[g,m]=N.useState(!1),[v,_]=N.useState(!1),[S,C]=N.useState(!1),[T,R]=N.useState([]),[O,M]=N.useState([]),[j,z]=N.useState("hand"),U=ug(),[H,L]=N.useState(null),[Y,Q]=N.useState(null),[ae,_e]=N.useState(null),[Oe,ie]=N.useState(!1),[ve,ce]=N.useState(null),[fe,B]=N.useState(null),[se,K]=N.useState([]),{pushUndo:pe,undo:G,redo:W}=K2(),[xe,Ee]=N.useState(!1),[Ve,ut]=N.useState(""),[Ie,be]=N.useState(null),[Ae,lt]=N.useState(""),[at,yt]=N.useState(!0),[Tt,Kt]=N.useState("#ffffff"),[gn,Rn]=N.useState("#000");sG({shapes:T,connectors:O},1e3,()=>{!fe||T.length===0||Um({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},fe)}),N.useEffect(()=>{let Ce=!0;return(async()=>{if(await t(),!e){const rn=await Lm("local");if(!Ce)return;rn.success?(R(rn.data.shapes),M(rn.data.connectors),f({x:rn.data.viewport.x,y:rn.data.viewport.y}),l(Math.round(rn.data.viewport.scale*100)),B("local")):(M([]),R([])),B("local"),K([]);return}const ke=await Lm(null);if(!Ce)return;ke.success?(R(ke.data.shapes),B(ke.canvasId),M(ke.data.connectors),f({x:ke.data.viewport.x,y:ke.data.viewport.y}),l(Math.round(ke.data.viewport.scale*100))):console.error("Failed to load canvas:",ke.error);const en=await i3(e.user.id);if(!Ce)return;en.success?K(en.canvases||[]):console.error("Failed to load canvas list:",en.error);const kt=await tG();Ce&&(kt.success?ce(kt.data.avatar_url):console.error("Failed to load user profile:",kt.error))})(),()=>{Ce=!1}},[t,e]),N.useEffect(()=>{const Ce=setTimeout(()=>{s3(fe||"local",Tt)},500);return()=>clearTimeout(Ce)},[Tt]),N.useEffect(()=>{(async()=>{if(fe){const Ce=await l3(fe);Ce&&Kt(Ce)}else{const Ce=await l3("local");Ce&&Kt(Ce)}})()},[fe]);const ma=(Ce,ke)=>{_e(Ce),Q(ke),C(!0),_(!0)},ea=()=>{_e(null),Q(null),C(!1),_(!1)},hi=Ce=>{L(Ce),console.log("shape: "+Ce),m(!0),C(!0)},pr=()=>{L(null),m(!1),C(!1)},X=(Ce,ke)=>{const en=new Date(Ce.date).toISOString();console.log("Current parent is: "+ke?.id);const kt={id:"todo-"+Date.now().toString(),x:ke?ke.x+400:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:ke?ke.y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),color:Ce.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:Ce.title,description:"",dueDate:en,completed:Ce.completed,assignee:e?.user.email??"Guest",status:"Something",parents:ke?ke.id:""};R([...T,kt]),ke&&(R(rn=>rn.map(ta=>ta.shape==="rect"&&ta.id===ke.id?{...ta,children:[...ta.children,"group-"+kt.id]}:ta)),he(kt,ke,kt.id)),pe({before:kt,after:kt,action:"add",id:kt.id})},re=Ce=>{z("hand");const ke={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),width:300,height:200,color:Ce.color,title:Ce.title,description:Ce.description,dueDate:Ce.date,completed:!1,isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};R([...T,ke]),pe({before:ke,after:ke,action:"add"})},he=(Ce,ke,en)=>{const kt=Ce instanceof J0.Node?Ce.id():"group-"+Ce.id,rn=ke instanceof J0.Node?ke.id():"group-"+ke.id,ta={shape:"connector",id:"connector-"+Date.now().toString(),from:kt,to:rn};M([...O,ta]),pe({before:ta,after:ta,action:"add",id:en||void 0})},Be=()=>{const Ce={id:"text-"+Date.now().toString(),x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),fontSize:20,text:"Insert your text here",shape:"text",behavior:"decor",scaleX:1,scaleY:1,width:200,color:"black"};R([...T,Ce]),pe({before:Ce,after:Ce,action:"add"})},Pe=(Ce,ke)=>{R(en=>en.map(kt=>kt.id===Ce.id?{...kt,title:ke.title,description:ke.description,color:ke.color,dueDate:ke.date}:kt))},ze=(Ce,ke)=>{R(en=>en.map(kt=>kt.id===Ce.id?{...kt,title:ke.title,dueDate:ke.date,completed:ke.completed,color:ke.color}:kt))},Ye=()=>{z(j==="draw"?"hand":"draw")},$e=()=>{z(j==="eraser"?"hand":"eraser")},bt=()=>{z(j==="select"?"hand":"select")},an=()=>new Promise((Ce,ke)=>{const en=indexedDB.open("CanvasDB");en.onsuccess=()=>{const rn=en.result.transaction("Canvas","readwrite");rn.objectStore("Canvas").clear(),rn.oncomplete=()=>{console.log("IndexedDB shapes cleared"),Ce()},rn.onerror=()=>{console.error("Failed to clear IndexedDB shapes"),ke()}},en.onerror=()=>ke()}),qa=async()=>{if(R([]),M([]),fe==="local")await an();else if(fe){const Ce=await eG(fe);Ce.success||console.error("Failed to delete canvas from supabase",Ce.error)}},Aa=async()=>{ie(!0);try{await nn.auth.signOut();const Ce=await Lm("local");Ce.success?(R(Ce.data.shapes),M(Ce.data.connectors),f(Ce.data.viewport),l(Math.round(Ce.data.viewport.scale*100)),B("local")):(R([]),M([]),B(null)),await new Promise(ke=>setTimeout(ke,2e3))}catch{}finally{ie(!1)}},Ra=async()=>{ie(!0);try{await Um({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},fe||null)}catch{}finally{ie(!1)}},er=async Ce=>{ie(!0);try{fe&&Ce&&Ce!==fe&&await Um({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},fe);const ke=await Lm(Ce||null);ke.success?(R(ke.data.shapes),M(ke.data.connectors),B(ke.canvasId)):console.error("Load failed:",ke.error)}catch(ke){console.error("Load error:",ke)}finally{ie(!1)}},mr=async Ce=>{if(!e){console.warn("No session");return}ie(!0);try{fe&&await Um({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},fe);const ke=await WH(e.user.id,Ce||`Canvas ${se.length+1}`);if(ke.success&&ke.canvasId){R([]),M([]),B(ke.canvasId);const en=await i3(e.user.id);en.success&&K(en.canvases||[])}else console.error("Create failed:",ke.error)}catch(ke){console.error("Create canvas error:",ke)}finally{ie(!1)}},va=async Ce=>{Ce!==fe&&await er(Ce)},Mr=async Ce=>{if(Ae.trim()){ie(!0);try{const ke=await nG(Ce,Ae);ke.success?(K(en=>en.map(kt=>kt.canvas_id===Ce?{...kt,canvas_name:Ae}:kt)),be(null),lt("")):console.error("Failed to update canvas name:",ke.error)}catch(ke){console.error("Error updating canvas name:",ke)}finally{ie(!1)}}},vr=async(Ce,ke)=>{if(window.confirm(`Are you sure you want to delete "${ke}"? This action cannot be undone.`)){ie(!0);try{const kt=await aG(Ce);if(kt.success){if(K(rn=>rn.filter(ta=>ta.canvas_id!==Ce)),fe===Ce){const rn=se.filter(ta=>ta.canvas_id!==Ce);rn.length>0?await va(rn[0].canvas_id):(R([]),M([]),B(null))}}else console.error("Failed to delete canvas:",kt.error)}catch(kt){console.error("Error deleting canvas:",kt)}finally{ie(!1)}}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"relative w-screen h-100dvh overflow-hidden ",children:[E.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[E.jsx("div",{className:"more-options",children:E.jsxs(xy,{children:[E.jsx(wy,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:E.jsx(ET,{})})}),E.jsx(Ey,{children:E.jsxs(Cy,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 max-h-[50dvh]  overflow-y-scroll rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white ",children:[E.jsx(sl,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:Ra,children:[E.jsx(l4,{}),"Save"]})}),E.jsx(sl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:Ce=>Ce.preventDefault(),children:E.jsxs(Rm,{children:[E.jsx(vy,{asChild:!0,children:E.jsxs("div",{className:"flex items-center gap-2 w-full",children:[E.jsx(s4,{}),"My Canvases (",se.length,")"]})}),E.jsxs(Om,{children:[E.jsx(Nm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mm,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-xl p-4 sm:p-6 rounded-lg z-101",children:[E.jsxs(jm,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[E.jsx(s4,{}),"My Canvases"]}),E.jsx(zm,{asChild:!0,children:E.jsx("div",{className:"my-4",children:E.jsx("div",{className:"grid grid-cols-1 gap-3",children:se.length===0?E.jsx("div",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):se.map(Ce=>E.jsxs("div",{className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        transition-all
                                        ${fe===Ce.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[E.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80",onClick:()=>{Ie!==Ce.canvas_id&&va(Ce.canvas_id)},children:[E.jsx(l4,{className:"w-5 h-5 text-blue-600"}),E.jsxs("div",{className:"flex-1",children:[Ie===Ce.canvas_id?E.jsx("input",{type:"text",value:Ae,onChange:ke=>lt(ke.target.value),onKeyDown:ke=>{ke.key===" "&&ke.stopPropagation(),ke.key==="Enter"?Mr(Ce.canvas_id):ke.key==="Escape"&&(be(null),lt(""))},className:"font-medium text-gray-800 border-2 border-blue-400 rounded px-2 py-1 w-full",autoFocus:!0,onClick:ke=>ke.stopPropagation()}):E.jsx("span",{className:"font-medium text-gray-800",children:Ce.canvas_name||"Untitled"}),Ce.created_at&&E.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(Ce.created_at).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[fe===Ce.canvas_id&&E.jsx("span",{className:"text-xs text-blue-600 font-medium mr-2",children:"Current"}),Ie===Ce.canvas_id?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:ke=>{ke.stopPropagation(),Mr(Ce.canvas_id)},className:"p-2 hover:bg-green-100 rounded transition-colors",title:"Save",children:E.jsx(RT,{className:"w-4 h-4 text-green-600"})}),E.jsx("button",{onClick:ke=>{ke.stopPropagation(),be(null),lt("")},className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Cancel",children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:ke=>{ke.stopPropagation(),be(Ce.canvas_id),lt(Ce.canvas_name||"")},className:"p-2 hover:bg-blue-100 rounded transition-colors",title:"Edit name",children:E.jsx(iS,{className:"w-4 h-4 text-blue-600"})}),E.jsx("button",{onClick:ke=>{ke.stopPropagation(),vr(Ce.canvas_id,Ce.canvas_name)},className:"p-2 hover:bg-red-100 rounded transition-colors",title:"Delete canvas",children:E.jsx(o4,{className:"w-4 h-4 text-red-600"})})]})]})]},Ce.canvas_id))})})}),E.jsx("div",{className:"flex justify-end mt-6",children:E.jsx(Dm,{asChild:!0,children:E.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),E.jsx(wf,{}),E.jsx(sl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:()=>Ee(!0),children:[E.jsx(LT,{}),E.jsx("span",{children:Oe?"Creating":"New Canvas"})]})}),E.jsx(sl,{onSelect:Ce=>Ce.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs(Rm,{children:[E.jsx(vy,{asChild:!0,children:E.jsxs("button",{className:"flex items-center gap-2",children:[E.jsx(o4,{}),"Clear Canvas"]})}),E.jsxs(Om,{children:[E.jsx(Nm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mm,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] max-w-sm sm:max-w-md p-4 sm:p-6 rounded-lg z-101",children:[E.jsx(jm,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),E.jsx(zm,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Dm,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(yy,{asChild:!0,children:E.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:qa,children:"Yes, clear canvas"})})]})]})]})]})}),E.jsx(wf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(sl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsx("a",{href:"https://github.com/x3nozite/rect-up",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(tU,{}),"Github"]})})}),E.jsx(sl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(zT,{}),"Feedback & Support"]})})}),E.jsx(wf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(J5,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Stroke Color"}),E.jsx(e3,{value:gn,onValueChange:Rn,className:"py-1 pl-2 ",children:E.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[E.jsx(ru,{value:"#000",className:"group",children:E.jsx("div",{className:"p-4 relative bg-[#000] border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),E.jsxs(ru,{value:"#e7000b",className:"group",children:[E.jsx("div",{className:"p-4 bg-[#e7000b] border-red-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-red-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#155dfc",className:"group",children:[E.jsx("div",{className:"p-4 bg-[#155dfc] border-2 border-blue-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-blue-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#009966",className:"group",children:[E.jsx("div",{className:"p-4 bg-[#009966] border-2 border-emerald-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-emerald-400"}),E.jsx(xf,{})]})]})}),E.jsx(wf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),E.jsx(J5,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),E.jsx(e3,{value:Tt,onValueChange:Kt,className:"py-1 pl-2 ",children:E.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[E.jsx(ru,{value:"#ffffff",className:"group",children:E.jsx("div",{className:"p-4 relative bg-white border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),E.jsxs(ru,{value:"#fff7ed",className:"group",children:[E.jsx("div",{className:"p-4 bg-orange-50 border-orange-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-orange-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#f5f3ff",className:"group",children:[E.jsx("div",{className:"p-4 bg-violet-50 border-2 border-indigo-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-violet-400"}),E.jsx(xf,{})]}),E.jsxs(ru,{value:"#f0fdfa",className:"group",children:[E.jsx("div",{className:"p-4 bg-teal-50 border-2 border-cyan-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-teal-400"}),E.jsx(xf,{})]})]})})]})})]})}),E.jsx("div",{className:"tool-bar absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:at&&E.jsx(r3,{onShapeClick:()=>hi(null),onTodoClick:()=>ma(null,null),onTextClick:Be,onEraserClick:$e,onClearClick:qa,onDrawClick:Ye,onSelectClick:bt,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})}),E.jsxs("div",{className:"user-account",children:[E.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&E.jsx("div",{children:E.jsxs(xy,{children:[E.jsx(wy,{asChild:!0,children:E.jsx("button",{children:E.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[E.jsx(x0,{className:"text-lg"}),E.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[E.jsx("span",{className:"text-xs",children:"Manage Account"}),E.jsx(OT,{className:"text-xs"})]})]})})}),E.jsx(Ey,{children:E.jsxs(Cy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[E.jsx("div",{children:ve?E.jsx("img",{src:ve,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(x0,{className:"text-3xl text-blue-500"})}),E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name||e?.user.user_metadata.username}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(wf,{className:"h-[2px] my-2 bg-gray-500"}),E.jsx(sl,{onSelect:Ce=>Ce.preventDefault(),children:E.jsxs(Rm,{children:[E.jsx(vy,{asChild:!0,children:E.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[E.jsx(X1,{}),E.jsx("span",{children:"Sign Out"})]})}),E.jsxs(Om,{children:[E.jsx(Nm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mm,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[E.jsx(jm,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),E.jsx(zm,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Dm,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(yy,{asChild:!0,children:E.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await Aa()},children:[E.jsx(X1,{}),"Sign Out"]})})]})]})]})]})}),E.jsx(DH,{className:"fill-purple-100"})]})})]})}),Oe&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&E.jsx(Xk,{title:"Sign In",onClick:async()=>{U("/signin")}}),!e&&E.jsx(Ik,{title:"Create Account",onClick:()=>U("/create-acc")})]}),E.jsxs("div",{className:"account-mobile flex lg:hidden",children:[E.jsxs(xy,{children:[E.jsx(wy,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:E.jsx(x0,{})})}),E.jsx(Ey,{children:E.jsxs(Cy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&E.jsxs("div",{children:[E.jsx(sl,{children:E.jsxs("div",{onClick:async()=>{U("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(UT,{}),E.jsx("span",{children:"Sign In"})]})}),E.jsx(sl,{children:E.jsxs("div",{onClick:()=>U("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(x0,{}),E.jsx("span",{children:"Create Account"})]})})]}),e&&E.jsxs("div",{children:[E.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[E.jsx("div",{className:"pb-2",children:ve?E.jsx("img",{src:ve,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(x0,{className:"text-2xl"})}),E.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[E.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(wf,{className:"h-px my-2 bg-gray-500"}),E.jsx(sl,{children:E.jsxs("div",{onClick:async()=>{await Aa()},className:"inline-flex items-center justify-start gap-2 ",children:[E.jsx(X1,{className:"text-sm font-semibold"}),E.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),Oe&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),E.jsxs("div",{className:"absolute pb-4 bottom-bar flex flex-col   inset-x-0 gap-2 w-full bottom-0",children:[E.jsxs("div",{className:"flex flex-row w-full justify-between px-5",children:[E.jsxs("div",{className:"flex flex-row gap-2",children:[E.jsxs("div",{className:" items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit inline-flex",children:[E.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>l(Math.max(i-10,10)),children:E.jsx(BT,{})}),E.jsxs("button",{onClick:()=>l(100),className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[i,"%",E.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),E.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>l(Math.min(i+10,500)),children:E.jsx(PT,{})})]}),E.jsxs("div",{className:" items-center z-10 gap-1 sm:gap-0 bg-green-100 border-2 border-emerald-200 rounded-xl w-fit inline-flex",children:[E.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>G(R,M),children:[E.jsx(Jk,{}),E.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Undo"})]}),E.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>W(R,M),children:[E.jsx(eU,{}),E.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Redo"})]})]})]}),E.jsx("div",{className:"flex flex-row  bottom-20 md:bottom-4 right-4 gap-4",children:E.jsxs("button",{onClick:()=>yt(Ce=>!Ce),className:"items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 active:bg-red-300 hover:cursor-pointer group",children:[at?E.jsx(jT,{}):E.jsx(DT,{}),E.jsx("span",{className:"absolute pointer-events-none right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Toolbar Visibility"})]})})]}),E.jsx("div",{className:"toolbar-mob  flex sm:hidden z-100 w-full  justify-center  ",children:at&&E.jsx(r3,{onShapeClick:()=>hi(null),onTodoClick:()=>ma(null,null),onTextClick:Be,onEraserClick:$e,onClearClick:qa,onDrawClick:Ye,onSelectClick:bt,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})})]}),v&&E.jsx(Wk,{parent:ae,onUpdateTodo:ze,onAddTodo:X,onCloseForm:ea,initialTodo:Y}),g&&E.jsx(Fk,{onAddTask:re,onUpdateTask:Pe,onCloseForm:pr,initialData:H}),E.jsx("div",{style:{background:Tt,touchAction:"none"},children:E.jsx(Zk,{shapes:T,setShapes:R,tool:j,setTool:z,setZoomValue:l,zoom:i,connectors:O,addConnector:he,setConnectors:M,strokeColor:gn,onShapeClick:hi,onAddTodo:ma,stageCoor:u,setStageCoor:f,isFormOpen:S,onTextClick:Be})})]}),E.jsx("ul",{children:n.map(Ce=>E.jsx("li",{children:Ce.name},Ce.name))}),E.jsx(Rm,{open:xe,onOpenChange:Ee,children:E.jsxs(Om,{children:[E.jsx(Nm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(Mm,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-lg p-4 sm:p-5 rounded-lg z-101",children:[E.jsx(jm,{className:"text-xl font-bold mb-2",children:"New Canvas"}),E.jsx(zm,{className:"my-3 text-gray-700",children:"Enter a name for your new canvas."}),E.jsx("input",{autoFocus:!0,value:Ve,onChange:Ce=>ut(Ce.target.value),placeholder:"Canvas name...",className:"w-full border border-gray-300 p-2 rounded-lg mb-4"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Dm,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(yy,{asChild:!0,children:E.jsx("button",{className:"bg-blue-200 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-500 hover:text-white",onClick:()=>{mr(Ve),ut("")},children:"Create Canvas"})})]})]})]})})]})}const oG=z9([{path:"/",element:E.jsx(lG,{})},{path:"/signin",element:E.jsx(pM,{})},{path:"/create-acc",element:E.jsx(vM,{})},{path:"/reset-password",element:E.jsx(bM,{})}]);function uG({children:t}){const[e,n]=N.useState([]),[a,i]=N.useState([]);function l(g){n(m=>[...m,g]),i([])}function u(g,m){const v=e.at(-1);if(!v)return;let _,S=[];for(_=[...e],S=[];_.length>0;){const C=_.at(-1);if(!C)return;const T=C.before;if(C.action==="add")T.shape==="connector"?(g(O=>O.map(M=>M.shape==="todo"?{...M,parents:M.parents===T.to?"":M.parents}:M.shape!=="rect"?M:{...M,children:M.children.filter(j=>j!==T.from),parents:M.parents===T.to?"":M.parents})),m(O=>O.filter(M=>M.id!==T.id))):g(O=>O.filter(M=>M.id!==T.id));else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else T.shape==="connector"?(m(O=>[...O,T]),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:"group-"+M.id===T.from?{...M,parents:T.to}:M.shape==="rect"&&"group-"+M.id===T.to?{...M,children:[...M.children,T.from]}:M))):g(O=>[...O,T]);S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||!v.id||R.id!==v.id)break}n(_),i(C=>[...C,...S])}function f(g,m){const v=a.at(-1);if(!v)return;let _=[...a],S=[];for(S=[];_.length>0;){const C=_.at(-1);if(!C)break;const T=C.after;if(C.action==="add")T.shape==="connector"?(m(O=>[...O,T]),g(O=>O.map(M=>M.shape==="todo"?{...M,parents:"group-"+M.id===T.to?T.from:M.parents}:M.shape!=="rect"?M:{...M,children:"group-"+M.id===T.to?[...M.children,T.from]:M.children}))):g(O=>[...O,T]);else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else C.action==="delete"&&(T.shape==="connector"?(m(O=>O.filter(M=>M.id!==T.id)),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:M.shape==="rect"&&M.children.includes(T.to)?{...M,children:M.children.filter(j=>j!==T.to)}:M.parents===T.from?{...M,parents:""}:M))):g(O=>O.filter(M=>M.id!==T.id)));S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||R.id!==v.id)break}i(_),n(C=>[...C,...S])}return E.jsx(yx.Provider,{value:{undoStack:e,redoStack:a,pushUndo:l,undo:u,redo:f},children:t})}u3.createRoot(document.getElementById("root")).render(E.jsx(Qk,{children:E.jsx(uG,{children:E.jsx(X9,{router:oG})})}));
