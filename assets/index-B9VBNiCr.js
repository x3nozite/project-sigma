function mE(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function gm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var q1={exports:{}},x0={};var y_;function gE(){if(y_)return x0;y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return x0.Fragment=e,x0.jsx=n,x0.jsxs=n,x0}var b_;function vE(){return b_||(b_=1,q1.exports=gE()),q1.exports}var x=vE(),V1={exports:{}},w0={},Y1={exports:{}},I1={};var __;function yE(){return __||(__=1,(function(t){function e(G,ee){var Q=G.length;G.push(ee);e:for(;0<Q;){var ae=Q-1>>>1,B=G[ae];if(0<i(B,ee))G[ae]=ee,G[Q]=B,Q=ae;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ee=G[0],Q=G.pop();if(Q!==ee){G[0]=Q;e:for(var ae=0,B=G.length,te=B>>>1;ae<te;){var we=2*(ae+1)-1,Ce=G[we],qe=we+1,st=G[qe];if(0>i(Ce,Q))qe<B&&0>i(st,Ce)?(G[ae]=st,G[qe]=Q,ae=qe):(G[ae]=Ce,G[we]=Q,ae=we);else if(qe<B&&0>i(st,Q))G[ae]=st,G[qe]=Q,ae=qe;else break e}}return ee}function i(G,ee){var Q=G.sortIndex-ee.sortIndex;return Q!==0?Q:G.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],g=[],v=1,_=null,w=3,C=!1,T=!1,R=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function k(G){for(var ee=n(g);ee!==null;){if(ee.callback===null)a(g);else if(ee.startTime<=G)a(g),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(g)}}function q(G){if(R=!1,k(G),!T)if(n(h)!==null)T=!0,U||(U=!0,J());else{var ee=n(g);ee!==null&&ue(q,ee.startTime-G)}}var U=!1,Y=-1,$=5,ne=-1;function pe(){return O?!0:!(t.unstable_now()-ne<$)}function Ee(){if(O=!1,U){var G=t.unstable_now();ne=G;var ee=!0;try{e:{T=!1,R&&(R=!1,M(Y),Y=-1),C=!0;var Q=w;try{t:{for(k(G),_=n(h);_!==null&&!(_.expirationTime>G&&pe());){var ae=_.callback;if(typeof ae=="function"){_.callback=null,w=_.priorityLevel;var B=ae(_.expirationTime<=G);if(G=t.unstable_now(),typeof B=="function"){_.callback=B,k(G),ee=!0;break t}_===n(h)&&a(h),k(G)}else a(h);_=n(h)}if(_!==null)ee=!0;else{var te=n(g);te!==null&&ue(q,te.startTime-G),ee=!1}}break e}finally{_=null,w=Q,C=!1}ee=void 0}}finally{ee?J():U=!1}}}var J;if(typeof z=="function")J=function(){z(Ee)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,de=he.port2;he.port1.onmessage=Ee,J=function(){de.postMessage(null)}}else J=function(){j(Ee,0)};function ue(G,ee){Y=j(function(){G(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(G){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var Q=w;w=ee;try{return G()}finally{w=Q}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=w;w=G;try{return ee()}finally{w=Q}},t.unstable_scheduleCallback=function(G,ee,Q){var ae=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ae+Q:ae):Q=ae,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,G={id:v++,callback:ee,priorityLevel:G,startTime:Q,expirationTime:B,sortIndex:-1},Q>ae?(G.sortIndex=Q,e(g,G),n(h)===null&&G===n(g)&&(R?(M(Y),Y=-1):R=!0,ue(q,Q-ae))):(G.sortIndex=B,e(h,G),T||C||(T=!0,U||(U=!0,J()))),G},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(G){var ee=w;return function(){var Q=w;w=ee;try{return G.apply(this,arguments)}finally{w=Q}}}})(I1)),I1}var x_;function O2(){return x_||(x_=1,Y1.exports=yE()),Y1.exports}var Z1={exports:{}},zt={};var w_;function bE(){if(w_)return zt;w_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(B,te,we){this.props=B,this.context=te,this.refs=R,this.updater=we||C}O.prototype.isReactComponent={},O.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=O.prototype;function M(B,te,we){this.props=B,this.context=te,this.refs=R,this.updater=we||C}var z=M.prototype=new j;z.constructor=M,T(z,O.prototype),z.isPureReactComponent=!0;var k=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function Y(B,te,we,Ce,qe,st){return we=st.ref,{$$typeof:t,type:B,key:te,ref:we!==void 0?we:null,props:st}}function $(B,te){return Y(B.type,te,void 0,void 0,void 0,B.props)}function ne(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function pe(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(we){return te[we]})}var Ee=/\/+/g;function J(B,te){return typeof B=="object"&&B!==null&&B.key!=null?pe(""+B.key):te.toString(36)}function he(){}function de(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(he,he):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ue(B,te,we,Ce,qe){var st=typeof B;(st==="undefined"||st==="boolean")&&(B=null);var Ie=!1;if(B===null)Ie=!0;else switch(st){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(B.$$typeof){case t:case e:Ie=!0;break;case v:return Ie=B._init,ue(Ie(B._payload),te,we,Ce,qe)}}if(Ie)return qe=qe(B),Ie=Ce===""?"."+J(B,0):Ce,k(qe)?(we="",Ie!=null&&(we=Ie.replace(Ee,"$&/")+"/"),ue(qe,te,we,"",function(vn){return vn})):qe!=null&&(ne(qe)&&(qe=$(qe,we+(qe.key==null||B&&B.key===qe.key?"":(""+qe.key).replace(Ee,"$&/")+"/")+Ie)),te.push(qe)),1;Ie=0;var it=Ce===""?".":Ce+":";if(k(B))for(var bt=0;bt<B.length;bt++)Ce=B[bt],st=it+J(Ce,bt),Ie+=ue(Ce,te,we,st,qe);else if(bt=w(B),typeof bt=="function")for(B=bt.call(B),bt=0;!(Ce=B.next()).done;)Ce=Ce.value,st=it+J(Ce,bt++),Ie+=ue(Ce,te,we,st,qe);else if(st==="object"){if(typeof B.then=="function")return ue(de(B),te,we,Ce,qe);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function G(B,te,we){if(B==null)return B;var Ce=[],qe=0;return ue(B,Ce,"","",function(st){return te.call(we,st,qe++)}),Ce}function ee(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(we){(B._status===0||B._status===-1)&&(B._status=1,B._result=we)},function(we){(B._status===0||B._status===-1)&&(B._status=2,B._result=we)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ae(){}return zt.Children={map:G,forEach:function(B,te,we){G(B,function(){te.apply(this,arguments)},we)},count:function(B){var te=0;return G(B,function(){te++}),te},toArray:function(B){return G(B,function(te){return te})||[]},only:function(B){if(!ne(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},zt.Component=O,zt.Fragment=n,zt.Profiler=i,zt.PureComponent=M,zt.StrictMode=a,zt.Suspense=h,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,zt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return q.H.useMemoCache(B)}},zt.cache=function(B){return function(){return B.apply(null,arguments)}},zt.cloneElement=function(B,te,we){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Ce=T({},B.props),qe=B.key,st=void 0;if(te!=null)for(Ie in te.ref!==void 0&&(st=void 0),te.key!==void 0&&(qe=""+te.key),te)!U.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(Ce[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)Ce.children=we;else if(1<Ie){for(var it=Array(Ie),bt=0;bt<Ie;bt++)it[bt]=arguments[bt+2];Ce.children=it}return Y(B.type,qe,void 0,void 0,st,Ce)},zt.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},zt.createElement=function(B,te,we){var Ce,qe={},st=null;if(te!=null)for(Ce in te.key!==void 0&&(st=""+te.key),te)U.call(te,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(qe[Ce]=te[Ce]);var Ie=arguments.length-2;if(Ie===1)qe.children=we;else if(1<Ie){for(var it=Array(Ie),bt=0;bt<Ie;bt++)it[bt]=arguments[bt+2];qe.children=it}if(B&&B.defaultProps)for(Ce in Ie=B.defaultProps,Ie)qe[Ce]===void 0&&(qe[Ce]=Ie[Ce]);return Y(B,st,void 0,void 0,null,qe)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(B){return{$$typeof:f,render:B}},zt.isValidElement=ne,zt.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:ee}},zt.memo=function(B,te){return{$$typeof:g,type:B,compare:te===void 0?null:te}},zt.startTransition=function(B){var te=q.T,we={};q.T=we;try{var Ce=B(),qe=q.S;qe!==null&&qe(we,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(ae,Q)}catch(st){Q(st)}finally{q.T=te}},zt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},zt.use=function(B){return q.H.use(B)},zt.useActionState=function(B,te,we){return q.H.useActionState(B,te,we)},zt.useCallback=function(B,te){return q.H.useCallback(B,te)},zt.useContext=function(B){return q.H.useContext(B)},zt.useDebugValue=function(){},zt.useDeferredValue=function(B,te){return q.H.useDeferredValue(B,te)},zt.useEffect=function(B,te,we){var Ce=q.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ce.useEffect(B,te)},zt.useId=function(){return q.H.useId()},zt.useImperativeHandle=function(B,te,we){return q.H.useImperativeHandle(B,te,we)},zt.useInsertionEffect=function(B,te){return q.H.useInsertionEffect(B,te)},zt.useLayoutEffect=function(B,te){return q.H.useLayoutEffect(B,te)},zt.useMemo=function(B,te){return q.H.useMemo(B,te)},zt.useOptimistic=function(B,te){return q.H.useOptimistic(B,te)},zt.useReducer=function(B,te,we){return q.H.useReducer(B,te,we)},zt.useRef=function(B){return q.H.useRef(B)},zt.useState=function(B){return q.H.useState(B)},zt.useSyncExternalStore=function(B,te,we){return q.H.useSyncExternalStore(B,te,we)},zt.useTransition=function(){return q.H.useTransition()},zt.version="19.1.1",zt}var S_;function vm(){return S_||(S_=1,Z1.exports=bE()),Z1.exports}var X1={exports:{}},fr={};var E_;function _E(){if(E_)return fr;E_=1;var t=vm();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:h,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fr.createPortal=function(h,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(h,g,null,v)},fr.flushSync=function(h){var g=u.T,v=a.p;try{if(u.T=null,a.p=2,h)return h()}finally{u.T=g,a.p=v,a.d.f()}},fr.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(h,g))},fr.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},fr.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var v=g.as,_=f(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:C}):v==="script"&&a.d.X(h,{crossOrigin:_,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fr.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);a.d.M(h,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(h)},fr.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=f(v,g.crossOrigin);a.d.L(h,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fr.preloadModule=function(h,g){if(typeof h=="string")if(g){var v=f(g.as,g.crossOrigin);a.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(h)},fr.requestFormReset=function(h){a.d.r(h)},fr.unstable_batchedUpdates=function(h,g){return h(g)},fr.useFormState=function(h,g,v){return u.H.useFormState(h,g,v)},fr.useFormStatus=function(){return u.H.useHostTransitionStatus()},fr.version="19.1.1",fr}var C_;function L5(){if(C_)return X1.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X1.exports=_E(),X1.exports}var T_;function xE(){if(T_)return w0;T_=1;var t=O2(),e=vm(),n=L5();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,d=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(d=s.return),r=s.return;while(r)}return s.tag===3?d:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(a(188))}function h(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var d=r,m=s;;){var y=d.return;if(y===null)break;var S=y.alternate;if(S===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===d)return f(y),r;if(S===m)return f(y),s;S=S.sibling}throw Error(a(188))}if(d.return!==m.return)d=y,m=S;else{for(var D=!1,L=y.child;L;){if(L===d){D=!0,d=y,m=S;break}if(L===m){D=!0,m=y,d=S;break}L=L.sibling}if(!D){for(L=S.child;L;){if(L===d){D=!0,d=S,m=y;break}if(L===m){D=!0,m=S,d=y;break}L=L.sibling}if(!D)throw Error(a(189))}}if(d.alternate!==m)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),z=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=Ee&&r[Ee]||r["@@iterator"],typeof r=="function"?r:null)}var he=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===he?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case U:return"SuspenseList";case ne:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case z:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case k:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case $:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}var ue=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ae=[],B=-1;function te(r){return{current:r}}function we(r){0>B||(r.current=ae[B],ae[B]=null,B--)}function Ce(r,s){B++,ae[B]=r.current,r.current=s}var qe=te(null),st=te(null),Ie=te(null),it=te(null);function bt(r,s){switch(Ce(Ie,s),Ce(st,r),Ce(qe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Zb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Zb(s),r=Xb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}we(qe),Ce(qe,r)}function vn(){we(qe),we(st),we(Ie)}function xe(r){r.memoizedState!==null&&Ce(it,r);var s=qe.current,d=Xb(s,r.type);s!==d&&(Ce(st,r),Ce(qe,d))}function Me(r){st.current===r&&(we(qe),we(st)),it.current===r&&(we(it),g0._currentValue=Q)}var ut=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,at=t.unstable_cancelCallback,_t=t.unstable_shouldYield,cn=t.unstable_requestPaint,tn=t.unstable_now,na=t.unstable_getCurrentPriorityLevel,$a=t.unstable_ImmediatePriority,K=t.unstable_UserBlockingPriority,oe=t.unstable_NormalPriority,ge=t.unstable_LowPriority,Le=t.unstable_IdlePriority,Pe=t.log,ke=t.unstable_setDisableYieldValue,Ze=null,Qe=null;function vt(r){if(typeof Pe=="function"&&ke(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Ze,r)}catch{}}var nn=Math.clz32?Math.clz32:wa,La=Math.log,Ua=Math.LN2;function wa(r){return r>>>=0,r===0?32:31-(La(r)/Ua|0)|0}var Qa=256,Wa=4194304;function aa(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Kr(r,s,d){var m=r.pendingLanes;if(m===0)return 0;var y=0,S=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var L=m&134217727;return L!==0?(m=L&~S,m!==0?y=aa(m):(D&=L,D!==0?y=aa(D):d||(d=L&~r,d!==0&&(y=aa(d))))):(L=m&~S,L!==0?y=aa(L):D!==0?y=aa(D):d||(d=m&~r,d!==0&&(y=aa(d)))),y===0?0:s!==0&&s!==y&&(s&S)===0&&(S=y&-y,d=s&-s,S>=d||S===32&&(d&4194048)!==0)?s:y}function mr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Rr(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(){var r=Qa;return Qa<<=1,(Qa&4194048)===0&&(Qa=256),r}function Or(){var r=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),r}function As(r){for(var s=[],d=0;31>d;d++)s.push(r);return s}function Pa(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function xl(r,s,d,m,y,S){var D=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var L=r.entanglements,Z=r.expirationTimes,fe=r.hiddenUpdates;for(d=D&~d;0<d;){var Te=31-nn(d),Re=1<<Te;L[Te]=0,Z[Te]=-1;var ve=fe[Te];if(ve!==null)for(fe[Te]=null,Te=0;Te<ve.length;Te++){var be=ve[Te];be!==null&&(be.lane&=-536870913)}d&=~Re}m!==0&&mi(r,m,0),S!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=S&~(D&~s))}function mi(r,s,d){r.pendingLanes|=s,r.suspendedLanes&=~s;var m=31-nn(s);r.entangledLanes|=s,r.entanglements[m]=r.entanglements[m]|1073741824|d&4194090}function pi(r,s){var d=r.entangledLanes|=s;for(r=r.entanglements;d;){var m=31-nn(d),y=1<<m;y&s|r[m]&s&&(r[m]|=s),d&=~y}}function Fr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Xi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function gi(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:f_(r.type))}function X(r,s){var d=ee.p;try{return ee.p=r,s()}finally{ee.p=d}}var H=Math.random().toString(36).slice(2),V="__reactFiber$"+H,ye="__reactProps$"+H,Se="__reactContainer$"+H,Ye="__reactEvents$"+H,Be="__reactListeners$"+H,Ke="__reactHandles$"+H,We="__reactResources$"+H,rt="__reactMarker$"+H;function nt(r){delete r[V],delete r[ye],delete r[Ye],delete r[Be],delete r[Ke]}function $e(r){var s=r[V];if(s)return s;for(var d=r.parentNode;d;){if(s=d[Se]||d[V]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(r=Qb(r);r!==null;){if(d=r[V])return d;r=Qb(r)}return s}r=d,d=r.parentNode}return null}function Et(r){if(r=r[V]||r[Se]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function an(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function _n(r){var s=r[We];return s||(s=r[We]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(r){r[rt]=!0}var hn=new Set,on={};function Gt(r,s){Ja(r,s),Ja(r+"Capture",s)}function Ja(r,s){for(on[r]=s,r=0;r<s.length;r++)hn.add(s[r])}var Nr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),er={},wl={};function Sl(r){return ut.call(wl,r)?!0:ut.call(er,r)?!1:Nr.test(r)?wl[r]=!0:(er[r]=!0,!1)}function tr(r,s,d){if(Sl(s))if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+d)}}function $r(r,s,d){if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+d)}}function Sa(r,s,d,m){if(m===null)r.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(s,d,""+m)}}var ft,kt;function Ba(r){if(ft===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);ft=s&&s[1]||"",kt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+r+kt}var Ha=!1;function xn(r,s){if(!r||Ha)return"";Ha=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(be){var ve=be}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(be){ve=be}r.call(Re.prototype)}}else{try{throw Error()}catch(be){ve=be}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(be){if(be&&ve&&typeof be.stack=="string")return[be.stack,ve.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),D=S[0],L=S[1];if(D&&L){var Z=D.split(`
`),fe=L.split(`
`);for(y=m=0;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;for(;y<fe.length&&!fe[y].includes("DetermineComponentFrameRoot");)y++;if(m===Z.length||y===fe.length)for(m=Z.length-1,y=fe.length-1;1<=m&&0<=y&&Z[m]!==fe[y];)y--;for(;1<=m&&0<=y;m--,y--)if(Z[m]!==fe[y]){if(m!==1||y!==1)do if(m--,y--,0>y||Z[m]!==fe[y]){var Te=`
`+Z[m].replace(" at new "," at ");return r.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",r.displayName)),Te}while(1<=m&&0<=y);break}}}finally{Ha=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Ba(d):""}function Rs(r){switch(r.tag){case 26:case 27:case 5:return Ba(r.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return xn(r.type,!1);case 11:return xn(r.type.render,!1);case 1:return xn(r.type,!0);case 31:return Ba("Activity");default:return""}}function pr(r){try{var s="";do s+=Rs(r),r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function ha(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $c(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function th(r){var s=$c(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),m=""+r[s];if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,S=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){m=""+D,S.call(this,D)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ru(r){r._valueTracker||(r._valueTracker=th(r))}function nh(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var d=s.getValue(),m="";return r&&(m=$c(r)?r.checked?"true":"false":r.value),r=m,r!==d?(s.setValue(r),!0):!1}function Ou(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Dm=/[\n"\\]/g;function gr(r){return r.replace(Dm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qc(r,s,d,m,y,S,D,L){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),s!=null?D==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ha(s)):r.value!==""+ha(s)&&(r.value=""+ha(s)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),s!=null?Jc(r,D,ha(s)):d!=null?Jc(r,D,ha(d)):m!=null&&r.removeAttribute("value"),y==null&&S!=null&&(r.defaultChecked=!!S),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.name=""+ha(L):r.removeAttribute("name")}function Wc(r,s,d,m,y,S,D,L){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),s!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||s!=null))return;d=d!=null?""+ha(d):"",s=s!=null?""+ha(s):d,L||s===r.value||(r.value=s),r.defaultValue=s}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=L?r.checked:!!m,r.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function Jc(r,s,d){s==="number"&&Ou(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function go(r,s,d,m){if(r=r.options,s){s={};for(var y=0;y<d.length;y++)s["$"+d[y]]=!0;for(d=0;d<r.length;d++)y=s.hasOwnProperty("$"+r[d].value),r[d].selected!==y&&(r[d].selected=y),y&&m&&(r[d].defaultSelected=!0)}else{for(d=""+ha(d),s=null,y=0;y<r.length;y++){if(r[y].value===d){r[y].selected=!0,m&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function ah(r,s,d){if(s!=null&&(s=""+ha(s),s!==r.value&&(r.value=s),d==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=d!=null?""+ha(d):""}function rh(r,s,d,m){if(s==null){if(m!=null){if(d!=null)throw Error(a(92));if(ue(m)){if(1<m.length)throw Error(a(93));m=m[0]}d=m}d==null&&(d=""),s=d}d=ha(s),r.defaultValue=d,m=r.textContent,m===d&&m!==""&&m!==null&&(r.value=m)}function El(r,s){if(s){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=s;return}}r.textContent=s}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sh(r,s,d){var m=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":m?r.setProperty(s,d):typeof d!="number"||d===0||ih.has(s)?s==="float"?r.cssFloat=d:r[s]=(""+d).trim():r[s]=d+"px"}function lh(r,s,d){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var y in s)m=s[y],s.hasOwnProperty(y)&&d[y]!==m&&sh(r,y,m)}else for(var S in s)s.hasOwnProperty(S)&&sh(r,S,s[S])}function ed(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),km=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function td(r){return km.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var nd=null;function Os(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ki=null,Cl=null;function Nu(r){var s=Et(r);if(s&&(r=s.stateNode)){var d=r[ye]||null;e:switch(r=s.stateNode,s.type){case"input":if(Qc(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+gr(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var m=d[s];if(m!==r&&m.form===r.form){var y=m[ye]||null;if(!y)throw Error(a(90));Qc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<d.length;s++)m=d[s],m.form===r.form&&nh(m)}break e;case"textarea":ah(r,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&go(r,!!d.multiple,s,!1)}}}var Tl=!1;function oh(r,s,d){if(Tl)return r(s,d);Tl=!0;try{var m=r(s);return m}finally{if(Tl=!1,(Ki!==null||Cl!==null)&&(rl(),Ki&&(s=Ki,r=Cl,Cl=Ki=null,Nu(s),r)))for(s=0;s<r.length;s++)Nu(r[s])}}function vo(r,s){var d=r.stateNode;if(d===null)return null;var m=d[ye]||null;if(m===null)return null;d=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(a(231,s,typeof d));return d}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=!1;if(vi)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ad=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ad=!1}var Fi=null,ju=null,Mu=null;function uh(){if(Mu)return Mu;var r,s=ju,d=s.length,m,y="value"in Fi?Fi.value:Fi.textContent,S=y.length;for(r=0;r<d&&s[r]===y[r];r++);var D=d-r;for(m=1;m<=D&&s[d-m]===y[S-m];m++);return Mu=y.slice(r,1<m?1-m:void 0)}function bo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Du(){return!0}function ch(){return!1}function Ga(r){function s(d,m,y,S,D){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(d=r[L],this[L]=d?d(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Du:ch,this.isPropagationStopped=ch,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),s}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=Ga($i),_o=v({},$i,{view:0,detail:0}),s1=Ga(_o),dh,rd,Qi,xo=v({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Qi&&(Qi&&r.type==="mousemove"?(dh=r.screenX-Qi.screenX,rd=r.screenY-Qi.screenY):rd=dh=0,Qi=r),dh)},movementY:function(r){return"movementY"in r?r.movementY:rd}}),ku=Ga(xo),Lm=v({},xo,{dataTransfer:0}),Um=Ga(Lm),id=v({},_o,{relatedTarget:0}),Al=Ga(id),sd=v({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Pm=Ga(sd),Bm=v({},$i,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ns=Ga(Bm),Hm=v({},$i,{data:0}),Wi=Ga(Hm),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gm(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fh[r])?!!s[r]:!1}function od(){return Gm}var Rl=v({},_o,{key:function(r){if(r.key){var s=Ji[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ld[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(r){return r.type==="keypress"?bo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ud=Ga(Rl),qm=v({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Ga(qm),Vm=v({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),Ym=Ga(Vm),l1=v({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),ma=Ga(l1),Im=v({},xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zm=Ga(Im),Xm=v({},$i,{newState:0,oldState:0}),Km=Ga(Xm),Fm=[9,13,27,32],wo=vi&&"CompositionEvent"in window,Ol=null;vi&&"documentMode"in document&&(Ol=document.documentMode);var $m=vi&&"TextEvent"in window&&!Ol,hh=vi&&(!wo||Ol&&8<Ol&&11>=Ol),mh=" ",dd=!1;function fd(r,s){switch(r){case"keyup":return Fm.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ph(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var js=!1;function hd(r,s){switch(r){case"compositionend":return ph(s);case"keypress":return s.which!==32?null:(dd=!0,mh);case"textInput":return r=s.data,r===mh&&dd?null:r;default:return null}}function gh(r,s){if(js)return r==="compositionend"||!wo&&fd(r,s)?(r=uh(),Mu=ju=Fi=null,js=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hh&&s.locale!=="ko"?null:s.data;default:return null}}var Qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Qm[r.type]:s==="textarea"}function vh(r,s,d,m){Ki?Cl?Cl.push(m):Cl=[m]:Ki=m,s=Kp(s,"onChange"),0<s.length&&(d=new zu("onChange","change",null,d,m),r.push({event:d,listeners:s}))}var vr=null,Nl=null;function o1(r){Gb(r,0)}function Lu(r){var s=an(r);if(nh(s))return r}function nr(r,s){if(r==="change")return s}var yh=!1;if(vi){var Uu;if(vi){var pd="oninput"in document;if(!pd){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),pd=typeof bh.oninput=="function"}Uu=pd}else Uu=!1;yh=Uu&&(!document.documentMode||9<document.documentMode)}function gd(){vr&&(vr.detachEvent("onpropertychange",vd),Nl=vr=null)}function vd(r){if(r.propertyName==="value"&&Lu(Nl)){var s=[];vh(s,Nl,r,Os(r)),oh(o1,s)}}function Wm(r,s,d){r==="focusin"?(gd(),vr=s,Nl=d,vr.attachEvent("onpropertychange",vd)):r==="focusout"&&gd()}function yd(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lu(Nl)}function Pu(r,s){if(r==="click")return Lu(s)}function Ln(r,s){if(r==="input"||r==="change")return Lu(s)}function u1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var yr=typeof Object.is=="function"?Object.is:u1;function So(r,s){if(yr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var d=Object.keys(r),m=Object.keys(s);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!ut.call(s,y)||!yr(r[y],s[y]))return!1}return!0}function Eo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function es(r,s){var d=Eo(r);r=0;for(var m;d;){if(d.nodeType===3){if(m=r+d.textContent.length,r<=s&&m>=s)return{node:d,offset:s-r};r=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Eo(d)}}function _h(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_h(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ou(r.document);s instanceof r.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)r=s.contentWindow;else break;s=Ou(r.document)}return s}function jl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var yi=vi&&"documentMode"in document&&11>=document.documentMode,Ml=null,Bu=null,Co=null,Hu=!1;function bd(r,s,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Hu||Ml==null||Ml!==Ou(m)||(m=Ml,"selectionStart"in m&&jl(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Co&&So(Co,m)||(Co=m,m=Kp(Bu,"onSelect"),0<m.length&&(s=new zu("onSelect","select",null,s,d),r.push({event:s,listeners:m}),s.target=Ml)))}function bi(r,s){var d={};return d[r.toLowerCase()]=s.toLowerCase(),d["Webkit"+r]="webkit"+s,d["Moz"+r]="moz"+s,d}var Dl={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},_d={},Jm={};vi&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function Ms(r){if(_d[r])return _d[r];if(!Dl[r])return r;var s=Dl[r],d;for(d in s)if(s.hasOwnProperty(d)&&d in Jm)return _d[r]=s[d];return r}var wh=Ms("animationend"),jr=Ms("animationiteration"),xd=Ms("animationstart"),ep=Ms("transitionrun"),c1=Ms("transitionstart"),Sh=Ms("transitioncancel"),Ea=Ms("transitionend"),Eh=new Map,Ca="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ca.push("scrollEnd");function Mr(r,s){Eh.set(r,s),Gt(s,[r])}var ts=new WeakMap;function ra(r,s){if(typeof r=="object"&&r!==null){var d=ts.get(r);return d!==void 0?d:(s={value:r,source:s,stack:pr(s)},ts.set(r,s),s)}return{value:r,source:s,stack:pr(s)}}var Qn=[],Ds=0,Gu=0;function br(){for(var r=Ds,s=Gu=Ds=0;s<r;){var d=Qn[s];Qn[s++]=null;var m=Qn[s];Qn[s++]=null;var y=Qn[s];Qn[s++]=null;var S=Qn[s];if(Qn[s++]=null,m!==null&&y!==null){var D=m.pending;D===null?y.next=y:(y.next=D.next,D.next=y),m.pending=y}S!==0&&ks(d,y,S)}}function qu(r,s,d,m){Qn[Ds++]=r,Qn[Ds++]=s,Qn[Ds++]=d,Qn[Ds++]=m,Gu|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function zs(r,s,d,m){return qu(r,s,d,m),Vu(r)}function _i(r,s){return qu(r,null,null,s),Vu(r)}function ks(r,s,d){r.lanes|=d;var m=r.alternate;m!==null&&(m.lanes|=d);for(var y=!1,S=r.return;S!==null;)S.childLanes|=d,m=S.alternate,m!==null&&(m.childLanes|=d),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(y=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,y&&s!==null&&(y=31-nn(d),r=S.hiddenUpdates,m=r[y],m===null?r[y]=[s]:m.push(s),s.lane=d|536870912),S):null}function Vu(r){if(50<Li)throw Li=0,xc=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var zl={};function Yu(r,s,d,m){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(r,s,d,m){return new Yu(r,s,d,m)}function To(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xi(r,s){var d=r.alternate;return d===null?(d=ar(r.tag,s,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=s,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,s=r.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function wd(r,s){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,s=d.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Ao(r,s,d,m,y,S){var D=0;if(m=r,typeof r=="function")To(r)&&(D=1);else if(typeof r=="string")D=tE(r,d,qe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case ne:return r=ar(31,d,s,y),r.elementType=ne,r.lanes=S,r;case T:return ns(d.children,y,S,s);case R:D=8,y|=24;break;case O:return r=ar(12,d,s,y|2),r.elementType=O,r.lanes=S,r;case q:return r=ar(13,d,s,y),r.elementType=q,r.lanes=S,r;case U:return r=ar(19,d,s,y),r.elementType=U,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case z:D=10;break e;case M:D=9;break e;case k:D=11;break e;case Y:D=14;break e;case $:D=16,m=null;break e}D=29,d=Error(a(130,r===null?"null":typeof r,"")),m=null}return s=ar(D,d,s,y),s.elementType=r,s.type=m,s.lanes=S,s}function ns(r,s,d,m){return r=ar(7,r,m,s),r.lanes=d,r}function Sd(r,s,d){return r=ar(6,r,null,s),r.lanes=d,r}function Iu(r,s,d){return s=ar(4,r.children!==null?r.children:[],r.key,s),s.lanes=d,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ia=[],kl=0,Ta=null,Zu=0,_r=[],Dr=0,rr=null,wi=1,Qr="";function zr(r,s){ia[kl++]=Zu,ia[kl++]=Ta,Ta=r,Zu=s}function Ch(r,s,d){_r[Dr++]=wi,_r[Dr++]=Qr,_r[Dr++]=rr,rr=r;var m=wi;r=Qr;var y=32-nn(m)-1;m&=~(1<<y),d+=1;var S=32-nn(s)+y;if(30<S){var D=y-y%5;S=(m&(1<<D)-1).toString(32),m>>=D,y-=D,wi=1<<32-nn(s)+y|d<<y|m,Qr=S+r}else wi=1<<S|d<<y|m,Qr=r}function Ed(r){r.return!==null&&(zr(r,1),Ch(r,1,0))}function Cd(r){for(;r===Ta;)Ta=ia[--kl],ia[kl]=null,Zu=ia[--kl],ia[kl]=null;for(;r===rr;)rr=_r[--Dr],_r[Dr]=null,Qr=_r[--Dr],_r[Dr]=null,wi=_r[--Dr],_r[Dr]=null}var Aa=null,jn=null,Xt=!1,Ll=null,Si=!1,Th=Error(a(519));function Ls(r){var s=Error(a(418,""));throw Oo(ra(s,r)),Th}function Ah(r){var s=r.stateNode,d=r.type,m=r.memoizedProps;switch(s[V]=r,s[ye]=m,d){case"dialog":Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":case"embed":Yt("load",s);break;case"video":case"audio":for(d=0;d<c0.length;d++)Yt(c0[d],s);break;case"source":Yt("error",s);break;case"img":case"image":case"link":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"input":Yt("invalid",s),Wc(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ru(s);break;case"select":Yt("invalid",s);break;case"textarea":Yt("invalid",s),rh(s,m.value,m.defaultValue,m.children),Ru(s)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||m.suppressHydrationWarning===!0||Ib(s.textContent,d)?(m.popover!=null&&(Yt("beforetoggle",s),Yt("toggle",s)),m.onScroll!=null&&Yt("scroll",s),m.onScrollEnd!=null&&Yt("scrollend",s),m.onClick!=null&&(s.onclick=Fp),s=!0):s=!1,s||Ls(r)}function Ul(r){for(Aa=r.return;Aa;)switch(Aa.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Aa=Aa.return}}function Us(r){if(r!==Aa)return!1;if(!Xt)return Ul(r),Xt=!0,!1;var s=r.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||R1(r.type,r.memoizedProps)),d=!d),d&&jn&&Ls(r),Ul(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(s===0){jn=vs(r.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++;r=r.nextSibling}jn=null}}else s===27?(s=jn,Wo(r.type)?(r=M1,M1=null,jn=r):jn=s):jn=Aa?vs(r.stateNode.nextSibling):null;return!0}function Ro(){jn=Aa=null,Xt=!1}function Rh(){var r=Ll;return r!==null&&(va===null?va=r:va.push.apply(va,r),Ll=null),r}function Oo(r){Ll===null?Ll=[r]:Ll.push(r)}var Td=te(null),Ps=null,Ei=null;function kr(r,s,d){Ce(Td,s._currentValue),s._currentValue=d}function Ci(r){r._currentValue=Td.current,we(Td)}function Ad(r,s,d){for(;r!==null;){var m=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),r===d)break;r=r.return}}function rn(r,s,d,m){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var S=y.dependencies;if(S!==null){var D=y.child;S=S.firstContext;e:for(;S!==null;){var L=S;S=y;for(var Z=0;Z<s.length;Z++)if(L.context===s[Z]){S.lanes|=d,L=S.alternate,L!==null&&(L.lanes|=d),Ad(S.return,d,r),m||(D=null);break e}S=L.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=d,S=D.alternate,S!==null&&(S.lanes|=d),Ad(D,d,r),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===r){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function Pl(r,s,d,m){r=null;for(var y=s,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var L=y.type;yr(y.pendingProps.value,D.value)||(r!==null?r.push(L):r=[L])}}else if(y===it.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(g0):r=[g0])}y=y.return}r!==null&&rn(s,r,d,m),s.flags|=262144}function Rd(r){for(r=r.firstContext;r!==null;){if(!yr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bs(r){Ps=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ra(r){return tp(Ps,r)}function Od(r,s){return Ps===null&&Bs(r),tp(r,s)}function tp(r,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},Ei===null){if(r===null)throw Error(a(308));Ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ei=Ei.next=s;return d}var d1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(d,m){r.push(m)}};this.abort=function(){s.aborted=!0,r.forEach(function(d){return d()})}},Oh=t.unstable_scheduleCallback,as=t.unstable_NormalPriority,In={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function No(){return{controller:new d1,data:new Map,refCount:0}}function Wr(r){r.refCount--,r.refCount===0&&Oh(as,function(){r.controller.abort()})}var Bl=null,Xu=0,jo=0,Hl=null;function np(r,s){if(Bl===null){var d=Bl=[];Xu=0,jo=b1(),Hl={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Xu++,s.then(Nh,Nh),s}function Nh(){if(--Xu===0&&Bl!==null){Hl!==null&&(Hl.status="fulfilled");var r=Bl;Bl=null,jo=0,Hl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function ap(r,s){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return r.then(function(){m.status="fulfilled",m.value=s;for(var y=0;y<d.length;y++)(0,d[y])(s)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var jh=G.S;G.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&np(r,s),jh!==null&&jh(r,s)};var rs=te(null);function Nt(){var r=rs.current;return r!==null?r:gn.pooledCache}function Nd(r,s){s===null?Ce(rs,rs.current):Ce(rs,s.pool)}function ir(){var r=Nt();return r===null?null:{parent:In._currentValue,pool:r}}var Gl=Error(a(460)),rp=Error(a(474)),ql=Error(a(542)),Hs={then:function(){}};function Vl(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ku(){}function jd(r,s,d){switch(d=r[d],d===void 0?r.push(s):d!==s&&(s.then(Ku,Ku),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,is(r),r;default:if(typeof s.status=="string")s.then(Ku,Ku);else{if(r=gn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(m){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=m}},function(m){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,is(r),r}throw Fu=s,Gl}}var Fu=null;function Mh(){if(Fu===null)throw Error(a(459));var r=Fu;return Fu=null,r}function is(r){if(r===Gl||r===ql)throw Error(a(483))}var Ti=!1;function $u(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ai(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qa(r,s,d){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(yt&2)!==0){var y=m.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),m.pending=s,s=Vu(r),ks(r,null,d),s}return qu(r,m,s,d),Vu(r)}function Yl(r,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var m=s.lanes;m&=r.pendingLanes,d|=m,s.lanes=d,pi(r,d)}}function Dh(r,s){var d=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?y=S=D:S=S.next=D,d=d.next}while(d!==null);S===null?y=S=s:S=S.next=s}else y=S=s;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=s:r.next=s,d.lastBaseUpdate=s}var Md=!1;function Wu(){if(Md){var r=Hl;if(r!==null)throw r}}function Gs(r,s,d,m){Md=!1;var y=r.updateQueue;Ti=!1;var S=y.firstBaseUpdate,D=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var Z=L,fe=Z.next;Z.next=null,D===null?S=fe:D.next=fe,D=Z;var Te=r.alternate;Te!==null&&(Te=Te.updateQueue,L=Te.lastBaseUpdate,L!==D&&(L===null?Te.firstBaseUpdate=fe:L.next=fe,Te.lastBaseUpdate=Z))}if(S!==null){var Re=y.baseState;D=0,Te=fe=Z=null,L=S;do{var ve=L.lane&-536870913,be=ve!==L.lane;if(be?(Vt&ve)===ve:(m&ve)===ve){ve!==0&&ve===jo&&(Md=!0),Te!==null&&(Te=Te.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var wt=r,mt=L;ve=s;var Tn=d;switch(mt.tag){case 1:if(wt=mt.payload,typeof wt=="function"){Re=wt.call(Tn,Re,ve);break e}Re=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=mt.payload,ve=typeof wt=="function"?wt.call(Tn,Re,ve):wt,ve==null)break e;Re=v({},Re,ve);break e;case 2:Ti=!0}}ve=L.callback,ve!==null&&(r.flags|=64,be&&(r.flags|=8192),be=y.callbacks,be===null?y.callbacks=[ve]:be.push(ve))}else be={lane:ve,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Te===null?(fe=Te=be,Z=Re):Te=Te.next=be,D|=ve;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;be=L,L=be.next,be.next=null,y.lastBaseUpdate=be,y.shared.pending=null}}while(!0);Te===null&&(Z=Re),y.baseState=Z,y.firstBaseUpdate=fe,y.lastBaseUpdate=Te,S===null&&(y.shared.lanes=0),bn|=D,r.lanes=D,r.memoizedState=Re}}function ct(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function ip(r,s){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)ct(d[r],s)}var Mo=te(null),Ju=te(0);function Do(r,s){r=ki,Ce(Ju,r),Ce(Mo,s),ki=r|s.baseLanes}function zh(){Ce(Ju,ki),Ce(Mo,Mo.current)}function kh(){ki=Ju.current,we(Mo),we(Ju)}var qs=0,jt=null,mn=null,Hn=null,ec=!1,ss=!1,Vs=!1,Dd=0,tc=0,Lr=null,ls=0;function Pt(){throw Error(a(321))}function Ri(r,s){if(s===null)return!1;for(var d=0;d<s.length&&d<r.length;d++)if(!yr(r[d],s[d]))return!1;return!0}function sr(r,s,d,m,y,S){return qs=S,jt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=r===null||r.memoizedState===null?Lp:Wh,Vs=!1,S=d(m,y),Vs=!1,ss&&(S=lp(s,d,m,y)),sp(r),S}function sp(r){G.H=Bd;var s=mn!==null&&mn.next!==null;if(qs=0,Hn=mn=jt=null,ec=!1,tc=0,Lr=null,s)throw Error(a(300));r===null||pn||(r=r.dependencies,r!==null&&Rd(r)&&(pn=!0))}function lp(r,s,d,m){jt=r;var y=0;do{if(ss&&(Lr=null),tc=0,ss=!1,25<=y)throw Error(a(301));if(y+=1,Hn=mn=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=p1,S=s(d,m)}while(ss);return S}function sa(){var r=G.H,s=r.useState()[0];return s=typeof s.then=="function"?nc(s):s,r=r.useState()[0],(mn!==null?mn.memoizedState:null)!==r&&(jt.flags|=1024),s}function Jr(){var r=Dd!==0;return Dd=0,r}function Lh(r,s,d){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d}function Uh(r){if(ec){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ec=!1}qs=0,Hn=mn=jt=null,ss=!1,tc=Dd=0,Lr=null}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?jt.memoizedState=Hn=r:Hn=Hn.next=r,Hn}function Zn(){if(mn===null){var r=jt.alternate;r=r!==null?r.memoizedState:null}else r=mn.next;var s=Hn===null?jt.memoizedState:Hn.next;if(s!==null)Hn=s,mn=r;else{if(r===null)throw jt.alternate===null?Error(a(467)):Error(a(310));mn=r,r={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},Hn===null?jt.memoizedState=Hn=r:Hn=Hn.next=r}return Hn}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(r){var s=tc;return tc+=1,Lr===null&&(Lr=[]),r=jd(Lr,r,s),s=jt,(Hn===null?s.memoizedState:Hn.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Lp:Wh),r}function ac(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return nc(r);if(r.$$typeof===z)return Ra(r)}throw Error(a(438,String(r)))}function Ph(r){var s=null,d=jt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var m=jt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=zd(),jt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(r),m=0;m<r;m++)d[m]=pe;return s.index++,d}function or(r,s){return typeof s=="function"?s(r):s}function Oi(r){var s=Zn();return Bh(s,mn,r)}function Bh(r,s,d){var m=r.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=d;var y=r.baseQueue,S=m.pending;if(S!==null){if(y!==null){var D=y.next;y.next=S.next,S.next=D}s.baseQueue=y=S,m.pending=null}if(S=r.baseState,y===null)r.memoizedState=S;else{s=y.next;var L=D=null,Z=null,fe=s,Te=!1;do{var Re=fe.lane&-536870913;if(Re!==fe.lane?(Vt&Re)===Re:(qs&Re)===Re){var ve=fe.revertLane;if(ve===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Re===jo&&(Te=!0);else if((qs&ve)===ve){fe=fe.next,ve===jo&&(Te=!0);continue}else Re={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Z===null?(L=Z=Re,D=S):Z=Z.next=Re,jt.lanes|=ve,bn|=ve;Re=fe.action,Vs&&d(S,Re),S=fe.hasEagerState?fe.eagerState:d(S,Re)}else ve={lane:Re,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Z===null?(L=Z=ve,D=S):Z=Z.next=ve,jt.lanes|=Re,bn|=Re;fe=fe.next}while(fe!==null&&fe!==s);if(Z===null?D=S:Z.next=L,!yr(S,r.memoizedState)&&(pn=!0,Te&&(d=Hl,d!==null)))throw d;r.memoizedState=S,r.baseState=D,r.baseQueue=Z,m.lastRenderedState=S}return y===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Hh(r){var s=Zn(),d=s.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=r;var m=d.dispatch,y=d.pending,S=s.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do S=r(S,D.action),D=D.next;while(D!==y);yr(S,s.memoizedState)||(pn=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),d.lastRenderedState=S}return[S,m]}function op(r,s,d){var m=jt,y=Zn(),S=Xt;if(S){if(d===void 0)throw Error(a(407));d=d()}else d=s();var D=!yr((mn||y).memoizedState,d);D&&(y.memoizedState=d,pn=!0),y=y.queue;var L=cp.bind(null,m,y,r);if(rc(2048,8,L,[r]),y.getSnapshot!==s||D||Hn!==null&&Hn.memoizedState.tag&1){if(m.flags|=2048,Lo(9,kd(),up.bind(null,m,y,d,s),null),gn===null)throw Error(a(349));S||(qs&124)!==0||zo(m,s,d)}return d}function zo(r,s,d){r.flags|=16384,r={getSnapshot:s,value:d},s=jt.updateQueue,s===null?(s=zd(),jt.updateQueue=s,s.stores=[r]):(d=s.stores,d===null?s.stores=[r]:d.push(r))}function up(r,s,d,m){s.value=d,s.getSnapshot=m,dp(s)&&ko(r)}function cp(r,s,d){return d(function(){dp(s)&&ko(r)})}function dp(r){var s=r.getSnapshot;r=r.value;try{var d=s();return!yr(r,d)}catch{return!0}}function ko(r){var s=_i(r,2);s!==null&&$n(s,r,2)}function Gh(r){var s=lr();if(typeof r=="function"){var d=r;if(r=d(),Vs){vt(!0);try{d()}finally{vt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:r},s}function fp(r,s,d,m){return r.baseState=d,Bh(r,mn,typeof m=="function"?m:or)}function f1(r,s,d,m,y){if(Pd(r))throw Error(a(485));if(r=s.action,r!==null){var S={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};G.T!==null?d(!0):S.isTransition=!1,m(S),d=s.pending,d===null?(S.next=s.pending=S,hp(s,S)):(S.next=d.next,s.pending=d.next=S)}}function hp(r,s){var d=s.action,m=s.payload,y=r.state;if(s.isTransition){var S=G.T,D={};G.T=D;try{var L=d(y,m),Z=G.S;Z!==null&&Z(D,L),mp(r,s,L)}catch(fe){qh(r,s,fe)}finally{G.T=S}}else try{S=d(y,m),mp(r,s,S)}catch(fe){qh(r,s,fe)}}function mp(r,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){pp(r,s,m)},function(m){return qh(r,s,m)}):pp(r,s,d)}function pp(r,s,d){s.status="fulfilled",s.value=d,gp(s),r.state=d,s=r.pending,s!==null&&(d=s.next,d===s?r.pending=null:(d=d.next,s.next=d,hp(r,d)))}function qh(r,s,d){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=d,gp(s),s=s.next;while(s!==m)}r.action=null}function gp(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function vp(r,s){return s}function yp(r,s){if(Xt){var d=gn.formState;if(d!==null){e:{var m=jt;if(Xt){if(jn){t:{for(var y=jn,S=Si;y.nodeType!==8;){if(!S){y=null;break t}if(y=vs(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){jn=vs(y.nextSibling),m=y.data==="F!";break e}}Ls(m)}m=!1}m&&(s=d[0])}}return d=lr(),d.memoizedState=d.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:s},d.queue=m,d=Dp.bind(null,jt,m),m.dispatch=d,m=Gh(!1),S=Qh.bind(null,jt,!1,m.queue),m=lr(),y={state:s,dispatch:null,action:r,pending:null},m.queue=y,d=f1.bind(null,jt,y,S,d),y.dispatch=d,m.memoizedState=r,[s,d,!1]}function bp(r){var s=Zn();return _p(s,mn,r)}function _p(r,s,d){if(s=Bh(r,s,vp)[0],r=Oi(or)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=nc(s)}catch(D){throw D===Gl?ql:D}else m=s;s=Zn();var y=s.queue,S=y.dispatch;return d!==s.memoizedState&&(jt.flags|=2048,Lo(9,kd(),xp.bind(null,y,d),null)),[m,S,r]}function xp(r,s){r.action=s}function wp(r){var s=Zn(),d=mn;if(d!==null)return _p(s,d,r);Zn(),s=s.memoizedState,d=Zn();var m=d.queue.dispatch;return d.memoizedState=r,[s,m,!1]}function Lo(r,s,d,m){return r={tag:r,create:d,deps:m,inst:s,next:null},s=jt.updateQueue,s===null&&(s=zd(),jt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=r.next=r:(m=d.next,d.next=r,r.next=m,s.lastEffect=r),r}function kd(){return{destroy:void 0,resource:void 0}}function Sp(){return Zn().memoizedState}function Ld(r,s,d,m){var y=lr();m=m===void 0?null:m,jt.flags|=r,y.memoizedState=Lo(1|s,kd(),d,m)}function rc(r,s,d,m){var y=Zn();m=m===void 0?null:m;var S=y.memoizedState.inst;mn!==null&&m!==null&&Ri(m,mn.memoizedState.deps)?y.memoizedState=Lo(s,S,d,m):(jt.flags|=r,y.memoizedState=Lo(1|s,S,d,m))}function Vh(r,s){Ld(8390656,8,r,s)}function Yh(r,s){rc(2048,8,r,s)}function Ep(r,s){return rc(4,2,r,s)}function Ih(r,s){return rc(4,4,r,s)}function Zh(r,s){if(typeof s=="function"){r=r();var d=s(r);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Xh(r,s,d){d=d!=null?d.concat([r]):null,rc(4,4,Zh.bind(null,s,r),d)}function ic(){}function Ud(r,s){var d=Zn();s=s===void 0?null:s;var m=d.memoizedState;return s!==null&&Ri(s,m[1])?m[0]:(d.memoizedState=[r,s],r)}function Cp(r,s){var d=Zn();s=s===void 0?null:s;var m=d.memoizedState;if(s!==null&&Ri(s,m[1]))return m[0];if(m=r(),Vs){vt(!0);try{r()}finally{vt(!1)}}return d.memoizedState=[m,s],m}function Kh(r,s,d){return d===void 0||(qs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=d,r=Pn(),jt.lanes|=r,bn|=r,d)}function Tp(r,s,d,m){return yr(d,s)?d:Mo.current!==null?(r=Kh(r,d,m),yr(r,s)||(pn=!0),r):(qs&42)===0?(pn=!0,r.memoizedState=d):(r=Pn(),jt.lanes|=r,bn|=r,s)}function Ap(r,s,d,m,y){var S=ee.p;ee.p=S!==0&&8>S?S:8;var D=G.T,L={};G.T=L,Qh(r,!1,s,d);try{var Z=y(),fe=G.S;if(fe!==null&&fe(L,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Te=ap(Z,m);sc(r,s,Te,qn(r))}else sc(r,s,m,qn(r))}catch(Re){sc(r,s,{then:function(){},status:"rejected",reason:Re},qn())}finally{ee.p=S,G.T=D}}function Rp(){}function Fh(r,s,d,m){if(r.tag!==5)throw Error(a(476));var y=Op(r).queue;Ap(r,y,s,Q,d===null?Rp:function(){return Np(r),d(m)})}function Op(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:Q},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:d},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Np(r){var s=Op(r).next.queue;sc(r,s,{},qn())}function $h(){return Ra(g0)}function jp(){return Zn().memoizedState}function Mp(){return Zn().memoizedState}function h1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var d=qn();r=Ai(d);var m=qa(s,r,d);m!==null&&($n(m,s,d),Yl(m,s,d)),s={cache:No()},r.payload=s;return}s=s.return}}function m1(r,s,d){var m=qn();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Pd(r)?zp(s,d):(d=zs(r,s,d,m),d!==null&&($n(d,r,m),kp(d,s,m)))}function Dp(r,s,d){var m=qn();sc(r,s,d,m)}function sc(r,s,d,m){var y={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Pd(r))zp(s,y);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var D=s.lastRenderedState,L=S(D,d);if(y.hasEagerState=!0,y.eagerState=L,yr(L,D))return qu(r,s,y,0),gn===null&&br(),!1}catch{}finally{}if(d=zs(r,s,y,m),d!==null)return $n(d,r,m),kp(d,s,m),!0}return!1}function Qh(r,s,d,m){if(m={lane:2,revertLane:b1(),action:m,hasEagerState:!1,eagerState:null,next:null},Pd(r)){if(s)throw Error(a(479))}else s=zs(r,d,m,2),s!==null&&$n(s,r,2)}function Pd(r){var s=r.alternate;return r===jt||s!==null&&s===jt}function zp(r,s){ss=ec=!0;var d=r.pending;d===null?s.next=s:(s.next=d.next,d.next=s),r.pending=s}function kp(r,s,d){if((d&4194048)!==0){var m=s.lanes;m&=r.pendingLanes,d|=m,s.lanes=d,pi(r,d)}}var Bd={readContext:Ra,use:ac,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},Lp={readContext:Ra,use:ac,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Ra,useEffect:Vh,useImperativeHandle:function(r,s,d){d=d!=null?d.concat([r]):null,Ld(4194308,4,Zh.bind(null,s,r),d)},useLayoutEffect:function(r,s){return Ld(4194308,4,r,s)},useInsertionEffect:function(r,s){Ld(4,2,r,s)},useMemo:function(r,s){var d=lr();s=s===void 0?null:s;var m=r();if(Vs){vt(!0);try{r()}finally{vt(!1)}}return d.memoizedState=[m,s],m},useReducer:function(r,s,d){var m=lr();if(d!==void 0){var y=d(s);if(Vs){vt(!0);try{d(s)}finally{vt(!1)}}}else y=s;return m.memoizedState=m.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},m.queue=r,r=r.dispatch=m1.bind(null,jt,r),[m.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:function(r){r=Gh(r);var s=r.queue,d=Dp.bind(null,jt,s);return s.dispatch=d,[r.memoizedState,d]},useDebugValue:ic,useDeferredValue:function(r,s){var d=lr();return Kh(d,r,s)},useTransition:function(){var r=Gh(!1);return r=Ap.bind(null,jt,r.queue,!0,!1),lr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,d){var m=jt,y=lr();if(Xt){if(d===void 0)throw Error(a(407));d=d()}else{if(d=s(),gn===null)throw Error(a(349));(Vt&124)!==0||zo(m,s,d)}y.memoizedState=d;var S={value:d,getSnapshot:s};return y.queue=S,Vh(cp.bind(null,m,S,r),[r]),m.flags|=2048,Lo(9,kd(),up.bind(null,m,S,d,s),null),d},useId:function(){var r=lr(),s=gn.identifierPrefix;if(Xt){var d=Qr,m=wi;d=(m&~(1<<32-nn(m)-1)).toString(32)+d,s=""+s+"R"+d,d=Dd++,0<d&&(s+="H"+d.toString(32)),s+=""}else d=ls++,s=""+s+"r"+d.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:$h,useFormState:yp,useActionState:yp,useOptimistic:function(r){var s=lr();s.memoizedState=s.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Qh.bind(null,jt,!0,d),d.dispatch=s,[r,s]},useMemoCache:Ph,useCacheRefresh:function(){return lr().memoizedState=h1.bind(null,jt)}},Wh={readContext:Ra,use:ac,useCallback:Ud,useContext:Ra,useEffect:Yh,useImperativeHandle:Xh,useInsertionEffect:Ep,useLayoutEffect:Ih,useMemo:Cp,useReducer:Oi,useRef:Sp,useState:function(){return Oi(or)},useDebugValue:ic,useDeferredValue:function(r,s){var d=Zn();return Tp(d,mn.memoizedState,r,s)},useTransition:function(){var r=Oi(or)[0],s=Zn().memoizedState;return[typeof r=="boolean"?r:nc(r),s]},useSyncExternalStore:op,useId:jp,useHostTransitionStatus:$h,useFormState:bp,useActionState:bp,useOptimistic:function(r,s){var d=Zn();return fp(d,mn,r,s)},useMemoCache:Ph,useCacheRefresh:Mp},p1={readContext:Ra,use:ac,useCallback:Ud,useContext:Ra,useEffect:Yh,useImperativeHandle:Xh,useInsertionEffect:Ep,useLayoutEffect:Ih,useMemo:Cp,useReducer:Hh,useRef:Sp,useState:function(){return Hh(or)},useDebugValue:ic,useDeferredValue:function(r,s){var d=Zn();return mn===null?Kh(d,r,s):Tp(d,mn.memoizedState,r,s)},useTransition:function(){var r=Hh(or)[0],s=Zn().memoizedState;return[typeof r=="boolean"?r:nc(r),s]},useSyncExternalStore:op,useId:jp,useHostTransitionStatus:$h,useFormState:wp,useActionState:wp,useOptimistic:function(r,s){var d=Zn();return mn!==null?fp(d,mn,r,s):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:Mp},Uo=null,Va=0;function lc(r){var s=Va;return Va+=1,Uo===null&&(Uo=[]),jd(Uo,r,s)}function Il(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function oc(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Jh(r){var s=r._init;return s(r._payload)}function e0(r){function s(ie,W){if(r){var ce=ie.deletions;ce===null?(ie.deletions=[W],ie.flags|=16):ce.push(W)}}function d(ie,W){if(!r)return null;for(;W!==null;)s(ie,W),W=W.sibling;return null}function m(ie){for(var W=new Map;ie!==null;)ie.key!==null?W.set(ie.key,ie):W.set(ie.index,ie),ie=ie.sibling;return W}function y(ie,W){return ie=xi(ie,W),ie.index=0,ie.sibling=null,ie}function S(ie,W,ce){return ie.index=ce,r?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<W?(ie.flags|=67108866,W):ce):(ie.flags|=67108866,W)):(ie.flags|=1048576,W)}function D(ie){return r&&ie.alternate===null&&(ie.flags|=67108866),ie}function L(ie,W,ce,Ae){return W===null||W.tag!==6?(W=Sd(ce,ie.mode,Ae),W.return=ie,W):(W=y(W,ce),W.return=ie,W)}function Z(ie,W,ce,Ae){var et=ce.type;return et===T?Te(ie,W,ce.props.children,Ae,ce.key):W!==null&&(W.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===$&&Jh(et)===W.type)?(W=y(W,ce.props),Il(W,ce),W.return=ie,W):(W=Ao(ce.type,ce.key,ce.props,null,ie.mode,Ae),Il(W,ce),W.return=ie,W)}function fe(ie,W,ce,Ae){return W===null||W.tag!==4||W.stateNode.containerInfo!==ce.containerInfo||W.stateNode.implementation!==ce.implementation?(W=Iu(ce,ie.mode,Ae),W.return=ie,W):(W=y(W,ce.children||[]),W.return=ie,W)}function Te(ie,W,ce,Ae,et){return W===null||W.tag!==7?(W=ns(ce,ie.mode,Ae,et),W.return=ie,W):(W=y(W,ce),W.return=ie,W)}function Re(ie,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Sd(""+W,ie.mode,ce),W.return=ie,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return ce=Ao(W.type,W.key,W.props,null,ie.mode,ce),Il(ce,W),ce.return=ie,ce;case C:return W=Iu(W,ie.mode,ce),W.return=ie,W;case $:var Ae=W._init;return W=Ae(W._payload),Re(ie,W,ce)}if(ue(W)||J(W))return W=ns(W,ie.mode,ce,null),W.return=ie,W;if(typeof W.then=="function")return Re(ie,lc(W),ce);if(W.$$typeof===z)return Re(ie,Od(ie,W),ce);oc(ie,W)}return null}function ve(ie,W,ce,Ae){var et=W!==null?W.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return et!==null?null:L(ie,W,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return ce.key===et?Z(ie,W,ce,Ae):null;case C:return ce.key===et?fe(ie,W,ce,Ae):null;case $:return et=ce._init,ce=et(ce._payload),ve(ie,W,ce,Ae)}if(ue(ce)||J(ce))return et!==null?null:Te(ie,W,ce,Ae,null);if(typeof ce.then=="function")return ve(ie,W,lc(ce),Ae);if(ce.$$typeof===z)return ve(ie,W,Od(ie,ce),Ae);oc(ie,ce)}return null}function be(ie,W,ce,Ae,et){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ie=ie.get(ce)||null,L(W,ie,""+Ae,et);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:return ie=ie.get(Ae.key===null?ce:Ae.key)||null,Z(W,ie,Ae,et);case C:return ie=ie.get(Ae.key===null?ce:Ae.key)||null,fe(W,ie,Ae,et);case $:var Bt=Ae._init;return Ae=Bt(Ae._payload),be(ie,W,ce,Ae,et)}if(ue(Ae)||J(Ae))return ie=ie.get(ce)||null,Te(W,ie,Ae,et,null);if(typeof Ae.then=="function")return be(ie,W,ce,lc(Ae),et);if(Ae.$$typeof===z)return be(ie,W,ce,Od(W,Ae),et);oc(W,Ae)}return null}function wt(ie,W,ce,Ae){for(var et=null,Bt=null,ot=W,gt=W=0,Da=null;ot!==null&&gt<ce.length;gt++){ot.index>gt?(Da=ot,ot=null):Da=ot.sibling;var un=ve(ie,ot,ce[gt],Ae);if(un===null){ot===null&&(ot=Da);break}r&&ot&&un.alternate===null&&s(ie,ot),W=S(un,W,gt),Bt===null?et=un:Bt.sibling=un,Bt=un,ot=Da}if(gt===ce.length)return d(ie,ot),Xt&&zr(ie,gt),et;if(ot===null){for(;gt<ce.length;gt++)ot=Re(ie,ce[gt],Ae),ot!==null&&(W=S(ot,W,gt),Bt===null?et=ot:Bt.sibling=ot,Bt=ot);return Xt&&zr(ie,gt),et}for(ot=m(ot);gt<ce.length;gt++)Da=be(ot,ie,gt,ce[gt],Ae),Da!==null&&(r&&Da.alternate!==null&&ot.delete(Da.key===null?gt:Da.key),W=S(Da,W,gt),Bt===null?et=Da:Bt.sibling=Da,Bt=Da);return r&&ot.forEach(function(au){return s(ie,au)}),Xt&&zr(ie,gt),et}function mt(ie,W,ce,Ae){if(ce==null)throw Error(a(151));for(var et=null,Bt=null,ot=W,gt=W=0,Da=null,un=ce.next();ot!==null&&!un.done;gt++,un=ce.next()){ot.index>gt?(Da=ot,ot=null):Da=ot.sibling;var au=ve(ie,ot,un.value,Ae);if(au===null){ot===null&&(ot=Da);break}r&&ot&&au.alternate===null&&s(ie,ot),W=S(au,W,gt),Bt===null?et=au:Bt.sibling=au,Bt=au,ot=Da}if(un.done)return d(ie,ot),Xt&&zr(ie,gt),et;if(ot===null){for(;!un.done;gt++,un=ce.next())un=Re(ie,un.value,Ae),un!==null&&(W=S(un,W,gt),Bt===null?et=un:Bt.sibling=un,Bt=un);return Xt&&zr(ie,gt),et}for(ot=m(ot);!un.done;gt++,un=ce.next())un=be(ot,ie,gt,un.value,Ae),un!==null&&(r&&un.alternate!==null&&ot.delete(un.key===null?gt:un.key),W=S(un,W,gt),Bt===null?et=un:Bt.sibling=un,Bt=un);return r&&ot.forEach(function(hE){return s(ie,hE)}),Xt&&zr(ie,gt),et}function Tn(ie,W,ce,Ae){if(typeof ce=="object"&&ce!==null&&ce.type===T&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:e:{for(var et=ce.key;W!==null;){if(W.key===et){if(et=ce.type,et===T){if(W.tag===7){d(ie,W.sibling),Ae=y(W,ce.props.children),Ae.return=ie,ie=Ae;break e}}else if(W.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===$&&Jh(et)===W.type){d(ie,W.sibling),Ae=y(W,ce.props),Il(Ae,ce),Ae.return=ie,ie=Ae;break e}d(ie,W);break}else s(ie,W);W=W.sibling}ce.type===T?(Ae=ns(ce.props.children,ie.mode,Ae,ce.key),Ae.return=ie,ie=Ae):(Ae=Ao(ce.type,ce.key,ce.props,null,ie.mode,Ae),Il(Ae,ce),Ae.return=ie,ie=Ae)}return D(ie);case C:e:{for(et=ce.key;W!==null;){if(W.key===et)if(W.tag===4&&W.stateNode.containerInfo===ce.containerInfo&&W.stateNode.implementation===ce.implementation){d(ie,W.sibling),Ae=y(W,ce.children||[]),Ae.return=ie,ie=Ae;break e}else{d(ie,W);break}else s(ie,W);W=W.sibling}Ae=Iu(ce,ie.mode,Ae),Ae.return=ie,ie=Ae}return D(ie);case $:return et=ce._init,ce=et(ce._payload),Tn(ie,W,ce,Ae)}if(ue(ce))return wt(ie,W,ce,Ae);if(J(ce)){if(et=J(ce),typeof et!="function")throw Error(a(150));return ce=et.call(ce),mt(ie,W,ce,Ae)}if(typeof ce.then=="function")return Tn(ie,W,lc(ce),Ae);if(ce.$$typeof===z)return Tn(ie,W,Od(ie,ce),Ae);oc(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,W!==null&&W.tag===6?(d(ie,W.sibling),Ae=y(W,ce),Ae.return=ie,ie=Ae):(d(ie,W),Ae=Sd(ce,ie.mode,Ae),Ae.return=ie,ie=Ae),D(ie)):d(ie,W)}return function(ie,W,ce,Ae){try{Va=0;var et=Tn(ie,W,ce,Ae);return Uo=null,et}catch(ot){if(ot===Gl||ot===ql)throw ot;var Bt=ar(29,ot,null,ie.mode);return Bt.lanes=Ae,Bt.return=ie,Bt}finally{}}}var Po=e0(!0),t0=e0(!1),xr=te(null),Ni=null;function Ys(r){var s=r.alternate;Ce(Ut,Ut.current&1),Ce(xr,r),Ni===null&&(s===null||Mo.current!==null||s.memoizedState!==null)&&(Ni=r)}function Up(r){if(r.tag===22){if(Ce(Ut,Ut.current),Ce(xr,r),Ni===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ni=r)}}else os()}function os(){Ce(Ut,Ut.current),Ce(xr,xr.current)}function us(r){we(xr),Ni===r&&(Ni=null),we(Ut)}var Ut=te(0);function uc(r){for(var s=r;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||j1(d)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function n0(r,s,d,m){s=r.memoizedState,d=d(m,s),d=d==null?s:v({},s,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Hd={enqueueSetState:function(r,s,d){r=r._reactInternals;var m=qn(),y=Ai(m);y.payload=s,d!=null&&(y.callback=d),s=qa(r,y,m),s!==null&&($n(s,r,m),Yl(s,r,m))},enqueueReplaceState:function(r,s,d){r=r._reactInternals;var m=qn(),y=Ai(m);y.tag=1,y.payload=s,d!=null&&(y.callback=d),s=qa(r,y,m),s!==null&&($n(s,r,m),Yl(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var d=qn(),m=Ai(d);m.tag=2,s!=null&&(m.callback=s),s=qa(r,m,d),s!==null&&($n(s,r,d),Yl(s,r,d))}};function a0(r,s,d,m,y,S,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,S,D):s.prototype&&s.prototype.isPureReactComponent?!So(d,m)||!So(y,S):!0}function Zl(r,s,d,m){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,m),s.state!==r&&Hd.enqueueReplaceState(s,s.state,null)}function cs(r,s){var d=s;if("ref"in s){d={};for(var m in s)m!=="ref"&&(d[m]=s[m])}if(r=r.defaultProps){d===s&&(d=v({},d));for(var y in r)d[y]===void 0&&(d[y]=r[y])}return d}var ds=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Xl(r){ds(r)}function ur(r){console.error(r)}function Pp(r){ds(r)}function Gd(r,s){try{var d=r.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function cc(r,s,d){try{var m=r.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Bo(r,s,d){return d=Ai(d),d.tag=3,d.payload={element:null},d.callback=function(){Gd(r,s)},d}function dc(r){return r=Ai(r),r.tag=3,r}function qd(r,s,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var S=m.value;r.payload=function(){return y(S)},r.callback=function(){cc(s,d,m)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){cc(s,d,m),typeof y!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function g1(r,s,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=d.alternate,s!==null&&Pl(s,d,y,!0),d=xr.current,d!==null){switch(d.tag){case 13:return Ni===null?Ui():d.alternate===null&&Mt===0&&(Mt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===Hs?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([m]):s.add(m),Ne(r,m,y)),!1;case 22:return d.flags|=65536,m===Hs?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([m]):d.add(m)),Ne(r,m,y)),!1}throw Error(a(435,d.tag))}return Ne(r,m,y),Ui(),!1}if(Xt)return s=xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,m!==Th&&(r=Error(a(422),{cause:m}),Oo(ra(r,d)))):(m!==Th&&(s=Error(a(423),{cause:m}),Oo(ra(s,d))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,m=ra(m,d),y=Bo(r.stateNode,m,y),Dh(r,y),Mt!==4&&(Mt=2)),!1;var S=Error(a(520),{cause:m});if(S=ra(S,d),el===null?el=[S]:el.push(S),Mt!==4&&(Mt=2),s===null)return!0;m=ra(m,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,r=y&-y,d.lanes|=r,r=Bo(d.stateNode,m,r),Dh(d,r),!1;case 1:if(s=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(nl===null||!nl.has(S))))return d.flags|=65536,y&=-y,d.lanes|=y,y=dc(y),qd(y,r,d,m),Dh(d,y),!1}d=d.return}while(d!==null);return!1}var Bp=Error(a(461)),pn=!1;function la(r,s,d,m){s.child=r===null?t0(s,null,d,m):Po(s,r.child,d,m)}function Hp(r,s,d,m,y){d=d.render;var S=s.ref;if("ref"in m){var D={};for(var L in m)L!=="ref"&&(D[L]=m[L])}else D=m;return Bs(s),m=sr(r,s,d,D,S,y),L=Jr(),r!==null&&!pn?(Lh(r,s,y),An(r,s,y)):(Xt&&L&&Ed(s),s.flags|=1,la(r,s,m,y),s.child)}function Vd(r,s,d,m,y){if(r===null){var S=d.type;return typeof S=="function"&&!To(S)&&S.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=S,Gp(r,s,S,m,y)):(r=Ao(d.type,null,m,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(S=r.child,!Kl(r,y)){var D=S.memoizedProps;if(d=d.compare,d=d!==null?d:So,d(D,m)&&r.ref===s.ref)return An(r,s,y)}return s.flags|=1,r=xi(S,m),r.ref=s.ref,r.return=s,s.child=r}function Gp(r,s,d,m,y){if(r!==null){var S=r.memoizedProps;if(So(S,m)&&r.ref===s.ref)if(pn=!1,s.pendingProps=m=S,Kl(r,y))(r.flags&131072)!==0&&(pn=!0);else return s.lanes=r.lanes,An(r,s,y)}return Ya(r,s,d,m,y)}function qp(r,s,d){var m=s.pendingProps,y=m.children,S=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((s.flags&128)!==0){if(m=S!==null?S.baseLanes|d:d,r!==null){for(y=s.child=r.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;s.childLanes=S&~m}else s.childLanes=0,s.child=null;return Vp(r,s,m,d)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nd(s,S!==null?S.cachePool:null),S!==null?Do(s,S):zh(),Up(s);else return s.lanes=s.childLanes=536870912,Vp(r,s,S!==null?S.baseLanes|d:d,d)}else S!==null?(Nd(s,S.cachePool),Do(s,S),os(),s.memoizedState=null):(r!==null&&Nd(s,null),zh(),os());return la(r,s,y,d),s.child}function Vp(r,s,d,m){var y=Nt();return y=y===null?null:{parent:In._currentValue,pool:y},s.memoizedState={baseLanes:d,cachePool:y},r!==null&&Nd(s,null),zh(),Up(s),r!==null&&Pl(r,s,m,!0),null}function Is(r,s){var d=s.ref;if(d===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(r===null||r.ref!==d)&&(s.flags|=4194816)}}function Ya(r,s,d,m,y){return Bs(s),d=sr(r,s,d,m,void 0,y),m=Jr(),r!==null&&!pn?(Lh(r,s,y),An(r,s,y)):(Xt&&m&&Ed(s),s.flags|=1,la(r,s,d,y),s.child)}function Yd(r,s,d,m,y,S){return Bs(s),s.updateQueue=null,d=lp(s,m,d,y),sp(r),m=Jr(),r!==null&&!pn?(Lh(r,s,S),An(r,s,S)):(Xt&&m&&Ed(s),s.flags|=1,la(r,s,d,S),s.child)}function r0(r,s,d,m,y){if(Bs(s),s.stateNode===null){var S=zl,D=d.contextType;typeof D=="object"&&D!==null&&(S=Ra(D)),S=new d(m,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Hd,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=m,S.state=s.memoizedState,S.refs={},$u(s),D=d.contextType,S.context=typeof D=="object"&&D!==null?Ra(D):zl,S.state=s.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(n0(s,d,D,m),S.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&Hd.enqueueReplaceState(S,S.state,null),Gs(s,m,S,y),Wu(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(r===null){S=s.stateNode;var L=s.memoizedProps,Z=cs(d,L);S.props=Z;var fe=S.context,Te=d.contextType;D=zl,typeof Te=="object"&&Te!==null&&(D=Ra(Te));var Re=d.getDerivedStateFromProps;Te=typeof Re=="function"||typeof S.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,Te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L||fe!==D)&&Zl(s,S,m,D),Ti=!1;var ve=s.memoizedState;S.state=ve,Gs(s,m,S,y),Wu(),fe=s.memoizedState,L||ve!==fe||Ti?(typeof Re=="function"&&(n0(s,d,Re,m),fe=s.memoizedState),(Z=Ti||a0(s,d,Z,m,ve,fe,D))?(Te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=fe),S.props=m,S.state=fe,S.context=D,m=Z):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{S=s.stateNode,Qu(r,s),D=s.memoizedProps,Te=cs(d,D),S.props=Te,Re=s.pendingProps,ve=S.context,fe=d.contextType,Z=zl,typeof fe=="object"&&fe!==null&&(Z=Ra(fe)),L=d.getDerivedStateFromProps,(fe=typeof L=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==Re||ve!==Z)&&Zl(s,S,m,Z),Ti=!1,ve=s.memoizedState,S.state=ve,Gs(s,m,S,y),Wu();var be=s.memoizedState;D!==Re||ve!==be||Ti||r!==null&&r.dependencies!==null&&Rd(r.dependencies)?(typeof L=="function"&&(n0(s,d,L,m),be=s.memoizedState),(Te=Ti||a0(s,d,Te,m,ve,be,Z)||r!==null&&r.dependencies!==null&&Rd(r.dependencies))?(fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,be,Z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,be,Z)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=be),S.props=m,S.state=be,S.context=Z,m=Te):(typeof S.componentDidUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=1024),m=!1)}return S=m,Is(r,s),m=(s.flags&128)!==0,S||m?(S=s.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,r!==null&&m?(s.child=Po(s,r.child,null,y),s.child=Po(s,null,d,y)):la(r,s,d,y),s.memoizedState=S.state,r=s.child):r=An(r,s,y),r}function Id(r,s,d,m){return Ro(),s.flags|=256,la(r,s,d,m),s.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(r){return{baseLanes:r,cachePool:ir()}}function Xs(r,s,d){return r=r!==null?r.childLanes&~d:0,s&&(r|=ga),r}function fc(r,s,d){var m=s.pendingProps,y=!1,S=(s.flags&128)!==0,D;if((D=S)||(D=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xt){if(y?Ys(s):os(),Xt){var L=jn,Z;if(Z=L){e:{for(Z=L,L=Si;Z.nodeType!==8;){if(!L){L=null;break e}if(Z=vs(Z.nextSibling),Z===null){L=null;break e}}L=Z}L!==null?(s.memoizedState={dehydrated:L,treeContext:rr!==null?{id:wi,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},Z=ar(18,null,null,0),Z.stateNode=L,Z.return=s,s.child=Z,Aa=s,jn=null,Z=!0):Z=!1}Z||Ls(s)}if(L=s.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return j1(L)?s.lanes=32:s.lanes=536870912,null;us(s)}return L=m.children,m=m.fallback,y?(os(),y=s.mode,L=Ia({mode:"hidden",children:L},y),m=ns(m,y,d,null),L.return=s,m.return=s,L.sibling=m,s.child=L,y=s.child,y.memoizedState=Zs(d),y.childLanes=Xs(r,D,d),s.memoizedState=Zd,m):(Ys(s),Ho(s,L))}if(Z=r.memoizedState,Z!==null&&(L=Z.dehydrated,L!==null)){if(S)s.flags&256?(Ys(s),s.flags&=-257,s=cr(r,s,d)):s.memoizedState!==null?(os(),s.child=r.child,s.flags|=128,s=null):(os(),y=m.fallback,L=s.mode,m=Ia({mode:"visible",children:m.children},L),y=ns(y,L,d,null),y.flags|=2,m.return=s,y.return=s,m.sibling=y,s.child=m,Po(s,r.child,null,d),m=s.child,m.memoizedState=Zs(d),m.childLanes=Xs(r,D,d),s.memoizedState=Zd,s=y);else if(Ys(s),j1(L)){if(D=L.nextSibling&&L.nextSibling.dataset,D)var fe=D.dgst;D=fe,m=Error(a(419)),m.stack="",m.digest=D,Oo({value:m,source:null,stack:null}),s=cr(r,s,d)}else if(pn||Pl(r,s,d,!1),D=(d&r.childLanes)!==0,pn||D){if(D=gn,D!==null&&(m=d&-d,m=(m&42)!==0?1:Fr(m),m=(m&(D.suspendedLanes|d))!==0?0:m,m!==0&&m!==Z.retryLane))throw Z.retryLane=m,_i(r,m),$n(D,r,m),Bp;L.data==="$?"||Ui(),s=cr(r,s,d)}else L.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=Z.treeContext,jn=vs(L.nextSibling),Aa=s,Xt=!0,Ll=null,Si=!1,r!==null&&(_r[Dr++]=wi,_r[Dr++]=Qr,_r[Dr++]=rr,wi=r.id,Qr=r.overflow,rr=s),s=Ho(s,m.children),s.flags|=4096);return s}return y?(os(),y=m.fallback,L=s.mode,Z=r.child,fe=Z.sibling,m=xi(Z,{mode:"hidden",children:m.children}),m.subtreeFlags=Z.subtreeFlags&65011712,fe!==null?y=xi(fe,y):(y=ns(y,L,d,null),y.flags|=2),y.return=s,m.return=s,m.sibling=y,s.child=m,m=y,y=s.child,L=r.child.memoizedState,L===null?L=Zs(d):(Z=L.cachePool,Z!==null?(fe=In._currentValue,Z=Z.parent!==fe?{parent:fe,pool:fe}:Z):Z=ir(),L={baseLanes:L.baseLanes|d,cachePool:Z}),y.memoizedState=L,y.childLanes=Xs(r,D,d),s.memoizedState=Zd,m):(Ys(s),d=r.child,r=d.sibling,d=xi(d,{mode:"visible",children:m.children}),d.return=s,d.sibling=null,r!==null&&(D=s.deletions,D===null?(s.deletions=[r],s.flags|=16):D.push(r)),s.child=d,s.memoizedState=null,d)}function Ho(r,s){return s=Ia({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ia(r,s){return r=ar(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cr(r,s,d){return Po(s,r.child,null,d),r=Ho(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ks(r,s,d){r.lanes|=s;var m=r.alternate;m!==null&&(m.lanes|=s),Ad(r.return,s,d)}function ei(r,s,d,m,y){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=d,S.tailMode=y)}function ji(r,s,d){var m=s.pendingProps,y=m.revealOrder,S=m.tail;if(la(r,s,m.children,d),m=Ut.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ks(r,d,s);else if(r.tag===19)Ks(r,d,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(Ce(Ut,m),y){case"forwards":for(d=s.child,y=null;d!==null;)r=d.alternate,r!==null&&uc(r)===null&&(y=d),d=d.sibling;d=y,d===null?(y=s.child,s.child=null):(y=d.sibling,d.sibling=null),ei(s,!1,y,d,S);break;case"backwards":for(d=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&uc(r)===null){s.child=y;break}r=y.sibling,y.sibling=d,d=y,y=r}ei(s,!0,d,null,S);break;case"together":ei(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function An(r,s,d){if(r!==null&&(s.dependencies=r.dependencies),bn|=s.lanes,(d&s.childLanes)===0)if(r!==null){if(Pl(r,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,d=xi(r,r.pendingProps),s.child=d,d.return=s;r.sibling!==null;)r=r.sibling,d=d.sibling=xi(r,r.pendingProps),d.return=s;d.sibling=null}return s.child}function Kl(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Rd(r)))}function Fs(r,s,d){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),kr(s,In,r.memoizedState.cache),Ro();break;case 27:case 5:xe(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:kr(s,s.type,s.memoizedProps.value);break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(Ys(s),s.flags|=128,null):(d&s.child.childLanes)!==0?fc(r,s,d):(Ys(s),r=An(r,s,d),r!==null?r.sibling:null);Ys(s);break;case 19:var y=(r.flags&128)!==0;if(m=(d&s.childLanes)!==0,m||(Pl(r,s,d,!1),m=(d&s.childLanes)!==0),y){if(m)return ji(r,s,d);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ce(Ut,Ut.current),m)break;return null;case 22:case 23:return s.lanes=0,qp(r,s,d);case 24:kr(s,In,r.memoizedState.cache)}return An(r,s,d)}function hc(r,s,d){if(r!==null)if(r.memoizedProps!==s.pendingProps)pn=!0;else{if(!Kl(r,d)&&(s.flags&128)===0)return pn=!1,Fs(r,s,d);pn=(r.flags&131072)!==0}else pn=!1,Xt&&(s.flags&1048576)!==0&&Ch(s,Zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var m=s.elementType,y=m._init;if(m=y(m._payload),s.type=m,typeof m=="function")To(m)?(r=cs(m,r),s.tag=1,s=r0(null,s,m,r,d)):(s.tag=0,s=Ya(null,s,m,r,d));else{if(m!=null){if(y=m.$$typeof,y===k){s.tag=11,s=Hp(null,s,m,r,d);break e}else if(y===Y){s.tag=14,s=Vd(null,s,m,r,d);break e}}throw s=de(m)||m,Error(a(306,s,""))}}return s;case 0:return Ya(r,s,s.type,s.pendingProps,d);case 1:return m=s.type,y=cs(m,s.pendingProps),r0(r,s,m,y,d);case 3:e:{if(bt(s,s.stateNode.containerInfo),r===null)throw Error(a(387));m=s.pendingProps;var S=s.memoizedState;y=S.element,Qu(r,s),Gs(s,m,null,d);var D=s.memoizedState;if(m=D.cache,kr(s,In,m),m!==S.cache&&rn(s,[In],d,!0),Wu(),m=D.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=Id(r,s,m,d);break e}else if(m!==y){y=ra(Error(a(424)),s),Oo(y),s=Id(r,s,m,d);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(jn=vs(r.firstChild),Aa=s,Xt=!0,Ll=null,Si=!0,d=t0(s,null,m,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ro(),m===y){s=An(r,s,d);break e}la(r,s,m,d)}s=s.child}return s;case 26:return Is(r,s),r===null?(d=t_(s.type,null,s.pendingProps,null))?s.memoizedState=d:Xt||(d=s.type,r=s.pendingProps,m=$p(Ie.current).createElement(d),m[V]=s,m[ye]=r,Fa(m,d,r),Ht(m),s.stateNode=m):s.memoizedState=t_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return xe(s),r===null&&Xt&&(m=s.stateNode=Wb(s.type,s.pendingProps,Ie.current),Aa=s,Si=!0,y=jn,Wo(s.type)?(M1=y,jn=vs(m.firstChild)):jn=y),la(r,s,s.pendingProps.children,d),Is(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xt&&((y=m=jn)&&(m=q8(m,s.type,s.pendingProps,Si),m!==null?(s.stateNode=m,Aa=s,jn=vs(m.firstChild),Si=!1,y=!0):y=!1),y||Ls(s)),xe(s),y=s.type,S=s.pendingProps,D=r!==null?r.memoizedProps:null,m=S.children,R1(y,S)?m=null:D!==null&&R1(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=sr(r,s,sa,null,null,d),g0._currentValue=y),Is(r,s),la(r,s,m,d),s.child;case 6:return r===null&&Xt&&((r=d=jn)&&(d=V8(d,s.pendingProps,Si),d!==null?(s.stateNode=d,Aa=s,jn=null,r=!0):r=!1),r||Ls(s)),null;case 13:return fc(r,s,d);case 4:return bt(s,s.stateNode.containerInfo),m=s.pendingProps,r===null?s.child=Po(s,null,m,d):la(r,s,m,d),s.child;case 11:return Hp(r,s,s.type,s.pendingProps,d);case 7:return la(r,s,s.pendingProps,d),s.child;case 8:return la(r,s,s.pendingProps.children,d),s.child;case 12:return la(r,s,s.pendingProps.children,d),s.child;case 10:return m=s.pendingProps,kr(s,s.type,m.value),la(r,s,m.children,d),s.child;case 9:return y=s.type._context,m=s.pendingProps.children,Bs(s),y=Ra(y),m=m(y),s.flags|=1,la(r,s,m,d),s.child;case 14:return Vd(r,s,s.type,s.pendingProps,d);case 15:return Gp(r,s,s.type,s.pendingProps,d);case 19:return ji(r,s,d);case 31:return m=s.pendingProps,d=s.mode,m={mode:m.mode,children:m.children},r===null?(d=Ia(m,d),d.ref=s.ref,s.child=d,d.return=s,s=d):(d=xi(r.child,m),d.ref=s.ref,s.child=d,d.return=s,s=d),s;case 22:return qp(r,s,d);case 24:return Bs(s),m=Ra(In),r===null?(y=Nt(),y===null&&(y=gn,S=No(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=d),y=S),s.memoizedState={parent:m,cache:y},$u(s),kr(s,In,y)):((r.lanes&d)!==0&&(Qu(r,s),Gs(s,null,null,d),Wu()),y=r.memoizedState,S=s.memoizedState,y.parent!==m?(y={parent:m,cache:m},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),kr(s,In,m)):(m=S.cache,kr(s,In,m),m!==y.cache&&rn(s,[In],d,!0))),la(r,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Un(r){r.flags|=4}function Xn(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!s_(s)){if(s=xr.current,s!==null&&((Vt&4194048)===Vt?Ni!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||s!==Ni))throw Fu=Hs,rp;r.flags|=8192}}function Zt(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Or():536870912,r.lanes|=s,Zo|=s)}function ti(r,s){if(!Xt)switch(r.tailMode){case"hidden":s=r.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function Wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,d=0,m=0;if(s)for(var y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=m,r.childLanes=d,s}function i0(r,s,d){var m=s.pendingProps;switch(Cd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return Wt(s),null;case 3:return d=s.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),Ci(In),vn(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Us(s)?Un(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rh())),Wt(s),null;case 26:return d=s.memoizedState,r===null?(Un(s),d!==null?(Wt(s),Xn(s,d)):(Wt(s),s.flags&=-16777217)):d?d!==r.memoizedState?(Un(s),Wt(s),Xn(s,d)):(Wt(s),s.flags&=-16777217):(r.memoizedProps!==m&&Un(s),Wt(s),s.flags&=-16777217),null;case 27:Me(s),d=Ie.current;var y=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==m&&Un(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return Wt(s),null}r=qe.current,Us(s)?Ah(s):(r=Wb(y,m,d),s.stateNode=r,Un(s))}return Wt(s),null;case 5:if(Me(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==m&&Un(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return Wt(s),null}if(r=qe.current,Us(s))Ah(s);else{switch(y=$p(Ie.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?y.createElement(d,{is:m.is}):y.createElement(d)}}r[V]=s,r[ye]=m;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=r;e:switch(Fa(r,d,m),d){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Un(s)}}return Wt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==m&&Un(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ie.current,Us(s)){if(r=s.stateNode,d=s.memoizedProps,m=null,y=Aa,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}r[V]=s,r=!!(r.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||Ib(r.nodeValue,d)),r||Ls(s)}else r=$p(r).createTextNode(m),r[V]=s,s.stateNode=r}return Wt(s),null;case 13:if(m=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Us(s),m!==null&&m.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[V]=s}else Ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),y=!1}else y=Rh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(us(s),s):(us(s),null)}if(us(s),(s.flags&128)!==0)return s.lanes=d,s;if(d=m!==null,r=r!==null&&r.memoizedState!==null,d){m=s.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==y&&(m.flags|=2048)}return d!==r&&d&&(s.child.flags|=8192),Zt(s,s.updateQueue),Wt(s),null;case 4:return vn(),r===null&&S1(s.stateNode.containerInfo),Wt(s),null;case 10:return Ci(s.type),Wt(s),null;case 19:if(we(Ut),y=s.memoizedState,y===null)return Wt(s),null;if(m=(s.flags&128)!==0,S=y.rendering,S===null)if(m)ti(y,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=uc(r),S!==null){for(s.flags|=128,ti(y,!1),r=S.updateQueue,s.updateQueue=r,Zt(s,r),s.subtreeFlags=0,r=d,d=s.child;d!==null;)wd(d,r),d=d.sibling;return Ce(Ut,Ut.current&1|2),s.child}r=r.sibling}y.tail!==null&&tn()>Ql&&(s.flags|=128,m=!0,ti(y,!1),s.lanes=4194304)}else{if(!m)if(r=uc(S),r!==null){if(s.flags|=128,m=!0,r=r.updateQueue,s.updateQueue=r,Zt(s,r),ti(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Xt)return Wt(s),null}else 2*tn()-y.renderingStartTime>Ql&&d!==536870912&&(s.flags|=128,m=!0,ti(y,!1),s.lanes=4194304);y.isBackwards?(S.sibling=s.child,s.child=S):(r=y.last,r!==null?r.sibling=S:s.child=S,y.last=S)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=tn(),s.sibling=null,r=Ut.current,Ce(Ut,m?r&1|2:r&1),s):(Wt(s),null);case 22:case 23:return us(s),kh(),m=s.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(d&536870912)!==0&&(s.flags&128)===0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),d=s.updateQueue,d!==null&&Zt(s,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048),r!==null&&we(rs),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ci(In),Wt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function wr(r,s){switch(Cd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(In),vn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 13:if(us(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ro()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return we(Ut),null;case 4:return vn(),null;case 10:return Ci(s.type),null;case 22:case 23:return us(s),kh(),r!==null&&we(rs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(In),null;case 25:return null;default:return null}}function mc(r,s){switch(Cd(s),s.tag){case 3:Ci(In),vn();break;case 26:case 27:case 5:Me(s);break;case 4:vn();break;case 13:us(s);break;case 19:we(Ut);break;case 10:Ci(s.type);break;case 22:case 23:us(s),kh(),r!==null&&we(rs);break;case 24:Ci(In)}}function ni(r,s){try{var d=s.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&r)===r){m=void 0;var S=d.create,D=d.inst;m=S(),D.destroy=m}d=d.next}while(d!==y)}}catch(L){se(s,s.return,L)}}function Oa(r,s,d){try{var m=s.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&r)===r){var D=m.inst,L=D.destroy;if(L!==void 0){D.destroy=void 0,y=s;var Z=d,fe=L;try{fe()}catch(Te){se(y,Z,Te)}}}m=m.next}while(m!==S)}}catch(Te){se(s,s.return,Te)}}function Yp(r){var s=r.updateQueue;if(s!==null){var d=r.stateNode;try{ip(s,d)}catch(m){se(r,r.return,m)}}}function Ip(r,s,d){d.props=cs(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(m){se(r,s,m)}}function pc(r,s){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof d=="function"?r.refCleanup=d(m):d.current=m}}catch(y){se(r,s,y)}}function sn(r,s){var d=r.ref,m=r.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){se(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){se(r,s,y)}else d.current=null}function gc(r){var s=r.type,d=r.memoizedProps,m=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){se(r,r.return,y)}}function $s(r,s,d){try{var m=r.stateNode;U8(m,r.type,d,s),m[ye]=s}catch(y){se(r,r.return,y)}}function Xd(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wo(r.type)||r.tag===4}function Go(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xd(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vc(r,s,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(r),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Fp));else if(m!==4&&(m===27&&Wo(r.type)&&(d=r.stateNode,s=null),r=r.child,r!==null))for(vc(r,s,d),r=r.sibling;r!==null;)vc(r,s,d),r=r.sibling}function fs(r,s,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?d.insertBefore(r,s):d.appendChild(r);else if(m!==4&&(m===27&&Wo(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(fs(r,s,d),r=r.sibling;r!==null;)fs(r,s,d),r=r.sibling}function qo(r){var s=r.stateNode,d=r.memoizedProps;try{for(var m=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Fa(s,m,d),s[V]=r,s[ye]=d}catch(S){se(r,r.return,S)}}var ai=!1,wn=!1,Qs=!1,s0=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function v1(r,s){if(r=r.containerInfo,T1=ng,r=xh(r),jl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var D=0,L=-1,Z=-1,fe=0,Te=0,Re=r,ve=null;t:for(;;){for(var be;Re!==d||y!==0&&Re.nodeType!==3||(L=D+y),Re!==S||m!==0&&Re.nodeType!==3||(Z=D+m),Re.nodeType===3&&(D+=Re.nodeValue.length),(be=Re.firstChild)!==null;)ve=Re,Re=be;for(;;){if(Re===r)break t;if(ve===d&&++fe===y&&(L=D),ve===S&&++Te===m&&(Z=D),(be=Re.nextSibling)!==null)break;Re=ve,ve=Re.parentNode}Re=be}d=L===-1||Z===-1?null:{start:L,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(A1={focusedElem:r,selectionRange:d},ng=!1,Mn=s;Mn!==null;)if(s=Mn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Mn=r;else for(;Mn!==null;){switch(s=Mn,S=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,d=s,y=S.memoizedProps,S=S.memoizedState,m=d.stateNode;try{var wt=cs(d.type,y,d.elementType===d.type);r=m.getSnapshotBeforeUpdate(wt,S),m.__reactInternalSnapshotBeforeUpdate=r}catch(mt){se(d,d.return,mt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,d=r.nodeType,d===9)N1(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":N1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Mn=r;break}Mn=s.return}}function Vo(r,s,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:qt(r,d),m&4&&ni(5,d);break;case 1:if(qt(r,d),m&4)if(r=d.stateNode,s===null)try{r.componentDidMount()}catch(D){se(d,d.return,D)}else{var y=cs(d.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){se(d,d.return,D)}}m&64&&Yp(d),m&512&&pc(d,d.return);break;case 3:if(qt(r,d),m&64&&(r=d.updateQueue,r!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{ip(r,s)}catch(D){se(d,d.return,D)}}break;case 27:s===null&&m&4&&qo(d);case 26:case 5:qt(r,d),s===null&&m&4&&gc(d),m&512&&pc(d,d.return);break;case 12:qt(r,d);break;case 13:qt(r,d),m&4&&Fl(r,d),m&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Fe.bind(null,d),Y8(r,d))));break;case 22:if(m=d.memoizedState!==null||ai,!m){s=s!==null&&s.memoizedState!==null||wn,y=ai;var S=wn;ai=m,(wn=s)&&!S?ri(r,d,(d.subtreeFlags&8772)!==0):qt(r,d),ai=y,wn=S}break;case 30:break;default:qt(r,d)}}function Kd(r){var s=r.alternate;s!==null&&(r.alternate=null,Kd(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&nt(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var yn=null,pa=!1;function dr(r,s,d){for(d=d.child;d!==null;)Sr(r,s,d),d=d.sibling}function Sr(r,s,d){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Ze,d)}catch{}switch(d.tag){case 26:wn||sn(d,s),dr(r,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:wn||sn(d,s);var m=yn,y=pa;Wo(d.type)&&(yn=d.stateNode,pa=!1),dr(r,s,d),f0(d.stateNode),yn=m,pa=y;break;case 5:wn||sn(d,s);case 6:if(m=yn,y=pa,yn=null,dr(r,s,d),yn=m,pa=y,yn!==null)if(pa)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(d.stateNode)}catch(S){se(d,s,S)}else try{yn.removeChild(d.stateNode)}catch(S){se(d,s,S)}break;case 18:yn!==null&&(pa?(r=yn,$b(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),_0(r)):$b(yn,d.stateNode));break;case 4:m=yn,y=pa,yn=d.stateNode.containerInfo,pa=!0,dr(r,s,d),yn=m,pa=y;break;case 0:case 11:case 14:case 15:wn||Oa(2,d,s),wn||Oa(4,d,s),dr(r,s,d);break;case 1:wn||(sn(d,s),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Ip(d,s,m)),dr(r,s,d);break;case 21:dr(r,s,d);break;case 22:wn=(m=wn)||d.memoizedState!==null,dr(r,s,d),wn=m;break;default:dr(r,s,d)}}function Fl(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_0(r)}catch(d){se(s,s.return,d)}}function l0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new s0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new s0),s;default:throw Error(a(435,r.tag))}}function Mi(r,s){var d=l0(r);s.forEach(function(m){var y=At.bind(null,r,m);d.has(m)||(d.add(m),m.then(y,y))})}function Za(r,s){var d=s.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],S=r,D=s,L=D;e:for(;L!==null;){switch(L.tag){case 27:if(Wo(L.type)){yn=L.stateNode,pa=!1;break e}break;case 5:yn=L.stateNode,pa=!1;break e;case 3:case 4:yn=L.stateNode.containerInfo,pa=!0;break e}L=L.return}if(yn===null)throw Error(a(160));Sr(S,D,y),yn=null,pa=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)yc(s,r),s=s.sibling}var Na=null;function yc(r,s){var d=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Za(s,r),Kn(r),m&4&&(Oa(3,r,r.return),ni(3,r),Oa(5,r,r.return));break;case 1:Za(s,r),Kn(r),m&512&&(wn||d===null||sn(d,d.return)),m&64&&ai&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=Na;if(Za(s,r),Kn(r),m&512&&(wn||d===null||sn(d,d.return)),m&4){var S=d!==null?d.memoizedState:null;if(m=r.memoizedState,d===null)if(m===null)if(r.stateNode===null){e:{m=r.type,d=r.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":S=y.getElementsByTagName("title")[0],(!S||S[rt]||S[V]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(m),y.head.insertBefore(S,y.querySelector("head > title"))),Fa(S,m,d),S[V]=r,Ht(S),m=S;break e;case"link":var D=r_("link","href",y).get(m+(d.href||""));if(D){for(var L=0;L<D.length;L++)if(S=D[L],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(L,1);break t}}S=y.createElement(m),Fa(S,m,d),y.head.appendChild(S);break;case"meta":if(D=r_("meta","content",y).get(m+(d.content||""))){for(L=0;L<D.length;L++)if(S=D[L],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(L,1);break t}}S=y.createElement(m),Fa(S,m,d),y.head.appendChild(S);break;default:throw Error(a(468,m))}S[V]=r,Ht(S),m=S}r.stateNode=m}else i_(y,r.type,r.stateNode);else r.stateNode=a_(y,m,r.memoizedProps);else S!==m?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,m===null?i_(y,r.type,r.stateNode):a_(y,m,r.memoizedProps)):m===null&&r.stateNode!==null&&$s(r,r.memoizedProps,d.memoizedProps)}break;case 27:Za(s,r),Kn(r),m&512&&(wn||d===null||sn(d,d.return)),d!==null&&m&4&&$s(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Za(s,r),Kn(r),m&512&&(wn||d===null||sn(d,d.return)),r.flags&32){y=r.stateNode;try{El(y,"")}catch(be){se(r,r.return,be)}}m&4&&r.stateNode!=null&&(y=r.memoizedProps,$s(r,y,d!==null?d.memoizedProps:y)),m&1024&&(Qs=!0);break;case 6:if(Za(s,r),Kn(r),m&4){if(r.stateNode===null)throw Error(a(162));m=r.memoizedProps,d=r.stateNode;try{d.nodeValue=m}catch(be){se(r,r.return,be)}}break;case 3:if(Jp=null,y=Na,Na=Qp(s.containerInfo),Za(s,r),Na=y,Kn(r),m&4&&d!==null&&d.memoizedState.isDehydrated)try{_0(s.containerInfo)}catch(be){se(r,r.return,be)}Qs&&(Qs=!1,Rt(r));break;case 4:m=Na,Na=Qp(r.stateNode.containerInfo),Za(s,r),Kn(r),Na=m;break;case 12:Za(s,r),Kn(r);break;case 13:Za(s,r),Kn(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ko=tn()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Mi(r,m)));break;case 22:y=r.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,fe=ai,Te=wn;if(ai=fe||y,wn=Te||Z,Za(s,r),wn=Te,ai=fe,Kn(r),m&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(d===null||Z||ai||wn||Sn(r)),d=null,s=r;;){if(s.tag===5||s.tag===26){if(d===null){Z=d=s;try{if(S=Z.stateNode,y)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{L=Z.stateNode;var Re=Z.memoizedProps.style,ve=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;L.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(be){se(Z,Z.return,be)}}}else if(s.tag===6){if(d===null){Z=s;try{Z.stateNode.nodeValue=y?"":Z.memoizedProps}catch(be){se(Z,Z.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=r.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Mi(r,d))));break;case 19:Za(s,r),Kn(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Mi(r,m)));break;case 30:break;case 21:break;default:Za(s,r),Kn(r)}}function Kn(r){var s=r.flags;if(s&2){try{for(var d,m=r.return;m!==null;){if(Xd(m)){d=m;break}m=m.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,S=Go(r);fs(r,S,y);break;case 5:var D=d.stateNode;d.flags&32&&(El(D,""),d.flags&=-33);var L=Go(r);fs(r,L,D);break;case 3:case 4:var Z=d.stateNode.containerInfo,fe=Go(r);vc(r,fe,Z);break;default:throw Error(a(161))}}catch(Te){se(r,r.return,Te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Rt(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Rt(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function qt(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vo(r,s.alternate,s),s=s.sibling}function Sn(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Oa(4,s,s.return),Sn(s);break;case 1:sn(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&Ip(s,s.return,d),Sn(s);break;case 27:f0(s.stateNode);case 26:case 5:sn(s,s.return),Sn(s);break;case 22:s.memoizedState===null&&Sn(s);break;case 30:Sn(s);break;default:Sn(s)}r=r.sibling}}function ri(r,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,y=r,S=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:ri(y,S,d),ni(4,S);break;case 1:if(ri(y,S,d),m=S,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(fe){se(m,m.return,fe)}if(m=S,y=m.updateQueue,y!==null){var L=m.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)ct(Z[y],L)}catch(fe){se(m,m.return,fe)}}d&&D&64&&Yp(S),pc(S,S.return);break;case 27:qo(S);case 26:case 5:ri(y,S,d),d&&m===null&&D&4&&gc(S),pc(S,S.return);break;case 12:ri(y,S,d);break;case 13:ri(y,S,d),d&&D&4&&Fl(y,S);break;case 22:S.memoizedState===null&&ri(y,S,d),pc(S,S.return);break;case 30:break;default:ri(y,S,d)}s=s.sibling}}function Ws(r,s){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Wr(d))}function hs(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Wr(r))}function Er(r,s,d,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yo(r,s,d,m),s=s.sibling}function Yo(r,s,d,m){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Er(r,s,d,m),y&2048&&ni(9,s);break;case 1:Er(r,s,d,m);break;case 3:Er(r,s,d,m),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Wr(r)));break;case 12:if(y&2048){Er(r,s,d,m),r=s.stateNode;try{var S=s.memoizedProps,D=S.id,L=S.onPostCommit;typeof L=="function"&&L(D,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Z){se(s,s.return,Z)}}else Er(r,s,d,m);break;case 13:Er(r,s,d,m);break;case 23:break;case 22:S=s.stateNode,D=s.alternate,s.memoizedState!==null?S._visibility&2?Er(r,s,d,m):bc(r,s):S._visibility&2?Er(r,s,d,m):(S._visibility|=2,ii(r,s,d,m,(s.subtreeFlags&10256)!==0)),y&2048&&Ws(D,s);break;case 24:Er(r,s,d,m),y&2048&&hs(s.alternate,s);break;default:Er(r,s,d,m)}}function ii(r,s,d,m,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var S=r,D=s,L=d,Z=m,fe=D.flags;switch(D.tag){case 0:case 11:case 15:ii(S,D,L,Z,y),ni(8,D);break;case 23:break;case 22:var Te=D.stateNode;D.memoizedState!==null?Te._visibility&2?ii(S,D,L,Z,y):bc(S,D):(Te._visibility|=2,ii(S,D,L,Z,y)),y&&fe&2048&&Ws(D.alternate,D);break;case 24:ii(S,D,L,Z,y),y&&fe&2048&&hs(D.alternate,D);break;default:ii(S,D,L,Z,y)}s=s.sibling}}function bc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=r,m=s,y=m.flags;switch(m.tag){case 22:bc(d,m),y&2048&&Ws(m.alternate,m);break;case 24:bc(d,m),y&2048&&hs(m.alternate,m);break;default:bc(d,m)}s=s.sibling}}var Js=8192;function $l(r){if(r.subtreeFlags&Js)for(r=r.child;r!==null;)o0(r),r=r.sibling}function o0(r){switch(r.tag){case 26:$l(r),r.flags&Js&&r.memoizedState!==null&&aE(Na,r.memoizedState,r.memoizedProps);break;case 5:$l(r);break;case 3:case 4:var s=Na;Na=Qp(r.stateNode.containerInfo),$l(r),Na=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Js,Js=16777216,$l(r),Js=s):$l(r));break;default:$l(r)}}function Zp(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Di(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];Mn=m,u0(m,r)}Zp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Io(r),r=r.sibling}function Io(r){switch(r.tag){case 0:case 11:case 15:Di(r),r.flags&2048&&Oa(9,r,r.return);break;case 3:Di(r);break;case 12:Di(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ms(r)):Di(r);break;default:Di(r)}}function ms(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];Mn=m,u0(m,r)}Zp(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Oa(8,s,s.return),ms(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,ms(s));break;default:ms(s)}r=r.sibling}}function u0(r,s){for(;Mn!==null;){var d=Mn;switch(d.tag){case 0:case 11:case 15:Oa(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wr(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Mn=m;else e:for(d=r;Mn!==null;){m=Mn;var y=m.sibling,S=m.return;if(Kd(m),m===d){Mn=null;break e}if(y!==null){y.return=S,Mn=y;break e}Mn=S}}}var Ur={getCacheForType:function(r){var s=Ra(In),d=s.data.get(r);return d===void 0&&(d=r(),s.data.set(r,d)),d}},zi=typeof WeakMap=="function"?WeakMap:Map,yt=0,gn=null,Lt=null,Vt=0,xt=0,Xa=null,ja=!1,En=!1,_c=!1,ki=0,Mt=0,bn=0,Fn=0,Cr=0,ga=0,Zo=0,el=null,va=null,Xo=!1,Ko=0,Ql=1/0,tl=null,nl=null,dt=0,Kt=null,Ct=null,Dt=0,ln=0,Ka=null,ps=null,Li=0,xc=null;function qn(){if((yt&2)!==0&&Vt!==0)return Vt&-Vt;if(G.T!==null){var r=jo;return r!==0?r:b1()}return gi()}function Pn(){ga===0&&(ga=(Vt&536870912)===0||Xt?hi():536870912);var r=xr.current;return r!==null&&(r.flags|=32),ga}function $n(r,s,d){(r===gn&&(xt===2||xt===9)||r.cancelPendingCommit!==null)&&(il(r,0),Tr(r,Vt,ga,!1)),Pa(r,d),((yt&2)===0||r!==gn)&&(r===gn&&((yt&2)===0&&(Fn|=d),Mt===4&&Tr(r,Vt,ga,!1)),Je(r))}function al(r,s,d){if((yt&6)!==0)throw Error(a(327));var m=!d&&(s&124)===0&&(s&r.expiredLanes)===0||mr(r,s),y=m?$o(r,s):Wn(r,s,!0),S=m;do{if(y===0){En&&!m&&Tr(r,s,0,!1);break}else{if(d=r.current.alternate,S&&!Pr(d)){y=Wn(r,s,!1),S=!1;continue}if(y===2){if(S=s,r.errorRecoveryDisabledLanes&S)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var L=r;y=el;var Z=L.current.memoizedState.isDehydrated;if(Z&&(il(L,D).flags|=256),D=Wn(L,D,!1),D!==2){if(_c&&!Z){L.errorRecoveryDisabledLanes|=S,Fn|=S,y=4;break e}S=va,va=y,S!==null&&(va===null?va=S:va.push.apply(va,S))}y=D}if(S=!1,y!==2)continue}}if(y===1){il(r,0),Tr(r,s,0,!0);break}e:{switch(m=r,S=y,S){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Tr(m,s,ga,!ja);break e;case 2:va=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Ko+300-tn(),10<y)){if(Tr(m,s,ga,!ja),Kr(m,0,!0)!==0)break e;m.timeoutHandle=Kb(Fd.bind(null,m,d,va,tl,Xo,s,ga,Fn,Zo,ja,S,2,-0,0),y);break e}Fd(m,d,va,tl,Xo,s,ga,Fn,Zo,ja,S,0,-0,0)}}break}while(!0);Je(r)}function Fd(r,s,d,m,y,S,D,L,Z,fe,Te,Re,ve,be){if(r.timeoutHandle=-1,Re=s.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(p0={stylesheets:null,count:0,unsuspend:nE},o0(s),Re=rE(),Re!==null)){r.cancelPendingCommit=Re(o.bind(null,r,s,S,d,m,y,D,L,Z,Te,1,ve,be)),Tr(r,S,D,!fe);return}o(r,s,S,d,m,y,D,L,Z)}function Pr(r){for(var s=r;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],S=y.getSnapshot;y=y.value;try{if(!yr(S(),y))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Tr(r,s,d,m){s&=~Cr,s&=~Fn,r.suspendedLanes|=s,r.pingedLanes&=~s,m&&(r.warmLanes|=s),m=r.expirationTimes;for(var y=s;0<y;){var S=31-nn(y),D=1<<S;m[S]=-1,y&=~D}d!==0&&mi(r,d,s)}function rl(){return(yt&6)===0?(dn(0),!1):!0}function Ma(){if(Lt!==null){if(xt===0)var r=Lt.return;else r=Lt,Ei=Ps=null,Uh(r),Uo=null,Va=0,r=Lt;for(;r!==null;)mc(r.alternate,r),r=r.return;Lt=null}}function il(r,s){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,B8(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Ma(),gn=r,Lt=d=xi(r.current,null),Vt=s,xt=0,Xa=null,ja=!1,En=mr(r,s),_c=!1,Zo=ga=Cr=Fn=bn=Mt=0,va=el=null,Xo=!1,(s&8)!==0&&(s|=s&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=s;0<m;){var y=31-nn(m),S=1<<y;s|=r[y],m&=~S}return ki=s,br(),d}function $d(r,s){jt=null,G.H=Bd,s===Gl||s===ql?(s=Mh(),xt=3):s===rp?(s=Mh(),xt=4):xt=s===Bp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xa=s,Lt===null&&(Mt=1,Gd(r,ra(s,r.current)))}function Fo(){var r=G.H;return G.H=Bd,r===null?Bd:r}function wc(){var r=G.A;return G.A=Ur,r}function Ui(){Mt=4,ja||(Vt&4194048)!==Vt&&xr.current!==null||(En=!0),(bn&134217727)===0&&(Fn&134217727)===0||gn===null||Tr(gn,Vt,ga,!1)}function Wn(r,s,d){var m=yt;yt|=2;var y=Fo(),S=wc();(gn!==r||Vt!==s)&&(tl=null,il(r,s)),s=!1;var D=Mt;e:do try{if(xt!==0&&Lt!==null){var L=Lt,Z=Xa;switch(xt){case 8:Ma(),D=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(s=!0);var fe=xt;if(xt=0,Xa=null,Wl(r,L,Z,fe),d&&En){D=0;break e}break;default:fe=xt,xt=0,Xa=null,Wl(r,L,Z,fe)}}sl(),D=Mt;break}catch(Te){$d(r,Te)}while(!0);return s&&r.shellSuspendCounter++,Ei=Ps=null,yt=m,G.H=y,G.A=S,Lt===null&&(gn=null,Vt=0,br()),D}function sl(){for(;Lt!==null;)Qd(Lt)}function $o(r,s){var d=yt;yt|=2;var m=Fo(),y=wc();gn!==r||Vt!==s?(tl=null,Ql=tn()+500,il(r,s)):En=mr(r,s);e:do try{if(xt!==0&&Lt!==null){s=Lt;var S=Xa;t:switch(xt){case 1:xt=0,Xa=null,Wl(r,s,S,1);break;case 2:case 9:if(Vl(S)){xt=0,Xa=null,Wd(s);break}s=function(){xt!==2&&xt!==9||gn!==r||(xt=7),Je(r)},S.then(s,s);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Vl(S)?(xt=0,Xa=null,Wd(s)):(xt=0,Xa=null,Wl(r,s,S,7));break;case 5:var D=null;switch(Lt.tag){case 26:D=Lt.memoizedState;case 5:case 27:var L=Lt;if(!D||s_(D)){xt=0,Xa=null;var Z=L.sibling;if(Z!==null)Lt=Z;else{var fe=L.return;fe!==null?(Lt=fe,ll(fe)):Lt=null}break t}}xt=0,Xa=null,Wl(r,s,S,5);break;case 6:xt=0,Xa=null,Wl(r,s,S,6);break;case 8:Ma(),Mt=6;break e;default:throw Error(a(462))}}Qo();break}catch(Te){$d(r,Te)}while(!0);return Ei=Ps=null,G.H=m,G.A=y,yt=d,Lt!==null?0:(gn=null,Vt=0,br(),Mt)}function Qo(){for(;Lt!==null&&!_t();)Qd(Lt)}function Qd(r){var s=hc(r.alternate,r,ki);r.memoizedProps=r.pendingProps,s===null?ll(r):Lt=s}function Wd(r){var s=r,d=s.alternate;switch(s.tag){case 15:case 0:s=Yd(d,s,s.pendingProps,s.type,void 0,Vt);break;case 11:s=Yd(d,s,s.pendingProps,s.type.render,s.ref,Vt);break;case 5:Uh(s);default:mc(d,s),s=Lt=wd(s,ki),s=hc(d,s,ki)}r.memoizedProps=r.pendingProps,s===null?ll(r):Lt=s}function Wl(r,s,d,m){Ei=Ps=null,Uh(s),Uo=null,Va=0;var y=s.return;try{if(g1(r,y,s,d,Vt)){Mt=1,Gd(r,ra(d,r.current)),Lt=null;return}}catch(S){if(y!==null)throw Lt=y,S;Mt=1,Gd(r,ra(d,r.current)),Lt=null;return}s.flags&32768?(Xt||m===1?r=!0:En||(Vt&536870912)!==0?r=!1:(ja=r=!0,(m===2||m===9||m===3||m===6)&&(m=xr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Jd(s,r)):ll(s)}function ll(r){var s=r;do{if((s.flags&32768)!==0){Jd(s,ja);return}r=s.return;var d=i0(s.alternate,s,ki);if(d!==null){Lt=d;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=r}while(s!==null);Mt===0&&(Mt=5)}function Jd(r,s){do{var d=wr(r.alternate,r);if(d!==null){d.flags&=32767,Lt=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(r=r.sibling,r!==null)){Lt=r;return}Lt=r=d}while(r!==null);Mt=6,Lt=null}function o(r,s,d,m,y,S,D,L,Z){r.cancelPendingCommit=null;do A();while(dt!==0);if((yt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(S=s.lanes|s.childLanes,S|=Gu,xl(r,d,S,D,L,Z),r===gn&&(Lt=gn=null,Vt=0),Ct=s,Kt=r,Dt=d,ln=S,Ka=y,ps=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Br(oe,function(){return P(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,y=ee.p,ee.p=2,D=yt,yt|=4;try{v1(r,s,d)}finally{yt=D,ee.p=y,G.T=m}}dt=1,c(),p(),b()}}function c(){if(dt===1){dt=0;var r=Kt,s=Ct,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=G.T,G.T=null;var m=ee.p;ee.p=2;var y=yt;yt|=4;try{yc(s,r);var S=A1,D=xh(r.containerInfo),L=S.focusedElem,Z=S.selectionRange;if(D!==L&&L&&L.ownerDocument&&_h(L.ownerDocument.documentElement,L)){if(Z!==null&&jl(L)){var fe=Z.start,Te=Z.end;if(Te===void 0&&(Te=fe),"selectionStart"in L)L.selectionStart=fe,L.selectionEnd=Math.min(Te,L.value.length);else{var Re=L.ownerDocument||document,ve=Re&&Re.defaultView||window;if(ve.getSelection){var be=ve.getSelection(),wt=L.textContent.length,mt=Math.min(Z.start,wt),Tn=Z.end===void 0?mt:Math.min(Z.end,wt);!be.extend&&mt>Tn&&(D=Tn,Tn=mt,mt=D);var ie=es(L,mt),W=es(L,Tn);if(ie&&W&&(be.rangeCount!==1||be.anchorNode!==ie.node||be.anchorOffset!==ie.offset||be.focusNode!==W.node||be.focusOffset!==W.offset)){var ce=Re.createRange();ce.setStart(ie.node,ie.offset),be.removeAllRanges(),mt>Tn?(be.addRange(ce),be.extend(W.node,W.offset)):(ce.setEnd(W.node,W.offset),be.addRange(ce))}}}}for(Re=[],be=L;be=be.parentNode;)be.nodeType===1&&Re.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Re.length;L++){var Ae=Re[L];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}ng=!!T1,A1=T1=null}finally{yt=y,ee.p=m,G.T=d}}r.current=s,dt=2}}function p(){if(dt===2){dt=0;var r=Kt,s=Ct,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=G.T,G.T=null;var m=ee.p;ee.p=2;var y=yt;yt|=4;try{Vo(r,s.alternate,s)}finally{yt=y,ee.p=m,G.T=d}}dt=3}}function b(){if(dt===4||dt===3){dt=0,cn();var r=Kt,s=Ct,d=Dt,m=ps;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dt=5:(dt=0,Ct=Kt=null,E(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(nl=null),Xi(d),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Ze,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=G.T,y=ee.p,ee.p=2,G.T=null;try{for(var S=r.onRecoverableError,D=0;D<m.length;D++){var L=m[D];S(L.value,{componentStack:L.stack})}}finally{G.T=s,ee.p=y}}(Dt&3)!==0&&A(),Je(r),y=r.pendingLanes,(d&4194090)!==0&&(y&42)!==0?r===xc?Li++:(Li=0,xc=r):Li=0,dn(0)}}function E(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Wr(s)))}function A(r){return c(),p(),b(),P()}function P(){if(dt!==5)return!1;var r=Kt,s=ln;ln=0;var d=Xi(Dt),m=G.T,y=ee.p;try{ee.p=32>d?32:d,G.T=null,d=Ka,Ka=null;var S=Kt,D=Dt;if(dt=0,Ct=Kt=null,Dt=0,(yt&6)!==0)throw Error(a(331));var L=yt;if(yt|=4,Io(S.current),Yo(S,S.current,D,d),yt=L,dn(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Ze,S)}catch{}return!0}finally{ee.p=y,G.T=m,E(r,s)}}function F(r,s,d){s=ra(d,s),s=Bo(r.stateNode,s,2),r=qa(r,s,2),r!==null&&(Pa(r,2),Je(r))}function se(r,s,d){if(r.tag===3)F(r,r,d);else for(;s!==null;){if(s.tag===3){F(s,r,d);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(nl===null||!nl.has(m))){r=ra(d,r),d=dc(2),m=qa(s,d,2),m!==null&&(qd(d,m,s,r),Pa(m,2),Je(m));break}}s=s.return}}function Ne(r,s,d){var m=r.pingCache;if(m===null){m=r.pingCache=new zi;var y=new Set;m.set(s,y)}else y=m.get(s),y===void 0&&(y=new Set,m.set(s,y));y.has(d)||(_c=!0,y.add(d),r=Ue.bind(null,r,s,d),s.then(r,r))}function Ue(r,s,d){var m=r.pingCache;m!==null&&m.delete(s),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,gn===r&&(Vt&d)===d&&(Mt===4||Mt===3&&(Vt&62914560)===Vt&&300>tn()-Ko?(yt&2)===0&&il(r,0):Cr|=d,Zo===Vt&&(Zo=0)),Je(r)}function Xe(r,s){s===0&&(s=Or()),r=_i(r,s),r!==null&&(Pa(r,s),Je(r))}function Fe(r){var s=r.memoizedState,d=0;s!==null&&(d=s.retryLane),Xe(r,d)}function At(r,s){var d=0;switch(r.tag){case 13:var m=r.stateNode,y=r.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(s),Xe(r,d)}function Br(r,s){return lt(r,s)}var ol=null,Hr=null,me=!1,re=!1,_e=!1,De=0;function Je(r){r!==Hr&&r.next===null&&(Hr===null?ol=Hr=r:Hr=Hr.next=r),re=!0,me||(me=!0,y1())}function dn(r,s){if(!_e&&re){_e=!0;do for(var d=!1,m=ol;m!==null;){if(r!==0){var y=m.pendingLanes;if(y===0)var S=0;else{var D=m.suspendedLanes,L=m.pingedLanes;S=(1<<31-nn(42|r)+1)-1,S&=y&~(D&~L),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,gs(m,S))}else S=Vt,S=Kr(m,m===gn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||mr(m,S)||(d=!0,gs(m,S));m=m.next}while(d);_e=!1}}function pt(){Ft()}function Ft(){re=me=!1;var r=0;De!==0&&(P8()&&(r=De),De=0);for(var s=tn(),d=null,m=ol;m!==null;){var y=m.next,S=Jn(m,s);S===0?(m.next=null,d===null?ol=y:d.next=y,y===null&&(Hr=d)):(d=m,(r!==0||(S&3)!==0)&&(re=!0)),m=y}dn(r)}function Jn(r,s){for(var d=r.suspendedLanes,m=r.pingedLanes,y=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var D=31-nn(S),L=1<<D,Z=y[D];Z===-1?((L&d)===0||(L&m)!==0)&&(y[D]=Rr(L,s)):Z<=s&&(r.expiredLanes|=L),S&=~L}if(s=gn,d=Vt,d=Kr(r,r===s?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,d===0||r===s&&(xt===2||xt===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&at(m),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||mr(r,d)){if(s=d&-d,s===r.callbackPriority)return s;switch(m!==null&&at(m),Xi(d)){case 2:case 8:d=K;break;case 32:d=oe;break;case 268435456:d=Le;break;default:d=oe}return m=$t.bind(null,r),d=lt(d,m),r.callbackPriority=s,r.callbackNode=d,s}return m!==null&&m!==null&&at(m),r.callbackPriority=2,r.callbackNode=null,2}function $t(r,s){if(dt!==0&&dt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(A()&&r.callbackNode!==d)return null;var m=Vt;return m=Kr(r,r===gn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(al(r,m,s),Jn(r,tn()),r.callbackNode!=null&&r.callbackNode===d?$t.bind(null,r):null)}function gs(r,s){if(A())return null;al(r,s,!0)}function y1(){H8(function(){(yt&6)!==0?lt($a,pt):Ft()})}function b1(){return De===0&&(De=hi()),De}function Bb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:td(""+r)}function Hb(r,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,r.id&&d.setAttribute("form",r.id),s.parentNode.insertBefore(d,s),r=new FormData(r),d.parentNode.removeChild(d),r}function j8(r,s,d,m,y){if(s==="submit"&&d&&d.stateNode===y){var S=Bb((y[ye]||null).action),D=m.submitter;D&&(s=(s=D[ye]||null)?Bb(s.formAction):D.getAttribute("formAction"),s!==null&&(S=s,D=null));var L=new zu("action","action",null,m,y);r.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(De!==0){var Z=D?Hb(y,D):new FormData(y);Fh(d,{pending:!0,data:Z,method:y.method,action:S},null,Z)}}else typeof S=="function"&&(L.preventDefault(),Z=D?Hb(y,D):new FormData(y),Fh(d,{pending:!0,data:Z,method:y.method,action:S},S,Z))},currentTarget:y}]})}}for(var _1=0;_1<Ca.length;_1++){var x1=Ca[_1],M8=x1.toLowerCase(),D8=x1[0].toUpperCase()+x1.slice(1);Mr(M8,"on"+D8)}Mr(wh,"onAnimationEnd"),Mr(jr,"onAnimationIteration"),Mr(xd,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(ep,"onTransitionRun"),Mr(c1,"onTransitionStart"),Mr(Sh,"onTransitionCancel"),Mr(Ea,"onTransitionEnd"),Ja("onMouseEnter",["mouseout","mouseover"]),Ja("onMouseLeave",["mouseout","mouseover"]),Ja("onPointerEnter",["pointerout","pointerover"]),Ja("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var c0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(c0));function Gb(r,s){s=(s&4)!==0;for(var d=0;d<r.length;d++){var m=r[d],y=m.event;m=m.listeners;e:{var S=void 0;if(s)for(var D=m.length-1;0<=D;D--){var L=m[D],Z=L.instance,fe=L.currentTarget;if(L=L.listener,Z!==S&&y.isPropagationStopped())break e;S=L,y.currentTarget=fe;try{S(y)}catch(Te){ds(Te)}y.currentTarget=null,S=Z}else for(D=0;D<m.length;D++){if(L=m[D],Z=L.instance,fe=L.currentTarget,L=L.listener,Z!==S&&y.isPropagationStopped())break e;S=L,y.currentTarget=fe;try{S(y)}catch(Te){ds(Te)}y.currentTarget=null,S=Z}}}}function Yt(r,s){var d=s[Ye];d===void 0&&(d=s[Ye]=new Set);var m=r+"__bubble";d.has(m)||(qb(s,r,2,!1),d.add(m))}function w1(r,s,d){var m=0;s&&(m|=4),qb(d,r,m,s)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function S1(r){if(!r[Xp]){r[Xp]=!0,hn.forEach(function(d){d!=="selectionchange"&&(z8.has(d)||w1(d,!1,r),w1(d,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Xp]||(s[Xp]=!0,w1("selectionchange",!1,s))}}function qb(r,s,d,m){switch(f_(s)){case 2:var y=lE;break;case 8:y=oE;break;default:y=U1}d=y.bind(null,s,d,r),y=void 0,!ad||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),m?y!==void 0?r.addEventListener(s,d,{capture:!0,passive:y}):r.addEventListener(s,d,!0):y!==void 0?r.addEventListener(s,d,{passive:y}):r.addEventListener(s,d,!1)}function E1(r,s,d,m,y){var S=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var L=m.stateNode.containerInfo;if(L===y)break;if(D===4)for(D=m.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;L!==null;){if(D=$e(L),D===null)return;if(Z=D.tag,Z===5||Z===6||Z===26||Z===27){m=S=D;continue e}L=L.parentNode}}m=m.return}oh(function(){var fe=S,Te=Os(d),Re=[];e:{var ve=Eh.get(r);if(ve!==void 0){var be=zu,wt=r;switch(r){case"keypress":if(bo(d)===0)break e;case"keydown":case"keyup":be=ud;break;case"focusin":wt="focus",be=Al;break;case"focusout":wt="blur",be=Al;break;case"beforeblur":case"afterblur":be=Al;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Ym;break;case wh:case jr:case xd:be=Pm;break;case Ea:be=ma;break;case"scroll":case"scrollend":be=s1;break;case"wheel":be=Zm;break;case"copy":case"cut":case"paste":be=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=cd;break;case"toggle":case"beforetoggle":be=Km}var mt=(s&4)!==0,Tn=!mt&&(r==="scroll"||r==="scrollend"),ie=mt?ve!==null?ve+"Capture":null:ve;mt=[];for(var W=fe,ce;W!==null;){var Ae=W;if(ce=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ce===null||ie===null||(Ae=vo(W,ie),Ae!=null&&mt.push(d0(W,Ae,ce))),Tn)break;W=W.return}0<mt.length&&(ve=new be(ve,wt,null,d,Te),Re.push({event:ve,listeners:mt}))}}if((s&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",be=r==="mouseout"||r==="pointerout",ve&&d!==nd&&(wt=d.relatedTarget||d.fromElement)&&($e(wt)||wt[Se]))break e;if((be||ve)&&(ve=Te.window===Te?Te:(ve=Te.ownerDocument)?ve.defaultView||ve.parentWindow:window,be?(wt=d.relatedTarget||d.toElement,be=fe,wt=wt?$e(wt):null,wt!==null&&(Tn=l(wt),mt=wt.tag,wt!==Tn||mt!==5&&mt!==27&&mt!==6)&&(wt=null)):(be=null,wt=fe),be!==wt)){if(mt=ku,Ae="onMouseLeave",ie="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(mt=cd,Ae="onPointerLeave",ie="onPointerEnter",W="pointer"),Tn=be==null?ve:an(be),ce=wt==null?ve:an(wt),ve=new mt(Ae,W+"leave",be,d,Te),ve.target=Tn,ve.relatedTarget=ce,Ae=null,$e(Te)===fe&&(mt=new mt(ie,W+"enter",wt,d,Te),mt.target=ce,mt.relatedTarget=Tn,Ae=mt),Tn=Ae,be&&wt)t:{for(mt=be,ie=wt,W=0,ce=mt;ce;ce=ef(ce))W++;for(ce=0,Ae=ie;Ae;Ae=ef(Ae))ce++;for(;0<W-ce;)mt=ef(mt),W--;for(;0<ce-W;)ie=ef(ie),ce--;for(;W--;){if(mt===ie||ie!==null&&mt===ie.alternate)break t;mt=ef(mt),ie=ef(ie)}mt=null}else mt=null;be!==null&&Vb(Re,ve,be,mt,!1),wt!==null&&Tn!==null&&Vb(Re,Tn,wt,mt,!0)}}e:{if(ve=fe?an(fe):window,be=ve.nodeName&&ve.nodeName.toLowerCase(),be==="select"||be==="input"&&ve.type==="file")var et=nr;else if(md(ve))if(yh)et=Ln;else{et=yd;var Bt=Wm}else be=ve.nodeName,!be||be.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?fe&&ed(fe.elementType)&&(et=nr):et=Pu;if(et&&(et=et(r,fe))){vh(Re,et,d,Te);break e}Bt&&Bt(r,ve,fe),r==="focusout"&&fe&&ve.type==="number"&&fe.memoizedProps.value!=null&&Jc(ve,"number",ve.value)}switch(Bt=fe?an(fe):window,r){case"focusin":(md(Bt)||Bt.contentEditable==="true")&&(Ml=Bt,Bu=fe,Co=null);break;case"focusout":Co=Bu=Ml=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,bd(Re,d,Te);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":bd(Re,d,Te)}var ot;if(wo)e:{switch(r){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else js?fd(r,d)&&(gt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(gt="onCompositionStart");gt&&(hh&&d.locale!=="ko"&&(js||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&js&&(ot=uh()):(Fi=Te,ju="value"in Fi?Fi.value:Fi.textContent,js=!0)),Bt=Kp(fe,gt),0<Bt.length&&(gt=new Wi(gt,r,null,d,Te),Re.push({event:gt,listeners:Bt}),ot?gt.data=ot:(ot=ph(d),ot!==null&&(gt.data=ot)))),(ot=$m?hd(r,d):gh(r,d))&&(gt=Kp(fe,"onBeforeInput"),0<gt.length&&(Bt=new Wi("onBeforeInput","beforeinput",null,d,Te),Re.push({event:Bt,listeners:gt}),Bt.data=ot)),j8(Re,r,fe,d,Te)}Gb(Re,s)})}function d0(r,s,d){return{instance:r,listener:s,currentTarget:d}}function Kp(r,s){for(var d=s+"Capture",m=[];r!==null;){var y=r,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=vo(r,d),y!=null&&m.unshift(d0(r,y,S)),y=vo(r,s),y!=null&&m.push(d0(r,y,S))),r.tag===3)return m;r=r.return}return[]}function ef(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vb(r,s,d,m,y){for(var S=s._reactName,D=[];d!==null&&d!==m;){var L=d,Z=L.alternate,fe=L.stateNode;if(L=L.tag,Z!==null&&Z===m)break;L!==5&&L!==26&&L!==27||fe===null||(Z=fe,y?(fe=vo(d,S),fe!=null&&D.unshift(d0(d,fe,Z))):y||(fe=vo(d,S),fe!=null&&D.push(d0(d,fe,Z)))),d=d.return}D.length!==0&&r.push({event:s,listeners:D})}var k8=/\r\n?/g,L8=/\u0000|\uFFFD/g;function Yb(r){return(typeof r=="string"?r:""+r).replace(k8,`
`).replace(L8,"")}function Ib(r,s){return s=Yb(s),Yb(r)===s}function Fp(){}function Cn(r,s,d,m,y,S){switch(d){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||El(r,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&El(r,""+m);break;case"className":$r(r,"class",m);break;case"tabIndex":$r(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(r,d,m);break;case"style":lh(r,m,S);break;case"data":if(s!=="object"){$r(r,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||d!=="href")){r.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=td(""+m),r.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(s!=="input"&&Cn(r,s,"name",y.name,y,null),Cn(r,s,"formEncType",y.formEncType,y,null),Cn(r,s,"formMethod",y.formMethod,y,null),Cn(r,s,"formTarget",y.formTarget,y,null)):(Cn(r,s,"encType",y.encType,y,null),Cn(r,s,"method",y.method,y,null),Cn(r,s,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=td(""+m),r.setAttribute(d,m);break;case"onClick":m!=null&&(r.onclick=Fp);break;case"onScroll":m!=null&&Yt("scroll",r);break;case"onScrollEnd":m!=null&&Yt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}d=td(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""+m):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":m===!0?r.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,m):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(d,m):r.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(d):r.setAttribute(d,m);break;case"popover":Yt("beforetoggle",r),Yt("toggle",r),tr(r,"popover",m);break;case"xlinkActuate":Sa(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Sa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Sa(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Sa(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Sa(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Sa(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Sa(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Sa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Sa(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":tr(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=zm.get(d)||d,tr(r,d,m))}}function C1(r,s,d,m,y,S){switch(d){case"style":lh(r,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"children":typeof m=="string"?El(r,m):(typeof m=="number"||typeof m=="bigint")&&El(r,""+m);break;case"onScroll":m!=null&&Yt("scroll",r);break;case"onScrollEnd":m!=null&&Yt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Fp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),s=d.slice(2,y?d.length-7:void 0),S=r[ye]||null,S=S!=null?S[d]:null,typeof S=="function"&&r.removeEventListener(s,S,y),typeof m=="function")){typeof S!="function"&&S!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(s,m,y);break e}d in r?r[d]=m:m===!0?r.setAttribute(d,""):tr(r,d,m)}}}function Fa(r,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",r),Yt("load",r);var m=!1,y=!1,S;for(S in d)if(d.hasOwnProperty(S)){var D=d[S];if(D!=null)switch(S){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Cn(r,s,S,D,d,null)}}y&&Cn(r,s,"srcSet",d.srcSet,d,null),m&&Cn(r,s,"src",d.src,d,null);return;case"input":Yt("invalid",r);var L=S=D=y=null,Z=null,fe=null;for(m in d)if(d.hasOwnProperty(m)){var Te=d[m];if(Te!=null)switch(m){case"name":y=Te;break;case"type":D=Te;break;case"checked":Z=Te;break;case"defaultChecked":fe=Te;break;case"value":S=Te;break;case"defaultValue":L=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,s));break;default:Cn(r,s,m,Te,d,null)}}Wc(r,S,L,Z,fe,D,y,!1),Ru(r);return;case"select":Yt("invalid",r),m=D=S=null;for(y in d)if(d.hasOwnProperty(y)&&(L=d[y],L!=null))switch(y){case"value":S=L;break;case"defaultValue":D=L;break;case"multiple":m=L;default:Cn(r,s,y,L,d,null)}s=S,d=D,r.multiple=!!m,s!=null?go(r,!!m,s,!1):d!=null&&go(r,!!m,d,!0);return;case"textarea":Yt("invalid",r),S=y=m=null;for(D in d)if(d.hasOwnProperty(D)&&(L=d[D],L!=null))switch(D){case"value":m=L;break;case"defaultValue":y=L;break;case"children":S=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:Cn(r,s,D,L,d,null)}rh(r,m,y,S),Ru(r);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(m=d[Z],m!=null))switch(Z){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Cn(r,s,Z,m,d,null)}return;case"dialog":Yt("beforetoggle",r),Yt("toggle",r),Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":Yt("load",r);break;case"video":case"audio":for(m=0;m<c0.length;m++)Yt(c0[m],r);break;case"image":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"embed":case"source":case"link":Yt("error",r),Yt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in d)if(d.hasOwnProperty(fe)&&(m=d[fe],m!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Cn(r,s,fe,m,d,null)}return;default:if(ed(s)){for(Te in d)d.hasOwnProperty(Te)&&(m=d[Te],m!==void 0&&C1(r,s,Te,m,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(m=d[L],m!=null&&Cn(r,s,L,m,d,null))}function U8(r,s,d,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,D=null,L=null,Z=null,fe=null,Te=null;for(be in d){var Re=d[be];if(d.hasOwnProperty(be)&&Re!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":Z=Re;default:m.hasOwnProperty(be)||Cn(r,s,be,null,m,Re)}}for(var ve in m){var be=m[ve];if(Re=d[ve],m.hasOwnProperty(ve)&&(be!=null||Re!=null))switch(ve){case"type":S=be;break;case"name":y=be;break;case"checked":fe=be;break;case"defaultChecked":Te=be;break;case"value":D=be;break;case"defaultValue":L=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,s));break;default:be!==Re&&Cn(r,s,ve,be,m,Re)}}Qc(r,D,L,Z,fe,Te,S,y);return;case"select":be=D=L=ve=null;for(S in d)if(Z=d[S],d.hasOwnProperty(S)&&Z!=null)switch(S){case"value":break;case"multiple":be=Z;default:m.hasOwnProperty(S)||Cn(r,s,S,null,m,Z)}for(y in m)if(S=m[y],Z=d[y],m.hasOwnProperty(y)&&(S!=null||Z!=null))switch(y){case"value":ve=S;break;case"defaultValue":L=S;break;case"multiple":D=S;default:S!==Z&&Cn(r,s,y,S,m,Z)}s=L,d=D,m=be,ve!=null?go(r,!!d,ve,!1):!!m!=!!d&&(s!=null?go(r,!!d,s,!0):go(r,!!d,d?[]:"",!1));return;case"textarea":be=ve=null;for(L in d)if(y=d[L],d.hasOwnProperty(L)&&y!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Cn(r,s,L,null,m,y)}for(D in m)if(y=m[D],S=d[D],m.hasOwnProperty(D)&&(y!=null||S!=null))switch(D){case"value":ve=y;break;case"defaultValue":be=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==S&&Cn(r,s,D,y,m,S)}ah(r,ve,be);return;case"option":for(var wt in d)if(ve=d[wt],d.hasOwnProperty(wt)&&ve!=null&&!m.hasOwnProperty(wt))switch(wt){case"selected":r.selected=!1;break;default:Cn(r,s,wt,null,m,ve)}for(Z in m)if(ve=m[Z],be=d[Z],m.hasOwnProperty(Z)&&ve!==be&&(ve!=null||be!=null))switch(Z){case"selected":r.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:Cn(r,s,Z,ve,m,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in d)ve=d[mt],d.hasOwnProperty(mt)&&ve!=null&&!m.hasOwnProperty(mt)&&Cn(r,s,mt,null,m,ve);for(fe in m)if(ve=m[fe],be=d[fe],m.hasOwnProperty(fe)&&ve!==be&&(ve!=null||be!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(a(137,s));break;default:Cn(r,s,fe,ve,m,be)}return;default:if(ed(s)){for(var Tn in d)ve=d[Tn],d.hasOwnProperty(Tn)&&ve!==void 0&&!m.hasOwnProperty(Tn)&&C1(r,s,Tn,void 0,m,ve);for(Te in m)ve=m[Te],be=d[Te],!m.hasOwnProperty(Te)||ve===be||ve===void 0&&be===void 0||C1(r,s,Te,ve,m,be);return}}for(var ie in d)ve=d[ie],d.hasOwnProperty(ie)&&ve!=null&&!m.hasOwnProperty(ie)&&Cn(r,s,ie,null,m,ve);for(Re in m)ve=m[Re],be=d[Re],!m.hasOwnProperty(Re)||ve===be||ve==null&&be==null||Cn(r,s,Re,ve,m,be)}var T1=null,A1=null;function $p(r){return r.nodeType===9?r:r.ownerDocument}function Zb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function R1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var O1=null;function P8(){var r=window.event;return r&&r.type==="popstate"?r===O1?!1:(O1=r,!0):(O1=null,!1)}var Kb=typeof setTimeout=="function"?setTimeout:void 0,B8=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,H8=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(r){return Fb.resolve(null).then(r).catch(G8)}:Kb;function G8(r){setTimeout(function(){throw r})}function Wo(r){return r==="head"}function $b(r,s){var d=s,m=0,y=0;do{var S=d.nextSibling;if(r.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(0<m&&8>m){d=m;var D=r.ownerDocument;if(d&1&&f0(D.documentElement),d&2&&f0(D.body),d&4)for(d=D.head,f0(d),D=d.firstChild;D;){var L=D.nextSibling,Z=D.nodeName;D[rt]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=L}}if(y===0){r.removeChild(S),_0(s);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:m=d.charCodeAt(0)-48;else m=0;d=S}while(d);_0(s)}function N1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":N1(d),nt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function q8(r,s,d,m){for(;r.nodeType===1;){var y=d;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[rt])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=vs(r.nextSibling),r===null)break}return null}function V8(r,s,d){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=vs(r.nextSibling),r===null))return null;return r}function j1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Y8(r,s){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")s();else{var m=function(){s(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function vs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var M1=null;function Qb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return r;s--}else d==="/$"&&s++}r=r.previousSibling}return null}function Wb(r,s,d){switch(s=$p(d),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function f0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);nt(r)}var Pi=new Map,Jb=new Set;function Qp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Jl=ee.d;ee.d={f:I8,r:Z8,D:X8,C:K8,L:F8,m:$8,X:W8,S:Q8,M:J8};function I8(){var r=Jl.f(),s=rl();return r||s}function Z8(r){var s=Et(r);s!==null&&s.tag===5&&s.type==="form"?Np(s):Jl.r(r)}var tf=typeof document>"u"?null:document;function e_(r,s,d){var m=tf;if(m&&typeof s=="string"&&s){var y=gr(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),Jb.has(y)||(Jb.add(y),r={rel:r,crossOrigin:d,href:s},m.querySelector(y)===null&&(s=m.createElement("link"),Fa(s,"link",r),Ht(s),m.head.appendChild(s)))}}function X8(r){Jl.D(r),e_("dns-prefetch",r,null)}function K8(r,s){Jl.C(r,s),e_("preconnect",r,s)}function F8(r,s,d){Jl.L(r,s,d);var m=tf;if(m&&r&&s){var y='link[rel="preload"][as="'+gr(s)+'"]';s==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+gr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+gr(d.imageSizes)+'"]')):y+='[href="'+gr(r)+'"]';var S=y;switch(s){case"style":S=nf(r);break;case"script":S=af(r)}Pi.has(S)||(r=v({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:r,as:s},d),Pi.set(S,r),m.querySelector(y)!==null||s==="style"&&m.querySelector(h0(S))||s==="script"&&m.querySelector(m0(S))||(s=m.createElement("link"),Fa(s,"link",r),Ht(s),m.head.appendChild(s)))}}function $8(r,s){Jl.m(r,s);var d=tf;if(d&&r){var m=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+gr(m)+'"][href="'+gr(r)+'"]',S=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=af(r)}if(!Pi.has(S)&&(r=v({rel:"modulepreload",href:r},s),Pi.set(S,r),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(m0(S)))return}m=d.createElement("link"),Fa(m,"link",r),Ht(m),d.head.appendChild(m)}}}function Q8(r,s,d){Jl.S(r,s,d);var m=tf;if(m&&r){var y=_n(m).hoistableStyles,S=nf(r);s=s||"default";var D=y.get(S);if(!D){var L={loading:0,preload:null};if(D=m.querySelector(h0(S)))L.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},d),(d=Pi.get(S))&&D1(r,d);var Z=D=m.createElement("link");Ht(Z),Fa(Z,"link",r),Z._p=new Promise(function(fe,Te){Z.onload=fe,Z.onerror=Te}),Z.addEventListener("load",function(){L.loading|=1}),Z.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Wp(D,s,m)}D={type:"stylesheet",instance:D,count:1,state:L},y.set(S,D)}}}function W8(r,s){Jl.X(r,s);var d=tf;if(d&&r){var m=_n(d).hoistableScripts,y=af(r),S=m.get(y);S||(S=d.querySelector(m0(y)),S||(r=v({src:r,async:!0},s),(s=Pi.get(y))&&z1(r,s),S=d.createElement("script"),Ht(S),Fa(S,"link",r),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(y,S))}}function J8(r,s){Jl.M(r,s);var d=tf;if(d&&r){var m=_n(d).hoistableScripts,y=af(r),S=m.get(y);S||(S=d.querySelector(m0(y)),S||(r=v({src:r,async:!0,type:"module"},s),(s=Pi.get(y))&&z1(r,s),S=d.createElement("script"),Ht(S),Fa(S,"link",r),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(y,S))}}function t_(r,s,d,m){var y=(y=Ie.current)?Qp(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=nf(d.href),d=_n(y).hoistableStyles,m=d.get(s),m||(m={type:"style",instance:null,count:0,state:null},d.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=nf(d.href);var S=_n(y).hoistableStyles,D=S.get(r);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,D),(S=y.querySelector(h0(r)))&&!S._p&&(D.instance=S,D.state.loading=5),Pi.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Pi.set(r,d),S||eE(y,r,d,D.state))),s&&m===null)throw Error(a(528,""));return D}if(s&&m!==null)throw Error(a(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=af(d),d=_n(y).hoistableScripts,m=d.get(s),m||(m={type:"script",instance:null,count:0,state:null},d.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function nf(r){return'href="'+gr(r)+'"'}function h0(r){return'link[rel="stylesheet"]['+r+"]"}function n_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function eE(r,s,d,m){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=r.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),Fa(s,"link",d),Ht(s),r.head.appendChild(s))}function af(r){return'[src="'+gr(r)+'"]'}function m0(r){return"script[async]"+r}function a_(r,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var m=r.querySelector('style[data-href~="'+gr(d.href)+'"]');if(m)return s.instance=m,Ht(m),m;var y=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),Ht(m),Fa(m,"style",y),Wp(m,d.precedence,r),s.instance=m;case"stylesheet":y=nf(d.href);var S=r.querySelector(h0(y));if(S)return s.state.loading|=4,s.instance=S,Ht(S),S;m=n_(d),(y=Pi.get(y))&&D1(m,y),S=(r.ownerDocument||r).createElement("link"),Ht(S);var D=S;return D._p=new Promise(function(L,Z){D.onload=L,D.onerror=Z}),Fa(S,"link",m),s.state.loading|=4,Wp(S,d.precedence,r),s.instance=S;case"script":return S=af(d.src),(y=r.querySelector(m0(S)))?(s.instance=y,Ht(y),y):(m=d,(y=Pi.get(S))&&(m=v({},d),z1(m,y)),r=r.ownerDocument||r,y=r.createElement("script"),Ht(y),Fa(y,"link",m),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Wp(m,d.precedence,r));return s.instance}function Wp(r,s,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,S=y,D=0;D<m.length;D++){var L=m[D];if(L.dataset.precedence===s)S=L;else if(S!==y)break}S?S.parentNode.insertBefore(r,S.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(r,s.firstChild))}function D1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function z1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Jp=null;function r_(r,s,d){if(Jp===null){var m=new Map,y=Jp=new Map;y.set(d,m)}else y=Jp,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(r))return m;for(m.set(r,null),d=d.getElementsByTagName(r),y=0;y<d.length;y++){var S=d[y];if(!(S[rt]||S[V]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(s)||"";D=r+D;var L=m.get(D);L?L.push(S):m.set(D,[S])}}return m}function i_(r,s,d){r=r.ownerDocument||r,r.head.insertBefore(d,s==="title"?r.querySelector("head > title"):null)}function tE(r,s,d){if(d===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function s_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var p0=null;function nE(){}function aE(r,s,d){if(p0===null)throw Error(a(475));var m=p0;if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=nf(d.href),S=r.querySelector(h0(y));if(S){r=S._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=eg.bind(m),r.then(m,m)),s.state.loading|=4,s.instance=S,Ht(S);return}S=r.ownerDocument||r,d=n_(d),(y=Pi.get(y))&&D1(d,y),S=S.createElement("link"),Ht(S);var D=S;D._p=new Promise(function(L,Z){D.onload=L,D.onerror=Z}),Fa(S,"link",d),s.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(m.count++,s=eg.bind(m),r.addEventListener("load",s),r.addEventListener("error",s))}}function rE(){if(p0===null)throw Error(a(475));var r=p0;return r.stylesheets&&r.count===0&&k1(r,r.stylesheets),0<r.count?function(s){var d=setTimeout(function(){if(r.stylesheets&&k1(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(d)}}:null}function eg(){if(this.count--,this.count===0){if(this.stylesheets)k1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var tg=null;function k1(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,tg=new Map,s.forEach(iE,r),tg=null,eg.call(r))}function iE(r,s){if(!(s.state.loading&4)){var d=tg.get(r);if(d)var m=d.get(null);else{d=new Map,tg.set(r,d);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var D=y[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),m=D)}m&&d.set(null,m)}y=s.instance,D=y.getAttribute("data-precedence"),S=d.get(D)||m,S===m&&d.set(null,y),d.set(D,y),this.count++,m=eg.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),S?S.parentNode.insertBefore(y,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var g0={$$typeof:z,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function sE(r,s,d,m,y,S,D,L){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function l_(r,s,d,m,y,S,D,L,Z,fe,Te,Re){return r=new sE(r,s,d,D,L,Z,fe,Re),s=1,S===!0&&(s|=24),S=ar(3,null,null,s),r.current=S,S.stateNode=r,s=No(),s.refCount++,r.pooledCache=s,s.refCount++,S.memoizedState={element:m,isDehydrated:d,cache:s},$u(S),r}function o_(r){return r?(r=zl,r):zl}function u_(r,s,d,m,y,S){y=o_(y),m.context===null?m.context=y:m.pendingContext=y,m=Ai(s),m.payload={element:d},S=S===void 0?null:S,S!==null&&(m.callback=S),d=qa(r,m,s),d!==null&&($n(d,r,s),Yl(d,r,s))}function c_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<s?d:s}}function L1(r,s){c_(r,s),(r=r.alternate)&&c_(r,s)}function d_(r){if(r.tag===13){var s=_i(r,67108864);s!==null&&$n(s,r,67108864),L1(r,67108864)}}var ng=!0;function lE(r,s,d,m){var y=G.T;G.T=null;var S=ee.p;try{ee.p=2,U1(r,s,d,m)}finally{ee.p=S,G.T=y}}function oE(r,s,d,m){var y=G.T;G.T=null;var S=ee.p;try{ee.p=8,U1(r,s,d,m)}finally{ee.p=S,G.T=y}}function U1(r,s,d,m){if(ng){var y=P1(m);if(y===null)E1(r,s,m,ag,d),h_(r,m);else if(cE(y,r,s,d,m))m.stopPropagation();else if(h_(r,m),s&4&&-1<uE.indexOf(r)){for(;y!==null;){var S=Et(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=aa(S.pendingLanes);if(D!==0){var L=S;for(L.pendingLanes|=2,L.entangledLanes|=2;D;){var Z=1<<31-nn(D);L.entanglements[1]|=Z,D&=~Z}Je(S),(yt&6)===0&&(Ql=tn()+500,dn(0))}}break;case 13:L=_i(S,2),L!==null&&$n(L,S,2),rl(),L1(S,2)}if(S=P1(m),S===null&&E1(r,s,m,ag,d),S===y)break;y=S}y!==null&&m.stopPropagation()}else E1(r,s,m,null,d)}}function P1(r){return r=Os(r),B1(r)}var ag=null;function B1(r){if(ag=null,r=$e(r),r!==null){var s=l(r);if(s===null)r=null;else{var d=s.tag;if(d===13){if(r=u(s),r!==null)return r;r=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ag=r,null}function f_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case $a:return 2;case K:return 8;case oe:case ge:return 32;case Le:return 268435456;default:return 32}default:return 32}}var H1=!1,Jo=null,eu=null,tu=null,v0=new Map,y0=new Map,nu=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(r,s){switch(r){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":eu=null;break;case"mouseover":case"mouseout":tu=null;break;case"pointerover":case"pointerout":v0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":y0.delete(s.pointerId)}}function b0(r,s,d,m,y,S){return r===null||r.nativeEvent!==S?(r={blockedOn:s,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[y]},s!==null&&(s=Et(s),s!==null&&d_(s)),r):(r.eventSystemFlags|=m,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function cE(r,s,d,m,y){switch(s){case"focusin":return Jo=b0(Jo,r,s,d,m,y),!0;case"dragenter":return eu=b0(eu,r,s,d,m,y),!0;case"mouseover":return tu=b0(tu,r,s,d,m,y),!0;case"pointerover":var S=y.pointerId;return v0.set(S,b0(v0.get(S)||null,r,s,d,m,y)),!0;case"gotpointercapture":return S=y.pointerId,y0.set(S,b0(y0.get(S)||null,r,s,d,m,y)),!0}return!1}function m_(r){var s=$e(r.target);if(s!==null){var d=l(s);if(d!==null){if(s=d.tag,s===13){if(s=u(d),s!==null){r.blockedOn=s,X(r.priority,function(){if(d.tag===13){var m=qn();m=Fr(m);var y=_i(d,m);y!==null&&$n(y,d,m),L1(d,m)}});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rg(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var d=P1(r.nativeEvent);if(d===null){d=r.nativeEvent;var m=new d.constructor(d.type,d);nd=m,d.target.dispatchEvent(m),nd=null}else return s=Et(d),s!==null&&d_(s),r.blockedOn=d,!1;s.shift()}return!0}function p_(r,s,d){rg(r)&&d.delete(s)}function dE(){H1=!1,Jo!==null&&rg(Jo)&&(Jo=null),eu!==null&&rg(eu)&&(eu=null),tu!==null&&rg(tu)&&(tu=null),v0.forEach(p_),y0.forEach(p_)}function ig(r,s){r.blockedOn===s&&(r.blockedOn=null,H1||(H1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dE)))}var sg=null;function g_(r){sg!==r&&(sg=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sg===r&&(sg=null);for(var s=0;s<r.length;s+=3){var d=r[s],m=r[s+1],y=r[s+2];if(typeof m!="function"){if(B1(m||d)===null)continue;break}var S=Et(d);S!==null&&(r.splice(s,3),s-=3,Fh(S,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function _0(r){function s(Z){return ig(Z,r)}Jo!==null&&ig(Jo,r),eu!==null&&ig(eu,r),tu!==null&&ig(tu,r),v0.forEach(s),y0.forEach(s);for(var d=0;d<nu.length;d++){var m=nu[d];m.blockedOn===r&&(m.blockedOn=null)}for(;0<nu.length&&(d=nu[0],d.blockedOn===null);)m_(d),d.blockedOn===null&&nu.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],S=d[m+1],D=y[ye]||null;if(typeof S=="function")D||g_(d);else if(D){var L=null;if(S&&S.hasAttribute("formAction")){if(y=S,D=S[ye]||null)L=D.formAction;else if(B1(y)!==null)continue}else L=D.action;typeof L=="function"?d[m+1]=L:(d.splice(m,3),m-=3),g_(d)}}}function G1(r){this._internalRoot=r}lg.prototype.render=G1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var d=s.current,m=qn();u_(d,m,r,s,null,null)},lg.prototype.unmount=G1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;u_(r.current,2,null,r,null,null),rl(),s[Se]=null}};function lg(r){this._internalRoot=r}lg.prototype.unstable_scheduleHydration=function(r){if(r){var s=gi();r={blockedOn:null,target:r,priority:s};for(var d=0;d<nu.length&&s!==0&&s<nu[d].priority;d++);nu.splice(d,0,r),d===0&&m_(r)}};var v_=e.version;if(v_!=="19.1.1")throw Error(a(527,v_,"19.1.1"));ee.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var fE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{Ze=og.inject(fE),Qe=og}catch{}}return w0.createRoot=function(r,s){if(!i(r))throw Error(a(299));var d=!1,m="",y=Xl,S=ur,D=Pp,L=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks)),s=l_(r,1,!1,null,null,d,m,y,S,D,L,null),r[Se]=s.current,S1(r),new G1(s)},w0.hydrateRoot=function(r,s,d){if(!i(r))throw Error(a(299));var m=!1,y="",S=Xl,D=ur,L=Pp,Z=null,fe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Z=d.unstable_transitionCallbacks),d.formState!==void 0&&(fe=d.formState)),s=l_(r,1,!0,s,d??null,m,y,S,D,L,Z,fe),s.context=o_(null),d=s.current,m=qn(),m=Fr(m),y=Ai(m),y.callback=null,qa(d,y,m),d=m,s.current.lanes=d,Pa(s,d),Je(s),r[Se]=s.current,S1(r),new lg(s)},w0.version="19.1.1",w0}var A_;function wE(){if(A_)return V1.exports;A_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),V1.exports=xE(),V1.exports}var U5=wE();const SE=gm(U5);var N=vm();const Oe=gm(N),P5=mE({__proto__:null,default:Oe},[N]);var EE={attributes:!0,characterData:!0,subtree:!0,childList:!0};function CE(t,e,n=EE){N.useEffect(()=>{if(t.current){const a=new MutationObserver(e);return a.observe(t.current,n),()=>{a.disconnect()}}},[e,n])}var B5=(function(){if(typeof Map<"u")return Map;function t(e,n){var a=-1;return e.some(function(i,l){return i[0]===n?(a=l,!0):!1}),a}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var a=t(this.__entries__,n),i=this.__entries__[a];return i&&i[1]},e.prototype.set=function(n,a){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=a:this.__entries__.push([n,a])},e.prototype.delete=function(n){var a=this.__entries__,i=t(a,n);~i&&a.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var i=0,l=this.__entries__;i<l.length;i++){var u=l[i];n.call(a,u[1],u[0])}},e})()})(),Hy=typeof window<"u"&&typeof document<"u"&&window.document===document,ev=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),TE=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ev):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),AE=2;function RE(t,e){var n=!1,a=!1,i=0;function l(){n&&(n=!1,t()),a&&f()}function u(){TE(l)}function f(){var h=Date.now();if(n){if(h-i<AE)return;a=!0}else n=!0,a=!1,setTimeout(u,e);i=h}return f}var OE=20,NE=["top","right","bottom","left","width","height","size","weight"],jE=typeof MutationObserver<"u",ME=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=RE(this.refresh.bind(this),OE)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,a=n.indexOf(e);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Hy||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),jE?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Hy||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,a=n===void 0?"":n,i=NE.some(function(l){return!!~a.indexOf(l)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),H5=(function(t,e){for(var n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),Hf=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ev}),G5=Ov(0,0,0,0);function tv(t){return parseFloat(t)||0}function R_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(a,i){var l=t["border-"+i+"-width"];return a+tv(l)},0)}function DE(t){for(var e=["top","right","bottom","left"],n={},a=0,i=e;a<i.length;a++){var l=i[a],u=t["padding-"+l];n[l]=tv(u)}return n}function zE(t){var e=t.getBBox();return Ov(0,0,e.width,e.height)}function kE(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return G5;var a=Hf(t).getComputedStyle(t),i=DE(a),l=i.left+i.right,u=i.top+i.bottom,f=tv(a.width),h=tv(a.height);if(a.boxSizing==="border-box"&&(Math.round(f+l)!==e&&(f-=R_(a,"left","right")+l),Math.round(h+u)!==n&&(h-=R_(a,"top","bottom")+u)),!UE(t)){var g=Math.round(f+l)-e,v=Math.round(h+u)-n;Math.abs(g)!==1&&(f-=g),Math.abs(v)!==1&&(h-=v)}return Ov(i.left,i.top,f,h)}var LE=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Hf(t).SVGGraphicsElement}:function(t){return t instanceof Hf(t).SVGElement&&typeof t.getBBox=="function"}})();function UE(t){return t===Hf(t).document.documentElement}function PE(t){return Hy?LE(t)?zE(t):kE(t):G5}function BE(t){var e=t.x,n=t.y,a=t.width,i=t.height,l=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(l.prototype);return H5(u,{x:e,y:n,width:a,height:i,top:n,right:e+a,bottom:i+n,left:e}),u}function Ov(t,e,n,a){return{x:t,y:e,width:n,height:a}}var HE=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ov(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=PE(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),GE=(function(){function t(e,n){var a=BE(n);H5(this,{target:e,contentRect:a})}return t})(),qE=(function(){function t(e,n,a){if(this.activeObservations_=[],this.observations_=new B5,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=a}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Hf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new HE(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Hf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new GE(a.target,a.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),q5=typeof WeakMap<"u"?new WeakMap:new B5,V5=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ME.getInstance(),a=new qE(e,n,this);q5.set(this,a)}return t})();["observe","unobserve","disconnect"].forEach(function(t){V5.prototype[t]=function(){var e;return(e=q5.get(this))[t].apply(e,arguments)}});var VE=(function(){return typeof ev.ResizeObserver<"u"?ev.ResizeObserver:V5})(),YE=({mutationObservables:t,resizeObservables:e,refresh:n})=>{const[a,i]=N.useState(0),l=N.useRef(document.documentElement||document.body);function u(h){const g=Array.from(h);for(const v of g)if(t){if(!v.attributes)continue;t.find(w=>v.matches(w))&&n(!0)}}function f(h){const g=Array.from(h);for(const v of g)if(e){if(!v.attributes)continue;e.find(w=>v.matches(w))&&i(a+1)}}return CE(l,h=>{for(const g of h)g.addedNodes.length!==0&&(u(g.addedNodes),f(g.addedNodes)),g.removedNodes.length!==0&&(u(g.removedNodes),f(g.removedNodes))},{childList:!0,subtree:!0}),N.useEffect(()=>{if(!e)return;const h=new VE(()=>{n()});for(const g of e){const v=document.querySelector(g);v&&h.observe(v)}return()=>{h.disconnect()}},[e,a]),null},IE=YE;function Yg(t){let e=Y5;return t&&(e=t.getBoundingClientRect()),e}function ZE(t,e){const[n,a]=N.useState(Y5),i=N.useCallback(()=>{t?.current&&a(Yg(t?.current))},[t?.current]);return N.useEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[t?.current,e]),n}var Y5={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function XE(t,e){return new Promise(n=>{if(!(t instanceof Element))throw new TypeError("Argument 1 must be an Element");let a=0,i=null;const l=Object.assign({behavior:"smooth"},e);t.scrollIntoView(l),requestAnimationFrame(u);function u(){const f=t?.getBoundingClientRect().top;if(f===i){if(a++>2)return n(null)}else a=0,i=f;requestAnimationFrame(u)}})}function ug(t){return t<0?0:t}function KE(t){return typeof t=="object"&&t!==null?{thresholdX:t.x||0,thresholdY:t.y||0}:{thresholdX:t||0,thresholdY:t||0}}function Nv(){const t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{w:t,h:e}}function FE({top:t,right:e,bottom:n,left:a,threshold:i}){const{w:l,h:u}=Nv(),{thresholdX:f,thresholdY:h}=KE(i);return t<0&&n-t>u?!0:t>=0+h&&a>=0+f&&n<=u-h&&e<=l-f}var O_=(t,e)=>t>e,N_=(t,e)=>t>e;function $E(t,e=[]){const n=(a,i)=>e.includes(a)?1:e.includes(i)?-1:0;return Object.keys(t).map(a=>({position:a,value:t[a]})).sort((a,i)=>i.value-a.value).sort((a,i)=>n(a.position,i.position)).filter(a=>a.value>0).map(a=>a.position)}var K1=10;function Gy(t=K1){return Array.isArray(t)?t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[1],t[0],t[1],t[0]]:t.length===3?[t[0],t[1],t[2],t[1]]:t.length>3?[t[0],t[1],t[2],t[3]]:[K1,K1]:[t,t,t,t]}var QE={maskWrapper:()=>({opacity:.7,left:0,top:0,position:"fixed",zIndex:99999,pointerEvents:"none",color:"#000"}),svgWrapper:({windowWidth:t,windowHeight:e,wpt:n,wpl:a})=>({width:t,height:e,left:Number(a),top:Number(n),position:"fixed"}),maskArea:({x:t,y:e,width:n,height:a})=>({x:t,y:e,width:n,height:a,fill:"black",rx:0}),maskRect:({windowWidth:t,windowHeight:e,maskID:n})=>({x:0,y:0,width:t,height:e,fill:"currentColor",mask:`url(#${n})`}),clickArea:({windowWidth:t,windowHeight:e,clipID:n})=>({x:0,y:0,width:t,height:e,fill:"currentcolor",pointerEvents:"auto",clipPath:`url(#${n})`}),highlightedArea:({x:t,y:e,width:n,height:a})=>({x:t,y:e,width:n,height:a,pointerEvents:"auto",fill:"transparent",display:"none"})};function WE(t){return(e,n)=>{const a=QE[e](n),i=t[e];return i?i(a,n):a}}var JE=({padding:t=10,wrapperPadding:e=0,onClick:n,onClickHighlighted:a,styles:i={},sizes:l,className:u,highlightedAreaClassName:f,maskId:h,clipId:g})=>{const v=h||j_("mask__"),_=g||j_("clip__"),w=WE(i),[C,T,R,O]=Gy(t),[j,M,z,k]=Gy(e),{w:q,h:U}=Nv(),Y=ug(l?.width+O+T),$=ug(l?.height+C+R),ne=ug(l?.top-C-j),pe=ug(l?.left-O-k),Ee=q-k-M,J=U-j-z,he=w("maskArea",{x:pe,y:ne,width:Y,height:$}),de=w("highlightedArea",{x:pe,y:ne,width:Y,height:$});return Oe.createElement("div",{style:w("maskWrapper",{}),onClick:n,className:u},Oe.createElement("svg",{width:Ee,height:J,xmlns:"http://www.w3.org/2000/svg",style:w("svgWrapper",{windowWidth:Ee,windowHeight:J,wpt:j,wpl:k})},Oe.createElement("defs",null,Oe.createElement("mask",{id:v},Oe.createElement("rect",{x:0,y:0,width:Ee,height:J,fill:"white"}),Oe.createElement("rect",{style:he,rx:he.rx?1:void 0})),Oe.createElement("clipPath",{id:_},Oe.createElement("polygon",{points:`0 0, 0 ${J}, ${pe} ${J}, ${pe} ${ne}, ${pe+Y} ${ne}, ${pe+Y} ${ne+$}, ${pe} ${ne+$}, ${pe} ${J}, ${Ee} ${J}, ${Ee} 0`}))),Oe.createElement("rect",{style:w("maskRect",{windowWidth:Ee,windowHeight:J,maskID:v})}),Oe.createElement("rect",{style:w("clickArea",{windowWidth:Ee,windowHeight:J,top:ne,left:pe,width:Y,height:$,clipID:_})}),Oe.createElement("rect",{style:de,className:f,onClick:a,rx:de.rx?1:void 0})))},e9=JE;function j_(t){return t+Math.random().toString(36).substring(2,16)}var t9=Object.defineProperty,nv=Object.getOwnPropertySymbols,I5=Object.prototype.hasOwnProperty,Z5=Object.prototype.propertyIsEnumerable,M_=(t,e,n)=>e in t?t9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D_=(t,e)=>{for(var n in e||(e={}))I5.call(e,n)&&M_(t,n,e[n]);if(nv)for(var n of nv(e))Z5.call(e,n)&&M_(t,n,e[n]);return t},n9=(t,e)=>{var n={};for(var a in t)I5.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&nv)for(var a of nv(t))e.indexOf(a)<0&&Z5.call(t,a)&&(n[a]=t[a]);return n},a9={popover:()=>({position:"fixed",maxWidth:353,backgroundColor:"#fff",padding:"24px 30px",boxShadow:"0 0.5em 3em rgba(0, 0, 0, 0.3)",color:"inherit",zIndex:1e5,transition:"transform 0.3s",top:0,left:0})};function r9(t){return(e,n)=>{const a=a9[e](n),i=t[e];return i?i(a,n):a}}var i9=t=>{var e=t,{children:n,position:a="bottom",padding:i=10,styles:l={},sizes:u,refresher:f}=e,h=n9(e,["children","position","padding","styles","sizes","refresher"]);const g=N.useRef(null),v=N.useRef(""),_=N.useRef(""),w=N.useRef(""),{w:C,h:T}=Nv(),R=r9(l),O=ZE(g,f),{width:j,height:M}=O,[z,k,q,U]=Gy(i),Y=u?.left-U,$=u?.top-z,ne=u?.right+k,pe=u?.bottom+q,Ee=a&&typeof a=="function"?a({width:j,height:M,windowWidth:C,windowHeight:T,top:$,left:Y,right:ne,bottom:pe,x:u.x,y:u.y},O):a,J={left:Y,right:C-ne,top:$,bottom:T-pe},he=(ee,Q,ae)=>{switch(ee){case"top":return J.top>M+q;case"right":return Q?!1:J.right>j+U;case"bottom":return ae?!1:J.bottom>M+z;case"left":return J.left>j+k;default:return!1}},de=(ee,Q,ae)=>{const B=$E(J,ae?["right","left"]:Q?["top","bottom"]:[]);for(let te=0;te<B.length;te++)if(he(B[te],Q,ae))return v.current=B[te],ee[B[te]];return v.current="center",ee.center},G=(ee=>{if(Array.isArray(ee)){const Ce=O_(ee[0],C),qe=N_(ee[1],T);return v.current="custom",[Ce?C/2-j/2:ee[0],qe?T/2-M/2:ee[1]]}const Q=O_(Y+j,C),ae=N_(pe+M,T),B=Q?Math.min(Y,C-j):Math.max(Y,0),te=ae?M>J.bottom?Math.max(pe-M,0):Math.max($,0):$;ae&&M>J.bottom?_.current="bottom":_.current="top",Q?w.current="left":w.current="right";const we={top:[B-U,$-M-q],right:[ne+U,te-z],bottom:[B-U,pe+z],left:[Y-j-k,te-z],center:[C/2-j/2,T/2-M/2]};return ee==="center"||he(ee,Q,ae)&&!Q&&!ae?(v.current=ee,we[ee]):de(we,Q,ae)})(Ee);return Oe.createElement("div",D_({className:"reactour__popover",style:D_({transform:`translate(${Math.round(G[0])}px, ${Math.round(G[1])}px)`},R("popover",{position:v.current,verticalAlign:_.current,horizontalAlign:w.current,helperRect:O,targetRect:u})),ref:g},h),n)},s9=i9,l9=Object.defineProperty,o9=Object.defineProperties,u9=Object.getOwnPropertyDescriptors,av=Object.getOwnPropertySymbols,X5=Object.prototype.hasOwnProperty,K5=Object.prototype.propertyIsEnumerable,z_=(t,e,n)=>e in t?l9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hr=(t,e)=>{for(var n in e||(e={}))X5.call(e,n)&&z_(t,n,e[n]);if(av)for(var n of av(e))K5.call(e,n)&&z_(t,n,e[n]);return t},N2=(t,e)=>o9(t,u9(e)),tm=(t,e)=>{var n={};for(var a in t)X5.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&av)for(var a of av(t))e.indexOf(a)<0&&K5.call(t,a)&&(n[a]=t[a]);return n},c9={bottom:0,height:0,left:0,right:0,top:0,width:0,windowWidth:0,windowHeight:0,x:0,y:0};function d9(t,e={block:"center",behavior:"smooth",inViewThreshold:0}){const[n,a]=N.useState(!1),[i,l]=N.useState(!1),[u,f]=N.useState(!1),[h,g]=N.useState(null),[v,_]=N.useState(c9),w=t?.selector instanceof Element?t?.selector:document.querySelector(t?.selector),C=N.useCallback(()=>{const R=k_(w,t?.highlightedSelectors,t?.bypassElem),{hasHighligtedElems:O}=R,j=tm(R,["hasHighligtedElems"]);Object.entries(v).some(([M,z])=>j[M]!==z)&&_(j)},[w,t?.highlightedSelectors,v]);N.useEffect(()=>(C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)),[w,t?.highlightedSelectors,h]),N.useEffect(()=>{!FE(N2(hr({},v),{threshold:e.inViewThreshold}))&&w&&(a(!0),XE(w,e).then(()=>{i||g(Date.now())}).finally(()=>{a(!1)}))},[v]);const T=N.useCallback(()=>{l(!0);const R=k_(w,t?.highlightedSelectors,t?.bypassElem),{hasHighligtedElems:O}=R,j=tm(R,["hasHighligtedElems"]);f(O),_(j),l(!1)},[w,t?.highlightedSelectors,v]);return{sizes:v,transition:n,target:w,observableRefresher:T,isHighlightingObserved:u}}function k_(t,e=[],n=!0){let a=!1;const{w:i,h:l}=Nv();if(!e)return N2(hr({},Yg(t)),{windowWidth:i,windowHeight:l,hasHighligtedElems:!1});let u=Yg(t),f={bottom:0,height:0,left:i,right:0,top:l,width:0};for(const g of e){const v=document.querySelector(g);if(!v||v.style.display==="none"||v.style.visibility==="hidden")continue;const _=Yg(v);a=!0,n||!t?(_.top<f.top&&(f.top=_.top),_.right>f.right&&(f.right=_.right),_.bottom>f.bottom&&(f.bottom=_.bottom),_.left<f.left&&(f.left=_.left),f.width=f.right-f.left,f.height=f.bottom-f.top):(_.top<u.top&&(u.top=_.top),_.right>u.right&&(u.right=_.right),_.bottom>u.bottom&&(u.bottom=_.bottom),_.left<u.left&&(u.left=_.left),u.width=u.right-u.left,u.height=u.bottom-u.top)}const h=n||!t?f.width>0&&f.height>0:!1;return{left:(h?f:u).left,top:(h?f:u).top,right:(h?f:u).right,bottom:(h?f:u).bottom,width:(h?f:u).width,height:(h?f:u).height,windowWidth:i,windowHeight:l,hasHighligtedElems:a,x:u.x,y:u.y}}var f9=({disableKeyboardNavigation:t,setCurrentStep:e,currentStep:n,setIsOpen:a,stepsLength:i,disable:l,rtl:u,clickProps:f,keyboardHandler:h})=>{function g(v){if(v.stopPropagation(),t===!0||l)return;let _,w,C;t&&(_=t.includes("esc"),w=t.includes("right"),C=t.includes("left"));function T(){e(Math.min(n+1,i-1))}function R(){e(Math.max(n-1,0))}h&&typeof h=="function"?h(v,f,{isEscDisabled:_,isRightDisabled:w,isLeftDisabled:C}):(v.keyCode===27&&!_&&(v.preventDefault(),a(!1)),v.keyCode===39&&!w&&(v.preventDefault(),u?R():T()),v.keyCode===37&&!C&&(v.preventDefault(),u?T():R()))}return N.useEffect(()=>(window.addEventListener("keydown",g,!1),()=>{window.removeEventListener("keydown",g)}),[l,e,n]),null},h9=f9,m9={badge:()=>({position:"absolute",fontFamily:"monospace",background:"var(--reactour-accent,#007aff)",height:"1.875em",lineHeight:2,paddingLeft:"0.8125em",paddingRight:"0.8125em",fontSize:"1em",borderRadius:"1.625em",color:"white",textAlign:"center",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.3)",top:"-0.8125em",left:"-0.8125em"}),controls:()=>({display:"flex",marginTop:24,alignItems:"center",justifyContent:"space-between"}),navigation:()=>({counterReset:"dot",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}),button:({disabled:t})=>({display:"block",padding:0,border:0,background:"none",cursor:t?"not-allowed":"pointer"}),arrow:({disabled:t})=>({color:t?"#caccce":"#646464",width:16,height:12,flex:"0 0 16px"}),dot:({current:t,disabled:e,showNumber:n})=>({counterIncrement:"dot",width:8,height:8,border:t?"0":"1px solid #caccce",borderRadius:"100%",padding:0,display:"block",margin:4,transition:"opacity 0.3s, transform 0.3s",cursor:e?"not-allowed":"pointer",transform:`scale(${t?1.25:1})`,color:t?"var(--reactour-accent, #007aff)":"#caccce",background:t?"var(--reactour-accent, #007aff)":"none"}),close:({disabled:t})=>({position:"absolute",top:22,right:22,width:9,height:9,"--rt-close-btn":t?"#caccce":"#5e5e5e","--rt-close-btn-disabled":t?"#caccce":"#000"}),svg:()=>({display:"block"})};function jv(t){return(e,n)=>{const a=m9[e](n),i=t[e];return i?i(a,n):a}}var p9=({styles:t={},children:e})=>{const n=jv(t);return Oe.createElement("span",{style:n("badge",{})},e)},g9=p9,v9=t=>{var e=t,{styles:n={},onClick:a,disabled:i}=e,l=tm(e,["styles","onClick","disabled"]);const u=jv(n);return Oe.createElement("button",hr({className:"reactour__close-button",style:hr(hr({},u("button",{})),u("close",{disabled:i})),onClick:a},l),Oe.createElement("svg",{viewBox:"0 0 9.1 9.1","aria-hidden":!0,role:"presentation",style:hr({},u("svg",{}))},Oe.createElement("path",{fill:"currentColor",d:"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z"})))},y9=v9,b9=({content:t,setCurrentStep:e,transition:n,isHighlightingObserved:a,currentStep:i,setIsOpen:l})=>typeof t=="function"?t({setCurrentStep:e,transition:n,isHighlightingObserved:a,currentStep:i,setIsOpen:l}):t,_9=b9,x9=({styles:t={},steps:e,setCurrentStep:n,currentStep:a,setIsOpen:i,nextButton:l,prevButton:u,disableDots:f,hideDots:h,hideButtons:g,disableAll:v,rtl:_,Arrow:w=F5})=>{const C=e.length,T=jv(t),R=({onClick:O,kind:j="next",children:M,hideArrow:z})=>{function k(){v||(O&&typeof O=="function"?O():n(j==="next"?Math.min(a+1,C-1):Math.max(a-1,0)))}return Oe.createElement("button",{style:T("button",{kind:j,disabled:v||(j==="next"?C-1===a:a===0)}),onClick:k,"aria-label":`Go to ${j} step`},z?null:Oe.createElement(w,{styles:t,inverted:_?j==="prev":j==="next",disabled:v||(j==="next"?C-1===a:a===0)}),M)};return Oe.createElement("div",{style:T("controls",{}),dir:_?"rtl":"ltr"},g?null:u&&typeof u=="function"?u({Button:R,setCurrentStep:n,currentStep:a,stepsLength:C,setIsOpen:i,steps:e}):Oe.createElement(R,{kind:"prev"}),h?null:Oe.createElement("div",{style:T("navigation",{})},Array.from({length:C},(O,j)=>j).map(O=>{var j;return Oe.createElement("button",{style:T("dot",{current:O===a,disabled:f||v}),onClick:()=>{!f&&!v&&n(O)},key:`navigation_dot_${O}`,"aria-label":((j=e[O])==null?void 0:j.navDotAriaLabel)||`Go to step ${O+1}`})})),g?null:l&&typeof l=="function"?l({Button:R,setCurrentStep:n,currentStep:a,stepsLength:C,setIsOpen:i,steps:e}):Oe.createElement(R,null))},w9=x9,F5=({styles:t={},inverted:e=!1,disabled:n})=>{const a=jv(t);return Oe.createElement("svg",{viewBox:"0 0 18.4 14.4",style:a("arrow",{inverted:e,disabled:n})},Oe.createElement("path",{d:e?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"}))},S9={Badge:g9,Close:y9,Content:_9,Navigation:w9,Arrow:F5},E9=t=>hr(hr({},S9),t),C9=({styles:t,components:e={},badgeContent:n,accessibilityOptions:a,disabledActions:i,onClickClose:l,steps:u,setCurrentStep:f,currentStep:h,transition:g,isHighlightingObserved:v,setIsOpen:_,nextButton:w,prevButton:C,disableDotsNavigation:T,rtl:R,showPrevNextButtons:O=!0,showCloseButton:j=!0,showNavigation:M=!0,showBadge:z=!0,showDots:k=!0,meta:q,setMeta:U,setSteps:Y})=>{const $=u[h],{Badge:ne,Close:pe,Content:Ee,Navigation:J,Arrow:he}=E9(e),de=n&&typeof n=="function"?n({currentStep:h,totalSteps:u.length,transition:g}):h+1;function ue(){i||(l&&typeof l=="function"?l({setCurrentStep:f,setIsOpen:_,currentStep:h,steps:u,meta:q,setMeta:U,setSteps:Y}):_(!1))}return Oe.createElement(Oe.Fragment,null,z?Oe.createElement(ne,{styles:t},de):null,j?Oe.createElement(pe,{styles:t,"aria-label":a?.closeButtonAriaLabel,disabled:i,onClick:ue}):null,Oe.createElement(Ee,{content:$?.content,setCurrentStep:f,currentStep:h,transition:g,isHighlightingObserved:v,setIsOpen:_}),M?Oe.createElement(J,{setCurrentStep:f,currentStep:h,setIsOpen:_,steps:u,styles:t,"aria-hidden":!a?.showNavigationScreenReaders,nextButton:w,prevButton:C,disableDots:T,hideButtons:!O,hideDots:!k,disableAll:i,rtl:R,Arrow:he}):null)},T9=C9,A9=t=>{var e=t,{currentStep:n,setCurrentStep:a,setIsOpen:i,steps:l=[],setSteps:u,styles:f={},scrollSmooth:h,afterOpen:g,beforeClose:v,padding:_=10,position:w,onClickMask:C,onClickHighlighted:T,keyboardHandler:R,className:O="reactour__popover",maskClassName:j="reactour__mask",highlightedMaskClassName:M,clipId:z,maskId:k,disableInteraction:q,disableKeyboardNavigation:U,inViewThreshold:Y,disabledActions:$,setDisabledActions:ne,disableWhenSelectorFalsy:pe,rtl:Ee,accessibilityOptions:J={closeButtonAriaLabel:"Close Tour",showNavigationScreenReaders:!0},ContentComponent:he,Wrapper:de,meta:ue,setMeta:G,onTransition:ee=()=>"center"}=e,Q=tm(e,["currentStep","setCurrentStep","setIsOpen","steps","setSteps","styles","scrollSmooth","afterOpen","beforeClose","padding","position","onClickMask","onClickHighlighted","keyboardHandler","className","maskClassName","highlightedMaskClassName","clipId","maskId","disableInteraction","disableKeyboardNavigation","inViewThreshold","disabledActions","setDisabledActions","disableWhenSelectorFalsy","rtl","accessibilityOptions","ContentComponent","Wrapper","meta","setMeta","onTransition"]),ae;const B=l[n],te=hr(hr({},f),B?.styles),{sizes:we,transition:Ce,observableRefresher:qe,isHighlightingObserved:st,target:Ie}=d9(B,{block:"center",behavior:h?"smooth":"auto",inViewThreshold:Y});N.useEffect(()=>(g&&typeof g=="function"&&g(Ie),()=>{v&&typeof v=="function"&&v(Ie)}),[]);const{maskPadding:it,popoverPadding:bt,wrapperPadding:vn}=O9((ae=B?.padding)!=null?ae:_),xe={setCurrentStep:a,setIsOpen:i,currentStep:n,setSteps:u,steps:l,setMeta:G,meta:ue};function Me(){$||(C&&typeof C=="function"?C(xe):i(!1))}const ut=typeof B?.stepInteraction=="boolean"?!B?.stepInteraction:q?typeof q=="boolean"?q:q(xe):!1;N.useEffect(()=>(B?.action&&typeof B?.action=="function"&&B?.action(Ie),B?.disableActions!==void 0&&ne(B?.disableActions),()=>{B?.actionAfter&&typeof B?.actionAfter=="function"&&B?.actionAfter(Ie)}),[B]);const lt=Ce?ee:B?.position?B?.position:w,at=de||Oe.Fragment;return B?Oe.createElement(at,null,Oe.createElement(IE,{mutationObservables:B?.mutationObservables,resizeObservables:B?.resizeObservables,refresh:qe}),Oe.createElement(h9,{setCurrentStep:a,currentStep:n,setIsOpen:i,stepsLength:l.length,disableKeyboardNavigation:U,disable:$,rtl:Ee,clickProps:xe,keyboardHandler:R}),(!pe||Ie)&&Oe.createElement(e9,{sizes:Ce?N9:we,onClick:Me,styles:hr({highlightedArea:_t=>N2(hr({},_t),{display:ut?"block":"none"})},te),padding:Ce?0:it,highlightedAreaClassName:M,className:j,onClickHighlighted:_t=>{_t.preventDefault(),_t.stopPropagation(),T&&T(_t,xe)},wrapperPadding:vn,clipId:z,maskId:k}),(!pe||Ie)&&Oe.createElement(s9,{sizes:we,styles:te,position:lt,padding:bt,"aria-labelledby":J?.ariaLabelledBy,className:O,refresher:n},he?Oe.createElement(he,hr({styles:te,setCurrentStep:a,currentStep:n,setIsOpen:i,steps:l,accessibilityOptions:J,disabledActions:$,transition:Ce,isHighlightingObserved:st,rtl:Ee},Q)):Oe.createElement(T9,hr({styles:te,setCurrentStep:a,currentStep:n,setIsOpen:i,steps:l,setSteps:u,accessibilityOptions:J,disabledActions:$,transition:Ce,isHighlightingObserved:st,rtl:Ee,meta:ue,setMeta:G},Q)))):null},R9=A9;function O9(t){return typeof t=="object"&&t!==null?{maskPadding:t.mask,popoverPadding:t.popover,wrapperPadding:t.wrapper}:{maskPadding:t,popoverPadding:t,wrapperPadding:0}}var N9={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},j9={isOpen:!1,setIsOpen:()=>!1,currentStep:0,setCurrentStep:()=>0,steps:[],setSteps:()=>[],setMeta:()=>"",disabledActions:!1,setDisabledActions:()=>!1,components:{}},$5=Oe.createContext(j9),M9=t=>{var e=t,{children:n,defaultOpen:a=!1,startAt:i=0,steps:l,setCurrentStep:u,currentStep:f}=e,h=tm(e,["children","defaultOpen","startAt","steps","setCurrentStep","currentStep"]);const[g,v]=N.useState(a),[_,w]=N.useState(i),[C,T]=N.useState(l),[R,O]=N.useState(""),[j,M]=N.useState(!1),z=hr({isOpen:g,setIsOpen:v,currentStep:f||_,setCurrentStep:u&&typeof u=="function"?u:w,steps:C,setSteps:T,disabledActions:j,setDisabledActions:M,meta:R,setMeta:O},h);return Oe.createElement($5.Provider,{value:z},n,g?Oe.createElement(R9,hr({},z)):null)};function D9(){return N.useContext($5)}var Q5=t=>{throw TypeError(t)},z9=(t,e,n)=>e.has(t)||Q5("Cannot "+n),F1=(t,e,n)=>(z9(t,e,"read from private field"),n?n.call(t):e.get(t)),k9=(t,e,n)=>e.has(t)?Q5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),L_="popstate";function L9(t={}){function e(i,l){let{pathname:u="/",search:f="",hash:h=""}=oo(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),nm("",{pathname:u,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let h=i.location.href,g=h.indexOf("#");f=g===-1?h:h.slice(0,g)}return f+"#"+(typeof l=="string"?l:pu(l))}function a(i,l){ta(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return P9(e,n,a,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ta(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U9(){return Math.random().toString(36).substring(2,10)}function U_(t,e){return{usr:t.state,key:t.key,idx:e}}function nm(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oo(e):e,state:n,key:e&&e.key||a||U9()}}function pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function P9(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,f="POP",h=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let O=v(),j=O==null?null:O-g;g=O,h&&h({action:f,location:R.location,delta:j})}function w(O,j){f="PUSH";let M=nm(R.location,O,j);n&&n(M,O),g=v()+1;let z=U_(M,g),k=R.createHref(M);try{u.pushState(z,"",k)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(k)}l&&h&&h({action:f,location:R.location,delta:1})}function C(O,j){f="REPLACE";let M=nm(R.location,O,j);n&&n(M,O),g=v();let z=U_(M,g),k=R.createHref(M);u.replaceState(z,"",k),l&&h&&h({action:f,location:R.location,delta:0})}function T(O){return W5(O)}let R={get action(){return f},get location(){return t(i,u)},listen(O){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(L_,_),h=O,()=>{i.removeEventListener(L_,_),h=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let j=T(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:C,go(O){return u.go(O)}};return R}function W5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:pu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var P0,P_=class{constructor(t){if(k9(this,P0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(F1(this,P0).has(t))return F1(this,P0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){F1(this,P0).set(t,e)}};P0=new WeakMap;var B9=new Set(["lazy","caseSensitive","path","id","index","children"]);function H9(t){return B9.has(t)}var G9=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function q9(t){return G9.has(t)}function V9(t){return t.index===!0}function am(t,e,n=[],a={},i=!1){return t.map((l,u)=>{let f=[...n,String(u)],h=typeof l.id=="string"?l.id:f.join("-");if(It(l.index!==!0||!l.children,"Cannot specify children on an index route"),It(i||!a[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),V9(l)){let g={...l,...e(l),id:h};return a[h]=g,g}else{let g={...l,...e(l),id:h,children:void 0};return a[h]=g,l.children&&(g.children=am(l.children,e,f,a,i)),g}})}function cu(t,e,n="/"){return Ig(t,e,n,!1)}function Ig(t,e,n,a){let i=typeof e=="string"?oo(e):e,l=Yi(i.pathname||"/",n);if(l==null)return null;let u=J5(t);I9(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let g=n7(l);f=e7(u[h],g,a)}return f}function Y9(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function J5(t,e=[],n=[],a="",i=!1){let l=(u,f,h=i,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&h)return;It(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=ml([a,v.relativePath]),w=n.concat(v);u.children&&u.children.length>0&&(It(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),J5(u.children,e,w,_,h)),!(u.path==null&&!u.index)&&e.push({path:_,score:W9(_,u.index),routesMeta:w})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let h of e3(u.path))l(u,f,!0,h)}),e}function e3(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=e3(a.join("/")),f=[];return f.push(...u.map(h=>h===""?l:[l,h].join("/"))),i&&f.push(...u),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function I9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:J9(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Z9=/^:[\w-]+$/,X9=3,K9=2,F9=1,$9=10,Q9=-2,B_=t=>t==="*";function W9(t,e){let n=t.split("/"),a=n.length;return n.some(B_)&&(a+=Q9),e&&(a+=K9),n.filter(i=>!B_(i)).reduce((i,l)=>i+(Z9.test(l)?X9:l===""?F9:$9),a)}function J9(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function e7(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let f=0;f<a.length;++f){let h=a[f],g=f===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=rv({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),w=h.route;if(!_&&g&&n&&!a[a.length-1].route.index&&(_=rv({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:ml([l,_.pathname]),pathnameBase:s7(ml([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=ml([l,_.pathnameBase]))}return u}function rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=t7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:_},w)=>{if(v==="*"){let T=f[w]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=f[w];return _&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function t7(t,e=!1,n=!0){ta(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function n7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ta(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function a7({basename:t,pathname:e}){return e==="/"?t:ml([t,e])}function r7(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?oo(t):t;return{pathname:n?n.startsWith("/")?n:i7(n,e):e,search:l7(a),hash:o7(i)}}function i7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j2(t){let e=t3(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function M2(t,e,n,a=!1){let i;typeof t=="string"?i=oo(t):(i={...t},It(!i.pathname||!i.pathname.includes("?"),$1("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),$1("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),$1("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}f=_>=0?e[_]:"/"}let h=r7(i,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}var ml=t=>t.join("/").replace(/\/\/+/g,"/"),s7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,iv=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var n3=["POST","PUT","PATCH","DELETE"],u7=new Set(n3),c7=["GET",...n3],d7=new Set(c7),f7=new Set([301,302,303,307,308]),h7=new Set([307,308]),Q1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},m7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},S0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},p7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D2=t=>p7.test(t),g7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),a3="remix-router-transitions",r3=Symbol("ResetLoaderData");function v7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";It(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],i=t.mapRouteProperties||g7,l={},u=am(t.routes,i,void 0,l),f,h=t.basename||"/";h.startsWith("/")||(h=`/${h}`);let g=t.dataStrategy||w7,v={...t.future},_=null,w=new Set,C=null,T=null,R=null,O=t.hydrationData!=null,j=cu(u,t.history.location,h),M=!1,z=null,k;if(j==null&&!t.patchRoutesOnNavigation){let X=Hi(404,{pathname:t.history.location.pathname}),{matches:H,route:V}=cg(u);k=!0,j=H,z={[V.id]:X}}else if(j&&!t.hydrationData&&pi(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(X=>X.route.lazy))k=!1;else if(!j.some(X=>z2(X.route)))k=!0;else{let X=t.hydrationData?t.hydrationData.loaderData:null,H=t.hydrationData?t.hydrationData.errors:null;if(H){let V=j.findIndex(ye=>H[ye.route.id]!==void 0);k=j.slice(0,V+1).every(ye=>!Vy(ye.route,X,H))}else k=j.every(V=>!Vy(V.route,X,H))}else{k=!1,j=[];let X=pi(null,u,t.history.location.pathname);X.active&&X.matches&&(M=!0,j=X.matches)}let q,U={historyAction:t.history.action,location:t.history.location,matches:j,initialized:k,navigation:Q1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},Y="POP",$=!1,ne,pe=!1,Ee=new Map,J=null,he=!1,de=!1,ue=new Set,G=new Map,ee=0,Q=-1,ae=new Map,B=new Set,te=new Map,we=new Map,Ce=new Set,qe=new Map,st,Ie=null;function it(){if(_=t.history.listen(({action:X,location:H,delta:V})=>{if(st){st(),st=void 0;return}ta(qe.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=hi({currentLocation:U.location,nextLocation:H,historyAction:X});if(ye&&V!=null){let Se=new Promise(Ye=>{st=Ye});t.history.go(V*-1),Rr(ye,{state:"blocked",location:H,proceed(){Rr(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),Se.then(()=>t.history.go(V))},reset(){let Ye=new Map(U.blockers);Ye.set(ye,S0),xe({blockers:Ye})}});return}return at(X,H)}),n){U7(e,Ee);let X=()=>P7(e,Ee);e.addEventListener("pagehide",X),J=()=>e.removeEventListener("pagehide",X)}return U.initialized||at("POP",U.location,{initialHydration:!0}),q}function bt(){_&&_(),J&&J(),w.clear(),ne&&ne.abort(),U.fetchers.forEach((X,H)=>La(H)),U.blockers.forEach((X,H)=>mr(H))}function vn(X){return w.add(X),()=>w.delete(X)}function xe(X,H={}){X.matches&&(X.matches=X.matches.map(Se=>{let Ye=l[Se.route.id],Be=Se.route;return Be.element!==Ye.element||Be.errorElement!==Ye.errorElement||Be.hydrateFallbackElement!==Ye.hydrateFallbackElement?{...Se,route:Ye}:Se})),U={...U,...X};let V=[],ye=[];U.fetchers.forEach((Se,Ye)=>{Se.state==="idle"&&(Ce.has(Ye)?V.push(Ye):ye.push(Ye))}),Ce.forEach(Se=>{!U.fetchers.has(Se)&&!G.has(Se)&&V.push(Se)}),[...w].forEach(Se=>Se(U,{deletedFetchers:V,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),V.forEach(Se=>La(Se)),ye.forEach(Se=>U.fetchers.delete(Se))}function Me(X,H,{flushSync:V}={}){let ye=U.actionData!=null&&U.navigation.formMethod!=null&&Ir(U.navigation.formMethod)&&U.navigation.state==="loading"&&X.state?._isRedirect!==!0,Se;H.actionData?Object.keys(H.actionData).length>0?Se=H.actionData:Se=null:ye?Se=U.actionData:Se=null;let Ye=H.loaderData?F_(U.loaderData,H.loaderData,H.matches||[],H.errors):U.loaderData,Be=U.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((nt,$e)=>Be.set($e,S0)));let Ke=he?!1:mi(X,H.matches||U.matches),We=$===!0||U.navigation.formMethod!=null&&Ir(U.navigation.formMethod)&&X.state?._isRedirect!==!0;f&&(u=f,f=void 0),he||Y==="POP"||(Y==="PUSH"?t.history.push(X,X.state):Y==="REPLACE"&&t.history.replace(X,X.state));let rt;if(Y==="POP"){let nt=Ee.get(U.location.pathname);nt&&nt.has(X.pathname)?rt={currentLocation:U.location,nextLocation:X}:Ee.has(X.pathname)&&(rt={currentLocation:X,nextLocation:U.location})}else if(pe){let nt=Ee.get(U.location.pathname);nt?nt.add(X.pathname):(nt=new Set([X.pathname]),Ee.set(U.location.pathname,nt)),rt={currentLocation:U.location,nextLocation:X}}xe({...H,actionData:Se,loaderData:Ye,historyAction:Y,location:X,initialized:!0,navigation:Q1,revalidation:"idle",restoreScrollPosition:Ke,preventScrollReset:We,blockers:Be},{viewTransitionOpts:rt,flushSync:V===!0}),Y="POP",$=!1,pe=!1,he=!1,de=!1,Ie?.resolve(),Ie=null}async function ut(X,H){if(typeof X=="number"){t.history.go(X);return}let V=qy(U.location,U.matches,h,X,H?.fromRouteId,H?.relative),{path:ye,submission:Se,error:Ye}=H_(!1,V,H),Be=U.location,Ke=nm(U.location,ye,H&&H.state);Ke={...Ke,...t.history.encodeLocation(Ke)};let We=H&&H.replace!=null?H.replace:void 0,rt="PUSH";We===!0?rt="REPLACE":We===!1||Se!=null&&Ir(Se.formMethod)&&Se.formAction===U.location.pathname+U.location.search&&(rt="REPLACE");let nt=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,$e=(H&&H.flushSync)===!0,Et=hi({currentLocation:Be,nextLocation:Ke,historyAction:rt});if(Et){Rr(Et,{state:"blocked",location:Ke,proceed(){Rr(Et,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),ut(X,H)},reset(){let an=new Map(U.blockers);an.set(Et,S0),xe({blockers:an})}});return}await at(rt,Ke,{submission:Se,pendingError:Ye,preventScrollReset:nt,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:$e})}function lt(){Ie||(Ie=B7()),ke(),xe({revalidation:"loading"});let X=Ie.promise;return U.navigation.state==="submitting"?X:U.navigation.state==="idle"?(at(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),X):(at(Y||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:pe===!0}),X)}async function at(X,H,V){ne&&ne.abort(),ne=null,Y=X,he=(V&&V.startUninterruptedRevalidation)===!0,xl(U.location,U.matches),$=(V&&V.preventScrollReset)===!0,pe=(V&&V.enableViewTransition)===!0;let ye=f||u,Se=V&&V.overrideNavigation,Ye=V?.initialHydration&&U.matches&&U.matches.length>0&&!M?U.matches:cu(ye,H,h),Be=(V&&V.flushSync)===!0;if(Ye&&U.initialized&&!de&&N7(U.location,H)&&!(V&&V.submission&&Ir(V.submission.formMethod))){Me(H,{matches:Ye},{flushSync:Be});return}let Ke=pi(Ye,ye,H.pathname);if(Ke.active&&Ke.matches&&(Ye=Ke.matches),!Ye){let{error:Ht,notFoundMatches:hn,route:on}=Or(H.pathname);Me(H,{matches:hn,loaderData:{},errors:{[on.id]:Ht}},{flushSync:Be});return}ne=new AbortController;let We=Tf(t.history,H,ne.signal,V&&V.submission),rt=t.getContext?await t.getContext():new P_,nt;if(V&&V.pendingError)nt=[du(Ye).route.id,{type:"error",error:V.pendingError}];else if(V&&V.submission&&Ir(V.submission.formMethod)){let Ht=await _t(We,H,V.submission,Ye,rt,Ke.active,V&&V.initialHydration===!0,{replace:V.replace,flushSync:Be});if(Ht.shortCircuited)return;if(Ht.pendingActionResult){let[hn,on]=Ht.pendingActionResult;if(li(on)&&rm(on.error)&&on.error.status===404){ne=null,Me(H,{matches:Ht.matches,loaderData:{},errors:{[hn]:on.error}});return}}Ye=Ht.matches||Ye,nt=Ht.pendingActionResult,Se=W1(H,V.submission),Be=!1,Ke.active=!1,We=Tf(t.history,We.url,We.signal)}let{shortCircuited:$e,matches:Et,loaderData:an,errors:_n}=await cn(We,H,Ye,rt,Ke.active,Se,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,Be,nt);$e||(ne=null,Me(H,{matches:Et||Ye,...$_(nt),loaderData:an,errors:_n}))}async function _t(X,H,V,ye,Se,Ye,Be,Ke={}){ke();let We=k7(H,V);if(xe({navigation:We},{flushSync:Ke.flushSync===!0}),Ye){let $e=await Fr(ye,H.pathname,X.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){if($e.partialMatches.length===0){let{matches:an,route:_n}=cg(u);return{matches:an,pendingActionResult:[_n.id,{type:"error",error:$e.error}]}}let Et=du($e.partialMatches).route.id;return{matches:$e.partialMatches,pendingActionResult:[Et,{type:"error",error:$e.error}]}}else if($e.matches)ye=$e.matches;else{let{notFoundMatches:Et,error:an,route:_n}=Or(H.pathname);return{matches:Et,pendingActionResult:[_n.id,{type:"error",error:an}]}}}let rt,nt=Zg(ye,H);if(!nt.route.action&&!nt.route.lazy)rt={type:"error",error:Hi(405,{method:X.method,pathname:H.pathname,routeId:nt.route.id})};else{let $e=Df(i,l,X,ye,nt,Be?[]:a,Se),Et=await Le(X,$e,Se,null);if(rt=Et[nt.route.id],!rt){for(let an of ye)if(Et[an.route.id]){rt=Et[an.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(Nc(rt)){let $e;return Ke&&Ke.replace!=null?$e=Ke.replace:$e=Z_(rt.response.headers.get("Location"),new URL(X.url),h)===U.location.pathname+U.location.search,await ge(X,rt,!0,{submission:V,replace:$e}),{shortCircuited:!0}}if(li(rt)){let $e=du(ye,nt.route.id);return(Ke&&Ke.replace)!==!0&&(Y="PUSH"),{matches:ye,pendingActionResult:[$e.route.id,rt,nt.route.id]}}return{matches:ye,pendingActionResult:[nt.route.id,rt]}}async function cn(X,H,V,ye,Se,Ye,Be,Ke,We,rt,nt,$e){let Et=Ye||W1(H,Be),an=Be||Ke||W_(Et),_n=!he&&!rt;if(Se){if(_n){let kt=tn($e);xe({navigation:Et,...kt!==void 0?{actionData:kt}:{}},{flushSync:nt})}let ft=await Fr(V,H.pathname,X.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Ba,route:Ha}=cg(u);return{matches:Ba,loaderData:{},errors:{[Ha.id]:ft.error}}}let kt=du(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[kt]:ft.error}}}else if(ft.matches)V=ft.matches;else{let{error:kt,notFoundMatches:Ba,route:Ha}=Or(H.pathname);return{matches:Ba,loaderData:{},errors:{[Ha.id]:kt}}}}let Ht=f||u,{dsMatches:hn,revalidatingFetchers:on}=G_(X,ye,i,l,t.history,U,V,an,H,rt?[]:a,rt===!0,de,ue,Ce,te,B,Ht,h,t.patchRoutesOnNavigation!=null,$e);if(Q=++ee,!t.dataStrategy&&!hn.some(ft=>ft.shouldLoad)&&!hn.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&on.length===0){let ft=Wa();return Me(H,{matches:V,loaderData:{},errors:$e&&li($e[1])?{[$e[0]]:$e[1].error}:null,...$_($e),...ft?{fetchers:new Map(U.fetchers)}:{}},{flushSync:nt}),{shortCircuited:!0}}if(_n){let ft={};if(!Se){ft.navigation=Et;let kt=tn($e);kt!==void 0&&(ft.actionData=kt)}on.length>0&&(ft.fetchers=na(on)),xe(ft,{flushSync:nt})}on.forEach(ft=>{wa(ft.key),ft.controller&&G.set(ft.key,ft.controller)});let Gt=()=>on.forEach(ft=>wa(ft.key));ne&&ne.signal.addEventListener("abort",Gt);let{loaderResults:Ja,fetcherResults:Nr}=await Pe(hn,on,X,ye);if(X.signal.aborted)return{shortCircuited:!0};ne&&ne.signal.removeEventListener("abort",Gt),on.forEach(ft=>G.delete(ft.key));let er=dg(Ja);if(er)return await ge(X,er.result,!0,{replace:We}),{shortCircuited:!0};if(er=dg(Nr),er)return B.add(er.key),await ge(X,er.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:wl,errors:Sl}=K_(U,V,Ja,$e,on,Nr);rt&&U.errors&&(Sl={...U.errors,...Sl});let tr=Wa(),$r=aa(Q),Sa=tr||$r||on.length>0;return{matches:V,loaderData:wl,errors:Sl,...Sa?{fetchers:new Map(U.fetchers)}:{}}}function tn(X){if(X&&!li(X[1]))return{[X[0]]:X[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function na(X){return X.forEach(H=>{let V=U.fetchers.get(H.key),ye=E0(void 0,V?V.data:void 0);U.fetchers.set(H.key,ye)}),new Map(U.fetchers)}async function $a(X,H,V,ye){wa(X);let Se=(ye&&ye.flushSync)===!0,Ye=f||u,Be=qy(U.location,U.matches,h,V,H,ye?.relative),Ke=cu(Ye,Be,h),We=pi(Ke,Ye,Be);if(We.active&&We.matches&&(Ke=We.matches),!Ke){Qe(X,H,Hi(404,{pathname:Be}),{flushSync:Se});return}let{path:rt,submission:nt,error:$e}=H_(!0,Be,ye);if($e){Qe(X,H,$e,{flushSync:Se});return}let Et=t.getContext?await t.getContext():new P_,an=(ye&&ye.preventScrollReset)===!0;if(nt&&Ir(nt.formMethod)){await K(X,H,rt,Ke,Et,We.active,Se,an,nt);return}te.set(X,{routeId:H,path:rt}),await oe(X,H,rt,Ke,Et,We.active,Se,an,nt)}async function K(X,H,V,ye,Se,Ye,Be,Ke,We){ke(),te.delete(X);let rt=U.fetchers.get(X);Ze(X,L7(We,rt),{flushSync:Be});let nt=new AbortController,$e=Tf(t.history,V,nt.signal,We);if(Ye){let xn=await Fr(ye,new URL($e.url).pathname,$e.signal,X);if(xn.type==="aborted")return;if(xn.type==="error"){Qe(X,H,xn.error,{flushSync:Be});return}else if(xn.matches)ye=xn.matches;else{Qe(X,H,Hi(404,{pathname:V}),{flushSync:Be});return}}let Et=Zg(ye,V);if(!Et.route.action&&!Et.route.lazy){let xn=Hi(405,{method:We.formMethod,pathname:V,routeId:H});Qe(X,H,xn,{flushSync:Be});return}G.set(X,nt);let an=ee,_n=Df(i,l,$e,ye,Et,a,Se),hn=(await Le($e,_n,Se,X))[Et.route.id];if($e.signal.aborted){G.get(X)===nt&&G.delete(X);return}if(Ce.has(X)){if(Nc(hn)||li(hn)){Ze(X,no(void 0));return}}else{if(Nc(hn))if(G.delete(X),Q>an){Ze(X,no(void 0));return}else return B.add(X),Ze(X,E0(We)),ge($e,hn,!1,{fetcherSubmission:We,preventScrollReset:Ke});if(li(hn)){Qe(X,H,hn.error);return}}let on=U.navigation.location||U.location,Gt=Tf(t.history,on,nt.signal),Ja=f||u,Nr=U.navigation.state!=="idle"?cu(Ja,U.navigation.location,h):U.matches;It(Nr,"Didn't find any matches after fetcher action");let er=++ee;ae.set(X,er);let wl=E0(We,hn.data);U.fetchers.set(X,wl);let{dsMatches:Sl,revalidatingFetchers:tr}=G_(Gt,Se,i,l,t.history,U,Nr,We,on,a,!1,de,ue,Ce,te,B,Ja,h,t.patchRoutesOnNavigation!=null,[Et.route.id,hn]);tr.filter(xn=>xn.key!==X).forEach(xn=>{let Rs=xn.key,pr=U.fetchers.get(Rs),ha=E0(void 0,pr?pr.data:void 0);U.fetchers.set(Rs,ha),wa(Rs),xn.controller&&G.set(Rs,xn.controller)}),xe({fetchers:new Map(U.fetchers)});let $r=()=>tr.forEach(xn=>wa(xn.key));nt.signal.addEventListener("abort",$r);let{loaderResults:Sa,fetcherResults:ft}=await Pe(Sl,tr,Gt,Se);if(nt.signal.aborted)return;if(nt.signal.removeEventListener("abort",$r),ae.delete(X),G.delete(X),tr.forEach(xn=>G.delete(xn.key)),U.fetchers.has(X)){let xn=no(hn.data);U.fetchers.set(X,xn)}let kt=dg(Sa);if(kt)return ge(Gt,kt.result,!1,{preventScrollReset:Ke});if(kt=dg(ft),kt)return B.add(kt.key),ge(Gt,kt.result,!1,{preventScrollReset:Ke});let{loaderData:Ba,errors:Ha}=K_(U,Nr,Sa,void 0,tr,ft);aa(er),U.navigation.state==="loading"&&er>Q?(It(Y,"Expected pending action"),ne&&ne.abort(),Me(U.navigation.location,{matches:Nr,loaderData:Ba,errors:Ha,fetchers:new Map(U.fetchers)})):(xe({errors:Ha,loaderData:F_(U.loaderData,Ba,Nr,Ha),fetchers:new Map(U.fetchers)}),de=!1)}async function oe(X,H,V,ye,Se,Ye,Be,Ke,We){let rt=U.fetchers.get(X);Ze(X,E0(We,rt?rt.data:void 0),{flushSync:Be});let nt=new AbortController,$e=Tf(t.history,V,nt.signal);if(Ye){let on=await Fr(ye,new URL($e.url).pathname,$e.signal,X);if(on.type==="aborted")return;if(on.type==="error"){Qe(X,H,on.error,{flushSync:Be});return}else if(on.matches)ye=on.matches;else{Qe(X,H,Hi(404,{pathname:V}),{flushSync:Be});return}}let Et=Zg(ye,V);G.set(X,nt);let an=ee,_n=Df(i,l,$e,ye,Et,a,Se),hn=(await Le($e,_n,Se,X))[Et.route.id];if(G.get(X)===nt&&G.delete(X),!$e.signal.aborted){if(Ce.has(X)){Ze(X,no(void 0));return}if(Nc(hn))if(Q>an){Ze(X,no(void 0));return}else{B.add(X),await ge($e,hn,!1,{preventScrollReset:Ke});return}if(li(hn)){Qe(X,H,hn.error);return}Ze(X,no(hn.data))}}async function ge(X,H,V,{submission:ye,fetcherSubmission:Se,preventScrollReset:Ye,replace:Be}={}){H.response.headers.has("X-Remix-Revalidate")&&(de=!0);let Ke=H.response.headers.get("Location");It(Ke,"Expected a Location header on the redirect Response"),Ke=Z_(Ke,new URL(X.url),h);let We=nm(U.location,Ke,{_isRedirect:!0});if(n){let _n=!1;if(H.response.headers.has("X-Remix-Reload-Document"))_n=!0;else if(D2(Ke)){const Ht=W5(Ke,!0);_n=Ht.origin!==e.location.origin||Yi(Ht.pathname,h)==null}if(_n){Be?e.location.replace(Ke):e.location.assign(Ke);return}}ne=null;let rt=Be===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:nt,formAction:$e,formEncType:Et}=U.navigation;!ye&&!Se&&nt&&$e&&Et&&(ye=W_(U.navigation));let an=ye||Se;if(h7.has(H.response.status)&&an&&Ir(an.formMethod))await at(rt,We,{submission:{...an,formAction:Ke},preventScrollReset:Ye||$,enableViewTransition:V?pe:void 0});else{let _n=W1(We,ye);await at(rt,We,{overrideNavigation:_n,fetcherSubmission:Se,preventScrollReset:Ye||$,enableViewTransition:V?pe:void 0})}}async function Le(X,H,V,ye){let Se,Ye={};try{Se=await E7(g,X,H,ye,V,!1)}catch(Be){return H.filter(Ke=>Ke.shouldLoad).forEach(Ke=>{Ye[Ke.route.id]={type:"error",error:Be}}),Ye}if(X.signal.aborted)return Ye;for(let[Be,Ke]of Object.entries(Se))if(D7(Ke)){let We=Ke.result;Ye[Be]={type:"redirect",response:R7(We,X,Be,H,h)}}else Ye[Be]=await A7(Ke);return Ye}async function Pe(X,H,V,ye){let Se=Le(V,X,ye,null),Ye=Promise.all(H.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let nt=(await Le(We.request,We.matches,ye,We.key))[We.match.route.id];return{[We.key]:nt}}else return Promise.resolve({[We.key]:{type:"error",error:Hi(404,{pathname:We.path})}})})),Be=await Se,Ke=(await Ye).reduce((We,rt)=>Object.assign(We,rt),{});return{loaderResults:Be,fetcherResults:Ke}}function ke(){de=!0,te.forEach((X,H)=>{G.has(H)&&ue.add(H),wa(H)})}function Ze(X,H,V={}){U.fetchers.set(X,H),xe({fetchers:new Map(U.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Qe(X,H,V,ye={}){let Se=du(U.matches,H);La(X),xe({errors:{[Se.route.id]:V},fetchers:new Map(U.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function vt(X){return we.set(X,(we.get(X)||0)+1),Ce.has(X)&&Ce.delete(X),U.fetchers.get(X)||m7}function nn(X,H){wa(X,H?.reason),Ze(X,no(null))}function La(X){let H=U.fetchers.get(X);G.has(X)&&!(H&&H.state==="loading"&&ae.has(X))&&wa(X),te.delete(X),ae.delete(X),B.delete(X),Ce.delete(X),ue.delete(X),U.fetchers.delete(X)}function Ua(X){let H=(we.get(X)||0)-1;H<=0?(we.delete(X),Ce.add(X)):we.set(X,H),xe({fetchers:new Map(U.fetchers)})}function wa(X,H){let V=G.get(X);V&&(V.abort(H),G.delete(X))}function Qa(X){for(let H of X){let V=vt(H),ye=no(V.data);U.fetchers.set(H,ye)}}function Wa(){let X=[],H=!1;for(let V of B){let ye=U.fetchers.get(V);It(ye,`Expected fetcher: ${V}`),ye.state==="loading"&&(B.delete(V),X.push(V),H=!0)}return Qa(X),H}function aa(X){let H=[];for(let[V,ye]of ae)if(ye<X){let Se=U.fetchers.get(V);It(Se,`Expected fetcher: ${V}`),Se.state==="loading"&&(wa(V),ae.delete(V),H.push(V))}return Qa(H),H.length>0}function Kr(X,H){let V=U.blockers.get(X)||S0;return qe.get(X)!==H&&qe.set(X,H),V}function mr(X){U.blockers.delete(X),qe.delete(X)}function Rr(X,H){let V=U.blockers.get(X)||S0;It(V.state==="unblocked"&&H.state==="blocked"||V.state==="blocked"&&H.state==="blocked"||V.state==="blocked"&&H.state==="proceeding"||V.state==="blocked"&&H.state==="unblocked"||V.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${V.state} -> ${H.state}`);let ye=new Map(U.blockers);ye.set(X,H),xe({blockers:ye})}function hi({currentLocation:X,nextLocation:H,historyAction:V}){if(qe.size===0)return;qe.size>1&&ta(!1,"A router only supports one blocker at a time");let ye=Array.from(qe.entries()),[Se,Ye]=ye[ye.length-1],Be=U.blockers.get(Se);if(!(Be&&Be.state==="proceeding")&&Ye({currentLocation:X,nextLocation:H,historyAction:V}))return Se}function Or(X){let H=Hi(404,{pathname:X}),V=f||u,{matches:ye,route:Se}=cg(V);return{notFoundMatches:ye,route:Se,error:H}}function As(X,H,V){if(C=X,R=H,T=V||null,!O&&U.navigation===Q1){O=!0;let ye=mi(U.location,U.matches);ye!=null&&xe({restoreScrollPosition:ye})}return()=>{C=null,R=null,T=null}}function Pa(X,H){return T&&T(X,H.map(ye=>Y9(ye,U.loaderData)))||X.key}function xl(X,H){if(C&&R){let V=Pa(X,H);C[V]=R()}}function mi(X,H){if(C){let V=Pa(X,H),ye=C[V];if(typeof ye=="number")return ye}return null}function pi(X,H,V){if(t.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Ig(H,V,h,!0)}}else return{active:!0,matches:Ig(H,V,h,!0)||[]};return{active:!1,matches:null}}async function Fr(X,H,V,ye){if(!t.patchRoutesOnNavigation)return{type:"success",matches:X};let Se=X;for(;;){let Ye=f==null,Be=f||u,Ke=l;try{await t.patchRoutesOnNavigation({signal:V,path:H,matches:Se,fetcherKey:ye,patch:(nt,$e)=>{V.aborted||q_(nt,$e,Be,Ke,i,!1)}})}catch(nt){return{type:"error",error:nt,partialMatches:Se}}finally{Ye&&!V.aborted&&(u=[...u])}if(V.aborted)return{type:"aborted"};let We=cu(Be,H,h);if(We)return{type:"success",matches:We};let rt=Ig(Be,H,h,!0);if(!rt||Se.length===rt.length&&Se.every((nt,$e)=>nt.route.id===rt[$e].route.id))return{type:"success",matches:null};Se=rt}}function Xi(X){l={},f=am(X,i,void 0,l)}function gi(X,H,V=!1){let ye=f==null;q_(X,H,f||u,l,i,V),ye&&(u=[...u],xe({}))}return q={get basename(){return h},get future(){return v},get state(){return U},get routes(){return u},get window(){return e},initialize:it,subscribe:vn,enableScrollRestoration:As,navigate:ut,fetch:$a,revalidate:lt,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:vt,resetFetcher:nn,deleteFetcher:Ua,dispose:bt,getBlocker:Kr,deleteBlocker:mr,patchRoutes:gi,_internalFetchControllers:G,_internalSetRoutes:Xi,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){xe(X)}},q}function y7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function qy(t,e,n,a,i,l){let u,f;if(i){u=[];for(let g of e)if(u.push(g),g.route.id===i){f=g;break}}else u=e,f=e[e.length-1];let h=M2(a||".",j2(u),Yi(t.pathname,n)||t.pathname,l==="path");if(a==null&&(h.search=t.search,h.hash=t.hash),(a==null||a===""||a===".")&&f){let g=k2(h.search);if(f.route.index&&!g)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let v=new URLSearchParams(h.search),_=v.getAll("index");v.delete("index"),_.filter(C=>C).forEach(C=>v.append("index",C));let w=v.toString();h.search=w?`?${w}`:""}}return n!=="/"&&(h.pathname=a7({basename:n,pathname:h.pathname})),pu(h)}function H_(t,e,n){if(!n||!y7(n))return{path:e};if(n.formMethod&&!z7(n.formMethod))return{path:e,error:Hi(405,{method:n.formMethod})};let a=()=>({path:e,error:Hi(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=c3(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ir(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[C,T])=>`${w}${C}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Ir(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}It(typeof FormData=="function","FormData is not available in this environment");let f,h;if(n.formData)f=Iy(n.formData),h=n.formData;else if(n.body instanceof FormData)f=Iy(n.body),h=n.body;else if(n.body instanceof URLSearchParams)f=n.body,h=X_(f);else if(n.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(n.body),h=X_(f)}catch{return a()}let g={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Ir(g.formMethod))return{path:e,submission:g};let v=oo(e);return t&&v.search&&k2(v.search)&&f.append("index",""),v.search=`?${f}`,{path:pu(v),submission:g}}function G_(t,e,n,a,i,l,u,f,h,g,v,_,w,C,T,R,O,j,M,z){let k=z?li(z[1])?z[1].error:z[1].data:void 0,q=i.createURL(l.location),U=i.createURL(h),Y;if(v&&l.errors){let he=Object.keys(l.errors)[0];Y=u.findIndex(de=>de.route.id===he)}else if(z&&li(z[1])){let he=z[0];Y=u.findIndex(de=>de.route.id===he)-1}let $=z?z[1].statusCode:void 0,ne=$&&$>=400,pe={currentUrl:q,currentParams:l.matches[0]?.params||{},nextUrl:U,nextParams:u[0].params,...f,actionResult:k,actionStatus:$},Ee=u.map((he,de)=>{let{route:ue}=he,G=null;if(Y!=null&&de>Y?G=!1:ue.lazy?G=!0:z2(ue)?v?G=Vy(ue,l.loaderData,l.errors):b7(l.loaderData,l.matches[de],he)&&(G=!0):G=!1,G!==null)return Yy(n,a,t,he,g,e,G);let ee=ne?!1:_||q.pathname+q.search===U.pathname+U.search||q.search!==U.search||_7(l.matches[de],he),Q={...pe,defaultShouldRevalidate:ee},ae=sv(he,Q);return Yy(n,a,t,he,g,e,ae,Q)}),J=[];return T.forEach((he,de)=>{if(v||!u.some(we=>we.route.id===he.routeId)||C.has(de))return;let ue=l.fetchers.get(de),G=ue&&ue.state!=="idle"&&ue.data===void 0,ee=cu(O,he.path,j);if(!ee){if(M&&G)return;J.push({key:de,routeId:he.routeId,path:he.path,matches:null,match:null,request:null,controller:null});return}if(R.has(de))return;let Q=Zg(ee,he.path),ae=new AbortController,B=Tf(i,he.path,ae.signal),te=null;if(w.has(de))w.delete(de),te=Df(n,a,B,ee,Q,g,e);else if(G)_&&(te=Df(n,a,B,ee,Q,g,e));else{let we={...pe,defaultShouldRevalidate:ne?!1:_};sv(Q,we)&&(te=Df(n,a,B,ee,Q,g,e,we))}te&&J.push({key:de,routeId:he.routeId,path:he.path,matches:te,match:Q,request:B,controller:ae})}),{dsMatches:Ee,revalidatingFetchers:J}}function z2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Vy(t,e,n){if(t.lazy)return!0;if(!z2(t))return!1;let a=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!a&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!i}function b7(t,e,n){let a=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return a||i}function _7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function sv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function q_(t,e,n,a,i,l){let u;if(t){let g=a[t];It(g,`No route found to patch children into: routeId = ${t}`),g.children||(g.children=[]),u=g.children}else u=n;let f=[],h=[];if(e.forEach(g=>{let v=u.find(_=>i3(g,_));v?h.push({existingRoute:v,newRoute:g}):f.push(g)}),f.length>0){let g=am(f,i,[t||"_","patch",String(u?.length||"0")],a);u.push(...g)}if(l&&h.length>0)for(let g=0;g<h.length;g++){let{existingRoute:v,newRoute:_}=h[g],w=v,[C]=am([_],i,[],{},!0);Object.assign(w,{element:C.element?C.element:w.element,errorElement:C.errorElement?C.errorElement:w.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:w.hydrateFallbackElement})}}function i3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(i=>i3(n,i))):!1}var V_=new WeakMap,s3=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let i=n[e.id];if(It(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let u=V_.get(i);u||(u={},V_.set(i,u));let f=u[t];if(f)return f;let h=(async()=>{let g=H9(t),_=i[t]!==void 0&&t!=="hasErrorBoundary";if(g)ta(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)ta(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await l();w!=null&&(Object.assign(i,{[t]:w}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(w=>w===void 0)&&(i.lazy=void 0))})();return u[t]=h,h},Y_=new WeakMap;function x7(t,e,n,a,i){let l=n[t.id];if(It(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=Y_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{It(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),C={};for(let T in w){let R=w[T];if(R===void 0)continue;let O=q9(T),M=l[T]!==void 0&&T!=="hasErrorBoundary";O?ta(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?ta(!M,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=R}Object.assign(l,C),Object.assign(l,{...a(l),lazy:void 0})})();return Y_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],h;for(let v of u){if(i&&i.includes(v))continue;let _=s3({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(f.push(_),v===e&&(h=_))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:h}}async function I_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function w7(t){return t.matches.some(e=>e.route.middleware)?l3(t,()=>I_(t)):I_(t)}function l3(t,e){return S7(t,e,a=>a,j7,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=t,f=Math.min(Math.max(u.findIndex(g=>g.route.id===i),0),Math.max(u.findIndex(g=>g.unstable_shouldCallHandler()),0)),h=du(u,u[f].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:a}})}}}async function S7(t,e,n,a,i){let{matches:l,request:u,params:f,context:h}=t,g=l.flatMap(_=>_.route.middleware?_.route.middleware.map(w=>[_.route.id,w]):[]);return await o3({request:u,params:f,context:h},g,e,n,a,i)}async function o3(t,e,n,a,i,l,u=0){let{request:f}=t;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let h=e[u];if(!h)return await n();let[g,v]=h,_,w=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await o3(t,e,n,a,i,l,u+1)},_.value}catch(C){return _={value:await l(C,g,_)},_.value}};try{let C=await v(t,w),T=C!=null?a(C):void 0;return i(T)?T:_?T??_.value:(_={value:await w()},_.value)}catch(C){return await l(C,g,_)}}function u3(t,e,n,a,i){let l=s3({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),u=x7(a.route,Ir(n.method)?"action":"loader",e,t,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Yy(t,e,n,a,i,l,u,f=null){let h=!1,g=u3(t,e,n,a,i);return{...a,_lazyPromises:g,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return h=!0,f?typeof v=="boolean"?sv(a,{...f,defaultShouldRevalidate:v}):sv(a,f):u},resolve(v){let{lazy:_,loader:w,middleware:C}=a.route,T=h||u||v&&!Ir(n.method)&&(_||w),R=C&&C.length>0&&!w&&!_;return T&&!R?C7({request:n,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Df(t,e,n,a,i,l,u,f=null){return a.map(h=>h.route.id!==i.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:u3(t,e,n,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Yy(t,e,n,h,l,u,!0,f))}async function E7(t,e,n,a,i,l){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:i,matches:n},h=await t({...u,fetcherKey:a,runClientMiddleware:g=>{let v=u;return l3(v,()=>g({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return h}async function C7({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,f,h=Ir(t.method),g=h?"action":"loader",v=_=>{let w,C=new Promise((O,j)=>w=j);f=()=>w(),t.signal.addEventListener("abort",f);let T=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(j=>T(j)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,C])};try{let _=h?e.route.action:e.route.loader;if(n||a)if(_){let w,[C]=await Promise.all([v(_).catch(T=>{w=T}),n,a]);if(w!==void 0)throw w;u=C}else{await n;let w=h?e.route.action:e.route.loader;if(w)[u]=await Promise.all([v(w),a]);else if(g==="action"){let C=new URL(t.url),T=C.pathname+C.search;throw Hi(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await v(_);else{let w=new URL(t.url),C=w.pathname+w.search;throw Hi(404,{pathname:C})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function T7(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function A7(t){let{result:e,type:n}=t;if(d3(e)){let a;try{a=await T7(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new iv(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?Q_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new iv(e.init?.status||500,void 0,e.data),statusCode:rm(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:rm(e)?e.status:void 0}:Q_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function R7(t,e,n,a,i){let l=t.headers.get("Location");if(It(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!D2(l)){let u=a.slice(0,a.findIndex(f=>f.route.id===n)+1);l=qy(new URL(e.url),u,i,l),t.headers.set("Location",l)}return t}function Z_(t,e,n){if(D2(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=Yi(i.pathname,n)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return t}function Tf(t,e,n,a){let i=t.createURL(c3(e)).toString(),l={signal:n};if(a&&Ir(a.formMethod)){let{formMethod:u,formEncType:f}=a;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(a.json)):f==="text/plain"?l.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?l.body=Iy(a.formData):l.body=a.formData}return new Request(i,l)}function Iy(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function X_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function O7(t,e,n,a=!1,i=!1){let l={},u=null,f,h=!1,g={},v=n&&li(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let w=_.route.id,C=e[w];if(It(!Nc(C),"Cannot handle redirect results in processLoaderData"),li(C)){let T=C.error;if(v!==void 0&&(T=v,v=void 0),u=u||{},i)u[w]=T;else{let R=du(t,w);u[R.route.id]==null&&(u[R.route.id]=T)}a||(l[w]=r3),h||(h=!0,f=rm(C.error)?C.error.status:500),C.headers&&(g[w]=C.headers)}else l[w]=C.data,C.statusCode&&C.statusCode!==200&&!h&&(f=C.statusCode),C.headers&&(g[w]=C.headers)}),v!==void 0&&n&&(u={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:g}}function K_(t,e,n,a,i,l){let{loaderData:u,errors:f}=O7(e,n,a);return i.filter(h=>!h.matches||h.matches.some(g=>g.shouldLoad)).forEach(h=>{let{key:g,match:v,controller:_}=h;if(_&&_.signal.aborted)return;let w=l[g];if(It(w,"Did not find corresponding fetcher result"),li(w)){let C=du(t.matches,v?.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:w.error}),t.fetchers.delete(g)}else if(Nc(w))It(!1,"Unhandled fetcher revalidation redirect");else{let C=no(w.data);t.fetchers.set(g,C)}}),{loaderData:u,errors:f}}function F_(t,e,n,a){let i=Object.entries(e).filter(([,l])=>l!==r3).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(i[u]=t[u]),a&&a.hasOwnProperty(u))break}return i}function $_(t){return t?li(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function du(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function cg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hi(t,{pathname:e,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&e&&n?f=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",a&&e&&n?f=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new iv(t||500,u,new Error(f),!0)}function dg(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,i]=e[n];if(Nc(i))return{key:a,result:i}}}function c3(t){let e=typeof t=="string"?oo(t):t;return pu({...e,hash:""})}function N7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function j7(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&M7(n))}function M7(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function D7(t){return d3(t.result)&&f7.has(t.result.status)}function li(t){return t.type==="error"}function Nc(t){return(t&&t.type)==="redirect"}function Q_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function d3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function z7(t){return d7.has(t.toUpperCase())}function Ir(t){return u7.has(t.toUpperCase())}function k2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Zg(t,e){let n=typeof e=="string"?oo(e).search:e.search;if(t[t.length-1].route.index&&k2(n||""))return t[t.length-1];let a=t3(t);return a[a.length-1]}function W_(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:l,json:u}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function W1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function k7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function E0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function L7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function no(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function U7(t,e){try{let n=t.sessionStorage.getItem(a3);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function P7(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(a3,JSON.stringify(n))}catch(a){ta(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function B7(){let t,e,n=new Promise((a,i)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Pc=N.createContext(null);Pc.displayName="DataRouter";var ym=N.createContext(null);ym.displayName="DataRouterState";N.createContext(!1);var L2=N.createContext({isTransitioning:!1});L2.displayName="ViewTransition";var f3=N.createContext(new Map);f3.displayName="Fetchers";var H7=N.createContext(null);H7.displayName="Await";var vl=N.createContext(null);vl.displayName="Navigation";var Mv=N.createContext(null);Mv.displayName="Location";var uo=N.createContext({outlet:null,matches:[],isDataRoute:!1});uo.displayName="Route";var U2=N.createContext(null);U2.displayName="RouteError";function G7(t,{relative:e}={}){It(bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(vl),{hash:i,pathname:l,search:u}=xm(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:ml([n,l])),a.createHref({pathname:f,search:u,hash:i})}function bm(){return N.useContext(Mv)!=null}function Bc(){return It(bm(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Mv).location}var h3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m3(t){N.useContext(vl).static||N.useLayoutEffect(t)}function _m(){let{isDataRoute:t}=N.useContext(uo);return t?eC():q7()}function q7(){It(bm(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Pc),{basename:e,navigator:n}=N.useContext(vl),{matches:a}=N.useContext(uo),{pathname:i}=Bc(),l=JSON.stringify(j2(a)),u=N.useRef(!1);return m3(()=>{u.current=!0}),N.useCallback((h,g={})=>{if(ta(u.current,h3),!u.current)return;if(typeof h=="number"){n.go(h);return}let v=M2(h,JSON.parse(l),i,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ml([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,i,t])}N.createContext(null);function xm(t,{relative:e}={}){let{matches:n}=N.useContext(uo),{pathname:a}=Bc(),i=JSON.stringify(j2(n));return N.useMemo(()=>M2(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function V7(t,e,n,a,i){It(bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(vl),{matches:u}=N.useContext(uo),f=u[u.length-1],h=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let M=_&&_.path||"";p3(g,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=Bc(),C;C=w;let T=C.pathname||"/",R=T;if(v!=="/"){let M=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let O=cu(t,{pathname:R});return ta(_||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ta(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),K7(O&&O.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:ml([v,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:ml([v,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,n,a,i)}function Y7(){let t=J7(),e=rm(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,u)}var I7=N.createElement(Y7,null),Z7=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(uo.Provider,{value:this.props.routeContext},N.createElement(U2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X7({routeContext:t,match:e,children:n}){let a=N.useContext(Pc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(uo.Provider,{value:t},n)}function K7(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);It(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,h=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:_,errors:w}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||C){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let w,C=!1,T=null,R=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||I7,f&&(h<0&&_===0?(p3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):h===_&&(C=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),j=()=>{let M;return w?M=T:C?M=R:v.route.Component?M=N.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=g,N.createElement(X7,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:M})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(Z7,{location:n.location,revalidation:n.revalidation,component:T,error:w,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):j()},null)}function P2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F7(t){let e=N.useContext(Pc);return It(e,P2(t)),e}function $7(t){let e=N.useContext(ym);return It(e,P2(t)),e}function Q7(t){let e=N.useContext(uo);return It(e,P2(t)),e}function B2(t){let e=Q7(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function W7(){return B2("useRouteId")}function J7(){let t=N.useContext(U2),e=$7("useRouteError"),n=B2("useRouteError");return t!==void 0?t:e.errors?.[n]}function eC(){let{router:t}=F7("useNavigate"),e=B2("useNavigate"),n=N.useRef(!1);return m3(()=>{n.current=!0}),N.useCallback(async(i,l={})=>{ta(n.current,h3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var J_={};function p3(t,e,n){!e&&!J_[t]&&(J_[t]=!0,ta(!1,n))}var ex={};function tx(t,e){!t&&!ex[e]&&(ex[e]=!0,console.warn(e))}function tC(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ta(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ta(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ta(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var nC=["HydrateFallback","hydrateFallbackElement"],aC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function rC({router:t,flushSync:e,unstable_onError:n}){let[a,i]=N.useState(t.state),[l,u]=N.useState(),[f,h]=N.useState({isTransitioning:!1}),[g,v]=N.useState(),[_,w]=N.useState(),[C,T]=N.useState(),R=N.useRef(new Map),O=N.useCallback(q=>{i(U=>(q.errors&&n&&Object.entries(q.errors).forEach(([Y,$])=>{U.errors?.[Y]!==$&&n($)}),q))},[n]),j=N.useCallback((q,{deletedFetchers:U,flushSync:Y,viewTransitionOpts:$})=>{q.fetchers.forEach((pe,Ee)=>{pe.data!==void 0&&R.current.set(Ee,pe.data)}),U.forEach(pe=>R.current.delete(pe)),tx(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ne=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(tx($==null||ne,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!ne){e&&Y?e(()=>O(q)):N.startTransition(()=>O(q));return}if(e&&Y){e(()=>{_&&(g&&g.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let pe=t.window.document.startViewTransition(()=>{e(()=>O(q))});pe.finished.finally(()=>{e(()=>{v(void 0),w(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>w(pe));return}_?(g&&g.resolve(),_.skipTransition(),T({state:q,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(u(q),h({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,e,_,g,O]);N.useLayoutEffect(()=>t.subscribe(j),[t,j]),N.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new aC)},[f]),N.useEffect(()=>{if(g&&l&&t.window){let q=l,U=g.promise,Y=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(q)),await U});Y.finished.finally(()=>{v(void 0),w(void 0),u(void 0),h({isTransitioning:!1})}),w(Y)}},[l,g,t.window,O]),N.useEffect(()=>{g&&l&&a.location.key===l.location.key&&g.resolve()},[g,_,a.location,l]),N.useEffect(()=>{!f.isTransitioning&&C&&(u(C.state),h({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),T(void 0))},[f.isTransitioning,C]);let M=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:q=>t.navigate(q),push:(q,U,Y)=>t.navigate(q,{state:U,preventScrollReset:Y?.preventScrollReset}),replace:(q,U,Y)=>t.navigate(q,{replace:!0,state:U,preventScrollReset:Y?.preventScrollReset})}),[t]),z=t.basename||"/",k=N.useMemo(()=>({router:t,navigator:M,static:!1,basename:z,unstable_onError:n}),[t,M,z,n]);return N.createElement(N.Fragment,null,N.createElement(Pc.Provider,{value:k},N.createElement(ym.Provider,{value:a},N.createElement(f3.Provider,{value:R.current},N.createElement(L2.Provider,{value:f},N.createElement(lC,{basename:z,location:a.location,navigationType:a.historyAction,navigator:M},N.createElement(iC,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var iC=N.memo(sC);function sC({routes:t,future:e,state:n,unstable_onError:a}){return V7(t,void 0,n,a,e)}function lC({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){It(!bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=oo(n));let{pathname:h="/",search:g="",hash:v="",state:_=null,key:w="default"}=n,C=N.useMemo(()=>{let T=Yi(h,u);return T==null?null:{location:{pathname:T,search:g,hash:v,state:_,key:w},navigationType:a}},[u,h,g,v,_,w,a]);return ta(C!=null,`<Router basename="${u}"> is not able to match the URL "${h}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(vl.Provider,{value:f},N.createElement(Mv.Provider,{children:e,value:C}))}var Xg="get",Kg="application/x-www-form-urlencoded";function Dv(t){return t!=null&&typeof t.tagName=="string"}function oC(t){return Dv(t)&&t.tagName.toLowerCase()==="button"}function uC(t){return Dv(t)&&t.tagName.toLowerCase()==="form"}function cC(t){return Dv(t)&&t.tagName.toLowerCase()==="input"}function dC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fC(t,e){return t.button===0&&(!e||e==="_self")&&!dC(t)}var fg=null;function hC(){if(fg===null)try{new FormData(document.createElement("form"),0),fg=!1}catch{fg=!0}return fg}var mC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function J1(t){return t!=null&&!mC.has(t)?(ta(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kg}"`),null):t}function pC(t,e){let n,a,i,l,u;if(uC(t)){let f=t.getAttribute("action");a=f?Yi(f,e):null,n=t.getAttribute("method")||Xg,i=J1(t.getAttribute("enctype"))||Kg,l=new FormData(t)}else if(oC(t)||cC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(a=h?Yi(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Xg,i=J1(t.getAttribute("formenctype"))||J1(f.getAttribute("enctype"))||Kg,l=new FormData(f,t),!hC()){let{name:g,type:v,value:_}=t;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,_)}}else{if(Dv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xg,a=null,i=Kg,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function H2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gC(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Yi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function vC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bC(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await vC(l,n);return u.links?u.links():[]}return[]}));return SC(a.flat(1).filter(yC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nx(t,e,n,a,i,l){let u=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,f=(h,g)=>n[g].pathname!==h.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,g)=>u(h,g)||f(h,g)):l==="data"?e.filter((h,g)=>{let v=a.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,g)||f(h,g))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function _C(t,e,{includeHydrateFallback:n}={}){return xC(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function xC(t){return[...new Set(t)]}function wC(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function SC(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(wC(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function g3(){let t=N.useContext(Pc);return H2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function EC(){let t=N.useContext(ym);return H2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var G2=N.createContext(void 0);G2.displayName="FrameworkContext";function v3(){let t=N.useContext(G2);return H2(t,"You must render this element inside a <HydratedRouter> element"),t}function CC(t,e){let n=N.useContext(G2),[a,i]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=j=>{j.forEach(M=>{u(M.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let C=()=>{i(!0)},T=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:C0(f,C),onBlur:C0(h,T),onMouseEnter:C0(g,C),onMouseLeave:C0(v,T),onTouchStart:C0(_,C)}]:[!1,w,{}]}function C0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function TC({page:t,...e}){let{router:n}=g3(),a=N.useMemo(()=>cu(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(RC,{page:t,matches:a,...e}):null}function AC(t){let{manifest:e,routeModules:n}=v3(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return bC(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function RC({page:t,matches:e,...n}){let a=Bc(),{manifest:i,routeModules:l}=v3(),{basename:u}=g3(),{loaderData:f,matches:h}=EC(),g=N.useMemo(()=>nx(t,e,h,i,a,"data"),[t,e,h,i,a]),v=N.useMemo(()=>nx(t,e,h,i,a,"assets"),[t,e,h,i,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(e.forEach(j=>{let M=i.routes[j.route.id];!M||!M.hasLoader||(!g.some(z=>z.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||M.hasClientLoader?R=!0:T.add(j.route.id))}),T.size===0)return[];let O=gC(t,u,"data");return R&&T.size>0&&O.searchParams.set("_routes",e.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[u,f,a,i,g,e,t,l]),w=N.useMemo(()=>_C(v,i),[v,i]),C=AC(v);return N.createElement(N.Fragment,null,_.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),w.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),C.map(({key:T,link:R})=>N.createElement("link",{key:T,nonce:n.nonce,...R})))}function OC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var y3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y3&&(window.__reactRouterVersion="7.9.4")}catch{}function NC(t,e){return v7({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:L9({window:e?.window}),hydrationData:jC(),routes:t,mapRouteProperties:tC,hydrationRouteProperties:nC,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function jC(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:MC(t.errors)}),t}function MC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new iv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var b3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_3=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:f,target:h,to:g,preventScrollReset:v,viewTransition:_,...w},C){let{basename:T}=N.useContext(vl),R=typeof g=="string"&&b3.test(g),O,j=!1;if(typeof g=="string"&&R&&(O=g,y3))try{let ne=new URL(window.location.href),pe=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),Ee=Yi(pe.pathname,T);pe.origin===ne.origin&&Ee!=null?g=Ee+pe.search+pe.hash:j=!0}catch{ta(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=G7(g,{relative:i}),[z,k,q]=CC(a,w),U=LC(g,{replace:u,state:f,target:h,preventScrollReset:v,relative:i,viewTransition:_});function Y(ne){e&&e(ne),ne.defaultPrevented||U(ne)}let $=N.createElement("a",{...w,...q,href:O||M,onClick:j||l?e:Y,ref:OC(C,k),target:h,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,$,N.createElement(TC,{page:M})):$});_3.displayName="Link";var DC=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:f,children:h,...g},v){let _=xm(u,{relative:g.relative}),w=Bc(),C=N.useContext(ym),{navigator:T,basename:R}=N.useContext(vl),O=C!=null&&GC(_)&&f===!0,j=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,M=w.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(M=M.toLowerCase(),z=z?z.toLowerCase():null,j=j.toLowerCase()),z&&R&&(z=Yi(z,R)||z);const k=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let q=M===j||!i&&M.startsWith(j)&&M.charAt(k)==="/",U=z!=null&&(z===j||!i&&z.startsWith(j)&&z.charAt(j.length)==="/"),Y={isActive:q,isPending:U,isTransitioning:O},$=q?e:void 0,ne;typeof a=="function"?ne=a(Y):ne=[a,q?"active":null,U?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let pe=typeof l=="function"?l(Y):l;return N.createElement(_3,{...g,"aria-current":$,className:ne,ref:v,style:pe,to:u,viewTransition:f},typeof h=="function"?h(Y):h)});DC.displayName="NavLink";var zC=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Xg,action:f,onSubmit:h,relative:g,preventScrollReset:v,viewTransition:_,...w},C)=>{let T=BC(),R=HC(f,{relative:g}),O=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&b3.test(f),M=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let k=z.nativeEvent.submitter,q=k?.getAttribute("formmethod")||u;T(k||z.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:i,state:l,relative:g,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:C,method:O,action:R,onSubmit:a?h:M,...w,"data-discover":!j&&t==="render"?"true":void 0})});zC.displayName="Form";function kC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x3(t){let e=N.useContext(Pc);return It(e,kC(t)),e}function LC(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=_m(),h=Bc(),g=xm(t,{relative:l});return N.useCallback(v=>{if(fC(v,e)){v.preventDefault();let _=n!==void 0?n:pu(h)===pu(g);f(t,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[h,f,g,n,a,e,t,i,l,u])}var UC=0,PC=()=>`__${String(++UC)}__`;function BC(){let{router:t}=x3("useSubmit"),{basename:e}=N.useContext(vl),n=W7();return N.useCallback(async(a,i={})=>{let{action:l,method:u,encType:f,formData:h,body:g}=pC(a,e);if(i.navigate===!1){let v=i.fetcherKey||PC();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:g,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:g,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function HC(t,{relative:e}={}){let{basename:n}=N.useContext(vl),a=N.useContext(uo);It(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...xm(t||".",{relative:e})},u=Bc();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ml([n,l.pathname])),pu(l)}function GC(t,{relative:e}={}){let n=N.useContext(L2);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=x3("useViewTransitionState"),i=xm(t,{relative:e});if(!n.isTransitioning)return!1;let l=Yi(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Yi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return rv(i.pathname,u)!=null||rv(i.pathname,l)!=null}var wm=L5();const qC=gm(wm);function VC(t){return N.createElement(rC,{flushSync:wm.flushSync,...t})}const YC="modulepreload",IC=function(t){return"/rect-up/"+t},ax={},Sm=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let g=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=g;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");i=g(n.map(v=>{if(v=IC(v),v in ax)return;ax[v]=!0;const _=v.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":YC,_||(C.as="script"),C.crossOrigin="",C.href=v,h&&C.setAttribute("nonce",h),document.head.appendChild(C),_)return new Promise((T,R)=>{C.addEventListener("load",T),C.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return i.then(f=>{for(const h of f||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},ZC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sm(async()=>{const{default:a}=await Promise.resolve().then(()=>Kf);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class q2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class rx extends q2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ix extends q2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sx extends q2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zy||(Zy={}));var XC=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};class KC{constructor(e,{headers:n={},customFetch:a,region:i=Zy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=ZC(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return XC(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:l,method:u,body:f,signal:h}=a;let g={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let w;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(g["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(g["Content-Type"]="application/json",w=JSON.stringify(f)));const C=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:h}).catch(j=>{throw j.name==="AbortError"?j:new rx(j)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new ix(C);if(!C.ok)throw new sx(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new rx(l)}:{data:null,error:l,response:l instanceof sx||l instanceof ix?l.context:void 0}}})}}var za={},rf={},sf={},lf={},of={},uf={},FC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gf=FC();const $C=Gf.fetch,w3=Gf.fetch.bind(Gf),S3=Gf.Headers,QC=Gf.Request,WC=Gf.Response,Kf=Object.freeze(Object.defineProperty({__proto__:null,Headers:S3,Request:QC,Response:WC,default:w3,fetch:$C},Symbol.toStringTag,{value:"Module"})),JC=pE(Kf);var hg={},lx;function E3(){if(lx)return hg;lx=1,Object.defineProperty(hg,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return hg.default=t,hg}var ox;function C3(){if(ox)return uf;ox=1;var t=uf&&uf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(uf,"__esModule",{value:!0});const e=t(JC),n=t(E3());class a{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,_,w,C;let T=null,R=null,O=null,j=g.status,M=g.statusText;if(g.ok){if(this.method!=="HEAD"){const U=await g.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=U:R=JSON.parse(U))}const k=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),q=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&q&&q.length>1&&(O=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,j=406,M="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const k=await g.text();try{T=JSON.parse(k),Array.isArray(T)&&g.status===404&&(R=[],T=null,j=200,M="OK")}catch{g.status===404&&k===""?(j=204,M="No Content"):T={message:k}}if(T&&this.isMaybeSingle&&(!((C=T?.details)===null||C===void 0)&&C.includes("0 rows"))&&(T=null,j=200,M="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:R,count:O,status:j,statusText:M}});return this.shouldThrowOnError||(h=h.catch(g=>{var v,_,w;return{error:{message:`${(v=g?.name)!==null&&v!==void 0?v:"FetchError"}: ${g?.message}`,details:`${(_=g?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return uf.default=a,uf}var ux;function T3(){if(ux)return of;ux=1;var t=of&&of.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(of,"__esModule",{value:!0});const e=t(C3());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const g=h?`${h}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(g,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:g="text"}={}){var v;const _=[i?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${_};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return of.default=n,of}var cx;function V2(){if(cx)return lf;cx=1;var t=lf&&lf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lf,"__esModule",{value:!0});const e=t(T3());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${h}fts${g}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return lf.default=n,lf}var dx;function A3(){if(dx)return sf;dx=1;var t=sf&&sf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sf,"__esModule",{value:!0});const e=t(V2());class n{constructor(i,{headers:l={},schema:u,fetch:f}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(i,l){const{head:u=!1,count:f}=l??{},h=u?"HEAD":"GET";let g=!1;const v=(i??"*").split("").map(_=>/\s/.test(_)&&!g?"":(_==='"'&&(g=!g),_)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const _=i.reduce((w,C)=>w.concat(Object.keys(C)),[]);if(_.length>0){const w=[...new Set(_)].map(C=>`"${C}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(i,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return sf.default=n,sf}var fx;function eT(){if(fx)return rf;fx=1;var t=rf&&rf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(rf,"__esModule",{value:!0});const e=t(A3()),n=t(V2());class a{constructor(l,{headers:u={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:h=!1,count:g}={}){var v;let _;const w=new URL(`${this.url}/rpc/${l}`);let C;f||h?(_=f?"HEAD":"GET",Object.entries(u).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{w.searchParams.append(R,O)})):(_="POST",C=u);const T=new Headers(this.headers);return g&&T.set("Prefer",`count=${g}`),new n.default({method:_,url:w,headers:T,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return rf.default=a,rf}var hx;function tT(){if(hx)return za;hx=1;var t=za&&za.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(za,"__esModule",{value:!0}),za.PostgrestError=za.PostgrestBuilder=za.PostgrestTransformBuilder=za.PostgrestFilterBuilder=za.PostgrestQueryBuilder=za.PostgrestClient=void 0;const e=t(eT());za.PostgrestClient=e.default;const n=t(A3());za.PostgrestQueryBuilder=n.default;const a=t(V2());za.PostgrestFilterBuilder=a.default;const i=t(T3());za.PostgrestTransformBuilder=i.default;const l=t(C3());za.PostgrestBuilder=l.default;const u=t(E3());return za.PostgrestError=u.default,za.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},za}var nT=tT();const aT=gm(nT),{PostgrestClient:rT,PostgrestQueryBuilder:bV,PostgrestFilterBuilder:_V,PostgrestTransformBuilder:xV,PostgrestBuilder:wV,PostgrestError:SV}=aT;class iT{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sT="2.75.0",lT=`realtime-js/${sT}`,oT="1.0.0",Xy=1e4,uT=1e3,cT=100;var Z0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Z0||(Z0={}));var ya;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ya||(ya={}));var bs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bs||(bs={}));var Ky;(function(t){t.websocket="websocket"})(Ky||(Ky={}));var Rc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Rc||(Rc={}));class dT{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const f=a.decode(e.slice(u,u+i));u=u+i;const h=a.decode(e.slice(u,u+l));u=u+l;const g=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:h,payload:g}}}class R3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Dn||(Dn={}));const mx=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=fT(u,t,e,i),l),{}):{}},fT=(t,e,n,a)=>{const i=e.find(f=>f.name===t),l=i?.type,u=n[t];return l&&!a.includes(l)?O3(l,u):Fy(u)},O3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return gT(e,n)}switch(t){case Dn.bool:return hT(e);case Dn.float4:case Dn.float8:case Dn.int2:case Dn.int4:case Dn.int8:case Dn.numeric:case Dn.oid:return mT(e);case Dn.json:case Dn.jsonb:return pT(e);case Dn.timestamp:return vT(e);case Dn.abstime:case Dn.date:case Dn.daterange:case Dn.int4range:case Dn.int8range:case Dn.money:case Dn.reltime:case Dn.text:case Dn.time:case Dn.timestamptz:case Dn.timetz:case Dn.tsrange:case Dn.tstzrange:return Fy(e);default:return Fy(e)}},Fy=t=>t,hT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gT=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>O3(e,f))}return t},vT=t=>typeof t=="string"?t.replace(" ","T"):t,N3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ey{constructor(e,n,a={},i=Xy){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var px;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(px||(px={}));class X0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=X0.syncState(this.state,i,l,u),this.pendingDiffs.forEach(h=>{this.state=X0.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=X0.syncDiff(this.state,i,l,u),f())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const l=this.cloneDeep(e),u=this.transformState(n),f={},h={};return this.map(l,(g,v)=>{u[g]||(h[g]=v)}),this.map(u,(g,v)=>{const _=l[g];if(_){const w=v.map(O=>O.presence_ref),C=_.map(O=>O.presence_ref),T=v.filter(O=>C.indexOf(O.presence_ref)<0),R=_.filter(O=>w.indexOf(O.presence_ref)<0);T.length>0&&(f[g]=T),R.length>0&&(h[g]=R)}else f[g]=v}),this.syncDiff(l,{joins:f,leaves:h},a,i)}static syncDiff(e,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(f,h)=>{var g;const v=(g=e[f])!==null&&g!==void 0?g:[];if(e[f]=this.cloneDeep(h),v.length>0){const _=e[f].map(C=>C.presence_ref),w=v.filter(C=>_.indexOf(C.presence_ref)<0);e[f].unshift(...w)}a(f,v,h)}),this.map(u,(f,h)=>{let g=e[f];if(!g)return;const v=h.map(_=>_.presence_ref);g=g.filter(_=>v.indexOf(_.presence_ref)<0),e[f]=g,i(f,g,h),g.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gx||(gx={}));var K0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(K0||(K0={}));var ro;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ro||(ro={}));class Y2{constructor(e,n={config:{}},a){var i,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=ya.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ey(this,bs.join,this.params,this.timeout),this.rejoinTimer=new R3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ya.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ya.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ya.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ya.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ya.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bs.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new X0(this),this.broadcastEndpointURL=N3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ya.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,g=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[K0.PRESENCE]&&this.bindings[K0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},w={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:h};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(ro.CHANNEL_ERROR,C)),this._onClose(()=>e?.(ro.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var T;if(this.socket.setAuth(),C===void 0){e?.(ro.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,j=[];for(let M=0;M<O;M++){const z=R[M],{filter:{event:k,schema:q,table:U,filter:Y}}=z,$=C&&C[M];if($&&$.event===k&&$.schema===q&&$.table===U&&$.filter===Y)j.push(Object.assign(Object.assign({},z),{id:$.id}));else{this.unsubscribe(),this.state=ya.errored,e?.(ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(ro.SUBSCRIBED);return}}).receive("error",C=>{this.state=ya.errored,e?.(ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===ya.joined&&e===K0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=g.body)===null||i===void 0?void 0:i.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const g=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ya.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new ey(this,bs.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ya.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ey(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,l;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:g,join:v}=bs;if(a&&[f,h,g,v].indexOf(u)>=0&&a!==this._joinRef())return;let w=this._onMessage(u,n,a);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var T,R,O;return((T=C.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=C.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(C=>C.callback(w,a)):(l=this.bindings[u])===null||l===void 0||l.filter(C=>{var T,R,O,j,M,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const k=C.id,q=(T=C.filter)===null||T===void 0?void 0:T.event;return k&&((R=n.ids)===null||R===void 0?void 0:R.includes(k))&&(q==="*"||q?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const k=(M=(j=C?.filter)===null||j===void 0?void 0:j.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return k==="*"||k===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:R,table:O,commit_timestamp:j,type:M,errors:z}=T;w=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:j,eventType:M,new:{},old:{},errors:z}),this._getPayloadRecords(T))}C.callback(w,a)})}_isClosed(){return this.state===ya.closed}_isJoined(){return this.state===ya.joined}_isJoining(){return this.state===ya.joining}_isLeaving(){return this.state===ya.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Y2.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bs.close,{},e)}_onError(e){this._on(bs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ya.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=mx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=mx(e.columns,e.old_record)),n}}const ty=()=>{},mg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yT=[1e3,2e3,5e3,1e4],bT=1e4,_T=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xT{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xy,this.transport=null,this.heartbeatIntervalMs=mg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ty,this.ref=0,this.reconnectTimer=null,this.logger=ty,this.conn=null,this.sendBuffer=[],this.serializer=new dT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...u)=>Sm(async()=>{const{default:f}=await Promise.resolve().then(()=>Kf);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ky.websocket}`,this.httpEndpoint=N3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oT}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Z0.connecting:return Rc.Connecting;case Z0.open:return Rc.Open;case Z0.closing:return Rc.Closing;default:return Rc.Closed}}isConnected(){return this.connectionState()===Rc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new Y2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(uT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=n,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${a} ${i} ${f}`.trim(),l),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([_T],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:lT};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(bs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new R3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,l,u,f,h,g,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Xy,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:mg.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:ty,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(_=>yT[_-1]||bT),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((_,w)=>w(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class I2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ca(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wT extends I2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $y extends I2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ST=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};const j3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sm(async()=>{const{default:a}=await Promise.resolve().then(()=>Kf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},ET=()=>ST(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sm(()=>Promise.resolve().then(()=>Kf),void 0)).Response:Response}),Qy=t=>{if(Array.isArray(t))return t.map(n=>Qy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Qy(a)}),e},CT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Hc=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};const ny=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TT=(t,e,n)=>Hc(void 0,void 0,void 0,function*(){const a=yield ET();t instanceof a&&!n?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new wT(ny(i),l,u))}).catch(i=>{e(new $y(ny(i),i))}):e(new $y(ny(t),t))}),AT=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(CT(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Em(t,e,n,a,i,l){return Hc(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,AT(e,a,i,l)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>TT(h,f,a))})})}function lv(t,e,n,a){return Hc(this,void 0,void 0,function*(){return Em(t,"GET",e,n,a)})}function ul(t,e,n,a,i){return Hc(this,void 0,void 0,function*(){return Em(t,"POST",e,a,i,n)})}function Wy(t,e,n,a,i){return Hc(this,void 0,void 0,function*(){return Em(t,"PUT",e,a,i,n)})}function RT(t,e,n,a){return Hc(this,void 0,void 0,function*(){return Em(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function M3(t,e,n,a,i){return Hc(this,void 0,void 0,function*(){return Em(t,"DELETE",e,a,i,n)})}var OT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};class NT{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return OT(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ca(e))return{data:null,error:e};throw e}})}}var jT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};class MT{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new NT(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return jT(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ca(e))return{data:null,error:e};throw e}})}}var Gr=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};const DT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zT{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=j3(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return Gr(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},vx),i);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const g=this._removeEmptyFolders(n),v=this._getFinalPath(g),_=yield(e=="PUT"?Wy:ul)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ca(l))return{data:null,error:l};throw l}})}upload(e,n,a){return Gr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return Gr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let h;const g=Object.assign({upsert:vx.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",g.cacheControl)):(h=a,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const _=yield Wy(this.fetch,f.toString(),h,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ca(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Gr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const l=yield ul(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new I2("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ca(a))return{data:null,error:a};throw a}})}update(e,n,a){return Gr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Gr(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ca(i))return{data:null,error:i};throw i}})}copy(e,n,a){return Gr(this,void 0,void 0,function*(){try{return{data:{path:(yield ul(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ca(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return Gr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield ul(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ca(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return Gr(this,void 0,void 0,function*(){try{const i=yield ul(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ca(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),h=()=>lv(this.fetch,`${this.url}/${i}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new MT(h,this.shouldThrowOnError)}info(e){return Gr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield lv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ca(a))return{data:null,error:a};throw a}})}exists(e){return Gr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield RT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ca(a)&&a instanceof $y){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const f=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&i.push(h);let g=i.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${g}`)}}}remove(e){return Gr(this,void 0,void 0,function*(){try{return{data:yield M3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ca(n))return{data:null,error:n};throw n}})}list(e,n,a){return Gr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},DT),n),{prefix:e||""});return{data:yield ul(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ca(i))return{data:null,error:i};throw i}})}listV2(e,n){return Gr(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield ul(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ca(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const kT="2.75.0",LT={"X-Client-Info":`storage-js/${kT}`};var cf=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};class UT{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},LT),n),this.fetch=j3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return cf(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ca(e))return{data:null,error:e};throw e}})}getBucket(e){return cf(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ca(n))return{data:null,error:n};throw n}})}createBucket(e){return cf(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield ul(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ca(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return cf(this,void 0,void 0,function*(){try{return{data:yield Wy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ca(a))return{data:null,error:a};throw a}})}emptyBucket(e){return cf(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ca(n))return{data:null,error:n};throw n}})}deleteBucket(e){return cf(this,void 0,void 0,function*(){try{return{data:yield M3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ca(n))return{data:null,error:n};throw n}})}}class PT extends UT{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new zT(this.url,this.headers,e,this.fetch)}}const BT="2.75.0";let B0="";typeof Deno<"u"?B0="deno":typeof document<"u"?B0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?B0="react-native":B0="node";const HT={"X-Client-Info":`supabase-js-${B0}/${BT}`},GT={headers:HT},qT={schema:"public"},VT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YT={};var IT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};const ZT=t=>{let e;return t?e=t:typeof fetch>"u"?e=w3:e=fetch,(...n)=>e(...n)},XT=()=>typeof Headers>"u"?S3:Headers,KT=(t,e,n)=>{const a=ZT(n),i=XT();return(l,u)=>IT(void 0,void 0,void 0,function*(){var f;const h=(f=yield e())!==null&&f!==void 0?f:t;let g=new i(u?.headers);return g.has("apikey")||g.set("apikey",t),g.has("Authorization")||g.set("Authorization",`Bearer ${h}`),a(l,Object.assign(Object.assign({},u),{headers:g}))})};var FT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};function $T(t){return t.endsWith("/")?t:t+"/"}function QT(t,e){var n,a;const{db:i,auth:l,realtime:u,global:f}=t,{db:h,auth:g,realtime:v,global:_}=e,w={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),f),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>FT(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function WT(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($T(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D3="2.75.0",Af=30*1e3,Jy=3,ay=Jy*Af,JT="http://localhost:9999",eA="supabase.auth.token",tA={"X-Client-Info":`gotrue-js/${D3}`},e2="X-Supabase-Api-Version",z3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aA=600*1e3;class im extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ht(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rA extends im{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function iA(t){return ht(t)&&t.name==="AuthApiError"}class Oc extends im{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class bu extends im{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class su extends bu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sA(t){return ht(t)&&t.name==="AuthSessionMissingError"}class df extends bu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pg extends bu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gg extends bu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lA(t){return ht(t)&&t.name==="AuthImplicitGrantRedirectError"}class yx extends bu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t2 extends bu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ry(t){return ht(t)&&t.name==="AuthRetryableFetchError"}class bx extends bu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class n2 extends bu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ov="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_x=` 	
\r=`.split(""),oA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_x.length;e+=1)t[_x[e].charCodeAt(0)]=-2;for(let e=0;e<ov.length;e+=1)t[ov[e].charCodeAt(0)]=e;return t})();function xx(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(ov[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(ov[a]),e.queuedBits-=6}}function k3(t,e,n){const a=oA[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wx(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{dA(u,a,n)};for(let u=0;u<t.length;u+=1)k3(t.charCodeAt(u),i,l);return e.join("")}function uA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cA(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}uA(a,e)}}function dA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zf(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)k3(t.charCodeAt(i),n,a);return new Uint8Array(e)}function fA(t){const e=[];return cA(t,n=>e.push(n)),new Uint8Array(e)}function jc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>xx(i,n,a)),xx(null,n,a),e.join("")}function hA(t){return Math.round(Date.now()/1e3)+t}function mA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const si=()=>typeof window<"u"&&typeof document<"u",Sc={tested:!1,writable:!1},L3=()=>{if(!si())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sc.tested)return Sc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sc.tested=!0,Sc.writable=!0}catch{Sc.tested=!0,Sc.writable=!1}return Sc.writable};function pA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const U3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sm(async()=>{const{default:a}=await Promise.resolve().then(()=>Kf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},gA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ec=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ru=async(t,e)=>{await t.removeItem(e)};class zv{constructor(){this.promise=new zv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}zv.promiseConstructor=Promise;function iy(t){const e=t.split(".");if(e.length!==3)throw new n2("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!nA.test(e[a]))throw new n2("JWT not in base64url format");return{header:JSON.parse(wx(e[0])),payload:JSON.parse(wx(e[1])),signature:zf(e[2]),raw:{header:e[0],payload:e[1]}}}async function vA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yA(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function bA(t){return("0"+t.toString(16)).substr(-2)}function _A(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,bA).join("")}async function xA(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function wA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ff(t,e,n=!1){const a=_A();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await Rf(t,`${e}-code-verifier`,i);const l=await wA(a);return[l,a===l?"plain":"s256"]}const SA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EA(t){const e=t.headers.get(e2);if(!e||!e.match(SA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hf(t){if(!AA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sy(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sx(t){return JSON.parse(JSON.stringify(t))}var RA=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Ac=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OA=[502,503,504];async function Ex(t){var e;if(!gA(t))throw new t2(Ac(t),0);if(OA.includes(t.status))throw new t2(Ac(t),t.status);let n;try{n=await t.json()}catch(l){throw new Oc(Ac(l),l)}let a;const i=EA(t);if(i&&i.getTime()>=z3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new bx(Ac(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new su}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new bx(Ac(n),t.status,n.weak_password.reasons);throw new rA(Ac(n),t.status||500,a)}const NA=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function Tt(t,e,n,a){var i;const l=Object.assign({},a?.headers);l[e2]||(l[e2]=z3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await jA(t,e,n+f,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function jA(t,e,n,a,i,l){const u=NA(e,a,i,l);let f;try{f=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new t2(Ac(h),0)}if(f.ok||await Ex(f),a?.noResolveJson)return f;try{return await f.json()}catch(h){await Ex(h)}}function ys(t){var e;let n=null;zA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=hA(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function Cx(t){const e=ys(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MA(t){return{data:t,error:null}}function DA(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=t,u=RA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function Tx(t){return t}function zA(t){return t.access_token&&t.refresh_token&&t.expires_in}const ly=["global","local","others"];var kA=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class LA{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=U3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ly[0]){if(ly.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ly.join(", ")}`);try{return await Tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=kA(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DA,redirectTo:n?.redirectTo})}catch(n){if(ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Tt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fu})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,l,u,f,h;try{const g={nextPage:null,lastPage:0,total:0},v=await Tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Tx});if(v.error)throw v.error;const _=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);g[`${O}Page`]=R}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ht(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){hf(e);try{return await Tt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fu})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hf(e);try{return await Tt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){hf(e);try{return await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){hf(e.userId);try{const{data:n,error:a}=await Tt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hf(e.userId),hf(e.id);try{return{data:await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,l,u,f,h;try{const g={nextPage:null,lastPage:0,total:0},v=await Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Tx});if(v.error)throw v.error;const _=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);g[`${O}Page`]=R}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ht(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}}function Ax(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const mf={debug:!!(globalThis&&L3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UA extends P3{}async function PA(t,e,n){mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),mf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new UA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mf.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function BA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function B3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function HA(t){return parseInt(t,16)}function GA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function qA(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:g,scheme:v,uri:_,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const C=B3(t.address),T=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${C}

${R}`;let j=`URI: ${_}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),f&&(j+=`
Not Before: ${f.toISOString()}`),h&&(j+=`
Request ID: ${h}`),g){let M=`
Resources:`;for(const z of g){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);M+=`
- ${z}`}j+=M}return`${O}
${j}`}class ua extends Error{constructor({message:e,code:n,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class uv extends ua{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function VA({error:t,options:e}){var n,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ua({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ua({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ua({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ua({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ua({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ua({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ua({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ua({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(G3(u)){if(l.rp.id!==u)return new ua({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ua({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ua({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ua({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ua({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function YA({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ua({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ua({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(G3(a)){if(n.rpId!==a)return new ua({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ua({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ua({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ua({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var H3=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class IA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZA=new IA;function XA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=H3(t,["challenge","user","excludeCredentials"]),l=zf(e).buffer,u=Object.assign(Object.assign({},n),{id:zf(n.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const g=a[h];f.excludeCredentials[h]=Object.assign(Object.assign({},g),{id:zf(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function KA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=H3(t,["challenge","allowCredentials"]),i=zf(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:zf(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function FA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:jc(new Uint8Array(t.response.attestationObject)),clientDataJSON:jc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $A(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:jc(new Uint8Array(i.authenticatorData)),clientDataJSON:jc(new Uint8Array(i.clientDataJSON)),signature:jc(new Uint8Array(i.signature)),userHandle:i.userHandle?jc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function G3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rx(){var t,e;return!!(si()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new uv("Browser returned unexpected credential type",e)}:{data:null,error:new uv("Empty credential response",e)}}catch(e){return{data:null,error:VA({error:e,options:t})}}}async function WA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new uv("Browser returned unexpected credential type",e)}:{data:null,error:new uv("Empty credential response",e)}}catch(e){return{data:null,error:YA({error:e,options:t})}}}const JA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},eR={userVerification:"preferred",hints:["security-key"]};function cv(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const f=a[l];e(f)?a[l]=cv(f,u):a[l]=cv(u)}else a[l]=u}return a}function tR(t,e){return cv(JA,t,e||{})}function nR(t,e){return cv(eR,t,e||{})}class aR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const h=i??ZA.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${a}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=tR(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await QA({publicKey:g,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const g=nR(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await WA(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Oc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!n)return{data:null,error:new im("rpId is required for WebAuthn authentication")};try{if(!Rx())return{data:null,error:new Oc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:a,credential_response:h.credential_response}})}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Oc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!n)return{data:null,error:new im("rpId is required for WebAuthn registration")};try{if(!Rx())return{data:null,error:new Oc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:h,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:g}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Oc("Unexpected error in register",u)}}}}BA();const rR={url:JT,storageKey:eA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ox(t,e,n){return await n()}const pf={};class sm{get jwks(){var e,n;return(n=(e=pf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){pf[this.storageKey]=Object.assign(Object.assign({},pf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=pf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pf[this.storageKey]=Object.assign(Object.assign({},pf[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sm.nextInstanceID,sm.nextInstanceID+=1,this.instanceID>0&&si()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},rR),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new LA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=U3(i.fetch),this.lock=i.lock||Ox,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:si()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=PA:this.lock=Ox,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aR(this)},this.persistSession?(i.storage?this.storage=i.storage:L3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ax(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ax(this.memoryStorage)),si()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${D3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=pA(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),si()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),lA(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ht(n)?{error:n}:{error:new Oc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const l=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ys}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,i;try{let l;if("email"in e){const{email:v,password:_,options:w}=e;let C=null,T=null;this.flowType==="pkce"&&([C,T]=await ff(this.storage,this.storageKey)),l=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:_,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:C,code_challenge_method:T},xform:ys})}else if("phone"in e){const{phone:v,password:_,options:w}=e;l=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=w?.data)!==null&&a!==void 0?a:{},channel:(i=w?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ys})}else throw new pg("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Cx})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Cx})}else throw new pg("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new df}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,l,u,f,h,g,v,_,w;let C,T;if("message"in e)C=e.message,T=e.signature;else{const{chain:R,wallet:O,statement:j,options:M}=e;let z;if(si())if(typeof O=="object")z=O;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")z=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const k=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href),q=await z.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=B3(q[0]);let Y=(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Y){const ne=await z.request({method:"eth_chainId"});Y=HA(ne)}const $={domain:k.host,address:U,statement:j,uri:k.href,version:"1",chainId:Y,nonce:(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=M?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(g=M?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=qA($),T=await z.request({method:"personal_sign",params:[GA(C),U]})}try{const{data:R,error:O}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ys});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new df}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ht(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,i,l,u,f,h,g,v,_,w,C;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:O,wallet:j,statement:M,options:z}=e;let k;if(si())if(typeof j=="object")k=j;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))k=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const q=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const U=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),M?{statement:M}:null));let Y;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")Y=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)Y=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)T=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),R=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${q.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(i=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const U=await k.signMessage(new TextEncoder().encode(T),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=U}}try{const{data:O,error:j}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:jc(R)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:ys});if(j)throw j;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new df}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:j})}catch(O){if(ht(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Ec(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:l,error:u}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ys});if(await ru(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new df}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(ht(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=e,f=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ys}),{data:h,error:g}=f;return g?{data:{user:null,session:null},error:g}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new df}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:g})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,l,u;try{if("email"in e){const{email:f,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ff(this.storage,this.storageKey));const{error:_}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:f,options:h}=e,{data:g,error:v}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:v}}throw new pg("You must provide either an email or phone number.")}catch(f){if(ht(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,a;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await Tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:ys});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,g=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await ff(this.storage,this.storageKey)),await Tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:MA})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new su;const{error:i}=await Tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await Tt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:f}=await Tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new pg("You must provide either an email or phone number and a type")}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<ay:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Ec(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=sy()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,g,v)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,g,v))})}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fu}):await this._useSession(async n=>{var a,i,l;const{data:u,error:f}=n;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new su}:await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:fu})})}catch(n){if(ht(n))return sA(n)&&(await this._removeSession(),await ru(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new su;const u=i.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await ff(this.storage,this.storageKey));const{data:g,error:v}=await Tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:fu});if(v)throw v;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new su;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=iy(e.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new su;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!si())throw new gg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yx("No code detected.");const{data:M,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:g}=e;if(!l||!f||!u||!g)throw new gg("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(f);let w=v+_;h&&(w=parseInt(h));const C=w-v;C*1e3<=Af&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${_}s`);const T=w-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const j={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:_,expires_at:w,refresh_token:u,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(a){if(ht(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ec(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{error:l};const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(iA(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await ru(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mA(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await ff(this.storage,this.storageKey,!0));try{return await Tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,f,h,g,v;const{data:_,error:w}=l;if(w)throw w;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Tt(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return si()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ht(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:f,token:h,access_token:g,nonce:v}=e,_=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:h,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ys}),{data:w,error:C}=_;return C?{data:{user:null,session:null},error:C}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new df}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:C})}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await Tt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await yA(async i=>(i>0&&await vA(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ys})),(i,l)=>{const u=200*Math.pow(2,i);return l&&ry(l)&&Date.now()+u-a<Af})}catch(a){if(this._debug(n,"error",a),ht(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),si()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Ec(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Ec(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await Rf(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:sy()}else if(i&&!i.user&&!i.user){const u=await Ec(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await ru(this.storage,this.storageKey+"-user"),await Rf(this.storage,this.storageKey,i)):i.user=sy()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ay;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${ay}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),ry(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(i.access_token);!f&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new su;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zv;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new su;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(i,"error",l),ht(l)){const u={data:null,error:l};return ry(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Rf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=Sx(i);await Rf(this.storage,this.storageKey,l)}else{const i=Sx(n);await Rf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ru(this.storage,this.storageKey),await ru(this.storage,this.storageKey+"-code-verifier"),await ru(this.storage,this.storageKey+"-user"),this.userStorage&&await ru(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&si()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Af);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Af);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Af}ms, refresh threshold is ${Jy} ticks`),i<=Jy&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof P3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!si()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await ff(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(f.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?{data:null,error:l}:await Tt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:g}=await Tt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?FA(e.webauthn.credential_response):$A(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await Tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:h})})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=await Tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:XA(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:KA(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=iy(i.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(f=>f.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+aA>i)return a;const{data:l,error:u}=await Tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:C,error:T}=await this.getSession();if(T||!C.session)return{data:null,error:T};a=C.session.access_token}const{header:i,payload:l,signature:u,raw:{header:f,payload:h}}=iy(a);n?.allowExpired||CA(l.exp);const g=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:l,header:i,signature:u},error:null}}const v=TA(i.alg),_=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,fA(`${f}.${h}`)))throw new n2("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}}sm.nextInstanceID=0;const iR=sm;class sR extends iR{constructor(e){super(e)}}var lR=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(a.next(v))}catch(_){u(_)}}function h(v){try{g(a.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):i(v.value).then(f,h)}g((a=a.apply(t,e||[])).next())})};class oR{constructor(e,n,a){var i,l,u;this.supabaseUrl=e,this.supabaseKey=n;const f=WT(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:qT,realtime:YT,auth:Object.assign(Object.assign({},VT),{storageKey:h}),global:GT},v=QT(a??{},g);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=KT(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new rT(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new PT(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new KC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return lR(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,storageKey:u,flowType:f,lock:h,debug:g},v,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sR({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,flowType:f,lock:h,debug:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new xT(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uR=(t,e,n)=>new oR(t,e,n);function cR(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dR="https://ptwlzqcuyndjswcwgndp.supabase.co",fR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",Jt=uR(dR,fR),dv="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var q3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nx=Oe.createContext&&Oe.createContext(q3),hR=["attr","size","title"];function mR(t,e){if(t==null)return{};var n=pR(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function pR(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fv.apply(this,arguments)}function jx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jx(Object(n),!0).forEach(function(a){gR(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function gR(t,e,n){return e=vR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vR(t){var e=yR(t,"string");return typeof e=="symbol"?e:e+""}function yR(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V3(t){return t&&t.map((e,n)=>Oe.createElement(e.tag,hv({key:n},e.attr),V3(e.child)))}function en(t){return e=>Oe.createElement(bR,fv({attr:hv({},t.attr)},e),V3(t.child))}function bR(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=mR(t,hR),f=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Oe.createElement("svg",fv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:h,style:hv(hv({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Oe.createElement("title",null,l),t.children)};return Nx!==void 0?Oe.createElement(Nx.Consumer,null,n=>e(n)):e(q3)}function _R(t){return en({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"},child:[]}]})(t)}function Y3(t){return en({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function xR(t){return en({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function T0(t){return en({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function wR(t){return en({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function SR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function ER(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function CR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function TR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function AR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function RR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function OR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},child:[]}]})(t)}function NR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(t)}function Mx(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function Dx(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function zx(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(t)}function jR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function MR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function kx(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function oy(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function I3(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function DR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function Lx(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function zR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(t)}function kR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function LR(t){return en({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function je(t,e,n){function a(f,h){var g;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(g=f._zod).traits??(g.traits=new Set),f._zod.traits.add(t),e(f,h);for(const v in u.prototype)v in f||Object.defineProperty(f,v,{value:u.prototype[v].bind(f)});f._zod.constr=u,f._zod.def=h}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:t});function u(f){var h;const g=n?.Parent?new l:this;a(g,f),(h=g._zod).deferred??(h.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>n?.Parent&&f instanceof n.Parent?!0:f?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class kf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Z3 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const X3={};function zc(t){return X3}function UR(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,i])=>e.indexOf(+a)===-1).map(([a,i])=>i)}function a2(t,e){return typeof e=="bigint"?e.toString():e}function Z2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function X2(t){return t==null}function K2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const Ux=Symbol("evaluating");function kn(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==Ux)return a===void 0&&(a=Ux,a=n()),a},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Gc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function Px(t){return JSON.stringify(t)}const K3="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function mv(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const PR=Z2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function lm(t){if(mv(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(mv(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function F3(t){return lm(t)?{...t}:Array.isArray(t)?[...t]:t}const BR=new Set(["string","number","symbol"]);function kv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _u(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function St(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function HR(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function GR(t,e){const n=t._zod.def,a=qc(t._zod.def,{get shape(){const i={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(i[l]=n.shape[l])}return Gc(this,"shape",i),i},checks:[]});return _u(t,a)}function qR(t,e){const n=t._zod.def,a=qc(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete i[l]}return Gc(this,"shape",i),i},checks:[]});return _u(t,a)}function VR(t,e){if(!lm(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=qc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Gc(this,"shape",l),l},checks:[]});return _u(t,i)}function YR(t,e){if(!lm(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Gc(this,"shape",a),a},checks:t._zod.def.checks};return _u(t,n)}function IR(t,e){const n=qc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Gc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return _u(t,n)}function ZR(t,e,n){const a=qc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)l[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return Gc(this,"shape",l),l},checks:[]});return _u(e,a)}function XR(t,e,n){const a=qc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new t({type:"nonoptional",innerType:i[u]});return Gc(this,"shape",l),l},checks:[]});return _u(e,a)}function jf(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function $3(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function vg(t){return typeof t=="string"?t:t?.message}function kc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const i=vg(t.inst?._zod.def?.error?.(t))??vg(e?.error?.(t))??vg(n.customError?.(t))??vg(n.localeError?.(t))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function F2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function om(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const Q3=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,a2,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},$2=je("$ZodError",Q3),Lv=je("$ZodError",Q3,{Parent:Error});function KR(t,e=n=>n.message){const n={},a=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):a.push(e(i));return{formErrors:a,fieldErrors:n}}function FR(t,e=n=>n.message){const n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,f=0;for(;f<l.path.length;){const h=l.path[f];f===l.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(e(l))):u[h]=u[h]||{_errors:[]},u=u[h],f++}}};return a(t),n}const Uv=t=>(e,n,a,i)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new kf;if(u.issues.length){const f=new(i?.Err??t)(u.issues.map(h=>kc(h,l,zc())));throw K3(f,i?.callee),f}return u.value},$R=Uv(Lv),Pv=t=>async(e,n,a,i)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(i?.Err??t)(u.issues.map(h=>kc(h,l,zc())));throw K3(f,i?.callee),f}return u.value},QR=Pv(Lv),Bv=t=>(e,n,a)=>{const i=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new kf;return l.issues.length?{success:!1,error:new(t??$2)(l.issues.map(u=>kc(u,i,zc())))}:{success:!0,data:l.value}},WR=Bv(Lv),Hv=t=>async(e,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>kc(u,i,zc())))}:{success:!0,data:l.value}},JR=Hv(Lv),eO=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Uv(t)(e,n,i)},tO=t=>(e,n,a)=>Uv(t)(e,n,a),nO=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Pv(t)(e,n,i)},aO=t=>async(e,n,a)=>Pv(t)(e,n,a),rO=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Bv(t)(e,n,i)},iO=t=>(e,n,a)=>Bv(t)(e,n,a),sO=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Hv(t)(e,n,i)},lO=t=>async(e,n,a)=>Hv(t)(e,n,a),oO=/^[cC][^\s-]{8,}$/,uO=/^[0-9a-z]+$/,cO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dO=/^[0-9a-vA-V]{20}$/,fO=/^[A-Za-z0-9]{27}$/,hO=/^[a-zA-Z0-9_-]{21}$/,mO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,pO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Bx=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,gO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function yO(){return new RegExp(vO,"u")}const bO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_O=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,wO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,W3=/^[A-Za-z0-9_-]*$/,EO=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,CO=/^\+(?:[0-9]){6,14}[0-9]$/,J3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",TO=new RegExp(`^${J3}$`);function ew(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function AO(t){return new RegExp(`^${ew(t)}$`)}function RO(t){const e=ew({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${J3}T(?:${a})$`)}const OO=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},NO=/^(?:true|false)$/i,jO=/^[^A-Z]*$/,MO=/^[^a-z]*$/,yl=je("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),DO=je("$ZodCheckMaxLength",(t,e)=>{var n;yl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!X2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const i=a.value;if(i.length<=e.maximum)return;const u=F2(i);a.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),zO=je("$ZodCheckMinLength",(t,e)=>{var n;yl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!X2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const i=a.value;if(i.length>=e.minimum)return;const u=F2(i);a.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),kO=je("$ZodCheckLengthEquals",(t,e)=>{var n;yl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!X2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=a=>{const i=a.value,l=i.length;if(l===e.length)return;const u=F2(i),f=l>e.length;a.issues.push({origin:u,...f?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),Gv=je("$ZodCheckStringFormat",(t,e)=>{var n,a;yl.init(t,e),t._zod.onattach.push(i=>{const l=i._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),LO=je("$ZodCheckRegex",(t,e)=>{Gv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),UO=je("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=jO),Gv.init(t,e)}),PO=je("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=MO),Gv.init(t,e)}),BO=je("$ZodCheckIncludes",(t,e)=>{yl.init(t,e);const n=kv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),HO=je("$ZodCheckStartsWith",(t,e)=>{yl.init(t,e);const n=new RegExp(`^${kv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),GO=je("$ZodCheckEndsWith",(t,e)=>{yl.init(t,e);const n=new RegExp(`.*${kv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),qO=je("$ZodCheckOverwrite",(t,e)=>{yl.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class VO{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),l=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,i.join(`
`))}}const YO={major:4,minor:1,patch:12},fa=je("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=YO;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const i of a)for(const l of i._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,f,h)=>{let g=jf(u),v;for(const _ of f){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(g)continue;const w=u.issues.length,C=_._zod.check(u);if(C instanceof Promise&&h?.async===!1)throw new kf;if(v||C instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await C,u.issues.length!==w&&(g||(g=jf(u,w)))});else{if(u.issues.length===w)continue;g||(g=jf(u,w))}}return v?v.then(()=>u):u},l=(u,f,h)=>{if(jf(u))return u.aborted=!0,u;const g=i(f,a,h);if(g instanceof Promise){if(h.async===!1)throw new kf;return g.then(v=>t._zod.parse(v,h))}return t._zod.parse(g,h)};t._zod.run=(u,f)=>{if(f.skipChecks)return t._zod.parse(u,f);if(f.direction==="backward"){const g=t._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return g instanceof Promise?g.then(v=>l(v,u,f)):l(g,u,f)}const h=t._zod.parse(u,f);if(h instanceof Promise){if(f.async===!1)throw new kf;return h.then(g=>i(g,a,f))}return i(h,a,f)}}t["~standard"]={validate:i=>{try{const l=WR(t,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return JR(t,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),Q2=je("$ZodString",(t,e)=>{fa.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??OO(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Gn=je("$ZodStringFormat",(t,e)=>{Gv.init(t,e),Q2.init(t,e)}),IO=je("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=pO),Gn.init(t,e)}),ZO=je("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Bx(a))}else e.pattern??(e.pattern=Bx());Gn.init(t,e)}),XO=je("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=gO),Gn.init(t,e)}),KO=je("$ZodURL",(t,e)=>{Gn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:EO.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),FO=je("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=yO()),Gn.init(t,e)}),$O=je("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=hO),Gn.init(t,e)}),QO=je("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=oO),Gn.init(t,e)}),WO=je("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=uO),Gn.init(t,e)}),JO=je("$ZodULID",(t,e)=>{e.pattern??(e.pattern=cO),Gn.init(t,e)}),eN=je("$ZodXID",(t,e)=>{e.pattern??(e.pattern=dO),Gn.init(t,e)}),tN=je("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=fO),Gn.init(t,e)}),nN=je("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=RO(e)),Gn.init(t,e)}),aN=je("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=TO),Gn.init(t,e)}),rN=je("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=AO(e)),Gn.init(t,e)}),iN=je("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=mO),Gn.init(t,e)}),sN=je("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=bO),Gn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),lN=je("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=_O),Gn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),oN=je("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=xO),Gn.init(t,e)}),uN=je("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=wO),Gn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,l]=a;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function tw(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const cN=je("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=SO),Gn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{tw(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function dN(t){if(!W3.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return tw(n)}const fN=je("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=W3),Gn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{dN(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),hN=je("$ZodE164",(t,e)=>{e.pattern??(e.pattern=CO),Gn.init(t,e)});function mN(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const pN=je("$ZodJWT",(t,e)=>{Gn.init(t,e),t._zod.check=n=>{mN(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),gN=je("$ZodBoolean",(t,e)=>{fa.init(t,e),t._zod.pattern=NO,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),vN=je("$ZodUnknown",(t,e)=>{fa.init(t,e),t._zod.parse=n=>n}),yN=je("$ZodNever",(t,e)=>{fa.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function Hx(t,e,n){t.issues.length&&e.issues.push(...$3(n,t.issues)),e.value[n]=t.value}const bN=je("$ZodArray",(t,e)=>{fa.init(t,e),t._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const f=i[u],h=e.element._zod.run({value:f,issues:[]},a);h instanceof Promise?l.push(h.then(g=>Hx(g,n,u))):Hx(h,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function pv(t,e,n,a){t.issues.length&&e.issues.push(...$3(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function nw(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=HR(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function aw(t,e,n,a,i,l){const u=[],f=i.keySet,h=i.catchall._zod,g=h.def.type;for(const v of Object.keys(e)){if(f.has(v))continue;if(g==="never"){u.push(v);continue}const _=h.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(w=>pv(w,n,v,e))):pv(_,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const _N=je("$ZodObject",(t,e)=>{if(fa.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const f=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...f};return Object.defineProperty(e,"shape",{value:h}),h}})}const a=Z2(()=>nw(e));kn(t._zod,"propValues",()=>{const f=e.shape,h={};for(const g in f){const v=f[g]._zod;if(v.values){h[g]??(h[g]=new Set);for(const _ of v.values)h[g].add(_)}}return h});const i=mv,l=e.catchall;let u;t._zod.parse=(f,h)=>{u??(u=a.value);const g=f.value;if(!i(g))return f.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),f;f.value={};const v=[],_=u.shape;for(const w of u.keys){const T=_[w]._zod.run({value:g[w],issues:[]},h);T instanceof Promise?v.push(T.then(R=>pv(R,f,w,g))):pv(T,f,w,g)}return l?aw(v,g,f,h,a.value,t):v.length?Promise.all(v).then(()=>f):f}}),xN=je("$ZodObjectJIT",(t,e)=>{_N.init(t,e);const n=t._zod.parse,a=Z2(()=>nw(e)),i=w=>{const C=new VO(["shape","payload","ctx"]),T=a.value,R=z=>{const k=Px(z);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};C.write("const input = payload.value;");const O=Object.create(null);let j=0;for(const z of T.keys)O[z]=`key_${j++}`;C.write("const newResult = {};");for(const z of T.keys){const k=O[z],q=Px(z);C.write(`const ${k} = ${R(z)};`),C.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${q}, ...iss.path] : [${q}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${k}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const M=C.compile();return(z,k)=>M(w,z,k)};let l;const u=mv,f=!X3.jitless,g=f&&PR.value,v=e.catchall;let _;t._zod.parse=(w,C)=>{_??(_=a.value);const T=w.value;return u(T)?f&&g&&C?.async===!1&&C.jitless!==!0?(l||(l=i(e.shape)),w=l(w,C),v?aw([],T,w,C,_,t):w):n(w,C):(w.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),w)}});function Gx(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const i=t.filter(l=>!jf(l));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>kc(u,a,zc())))}),e)}const wN=je("$ZodUnion",(t,e)=>{fa.init(t,e),kn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),kn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),kn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),kn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>K2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(i,l)=>{if(n)return a(i,l);let u=!1;const f=[];for(const h of e.options){const g=h._zod.run({value:i.value,issues:[]},l);if(g instanceof Promise)f.push(g),u=!0;else{if(g.issues.length===0)return g;f.push(g)}}return u?Promise.all(f).then(h=>Gx(h,i,t,l)):Gx(f,i,t,l)}}),SN=je("$ZodIntersection",(t,e)=>{fa.init(t,e),t._zod.parse=(n,a)=>{const i=n.value,l=e.left._zod.run({value:i,issues:[]},a),u=e.right._zod.run({value:i,issues:[]},a);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([h,g])=>qx(n,h,g)):qx(n,l,u)}});function r2(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(lm(t)&&lm(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const u=r2(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],u=r2(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function qx(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),jf(t))return t;const a=r2(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const EN=je("$ZodEnum",(t,e)=>{fa.init(t,e);const n=UR(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(i=>BR.has(typeof i)).map(i=>typeof i=="string"?kv(i):i.toString()).join("|")})$`),t._zod.parse=(i,l)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:t}),i}}),CN=je("$ZodTransform",(t,e)=>{fa.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new Z3(t.constructor.name);const i=e.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new kf;return n.value=i,n}});function Vx(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const TN=je("$ZodOptional",(t,e)=>{fa.init(t,e),t._zod.optin="optional",t._zod.optout="optional",kn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),kn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>Vx(l,n.value)):Vx(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),AN=je("$ZodNullable",(t,e)=>{fa.init(t,e),kn(t._zod,"optin",()=>e.innerType._zod.optin),kn(t._zod,"optout",()=>e.innerType._zod.optout),kn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K2(n.source)}|null)$`):void 0}),kn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),RN=je("$ZodDefault",(t,e)=>{fa.init(t,e),t._zod.optin="optional",kn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>Yx(l,e)):Yx(i,e)}});function Yx(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const ON=je("$ZodPrefault",(t,e)=>{fa.init(t,e),t._zod.optin="optional",kn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),NN=je("$ZodNonOptional",(t,e)=>{fa.init(t,e),kn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>Ix(l,t)):Ix(i,t)}});function Ix(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const jN=je("$ZodCatch",(t,e)=>{fa.init(t,e),kn(t._zod,"optin",()=>e.innerType._zod.optin),kn(t._zod,"optout",()=>e.innerType._zod.optout),kn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>kc(u,a,zc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>kc(l,a,zc()))},input:n.value}),n.issues=[]),n)}}),MN=je("$ZodPipe",(t,e)=>{fa.init(t,e),kn(t._zod,"values",()=>e.in._zod.values),kn(t._zod,"optin",()=>e.in._zod.optin),kn(t._zod,"optout",()=>e.out._zod.optout),kn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(u=>yg(u,e.in,a)):yg(l,e.in,a)}const i=e.in._zod.run(n,a);return i instanceof Promise?i.then(l=>yg(l,e.out,a)):yg(i,e.out,a)}});function yg(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const DN=je("$ZodReadonly",(t,e)=>{fa.init(t,e),kn(t._zod,"propValues",()=>e.innerType._zod.propValues),kn(t._zod,"values",()=>e.innerType._zod.values),kn(t._zod,"optin",()=>e.innerType._zod.optin),kn(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(Zx):Zx(i)}});function Zx(t){return t.value=Object.freeze(t.value),t}const zN=je("$ZodCustom",(t,e)=>{yl.init(t,e),fa.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,i=e.fn(a);if(i instanceof Promise)return i.then(l=>Xx(l,n,a,t));Xx(i,n,a,t)}});function Xx(t,e,n,a){if(!t){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),e.issues.push(om(i))}}class kN{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function LN(){return new kN}const bg=LN();function UN(t,e){return new t({type:"string",...St(e)})}function rw(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...St(e)})}function Kx(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...St(e)})}function PN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...St(e)})}function BN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...St(e)})}function HN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...St(e)})}function GN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...St(e)})}function qN(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...St(e)})}function VN(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...St(e)})}function YN(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...St(e)})}function IN(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...St(e)})}function ZN(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...St(e)})}function XN(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...St(e)})}function KN(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...St(e)})}function FN(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...St(e)})}function $N(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...St(e)})}function QN(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...St(e)})}function WN(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...St(e)})}function JN(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...St(e)})}function ej(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...St(e)})}function tj(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...St(e)})}function nj(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...St(e)})}function aj(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...St(e)})}function rj(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...St(e)})}function ij(t,e){return new t({type:"string",format:"date",check:"string_format",...St(e)})}function sj(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...St(e)})}function lj(t,e){return new t({type:"string",format:"duration",check:"string_format",...St(e)})}function oj(t,e){return new t({type:"boolean",...St(e)})}function uj(t){return new t({type:"unknown"})}function cj(t,e){return new t({type:"never",...St(e)})}function iw(t,e){return new DO({check:"max_length",...St(e),maximum:t})}function gv(t,e){return new zO({check:"min_length",...St(e),minimum:t})}function sw(t,e){return new kO({check:"length_equals",...St(e),length:t})}function dj(t,e){return new LO({check:"string_format",format:"regex",...St(e),pattern:t})}function fj(t){return new UO({check:"string_format",format:"lowercase",...St(t)})}function hj(t){return new PO({check:"string_format",format:"uppercase",...St(t)})}function mj(t,e){return new BO({check:"string_format",format:"includes",...St(e),includes:t})}function pj(t,e){return new HO({check:"string_format",format:"starts_with",...St(e),prefix:t})}function gj(t,e){return new GO({check:"string_format",format:"ends_with",...St(e),suffix:t})}function Cm(t){return new qO({check:"overwrite",tx:t})}function vj(t){return Cm(e=>e.normalize(t))}function yj(){return Cm(t=>t.trim())}function bj(){return Cm(t=>t.toLowerCase())}function _j(){return Cm(t=>t.toUpperCase())}function xj(t,e,n){return new t({type:"array",element:e,...St(n)})}function wj(t,e,n){return new t({type:"custom",check:"custom",fn:e,...St(n)})}function Sj(t){const e=Ej(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(om(a,n.value,e._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(om(i))}},t(n.value,n)));return e}function Ej(t,e){const n=new yl({check:"custom",...St(e)});return n._zod.check=t,n}const Cj=je("ZodISODateTime",(t,e)=>{nN.init(t,e),Vn.init(t,e)});function Tj(t){return rj(Cj,t)}const Aj=je("ZodISODate",(t,e)=>{aN.init(t,e),Vn.init(t,e)});function Rj(t){return ij(Aj,t)}const Oj=je("ZodISOTime",(t,e)=>{rN.init(t,e),Vn.init(t,e)});function Nj(t){return sj(Oj,t)}const jj=je("ZodISODuration",(t,e)=>{iN.init(t,e),Vn.init(t,e)});function Mj(t){return lj(jj,t)}const Dj=(t,e)=>{$2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>FR(t,n)},flatten:{value:n=>KR(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,a2,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,a2,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ii=je("ZodError",Dj,{Parent:Error}),zj=Uv(Ii),kj=Pv(Ii),Lj=Bv(Ii),Uj=Hv(Ii),Pj=eO(Ii),Bj=tO(Ii),Hj=nO(Ii),Gj=aO(Ii),qj=rO(Ii),Vj=iO(Ii),Yj=sO(Ii),Ij=lO(Ii),_a=je("ZodType",(t,e)=>(fa.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(qc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>_u(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>zj(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>Lj(t,n,a),t.parseAsync=async(n,a)=>kj(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>Uj(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>Pj(t,n,a),t.decode=(n,a)=>Bj(t,n,a),t.encodeAsync=async(n,a)=>Hj(t,n,a),t.decodeAsync=async(n,a)=>Gj(t,n,a),t.safeEncode=(n,a)=>qj(t,n,a),t.safeDecode=(n,a)=>Vj(t,n,a),t.safeEncodeAsync=async(n,a)=>Yj(t,n,a),t.safeDecodeAsync=async(n,a)=>Ij(t,n,a),t.refine=(n,a)=>t.check(LM(n,a)),t.superRefine=n=>t.check(UM(n)),t.overwrite=n=>t.check(Cm(n)),t.optional=()=>Qx(t),t.nullable=()=>Wx(t),t.nullish=()=>Qx(Wx(t)),t.nonoptional=n=>OM(t,n),t.array=()=>pM(t),t.or=n=>yM([t,n]),t.and=n=>_M(t,n),t.transform=n=>Jx(t,SM(n)),t.default=n=>TM(t,n),t.prefault=n=>RM(t,n),t.catch=n=>jM(t,n),t.pipe=n=>Jx(t,n),t.readonly=()=>zM(t),t.describe=n=>{const a=t.clone();return bg.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return bg.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return bg.get(t);const a=t.clone();return bg.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),lw=je("_ZodString",(t,e)=>{Q2.init(t,e),_a.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(dj(...a)),t.includes=(...a)=>t.check(mj(...a)),t.startsWith=(...a)=>t.check(pj(...a)),t.endsWith=(...a)=>t.check(gj(...a)),t.min=(...a)=>t.check(gv(...a)),t.max=(...a)=>t.check(iw(...a)),t.length=(...a)=>t.check(sw(...a)),t.nonempty=(...a)=>t.check(gv(1,...a)),t.lowercase=a=>t.check(fj(a)),t.uppercase=a=>t.check(hj(a)),t.trim=()=>t.check(yj()),t.normalize=(...a)=>t.check(vj(...a)),t.toLowerCase=()=>t.check(bj()),t.toUpperCase=()=>t.check(_j())}),Zj=je("ZodString",(t,e)=>{Q2.init(t,e),lw.init(t,e),t.email=n=>t.check(rw(ow,n)),t.url=n=>t.check(qN(Xj,n)),t.jwt=n=>t.check(aj(oM,n)),t.emoji=n=>t.check(VN(Kj,n)),t.guid=n=>t.check(Kx(Fx,n)),t.uuid=n=>t.check(PN(_g,n)),t.uuidv4=n=>t.check(BN(_g,n)),t.uuidv6=n=>t.check(HN(_g,n)),t.uuidv7=n=>t.check(GN(_g,n)),t.nanoid=n=>t.check(YN(Fj,n)),t.guid=n=>t.check(Kx(Fx,n)),t.cuid=n=>t.check(IN($j,n)),t.cuid2=n=>t.check(ZN(Qj,n)),t.ulid=n=>t.check(XN(Wj,n)),t.base64=n=>t.check(ej(iM,n)),t.base64url=n=>t.check(tj(sM,n)),t.xid=n=>t.check(KN(Jj,n)),t.ksuid=n=>t.check(FN(eM,n)),t.ipv4=n=>t.check($N(tM,n)),t.ipv6=n=>t.check(QN(nM,n)),t.cidrv4=n=>t.check(WN(aM,n)),t.cidrv6=n=>t.check(JN(rM,n)),t.e164=n=>t.check(nj(lM,n)),t.datetime=n=>t.check(Tj(n)),t.date=n=>t.check(Rj(n)),t.time=n=>t.check(Nj(n)),t.duration=n=>t.check(Mj(n))});function Xr(t){return UN(Zj,t)}const Vn=je("ZodStringFormat",(t,e)=>{Gn.init(t,e),lw.init(t,e)}),ow=je("ZodEmail",(t,e)=>{XO.init(t,e),Vn.init(t,e)});function W2(t){return rw(ow,t)}const Fx=je("ZodGUID",(t,e)=>{IO.init(t,e),Vn.init(t,e)}),_g=je("ZodUUID",(t,e)=>{ZO.init(t,e),Vn.init(t,e)}),Xj=je("ZodURL",(t,e)=>{KO.init(t,e),Vn.init(t,e)}),Kj=je("ZodEmoji",(t,e)=>{FO.init(t,e),Vn.init(t,e)}),Fj=je("ZodNanoID",(t,e)=>{$O.init(t,e),Vn.init(t,e)}),$j=je("ZodCUID",(t,e)=>{QO.init(t,e),Vn.init(t,e)}),Qj=je("ZodCUID2",(t,e)=>{WO.init(t,e),Vn.init(t,e)}),Wj=je("ZodULID",(t,e)=>{JO.init(t,e),Vn.init(t,e)}),Jj=je("ZodXID",(t,e)=>{eN.init(t,e),Vn.init(t,e)}),eM=je("ZodKSUID",(t,e)=>{tN.init(t,e),Vn.init(t,e)}),tM=je("ZodIPv4",(t,e)=>{sN.init(t,e),Vn.init(t,e)}),nM=je("ZodIPv6",(t,e)=>{lN.init(t,e),Vn.init(t,e)}),aM=je("ZodCIDRv4",(t,e)=>{oN.init(t,e),Vn.init(t,e)}),rM=je("ZodCIDRv6",(t,e)=>{uN.init(t,e),Vn.init(t,e)}),iM=je("ZodBase64",(t,e)=>{cN.init(t,e),Vn.init(t,e)}),sM=je("ZodBase64URL",(t,e)=>{fN.init(t,e),Vn.init(t,e)}),lM=je("ZodE164",(t,e)=>{hN.init(t,e),Vn.init(t,e)}),oM=je("ZodJWT",(t,e)=>{pN.init(t,e),Vn.init(t,e)}),uM=je("ZodBoolean",(t,e)=>{gN.init(t,e),_a.init(t,e)});function cM(t){return oj(uM,t)}const dM=je("ZodUnknown",(t,e)=>{vN.init(t,e),_a.init(t,e)});function $x(){return uj(dM)}const fM=je("ZodNever",(t,e)=>{yN.init(t,e),_a.init(t,e)});function hM(t){return cj(fM,t)}const mM=je("ZodArray",(t,e)=>{bN.init(t,e),_a.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(gv(n,a)),t.nonempty=n=>t.check(gv(1,n)),t.max=(n,a)=>t.check(iw(n,a)),t.length=(n,a)=>t.check(sw(n,a)),t.unwrap=()=>t.element});function pM(t,e){return xj(mM,t,e)}const gM=je("ZodObject",(t,e)=>{xN.init(t,e),_a.init(t,e),kn(t,"shape",()=>e.shape),t.keyof=()=>xM(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:$x()}),t.loose=()=>t.clone({...t._zod.def,catchall:$x()}),t.strict=()=>t.clone({...t._zod.def,catchall:hM()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>VR(t,n),t.safeExtend=n=>YR(t,n),t.merge=n=>IR(t,n),t.pick=n=>GR(t,n),t.omit=n=>qR(t,n),t.partial=(...n)=>ZR(uw,t,n[0]),t.required=(...n)=>XR(cw,t,n[0])});function Ff(t,e){const n={type:"object",shape:t??{},...St(e)};return new gM(n)}const vM=je("ZodUnion",(t,e)=>{wN.init(t,e),_a.init(t,e),t.options=e.options});function yM(t,e){return new vM({type:"union",options:t,...St(e)})}const bM=je("ZodIntersection",(t,e)=>{SN.init(t,e),_a.init(t,e)});function _M(t,e){return new bM({type:"intersection",left:t,right:e})}const i2=je("ZodEnum",(t,e)=>{EN.init(t,e),_a.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,i)=>{const l={};for(const u of a)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new i2({...e,checks:[],...St(i),entries:l})},t.exclude=(a,i)=>{const l={...e.entries};for(const u of a)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new i2({...e,checks:[],...St(i),entries:l})}});function xM(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new i2({type:"enum",entries:n,...St(e)})}const wM=je("ZodTransform",(t,e)=>{CN.init(t,e),_a.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new Z3(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(om(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(om(u))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function SM(t){return new wM({type:"transform",transform:t})}const uw=je("ZodOptional",(t,e)=>{TN.init(t,e),_a.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Qx(t){return new uw({type:"optional",innerType:t})}const EM=je("ZodNullable",(t,e)=>{AN.init(t,e),_a.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Wx(t){return new EM({type:"nullable",innerType:t})}const CM=je("ZodDefault",(t,e)=>{RN.init(t,e),_a.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function TM(t,e){return new CM({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():F3(e)}})}const AM=je("ZodPrefault",(t,e)=>{ON.init(t,e),_a.init(t,e),t.unwrap=()=>t._zod.def.innerType});function RM(t,e){return new AM({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():F3(e)}})}const cw=je("ZodNonOptional",(t,e)=>{NN.init(t,e),_a.init(t,e),t.unwrap=()=>t._zod.def.innerType});function OM(t,e){return new cw({type:"nonoptional",innerType:t,...St(e)})}const NM=je("ZodCatch",(t,e)=>{jN.init(t,e),_a.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function jM(t,e){return new NM({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const MM=je("ZodPipe",(t,e)=>{MN.init(t,e),_a.init(t,e),t.in=e.in,t.out=e.out});function Jx(t,e){return new MM({type:"pipe",in:t,out:e})}const DM=je("ZodReadonly",(t,e)=>{DN.init(t,e),_a.init(t,e),t.unwrap=()=>t._zod.def.innerType});function zM(t){return new DM({type:"readonly",innerType:t})}const kM=je("ZodCustom",(t,e)=>{zN.init(t,e),_a.init(t,e)});function LM(t,e={}){return wj(kM,t,e)}function UM(t){return Sj(t)}var Tm=t=>t.type==="checkbox",Mc=t=>t instanceof Date,Yr=t=>t==null;const dw=t=>typeof t=="object";var da=t=>!Yr(t)&&!Array.isArray(t)&&dw(t)&&!Mc(t),PM=t=>da(t)&&t.target?Tm(t.target)?t.target.checked:t.target.value:t,BM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,HM=(t,e)=>t.has(BM(e)),GM=t=>{const e=t.constructor&&t.constructor.prototype;return da(e)&&e.hasOwnProperty("isPrototypeOf")},J2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ka(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(J2&&(t instanceof Blob||a))&&(n||da(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!GM(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ka(t[i]));else return t;return e}var qv=t=>/^\w*$/.test(t),ea=t=>t===void 0,eb=t=>Array.isArray(t)?t.filter(Boolean):[],tb=t=>eb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),tt=(t,e,n)=>{if(!e||!da(t))return n;const a=(qv(e)?[e]:tb(e)).reduce((i,l)=>Yr(i)?i:i[l],t);return ea(a)||a===t?ea(t[e])?n:t[e]:a},cl=t=>typeof t=="boolean",Rn=(t,e,n)=>{let a=-1;const i=qv(e)?[e]:tb(e),l=i.length,u=l-1;for(;++a<l;){const f=i[a];let h=n;if(a!==u){const g=t[f];h=da(g)||Array.isArray(g)?g:isNaN(+i[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=h,t=t[f]}};const e4={BLUR:"blur",FOCUS_OUT:"focusout"},xs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},eo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qM=Oe.createContext(null);qM.displayName="HookFormContext";var VM=(t,e,n,a=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const u=l;return e._proxyFormState[u]!==xs.all&&(e._proxyFormState[u]=!a||xs.all),t[u]}});return i};const YM=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect;var ui=t=>typeof t=="string",IM=(t,e,n,a,i)=>ui(t)?(a&&e.watch.add(t),tt(n,t,i)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),tt(n,l))):(a&&(e.watchAll=!0),n),s2=t=>Yr(t)||!dw(t);function hu(t,e,n=new WeakSet){if(s2(t)||s2(e))return t===e;if(Mc(t)&&Mc(e))return t.getTime()===e.getTime();const a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const u=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const f=e[l];if(Mc(u)&&Mc(f)||da(u)&&da(f)||Array.isArray(u)&&Array.isArray(f)?!hu(u,f,n):u!==f)return!1}}return!0}var nb=(t,e,n,a,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:i||!0}}:{},F0=t=>Array.isArray(t)?t:[t],t4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function fw(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const i=t[a],l=e[a];if(i&&da(i)&&l){const u=fw(i,l);da(u)&&(n[a]=u)}else t[a]&&(n[a]=l)}return n}var Vr=t=>da(t)&&!Object.keys(t).length,ab=t=>t.type==="file",ws=t=>typeof t=="function",vv=t=>{if(!J2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hw=t=>t.type==="select-multiple",rb=t=>t.type==="radio",ZM=t=>rb(t)||Tm(t),uy=t=>vv(t)&&t.isConnected;function XM(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=ea(t)?a++:t[e[a++]];return t}function KM(t){for(const e in t)if(t.hasOwnProperty(e)&&!ea(t[e]))return!1;return!0}function oa(t,e){const n=Array.isArray(e)?e:qv(e)?[e]:tb(e),a=n.length===1?t:XM(t,n),i=n.length-1,l=n[i];return a&&delete a[l],i!==0&&(da(a)&&Vr(a)||Array.isArray(a)&&KM(a))&&oa(t,n.slice(0,-1)),t}var FM=t=>{for(const e in t)if(ws(t[e]))return!0;return!1};function mw(t){return Array.isArray(t)||da(t)&&!FM(t)}function l2(t,e={}){for(const n in t)mw(t[n])?(e[n]=Array.isArray(t[n])?[]:{},l2(t[n],e[n])):ea(t[n])||(e[n]=!0);return e}function Of(t,e,n){n||(n=l2(e));for(const a in t)mw(t[a])?ea(e)||s2(n[a])?n[a]=l2(t[a],Array.isArray(t[a])?[]:{}):Of(t[a],Yr(e)?{}:e[a],n[a]):n[a]=!hu(t[a],e[a]);return n}const n4={value:!1,isValid:!1},a4={value:!0,isValid:!0};var pw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ea(t[0].attributes.value)?ea(t[0].value)||t[0].value===""?a4:{value:t[0].value,isValid:!0}:a4:n4}return n4},gw=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>ea(t)?t:e?t===""?NaN:t&&+t:n&&ui(t)?new Date(t):a?a(t):t;const r4={isValid:!1,value:null};var vw=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,r4):r4;function i4(t){const e=t.ref;return ab(e)?e.files:rb(e)?vw(t.refs).value:hw(e)?[...e.selectedOptions].map(({value:n})=>n):Tm(e)?pw(t.refs).value:gw(ea(e.value)?t.ref.value:e.value,t)}var $M=(t,e,n,a)=>{const i={};for(const l of t){const u=tt(e,l);u&&Rn(i,l,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:a}},yv=t=>t instanceof RegExp,A0=t=>ea(t)?t:yv(t)?t.source:da(t)?yv(t.value)?t.value.source:t.value:t,s4=t=>({isOnSubmit:!t||t===xs.onSubmit,isOnBlur:t===xs.onBlur,isOnChange:t===xs.onChange,isOnAll:t===xs.all,isOnTouch:t===xs.onTouched});const l4="AsyncFunction";var QM=t=>!!t&&!!t.validate&&!!(ws(t.validate)&&t.validate.constructor.name===l4||da(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===l4)),WM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),o4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const $0=(t,e,n,a)=>{for(const i of n||Object.keys(t)){const l=tt(t,i);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if($0(f,e))break}else if(da(f)&&$0(f,e))break}}};function u4(t,e,n){const a=tt(t,n);if(a||qv(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),u=tt(e,l),f=tt(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};i.pop()}return{name:n}}var JM=(t,e,n,a)=>{n(t);const{name:i,...l}=t;return Vr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||xs.all))},eD=(t,e,n)=>!t||!e||t===e||F0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),tD=(t,e,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?a.isOnBlur:i.isOnBlur)?!t:(n?a.isOnChange:i.isOnChange)?t:!0,nD=(t,e)=>!eb(tt(t,e)).length&&oa(t,e),aD=(t,e,n)=>{const a=F0(tt(t,n));return Rn(a,"root",e[n]),Rn(t,n,a),t};function c4(t,e,n="validate"){if(ui(t)||Array.isArray(t)&&t.every(ui)||cl(t)&&!t)return{type:n,message:ui(t)?t:"",ref:e}}var gf=t=>da(t)&&!yv(t)?t:{value:t,message:""},d4=async(t,e,n,a,i,l)=>{const{ref:u,refs:f,required:h,maxLength:g,minLength:v,min:_,max:w,pattern:C,validate:T,name:R,valueAsNumber:O,mount:j}=t._f,M=tt(n,R);if(!j||e.has(R))return{};const z=f?f[0]:u,k=J=>{i&&z.reportValidity&&(z.setCustomValidity(cl(J)?"":J||""),z.reportValidity())},q={},U=rb(u),Y=Tm(u),$=U||Y,ne=(O||ab(u))&&ea(u.value)&&ea(M)||vv(u)&&u.value===""||M===""||Array.isArray(M)&&!M.length,pe=nb.bind(null,R,a,q),Ee=(J,he,de,ue=eo.maxLength,G=eo.minLength)=>{const ee=J?he:de;q[R]={type:J?ue:G,message:ee,ref:u,...pe(J?ue:G,ee)}};if(l?!Array.isArray(M)||!M.length:h&&(!$&&(ne||Yr(M))||cl(M)&&!M||Y&&!pw(f).isValid||U&&!vw(f).isValid)){const{value:J,message:he}=ui(h)?{value:!!h,message:h}:gf(h);if(J&&(q[R]={type:eo.required,message:he,ref:z,...pe(eo.required,he)},!a))return k(he),q}if(!ne&&(!Yr(_)||!Yr(w))){let J,he;const de=gf(w),ue=gf(_);if(!Yr(M)&&!isNaN(M)){const G=u.valueAsNumber||M&&+M;Yr(de.value)||(J=G>de.value),Yr(ue.value)||(he=G<ue.value)}else{const G=u.valueAsDate||new Date(M),ee=B=>new Date(new Date().toDateString()+" "+B),Q=u.type=="time",ae=u.type=="week";ui(de.value)&&M&&(J=Q?ee(M)>ee(de.value):ae?M>de.value:G>new Date(de.value)),ui(ue.value)&&M&&(he=Q?ee(M)<ee(ue.value):ae?M<ue.value:G<new Date(ue.value))}if((J||he)&&(Ee(!!J,de.message,ue.message,eo.max,eo.min),!a))return k(q[R].message),q}if((g||v)&&!ne&&(ui(M)||l&&Array.isArray(M))){const J=gf(g),he=gf(v),de=!Yr(J.value)&&M.length>+J.value,ue=!Yr(he.value)&&M.length<+he.value;if((de||ue)&&(Ee(de,J.message,he.message),!a))return k(q[R].message),q}if(C&&!ne&&ui(M)){const{value:J,message:he}=gf(C);if(yv(J)&&!M.match(J)&&(q[R]={type:eo.pattern,message:he,ref:u,...pe(eo.pattern,he)},!a))return k(he),q}if(T){if(ws(T)){const J=await T(M,n),he=c4(J,z);if(he&&(q[R]={...he,...pe(eo.validate,he.message)},!a))return k(he.message),q}else if(da(T)){let J={};for(const he in T){if(!Vr(J)&&!a)break;const de=c4(await T[he](M,n),z,he);de&&(J={...de,...pe(he,de.message)},k(de.message),a&&(q[R]=J))}if(!Vr(J)&&(q[R]={ref:z,...J},!a))return q}}return k(!0),q};const rD={mode:xs.onSubmit,reValidateMode:xs.onChange,shouldFocusError:!0};function iD(t={}){let e={...rD,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ws(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=da(e.defaultValues)||da(e.values)?ka(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:ka(i),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const w={array:t4(),state:t4()},C=e.criteriaMode===xs.all,T=K=>oe=>{clearTimeout(g),g=setTimeout(K,oe)},R=async K=>{if(!e.disabled&&(v.isValid||_.isValid||K)){const oe=e.resolver?Vr((await Y()).errors):await ne(a,!0);oe!==n.isValid&&w.state.next({isValid:oe})}},O=(K,oe)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((K||Array.from(f.mount)).forEach(ge=>{ge&&(oe?Rn(n.validatingFields,ge,oe):oa(n.validatingFields,ge))}),w.state.next({validatingFields:n.validatingFields,isValidating:!Vr(n.validatingFields)}))},j=(K,oe=[],ge,Le,Pe=!0,ke=!0)=>{if(Le&&ge&&!e.disabled){if(u.action=!0,ke&&Array.isArray(tt(a,K))){const Ze=ge(tt(a,K),Le.argA,Le.argB);Pe&&Rn(a,K,Ze)}if(ke&&Array.isArray(tt(n.errors,K))){const Ze=ge(tt(n.errors,K),Le.argA,Le.argB);Pe&&Rn(n.errors,K,Ze),nD(n.errors,K)}if((v.touchedFields||_.touchedFields)&&ke&&Array.isArray(tt(n.touchedFields,K))){const Ze=ge(tt(n.touchedFields,K),Le.argA,Le.argB);Pe&&Rn(n.touchedFields,K,Ze)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Of(i,l)),w.state.next({name:K,isDirty:Ee(K,oe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Rn(l,K,oe)},M=(K,oe)=>{Rn(n.errors,K,oe),w.state.next({errors:n.errors})},z=K=>{n.errors=K,w.state.next({errors:n.errors,isValid:!1})},k=(K,oe,ge,Le)=>{const Pe=tt(a,K);if(Pe){const ke=tt(l,K,ea(ge)?tt(i,K):ge);ea(ke)||Le&&Le.defaultChecked||oe?Rn(l,K,oe?ke:i4(Pe._f)):de(K,ke),u.mount&&R()}},q=(K,oe,ge,Le,Pe)=>{let ke=!1,Ze=!1;const Qe={name:K};if(!e.disabled){if(!ge||Le){(v.isDirty||_.isDirty)&&(Ze=n.isDirty,n.isDirty=Qe.isDirty=Ee(),ke=Ze!==Qe.isDirty);const vt=hu(tt(i,K),oe);Ze=!!tt(n.dirtyFields,K),vt?oa(n.dirtyFields,K):Rn(n.dirtyFields,K,!0),Qe.dirtyFields=n.dirtyFields,ke=ke||(v.dirtyFields||_.dirtyFields)&&Ze!==!vt}if(ge){const vt=tt(n.touchedFields,K);vt||(Rn(n.touchedFields,K,ge),Qe.touchedFields=n.touchedFields,ke=ke||(v.touchedFields||_.touchedFields)&&vt!==ge)}ke&&Pe&&w.state.next(Qe)}return ke?Qe:{}},U=(K,oe,ge,Le)=>{const Pe=tt(n.errors,K),ke=(v.isValid||_.isValid)&&cl(oe)&&n.isValid!==oe;if(e.delayError&&ge?(h=T(()=>M(K,ge)),h(e.delayError)):(clearTimeout(g),h=null,ge?Rn(n.errors,K,ge):oa(n.errors,K)),(ge?!hu(Pe,ge):Pe)||!Vr(Le)||ke){const Ze={...Le,...ke&&cl(oe)?{isValid:oe}:{},errors:n.errors,name:K};n={...n,...Ze},w.state.next(Ze)}},Y=async K=>{O(K,!0);const oe=await e.resolver(l,e.context,$M(K||f.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(K),oe},$=async K=>{const{errors:oe}=await Y(K);if(K)for(const ge of K){const Le=tt(oe,ge);Le?Rn(n.errors,ge,Le):oa(n.errors,ge)}else n.errors=oe;return oe},ne=async(K,oe,ge={valid:!0})=>{for(const Le in K){const Pe=K[Le];if(Pe){const{_f:ke,...Ze}=Pe;if(ke){const Qe=f.array.has(ke.name),vt=Pe._f&&QM(Pe._f);vt&&v.validatingFields&&O([ke.name],!0);const nn=await d4(Pe,f.disabled,l,C,e.shouldUseNativeValidation&&!oe,Qe);if(vt&&v.validatingFields&&O([ke.name]),nn[ke.name]&&(ge.valid=!1,oe))break;!oe&&(tt(nn,ke.name)?Qe?aD(n.errors,nn,ke.name):Rn(n.errors,ke.name,nn[ke.name]):oa(n.errors,ke.name))}!Vr(Ze)&&await ne(Ze,oe,ge)}}return ge.valid},pe=()=>{for(const K of f.unMount){const oe=tt(a,K);oe&&(oe._f.refs?oe._f.refs.every(ge=>!uy(ge)):!uy(oe._f.ref))&&it(K)}f.unMount=new Set},Ee=(K,oe)=>!e.disabled&&(K&&oe&&Rn(l,K,oe),!hu(B(),i)),J=(K,oe,ge)=>IM(K,f,{...u.mount?l:ea(oe)?i:ui(K)?{[K]:oe}:oe},ge,oe),he=K=>eb(tt(u.mount?l:i,K,e.shouldUnregister?tt(i,K,[]):[])),de=(K,oe,ge={})=>{const Le=tt(a,K);let Pe=oe;if(Le){const ke=Le._f;ke&&(!ke.disabled&&Rn(l,K,gw(oe,ke)),Pe=vv(ke.ref)&&Yr(oe)?"":oe,hw(ke.ref)?[...ke.ref.options].forEach(Ze=>Ze.selected=Pe.includes(Ze.value)):ke.refs?Tm(ke.ref)?ke.refs.forEach(Ze=>{(!Ze.defaultChecked||!Ze.disabled)&&(Array.isArray(Pe)?Ze.checked=!!Pe.find(Qe=>Qe===Ze.value):Ze.checked=Pe===Ze.value||!!Pe)}):ke.refs.forEach(Ze=>Ze.checked=Ze.value===Pe):ab(ke.ref)?ke.ref.value="":(ke.ref.value=Pe,ke.ref.type||w.state.next({name:K,values:ka(l)})))}(ge.shouldDirty||ge.shouldTouch)&&q(K,Pe,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&ae(K)},ue=(K,oe,ge)=>{for(const Le in oe){if(!oe.hasOwnProperty(Le))return;const Pe=oe[Le],ke=K+"."+Le,Ze=tt(a,ke);(f.array.has(K)||da(Pe)||Ze&&!Ze._f)&&!Mc(Pe)?ue(ke,Pe,ge):de(ke,Pe,ge)}},G=(K,oe,ge={})=>{const Le=tt(a,K),Pe=f.array.has(K),ke=ka(oe);Rn(l,K,ke),Pe?(w.array.next({name:K,values:ka(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&ge.shouldDirty&&w.state.next({name:K,dirtyFields:Of(i,l),isDirty:Ee(K,ke)})):Le&&!Le._f&&!Yr(ke)?ue(K,ke,ge):de(K,ke,ge),o4(K,f)&&w.state.next({...n,name:K}),w.state.next({name:u.mount?K:void 0,values:ka(l)})},ee=async K=>{u.mount=!0;const oe=K.target;let ge=oe.name,Le=!0;const Pe=tt(a,ge),ke=vt=>{Le=Number.isNaN(vt)||Mc(vt)&&isNaN(vt.getTime())||hu(vt,tt(l,ge,vt))},Ze=s4(e.mode),Qe=s4(e.reValidateMode);if(Pe){let vt,nn;const La=oe.type?i4(Pe._f):PM(K),Ua=K.type===e4.BLUR||K.type===e4.FOCUS_OUT,wa=!WM(Pe._f)&&!e.resolver&&!tt(n.errors,ge)&&!Pe._f.deps||tD(Ua,tt(n.touchedFields,ge),n.isSubmitted,Qe,Ze),Qa=o4(ge,f,Ua);Rn(l,ge,La),Ua?(!oe||!oe.readOnly)&&(Pe._f.onBlur&&Pe._f.onBlur(K),h&&h(0)):Pe._f.onChange&&Pe._f.onChange(K);const Wa=q(ge,La,Ua),aa=!Vr(Wa)||Qa;if(!Ua&&w.state.next({name:ge,type:K.type,values:ka(l)}),wa)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?Ua&&R():Ua||R()),aa&&w.state.next({name:ge,...Qa?{}:Wa});if(!Ua&&Qa&&w.state.next({...n}),e.resolver){const{errors:Kr}=await Y([ge]);if(ke(La),Le){const mr=u4(n.errors,a,ge),Rr=u4(Kr,a,mr.name||ge);vt=Rr.error,ge=Rr.name,nn=Vr(Kr)}}else O([ge],!0),vt=(await d4(Pe,f.disabled,l,C,e.shouldUseNativeValidation))[ge],O([ge]),ke(La),Le&&(vt?nn=!1:(v.isValid||_.isValid)&&(nn=await ne(a,!0)));Le&&(Pe._f.deps&&(!Array.isArray(Pe._f.deps)||Pe._f.deps.length>0)&&ae(Pe._f.deps),U(ge,nn,vt,Wa))}},Q=(K,oe)=>{if(tt(n.errors,oe)&&K.focus)return K.focus(),1},ae=async(K,oe={})=>{let ge,Le;const Pe=F0(K);if(e.resolver){const ke=await $(ea(K)?K:Pe);ge=Vr(ke),Le=K?!Pe.some(Ze=>tt(ke,Ze)):ge}else K?(Le=(await Promise.all(Pe.map(async ke=>{const Ze=tt(a,ke);return await ne(Ze&&Ze._f?{[ke]:Ze}:Ze)}))).every(Boolean),!(!Le&&!n.isValid)&&R()):Le=ge=await ne(a);return w.state.next({...!ui(K)||(v.isValid||_.isValid)&&ge!==n.isValid?{}:{name:K},...e.resolver||!K?{isValid:ge}:{},errors:n.errors}),oe.shouldFocus&&!Le&&$0(a,Q,K?Pe:f.mount),Le},B=(K,oe)=>{let ge={...u.mount?l:i};return oe&&(ge=fw(oe.dirtyFields?n.dirtyFields:n.touchedFields,ge)),ea(K)?ge:ui(K)?tt(ge,K):K.map(Le=>tt(ge,Le))},te=(K,oe)=>({invalid:!!tt((oe||n).errors,K),isDirty:!!tt((oe||n).dirtyFields,K),error:tt((oe||n).errors,K),isValidating:!!tt(n.validatingFields,K),isTouched:!!tt((oe||n).touchedFields,K)}),we=K=>{K&&F0(K).forEach(oe=>oa(n.errors,oe)),w.state.next({errors:K?n.errors:{}})},Ce=(K,oe,ge)=>{const Le=(tt(a,K,{_f:{}})._f||{}).ref,Pe=tt(n.errors,K)||{},{ref:ke,message:Ze,type:Qe,...vt}=Pe;Rn(n.errors,K,{...vt,...oe,ref:Le}),w.state.next({name:K,errors:n.errors,isValid:!1}),ge&&ge.shouldFocus&&Le&&Le.focus&&Le.focus()},qe=(K,oe)=>ws(K)?w.state.subscribe({next:ge=>"values"in ge&&K(J(void 0,oe),ge)}):J(K,oe,!0),st=K=>w.state.subscribe({next:oe=>{eD(K.name,oe.name,K.exact)&&JM(oe,K.formState||v,tn,K.reRenderRoot)&&K.callback({values:{...l},...n,...oe,defaultValues:i})}}).unsubscribe,Ie=K=>(u.mount=!0,_={..._,...K.formState},st({...K,formState:_})),it=(K,oe={})=>{for(const ge of K?F0(K):f.mount)f.mount.delete(ge),f.array.delete(ge),oe.keepValue||(oa(a,ge),oa(l,ge)),!oe.keepError&&oa(n.errors,ge),!oe.keepDirty&&oa(n.dirtyFields,ge),!oe.keepTouched&&oa(n.touchedFields,ge),!oe.keepIsValidating&&oa(n.validatingFields,ge),!e.shouldUnregister&&!oe.keepDefaultValue&&oa(i,ge);w.state.next({values:ka(l)}),w.state.next({...n,...oe.keepDirty?{isDirty:Ee()}:{}}),!oe.keepIsValid&&R()},bt=({disabled:K,name:oe})=>{(cl(K)&&u.mount||K||f.disabled.has(oe))&&(K?f.disabled.add(oe):f.disabled.delete(oe))},vn=(K,oe={})=>{let ge=tt(a,K);const Le=cl(oe.disabled)||cl(e.disabled);return Rn(a,K,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:K}},name:K,mount:!0,...oe}}),f.mount.add(K),ge?bt({disabled:cl(oe.disabled)?oe.disabled:e.disabled,name:K}):k(K,!0,oe.value),{...Le?{disabled:oe.disabled||e.disabled}:{},...e.progressive?{required:!!oe.required,min:A0(oe.min),max:A0(oe.max),minLength:A0(oe.minLength),maxLength:A0(oe.maxLength),pattern:A0(oe.pattern)}:{},name:K,onChange:ee,onBlur:ee,ref:Pe=>{if(Pe){vn(K,oe),ge=tt(a,K);const ke=ea(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,Ze=ZM(ke),Qe=ge._f.refs||[];if(Ze?Qe.find(vt=>vt===ke):ke===ge._f.ref)return;Rn(a,K,{_f:{...ge._f,...Ze?{refs:[...Qe.filter(uy),ke,...Array.isArray(tt(i,K))?[{}]:[]],ref:{type:ke.type,name:K}}:{ref:ke}}}),k(K,!1,void 0,ke)}else ge=tt(a,K,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||oe.shouldUnregister)&&!(HM(f.array,K)&&u.action)&&f.unMount.add(K)}}},xe=()=>e.shouldFocusError&&$0(a,Q,f.mount),Me=K=>{cl(K)&&(w.state.next({disabled:K}),$0(a,(oe,ge)=>{const Le=tt(a,ge);Le&&(oe.disabled=Le._f.disabled||K,Array.isArray(Le._f.refs)&&Le._f.refs.forEach(Pe=>{Pe.disabled=Le._f.disabled||K}))},0,!1))},ut=(K,oe)=>async ge=>{let Le;ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist());let Pe=ka(l);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:ke,values:Ze}=await Y();n.errors=ke,Pe=ka(Ze)}else await ne(a);if(f.disabled.size)for(const ke of f.disabled)oa(Pe,ke);if(oa(n.errors,"root"),Vr(n.errors)){w.state.next({errors:{}});try{await K(Pe,ge)}catch(ke){Le=ke}}else oe&&await oe({...n.errors},ge),xe(),setTimeout(xe);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(n.errors)&&!Le,submitCount:n.submitCount+1,errors:n.errors}),Le)throw Le},lt=(K,oe={})=>{tt(a,K)&&(ea(oe.defaultValue)?G(K,ka(tt(i,K))):(G(K,oe.defaultValue),Rn(i,K,ka(oe.defaultValue))),oe.keepTouched||oa(n.touchedFields,K),oe.keepDirty||(oa(n.dirtyFields,K),n.isDirty=oe.defaultValue?Ee(K,ka(tt(i,K))):Ee()),oe.keepError||(oa(n.errors,K),v.isValid&&R()),w.state.next({...n}))},at=(K,oe={})=>{const ge=K?ka(K):i,Le=ka(ge),Pe=Vr(K),ke=Pe?i:Le;if(oe.keepDefaultValues||(i=ge),!oe.keepValues){if(oe.keepDirtyValues){const Ze=new Set([...f.mount,...Object.keys(Of(i,l))]);for(const Qe of Array.from(Ze))tt(n.dirtyFields,Qe)?Rn(ke,Qe,tt(l,Qe)):G(Qe,tt(ke,Qe))}else{if(J2&&ea(K))for(const Ze of f.mount){const Qe=tt(a,Ze);if(Qe&&Qe._f){const vt=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(vv(vt)){const nn=vt.closest("form");if(nn){nn.reset();break}}}}if(oe.keepFieldsRef)for(const Ze of f.mount)G(Ze,tt(ke,Ze));else a={}}l=e.shouldUnregister?oe.keepDefaultValues?ka(i):{}:ka(ke),w.array.next({values:{...ke}}),w.state.next({values:{...ke}})}f={mount:oe.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,u.watch=!!e.shouldUnregister,w.state.next({submitCount:oe.keepSubmitCount?n.submitCount:0,isDirty:Pe?!1:oe.keepDirty?n.isDirty:!!(oe.keepDefaultValues&&!hu(K,i)),isSubmitted:oe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Pe?{}:oe.keepDirtyValues?oe.keepDefaultValues&&l?Of(i,l):n.dirtyFields:oe.keepDefaultValues&&K?Of(i,K):oe.keepDirty?n.dirtyFields:{},touchedFields:oe.keepTouched?n.touchedFields:{},errors:oe.keepErrors?n.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_t=(K,oe)=>at(ws(K)?K(l):K,oe),cn=(K,oe={})=>{const ge=tt(a,K),Le=ge&&ge._f;if(Le){const Pe=Le.refs?Le.refs[0]:Le.ref;Pe.focus&&(Pe.focus(),oe.shouldSelect&&ws(Pe.select)&&Pe.select())}},tn=K=>{n={...n,...K}},$a={control:{register:vn,unregister:it,getFieldState:te,handleSubmit:ut,setError:Ce,_subscribe:st,_runSchema:Y,_focusError:xe,_getWatch:J,_getDirty:Ee,_setValid:R,_setFieldArray:j,_setDisabledField:bt,_setErrors:z,_getFieldArray:he,_reset:at,_resetDefaultValues:()=>ws(e.defaultValues)&&e.defaultValues().then(K=>{_t(K,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:Me,_subjects:w,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(K){u=K},get _defaultValues(){return i},get _names(){return f},set _names(K){f=K},get _formState(){return n},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:Ie,trigger:ae,register:vn,handleSubmit:ut,watch:qe,setValue:G,getValues:B,reset:_t,resetField:lt,clearErrors:we,unregister:it,setError:Ce,setFocus:cn,getFieldState:te};return{...$a,formControl:$a}}function qf(t={}){const e=Oe.useRef(void 0),n=Oe.useRef(void 0),[a,i]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:ws(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ws(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!ws(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...f}=iD(t);e.current={...f,formState:a}}const l=e.current.control;return l._options=t,YM(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),Oe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Oe.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Oe.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Oe.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Oe.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),Oe.useEffect(()=>{t.values&&!hu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,i(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),Oe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=VM(a,l),e.current}const f4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=tt(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},o2=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?f4(a.ref,n,t):a&&a.refs&&a.refs.forEach(i=>f4(i,n,t))}},h4=(t,e)=>{e.shouldUseNativeValidation&&o2(t,e);const n={};for(const a in t){const i=tt(e.fields,a),l=Object.assign(t[a]||{},{ref:i&&i.ref});if(sD(e.names||Object.keys(t),a)){const u=Object.assign({},tt(n,a));Rn(u,"root",l),Rn(n,a,u)}else Rn(n,a,l)}return n},sD=(t,e)=>{const n=m4(e);return t.some(a=>m4(a).match(`^${n}\\.\\d+`))};function m4(t){return t.replace(/\]|\[/g,"")}function p4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function lD(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var h=n[u].types,g=h&&h[a.code];n[u]=nb(u,e,n,i,g?[].concat(g,a.message):a.message)}t.shift()}return n}function oD(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if(a.code==="invalid_union"&&a.errors.length>0){var f=a.errors[0][0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var h=n[u].types,g=h&&h[a.code];n[u]=nb(u,e,n,i,g?[].concat(g,a.message):a.message)}t.shift()}return n}function Vf(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,i,l){try{return Promise.resolve(p4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(u){return l.shouldUseNativeValidation&&o2({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:h4(lD(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,i,l){try{return Promise.resolve(p4(function(){return Promise.resolve((n.mode==="sync"?$R:QR)(t,a,e)).then(function(u){return l.shouldUseNativeValidation&&o2({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return f instanceof $2})(u))return{values:{},errors:h4(oD(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}async function yw(t){const{data:e}=await Jt.from("users").select("id").eq("email",t).maybeSingle();return!!e}async function uD(t){const{data:e}=await Jt.from("users").select("id").eq("username",t).maybeSingle();return!!e}const cD=Ff({email:W2("invalid email"),password:Xr("Password Required")}),dD=Ff({email:W2("Invalid email address")});function fD(){const t=_m(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),{register:l,handleSubmit:u,setError:f,formState:{errors:h,isSubmitting:g}}=qf({resolver:Vf(cD)}),{register:v,handleSubmit:_,formState:{errors:w,isSubmitting:C}}=qf({resolver:Vf(dD)}),T=async M=>{M.preventDefault();try{const{data:z,error:k}=await Jt.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://x3nozite.github.io/rect-up/"}});if(k){console.error("cant handle oauth:",k);return}}catch(z){console.error("cant sign in with google: ",z)}},R=async M=>{try{const{email:z,password:k}=M;if(!await yw(z)){f("email",{message:"Email is not yet registered!"});return}const{error:U}=await Jt.auth.signInWithPassword({email:z,password:k});if(U){alert(U.message);return}alert("login successful!"),t("/")}catch(z){f("root",{message:"Error! "+z}),alert("Error sign in!: "+z)}},O=async M=>{try{const z="https://x3nozite.github.io/rect-up/",{error:k}=await Jt.auth.resetPasswordForEmail(M.email,{redirectTo:`${z}#/reset-password`});if(k){alert("Error: "+k.message);return}i(!0)}catch(z){alert("Error sending reset email: "+z)}},j=()=>{n(!1),i(!1)};return x.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[x.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[x.jsx(Y3,{className:"text-lg"}),x.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),x.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden ",children:[x.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),x.jsxs("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:[" ","The all in one task management app"]})]}),x.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:x.jsx("img",{src:dv,alt:"",className:"object-cover w-full h-full"})}),x.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2 overflow-auto",children:[x.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:x.jsxs("div",{className:"my-company flex flex-col text-center  lg:flex",children:[x.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),x.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),x.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[x.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[x.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),x.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),x.jsx("div",{className:"main-form ",children:x.jsxs("form",{className:"flex flex-col justify-between",onSubmit:u(R),children:[x.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[x.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),x.jsx("input",{...l("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),h.email&&x.jsx("div",{className:"text-red-500",children:h.email?.message})]}),x.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[x.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[x.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),x.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",onClick:()=>n(!0),children:"Forgot Password?"})]}),x.jsx("input",{...l("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),h.password&&x.jsx("div",{className:"text-red-500",children:h.password?.message})]}),x.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[x.jsx("div",{className:"flex justify-center items-center w-full",children:x.jsx("button",{type:"submit",disabled:g,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:g?"Loading...":"Continue with email"})}),x.jsx("div",{className:"flex justify-center items-center w-full",children:x.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),x.jsxs("button",{onClick:T,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[x.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})})]})]}),x.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:x.jsx("img",{src:dv,alt:"",className:"object-cover w-full h-full"})}),e&&x.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[x.jsx("button",{onClick:j,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl",children:""}),a?x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"success-icon mb-4",children:x.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:x.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Check your email"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and click the link to reset your password."}),x.jsx("button",{onClick:j,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Close"})]}):x.jsxs(x.Fragment,{children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Forgot Password"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),x.jsxs("form",{onSubmit:_(O),children:[x.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[x.jsx("label",{htmlFor:"forgot-email",className:"font-bold",children:"Email"}),x.jsx("input",{...v("email"),type:"email",id:"forgot-email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),w.email&&x.jsx("div",{className:"text-red-500 text-sm",children:w.email?.message})]}),x.jsx("button",{type:"submit",disabled:C,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:C?"Sending...":"Send Reset Link"})]})]})]})})]})}const hD=Ff({username:Xr().min(1,"Username is required"),email:W2("Email is required"),password:Xr("Password is required").min(8,"Password at least 8 characters long"),confirmPassword:Xr()}).superRefine(async({confirmPassword:t,password:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Password must match",path:["confirmPassword"]})});function mD(){const{register:t,handleSubmit:e,setError:n,formState:{errors:a,isSubmitting:i}}=qf({resolver:Vf(hD),mode:"onSubmit"}),l=_m(),u=async f=>{try{const{username:h,email:g,password:v}=f,_=await yw(g),w=await uD(h);if(_){n("email",{message:"Email already exists"});return}if(w){n("username",{message:"Username already exists!"});return}const{error:C}=await Jt.auth.signUp({email:g,password:v,options:{data:{username:h}}});if(C){n("root",{message:C.message}),alert("Error creating account: "+C.message);return}alert("Account created successfully, please verify email"),l("/signin")}catch(h){n("root",{message:"Error!"+h}),alert("Error creating account: "+h)}};return x.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[x.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>l("/"),children:[x.jsx(Y3,{className:"text-lg"}),x.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),x.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[x.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),x.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),x.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[x.jsx("img",{src:dv,alt:"",className:"object-cover w-full h-full"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),x.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:x.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[x.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[x.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),x.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),x.jsx("div",{className:"main-form",children:x.jsxs("form",{onSubmit:e(u),className:"flex flex-col justify-between",autoComplete:"off",children:[x.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[x.jsx("label",{className:"font-bold",children:"Username"}),x.jsx("input",{...t("username"),type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-username"}),a.username&&x.jsx("div",{className:"text-red-500",children:a.username?.message})]}),x.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[x.jsx("label",{className:"font-bold",children:"Email"}),x.jsx("input",{...t("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-email"}),a.email&&x.jsx("div",{className:"text-red-500",children:a.email?.message})]}),x.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[x.jsx("label",{className:"font-bold",children:"Password"}),x.jsx("input",{...t("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-password"}),a.password&&x.jsx("div",{className:"text-red-500",children:a.password?.message})]}),x.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[x.jsx("label",{className:"font-bold",children:"Confirm Password"}),x.jsx("input",{...t("confirmPassword"),type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-confirmPassword"}),a.confirmPassword&&x.jsx("div",{className:"text-red-500",children:a.confirmPassword?.message})]}),x.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[x.jsx("button",{type:"submit",disabled:i,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:i?"Loading...":"Create Account"}),x.jsx("button",{onClick:()=>l("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]}),a.root&&x.jsx("div",{className:"text-red-500",children:a.root.message})]})})]})}),x.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:x.jsx("img",{src:dv,alt:"",className:"object-cover w-full h-full"})})]})}const pD=Ff({password:Xr().min(8,"Password must be at least 8 characters long"),confirmPassword:Xr()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function gD(){const t=_m(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),[l,u]=N.useState(!0),[f,h]=N.useState(""),{register:g,handleSubmit:v,formState:{errors:_,isSubmitting:w}}=qf({resolver:Vf(pD)});N.useEffect(()=>{(async()=>{try{const j=window.location.hash.split("#"),M=j.length>2?j[2]:j[1],z=new URLSearchParams(M),k=z.get("error"),q=z.get("error_description");if(k){console.error("Supabase error:",k,q),k==="access_denied"&&q?.includes("expired")?h("The reset link has expired. Password reset links are valid for 1 hour only."):h("Invalid reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}const U=z.get("access_token"),Y=z.get("refresh_token"),$=z.get("type");if(U&&$==="recovery"){const{data:ne,error:pe}=await Jt.auth.setSession({access_token:U,refresh_token:Y||""});if(pe){console.error("Session error:",pe),h("Failed to validate reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}ne.session&&(i(!0),u(!1))}else h("No valid reset token found. Please request a new reset link."),u(!1),setTimeout(()=>{t("/signin")},3e3)}catch(O){console.error("Error in handlePasswordReset:",O),h("An error occurred. Please try again."),u(!1),setTimeout(()=>{t("/signin")},3e3)}})();const{data:R}=Jt.auth.onAuthStateChange((O,j)=>{O==="PASSWORD_RECOVERY"&&j&&(i(!0),u(!1))});return()=>{R.subscription.unsubscribe()}},[t]);const C=async T=>{try{const{error:R}=await Jt.auth.updateUser({password:T.password});if(R){alert("Error: "+R.message);return}n(!0),setTimeout(()=>{t("/signin")},3e3)}catch(R){alert("Error resetting password: "+R)}};return l?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-lg text-gray-700",children:"Validating reset link..."})]})}):f?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:x.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[x.jsx("div",{className:"error-icon mb-4",children:x.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:x.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),x.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"Link Invalid"}),x.jsx("p",{className:"text-gray-600 mb-6",children:f}),x.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Back to Sign In"})]})}):e?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[x.jsx("div",{className:"success-icon mb-4",children:x.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:x.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Reset Successfully!"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You will be redirected to the sign in page in a few seconds."}),x.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Sign In Now"})]})}):a?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reset Password"}),x.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),x.jsxs("form",{className:"flex flex-col gap-6",onSubmit:v(C),children:[x.jsxs("div",{className:"flex flex-col gap-y-2",children:[x.jsx("label",{htmlFor:"password",className:"font-bold",children:"New Password"}),x.jsx("input",{...g("password"),type:"password",placeholder:"Enter new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.password&&x.jsx("div",{className:"text-red-500 text-sm",children:_.password?.message})]}),x.jsxs("div",{className:"flex flex-col gap-y-2",children:[x.jsx("label",{htmlFor:"confirmPassword",className:"font-bold",children:"Confirm Password"}),x.jsx("input",{...g("confirmPassword"),type:"password",placeholder:"Confirm new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.confirmPassword&&x.jsx("div",{className:"text-red-500 text-sm",children:_.confirmPassword?.message})]}),x.jsx("button",{type:"submit",disabled:w,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:w?"Resetting...":"Reset Password"})]})]})}):x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-lg",children:"Redirecting..."})})})}const vD=Math.PI/180;function yD(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Dc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ve={_global:Dc,version:"10.0.2",isBrowser:yD(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ve.angleDeg?t*vD:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ve.DD.isDragging},isTransforming(){var t,e;return(e=(t=Ve.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Ve.DD.node},releaseCanvasOnDestroy:!0,document:Dc.document,_injectGlobal(t){typeof Dc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Dc.Konva=t}},Yn=t=>{Ve[t.prototype.getClassName()]=t};Ve._injectGlobal(Ve);const bD=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,g4=()=>{if(typeof document>"u")throw new Error(bD)};class ci{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new ci(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,f=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=l,this.m[2]=u,this.m[3]=f,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=l,this.m[3]=u,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],f=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,l=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),f=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],l=this.m[4],u=this.m[5],f=e*i-n*a,h={x:l,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const g=Math.sqrt(e*e+n*n);h.rotation=n>0?Math.acos(e/g):-Math.acos(e/g),h.scaleX=g,h.scaleY=f/g,h.skewX=(e*a+n*i)/f,h.skewY=0}else if(a!=0||i!=0){const g=Math.sqrt(a*a+i*i);h.rotation=Math.PI/2-(i>0?Math.acos(-a/g):-Math.acos(a/g)),h.scaleX=f/g,h.scaleY=g,h.skewX=0,h.skewY=(e*a+n*i)/f}return h.rotation=le._getRotation(h.rotation),h}}const _D="[object Array]",xD="[object Number]",wD="[object String]",SD="[object Boolean]",ED=Math.PI/180,CD=180/Math.PI,cy="#",TD="",AD="0",RD="Konva warning: ",v4="Konva error: ",OD="rgb(",dy={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},ND=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let xg=[];const jD=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},le={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===_D},_isNumber(t){return Object.prototype.toString.call(t)===xD&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===wD},_isBoolean(t){return Object.prototype.toString.call(t)===SD},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){xg.push(t),xg.length===1&&jD(function(){const e=xg;xg=[],e.forEach(function(n){n()})})},createCanvasElement(){g4();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return g4(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=le.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(cy,TD);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=AD+t;return cy+t},getRGB(t){let e;return t in dy?(e=dy[t],{r:e[0],g:e[1],b:e[2]}):t[0]===cy?this._hexToRgb(t.substring(1)):t.substr(0,4)===OD?(e=ND.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",le._namedColorToRBA(t)||le._hex3ColorToRGBA(t)||le._hex4ColorToRGBA(t)||le._hex6ColorToRGBA(t)||le._hex8ColorToRGBA(t)||le._rgbColorToRGBA(t)||le._rgbaColorToRGBA(t)||le._hslColorToRGBA(t)},_namedColorToRBA(t){const e=dy[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,l=Number(n[2])/100;let u,f,h;if(i===0)return h=l*255,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};l<.5?u=l*(1+i):u=l+i-l*i;const g=2*l-u,v=[0,0,0];for(let _=0;_<3;_++)f=a+1/3*-(_-1),f<0&&f++,f>1&&f--,6*f<1?h=g+(u-g)*6*f:2*f<1?h=u:3*f<2?h=g+(u-g)*(2/3-f)*6:h=g,v[_]=h*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*ED},radToDeg(t){return t*CD},_degToRad(t){return le.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),le.degToRad(t)},_radToDeg(t){return le.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),le.radToDeg(t)},_getRotation(t){return Ve.angleDeg?le.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(v4+t)},error(t){console.error(v4+t)},warn(t){Ve.showWarnings&&console.warn(RD+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,l){let u,f,h;const g=(t-n)*(t-n)+(e-a)*(e-a);if(g==0)u=t,f=e,h=(i-n)*(i-n)+(l-a)*(l-a);else{const v=((i-t)*(n-t)+(l-e)*(a-e))/g;v<0?(u=t,f=e,h=(t-i)*(t-i)+(e-l)*(e-l)):v>1?(u=n,f=a,h=(n-i)*(n-i)+(a-l)*(a-l)):(u=t+v*(n-t),f=e+v*(a-e),h=(u-i)*(u-i)+(f-l)*(f-l))}return[u,f,h]},_getProjectionToLine(t,e,n){const a=le.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(l,u){if(!n&&u===e.length-1)return;const f=e[(u+1)%e.length],h=le._getProjectionToSegment(l.x,l.y,f.x,f.y,t.x,t.y),g=h[0],v=h[1],_=h[2];_<i&&(a.x=g,a.y=v,i=_)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const u=e;e=t,t=u}for(let u=0;u<t.length;u+=2)a.push({x:t[u],y:t[u+1]});for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const l=[];return i.forEach(function(u){const f=le._getProjectionToLine(u,a,n);l.push(f.x),l.push(f.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||le._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(le._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Ve.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let u=0,f=0,h=0,g=0;typeof a=="number"?u=f=h=g=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),f=Math.min(a[1]||0,e/2,n/2),g=Math.min(a[2]||0,e/2,n/2),h=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+u,l),t.lineTo(i+e-f,l),t.arc(i+e-f,l+f,f,Math.PI*3/2,0,!1),t.lineTo(i+e,l+n-g),t.arc(i+e-g,l+n-g,g,0,Math.PI/2,!1),t.lineTo(i+h,l+n),t.arc(i+h,l+n-h,h,Math.PI/2,Math.PI,!1),t.lineTo(i,l+u),t.arc(i+u,l+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let l=0;l<n;l++){const u=e[(l-1+n)%n],f=e[l],h=e[(l+1)%n],g={x:f.x-u.x,y:f.y-u.y},v={x:h.x-f.x,y:h.y-f.y},_=Math.hypot(g.x,g.y),w=Math.hypot(v.x,v.y);let C;typeof i=="number"?C=i:C=l<i.length?i[l]:0,C=a*Math.cos(Math.PI/n)*Math.min(1,C/a*2);const R={x:g.x/_,y:g.y/_},O={x:v.x/w,y:v.y/w},j={x:f.x-R.x*C,y:f.y-R.y*C},M={x:f.x+O.x*C,y:f.y+O.y*C};l===0?t.moveTo(j.x,j.y):t.lineTo(j.x,j.y),t.arcTo(f.x,f.y,M.x,M.y,C)}}};function MD(t){const e=[],n=t.length,a=le;for(let i=0;i<n;i++){let l=t[i];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const y4=",",DD="(",zD=")",kD="([",LD="])",UD=";",PD="()",BD="=",b4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],HD=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],GD=100;let wg=null;function _4(){if(wg!==null)return wg;try{const e=le.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(wg=!1,!1)}catch{return wg=!1,!1}}class Vv{constructor(e){this.canvas=e,Ve.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,l="",u,f,h,g;for(u=0;u<i;u++)f=a[u],h=f.method,h?(g=f.args,l+=h,e?l+=PD:le._isArray(g[0])?l+=kD+g.join(y4)+LD:(n&&(g=g.map(v=>typeof v=="number"?Math.floor(v):v)),l+=DD+g.join(y4)+zD)):(l+=f.property,e||(l+=BD+f.val)),l+=UD;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=GD&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,l,u){this._context.arc(e,n,a,i,l,u)}arcTo(e,n,a,i,l){this._context.arcTo(e,n,a,i,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,l,u){this._context.bezierCurveTo(e,n,a,i,l,u)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,l,u){return this._context.createRadialGradient(e,n,a,i,l,u)}drawImage(e,n,a,i,l,u,f,h,g){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,i,l):v.length===9&&_.drawImage(e,n,a,i,l,u,f,h,g)}ellipse(e,n,a,i,l,u,f,h){this._context.ellipse(e,n,a,i,l,u,f,h)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,l){this._context.roundRect(e,n,a,i,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,l,u){this._context.setTransform(e,n,a,i,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,l,u){this._context.transform(e,n,a,i,l,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=b4.length,a=this.setAttr,i,l;const u=function(f){let h=e[f],g;e[f]=function(){return l=MD(Array.prototype.slice.call(arguments,0)),g=h.apply(e,arguments),e._trace({method:f,args:l}),g}};for(i=0;i<n;i++)u(b4[i]);e.setAttr=function(){a.apply(e,arguments);const f=arguments[0];let h=arguments[1];(f==="shadowOffsetX"||f==="shadowOffsetY"||f==="shadowBlur")&&(h=h/this.canvas.getPixelRatio()),e._trace({property:f,val:h})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}HD.forEach(function(t){Object.defineProperty(Vv.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class qD extends Vv{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let u=0;u<i.length;u+=2)l.addColorStop(i[u],i[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,f=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},h=e.getAbsoluteScale(),g=this.canvas.getPixelRatio(),v=h.x*g,_=h.y*g;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",f.x*v),this.setAttr("shadowOffsetY",f.y*_)}}class VD extends Vv{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Sg;function YD(){if(Sg)return Sg;const t=le.createCanvasElement(),e=t.getContext("2d");return Sg=(function(){const n=Ve._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),le.releaseCanvas(t),Sg}class ib{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||Ve.pixelRatio||YD();this.pixelRatio=a,this._canvas=le.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return le.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class mu extends ib{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new qD(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function x4(){const t=le.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function w4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let S4=!1;function ID(){return w4()&&x4()&&!S4&&(S4=!0,le.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),w4()&&x4()}class sb extends ib{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new VD(this),this.setSize(e.width,e.height),ID()}}const fn={get isDragging(){let t=!1;return fn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return fn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];fn._dragElements.forEach((n,a)=>{const{node:i}=n,l=i.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=le._getFirstPointerId(t));const u=l._changedPointerPositions.find(f=>f.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const f=i.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<f||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];fn._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(f=>f.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(fn.justDragged=!0,Ve._mouseListenClick=!1,Ve._touchListenClick=!1,Ve._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof Ve.Stage&&n.node;u&&e.indexOf(u)===-1&&e.push(u)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){fn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&fn._dragElements.delete(n)})}};Ve.isBrowser&&(window.addEventListener("mouseup",fn._endDragBefore,!0),window.addEventListener("touchend",fn._endDragBefore,!0),window.addEventListener("touchcancel",fn._endDragBefore,!0),window.addEventListener("mousemove",fn._drag),window.addEventListener("touchmove",fn._drag),window.addEventListener("mouseup",fn._endDragAfter,!1),window.addEventListener("touchend",fn._endDragAfter,!1),window.addEventListener("touchcancel",fn._endDragAfter,!1));function xu(t){return le._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||le._isBoolean(t)?t:Object.prototype.toString.call(t)}function bw(t){return t>255?255:t<0?0:Math.round(t)}function He(){if(Ve.isUnminified)return function(t,e){return le._isNumber(t)||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Yv(t){if(Ve.isUnminified)return function(e,n){let a=le._isNumber(e),i=le._isArray(e)&&e.length==t;return!a&&!i&&le.warn(xu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function lb(){if(Ve.isUnminified)return function(t,e){return le._isNumber(t)||t==="auto"||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Vc(){if(Ve.isUnminified)return function(t,e){return le._isString(t)||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function _w(){if(Ve.isUnminified)return function(t,e){const n=le._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function ZD(){if(Ve.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(le._isArray(t)?t.forEach(function(a){le._isNumber(a)||le.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Cs(){if(Ve.isUnminified)return function(t,e){return t===!0||t===!1||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function XD(t){if(Ve.isUnminified)return function(e,n){return e==null||le.isObject(e)||le.warn(xu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const R0="get",O0="set",I={addGetterSetter(t,e,n,a,i){I.addGetter(t,e,n),I.addSetter(t,e,a,i),I.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=R0+le._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=O0+le._capitalize(e);t.prototype[i]||I.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=O0+le._capitalize(e);t.prototype[i]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const l=n.length,u=le._capitalize,f=R0+u(e),h=O0+u(e);t.prototype[f]=function(){const v={};for(let _=0;_<l;_++){const w=n[_];v[w]=this.getAttr(e+u(w))}return v};const g=XD(n);t.prototype[h]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),g&&g.call(this,v,e);for(const w in v)v.hasOwnProperty(w)&&this._setAttr(e+u(w),v[w]);return v||n.forEach(w=>{this._setAttr(e+u(w),void 0)}),this._fireChangeEvent(e,_,v),i&&i.call(this),this},I.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=le._capitalize(e),a=O0+n,i=R0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){le.error("Adding deprecated "+e);const i=R0+le._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){le.error(l);const u=this.attrs[e];return u===void 0?n:u},I.addSetter(t,e,a,function(){le.error(l)}),I.addOverloadedGetterSetter(t,e)},backCompat(t,e){le.each(e,function(n,a){const i=t.prototype[a],l=R0+le._capitalize(n),u=O0+le._capitalize(n);function f(){i.apply(this,arguments),le.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=f,t.prototype[l]=f,t.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}};function KD(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const l=parseFloat(i.replace("px",""));return function(u){this.blurRadius(l*.5);const f=Ve.Filters;f&&f.Blur&&f.Blur.call(this,u)}}case"brightness":{const l=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(u){this.brightness(l);const f=Ve.Filters;f&&f.Brightness&&f.Brightness.call(this,u)}}case"contrast":{const l=parseFloat(i);return function(u){const f=100*(Math.sqrt(l)-1);this.contrast(f);const h=Ve.Filters;h&&h.Contrast&&h.Contrast.call(this,u)}}case"grayscale":return function(l){const u=Ve.Filters;u&&u.Grayscale&&u.Grayscale.call(this,l)};case"sepia":return function(l){const u=Ve.Filters;u&&u.Sepia&&u.Sepia.call(this,l)};case"invert":return function(l){const u=Ve.Filters;u&&u.Invert&&u.Invert.call(this,l)};default:le.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Fg="absoluteOpacity",Eg="allEventListeners",ao="absoluteTransform",E4="absoluteScale",Cc="canvas",FD="Change",$D="children",QD="konva",u2="listening",WD="mouseenter",JD="mouseleave",ez="pointerenter",tz="pointerleave",nz="touchenter",az="touchleave",C4="set",T4="Shape",$g=" ",A4="stage",lu="transform",rz="Stage",c2="visible",iz=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join($g);let sz=1,Ge=class d2{constructor(e){this._id=sz++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===lu||e===ao)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===lu||e===ao)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(l=>l+"Change.konva").join($g);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(Cc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===ao&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Cc)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(Cc);le.releaseCanvas(e,n,a,i),this._cache.delete(Cc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),u=n.pixelRatio,f=n.x===void 0?Math.floor(a.x):n.x,h=n.y===void 0?Math.floor(a.y):n.y,g=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!i||!l){le.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const w=Math.abs(Math.round(a.x)-f)>.5?1:0,C=Math.abs(Math.round(a.y)-h)>.5?1:0;i+=g*2+w,l+=g*2+C,f-=g,h-=g;const T=new mu({pixelRatio:u,width:i,height:l}),R=new mu({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),O=new sb({pixelRatio:_,width:i,height:l}),j=T.getContext(),M=O.getContext(),z=new mu({width:T.width/T.pixelRatio+Math.abs(f),height:T.height/T.pixelRatio+Math.abs(h),pixelRatio:T.pixelRatio}),k=z.getContext();return O.isCache=!0,T.isCache=!0,this._cache.delete(Cc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(T.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),j.save(),M.save(),k.save(),j.translate(-f,-h),M.translate(-f,-h),k.translate(-f,-h),z.x=f,z.y=h,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Fg),this._clearSelfAndDescendantCache(E4),this.drawScene(T,this,z),this.drawHit(O,this),this._isUnderCache=!1,j.restore(),M.restore(),v&&(j.save(),j.beginPath(),j.rect(0,0,i,l),j.closePath(),j.setAttr("strokeStyle","red"),j.setAttr("lineWidth",5),j.stroke(),j.restore()),this._cache.set(Cc,{scene:T,filter:R,hit:O,buffer:z,x:f,y:h}),this._requestDraw(),this}isCached(){return this._cache.has(Cc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,l=1/0,u=-1/0,f=-1/0;const h=this.getAbsoluteTransform(n);return a.forEach(function(g){const v=h.point(g);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),{x:i,y:l,width:u-i,height:f-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,l=i.getContext(),u,f,h,g;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let v=!0;for(let w=0;w<e.length;w++)if(typeof e[w]=="string"&&_4(),typeof e[w]!="string"||!_4()){v=!1;break}const _=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const w=e.join(" ");return l.save(),l.setAttr("filter",w),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,i}try{for(u=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),f=l.getImageData(0,0,i.getWidth(),i.getHeight()),h=0;h<u;h++)g=e[h],typeof g=="string"&&(g=KD(g)),g.call(this,f),l.putImageData(f,0,0)}catch(w){le.error("Unable to apply filter. "+w.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(Eg),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split($g);for(let i=0;i<a.length;i++){const u=a[i].split("."),f=u[0],h=u[1]||"";this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:h,handler:n})}return this}off(e,n){let a=(e||"").split($g),i=a.length,l,u,f,h,g,v;if(this._cache&&this._cache.delete(Eg),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<i;l++)if(f=a[l],h=f.split("."),g=h[0],v=h[1],g)this.eventListeners[g]&&this._off(g,v,n);else for(u in this.eventListeners)this._off(u,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(l){const u=l.target.findAncestors(n,!0,i);for(let f=0;f<u.length;f++)l=le.cloneObject(l),l.currentTarget=u[f],a.call(u[f],l)})}remove(){return this.isDragging()&&this.stopDrag(),fn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ao),this._clearSelfAndDescendantCache(Fg),this._clearSelfAndDescendantCache(E4),this._clearSelfAndDescendantCache(A4),this._clearSelfAndDescendantCache(c2),this._clearSelfAndDescendantCache(u2)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+le._capitalize(e);return le._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==$D&&(a=C4+le._capitalize(n),le._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(u2,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(c2,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;fn._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(i=!0)});const l=!n&&!Ve.hitOnDragEnabled&&(i||Ve.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,l,u,f;function h(v){for(i=[],l=v.length,u=0;u<l;u++)f=v[u],a++,f.nodeType!==T4&&(i=i.concat(f.getChildren().slice())),f._id===n._id&&(u=l);i.length>0&&i[0].getDepth()<=e&&h(i)}const g=this.getStage();return n.nodeType!==rz&&g&&h(g.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(lu),this._clearSelfAndDescendantCache(ao)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),l=new ci,u=this.offset();return l.m=i.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(lu);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(lu),this._clearSelfAndDescendantCache(ao),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),l=this.y();return n!==void 0&&(i+=n),a!==void 0&&(l+=a),this.setPosition({x:i,y:l}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),l,u;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(l=a.length,u=0;u<l;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return le.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return le.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return le.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return le.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return le.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&le.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Fg,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,l,u;const f={attrs:{},className:this.getClassName()};for(n in e)a=e[n],u=le.isObject(a)&&!le._isPlainObject(a)&&!le._isArray(a),!u&&(i=typeof this[n]=="function"&&this[n],delete e[n],l=i?i.call(this):null,e[n]=a,l!==a&&(f.attrs[n]=a));return le._prepareToStringify(f)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let l=this.parent;for(;l;){if(l===a)return i;l._isMatch(e)&&i.push(l),l=l.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,l;for(i=0;i<a;i++)if(l=n[i],le.isValidSelector(l)||(le.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),le.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),le.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(A4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(ao,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new ci,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(ao)||new ci,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;n.translate(i-u,l-f)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(lu,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(lu)||new ci;a.reset();const i=this.x(),l=this.y(),u=Ve.getAngle(this.rotation()),f=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,h=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,g=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,w=this.attrs.offsetY||0;return(i!==0||l!==0)&&a.translate(i,l),u!==0&&a.rotate(u),(g!==0||v!==0)&&a.skew(g,v),(f!==1||h!==1)&&a.scale(f,h),(_!==0||w!==0)&&a.translate(-1*_,-1*w),a.dirty=!1,a}clone(e){let n=le.cloneObject(this.attrs),a,i,l,u,f;for(a in e)n[a]=e[a];const h=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],l=i.length,u=0;u<l;u++)f=i[u],f.name.indexOf(QD)<0&&(h.eventListeners[a]||(h.eventListeners[a]=[]),h.eventListeners[a].push(f));return h}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),u=e.pixelRatio||1,f=new mu({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:u}),h=f.getContext(),g=new mu({width:f.width/f.pixelRatio+Math.abs(i),height:f.height/f.pixelRatio+Math.abs(l),pixelRatio:f.pixelRatio});return e.imageSmoothingEnabled===!1&&(h._context.imageSmoothingEnabled=!1),h.save(),(i||l)&&h.translate(-1*i,-1*l),this.drawScene(f,void 0,g),h.restore(),f}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,le._urlToImage(this.toDataURL(e),function(l){n(l),i?.(l)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),i?.(l)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ve.dragDistance}_off(e,n,a){let i=this.eventListeners[e],l,u,f;for(l=0;l<i.length;l++)if(u=i[l].name,f=i[l].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===f)){if(i.splice(l,1),i.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+FD,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[C4+le._capitalize(e)];return le._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ve.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!le.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===T4&&(n.target=this);const i=[WD,JD,ez,tz,nz,az];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const u=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const l=(n=this._cache.get(Eg))!==null&&n!==void 0?n:{};let u=l?.[e];if(u===void 0){u=[];let f=Object.getPrototypeOf(this);for(;f;){const h=(i=(a=f.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];u.push(...h),f=Object.getPrototypeOf(f)}l[e]=u,this._cache.set(Eg,l)}return u}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let l=0;l<i.length;l++)i[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||i;fn._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-i.x,y:l.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){fn._dragElements.has(this._id)||this._createDragElement(e);const a=fn._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,i,e);u?i=u:le.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=fn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),fn._endDragBefore(e),fn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=fn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ve.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;fn._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=fn._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&fn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return le.haveIntersection(a,this.getClientRect())}static create(e,n){return le._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=d2.prototype.getClassName.call(e),i=e.children,l,u,f;n&&(e.attrs.container=n),Ve[a]||(le.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const h=Ve[a];if(l=new h(e.attrs),i)for(u=i.length,f=0;f<u;f++)l.add(d2._createNode(i[f]));return l}};Ge.prototype.nodeType="Node";Ge.prototype._attrsAffectingSize=[];Ge.prototype.eventListeners={};Ge.prototype.on.call(Ge.prototype,iz,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(lu),this._clearSelfAndDescendantCache(ao)});Ge.prototype.on.call(Ge.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(c2)});Ge.prototype.on.call(Ge.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(u2)});Ge.prototype.on.call(Ge.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Fg)});const Nn=I.addGetterSetter;Nn(Ge,"zIndex");Nn(Ge,"absolutePosition");Nn(Ge,"position");Nn(Ge,"x",0,He());Nn(Ge,"y",0,He());Nn(Ge,"globalCompositeOperation","source-over",Vc());Nn(Ge,"opacity",1,He());Nn(Ge,"name","",Vc());Nn(Ge,"id","",Vc());Nn(Ge,"rotation",0,He());I.addComponentsGetterSetter(Ge,"scale",["x","y"]);Nn(Ge,"scaleX",1,He());Nn(Ge,"scaleY",1,He());I.addComponentsGetterSetter(Ge,"skew",["x","y"]);Nn(Ge,"skewX",0,He());Nn(Ge,"skewY",0,He());I.addComponentsGetterSetter(Ge,"offset",["x","y"]);Nn(Ge,"offsetX",0,He());Nn(Ge,"offsetY",0,He());Nn(Ge,"dragDistance",void 0,He());Nn(Ge,"width",0,He());Nn(Ge,"height",0,He());Nn(Ge,"listening",!0,Cs());Nn(Ge,"preventDefault",!0,Cs());Nn(Ge,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Nn(Ge,"visible",!0,Cs());Nn(Ge,"transformsEnabled","all",Vc());Nn(Ge,"size");Nn(Ge,"dragBoundFunc");Nn(Ge,"draggable",!1,Cs());I.backCompat(Ge,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class di extends Ge{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const l=i._isMatch(e);return l&&a.push(i),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Ge.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Ge.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas(),u=l&&l.getContext(),f=this._getCanvasCache(),h=f&&f.scene,g=l&&l.isCache;if(!this.isVisible()&&!g)return this;if(h){u.save();const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,l=i&&i.getContext(),u=this._getCanvasCache();if(u&&u.hit){l.save();const h=this.getAbsoluteTransform(n).getMatrix();l.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var l;const u=n&&n.getContext(),f=this.clipWidth(),h=this.clipHeight(),g=this.clipFunc(),v=typeof f=="number"&&typeof h=="number"||g,_=a===this;if(v){u.save();const C=this.getAbsoluteTransform(a);let T=C.getMatrix();u.transform(T[0],T[1],T[2],T[3],T[4],T[5]),u.beginPath();let R;if(g)R=g.call(this,u,this);else{const O=this.clipX(),j=this.clipY();u.rect(O||0,j||0,f,h)}u.clip.apply(u,R),T=C.copy().invert().getMatrix(),u.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const w=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";w&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(C){C[e](n,a,i)}),w&&u.restore(),v&&u.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let l,u,f,h,g={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(C){if(!C.visible())return;const T=C.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(l===void 0?(l=T.x,u=T.y,f=T.x+T.width,h=T.y+T.height):(l=Math.min(l,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x+T.width),h=Math.max(h,T.y+T.height)))});const _=this.find("Shape");let w=!1;for(let C=0;C<_.length;C++)if(_[C]._isVisible(this)){w=!0;break}return w&&l!==void 0?g={x:l,y:u,width:f-l,height:h-u}:g={x:0,y:0,width:0,height:0},a?g:this._transformedRect(g,i)}}I.addComponentsGetterSetter(di,"clip",["x","y","width","height"]);I.addGetterSetter(di,"clipX",void 0,He());I.addGetterSetter(di,"clipY",void 0,He());I.addGetterSetter(di,"clipWidth",void 0,He());I.addGetterSetter(di,"clipHeight",void 0,He());I.addGetterSetter(di,"clipFunc");const um=new Map,xw=Ve._global.PointerEvent!==void 0;function fy(t){return um.get(t)}function ob(t){return{evt:t,pointerId:t.pointerId}}function ww(t,e){return um.get(t)===e}function Sw(t,e){Q0(t),e.getStage()&&(um.set(t,e),xw&&e._fire("gotpointercapture",ob(new PointerEvent("gotpointercapture"))))}function Q0(t,e){const n=um.get(t);if(!n)return;const a=n.getStage();a&&a.content,um.delete(t),xw&&n._fire("lostpointercapture",ob(new PointerEvent("lostpointercapture")))}const lz="Stage",oz="string",R4="px",uz="mouseout",Ew="mouseleave",Cw="mouseover",Tw="mouseenter",Aw="mousemove",Rw="mousedown",Ow="mouseup",H0="pointermove",G0="pointerdown",Mf="pointerup",q0="pointercancel",cz="lostpointercapture",Cg="pointerout",V0="pointerleave",Tg="pointerover",Ag="pointerenter",f2="contextmenu",Nw="touchstart",jw="touchend",Mw="touchmove",Dw="touchcancel",h2="wheel",dz=5,fz=[[Tw,"_pointerenter"],[Rw,"_pointerdown"],[Aw,"_pointermove"],[Ow,"_pointerup"],[Ew,"_pointerleave"],[Nw,"_pointerdown"],[Mw,"_pointermove"],[jw,"_pointerup"],[Dw,"_pointercancel"],[Cw,"_pointerover"],[h2,"_wheel"],[f2,"_contextmenu"],[G0,"_pointerdown"],[H0,"_pointermove"],[Mf,"_pointerup"],[q0,"_pointercancel"],[V0,"_pointerleave"],[cz,"_lostpointercapture"]],hy={mouse:{[Cg]:uz,[V0]:Ew,[Tg]:Cw,[Ag]:Tw,[H0]:Aw,[G0]:Rw,[Mf]:Ow,[q0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Cg]:"touchout",[V0]:"touchleave",[Tg]:"touchover",[Ag]:"touchenter",[H0]:Mw,[G0]:Nw,[Mf]:jw,[q0]:Dw,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Cg]:Cg,[V0]:V0,[Tg]:Tg,[Ag]:Ag,[H0]:H0,[G0]:G0,[Mf]:Mf,[q0]:q0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Y0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",vf=t=>{const e=Y0(t);if(e==="pointer")return Ve.pointerEventsEnabled&&hy.pointer;if(e==="touch")return hy.touch;if(e==="mouse")return hy.mouse};function O4(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&le.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const hz="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",W0=[];let Iv=class extends di{constructor(e){super(O4(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),W0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{O4(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||le.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===oz){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),di.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&le._isInDocument(e)&&this.container().removeChild(e);const n=W0.indexOf(this);return n>-1&&W0.splice(n,1),le.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(le.warn(hz),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new mu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(l){if(!l.isVisible())return;const u=l._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let l=i;l>=0;l--){const u=n[l].getIntersection(e);if(u)return u}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+R4,this.content.style.height=n+R4),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>dz&&le.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Ve.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ww(e,this)}setPointerCapture(e){Sw(e,this)}releaseCapture(e){Q0(e)}getLayers(){return this.children}_bindContentEvents(){Ve.isBrowser&&fz.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=vf(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=vf(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),l=!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled;i&&l?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(l=>{const u=this.getIntersection(l);if(fn.justDragged=!1,Ve["_"+a+"ListenClick"]=!0,!u||!u.isListening()){this[a+"ClickStartShape"]=void 0;return}Ve.capturePointerEventsEnabled&&u.setPointerCapture(l.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),i=!0;const f=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&f&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Ve.isDragging()&&fn.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled))return;const u={};let f=!1;const h=this._getTargetShape(a);this._changedPointerPositions.forEach(g=>{const v=fy(g.id)||this.getIntersection(g),_=g.id,w={evt:e,pointerId:_},C=h!==v;if(C&&h&&(h._fireAndBubble(n.pointerout,{...w},v),h._fireAndBubble(n.pointerleave,{...w},v)),v){if(u[v._id])return;u[v._id]=!0}v&&v.isListening()?(f=!0,C&&(v._fireAndBubble(n.pointerover,{...w},h),v._fireAndBubble(n.pointerenter,{...w},h),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...w})):h&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),f||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],u={};let f=!1;this._changedPointerPositions.forEach(h=>{const g=fy(h.id)||this.getIntersection(h);if(g){if(g.releaseCapture(h.id),u[g._id])return;u[g._id]=!0}const v=h.id,_={evt:e,pointerId:v};let w=!1;Ve["_"+a+"InDblClickWindow"]?(w=!0,clearTimeout(this[a+"DblTimeout"])):fn.justDragged||(Ve["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Ve["_"+a+"InDblClickWindow"]=!1},Ve.dblClickWindow),g&&g.isListening()?(f=!0,this[a+"ClickEndShape"]=g,g._fireAndBubble(n.pointerup,{..._}),Ve["_"+a+"ListenClick"]&&i&&i===g&&(g._fireAndBubble(n.pointerclick,{..._}),w&&l&&l===g&&g._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,f||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),f=!0),Ve["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),w&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),f||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ve["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(f2,{evt:e}):this._fire(f2,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(h2,{evt:e}):this._fire(h2,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=fy(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Mf,ob(e)),Q0(e.pointerId)}_lostpointercapture(e){Q0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:le._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:le._getFirstPointerId(e)}])}_setPointerPosition(e){le.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new mu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new sb({pixelRatio:1,width:this.width(),height:this.height()}),!Ve.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return le.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Iv.prototype.nodeType=lz;Yn(Iv);I.addGetterSetter(Iv,"container");Ve.isBrowser&&document.addEventListener("visibilitychange",()=>{W0.forEach(t=>{t.batchDraw()})});const zw="hasShadow",kw="shadowRGBA",Lw="patternImage",Uw="linearGradient",Pw="radialGradient";let Rg;function my(){return Rg||(Rg=le.createCanvasElement().getContext("2d"),Rg)}const J0={};function mz(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function pz(t){t.stroke()}function gz(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function vz(t){t.stroke()}function yz(){this._clearCache(zw)}function bz(){this._clearCache(kw)}function _z(){this._clearCache(Lw)}function xz(){this._clearCache(Uw)}function wz(){this._clearCache(Pw)}class ze extends Ge{constructor(e){super(e);let n;for(;n=le.getRandomColor(),!(n&&!(n in J0)););this.colorKey=n,J0[n]=this}getContext(){return le.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return le.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(zw,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Lw,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=my().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new ci;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Ve.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(Uw,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=my(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}_getRadialGradient(){return this._getCache(Pw,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=my(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}getShadowRGBA(){return this._getCache(kw,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=le.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ge.prototype.destroy.call(this),delete J0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),l=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(i&&l&&u)return!0;const f=this.hasShadow(),h=this.shadowForStrokeEnabled();return!!(i&&l&&f&&h)}setStrokeHitEnabled(e){le.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),h=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,g=u.width+h,v=u.height+h,_=!e.skipShadow&&this.hasShadow(),w=_?this.shadowOffsetX():0,C=_?this.shadowOffsetY():0,T=g+Math.abs(w),R=v+Math.abs(C),O=_&&this.shadowBlur()||0,j=T+O*2,M=R+O*2,z={width:j,height:M,x:-(h/2+O)+Math.min(w,0)+u.x,y:-(h/2+O)+Math.min(C,0)+u.y};return i?z:this._transformedRect(z,l)}drawScene(e,n,a){const i=this.getLayer(),l=e||i.getCanvas(),u=l.getContext(),f=this._getCanvasCache(),h=this.getSceneFunc(),g=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(f){u.save();const w=this.getAbsoluteTransform(n).getMatrix();return u.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!h)return this;if(u.save(),this._useBufferCanvas()){v=this.getStage();const w=a||v.bufferCanvas,C=w.getContext();C.clear(),C.save(),C._applyLineJoin(this),C._applyMiterLimit(this);const T=this.getAbsoluteTransform(n).getMatrix();C.transform(T[0],T[1],T[2],T[3],T[4],T[5]),h.call(this,C,this),C.restore();const R=w.pixelRatio;g&&u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(w._canvas,w.x||0,w.y||0,w.width/R,w.height/R)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!_){const w=this.getAbsoluteTransform(n).getMatrix();u.transform(w[0],w[1],w[2],w[3],w[4],w[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}g&&u._applyShadow(this),h.call(this,u,this)}return u.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),l=e||i.hitCanvas,u=l&&l.getContext(),f=this.hitFunc()||this.sceneFunc(),h=this._getCanvasCache(),g=h&&h.hit;if(this.colorKey||le.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),g){u.save();const _=this.getAbsoluteTransform(n).getMatrix();return u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!f)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return f.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,l=i.getContext(),u=i.getWidth(),f=i.getHeight();l.clear(),l.drawImage(a._canvas,0,0,u,f);try{const h=l.getImageData(0,0,u,f),g=h.data,v=g.length,_=le._hexToRgb(this.colorKey);for(let w=0;w<v;w+=4)g[w+3]>e?(g[w]=_.r,g[w+1]=_.g,g[w+2]=_.b,g[w+3]=255):g[w+3]=0;l.putImageData(h,0,0)}catch(h){le.error("Unable to draw hit graph from cached scene canvas. "+h.message)}return this}hasPointerCapture(e){return ww(e,this)}setPointerCapture(e){Sw(e,this)}releaseCapture(e){Q0(e)}}ze.prototype._fillFunc=mz;ze.prototype._strokeFunc=pz;ze.prototype._fillFuncHit=gz;ze.prototype._strokeFuncHit=vz;ze.prototype._centroid=!1;ze.prototype.nodeType="Shape";Yn(ze);ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",yz);ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",bz);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",_z);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",xz);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",wz);I.addGetterSetter(ze,"stroke",void 0,_w());I.addGetterSetter(ze,"strokeWidth",2,He());I.addGetterSetter(ze,"fillAfterStrokeEnabled",!1);I.addGetterSetter(ze,"hitStrokeWidth","auto",lb());I.addGetterSetter(ze,"strokeHitEnabled",!0,Cs());I.addGetterSetter(ze,"perfectDrawEnabled",!0,Cs());I.addGetterSetter(ze,"shadowForStrokeEnabled",!0,Cs());I.addGetterSetter(ze,"lineJoin");I.addGetterSetter(ze,"lineCap");I.addGetterSetter(ze,"miterLimit");I.addGetterSetter(ze,"sceneFunc");I.addGetterSetter(ze,"hitFunc");I.addGetterSetter(ze,"dash");I.addGetterSetter(ze,"dashOffset",0,He());I.addGetterSetter(ze,"shadowColor",void 0,Vc());I.addGetterSetter(ze,"shadowBlur",0,He());I.addGetterSetter(ze,"shadowOpacity",1,He());I.addComponentsGetterSetter(ze,"shadowOffset",["x","y"]);I.addGetterSetter(ze,"shadowOffsetX",0,He());I.addGetterSetter(ze,"shadowOffsetY",0,He());I.addGetterSetter(ze,"fillPatternImage");I.addGetterSetter(ze,"fill",void 0,_w());I.addGetterSetter(ze,"fillPatternX",0,He());I.addGetterSetter(ze,"fillPatternY",0,He());I.addGetterSetter(ze,"fillLinearGradientColorStops");I.addGetterSetter(ze,"strokeLinearGradientColorStops");I.addGetterSetter(ze,"fillRadialGradientStartRadius",0);I.addGetterSetter(ze,"fillRadialGradientEndRadius",0);I.addGetterSetter(ze,"fillRadialGradientColorStops");I.addGetterSetter(ze,"fillPatternRepeat","repeat");I.addGetterSetter(ze,"fillEnabled",!0);I.addGetterSetter(ze,"strokeEnabled",!0);I.addGetterSetter(ze,"shadowEnabled",!0);I.addGetterSetter(ze,"dashEnabled",!0);I.addGetterSetter(ze,"strokeScaleEnabled",!0);I.addGetterSetter(ze,"fillPriority","color");I.addComponentsGetterSetter(ze,"fillPatternOffset",["x","y"]);I.addGetterSetter(ze,"fillPatternOffsetX",0,He());I.addGetterSetter(ze,"fillPatternOffsetY",0,He());I.addComponentsGetterSetter(ze,"fillPatternScale",["x","y"]);I.addGetterSetter(ze,"fillPatternScaleX",1,He());I.addGetterSetter(ze,"fillPatternScaleY",1,He());I.addComponentsGetterSetter(ze,"fillLinearGradientStartPoint",["x","y"]);I.addComponentsGetterSetter(ze,"strokeLinearGradientStartPoint",["x","y"]);I.addGetterSetter(ze,"fillLinearGradientStartPointX",0);I.addGetterSetter(ze,"strokeLinearGradientStartPointX",0);I.addGetterSetter(ze,"fillLinearGradientStartPointY",0);I.addGetterSetter(ze,"strokeLinearGradientStartPointY",0);I.addComponentsGetterSetter(ze,"fillLinearGradientEndPoint",["x","y"]);I.addComponentsGetterSetter(ze,"strokeLinearGradientEndPoint",["x","y"]);I.addGetterSetter(ze,"fillLinearGradientEndPointX",0);I.addGetterSetter(ze,"strokeLinearGradientEndPointX",0);I.addGetterSetter(ze,"fillLinearGradientEndPointY",0);I.addGetterSetter(ze,"strokeLinearGradientEndPointY",0);I.addComponentsGetterSetter(ze,"fillRadialGradientStartPoint",["x","y"]);I.addGetterSetter(ze,"fillRadialGradientStartPointX",0);I.addGetterSetter(ze,"fillRadialGradientStartPointY",0);I.addComponentsGetterSetter(ze,"fillRadialGradientEndPoint",["x","y"]);I.addGetterSetter(ze,"fillRadialGradientEndPointX",0);I.addGetterSetter(ze,"fillRadialGradientEndPointY",0);I.addGetterSetter(ze,"fillPatternRotation",0);I.addGetterSetter(ze,"fillRule",void 0,Vc());I.backCompat(ze,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const Sz="#",Ez="beforeDraw",Cz="draw",Bw=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Tz=Bw.length;let Yc=class extends di{constructor(e){super(e),this.canvas=new mu,this.hitCanvas=new sb({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ge.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ge.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ge.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ge.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ge.prototype.remove.call(this),e&&e.parentNode&&le._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&le.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ge.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){le.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){le.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,le.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<Tz;i++){const l=Bw[i],u=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),f=u.shape;if(f)return f;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const l=le._rgbToHex(a[0],a[1],a[2]),u=J0[Sz+l];return u?{shape:u}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas();return this._fire(Ez,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),di.prototype.drawScene.call(this,l,n,a),this._fire(Cz,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),di.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){le.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return le.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return le.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Yc.prototype.nodeType="Layer";Yn(Yc);I.addGetterSetter(Yc,"imageSmoothingEnabled",!0);I.addGetterSetter(Yc,"clearBeforeDraw",!0);I.addGetterSetter(Yc,"hitGraphEnabled",!0,Cs());class ub extends Yc{constructor(e){super(e),this.listening(!1),le.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}ub.prototype.nodeType="FastLayer";Yn(ub);let Yf=class extends di{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&le.throw("You may only add groups and shapes to groups.")}};Yf.prototype.nodeType="Group";Yn(Yf);const py=(function(){return Dc.performance&&Dc.performance.now?function(){return Dc.performance.now()}:function(){return new Date().getTime()}})();class Gi{constructor(e,n){this.id=Gi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:py(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Gi.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=py(),Gi._addAnimation(this),this}stop(){return Gi._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let l=0;l<i;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],l=i.layers,u=i.func;i._updateFrameObject(py());const f=l.length;let h;if(u?h=u.call(i,i.frame)!==!1:h=!0,!!h)for(let g=0;g<f;g++){const v=l[g];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=Gi;e.animations.length?(e._runFrames(),le.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,le.requestAnimFrame(this._animationLoop))}}Gi.animations=[];Gi.animIdCounter=0;Gi.animRunning=!1;const Az={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Rz=1,N4=2,j4=3,M4=["fill","stroke","shadowColor"];let Oz=0;class Nz{constructor(e,n,a,i,l,u,f){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=N4,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=j4,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===N4?this.setTime(e):this.state===j4&&this.setTime(this.duration-e)}pause(){this.state=Rz,this.fire("onPause")}getTimer(){return new Date().getTime()}}class zn{constructor(e){const n=this,a=e.node,i=a._id,l=e.easing||em.Linear,u=!!e.yoyo;let f,h;typeof e.duration>"u"?f=.3:e.duration===0?f=.001:f=e.duration,this.node=a,this._id=Oz++;const g=a.getLayer()||(a instanceof Ve.Stage?a.getLayers():null);g||le.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Gi(function(){n.tween.onEnterFrame()},g),this.tween=new Nz(h,function(v){n._tweenFunc(v)},l,0,1,f*1e3,u),this._addListeners(),zn.attrs[i]||(zn.attrs[i]={}),zn.attrs[i][this._id]||(zn.attrs[i][this._id]={}),zn.tweens[i]||(zn.tweens[i]={});for(h in e)Az[h]===void 0&&this._addAttr(h,e[h]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let l,u,f,h,g;const v=zn.tweens[i][e];v&&delete zn.attrs[i][v][e];let _=a.getAttr(e);if(le._isArray(n))if(l=[],u=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(h=_,_=le._prepareArrayForTween(_,n,a.closed())):(f=n,n=le._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let w=0;w<u;w++)if(w%2===0)l.push(n[w]-_[w]);else{const C=le.colorToRGBA(_[w]);g=le.colorToRGBA(n[w]),_[w]=C,l.push({r:g.r-C.r,g:g.g-C.g,b:g.b-C.b,a:g.a-C.a})}else for(let w=0;w<u;w++)l.push(n[w]-_[w]);else M4.indexOf(e)!==-1?(_=le.colorToRGBA(_),g=le.colorToRGBA(n),l={r:g.r-_.r,g:g.g-_.g,b:g.b-_.b,a:g.a-_.a}):l=n-_;zn.attrs[i][this._id][e]={start:_,diff:l,end:n,trueEnd:f,trueStart:h},zn.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=zn.attrs[n._id][this._id];let i,l,u,f,h,g,v,_;for(i in a){if(l=a[i],u=l.start,f=l.diff,_=l.end,le._isArray(u))if(h=[],v=Math.max(u.length,_.length),i.indexOf("fill")===0)for(g=0;g<v;g++)g%2===0?h.push((u[g]||0)+f[g]*e):h.push("rgba("+Math.round(u[g].r+f[g].r*e)+","+Math.round(u[g].g+f[g].g*e)+","+Math.round(u[g].b+f[g].b*e)+","+(u[g].a+f[g].a*e)+")");else for(g=0;g<v;g++)h.push((u[g]||0)+f[g]*e);else M4.indexOf(i)!==-1?h="rgba("+Math.round(u.r+f.r*e)+","+Math.round(u.g+f.g*e)+","+Math.round(u.b+f.b*e)+","+(u.a+f.a*e)+")":h=u+f*e;n.setAttr(i,h)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=zn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=zn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=zn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete zn.tweens[e][i];delete zn.attrs[e][n],zn.tweens[e]&&(Object.keys(zn.tweens[e]).length===0&&delete zn.tweens[e],Object.keys(zn.attrs[e]).length===0&&delete zn.attrs[e])}}zn.attrs={};zn.tweens={};Ge.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new zn(t).play()};const em={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-u)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-em.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?em.BounceEaseIn(t*2,0,n,a)*.5+e:em.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},If=le._assign(Ve,{Util:le,Transform:ci,Node:Ge,Container:di,Stage:Iv,stages:W0,Layer:Yc,FastLayer:ub,Group:Yf,DD:fn,Shape:ze,shapes:J0,Animation:Gi,Tween:zn,Easings:em,Context:Vv,Canvas:ib});class co extends ze{_sceneFunc(e){const n=Ve.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=Ve.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(i,Math.PI)),u=1,f=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),h=Math.sin(Math.min(i,Math.PI/2)),g=l*(l>0?e:n),v=u*n,_=f*(f>0?e:n),w=h*(h>0?n:e);return{x:g,y:a?-1*w:_,width:v-g,height:w-_}}}co.prototype._centroid=!0;co.prototype.className="Arc";co.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Yn(co);I.addGetterSetter(co,"innerRadius",0,He());I.addGetterSetter(co,"outerRadius",0,He());I.addGetterSetter(co,"angle",0,He());I.addGetterSetter(co,"clockwise",!1,Cs());function m2(t,e,n,a,i,l,u){const f=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),h=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-a,2)),g=u*f/(f+h),v=u*h/(f+h),_=n-g*(i-t),w=a-g*(l-e),C=n+v*(i-t),T=a+v*(l-e);return[_,w,C,T]}function D4(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const l=m2(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[i]),a.push(t[i+1]),a.push(l[2]),a.push(l[3]))}return a}let fo=class extends ze{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),l=this.closed(),u=this.bezier();if(!a)return;let f=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const h=this.getTensionPoints(),g=h.length;for(f=l?0:4,l||e.quadraticCurveTo(h[0],h[1],h[2],h[3]);f<g-2;)e.bezierCurveTo(h[f++],h[f++],h[f++],h[f++],h[f++],h[f++]);l||e.quadraticCurveTo(h[g-2],h[g-1],n[a-2],n[a-1])}else if(u)for(f=2;f<a;)e.bezierCurveTo(n[f++],n[f++],n[f++],n[f++],n[f++],n[f++]);else for(f=2;f<a;f+=2)e.lineTo(n[f],n[f+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():D4(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=m2(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=m2(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=D4(e,a);return[i[2],i[3]].concat(u).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let h=0;h<e.length/2;h++)u=e[h*2],f=e[h*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);return{x:n,y:i,width:a-n,height:l-i}}};fo.prototype.className="Line";fo.prototype._attrsAffectingSize=["points","bezier","tension"];Yn(fo);I.addGetterSetter(fo,"closed",!1);I.addGetterSetter(fo,"bezier",!1);I.addGetterSetter(fo,"tension",0,He());I.addGetterSetter(fo,"points",[],ZD());const jz=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],Mz=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],Dz=[[1],[1,1],[1,2,1],[1,3,3,1]],z4=(t,e,n)=>{let a,i;const u=n/2;a=0;for(let f=0;f<20;f++)i=u*jz[20][f]+u,a+=Mz[20][f]*zz(t,e,i);return u*a},k4=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],u=2*e[1]-2*e[0],f=4*(a*a+i*i),h=4*(a*l+i*u),g=l*l+u*u;if(f===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=h/(2*f),_=g/f,w=n+v,C=_-v*v,T=w*w+C>0?Math.sqrt(w*w+C):0,R=v*v+C>0?Math.sqrt(v*v+C):0,O=v+Math.sqrt(v*v+C)!==0?C*Math.log(Math.abs((w+T)/(v+R))):0;return Math.sqrt(f)/2*(w*T-v*R+O)};function zz(t,e,n){const a=p2(1,n,t),i=p2(1,n,e),l=a*a+i*i;return Math.sqrt(l)}const p2=(t,e,n)=>{const a=n.length-1;let i,l;if(a===0)return 0;if(t===0){l=0;for(let u=0;u<=a;u++)l+=Dz[a][u]*Math.pow(1-e,a-u)*Math.pow(e,u)*n[u];return l}else{i=new Array(a);for(let u=0;u<a;u++)i[u]=a*(n[u+1]-n[u]);return p2(t-1,e,i)}},L4=(t,e,n)=>{let a=1,i=t/e,l=(t-n(i))/e,u=0;for(;a>.001;){const f=n(i+l),h=Math.abs(t-f)/e;if(h<a)a=h,i+=l;else{const g=n(i-l),v=Math.abs(t-g)/e;v<a?(a=v,i-=l):l/=2}if(u++,u>500)break}return i};let qi=class qr extends ze{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=qr.parsePathData(this.data()),this.pathLength=qr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const l=n[i].command,u=n[i].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const f=u[0],h=u[1],g=u[2],v=u[3],_=u[4],w=u[5],C=u[6],T=u[7],R=g>v?g:v,O=g>v?1:g/v,j=g>v?v/g:1;e.translate(f,h),e.rotate(C),e.scale(O,j),e.arc(0,0,R,_,_+w,1-T),e.scale(1/O,1/j),e.rotate(-C),e.translate(-f,-h);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(h){if(h.command==="A"){const g=h.points[4],v=h.points[5],_=h.points[4]+v;let w=Math.PI/180;if(Math.abs(g-_)<w&&(w=Math.abs(g-_)),v<0)for(let C=g-w;C>_;C-=w){const T=qr.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],C,0);e.push(T.x,T.y)}else for(let C=g+w;C<_;C+=w){const T=qr.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],C,0);e.push(T.x,T.y)}}else if(h.command==="C")for(let g=0;g<=1;g+=.01){const v=qr.getPointOnCubicBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);e.push(v.x,v.y)}else e=e.concat(h.points)});let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let h=0;h<e.length/2;h++)u=e[h*2],f=e[h*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(f)||(i=Math.min(i,f),l=Math.max(l,f));return{x:n,y:i,width:a-n,height:l-i}}getLength(){return this.pathLength}getPointAtLength(e){return qr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,l=n.length;if(!l)return null;for(;i<l&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===l)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const u=n[i],f=u.points;switch(u.command){case"L":return qr.getPointOnLine(e,u.start.x,u.start.y,f[0],f[1]);case"C":return qr.getPointOnCubicBezier(L4(e,qr.getPathLength(n),R=>z4([u.start.x,f[0],f[2],f[4]],[u.start.y,f[1],f[3],f[5]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return qr.getPointOnQuadraticBezier(L4(e,qr.getPathLength(n),R=>k4([u.start.x,f[0],f[2]],[u.start.y,f[1],f[3]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3]);case"A":const h=f[0],g=f[1],v=f[2],_=f[3],w=f[5],C=f[6];let T=f[4];return T+=w*e/u.pathLength,qr.getPointOnEllipticalArc(h,g,v,_,T,C)}return null}static getPointOnLine(e,n,a,i,l,u,f){u=u??n,f=f??a;const h=this.getLineLength(n,a,i,l);if(h<1e-10)return{x:n,y:a};if(i===n)return{x:u,y:f+(l>a?e:-e)};const g=(l-a)/(i-n),v=Math.sqrt(e*e/(1+g*g))*(i<n?-1:1),_=g*v;if(Math.abs(f-a-g*(u-n))<1e-10)return{x:u+v,y:f+_};const w=((u-n)*(i-n)+(f-a)*(l-a))/(h*h),C=n+w*(i-n),T=a+w*(l-a),R=this.getLineLength(u,f,C,T),O=Math.sqrt(e*e-R*R),j=Math.sqrt(O*O/(1+g*g))*(i<n?-1:1),M=g*j;return{x:C+j,y:T+M}}static getPointOnCubicBezier(e,n,a,i,l,u,f,h,g){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function w(O){return 3*O*(1-O)*(1-O)}function C(O){return(1-O)*(1-O)*(1-O)}const T=h*v(e)+u*_(e)+i*w(e)+n*C(e),R=g*v(e)+f*_(e)+l*w(e)+a*C(e);return{x:T,y:R}}static getPointOnQuadraticBezier(e,n,a,i,l,u,f){function h(C){return C*C}function g(C){return 2*C*(1-C)}function v(C){return(1-C)*(1-C)}const _=u*h(e)+i*g(e)+n*v(e),w=f*h(e)+l*g(e)+a*v(e);return{x:_,y:w}}static getPointOnEllipticalArc(e,n,a,i,l,u){const f=Math.cos(u),h=Math.sin(u),g={x:a*Math.cos(l),y:i*Math.sin(l)};return{x:e+(g.x*f-g.y*h),y:n+(g.x*h+g.y*f)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const i=n.split("|"),l=[],u=[];let f=0,h=0;const g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<i.length;_++){let w=i[_],C=w.charAt(0);for(w=w.slice(1),u.length=0;v=g.exec(w);)u.push(v[0]);let T=[],R=C==="A"||C==="a"?0:-1;for(let O=0,j=u.length;O<j;O++){const M=u[O];if(M==="00"){T.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(M)){T.push(parseInt(M[0],10)),T.push(parseInt(M[1],10)),T.push(parseFloat(M.slice(2))),R+=3,R>=7&&(R-=7);continue}if(M==="11"||M==="10"||M==="01"){T.push(parseInt(M[0],10)),T.push(parseInt(M[1],10)),R+=2,R>=7&&(R-=7);continue}if(M==="0"||M==="1"){T.push(parseInt(M,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(M)){T.push(parseInt(M[0],10)),T.push(parseFloat(M.slice(1))),R+=2,R>=7&&(R-=7);continue}if(M==="0"||M==="1"){T.push(parseInt(M,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(M);isNaN(z)?T.push(0):T.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(M);isNaN(z)?T.push(0):T.push(z)}}for(;T.length>0&&!isNaN(T[0]);){let O="",j=[];const M=f,z=h;let k,q,U,Y,$,ne,pe,Ee,J,he;switch(C){case"l":f+=T.shift(),h+=T.shift(),O="L",j.push(f,h);break;case"L":f=T.shift(),h=T.shift(),j.push(f,h);break;case"m":const de=T.shift(),ue=T.shift();if(f+=de,h+=ue,O="M",l.length>2&&l[l.length-1].command==="z"){for(let G=l.length-2;G>=0;G--)if(l[G].command==="M"){f=l[G].points[0]+de,h=l[G].points[1]+ue;break}}j.push(f,h),C="l";break;case"M":f=T.shift(),h=T.shift(),O="M",j.push(f,h),C="L";break;case"h":f+=T.shift(),O="L",j.push(f,h);break;case"H":f=T.shift(),O="L",j.push(f,h);break;case"v":h+=T.shift(),O="L",j.push(f,h);break;case"V":h=T.shift(),O="L",j.push(f,h);break;case"C":j.push(T.shift(),T.shift(),T.shift(),T.shift()),f=T.shift(),h=T.shift(),j.push(f,h);break;case"c":j.push(f+T.shift(),h+T.shift(),f+T.shift(),h+T.shift()),f+=T.shift(),h+=T.shift(),O="C",j.push(f,h);break;case"S":q=f,U=h,k=l[l.length-1],k.command==="C"&&(q=f+(f-k.points[2]),U=h+(h-k.points[3])),j.push(q,U,T.shift(),T.shift()),f=T.shift(),h=T.shift(),O="C",j.push(f,h);break;case"s":q=f,U=h,k=l[l.length-1],k.command==="C"&&(q=f+(f-k.points[2]),U=h+(h-k.points[3])),j.push(q,U,f+T.shift(),h+T.shift()),f+=T.shift(),h+=T.shift(),O="C",j.push(f,h);break;case"Q":j.push(T.shift(),T.shift()),f=T.shift(),h=T.shift(),j.push(f,h);break;case"q":j.push(f+T.shift(),h+T.shift()),f+=T.shift(),h+=T.shift(),O="Q",j.push(f,h);break;case"T":q=f,U=h,k=l[l.length-1],k.command==="Q"&&(q=f+(f-k.points[0]),U=h+(h-k.points[1])),f=T.shift(),h=T.shift(),O="Q",j.push(q,U,f,h);break;case"t":q=f,U=h,k=l[l.length-1],k.command==="Q"&&(q=f+(f-k.points[0]),U=h+(h-k.points[1])),f+=T.shift(),h+=T.shift(),O="Q",j.push(q,U,f,h);break;case"A":Y=T.shift(),$=T.shift(),ne=T.shift(),pe=T.shift(),Ee=T.shift(),J=f,he=h,f=T.shift(),h=T.shift(),O="A",j=this.convertEndpointToCenterParameterization(J,he,f,h,pe,Ee,Y,$,ne);break;case"a":Y=T.shift(),$=T.shift(),ne=T.shift(),pe=T.shift(),Ee=T.shift(),J=f,he=h,f+=T.shift(),h+=T.shift(),O="A",j=this.convertEndpointToCenterParameterization(J,he,f,h,pe,Ee,Y,$,ne);break}l.push({command:O||C,points:j,start:{x:M,y:z},pathLength:this.calcLength(M,z,O||C,j)})}(C==="z"||C==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,i){let l,u,f,h;const g=qr;switch(a){case"L":return g.getLineLength(e,n,i[0],i[1]);case"C":return z4([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return k4([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":l=0;const v=i[4],_=i[5],w=i[4]+_;let C=Math.PI/180;if(Math.abs(v-w)<C&&(C=Math.abs(v-w)),u=g.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),_<0)for(h=v-C;h>w;h-=C)f=g.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),l+=g.getLineLength(u.x,u.y,f.x,f.y),u=f;else for(h=v+C;h<w;h+=C)f=g.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),l+=g.getLineLength(u.x,u.y,f.x,f.y),u=f;return f=g.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],w,0),l+=g.getLineLength(u.x,u.y,f.x,f.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,i,l,u,f,h,g){const v=g*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-i)/2,w=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-i)/2,C=_*_/(f*f)+w*w/(h*h);C>1&&(f*=Math.sqrt(C),h*=Math.sqrt(C));let T=Math.sqrt((f*f*(h*h)-f*f*(w*w)-h*h*(_*_))/(f*f*(w*w)+h*h*(_*_)));l===u&&(T*=-1),isNaN(T)&&(T=0);const R=T*f*w/h,O=T*-h*_/f,j=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,M=(n+i)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(pe){return Math.sqrt(pe[0]*pe[0]+pe[1]*pe[1])},k=function(pe,Ee){return(pe[0]*Ee[0]+pe[1]*Ee[1])/(z(pe)*z(Ee))},q=function(pe,Ee){return(pe[0]*Ee[1]<pe[1]*Ee[0]?-1:1)*Math.acos(k(pe,Ee))},U=q([1,0],[(_-R)/f,(w-O)/h]),Y=[(_-R)/f,(w-O)/h],$=[(-1*_-R)/f,(-1*w-O)/h];let ne=q(Y,$);return k(Y,$)<=-1&&(ne=Math.PI),k(Y,$)>=1&&(ne=0),u===0&&ne>0&&(ne=ne-2*Math.PI),u===1&&ne<0&&(ne=ne+2*Math.PI),[j,M,f,h,U,ne,v,u]}};qi.prototype.className="Path";qi.prototype._attrsAffectingSize=["data"];Yn(qi);I.addGetterSetter(qi,"data");let Ic=class extends fo{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const l=this.tension()!==0&&a.length>4;l&&(i=this.getTensionPoints());const u=this.pointerLength(),f=a.length;let h,g;if(l){const w=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[f-2],a[f-1]],C=qi.calcLength(i[i.length-4],i[i.length-3],"C",w),T=qi.getPointOnQuadraticBezier(Math.min(1,1-u/C),w[0],w[1],w[2],w[3],w[4],w[5]);h=a[f-2]-T.x,g=a[f-1]-T.y}else h=a[f-2]-a[f-4],g=a[f-1]-a[f-3];const v=(Math.atan2(g,h)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[f-2],a[f-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(h=(i[0]+i[2])/2-a[0],g=(i[1]+i[3])/2-a[1]):(h=a[2]-a[0],g=a[3]-a[1]),e.rotate((Math.atan2(-g,-h)+n)%n),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Ic.prototype.className="Arrow";Yn(Ic);I.addGetterSetter(Ic,"pointerLength",10,He());I.addGetterSetter(Ic,"pointerWidth",10,He());I.addGetterSetter(Ic,"pointerAtBeginning",!1);I.addGetterSetter(Ic,"pointerAtEnding",!0);let $f=class extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};$f.prototype._centroid=!0;$f.prototype.className="Circle";$f.prototype._attrsAffectingSize=["radius"];Yn($f);I.addGetterSetter($f,"radius",0,He());class wu extends ze{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}wu.prototype.className="Ellipse";wu.prototype._centroid=!0;wu.prototype._attrsAffectingSize=["radiusX","radiusY"];Yn(wu);I.addComponentsGetterSetter(wu,"radius",["x","y"]);I.addGetterSetter(wu,"radiusX",0,He());I.addGetterSetter(wu,"radiusY",0,He());class Zi extends ze{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),l=this.attrs.image;let u;if(l){const f=this.attrs.cropWidth,h=this.attrs.cropHeight;f&&h?u=[l,this.cropX(),this.cropY(),f,h,0,0,n,a]:u=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?le.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(i&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?le.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const i=le.createImageElement();i.onload=function(){const l=new Zi({image:i});n(l)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}}Zi.prototype.className="Image";Yn(Zi);I.addGetterSetter(Zi,"cornerRadius",0,Yv(4));I.addGetterSetter(Zi,"image");I.addComponentsGetterSetter(Zi,"crop",["x","y","width","height"]);I.addGetterSetter(Zi,"cropX",0,He());I.addGetterSetter(Zi,"cropY",0,He());I.addGetterSetter(Zi,"cropWidth",0,He());I.addGetterSetter(Zi,"cropHeight",0,He());const Hw=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],kz="Change.konva",Lz="none",g2="up",v2="right",y2="down",b2="left",Uz=Hw.length;let cb=class extends Yf{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<Uz;a++)e.on(Hw[a]+kz,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,l,u,f,h,g;if(e&&n){switch(a=e.width(),i=e.height(),l=n.pointerDirection(),u=n.pointerWidth(),g=n.pointerHeight(),f=0,h=0,l){case g2:f=a/2,h=-1*g;break;case v2:f=a+u,h=i/2;break;case y2:f=a/2,h=i+g;break;case b2:f=-1*u,h=i/2;break}n.setAttrs({x:-1*f,y:-1*h,width:a,height:i}),e.setAttrs({x:-1*f,y:-1*h})}}};cb.prototype.className="Label";Yn(cb);class Zc extends ze{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),f=this.cornerRadius();let h=0,g=0,v=0,_=0;typeof f=="number"?h=g=v=_=Math.min(f,n/2,a/2):(h=Math.min(f[0]||0,n/2,a/2),g=Math.min(f[1]||0,n/2,a/2),_=Math.min(f[2]||0,n/2,a/2),v=Math.min(f[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(h,0),i===g2&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+l)/2,0)),e.lineTo(n-g,0),e.arc(n-g,g,g,Math.PI*3/2,0,!1),i===v2&&(e.lineTo(n,(a-u)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),i===y2&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),i===b2&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,h),e.arc(h,h,h,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),f=this.height();return l===g2?(n-=i,f+=i):l===y2?f+=i:l===b2?(e-=a*1.5,u+=a):l===v2&&(u+=a*1.5),{x:e,y:n,width:u,height:f}}}Zc.prototype.className="Tag";Yn(Zc);I.addGetterSetter(Zc,"pointerDirection",Lz);I.addGetterSetter(Zc,"pointerWidth",0,He());I.addGetterSetter(Zc,"pointerHeight",0,He());I.addGetterSetter(Zc,"cornerRadius",0,Yv(4));let Am=class extends ze{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?le.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};Am.prototype.className="Rect";Yn(Am);I.addGetterSetter(Am,"cornerRadius",0,Yv(4));class Su extends ze{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)le.drawRoundedPolygonPath(e,n,i,a,l);else{e.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)e.lineTo(n[u].x,n[u].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,l=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y)}),{x:n,y:i,width:a-n,height:l-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Su.prototype.className="RegularPolygon";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["radius"];Yn(Su);I.addGetterSetter(Su,"radius",0,He());I.addGetterSetter(Su,"sides",0,He());I.addGetterSetter(Su,"cornerRadius",0,Yv(4));const U4=Math.PI*2;class Xc extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,U4,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),U4,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Xc.prototype.className="Ring";Xc.prototype._centroid=!0;Xc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Yn(Xc);I.addGetterSetter(Xc,"innerRadius",0,He());I.addGetterSetter(Xc,"outerRadius",0,He());class bl extends ze{constructor(e){super(e),this._updated=!0,this.anim=new Gi(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+0],h=l[i+1],g=l[i+2],v=l[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,g,v),e.closePath(),e.fillStrokeShape(this)),_)if(u){const w=u[n],C=a*2;e.drawImage(_,f,h,g,v,w[C+0],w[C+1],g,v)}else e.drawImage(_,f,h,g,v,0,0,g,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+2],h=l[i+3];if(e.beginPath(),u){const g=u[n],v=a*2;e.rect(g[v+0],g[v+1],f,h)}else e.rect(0,0,f,h);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],l=i.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}bl.prototype.className="Sprite";Yn(bl);I.addGetterSetter(bl,"animation");I.addGetterSetter(bl,"animations");I.addGetterSetter(bl,"frameOffsets");I.addGetterSetter(bl,"image");I.addGetterSetter(bl,"frameIndex",0,He());I.addGetterSetter(bl,"frameRate",17,He());I.backCompat(bl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Eu extends ze{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<i*2;l++){const u=l%2===0?a:n,f=u*Math.sin(l*Math.PI/i),h=-1*u*Math.cos(l*Math.PI/i);e.lineTo(f,h)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Eu.prototype.className="Star";Eu.prototype._centroid=!0;Eu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Yn(Eu);I.addGetterSetter(Eu,"numPoints",5,He());I.addGetterSetter(Eu,"innerRadius",0,He());I.addGetterSetter(Eu,"outerRadius",0,He());function ou(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=i[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const yf="auto",Pz="center",Gw="inherit",bf="justify",Bz="Change.konva",Hz="2d",P4="-",qw="left",Gz="text",qz="Text",Vz="top",Yz="bottom",B4="middle",Vw="normal",Iz="px ",Og=" ",Zz="right",H4="rtl",Xz="word",Kz="char",G4="none",gy="",Yw=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Fz=Yw.length;function $z(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let Ng;function vy(){return Ng||(Ng=le.createCanvasElement().getContext(Hz),Ng)}function Qz(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Wz(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Jz(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Bn=class extends ze{constructor(e){super(Jz(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<Fz;n++)this.on(Yw[n]+Bz,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,l=i.length;if(!this.text())return;let u=this.padding(),f=this.fontSize(),h=this.lineHeight()*f,g=this.verticalAlign(),v=this.direction(),_=0,w=this.align(),C=this.getWidth(),T=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),j=this.textDecoration(),M=j.indexOf("underline")!==-1,z=j.indexOf("line-through")!==-1,k;v=v===Gw?e.direction:v;let q=h/2,U=B4;if(!Ve.legacyTextRendering){const Y=this.measureSize("M");U="alphabetic";const $=(n=Y.fontBoundingBoxAscent)!==null&&n!==void 0?n:Y.actualBoundingBoxAscent,ne=(a=Y.fontBoundingBoxDescent)!==null&&a!==void 0?a:Y.actualBoundingBoxDescent;q=($-ne)/2+h/2}for(v===H4&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",U),e.setAttr("textAlign",qw),g===B4?_=(this.getHeight()-l*h-u*2)/2:g===Yz&&(_=this.getHeight()-l*h-u*2),e.translate(u,_+u),k=0;k<l;k++){let Y=0,$=0;const ne=i[k],pe=ne.text,Ee=ne.width,J=ne.lastInParagraph;if(e.save(),w===Zz?Y+=C-Ee-u*2:w===Pz&&(Y+=(C-Ee-u*2)/2),M){e.save(),e.beginPath();const he=Ve.legacyTextRendering?Math.round(f/2):Math.round(f/4),de=Y,ue=q+$+he;e.moveTo(de,ue);const G=w===bf&&!J?C-u*2:Ee;e.lineTo(de+Math.round(G),ue),e.lineWidth=f/15;const ee=this._getLinearGradient();e.strokeStyle=ee||O,e.stroke(),e.restore()}if(v!==H4&&(T!==0||w===bf||R)){const he=pe.split(" ").length-1,de=ou(pe);for(let ue=0;ue<de.length;ue++){const G=de[ue];if(G===" "&&!J&&w===bf&&(Y+=(C-u*2-Ee)/he),this._partialTextX=Y,this._partialTextY=q+$,this._partialText=G,R){e.save();const Q=i.slice(0,k).reduce((B,te)=>B+ou(te.text).length,0),ae=ue+Q;R({char:G,index:ae,x:Y,y:q+$,lineIndex:k,column:ue,isLastInLine:J,width:this.measureSize(G).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),Y+=this.measureSize(G).width+T}}else T!==0&&e.setAttr("letterSpacing",`${T}px`),this._partialTextX=Y,this._partialTextY=q+$,this._partialText=pe,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const he=Ve.legacyTextRendering?0:-Math.round(f/4),de=w===bf?0:Y;e.moveTo(de,q+$+he);const ue=w===bf&&!J?C-u*2:Ee;e.lineTo(de+Math.round(ue),q+$+he),e.lineWidth=f/15;const G=this._getLinearGradient();e.strokeStyle=G||O,e.stroke(),e.restore()}e.restore(),l>1&&(q+=h)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=le._isString(e)?e:e==null?"":e+"";return this._setAttr(Gz,n),this}getWidth(){return this.attrs.width===yf||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===yf||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return le.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,l,u,f,h,g,v,_,w;let C=vy(),T=this.fontSize(),R;C.save(),C.font=this._getContextFont(),R=C.measureText(e),C.restore();const O=T/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(u=R.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(f=R.emHeightAscent)!==null&&f!==void 0?f:100*O,emHeightDescent:(h=R.emHeightDescent)!==null&&h!==void 0?h:-20*O,fontBoundingBoxAscent:(g=R.fontBoundingBoxAscent)!==null&&g!==void 0?g:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(w=R.ideographicBaseline)!==null&&w!==void 0?w:-21*O,width:R.width,height:T}}_getContextFont(){return this.fontStyle()+Og+this.fontVariant()+Og+(this.fontSize()+Iz)+$z(this.fontFamily())}_addTextLine(e){this.align()===bf&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return vy().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,l=this.attrs.width,u=this.attrs.height,f=l!==yf&&l!==void 0,h=u!==yf&&u!==void 0,g=this.padding(),v=l-g*2,_=u-g*2,w=0,C=this.wrap(),T=C!==G4,R=C!==Kz&&T,O=this.ellipsis();this.textArr=[],vy().font=this._getContextFont();const j=O?this._getTextWidth(gy):0;for(let M=0,z=e.length;M<z;++M){let k=e[M],q=this._getTextWidth(k);if(f&&q>v)for(;k.length>0;){let U=0,Y=ou(k).length,$="",ne=0;for(;U<Y;){const pe=U+Y>>>1,Ee=ou(k),J=Ee.slice(0,pe+1).join(""),he=this._getTextWidth(J);(O&&h&&w+i>_?he+j:he)<=v?(U=pe+1,$=J,ne=he):Y=pe}if($){if(R){const J=ou(k),he=ou($),de=J[he.length],ue=de===Og||de===P4;let G;if(ue&&ne<=v)G=he.length;else{const ee=he.lastIndexOf(Og),Q=he.lastIndexOf(P4);G=Math.max(ee,Q)+1}G>0&&(U=G,$=J.slice(0,U).join(""),ne=this._getTextWidth($))}if($=$.trimRight(),this._addTextLine($),a=Math.max(a,ne),w+=i,this._shouldHandleEllipsis(w)){this._tryToAddEllipsisToLastLine();break}if(k=ou(k).slice(U).join("").trimLeft(),k.length>0&&(q=this._getTextWidth(k),q<=v)){this._addTextLine(k),w+=i,a=Math.max(a,q);break}}else break}else this._addTextLine(k),w+=i,a=Math.max(a,q),this._shouldHandleEllipsis(w)&&M<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),h&&w+i>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,l=i!==yf&&i!==void 0,u=this.padding(),f=i-u*2;return!(this.wrap()!==G4)||l&&e+a>f}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==yf&&e!==void 0,a=this.padding(),i=e-a*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!l||(n&&(this._getTextWidth(u.text+gy)<i||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+gy))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Bn.prototype._fillFunc=Qz;Bn.prototype._strokeFunc=Wz;Bn.prototype.className=qz;Bn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Yn(Bn);I.overWriteSetter(Bn,"width",lb());I.overWriteSetter(Bn,"height",lb());I.addGetterSetter(Bn,"direction",Gw);I.addGetterSetter(Bn,"fontFamily","Arial");I.addGetterSetter(Bn,"fontSize",12,He());I.addGetterSetter(Bn,"fontStyle",Vw);I.addGetterSetter(Bn,"fontVariant",Vw);I.addGetterSetter(Bn,"padding",0,He());I.addGetterSetter(Bn,"align",qw);I.addGetterSetter(Bn,"verticalAlign",Vz);I.addGetterSetter(Bn,"lineHeight",1,He());I.addGetterSetter(Bn,"wrap",Xz);I.addGetterSetter(Bn,"ellipsis",!1,Cs());I.addGetterSetter(Bn,"letterSpacing",0,He());I.addGetterSetter(Bn,"text","",Vc());I.addGetterSetter(Bn,"textDecoration","");I.addGetterSetter(Bn,"charRenderFunc",void 0);const ek="",Iw="normal";function Zw(t){t.fillText(this.partialText,0,0)}function Xw(t){t.strokeText(this.partialText,0,0)}class xa extends ze{constructor(e){super(e),this.dummyCanvas=le.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return qi.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:qi.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=qi.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let u=0;u<l.length;u++){e.save();const f=l[u].p0;e.translate(f.x,f.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return le.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Bn.prototype.setText.call(this,e)}_getContextFont(){return Bn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=ou(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),u=this.align(),f=this.kerningFunc(),h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let g=0;u==="center"&&(g=Math.max(0,this.pathLength/2-h/2)),u==="right"&&(g=Math.max(0,this.pathLength-h));let v=g;for(let _=0;_<n.length;_++){const w=this._getPointAtLength(v);if(!w)return;const C=n[_].char;let T=n[_].width+l;if(C===" "&&u==="justify"){const k=this.text().split(" ").length-1;T+=(this.pathLength-h)/k}const R=this._getPointAtLength(v+T);if(!R)return;const O=qi.getLineLength(w.x,w.y,R.x,R.y);let j=0;if(f)try{j=f(n[_-1].char,C)*this.fontSize()}catch{j=0}w.x+=j,R.x+=j,this.textWidth+=j;const M=qi.getPointOnLine(j+O/2,w.x,w.y,R.x,R.y),z=Math.atan2(R.y-w.y,R.x-w.x);this.glyphInfo.push({transposeX:M.x,transposeY:M.y,text:e[_],rotation:z,p0:w,p1:R}),v+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(g){e.push(g.p0.x),e.push(g.p0.y),e.push(g.p1.x),e.push(g.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,l=e[1]||0,u,f;for(let g=0;g<e.length/2;g++)u=e[g*2],f=e[g*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);const h=this.fontSize();return{x:n-h/2,y:i-h/2,width:a-n+h,height:l-i+h}}destroy(){return le.releaseCanvas(this.dummyCanvas),super.destroy()}}xa.prototype._fillFunc=Zw;xa.prototype._strokeFunc=Xw;xa.prototype._fillFuncHit=Zw;xa.prototype._strokeFuncHit=Xw;xa.prototype.className="TextPath";xa.prototype._attrsAffectingSize=["text","fontSize","data"];Yn(xa);I.addGetterSetter(xa,"data");I.addGetterSetter(xa,"fontFamily","Arial");I.addGetterSetter(xa,"fontSize",12,He());I.addGetterSetter(xa,"fontStyle",Iw);I.addGetterSetter(xa,"align","left");I.addGetterSetter(xa,"letterSpacing",0,He());I.addGetterSetter(xa,"textBaseline","middle");I.addGetterSetter(xa,"fontVariant",Iw);I.addGetterSetter(xa,"text",ek);I.addGetterSetter(xa,"textDecoration","");I.addGetterSetter(xa,"kerningFunc",void 0);const Kw="tr-konva",tk=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Kw}`).join(" "),q4="nodesRect",nk=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],ak={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},rk="ontouchstart"in Ve._global;function ik(t,e,n){if(t==="rotater")return n;e+=le.degToRad(ak[t]||0);const a=(le.radToDeg(e)%360+360)%360;return le._inRange(a,315+22.5,360)||le._inRange(a,0,22.5)?"ns-resize":le._inRange(a,45-22.5,45+22.5)?"nesw-resize":le._inRange(a,90-22.5,90+22.5)?"ew-resize":le._inRange(a,135-22.5,135+22.5)?"nwse-resize":le._inRange(a,180-22.5,180+22.5)?"ns-resize":le._inRange(a,225-22.5,225+22.5)?"nesw-resize":le._inRange(a,270-22.5,270+22.5)?"ew-resize":le._inRange(a,315-22.5,315+22.5)?"nwse-resize":(le.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const bv=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function sk(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Fw(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function lk(t,e){const n=sk(t);return Fw(t,e,n)}function ok(t,e,n){let a=e;for(let i=0;i<t.length;i++){const l=Ve.getAngle(t[i]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=l)}return a}let _2=0,Qt=class extends Yf{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(tk,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return le.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Kw+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(le.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const u=i._attrsAffectingSize.map(f=>f+"Change."+this._getEventNamespace()).join(" ");i.on(u,l)}i.on(nk.map(u=>u+`.${this._getEventNamespace()}`).join(" "),l),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),l=i.x-n.x,u=i.y-n.y;this.nodes().forEach(f=>{if(f===e||f.isDragging())return;const h=f.getAbsolutePosition();f.setAbsolutePosition({x:h.x+l,y:h.y+u}),f.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(q4),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(q4,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),f=i.x*l.x-e.offsetX()*l.x,h=i.y*l.y-e.offsetY()*l.y,g=(Ve.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+f*Math.cos(g)+h*Math.sin(-g),y:u.y+h*Math.cos(g)+f*Math.sin(g),width:i.width*l.x,height:i.height*l.y,rotation:g};return Fw(v,-Ve.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(g=>{const v=g.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],w=g.getAbsoluteTransform();_.forEach(function(C){const T=w.point(C);n.push(T)})});const a=new ci;a.rotate(-Ve.getAngle(this.rotation()));let i=1/0,l=1/0,u=-1/0,f=-1/0;n.forEach(function(g){const v=a.point(g);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),a.invert();const h=a.point({x:i,y:l});return{x:h.x,y:h.y,width:u-i,height:f-l,rotation:Ve.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),bv.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new Am({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:rk?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Ve.getAngle(this.rotation()),l=this.rotateAnchorCursor(),u=ik(e,i,l);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new ze({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),l=i.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*le._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=e.target.getAbsolutePosition(),f=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:f.x-u.x,y:f.y-u.y},_2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(h=>{h._fire("transformstart",{evt:e.evt,target:h})})}_handleMouseMove(e){let n,a,i;const l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const f=u.getPointerPosition();let h={x:f.x-this._anchorDragOffset.x,y:f.y-this._anchorDragOffset.y};const g=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(h=this.anchorDragBoundFunc()(g,h,e)),l.setAbsolutePosition(h);const v=l.getAbsolutePosition();if(g.x===v.x&&g.y===v.y)return;if(this._movingAnchorName==="rotater"){const M=this._getNodeRect();n=l.x()-M.width/2,a=-l.y()+M.height/2;let z=Math.atan2(-a,n)+Math.PI/2;M.height<0&&(z-=Math.PI);const q=Ve.getAngle(this.rotation())+z,U=Ve.getAngle(this.rotationSnapTolerance()),$=ok(this.rotationSnaps(),q,U)-M.rotation,ne=lk(M,$);this._fitNodesInto(ne,e);return}const _=this.shiftBehavior();let w;_==="inverted"?w=this.keepRatio()&&!e.shiftKey:_==="none"?w=this.keepRatio():w=this.keepRatio()||e.shiftKey;let C=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(w){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(M.x-l.x(),2)+Math.pow(M.y-l.y(),2));const z=this.findOne(".top-left").x()>M.x?-1:1,k=this.findOne(".top-left").y()>M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,this.findOne(".top-left").x(M.x-n),this.findOne(".top-left").y(M.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(w){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(l.x()-M.x,2)+Math.pow(M.y-l.y(),2));const z=this.findOne(".top-right").x()<M.x?-1:1,k=this.findOne(".top-right").y()>M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,this.findOne(".top-right").x(M.x+n),this.findOne(".top-right").y(M.y-a)}var T=l.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(w){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(M.x-l.x(),2)+Math.pow(l.y()-M.y,2));const z=M.x<l.x()?-1:1,k=l.y()<M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,l.x(M.x-n),l.y(M.y+a)}T=l.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(w){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(l.x()-M.x,2)+Math.pow(l.y()-M.y,2));const z=this.findOne(".bottom-right").x()<M.x?-1:1,k=this.findOne(".bottom-right").y()<M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,this.findOne(".bottom-right").x(M.x+n),this.findOne(".bottom-right").y(M.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(C=this.centeredScaling()||e.altKey,C){const M=this.findOne(".top-left"),z=this.findOne(".bottom-right"),k=M.x(),q=M.y(),U=this.getWidth()-z.x(),Y=this.getHeight()-z.y();z.move({x:-k,y:-q}),M.move({x:U,y:Y})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),j=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:j,rotation:Ve.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();_2--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var l;i._fire("transformend",{evt:e,target:i}),(l=i.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if(le._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(le._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const l=new ci;if(l.rotate(Ve.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const w=l.point({x:-this.padding()*2,y:0});e.x+=w.x,e.y+=w.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const w=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const w=l.point({x:0,y:-this.padding()*2});e.x+=w.x,e.y+=w.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const w=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const w=this.boundBoxFunc()(a,e);w?e=w:le.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,f=new ci;f.translate(a.x,a.y),f.rotate(a.rotation),f.scale(a.width/u,a.height/u);const h=new ci,g=e.width/u,v=e.height/u;this.flipEnabled()===!1?(h.translate(e.x,e.y),h.rotate(e.rotation),h.translate(e.width<0?e.width:0,e.height<0?e.height:0),h.scale(Math.abs(g),Math.abs(v))):(h.translate(e.x,e.y),h.rotate(e.rotation),h.scale(g,v));const _=h.multiply(f.invert());this._nodes.forEach(w=>{var C;if(!w.getStage())return;const T=w.getParent().getAbsoluteTransform(),R=w.getTransform().copy();R.translate(w.offsetX(),w.offsetY());const O=new ci;O.multiply(T.copy().invert()).multiply(_).multiply(T).multiply(R);const j=O.decompose();w.setAttrs(j),(C=w.getLayer())===null||C===void 0||C.batchDraw()}),this.rotation(le._getRotation(e.rotation)),this._nodes.forEach(w=>{this._fire("transform",{evt:n,target:w}),w._fire("transform",{evt:n,target:w})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(le._getRotation(n.rotation));const a=n.width,i=n.height,l=this.enabledAnchors(),u=this.resizeEnabled(),f=this.padding(),h=this.anchorSize(),g=this.find("._anchor");g.forEach(_=>{_.setAttrs({width:h,height:h,offsetX:h/2,offsetY:h/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:h/2+f,offsetY:h/2+f,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:h/2+f,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:h/2-f,offsetY:h/2+f,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:h/2+f,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:h/2-f,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:h/2+f,offsetY:h/2-f,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:h/2-f,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:h/2-f,offsetY:h/2-f,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*le._sign(i)-f,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&g.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Yf.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ge.prototype.toObject.call(this)}clone(e){return Ge.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Qt.isTransforming=()=>_2>0;function uk(t){return t instanceof Array||le.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){bv.indexOf(e)===-1&&le.warn("Unknown anchor name: "+e+". Available names are: "+bv.join(", "))}),t||[]}Qt.prototype.className="Transformer";Yn(Qt);I.addGetterSetter(Qt,"enabledAnchors",bv,uk);I.addGetterSetter(Qt,"flipEnabled",!0,Cs());I.addGetterSetter(Qt,"resizeEnabled",!0);I.addGetterSetter(Qt,"anchorSize",10,He());I.addGetterSetter(Qt,"rotateEnabled",!0);I.addGetterSetter(Qt,"rotateLineVisible",!0);I.addGetterSetter(Qt,"rotationSnaps",[]);I.addGetterSetter(Qt,"rotateAnchorOffset",50,He());I.addGetterSetter(Qt,"rotateAnchorCursor","crosshair");I.addGetterSetter(Qt,"rotationSnapTolerance",5,He());I.addGetterSetter(Qt,"borderEnabled",!0);I.addGetterSetter(Qt,"anchorStroke","rgb(0, 161, 255)");I.addGetterSetter(Qt,"anchorStrokeWidth",1,He());I.addGetterSetter(Qt,"anchorFill","white");I.addGetterSetter(Qt,"anchorCornerRadius",0,He());I.addGetterSetter(Qt,"borderStroke","rgb(0, 161, 255)");I.addGetterSetter(Qt,"borderStrokeWidth",1,He());I.addGetterSetter(Qt,"borderDash");I.addGetterSetter(Qt,"keepRatio",!0);I.addGetterSetter(Qt,"shiftBehavior","default");I.addGetterSetter(Qt,"centeredScaling",!1);I.addGetterSetter(Qt,"ignoreStroke",!1);I.addGetterSetter(Qt,"padding",0,He());I.addGetterSetter(Qt,"nodes");I.addGetterSetter(Qt,"node");I.addGetterSetter(Qt,"boundBoxFunc");I.addGetterSetter(Qt,"anchorDragBoundFunc");I.addGetterSetter(Qt,"anchorStyleFunc");I.addGetterSetter(Qt,"shouldOverdrawWholeArea",!1);I.addGetterSetter(Qt,"useSingleNodeRotation",!0);I.backCompat(Qt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ho extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Ve.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ho.prototype.className="Wedge";ho.prototype._centroid=!0;ho.prototype._attrsAffectingSize=["radius"];Yn(ho);I.addGetterSetter(ho,"radius",0,He());I.addGetterSetter(ho,"angle",0,He());I.addGetterSetter(ho,"clockwise",!1);I.backCompat(ho,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function V4(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const ck=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],dk=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function fk(t,e){const n=t.data,a=t.width,i=t.height;let l,u,f,h,g,v,_,w,C,T,R,O,j,M,z,k,q,U,Y,$;const ne=e+e+1,pe=a-1,Ee=i-1,J=e+1,he=J*(J+1)/2,de=new V4,ue=ck[e],G=dk[e];let ee=null,Q=de,ae=null,B=null;for(let te=1;te<ne;te++)Q=Q.next=new V4,te===J&&(ee=Q);Q.next=de,f=u=0;for(let te=0;te<i;te++){O=j=M=z=h=g=v=_=0,w=J*(k=n[u]),C=J*(q=n[u+1]),T=J*(U=n[u+2]),R=J*(Y=n[u+3]),h+=he*k,g+=he*q,v+=he*U,_+=he*Y,Q=de;for(let we=0;we<J;we++)Q.r=k,Q.g=q,Q.b=U,Q.a=Y,Q=Q.next;for(let we=1;we<J;we++)l=u+((pe<we?pe:we)<<2),h+=(Q.r=k=n[l])*($=J-we),g+=(Q.g=q=n[l+1])*$,v+=(Q.b=U=n[l+2])*$,_+=(Q.a=Y=n[l+3])*$,O+=k,j+=q,M+=U,z+=Y,Q=Q.next;ae=de,B=ee;for(let we=0;we<a;we++)n[u+3]=Y=_*ue>>G,Y!==0?(Y=255/Y,n[u]=(h*ue>>G)*Y,n[u+1]=(g*ue>>G)*Y,n[u+2]=(v*ue>>G)*Y):n[u]=n[u+1]=n[u+2]=0,h-=w,g-=C,v-=T,_-=R,w-=ae.r,C-=ae.g,T-=ae.b,R-=ae.a,l=f+((l=we+e+1)<pe?l:pe)<<2,O+=ae.r=n[l],j+=ae.g=n[l+1],M+=ae.b=n[l+2],z+=ae.a=n[l+3],h+=O,g+=j,v+=M,_+=z,ae=ae.next,w+=k=B.r,C+=q=B.g,T+=U=B.b,R+=Y=B.a,O-=k,j-=q,M-=U,z-=Y,B=B.next,u+=4;f+=a}for(let te=0;te<a;te++){j=M=z=O=g=v=_=h=0,u=te<<2,w=J*(k=n[u]),C=J*(q=n[u+1]),T=J*(U=n[u+2]),R=J*(Y=n[u+3]),h+=he*k,g+=he*q,v+=he*U,_+=he*Y,Q=de;for(let Ce=0;Ce<J;Ce++)Q.r=k,Q.g=q,Q.b=U,Q.a=Y,Q=Q.next;let we=a;for(let Ce=1;Ce<=e;Ce++)u=we+te<<2,h+=(Q.r=k=n[u])*($=J-Ce),g+=(Q.g=q=n[u+1])*$,v+=(Q.b=U=n[u+2])*$,_+=(Q.a=Y=n[u+3])*$,O+=k,j+=q,M+=U,z+=Y,Q=Q.next,Ce<Ee&&(we+=a);u=te,ae=de,B=ee;for(let Ce=0;Ce<i;Ce++)l=u<<2,n[l+3]=Y=_*ue>>G,Y>0?(Y=255/Y,n[l]=(h*ue>>G)*Y,n[l+1]=(g*ue>>G)*Y,n[l+2]=(v*ue>>G)*Y):n[l]=n[l+1]=n[l+2]=0,h-=w,g-=C,v-=T,_-=R,w-=ae.r,C-=ae.g,T-=ae.b,R-=ae.a,l=te+((l=Ce+J)<Ee?l:Ee)*a<<2,h+=O+=ae.r=n[l],g+=j+=ae.g=n[l+1],v+=M+=ae.b=n[l+2],_+=z+=ae.a=n[l+3],ae=ae.next,w+=k=B.r,C+=q=B.g,T+=U=B.b,R+=Y=B.a,O-=k,j-=q,M-=U,z-=Y,B=B.next,u+=a}}const hk=function(e){const n=Math.round(this.blurRadius());n>0&&fk(e,n)};I.addGetterSetter(Ge,"blurRadius",0,He(),I.afterSetFilter);const mk=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};I.addGetterSetter(Ge,"brightness",0,He(),I.afterSetFilter);const pk=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},gk=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,l=150,u=150;for(let f=0;f<a;f+=4)i=n[f],l=n[f+1],u=n[f+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,n[f]=i,n[f+1]=l,n[f+2]=u};I.addGetterSetter(Ge,"contrast",0,He(),I.afterSetFilter);const vk=function(t){var e,n,a,i,l,u,f,h,g;const v=t.data,_=t.width,w=t.height,C=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),T=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),O=(f={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&f!==void 0?f:315,j=!!((g=(h=this.embossBlend)===null||h===void 0?void 0:h.call(this))!==null&&g!==void 0&&g),M=C*10,z=T*255,k=O*Math.PI/180,q=Math.cos(k),U=Math.sin(k),Y=128/1020*M,$=new Uint8ClampedArray(v),ne=new Float32Array(_*w);for(let de=0,ue=0;ue<v.length;ue+=4,de++)ne[de]=.2126*$[ue]+.7152*$[ue+1]+.0722*$[ue+2];const pe=[-1,0,1,-2,0,2,-1,0,1],Ee=[-1,-2,-1,0,0,0,1,2,1],J=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],he=de=>de<0?0:de>255?255:de;for(let de=1;de<w-1;de++)for(let ue=1;ue<_-1;ue++){const G=de*_+ue;let ee=0,Q=0;ee+=ne[G+J[0]]*pe[0],Q+=ne[G+J[0]]*Ee[0],ee+=ne[G+J[1]]*pe[1],Q+=ne[G+J[1]]*Ee[1],ee+=ne[G+J[2]]*pe[2],Q+=ne[G+J[2]]*Ee[2],ee+=ne[G+J[3]]*pe[3],Q+=ne[G+J[3]]*Ee[3],ee+=ne[G+J[5]]*pe[5],Q+=ne[G+J[5]]*Ee[5],ee+=ne[G+J[6]]*pe[6],Q+=ne[G+J[6]]*Ee[6],ee+=ne[G+J[7]]*pe[7],Q+=ne[G+J[7]]*Ee[7],ee+=ne[G+J[8]]*pe[8],Q+=ne[G+J[8]]*Ee[8];const ae=q*ee+U*Q,B=he(z+ae*Y),te=G*4;if(j){const we=B-z;v[te]=he($[te]+we),v[te+1]=he($[te+1]+we),v[te+2]=he($[te+2]+we),v[te+3]=$[te+3]}else v[te]=v[te+1]=v[te+2]=B,v[te+3]=$[te+3]}for(let de=0;de<_;de++){let ue=de*4,G=((w-1)*_+de)*4;v[ue]=$[ue],v[ue+1]=$[ue+1],v[ue+2]=$[ue+2],v[ue+3]=$[ue+3],v[G]=$[G],v[G+1]=$[G+1],v[G+2]=$[G+2],v[G+3]=$[G+3]}for(let de=1;de<w-1;de++){let ue=de*_*4,G=(de*_+(_-1))*4;v[ue]=$[ue],v[ue+1]=$[ue+1],v[ue+2]=$[ue+2],v[ue+3]=$[ue+3],v[G]=$[G],v[G+1]=$[G+1],v[G+2]=$[G+2],v[G+3]=$[G+3]}return t};I.addGetterSetter(Ge,"embossStrength",.5,He(),I.afterSetFilter);I.addGetterSetter(Ge,"embossWhiteLevel",.5,He(),I.afterSetFilter);I.addGetterSetter(Ge,"embossDirection","top-left",void 0,I.afterSetFilter);I.addGetterSetter(Ge,"embossBlend",!1,void 0,I.afterSetFilter);function yy(t,e,n,a,i){const l=n-e,u=i-a;if(l===0)return a+u/2;if(u===0)return a;let f=(t-e)/l;return f=u*f+a,f}const yk=function(t){const e=t.data,n=e.length;let a=e[0],i=a,l,u=e[1],f=u,h,g=e[2],v=g,_;const w=this.enhance();if(w===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>i&&(i=l),h=e[z+1],h<u?u=h:h>f&&(f=h),_=e[z+2],_<g?g=_:_>v&&(v=_);i===a&&(i=255,a=0),f===u&&(f=255,u=0),v===g&&(v=255,g=0);let C,T,R,O,j,M;if(w>0)C=i+w*(255-i),T=a-w*(a-0),R=f+w*(255-f),O=u-w*(u-0),j=v+w*(255-v),M=g-w*(g-0);else{const z=(i+a)*.5;C=i+w*(i-z),T=a+w*(a-z);const k=(f+u)*.5;R=f+w*(f-k),O=u+w*(u-k);const q=(v+g)*.5;j=v+w*(v-q),M=g+w*(g-q)}for(let z=0;z<n;z+=4)e[z+0]=yy(e[z+0],a,i,T,C),e[z+1]=yy(e[z+1],u,f,O,R),e[z+2]=yy(e[z+2],g,v,M,j)};I.addGetterSetter(Ge,"enhance",0,He(),I.afterSetFilter);const bk=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};I.addGetterSetter(Ge,"hue",0,He(),I.afterSetFilter);I.addGetterSetter(Ge,"saturation",0,He(),I.afterSetFilter);I.addGetterSetter(Ge,"luminance",0,He(),I.afterSetFilter);const _k=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,f=a*i*Math.cos(l*Math.PI/180),h=a*i*Math.sin(l*Math.PI/180),g=.299*a+.701*f+.167*h,v=.587*a-.587*f+.33*h,_=.114*a-.114*f-.497*h,w=.299*a-.299*f-.328*h,C=.587*a+.413*f+.035*h,T=.114*a-.114*f+.293*h,R=.299*a-.3*f+1.25*h,O=.587*a-.586*f-1.05*h,j=.114*a+.886*f-.2*h;let M,z,k,q;for(let U=0;U<n;U+=4)M=e[U+0],z=e[U+1],k=e[U+2],q=e[U+3],e[U+0]=g*M+v*z+_*k+u,e[U+1]=w*M+C*z+T*k+u,e[U+2]=R*M+O*z+j*k+u,e[U+3]=q},xk=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=a*i*Math.cos(l*Math.PI/180),f=a*i*Math.sin(l*Math.PI/180),h=.299*a+.701*u+.167*f,g=.587*a-.587*u+.33*f,v=.114*a-.114*u-.497*f,_=.299*a-.299*u-.328*f,w=.587*a+.413*u+.035*f,C=.114*a-.114*u+.293*f,T=.299*a-.3*u+1.25*f,R=.587*a-.586*u-1.05*f,O=.114*a+.886*u-.2*f;for(let j=0;j<n;j+=4){const M=e[j+0],z=e[j+1],k=e[j+2],q=e[j+3];e[j+0]=h*M+g*z+v*k,e[j+1]=_*M+w*z+C*k,e[j+2]=T*M+R*z+O*k,e[j+3]=q}};I.addGetterSetter(Ge,"hue",0,He(),I.afterSetFilter);I.addGetterSetter(Ge,"saturation",0,He(),I.afterSetFilter);I.addGetterSetter(Ge,"value",0,He(),I.afterSetFilter);const wk=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},Sk=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,h=n.polarCenterY||u/2;let g=Math.sqrt(f*f+h*h),v=l-f,_=u-h;const w=Math.sqrt(v*v+_*_);g=w>g?w:g;const C=u,T=l,R=360/T*Math.PI/180;for(let O=0;O<T;O+=1){const j=Math.sin(O*R),M=Math.cos(O*R);for(let z=0;z<C;z+=1){v=Math.floor(f+g*z/C*M),_=Math.floor(h+g*z/C*j);let k=(_*l+v)*4;const q=a[k+0],U=a[k+1],Y=a[k+2],$=a[k+3];k=(O+z*l)*4,i[k+0]=q,i[k+1]=U,i[k+2]=Y,i[k+3]=$}}},Ek=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,h=n.polarCenterY||u/2;let g=Math.sqrt(f*f+h*h),v=l-f,_=u-h;const w=Math.sqrt(v*v+_*_);g=w>g?w:g;const C=u,T=l,R=0;let O,j;for(v=0;v<l;v+=1)for(_=0;_<u;_+=1){const M=v-f,z=_-h,k=Math.sqrt(M*M+z*z)*C/g;let q=(Math.atan2(z,M)*180/Math.PI+360+R)%360;q=q*T/360,O=Math.floor(q),j=Math.floor(k);let U=(j*l+O)*4;const Y=a[U+0],$=a[U+1],ne=a[U+2],pe=a[U+3];U=(_*l+v)*4,i[U+0]=Y,i[U+1]=$,i[U+2]=ne,i[U+3]=pe}},Ck=function(t){const e=t.width,n=t.height;let a,i,l,u,f,h,g,v,_,w,C=Math.round(this.kaleidoscopePower());const T=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(T%360)/360);if(C<1)return;const O=le.createCanvasElement();O.width=e,O.height=n;const j=O.getContext("2d").getImageData(0,0,e,n);le.releaseCanvas(O),Sk(t,j,{polarCenterX:e/2,polarCenterY:n/2});let M=e/Math.pow(2,C);for(;M<=8;)M=M*2,C-=1;M=Math.ceil(M);let z=M,k=0,q=z,U=1;for(R+M>e&&(k=z,q=0,U=-1),i=0;i<n;i+=1)for(a=k;a!==q;a+=U)l=Math.round(a+R)%e,_=(e*i+l)*4,f=j.data[_+0],h=j.data[_+1],g=j.data[_+2],v=j.data[_+3],w=(e*i+a)*4,j.data[w+0]=f,j.data[w+1]=h,j.data[w+2]=g,j.data[w+3]=v;for(i=0;i<n;i+=1)for(z=Math.floor(M),u=0;u<C;u+=1){for(a=0;a<z+1;a+=1)_=(e*i+a)*4,f=j.data[_+0],h=j.data[_+1],g=j.data[_+2],v=j.data[_+3],w=(e*i+z*2-a-1)*4,j.data[w+0]=f,j.data[w+1]=h,j.data[w+2]=g,j.data[w+3]=v;z*=2}Ek(j,t,{})};I.addGetterSetter(Ge,"kaleidoscopePower",2,He(),I.afterSetFilter);I.addGetterSetter(Ge,"kaleidoscopeAngle",0,He(),I.afterSetFilter);function jg(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function N0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Tk(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Ak(t,e){const n=jg(t,0,0),a=jg(t,t.width-1,0),i=jg(t,0,t.height-1),l=jg(t,t.width-1,t.height-1),u=e||10;if(N0(n,a)<u&&N0(a,l)<u&&N0(l,i)<u&&N0(i,n)<u){const f=Tk([a,n,l,i]),h=[];for(let g=0;g<t.width*t.height;g++){const v=N0(f,[t.data[g*4],t.data[g*4+1],t.data[g*4+2]]);h[g]=v<u?0:255}return h}}function Rk(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function Ok(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let h=0;h<e;h++){const g=f*e+h;let v=0;for(let _=0;_<i;_++)for(let w=0;w<i;w++){const C=f+_-l,T=h+w-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+w];v+=t[R]*O}}u[g]=v===2040?255:0}return u}function Nk(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let h=0;h<e;h++){const g=f*e+h;let v=0;for(let _=0;_<i;_++)for(let w=0;w<i;w++){const C=f+_-l,T=h+w-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+w];v+=t[R]*O}}u[g]=v>=1020?255:0}return u}function jk(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let h=0;h<e;h++){const g=f*e+h;let v=0;for(let _=0;_<i;_++)for(let w=0;w<i;w++){const C=f+_-l,T=h+w-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+w];v+=t[R]*O}}u[g]=v}return u}const Mk=function(t){const e=this.threshold();let n=Ak(t,e);return n&&(n=Ok(n,t.width,t.height),n=Nk(n,t.width,t.height),n=jk(n,t.width,t.height),Rk(t,n)),t};I.addGetterSetter(Ge,"threshold",0,He(),I.afterSetFilter);const Dk=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let l=0;l<a;l+=4)n[l+0]+=i-2*i*Math.random(),n[l+1]+=i-2*i*Math.random(),n[l+2]+=i-2*i*Math.random()};I.addGetterSetter(Ge,"noise",.2,He(),I.afterSetFilter);const zk=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),l=Math.ceil(a/e),u=t.data;if(e<=0){le.error("pixelSize value can not be <= 0");return}for(let f=0;f<i;f+=1)for(let h=0;h<l;h+=1){let g=0,v=0,_=0,w=0;const C=f*e,T=C+e,R=h*e,O=R+e;let j=0;for(let M=C;M<T;M+=1)if(!(M>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const k=(n*z+M)*4;g+=u[k+0],v+=u[k+1],_+=u[k+2],w+=u[k+3],j+=1}g=g/j,v=v/j,_=_/j,w=w/j;for(let M=C;M<T;M+=1)if(!(M>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const k=(n*z+M)*4;u[k+0]=g,u[k+1]=v,u[k+2]=_,u[k+3]=w}}};I.addGetterSetter(Ge,"pixelSize",8,He(),I.afterSetFilter);const kk=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/i)*i};I.addGetterSetter(Ge,"levels",.5,He(),I.afterSetFilter);const Lk=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue();for(let u=0;u<n;u+=4){const f=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255;e[u]=f*a,e[u+1]=f*i,e[u+2]=f*l,e[u+3]=e[u+3]}};I.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});I.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});I.addGetterSetter(Ge,"blue",0,bw,I.afterSetFilter);const Uk=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue(),u=this.alpha();for(let f=0;f<n;f+=4){const h=1-u;e[f]=a*u+e[f]*h,e[f+1]=i*u+e[f+1]*h,e[f+2]=l*u+e[f+2]*h}};I.addGetterSetter(Ge,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});I.addGetterSetter(Ge,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});I.addGetterSetter(Ge,"blue",0,bw,I.afterSetFilter);I.addGetterSetter(Ge,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Pk=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],l=e[a+1],u=e[a+2];e[a+0]=Math.min(255,i*.393+l*.769+u*.189),e[a+1]=Math.min(255,i*.349+l*.686+u*.168),e[a+2]=Math.min(255,i*.272+l*.534+u*.131)}},Bk=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],l=n[a+1],u=n[a+2];.2126*i+.7152*l+.0722*u>=128&&(n[a]=255-i,n[a+1]=255-l,n[a+2]=255-u)}return t},Hk=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};I.addGetterSetter(Ge,"threshold",.5,He(),I.afterSetFilter);const Zf=If.Util._assign(If,{Arc:co,Arrow:Ic,Circle:$f,Ellipse:wu,Image:Zi,Label:cb,Tag:Zc,Line:fo,Path:qi,Rect:Am,RegularPolygon:Su,Ring:Xc,Sprite:bl,Star:Eu,Text:Bn,TextPath:xa,Transformer:Qt,Wedge:ho,Filters:{Blur:hk,Brightness:pk,Brighten:mk,Contrast:gk,Emboss:vk,Enhance:yk,Grayscale:bk,HSL:_k,HSV:xk,Invert:wk,Kaleidoscope:Ck,Mask:Mk,Noise:Dk,Pixelate:zk,Posterize:kk,RGB:Lk,RGBA:Uk,Sepia:Pk,Solarize:Bk,Threshold:Hk}});var by={exports:{}},_y={exports:{}};var Y4;function Gk(){return Y4||(Y4=1,(function(t){t.exports=function(e){function n(o,c,p,b){return new d1(o,c,p,b)}function a(){}function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function u(o){if(l(o)!==o)throw Error(i(188))}function f(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(i(188));return c!==o?null:o}for(var p=o,b=c;;){var E=p.return;if(E===null)break;var A=E.alternate;if(A===null){if(b=E.return,b!==null){p=b;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===p)return u(E),o;if(A===b)return u(E),c;A=A.sibling}throw Error(i(188))}if(p.return!==b.return)p=E,b=A;else{for(var P=!1,F=E.child;F;){if(F===p){P=!0,p=E,b=A;break}if(F===b){P=!0,b=E,p=A;break}F=F.sibling}if(!P){for(F=A.child;F;){if(F===p){P=!0,p=A,b=E;break}if(F===b){P=!0,b=A,p=E;break}F=F.sibling}if(!P)throw Error(i(189))}}if(p.alternate!==b)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=g(o),c!==null))return c;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Md&&o[Md]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Wu?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Vl:return"Fragment";case jd:return"Profiler";case Ku:return"StrictMode";case $u:return"Suspense";case Qu:return"SuspenseList";case Yl:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Hs:return"Portal";case is:return(o.displayName||"Context")+".Provider";case Mh:return(o._context.displayName||"Context")+".Consumer";case Ti:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ai:return c=o.displayName||null,c!==null?c:_(o.type)||"Memo";case qa:c=o._payload,o=o._init;try{return _(o(c))}catch{}}return null}function w(o){return{current:o}}function C(o){0>ds||(o.current=cs[ds],cs[ds]=null,ds--)}function T(o,c){ds++,cs[ds]=o.current,o.current=c}function R(o){return o>>>=0,o===0?32:31-(Pp(o)/Gd|0)|0}function O(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function j(o,c,p){var b=o.pendingLanes;if(b===0)return 0;var E=0,A=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var F=b&134217727;return F!==0?(b=F&~A,b!==0?E=O(b):(P&=F,P!==0?E=O(P):p||(p=F&~o,p!==0&&(E=O(p))))):(F=b&~A,F!==0?E=O(F):P!==0?E=O(P):p||(p=b&~o,p!==0&&(E=O(p)))),E===0?0:c!==0&&c!==E&&(c&A)===0&&(A=E&-E,p=c&-c,A>=p||A===32&&(p&4194048)!==0)?c:E}function M(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function z(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k(){var o=cc;return cc<<=1,(cc&4194048)===0&&(cc=256),o}function q(){var o=Bo;return Bo<<=1,(Bo&62914560)===0&&(Bo=4194304),o}function U(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Y(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $(o,c,p,b,E,A){var P=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var F=o.entanglements,se=o.expirationTimes,Ne=o.hiddenUpdates;for(p=P&~p;0<p;){var Ue=31-ur(p),Xe=1<<Ue;F[Ue]=0,se[Ue]=-1;var Fe=Ne[Ue];if(Fe!==null)for(Ne[Ue]=null,Ue=0;Ue<Fe.length;Ue++){var At=Fe[Ue];At!==null&&(At.lane&=-536870913)}p&=~Xe}b!==0&&ne(o,b,0),A!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=A&~(P&~c))}function ne(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var b=31-ur(c);o.entangledLanes|=c,o.entanglements[b]=o.entanglements[b]|1073741824|p&4194090}function pe(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var b=31-ur(p),E=1<<b;E&c|o[b]&c&&(o[b]|=c),p&=~E}}function Ee(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function J(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function he(o){if(typeof qp=="function"&&Vp(o),Ya&&typeof Ya.setStrictMode=="function")try{Ya.setStrictMode(Is,o)}catch{}}function de(o){if(Yd===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Yd=c&&c[1]||"",r0=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yd+o+r0}function ue(o,c){if(!o||Id)return"";Id=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(At){var Fe=At}Reflect.construct(o,[],Xe)}else{try{Xe.call()}catch(At){Fe=At}o.call(Xe.prototype)}}else{try{throw Error()}catch(At){Fe=At}(Xe=o())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(At){if(At&&Fe&&typeof At.stack=="string")return[At.stack,Fe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),P=A[0],F=A[1];if(P&&F){var se=P.split(`
`),Ne=F.split(`
`);for(E=b=0;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;for(;E<Ne.length&&!Ne[E].includes("DetermineComponentFrameRoot");)E++;if(b===se.length||E===Ne.length)for(b=se.length-1,E=Ne.length-1;1<=b&&0<=E&&se[b]!==Ne[E];)E--;for(;1<=b&&0<=E;b--,E--)if(se[b]!==Ne[E]){if(b!==1||E!==1)do if(b--,E--,0>E||se[b]!==Ne[E]){var Ue=`
`+se[b].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=b&&0<=E);break}}}finally{Id=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?de(p):""}function G(o){switch(o.tag){case 26:case 27:case 5:return de(o.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return ue(o.type,!1);case 11:return ue(o.type.render,!1);case 1:return ue(o.type,!0);case 31:return de("Activity");default:return""}}function ee(o){try{var c="";do c+=G(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Q(o,c){if(typeof o=="object"&&o!==null){var p=Zd.get(o);return p!==void 0?p:(c={value:o,source:c,stack:ee(c)},Zd.set(o,c),c)}return{value:o,source:c,stack:ee(c)}}function ae(o,c){Zs[Xs++]=Ho,Zs[Xs++]=fc,fc=o,Ho=c}function B(o,c,p){Ia[cr++]=ei,Ia[cr++]=ji,Ia[cr++]=Ks,Ks=o;var b=ei;o=ji;var E=32-ur(b)-1;b&=~(1<<E),p+=1;var A=32-ur(c)+E;if(30<A){var P=E-E%5;A=(b&(1<<P)-1).toString(32),b>>=P,E-=P,ei=1<<32-ur(c)+E|p<<E|b,ji=A+o}else ei=1<<A|p<<E|b,ji=o}function te(o){o.return!==null&&(ae(o,1),B(o,1,0))}function we(o){for(;o===fc;)fc=Zs[--Xs],Zs[Xs]=null,Ho=Zs[--Xs],Zs[Xs]=null;for(;o===Ks;)Ks=Ia[--cr],Ia[cr]=null,ji=Ia[--cr],Ia[cr]=null,ei=Ia[--cr],Ia[cr]=null}function Ce(o,c){T(Fs,c),T(Kl,o),T(An,null),o=zh(c),C(An),T(An,o)}function qe(){C(An),C(Kl),C(Fs)}function st(o){o.memoizedState!==null&&T(hc,o);var c=An.current,p=kh(c,o.type);c!==p&&(T(Kl,o),T(An,p))}function Ie(o){Kl.current===o&&(C(An),C(Kl)),hc.current===o&&(C(hc),ls?Oi._currentValue=or:Oi._currentValue2=or)}function it(o){var c=Error(i(418,""));throw lt(Q(c,o)),i0}function bt(o,c){if(!sr)throw Error(i(175));Dp(o.stateNode,o.type,o.memoizedProps,c,o)||it(o)}function vn(o){for(Un=o.return;Un;)switch(Un.tag){case 5:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:Un=Un.return}}function xe(o){if(!sr||o!==Un)return!1;if(!Zt)return vn(o),Zt=!0,!1;var c=o.tag;if(Ut?c!==3&&c!==27&&(c!==5||Wh(o.type)&&!ss(o.type,o.memoizedProps))&&Xn&&it(o):c!==3&&(c!==5||Wh(o.type)&&!ss(o.type,o.memoizedProps))&&Xn&&it(o),vn(o),c===13){if(!sr)throw Error(i(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Xn=Pd(o)}else Xn=Ut&&c===27?Fh(o.type,Xn):Un?Rp(o.stateNode):null;return!0}function Me(){sr&&(Xn=Un=null,Zt=!1)}function ut(){var o=ti;return o!==null&&(Ma===null?Ma=o:Ma.push.apply(Ma,o),ti=null),o}function lt(o){ti===null?ti=[o]:ti.push(o)}function at(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function _t(o,c,p){ls?(T(mc,c._currentValue),c._currentValue=p):(T(mc,c._currentValue2),c._currentValue2=p)}function cn(o){var c=mc.current;ls?o._currentValue=c:o._currentValue2=c,C(mc)}function tn(o,c,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===p)break;o=o.return}}function na(o,c,p,b){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var A=E.dependencies;if(A!==null){var P=E.child;A=A.firstContext;e:for(;A!==null;){var F=A;A=E;for(var se=0;se<c.length;se++)if(F.context===c[se]){A.lanes|=p,F=A.alternate,F!==null&&(F.lanes|=p),tn(A.return,p,o),b||(P=null);break e}A=F.next}}else if(E.tag===18){if(P=E.return,P===null)throw Error(i(341));P.lanes|=p,A=P.alternate,A!==null&&(A.lanes|=p),tn(P,p,o),P=null}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===o){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}}function $a(o,c,p,b){o=null;for(var E=c,A=!1;E!==null;){if(!A){if((E.flags&524288)!==0)A=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var P=E.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var F=E.type;wr(E.pendingProps.value,P.value)||(o!==null?o.push(F):o=[F])}}else if(E===hc.current){if(P=E.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Oi):o=[Oi])}E=E.return}o!==null&&na(c,o,p,b),c.flags|=262144}function K(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!wr(ls?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function oe(o){ni=o,Oa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ge(o){return Pe(ni,o)}function Le(o,c){return ni===null&&oe(o),Pe(o,c)}function Pe(o,c){var p=ls?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:p,next:null},Oa===null){if(o===null)throw Error(i(308));Oa=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Oa=Oa.next=c;return p}function ke(){return{controller:new Yp,data:new Map,refCount:0}}function Ze(o){o.refCount--,o.refCount===0&&Ip(pc,function(){o.controller.abort()})}function Qe(o){o!==$s&&o.next===null&&($s===null?gc=$s=o:$s=$s.next=o),Go=!0,Xd||(Xd=!0,Wa())}function vt(o,c){if(!vc&&Go){vc=!0;do for(var p=!1,b=gc;b!==null;){if(o!==0){var E=b.pendingLanes;if(E===0)var A=0;else{var P=b.suspendedLanes,F=b.pingedLanes;A=(1<<31-ur(42|o)+1)-1,A&=E&~(P&~F),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,Qa(b,A))}else A=Dt,A=j(b,b===Kt?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Lr),(A&3)===0||M(b,A)||(p=!0,Qa(b,A));b=b.next}while(p);vc=!1}}function nn(){La()}function La(){Go=Xd=!1;var o=0;fs!==0&&(Uh()&&(o=fs),fs=0);for(var c=pn(),p=null,b=gc;b!==null;){var E=b.next,A=Ua(b,c);A===0?(b.next=null,p===null?gc=E:p.next=E,E===null&&($s=p)):(p=b,(o!==0||(A&3)!==0)&&(Go=!0)),b=E}vt(o)}function Ua(o,c){for(var p=o.suspendedLanes,b=o.pingedLanes,E=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var P=31-ur(A),F=1<<P,se=E[P];se===-1?((F&p)===0||(F&b)!==0)&&(E[P]=z(F,c)):se<=c&&(o.expiredLanes|=F),A&=~F}if(c=Kt,p=Dt,p=j(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Lr),b=o.callbackNode,p===0||o===c&&(ln===2||ln===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&qd(b),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||M(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(b!==null&&qd(b),J(p)){case 2:case 8:p=Hp;break;case 32:p=Vd;break;case 268435456:p=Gp;break;default:p=Vd}return b=wa.bind(null,o),p=dc(p,b),o.callbackPriority=c,o.callbackNode=p,c}return b!==null&&b!==null&&qd(b),o.callbackPriority=2,o.callbackNode=null,2}function wa(o,c){if(Wn!==0&&Wn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(kr()&&o.callbackNode!==p)return null;var b=Dt;return b=j(o,o===Kt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Lr),b===0?null:(Zu(o,b,c),Ua(o,pn()),o.callbackNode!=null&&o.callbackNode===p?wa.bind(null,o):null)}function Qa(o,c){if(kr())return null;Zu(o,c,!0)}function Wa(){Hh?op(function(){(dt&6)!==0?dc(la,nn):La()}):dc(la,nn)}function aa(){return fs===0&&(fs=k()),fs}function Kr(o,c){if(qo===null){var p=qo=[];ai=0,wn=aa(),Qs={status:"pending",value:void 0,then:function(b){p.push(b)}}}return ai++,c.then(mr,mr),c}function mr(){if(--ai===0&&qo!==null){Qs!==null&&(Qs.status="fulfilled");var o=qo;qo=null,wn=0,Qs=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Rr(o,c){var p=[],b={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){b.status="fulfilled",b.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(b.status="rejected",b.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),b}function hi(){var o=Mn.current;return o!==null?o:Kt.pooledCache}function Or(o,c){c===null?T(Mn,Mn.current):T(Mn,c.pool)}function As(){var o=hi();return o===null?null:{parent:ls?sn._currentValue:sn._currentValue2,pool:o}}function Pa(o,c){if(wr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),b=Object.keys(c);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var E=p[b];if(!v1.call(c,E)||!wr(o[E],c[E]))return!1}return!0}function xl(o){return o=o.status,o==="fulfilled"||o==="rejected"}function mi(){}function pi(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(mi,mi),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Xi(o),o;default:if(typeof c.status=="string")c.then(mi,mi);else{if(o=Kt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(b){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=b}},function(b){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Xi(o),o}throw dr=c,Vo}}function Fr(){if(dr===null)throw Error(i(459));var o=dr;return dr=null,o}function Xi(o){if(o===Vo||o===yn)throw Error(i(483))}function gi(){for(var o=Fl,c=l0=Fl=0;c<o;){var p=Sr[c];Sr[c++]=null;var b=Sr[c];Sr[c++]=null;var E=Sr[c];Sr[c++]=null;var A=Sr[c];if(Sr[c++]=null,b!==null&&E!==null){var P=b.pending;P===null?E.next=E:(E.next=P.next,P.next=E),b.pending=E}A!==0&&ye(p,E,A)}}function X(o,c,p,b){Sr[Fl++]=o,Sr[Fl++]=c,Sr[Fl++]=p,Sr[Fl++]=b,l0|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function H(o,c,p,b){return X(o,c,p,b),Se(o)}function V(o,c){return X(o,null,null,c),Se(o)}function ye(o,c,p){o.lanes|=p;var b=o.alternate;b!==null&&(b.lanes|=p);for(var E=!1,A=o.return;A!==null;)A.childLanes|=p,b=A.alternate,b!==null&&(b.childLanes|=p),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(E=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,E&&c!==null&&(E=31-ur(p),o=A.hiddenUpdates,b=o[E],b===null?o[E]=[c]:b.push(c),c.lane=p|536870912),A):null}function Se(o){if(50<ll)throw ll=0,Jd=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function Ye(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Be(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ke(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function We(o,c,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(dt&2)!==0){var E=b.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),b.pending=c,c=Se(o),ye(o,null,p),c}return X(o,b,c,p),Se(o)}function rt(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,pe(o,p)}}function nt(o,c){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var E=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?E=A=P:A=A.next=P,p=p.next}while(p!==null);A===null?E=A=c:A=A.next=c}else E=A=c;p={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function $e(){if(Za){var o=Qs;if(o!==null)throw o}}function Et(o,c,p,b){Za=!1;var E=o.updateQueue;Mi=!1;var A=E.firstBaseUpdate,P=E.lastBaseUpdate,F=E.shared.pending;if(F!==null){E.shared.pending=null;var se=F,Ne=se.next;se.next=null,P===null?A=Ne:P.next=Ne,P=se;var Ue=o.alternate;Ue!==null&&(Ue=Ue.updateQueue,F=Ue.lastBaseUpdate,F!==P&&(F===null?Ue.firstBaseUpdate=Ne:F.next=Ne,Ue.lastBaseUpdate=se))}if(A!==null){var Xe=E.baseState;P=0,Ue=Ne=se=null,F=A;do{var Fe=F.lane&-536870913,At=Fe!==F.lane;if(At?(Dt&Fe)===Fe:(b&Fe)===Fe){Fe!==0&&Fe===wn&&(Za=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Br=o,ol=F;Fe=c;var Hr=p;switch(ol.tag){case 1:if(Br=ol.payload,typeof Br=="function"){Xe=Br.call(Hr,Xe,Fe);break e}Xe=Br;break e;case 3:Br.flags=Br.flags&-65537|128;case 0:if(Br=ol.payload,Fe=typeof Br=="function"?Br.call(Hr,Xe,Fe):Br,Fe==null)break e;Xe=Gl({},Xe,Fe);break e;case 2:Mi=!0}}Fe=F.callback,Fe!==null&&(o.flags|=64,At&&(o.flags|=8192),At=E.callbacks,At===null?E.callbacks=[Fe]:At.push(Fe))}else At={lane:Fe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Ue===null?(Ne=Ue=At,se=Xe):Ue=Ue.next=At,P|=Fe;if(F=F.next,F===null){if(F=E.shared.pending,F===null)break;At=F,F=At.next,At.next=null,E.lastBaseUpdate=At,E.shared.pending=null}}while(!0);Ue===null&&(se=Xe),E.baseState=se,E.firstBaseUpdate=Ne,E.lastBaseUpdate=Ue,A===null&&(E.shared.lanes=0),$n|=P,o.lanes=P,o.memoizedState=Xe}}function an(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function _n(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)an(p[o],c)}function Ht(o,c){o=qn,T(yc,o),T(Na,c),qn=o|c.baseLanes}function hn(){T(yc,qn),T(Na,Na.current)}function on(){qn=yc.current,C(Na),C(yc)}function Gt(){throw Error(i(321))}function Ja(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!wr(o[p],c[p]))return!1;return!0}function Nr(o,c,p,b,E,A){return Kn=A,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ct.H=o===null||o.memoizedState===null?$l:o0,hs=!1,A=p(b,E),hs=!1,Ws&&(A=wl(c,p,b,E)),er(o),A}function er(o){ct.H=Js;var c=qt!==null&&qt.next!==null;if(Kn=0,Sn=qt=Rt=null,ri=!1,Yo=0,ii=null,c)throw Error(i(300));o===null||xt||(o=o.dependencies,o!==null&&K(o)&&(xt=!0))}function wl(o,c,p,b){Rt=o;var E=0;do{if(Ws&&(ii=null),Yo=0,Ws=!1,25<=E)throw Error(i(301));if(E+=1,Sn=qt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ct.H=Zp,A=c(p,b)}while(Ws);return A}function Sl(){var o=ct.H,c=o.useState()[0];return c=typeof c.then=="function"?Ha(c):c,o=o.useState()[0],(qt!==null?qt.memoizedState:null)!==o&&(Rt.flags|=1024),c}function tr(){var o=Er!==0;return Er=0,o}function $r(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Sa(o){if(ri){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ri=!1}Kn=0,Sn=qt=Rt=null,Ws=!1,Yo=Er=0,ii=null}function ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Rt.memoizedState=Sn=o:Sn=Sn.next=o,Sn}function kt(){if(qt===null){var o=Rt.alternate;o=o!==null?o.memoizedState:null}else o=qt.next;var c=Sn===null?Rt.memoizedState:Sn.next;if(c!==null)Sn=c,qt=o;else{if(o===null)throw Rt.alternate===null?Error(i(467)):Error(i(310));qt=o,o={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Sn===null?Rt.memoizedState=Sn=o:Sn=Sn.next=o}return Sn}function Ba(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ha(o){var c=Yo;return Yo+=1,ii===null&&(ii=[]),o=pi(ii,o,c),c=Rt,(Sn===null?c.memoizedState:Sn.next)===null&&(c=c.alternate,ct.H=c===null||c.memoizedState===null?$l:o0),o}function xn(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ha(o);if(o.$$typeof===is)return ge(o)}throw Error(i(438,String(o)))}function Rs(o){var c=null,p=Rt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var b=Rt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Ba(),Rt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),b=0;b<o;b++)p[b]=Dh;return c.index++,p}function pr(o,c){return typeof c=="function"?c(o):c}function ha(o){var c=kt();return $c(c,qt,o)}function $c(o,c,p){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=p;var E=o.baseQueue,A=b.pending;if(A!==null){if(E!==null){var P=E.next;E.next=A.next,A.next=P}c.baseQueue=E=A,b.pending=null}if(A=o.baseState,E===null)o.memoizedState=A;else{c=E.next;var F=P=null,se=null,Ne=c,Ue=!1;do{var Xe=Ne.lane&-536870913;if(Xe!==Ne.lane?(Dt&Xe)===Xe:(Kn&Xe)===Xe){var Fe=Ne.revertLane;if(Fe===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Xe===wn&&(Ue=!0);else if((Kn&Fe)===Fe){Ne=Ne.next,Fe===wn&&(Ue=!0);continue}else Xe={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},se===null?(F=se=Xe,P=A):se=se.next=Xe,Rt.lanes|=Fe,$n|=Fe;Xe=Ne.action,hs&&p(A,Xe),A=Ne.hasEagerState?Ne.eagerState:p(A,Xe)}else Fe={lane:Xe,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},se===null?(F=se=Fe,P=A):se=se.next=Fe,Rt.lanes|=Xe,$n|=Xe;Ne=Ne.next}while(Ne!==null&&Ne!==c);if(se===null?P=A:se.next=F,!wr(A,o.memoizedState)&&(xt=!0,Ue&&(p=Qs,p!==null)))throw p;o.memoizedState=A,o.baseState=P,o.baseQueue=se,b.lastRenderedState=A}return E===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function th(o){var c=kt(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=o;var b=p.dispatch,E=p.pending,A=c.memoizedState;if(E!==null){p.pending=null;var P=E=E.next;do A=o(A,P.action),P=P.next;while(P!==E);wr(A,c.memoizedState)||(xt=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),p.lastRenderedState=A}return[A,b]}function Ru(o,c,p){var b=Rt,E=kt(),A=Zt;if(A){if(p===void 0)throw Error(i(407));p=p()}else p=c();var P=!wr((qt||E).memoizedState,p);P&&(E.memoizedState=p,xt=!0),E=E.queue;var F=Dm.bind(null,b,E,o);if(Tl(2048,8,F,[o]),E.getSnapshot!==c||P||Sn!==null&&Sn.memoizedState.tag&1){if(b.flags|=2048,Os(9,Ki(),Ou.bind(null,b,E,p,c),null),Kt===null)throw Error(i(349));A||(Kn&124)!==0||nh(b,c,p)}return p}function nh(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=Rt.updateQueue,c===null?(c=Ba(),Rt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Ou(o,c,p,b){c.value=p,c.getSnapshot=b,gr(c)&&Qc(o)}function Dm(o,c,p){return p(function(){gr(c)&&Qc(o)})}function gr(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!wr(o,p)}catch{return!0}}function Qc(o){var c=V(o,2);c!==null&&Ta(c,o,2)}function Wc(o){var c=ft();if(typeof o=="function"){var p=o;if(o=p(),hs){he(!0);try{p()}finally{he(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:o},c}function Jc(o,c,p,b){return o.baseState=p,$c(o,qt,typeof b=="function"?b:pr)}function go(o,c,p,b,E){if(ku(o))throw Error(i(485));if(o=c.action,o!==null){var A={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){A.listeners.push(P)}};ct.T!==null?p(!0):A.isTransition=!1,b(A),p=c.pending,p===null?(A.next=c.pending=A,ah(c,A)):(A.next=p.next,c.pending=p.next=A)}}function ah(o,c){var p=c.action,b=c.payload,E=o.state;if(c.isTransition){var A=ct.T,P={};ct.T=P;try{var F=p(E,b),se=ct.S;se!==null&&se(P,F),rh(o,c,F)}catch(Ne){ih(o,c,Ne)}finally{ct.T=A}}else try{A=p(E,b),rh(o,c,A)}catch(Ne){ih(o,c,Ne)}}function rh(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){El(o,c,b)},function(b){return ih(o,c,b)}):El(o,c,p)}function El(o,c,p){c.status="fulfilled",c.value=p,sh(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,ah(o,p)))}function ih(o,c,p){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=p,sh(c),c=c.next;while(c!==b)}o.action=null}function sh(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function lh(o,c){return c}function ed(o,c){if(Zt){var p=Kt.formState;if(p!==null){e:{var b=Rt;if(Zt){if(Xn){var E=Tp(Xn,Wt);if(E){Xn=Rp(E),b=Ap(E);break e}}it(b)}b=!1}b&&(c=p[0])}}p=ft(),p.memoizedState=p.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:c},p.queue=b,p=rd.bind(null,Rt,b),b.dispatch=p,b=Wc(!1);var A=xo.bind(null,Rt,!1,b.queue);return b=ft(),E={state:c,dispatch:null,action:o,pending:null},b.queue=E,p=go.bind(null,Rt,E,A,p),E.dispatch=p,b.memoizedState=o,[c,p,!1]}function zm(o){var c=kt();return km(c,qt,o)}function km(o,c,p){if(c=$c(o,c,lh)[0],o=ha(pr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Ha(c)}catch(P){throw P===Vo?yn:P}else b=c;c=kt();var E=c.queue,A=E.dispatch;return p!==c.memoizedState&&(Rt.flags|=2048,Os(9,Ki(),td.bind(null,E,p),null)),[b,A,o]}function td(o,c){o.action=c}function nd(o){var c=kt(),p=qt;if(p!==null)return km(c,p,o);kt(),c=c.memoizedState,p=kt();var b=p.queue.dispatch;return p.memoizedState=o,[c,b,!1]}function Os(o,c,p,b){return o={tag:o,create:p,deps:b,inst:c,next:null},c=Rt.updateQueue,c===null&&(c=Ba(),Rt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,c.lastEffect=o),o}function Ki(){return{destroy:void 0,resource:void 0}}function Cl(){return kt().memoizedState}function Nu(o,c,p,b){var E=ft();b=b===void 0?null:b,Rt.flags|=o,E.memoizedState=Os(1|c,Ki(),p,b)}function Tl(o,c,p,b){var E=kt();b=b===void 0?null:b;var A=E.memoizedState.inst;qt!==null&&b!==null&&Ja(b,qt.memoizedState.deps)?E.memoizedState=Os(c,A,p,b):(Rt.flags|=o,E.memoizedState=Os(1|c,A,p,b))}function oh(o,c){Nu(8390656,8,o,c)}function vo(o,c){Tl(2048,8,o,c)}function vi(o,c){return Tl(4,2,o,c)}function ad(o,c){return Tl(4,4,o,c)}function yo(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Fi(o,c,p){p=p!=null?p.concat([o]):null,Tl(4,4,yo.bind(null,c,o),p)}function ju(){}function Mu(o,c){var p=kt();c=c===void 0?null:c;var b=p.memoizedState;return c!==null&&Ja(c,b[1])?b[0]:(p.memoizedState=[o,c],o)}function uh(o,c){var p=kt();c=c===void 0?null:c;var b=p.memoizedState;if(c!==null&&Ja(c,b[1]))return b[0];if(b=o(),hs){he(!0);try{o()}finally{he(!1)}}return p.memoizedState=[b,c],b}function bo(o,c,p){return p===void 0||(Kn&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=kl(),Rt.lanes|=o,$n|=o,p)}function Du(o,c,p,b){return wr(p,c)?p:Na.current!==null?(o=bo(o,p,b),wr(o,c)||(xt=!0),o):(Kn&42)===0?(xt=!0,o.memoizedState=p):(o=kl(),Rt.lanes|=o,$n|=o,c)}function ch(o,c,p,b,E){var A=Jr();sa(A!==0&&8>A?A:8);var P=ct.T,F={};ct.T=F,xo(o,!1,c,p);try{var se=E(),Ne=ct.S;if(Ne!==null&&Ne(F,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Ue=Rr(se,b);Qi(o,c,Ue,ia(o))}else Qi(o,c,b,ia(o))}catch(Xe){Qi(o,c,{then:function(){},status:"rejected",reason:Xe},ia())}finally{sa(A),ct.T=P}}function Ga(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:or,baseState:or,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:or},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function $i(){return ge(Oi)}function zu(){return kt().memoizedState}function _o(){return kt().memoizedState}function s1(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=ia();o=Ke(p);var b=We(c,o,p);b!==null&&(Ta(b,c,p),rt(b,c,p)),c={cache:ke()},o.payload=c;return}c=c.return}}function dh(o,c,p){var b=ia();p={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},ku(o)?Lm(c,p):(p=H(o,c,p,b),p!==null&&(Ta(p,o,b),Um(p,c,b)))}function rd(o,c,p){var b=ia();Qi(o,c,p,b)}function Qi(o,c,p,b){var E={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(ku(o))Lm(c,E);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var P=c.lastRenderedState,F=A(P,p);if(E.hasEagerState=!0,E.eagerState=F,wr(F,P))return X(o,c,E,0),Kt===null&&gi(),!1}catch{}finally{}if(p=H(o,c,E,b),p!==null)return Ta(p,o,b),Um(p,c,b),!0}return!1}function xo(o,c,p,b){if(b={lane:2,revertLane:aa(),action:b,hasEagerState:!1,eagerState:null,next:null},ku(o)){if(c)throw Error(i(479))}else c=H(o,p,b,2),c!==null&&Ta(c,o,2)}function ku(o){var c=o.alternate;return o===Rt||c!==null&&c===Rt}function Lm(o,c){Ws=ri=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function Um(o,c,p){if((p&4194048)!==0){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,pe(o,p)}}function id(o){var c=Io;return Io+=1,Di===null&&(Di=[]),pi(Di,o,c)}function Al(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function sd(o,c){throw c.$$typeof===rp?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Pm(o){var c=o._init;return c(o._payload)}function Bm(o){function c(me,re){if(o){var _e=me.deletions;_e===null?(me.deletions=[re],me.flags|=16):_e.push(re)}}function p(me,re){if(!o)return null;for(;re!==null;)c(me,re),re=re.sibling;return null}function b(me){for(var re=new Map;me!==null;)me.key!==null?re.set(me.key,me):re.set(me.index,me),me=me.sibling;return re}function E(me,re){return me=as(me,re),me.index=0,me.sibling=null,me}function A(me,re,_e){return me.index=_e,o?(_e=me.alternate,_e!==null?(_e=_e.index,_e<re?(me.flags|=67108866,re):_e):(me.flags|=67108866,re)):(me.flags|=1048576,re)}function P(me){return o&&me.alternate===null&&(me.flags|=67108866),me}function F(me,re,_e,De){return re===null||re.tag!==6?(re=Bl(_e,me.mode,De),re.return=me,re):(re=E(re,_e),re.return=me,re)}function se(me,re,_e,De){var Je=_e.type;return Je===Vl?Ue(me,re,_e.props.children,De,_e.key):re!==null&&(re.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===qa&&Pm(Je)===re.type)?(re=E(re,_e.props),Al(re,_e),re.return=me,re):(re=No(_e.type,_e.key,_e.props,null,me.mode,De),Al(re,_e),re.return=me,re)}function Ne(me,re,_e,De){return re===null||re.tag!==4||re.stateNode.containerInfo!==_e.containerInfo||re.stateNode.implementation!==_e.implementation?(re=Xu(_e,me.mode,De),re.return=me,re):(re=E(re,_e.children||[]),re.return=me,re)}function Ue(me,re,_e,De,Je){return re===null||re.tag!==7?(re=Wr(_e,me.mode,De,Je),re.return=me,re):(re=E(re,_e),re.return=me,re)}function Xe(me,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Bl(""+re,me.mode,_e),re.return=me,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ql:return _e=No(re.type,re.key,re.props,null,me.mode,_e),Al(_e,re),_e.return=me,_e;case Hs:return re=Xu(re,me.mode,_e),re.return=me,re;case qa:var De=re._init;return re=De(re._payload),Xe(me,re,_e)}if(Gs(re)||v(re))return re=Wr(re,me.mode,_e,null),re.return=me,re;if(typeof re.then=="function")return Xe(me,id(re),_e);if(re.$$typeof===is)return Xe(me,Le(me,re),_e);sd(me,re)}return null}function Fe(me,re,_e,De){var Je=re!==null?re.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Je!==null?null:F(me,re,""+_e,De);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case ql:return _e.key===Je?se(me,re,_e,De):null;case Hs:return _e.key===Je?Ne(me,re,_e,De):null;case qa:return Je=_e._init,_e=Je(_e._payload),Fe(me,re,_e,De)}if(Gs(_e)||v(_e))return Je!==null?null:Ue(me,re,_e,De,null);if(typeof _e.then=="function")return Fe(me,re,id(_e),De);if(_e.$$typeof===is)return Fe(me,re,Le(me,_e),De);sd(me,_e)}return null}function At(me,re,_e,De,Je){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return me=me.get(_e)||null,F(re,me,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case ql:return me=me.get(De.key===null?_e:De.key)||null,se(re,me,De,Je);case Hs:return me=me.get(De.key===null?_e:De.key)||null,Ne(re,me,De,Je);case qa:var dn=De._init;return De=dn(De._payload),At(me,re,_e,De,Je)}if(Gs(De)||v(De))return me=me.get(_e)||null,Ue(re,me,De,Je,null);if(typeof De.then=="function")return At(me,re,_e,id(De),Je);if(De.$$typeof===is)return At(me,re,_e,Le(re,De),Je);sd(re,De)}return null}function Br(me,re,_e,De){for(var Je=null,dn=null,pt=re,Ft=re=0,Jn=null;pt!==null&&Ft<_e.length;Ft++){pt.index>Ft?(Jn=pt,pt=null):Jn=pt.sibling;var $t=Fe(me,pt,_e[Ft],De);if($t===null){pt===null&&(pt=Jn);break}o&&pt&&$t.alternate===null&&c(me,pt),re=A($t,re,Ft),dn===null?Je=$t:dn.sibling=$t,dn=$t,pt=Jn}if(Ft===_e.length)return p(me,pt),Zt&&ae(me,Ft),Je;if(pt===null){for(;Ft<_e.length;Ft++)pt=Xe(me,_e[Ft],De),pt!==null&&(re=A(pt,re,Ft),dn===null?Je=pt:dn.sibling=pt,dn=pt);return Zt&&ae(me,Ft),Je}for(pt=b(pt);Ft<_e.length;Ft++)Jn=At(pt,me,Ft,_e[Ft],De),Jn!==null&&(o&&Jn.alternate!==null&&pt.delete(Jn.key===null?Ft:Jn.key),re=A(Jn,re,Ft),dn===null?Je=Jn:dn.sibling=Jn,dn=Jn);return o&&pt.forEach(function(gs){return c(me,gs)}),Zt&&ae(me,Ft),Je}function ol(me,re,_e,De){if(_e==null)throw Error(i(151));for(var Je=null,dn=null,pt=re,Ft=re=0,Jn=null,$t=_e.next();pt!==null&&!$t.done;Ft++,$t=_e.next()){pt.index>Ft?(Jn=pt,pt=null):Jn=pt.sibling;var gs=Fe(me,pt,$t.value,De);if(gs===null){pt===null&&(pt=Jn);break}o&&pt&&gs.alternate===null&&c(me,pt),re=A(gs,re,Ft),dn===null?Je=gs:dn.sibling=gs,dn=gs,pt=Jn}if($t.done)return p(me,pt),Zt&&ae(me,Ft),Je;if(pt===null){for(;!$t.done;Ft++,$t=_e.next())$t=Xe(me,$t.value,De),$t!==null&&(re=A($t,re,Ft),dn===null?Je=$t:dn.sibling=$t,dn=$t);return Zt&&ae(me,Ft),Je}for(pt=b(pt);!$t.done;Ft++,$t=_e.next())$t=At(pt,me,Ft,$t.value,De),$t!==null&&(o&&$t.alternate!==null&&pt.delete($t.key===null?Ft:$t.key),re=A($t,re,Ft),dn===null?Je=$t:dn.sibling=$t,dn=$t);return o&&pt.forEach(function(y1){return c(me,y1)}),Zt&&ae(me,Ft),Je}function Hr(me,re,_e,De){if(typeof _e=="object"&&_e!==null&&_e.type===Vl&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case ql:e:{for(var Je=_e.key;re!==null;){if(re.key===Je){if(Je=_e.type,Je===Vl){if(re.tag===7){p(me,re.sibling),De=E(re,_e.props.children),De.return=me,me=De;break e}}else if(re.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===qa&&Pm(Je)===re.type){p(me,re.sibling),De=E(re,_e.props),Al(De,_e),De.return=me,me=De;break e}p(me,re);break}else c(me,re);re=re.sibling}_e.type===Vl?(De=Wr(_e.props.children,me.mode,De,_e.key),De.return=me,me=De):(De=No(_e.type,_e.key,_e.props,null,me.mode,De),Al(De,_e),De.return=me,me=De)}return P(me);case Hs:e:{for(Je=_e.key;re!==null;){if(re.key===Je)if(re.tag===4&&re.stateNode.containerInfo===_e.containerInfo&&re.stateNode.implementation===_e.implementation){p(me,re.sibling),De=E(re,_e.children||[]),De.return=me,me=De;break e}else{p(me,re);break}else c(me,re);re=re.sibling}De=Xu(_e,me.mode,De),De.return=me,me=De}return P(me);case qa:return Je=_e._init,_e=Je(_e._payload),Hr(me,re,_e,De)}if(Gs(_e))return Br(me,re,_e,De);if(v(_e)){if(Je=v(_e),typeof Je!="function")throw Error(i(150));return _e=Je.call(_e),ol(me,re,_e,De)}if(typeof _e.then=="function")return Hr(me,re,id(_e),De);if(_e.$$typeof===is)return Hr(me,re,Le(me,_e),De);sd(me,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,re!==null&&re.tag===6?(p(me,re.sibling),De=E(re,_e),De.return=me,me=De):(p(me,re),De=Bl(_e,me.mode,De),De.return=me,me=De),P(me)):p(me,re)}return function(me,re,_e,De){try{Io=0;var Je=Hr(me,re,_e,De);return Di=null,Je}catch(pt){if(pt===Vo||pt===yn)throw pt;var dn=n(29,pt,null,me.mode);return dn.lanes=De,dn.return=me,dn}finally{}}}function Ns(o){var c=o.alternate;T(yt,yt.current&1),T(Ur,o),zi===null&&(c===null||Na.current!==null||c.memoizedState!==null)&&(zi=o)}function Hm(o){if(o.tag===22){if(T(yt,yt.current),T(Ur,o),zi===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(zi=o)}}else Wi()}function Wi(){T(yt,yt.current),T(Ur,Ur.current)}function Ji(o){C(Ur),zi===o&&(zi=null),C(yt)}function ld(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||ic(p)||Ud(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function fh(o,c,p,b){c=o.memoizedState,p=p(b,c),p=p==null?c:Gl({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}function Gm(o,c,p,b,E,A,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,A,P):c.prototype&&c.prototype.isPureReactComponent?!Pa(p,b)||!Pa(E,A):!0}function od(o,c,p,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,b),c.state!==o&&gn.enqueueReplaceState(c,c.state,null)}function Rl(o,c){var p=c;if("ref"in c){p={};for(var b in c)b!=="ref"&&(p[b]=c[b])}if(o=o.defaultProps){p===c&&(p=Gl({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}function ud(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function qm(o,c,p){try{var b=o.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function cd(o,c,p){return p=Ke(p),p.tag=3,p.payload={element:null},p.callback=function(){ud(o,c)},p}function Vm(o){return o=Ke(o),o.tag=3,o}function Ym(o,c,p,b){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var A=b.value;o.payload=function(){return E(A)},o.callback=function(){qm(c,p,b)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){qm(c,p,b),typeof E!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var F=b.stack;this.componentDidCatch(b.value,{componentStack:F!==null?F:""})})}function l1(o,c,p,b,E){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=p.alternate,c!==null&&$a(c,p,E,!0),p=Ur.current,p!==null){switch(p.tag){case 13:return zi===null?jn():p.alternate===null&&Pn===0&&(Pn=3),p.flags&=-257,p.flags|=65536,p.lanes=E,b===pa?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([b]):c.add(b),Pl(o,b,E)),!1;case 22:return p.flags|=65536,b===pa?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([b]):p.add(b)),Pl(o,b,E)),!1}throw Error(i(435,p.tag))}return Pl(o,b,E),jn(),!1}if(Zt)return c=Ur.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,b!==i0&&(o=Error(i(422),{cause:b}),lt(Q(o,p)))):(b!==i0&&(c=Error(i(423),{cause:b}),lt(Q(c,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,b=Q(b,p),E=cd(o.stateNode,b,E),nt(o,E),Pn!==4&&(Pn=2)),!1;var A=Error(i(520),{cause:b});if(A=Q(A,p),rl===null?rl=[A]:rl.push(A),Pn!==4&&(Pn=2),c===null)return!0;b=Q(b,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=cd(p.stateNode,b,o),nt(p,o),!1;case 1:if(c=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ui===null||!Ui.has(A))))return p.flags|=65536,E&=-E,p.lanes|=E,E=Vm(E),Ym(E,o,p,b),nt(p,E),!1}p=p.return}while(p!==null);return!1}function ma(o,c,p,b){c.child=o===null?u0(c,null,p,b):ms(c,o.child,p,b)}function Im(o,c,p,b,E){p=p.render;var A=c.ref;if("ref"in b){var P={};for(var F in b)F!=="ref"&&(P[F]=b[F])}else P=b;return oe(c),b=Nr(o,c,p,P,A,E),F=tr(),o!==null&&!xt?($r(o,c,E),vr(o,c,E)):(Zt&&F&&te(c),c.flags|=1,ma(o,c,b,E),c.child)}function Zm(o,c,p,b,E){if(o===null){var A=p.type;return typeof A=="function"&&!Oh(A)&&A.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=A,Xm(o,c,A,b,E)):(o=No(p.type,null,b,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!Nl(o,E)){var P=A.memoizedProps;if(p=p.compare,p=p!==null?p:Pa,p(P,b)&&o.ref===c.ref)return vr(o,c,E)}return c.flags|=1,o=as(A,b),o.ref=c.ref,o.return=c,c.child=o}function Xm(o,c,p,b,E){if(o!==null){var A=o.memoizedProps;if(Pa(A,b)&&o.ref===c.ref)if(xt=!1,c.pendingProps=b=A,Nl(o,E))(o.flags&131072)!==0&&(xt=!0);else return c.lanes=o.lanes,vr(o,c,E)}return Ol(o,c,p,b,E)}function Km(o,c,p){var b=c.pendingProps,E=b.children,A=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=A!==null?A.baseLanes|p:p,o!==null){for(E=c.child=o.child,A=0;E!==null;)A=A|E.lanes|E.childLanes,E=E.sibling;c.childLanes=A&~b}else c.childLanes=0,c.child=null;return Fm(o,c,b,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Or(c,A!==null?A.cachePool:null),A!==null?Ht(c,A):hn(),Hm(c);else return c.lanes=c.childLanes=536870912,Fm(o,c,A!==null?A.baseLanes|p:p,p)}else A!==null?(Or(c,A.cachePool),Ht(c,A),Wi(),c.memoizedState=null):(o!==null&&Or(c,null),hn(),Wi());return ma(o,c,E,p),c.child}function Fm(o,c,p,b){var E=hi();return E=E===null?null:{parent:ls?sn._currentValue:sn._currentValue2,pool:E},c.memoizedState={baseLanes:p,cachePool:E},o!==null&&Or(c,null),hn(),Hm(c),o!==null&&$a(o,c,b,!0),null}function wo(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function Ol(o,c,p,b,E){return oe(c),p=Nr(o,c,p,b,void 0,E),b=tr(),o!==null&&!xt?($r(o,c,E),vr(o,c,E)):(Zt&&b&&te(c),c.flags|=1,ma(o,c,p,E),c.child)}function $m(o,c,p,b,E,A){return oe(c),c.updateQueue=null,p=wl(c,b,p,E),er(o),b=tr(),o!==null&&!xt?($r(o,c,A),vr(o,c,A)):(Zt&&b&&te(c),c.flags|=1,ma(o,c,p,A),c.child)}function hh(o,c,p,b,E){if(oe(c),c.stateNode===null){var A=Xl,P=p.contextType;typeof P=="object"&&P!==null&&(A=ge(P)),A=new p(b,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=gn,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=b,A.state=c.memoizedState,A.refs={},Ye(c),P=p.contextType,A.context=typeof P=="object"&&P!==null?ge(P):Xl,A.state=c.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(fh(c,p,P,b),A.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(P=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),P!==A.state&&gn.enqueueReplaceState(A,A.state,null),Et(c,b,A,E),$e(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(o===null){A=c.stateNode;var F=c.memoizedProps,se=Rl(p,F);A.props=se;var Ne=A.context,Ue=p.contextType;P=Xl,typeof Ue=="object"&&Ue!==null&&(P=ge(Ue));var Xe=p.getDerivedStateFromProps;Ue=typeof Xe=="function"||typeof A.getSnapshotBeforeUpdate=="function",F=c.pendingProps!==F,Ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F||Ne!==P)&&od(c,A,b,P),Mi=!1;var Fe=c.memoizedState;A.state=Fe,Et(c,b,A,E),$e(),Ne=c.memoizedState,F||Fe!==Ne||Mi?(typeof Xe=="function"&&(fh(c,p,Xe,b),Ne=c.memoizedState),(se=Mi||Gm(c,p,se,b,Fe,Ne,P))?(Ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=Ne),A.props=b,A.state=Ne,A.context=P,b=se):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{A=c.stateNode,Be(o,c),P=c.memoizedProps,Ue=Rl(p,P),A.props=Ue,Xe=c.pendingProps,Fe=A.context,Ne=p.contextType,se=Xl,typeof Ne=="object"&&Ne!==null&&(se=ge(Ne)),F=p.getDerivedStateFromProps,(Ne=typeof F=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P!==Xe||Fe!==se)&&od(c,A,b,se),Mi=!1,Fe=c.memoizedState,A.state=Fe,Et(c,b,A,E),$e();var At=c.memoizedState;P!==Xe||Fe!==At||Mi||o!==null&&o.dependencies!==null&&K(o.dependencies)?(typeof F=="function"&&(fh(c,p,F,b),At=c.memoizedState),(Ue=Mi||Gm(c,p,Ue,b,Fe,At,se)||o!==null&&o.dependencies!==null&&K(o.dependencies))?(Ne||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,At,se),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,At,se)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=At),A.props=b,A.state=At,A.context=se,b=Ue):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),b=!1)}return A=b,wo(o,c),b=(c.flags&128)!==0,A||b?(A=c.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&b?(c.child=ms(c,o.child,null,E),c.child=ms(c,null,p,E)):ma(o,c,p,E),c.memoizedState=A.state,o=c.child):o=vr(o,c,E),o}function mh(o,c,p,b){return Me(),c.flags|=256,ma(o,c,p,b),c.child}function dd(o){return{baseLanes:o,cachePool:As()}}function fd(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Pr),o}function ph(o,c,p){var b=c.pendingProps,E=!1,A=(c.flags&128)!==0,P;if((P=A)||(P=o!==null&&o.memoizedState===null?!1:(yt.current&2)!==0),P&&(E=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(Zt){if(E?Ns(c):Wi(),Zt){var F=Xn,se;(se=F)&&(F=m1(F,Wt),F!==null?(c.memoizedState={dehydrated:F,treeContext:Ks!==null?{id:ei,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},se=n(18,null,null,0),se.stateNode=F,se.return=c,c.child=se,Un=c,Xn=null,se=!0):se=!1),se||it(c)}if(F=c.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Ud(F)?c.lanes=32:c.lanes=536870912,null;Ji(c)}return F=b.children,b=b.fallback,E?(Wi(),E=c.mode,F=hd({mode:"hidden",children:F},E),b=Wr(b,E,p,null),F.return=c,b.return=c,F.sibling=b,c.child=F,E=c.child,E.memoizedState=dd(p),E.childLanes=fd(o,P,p),c.memoizedState=Xa,b):(Ns(c),js(c,F))}if(se=o.memoizedState,se!==null&&(F=se.dehydrated,F!==null)){if(A)c.flags&256?(Ns(c),c.flags&=-257,c=gh(o,c,p)):c.memoizedState!==null?(Wi(),c.child=o.child,c.flags|=128,c=null):(Wi(),E=b.fallback,F=c.mode,b=hd({mode:"visible",children:b.children},F),E=Wr(E,F,p,null),E.flags|=2,b.return=c,E.return=c,b.sibling=E,c.child=b,ms(c,o.child,null,p),b=c.child,b.memoizedState=dd(p),b.childLanes=fd(o,P,p),c.memoizedState=Xa,c=E);else if(Ns(c),Ud(F))P=Cp(F).digest,b=Error(i(419)),b.stack="",b.digest=P,lt({value:b,source:null,stack:null}),c=gh(o,c,p);else if(xt||$a(o,c,p,!1),P=(p&o.childLanes)!==0,xt||P){if(P=Kt,P!==null&&(b=p&-p,b=(b&42)!==0?1:Ee(b),b=(b&(P.suspendedLanes|p))!==0?0:b,b!==0&&b!==se.retryLane))throw se.retryLane=b,V(o,b),Ta(P,o,b),Vt;ic(F)||jn(),c=gh(o,c,p)}else ic(F)?(c.flags|=192,c.child=o.child,c=null):(o=se.treeContext,sr&&(Xn=$h(F),Un=c,Zt=!0,ti=null,Wt=!1,o!==null&&(Ia[cr++]=ei,Ia[cr++]=ji,Ia[cr++]=Ks,ei=o.id,ji=o.overflow,Ks=c)),c=js(c,b.children),c.flags|=4096);return c}return E?(Wi(),E=b.fallback,F=c.mode,se=o.child,A=se.sibling,b=as(se,{mode:"hidden",children:b.children}),b.subtreeFlags=se.subtreeFlags&65011712,A!==null?E=as(A,E):(E=Wr(E,F,p,null),E.flags|=2),E.return=c,b.return=c,b.sibling=E,c.child=b,b=E,E=c.child,F=o.child.memoizedState,F===null?F=dd(p):(se=F.cachePool,se!==null?(A=ls?sn._currentValue:sn._currentValue2,se=se.parent!==A?{parent:A,pool:A}:se):se=As(),F={baseLanes:F.baseLanes|p,cachePool:se}),E.memoizedState=F,E.childLanes=fd(o,P,p),c.memoizedState=Xa,b):(Ns(c),p=o.child,o=p.sibling,p=as(p,{mode:"visible",children:b.children}),p.return=c,p.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=p,c.memoizedState=null,p)}function js(o,c){return c=hd({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function hd(o,c){return o=n(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function gh(o,c,p){return ms(c,o.child,null,p),o=js(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Qm(o,c,p){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),tn(o.return,c,p)}function md(o,c,p,b,E){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:E}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=b,A.tail=p,A.tailMode=E)}function vh(o,c,p){var b=c.pendingProps,E=b.revealOrder,A=b.tail;if(ma(o,c,b.children,p),b=yt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Qm(o,p,c);else if(o.tag===19)Qm(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(T(yt,b),E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&ld(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),md(c,!1,E,p,A);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&ld(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}md(c,!0,p,null,A);break;case"together":md(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function vr(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),$n|=c.lanes,(p&c.childLanes)===0)if(o!==null){if($a(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,p=as(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=as(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function Nl(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&K(o)))}function o1(o,c,p){switch(c.tag){case 3:Ce(c,c.stateNode.containerInfo),_t(c,sn,o.memoizedState.cache),Me();break;case 27:case 5:st(c);break;case 4:Ce(c,c.stateNode.containerInfo);break;case 10:_t(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Ns(c),c.flags|=128,null):(p&c.child.childLanes)!==0?ph(o,c,p):(Ns(c),o=vr(o,c,p),o!==null?o.sibling:null);Ns(c);break;case 19:var E=(o.flags&128)!==0;if(b=(p&c.childLanes)!==0,b||($a(o,c,p,!1),b=(p&c.childLanes)!==0),E){if(b)return vh(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),T(yt,yt.current),b)break;return null;case 22:case 23:return c.lanes=0,Km(o,c,p);case 24:_t(c,sn,o.memoizedState.cache)}return vr(o,c,p)}function Lu(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)xt=!0;else{if(!Nl(o,p)&&(c.flags&128)===0)return xt=!1,o1(o,c,p);xt=(o.flags&131072)!==0}else xt=!1,Zt&&(c.flags&1048576)!==0&&B(c,Ho,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var b=c.elementType,E=b._init;if(b=E(b._payload),c.type=b,typeof b=="function")Oh(b)?(o=Rl(b,o),c.tag=1,c=hh(null,c,b,o,p)):(c.tag=0,c=Ol(null,c,b,o,p));else{if(b!=null){if(E=b.$$typeof,E===Ti){c.tag=11,c=Im(null,c,b,o,p);break e}else if(E===Ai){c.tag=14,c=Zm(null,c,b,o,p);break e}}throw c=_(b)||b,Error(i(306,c,""))}}return c;case 0:return Ol(o,c,c.type,c.pendingProps,p);case 1:return b=c.type,E=Rl(b,c.pendingProps),hh(o,c,b,E,p);case 3:e:{if(Ce(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var A=c.pendingProps;E=c.memoizedState,b=E.element,Be(o,c),Et(c,A,null,p);var P=c.memoizedState;if(A=P.cache,_t(c,sn,A),A!==E.cache&&na(c,[sn],p,!0),$e(),A=P.element,sr&&E.isDehydrated)if(E={element:A,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=mh(o,c,A,p);break e}else if(A!==b){b=Q(Error(i(424)),c),lt(b),c=mh(o,c,A,p);break e}else for(sr&&(Xn=Np(c.stateNode.containerInfo),Un=c,Zt=!0,ti=null,Wt=!0),p=u0(c,null,A,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Me(),A===b){c=vr(o,c,p);break e}ma(o,c,A,p)}c=c.child}return c;case 26:if(Va)return wo(o,c),o===null?(p=oc(c.type,null,c.pendingProps,null))?c.memoizedState=p:Zt||(c.stateNode=Ni(c.type,c.pendingProps,Fs.current,c)):c.memoizedState=oc(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(Ut)return st(c),o===null&&Ut&&Zt&&(b=c.stateNode=uc(c.type,c.pendingProps,Fs.current,An.current,!1),Un=c,Wt=!0,Xn=jp(c.type,b,Xn)),ma(o,c,c.pendingProps.children,p),wo(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Zt&&(p1(c.type,c.pendingProps,An.current),(E=b=Xn)&&(b=Mp(b,c.type,c.pendingProps,Wt),b!==null?(c.stateNode=b,Un=c,Xn=Op(b),Wt=!1,E=!0):E=!1),E||it(c)),st(c),E=c.type,A=c.pendingProps,P=o!==null?o.memoizedProps:null,b=A.children,ss(E,A)?b=null:P!==null&&ss(E,P)&&(c.flags|=32),c.memoizedState!==null&&(E=Nr(o,c,Sl,null,null,p),ls?Oi._currentValue=E:Oi._currentValue2=E),wo(o,c),ma(o,c,b,p),c.child;case 6:return o===null&&Zt&&(Uo(c.pendingProps,An.current),(o=p=Xn)&&(p=h1(p,c.pendingProps,Wt),p!==null?(c.stateNode=p,Un=c,Xn=null,o=!0):o=!1),o||it(c)),null;case 13:return ph(o,c,p);case 4:return Ce(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=ms(c,null,b,p):ma(o,c,b,p),c.child;case 11:return Im(o,c,c.type,c.pendingProps,p);case 7:return ma(o,c,c.pendingProps,p),c.child;case 8:return ma(o,c,c.pendingProps.children,p),c.child;case 12:return ma(o,c,c.pendingProps.children,p),c.child;case 10:return b=c.pendingProps,_t(c,c.type,b.value),ma(o,c,b.children,p),c.child;case 9:return E=c.type._context,b=c.pendingProps.children,oe(c),E=ge(E),b=b(E),c.flags|=1,ma(o,c,b,p),c.child;case 14:return Zm(o,c,c.type,c.pendingProps,p);case 15:return Xm(o,c,c.type,c.pendingProps,p);case 19:return vh(o,c,p);case 31:return b=c.pendingProps,p=c.mode,b={mode:b.mode,children:b.children},o===null?(p=hd(b,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=as(o.child,b),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Km(o,c,p);case 24:return oe(c),b=ge(sn),o===null?(E=hi(),E===null&&(E=Kt,A=ke(),E.pooledCache=A,A.refCount++,A!==null&&(E.pooledCacheLanes|=p),E=A),c.memoizedState={parent:b,cache:E},Ye(c),_t(c,sn,E)):((o.lanes&p)!==0&&(Be(o,c),Et(c,null,null,p),$e()),E=o.memoizedState,A=c.memoizedState,E.parent!==b?(E={parent:b,cache:b},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),_t(c,sn,b)):(b=A.cache,_t(c,sn,b),b!==E.cache&&na(c,[sn],p,!0))),ma(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function nr(o){o.flags|=4}function yh(o,c){if(o!==null&&o.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(o=c.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function Uu(o,c,p,b){if(Pt)for(p=c.child;p!==null;){if(p.tag===5||p.tag===6)Hn(o,p.stateNode);else if(!(p.tag===4||Ut&&p.tag===27)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else if(Ri)for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;p&&b&&(A=Zh(A,E.type,E.memoizedProps)),Hn(o,A)}else if(E.tag===6)A=E.stateNode,p&&b&&(A=Xh(A,E.memoizedProps)),Hn(o,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)A=E.child,A!==null&&(A.return=E),Uu(o,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function pd(o,c,p,b){var E=!1;if(Ri)for(var A=c.child;A!==null;){if(A.tag===5){var P=A.stateNode;p&&b&&(P=Zh(P,A.type,A.memoizedProps)),Yh(o,P)}else if(A.tag===6)P=A.stateNode,p&&b&&(P=Xh(P,A.memoizedProps)),Yh(o,P);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)E=A.child,E!==null&&(E.return=A),pd(o,A,!0,!0),E=!0;else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return E;A=A.return}A.sibling.return=A.return,A=A.sibling}return E}function bh(o,c){if(Ri&&yh(o,c)){o=c.stateNode;var p=o.containerInfo,b=Vh();pd(b,c,!1,!1),o.pendingChildren=b,nr(c),Ep(p,b)}}function gd(o,c,p,b){if(Pt)o.memoizedProps!==b&&nr(c);else if(Ri){var E=o.stateNode,A=o.memoizedProps;if((o=yh(o,c))||A!==b){var P=An.current;A=rc(E,p,A,b,!o,null),A===E?c.stateNode=E:(ec(A,p,b,P)&&nr(c),c.stateNode=A,o?Uu(A,c,!1,!1):nr(c))}else c.stateNode=E}}function vd(o,c,p){if(Zn(c,p)){if(o.flags|=16777216,!zd(c,p))if(Ed())o.flags|=8192;else throw dr=pa,Kd}else o.flags&=-16777217}function Wm(o,c){if(Up(c)){if(o.flags|=16777216,!os(c))if(Ed())o.flags|=8192;else throw dr=pa,Kd}else o.flags&=-16777217}function yd(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?q():536870912,o.lanes|=c,Tr|=c)}function Pu(o,c){if(!Zt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Ln(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=b,o.childLanes=p,c}function u1(o,c,p){var b=c.pendingProps;switch(we(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(c),null;case 1:return Ln(c),null;case 3:return p=c.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),cn(sn),qe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(xe(c)?nr(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ut())),bh(o,c),Ln(c),null;case 26:if(Va){p=c.type;var E=c.memoizedState;return o===null?(nr(c),E!==null?(Ln(c),Wm(c,E)):(Ln(c),vd(c,p,b))):E?E!==o.memoizedState?(nr(c),Ln(c),Wm(c,E)):(Ln(c),c.flags&=-16777217):(Pt?o.memoizedProps!==b&&nr(c):gd(o,c,p,b),Ln(c),vd(c,p,b)),null}case 27:if(Ut){if(Ie(c),p=Fs.current,E=c.type,o!==null&&c.stateNode!=null)Pt?o.memoizedProps!==b&&nr(c):gd(o,c,E,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Ln(c),null}o=An.current,xe(c)?bt(c,o):(o=uc(E,b,p,o,!0),c.stateNode=o,nr(c))}return Ln(c),null}case 5:if(Ie(c),p=c.type,o!==null&&c.stateNode!=null)gd(o,c,p,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Ln(c),null}o=An.current,xe(c)?bt(c,o):(E=mn(p,b,Fs.current,o,c),Uu(E,c,!1,!1),c.stateNode=E,ec(E,p,b,o)&&nr(c))}return Ln(c),vd(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)p=o.memoizedProps,Pt?p!==b&&nr(c):Ri&&(p!==b?(c.stateNode=Vs(b,Fs.current,An.current,c),nr(c)):c.stateNode=o.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(o=Fs.current,p=An.current,xe(c)){if(!sr)throw Error(i(176));if(o=c.stateNode,p=c.memoizedProps,b=null,E=Un,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}sc(o,p,c,b)||it(c)}else c.stateNode=Vs(b,o,p,c)}return Ln(c),null;case 13:if(b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=xe(c),b!==null&&b.dehydrated!==null){if(o===null){if(!E)throw Error(i(318));if(!sr)throw Error(i(344));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));Qh(E,c)}else Me(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ln(c),E=!1}else E=ut(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Ji(c),c):(Ji(c),null)}if(Ji(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=b!==null,o=o!==null&&o.memoizedState!==null,p){b=c.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool);var A=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==E&&(b.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),yd(c,c.updateQueue),Ln(c),null;case 4:return qe(),bh(o,c),o===null&&lp(c.stateNode.containerInfo),Ln(c),null;case 10:return cn(c.type),Ln(c),null;case 19:if(C(yt),E=c.memoizedState,E===null)return Ln(c),null;if(b=(c.flags&128)!==0,A=E.rendering,A===null)if(b)Pu(E,!1);else{if(Pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=ld(o),A!==null){for(c.flags|=128,Pu(E,!1),o=A.updateQueue,c.updateQueue=o,yd(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)In(p,o),p=p.sibling;return T(yt,yt.current&1|2),c.child}o=o.sibling}E.tail!==null&&pn()>Fo&&(c.flags|=128,b=!0,Pu(E,!1),c.lanes=4194304)}else{if(!b)if(o=ld(A),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,yd(c,o),Pu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Zt)return Ln(c),null}else 2*pn()-E.renderingStartTime>Fo&&p!==536870912&&(c.flags|=128,b=!0,Pu(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):(o=E.last,o!==null?o.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=pn(),c.sibling=null,o=yt.current,T(yt,b?o&1|2:o&1),c):(Ln(c),null);case 22:case 23:return Ji(c),on(),b=c.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(p&536870912)!==0&&(c.flags&128)===0&&(Ln(c),c.subtreeFlags&6&&(c.flags|=8192)):Ln(c),p=c.updateQueue,p!==null&&yd(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048),o!==null&&C(Mn),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),cn(sn),Ln(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function yr(o,c){switch(we(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return cn(sn),qe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ie(c),null;case 13:if(Ji(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Me()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return C(yt),null;case 4:return qe(),null;case 10:return cn(c.type),null;case 22:case 23:return Ji(c),on(),o!==null&&C(Mn),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return cn(sn),null;case 25:return null;default:return null}}function So(o,c){switch(we(c),c.tag){case 3:cn(sn),qe();break;case 26:case 27:case 5:Ie(c);break;case 4:qe();break;case 13:Ji(c);break;case 19:C(yt);break;case 10:cn(c.type);break;case 22:case 23:Ji(c),on(),o!==null&&C(Mn);break;case 24:cn(sn)}}function Eo(o,c){try{var p=c.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var E=b.next;p=E;do{if((p.tag&o)===o){b=void 0;var A=p.create,P=p.inst;b=A(),P.destroy=b}p=p.next}while(p!==E)}}catch(F){rn(c,c.return,F)}}function es(o,c,p){try{var b=c.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var A=E.next;b=A;do{if((b.tag&o)===o){var P=b.inst,F=P.destroy;if(F!==void 0){P.destroy=void 0,E=c;var se=p,Ne=F;try{Ne()}catch(Ue){rn(E,se,Ue)}}}b=b.next}while(b!==A)}}catch(Ue){rn(c,c.return,Ue)}}function _h(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{_n(c,p)}catch(b){rn(o,o.return,b)}}}function xh(o,c,p){p.props=Rl(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(b){rn(o,c,b)}}function jl(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var b=Do(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof p=="function"?o.refCleanup=p(b):p.current=b}}catch(E){rn(o,c,E)}}function yi(o,c){var p=o.ref,b=o.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(E){rn(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){rn(o,c,E)}else p.current=null}function Ml(o){var c=o.type,p=o.memoizedProps,b=o.stateNode;try{qh(b,c,p,o)}catch(E){rn(o,o.return,E)}}function Bu(o,c,p){try{gp(o.stateNode,o.type,p,c,o)}catch(b){rn(o,o.return,b)}}function Co(o){return o.tag===5||o.tag===3||(Va?o.tag===26:!1)||(Ut?o.tag===27&&Zl(o.type):!1)||o.tag===4}function Hu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Co(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(Ut&&o.tag===27&&Zl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function bd(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?yp(p,o,c):mp(p,o);else if(b!==4&&(Ut&&b===27&&Zl(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(bd(o,c,p),o=o.sibling;o!==null;)bd(o,c,p),o=o.sibling}function bi(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?vp(p,o,c):hp(p,o);else if(b!==4&&(Ut&&b===27&&Zl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(bi(o,c,p),o=o.sibling;o!==null;)bi(o,c,p),o=o.sibling}function Dl(o,c,p){o=o.containerInfo;try{Ih(o,p)}catch(b){rn(c,c.return,b)}}function _d(o){var c=o.stateNode,p=o.memoizedProps;try{n0(o.type,p,c,o)}catch(b){rn(o,o.return,b)}}function Jm(o,c){for(qs(o.containerInfo),Mt=c;Mt!==null;)if(o=Mt,c=o.child,(o.subtreeFlags&1024)!==0&&c!==null)c.return=o,Mt=c;else for(;Mt!==null;){o=Mt;var p=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&p!==null){c=void 0;var b=o,E=p.memoizedProps;p=p.memoizedState;var A=b.stateNode;try{var P=Rl(b.type,E,b.elementType===b.type);c=A.getSnapshotBeforeUpdate(P,p),A.__reactInternalSnapshotBeforeUpdate=c}catch(F){rn(b,b.return,F)}}break;case 3:(c&1024)!==0&&Pt&&Ld(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=o.sibling,c!==null){c.return=o.return,Mt=c;break}Mt=o.return}}function Ms(o,c,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:ts(o,p),b&4&&Eo(5,p);break;case 1:if(ts(o,p),b&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(P){rn(p,p.return,P)}else{var E=Rl(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){rn(p,p.return,P)}}b&64&&_h(p),b&512&&jl(p,p.return);break;case 3:if(ts(o,p),b&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=Do(p.child.stateNode);break;case 1:c=p.child.stateNode}try{_n(o,c)}catch(P){rn(p,p.return,P)}}break;case 27:Ut&&c===null&&b&4&&_d(p);case 26:case 5:ts(o,p),c===null&&b&4&&Ml(p),b&512&&jl(p,p.return);break;case 12:ts(o,p);break;case 13:ts(o,p),b&4&&ep(o,p),b&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=Ra.bind(null,p),Kh(o,p))));break;case 22:if(b=p.memoizedState!==null||ja,!b){c=c!==null&&c.memoizedState!==null||En,E=ja;var A=En;ja=b,(En=c)&&!A?Qn(o,p,(p.subtreeFlags&8772)!==0):ts(o,p),ja=E,En=A}break;case 30:break;default:ts(o,p)}}function wh(o){var c=o.alternate;c!==null&&(o.alternate=null,wh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&lr(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function jr(o,c,p){for(p=p.child;p!==null;)xd(o,c,p),p=p.sibling}function xd(o,c,p){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(Is,p)}catch{}switch(p.tag){case 26:if(Va){En||yi(p,c),jr(o,c,p),p.memoizedState?e0(p.memoizedState):p.stateNode&&xr(p.stateNode);break}case 27:if(Ut){En||yi(p,c);var b=bn,E=Fn;Zl(p.type)&&(bn=p.stateNode,Fn=!1),jr(o,c,p),Hd(p.stateNode),bn=b,Fn=E;break}case 5:En||yi(p,c);case 6:if(Pt){if(b=bn,E=Fn,bn=null,jr(o,c,p),bn=b,Fn=E,bn!==null)if(Fn)try{_p(bn,p.stateNode)}catch(A){rn(p,c,A)}else try{bp(bn,p.stateNode)}catch(A){rn(p,c,A)}}else jr(o,c,p);break;case 18:Pt&&bn!==null&&(Fn?Lp(bn,p.stateNode):Bd(bn,p.stateNode));break;case 4:Pt?(b=bn,E=Fn,bn=p.stateNode.containerInfo,Fn=!0,jr(o,c,p),bn=b,Fn=E):(Ri&&Dl(p.stateNode,p,Vh()),jr(o,c,p));break;case 0:case 11:case 14:case 15:En||es(2,p,c),En||es(4,p,c),jr(o,c,p);break;case 1:En||(yi(p,c),b=p.stateNode,typeof b.componentWillUnmount=="function"&&xh(p,c,b)),jr(o,c,p);break;case 21:jr(o,c,p);break;case 22:En=(b=En)||p.memoizedState!==null,jr(o,c,p),En=b;break;default:jr(o,c,p)}}function ep(o,c){if(sr&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{kp(o)}catch(p){rn(c,c.return,p)}}function c1(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new ki),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new ki),c;default:throw Error(i(435,o.tag))}}function Sh(o,c){var p=c1(o);c.forEach(function(b){var E=Od.bind(null,o,b);p.has(b)||(p.add(b),b.then(E,E))})}function Ea(o,c){var p=c.deletions;if(p!==null)for(var b=0;b<p.length;b++){var E=p[b],A=o,P=c;if(Pt){var F=P;e:for(;F!==null;){switch(F.tag){case 27:if(Ut){if(Zl(F.type)){bn=F.stateNode,Fn=!1;break e}break}case 5:bn=F.stateNode,Fn=!1;break e;case 3:case 4:bn=F.stateNode.containerInfo,Fn=!0;break e}F=F.return}if(bn===null)throw Error(i(160));xd(A,P,E),bn=null,Fn=!1}else xd(A,P,E);A=E.alternate,A!==null&&(A.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Eh(c,o),c=c.sibling}function Eh(o,c){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ea(c,o),Ca(o),b&4&&(es(3,o,o.return),Eo(3,o),es(5,o,o.return));break;case 1:Ea(c,o),Ca(o),b&512&&(En||p===null||yi(p,p.return)),b&64&&ja&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:if(Va){var E=Cr;if(Ea(c,o),Ca(o),b&512&&(En||p===null||yi(p,p.return)),b&4){b=p!==null?p.memoizedState:null;var A=o.memoizedState;p===null?A===null?o.stateNode===null?o.stateNode=Po(E,o.type,o.memoizedProps,o):t0(E,o.type,o.stateNode):o.stateNode=Jh(E,A,o.memoizedProps):b!==A?(b===null?p.stateNode!==null&&xr(p.stateNode):e0(b),A===null?t0(E,o.type,o.stateNode):Jh(E,A,o.memoizedProps)):A===null&&o.stateNode!==null&&Bu(o,o.memoizedProps,p.memoizedProps)}break}case 27:if(Ut){Ea(c,o),Ca(o),b&512&&(En||p===null||yi(p,p.return)),p!==null&&b&4&&Bu(o,o.memoizedProps,p.memoizedProps);break}case 5:if(Ea(c,o),Ca(o),b&512&&(En||p===null||yi(p,p.return)),Pt){if(o.flags&32){E=o.stateNode;try{xp(E)}catch(Ue){rn(o,o.return,Ue)}}b&4&&o.stateNode!=null&&(E=o.memoizedProps,Bu(o,E,p!==null?p.memoizedProps:E)),b&1024&&(_c=!0)}break;case 6:if(Ea(c,o),Ca(o),b&4&&Pt){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,p=p!==null?p.memoizedProps:b,E=o.stateNode;try{pp(E,p,b)}catch(Ue){rn(o,o.return,Ue)}}break;case 3:if(Va?(Ys(),E=Cr,Cr=Il(c.containerInfo),Ea(c,o),Cr=E):Ea(c,o),Ca(o),b&4){if(Pt&&sr&&p!==null&&p.memoizedState.isDehydrated)try{zp(c.containerInfo)}catch(Ue){rn(o,o.return,Ue)}if(Ri){b=c.containerInfo,p=c.pendingChildren;try{Ih(b,p)}catch(Ue){rn(o,o.return,Ue)}}}_c&&(_c=!1,Mr(o));break;case 4:Va?(p=Cr,Cr=Il(o.stateNode.containerInfo),Ea(c,o),Ca(o),Cr=p):(Ea(c,o),Ca(o)),b&4&&Ri&&Dl(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Ea(c,o),Ca(o);break;case 13:Ea(c,o),Ca(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&($d=pn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Sh(o,b)));break;case 22:E=o.memoizedState!==null;var P=p!==null&&p.memoizedState!==null,F=ja,se=En;if(ja=F||E,En=se||P,Ea(c,o),En=se,ja=F,Ca(o),b&8192&&(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||P||ja||En||ra(o)),Pt)){e:if(p=null,Pt)for(c=o;;){if(c.tag===5||Va&&c.tag===26){if(p===null){P=p=c;try{A=P.stateNode,E?wp(A):kd(P.stateNode,P.memoizedProps)}catch(Ue){rn(P,P.return,Ue)}}}else if(c.tag===6){if(p===null){P=c;try{var Ne=P.stateNode;E?Lo(Ne):Sp(Ne,P.memoizedProps)}catch(Ue){rn(P,P.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=o.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,Sh(o,p))));break;case 19:Ea(c,o),Ca(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Sh(o,b)));break;case 30:break;case 21:break;default:Ea(c,o),Ca(o)}}function Ca(o){var c=o.flags;if(c&2){try{if(Pt){for(var p,b=o.return;b!==null;){if(Co(b)){p=b;break}b=b.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:if(Ut){var E=p.stateNode,A=Hu(o);bi(o,A,E);break}case 5:var P=p.stateNode;p.flags&32&&(xp(P),p.flags&=-33);var F=Hu(o);bi(o,F,P);break;case 3:case 4:var se=p.stateNode.containerInfo,Ne=Hu(o);bd(o,Ne,se);break;default:throw Error(i(161))}}}catch(Ue){rn(o,o.return,Ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Mr(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Mr(c),c.tag===5&&c.flags&1024&&Bh(c.stateNode),o=o.sibling}}function ts(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Ms(o,c.alternate,c),c=c.sibling}function ra(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:es(4,c,c.return),ra(c);break;case 1:yi(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&xh(c,c.return,p),ra(c);break;case 27:Ut&&Hd(c.stateNode);case 26:case 5:yi(c,c.return),ra(c);break;case 22:c.memoizedState===null&&ra(c);break;case 30:ra(c);break;default:ra(c)}o=o.sibling}}function Qn(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,E=o,A=c,P=A.flags;switch(A.tag){case 0:case 11:case 15:Qn(E,A,p),Eo(4,A);break;case 1:if(Qn(E,A,p),b=A,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ne){rn(b,b.return,Ne)}if(b=A,E=b.updateQueue,E!==null){var F=b.stateNode;try{var se=E.shared.hiddenCallbacks;if(se!==null)for(E.shared.hiddenCallbacks=null,E=0;E<se.length;E++)an(se[E],F)}catch(Ne){rn(b,b.return,Ne)}}p&&P&64&&_h(A),jl(A,A.return);break;case 27:Ut&&_d(A);case 26:case 5:Qn(E,A,p),p&&b===null&&P&4&&Ml(A),jl(A,A.return);break;case 12:Qn(E,A,p);break;case 13:Qn(E,A,p),p&&P&4&&ep(E,A);break;case 22:A.memoizedState===null&&Qn(E,A,p),jl(A,A.return);break;case 30:break;default:Qn(E,A,p)}c=c.sibling}}function Ds(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ze(p))}function Gu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ze(o))}function br(o,c,p,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)qu(o,c,p,b),c=c.sibling}function qu(o,c,p,b){var E=c.flags;switch(c.tag){case 0:case 11:case 15:br(o,c,p,b),E&2048&&Eo(9,c);break;case 1:br(o,c,p,b);break;case 3:br(o,c,p,b),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ze(o)));break;case 12:if(E&2048){br(o,c,p,b),o=c.stateNode;try{var A=c.memoizedProps,P=A.id,F=A.onPostCommit;typeof F=="function"&&F(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(se){rn(c,c.return,se)}}else br(o,c,p,b);break;case 13:br(o,c,p,b);break;case 23:break;case 22:A=c.stateNode,P=c.alternate,c.memoizedState!==null?A._visibility&2?br(o,c,p,b):_i(o,c):A._visibility&2?br(o,c,p,b):(A._visibility|=2,zs(o,c,p,b,(c.subtreeFlags&10256)!==0)),E&2048&&Ds(P,c);break;case 24:br(o,c,p,b),E&2048&&Gu(c.alternate,c);break;default:br(o,c,p,b)}}function zs(o,c,p,b,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,P=c,F=p,se=b,Ne=P.flags;switch(P.tag){case 0:case 11:case 15:zs(A,P,F,se,E),Eo(8,P);break;case 23:break;case 22:var Ue=P.stateNode;P.memoizedState!==null?Ue._visibility&2?zs(A,P,F,se,E):_i(A,P):(Ue._visibility|=2,zs(A,P,F,se,E)),E&&Ne&2048&&Ds(P.alternate,P);break;case 24:zs(A,P,F,se,E),E&&Ne&2048&&Gu(P.alternate,P);break;default:zs(A,P,F,se,E)}c=c.sibling}}function _i(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,b=c,E=b.flags;switch(b.tag){case 22:_i(p,b),E&2048&&Ds(b.alternate,b);break;case 24:_i(p,b),E&2048&&Gu(b.alternate,b);break;default:_i(p,b)}c=c.sibling}}function ks(o){if(o.subtreeFlags&ga)for(o=o.child;o!==null;)Vu(o),o=o.sibling}function Vu(o){switch(o.tag){case 26:ks(o),o.flags&ga&&(o.memoizedState!==null?us(Cr,o.memoizedState,o.memoizedProps):ac(o.type,o.memoizedProps));break;case 5:ks(o),o.flags&ga&&ac(o.type,o.memoizedProps);break;case 3:case 4:if(Va){var c=Cr;Cr=Il(o.stateNode.containerInfo),ks(o),Cr=c}else ks(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ga,ga=16777216,ks(o),ga=c):ks(o));break;default:ks(o)}}function zl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Yu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Mt=b,xi(b,o)}zl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ar(o),o=o.sibling}function ar(o){switch(o.tag){case 0:case 11:case 15:Yu(o),o.flags&2048&&es(9,o,o.return);break;case 3:Yu(o);break;case 12:Yu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,To(o)):Yu(o);break;default:Yu(o)}}function To(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Mt=b,xi(b,o)}zl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:es(8,c,c.return),To(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,To(c));break;default:To(c)}o=o.sibling}}function xi(o,c){for(;Mt!==null;){var p=Mt;switch(p.tag){case 0:case 11:case 15:es(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ze(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Mt=b;else e:for(p=o;Mt!==null;){b=Mt;var E=b.sibling,A=b.return;if(wh(b),b===p){Mt=null;break e}if(E!==null){E.return=A,Mt=E;break e}Mt=A}}}function wd(o){var c=sp(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(i(364));return c}if(o=up(o),o===null)throw Error(i(362));return o.stateNode.current}function Ao(o,c){var p=o.tag;switch(c.$$typeof){case el:if(o.type===c.value)return!0;break;case va:e:{for(c=c.value,o=[o,0],p=0;p<o.length;){var b=o[p++],E=b.tag,A=o[p++],P=c[A];if(E!==5&&E!==26&&E!==27||!ko(b)){for(;P!=null&&Ao(b,P);)A++,P=c[A];if(A===c.length){c=!0;break e}else for(b=b.child;b!==null;)o.push(b,A),b=b.sibling}}c=!1}return c;case Xo:if((p===5||p===26||p===27)&&Gh(o.stateNode,c.value))return!0;break;case Ql:if((p===5||p===6||p===26||p===27)&&(o=dp(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case Ko:if((p===5||p===26||p===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function ns(o){switch(o.$$typeof){case el:return"<"+(_(o.value)||"Unknown")+">";case va:return":has("+(ns(o)||"")+")";case Xo:return'[role="'+o.value+'"]';case Ql:return'"'+o.value+'"';case Ko:return'[data-testname="'+o.value+'"]';default:throw Error(i(365))}}function Sd(o,c){var p=[];o=[o,0];for(var b=0;b<o.length;){var E=o[b++],A=E.tag,P=o[b++],F=c[P];if(A!==5&&A!==26&&A!==27||!ko(E)){for(;F!=null&&Ao(E,F);)P++,F=c[P];if(P===c.length)p.push(E);else for(E=E.child;E!==null;)o.push(E,P),E=E.sibling}}return p}function Iu(o,c){if(!zo)throw Error(i(363));o=wd(o),o=Sd(o,c),c=[],o=Array.from(o);for(var p=0;p<o.length;){var b=o[p++],E=b.tag;if(E===5||E===26||E===27)ko(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return c}function ia(){if((dt&2)!==0&&Dt!==0)return Dt&-Dt;if(ct.T!==null){var o=wn;return o!==0?o:aa()}return Lh()}function kl(){Pr===0&&(Pr=(Dt&536870912)===0||Zt?k():536870912);var o=Ur.current;return o!==null&&(o.flags|=32),Pr}function Ta(o,c,p){(o===Kt&&(ln===2||ln===9)||o.cancelPendingCommit!==null)&&(zr(o,0),rr(o,Dt,Pr,!1)),Y(o,p),((dt&2)===0||o!==Kt)&&(o===Kt&&((dt&2)===0&&(al|=p),Pn===4&&rr(o,Dt,Pr,!1)),Qe(o))}function Zu(o,c,p){if((dt&6)!==0)throw Error(i(327));var b=!p&&(c&124)===0&&(c&o.expiredLanes)===0||M(o,c),E=b?Si(o,c):Xt(o,c,!0),A=b;do{if(E===0){Li&&!b&&rr(o,c,0,!1);break}else{if(p=o.current.alternate,A&&!Dr(p)){E=Xt(o,c,!1),A=!1;continue}if(E===2){if(A=c,o.errorRecoveryDisabledLanes&A)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var F=o;E=rl;var se=sr&&F.current.memoizedState.isDehydrated;if(se&&(zr(F,P).flags|=256),P=Xt(F,P,!1),P!==2){if(xc&&!se){F.errorRecoveryDisabledLanes|=A,al|=A,E=4;break e}A=Ma,Ma=E,A!==null&&(Ma===null?Ma=A:Ma.push.apply(Ma,A))}E=P}if(A=!1,E!==2)continue}}if(E===1){zr(o,0),rr(o,c,0,!0);break}e:{switch(b=o,A=E,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:rr(b,c,Pr,!ps);break e;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(E=$d+300-pn(),10<E)){if(rr(b,c,Pr,!ps),j(b,0,!0)!==0)break e;b.timeoutHandle=Dd(_r.bind(null,b,p,Ma,wc,il,c,Pr,al,Tr,ps,A,2,-0,0),E);break e}_r(b,p,Ma,wc,il,c,Pr,al,Tr,ps,A,0,-0,0)}}break}while(!0);Qe(o)}function _r(o,c,p,b,E,A,P,F,se,Ne,Ue,Xe,Fe,At){if(o.timeoutHandle=Lr,Xe=c.subtreeFlags,(Xe&8192||(Xe&16785408)===16785408)&&(nc(),Vu(c),Xe=Ph(),Xe!==null)){o.cancelPendingCommit=Xe(Rh.bind(null,o,c,A,p,b,E,P,F,se,Ue,1,Fe,At)),rr(o,A,P,!Ne);return}Rh(o,c,A,p,b,E,P,F,se)}function Dr(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var E=p[b],A=E.getSnapshot;E=E.value;try{if(!wr(A(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function rr(o,c,p,b){c&=~Fd,c&=~al,o.suspendedLanes|=c,o.pingedLanes&=~c,b&&(o.warmLanes|=c),b=o.expirationTimes;for(var E=c;0<E;){var A=31-ur(E),P=1<<A;b[A]=-1,E&=~P}p!==0&&ne(o,p,c)}function wi(){return(dt&6)===0?(vt(0),!1):!0}function Qr(){if(Ct!==null){if(ln===0)var o=Ct.return;else o=Ct,Oa=ni=null,Sa(o),Di=null,Io=0,o=Ct;for(;o!==null;)So(o.alternate,o),o=o.return;Ct=null}}function zr(o,c){var p=o.timeoutHandle;p!==Lr&&(o.timeoutHandle=Lr,tc(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Qr(),Kt=o,Ct=p=as(o.current,null),Dt=c,ln=0,Ka=null,ps=!1,Li=M(o,c),xc=!1,Tr=Pr=Fd=al=$n=Pn=0,Ma=rl=null,il=!1,(c&8)!==0&&(c|=c&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=c;0<b;){var E=31-ur(b),A=1<<E;c|=o[E],b&=~A}return qn=c,gi(),p}function Ch(o,c){Rt=null,ct.H=Js,c===Vo||c===yn?(c=Fr(),ln=3):c===Kd?(c=Fr(),ln=4):ln=c===Vt?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ka=c,Ct===null&&(Pn=1,ud(o,Q(c,o.current)))}function Ed(){var o=Ur.current;return o===null?!0:(Dt&4194048)===Dt?zi===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?o===zi:!1}function Cd(){var o=ct.H;return ct.H=Js,o===null?Js:o}function Aa(){var o=ct.A;return ct.A=Zo,o}function jn(){Pn=4,ps||(Dt&4194048)!==Dt&&Ur.current!==null||(Li=!0),($n&134217727)===0&&(al&134217727)===0||Kt===null||rr(Kt,Dt,Pr,!1)}function Xt(o,c,p){var b=dt;dt|=2;var E=Cd(),A=Aa();(Kt!==o||Dt!==c)&&(wc=null,zr(o,c)),c=!1;var P=Pn;e:do try{if(ln!==0&&Ct!==null){var F=Ct,se=Ka;switch(ln){case 8:Qr(),P=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(c=!0);var Ne=ln;if(ln=0,Ka=null,Ul(o,F,se,Ne),p&&Li){P=0;break e}break;default:Ne=ln,ln=0,Ka=null,Ul(o,F,se,Ne)}}Ll(),P=Pn;break}catch(Ue){Ch(o,Ue)}while(!0);return c&&o.shellSuspendCounter++,Oa=ni=null,dt=b,ct.H=E,ct.A=A,Ct===null&&(Kt=null,Dt=0,gi()),P}function Ll(){for(;Ct!==null;)Ls(Ct)}function Si(o,c){var p=dt;dt|=2;var b=Cd(),E=Aa();Kt!==o||Dt!==c?(wc=null,Fo=pn()+500,zr(o,c)):Li=M(o,c);e:do try{if(ln!==0&&Ct!==null){c=Ct;var A=Ka;t:switch(ln){case 1:ln=0,Ka=null,Ul(o,c,A,1);break;case 2:case 9:if(xl(A)){ln=0,Ka=null,Ah(c);break}c=function(){ln!==2&&ln!==9||Kt!==o||(ln=7),Qe(o)},A.then(c,c);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:xl(A)?(ln=0,Ka=null,Ah(c)):(ln=0,Ka=null,Ul(o,c,A,7));break;case 5:var P=null;switch(Ct.tag){case 26:P=Ct.memoizedState;case 5:case 27:var F=Ct,se=F.type,Ne=F.pendingProps;if(P?os(P):zd(se,Ne)){ln=0,Ka=null;var Ue=F.sibling;if(Ue!==null)Ct=Ue;else{var Xe=F.return;Xe!==null?(Ct=Xe,Us(Xe)):Ct=null}break t}}ln=0,Ka=null,Ul(o,c,A,5);break;case 6:ln=0,Ka=null,Ul(o,c,A,6);break;case 8:Qr(),Pn=6;break e;default:throw Error(i(462))}}Th();break}catch(Fe){Ch(o,Fe)}while(!0);return Oa=ni=null,ct.H=b,ct.A=E,dt=p,Ct!==null?0:(Kt=null,Dt=0,gi(),Pn)}function Th(){for(;Ct!==null&&!g1();)Ls(Ct)}function Ls(o){var c=Lu(o.alternate,o,qn);o.memoizedProps=o.pendingProps,c===null?Us(o):Ct=c}function Ah(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=$m(p,c,c.pendingProps,c.type,void 0,Dt);break;case 11:c=$m(p,c,c.pendingProps,c.type.render,c.ref,Dt);break;case 5:Sa(c);default:So(p,c),c=Ct=In(c,qn),c=Lu(p,c,qn)}o.memoizedProps=o.pendingProps,c===null?Us(o):Ct=c}function Ul(o,c,p,b){Oa=ni=null,Sa(c),Di=null,Io=0;var E=c.return;try{if(l1(o,E,c,p,Dt)){Pn=1,ud(o,Q(p,o.current)),Ct=null;return}}catch(A){if(E!==null)throw Ct=E,A;Pn=1,ud(o,Q(p,o.current)),Ct=null;return}c.flags&32768?(Zt||b===1?o=!0:Li||(Dt&536870912)!==0?o=!1:(ps=o=!0,(b===2||b===9||b===3||b===6)&&(b=Ur.current,b!==null&&b.tag===13&&(b.flags|=16384))),Ro(c,o)):Us(c)}function Us(o){var c=o;do{if((c.flags&32768)!==0){Ro(c,ps);return}o=c.return;var p=u1(c.alternate,c,qn);if(p!==null){Ct=p;return}if(c=c.sibling,c!==null){Ct=c;return}Ct=c=o}while(c!==null);Pn===0&&(Pn=5)}function Ro(o,c){do{var p=yr(o.alternate,o);if(p!==null){p.flags&=32767,Ct=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Ct=o;return}Ct=o=p}while(o!==null);Pn=6,Ct=null}function Rh(o,c,p,b,E,A,P,F,se){o.cancelPendingCommit=null;do kr();while(Wn!==0);if((dt&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=l0,$(o,p,A,P,F,se),o===Kt&&(Ct=Kt=null,Dt=0),$o=c,sl=o,Qo=p,Qd=A,Wd=E,Wl=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,tp(Vd,function(){return Ci(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=ct.T,ct.T=null,E=Jr(),sa(2),P=dt,dt|=4;try{Jm(o,c,p)}finally{dt=P,sa(E),ct.T=b}}Wn=1,Oo(),Td(),Ps()}}function Oo(){if(Wn===1){Wn=0;var o=sl,c=$o,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ct.T,ct.T=null;var b=Jr();sa(2);var E=dt;dt|=4;try{Eh(c,o),jt(o.containerInfo)}finally{dt=E,sa(b),ct.T=p}}o.current=c,Wn=2}}function Td(){if(Wn===2){Wn=0;var o=sl,c=$o,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ct.T,ct.T=null;var b=Jr();sa(2);var E=dt;dt|=4;try{Ms(o,c.alternate,c)}finally{dt=E,sa(b),ct.T=p}}Wn=3}}function Ps(){if(Wn===4||Wn===3){Wn=0,Bp();var o=sl,c=$o,p=Qo,b=Wl;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Wn=5:(Wn=0,$o=sl=null,Ei(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Ui=null),J(p),c=c.stateNode,Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(Is,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=ct.T,E=Jr(),sa(2),ct.T=null;try{for(var A=o.onRecoverableError,P=0;P<b.length;P++){var F=b[P];A(F.value,{componentStack:F.stack})}}finally{ct.T=c,sa(E)}}(Qo&3)!==0&&kr(),Qe(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===Jd?ll++:(ll=0,Jd=o):ll=0,vt(0)}}function Ei(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ze(c)))}function kr(o){return Oo(),Td(),Ps(),Ci()}function Ci(){if(Wn!==5)return!1;var o=sl,c=Qd;Qd=0;var p=J(Qo),b=32>p?32:p;p=ct.T;var E=Jr();try{sa(b),ct.T=null,b=Wd,Wd=null;var A=sl,P=Qo;if(Wn=0,$o=sl=null,Qo=0,(dt&6)!==0)throw Error(i(331));var F=dt;if(dt|=4,ar(A.current),qu(A,A.current,P,b),dt=F,vt(0,!1),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(Is,A)}catch{}return!0}finally{sa(E),ct.T=p,Ei(o,c)}}function Ad(o,c,p){c=Q(p,c),c=cd(o.stateNode,c,2),o=We(o,c,2),o!==null&&(Y(o,2),Qe(o))}function rn(o,c,p){if(o.tag===3)Ad(o,o,p);else for(;c!==null;){if(c.tag===3){Ad(c,o,p);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ui===null||!Ui.has(b))){o=Q(p,o),p=Vm(2),b=We(c,p,2),b!==null&&(Ym(p,b,c,o),Y(b,2),Qe(b));break}}c=c.return}}function Pl(o,c,p){var b=o.pingCache;if(b===null){b=o.pingCache=new nl;var E=new Set;b.set(c,E)}else E=b.get(c),E===void 0&&(E=new Set,b.set(c,E));E.has(p)||(xc=!0,E.add(p),o=Rd.bind(null,o,c,p),c.then(o,o))}function Rd(o,c,p){var b=o.pingCache;b!==null&&b.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Kt===o&&(Dt&p)===p&&(Pn===4||Pn===3&&(Dt&62914560)===Dt&&300>pn()-$d?(dt&2)===0&&zr(o,0):Fd|=p,Tr===Dt&&(Tr=0)),Qe(o)}function Bs(o,c){c===0&&(c=q()),o=V(o,c),o!==null&&(Y(o,c),Qe(o))}function Ra(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),Bs(o,p)}function Od(o,c){var p=0;switch(o.tag){case 13:var b=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),Bs(o,p)}function tp(o,c){return dc(o,c)}function d1(o,c,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function as(o,c){var p=o.alternate;return p===null?(p=n(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function In(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function No(o,c,p,b,E,A){var P=0;if(b=o,typeof o=="function")Oh(o)&&(P=1);else if(typeof o=="string")P=Va&&Ut?lc(o,p,An.current)?26:a0(o)?27:5:Va?lc(o,p,An.current)?26:5:Ut&&a0(o)?27:5;else e:switch(o){case Yl:return o=n(31,p,c,E),o.elementType=Yl,o.lanes=A,o;case Vl:return Wr(p.children,E,A,c);case Ku:P=8,E|=24;break;case jd:return o=n(12,p,c,E|2),o.elementType=jd,o.lanes=A,o;case $u:return o=n(13,p,c,E),o.elementType=$u,o.lanes=A,o;case Qu:return o=n(19,p,c,E),o.elementType=Qu,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Fu:case is:P=10;break e;case Mh:P=9;break e;case Ti:P=11;break e;case Ai:P=14;break e;case qa:P=16,b=null;break e}P=29,p=Error(i(130,o===null?"null":typeof o,"")),b=null}return c=n(P,p,c,E),c.elementType=o,c.type=b,c.lanes=A,c}function Wr(o,c,p,b){return o=n(7,o,b,c),o.lanes=p,o}function Bl(o,c,p){return o=n(6,o,null,c),o.lanes=p,o}function Xu(o,c,p){return c=n(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function jo(o,c,p,b,E,A,P,F){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Lr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=A,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Hl(o,c,p,b,E,A,P,F,se,Ne,Ue,Xe){return o=new jo(o,c,p,P,F,se,Ne,Xe),c=1,A===!0&&(c|=24),A=n(3,null,null,c),o.current=A,A.stateNode=o,c=ke(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:b,isDehydrated:p,cache:c},Ye(A),o}function np(o){return o?(o=Xl,o):Xl}function Nh(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=f(c),o=o!==null?h(o):null,o===null?null:Do(o.stateNode)}function ap(o,c,p,b,E,A){E=np(E),b.context===null?b.context=E:b.pendingContext=E,b=Ke(c),b.payload={element:p},A=A===void 0?null:A,A!==null&&(b.callback=A),p=We(o,b,c),p!==null&&(Ta(p,o,c),rt(p,o,c))}function jh(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function rs(o,c){jh(o,c),(o=o.alternate)&&jh(o,c)}var Nt={},Nd=vm(),ir=O2(),Gl=Object.assign,rp=Symbol.for("react.element"),ql=Symbol.for("react.transitional.element"),Hs=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),Mh=Symbol.for("react.consumer"),is=Symbol.for("react.context"),Ti=Symbol.for("react.forward_ref"),$u=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),Ai=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),Yl=Symbol.for("react.activity"),Dh=Symbol.for("react.memo_cache_sentinel"),Md=Symbol.iterator,Wu=Symbol.for("react.client.reference"),Gs=Array.isArray,ct=Nd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ip=e.rendererVersion,Mo=e.rendererPackageName,Ju=e.extraDevToolsConfig,Do=e.getPublicInstance,zh=e.getRootHostContext,kh=e.getChildHostContext,qs=e.prepareForCommit,jt=e.resetAfterCommit,mn=e.createInstance;e.cloneMutableInstance;var Hn=e.appendInitialChild,ec=e.finalizeInitialChildren,ss=e.shouldSetTextContent,Vs=e.createTextInstance;e.cloneMutableTextInstance;var Dd=e.scheduleTimeout,tc=e.cancelTimeout,Lr=e.noTimeout,ls=e.isPrimaryRenderer;e.warnsIfNotActing;var Pt=e.supportsMutation,Ri=e.supportsPersistence,sr=e.supportsHydration,sp=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var lp=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var sa=e.setCurrentUpdatePriority,Jr=e.getCurrentUpdatePriority,Lh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Uh=e.shouldAttemptEagerTransition,lr=e.detachDeletedInstance;e.requestPostPaintCallback;var Zn=e.maySuspendCommit,zd=e.preloadInstance,nc=e.startSuspendingCommit,ac=e.suspendInstance;e.suspendOnActiveViewTransition;var Ph=e.waitForCommitToBeReady,or=e.NotPendingTransition,Oi=e.HostTransitionContext,Bh=e.resetFormInstance;e.bindToConsole;var Hh=e.supportsMicrotasks,op=e.scheduleMicrotask,zo=e.supportsTestSelectors,up=e.findFiberRoot,cp=e.getBoundingRect,dp=e.getTextContent,ko=e.isHiddenSubtree,Gh=e.matchAccessibilityRole,fp=e.setFocusIfFocusable,f1=e.setupIntersectionObserver,hp=e.appendChild,mp=e.appendChildToContainer,pp=e.commitTextUpdate,qh=e.commitMount,gp=e.commitUpdate,vp=e.insertBefore,yp=e.insertInContainerBefore,bp=e.removeChild,_p=e.removeChildFromContainer,xp=e.resetTextContent,wp=e.hideInstance,Lo=e.hideTextInstance,kd=e.unhideInstance,Sp=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var Ld=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var rc=e.cloneInstance,Vh=e.createContainerChildSet,Yh=e.appendChildToContainerChildSet,Ep=e.finalizeContainerChildren,Ih=e.replaceContainerChildren,Zh=e.cloneHiddenInstance,Xh=e.cloneHiddenTextInstance,ic=e.isSuspenseInstancePending,Ud=e.isSuspenseInstanceFallback,Cp=e.getSuspenseInstanceFallbackErrorDetails,Kh=e.registerSuspenseInstanceRetry,Tp=e.canHydrateFormStateMarker,Ap=e.isFormStateMarkerMatching,Rp=e.getNextHydratableSibling,Fh=e.getNextHydratableSiblingAfterSingleton,Op=e.getFirstHydratableChild,Np=e.getFirstHydratableChildWithinContainer,$h=e.getFirstHydratableChildWithinSuspenseInstance,jp=e.getFirstHydratableChildWithinSingleton,Mp=e.canHydrateInstance,h1=e.canHydrateTextInstance,m1=e.canHydrateSuspenseInstance,Dp=e.hydrateInstance,sc=e.hydrateTextInstance,Qh=e.hydrateSuspenseInstance,Pd=e.getNextHydratableInstanceAfterSuspenseInstance,zp=e.commitHydratedContainer,kp=e.commitHydratedSuspenseInstance,Bd=e.clearSuspenseBoundary,Lp=e.clearSuspenseBoundaryFromContainer,Wh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var p1=e.validateHydratableInstance,Uo=e.validateHydratableTextInstance,Va=e.supportsResources,lc=e.isHostHoistableType,Il=e.getHoistableRoot,oc=e.getResource,Jh=e.acquireResource,e0=e.releaseResource,Po=e.hydrateHoistable,t0=e.mountHoistable,xr=e.unmountHoistable,Ni=e.createHoistableInstance,Ys=e.prepareToCommitHoistables,Up=e.mayResourceSuspendCommit,os=e.preloadResource,us=e.suspendResource,Ut=e.supportsSingletons,uc=e.resolveSingletonInstance,n0=e.acquireSingletonInstance,Hd=e.releaseSingletonInstance,a0=e.isHostSingletonType,Zl=e.isSingletonScope,cs=[],ds=-1,Xl={},ur=Math.clz32?Math.clz32:R,Pp=Math.log,Gd=Math.LN2,cc=256,Bo=4194304,dc=ir.unstable_scheduleCallback,qd=ir.unstable_cancelCallback,g1=ir.unstable_shouldYield,Bp=ir.unstable_requestPaint,pn=ir.unstable_now,la=ir.unstable_ImmediatePriority,Hp=ir.unstable_UserBlockingPriority,Vd=ir.unstable_NormalPriority,Gp=ir.unstable_IdlePriority,qp=ir.log,Vp=ir.unstable_setDisableYieldValue,Is=null,Ya=null,Yd,r0,Id=!1,Zd=new WeakMap,Zs=[],Xs=0,fc=null,Ho=0,Ia=[],cr=0,Ks=null,ei=1,ji="",An=w(null),Kl=w(null),Fs=w(null),hc=w(null),Un=null,Xn=null,Zt=!1,ti=null,Wt=!1,i0=Error(i(519)),wr=typeof Object.is=="function"?Object.is:at,mc=w(null),ni=null,Oa=null,Yp=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,b){o.push(b)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},Ip=ir.unstable_scheduleCallback,pc=ir.unstable_NormalPriority,sn={$$typeof:is,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},gc=null,$s=null,Xd=!1,Go=!1,vc=!1,fs=0,qo=null,ai=0,wn=0,Qs=null,s0=ct.S;ct.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Kr(o,c),s0!==null&&s0(o,c)};var Mn=w(null),v1=Object.prototype.hasOwnProperty,Vo=Error(i(460)),Kd=Error(i(474)),yn=Error(i(542)),pa={then:function(){}},dr=null,Sr=[],Fl=0,l0=0,Mi=!1,Za=!1,Na=w(null),yc=w(0),Kn=0,Rt=null,qt=null,Sn=null,ri=!1,Ws=!1,hs=!1,Er=0,Yo=0,ii=null,bc=0,Js={readContext:ge,use:xn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},$l={readContext:ge,use:xn,useCallback:function(o,c){return ft().memoizedState=[o,c===void 0?null:c],o},useContext:ge,useEffect:oh,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Nu(4194308,4,yo.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Nu(4194308,4,o,c)},useInsertionEffect:function(o,c){Nu(4,2,o,c)},useMemo:function(o,c){var p=ft();c=c===void 0?null:c;var b=o();if(hs){he(!0);try{o()}finally{he(!1)}}return p.memoizedState=[b,c],b},useReducer:function(o,c,p){var b=ft();if(p!==void 0){var E=p(c);if(hs){he(!0);try{p(c)}finally{he(!1)}}}else E=c;return b.memoizedState=b.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},b.queue=o,o=o.dispatch=dh.bind(null,Rt,o),[b.memoizedState,o]},useRef:function(o){var c=ft();return o={current:o},c.memoizedState=o},useState:function(o){o=Wc(o);var c=o.queue,p=rd.bind(null,Rt,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:ju,useDeferredValue:function(o,c){var p=ft();return bo(p,o,c)},useTransition:function(){var o=Wc(!1);return o=ch.bind(null,Rt,o.queue,!0,!1),ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var b=Rt,E=ft();if(Zt){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),Kt===null)throw Error(i(349));(Dt&124)!==0||nh(b,c,p)}E.memoizedState=p;var A={value:p,getSnapshot:c};return E.queue=A,oh(Dm.bind(null,b,A,o),[o]),b.flags|=2048,Os(9,Ki(),Ou.bind(null,b,A,p,c),null),p},useId:function(){var o=ft(),c=Kt.identifierPrefix;if(Zt){var p=ji,b=ei;p=(b&~(1<<32-ur(b)-1)).toString(32)+p,c=""+c+"R"+p,p=Er++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=bc++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:$i,useFormState:ed,useActionState:ed,useOptimistic:function(o){var c=ft();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=xo.bind(null,Rt,!0,p),p.dispatch=c,[o,c]},useMemoCache:Rs,useCacheRefresh:function(){return ft().memoizedState=s1.bind(null,Rt)}},o0={readContext:ge,use:xn,useCallback:Mu,useContext:ge,useEffect:vo,useImperativeHandle:Fi,useInsertionEffect:vi,useLayoutEffect:ad,useMemo:uh,useReducer:ha,useRef:Cl,useState:function(){return ha(pr)},useDebugValue:ju,useDeferredValue:function(o,c){var p=kt();return Du(p,qt.memoizedState,o,c)},useTransition:function(){var o=ha(pr)[0],c=kt().memoizedState;return[typeof o=="boolean"?o:Ha(o),c]},useSyncExternalStore:Ru,useId:zu,useHostTransitionStatus:$i,useFormState:zm,useActionState:zm,useOptimistic:function(o,c){var p=kt();return Jc(p,qt,o,c)},useMemoCache:Rs,useCacheRefresh:_o},Zp={readContext:ge,use:xn,useCallback:Mu,useContext:ge,useEffect:vo,useImperativeHandle:Fi,useInsertionEffect:vi,useLayoutEffect:ad,useMemo:uh,useReducer:th,useRef:Cl,useState:function(){return th(pr)},useDebugValue:ju,useDeferredValue:function(o,c){var p=kt();return qt===null?bo(p,o,c):Du(p,qt.memoizedState,o,c)},useTransition:function(){var o=th(pr)[0],c=kt().memoizedState;return[typeof o=="boolean"?o:Ha(o),c]},useSyncExternalStore:Ru,useId:zu,useHostTransitionStatus:$i,useFormState:nd,useActionState:nd,useOptimistic:function(o,c){var p=kt();return qt!==null?Jc(p,qt,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:Rs,useCacheRefresh:_o},Di=null,Io=0,ms=Bm(!0),u0=Bm(!1),Ur=w(null),zi=null,yt=w(0),gn={enqueueSetState:function(o,c,p){o=o._reactInternals;var b=ia(),E=Ke(b);E.payload=c,p!=null&&(E.callback=p),c=We(o,E,b),c!==null&&(Ta(c,o,b),rt(c,o,b))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var b=ia(),E=Ke(b);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=We(o,E,b),c!==null&&(Ta(c,o,b),rt(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=ia(),b=Ke(p);b.tag=2,c!=null&&(b.callback=c),c=We(o,b,p),c!==null&&(Ta(c,o,p),rt(c,o,p))}},Lt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Vt=Error(i(461)),xt=!1,Xa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ja=!1,En=!1,_c=!1,ki=typeof WeakSet=="function"?WeakSet:Set,Mt=null,bn=null,Fn=!1,Cr=null,ga=8192,Zo={getCacheForType:function(o){var c=ge(sn),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},el=0,va=1,Xo=2,Ko=3,Ql=4;if(typeof Symbol=="function"&&Symbol.for){var tl=Symbol.for;el=tl("selector.component"),va=tl("selector.has_pseudo_class"),Xo=tl("selector.role"),Ko=tl("selector.test_id"),Ql=tl("selector.text")}var nl=typeof WeakMap=="function"?WeakMap:Map,dt=0,Kt=null,Ct=null,Dt=0,ln=0,Ka=null,ps=!1,Li=!1,xc=!1,qn=0,Pn=0,$n=0,al=0,Fd=0,Pr=0,Tr=0,rl=null,Ma=null,il=!1,$d=0,Fo=1/0,wc=null,Ui=null,Wn=0,sl=null,$o=null,Qo=0,Qd=0,Wd=null,Wl=null,ll=0,Jd=null;return Nt.attemptContinuousHydration=function(o){if(o.tag===13){var c=V(o,67108864);c!==null&&Ta(c,o,67108864),rs(o,67108864)}},Nt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=ia();c=Ee(c);var p=V(o,c);p!==null&&Ta(p,o,c),rs(o,c)}},Nt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=O(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var p=1<<31-ur(c);o.entanglements[1]|=p,c&=~p}Qe(o),(dt&6)===0&&(Fo=pn()+500,vt(0))}}break;case 13:c=V(o,2),c!==null&&Ta(c,o,2),wi(),rs(o,2)}},Nt.batchedUpdates=function(o,c){return o(c)},Nt.createComponentSelector=function(o){return{$$typeof:el,value:o}},Nt.createContainer=function(o,c,p,b,E,A,P,F,se,Ne){return Hl(o,c,!1,null,p,b,A,P,F,se,Ne,null)},Nt.createHasPseudoClassSelector=function(o){return{$$typeof:va,value:o}},Nt.createHydrationContainer=function(o,c,p,b,E,A,P,F,se,Ne,Ue,Xe,Fe){return o=Hl(p,b,!0,o,E,A,F,se,Ne,Ue,Xe,Fe),o.context=np(null),p=o.current,b=ia(),b=Ee(b),E=Ke(b),E.callback=c??null,We(p,E,b),c=b,o.current.lanes=c,Y(o,c),Qe(o),o},Nt.createPortal=function(o,c,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:b==null?null:""+b,children:o,containerInfo:c,implementation:p}},Nt.createRoleSelector=function(o){return{$$typeof:Xo,value:o}},Nt.createTestNameSelector=function(o){return{$$typeof:Ko,value:o}},Nt.createTextSelector=function(o){return{$$typeof:Ql,value:o}},Nt.defaultOnCaughtError=function(o){console.error(o)},Nt.defaultOnRecoverableError=function(o){Lt(o)},Nt.defaultOnUncaughtError=function(o){Lt(o)},Nt.deferredUpdates=function(o){var c=ct.T,p=Jr();try{return sa(32),ct.T=null,o()}finally{sa(p),ct.T=c}},Nt.discreteUpdates=function(o,c,p,b,E){var A=ct.T,P=Jr();try{return sa(2),ct.T=null,o(c,p,b,E)}finally{sa(P),ct.T=A,dt===0&&(Fo=pn()+500)}},Nt.findAllNodes=Iu,Nt.findBoundingRects=function(o,c){if(!zo)throw Error(i(363));c=Iu(o,c),o=[];for(var p=0;p<c.length;p++)o.push(cp(c[p]));for(c=o.length-1;0<c;c--){p=o[c];for(var b=p.x,E=b+p.width,A=p.y,P=A+p.height,F=c-1;0<=F;F--)if(c!==F){var se=o[F],Ne=se.x,Ue=Ne+se.width,Xe=se.y,Fe=Xe+se.height;if(b>=Ne&&A>=Xe&&E<=Ue&&P<=Fe){o.splice(c,1);break}else if(b!==Ne||p.width!==se.width||Fe<A||Xe>P){if(!(A!==Xe||p.height!==se.height||Ue<b||Ne>E)){Ne>b&&(se.width+=Ne-b,se.x=b),Ue<E&&(se.width=E-Ne),o.splice(c,1);break}}else{Xe>A&&(se.height+=Xe-A,se.y=A),Fe<P&&(se.height=P-Xe),o.splice(c,1);break}}}return o},Nt.findHostInstance=Nh,Nt.findHostInstanceWithNoPortals=function(o){return o=f(o),o=o!==null?g(o):null,o===null?null:Do(o.stateNode)},Nt.findHostInstanceWithWarning=function(o){return Nh(o)},Nt.flushPassiveEffects=kr,Nt.flushSyncFromReconciler=function(o){var c=dt;dt|=1;var p=ct.T,b=Jr();try{if(sa(2),ct.T=null,o)return o()}finally{sa(b),ct.T=p,dt=c,(dt&6)===0&&vt(0)}},Nt.flushSyncWork=wi,Nt.focusWithin=function(o,c){if(!zo)throw Error(i(363));for(o=wd(o),c=Sd(o,c),c=Array.from(c),o=0;o<c.length;){var p=c[o++],b=p.tag;if(!ko(p)){if((b===5||b===26||b===27)&&fp(p.stateNode))return!0;for(p=p.child;p!==null;)c.push(p),p=p.sibling}}return!1},Nt.getFindAllNodesFailureDescription=function(o,c){if(!zo)throw Error(i(363));var p=0,b=[];o=[wd(o),0];for(var E=0;E<o.length;){var A=o[E++],P=A.tag,F=o[E++],se=c[F];if((P!==5&&P!==26&&P!==27||!ko(A))&&(Ao(A,se)&&(b.push(ns(se)),F++,F>p&&(p=F)),F<c.length))for(A=A.child;A!==null;)o.push(A,F),A=A.sibling}if(p<c.length){for(o=[];p<c.length;p++)o.push(ns(c[p]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Nt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Do(o.child.stateNode);default:return o.child.stateNode}},Nt.injectIntoDevTools=function(){var o={bundleType:0,version:ip,rendererPackageName:Mo,currentDispatcherRef:ct,reconcilerVersion:"19.1.0"};if(Ju!==null&&(o.rendererConfig=Ju),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{Is=c.inject(o),Ya=c}catch{}o=!!c.checkDCE}}return o},Nt.isAlreadyRendering=function(){return(dt&6)!==0},Nt.observeVisibleRects=function(o,c,p,b){if(!zo)throw Error(i(363));o=Iu(o,c);var E=f1(o,p,b).disconnect;return{disconnect:function(){E()}}},Nt.shouldError=function(){return null},Nt.shouldSuspend=function(){return!1},Nt.startHostTransition=function(o,c,p,b){if(o.tag!==5)throw Error(i(476));var E=Ga(o).queue;ch(o,E,c,or,p===null?a:function(){var A=Ga(o).next.queue;return Qi(o,A,{},ia()),p(b)})},Nt.updateContainer=function(o,c,p,b){var E=c.current,A=ia();return ap(E,A,o,c,p,b),A},Nt.updateContainerSync=function(o,c,p,b){return ap(c.current,2,o,c,p,b),2},Nt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(_y)),_y.exports}var I4;function qk(){return I4||(I4=1,by.exports=Gk()),by.exports}var Vk=qk();const Yk=gm(Vk);var xy={exports:{}},to={};var Z4;function Ik(){return Z4||(Z4=1,to.ConcurrentRoot=1,to.ContinuousEventPriority=8,to.DefaultEventPriority=32,to.DiscreteEventPriority=2,to.IdleEventPriority=268435456,to.LegacyRoot=0,to.NoEventPriority=0),to}var X4;function Zk(){return X4||(X4=1,xy.exports=Ik()),xy.exports}var Zv=Zk();const K4={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let F4=!1,$4=!1;const _v=".react-konva-event",Xk=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Kk=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Fk={};function Xv(t,e,n=Fk){if(!F4&&"zIndex"in e&&(console.warn(Kk),F4=!0),!$4&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn(Xk),$4=!0)}for(var l in n)if(!K4[l]){var u=l.slice(0,2)==="on",f=n[l]!==e[l];if(u&&f){var h=l.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),t.off(h,n[l])}var g=!e.hasOwnProperty(l);g&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},w=!1;const C={};for(var l in e)if(!K4[l]){var u=l.slice(0,2)==="on",T=n[l]!==e[l];if(u&&T){var h=l.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),e[l]&&(C[h]=e[l])}!u&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(w=!0,_[l]=e[l])}w&&(t.setAttrs(_),Cu(t));for(var h in C)t.off(h+_v),t.on(h+_v,C[h])}function Cu(t){if(!Ve.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var wy=O2();const $w={},$k={};If.Node.prototype._applyProps=Xv;let Qw=Zv.DefaultEventPriority;function Qk(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Cu(t)}function Wk(t,e,n){let a=If[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=If.Group);const i={},l={};for(var u in e)if(u!=="ref"){var f=u.slice(0,2)==="on";f?l[u]=e[u]:i[u]=e[u]}const h=new a(i);return Xv(h,l),h}function Jk(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function eL(t,e,n){return!1}function tL(t){return t}function nL(){return null}function aL(){return null}function rL(t,e,n,a){return $k}function iL(){}function sL(t){}function lL(t,e){return!1}function oL(){return $w}function uL(){return $w}const cL=setTimeout,dL=clearTimeout,fL=!0,hL=t=>{t()},mL=-1;function pL(t,e){return!1}const gL=!1,vL=!1,yL=!0,bL=!1,_L=!1;function xL(t,e){e.parent===t?e.moveToTop():t.add(e),Cu(t)}function wL(t,e){e.parent===t?e.moveToTop():t.add(e),Cu(t)}function Ww(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Cu(t)}function SL(t,e,n){Ww(t,e,n)}function EL(t,e){e.destroy(),e.off(_v),Cu(t)}function CL(t,e){e.destroy(),e.off(_v),Cu(t)}function TL(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function AL(t,e,n){}function RL(t,e,n,a){Xv(t,a,n)}function OL(t){t.hide(),Cu(t)}function NL(t){}function jL(t,e){(e.visible==null||e.visible)&&t.show()}function ML(t,e){}function DL(t){}function zL(){}function kL(){return Zv.DefaultEventPriority}function LL(){}function UL(){return null}function PL(t){Qw=t}function BL(){return Qw}function HL(){return Zv.DiscreteEventPriority}function GL(){return!1}function qL(){}function VL(){return!1}function YL(){return!0}function IL(){}function ZL(){}function XL(){return null}const KL=null;function FL(){}const $L=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:KL,appendChild:xL,appendChildToContainer:wL,appendInitialChild:Qk,cancelTimeout:dL,clearContainer:DL,commitMount:AL,commitTextUpdate:TL,commitUpdate:RL,createInstance:Wk,createTextInstance:Jk,detachDeletedInstance:zL,finalizeInitialChildren:eL,getChildHostContext:uL,getCurrentEventPriority:kL,getCurrentUpdatePriority:BL,getInstanceFromScope:UL,getPublicInstance:tL,getRootHostContext:oL,hideInstance:OL,hideTextInstance:NL,idlePriority:wy.unstable_IdlePriority,insertBefore:Ww,insertInContainerBefore:SL,isPrimaryRenderer:gL,maySuspendCommit:VL,noTimeout:mL,now:wy.unstable_now,preloadInstance:YL,prepareForCommit:nL,preparePortalMount:aL,prepareScopeUpdate:LL,prepareUpdate:rL,removeChild:EL,removeChildFromContainer:CL,requestPostPaintCallback:qL,resetAfterCommit:iL,resetFormInstance:FL,resetTextContent:sL,resolveUpdatePriority:HL,run:wy.unstable_runWithPriority,scheduleMicrotask:hL,scheduleTimeout:cL,setCurrentUpdatePriority:PL,shouldAttemptEagerTransition:GL,shouldDeprioritizeSubtree:lL,shouldSetTextContent:pL,startSuspendingCommit:IL,supportsHydration:_L,supportsMicrotasks:fL,supportsMutation:yL,supportsPersistence:bL,suspendInstance:ZL,unhideInstance:jL,unhideTextInstance:ML,waitForCommitToBeReady:XL,warnsIfNotActing:vL},Symbol.toStringTag,{value:"Module"}));function Jw(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=Jw(a,e,n);if(i)return i;a=a.sibling}}function eS(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const db=eS(N.createContext(null));class tS extends N.Component{render(){return N.createElement(db.Provider,{value:this._reactInternals},this.props.children)}}function QL(){const t=N.useContext(db);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=Jw(n,!1,i=>{let l=i.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const WL=Symbol.for("react.context"),JL=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===WL;function eU(){const t=QL(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;JL(a)&&a!==db&&!e.has(a)&&e.set(a,N.use(eS(a))),n=n.return}return e}function nS(){const t=eU();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(tS,{...e})),[t])}if(Oe.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function tU(t){const e=Oe.useRef({});return Oe.useLayoutEffect(()=>{e.current=t}),Oe.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const nU=()=>{const t=Oe.useRef(0);return Oe.useMemo(()=>{t.current++},[]),t.current>1},aU=t=>{const e=Oe.useRef(null),n=Oe.useRef(null),a=Oe.useRef(null),i=tU(t),l=nS(),u=Oe.useRef(!1),f=g=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(g):v.current=g)},h=nU();return Oe.useLayoutEffect(()=>u.current&&h?()=>{u.current=!1,f(null),Nf.updateContainer(null,a.current,null),n.current.destroy()}:(u.current=!0,n.current=new If.Stage({width:t.width,height:t.height,container:e.current}),f(n.current),a.current=Nf.createContainer(n.current,Zv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Nf.updateContainer(Oe.createElement(l,{},t.children),a.current,null,()=>{}),()=>{h||(f(null),Nf.updateContainer(null,a.current,null),n.current.destroy())}),[]),Oe.useLayoutEffect(()=>{f(n.current),Xv(n.current,t,i),Nf.updateContainer(Oe.createElement(l,{},t.children),a.current,null)}),Oe.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},j0="Layer",Zr="Group",dl="Rect",aS="Circle",rU="Line",_s="Text",iU="Path",sU="Arrow",lU="Transformer",Nf=Yk($L);Nf.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Oe.version,rendererPackageName:"react-konva"});const oU=Oe.forwardRef((t,e)=>Oe.createElement(tS,{},Oe.createElement(aU,{...t,forwardedRef:e})));function Sy(t,e,n,a,i){t.forEach(l=>{if(!e.current||!n.current)return;const u=i.current.get(l.from),f=i.current.get(l.to),h=a.current?.findOne(`#${l.id}`);if(!u||!f||!h)return;const g=f.x()-u.x(),v=f.y()-u.y(),_=Math.sqrt(g*g+v*v),w=g/_,C=v/_,T=Math.min(30,_/5-1),R=u.getAttr("mainWidth")*(u.attrs.scalingX??1),O=u.getAttr("mainHeight")*(u.attrs.scalingY??1),j=f.getAttr("mainWidth")*(f.attrs.scalingX??1),M=f.getAttr("mainHeight")*(f.attrs.scalingY??1);h.points([u.x()+R/2+w*(R/2+T),u.y()+O/2+C*(O/2+T),f.x()+j/2-w*(j/2+T),f.y()+M/2-C*(M/2+T)])})}const uU=(t,e,n,a)=>{const i=e.x()-t.x(),l=e.y()-t.y(),u=Math.sqrt(i*i+l*l),f=i/u,h=l/u,g=Math.min(30,u/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),w=a.width()*(e.attrs.scalingX??1),C=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+f*(v/2+g),t.y()+_/2+h*(_/2+g),e.x()+w/2-f*(w/2+g),e.y()+C/2-h*(C/2+g)]},cU=({connector:t,mainLayer:e,eraseConnector:n})=>{const[a,i]=N.useState([]);return N.useEffect(()=>{const l=e.current?.findOne(`#${t.from}`),u=e.current?.findOne(`#${t.to}`),f=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),h=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!l||!u||!f||!h)return;const g=uU(l,u,f,h);i(g)},[e,t]),x.jsx(sU,{id:t.id,points:a,fill:"black",stroke:"black",onClick:()=>n(t.id),hitStrokeWidth:30})},dU=({connectors:t,mainLayer:e,eraseConnector:n})=>x.jsx(x.Fragment,{children:t.map(a=>x.jsx(cU,{connector:a,mainLayer:e,eraseConnector:n},a.id))});function Q4(t,e,n){if(e==="eraser")return;const a=t.target;a.cache(),a.moveTo(n.current)}function W4(t,e,n,a){if(a==="eraser")return;const i=t.target.getStage();if(!i||!e.current)return;const l=i?.getPointerPosition();if(!l)return;const u=e.current.getIntersection(l);!n.current&&u?(n.current=u,u.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&u&&n.current!==u?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),u.fire("dragenter",{evt:t.evt},!0),n.current=u):n.current&&!u&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function Mg(t,e,n,a,i,l,u,f){if(n==="eraser")return;t.target.clearCache();const h=t.target,v=h.getStage()?.getPointerPosition(),_=e.current?.getIntersection(v);_&&!_.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0);const w=l.find(R=>"group-"+R.id===h.id());h.moveTo(e.current),a.current=null;const C=t.target.id();i(R=>{const O=[...R],j=O.findIndex(M=>"group-"+M.id===C);if(j!==-1){if(O[j].shape!=="line")O[j]={...O[j],x:t.target.x(),y:t.target.y()};else if(O[j].shape==="line"){const M=t.target,z=M.x(),k=M.y();O[j]={...O[j],points:O[j].points.map((q,U)=>U%2===0?q+z:q+k)},M.x(0),M.y(0)}}return O});let T;w&&(w.shape==="line"?T={...w,points:w.points.map((R,O)=>O%2===0?R+t.target.x():R+t.target.y())}:T={...w,x:t.target.x(),y:t.target.y()}),w&&T&&u({action:"update",before:w,after:T,id:f||void 0})}function fU(t,e){if(e.evt.ctrlKey||!t.current)return;const n=e.evt.deltaX,a=e.evt.deltaY;t.current.position({x:t.current.x()-n,y:t.current.y()-a}),t.current.batchDraw()}const hU=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:h,onTransformEnd:g,getBorder:v,onAddTodo:_,global_shape:w,getChildCounts:C,nodeMap:T,isDraggable:R})=>{const O=C(t,w),j=O.completed+O.not_completed;O.completed===j?t.completed=!0:t.completed=!1;const M=()=>j===0?{completeColor:"purple",completeText:"No Task Yet"}:O.completed===0?{completeColor:"#ff2056",completeText:"Not Started"}:O.completed===j?{completeColor:"#00bc7d",completeText:"Completed"}:{completeColor:"#ff6900",completeText:"In Progress"},{completeColor:z,completeText:k}=M(),[q,U]=N.useState(!1),Y=v(t.color),$=new Date(t.dueDate),pe=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).formatToParts($),Ee=pe.find(ae=>ae.type==="weekday").value.slice(0,3),J=pe.find(ae=>ae.type==="day").value,he=pe.find(ae=>ae.type==="month").value.slice(0,3),de=pe.find(ae=>ae.type==="year").value,ue=`${Ee}, ${J} ${he} ${de}`,G=N.useRef(null);N.useEffect(()=>{G.current&&T&&T.current&&T.current.set("group-"+t.id,G.current)});const Q=typeof window<"u"&&(window.matchMedia("(pointer: coarse)").matches||window.innerWidth<724)||q;return x.jsxs(Zr,{ref:G,id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",mainWidth:t.width,mainHeight:t.height,scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:R,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:g,onMouseEnter:()=>{l==="hand"&&U(!0)},onMouseLeave:()=>{l==="hand"&&U(!1)},onTap:()=>{f(t.id)},onDblTap:()=>{l==="hand"&&h(t)},onClick:()=>{f(t.id)},onDblClick:()=>{l==="hand"&&h(t)},children:[x.jsxs(Zr,{visible:!t.isCollapsed,children:[x.jsx(dl,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:Y,strokeWidth:2.5,shadowForStrokeEnabled:!1}),x.jsx(_s,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.6,listening:!1}),x.jsx(_s,{text:ue,x:130,y:170,width:150,fontFamily:"Inter",fontSize:14,align:"right",fill:"black",opacity:.8,listening:!1}),x.jsxs(Zr,{children:[x.jsx(dl,{fill:z,width:100,height:30,x:10,y:160,cornerRadius:10}),x.jsx(_s,{text:k,width:100,height:30,fontFamily:"Inter",align:"center",fill:"white",fontStyle:"bold",x:10,y:158,padding:10})]}),Q&&x.jsxs(Zr,{x:t.width+5,y:t.height/2,onClick:ae=>{ae.cancelBubble=!0,_(t,null)},onTap:ae=>{ae.cancelBubble=!0,_(t,null)},children:[x.jsx(aS,{radius:16,fill:"white",stroke:t.color}),x.jsx(_s,{x:-8,y:-13.5,text:"+",fill:"black",fontSize:24,fontFamily:"Inter",align:"left"})]})]}),x.jsxs(Zr,{children:[x.jsx(dl,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),x.jsx(dl,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),x.jsx(_s,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),x.jsxs(Zr,{x:260,y:7,width:20,height:40,onDblClick:ae=>{ae.cancelBubble=!0},onDblTap:ae=>{ae.cancelBubble=!0},onClick:ae=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),ae.cancelBubble=!0,e(te=>te.map(we=>we.shape==="rect"&&we.id===t.id?{...we,isCollapsed:!we.isCollapsed}:we)))},onTap:ae=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),ae.cancelBubble=!0,e(te=>te.map(we=>we.shape==="rect"&&we.id===t.id?{...we,isCollapsed:!we.isCollapsed}:we)))},children:[x.jsx(dl,{width:30,height:30,listening:!0}),x.jsx(_s,{width:30,height:30,x:0,y:0,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"center"})]})]})]},"key-"+t.id)},mU=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:h,onTransformEnd:g,getBorder:v,onAddTodo:_,allShapes:w,getChildCounts:C,nodeMap:T,isDraggable:R})=>x.jsx(x.Fragment,{children:t.map(O=>x.jsx(hU,{rect:O,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:g,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:h,getBorder:v,onAddTodo:_,global_shape:w,getChildCounts:C,nodeMap:T,isDraggable:R},"key-"+O.id))});function pU(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,i=a?.getPointerPosition();if(!i||!a)return;const l=a.scaleX(),u={x:(i.x-a.x())/l,y:(i.y-a.y())/l},f=e.evt.deltaY>0?-1:1,h=1.05,g=f>0?Math.min(l*h,5):Math.max(l/h,.1);a.scale({x:g,y:g});const v={x:i.x-u.x*g,y:i.y-u.y*g};a.position(v),n(Math.round(g*100))}function gU(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('/rect-up/cursor.svg') 16 16, auto";case"draw":return"crosshair";default:return"default"}}const vU=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,onTransformEnd:u,handleEraserClick:f,onTodoClick:h,shapes:g,nodeMap:v,isDraggable:_})=>{const[w,C]=N.useState(!1),T="#FDF6B2",R=t.color,O=new Date(t.dueDate),j=O.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),M=new Date,z=O.getTime()-M.getTime(),k=Math.ceil(z/(1e3*60*60*24)),q=Math.floor(k/7),U=Math.floor(k/30),Y=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:U>=1?{statusColor:"#2b7fff",statusText:`${U} Month${U>1?"s":""} left`,statusTextColor:"white"}:q>=1?{statusColor:"#2b7fff",statusText:`${q} Week${q>1?"s":""} left`,statusTextColor:"white"}:k>=2?{statusColor:"#2b7fff",statusText:`${k} Day${k>1?"s":""} left`,statusTextColor:"white"}:k===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:k===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:$,statusText:ne,statusTextColor:pe}=Y(),J=typeof window<"u"&&(window.matchMedia("(pointer: coarse)").matches||window.innerWidth<724)||w,he=ue=>{e(G=>G.map(ee=>ee.id===ue&&ee.shape==="todo"?{...ee,completed:!ee.completed}:ee))},de=N.useRef(null);return N.useEffect(()=>{de.current&&v&&v.current&&v.current.set("group-"+t.id,de.current)}),x.jsx(Zr,{id:"group-"+t.id,ref:de,shapeId:t.id,x:t.x,y:t.y,mainWidth:t.width,mainHeight:t.height,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&C(!0)},onMouseLeave:()=>{l==="hand"&&C(!1)},draggable:_,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:u,onClick:()=>{f(t.id)},onTap:()=>{f(t.id)},onDblClick:()=>{if(l==="hand"){if(!g)return;let ue=null;if(t.parents){const G=t.parents?.startsWith("group-")?t.parents.replace("group-",""):t.parents,ee=g.find(Q=>Q.id===G);ee&&ee?.shape==="rect"&&(ue=ee)}h(ue,t)}},onDblTap:()=>{if(l==="hand"){if(!g)return;let ue=null;if(t.parents){const G=t.parents?.startsWith("group-")?t.parents.replace("group-",""):t.parents,ee=g.find(Q=>Q.id===G);ee&&ee?.shape==="rect"&&(ue=ee)}h(ue,t)}},children:x.jsxs(Zr,{visible:!t.isCollapsed,children:[x.jsx(dl,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:R,strokeWidth:1,shadowForStrokeEnabled:!1}),x.jsxs(Zr,{children:[x.jsx(dl,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),x.jsxs(Zr,{children:[x.jsx(_s,{x:60,y:8,text:t.title,ellipsis:!0,width:t.width-70,height:30,fontSize:20,fontStyle:"bold"}),x.jsx(_s,{x:60,y:32,text:j}),x.jsxs(Zr,{children:[x.jsx(_s,{x:60,y:54,text:"Assigned: "+t.assignee}),x.jsxs(Zr,{x:280,y:50,children:[x.jsx(dl,{width:110,height:18,fill:$,cornerRadius:[4,4,4,4]}),x.jsx(_s,{x:0,y:3,width:110,height:18,text:ne,fill:pe,align:"center",fontStyle:"bold",fontSize:12})]})]}),J&&x.jsxs(Zr,{x:26,y:36,children:[x.jsx(aS,{radius:16,fill:T,stroke:R,strokeWidth:1.5,onClick:()=>he(t.id),onTap:()=>he(t.id)}),t.completed&&x.jsx(iU,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},yU=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:h,onTodoClick:g,shapes:v,nodeMap:_,isDraggable:w})=>x.jsx(x.Fragment,{children:t.map(C=>x.jsx(vU,{todo:C,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:h,onTodoClick:g,shapes:v,nodeMap:_,isDraggable:w},"key-"+C.id))});function bU(t,e,n){let a=e.x,i=e.y,l=n.x-a,u=n.y-i;if(l!==0||u!==0){const f=((t.x-a)*l+(t.y-i)*u)/(l*l+u*u);f>1?(a=n.x,i=n.y):f>0&&(a+=l*f,i+=u*f)}return l=t.x-a,u=t.y-i,l*l+u*u}function x2(t,e,n,a,i){let l=a,u=-1;for(let f=e+1;f<n;f++){const h=bU(t[f],t[e],t[n]);h>l&&(u=f,l=h)}u!==-1&&(u-e>1&&x2(t,e,u,a,i),i.push(t[u]),n-u>1&&x2(t,u,n,a,i))}function _U(t,e=1.5){if(t.length<4)return t;const n=[];for(let u=0;u<t.length;u+=2)n.push({x:t[u],y:t[u+1]});const a=e*e,i=[n[0]];x2(n,0,n.length-1,a,i),i.push(n[n.length-1]);const l=[];for(const u of i)l.push(u.x,u.y);return l}const cm={current:null};function Rm(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function xU(t,e,n){if(e!=="draw"||!t)return;const a=Rm(t);if(!a)return;const i=t.findOne("Layer"),l=new Zf.Line({points:[a.x,a.y],stroke:n,strokeWidth:4,lineCap:"round",lineJoin:"round",listening:!1});i.add(l),cm.current=l}function wU(t,e){if(e!=="draw"||!cm.current||!t)return;const n=Rm(t);if(!n)return;const a=cm.current,i=a.points();a.points([...i,n.x,n.y]),a.getLayer()?.batchDraw()}function SU(t,e){const n=cm.current;if(!n)return;const a=n.points(),i=_U(a,1.5),l={shape:"line",behavior:"decor",id:"line-"+Date.now(),color:"black",points:i,stroke:t,strokeWidth:4,scaleX:1,scaleY:1};return e(u=>[...u,l]),n.destroy(),cm.current=null,l}const EU=({lines:t,onDragEnd:e,onTransformEnd:n,isDraggable:a})=>x.jsx(x.Fragment,{children:t.map(i=>x.jsx(rU,{id:"group-"+i.id,scaleX:i.scaleX,scaleY:i.scaleY,points:i.points,stroke:i.stroke,strokeWidth:i.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:a,onDragEnd:e,onTransformEnd:n},i.id))}),J4=20;function CU(t){t(!0)}function e5(t,e,n){for(let a=0;a<t.length-2;a+=2){const i=t[a],l=t[a+1],u=t[a+2],f=t[a+3];if(TU(e.x,e.y,i,l,u,f)<n)return!0}return!1}function TU(t,e,n,a,i,l){const u=i-n,f=l-a,h=u*u+f*f;if(h===0)return Math.hypot(t-n,e-a);let g=((t-n)*u+(e-a)*f)/h;g=Math.max(0,Math.min(1,g));const v=n+g*u,_=a+g*f;return Math.hypot(t-v,e-_)}function AU(t,e,n,a,i,l){if(e!=="eraser"||!a)return;const u=Rm(t.current);if(!u)return;const f=i.filter(h=>h.shape==="line"&&e5(h.points,u,J4));f.length!==0&&(l({action:"delete",before:f[0],after:f[0]}),n(h=>h.filter(g=>g.shape==="line"?!e5(g.points,u,J4):!0)))}function RU(t){t(!1)}function OU(t,e,n,a,i,l,u,f){return t<i&&n<i||t>u&&n>u||e<l&&a<l||e>f&&a>f?!1:!!(t>=i&&t<=u&&e>=l&&e<=f||n>=i&&n<=u&&a>=l&&a<=f||Dg(t,e,n,a,i,l,u,l)||Dg(t,e,n,a,u,l,u,f)||Dg(t,e,n,a,u,f,i,f)||Dg(t,e,n,a,i,f,i,l))}function Dg(t,e,n,a,i,l,u,f){function h(g,v,_,w,C,T){return(T-v)*(_-g)>(w-v)*(C-g)}return h(t,e,i,l,u,f)!==h(n,a,i,l,u,f)&&h(t,e,n,a,i,l)!==h(t,e,n,a,u,f)}function NU(t,e){const n=e.x,a=e.y,i=e.x+e.width,l=e.y+e.height;for(let u=0;u<t.length-2;u+=2){const f=t[u],h=t[u+1],g=t[u+2],v=t[u+3];if(OU(f,h,g,v,n,a,i,l))return!0}return!1}const jU=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const i=Rm(e.current);i&&a({visible:!0,x1:i.x,y1:i.y,x2:i.x,y2:i.y})},MU=(t,e,n,a)=>{if(!e.current)return;const i=Rm(t.current);i&&a({...n,x2:i.x,y2:i.y})},DU=(t,e,n,a,i,l,u)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const f={x:Math.min(e.x1,e.x2)+u.x,y:Math.min(e.y1,e.y2)+u.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},h=l.current?.getStage(),g=i.filter(v=>{if(v.shape==="line"){const T=v.points.map((R,O)=>O%2===0?R+u.x:R+u.y);return NU(T,f)}if(v.shape==="text"){const C=h?.findOne(`#group-${v.id}`);if(!C)return;const T=C.getClientRect({relativeTo:h});return T.x+=u.x,T.y+=u.y,T?Zf.Util.haveIntersection(f,T):void 0}if(!l.current)return;const _=l.current.findOne(`#group-${v.id}`);if(!_)return;const w=_.getClientRect({relativeTo:h});if(w.x+=u.x,w.y+=u.y,!!w)return Zf.Util.haveIntersection(f,w)});a(g.map(v=>v.id))},zU=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const i=t.target.findAncestor(".shape",!0);if(!i||!i.hasName("shape"))return;const l=i.attrs.shapeId;if(!l)return;const u=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,f=n.includes(l);!u&&!f?a([l]):u&&f?a(n.filter(h=>h!==l)):u&&!f&&a([...n,l])},zg=(t,e,n,a,i)=>{const l=t.target.id(),u=t.target,f=n.find(g=>"group-"+g.id===l);e(g=>{const v=[...g],_=v.findIndex(w=>"group-"+w.id===l);if(_!==-1&&v[_].behavior==="node")v[_]={...v[_],x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};else if(_!==-1&&v[_].shape==="text"){const w=u;v[_]={...v[_],x:u.x(),y:u.y(),width:u.width(),fontSize:w.fontSize(),scaleX:1,scaleY:1},u.scaleX(1),u.scaleY(1)}else if(_!==-1&&v[_].shape==="line"){const w=u,C=w.scaleX(),T=w.scaleY(),R=w.x(),O=w.y(),j=w.points().map((M,z)=>z%2===0?M*C+R:M*T+O);v[_]={...v[_],points:j},w.scaleX(1),w.scaleY(1),w.x(0),w.y(0)}return v});const h=n.find(g=>"group-"+g.id===l);if(h){let g;if(h.shape==="text"){const v=u;g={...h,x:v.x(),y:v.y(),scaleX:v.scaleX(),scaleY:v.scaleY(),width:v.width(),fontSize:v.fontSize()}}else h.shape==="line"?g={...h,scaleX:u.scaleX(),scaleY:u.scaleY()}:g={...h,x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};f&&g&&a({action:"update",before:f,after:g,id:i||void 0})}},kU=({initialText:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setIsEditingText:i,isEditingText:l,tool:u,setEditingRef:f,editingRef:h,isDraggable:g})=>{const v=N.useRef(null),_=N.useCallback(()=>{u==="hand"&&(i(!0),f(v.current))},[i,u,f]),w=N.useCallback(()=>{const C=v.current;if(!C)return;const T=C.getStage()?.findOne("#transformer");if(!T)return;const R=T?.getActiveAnchor();if(R==="middle-right"||R==="middle-left"){const O=C.width()*C.scaleX();C.setAttrs({width:O,scaleX:1});return}if(R){const O=C.fontSize()*C.scaleY(),j=C.width()*C.scaleX();C.setAttrs({width:j,fontSize:O,scaleX:1,scaleY:1});return}},[]);return x.jsx(x.Fragment,{children:x.jsx(_s,{ref:v,id:"group-"+t.id,shapeId:t.id,name:"shape",x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,fontSize:t.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"left",lineHeight:1,text:t.text,draggable:g,onClick:()=>e(t.id),onDragEnd:n,onTransform:w,onTransformEnd:a,onDblClick:_,onDblTap:_,visible:!(l&&h&&h?.id()==="group-"+t.id)},"key-"+t.id)})};var LU=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const UU=t=>{const e=window.getComputedStyle(t).position;return!(e==="absolute"||e==="relative")};function PU(t=()=>{}){const e=Oe.useRef(t);return e.current=t,Oe.useCallback((...n)=>e.current.apply(null,n),[])}const BU=({children:t,groupProps:e,divProps:n,transform:a,transformFunc:i,parentNodeFunc:l})=>{const u=nS(),f=Oe.useRef(null),[h]=Oe.useState(()=>document.createElement("div")),g=Oe.useMemo(()=>SE.createRoot(h),[h]),v=a??!0,_=PU(()=>{if(v&&f.current){let O=f.current.getAbsoluteTransform().decompose();i&&(O=i(O)),h.style.position="absolute",h.style.zIndex="10",h.style.top="0px",h.style.left="0px",h.style.transform=`translate(${O.x}px, ${O.y}px) rotate(${O.rotation}deg) scaleX(${O.scaleX}) scaleY(${O.scaleY})`,h.style.transformOrigin="top left"}else h.style.position="",h.style.zIndex="",h.style.top="",h.style.left="",h.style.transform="",h.style.transformOrigin="";const w=n||{},{style:C}=w,T=LU(w,["style"]);Object.assign(h.style,C),Object.assign(h,T)});return Oe.useLayoutEffect(()=>{var w;const C=f.current;if(!C)return;const T=l?l({stage:C.getStage()}):(w=C.getStage())===null||w===void 0?void 0:w.container();if(T)return T.appendChild(h),v&&UU(T)&&(T.style.position="relative"),C.on("absoluteTransformChange",_),_(),()=>{var R;C.off("absoluteTransformChange",_),(R=h.parentNode)===null||R===void 0||R.removeChild(h)}},[v,l]),Oe.useLayoutEffect(()=>{_()},[n,i]),Oe.useLayoutEffect(()=>{queueMicrotask(()=>{wm.flushSync(()=>{g.render(Oe.createElement(u,null,t))})})}),Oe.useLayoutEffect(()=>()=>{setTimeout(()=>{g.unmount()})},[]),Oe.createElement(Zr,Object.assign({ref:f},e))};var Ey,t5;function HU(){if(t5)return Ey;t5=1;var t=vm();return Ey=function(n,a,i){const l=t.useRef("loading"),u=t.useRef(),[f,h]=t.useState(0),g=t.useRef(),v=t.useRef(),_=t.useRef();return(g.current!==n||v.current!==a||_.current!==i)&&(l.current="loading",u.current=void 0,g.current=n,v.current=a,_.current=i),t.useLayoutEffect(function(){if(!n)return;var w=document.createElement("img");function C(){w.decode().catch(()=>{}).finally(()=>{l.current="loaded",u.current=w,h(Math.random())})}function T(){l.current="failed",u.current=void 0,h(Math.random())}return w.addEventListener("load",C),w.addEventListener("error",T),a&&(w.crossOrigin=a),i&&(w.referrerPolicy=i),w.src=n,function(){w.removeEventListener("load",C),w.removeEventListener("error",T)}},[n,a,i]),[u.current,l.current]},Ey}HU();const GU=({textNode:t,onClose:e,onChange:n})=>{const a=N.useRef(null);return N.useEffect(()=>{if(!a.current)return;const i=a.current,l=t.position(),u={x:l.x,y:l.y};i.style.position="absolute",i.value=t.text(),i.style.top=`${u.y}px`,i.style.left=`${u.x}px`,i.style.width=`${t.width()-t.padding()*2}px`,i.style.height=`${t.height()}px`,i.style.fontSize=`${t.fontSize()}px`,i.style.border="3px solid #ccc",i.style.borderRadius="4px",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="none",i.style.outline="none",i.style.resize="none",i.style.lineHeight=String(t.lineHeight()),i.style.fontFamily=t.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=t.align(),i.style.boxSizing="border-box";const f=t.rotation();let h="";f&&(h+=`rotateZ(${f}deg)`),i.style.transform=h,i.focus();const g=w=>{w.target!==i&&(n(i.value),e())},v=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),n(i.value),e()),w.key==="Escape"&&e()},_=()=>{i.style.width=`${t.width()-t.padding()*2}px`,i.style.height="auto",i.style.height=`${i.scrollHeight+t.fontSize()}px`};return i.addEventListener("keydown",v),i.addEventListener("input",_),setTimeout(()=>{window.addEventListener("click",g)}),()=>{i.removeEventListener("keydown",v),i.removeEventListener("input",_),window.removeEventListener("click",g)}},[t,n,e]),x.jsx("textarea",{ref:a,style:{minHeight:"1em",position:"absolute"}})},qU=t=>x.jsx(BU,{children:x.jsx(GU,{...t})}),rS=N.createContext(null);function fb(){const t=N.useContext(rS);if(!t)throw new Error("useUndo must be used inside a <UndoRedoProvider>");return t}const VU=({texts:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,isDraggable:h})=>{const[g,v]=N.useState(null),{pushUndo:_}=fb(),w=N.useCallback(C=>{if(g){if(C===""){i(T=>{const R=T.find(O=>"group-"+O.id===g.id());return R&&_({action:"delete",before:R,after:R}),T.filter(O=>"group-"+O.id!==g.id())});return}i(T=>T.map(R=>"group-"+R.id===g.id()?(R.shape==="text"&&_({action:"update",before:R,after:{...R,text:C}}),{...R,text:C}):R))}},[i,g,_]);return x.jsxs(x.Fragment,{children:[t.map(C=>x.jsx(kU,{initialText:C,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,editingRef:g,setEditingRef:v,isDraggable:h},C.id)),u&&g&&x.jsx(qU,{textNode:g,onChange:w,onClose:()=>{l(!1)}})]})},iS=(t,e)=>{if(!t.children)return{completed:0,not_completed:0};let n=0,a=0;return t.children.forEach(i=>{const l=e.find(u=>"group-"+u.id===i);if(l&&l.behavior==="node"&&(l.shape==="todo"&&(l.completed?n++:a++),l.shape==="rect")){const u=iS(l,e);n+=u.completed,a+=u.not_completed}}),{completed:n,not_completed:a}},YU="1234567890",IU=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:i,zoom:l,connectors:u=[],setConnectors:f,addConnector:h,strokeColor:g,onShapeClick:v,onAddTodo:_,stageCoor:w,setStageCoor:C,isFormOpen:T,onTextClick:R})=>{Zf.pixelRatio=window.devicePixelRatio||1;const O=N.useRef(null),j=N.useRef(null),M=N.useRef(null),z=N.useRef(null),k=N.useRef(null),[q,U]=N.useState(!1),[Y,$]=N.useState([]),[ne,pe]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),Ee=N.useRef(!1),J=N.useRef(null),he=N.useRef(null),{pushUndo:de,undo:ue,redo:G}=fb(),ee=N.useRef(null),[Q,ae]=N.useState(!1),B=N.useRef(new Map),[te,we]=N.useState(!0);N.useEffect(()=>{O.current&&t.forEach(xe=>{if(xe.behavior!=="node")return;const Me=O.current?.findOne(`#group-${xe.id}`),ut=O.current?.findOne(`#${xe.id}`);if(!Me||!ut)return;const lt=t.find(at=>at.id===ut.id());lt&&(Me.off("drop"),Me.off("dragenter"),Me.off("dragleave"),Me.on("dragenter",at=>{const _t=at.source;if(!_t||Me===_t||ut.fill()==="green"||lt.shape==="todo"||xe.shape!=="todo"&&xe.children.includes(_t.id())||xe.parents.includes(_t.id()))return;const cn=t.find(tn=>"group-"+tn.id===_t.id());cn?.behavior!=="node"||cn?.parents!==""||ut.fill("#b9f8cf")}),Me.on("dragmove",at=>{const _t=at.source;!_t||Me===_t||ut.fill()==="#b9f8cf"||ut.fill("#b9f8cf")}),Me.on("dragleave",at=>{const _t=at.source;Me!==_t&&ut.fill("white")}),Me.on("drop",at=>{const _t=at.source;if(xe.behavior!=="node"||xe.shape!=="todo"&&xe.children.includes(_t.id())||!_t||xe.parents.includes(_t.id()))return;const cn=t.find(tn=>"group-"+tn.id===_t.id());cn?.behavior!=="node"||cn?.parents!==""||lt.shape==="todo"||(ut.fill("white"),e(tn=>tn.map(na=>na.behavior==="node"&&"group-"+na.id===at.source.id()?{...na,parents:Me.id()}:na.behavior==="node"&&na.shape!="todo"&&"group-"+na.id===Me.id()?{...na,children:[...na.children,at.source.id()]}:na)),h(at.source,Me))}))})},[h,e,t]),N.useEffect(()=>{function xe(Me){if(!(T||Q)){if(Me.ctrlKey&&!Me.shiftKey&&Me.key==="z"){ue(e,f);return}if((Me.ctrlKey||Me.metaKey)&&Me.key==="y"||Me.ctrlKey&&Me.shiftKey&&Me.key.toLowerCase()==="z"){G(e,f);return}switch(Me.key){case"1":a("hand");break;case"z":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"x":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"c":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"v":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break;case"q":v(null);break;case"w":_(null,null);break;case"e":R();break}}}return window.addEventListener("keydown",xe),()=>{window.removeEventListener("keydown",xe)}},[Q,T,_,v,G,f,e,a,n,ue,R]),N.useEffect(()=>{if(Y.length&&J.current){const xe=Y.map(Me=>k.current?.findOne(`#group-${Me}`)).filter(Boolean);J.current.nodes(xe),ee.current=crypto.randomUUID(),requestAnimationFrame(()=>{const Me=he.current;if(!Me||!k.current||!J.current)return;const ut=J.current.width()/k.current.scaleX(),lt=J.current.height()/k.current.scaleY(),at=(J.current.x()-w.x)/k.current.scaleX(),_t=(J.current.y()-w.y)/k.current.scaleY();Me.show(),Me.x(at),Me.y(_t),Me.width(ut),Me.height(lt),Me.scaleX(1),Me.scaleY(1);const cn=J.current.nodes();J.current.nodes([...cn,Me])})}else if(J.current){J.current.nodes([]);const xe=he.current;ee.current=null,xe?.hide()}if(n!=="select"){J.current?.nodes([]);const xe=he.current;ee.current=null,xe?.hide()}},[Y,n,w,t]),N.useEffect(()=>{n!=="select"&&$([])},[n]),N.useEffect(()=>{Sy(u,O,M,z,B)},[t,u,B]),N.useEffect(()=>{const xe=()=>{const Me=k.current;Me&&(Me.width(window.innerWidth),Me.height(window.innerHeight),Me.draw())};return window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe)},[]),N.useEffect(()=>{we(!(n!=="hand"&&n!=="select"))},[n]);const Ce=xe=>{if(xe.behavior!=="node")return;const Me=t.find(lt=>"group-"+lt.id===xe.parents),ut=O.current?.findOne(`#${xe.parents}`);return!ut||!Me?!1:ut.getChildren()[0].visible()},qe=(xe,Me)=>{xe.behavior!=="node"||xe.shape==="todo"||xe.children.length!==0&&xe.children.forEach(ut=>{const lt=t.find(tn=>"group-"+tn.id===ut);if(!lt)return;const at=O.current?.findOne(`#${ut}`);if(!at)return;at.visible(Me);const _t=u.find(tn=>{if(tn.from===ut)return tn});if(!_t)return;const cn=z.current?.findOne(`#${_t.id}`);cn&&(cn.visible(Me),Ce(lt)&&qe(lt,Me))})},st=xe=>{const Me=t.find(ut=>ut.id===xe);Me?.behavior!=="node"||Me?.shape==="todo"||Me?.children.forEach(ut=>{const lt=t.find(at=>"group-"+at.id===ut);!lt||lt.behavior!=="node"||(lt.parents="")})},Ie=xe=>{e(Me=>Me.map(ut=>ut.shape==="rect"&&ut.children.includes(xe)?{...ut,children:ut.children.filter(lt=>lt!=="group-"+xe)}:ut))},it=xe=>{if(n==="eraser"){const Me=crypto.randomUUID();u.forEach(lt=>{if(lt.to==="group-"+xe||lt.from==="group-"+xe){const at={...lt};de({id:Me,before:at,after:at,action:"delete"}),f(_t=>_t.filter(cn=>cn.id!==lt.id))}});const ut=t.find(lt=>lt.id===xe);ut&&de({id:Me,before:{...ut},after:{...ut},action:"delete"}),st(xe),Ie(xe),e(lt=>lt.filter(at=>at.id!==xe))}},bt=xe=>{let Me;return xe==="#ff2056"?Me="#f6339a":xe==="#2b7fff"?Me="#00a6f4":xe==="#00bc7d"?Me="#00c951":xe==="#ad46ff"?Me="#8e51ff":xe==="#ff6900"&&(Me="#fd9a00"),Me},vn=xe=>{if(n!=="eraser")return;const Me=u.find(lt=>lt.id===xe);if(!Me)return;const ut=crypto.randomUUID();f(lt=>lt.filter(at=>at.id!==xe)),de({id:ut,before:Me,after:Me,action:"delete"}),e(lt=>lt.map(at=>at.shape!=="todo"&&at.shape!=="rect"?at:at.shape==="rect"&&"group-"+at.id===Me.to?{...at,children:at.children.filter(_t=>_t!==Me.from)}:"group-"+at.id===Me.from?{...at,parents:at.parents===Me.to?"":at.parents}:at))};return x.jsx("div",{className:"canvas-wrapper",style:{padding:0,margin:0},children:x.jsxs(oU,{width:window.innerWidth,height:window.innerHeight,x:w.x,y:w.y,ref:k,draggable:n==="hand",onWheel:xe=>{pU(k,xe,i),k.current&&(fU(k,xe),C({x:k.current.x(),y:k.current.y()}))},onPointerDown:xe=>{n==="draw"&&xU(k.current,n,g),n==="eraser"&&CU(U),n==="select"&&jU(xe,k,Ee,pe)},onPointerMove:()=>{n==="draw"&&wU(k.current,n),n==="eraser"&&AU(k,n,e,q,t,de),n==="select"&&MU(k,Ee,ne,pe)},onPointerUp:()=>{if(n==="draw"){const xe=SU(g,e);if(!xe)return;de({action:"add",before:xe,after:xe})}n==="eraser"&&RU(U),n==="select"&&DU(Ee,ne,pe,$,t,O,w)},onClick:xe=>{n==="select"&&zU(xe,ne,Y,$)},scaleX:l/100,scaleY:l/100,style:{cursor:gU(n)},onDragEnd:()=>{k.current&&C({x:k.current.x(),y:k.current.y()})},children:[x.jsxs(j0,{children:[x.jsx(EU,{lines:t.filter(xe=>xe.shape==="line"),onDragEnd:xe=>{Mg(xe,O,n,j,e,t,de,ee.current)},onTransformEnd:xe=>{zg(xe,e,t,de,ee.current)},isDraggable:te}),x.jsx(VU,{texts:t.filter(xe=>xe.shape==="text"),onEraserClick:it,onDragEnd:xe=>{Mg(xe,O,n,j,e,t,de,ee.current)},onTransformEnd:xe=>{zg(xe,e,t,de,ee.current)},setShapes:e,isEditingText:Q,setIsEditingText:ae,tool:n,isDraggable:te})]}),x.jsx(j0,{ref:z,children:x.jsx(dU,{connectors:u,mainLayer:O,eraseConnector:vn})}),x.jsxs(j0,{ref:O,children:[x.jsx(dl,{id:YU,ref:he,fill:"transparent",draggable:!0,temporary:!0}),x.jsx(mU,{shapes:t.filter(xe=>xe.shape==="rect"),allShapes:t,setShapes:e,onDragStart:xe=>Q4(xe,n,M),onDragMove:xe=>{Y.length<=1&&W4(xe,O,j,n),Sy(u,O,M,z,B)},onDragEnd:xe=>{Mg(xe,O,n,j,e,t,de,ee.current)},onTransformEnd:xe=>{zg(xe,e,t,de,ee.current)},tool:n,collapseChild:qe,handleEraserClick:it,onShapeClick:v,getBorder:bt,onAddTodo:_,getChildCounts:iS,nodeMap:B,isDraggable:te}),x.jsx(yU,{todos:t.filter(xe=>xe.shape==="todo"),setShapes:e,tool:n,onDragStart:xe=>Q4(xe,n,M),onDragMove:xe=>{Y.length<=1&&W4(xe,O,j,n),Sy(u,O,M,z,B)},onDragEnd:xe=>{Mg(xe,O,n,j,e,t,de,ee.current)},onTransformEnd:xe=>{zg(xe,e,t,de,ee.current)},handleEraserClick:it,getBorder:bt,onTodoClick:_,shapes:t,nodeMap:B,isDraggable:te})]}),x.jsx(j0,{ref:M}),x.jsxs(j0,{children:[x.jsx(lU,{ref:J,id:"transformer",enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],rotateEnabled:!1,boundBoxFunc:(xe,Me)=>Me.width<5||Me.height<5?xe:Me}),ne.visible&&x.jsx(dl,{x:Math.min(ne.x1,ne.x2),y:Math.min(ne.y1,ne.y2),width:Math.abs(ne.x2-ne.x1),height:Math.abs(ne.y2-ne.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function ZU({title:t,onClick:e}){return x.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[x.jsx("span",{children:x.jsx(wR,{})}),x.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function XU({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",i=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return x.jsx("button",{type:"button",className:`${a} ${i}`,onClick:e,children:t})}const KU=Ff({title:Xr(),description:Xr(),color:Xr(),date:Xr().min(1,"Date cannot be empty!"),time:Xr()});function FU({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:u,handleSubmit:f,setError:h,formState:{errors:g,isSubmitting:v}}=qf({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:Vf(KU)}),[_,w]=N.useState(a?.color??"#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,T):t(T),n()}catch(R){h("root",{message:"This Task already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&n()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[n]),x.jsxs("div",{children:[x.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-50"}),x.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90dvw] sm:w-[80dvw] md:w-[80dvw]
    max-h-[70dvh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-col justify-between items-start
    rounded-lg shadow-2xl z-50 overflow-auto
  `,children:[x.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),x.jsxs("form",{onSubmit:f(C),className:"w-full h-full",children:[x.jsxs("div",{className:"my-2 flex flex-row items-end justify-between h-15 w-full",children:[x.jsx("input",{...u("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-xl sm:text-3xl h-full w-full p-2 font-bold rounded-lg"}),g.title&&x.jsx("div",{className:"text-red-500",children:g.title?.message}),x.jsx("button",{type:"button",onClick:n,className:"hidden md:block hover:cursor-pointer p-2 h-full",children:"X"})]}),x.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[x.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),x.jsxs("select",{...u("color"),value:_,onChange:T=>w(T.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[x.jsx("option",{value:"#ff2056",children:"Red"}),x.jsx("option",{value:"#2b7fff",children:"Blue"}),x.jsx("option",{value:"#00bc7d",children:"Green"}),x.jsx("option",{value:"#ad46ff",children:"Purple"}),x.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),x.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[x.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),x.jsx("input",{...u("date"),type:"date",className:"relative w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),g.date&&x.jsx("div",{className:"text-red-500 ml-28 w-full",children:g.date?.message}),x.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),x.jsxs("div",{className:"mb-3  flex flex-col gap-2 w-full items-start",children:[x.jsxs("div",{className:"inline-flex gap-2",children:[x.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),x.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),x.jsx("textarea",{...u("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs w-full items-start h-[50dvh] md:h-[50dvh] resize-none"}),g.description&&x.jsx("div",{className:"text-red-500",children:g.description?.message})]}),x.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[x.jsx("button",{type:"button",className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),x.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),g.root&&x.jsx("div",{className:"text-red-500",children:g.root?.message})]})]})]})}const sS=N.createContext(null);function $U({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{const{data:{subscription:a}}=Jt.auth.onAuthStateChange((i,l)=>{n(l)});return()=>a.unsubscribe()},[]),x.jsx(sS.Provider,{value:{session:e,setSession:n},children:t})}function lS(){const t=N.useContext(sS);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}const QU=Ff({title:Xr(),date:Xr().min(1,"Date cannot be empty"),completed:cM(),color:Xr()});function WU({onAddTodo:t,onUpdateTodo:e,parent:n,onCloseForm:a,initialTodo:i}){const{session:l}=lS(),u=i&&i.behavior==="node"&&i.shape==="todo";let f;u?f=new Date(i.dueDate).toISOString().split("T")[0]:f=new Date().toISOString().split("T")[0];const{register:h,handleSubmit:g,setError:v,formState:{isSubmitting:_}}=qf({defaultValues:u?{title:i.title,date:f,completed:i.completed,color:i.color}:{title:"My Newest Todo",date:f,completed:!1,color:n?.color},resolver:Vf(QU)}),[w,C]=N.useState(u?i.color:n?.color??"#ff2056"),T=async R=>{try{await new Promise(O=>setTimeout(O,500)),u?e(i,R):t(R,n),a()}catch(O){v("root",{message:"This Todo already exists!: "+O})}};return N.useEffect(()=>{const R=O=>{O.key==="Escape"&&a()};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[a]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-40"}),x.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90%] max-w-sm sm:max-w-md
    h-fit max-h-[90vh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-row justify-between items-start
    rounded-lg shadow-2xl z-50
  `,children:[x.jsx("div",{className:"absolute top-0 bottom-0 left-0 rounded-l-lg w-2 sm:w-3",style:{backgroundColor:w}}),x.jsxs("form",{onSubmit:g(T),className:"w-full h-full",children:[x.jsx("div",{className:"mb-1 flex w-full h-fit",children:x.jsx("input",{...h("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),x.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[x.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[x.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),x.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-red-200",style:{backgroundColor:n?n.color:"#d1d5dc",color:n?"#ffffff":"#000000"},children:x.jsx("span",{className:"text-sm text-start  w-full ",children:n?n.title:"Not Assigned"})})]}),x.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[x.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),x.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-gray-200",children:x.jsx("span",{className:"text-sm text-start  w-full ",children:l?l.user.email:"Guest"})})]}),x.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[x.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),x.jsx("input",{...h("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),x.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[x.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),x.jsxs("select",{...h("color"),value:w,onChange:R=>C(R.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[x.jsx("option",{value:"#ff2056",children:"Red"}),x.jsx("option",{value:"#2b7fff",children:"Blue"}),x.jsx("option",{value:"#00bc7d",children:"Green"}),x.jsx("option",{value:"#ad46ff",children:"Purple"}),x.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),x.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[x.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),x.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:x.jsx("input",{...h("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),x.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[x.jsx("button",{type:"button",className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:a,children:x.jsx("span",{className:"text-sm",children:"Cancel"})}),x.jsx("button",{type:"submit",disabled:_,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:_?x.jsx("span",{className:"text-sm",children:"Loading..."}):x.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}function JU(t){return en({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.793 2.232a.75.75 0 0 1-.025 1.06L3.622 7.25h10.003a5.375 5.375 0 0 1 0 10.75H10.75a.75.75 0 0 1 0-1.5h2.875a3.875 3.875 0 0 0 0-7.75H3.622l4.146 3.957a.75.75 0 0 1-1.036 1.085l-5.5-5.25a.75.75 0 0 1 0-1.085l5.5-5.25a.75.75 0 0 1 1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function eP(t){return en({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.207 2.232a.75.75 0 0 0 .025 1.06l4.146 3.958H6.375a5.375 5.375 0 0 0 0 10.75H9.25a.75.75 0 0 0 0-1.5H6.375a3.875 3.875 0 0 1 0-7.75h10.003l-4.146 3.957a.75.75 0 0 0 1.036 1.085l5.5-5.25a.75.75 0 0 0 0-1.085l-5.5-5.25a.75.75 0 0 0-1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function tP(t){return en({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function n5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Kv(...t){return e=>{let n=!1;const a=t.map(i=>{const l=n5(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():n5(t[i],null)}}}}function ba(...t){return N.useCallback(Kv(...t),t)}function dm(t){const e=nP(t),n=N.forwardRef((a,i)=>{const{children:l,...u}=a,f=N.Children.toArray(l),h=f.find(rP);if(h){const g=h.props.children,v=f.map(_=>_===h?N.Children.count(g)>1?N.Children.only(null):N.isValidElement(g)?g.props.children:null:_);return x.jsx(e,{...u,ref:i,children:N.isValidElement(g)?N.cloneElement(g,void 0,v):null})}return x.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function nP(t){const e=N.forwardRef((n,a)=>{const{children:i,...l}=n;if(N.isValidElement(i)){const u=sP(i),f=iP(l,i.props);return i.type!==N.Fragment&&(f.ref=a?Kv(a,u):u),N.cloneElement(i,f)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oS=Symbol("radix.slottable");function aP(t){const e=({children:n})=>x.jsx(x.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=oS,e}function rP(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oS}function iP(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...f)=>{const h=l(...f);return i(...f),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function sP(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],On=lP.reduce((t,e)=>{const n=dm(`Primitive.${e}`),a=N.forwardRef((i,l)=>{const{asChild:u,...f}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...f,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function uS(t,e){t&&wm.flushSync(()=>t.dispatchEvent(e))}function oP(t,e){const n=N.createContext(e),a=l=>{const{children:u,...f}=l,h=N.useMemo(()=>f,Object.values(f));return x.jsx(n.Provider,{value:h,children:u})};a.displayName=t+"Provider";function i(l){const u=N.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function mo(t,e=[]){let n=[];function a(l,u){const f=N.createContext(u),h=n.length;n=[...n,u];const g=_=>{const{scope:w,children:C,...T}=_,R=w?.[t]?.[h]||f,O=N.useMemo(()=>T,Object.values(T));return x.jsx(R.Provider,{value:O,children:C})};g.displayName=l+"Provider";function v(_,w){const C=w?.[t]?.[h]||f,T=N.useContext(C);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[g,v]}const i=()=>{const l=n.map(u=>N.createContext(u));return function(f){const h=f?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return i.scopeName=t,[a,uP(i,...e)]}function uP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((f,{useScope:h,scopeName:g})=>{const _=h(l)[`__scope${g}`];return{...f,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function cS(t){const e=t+"CollectionProvider",[n,a]=mo(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:O,children:j}=R,M=Oe.useRef(null),z=Oe.useRef(new Map).current;return x.jsx(i,{scope:O,itemMap:z,collectionRef:M,children:j})};u.displayName=e;const f=t+"CollectionSlot",h=dm(f),g=Oe.forwardRef((R,O)=>{const{scope:j,children:M}=R,z=l(f,j),k=ba(O,z.collectionRef);return x.jsx(h,{ref:k,children:M})});g.displayName=f;const v=t+"CollectionItemSlot",_="data-radix-collection-item",w=dm(v),C=Oe.forwardRef((R,O)=>{const{scope:j,children:M,...z}=R,k=Oe.useRef(null),q=ba(O,k),U=l(v,j);return Oe.useEffect(()=>(U.itemMap.set(k,{ref:k,...z}),()=>void U.itemMap.delete(k))),x.jsx(w,{[_]:"",ref:q,children:M})});C.displayName=v;function T(R){const O=l(t+"CollectionConsumer",R);return Oe.useCallback(()=>{const M=O.collectionRef.current;if(!M)return[];const z=Array.from(M.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((U,Y)=>z.indexOf(U.ref.current)-z.indexOf(Y.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},T,a]}function Ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var gu=globalThis?.document?N.useLayoutEffect:()=>{},cP=P5[" useInsertionEffect ".trim().toString()]||gu;function Qf({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,l,u]=dP({defaultProp:e,onChange:n}),f=t!==void 0,h=f?t:i;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==f&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,a])}const g=N.useCallback(v=>{if(f){const _=fP(v)?v(t):v;_!==t&&u.current?.(_)}else l(v)},[f,t,l,u]);return[h,g]}function dP({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),i=N.useRef(n),l=N.useRef(e);return cP(()=>{l.current=e},[e]),N.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function fP(t){return typeof t=="function"}function hP(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var Tu=t=>{const{present:e,children:n}=t,a=mP(e),i=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=ba(a.ref,pP(i));return typeof n=="function"||a.isPresent?N.cloneElement(i,{ref:l}):null};Tu.displayName="Presence";function mP(t){const[e,n]=N.useState(),a=N.useRef(null),i=N.useRef(t),l=N.useRef("none"),u=t?"mounted":"unmounted",[f,h]=hP(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const g=kg(a.current);l.current=f==="mounted"?g:"none"},[f]),gu(()=>{const g=a.current,v=i.current;if(v!==t){const w=l.current,C=kg(g);t?h("MOUNT"):C==="none"||g?.display==="none"?h("UNMOUNT"):h(v&&w!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),gu(()=>{if(e){let g;const v=e.ownerDocument.defaultView??window,_=C=>{const R=kg(a.current).includes(CSS.escape(C.animationName));if(C.target===e&&R&&(h("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",g=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},w=C=>{C.target===e&&(l.current=kg(a.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(g),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:N.useCallback(g=>{a.current=g?getComputedStyle(g):null,n(g)},[])}}function kg(t){return t?.animationName||"none"}function pP(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gP=P5[" useId ".trim().toString()]||(()=>{}),vP=0;function Lf(t){const[e,n]=N.useState(gP());return gu(()=>{n(a=>a??String(vP++))},[t]),t||(e?`radix-${e}`:"")}var yP=N.createContext(void 0);function Fv(t){const e=N.useContext(yP);return t||e||"ltr"}function io(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function bP(t,e=globalThis?.document){const n=io(t);N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var _P="DismissableLayer",w2="dismissableLayer.update",xP="dismissableLayer.pointerDownOutside",wP="dismissableLayer.focusOutside",a5,dS=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hb=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...h}=t,g=N.useContext(dS),[v,_]=N.useState(null),w=v?.ownerDocument??globalThis?.document,[,C]=N.useState({}),T=ba(e,Y=>_(Y)),R=Array.from(g.layers),[O]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),j=R.indexOf(O),M=v?R.indexOf(v):-1,z=g.layersWithOutsidePointerEventsDisabled.size>0,k=M>=j,q=CP(Y=>{const $=Y.target,ne=[...g.branches].some(pe=>pe.contains($));!k||ne||(i?.(Y),u?.(Y),Y.defaultPrevented||f?.())},w),U=TP(Y=>{const $=Y.target;[...g.branches].some(pe=>pe.contains($))||(l?.(Y),u?.(Y),Y.defaultPrevented||f?.())},w);return bP(Y=>{M===g.layers.size-1&&(a?.(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},w),N.useEffect(()=>{if(v)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(a5=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),r5(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=a5)}},[v,w,n,g]),N.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),r5())},[v,g]),N.useEffect(()=>{const Y=()=>C({});return document.addEventListener(w2,Y),()=>document.removeEventListener(w2,Y)},[]),x.jsx(On.div,{...h,ref:T,style:{pointerEvents:z?k?"auto":"none":void 0,...t.style},onFocusCapture:Ot(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Ot(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ot(t.onPointerDownCapture,q.onPointerDownCapture)})});hb.displayName=_P;var SP="DismissableLayerBranch",EP=N.forwardRef((t,e)=>{const n=N.useContext(dS),a=N.useRef(null),i=ba(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),x.jsx(On.div,{...t,ref:i})});EP.displayName=SP;function CP(t,e=globalThis?.document){const n=io(t),a=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let h=function(){fS(xP,n,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function TP(t,e=globalThis?.document){const n=io(t),a=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!a.current&&fS(wP,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function r5(){const t=new CustomEvent(w2);document.dispatchEvent(t)}function fS(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?uS(i,l):i.dispatchEvent(l)}var Cy="focusScope.autoFocusOnMount",Ty="focusScope.autoFocusOnUnmount",i5={bubbles:!1,cancelable:!0},AP="FocusScope",mb=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,h]=N.useState(null),g=io(i),v=io(l),_=N.useRef(null),w=ba(e,R=>h(R)),C=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(C.paused||!f)return;const k=z.target;f.contains(k)?_.current=k:uu(_.current,{select:!0})},O=function(z){if(C.paused||!f)return;const k=z.relatedTarget;k!==null&&(f.contains(k)||uu(_.current,{select:!0}))},j=function(z){if(document.activeElement===document.body)for(const q of z)q.removedNodes.length>0&&uu(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const M=new MutationObserver(j);return f&&M.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),M.disconnect()}}},[a,f,C.paused]),N.useEffect(()=>{if(f){l5.add(C);const R=document.activeElement;if(!f.contains(R)){const j=new CustomEvent(Cy,i5);f.addEventListener(Cy,g),f.dispatchEvent(j),j.defaultPrevented||(RP(DP(hS(f)),{select:!0}),document.activeElement===R&&uu(f))}return()=>{f.removeEventListener(Cy,g),setTimeout(()=>{const j=new CustomEvent(Ty,i5);f.addEventListener(Ty,v),f.dispatchEvent(j),j.defaultPrevented||uu(R??document.body,{select:!0}),f.removeEventListener(Ty,v),l5.remove(C)},0)}}},[f,g,v,C]);const T=N.useCallback(R=>{if(!n&&!a||C.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,j=document.activeElement;if(O&&j){const M=R.currentTarget,[z,k]=OP(M);z&&k?!R.shiftKey&&j===k?(R.preventDefault(),n&&uu(z,{select:!0})):R.shiftKey&&j===z&&(R.preventDefault(),n&&uu(k,{select:!0})):j===M&&R.preventDefault()}},[n,a,C.paused]);return x.jsx(On.div,{tabIndex:-1,...u,ref:w,onKeyDown:T})});mb.displayName=AP;function RP(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(uu(a,{select:e}),document.activeElement!==n)return}function OP(t){const e=hS(t),n=s5(e,t),a=s5(e.reverse(),t);return[n,a]}function hS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function s5(t,e){for(const n of t)if(!NP(n,{upTo:e}))return n}function NP(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jP(t){return t instanceof HTMLInputElement&&"select"in t}function uu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&jP(t)&&e&&t.select()}}var l5=MP();function MP(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=o5(t,e),t.unshift(e)},remove(e){t=o5(t,e),t[0]?.resume()}}}function o5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function DP(t){return t.filter(e=>e.tagName!=="A")}var zP="Portal",pb=N.forwardRef((t,e)=>{const{container:n,...a}=t,[i,l]=N.useState(!1);gu(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?qC.createPortal(x.jsx(On.div,{...a,ref:e}),u):null});pb.displayName=zP;var Ay=0;function mS(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??u5()),document.body.insertAdjacentElement("beforeend",t[1]??u5()),Ay++,()=>{Ay===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ay--}},[])}function u5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fl=function(){return fl=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},fl.apply(this,arguments)};function pS(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function kP(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Qg="right-scroll-bar-position",Wg="width-before-scroll-bar",LP="with-scroll-bars-hidden",UP="--removed-body-scroll-bar-size";function Ry(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function PP(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var BP=typeof window<"u"?N.useLayoutEffect:N.useEffect,c5=new WeakMap;function HP(t,e){var n=PP(null,function(a){return t.forEach(function(i){return Ry(i,a)})});return BP(function(){var a=c5.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||Ry(f,null)}),l.forEach(function(f){i.has(f)||Ry(f,u)})}c5.set(n,t)},[t]),n}function GP(t){return t}function qP(t,e){e===void 0&&(e=GP);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var h=function(){var v=u;u=[],v.forEach(l)},g=function(){return Promise.resolve().then(h)};g(),n={push:function(v){u.push(v),g()},filter:function(v){return u=u.filter(v),n}}}};return i}function VP(t){t===void 0&&(t={});var e=qP(null);return e.options=fl({async:!0,ssr:!1},t),e}var gS=function(t){var e=t.sideCar,n=pS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,fl({},n))};gS.isSideCarExport=!0;function YP(t,e){return t.useMedium(e),gS}var vS=VP(),Oy=function(){},$v=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:Oy,onWheelCapture:Oy,onTouchMoveCapture:Oy}),i=a[0],l=a[1],u=t.forwardProps,f=t.children,h=t.className,g=t.removeScrollBar,v=t.enabled,_=t.shards,w=t.sideCar,C=t.noRelative,T=t.noIsolation,R=t.inert,O=t.allowPinchZoom,j=t.as,M=j===void 0?"div":j,z=t.gapMode,k=pS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=w,U=HP([n,e]),Y=fl(fl({},k),i);return N.createElement(N.Fragment,null,v&&N.createElement(q,{sideCar:vS,removeScrollBar:g,shards:_,noRelative:C,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),u?N.cloneElement(N.Children.only(f),fl(fl({},Y),{ref:U})):N.createElement(M,fl({},Y,{className:h,ref:U}),f))});$v.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$v.classNames={fullWidth:Wg,zeroRight:Qg};var IP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZP(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IP();return e&&t.setAttribute("nonce",e),t}function XP(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function KP(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FP=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ZP())&&(XP(e,n),KP(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$P=function(){var t=FP();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yS=function(){var t=$P(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},QP={left:0,top:0,right:0,gap:0},Ny=function(t){return parseInt(t||"",10)||0},WP=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ny(n),Ny(a),Ny(i)]},JP=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return QP;var e=WP(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},eB=yS(),Uf="data-scroll-locked",tB=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(LP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(Uf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qg,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Wg,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Qg," .").concat(Qg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Wg," .").concat(Wg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Uf,`] {
    `).concat(UP,": ").concat(f,`px;
  }
`)},d5=function(){var t=parseInt(document.body.getAttribute(Uf)||"0",10);return isFinite(t)?t:0},nB=function(){N.useEffect(function(){return document.body.setAttribute(Uf,(d5()+1).toString()),function(){var t=d5()-1;t<=0?document.body.removeAttribute(Uf):document.body.setAttribute(Uf,t.toString())}},[])},aB=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;nB();var l=N.useMemo(function(){return JP(i)},[i]);return N.createElement(eB,{styles:tB(l,!e,i,n?"":"!important")})},S2=!1;if(typeof window<"u")try{var Lg=Object.defineProperty({},"passive",{get:function(){return S2=!0,!0}});window.addEventListener("test",Lg,Lg),window.removeEventListener("test",Lg,Lg)}catch{S2=!1}var _f=S2?{passive:!1}:!1,rB=function(t){return t.tagName==="TEXTAREA"},bS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rB(t)&&n[e]==="visible")},iB=function(t){return bS(t,"overflowY")},sB=function(t){return bS(t,"overflowX")},f5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=_S(t,a);if(i){var l=xS(t,a),u=l[1],f=l[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},lB=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},oB=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},_S=function(t,e){return t==="v"?iB(e):sB(e)},xS=function(t,e){return t==="v"?lB(e):oB(e)},uB=function(t,e){return t==="h"&&e==="rtl"?-1:1},cB=function(t,e,n,a,i){var l=uB(t,window.getComputedStyle(e).direction),u=l*a,f=n.target,h=e.contains(f),g=!1,v=u>0,_=0,w=0;do{if(!f)break;var C=xS(t,f),T=C[0],R=C[1],O=C[2],j=R-O-l*T;(T||j)&&_S(t,f)&&(_+=j,w+=T);var M=f.parentNode;f=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(v&&Math.abs(_)<1||!v&&Math.abs(w)<1)&&(g=!0),g},Ug=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},h5=function(t){return[t.deltaX,t.deltaY]},m5=function(t){return t&&"current"in t?t.current:t},dB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hB=0,xf=[];function mB(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),i=N.useState(hB++)[0],l=N.useState(yS)[0],u=N.useRef(t);N.useEffect(function(){u.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=kP([t.lockRef.current],(t.shards||[]).map(m5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var j=Ug(R),M=n.current,z="deltaX"in R?R.deltaX:M[0]-j[0],k="deltaY"in R?R.deltaY:M[1]-j[1],q,U=R.target,Y=Math.abs(z)>Math.abs(k)?"h":"v";if("touches"in R&&Y==="h"&&U.type==="range")return!1;var $=f5(Y,U);if(!$)return!0;if($?q=Y:(q=Y==="v"?"h":"v",$=f5(Y,U)),!$)return!1;if(!a.current&&"changedTouches"in R&&(z||k)&&(a.current=q),!q)return!0;var ne=a.current||q;return cB(ne,O,R,ne==="h"?z:k)},[]),h=N.useCallback(function(R){var O=R;if(!(!xf.length||xf[xf.length-1]!==l)){var j="deltaY"in O?h5(O):Ug(O),M=e.current.filter(function(q){return q.name===O.type&&(q.target===O.target||O.target===q.shadowParent)&&dB(q.delta,j)})[0];if(M&&M.should){O.cancelable&&O.preventDefault();return}if(!M){var z=(u.current.shards||[]).map(m5).filter(Boolean).filter(function(q){return q.contains(O.target)}),k=z.length>0?f(O,z[0]):!u.current.noIsolation;k&&O.cancelable&&O.preventDefault()}}},[]),g=N.useCallback(function(R,O,j,M){var z={name:R,delta:O,target:j,should:M,shadowParent:pB(j)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(k){return k!==z})},1)},[]),v=N.useCallback(function(R){n.current=Ug(R),a.current=void 0},[]),_=N.useCallback(function(R){g(R.type,h5(R),R.target,f(R,t.lockRef.current))},[]),w=N.useCallback(function(R){g(R.type,Ug(R),R.target,f(R,t.lockRef.current))},[]);N.useEffect(function(){return xf.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:w}),document.addEventListener("wheel",h,_f),document.addEventListener("touchmove",h,_f),document.addEventListener("touchstart",v,_f),function(){xf=xf.filter(function(R){return R!==l}),document.removeEventListener("wheel",h,_f),document.removeEventListener("touchmove",h,_f),document.removeEventListener("touchstart",v,_f)}},[]);var C=t.removeScrollBar,T=t.inert;return N.createElement(N.Fragment,null,T?N.createElement(l,{styles:fB(i)}):null,C?N.createElement(aB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gB=YP(vS,mB);var gb=N.forwardRef(function(t,e){return N.createElement($v,fl({},t,{ref:e,sideCar:gB}))});gb.classNames=$v.classNames;var vB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wf=new WeakMap,Pg=new WeakMap,Bg={},jy=0,wS=function(t){return t&&(t.host||wS(t.parentNode))},yB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=wS(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bB=function(t,e,n,a){var i=yB(e,Array.isArray(t)?t:[t]);Bg[n]||(Bg[n]=new WeakMap);var l=Bg[n],u=[],f=new Set,h=new Set(i),g=function(_){!_||f.has(_)||(f.add(_),g(_.parentNode))};i.forEach(g);var v=function(_){!_||h.has(_)||Array.prototype.forEach.call(_.children,function(w){if(f.has(w))v(w);else try{var C=w.getAttribute(a),T=C!==null&&C!=="false",R=(wf.get(w)||0)+1,O=(l.get(w)||0)+1;wf.set(w,R),l.set(w,O),u.push(w),R===1&&T&&Pg.set(w,!0),O===1&&w.setAttribute(n,"true"),T||w.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",w,j)}})};return v(e),f.clear(),jy++,function(){u.forEach(function(_){var w=wf.get(_)-1,C=l.get(_)-1;wf.set(_,w),l.set(_,C),w||(Pg.has(_)||_.removeAttribute(a),Pg.delete(_)),C||_.removeAttribute(n)}),jy--,jy||(wf=new WeakMap,wf=new WeakMap,Pg=new WeakMap,Bg={})}},SS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=vB(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),bB(a,i,n,"aria-hidden")):function(){return null}},Qv="Dialog",[ES,CS]=mo(Qv),[_B,Ts]=ES(Qv),TS=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=N.useRef(null),h=N.useRef(null),[g,v]=Qf({prop:a,defaultProp:i??!1,onChange:l,caller:Qv});return x.jsx(_B,{scope:e,triggerRef:f,contentRef:h,contentId:Lf(),titleId:Lf(),descriptionId:Lf(),open:g,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:u,children:n})};TS.displayName=Qv;var AS="DialogTrigger",RS=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Ts(AS,n),l=ba(e,i.triggerRef);return x.jsx(On.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bb(i.open),...a,ref:l,onClick:Ot(t.onClick,i.onOpenToggle)})});RS.displayName=AS;var vb="DialogPortal",[xB,OS]=ES(vb,{forceMount:void 0}),NS=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=Ts(vb,e);return x.jsx(xB,{scope:e,forceMount:n,children:N.Children.map(a,u=>x.jsx(Tu,{present:n||l.open,children:x.jsx(pb,{asChild:!0,container:i,children:u})}))})};NS.displayName=vb;var xv="DialogOverlay",jS=N.forwardRef((t,e)=>{const n=OS(xv,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=Ts(xv,t.__scopeDialog);return l.modal?x.jsx(Tu,{present:a||l.open,children:x.jsx(SB,{...i,ref:e})}):null});jS.displayName=xv;var wB=dm("DialogOverlay.RemoveScroll"),SB=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Ts(xv,n);return x.jsx(gb,{as:wB,allowPinchZoom:!0,shards:[i.contentRef],children:x.jsx(On.div,{"data-state":bb(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),Lc="DialogContent",MS=N.forwardRef((t,e)=>{const n=OS(Lc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=Ts(Lc,t.__scopeDialog);return x.jsx(Tu,{present:a||l.open,children:l.modal?x.jsx(EB,{...i,ref:e}):x.jsx(CB,{...i,ref:e})})});MS.displayName=Lc;var EB=N.forwardRef((t,e)=>{const n=Ts(Lc,t.__scopeDialog),a=N.useRef(null),i=ba(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return SS(l)},[]),x.jsx(DS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ot(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Ot(t.onFocusOutside,l=>l.preventDefault())})}),CB=N.forwardRef((t,e)=>{const n=Ts(Lc,t.__scopeDialog),a=N.useRef(!1),i=N.useRef(!1);return x.jsx(DS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),DS=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=Ts(Lc,n),h=N.useRef(null),g=ba(e,h);return mS(),x.jsxs(x.Fragment,{children:[x.jsx(mb,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:x.jsx(hb,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":bb(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(AB,{titleId:f.titleId}),x.jsx(OB,{contentRef:h,descriptionId:f.descriptionId})]})]})}),yb="DialogTitle",zS=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Ts(yb,n);return x.jsx(On.h2,{id:i.titleId,...a,ref:e})});zS.displayName=yb;var kS="DialogDescription",LS=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Ts(kS,n);return x.jsx(On.p,{id:i.descriptionId,...a,ref:e})});LS.displayName=kS;var US="DialogClose",PS=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Ts(US,n);return x.jsx(On.button,{type:"button",...a,ref:e,onClick:Ot(t.onClick,()=>i.onOpenChange(!1))})});PS.displayName=US;function bb(t){return t?"open":"closed"}var BS="DialogTitleWarning",[TB,HS]=oP(BS,{contentName:Lc,titleName:yb,docsSlug:"dialog"}),AB=({titleId:t})=>{const e=HS(BS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},RB="DialogDescriptionWarning",OB=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HS(RB).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},NB=TS,jB=RS,MB=NS,DB=jS,zB=MS,kB=zS,LB=LS,GS=PS,qS="AlertDialog",[UB]=mo(qS,[CS]),po=CS(),VS=t=>{const{__scopeAlertDialog:e,...n}=t,a=po(e);return x.jsx(NB,{...a,...n,modal:!0})};VS.displayName=qS;var PB="AlertDialogTrigger",YS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=po(n);return x.jsx(jB,{...i,...a,ref:e})});YS.displayName=PB;var BB="AlertDialogPortal",IS=t=>{const{__scopeAlertDialog:e,...n}=t,a=po(e);return x.jsx(MB,{...a,...n})};IS.displayName=BB;var HB="AlertDialogOverlay",ZS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=po(n);return x.jsx(DB,{...i,...a,ref:e})});ZS.displayName=HB;var Pf="AlertDialogContent",[GB,qB]=UB(Pf),VB=aP("AlertDialogContent"),XS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,l=po(n),u=N.useRef(null),f=ba(e,u),h=N.useRef(null);return x.jsx(TB,{contentName:Pf,titleName:KS,docsSlug:"alert-dialog",children:x.jsx(GB,{scope:n,cancelRef:h,children:x.jsxs(zB,{role:"alertdialog",...l,...i,ref:f,onOpenAutoFocus:Ot(i.onOpenAutoFocus,g=>{g.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[x.jsx(VB,{children:a}),x.jsx(IB,{contentRef:u})]})})})});XS.displayName=Pf;var KS="AlertDialogTitle",FS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=po(n);return x.jsx(kB,{...i,...a,ref:e})});FS.displayName=KS;var $S="AlertDialogDescription",QS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=po(n);return x.jsx(LB,{...i,...a,ref:e})});QS.displayName=$S;var YB="AlertDialogAction",WS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=po(n);return x.jsx(GS,{...i,...a,ref:e})});WS.displayName=YB;var JS="AlertDialogCancel",e6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=qB(JS,n),l=po(n),u=ba(e,i);return x.jsx(GS,{...l,...a,ref:u})});e6.displayName=JS;var IB=({contentRef:t})=>{const e=`\`${Pf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pf}\` by passing a \`${$S}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},M0=VS,Hg=YS,D0=IS,z0=ZS,k0=XS,My=WS,Sf=e6,L0=FS,U0=QS;function ZB(t){const[e,n]=N.useState(void 0);return gu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const h=l.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,f=g.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const XB=["top","right","bottom","left"],vu=Math.min,oi=Math.max,wv=Math.round,Gg=Math.floor,pl=t=>({x:t,y:t}),KB={left:"right",right:"left",bottom:"top",top:"bottom"},FB={start:"end",end:"start"};function E2(t,e,n){return oi(t,vu(e,n))}function so(t,e){return typeof t=="function"?t(e):t}function lo(t){return t.split("-")[0]}function Wf(t){return t.split("-")[1]}function _b(t){return t==="x"?"y":"x"}function xb(t){return t==="y"?"height":"width"}const $B=new Set(["top","bottom"]);function hl(t){return $B.has(lo(t))?"y":"x"}function wb(t){return _b(hl(t))}function QB(t,e,n){n===void 0&&(n=!1);const a=Wf(t),i=wb(t),l=xb(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Sv(u)),[u,Sv(u)]}function WB(t){const e=Sv(t);return[C2(t),e,C2(e)]}function C2(t){return t.replace(/start|end/g,e=>FB[e])}const p5=["left","right"],g5=["right","left"],JB=["top","bottom"],eH=["bottom","top"];function tH(t,e,n){switch(t){case"top":case"bottom":return n?e?g5:p5:e?p5:g5;case"left":case"right":return e?JB:eH;default:return[]}}function nH(t,e,n,a){const i=Wf(t);let l=tH(lo(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(C2)))),l}function Sv(t){return t.replace(/left|right|bottom|top/g,e=>KB[e])}function aH(t){return{top:0,right:0,bottom:0,left:0,...t}}function t6(t){return typeof t!="number"?aH(t):{top:t,right:t,bottom:t,left:t}}function Ev(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function v5(t,e,n){let{reference:a,floating:i}=t;const l=hl(e),u=wb(e),f=xb(u),h=lo(e),g=l==="y",v=a.x+a.width/2-i.width/2,_=a.y+a.height/2-i.height/2,w=a[f]/2-i[f]/2;let C;switch(h){case"top":C={x:v,y:a.y-i.height};break;case"bottom":C={x:v,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:_};break;case"left":C={x:a.x-i.width,y:_};break;default:C={x:a.x,y:a.y}}switch(Wf(e)){case"start":C[u]-=w*(n&&g?-1:1);break;case"end":C[u]+=w*(n&&g?-1:1);break}return C}const rH=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:_}=v5(g,a,h),w=a,C={},T=0;for(let R=0;R<f.length;R++){const{name:O,fn:j}=f[R],{x:M,y:z,data:k,reset:q}=await j({x:v,y:_,initialPlacement:a,placement:w,strategy:i,middlewareData:C,rects:g,platform:u,elements:{reference:t,floating:e}});v=M??v,_=z??_,C={...C,[O]:{...C[O],...k}},q&&T<=50&&(T++,typeof q=="object"&&(q.placement&&(w=q.placement),q.rects&&(g=q.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):q.rects),{x:v,y:_}=v5(g,w,h)),R=-1)}return{x:v,y:_,placement:w,strategy:i,middlewareData:C}};async function fm(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:f,strategy:h}=t,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:w=!1,padding:C=0}=so(e,t),T=t6(C),O=f[w?_==="floating"?"reference":"floating":_],j=Ev(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:v,strategy:h})),M=_==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),k=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},q=Ev(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:M,offsetParent:z,strategy:h}):M);return{top:(j.top-q.top+T.top)/k.y,bottom:(q.bottom-j.bottom+T.bottom)/k.y,left:(j.left-q.left+T.left)/k.x,right:(q.right-j.right+T.right)/k.x}}const iH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:h}=e,{element:g,padding:v=0}=so(t,e)||{};if(g==null)return{};const _=t6(v),w={x:n,y:a},C=wb(i),T=xb(C),R=await u.getDimensions(g),O=C==="y",j=O?"top":"left",M=O?"bottom":"right",z=O?"clientHeight":"clientWidth",k=l.reference[T]+l.reference[C]-w[C]-l.floating[T],q=w[C]-l.reference[C],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let Y=U?U[z]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(U)))&&(Y=f.floating[z]||l.floating[T]);const $=k/2-q/2,ne=Y/2-R[T]/2-1,pe=vu(_[j],ne),Ee=vu(_[M],ne),J=pe,he=Y-R[T]-Ee,de=Y/2-R[T]/2+$,ue=E2(J,de,he),G=!h.arrow&&Wf(i)!=null&&de!==ue&&l.reference[T]/2-(de<J?pe:Ee)-R[T]/2<0,ee=G?de<J?de-J:de-he:0;return{[C]:w[C]+ee,data:{[C]:ue,centerOffset:de-ue-ee,...G&&{alignmentOffset:ee}},reset:G}}}),sH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:h,elements:g}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...O}=so(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const j=lo(i),M=hl(f),z=lo(f)===f,k=await(h.isRTL==null?void 0:h.isRTL(g.floating)),q=w||(z||!R?[Sv(f)]:WB(f)),U=T!=="none";!w&&U&&q.push(...nH(f,R,T,k));const Y=[f,...q],$=await fm(e,O),ne=[];let pe=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&ne.push($[j]),_){const de=QB(i,u,k);ne.push($[de[0]],$[de[1]])}if(pe=[...pe,{placement:i,overflows:ne}],!ne.every(de=>de<=0)){var Ee,J;const de=(((Ee=l.flip)==null?void 0:Ee.index)||0)+1,ue=Y[de];if(ue&&(!(_==="alignment"?M!==hl(ue):!1)||pe.every(Q=>hl(Q.placement)===M?Q.overflows[0]>0:!0)))return{data:{index:de,overflows:pe},reset:{placement:ue}};let G=(J=pe.filter(ee=>ee.overflows[0]<=0).sort((ee,Q)=>ee.overflows[1]-Q.overflows[1])[0])==null?void 0:J.placement;if(!G)switch(C){case"bestFit":{var he;const ee=(he=pe.filter(Q=>{if(U){const ae=hl(Q.placement);return ae===M||ae==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ae=>ae>0).reduce((ae,B)=>ae+B,0)]).sort((Q,ae)=>Q[1]-ae[1])[0])==null?void 0:he[0];ee&&(G=ee);break}case"initialPlacement":G=f;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function y5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function b5(t){return XB.some(e=>t[e]>=0)}const lH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=so(t,e);switch(a){case"referenceHidden":{const l=await fm(e,{...i,elementContext:"reference"}),u=y5(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:b5(u)}}}case"escaped":{const l=await fm(e,{...i,altBoundary:!0}),u=y5(l,n.floating);return{data:{escapedOffsets:u,escaped:b5(u)}}}default:return{}}}}},n6=new Set(["left","top"]);async function oH(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=lo(n),f=Wf(n),h=hl(n)==="y",g=n6.has(u)?-1:1,v=l&&h?-1:1,_=so(e,t);let{mainAxis:w,crossAxis:C,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof T=="number"&&(C=f==="end"?T*-1:T),h?{x:C*v,y:w*g}:{x:w*g,y:C*v}}const uH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:f}=e,h=await oH(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:u}}}}},cH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:O=>{let{x:j,y:M}=O;return{x:j,y:M}}},...h}=so(t,e),g={x:n,y:a},v=await fm(e,h),_=hl(lo(i)),w=_b(_);let C=g[w],T=g[_];if(l){const O=w==="y"?"top":"left",j=w==="y"?"bottom":"right",M=C+v[O],z=C-v[j];C=E2(M,C,z)}if(u){const O=_==="y"?"top":"left",j=_==="y"?"bottom":"right",M=T+v[O],z=T-v[j];T=E2(M,T,z)}const R=f.fn({...e,[w]:C,[_]:T});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[w]:l,[_]:u}}}}}},dH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:h=!0,crossAxis:g=!0}=so(t,e),v={x:n,y:a},_=hl(i),w=_b(_);let C=v[w],T=v[_];const R=so(f,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(h){const z=w==="y"?"height":"width",k=l.reference[w]-l.floating[z]+O.mainAxis,q=l.reference[w]+l.reference[z]-O.mainAxis;C<k?C=k:C>q&&(C=q)}if(g){var j,M;const z=w==="y"?"width":"height",k=n6.has(lo(i)),q=l.reference[_]-l.floating[z]+(k&&((j=u.offset)==null?void 0:j[_])||0)+(k?0:O.crossAxis),U=l.reference[_]+l.reference[z]+(k?0:((M=u.offset)==null?void 0:M[_])||0)-(k?O.crossAxis:0);T<q?T=q:T>U&&(T=U)}return{[w]:C,[_]:T}}}},fH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:h=()=>{},...g}=so(t,e),v=await fm(e,g),_=lo(i),w=Wf(i),C=hl(i)==="y",{width:T,height:R}=l.floating;let O,j;_==="top"||_==="bottom"?(O=_,j=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(j=_,O=w==="end"?"top":"bottom");const M=R-v.top-v.bottom,z=T-v.left-v.right,k=vu(R-v[O],M),q=vu(T-v[j],z),U=!e.middlewareData.shift;let Y=k,$=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(Y=M),U&&!w){const pe=oi(v.left,0),Ee=oi(v.right,0),J=oi(v.top,0),he=oi(v.bottom,0);C?$=T-2*(pe!==0||Ee!==0?pe+Ee:oi(v.left,v.right)):Y=R-2*(J!==0||he!==0?J+he:oi(v.top,v.bottom))}await h({...e,availableWidth:$,availableHeight:Y});const ne=await u.getDimensions(f.floating);return T!==ne.width||R!==ne.height?{reset:{rects:!0}}:{}}}};function Wv(){return typeof window<"u"}function Jf(t){return a6(t)?(t.nodeName||"").toLowerCase():"#document"}function fi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _l(t){var e;return(e=(a6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function a6(t){return Wv()?t instanceof Node||t instanceof fi(t).Node:!1}function Ss(t){return Wv()?t instanceof Element||t instanceof fi(t).Element:!1}function gl(t){return Wv()?t instanceof HTMLElement||t instanceof fi(t).HTMLElement:!1}function _5(t){return!Wv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fi(t).ShadowRoot}const hH=new Set(["inline","contents"]);function Om(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=Es(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!hH.has(i)}const mH=new Set(["table","td","th"]);function pH(t){return mH.has(Jf(t))}const gH=[":popover-open",":modal"];function Jv(t){return gH.some(e=>{try{return t.matches(e)}catch{return!1}})}const vH=["transform","translate","scale","rotate","perspective"],yH=["transform","translate","scale","rotate","perspective","filter"],bH=["paint","layout","strict","content"];function Sb(t){const e=Eb(),n=Ss(t)?Es(t):t;return vH.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yH.some(a=>(n.willChange||"").includes(a))||bH.some(a=>(n.contain||"").includes(a))}function _H(t){let e=yu(t);for(;gl(e)&&!Xf(e);){if(Sb(e))return e;if(Jv(e))return null;e=yu(e)}return null}function Eb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xH=new Set(["html","body","#document"]);function Xf(t){return xH.has(Jf(t))}function Es(t){return fi(t).getComputedStyle(t)}function e1(t){return Ss(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yu(t){if(Jf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_5(t)&&t.host||_l(t);return _5(e)?e.host:e}function r6(t){const e=yu(t);return Xf(e)?t.ownerDocument?t.ownerDocument.body:t.body:gl(e)&&Om(e)?e:r6(e)}function hm(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=r6(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=fi(i);if(l){const f=T2(u);return e.concat(u,u.visualViewport||[],Om(i)?i:[],f&&n?hm(f):[])}return e.concat(i,hm(i,[],n))}function T2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function i6(t){const e=Es(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=gl(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,f=wv(n)!==l||wv(a)!==u;return f&&(n=l,a=u),{width:n,height:a,$:f}}function Cb(t){return Ss(t)?t:t.contextElement}function Bf(t){const e=Cb(t);if(!gl(e))return pl(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=i6(e);let u=(l?wv(n.width):n.width)/a,f=(l?wv(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const wH=pl(0);function s6(t){const e=fi(t);return!Eb()||!e.visualViewport?wH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fi(t)?!1:e}function Uc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Cb(t);let u=pl(1);e&&(a?Ss(a)&&(u=Bf(a)):u=Bf(t));const f=SH(l,n,a)?s6(l):pl(0);let h=(i.left+f.x)/u.x,g=(i.top+f.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(l){const w=fi(l),C=a&&Ss(a)?fi(a):a;let T=w,R=T2(T);for(;R&&a&&C!==T;){const O=Bf(R),j=R.getBoundingClientRect(),M=Es(R),z=j.left+(R.clientLeft+parseFloat(M.paddingLeft))*O.x,k=j.top+(R.clientTop+parseFloat(M.paddingTop))*O.y;h*=O.x,g*=O.y,v*=O.x,_*=O.y,h+=z,g+=k,T=fi(R),R=T2(T)}}return Ev({width:v,height:_,x:h,y:g})}function t1(t,e){const n=e1(t).scrollLeft;return e?e.left+n:Uc(_l(t)).left+n}function l6(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-t1(t,n),i=n.top+e.scrollTop;return{x:a,y:i}}function EH(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=_l(a),f=e?Jv(e.floating):!1;if(a===u||f&&l)return n;let h={scrollLeft:0,scrollTop:0},g=pl(1);const v=pl(0),_=gl(a);if((_||!_&&!l)&&((Jf(a)!=="body"||Om(u))&&(h=e1(a)),gl(a))){const C=Uc(a);g=Bf(a),v.x=C.x+a.clientLeft,v.y=C.y+a.clientTop}const w=u&&!_&&!l?l6(u,h):pl(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-h.scrollLeft*g.x+v.x+w.x,y:n.y*g.y-h.scrollTop*g.y+v.y+w.y}}function CH(t){return Array.from(t.getClientRects())}function TH(t){const e=_l(t),n=e1(t),a=t.ownerDocument.body,i=oi(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=oi(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+t1(t);const f=-n.scrollTop;return Es(a).direction==="rtl"&&(u+=oi(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:f}}const x5=25;function AH(t,e){const n=fi(t),a=_l(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,f=0,h=0;if(i){l=i.width,u=i.height;const v=Eb();(!v||v&&e==="fixed")&&(f=i.offsetLeft,h=i.offsetTop)}const g=t1(a);if(g<=0){const v=a.ownerDocument,_=v.body,w=getComputedStyle(_),C=v.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,T=Math.abs(a.clientWidth-_.clientWidth-C);T<=x5&&(l-=T)}else g<=x5&&(l+=g);return{width:l,height:u,x:f,y:h}}const RH=new Set(["absolute","fixed"]);function OH(t,e){const n=Uc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=gl(t)?Bf(t):pl(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,h=i*l.x,g=a*l.y;return{width:u,height:f,x:h,y:g}}function w5(t,e,n){let a;if(e==="viewport")a=AH(t,n);else if(e==="document")a=TH(_l(t));else if(Ss(e))a=OH(e,n);else{const i=s6(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ev(a)}function o6(t,e){const n=yu(t);return n===e||!Ss(n)||Xf(n)?!1:Es(n).position==="fixed"||o6(n,e)}function NH(t,e){const n=e.get(t);if(n)return n;let a=hm(t,[],!1).filter(f=>Ss(f)&&Jf(f)!=="body"),i=null;const l=Es(t).position==="fixed";let u=l?yu(t):t;for(;Ss(u)&&!Xf(u);){const f=Es(u),h=Sb(u);!h&&f.position==="fixed"&&(i=null),(l?!h&&!i:!h&&f.position==="static"&&!!i&&RH.has(i.position)||Om(u)&&!h&&o6(t,u))?a=a.filter(v=>v!==u):i=f,u=yu(u)}return e.set(t,a),a}function jH(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Jv(e)?[]:NH(e,this._c):[].concat(n),a],f=u[0],h=u.reduce((g,v)=>{const _=w5(e,v,i);return g.top=oi(_.top,g.top),g.right=vu(_.right,g.right),g.bottom=vu(_.bottom,g.bottom),g.left=oi(_.left,g.left),g},w5(e,f,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function MH(t){const{width:e,height:n}=i6(t);return{width:e,height:n}}function DH(t,e,n){const a=gl(e),i=_l(e),l=n==="fixed",u=Uc(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=pl(0);function g(){h.x=t1(i)}if(a||!a&&!l)if((Jf(e)!=="body"||Om(i))&&(f=e1(e)),a){const C=Uc(e,!0,l,e);h.x=C.x+e.clientLeft,h.y=C.y+e.clientTop}else i&&g();l&&!a&&i&&g();const v=i&&!a&&!l?l6(i,f):pl(0),_=u.left+f.scrollLeft-h.x-v.x,w=u.top+f.scrollTop-h.y-v.y;return{x:_,y:w,width:u.width,height:u.height}}function Dy(t){return Es(t).position==="static"}function S5(t,e){if(!gl(t)||Es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _l(t)===n&&(n=n.ownerDocument.body),n}function u6(t,e){const n=fi(t);if(Jv(t))return n;if(!gl(t)){let i=yu(t);for(;i&&!Xf(i);){if(Ss(i)&&!Dy(i))return i;i=yu(i)}return n}let a=S5(t,e);for(;a&&pH(a)&&Dy(a);)a=S5(a,e);return a&&Xf(a)&&Dy(a)&&!Sb(a)?n:a||_H(t)||n}const zH=async function(t){const e=this.getOffsetParent||u6,n=this.getDimensions,a=await n(t.floating);return{reference:DH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function kH(t){return Es(t).direction==="rtl"}const LH={convertOffsetParentRelativeRectToViewportRelativeRect:EH,getDocumentElement:_l,getClippingRect:jH,getOffsetParent:u6,getElementRects:zH,getClientRects:CH,getDimensions:MH,getScale:Bf,isElement:Ss,isRTL:kH};function c6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function UH(t,e){let n=null,a;const i=_l(t);function l(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const g=t.getBoundingClientRect(),{left:v,top:_,width:w,height:C}=g;if(f||e(),!w||!C)return;const T=Gg(_),R=Gg(i.clientWidth-(v+w)),O=Gg(i.clientHeight-(_+C)),j=Gg(v),z={rootMargin:-T+"px "+-R+"px "+-O+"px "+-j+"px",threshold:oi(0,vu(1,h))||1};let k=!0;function q(U){const Y=U[0].intersectionRatio;if(Y!==h){if(!k)return u();Y?u(!1,Y):a=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!c6(g,t.getBoundingClientRect())&&u(),k=!1}try{n=new IntersectionObserver(q,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(q,z)}n.observe(t)}return u(!0),l}function PH(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,g=Cb(t),v=i||l?[...g?hm(g):[],...hm(e)]:[];v.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),l&&j.addEventListener("resize",n)});const _=g&&f?UH(g,n):null;let w=-1,C=null;u&&(C=new ResizeObserver(j=>{let[M]=j;M&&M.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),n()}),g&&!h&&C.observe(g),C.observe(e));let T,R=h?Uc(t):null;h&&O();function O(){const j=Uc(t);R&&!c6(R,j)&&n(),R=j,T=requestAnimationFrame(O)}return n(),()=>{var j;v.forEach(M=>{i&&M.removeEventListener("scroll",n),l&&M.removeEventListener("resize",n)}),_?.(),(j=C)==null||j.disconnect(),C=null,h&&cancelAnimationFrame(T)}}const BH=uH,HH=cH,GH=sH,qH=fH,VH=lH,E5=iH,YH=dH,IH=(t,e,n)=>{const a=new Map,i={platform:LH,...n},l={...i.platform,_c:a};return rH(t,e,{...i,platform:l})};var ZH=typeof document<"u",XH=function(){},Jg=ZH?N.useLayoutEffect:XH;function Cv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!Cv(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!Cv(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function d6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function C5(t,e){const n=d6(t);return Math.round(e*n)/n}function zy(t){const e=N.useRef(t);return Jg(()=>{e.current=t}),e}function KH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:h,open:g}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,C]=N.useState(a);Cv(w,a)||C(a);const[T,R]=N.useState(null),[O,j]=N.useState(null),M=N.useCallback(Q=>{Q!==U.current&&(U.current=Q,R(Q))},[]),z=N.useCallback(Q=>{Q!==Y.current&&(Y.current=Q,j(Q))},[]),k=l||T,q=u||O,U=N.useRef(null),Y=N.useRef(null),$=N.useRef(v),ne=h!=null,pe=zy(h),Ee=zy(i),J=zy(g),he=N.useCallback(()=>{if(!U.current||!Y.current)return;const Q={placement:e,strategy:n,middleware:w};Ee.current&&(Q.platform=Ee.current),IH(U.current,Y.current,Q).then(ae=>{const B={...ae,isPositioned:J.current!==!1};de.current&&!Cv($.current,B)&&($.current=B,wm.flushSync(()=>{_(B)}))})},[w,e,n,Ee,J]);Jg(()=>{g===!1&&$.current.isPositioned&&($.current.isPositioned=!1,_(Q=>({...Q,isPositioned:!1})))},[g]);const de=N.useRef(!1);Jg(()=>(de.current=!0,()=>{de.current=!1}),[]),Jg(()=>{if(k&&(U.current=k),q&&(Y.current=q),k&&q){if(pe.current)return pe.current(k,q,he);he()}},[k,q,he,pe,ne]);const ue=N.useMemo(()=>({reference:U,floating:Y,setReference:M,setFloating:z}),[M,z]),G=N.useMemo(()=>({reference:k,floating:q}),[k,q]),ee=N.useMemo(()=>{const Q={position:n,left:0,top:0};if(!G.floating)return Q;const ae=C5(G.floating,v.x),B=C5(G.floating,v.y);return f?{...Q,transform:"translate("+ae+"px, "+B+"px)",...d6(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:B}},[n,f,G.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:he,refs:ue,elements:G,floatingStyles:ee}),[v,he,ue,G,ee])}const FH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?E5({element:a.current,padding:i}).fn(n):{}:a?E5({element:a,padding:i}).fn(n):{}}}},$H=(t,e)=>({...BH(t),options:[t,e]}),QH=(t,e)=>({...HH(t),options:[t,e]}),WH=(t,e)=>({...YH(t),options:[t,e]}),JH=(t,e)=>({...GH(t),options:[t,e]}),eG=(t,e)=>({...qH(t),options:[t,e]}),tG=(t,e)=>({...VH(t),options:[t,e]}),nG=(t,e)=>({...FH(t),options:[t,e]});var aG="Arrow",f6=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return x.jsx(On.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});f6.displayName=aG;var rG=f6,Tb="Popper",[h6,m6]=mo(Tb),[iG,p6]=h6(Tb),g6=t=>{const{__scopePopper:e,children:n}=t,[a,i]=N.useState(null);return x.jsx(iG,{scope:e,anchor:a,onAnchorChange:i,children:n})};g6.displayName=Tb;var v6="PopperAnchor",y6=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=p6(v6,n),u=N.useRef(null),f=ba(e,u),h=N.useRef(null);return N.useEffect(()=>{const g=h.current;h.current=a?.current||u.current,g!==h.current&&l.onAnchorChange(h.current)}),a?null:x.jsx(On.div,{...i,ref:f})});y6.displayName=v6;var Ab="PopperContent",[sG,lG]=h6(Ab),b6=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:T,...R}=t,O=p6(Ab,n),[j,M]=N.useState(null),z=ba(e,it=>M(it)),[k,q]=N.useState(null),U=ZB(k),Y=U?.width??0,$=U?.height??0,ne=a+(l!=="center"?"-"+l:""),pe=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Ee=Array.isArray(g)?g:[g],J=Ee.length>0,he={padding:pe,boundary:Ee.filter(uG),altBoundary:J},{refs:de,floatingStyles:ue,placement:G,isPositioned:ee,middlewareData:Q}=KH({strategy:"fixed",placement:ne,whileElementsMounted:(...it)=>PH(...it,{animationFrame:C==="always"}),elements:{reference:O.anchor},middleware:[$H({mainAxis:i+$,alignmentAxis:u}),h&&QH({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?WH():void 0,...he}),h&&JH({...he}),eG({...he,apply:({elements:it,rects:bt,availableWidth:vn,availableHeight:xe})=>{const{width:Me,height:ut}=bt.reference,lt=it.floating.style;lt.setProperty("--radix-popper-available-width",`${vn}px`),lt.setProperty("--radix-popper-available-height",`${xe}px`),lt.setProperty("--radix-popper-anchor-width",`${Me}px`),lt.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),k&&nG({element:k,padding:f}),cG({arrowWidth:Y,arrowHeight:$}),w&&tG({strategy:"referenceHidden",...he})]}),[ae,B]=w6(G),te=io(T);gu(()=>{ee&&te?.()},[ee,te]);const we=Q.arrow?.x,Ce=Q.arrow?.y,qe=Q.arrow?.centerOffset!==0,[st,Ie]=N.useState();return gu(()=>{j&&Ie(window.getComputedStyle(j).zIndex)},[j]),x.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:ee?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(sG,{scope:n,placedSide:ae,onArrowChange:q,arrowX:we,arrowY:Ce,shouldHideArrow:qe,children:x.jsx(On.div,{"data-side":ae,"data-align":B,...R,ref:z,style:{...R.style,animation:ee?void 0:"none"}})})})});b6.displayName=Ab;var _6="PopperArrow",oG={top:"bottom",right:"left",bottom:"top",left:"right"},x6=N.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=lG(_6,a),u=oG[l.placedSide];return x.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:x.jsx(rG,{...i,ref:n,style:{...i.style,display:"block"}})})});x6.displayName=_6;function uG(t){return t!==null}var cG=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[g,v]=w6(n),_={start:"0%",center:"50%",end:"100%"}[v],w=(i.arrow?.x??0)+f/2,C=(i.arrow?.y??0)+h/2;let T="",R="";return g==="bottom"?(T=u?_:`${w}px`,R=`${-h}px`):g==="top"?(T=u?_:`${w}px`,R=`${a.floating.height+h}px`):g==="right"?(T=`${-h}px`,R=u?_:`${C}px`):g==="left"&&(T=`${a.floating.width+h}px`,R=u?_:`${C}px`),{data:{x:T,y:R}}}});function w6(t){const[e,n="center"]=t.split("-");return[e,n]}var dG=g6,fG=y6,hG=b6,mG=x6,ky="rovingFocusGroup.onEntryFocus",pG={bubbles:!1,cancelable:!0},Nm="RovingFocusGroup",[A2,S6,gG]=cS(Nm),[vG,eh]=mo(Nm,[gG]),[yG,bG]=vG(Nm),E6=N.forwardRef((t,e)=>x.jsx(A2.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(A2.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(_G,{...t,ref:e})})}));E6.displayName=Nm;var _G=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,..._}=t,w=N.useRef(null),C=ba(e,w),T=Fv(l),[R,O]=Qf({prop:u,defaultProp:f??null,onChange:h,caller:Nm}),[j,M]=N.useState(!1),z=io(g),k=S6(n),q=N.useRef(!1),[U,Y]=N.useState(0);return N.useEffect(()=>{const $=w.current;if($)return $.addEventListener(ky,z),()=>$.removeEventListener(ky,z)},[z]),x.jsx(yG,{scope:n,orientation:a,dir:T,loop:i,currentTabStopId:R,onItemFocus:N.useCallback($=>O($),[O]),onItemShiftTab:N.useCallback(()=>M(!0),[]),onFocusableItemAdd:N.useCallback(()=>Y($=>$+1),[]),onFocusableItemRemove:N.useCallback(()=>Y($=>$-1),[]),children:x.jsx(On.div,{tabIndex:j||U===0?-1:0,"data-orientation":a,..._,ref:C,style:{outline:"none",...t.style},onMouseDown:Ot(t.onMouseDown,()=>{q.current=!0}),onFocus:Ot(t.onFocus,$=>{const ne=!q.current;if($.target===$.currentTarget&&ne&&!j){const pe=new CustomEvent(ky,pG);if($.currentTarget.dispatchEvent(pe),!pe.defaultPrevented){const Ee=k().filter(G=>G.focusable),J=Ee.find(G=>G.active),he=Ee.find(G=>G.id===R),ue=[J,he,...Ee].filter(Boolean).map(G=>G.ref.current);A6(ue,v)}}q.current=!1}),onBlur:Ot(t.onBlur,()=>M(!1))})})}),C6="RovingFocusGroupItem",T6=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...f}=t,h=Lf(),g=l||h,v=bG(C6,n),_=v.currentTabStopId===g,w=S6(n),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return C(),()=>T()},[a,C,T]),x.jsx(A2.ItemSlot,{scope:n,id:g,focusable:a,active:i,children:x.jsx(On.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...f,ref:e,onMouseDown:Ot(t.onMouseDown,O=>{a?v.onItemFocus(g):O.preventDefault()}),onFocus:Ot(t.onFocus,()=>v.onItemFocus(g)),onKeyDown:Ot(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const j=SG(O,v.orientation,v.dir);if(j!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=w().filter(k=>k.focusable).map(k=>k.ref.current);if(j==="last")z.reverse();else if(j==="prev"||j==="next"){j==="prev"&&z.reverse();const k=z.indexOf(O.currentTarget);z=v.loop?EG(z,k+1):z.slice(k+1)}setTimeout(()=>A6(z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:R!=null}):u})})});T6.displayName=C6;var xG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function SG(t,e,n){const a=wG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return xG[a]}function A6(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function EG(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var Rb=E6,n1=T6,R2=["Enter"," "],CG=["ArrowDown","PageUp","Home"],R6=["ArrowUp","PageDown","End"],TG=[...CG,...R6],AG={ltr:[...R2,"ArrowRight"],rtl:[...R2,"ArrowLeft"]},RG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jm="Menu",[mm,OG,NG]=cS(jm),[Kc,O6]=mo(jm,[NG,m6,eh]),a1=m6(),N6=eh(),[jG,Fc]=Kc(jm),[MG,Mm]=Kc(jm),j6=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=t,f=a1(e),[h,g]=N.useState(null),v=N.useRef(!1),_=io(l),w=Fv(i);return N.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),x.jsx(dG,{...f,children:x.jsx(jG,{scope:e,open:n,onOpenChange:_,content:h,onContentChange:g,children:x.jsx(MG,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:w,modal:u,children:a})})})};j6.displayName=jm;var DG="MenuAnchor",Ob=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=a1(n);return x.jsx(fG,{...i,...a,ref:e})});Ob.displayName=DG;var Nb="MenuPortal",[zG,M6]=Kc(Nb,{forceMount:void 0}),D6=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,l=Fc(Nb,e);return x.jsx(zG,{scope:e,forceMount:n,children:x.jsx(Tu,{present:n||l.open,children:x.jsx(pb,{asChild:!0,container:i,children:a})})})};D6.displayName=Nb;var Vi="MenuContent",[kG,jb]=Kc(Vi),z6=N.forwardRef((t,e)=>{const n=M6(Vi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Fc(Vi,t.__scopeMenu),u=Mm(Vi,t.__scopeMenu);return x.jsx(mm.Provider,{scope:t.__scopeMenu,children:x.jsx(Tu,{present:a||l.open,children:x.jsx(mm.Slot,{scope:t.__scopeMenu,children:u.modal?x.jsx(LG,{...i,ref:e}):x.jsx(UG,{...i,ref:e})})})})}),LG=N.forwardRef((t,e)=>{const n=Fc(Vi,t.__scopeMenu),a=N.useRef(null),i=ba(e,a);return N.useEffect(()=>{const l=a.current;if(l)return SS(l)},[]),x.jsx(Mb,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ot(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),UG=N.forwardRef((t,e)=>{const n=Fc(Vi,t.__scopeMenu);return x.jsx(Mb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),PG=dm("MenuContent.ScrollLock"),Mb=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:h,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:w,onDismiss:C,disableOutsideScroll:T,...R}=t,O=Fc(Vi,n),j=Mm(Vi,n),M=a1(n),z=N6(n),k=OG(n),[q,U]=N.useState(null),Y=N.useRef(null),$=ba(e,Y,O.onContentChange),ne=N.useRef(0),pe=N.useRef(""),Ee=N.useRef(0),J=N.useRef(null),he=N.useRef("right"),de=N.useRef(0),ue=T?gb:N.Fragment,G=T?{as:PG,allowPinchZoom:!0}:void 0,ee=ae=>{const B=pe.current+ae,te=k().filter(it=>!it.disabled),we=document.activeElement,Ce=te.find(it=>it.ref.current===we)?.textValue,qe=te.map(it=>it.textValue),st=$G(qe,B,Ce),Ie=te.find(it=>it.textValue===st)?.ref.current;(function it(bt){pe.current=bt,window.clearTimeout(ne.current),bt!==""&&(ne.current=window.setTimeout(()=>it(""),1e3))})(B),Ie&&setTimeout(()=>Ie.focus())};N.useEffect(()=>()=>window.clearTimeout(ne.current),[]),mS();const Q=N.useCallback(ae=>he.current===J.current?.side&&WG(ae,J.current?.area),[]);return x.jsx(kG,{scope:n,searchRef:pe,onItemEnter:N.useCallback(ae=>{Q(ae)&&ae.preventDefault()},[Q]),onItemLeave:N.useCallback(ae=>{Q(ae)||(Y.current?.focus(),U(null))},[Q]),onTriggerLeave:N.useCallback(ae=>{Q(ae)&&ae.preventDefault()},[Q]),pointerGraceTimerRef:Ee,onPointerGraceIntentChange:N.useCallback(ae=>{J.current=ae},[]),children:x.jsx(ue,{...G,children:x.jsx(mb,{asChild:!0,trapped:i,onMountAutoFocus:Ot(l,ae=>{ae.preventDefault(),Y.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:x.jsx(hb,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:w,onDismiss:C,children:x.jsx(Rb,{asChild:!0,...z,dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:q,onCurrentTabStopIdChange:U,onEntryFocus:Ot(h,ae=>{j.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(hG,{role:"menu","aria-orientation":"vertical","data-state":$6(O.open),"data-radix-menu-content":"",dir:j.dir,...M,...R,ref:$,style:{outline:"none",...R.style},onKeyDown:Ot(R.onKeyDown,ae=>{const te=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,we=ae.ctrlKey||ae.altKey||ae.metaKey,Ce=ae.key.length===1;te&&(ae.key==="Tab"&&ae.preventDefault(),!we&&Ce&&ee(ae.key));const qe=Y.current;if(ae.target!==qe||!TG.includes(ae.key))return;ae.preventDefault();const Ie=k().filter(it=>!it.disabled).map(it=>it.ref.current);R6.includes(ae.key)&&Ie.reverse(),KG(Ie)}),onBlur:Ot(t.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(ne.current),pe.current="")}),onPointerMove:Ot(t.onPointerMove,pm(ae=>{const B=ae.target,te=de.current!==ae.clientX;if(ae.currentTarget.contains(B)&&te){const we=ae.clientX>de.current?"right":"left";he.current=we,de.current=ae.clientX}}))})})})})})})});z6.displayName=Vi;var BG="MenuGroup",Db=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return x.jsx(On.div,{role:"group",...a,ref:e})});Db.displayName=BG;var HG="MenuLabel",k6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return x.jsx(On.div,{...a,ref:e})});k6.displayName=HG;var Tv="MenuItem",T5="menu.itemSelect",r1=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,l=N.useRef(null),u=Mm(Tv,t.__scopeMenu),f=jb(Tv,t.__scopeMenu),h=ba(e,l),g=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const w=new CustomEvent(T5,{bubbles:!0,cancelable:!0});_.addEventListener(T5,C=>a?.(C),{once:!0}),uS(_,w),w.defaultPrevented?g.current=!1:u.onClose()}};return x.jsx(L6,{...i,ref:h,disabled:n,onClick:Ot(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),g.current=!0},onPointerUp:Ot(t.onPointerUp,_=>{g.current||_.currentTarget?.click()}),onKeyDown:Ot(t.onKeyDown,_=>{const w=f.searchRef.current!=="";n||w&&_.key===" "||R2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});r1.displayName=Tv;var L6=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=t,u=jb(Tv,n),f=N6(n),h=N.useRef(null),g=ba(e,h),[v,_]=N.useState(!1),[w,C]=N.useState("");return N.useEffect(()=>{const T=h.current;T&&C((T.textContent??"").trim())},[l.children]),x.jsx(mm.ItemSlot,{scope:n,disabled:a,textValue:i??w,children:x.jsx(n1,{asChild:!0,...f,focusable:!a,children:x.jsx(On.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:g,onPointerMove:Ot(t.onPointerMove,pm(T=>{a?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ot(t.onPointerLeave,pm(T=>u.onItemLeave(T))),onFocus:Ot(t.onFocus,()=>_(!0)),onBlur:Ot(t.onBlur,()=>_(!1))})})})}),GG="MenuCheckboxItem",U6=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return x.jsx(q6,{scope:t.__scopeMenu,checked:n,children:x.jsx(r1,{role:"menuitemcheckbox","aria-checked":Av(n)?"mixed":n,...i,ref:e,"data-state":kb(n),onSelect:Ot(i.onSelect,()=>a?.(Av(n)?!0:!n),{checkForDefaultPrevented:!1})})})});U6.displayName=GG;var P6="MenuRadioGroup",[qG,VG]=Kc(P6,{value:void 0,onValueChange:()=>{}}),B6=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,l=io(a);return x.jsx(qG,{scope:t.__scopeMenu,value:n,onValueChange:l,children:x.jsx(Db,{...i,ref:e})})});B6.displayName=P6;var H6="MenuRadioItem",G6=N.forwardRef((t,e)=>{const{value:n,...a}=t,i=VG(H6,t.__scopeMenu),l=n===i.value;return x.jsx(q6,{scope:t.__scopeMenu,checked:l,children:x.jsx(r1,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":kb(l),onSelect:Ot(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});G6.displayName=H6;var zb="MenuItemIndicator",[q6,YG]=Kc(zb,{checked:!1}),V6=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,l=YG(zb,n);return x.jsx(Tu,{present:a||Av(l.checked)||l.checked===!0,children:x.jsx(On.span,{...i,ref:e,"data-state":kb(l.checked)})})});V6.displayName=zb;var IG="MenuSeparator",Y6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return x.jsx(On.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});Y6.displayName=IG;var ZG="MenuArrow",I6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=a1(n);return x.jsx(mG,{...i,...a,ref:e})});I6.displayName=ZG;var XG="MenuSub",[zV,Z6]=Kc(XG),I0="MenuSubTrigger",X6=N.forwardRef((t,e)=>{const n=Fc(I0,t.__scopeMenu),a=Mm(I0,t.__scopeMenu),i=Z6(I0,t.__scopeMenu),l=jb(I0,t.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:h}=l,g={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=f.current;return()=>{window.clearTimeout(_),h(null)}},[f,h]),x.jsx(Ob,{asChild:!0,...g,children:x.jsx(L6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$6(n.open),...t,ref:Kv(e,i.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ot(t.onPointerMove,pm(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Ot(t.onPointerLeave,pm(_=>{v();const w=n.content?.getBoundingClientRect();if(w){const C=n.content?.dataset.side,T=C==="right",R=T?-5:5,O=w[T?"left":"right"],j=w[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:w.top},{x:j,y:w.top},{x:j,y:w.bottom},{x:O,y:w.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ot(t.onKeyDown,_=>{const w=l.searchRef.current!=="";t.disabled||w&&_.key===" "||AG[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});X6.displayName=I0;var K6="MenuSubContent",F6=N.forwardRef((t,e)=>{const n=M6(Vi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Fc(Vi,t.__scopeMenu),u=Mm(Vi,t.__scopeMenu),f=Z6(K6,t.__scopeMenu),h=N.useRef(null),g=ba(e,h);return x.jsx(mm.Provider,{scope:t.__scopeMenu,children:x.jsx(Tu,{present:a||l.open,children:x.jsx(mm.Slot,{scope:t.__scopeMenu,children:x.jsx(Mb,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:g,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&h.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ot(t.onFocusOutside,v=>{v.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ot(t.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Ot(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),w=RG[u.dir].includes(v.key);_&&w&&(l.onOpenChange(!1),f.trigger?.focus(),v.preventDefault())})})})})})});F6.displayName=K6;function $6(t){return t?"open":"closed"}function Av(t){return t==="indeterminate"}function kb(t){return Av(t)?"indeterminate":t?"checked":"unchecked"}function KG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function FG(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function $G(t,e,n){const i=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=FG(t,Math.max(l,0));i.length===1&&(u=u.filter(g=>g!==n));const h=u.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function QG(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],h=e[u],g=f.x,v=f.y,_=h.x,w=h.y;v>a!=w>a&&n<(_-g)*(a-v)/(w-v)+g&&(i=!i)}return i}function WG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return QG(n,e)}function pm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var JG=j6,eq=Ob,tq=D6,nq=z6,aq=Db,rq=k6,iq=r1,sq=U6,lq=B6,oq=G6,uq=V6,cq=Y6,dq=I6,fq=X6,hq=F6,i1="DropdownMenu",[mq]=mo(i1,[O6]),Ar=O6(),[pq,Q6]=mq(i1),W6=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:f=!0}=t,h=Ar(e),g=N.useRef(null),[v,_]=Qf({prop:i,defaultProp:l??!1,onChange:u,caller:i1});return x.jsx(pq,{scope:e,triggerId:Lf(),triggerRef:g,contentId:Lf(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(w=>!w),[_]),modal:f,children:x.jsx(JG,{...h,open:v,onOpenChange:_,dir:a,modal:f,children:n})})};W6.displayName=i1;var J6="DropdownMenuTrigger",e8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,l=Q6(J6,n),u=Ar(n);return x.jsx(eq,{asChild:!0,...u,children:x.jsx(On.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:Kv(e,l.triggerRef),onPointerDown:Ot(t.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:Ot(t.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});e8.displayName=J6;var gq="DropdownMenuPortal",t8=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Ar(e);return x.jsx(tq,{...a,...n})};t8.displayName=gq;var n8="DropdownMenuContent",a8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Q6(n8,n),l=Ar(n),u=N.useRef(!1);return x.jsx(nq,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:e,onCloseAutoFocus:Ot(t.onCloseAutoFocus,f=>{u.current||i.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Ot(t.onInteractOutside,f=>{const h=f.detail.originalEvent,g=h.button===0&&h.ctrlKey===!0,v=h.button===2||g;(!i.modal||v)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a8.displayName=n8;var vq="DropdownMenuGroup",yq=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(aq,{...i,...a,ref:e})});yq.displayName=vq;var bq="DropdownMenuLabel",r8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(rq,{...i,...a,ref:e})});r8.displayName=bq;var _q="DropdownMenuItem",i8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(iq,{...i,...a,ref:e})});i8.displayName=_q;var xq="DropdownMenuCheckboxItem",wq=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(sq,{...i,...a,ref:e})});wq.displayName=xq;var Sq="DropdownMenuRadioGroup",s8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(lq,{...i,...a,ref:e})});s8.displayName=Sq;var Eq="DropdownMenuRadioItem",l8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(oq,{...i,...a,ref:e})});l8.displayName=Eq;var Cq="DropdownMenuItemIndicator",o8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(uq,{...i,...a,ref:e})});o8.displayName=Cq;var Tq="DropdownMenuSeparator",u8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(cq,{...i,...a,ref:e})});u8.displayName=Tq;var Aq="DropdownMenuArrow",c8=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(dq,{...i,...a,ref:e})});c8.displayName=Aq;var Rq="DropdownMenuSubTrigger",Oq=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(fq,{...i,...a,ref:e})});Oq.displayName=Rq;var Nq="DropdownMenuSubContent",jq=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return x.jsx(hq,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jq.displayName=Nq;var Ly=W6,Uy=e8,Py=t8,By=a8,A5=r8,Bi=i8,R5=s8,iu=l8,Ef=o8,Cf=u8,Mq=c8,Dq="Separator",O5="horizontal",zq=["horizontal","vertical"],d8=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=O5,...i}=t,l=kq(a)?a:O5,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return x.jsx(On.div,{"data-orientation":l,...f,...i,ref:e})});d8.displayName=Dq;function kq(t){return zq.includes(t)}var Lq=d8,f8="Toggle",h8=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:i,...l}=t,[u,f]=Qf({prop:n,onChange:i,defaultProp:a??!1,caller:f8});return x.jsx(On.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Ot(t.onClick,()=>{t.disabled||f(!u)})})});h8.displayName=f8;var Au="ToggleGroup",[m8,p8]=mo(Au,[eh]),g8=eh(),Lb=Oe.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const i=a;return x.jsx(Uq,{...i,ref:e})}if(n==="multiple"){const i=a;return x.jsx(Pq,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Au}\``)});Lb.displayName=Au;var[v8,y8]=m8(Au),Uq=Oe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Qf({prop:n,defaultProp:a??"",onChange:i,caller:Au});return x.jsx(v8,{scope:t.__scopeToggleGroup,type:"single",value:Oe.useMemo(()=>u?[u]:[],[u]),onItemActivate:f,onItemDeactivate:Oe.useCallback(()=>f(""),[f]),children:x.jsx(b8,{...l,ref:e})})}),Pq=Oe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Qf({prop:n,defaultProp:a??[],onChange:i,caller:Au}),h=Oe.useCallback(v=>f((_=[])=>[..._,v]),[f]),g=Oe.useCallback(v=>f((_=[])=>_.filter(w=>w!==v)),[f]);return x.jsx(v8,{scope:t.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:h,onItemDeactivate:g,children:x.jsx(b8,{...l,ref:e})})});Lb.displayName=Au;var[Bq,Hq]=m8(Au),b8=Oe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:i=!0,orientation:l,dir:u,loop:f=!0,...h}=t,g=g8(n),v=Fv(u),_={role:"group",dir:v,...h};return x.jsx(Bq,{scope:n,rovingFocus:i,disabled:a,children:i?x.jsx(Rb,{asChild:!0,...g,orientation:l,dir:v,loop:f,children:x.jsx(On.div,{..._,ref:e})}):x.jsx(On.div,{..._,ref:e})})}),Rv="ToggleGroupItem",_8=Oe.forwardRef((t,e)=>{const n=y8(Rv,t.__scopeToggleGroup),a=Hq(Rv,t.__scopeToggleGroup),i=g8(t.__scopeToggleGroup),l=n.value.includes(t.value),u=a.disabled||t.disabled,f={...t,pressed:l,disabled:u},h=Oe.useRef(null);return a.rovingFocus?x.jsx(n1,{asChild:!0,...i,focusable:!u,active:l,ref:h,children:x.jsx(N5,{...f,ref:e})}):x.jsx(N5,{...f,ref:e})});_8.displayName=Rv;var N5=Oe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...i}=t,l=y8(Rv,n),u={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},f=l.type==="single"?u:void 0;return x.jsx(h8,{...f,...i,ref:e,onPressedChange:h=>{h?l.onItemActivate(a):l.onItemDeactivate(a)}})}),Gq=Lb,qq=_8,Ub="Toolbar",[Vq]=mo(Ub,[eh,p8]),Pb=eh(),x8=p8(),[Yq,w8]=Vq(Ub),S8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:i,loop:l=!0,...u}=t,f=Pb(n),h=Fv(i);return x.jsx(Yq,{scope:n,orientation:a,dir:h,children:x.jsx(Rb,{asChild:!0,...f,orientation:a,dir:h,loop:l,children:x.jsx(On.div,{role:"toolbar","aria-orientation":a,dir:h,...u,ref:e})})})});S8.displayName=Ub;var E8="ToolbarSeparator",C8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=w8(E8,n);return x.jsx(Lq,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});C8.displayName=E8;var Iq="ToolbarButton",T8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Pb(n);return x.jsx(n1,{asChild:!0,...i,focusable:!t.disabled,children:x.jsx(On.button,{type:"button",...a,ref:e})})});T8.displayName=Iq;var Zq="ToolbarLink",Xq=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Pb(n);return x.jsx(n1,{asChild:!0,...i,focusable:!0,children:x.jsx(On.a,{...a,ref:e,onKeyDown:Ot(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});Xq.displayName=Zq;var A8="ToolbarToggleGroup",R8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=w8(A8,n),l=x8(n);return x.jsx(Gq,{"data-orientation":i.orientation,dir:i.dir,...l,...a,ref:e,rovingFocus:!1})});R8.displayName=A8;var Kq="ToolbarToggleItem",O8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=x8(n),l={__scopeToolbar:t.__scopeToolbar};return x.jsx(T8,{asChild:!0,...l,children:x.jsx(qq,{...i,...a,ref:e})})});O8.displayName=Kq;var Fq=S8,$q=C8,j5=R8,Tc=O8;function Qq(t){return en({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function M5({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:i,onEraserClick:l,tool:u,setTool:f}){return x.jsxs(Fq,{className:"flex px-6 py-3 md:px-5 w-full mx-5 sm:px-5 sm:w-fit sm:py-2 rounded-lg bg-white border-2 border-zinc-300 shadow-sm  justify-center max-sm:gap-3 ",children:[x.jsxs(j5,{type:"single",className:"flex gap-2 sm:gap-0.5",children:[x.jsx(Tc,{value:"task",children:x.jsxs("div",{className:"add-task add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:t,children:[x.jsx(AR,{className:"text-2xl"}),x.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task  Q"}),x.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"Q"})]})}),x.jsx(Tc,{value:"todo",children:x.jsxs("div",{className:"add-todo add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:()=>e(),children:[x.jsx(ER,{className:"text-2xl md:text-xl"}),x.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do  W"}),x.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"W"})]})}),x.jsx(Tc,{value:"annotate",children:x.jsxs("div",{onClick:()=>i(),className:"add-annotate relative group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[x.jsx(SR,{className:"text-2xl md:text-xl"}),x.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Text  E"}),x.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"E"})]})})]}),x.jsx($q,{className:"w-px my-3 mx-2 bg-black"}),x.jsxs(j5,{type:"single",value:u,onValueChange:h=>{h&&f(h)},className:"flex gap-2 sm:gap-0.5",children:[x.jsx(Tc,{value:"hand",className:"group",children:x.jsxs("div",{className:"pan-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[x.jsx(jR,{className:"-rotate-[45deg] text-2xl md:text-xl group-data-[state=on]:stroke-blue-500 sm:text-xl"}),x.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Hand  1 or Z"}),x.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"1"})]})}),x.jsx(Tc,{value:"select",className:"group",onClick:a,children:x.jsxs("div",{className:"select-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[x.jsx(RR,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),x.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select  2 or X"}),x.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"2"})]})}),x.jsx(Tc,{value:"draw",className:"group",onClick:n,children:x.jsxs("div",{className:"draw-canvas relative flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[x.jsx(I3,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),x.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw  3 or C"}),x.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"3"})]})}),x.jsx(Tc,{value:"eraser",className:"group",onClick:l,children:x.jsxs("div",{className:"eraser-canvas add-shape relative group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[x.jsx(Qq,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-red-500 group-data-[state=on]:stroke-2",style:{strokeWidth:.5}}),x.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Eraser  4 or V"}),x.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-red-500",children:"4"})]})})]})]})}async function N8(t){const{data:e,error:n}=await Jt.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;const{data:a,error:i}=await Jt.from("canvas").insert({owner_id:t}).select("canvas_id").single();return i?(console.error("Error creating canvas:",i),null):a.canvas_id}async function Wq(t,e){try{const{data:n,error:a}=await Jt.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function D5(t){try{const{data:e,error:n}=await Jt.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function z5(t,e){try{const{data:n}=await Jt.auth.getUser();if(!n?.user||t==="local")return await new Promise(l=>{const u=indexedDB.open("CanvasDB"),f={local_color:"local",color:e||"#ffffff",updatedAt:Date.now()};u.onsuccess=()=>{const g=u.result.transaction("BackgroundColor","readwrite");g.objectStore("BackgroundColor").put(f),g.oncomplete=()=>l(!0),g.onerror=()=>l(!0)},u.onerror=()=>l(!0)}),{success:!0,canvasId:"local"};const{error:i}=await Jt.from("canvas").update({background_color:e}).eq("canvas_id",t);i&&console.error(i)}catch(n){console.error("Error on update canvas color function: ",n)}}async function k5(t){try{const{data:e}=await Jt.auth.getUser();if(!e?.user||t==="local")return new Promise(l=>{const u=indexedDB.open("CanvasDB");u.onsuccess=()=>{const h=u.result.transaction(["BackgroundColor"],"readonly"),v=h.objectStore("BackgroundColor").get("local");h.oncomplete=()=>{const _=v.result;l(_?_.color:"#ffffff")}},u.onerror=()=>{l("#ffffff")}});const{data:a,error:i}=await Jt.from("canvas").select("background_color").eq("canvas_id",t).single();return i?(console.error(i),"#ffffff"):a.background_color}catch(e){console.error("Error on get canvas color function: ",e)}}async function Jq(t,e){return await new Promise(n=>{const a=indexedDB.open("CanvasDB"),i={canvas_viewport:e||"local",x:t.x,y:t.y,scale:t.scale,updatedAt:Date.now()};a.onsuccess=()=>{const u=a.result.transaction(["Viewport"],"readwrite");u.objectStore("Viewport").put(i),u.oncomplete=()=>n(!0),u.onerror=()=>n(!0)},a.onerror=()=>n(!0)}),{success:!0,canvasId:"local"}}async function qg(t,e){try{const{data:n}=await Jt.auth.getUser(),a=n?.user;if(!a||e==="local")return await new Promise(C=>{const T=indexedDB.open("CanvasDB"),R={local_canvas:"local",canvasData:t,updatedAt:Date.now()},O={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};T.onsuccess=()=>{const M=T.result.transaction(["Canvas","Viewport"],"readwrite"),z=M.objectStore("Canvas"),k=M.objectStore("Viewport");z.put(R),k.put(O),M.oncomplete=()=>C(!0),M.onerror=()=>C(!0)},T.onerror=()=>C(!0)}),{success:!0,canvasId:"local"};if(!a)return{success:!0};let i=e;if(!i&&(i=await N8(a.id),!i))return{success:!1,error:"Failed to get canvas"};if(Jq(t.viewport,e),!t||!t.shapes||!t.connectors)return console.warn("Incomplete data"),{success:!0,canvasId:i};const{data:l,error:u}=await Jt.from("shapes").select("shape_id, shape_data").eq("canvas_id",i);if(u)return console.error("Fetch error:",u),{success:!1,error:u.message};const f=new Map(l?.map(C=>[C.shape_data.id,C.shape_id])||[]),h=new Set([...t.shapes.map(C=>C.id),...t.connectors.map(C=>C.id)]),g=l?.filter(C=>!h.has(C.shape_data.id)).map(C=>C.shape_id)||[];g.length>0&&await Jt.from("shapes").delete().in("shape_id",g);const v=t.shapes.map(C=>({shape_id:f.get(C.id)||crypto.randomUUID(),canvas_id:i,shape_data:C})),_=t.connectors.map(C=>({shape_id:f.get(C.id)||crypto.randomUUID(),canvas_id:i,shape_data:C})),w=[...v,..._];if(w.length>0){const{error:C}=await Jt.from("shapes").upsert(w,{onConflict:"shape_id",ignoreDuplicates:!1});if(C)return console.error("Upsert error:",C),{success:!1,error:C.message}}return{success:!0,canvasId:i}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}const eV=async t=>new Promise(e=>{const n=indexedDB.open("CanvasDB");n.onsuccess=()=>{const i=n.result.transaction("Viewport","readonly"),u=i.objectStore("Viewport").get(t||"local");i.oncomplete=()=>{const f=u.result;e(f||{x:0,y:0,scale:1})}},n.onerror=()=>{e({x:0,y:0,scale:1})}});async function Vg(t){try{const{data:{user:e}}=await Jt.auth.getUser();if(!e||t==="local")return new Promise(R=>{const O=indexedDB.open("CanvasDB");O.onsuccess=()=>{const M=O.result.transaction(["Canvas","Viewport"],"readonly"),k=M.objectStore("Canvas").get("local"),U=M.objectStore("Viewport").get("local");k.onerror=()=>R({success:!1,error:"Failed to get canvas data"}),U.onerror=()=>R({success:!1,error:"Failed to get canvas viewport"}),M.oncomplete=()=>{const Y=k.result,$=U.result;if(!Y){R({success:!1,error:"No offline canvas found"});return}$&&(Y.canvasData.viewport=$),R({success:!0,data:Y.canvasData,canvasId:Y.local_canvas})}}});let n=t;if(!n&&(n=await N8(e.id),!n))return{success:!1,error:"Failed to get or create canvas"};const{data:a,error:i}=await Jt.from("shapes").select("shape_data").eq("canvas_id",n);if(i)return{success:!1,error:i.message};const l=a.filter(R=>R.shape_data.shape==="rect").map(R=>R.shape_data),u=a.filter(R=>R.shape_data.shape==="line").map(R=>R.shape_data),f=a.filter(R=>R.shape_data.shape==="todo").map(R=>R.shape_data),h=a.filter(R=>R.shape_data.shape==="connector").map(R=>R.shape_data),g=[...l,...u,...f],v=Array.from(new Map(g.map(R=>[R.id,R])).values()),_=Array.from(new Map(h.map(R=>[R.id,R])).values()),w=new Set;v.forEach(R=>{w.add(R.id),w.add(`group-${R.id}`)});const C=_.filter(R=>{const O=w.has(R.from),j=w.has(R.to);return!O||!j?(console.warn("Removing orphaned connector:",{id:R.id,from:R.from,to:R.to,fromExists:O,toExists:j}),!1):!0}),T=await eV(n);return{success:!0,data:{shapes:v,connectors:C,viewport:T},canvasId:n}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function tV(t){try{const{data:{user:e}}=await Jt.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await Jt.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function nV(){try{const{data:{user:t}}=await Jt.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await Jt.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}async function aV(t,e){try{const{data:{user:n}}=await Jt.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await Jt.from("canvas").update({canvas_name:e,updated_at:new Date().toISOString()}).eq("canvas_id",t).eq("owner_id",n.id);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("updateCanvasName error:",n),{success:!1,error:String(n)}}}async function rV(t){try{const{data:{user:e}}=await Jt.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await Jt.from("shapes").delete().eq("canvas_id",t);if(n)return{success:!1,error:n.message};const{error:a}=await Jt.from("canvas").delete().eq("canvas_id",t).eq("owner_id",e.id);return a?{success:!1,error:a.message}:{success:!0}}catch(e){return console.error("deleteCanvasById error:",e),{success:!1,error:String(e)}}}const iV=async()=>{let t,e,n=4;return new Promise(a=>{t=indexedDB.open("CanvasDB",n),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||e.createObjectStore("Canvas",{keyPath:"local_canvas"}),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"}),e.objectStoreNames.contains("BackgroundColor")||e.createObjectStore("BackgroundColor",{keyPath:"local_color"})},t.onsuccess=()=>{e=t.result,n=e.version,a(!0)},t.onerror=()=>{a(!1)}})},sV=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await iV()||console.error("InitDb - Something went wrong"))},[])});function lV(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function oV(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M186.301 339.893L96 249.461l-32 30.507L186.301 402 448 140.506 416 110z"},child:[]}]})(t)}function uV(t){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function cV(t){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function dV(t){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"path",attr:{d:"M12 17h.01"},child:[]}]})(t)}function fV({message:t,type:e}){const n={loading:"#facc15",success:"#22c55e",empty:"#9ca3af",error:"#ef4444"};return x.jsxs("div",{style:{position:"fixed",bottom:20,right:20,padding:"10px 14px",background:n[e],color:"#111",borderRadius:8,fontSize:14,fontWeight:500,boxShadow:"0 8px 20px rgba(0,0,0,0.25)",zIndex:9999,transition:"background 0.25s ease"},children:[e==="success"&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(oV,{color:"#000000"}),t]}),e==="error"&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(uV,{color:"#000000"}),t]}),e==="loading"&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cV,{color:"#000000"}),t]}),e==="empty"&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(dV,{color:"#000000"}),t]})]})}function hV(){const{init:t}=sV(),{session:e}=lS(),[n,a]=N.useState([]),[i,l]=N.useState(100),[u,f]=N.useState({x:0,y:0}),[h,g]=N.useState(!1),[v,_]=N.useState(!1),[w,C]=N.useState(!1),[T,R]=N.useState([]),[O,j]=N.useState([]),[M,z]=N.useState("hand"),k=_m(),[q,U]=N.useState(null),[Y,$]=N.useState(null),[ne,pe]=N.useState(null),[Ee,J]=N.useState(!1),[he,de]=N.useState(null),[ue,G]=N.useState(null),[ee,Q]=N.useState([]),{pushUndo:ae,undo:B,redo:te}=fb(),[we,Ce]=N.useState(!1),[qe,st]=N.useState(""),[Ie,it]=N.useState(null),[bt,vn]=N.useState(""),[xe,Me]=N.useState(!0),[ut,lt]=N.useState("#ffffff"),[at,_t]=N.useState("#000"),[cn,tn]=N.useState(!1),[na,$a]=N.useState(!1),[K,oe]=N.useState(null),{setIsOpen:ge}=D9(),Le=(H,V)=>{oe({message:H,type:V}),V!=="loading"&&setTimeout(()=>oe(null),3e3)};lV({shapes:T,connectors:O},1e3,()=>{!ue||T.length===0||qg({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue)});const[Pe,ke]=N.useState(!1);N.useEffect(()=>{const H=window.matchMedia("(max-width: 639px)"),V=()=>ke(H.matches);return V(),H.addEventListener("change",V),()=>H.removeEventListener("change",V)},[]);const Ze=xe&&Pe,Qe=xe&&!Pe;N.useEffect(()=>{let H=!0;return localStorage.getItem("tourCompleted")!=="true"&&(ge(!0),localStorage.setItem("tourCompleted","true")),(async()=>{if(await t(),Le("Loading objects...","loading"),!e){const Be=await Vg("local");if(!H)return;if(Be.success){R(Be.data.shapes),j(Be.data.connectors),f({x:Be.data.viewport.x,y:Be.data.viewport.y}),l(Math.round(Be.data.viewport.scale*100)),G("local");const Ke=Be.data.shapes.length+Be.data.connectors.length;Ke===0?Le("No objects found.","empty"):Le(`Loaded ${Ke} objects`,"success"),setTimeout(()=>oe(null),3e3)}else j([]),R([]),Le("Create your first object!","empty");G("local"),Q([]);return}const ye=await Vg(ue);if(!H)return;if(ye.success){R(ye.data.shapes),G(ye.canvasId),j(ye.data.connectors),f({x:ye.data.viewport.x,y:ye.data.viewport.y}),l(Math.round(ye.data.viewport.scale*100));const Be=ye.data.shapes.length+ye.data.connectors.length;Be===0?Le("No objects found.","empty"):Le(`Loaded ${Be} object(s)`,"success"),setTimeout(()=>oe(null),3e3)}else console.error("Failed to load canvas:",ye.error);const Se=await D5(e.user.id);if(!H)return;Se.success?Q(Se.canvases||[]):console.error("Failed to load canvas list:",Se.error);const Ye=await nV();H&&(Ye.success?de(Ye.data.avatar_url):console.error("Failed to load user profile:",Ye.error))})(),()=>{H=!1}},[t,e,ue,ge]),N.useEffect(()=>{const H=setTimeout(()=>{z5(ue||"local",ut)},500);return()=>clearTimeout(H)},[ut,ue]),N.useEffect(()=>{(async()=>{if(ue){const H=await k5(ue);H&&lt(H)}else{const H=await k5("local");H&&lt(H)}})()},[ue]),N.useEffect(()=>{!e&&ue==="local"&&T.length>=5&&!cn&&($a(!0),tn(!0)),(e||T.length<5)&&tn(!1)},[e,T.length,ue,cn]);const vt=(H,V)=>{pe(H),$(V),C(!0),_(!0)},nn=()=>{pe(null),$(null),C(!1),_(!1)},La=H=>{U(H),g(!0),C(!0)},Ua=()=>{U(null),g(!1),C(!1)},wa=(H,V)=>{const ye=new Date(H.date).toISOString(),Se={id:"todo-"+Date.now().toString(),x:V?V.x+400:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:V?V.y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),color:H.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:H.title,description:"",dueDate:ye,completed:H.completed,assignee:e?.user.email??"Guest",status:"Something",parents:V?V.id:""};R([...T,Se]),V&&(R(Ye=>Ye.map(Be=>Be.shape==="rect"&&Be.id===V.id?{...Be,children:[...Be.children,"group-"+Se.id]}:Be)),Wa(Se,V,Se.id)),ae({before:Se,after:Se,action:"add",id:Se.id})},Qa=H=>{z("hand");const V={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),width:300,height:200,color:H.color,title:H.title,description:H.description,dueDate:H.date,completed:!1,isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};R([...T,V]),ae({before:V,after:V,action:"add"})},Wa=(H,V,ye)=>{const Se=H instanceof Zf.Node?H.id():"group-"+H.id,Ye=V instanceof Zf.Node?V.id():"group-"+V.id,Be={shape:"connector",id:"connector-"+Date.now().toString(),from:Se,to:Ye};j([...O,Be]),ae({before:Be,after:Be,action:"add",id:ye||void 0})},aa=()=>{const H={id:"text-"+Date.now().toString(),x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),fontSize:20,text:"Insert your text here",shape:"text",behavior:"decor",scaleX:1,scaleY:1,width:200,color:"black"};R([...T,H]),ae({before:H,after:H,action:"add"})},Kr=(H,V)=>{R(ye=>ye.map(Se=>Se.id===H.id?{...Se,title:V.title,description:V.description,color:V.color,dueDate:V.date}:Se))},mr=(H,V)=>{R(ye=>ye.map(Se=>Se.id===H.id?{...Se,title:V.title,dueDate:V.date,completed:V.completed,color:V.color}:Se))},Rr=()=>{z(M==="draw"?"hand":"draw")},hi=()=>{z(M==="eraser"?"hand":"eraser")},Or=()=>{z(M==="select"?"hand":"select")},As=()=>new Promise((H,V)=>{const ye=indexedDB.open("CanvasDB");ye.onsuccess=()=>{const Ye=ye.result.transaction("Canvas","readwrite");Ye.objectStore("Canvas").clear(),Ye.oncomplete=()=>{H()},Ye.onerror=()=>{console.error("Failed to clear IndexedDB shapes"),V()}},ye.onerror=()=>V()}),Pa=async()=>{if(R([]),j([]),ue==="local")await As();else if(ue){const H=await tV(ue);H.success||console.error("Failed to delete canvas from supabase",H.error)}},xl=async()=>{J(!0);try{await Jt.auth.signOut();const H=await Vg("local");H.success?(R(H.data.shapes),j(H.data.connectors),f(H.data.viewport),l(Math.round(H.data.viewport.scale*100)),G("local")):(R([]),j([]),G(null)),await new Promise(V=>setTimeout(V,2e3))}catch{}finally{J(!1)}},mi=async()=>{J(!0);try{await qg({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue||null)}catch{Le("Error saving objects.","error")}finally{J(!1)}},pi=async H=>{J(!0);try{ue&&H&&H!==ue&&await qg({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue);const V=await Vg(H||null);V.success?(R(V.data.shapes),j(V.data.connectors),G(V.canvasId)):Le(V.error,"error")}catch(V){console.error("Load error:",V)}finally{J(!1)}},Fr=async H=>{if(!e){console.warn("No session");return}J(!0);try{ue&&await qg({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue);const V=await Wq(e.user.id,H||`Canvas ${ee.length+1}`);if(V.success&&V.canvasId){R([]),j([]),G(V.canvasId);const ye=await D5(e.user.id);ye.success&&Q(ye.canvases||[])}else console.error("Create failed:",V.error)}catch(V){console.error("Create canvas error:",V)}finally{J(!1)}},Xi=async H=>{H!==ue&&await pi(H)},gi=async H=>{if(bt.trim()){J(!0);try{const V=await aV(H,bt);V.success?(Q(ye=>ye.map(Se=>Se.canvas_id===H?{...Se,canvas_name:bt}:Se)),it(null),vn("")):console.error("Failed to update canvas name:",V.error)}catch(V){console.error("Error updating canvas name:",V)}finally{J(!1)}}},X=async(H,V)=>{if(window.confirm(`Are you sure you want to delete "${V}"? This action cannot be undone.`)){J(!0);try{const Se=await rV(H);if(Se.success){if(Q(Ye=>Ye.filter(Be=>Be.canvas_id!==H)),ue===H){const Ye=ee.filter(Be=>Be.canvas_id!==H);Ye.length>0?await Xi(Ye[0].canvas_id):(R([]),j([]),G(null))}}else console.error("Failed to delete canvas:",Se.error)}catch(Se){console.error("Error deleting canvas:",Se)}finally{J(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"relative w-screen h-100dvh overflow-hidden ",children:[x.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[x.jsx("div",{className:"more-options",children:x.jsxs(Ly,{children:[x.jsx(Uy,{asChild:!0,children:x.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:x.jsx(xR,{})})}),x.jsx(Py,{children:x.jsxs(By,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 max-h-[50dvh]  overflow-y-scroll rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white ",children:[x.jsx(Bi,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:x.jsxs("div",{className:"flex items-center gap-2",onClick:mi,children:[x.jsx(Dx,{}),"Save"]})}),x.jsx(Bi,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:H=>H.preventDefault(),children:x.jsxs(M0,{children:[x.jsx(Hg,{asChild:!0,children:x.jsxs("div",{className:"flex items-center gap-2 w-full",children:[x.jsx(Mx,{}),"My Canvases (",ee.length,")"]})}),x.jsxs(D0,{children:[x.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),x.jsxs(k0,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-xl p-4 sm:p-6 rounded-lg z-101",children:[x.jsxs(L0,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[x.jsx(Mx,{}),"My Canvases"]}),x.jsx(U0,{asChild:!0,children:x.jsx("div",{className:"my-4",children:x.jsx("div",{className:"grid grid-cols-1 gap-3",children:ee.length===0?x.jsx("div",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):ee.map(H=>x.jsxs("div",{className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        transition-all
                                        ${ue===H.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[x.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80",onClick:()=>{Ie!==H.canvas_id&&Xi(H.canvas_id)},children:[x.jsx(Dx,{className:"w-5 h-5 text-blue-600"}),x.jsxs("div",{className:"flex-1",children:[Ie===H.canvas_id?x.jsx("input",{type:"text",value:bt,onChange:V=>vn(V.target.value),onKeyDown:V=>{V.key===" "&&V.stopPropagation(),V.key==="Enter"?gi(H.canvas_id):V.key==="Escape"&&(it(null),vn(""))},className:"font-medium text-gray-800 border-2 border-blue-400 rounded px-2 py-1 w-full",autoFocus:!0,onClick:V=>V.stopPropagation()}):x.jsx("span",{className:"font-medium text-gray-800",children:H.canvas_name||"Untitled"}),H.created_at&&x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(H.created_at).toLocaleDateString()]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[ue===H.canvas_id&&x.jsx("span",{className:"text-xs text-blue-600 font-medium mr-2",children:"Current"}),Ie===H.canvas_id?x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:V=>{V.stopPropagation(),gi(H.canvas_id)},className:"p-2 hover:bg-green-100 rounded transition-colors",title:"Save",children:x.jsx(CR,{className:"w-4 h-4 text-green-600"})}),x.jsx("button",{onClick:V=>{V.stopPropagation(),it(null),vn("")},className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Cancel",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:V=>{V.stopPropagation(),it(H.canvas_id),vn(H.canvas_name||"")},className:"p-2 hover:bg-blue-100 rounded transition-colors",title:"Edit name",children:x.jsx(I3,{className:"w-4 h-4 text-blue-600"})}),x.jsx("button",{onClick:V=>{V.stopPropagation(),X(H.canvas_id,H.canvas_name)},className:"p-2 hover:bg-red-100 rounded transition-colors",title:"Delete canvas",children:x.jsx(Lx,{className:"w-4 h-4 text-red-600"})})]})]})]},H.canvas_id))})})}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx(Sf,{asChild:!0,children:x.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),x.jsx(Cf,{}),x.jsx(Bi,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:x.jsxs("div",{className:"flex items-center gap-2",onClick:()=>Ce(!0),children:[x.jsx(DR,{}),x.jsx("span",{children:Ee?"Creating":"New Canvas"})]})}),x.jsx(Bi,{onSelect:H=>H.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:x.jsxs(M0,{children:[x.jsx(Hg,{asChild:!0,children:x.jsxs("button",{className:"flex items-center gap-2",children:[x.jsx(Lx,{}),"Clear Canvas"]})}),x.jsxs(D0,{children:[x.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),x.jsxs(k0,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] max-w-sm sm:max-w-md p-4 sm:p-6 rounded-lg z-101",children:[x.jsx(L0,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),x.jsx(U0,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),x.jsxs("div",{className:"flex justify-end gap-4",children:[x.jsx(Sf,{asChild:!0,children:x.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),x.jsx(My,{asChild:!0,children:x.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:Pa,children:"Yes, clear canvas"})})]})]})]})]})}),x.jsx(Cf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),x.jsx(Bi,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:x.jsx("a",{href:"https://github.com/x3nozite/rect-up",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(tP,{}),"Github"]})})}),x.jsx(Bi,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:x.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(zx,{}),"Feedback & Support"]})})}),x.jsx(Bi,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:x.jsxs("div",{onClick:()=>ge(!0),className:"flex items-center gap-2",children:[x.jsx(_R,{}),"Redo Tutorial"]})}),x.jsx(Bi,{onSelect:H=>H.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:x.jsxs(M0,{children:[x.jsx(Hg,{asChild:!0,children:x.jsxs("button",{className:"flex items-center gap-2",children:[x.jsx(MR,{}),"How to Use?"]})}),x.jsxs(D0,{children:[x.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),x.jsxs(k0,{className:"overflow-y-auto bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80dvw] md:w-[70dvw] xl:w-[40dvw] p-4 sm:p-6 rounded-lg z-101 h-[70dvh]",children:[x.jsx(L0,{className:"text-2xl font-bold mb-2",children:x.jsxs("div",{className:"w-full flex flex-row justify-between items-center",children:[x.jsx("span",{children:"Rect-Up Documentation"}),x.jsx(Sf,{asChild:!0,children:x.jsx("button",{className:"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})}),x.jsxs("div",{className:"main flex flex-col gap-4",children:[x.jsxs(U0,{className:"mt-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"Introduction"}),x.jsx("span",{children:"Rect-Up is a simple visual planning canvas where you can organize work as Tasks, break them into Todos, add Text notes, and use canvas tools to navigate or sketch ideas."})]}),x.jsx("hr",{}),x.jsx("div",{className:"explanation-1",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"1. Add Task"}),x.jsxs("span",{children:["The ",x.jsx("b",{children:"Add Task"})," feature allows you to create a task card that represents a specific piece of work, goal, or milestone on the canvas."]}),x.jsx("img",{src:"/rect-up/task.gif",alt:"Add Task demo",className:"w-full h-70 object-scale-down"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),x.jsxs("ol",{className:"list-decimal list-inside",children:[x.jsxs("li",{children:["Click ",x.jsx("b",{children:"Add Task"})," on the toolbar."]}),x.jsxs("li",{children:["Fill in the ",x.jsx("b",{children:"Title"})," and"," ",x.jsx("b",{children:"Description"}),"."]}),x.jsxs("li",{children:["Choose a ",x.jsx("b",{children:"Color"})," and set a"," ",x.jsx("b",{children:"Due Date"}),"."]}),x.jsxs("li",{children:["Click ",x.jsx("b",{children:"Create"})," to place the task on the canvas."]})]})]})]})}),x.jsx("hr",{}),x.jsx("div",{className:"explanation-2",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"2. Add Todo"}),x.jsxs("span",{children:["The ",x.jsx("b",{children:"Add Todo"})," feature lets you create smaller checklist items or sub-tasks. Todos help you break down bigger tasks into manageable steps."]}),x.jsx("img",{src:"/rect-up/todo.gif",alt:"Add Todo demo",className:"w-full h-70 object-scale-down"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),x.jsxs("ol",{className:"list-decimal list-inside",children:[x.jsxs("li",{children:["Click ",x.jsx("b",{children:"Add Todo"})," on the toolbar."]}),x.jsxs("li",{children:["Enter a ",x.jsx("b",{children:"Title"}),", choose a"," ",x.jsx("b",{children:"Color"}),", and set a ",x.jsx("b",{children:"Due Date"}),"."]}),x.jsxs("li",{children:["Toggle ",x.jsx("b",{children:"Completed"})," if the todo is already done."]}),x.jsxs("li",{children:["Click ",x.jsx("b",{children:"Submit"})," to add it to the canvas."]})]})]})]})}),x.jsx("hr",{}),x.jsx("div",{className:"explanation-3",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"3. Add Text"}),x.jsxs("span",{children:["The ",x.jsx("b",{children:"Add Text"})," feature allows you to place free labels on the canvas such as headings, notes, reminders, or section titles."]}),x.jsx("img",{src:"/rect-up/text.gif",alt:"Add Text demo",className:"w-full h-70 object-scale-down"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),x.jsxs("ol",{className:"list-decimal list-inside",children:[x.jsxs("li",{children:["Click ",x.jsx("b",{children:"Add Text"})," on the toolbar."]}),x.jsx("li",{children:"A text item will appear with a default message."}),x.jsx("li",{children:"Drag it to the position you want."}),x.jsx("li",{children:"Click the text to edit the content."})]})]})]})}),x.jsx("hr",{}),x.jsx("div",{className:"explanation-4",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"4. New Canvas"}),x.jsxs("span",{children:[x.jsx("b",{children:"New Canvas"})," creates a fresh workspace so you can separate boards by project, class, or topic."]}),x.jsx("img",{src:"/rect-up/createcanvas.gif",alt:"Create New Canvas demo",className:"w-full h-70 object-scale-down"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),x.jsxs("ol",{className:"list-decimal list-inside",children:[x.jsxs("li",{children:["Click the ",x.jsx("b",{children:" Menu"})," button."]}),x.jsxs("li",{children:["Select ",x.jsx("b",{children:"New Canvas"}),"."]}),x.jsx("li",{children:"Type a canvas name."}),x.jsxs("li",{children:["Click ",x.jsx("b",{children:"Create Canvas"}),"."]}),x.jsxs("li",{children:["To switch canvases, open"," ",x.jsx("b",{children:"My Canvases"})," from the menu."]})]})]})]})}),x.jsx("hr",{}),x.jsx("div",{className:"explanation-5",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"5. Clear Canvas"}),x.jsxs("span",{children:[x.jsx("b",{children:"Clear Canvas"})," removes all shapes and connectors from your current canvas. This action cannot be undone once confirmed."]}),x.jsx("img",{src:"/rect-up/clearcanvas.gif",alt:"Clear Canvas demo",className:"w-full h-70 object-scale-down"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),x.jsxs("ol",{className:"list-decimal list-inside",children:[x.jsxs("li",{children:["Click the ",x.jsx("b",{children:" Menu"})," button."]}),x.jsxs("li",{children:["Select ",x.jsx("b",{children:"Clear Canvas"}),"."]}),x.jsxs("li",{children:["Confirm by clicking"," ",x.jsx("b",{children:"Yes, clear canvas"}),"."]})]})]})]})}),x.jsx("hr",{}),x.jsx("div",{className:"explanation-6",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"6. Canvas Tools"}),x.jsx("span",{children:"Canvas tools control how you interact with the canvas. Only one tool can be active at a time."}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-md font-bold",children:"Select"}),x.jsxs("span",{children:["The ",x.jsx("b",{children:"Select"})," tool allows you to select, move, resize, or transform the objects on the canvas."]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-md font-bold",children:"Hand"}),x.jsxs("span",{children:["The ",x.jsx("b",{children:"Hand"})," tool lets you pan around the canvas without moving objects. You can also double-click the shapes to edit them."]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-md font-bold",children:"Draw"}),x.jsxs("span",{children:["The ",x.jsx("b",{children:"Draw"})," tool lets you sketch freely. You can change the stroke color from the menu."]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-md font-bold",children:"Eraser"}),x.jsxs("span",{children:["The ",x.jsx("b",{children:"Eraser"})," tool removes drawn strokes from the canvas."]})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),x.jsxs("ol",{className:"list-decimal list-inside",children:[x.jsx("li",{children:"Select a tool from the toolbar."}),x.jsx("li",{children:"Use the canvas based on the selected mode (select, pan, draw, or erase)."}),x.jsxs("li",{children:["Switch back to ",x.jsx("b",{children:"Hand"})," when you want to navigate freely."]})]})]})]})]})}),x.jsx("hr",{}),x.jsx("div",{className:"explanation-7",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-xl font-bold",children:"7. Quick Controls"}),x.jsx("span",{children:"These controls help you navigate and manage changes while working."}),x.jsxs("ul",{className:"list-disc list-inside",children:[x.jsxs("li",{children:[x.jsx("b",{children:"Zoom In/Out:"})," Use the magnifier buttons to zoom the canvas."]}),x.jsxs("li",{children:[x.jsx("b",{children:"Reset Zoom:"})," Click the percentage button (e.g. 100%) to reset."]}),x.jsxs("li",{children:[x.jsx("b",{children:"Undo / Redo:"})," Use the left/right arrows to undo or redo actions."]}),x.jsxs("li",{children:[x.jsx("b",{children:"Toolbar Visibility:"})," Click the eye icon to hide/show the toolbar."]})]})]})})]}),x.jsx("div",{className:"flex justify-end gap-4",children:x.jsx(Sf,{asChild:!0,children:x.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),x.jsx(Cf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),x.jsx(A5,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Stroke Color"}),x.jsx(R5,{value:at,onValueChange:_t,className:"py-1 pl-2 ",children:x.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[x.jsx(iu,{value:"#000",className:"group",children:x.jsx("div",{className:"p-4 relative bg-[#000] border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),x.jsxs(iu,{value:"#e7000b",className:"group",children:[x.jsx("div",{className:"p-4 bg-[#e7000b] border-red-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-red-400"}),x.jsx(Ef,{})]}),x.jsxs(iu,{value:"#155dfc",className:"group",children:[x.jsx("div",{className:"p-4 bg-[#155dfc] border-2 border-blue-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-blue-400"}),x.jsx(Ef,{})]}),x.jsxs(iu,{value:"#009966",className:"group",children:[x.jsx("div",{className:"p-4 bg-[#009966] border-2 border-emerald-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-emerald-400"}),x.jsx(Ef,{})]})]})}),x.jsx(Cf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),x.jsx(A5,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),x.jsx(R5,{value:ut,onValueChange:lt,className:"py-1 pl-2 ",children:x.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[x.jsx(iu,{value:"#ffffff",className:"group",children:x.jsx("div",{className:"p-4 relative bg-white border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),x.jsxs(iu,{value:"#fff7ed",className:"group",children:[x.jsx("div",{className:"p-4 bg-orange-50 border-orange-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-orange-400"}),x.jsx(Ef,{})]}),x.jsxs(iu,{value:"#f5f3ff",className:"group",children:[x.jsx("div",{className:"p-4 bg-violet-50 border-2 border-indigo-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-violet-400"}),x.jsx(Ef,{})]}),x.jsxs(iu,{value:"#f0fdfa",className:"group",children:[x.jsx("div",{className:"p-4 bg-teal-50 border-2 border-cyan-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-teal-400"}),x.jsx(Ef,{})]})]})})]})})]})}),x.jsx("div",{className:"tool-bar-desk absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:Qe&&x.jsx("div",{className:"tool-bar z-100",children:x.jsx(M5,{onShapeClick:()=>La(null),onTodoClick:()=>vt(null,null),onTextClick:aa,onEraserClick:hi,onClearClick:Pa,onDrawClick:Rr,onSelectClick:Or,isActive:M==="eraser"||M==="draw",tool:M,setTool:z})})}),x.jsxs("div",{className:"user-account",children:[x.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&x.jsx("div",{children:x.jsxs(Ly,{children:[x.jsx(Uy,{asChild:!0,children:x.jsx("button",{children:x.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[x.jsx(T0,{className:"text-lg"}),x.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[x.jsx("span",{className:"text-xs",children:"Manage Account"}),x.jsx(TR,{className:"text-xs"})]})]})})}),x.jsx(Py,{children:x.jsxs(By,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[x.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[x.jsx("div",{children:he?x.jsx("img",{src:he,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):x.jsx(T0,{className:"text-3xl text-blue-500"})}),x.jsxs("div",{className:"flex flex-col items-center justify-center",children:[x.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name||e?.user.user_metadata.username}),x.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),x.jsx(Cf,{className:"h-[2px] my-2 bg-gray-500"}),x.jsx(Bi,{onSelect:H=>H.preventDefault(),children:x.jsxs(M0,{children:[x.jsx(Hg,{asChild:!0,children:x.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[x.jsx(oy,{}),x.jsx("span",{children:"Sign Out"})]})}),x.jsxs(D0,{children:[x.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),x.jsxs(k0,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[x.jsx(L0,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),x.jsx(U0,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),x.jsxs("div",{className:"flex justify-end gap-4",children:[x.jsx(Sf,{asChild:!0,children:x.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),x.jsx(My,{asChild:!0,children:x.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await xl()},children:[x.jsx(oy,{}),"Sign Out"]})})]})]})]})]})}),x.jsx(Mq,{className:"fill-purple-100"})]})})]})}),Ee&&x.jsx("div",{children:x.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:x.jsxs("div",{role:"status",children:[x.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),x.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),x.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&x.jsx(XU,{title:"Sign In",onClick:async()=>{k("/signin")}}),!e&&x.jsx(ZU,{title:"Create Account",onClick:()=>k("/create-acc")})]}),x.jsxs("div",{className:"account-mobile flex lg:hidden",children:[x.jsxs(Ly,{children:[x.jsx(Uy,{asChild:!0,children:x.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:x.jsx(T0,{})})}),x.jsx(Py,{children:x.jsxs(By,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&x.jsxs("div",{children:[x.jsx(Bi,{children:x.jsxs("div",{onClick:async()=>{k("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[x.jsx(kx,{}),x.jsx("span",{children:"Sign In"})]})}),x.jsx(Bi,{children:x.jsxs("div",{onClick:()=>k("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[x.jsx(T0,{}),x.jsx("span",{children:"Create Account"})]})})]}),e&&x.jsxs("div",{children:[x.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[x.jsx("div",{className:"pb-2",children:he?x.jsx("img",{src:he,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):x.jsx(T0,{className:"text-2xl"})}),x.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[x.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),x.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),x.jsx(Cf,{className:"h-px my-2 bg-gray-500"}),x.jsx(Bi,{children:x.jsxs("div",{onClick:async()=>{await xl()},className:"inline-flex items-center justify-start gap-2 ",children:[x.jsx(oy,{className:"text-sm font-semibold"}),x.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),Ee&&x.jsx("div",{children:x.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:x.jsxs("div",{role:"status",children:[x.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),x.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),x.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),x.jsxs("div",{className:"absolute pb-4 bottom-bar flex flex-col   inset-x-0 gap-2 w-full bottom-0",children:[x.jsxs("div",{className:"flex flex-row w-full justify-between px-5",children:[x.jsxs("div",{className:"flex flex-row gap-2",children:[x.jsxs("div",{className:" items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit inline-flex",children:[x.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>{if(i===10)return;const H={x:window.innerWidth/2,y:window.innerHeight/2},V=i/100,ye=(i-10)/100,Se={x:(H.x-u.x)/V,y:(H.y-u.y)/V};f({x:H.x-Se.x*ye,y:H.y-Se.y*ye}),l(Math.max(i-10,10))},children:x.jsx(LR,{})}),x.jsxs("button",{onClick:()=>{const H={x:window.innerWidth/2,y:window.innerHeight/2},V=i/100,ye={x:(H.x-u.x)/V*-1,y:(H.y-u.y)/V*-1};l(100),f({x:ye.x+window.innerWidth/2,y:ye.y+window.innerHeight/2})},className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[i,"%",x.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),x.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>{if(i===500)return;const H={x:window.innerWidth/2,y:window.innerHeight/2},V=i/100,ye=(i+10)/100,Se={x:(H.x-u.x)/V,y:(H.y-u.y)/V};f({x:H.x-Se.x*ye,y:H.y-Se.y*ye}),l(Math.min(i+10,500))},children:x.jsx(kR,{})})]}),x.jsxs("div",{className:" items-center z-10 gap-1 sm:gap-0 bg-green-100 border-2 border-emerald-200 rounded-xl w-fit inline-flex",children:[x.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>B(R,j),children:[x.jsx(JU,{}),x.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Undo"})]}),x.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>te(R,j),children:[x.jsx(eP,{}),x.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Redo"})]})]})]}),x.jsx("div",{className:"flex flex-row  bottom-20 md:bottom-4 right-4 gap-4",children:x.jsxs("button",{onClick:()=>Me(H=>!H),className:"items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 active:bg-red-300 hover:cursor-pointer group",children:[xe?x.jsx(NR,{}):x.jsx(OR,{}),x.jsx("span",{className:"absolute pointer-events-none right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Toolbar Visibility"})]})})]}),x.jsx("div",{className:"tool-bar-mob  z-100 sm:hidden   ",children:Ze&&x.jsx("div",{className:"tool-bar flex  w-full  justify-center",children:x.jsx(M5,{onShapeClick:()=>La(null),onTodoClick:()=>vt(null,null),onTextClick:aa,onEraserClick:hi,onClearClick:Pa,onDrawClick:Rr,onSelectClick:Or,isActive:M==="eraser"||M==="draw",tool:M,setTool:z})})})]}),v&&x.jsx(WU,{parent:ne,onUpdateTodo:mr,onAddTodo:wa,onCloseForm:nn,initialTodo:Y}),h&&x.jsx(FU,{onAddTask:Qa,onUpdateTask:Kr,onCloseForm:Ua,initialData:q}),x.jsx("div",{style:{background:ut,touchAction:"none"},children:x.jsx(IU,{shapes:T,setShapes:R,tool:M,setTool:z,setZoomValue:l,zoom:i,connectors:O,addConnector:Wa,setConnectors:j,strokeColor:at,onShapeClick:La,onAddTodo:vt,stageCoor:u,setStageCoor:f,isFormOpen:w,onTextClick:aa})})]}),x.jsx("ul",{children:n.map(H=>x.jsx("li",{children:H.name},H.name))}),x.jsx(M0,{open:we,onOpenChange:Ce,children:x.jsxs(D0,{children:[x.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),x.jsxs(k0,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-lg p-4 sm:p-5 rounded-lg z-101",children:[x.jsx(L0,{className:"text-xl font-bold mb-2",children:"New Canvas"}),x.jsx(U0,{className:"my-3 text-gray-700",children:"Enter a name for your new canvas."}),x.jsx("input",{autoFocus:!0,value:qe,onChange:H=>st(H.target.value),placeholder:"Canvas name...",className:"w-full border border-gray-300 p-2 rounded-lg mb-4"}),x.jsxs("div",{className:"flex justify-end gap-4",children:[x.jsx(Sf,{asChild:!0,children:x.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),x.jsx(My,{asChild:!0,children:x.jsx("button",{className:"bg-blue-200 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-500 hover:text-white",onClick:()=>{Fr(qe),st("")},children:"Create Canvas"})})]})]})]})}),na&&!e&&ue==="local"&&T.length>=5&&x.jsx("div",{className:"fixed bottom-24 right-5 z-500 max-w-sm animate-in slide-in-from-right",children:x.jsx("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(zx,{className:"text-blue-600 text-xl flex-shrink-0"}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-start justify-between mb-1",children:[x.jsx("h4",{className:"font-semibold text-gray-900",children:"Local Storage Reminder"}),x.jsx("button",{onClick:()=>$a(!1),className:"text-gray-400 hover:text-gray-600 -mt-1 -mr-1",children:x.jsx(zR,{})})]}),x.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[T.length," shapes saved locally. Sign in to use across different devices! (Local data will remain on this device and wont be migrated after signing in.)"]}),x.jsxs("button",{onClick:()=>k("/signin"),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 text-sm font-medium w-full flex items-center justify-center gap-1",children:[x.jsx(kx,{}),"Sign In Now"]})]})]})})}),K&&x.jsx(fV,{message:K.message,type:K.type})]})}const mV=NC([{path:"/",element:x.jsx(hV,{})},{path:"/signin",element:x.jsx(fD,{})},{path:"/create-acc",element:x.jsx(mD,{})},{path:"/reset-password",element:x.jsx(gD,{})}]);function pV({children:t}){const[e,n]=N.useState([]),[a,i]=N.useState([]);function l(h){n(g=>[...g,h]),i([])}function u(h,g){const v=e.at(-1);if(!v)return;let _,w=[];for(_=[...e],w=[];_.length>0;){const C=_.at(-1);if(!C)return;const T=C.before;if(C.action==="add")T.shape==="connector"?(h(O=>O.map(j=>j.shape==="todo"?{...j,parents:j.parents===T.to?"":j.parents}:j.shape!=="rect"?j:{...j,children:j.children.filter(M=>M!==T.from),parents:j.parents===T.to?"":j.parents})),g(O=>O.filter(j=>j.id!==T.id))):h(O=>O.filter(j=>j.id!==T.id));else if(C.action==="update"){if(T.shape==="connector")return;h(O=>O.map(j=>j.id===T.id?{...j,...T}:j))}else T.shape==="connector"?(g(O=>[...O,T]),h(O=>O.map(j=>j.shape!=="rect"&&j.shape!=="todo"?j:"group-"+j.id===T.from?{...j,parents:T.to}:j.shape==="rect"&&"group-"+j.id===T.to?{...j,children:[...j.children,T.from]}:j))):h(O=>[...O,T]);w.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||!v.id||R.id!==v.id)break}n(_),i(C=>[...C,...w])}function f(h,g){const v=a.at(-1);if(!v)return;let _=[...a],w=[];for(w=[];_.length>0;){const C=_.at(-1);if(!C)break;const T=C.after;if(C.action==="add")T.shape==="connector"?(g(O=>[...O,T]),h(O=>O.map(j=>j.shape==="todo"?{...j,parents:"group-"+j.id===T.to?T.from:j.parents}:j.shape!=="rect"?j:{...j,children:"group-"+j.id===T.to?[...j.children,T.from]:j.children}))):h(O=>[...O,T]);else if(C.action==="update"){if(T.shape==="connector")return;h(O=>O.map(j=>j.id===T.id?{...j,...T}:j))}else C.action==="delete"&&(T.shape==="connector"?(g(O=>O.filter(j=>j.id!==T.id)),h(O=>O.map(j=>j.shape==="todo"?{...j,parents:j.parents===T.to?"":j.parents}:j.shape!=="rect"?j:{...j,children:j.children.filter(M=>M!==T.from),parents:j.parents===T.to?"":j.parents}))):h(O=>O.filter(j=>j.id!==T.id)));w.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||R.id!==v.id)break}i(_),n(C=>[...C,...w])}return x.jsx(rS.Provider,{value:{undoStack:e,redoStack:a,pushUndo:l,undo:u,redo:f},children:t})}const gV=[{selector:".tool-bar",content:"This is your main toolbox. Here you can select shapes, draw freely with the pencil, erase mistakes, and more."},{selector:".add-task",content:"The Task shape represents a big task or subject. Use it to add main tasks on your canvas that can hold smaller Todos. Later, you can double click the shape to edit it."},{selector:".add-todo",content:"The Todo shape represents smaller tasks that belong to a Task. You can connect them to Task shapes to organize your workflow. Later, you can double click the shape to edit it."},{selector:".pan-canvas",content:"The Hand tool lets you pan around the canvas. Click and drag to move the view without modifying shapes."},{selector:".select-canvas",content:"Use the Select tool to pick one or multiple shapes. You can move, resize, or transform them on the canvas."},{selector:".draw-canvas",content:"The Draw tool allows freehand sketching. Click and drag to draw custom lines or annotations."},{selector:".eraser-canvas",content:"Use the Eraser to remove unwanted shapes or drawings from your canvas."},{selector:".canvas-wrapper",content:"This is your workspace. Add Tasks and Todos, connect them, and experiment with the tools!"},{selector:".more-options",content:"Head over to our 'How to use' section to learn more!"}];function vV(){return x.jsx($U,{children:x.jsx(pV,{children:x.jsx(M9,{steps:gV,onClickMask:()=>{},children:x.jsx(VC,{router:mV})})})})}U5.createRoot(document.getElementById("root")).render(x.jsx(vV,{}));
