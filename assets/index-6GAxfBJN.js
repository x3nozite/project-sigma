function C8(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function T8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var T1={exports:{}},f0={};var e_;function A8(){if(e_)return f0;e_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return f0.Fragment=e,f0.jsx=n,f0.jsxs=n,f0}var t_;function R8(){return t_||(t_=1,T1.exports=A8()),T1.exports}var E=R8(),A1={exports:{}},d0={},R1={exports:{}},O1={};var n_;function O8(){return n_||(n_=1,(function(t){function e(B,ue){var $=B.length;B.push(ue);e:for(;0<$;){var me=$-1>>>1,G=B[me];if(0<i(G,ue))B[me]=ue,B[$]=G,$=me;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var ue=B[0],$=B.pop();if($!==ue){B[0]=$;e:for(var me=0,G=B.length,ae=G>>>1;me<ae;){var Ee=2*(me+1)-1,Q=B[Ee],be=Ee+1,ke=B[be];if(0>i(Q,$))be<G&&0>i(ke,Q)?(B[me]=ke,B[be]=$,me=be):(B[me]=Q,B[Ee]=$,me=Ee);else if(be<G&&0>i(ke,$))B[me]=ke,B[be]=$,me=be;else break e}}return ue}function i(B,ue){var $=B.sortIndex-ue.sortIndex;return $!==0?$:B.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var g=[],m=[],v=1,_=null,S=3,C=!1,T=!1,R=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var ue=n(m);ue!==null;){if(ue.callback===null)a(m);else if(ue.startTime<=B)a(m),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(m)}}function H(B){if(R=!1,P(B),!T)if(n(g)!==null)T=!0,k||(k=!0,he());else{var ue=n(m);ue!==null&&Se(H,ue.startTime-B)}}var k=!1,Y=-1,F=5,oe=-1;function _e(){return O?!0:!(t.unstable_now()-oe<F)}function xe(){if(O=!1,k){var B=t.unstable_now();oe=B;var ue=!0;try{e:{T=!1,R&&(R=!1,j(Y),Y=-1),C=!0;var $=S;try{t:{for(P(B),_=n(g);_!==null&&!(_.expirationTime>B&&_e());){var me=_.callback;if(typeof me=="function"){_.callback=null,S=_.priorityLevel;var G=me(_.expirationTime<=B);if(B=t.unstable_now(),typeof G=="function"){_.callback=G,P(B),ue=!0;break t}_===n(g)&&a(g),P(B)}else a(g);_=n(g)}if(_!==null)ue=!0;else{var ae=n(m);ae!==null&&Se(H,ae.startTime-B),ue=!1}}break e}finally{_=null,S=$,C=!1}ue=void 0}}finally{ue?he():k=!1}}}var he;if(typeof z=="function")he=function(){z(xe)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ye=ge.port2;ge.port1.onmessage=xe,he=function(){ye.postMessage(null)}}else he=function(){M(xe,0)};function Se(B,ue){Y=M(function(){B(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(B){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var $=S;S=ue;try{return B()}finally{S=$}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(B,ue){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=S;S=B;try{return ue()}finally{S=$}},t.unstable_scheduleCallback=function(B,ue,$){var me=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?me+$:me):$=me,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,B={id:v++,callback:ue,priorityLevel:B,startTime:$,expirationTime:G,sortIndex:-1},$>me?(B.sortIndex=$,e(m,B),n(g)===null&&B===n(m)&&(R?(j(Y),Y=-1):R=!0,Se(H,$-me))):(B.sortIndex=G,e(g,B),T||C||(T=!0,k||(k=!0,he()))),B},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(B){var ue=S;return function(){var $=S;S=ue;try{return B.apply(this,arguments)}finally{S=$}}}})(O1)),O1}var a_;function h2(){return a_||(a_=1,R1.exports=O8()),R1.exports}var N1={exports:{}},jt={};var r_;function N8(){if(r_)return jt;r_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(G,ae,Ee){this.props=G,this.context=ae,this.refs=R,this.updater=Ee||C}O.prototype.isReactComponent={},O.prototype.setState=function(G,ae){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ae,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=O.prototype;function j(G,ae,Ee){this.props=G,this.context=ae,this.refs=R,this.updater=Ee||C}var z=j.prototype=new M;z.constructor=j,T(z,O.prototype),z.isPureReactComponent=!0;var P=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function Y(G,ae,Ee,Q,be,ke){return Ee=ke.ref,{$$typeof:t,type:G,key:ae,ref:Ee!==void 0?Ee:null,props:ke}}function F(G,ae){return Y(G.type,ae,void 0,void 0,void 0,G.props)}function oe(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function _e(G){var ae={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ee){return ae[Ee]})}var xe=/\/+/g;function he(G,ae){return typeof G=="object"&&G!==null&&G.key!=null?_e(""+G.key):ae.toString(36)}function ge(){}function ye(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ge,ge):(G.status="pending",G.then(function(ae){G.status==="pending"&&(G.status="fulfilled",G.value=ae)},function(ae){G.status==="pending"&&(G.status="rejected",G.reason=ae)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Se(G,ae,Ee,Q,be){var ke=typeof G;(ke==="undefined"||ke==="boolean")&&(G=null);var Me=!1;if(G===null)Me=!0;else switch(ke){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(G.$$typeof){case t:case e:Me=!0;break;case v:return Me=G._init,Se(Me(G._payload),ae,Ee,Q,be)}}if(Me)return be=be(G),Me=Q===""?"."+he(G,0):Q,P(be)?(Ee="",Me!=null&&(Ee=Me.replace(xe,"$&/")+"/"),Se(be,ae,Ee,"",function(mt){return mt})):be!=null&&(oe(be)&&(be=F(be,Ee+(be.key==null||G&&G.key===be.key?"":(""+be.key).replace(xe,"$&/")+"/")+Me)),ae.push(be)),1;Me=0;var Ke=Q===""?".":Q+":";if(P(G))for(var nt=0;nt<G.length;nt++)Q=G[nt],ke=Ke+he(Q,nt),Me+=Se(Q,ae,Ee,ke,be);else if(nt=S(G),typeof nt=="function")for(G=nt.call(G),nt=0;!(Q=G.next()).done;)Q=Q.value,ke=Ke+he(Q,nt++),Me+=Se(Q,ae,Ee,ke,be);else if(ke==="object"){if(typeof G.then=="function")return Se(ye(G),ae,Ee,Q,be);throw ae=String(G),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Me}function B(G,ae,Ee){if(G==null)return G;var Q=[],be=0;return Se(G,Q,"","",function(ke){return ae.call(Ee,ke,be++)}),Q}function ue(G){if(G._status===-1){var ae=G._result;ae=ae(),ae.then(function(Ee){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ee)},function(Ee){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ee)}),G._status===-1&&(G._status=0,G._result=ae)}if(G._status===1)return G._result.default;throw G._result}var $=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function me(){}return jt.Children={map:B,forEach:function(G,ae,Ee){B(G,function(){ae.apply(this,arguments)},Ee)},count:function(G){var ae=0;return B(G,function(){ae++}),ae},toArray:function(G){return B(G,function(ae){return ae})||[]},only:function(G){if(!oe(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},jt.Component=O,jt.Fragment=n,jt.Profiler=i,jt.PureComponent=j,jt.StrictMode=a,jt.Suspense=g,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,jt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return H.H.useMemoCache(G)}},jt.cache=function(G){return function(){return G.apply(null,arguments)}},jt.cloneElement=function(G,ae,Ee){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Q=T({},G.props),be=G.key,ke=void 0;if(ae!=null)for(Me in ae.ref!==void 0&&(ke=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!k.call(ae,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ae.ref===void 0||(Q[Me]=ae[Me]);var Me=arguments.length-2;if(Me===1)Q.children=Ee;else if(1<Me){for(var Ke=Array(Me),nt=0;nt<Me;nt++)Ke[nt]=arguments[nt+2];Q.children=Ke}return Y(G.type,be,void 0,void 0,ke,Q)},jt.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},jt.createElement=function(G,ae,Ee){var Q,be={},ke=null;if(ae!=null)for(Q in ae.key!==void 0&&(ke=""+ae.key),ae)k.call(ae,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(be[Q]=ae[Q]);var Me=arguments.length-2;if(Me===1)be.children=Ee;else if(1<Me){for(var Ke=Array(Me),nt=0;nt<Me;nt++)Ke[nt]=arguments[nt+2];be.children=Ke}if(G&&G.defaultProps)for(Q in Me=G.defaultProps,Me)be[Q]===void 0&&(be[Q]=Me[Q]);return Y(G,ke,void 0,void 0,null,be)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(G){return{$$typeof:d,render:G}},jt.isValidElement=oe,jt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:ue}},jt.memo=function(G,ae){return{$$typeof:m,type:G,compare:ae===void 0?null:ae}},jt.startTransition=function(G){var ae=H.T,Ee={};H.T=Ee;try{var Q=G(),be=H.S;be!==null&&be(Ee,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(me,$)}catch(ke){$(ke)}finally{H.T=ae}},jt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},jt.use=function(G){return H.H.use(G)},jt.useActionState=function(G,ae,Ee){return H.H.useActionState(G,ae,Ee)},jt.useCallback=function(G,ae){return H.H.useCallback(G,ae)},jt.useContext=function(G){return H.H.useContext(G)},jt.useDebugValue=function(){},jt.useDeferredValue=function(G,ae){return H.H.useDeferredValue(G,ae)},jt.useEffect=function(G,ae,Ee){var Q=H.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(G,ae)},jt.useId=function(){return H.H.useId()},jt.useImperativeHandle=function(G,ae,Ee){return H.H.useImperativeHandle(G,ae,Ee)},jt.useInsertionEffect=function(G,ae){return H.H.useInsertionEffect(G,ae)},jt.useLayoutEffect=function(G,ae){return H.H.useLayoutEffect(G,ae)},jt.useMemo=function(G,ae){return H.H.useMemo(G,ae)},jt.useOptimistic=function(G,ae){return H.H.useOptimistic(G,ae)},jt.useReducer=function(G,ae,Ee){return H.H.useReducer(G,ae,Ee)},jt.useRef=function(G){return H.H.useRef(G)},jt.useState=function(G){return H.H.useState(G)},jt.useSyncExternalStore=function(G,ae,Ee){return H.H.useSyncExternalStore(G,ae,Ee)},jt.useTransition=function(){return H.H.useTransition()},jt.version="19.1.1",jt}var i_;function cv(){return i_||(i_=1,N1.exports=N8()),N1.exports}var M1={exports:{}},dr={};var s_;function M8(){if(s_)return dr;s_=1;var t=cv();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dr.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,v)},dr.flushSync=function(g){var m=u.T,v=a.p;try{if(u.T=null,a.p=2,g)return g()}finally{u.T=m,a.p=v,a.d.f()}},dr.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},dr.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},dr.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dr.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},dr.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dr.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},dr.requestFormReset=function(g){a.d.r(g)},dr.unstable_batchedUpdates=function(g,m){return g(m)},dr.useFormState=function(g,m,v){return u.H.useFormState(g,m,v)},dr.useFormStatus=function(){return u.H.useHostTransitionStatus()},dr.version="19.1.1",dr}var l_;function t3(){if(l_)return M1.exports;l_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M1.exports=M8(),M1.exports}var o_;function D8(){if(o_)return d0;o_=1;var t=h2(),e=cv(),n=t3();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,f=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(f=s.return),r=s.return;while(r)}return s.tag===3?f:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(a(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var f=r,h=s;;){var y=f.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){f=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===f)return d(y),r;if(x===h)return d(y),s;x=x.sibling}throw Error(a(188))}if(f.return!==h.return)f=y,h=x;else{for(var D=!1,U=y.child;U;){if(U===f){D=!0,f=y,h=x;break}if(U===h){D=!0,h=y,f=x;break}U=U.sibling}if(!D){for(U=x.child;U;){if(U===f){D=!0,f=x,h=y;break}if(U===h){D=!0,h=x,f=y;break}U=U.sibling}if(!D)throw Error(a(189))}}if(f.alternate!==h)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=xe&&r[xe]||r["@@iterator"],typeof r=="function"?r:null)}var ge=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ge?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case k:return"SuspenseList";case oe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case z:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case P:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case F:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}var Se=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},me=[],G=-1;function ae(r){return{current:r}}function Ee(r){0>G||(r.current=me[G],me[G]=null,G--)}function Q(r,s){G++,me[G]=r.current,r.current=s}var be=ae(null),ke=ae(null),Me=ae(null),Ke=ae(null);function nt(r,s){switch(Q(Me,s),Q(ke,r),Q(be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Rb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Rb(s),r=Ob(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ee(be),Q(be,r)}function mt(){Ee(be),Ee(ke),Ee(Me)}function St(r){r.memoizedState!==null&&Q(Ke,r);var s=be.current,f=Ob(s,r.type);s!==f&&(Q(ke,r),Q(be,f))}function gn(r){ke.current===r&&(Ee(be),Ee(ke)),Ke.current===r&&(Ee(Ke),s0._currentValue=$)}var En=Object.prototype.hasOwnProperty,ra=t.unstable_scheduleCallback,ia=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,Ha=t.unstable_requestPaint,Wn=t.unstable_now,Bi=t.unstable_getCurrentPriorityLevel,hr=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,fe=t.unstable_LowPriority,Ge=t.unstable_IdlePriority,Be=t.log,Ue=t.unstable_setDisableYieldValue,Ye=null,Qe=null;function bt(r){if(typeof Be=="function"&&Ue(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Ye,r)}catch{}}var Jt=Math.clz32?Math.clz32:pa,gr=Math.log,Ca=Math.LN2;function pa(r){return r>>>=0,r===0?32:31-(gr(r)/Ca|0)|0}var Wa=256,Oe=4194304;function De(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $t(r,s,f){var h=r.pendingLanes;if(h===0)return 0;var y=0,x=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var U=h&134217727;return U!==0?(h=U&~x,h!==0?y=De(h):(D&=U,D!==0?y=De(D):f||(f=U&~r,f!==0&&(y=De(f))))):(U=h&~x,U!==0?y=De(U):D!==0?y=De(D):f||(f=h&~r,f!==0&&(y=De(f)))),y===0?0:s!==0&&s!==y&&(s&x)===0&&(x=y&-y,f=s&-s,x>=f||x===32&&(f&4194048)!==0)?s:y}function wt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ln(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bn(){var r=Wa;return Wa<<=1,(Wa&4194048)===0&&(Wa=256),r}function Hi(){var r=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),r}function fo(r){for(var s=[],f=0;31>f;f++)s.push(r);return s}function Yr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xc(r,s,f,h,y,x){var D=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var U=r.entanglements,V=r.expirationTimes,le=r.hiddenUpdates;for(f=D&~f;0<f;){var we=31-Jt(f),Te=1<<we;U[we]=0,V[we]=-1;var de=le[we];if(de!==null)for(le[we]=null,we=0;we<de.length;we++){var pe=de[we];pe!==null&&(pe.lane&=-536870913)}f&=~Te}h!==0&&Ss(r,h,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(D&~s))}function Ss(r,s,f){r.pendingLanes|=s,r.suspendedLanes&=~s;var h=31-Jt(s);r.entangledLanes|=s,r.entanglements[h]=r.entanglements[h]|1073741824|f&4194090}function xs(r,s){var f=r.entangledLanes|=s;for(r=r.entanglements;f;){var h=31-Jt(f),y=1<<h;y&s|r[h]&s&&(r[h]|=s),f&=~y}}function Gi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ho(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function pl(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:Kb(r.type))}function I(r,s){var f=ue.p;try{return ue.p=r,s()}finally{ue.p=f}}var ee=Math.random().toString(36).slice(2),se="__reactFiber$"+ee,Ae="__reactProps$"+ee,Pe="__reactContainer$"+ee,Je="__reactEvents$"+ee,rt="__reactListeners$"+ee,Xe="__reactHandles$"+ee,$e="__reactResources$"+ee,it="__reactMarker$"+ee;function at(r){delete r[se],delete r[Ae],delete r[Je],delete r[rt],delete r[Xe]}function Fe(r){var s=r[se];if(s)return s;for(var f=r.parentNode;f;){if(s=f[Pe]||f[se]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(r=jb(r);r!==null;){if(f=r[se])return f;r=jb(r)}return s}r=f,f=r.parentNode}return null}function xt(r){if(r=r[se]||r[Pe]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function en(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function vn(r){var s=r[$e];return s||(s=r[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(r){r[it]=!0}var cn=new Set,rn={};function Ht(r,s){Ja(r,s),Ja(r+"Capture",s)}function Ja(r,s){for(rn[r]=s,r=0;r<s.length;r++)cn.add(s[r])}var Rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),er={},ml={};function vl(r){return En.call(ml,r)?!0:En.call(er,r)?!1:Rr.test(r)?ml[r]=!0:(er[r]=!0,!1)}function tr(r,s,f){if(vl(s))if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+f)}}function Zr(r,s,f){if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+f)}}function Ta(r,s,f,h){if(h===null)r.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(s,f,""+h)}}var ct,zt;function Ga(r){if(ct===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);ct=s&&s[1]||"",zt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+r+zt}var qa=!1;function yn(r,s){if(!r||qa)return"";qa=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(pe){var de=pe}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(pe){de=pe}r.call(Te.prototype)}}else{try{throw Error()}catch(pe){de=pe}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(pe){if(pe&&de&&typeof pe.stack=="string")return[pe.stack,de.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),D=x[0],U=x[1];if(D&&U){var V=D.split(`
`),le=U.split(`
`);for(y=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;if(h===V.length||y===le.length)for(h=V.length-1,y=le.length-1;1<=h&&0<=y&&V[h]!==le[y];)y--;for(;1<=h&&0<=y;h--,y--)if(V[h]!==le[y]){if(h!==1||y!==1)do if(h--,y--,0>y||V[h]!==le[y]){var we=`
`+V[h].replace(" at new "," at ");return r.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",r.displayName)),we}while(1<=h&&0<=y);break}}}finally{qa=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?Ga(f):""}function ws(r){switch(r.tag){case 26:case 27:case 5:return Ga(r.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return yn(r.type,!1);case 11:return yn(r.type.render,!1);case 1:return yn(r.type,!0);case 31:return Ga("Activity");default:return""}}function pr(r){try{var s="";do s+=ws(r),r=r.return;while(r);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ma(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zd(r){var s=Kc(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,x=f.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){h=""+D,x.call(this,D)}}),Object.defineProperty(r,s,{enumerable:f.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Tu(r){r._valueTracker||(r._valueTracker=Zd(r))}function Id(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var f=s.getValue(),h="";return r&&(h=Kc(r)?r.checked?"true":"false":r.value),r=h,r!==f?(s.setValue(r),!0):!1}function Au(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cg=/[\n"\\]/g;function mr(r){return r.replace(cg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fc(r,s,f,h,y,x,D,U){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),s!=null?D==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ma(s)):r.value!==""+ma(s)&&(r.value=""+ma(s)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),s!=null?$c(r,D,ma(s)):f!=null?$c(r,D,ma(f)):h!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.name=""+ma(U):r.removeAttribute("name")}function Qc(r,s,f,h,y,x,D,U){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),s!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;f=f!=null?""+ma(f):"",s=s!=null?""+ma(s):f,U||s===r.value||(r.value=s),r.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=U?r.checked:!!h,r.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function $c(r,s,f){s==="number"&&Au(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function go(r,s,f,h){if(r=r.options,s){s={};for(var y=0;y<f.length;y++)s["$"+f[y]]=!0;for(f=0;f<r.length;f++)y=s.hasOwnProperty("$"+r[f].value),r[f].selected!==y&&(r[f].selected=y),y&&h&&(r[f].defaultSelected=!0)}else{for(f=""+ma(f),s=null,y=0;y<r.length;y++){if(r[y].value===f){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Xd(r,s,f){if(s!=null&&(s=""+ma(s),s!==r.value&&(r.value=s),f==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=f!=null?""+ma(f):""}function Kd(r,s,f,h){if(s==null){if(h!=null){if(f!=null)throw Error(a(92));if(Se(h)){if(1<h.length)throw Error(a(93));h=h[0]}f=h}f==null&&(f=""),s=f}f=ma(s),r.defaultValue=f,h=r.textContent,h===f&&h!==""&&h!==null&&(r.value=h)}function yl(r,s){if(s){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=s;return}}r.textContent=s}var Fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qd(r,s,f){var h=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?h?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":h?r.setProperty(s,f):typeof f!="number"||f===0||Fd.has(s)?s==="float"?r.cssFloat=f:r[s]=(""+f).trim():r[s]=f+"px"}function $d(r,s,f){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,f!=null){for(var h in f)!f.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&f[y]!==h&&Qd(r,y,h)}else for(var x in s)s.hasOwnProperty(x)&&Qd(r,x,s[x])}function Wc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(r){return dg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ef=null;function Es(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qi=null,bl=null;function Ru(r){var s=xt(r);if(s&&(r=s.stateNode)){var f=r[Ae]||null;e:switch(r=s.stateNode,s.type){case"input":if(Fc(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+mr(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var h=f[s];if(h!==r&&h.form===r.form){var y=h[Ae]||null;if(!y)throw Error(a(90));Fc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<f.length;s++)h=f[s],h.form===r.form&&Id(h)}break e;case"textarea":Xd(r,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&go(r,!!f.multiple,s,!1)}}}var _l=!1;function Wd(r,s,f){if(_l)return r(s,f);_l=!0;try{var h=r(s);return h}finally{if(_l=!1,(qi!==null||bl!==null)&&(Js(),qi&&(s=qi,r=bl,bl=qi=null,Ru(s),r)))for(s=0;s<r.length;s++)Ru(r[s])}}function po(r,s){var f=r.stateNode;if(f===null)return null;var h=f[Ae]||null;if(h===null)return null;f=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=!1;if(ui)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){tf=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{tf=!1}var Vi=null,Ou=null,Nu=null;function Jd(){if(Nu)return Nu;var r,s=Ou,f=s.length,h,y="value"in Vi?Vi.value:Vi.textContent,x=y.length;for(r=0;r<f&&s[r]===y[r];r++);var D=f-r;for(h=1;h<=D&&s[f-h]===y[x-h];h++);return Nu=y.slice(r,1<h?1-h:void 0)}function vo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Mu(){return!0}function eh(){return!1}function Va(r){function s(f,h,y,x,D){this._reactName=f,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(f=r[U],this[U]=f?f(x):x[U]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Mu:eh,this.isPropagationStopped=eh,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Va(Yi),yo=v({},Yi,{view:0,detail:0}),Yv=Va(yo),th,nf,Zi,bo=v({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zi&&(Zi&&r.type==="mousemove"?(th=r.screenX-Zi.screenX,nf=r.screenY-Zi.screenY):nf=th=0,Zi=r),th)},movementY:function(r){return"movementY"in r?r.movementY:nf}}),ju=Va(bo),hg=v({},bo,{dataTransfer:0}),gg=Va(hg),af=v({},yo,{relatedTarget:0}),Sl=Va(af),rf=v({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),pg=Va(rf),mg=v({},Yi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cs=Va(mg),vg=v({},Yi,{data:0}),Ii=Va(vg),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nh[r])?!!s[r]:!1}function lf(){return yg}var xl=v({},yo,{key:function(r){if(r.key){var s=Xi[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(r){return r.type==="keypress"?vo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),of=Va(xl),bg=v({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=Va(bg),_g=v({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),Sg=Va(_g),Zv=v({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=Va(Zv),xg=v({},bo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=Va(xg),Eg=v({},Yi,{newState:0,oldState:0}),Cg=Va(Eg),Tg=[9,13,27,32],_o=ui&&"CompositionEvent"in window,wl=null;ui&&"documentMode"in document&&(wl=document.documentMode);var Ag=ui&&"TextEvent"in window&&!wl,ah=ui&&(!_o||wl&&8<wl&&11>=wl),rh=" ",cf=!1;function ff(r,s){switch(r){case"keyup":return Tg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ts=!1;function df(r,s){switch(r){case"compositionend":return ih(s);case"keypress":return s.which!==32?null:(cf=!0,rh);case"textInput":return r=s.data,r===rh&&cf?null:r;default:return null}}function sh(r,s){if(Ts)return r==="compositionend"||!_o&&ff(r,s)?(r=Jd(),Nu=Ou=Vi=null,Ts=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ah&&s.locale!=="ko"?null:s.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Rg[r.type]:s==="textarea"}function lh(r,s,f,h){qi?bl?bl.push(h):bl=[h]:qi=h,s=Cp(s,"onChange"),0<s.length&&(f=new Du("onChange","change",null,f,h),r.push({event:f,listeners:s}))}var vr=null,El=null;function Iv(r){wb(r,0)}function zu(r){var s=en(r);if(Id(s))return r}function nr(r,s){if(r==="change")return s}var oh=!1;if(ui){var Uu;if(ui){var gf="oninput"in document;if(!gf){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),gf=typeof uh.oninput=="function"}Uu=gf}else Uu=!1;oh=Uu&&(!document.documentMode||9<document.documentMode)}function pf(){vr&&(vr.detachEvent("onpropertychange",mf),El=vr=null)}function mf(r){if(r.propertyName==="value"&&zu(El)){var s=[];lh(s,El,r,Es(r)),Wd(Iv,s)}}function Og(r,s,f){r==="focusin"?(pf(),vr=s,El=f,vr.attachEvent("onpropertychange",mf)):r==="focusout"&&pf()}function vf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zu(El)}function ku(r,s){if(r==="click")return zu(s)}function Un(r,s){if(r==="input"||r==="change")return zu(s)}function Xv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var yr=typeof Object.is=="function"?Object.is:Xv;function So(r,s){if(yr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var f=Object.keys(r),h=Object.keys(s);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var y=f[h];if(!En.call(s,y)||!yr(r[y],s[y]))return!1}return!0}function xo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ki(r,s){var f=xo(r);r=0;for(var h;f;){if(f.nodeType===3){if(h=r+f.textContent.length,r<=s&&h>=s)return{node:f,offset:s-r};r=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=xo(f)}}function ch(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ch(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function fh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Au(r.document);s instanceof r.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)r=s.contentWindow;else break;s=Au(r.document)}return s}function Cl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var ci=ui&&"documentMode"in document&&11>=document.documentMode,Tl=null,Lu=null,wo=null,Pu=!1;function yf(r,s,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Pu||Tl==null||Tl!==Au(h)||(h=Tl,"selectionStart"in h&&Cl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),wo&&So(wo,h)||(wo=h,h=Cp(Lu,"onSelect"),0<h.length&&(s=new Du("onSelect","select",null,s,f),r.push({event:s,listeners:h}),s.target=Tl)))}function fi(r,s){var f={};return f[r.toLowerCase()]=s.toLowerCase(),f["Webkit"+r]="webkit"+s,f["Moz"+r]="moz"+s,f}var Al={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},bf={},Ng={};ui&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function As(r){if(bf[r])return bf[r];if(!Al[r])return r;var s=Al[r],f;for(f in s)if(s.hasOwnProperty(f)&&f in Ng)return bf[r]=s[f];return r}var dh=As("animationend"),Or=As("animationiteration"),_f=As("animationstart"),Mg=As("transitionrun"),Kv=As("transitionstart"),hh=As("transitioncancel"),Aa=As("transitionend"),gh=new Map,Ra="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ra.push("scrollEnd");function Nr(r,s){gh.set(r,s),Ht(s,[r])}var Fi=new WeakMap;function sa(r,s){if(typeof r=="object"&&r!==null){var f=Fi.get(r);return f!==void 0?f:(s={value:r,source:s,stack:pr(s)},Fi.set(r,s),s)}return{value:r,source:s,stack:pr(s)}}var Jn=[],Rs=0,Bu=0;function br(){for(var r=Rs,s=Bu=Rs=0;s<r;){var f=Jn[s];Jn[s++]=null;var h=Jn[s];Jn[s++]=null;var y=Jn[s];Jn[s++]=null;var x=Jn[s];if(Jn[s++]=null,h!==null&&y!==null){var D=h.pending;D===null?y.next=y:(y.next=D.next,D.next=y),h.pending=y}x!==0&&Ns(f,y,x)}}function Hu(r,s,f,h){Jn[Rs++]=r,Jn[Rs++]=s,Jn[Rs++]=f,Jn[Rs++]=h,Bu|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Os(r,s,f,h){return Hu(r,s,f,h),Gu(r)}function di(r,s){return Hu(r,null,null,s),Gu(r)}function Ns(r,s,f){r.lanes|=f;var h=r.alternate;h!==null&&(h.lanes|=f);for(var y=!1,x=r.return;x!==null;)x.childLanes|=f,h=x.alternate,h!==null&&(h.childLanes|=f),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&s!==null&&(y=31-Jt(f),r=x.hiddenUpdates,h=r[y],h===null?r[y]=[s]:h.push(s),s.lane=f|536870912),x):null}function Gu(r){if(50<Ri)throw Ri=0,bc=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Rl={};function qu(r,s,f,h){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(r,s,f,h){return new qu(r,s,f,h)}function Eo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hi(r,s){var f=r.alternate;return f===null?(f=ar(r.tag,s,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=s,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,s=r.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function Sf(r,s){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,s=f.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Co(r,s,f,h,y,x){var D=0;if(h=r,typeof r=="function")Eo(r)&&(D=1);else if(typeof r=="string")D=d8(r,f,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case oe:return r=ar(31,f,s,y),r.elementType=oe,r.lanes=x,r;case T:return Qi(f.children,y,x,s);case R:D=8,y|=24;break;case O:return r=ar(12,f,s,y|2),r.elementType=O,r.lanes=x,r;case H:return r=ar(13,f,s,y),r.elementType=H,r.lanes=x,r;case k:return r=ar(19,f,s,y),r.elementType=k,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case z:D=10;break e;case j:D=9;break e;case P:D=11;break e;case Y:D=14;break e;case F:D=16,h=null;break e}D=29,f=Error(a(130,r===null?"null":typeof r,"")),h=null}return s=ar(D,f,s,y),s.elementType=r,s.type=h,s.lanes=x,s}function Qi(r,s,f,h){return r=ar(7,r,h,s),r.lanes=f,r}function xf(r,s,f){return r=ar(6,r,null,s),r.lanes=f,r}function Vu(r,s,f){return s=ar(4,r.children!==null?r.children:[],r.key,s),s.lanes=f,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var la=[],Ol=0,Oa=null,Yu=0,_r=[],Mr=0,rr=null,gi=1,Ir="";function Dr(r,s){la[Ol++]=Yu,la[Ol++]=Oa,Oa=r,Yu=s}function ph(r,s,f){_r[Mr++]=gi,_r[Mr++]=Ir,_r[Mr++]=rr,rr=r;var h=gi;r=Ir;var y=32-Jt(h)-1;h&=~(1<<y),f+=1;var x=32-Jt(s)+y;if(30<x){var D=y-y%5;x=(h&(1<<D)-1).toString(32),h>>=D,y-=D,gi=1<<32-Jt(s)+y|f<<y|h,Ir=x+r}else gi=1<<x|f<<y|h,Ir=r}function wf(r){r.return!==null&&(Dr(r,1),ph(r,1,0))}function Ef(r){for(;r===Oa;)Oa=la[--Ol],la[Ol]=null,Yu=la[--Ol],la[Ol]=null;for(;r===rr;)rr=_r[--Mr],_r[Mr]=null,Ir=_r[--Mr],_r[Mr]=null,gi=_r[--Mr],_r[Mr]=null}var Na=null,On=null,It=!1,Nl=null,pi=!1,mh=Error(a(519));function Ms(r){var s=Error(a(418,""));throw Ao(sa(s,r)),mh}function vh(r){var s=r.stateNode,f=r.type,h=r.memoizedProps;switch(s[se]=r,s[Ae]=h,f){case"dialog":Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":case"embed":Vt("load",s);break;case"video":case"audio":for(f=0;f<e0.length;f++)Vt(e0[f],s);break;case"source":Vt("error",s);break;case"img":case"image":case"link":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"input":Vt("invalid",s),Qc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Tu(s);break;case"select":Vt("invalid",s);break;case"textarea":Vt("invalid",s),Kd(s,h.value,h.defaultValue,h.children),Tu(s)}f=h.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||h.suppressHydrationWarning===!0||Ab(s.textContent,f)?(h.popover!=null&&(Vt("beforetoggle",s),Vt("toggle",s)),h.onScroll!=null&&Vt("scroll",s),h.onScrollEnd!=null&&Vt("scrollend",s),h.onClick!=null&&(s.onclick=Tp),s=!0):s=!1,s||Ms(r)}function Ml(r){for(Na=r.return;Na;)switch(Na.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:Na=Na.return}}function Ds(r){if(r!==Na)return!1;if(!It)return Ml(r),It=!0,!1;var s=r.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||d1(r.type,r.memoizedProps)),f=!f),f&&On&&Ms(r),Ml(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(f=r.data,f==="/$"){if(s===0){On=fs(r.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++;r=r.nextSibling}On=null}}else s===27?(s=On,Qo(r.type)?(r=m1,m1=null,On=r):On=s):On=Na?fs(r.stateNode.nextSibling):null;return!0}function To(){On=Na=null,It=!1}function yh(){var r=Nl;return r!==null&&(_a===null?_a=r:_a.push.apply(_a,r),Nl=null),r}function Ao(r){Nl===null?Nl=[r]:Nl.push(r)}var Cf=ae(null),js=null,mi=null;function jr(r,s,f){Q(Cf,s._currentValue),s._currentValue=f}function vi(r){r._currentValue=Cf.current,Ee(Cf)}function Tf(r,s,f){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===f)break;r=r.return}}function tn(r,s,f,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var D=y.child;x=x.firstContext;e:for(;x!==null;){var U=x;x=y;for(var V=0;V<s.length;V++)if(U.context===s[V]){x.lanes|=f,U=x.alternate,U!==null&&(U.lanes|=f),Tf(x.return,f,r),h||(D=null);break e}x=U.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=f,x=D.alternate,x!==null&&(x.lanes|=f),Tf(D,f,r),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===r){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function Dl(r,s,f,h){r=null;for(var y=s,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var U=y.type;yr(y.pendingProps.value,D.value)||(r!==null?r.push(U):r=[U])}}else if(y===Ke.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(s0):r=[s0])}y=y.return}r!==null&&tn(s,r,f,h),s.flags|=262144}function Af(r){for(r=r.firstContext;r!==null;){if(!yr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function zs(r){js=r,mi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ma(r){return Dg(js,r)}function Rf(r,s){return js===null&&zs(r),Dg(r,s)}function Dg(r,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},mi===null){if(r===null)throw Error(a(308));mi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else mi=mi.next=s;return f}var Fv=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(f,h){r.push(h)}};this.abort=function(){s.aborted=!0,r.forEach(function(f){return f()})}},bh=t.unstable_scheduleCallback,$i=t.unstable_NormalPriority,In={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new Fv,data:new Map,refCount:0}}function Xr(r){r.refCount--,r.refCount===0&&bh($i,function(){r.controller.abort()})}var jl=null,Zu=0,Oo=0,zl=null;function jg(r,s){if(jl===null){var f=jl=[];Zu=0,Oo=a1(),zl={status:"pending",value:void 0,then:function(h){f.push(h)}}}return Zu++,s.then(_h,_h),s}function _h(){if(--Zu===0&&jl!==null){zl!==null&&(zl.status="fulfilled");var r=jl;jl=null,Oo=0,zl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function zg(r,s){var f=[],h={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return r.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<f.length;y++)(0,f[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),h}var Sh=B.S;B.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&jg(r,s),Sh!==null&&Sh(r,s)};var Wi=ae(null);function Ot(){var r=Wi.current;return r!==null?r:hn.pooledCache}function Of(r,s){s===null?Q(Wi,Wi.current):Q(Wi,s.pool)}function ir(){var r=Ot();return r===null?null:{parent:In._currentValue,pool:r}}var Ul=Error(a(460)),Ug=Error(a(474)),kl=Error(a(542)),Us={then:function(){}};function Ll(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Iu(){}function Nf(r,s,f){switch(f=r[f],f===void 0?r.push(s):f!==s&&(s.then(Iu,Iu),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ji(r),r;default:if(typeof s.status=="string")s.then(Iu,Iu);else{if(r=hn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ji(r),r}throw Xu=s,Ul}}var Xu=null;function xh(){if(Xu===null)throw Error(a(459));var r=Xu;return Xu=null,r}function Ji(r){if(r===Ul||r===kl)throw Error(a(483))}var yi=!1;function Ku(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ya(r,s,f){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(pt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Gu(r),Ns(r,null,f),s}return Hu(r,h,s,f),Gu(r)}function Pl(r,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var h=s.lanes;h&=r.pendingLanes,f|=h,s.lanes=f,xs(r,f)}}function wh(r,s){var f=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var y=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?y=x=D:x=x.next=D,f=f.next}while(f!==null);x===null?y=x=s:x=x.next=s}else y=x=s;f={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=s:r.next=s,f.lastBaseUpdate=s}var Mf=!1;function Qu(){if(Mf){var r=zl;if(r!==null)throw r}}function ks(r,s,f,h){Mf=!1;var y=r.updateQueue;yi=!1;var x=y.firstBaseUpdate,D=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var V=U,le=V.next;V.next=null,D===null?x=le:D.next=le,D=V;var we=r.alternate;we!==null&&(we=we.updateQueue,U=we.lastBaseUpdate,U!==D&&(U===null?we.firstBaseUpdate=le:U.next=le,we.lastBaseUpdate=V))}if(x!==null){var Te=y.baseState;D=0,we=le=V=null,U=x;do{var de=U.lane&-536870913,pe=de!==U.lane;if(pe?(qt&de)===de:(h&de)===de){de!==0&&de===Oo&&(Mf=!0),we!==null&&(we=we.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var yt=r,dt=U;de=s;var wn=f;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Te=yt.call(wn,Te,de);break e}Te=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,de=typeof yt=="function"?yt.call(wn,Te,de):yt,de==null)break e;Te=v({},Te,de);break e;case 2:yi=!0}}de=U.callback,de!==null&&(r.flags|=64,pe&&(r.flags|=8192),pe=y.callbacks,pe===null?y.callbacks=[de]:pe.push(de))}else pe={lane:de,tag:U.tag,payload:U.payload,callback:U.callback,next:null},we===null?(le=we=pe,V=Te):we=we.next=pe,D|=de;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;pe=U,U=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);we===null&&(V=Te),y.baseState=V,y.firstBaseUpdate=le,y.lastBaseUpdate=we,x===null&&(y.shared.lanes=0),mn|=D,r.lanes=D,r.memoizedState=Te}}function ot(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function kg(r,s){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)ot(f[r],s)}var No=ae(null),$u=ae(0);function Mo(r,s){r=Ai,Q($u,r),Q(No,s),Ai=r|s.baseLanes}function Eh(){Q($u,Ai),Q(No,No.current)}function Ch(){Ai=$u.current,Ee(No),Ee($u)}var Ls=0,Nt=null,fn=null,Hn=null,Wu=!1,es=!1,Ps=!1,Df=0,Ju=0,zr=null,ts=0;function Lt(){throw Error(a(321))}function _i(r,s){if(s===null)return!1;for(var f=0;f<s.length&&f<r.length;f++)if(!yr(r[f],s[f]))return!1;return!0}function sr(r,s,f,h,y,x){return Ls=x,Nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?hp:qh,Ps=!1,x=f(h,y),Ps=!1,es&&(x=Pg(s,f,h,y)),Lg(r),x}function Lg(r){B.H=Pf;var s=fn!==null&&fn.next!==null;if(Ls=0,Hn=fn=Nt=null,Wu=!1,Ju=0,zr=null,s)throw Error(a(300));r===null||dn||(r=r.dependencies,r!==null&&Af(r)&&(dn=!0))}function Pg(r,s,f,h){Nt=r;var y=0;do{if(es&&(zr=null),Ju=0,es=!1,25<=y)throw Error(a(301));if(y+=1,Hn=fn=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=Jv,x=s(f,h)}while(es);return x}function oa(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?ec(s):s,r=r.useState()[0],(fn!==null?fn.memoizedState:null)!==r&&(Nt.flags|=1024),s}function Kr(){var r=Df!==0;return Df=0,r}function Th(r,s,f){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f}function Ah(r){if(Wu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wu=!1}Ls=0,Hn=fn=Nt=null,es=!1,Ju=Df=0,zr=null}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Nt.memoizedState=Hn=r:Hn=Hn.next=r,Hn}function Xn(){if(fn===null){var r=Nt.alternate;r=r!==null?r.memoizedState:null}else r=fn.next;var s=Hn===null?Nt.memoizedState:Hn.next;if(s!==null)Hn=s,fn=r;else{if(r===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));fn=r,r={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},Hn===null?Nt.memoizedState=Hn=r:Hn=Hn.next=r}return Hn}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(r){var s=Ju;return Ju+=1,zr===null&&(zr=[]),r=Nf(zr,r,s),s=Nt,(Hn===null?s.memoizedState:Hn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?hp:qh),r}function tc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ec(r);if(r.$$typeof===z)return Ma(r)}throw Error(a(438,String(r)))}function Rh(r){var s=null,f=Nt.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var h=Nt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=jf(),Nt.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(r),h=0;h<r;h++)f[h]=_e;return s.index++,f}function or(r,s){return typeof s=="function"?s(r):s}function Si(r){var s=Xn();return Oh(s,fn,r)}function Oh(r,s,f){var h=r.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=f;var y=r.baseQueue,x=h.pending;if(x!==null){if(y!==null){var D=y.next;y.next=x.next,x.next=D}s.baseQueue=y=x,h.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{s=y.next;var U=D=null,V=null,le=s,we=!1;do{var Te=le.lane&-536870913;if(Te!==le.lane?(qt&Te)===Te:(Ls&Te)===Te){var de=le.revertLane;if(de===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Te===Oo&&(we=!0);else if((Ls&de)===de){le=le.next,de===Oo&&(we=!0);continue}else Te={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(U=V=Te,D=x):V=V.next=Te,Nt.lanes|=de,mn|=de;Te=le.action,Ps&&f(x,Te),x=le.hasEagerState?le.eagerState:f(x,Te)}else de={lane:Te,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(U=V=de,D=x):V=V.next=de,Nt.lanes|=Te,mn|=Te;le=le.next}while(le!==null&&le!==s);if(V===null?D=x:V.next=U,!yr(x,r.memoizedState)&&(dn=!0,we&&(f=zl,f!==null)))throw f;r.memoizedState=x,r.baseState=D,r.baseQueue=V,h.lastRenderedState=x}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Nh(r){var s=Xn(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=r;var h=f.dispatch,y=f.pending,x=s.memoizedState;if(y!==null){f.pending=null;var D=y=y.next;do x=r(x,D.action),D=D.next;while(D!==y);yr(x,s.memoizedState)||(dn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),f.lastRenderedState=x}return[x,h]}function Bg(r,s,f){var h=Nt,y=Xn(),x=It;if(x){if(f===void 0)throw Error(a(407));f=f()}else f=s();var D=!yr((fn||y).memoizedState,f);D&&(y.memoizedState=f,dn=!0),y=y.queue;var U=Gg.bind(null,h,y,r);if(nc(2048,8,U,[r]),y.getSnapshot!==s||D||Hn!==null&&Hn.memoizedState.tag&1){if(h.flags|=2048,zo(9,zf(),Hg.bind(null,h,y,f,s),null),hn===null)throw Error(a(349));x||(Ls&124)!==0||Do(h,s,f)}return f}function Do(r,s,f){r.flags|=16384,r={getSnapshot:s,value:f},s=Nt.updateQueue,s===null?(s=jf(),Nt.updateQueue=s,s.stores=[r]):(f=s.stores,f===null?s.stores=[r]:f.push(r))}function Hg(r,s,f,h){s.value=f,s.getSnapshot=h,qg(s)&&jo(r)}function Gg(r,s,f){return f(function(){qg(s)&&jo(r)})}function qg(r){var s=r.getSnapshot;r=r.value;try{var f=s();return!yr(r,f)}catch{return!0}}function jo(r){var s=di(r,2);s!==null&&$n(s,r,2)}function Mh(r){var s=lr();if(typeof r=="function"){var f=r;if(r=f(),Ps){bt(!0);try{f()}finally{bt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:r},s}function Vg(r,s,f,h){return r.baseState=f,Oh(r,fn,typeof h=="function"?h:or)}function Qv(r,s,f,h,y){if(Lf(r))throw Error(a(485));if(r=s.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};B.T!==null?f(!0):x.isTransition=!1,h(x),f=s.pending,f===null?(x.next=s.pending=x,Yg(s,x)):(x.next=f.next,s.pending=f.next=x)}}function Yg(r,s){var f=s.action,h=s.payload,y=r.state;if(s.isTransition){var x=B.T,D={};B.T=D;try{var U=f(y,h),V=B.S;V!==null&&V(D,U),Zg(r,s,U)}catch(le){Dh(r,s,le)}finally{B.T=x}}else try{x=f(y,h),Zg(r,s,x)}catch(le){Dh(r,s,le)}}function Zg(r,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(h){Ig(r,s,h)},function(h){return Dh(r,s,h)}):Ig(r,s,f)}function Ig(r,s,f){s.status="fulfilled",s.value=f,Xg(s),r.state=f,s=r.pending,s!==null&&(f=s.next,f===s?r.pending=null:(f=f.next,s.next=f,Yg(r,f)))}function Dh(r,s,f){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=f,Xg(s),s=s.next;while(s!==h)}r.action=null}function Xg(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Kg(r,s){return s}function Fg(r,s){if(It){var f=hn.formState;if(f!==null){e:{var h=Nt;if(It){if(On){t:{for(var y=On,x=pi;y.nodeType!==8;){if(!x){y=null;break t}if(y=fs(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){On=fs(y.nextSibling),h=y.data==="F!";break e}}Ms(h)}h=!1}h&&(s=f[0])}}return f=lr(),f.memoizedState=f.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:s},f.queue=h,f=cp.bind(null,Nt,h),h.dispatch=f,h=Mh(!1),x=Gh.bind(null,Nt,!1,h.queue),h=lr(),y={state:s,dispatch:null,action:r,pending:null},h.queue=y,f=Qv.bind(null,Nt,y,x,f),y.dispatch=f,h.memoizedState=r,[s,f,!1]}function Qg(r){var s=Xn();return $g(s,fn,r)}function $g(r,s,f){if(s=Oh(r,s,Kg)[0],r=Si(or)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=ec(s)}catch(D){throw D===Ul?kl:D}else h=s;s=Xn();var y=s.queue,x=y.dispatch;return f!==s.memoizedState&&(Nt.flags|=2048,zo(9,zf(),Wg.bind(null,y,f),null)),[h,x,r]}function Wg(r,s){r.action=s}function Jg(r){var s=Xn(),f=fn;if(f!==null)return $g(s,f,r);Xn(),s=s.memoizedState,f=Xn();var h=f.queue.dispatch;return f.memoizedState=r,[s,h,!1]}function zo(r,s,f,h){return r={tag:r,create:f,deps:h,inst:s,next:null},s=Nt.updateQueue,s===null&&(s=jf(),Nt.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=r.next=r:(h=f.next,f.next=r,r.next=h,s.lastEffect=r),r}function zf(){return{destroy:void 0,resource:void 0}}function ep(){return Xn().memoizedState}function Uf(r,s,f,h){var y=lr();h=h===void 0?null:h,Nt.flags|=r,y.memoizedState=zo(1|s,zf(),f,h)}function nc(r,s,f,h){var y=Xn();h=h===void 0?null:h;var x=y.memoizedState.inst;fn!==null&&h!==null&&_i(h,fn.memoizedState.deps)?y.memoizedState=zo(s,x,f,h):(Nt.flags|=r,y.memoizedState=zo(1|s,x,f,h))}function jh(r,s){Uf(8390656,8,r,s)}function zh(r,s){nc(2048,8,r,s)}function tp(r,s){return nc(4,2,r,s)}function Uh(r,s){return nc(4,4,r,s)}function kh(r,s){if(typeof s=="function"){r=r();var f=s(r);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lh(r,s,f){f=f!=null?f.concat([r]):null,nc(4,4,kh.bind(null,s,r),f)}function ac(){}function kf(r,s){var f=Xn();s=s===void 0?null:s;var h=f.memoizedState;return s!==null&&_i(s,h[1])?h[0]:(f.memoizedState=[r,s],r)}function np(r,s){var f=Xn();s=s===void 0?null:s;var h=f.memoizedState;if(s!==null&&_i(s,h[1]))return h[0];if(h=r(),Ps){bt(!0);try{r()}finally{bt(!1)}}return f.memoizedState=[h,s],h}function Ph(r,s,f){return f===void 0||(Ls&1073741824)!==0?r.memoizedState=s:(r.memoizedState=f,r=Ln(),Nt.lanes|=r,mn|=r,f)}function ap(r,s,f,h){return yr(f,s)?f:No.current!==null?(r=Ph(r,f,h),yr(r,s)||(dn=!0),r):(Ls&42)===0?(dn=!0,r.memoizedState=f):(r=Ln(),Nt.lanes|=r,mn|=r,s)}function rp(r,s,f,h,y){var x=ue.p;ue.p=x!==0&&8>x?x:8;var D=B.T,U={};B.T=U,Gh(r,!1,s,f);try{var V=y(),le=B.S;if(le!==null&&le(U,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var we=zg(V,h);rc(r,s,we,Vn(r))}else rc(r,s,h,Vn(r))}catch(Te){rc(r,s,{then:function(){},status:"rejected",reason:Te},Vn())}finally{ue.p=x,B.T=D}}function ip(){}function Bh(r,s,f,h){if(r.tag!==5)throw Error(a(476));var y=sp(r).queue;rp(r,y,s,$,f===null?ip:function(){return lp(r),f(h)})}function sp(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:$},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:f},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function lp(r){var s=sp(r).next.queue;rc(r,s,{},Vn())}function Hh(){return Ma(s0)}function op(){return Xn().memoizedState}function up(){return Xn().memoizedState}function $v(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var f=Vn();r=bi(f);var h=Ya(s,r,f);h!==null&&($n(h,s,f),Pl(h,s,f)),s={cache:Ro()},r.payload=s;return}s=s.return}}function Wv(r,s,f){var h=Vn();f={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Lf(r)?fp(s,f):(f=Os(r,s,f,h),f!==null&&($n(f,r,h),dp(f,s,h)))}function cp(r,s,f){var h=Vn();rc(r,s,f,h)}function rc(r,s,f,h){var y={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Lf(r))fp(s,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var D=s.lastRenderedState,U=x(D,f);if(y.hasEagerState=!0,y.eagerState=U,yr(U,D))return Hu(r,s,y,0),hn===null&&br(),!1}catch{}finally{}if(f=Os(r,s,y,h),f!==null)return $n(f,r,h),dp(f,s,h),!0}return!1}function Gh(r,s,f,h){if(h={lane:2,revertLane:a1(),action:h,hasEagerState:!1,eagerState:null,next:null},Lf(r)){if(s)throw Error(a(479))}else s=Os(r,f,h,2),s!==null&&$n(s,r,2)}function Lf(r){var s=r.alternate;return r===Nt||s!==null&&s===Nt}function fp(r,s){es=Wu=!0;var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}function dp(r,s,f){if((f&4194048)!==0){var h=s.lanes;h&=r.pendingLanes,f|=h,s.lanes=f,xs(r,f)}}var Pf={readContext:Ma,use:tc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},hp={readContext:Ma,use:tc,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Ma,useEffect:jh,useImperativeHandle:function(r,s,f){f=f!=null?f.concat([r]):null,Uf(4194308,4,kh.bind(null,s,r),f)},useLayoutEffect:function(r,s){return Uf(4194308,4,r,s)},useInsertionEffect:function(r,s){Uf(4,2,r,s)},useMemo:function(r,s){var f=lr();s=s===void 0?null:s;var h=r();if(Ps){bt(!0);try{r()}finally{bt(!1)}}return f.memoizedState=[h,s],h},useReducer:function(r,s,f){var h=lr();if(f!==void 0){var y=f(s);if(Ps){bt(!0);try{f(s)}finally{bt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=Wv.bind(null,Nt,r),[h.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:function(r){r=Mh(r);var s=r.queue,f=cp.bind(null,Nt,s);return s.dispatch=f,[r.memoizedState,f]},useDebugValue:ac,useDeferredValue:function(r,s){var f=lr();return Ph(f,r,s)},useTransition:function(){var r=Mh(!1);return r=rp.bind(null,Nt,r.queue,!0,!1),lr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,f){var h=Nt,y=lr();if(It){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),hn===null)throw Error(a(349));(qt&124)!==0||Do(h,s,f)}y.memoizedState=f;var x={value:f,getSnapshot:s};return y.queue=x,jh(Gg.bind(null,h,x,r),[r]),h.flags|=2048,zo(9,zf(),Hg.bind(null,h,x,f,s),null),f},useId:function(){var r=lr(),s=hn.identifierPrefix;if(It){var f=Ir,h=gi;f=(h&~(1<<32-Jt(h)-1)).toString(32)+f,s=""+s+"R"+f,f=Df++,0<f&&(s+="H"+f.toString(32)),s+=""}else f=ts++,s=""+s+"r"+f.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Hh,useFormState:Fg,useActionState:Fg,useOptimistic:function(r){var s=lr();s.memoizedState=s.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Gh.bind(null,Nt,!0,f),f.dispatch=s,[r,s]},useMemoCache:Rh,useCacheRefresh:function(){return lr().memoizedState=$v.bind(null,Nt)}},qh={readContext:Ma,use:tc,useCallback:kf,useContext:Ma,useEffect:zh,useImperativeHandle:Lh,useInsertionEffect:tp,useLayoutEffect:Uh,useMemo:np,useReducer:Si,useRef:ep,useState:function(){return Si(or)},useDebugValue:ac,useDeferredValue:function(r,s){var f=Xn();return ap(f,fn.memoizedState,r,s)},useTransition:function(){var r=Si(or)[0],s=Xn().memoizedState;return[typeof r=="boolean"?r:ec(r),s]},useSyncExternalStore:Bg,useId:op,useHostTransitionStatus:Hh,useFormState:Qg,useActionState:Qg,useOptimistic:function(r,s){var f=Xn();return Vg(f,fn,r,s)},useMemoCache:Rh,useCacheRefresh:up},Jv={readContext:Ma,use:tc,useCallback:kf,useContext:Ma,useEffect:zh,useImperativeHandle:Lh,useInsertionEffect:tp,useLayoutEffect:Uh,useMemo:np,useReducer:Nh,useRef:ep,useState:function(){return Nh(or)},useDebugValue:ac,useDeferredValue:function(r,s){var f=Xn();return fn===null?Ph(f,r,s):ap(f,fn.memoizedState,r,s)},useTransition:function(){var r=Nh(or)[0],s=Xn().memoizedState;return[typeof r=="boolean"?r:ec(r),s]},useSyncExternalStore:Bg,useId:op,useHostTransitionStatus:Hh,useFormState:Jg,useActionState:Jg,useOptimistic:function(r,s){var f=Xn();return fn!==null?Vg(f,fn,r,s):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:up},Uo=null,Za=0;function ic(r){var s=Za;return Za+=1,Uo===null&&(Uo=[]),Nf(Uo,r,s)}function Bl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function sc(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Vh(r){var s=r._init;return s(r._payload)}function Yh(r){function s(J,K){if(r){var ie=J.deletions;ie===null?(J.deletions=[K],J.flags|=16):ie.push(K)}}function f(J,K){if(!r)return null;for(;K!==null;)s(J,K),K=K.sibling;return null}function h(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function y(J,K){return J=hi(J,K),J.index=0,J.sibling=null,J}function x(J,K,ie){return J.index=ie,r?(ie=J.alternate,ie!==null?(ie=ie.index,ie<K?(J.flags|=67108866,K):ie):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function D(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function U(J,K,ie,Ce){return K===null||K.tag!==6?(K=xf(ie,J.mode,Ce),K.return=J,K):(K=y(K,ie),K.return=J,K)}function V(J,K,ie,Ce){var et=ie.type;return et===T?we(J,K,ie.props.children,Ce,ie.key):K!==null&&(K.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===F&&Vh(et)===K.type)?(K=y(K,ie.props),Bl(K,ie),K.return=J,K):(K=Co(ie.type,ie.key,ie.props,null,J.mode,Ce),Bl(K,ie),K.return=J,K)}function le(J,K,ie,Ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=Vu(ie,J.mode,Ce),K.return=J,K):(K=y(K,ie.children||[]),K.return=J,K)}function we(J,K,ie,Ce,et){return K===null||K.tag!==7?(K=Qi(ie,J.mode,Ce,et),K.return=J,K):(K=y(K,ie),K.return=J,K)}function Te(J,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=xf(""+K,J.mode,ie),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return ie=Co(K.type,K.key,K.props,null,J.mode,ie),Bl(ie,K),ie.return=J,ie;case C:return K=Vu(K,J.mode,ie),K.return=J,K;case F:var Ce=K._init;return K=Ce(K._payload),Te(J,K,ie)}if(Se(K)||he(K))return K=Qi(K,J.mode,ie,null),K.return=J,K;if(typeof K.then=="function")return Te(J,ic(K),ie);if(K.$$typeof===z)return Te(J,Rf(J,K),ie);sc(J,K)}return null}function de(J,K,ie,Ce){var et=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return et!==null?null:U(J,K,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return ie.key===et?V(J,K,ie,Ce):null;case C:return ie.key===et?le(J,K,ie,Ce):null;case F:return et=ie._init,ie=et(ie._payload),de(J,K,ie,Ce)}if(Se(ie)||he(ie))return et!==null?null:we(J,K,ie,Ce,null);if(typeof ie.then=="function")return de(J,K,ic(ie),Ce);if(ie.$$typeof===z)return de(J,K,Rf(J,ie),Ce);sc(J,ie)}return null}function pe(J,K,ie,Ce,et){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return J=J.get(ie)||null,U(K,J,""+Ce,et);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case S:return J=J.get(Ce.key===null?ie:Ce.key)||null,V(K,J,Ce,et);case C:return J=J.get(Ce.key===null?ie:Ce.key)||null,le(K,J,Ce,et);case F:var Pt=Ce._init;return Ce=Pt(Ce._payload),pe(J,K,ie,Ce,et)}if(Se(Ce)||he(Ce))return J=J.get(ie)||null,we(K,J,Ce,et,null);if(typeof Ce.then=="function")return pe(J,K,ie,ic(Ce),et);if(Ce.$$typeof===z)return pe(J,K,ie,Rf(K,Ce),et);sc(K,Ce)}return null}function yt(J,K,ie,Ce){for(var et=null,Pt=null,lt=K,gt=K=0,ka=null;lt!==null&&gt<ie.length;gt++){lt.index>gt?(ka=lt,lt=null):ka=lt.sibling;var sn=de(J,lt,ie[gt],Ce);if(sn===null){lt===null&&(lt=ka);break}r&&lt&&sn.alternate===null&&s(J,lt),K=x(sn,K,gt),Pt===null?et=sn:Pt.sibling=sn,Pt=sn,lt=ka}if(gt===ie.length)return f(J,lt),It&&Dr(J,gt),et;if(lt===null){for(;gt<ie.length;gt++)lt=Te(J,ie[gt],Ce),lt!==null&&(K=x(lt,K,gt),Pt===null?et=lt:Pt.sibling=lt,Pt=lt);return It&&Dr(J,gt),et}for(lt=h(lt);gt<ie.length;gt++)ka=pe(lt,J,gt,ie[gt],Ce),ka!==null&&(r&&ka.alternate!==null&&lt.delete(ka.key===null?gt:ka.key),K=x(ka,K,gt),Pt===null?et=ka:Pt.sibling=ka,Pt=ka);return r&&lt.forEach(function(tu){return s(J,tu)}),It&&Dr(J,gt),et}function dt(J,K,ie,Ce){if(ie==null)throw Error(a(151));for(var et=null,Pt=null,lt=K,gt=K=0,ka=null,sn=ie.next();lt!==null&&!sn.done;gt++,sn=ie.next()){lt.index>gt?(ka=lt,lt=null):ka=lt.sibling;var tu=de(J,lt,sn.value,Ce);if(tu===null){lt===null&&(lt=ka);break}r&&lt&&tu.alternate===null&&s(J,lt),K=x(tu,K,gt),Pt===null?et=tu:Pt.sibling=tu,Pt=tu,lt=ka}if(sn.done)return f(J,lt),It&&Dr(J,gt),et;if(lt===null){for(;!sn.done;gt++,sn=ie.next())sn=Te(J,sn.value,Ce),sn!==null&&(K=x(sn,K,gt),Pt===null?et=sn:Pt.sibling=sn,Pt=sn);return It&&Dr(J,gt),et}for(lt=h(lt);!sn.done;gt++,sn=ie.next())sn=pe(lt,J,gt,sn.value,Ce),sn!==null&&(r&&sn.alternate!==null&&lt.delete(sn.key===null?gt:sn.key),K=x(sn,K,gt),Pt===null?et=sn:Pt.sibling=sn,Pt=sn);return r&&lt.forEach(function(E8){return s(J,E8)}),It&&Dr(J,gt),et}function wn(J,K,ie,Ce){if(typeof ie=="object"&&ie!==null&&ie.type===T&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:e:{for(var et=ie.key;K!==null;){if(K.key===et){if(et=ie.type,et===T){if(K.tag===7){f(J,K.sibling),Ce=y(K,ie.props.children),Ce.return=J,J=Ce;break e}}else if(K.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===F&&Vh(et)===K.type){f(J,K.sibling),Ce=y(K,ie.props),Bl(Ce,ie),Ce.return=J,J=Ce;break e}f(J,K);break}else s(J,K);K=K.sibling}ie.type===T?(Ce=Qi(ie.props.children,J.mode,Ce,ie.key),Ce.return=J,J=Ce):(Ce=Co(ie.type,ie.key,ie.props,null,J.mode,Ce),Bl(Ce,ie),Ce.return=J,J=Ce)}return D(J);case C:e:{for(et=ie.key;K!==null;){if(K.key===et)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){f(J,K.sibling),Ce=y(K,ie.children||[]),Ce.return=J,J=Ce;break e}else{f(J,K);break}else s(J,K);K=K.sibling}Ce=Vu(ie,J.mode,Ce),Ce.return=J,J=Ce}return D(J);case F:return et=ie._init,ie=et(ie._payload),wn(J,K,ie,Ce)}if(Se(ie))return yt(J,K,ie,Ce);if(he(ie)){if(et=he(ie),typeof et!="function")throw Error(a(150));return ie=et.call(ie),dt(J,K,ie,Ce)}if(typeof ie.then=="function")return wn(J,K,ic(ie),Ce);if(ie.$$typeof===z)return wn(J,K,Rf(J,ie),Ce);sc(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,K!==null&&K.tag===6?(f(J,K.sibling),Ce=y(K,ie),Ce.return=J,J=Ce):(f(J,K),Ce=xf(ie,J.mode,Ce),Ce.return=J,J=Ce),D(J)):f(J,K)}return function(J,K,ie,Ce){try{Za=0;var et=wn(J,K,ie,Ce);return Uo=null,et}catch(lt){if(lt===Ul||lt===kl)throw lt;var Pt=ar(29,lt,null,J.mode);return Pt.lanes=Ce,Pt.return=J,Pt}finally{}}}var ko=Yh(!0),Zh=Yh(!1),Sr=ae(null),xi=null;function Bs(r){var s=r.alternate;Q(kt,kt.current&1),Q(Sr,r),xi===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(xi=r)}function gp(r){if(r.tag===22){if(Q(kt,kt.current),Q(Sr,r),xi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(xi=r)}}else ns()}function ns(){Q(kt,kt.current),Q(Sr,Sr.current)}function as(r){Ee(Sr),xi===r&&(xi=null),Ee(kt)}var kt=ae(0);function lc(r){for(var s=r;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||p1(f)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ih(r,s,f,h){s=r.memoizedState,f=f(h,s),f=f==null?s:v({},s,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Bf={enqueueSetState:function(r,s,f){r=r._reactInternals;var h=Vn(),y=bi(h);y.payload=s,f!=null&&(y.callback=f),s=Ya(r,y,h),s!==null&&($n(s,r,h),Pl(s,r,h))},enqueueReplaceState:function(r,s,f){r=r._reactInternals;var h=Vn(),y=bi(h);y.tag=1,y.payload=s,f!=null&&(y.callback=f),s=Ya(r,y,h),s!==null&&($n(s,r,h),Pl(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var f=Vn(),h=bi(f);h.tag=2,s!=null&&(h.callback=s),s=Ya(r,h,f),s!==null&&($n(s,r,f),Pl(s,r,f))}};function Xh(r,s,f,h,y,x,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,D):s.prototype&&s.prototype.isPureReactComponent?!So(f,h)||!So(y,x):!0}function Hl(r,s,f,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,h),s.state!==r&&Bf.enqueueReplaceState(s,s.state,null)}function rs(r,s){var f=s;if("ref"in s){f={};for(var h in s)h!=="ref"&&(f[h]=s[h])}if(r=r.defaultProps){f===s&&(f=v({},f));for(var y in r)f[y]===void 0&&(f[y]=r[y])}return f}var is=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Gl(r){is(r)}function ur(r){console.error(r)}function pp(r){is(r)}function Hf(r,s){try{var f=r.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function oc(r,s,f){try{var h=r.onCaughtError;h(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Lo(r,s,f){return f=bi(f),f.tag=3,f.payload={element:null},f.callback=function(){Hf(r,s)},f}function uc(r){return r=bi(r),r.tag=3,r}function Gf(r,s,f,h){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;r.payload=function(){return y(x)},r.callback=function(){oc(s,f,h)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){oc(s,f,h),typeof y!="function"&&($s===null?$s=new Set([this]):$s.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function e1(r,s,f,h,y){if(f.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=f.alternate,s!==null&&Dl(s,f,y,!0),f=Sr.current,f!==null){switch(f.tag){case 13:return xi===null?Oi():f.alternate===null&&Mt===0&&(Mt=3),f.flags&=-257,f.flags|=65536,f.lanes=y,h===Us?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([h]):s.add(h),Re(r,h,y)),!1;case 22:return f.flags|=65536,h===Us?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([h]):f.add(h)),Re(r,h,y)),!1}throw Error(a(435,f.tag))}return Re(r,h,y),Oi(),!1}if(It)return s=Sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==mh&&(r=Error(a(422),{cause:h}),Ao(sa(r,f)))):(h!==mh&&(s=Error(a(423),{cause:h}),Ao(sa(s,f))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=sa(h,f),y=Lo(r.stateNode,h,y),wh(r,y),Mt!==4&&(Mt=2)),!1;var x=Error(a(520),{cause:h});if(x=sa(x,f),Fs===null?Fs=[x]:Fs.push(x),Mt!==4&&(Mt=2),s===null)return!0;h=sa(h,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,r=y&-y,f.lanes|=r,r=Lo(f.stateNode,h,r),wh(f,r),!1;case 1:if(s=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($s===null||!$s.has(x))))return f.flags|=65536,y&=-y,f.lanes|=y,y=uc(y),Gf(y,r,f,h),wh(f,y),!1}f=f.return}while(f!==null);return!1}var mp=Error(a(461)),dn=!1;function ua(r,s,f,h){s.child=r===null?Zh(s,null,f,h):ko(s,r.child,f,h)}function vp(r,s,f,h,y){f=f.render;var x=s.ref;if("ref"in h){var D={};for(var U in h)U!=="ref"&&(D[U]=h[U])}else D=h;return zs(s),h=sr(r,s,f,D,x,y),U=Kr(),r!==null&&!dn?(Th(r,s,y),Cn(r,s,y)):(It&&U&&wf(s),s.flags|=1,ua(r,s,h,y),s.child)}function qf(r,s,f,h,y){if(r===null){var x=f.type;return typeof x=="function"&&!Eo(x)&&x.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=x,yp(r,s,x,h,y)):(r=Co(f.type,null,h,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,!ql(r,y)){var D=x.memoizedProps;if(f=f.compare,f=f!==null?f:So,f(D,h)&&r.ref===s.ref)return Cn(r,s,y)}return s.flags|=1,r=hi(x,h),r.ref=s.ref,r.return=s,s.child=r}function yp(r,s,f,h,y){if(r!==null){var x=r.memoizedProps;if(So(x,h)&&r.ref===s.ref)if(dn=!1,s.pendingProps=h=x,ql(r,y))(r.flags&131072)!==0&&(dn=!0);else return s.lanes=r.lanes,Cn(r,s,y)}return Ia(r,s,f,h,y)}function bp(r,s,f){var h=s.pendingProps,y=h.children,x=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=x!==null?x.baseLanes|f:f,r!==null){for(y=s.child=r.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;s.childLanes=x&~h}else s.childLanes=0,s.child=null;return _p(r,s,h,f)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Of(s,x!==null?x.cachePool:null),x!==null?Mo(s,x):Eh(),gp(s);else return s.lanes=s.childLanes=536870912,_p(r,s,x!==null?x.baseLanes|f:f,f)}else x!==null?(Of(s,x.cachePool),Mo(s,x),ns(),s.memoizedState=null):(r!==null&&Of(s,null),Eh(),ns());return ua(r,s,y,f),s.child}function _p(r,s,f,h){var y=Ot();return y=y===null?null:{parent:In._currentValue,pool:y},s.memoizedState={baseLanes:f,cachePool:y},r!==null&&Of(s,null),Eh(),gp(s),r!==null&&Dl(r,s,h,!0),null}function Hs(r,s){var f=s.ref;if(f===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(a(284));(r===null||r.ref!==f)&&(s.flags|=4194816)}}function Ia(r,s,f,h,y){return zs(s),f=sr(r,s,f,h,void 0,y),h=Kr(),r!==null&&!dn?(Th(r,s,y),Cn(r,s,y)):(It&&h&&wf(s),s.flags|=1,ua(r,s,f,y),s.child)}function Vf(r,s,f,h,y,x){return zs(s),s.updateQueue=null,f=Pg(s,h,f,y),Lg(r),h=Kr(),r!==null&&!dn?(Th(r,s,x),Cn(r,s,x)):(It&&h&&wf(s),s.flags|=1,ua(r,s,f,x),s.child)}function Kh(r,s,f,h,y){if(zs(s),s.stateNode===null){var x=Rl,D=f.contextType;typeof D=="object"&&D!==null&&(x=Ma(D)),x=new f(h,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Bf,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=h,x.state=s.memoizedState,x.refs={},Ku(s),D=f.contextType,x.context=typeof D=="object"&&D!==null?Ma(D):Rl,x.state=s.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(Ih(s,f,D,h),x.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&Bf.enqueueReplaceState(x,x.state,null),ks(s,h,x,y),Qu(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(r===null){x=s.stateNode;var U=s.memoizedProps,V=rs(f,U);x.props=V;var le=x.context,we=f.contextType;D=Rl,typeof we=="object"&&we!==null&&(D=Ma(we));var Te=f.getDerivedStateFromProps;we=typeof Te=="function"||typeof x.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,we||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U||le!==D)&&Hl(s,x,h,D),yi=!1;var de=s.memoizedState;x.state=de,ks(s,h,x,y),Qu(),le=s.memoizedState,U||de!==le||yi?(typeof Te=="function"&&(Ih(s,f,Te,h),le=s.memoizedState),(V=yi||Xh(s,f,V,h,de,le,D))?(we||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=le),x.props=h,x.state=le,x.context=D,h=V):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{x=s.stateNode,Fu(r,s),D=s.memoizedProps,we=rs(f,D),x.props=we,Te=s.pendingProps,de=x.context,le=f.contextType,V=Rl,typeof le=="object"&&le!==null&&(V=Ma(le)),U=f.getDerivedStateFromProps,(le=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Te||de!==V)&&Hl(s,x,h,V),yi=!1,de=s.memoizedState,x.state=de,ks(s,h,x,y),Qu();var pe=s.memoizedState;D!==Te||de!==pe||yi||r!==null&&r.dependencies!==null&&Af(r.dependencies)?(typeof U=="function"&&(Ih(s,f,U,h),pe=s.memoizedState),(we=yi||Xh(s,f,we,h,de,pe,V)||r!==null&&r.dependencies!==null&&Af(r.dependencies))?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,pe,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,pe,V)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),x.props=h,x.state=pe,x.context=V,h=we):(typeof x.componentDidUpdate!="function"||D===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),h=!1)}return x=h,Hs(r,s),h=(s.flags&128)!==0,x||h?(x=s.stateNode,f=h&&typeof f.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,r!==null&&h?(s.child=ko(s,r.child,null,y),s.child=ko(s,null,f,y)):ua(r,s,f,y),s.memoizedState=x.state,r=s.child):r=Cn(r,s,y),r}function Yf(r,s,f,h){return To(),s.flags|=256,ua(r,s,f,h),s.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gs(r){return{baseLanes:r,cachePool:ir()}}function qs(r,s,f){return r=r!==null?r.childLanes&~f:0,s&&(r|=ba),r}function cc(r,s,f){var h=s.pendingProps,y=!1,x=(s.flags&128)!==0,D;if((D=x)||(D=r!==null&&r.memoizedState===null?!1:(kt.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,r===null){if(It){if(y?Bs(s):ns(),It){var U=On,V;if(V=U){e:{for(V=U,U=pi;V.nodeType!==8;){if(!U){U=null;break e}if(V=fs(V.nextSibling),V===null){U=null;break e}}U=V}U!==null?(s.memoizedState={dehydrated:U,treeContext:rr!==null?{id:gi,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},V=ar(18,null,null,0),V.stateNode=U,V.return=s,s.child=V,Na=s,On=null,V=!0):V=!1}V||Ms(s)}if(U=s.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return p1(U)?s.lanes=32:s.lanes=536870912,null;as(s)}return U=h.children,h=h.fallback,y?(ns(),y=s.mode,U=Xa({mode:"hidden",children:U},y),h=Qi(h,y,f,null),U.return=s,h.return=s,U.sibling=h,s.child=U,y=s.child,y.memoizedState=Gs(f),y.childLanes=qs(r,D,f),s.memoizedState=Zf,h):(Bs(s),Po(s,U))}if(V=r.memoizedState,V!==null&&(U=V.dehydrated,U!==null)){if(x)s.flags&256?(Bs(s),s.flags&=-257,s=cr(r,s,f)):s.memoizedState!==null?(ns(),s.child=r.child,s.flags|=128,s=null):(ns(),y=h.fallback,U=s.mode,h=Xa({mode:"visible",children:h.children},U),y=Qi(y,U,f,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,ko(s,r.child,null,f),h=s.child,h.memoizedState=Gs(f),h.childLanes=qs(r,D,f),s.memoizedState=Zf,s=y);else if(Bs(s),p1(U)){if(D=U.nextSibling&&U.nextSibling.dataset,D)var le=D.dgst;D=le,h=Error(a(419)),h.stack="",h.digest=D,Ao({value:h,source:null,stack:null}),s=cr(r,s,f)}else if(dn||Dl(r,s,f,!1),D=(f&r.childLanes)!==0,dn||D){if(D=hn,D!==null&&(h=f&-f,h=(h&42)!==0?1:Gi(h),h=(h&(D.suspendedLanes|f))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,di(r,h),$n(D,r,h),mp;U.data==="$?"||Oi(),s=cr(r,s,f)}else U.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,On=fs(U.nextSibling),Na=s,It=!0,Nl=null,pi=!1,r!==null&&(_r[Mr++]=gi,_r[Mr++]=Ir,_r[Mr++]=rr,gi=r.id,Ir=r.overflow,rr=s),s=Po(s,h.children),s.flags|=4096);return s}return y?(ns(),y=h.fallback,U=s.mode,V=r.child,le=V.sibling,h=hi(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,le!==null?y=hi(le,y):(y=Qi(y,U,f,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,U=r.child.memoizedState,U===null?U=Gs(f):(V=U.cachePool,V!==null?(le=In._currentValue,V=V.parent!==le?{parent:le,pool:le}:V):V=ir(),U={baseLanes:U.baseLanes|f,cachePool:V}),y.memoizedState=U,y.childLanes=qs(r,D,f),s.memoizedState=Zf,h):(Bs(s),f=r.child,r=f.sibling,f=hi(f,{mode:"visible",children:h.children}),f.return=s,f.sibling=null,r!==null&&(D=s.deletions,D===null?(s.deletions=[r],s.flags|=16):D.push(r)),s.child=f,s.memoizedState=null,f)}function Po(r,s){return s=Xa({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Xa(r,s){return r=ar(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cr(r,s,f){return ko(s,r.child,null,f),r=Po(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Vs(r,s,f){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Tf(r.return,s,f)}function Fr(r,s,f,h,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=f,x.tailMode=y)}function wi(r,s,f){var h=s.pendingProps,y=h.revealOrder,x=h.tail;if(ua(r,s,h.children,f),h=kt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vs(r,f,s);else if(r.tag===19)Vs(r,f,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(Q(kt,h),y){case"forwards":for(f=s.child,y=null;f!==null;)r=f.alternate,r!==null&&lc(r)===null&&(y=f),f=f.sibling;f=y,f===null?(y=s.child,s.child=null):(y=f.sibling,f.sibling=null),Fr(s,!1,y,f,x);break;case"backwards":for(f=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&lc(r)===null){s.child=y;break}r=y.sibling,y.sibling=f,f=y,y=r}Fr(s,!0,f,null,x);break;case"together":Fr(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Cn(r,s,f){if(r!==null&&(s.dependencies=r.dependencies),mn|=s.lanes,(f&s.childLanes)===0)if(r!==null){if(Dl(r,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,f=hi(r,r.pendingProps),s.child=f,f.return=s;r.sibling!==null;)r=r.sibling,f=f.sibling=hi(r,r.pendingProps),f.return=s;f.sibling=null}return s.child}function ql(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Af(r)))}function Ys(r,s,f){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),jr(s,In,r.memoizedState.cache),To();break;case 27:case 5:St(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:jr(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Bs(s),s.flags|=128,null):(f&s.child.childLanes)!==0?cc(r,s,f):(Bs(s),r=Cn(r,s,f),r!==null?r.sibling:null);Bs(s);break;case 19:var y=(r.flags&128)!==0;if(h=(f&s.childLanes)!==0,h||(Dl(r,s,f,!1),h=(f&s.childLanes)!==0),y){if(h)return wi(r,s,f);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Q(kt,kt.current),h)break;return null;case 22:case 23:return s.lanes=0,bp(r,s,f);case 24:jr(s,In,r.memoizedState.cache)}return Cn(r,s,f)}function fc(r,s,f){if(r!==null)if(r.memoizedProps!==s.pendingProps)dn=!0;else{if(!ql(r,f)&&(s.flags&128)===0)return dn=!1,Ys(r,s,f);dn=(r.flags&131072)!==0}else dn=!1,It&&(s.flags&1048576)!==0&&ph(s,Yu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var h=s.elementType,y=h._init;if(h=y(h._payload),s.type=h,typeof h=="function")Eo(h)?(r=rs(h,r),s.tag=1,s=Kh(null,s,h,r,f)):(s.tag=0,s=Ia(null,s,h,r,f));else{if(h!=null){if(y=h.$$typeof,y===P){s.tag=11,s=vp(null,s,h,r,f);break e}else if(y===Y){s.tag=14,s=qf(null,s,h,r,f);break e}}throw s=ye(h)||h,Error(a(306,s,""))}}return s;case 0:return Ia(r,s,s.type,s.pendingProps,f);case 1:return h=s.type,y=rs(h,s.pendingProps),Kh(r,s,h,y,f);case 3:e:{if(nt(s,s.stateNode.containerInfo),r===null)throw Error(a(387));h=s.pendingProps;var x=s.memoizedState;y=x.element,Fu(r,s),ks(s,h,null,f);var D=s.memoizedState;if(h=D.cache,jr(s,In,h),h!==x.cache&&tn(s,[In],f,!0),Qu(),h=D.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Yf(r,s,h,f);break e}else if(h!==y){y=sa(Error(a(424)),s),Ao(y),s=Yf(r,s,h,f);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(On=fs(r.firstChild),Na=s,It=!0,Nl=null,pi=!0,f=Zh(s,null,h,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(To(),h===y){s=Cn(r,s,f);break e}ua(r,s,h,f)}s=s.child}return s;case 26:return Hs(r,s),r===null?(f=Lb(s.type,null,s.pendingProps,null))?s.memoizedState=f:It||(f=s.type,r=s.pendingProps,h=Ap(Me.current).createElement(f),h[se]=s,h[Ae]=r,$a(h,f,r),Bt(h),s.stateNode=h):s.memoizedState=Lb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return St(s),r===null&&It&&(h=s.stateNode=zb(s.type,s.pendingProps,Me.current),Na=s,pi=!0,y=On,Qo(s.type)?(m1=y,On=fs(h.firstChild)):On=y),ua(r,s,s.pendingProps.children,f),Hs(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&It&&((y=h=On)&&(h=Jw(h,s.type,s.pendingProps,pi),h!==null?(s.stateNode=h,Na=s,On=fs(h.firstChild),pi=!1,y=!0):y=!1),y||Ms(s)),St(s),y=s.type,x=s.pendingProps,D=r!==null?r.memoizedProps:null,h=x.children,d1(y,x)?h=null:D!==null&&d1(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=sr(r,s,oa,null,null,f),s0._currentValue=y),Hs(r,s),ua(r,s,h,f),s.child;case 6:return r===null&&It&&((r=f=On)&&(f=e8(f,s.pendingProps,pi),f!==null?(s.stateNode=f,Na=s,On=null,r=!0):r=!1),r||Ms(s)),null;case 13:return cc(r,s,f);case 4:return nt(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ko(s,null,h,f):ua(r,s,h,f),s.child;case 11:return vp(r,s,s.type,s.pendingProps,f);case 7:return ua(r,s,s.pendingProps,f),s.child;case 8:return ua(r,s,s.pendingProps.children,f),s.child;case 12:return ua(r,s,s.pendingProps.children,f),s.child;case 10:return h=s.pendingProps,jr(s,s.type,h.value),ua(r,s,h.children,f),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,zs(s),y=Ma(y),h=h(y),s.flags|=1,ua(r,s,h,f),s.child;case 14:return qf(r,s,s.type,s.pendingProps,f);case 15:return yp(r,s,s.type,s.pendingProps,f);case 19:return wi(r,s,f);case 31:return h=s.pendingProps,f=s.mode,h={mode:h.mode,children:h.children},r===null?(f=Xa(h,f),f.ref=s.ref,s.child=f,f.return=s,s=f):(f=hi(r.child,h),f.ref=s.ref,s.child=f,f.return=s,s=f),s;case 22:return bp(r,s,f);case 24:return zs(s),h=Ma(In),r===null?(y=Ot(),y===null&&(y=hn,x=Ro(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=f),y=x),s.memoizedState={parent:h,cache:y},Ku(s),jr(s,In,y)):((r.lanes&f)!==0&&(Fu(r,s),ks(s,null,null,f),Qu()),y=r.memoizedState,x=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),jr(s,In,h)):(h=x.cache,jr(s,In,h),h!==y.cache&&tn(s,[In],f,!0))),ua(r,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function kn(r){r.flags|=4}function Kn(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!qb(s)){if(s=Sr.current,s!==null&&((qt&4194048)===qt?xi!==null:(qt&62914560)!==qt&&(qt&536870912)===0||s!==xi))throw Xu=Us,Ug;r.flags|=8192}}function Zt(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Hi():536870912,r.lanes|=s,Yo|=s)}function Qr(r,s){if(!It)switch(r.tailMode){case"hidden":s=r.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,f=0,h=0;if(s)for(var y=r.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=f,s}function Fh(r,s,f){var h=s.pendingProps;switch(Ef(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return Wt(s),null;case 3:return f=s.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),vi(In),mt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Ds(s)?kn(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yh())),Wt(s),null;case 26:return f=s.memoizedState,r===null?(kn(s),f!==null?(Wt(s),Kn(s,f)):(Wt(s),s.flags&=-16777217)):f?f!==r.memoizedState?(kn(s),Wt(s),Kn(s,f)):(Wt(s),s.flags&=-16777217):(r.memoizedProps!==h&&kn(s),Wt(s),s.flags&=-16777217),null;case 27:gn(s),f=Me.current;var y=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==h&&kn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Wt(s),null}r=be.current,Ds(s)?vh(s):(r=zb(y,h,f),s.stateNode=r,kn(s))}return Wt(s),null;case 5:if(gn(s),f=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==h&&kn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Wt(s),null}if(r=be.current,Ds(s))vh(s);else{switch(y=Ap(Me.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(f,{is:h.is}):y.createElement(f)}}r[se]=s,r[Ae]=h;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=r;e:switch($a(r,f,h),f){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&kn(s)}}return Wt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==h&&kn(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(r=Me.current,Ds(s)){if(r=s.stateNode,f=s.memoizedProps,h=null,y=Na,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[se]=s,r=!!(r.nodeValue===f||h!==null&&h.suppressHydrationWarning===!0||Ab(r.nodeValue,f)),r||Ms(s)}else r=Ap(r).createTextNode(h),r[se]=s,s.stateNode=r}return Wt(s),null;case 13:if(h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Ds(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[se]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),y=!1}else y=yh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(as(s),s):(as(s),null)}if(as(s),(s.flags&128)!==0)return s.lanes=f,s;if(f=h!==null,r=r!==null&&r.memoizedState!==null,f){h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)}return f!==r&&f&&(s.child.flags|=8192),Zt(s,s.updateQueue),Wt(s),null;case 4:return mt(),r===null&&l1(s.stateNode.containerInfo),Wt(s),null;case 10:return vi(s.type),Wt(s),null;case 19:if(Ee(kt),y=s.memoizedState,y===null)return Wt(s),null;if(h=(s.flags&128)!==0,x=y.rendering,x===null)if(h)Qr(y,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=lc(r),x!==null){for(s.flags|=128,Qr(y,!1),r=x.updateQueue,s.updateQueue=r,Zt(s,r),s.subtreeFlags=0,r=f,f=s.child;f!==null;)Sf(f,r),f=f.sibling;return Q(kt,kt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Wn()>Zl&&(s.flags|=128,h=!0,Qr(y,!1),s.lanes=4194304)}else{if(!h)if(r=lc(x),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,Zt(s,r),Qr(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!It)return Wt(s),null}else 2*Wn()-y.renderingStartTime>Zl&&f!==536870912&&(s.flags|=128,h=!0,Qr(y,!1),s.lanes=4194304);y.isBackwards?(x.sibling=s.child,s.child=x):(r=y.last,r!==null?r.sibling=x:s.child=x,y.last=x)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Wn(),s.sibling=null,r=kt.current,Q(kt,h?r&1|2:r&1),s):(Wt(s),null);case 22:case 23:return as(s),Ch(),h=s.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(f&536870912)!==0&&(s.flags&128)===0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),f=s.updateQueue,f!==null&&Zt(s,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048),r!==null&&Ee(Wi),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),vi(In),Wt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function xr(r,s){switch(Ef(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vi(In),mt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return gn(s),null;case 13:if(as(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ee(kt),null;case 4:return mt(),null;case 10:return vi(s.type),null;case 22:case 23:return as(s),Ch(),r!==null&&Ee(Wi),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return vi(In),null;case 25:return null;default:return null}}function dc(r,s){switch(Ef(s),s.tag){case 3:vi(In),mt();break;case 26:case 27:case 5:gn(s);break;case 4:mt();break;case 13:as(s);break;case 19:Ee(kt);break;case 10:vi(s.type);break;case 22:case 23:as(s),Ch(),r!==null&&Ee(Wi);break;case 24:vi(In)}}function $r(r,s){try{var f=s.updateQueue,h=f!==null?f.lastEffect:null;if(h!==null){var y=h.next;f=y;do{if((f.tag&r)===r){h=void 0;var x=f.create,D=f.inst;h=x(),D.destroy=h}f=f.next}while(f!==y)}}catch(U){te(s,s.return,U)}}function Da(r,s,f){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&r)===r){var D=h.inst,U=D.destroy;if(U!==void 0){D.destroy=void 0,y=s;var V=f,le=U;try{le()}catch(we){te(y,V,we)}}}h=h.next}while(h!==x)}}catch(we){te(s,s.return,we)}}function Sp(r){var s=r.updateQueue;if(s!==null){var f=r.stateNode;try{kg(s,f)}catch(h){te(r,r.return,h)}}}function xp(r,s,f){f.props=rs(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(h){te(r,s,h)}}function hc(r,s){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof f=="function"?r.refCleanup=f(h):f.current=h}}catch(y){te(r,s,y)}}function nn(r,s){var f=r.ref,h=r.refCleanup;if(f!==null)if(typeof h=="function")try{h()}catch(y){te(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){te(r,s,y)}else f.current=null}function gc(r){var s=r.type,f=r.memoizedProps,h=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&h.focus();break e;case"img":f.src?h.src=f.src:f.srcSet&&(h.srcset=f.srcSet)}}catch(y){te(r,r.return,y)}}function Zs(r,s,f){try{var h=r.stateNode;Kw(h,r.type,f,s),h[Ae]=s}catch(y){te(r,r.return,y)}}function If(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Qo(r.type)||r.tag===4}function Bo(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||If(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Qo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pc(r,s,f){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(r),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Tp));else if(h!==4&&(h===27&&Qo(r.type)&&(f=r.stateNode,s=null),r=r.child,r!==null))for(pc(r,s,f),r=r.sibling;r!==null;)pc(r,s,f),r=r.sibling}function ss(r,s,f){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?f.insertBefore(r,s):f.appendChild(r);else if(h!==4&&(h===27&&Qo(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(ss(r,s,f),r=r.sibling;r!==null;)ss(r,s,f),r=r.sibling}function Ho(r){var s=r.stateNode,f=r.memoizedProps;try{for(var h=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);$a(s,h,f),s[se]=r,s[Ae]=f}catch(x){te(r,r.return,x)}}var Wr=!1,bn=!1,Is=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function t1(r,s){if(r=r.containerInfo,c1=jp,r=fh(r),Cl(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var D=0,U=-1,V=-1,le=0,we=0,Te=r,de=null;t:for(;;){for(var pe;Te!==f||y!==0&&Te.nodeType!==3||(U=D+y),Te!==x||h!==0&&Te.nodeType!==3||(V=D+h),Te.nodeType===3&&(D+=Te.nodeValue.length),(pe=Te.firstChild)!==null;)de=Te,Te=pe;for(;;){if(Te===r)break t;if(de===f&&++le===y&&(U=D),de===x&&++we===h&&(V=D),(pe=Te.nextSibling)!==null)break;Te=de,de=Te.parentNode}Te=pe}f=U===-1||V===-1?null:{start:U,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for(f1={focusedElem:r,selectionRange:f},jp=!1,Nn=s;Nn!==null;)if(s=Nn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Nn=r;else for(;Nn!==null;){switch(s=Nn,x=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,f=s,y=x.memoizedProps,x=x.memoizedState,h=f.stateNode;try{var yt=rs(f.type,y,f.elementType===f.type);r=h.getSnapshotBeforeUpdate(yt,x),h.__reactInternalSnapshotBeforeUpdate=r}catch(dt){te(f,f.return,dt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,f=r.nodeType,f===9)g1(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":g1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Nn=r;break}Nn=s.return}}function Go(r,s,f){var h=f.flags;switch(f.tag){case 0:case 11:case 15:Gt(r,f),h&4&&$r(5,f);break;case 1:if(Gt(r,f),h&4)if(r=f.stateNode,s===null)try{r.componentDidMount()}catch(D){te(f,f.return,D)}else{var y=rs(f.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){te(f,f.return,D)}}h&64&&Sp(f),h&512&&hc(f,f.return);break;case 3:if(Gt(r,f),h&64&&(r=f.updateQueue,r!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{kg(r,s)}catch(D){te(f,f.return,D)}}break;case 27:s===null&&h&4&&Ho(f);case 26:case 5:Gt(r,f),s===null&&h&4&&gc(f),h&512&&hc(f,f.return);break;case 12:Gt(r,f);break;case 13:Gt(r,f),h&4&&Vl(r,f),h&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=Ie.bind(null,f),t8(r,f))));break;case 22:if(h=f.memoizedState!==null||Wr,!h){s=s!==null&&s.memoizedState!==null||bn,y=Wr;var x=bn;Wr=h,(bn=s)&&!x?Jr(r,f,(f.subtreeFlags&8772)!==0):Gt(r,f),Wr=y,bn=x}break;case 30:break;default:Gt(r,f)}}function Xf(r){var s=r.alternate;s!==null&&(r.alternate=null,Xf(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&at(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pn=null,ya=!1;function fr(r,s,f){for(f=f.child;f!==null;)wr(r,s,f),f=f.sibling}function wr(r,s,f){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Ye,f)}catch{}switch(f.tag){case 26:bn||nn(f,s),fr(r,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:bn||nn(f,s);var h=pn,y=ya;Qo(f.type)&&(pn=f.stateNode,ya=!1),fr(r,s,f),n0(f.stateNode),pn=h,ya=y;break;case 5:bn||nn(f,s);case 6:if(h=pn,y=ya,pn=null,fr(r,s,f),pn=h,ya=y,pn!==null)if(ya)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(f.stateNode)}catch(x){te(f,s,x)}else try{pn.removeChild(f.stateNode)}catch(x){te(f,s,x)}break;case 18:pn!==null&&(ya?(r=pn,Db(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),c0(r)):Db(pn,f.stateNode));break;case 4:h=pn,y=ya,pn=f.stateNode.containerInfo,ya=!0,fr(r,s,f),pn=h,ya=y;break;case 0:case 11:case 14:case 15:bn||Da(2,f,s),bn||Da(4,f,s),fr(r,s,f);break;case 1:bn||(nn(f,s),h=f.stateNode,typeof h.componentWillUnmount=="function"&&xp(f,s,h)),fr(r,s,f);break;case 21:fr(r,s,f);break;case 22:bn=(h=bn)||f.memoizedState!==null,fr(r,s,f),bn=h;break;default:fr(r,s,f)}}function Vl(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{c0(r)}catch(f){te(s,s.return,f)}}function $h(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Qh),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Qh),s;default:throw Error(a(435,r.tag))}}function Ei(r,s){var f=$h(r);s.forEach(function(h){var y=Tt.bind(null,r,h);f.has(h)||(f.add(h),h.then(y,y))})}function Ka(r,s){var f=s.deletions;if(f!==null)for(var h=0;h<f.length;h++){var y=f[h],x=r,D=s,U=D;e:for(;U!==null;){switch(U.tag){case 27:if(Qo(U.type)){pn=U.stateNode,ya=!1;break e}break;case 5:pn=U.stateNode,ya=!1;break e;case 3:case 4:pn=U.stateNode.containerInfo,ya=!0;break e}U=U.return}if(pn===null)throw Error(a(160));wr(x,D,y),pn=null,ya=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)mc(s,r),s=s.sibling}var ja=null;function mc(r,s){var f=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ka(s,r),Fn(r),h&4&&(Da(3,r,r.return),$r(3,r),Da(5,r,r.return));break;case 1:Ka(s,r),Fn(r),h&512&&(bn||f===null||nn(f,f.return)),h&64&&Wr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?h:f.concat(h))));break;case 26:var y=ja;if(Ka(s,r),Fn(r),h&512&&(bn||f===null||nn(f,f.return)),h&4){var x=f!==null?f.memoizedState:null;if(h=r.memoizedState,f===null)if(h===null)if(r.stateNode===null){e:{h=r.type,f=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[it]||x[se]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),$a(x,h,f),x[se]=r,Bt(x),h=x;break e;case"link":var D=Hb("link","href",y).get(h+(f.href||""));if(D){for(var U=0;U<D.length;U++)if(x=D[U],x.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(U,1);break t}}x=y.createElement(h),$a(x,h,f),y.head.appendChild(x);break;case"meta":if(D=Hb("meta","content",y).get(h+(f.content||""))){for(U=0;U<D.length;U++)if(x=D[U],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(U,1);break t}}x=y.createElement(h),$a(x,h,f),y.head.appendChild(x);break;default:throw Error(a(468,h))}x[se]=r,Bt(x),h=x}r.stateNode=h}else Gb(y,r.type,r.stateNode);else r.stateNode=Bb(y,h,r.memoizedProps);else x!==h?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,h===null?Gb(y,r.type,r.stateNode):Bb(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Zs(r,r.memoizedProps,f.memoizedProps)}break;case 27:Ka(s,r),Fn(r),h&512&&(bn||f===null||nn(f,f.return)),f!==null&&h&4&&Zs(r,r.memoizedProps,f.memoizedProps);break;case 5:if(Ka(s,r),Fn(r),h&512&&(bn||f===null||nn(f,f.return)),r.flags&32){y=r.stateNode;try{yl(y,"")}catch(pe){te(r,r.return,pe)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Zs(r,y,f!==null?f.memoizedProps:y)),h&1024&&(Is=!0);break;case 6:if(Ka(s,r),Fn(r),h&4){if(r.stateNode===null)throw Error(a(162));h=r.memoizedProps,f=r.stateNode;try{f.nodeValue=h}catch(pe){te(r,r.return,pe)}}break;case 3:if(Np=null,y=ja,ja=Rp(s.containerInfo),Ka(s,r),ja=y,Fn(r),h&4&&f!==null&&f.memoizedState.isDehydrated)try{c0(s.containerInfo)}catch(pe){te(r,r.return,pe)}Is&&(Is=!1,At(r));break;case 4:h=ja,ja=Rp(r.stateNode.containerInfo),Ka(s,r),Fn(r),ja=h;break;case 12:Ka(s,r),Fn(r);break;case 13:Ka(s,r),Fn(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Io=Wn()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ei(r,h)));break;case 22:y=r.memoizedState!==null;var V=f!==null&&f.memoizedState!==null,le=Wr,we=bn;if(Wr=le||y,bn=we||V,Ka(s,r),bn=we,Wr=le,Fn(r),h&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(f===null||V||Wr||bn||_n(r)),f=null,s=r;;){if(s.tag===5||s.tag===26){if(f===null){V=f=s;try{if(x=V.stateNode,y)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{U=V.stateNode;var Te=V.memoizedProps.style,de=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;U.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(pe){te(V,V.return,pe)}}}else if(s.tag===6){if(f===null){V=s;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(pe){te(V,V.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=r.updateQueue,h!==null&&(f=h.retryQueue,f!==null&&(h.retryQueue=null,Ei(r,f))));break;case 19:Ka(s,r),Fn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ei(r,h)));break;case 30:break;case 21:break;default:Ka(s,r),Fn(r)}}function Fn(r){var s=r.flags;if(s&2){try{for(var f,h=r.return;h!==null;){if(If(h)){f=h;break}h=h.return}if(f==null)throw Error(a(160));switch(f.tag){case 27:var y=f.stateNode,x=Bo(r);ss(r,x,y);break;case 5:var D=f.stateNode;f.flags&32&&(yl(D,""),f.flags&=-33);var U=Bo(r);ss(r,U,D);break;case 3:case 4:var V=f.stateNode.containerInfo,le=Bo(r);pc(r,le,V);break;default:throw Error(a(161))}}catch(we){te(r,r.return,we)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function At(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;At(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Gt(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Go(r,s.alternate,s),s=s.sibling}function _n(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return),_n(s);break;case 1:nn(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&xp(s,s.return,f),_n(s);break;case 27:n0(s.stateNode);case 26:case 5:nn(s,s.return),_n(s);break;case 22:s.memoizedState===null&&_n(s);break;case 30:_n(s);break;default:_n(s)}r=r.sibling}}function Jr(r,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=r,x=s,D=x.flags;switch(x.tag){case 0:case 11:case 15:Jr(y,x,f),$r(4,x);break;case 1:if(Jr(y,x,f),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(le){te(h,h.return,le)}if(h=x,y=h.updateQueue,y!==null){var U=h.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)ot(V[y],U)}catch(le){te(h,h.return,le)}}f&&D&64&&Sp(x),hc(x,x.return);break;case 27:Ho(x);case 26:case 5:Jr(y,x,f),f&&h===null&&D&4&&gc(x),hc(x,x.return);break;case 12:Jr(y,x,f);break;case 13:Jr(y,x,f),f&&D&4&&Vl(y,x);break;case 22:x.memoizedState===null&&Jr(y,x,f),hc(x,x.return);break;case 30:break;default:Jr(y,x,f)}s=s.sibling}}function Xs(r,s){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&Xr(f))}function ls(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Xr(r))}function Er(r,s,f,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qo(r,s,f,h),s=s.sibling}function qo(r,s,f,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Er(r,s,f,h),y&2048&&$r(9,s);break;case 1:Er(r,s,f,h);break;case 3:Er(r,s,f,h),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Xr(r)));break;case 12:if(y&2048){Er(r,s,f,h),r=s.stateNode;try{var x=s.memoizedProps,D=x.id,U=x.onPostCommit;typeof U=="function"&&U(D,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){te(s,s.return,V)}}else Er(r,s,f,h);break;case 13:Er(r,s,f,h);break;case 23:break;case 22:x=s.stateNode,D=s.alternate,s.memoizedState!==null?x._visibility&2?Er(r,s,f,h):vc(r,s):x._visibility&2?Er(r,s,f,h):(x._visibility|=2,ei(r,s,f,h,(s.subtreeFlags&10256)!==0)),y&2048&&Xs(D,s);break;case 24:Er(r,s,f,h),y&2048&&ls(s.alternate,s);break;default:Er(r,s,f,h)}}function ei(r,s,f,h,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=r,D=s,U=f,V=h,le=D.flags;switch(D.tag){case 0:case 11:case 15:ei(x,D,U,V,y),$r(8,D);break;case 23:break;case 22:var we=D.stateNode;D.memoizedState!==null?we._visibility&2?ei(x,D,U,V,y):vc(x,D):(we._visibility|=2,ei(x,D,U,V,y)),y&&le&2048&&Xs(D.alternate,D);break;case 24:ei(x,D,U,V,y),y&&le&2048&&ls(D.alternate,D);break;default:ei(x,D,U,V,y)}s=s.sibling}}function vc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=r,h=s,y=h.flags;switch(h.tag){case 22:vc(f,h),y&2048&&Xs(h.alternate,h);break;case 24:vc(f,h),y&2048&&ls(h.alternate,h);break;default:vc(f,h)}s=s.sibling}}var Ks=8192;function Yl(r){if(r.subtreeFlags&Ks)for(r=r.child;r!==null;)Wh(r),r=r.sibling}function Wh(r){switch(r.tag){case 26:Yl(r),r.flags&Ks&&r.memoizedState!==null&&g8(ja,r.memoizedState,r.memoizedProps);break;case 5:Yl(r);break;case 3:case 4:var s=ja;ja=Rp(r.stateNode.containerInfo),Yl(r),ja=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ks,Ks=16777216,Yl(r),Ks=s):Yl(r));break;default:Yl(r)}}function wp(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ci(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];Nn=h,Jh(h,r)}wp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vo(r),r=r.sibling}function Vo(r){switch(r.tag){case 0:case 11:case 15:Ci(r),r.flags&2048&&Da(9,r,r.return);break;case 3:Ci(r);break;case 12:Ci(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,os(r)):Ci(r);break;default:Ci(r)}}function os(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];Nn=h,Jh(h,r)}wp(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Da(8,s,s.return),os(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,os(s));break;default:os(s)}r=r.sibling}}function Jh(r,s){for(;Nn!==null;){var f=Nn;switch(f.tag){case 0:case 11:case 15:Da(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var h=f.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Xr(f.memoizedState.cache)}if(h=f.child,h!==null)h.return=f,Nn=h;else e:for(f=r;Nn!==null;){h=Nn;var y=h.sibling,x=h.return;if(Xf(h),h===f){Nn=null;break e}if(y!==null){y.return=x,Nn=y;break e}Nn=x}}}var Ur={getCacheForType:function(r){var s=Ma(In),f=s.data.get(r);return f===void 0&&(f=r(),s.data.set(r,f)),f}},Ti=typeof WeakMap=="function"?WeakMap:Map,pt=0,hn=null,Ut=null,qt=0,vt=0,Fa=null,za=!1,Sn=!1,yc=!1,Ai=0,Mt=0,mn=0,Qn=0,Cr=0,ba=0,Yo=0,Fs=null,_a=null,Zo=!1,Io=0,Zl=1/0,Qs=null,$s=null,ut=0,Xt=null,Et=null,Dt=0,an=0,Qa=null,us=null,Ri=0,bc=null;function Vn(){if((pt&2)!==0&&qt!==0)return qt&-qt;if(B.T!==null){var r=Oo;return r!==0?r:a1()}return pl()}function Ln(){ba===0&&(ba=(qt&536870912)===0||It?Bn():536870912);var r=Sr.current;return r!==null&&(r.flags|=32),ba}function $n(r,s,f){(r===hn&&(vt===2||vt===9)||r.cancelPendingCommit!==null)&&(el(r,0),Tr(r,qt,ba,!1)),Yr(r,f),((pt&2)===0||r!==hn)&&(r===hn&&((pt&2)===0&&(Qn|=f),Mt===4&&Tr(r,qt,ba,!1)),We(r))}function Ws(r,s,f){if((pt&6)!==0)throw Error(a(327));var h=!f&&(s&124)===0&&(s&r.expiredLanes)===0||wt(r,s),y=h?Ko(r,s):ea(r,s,!0),x=h;do{if(y===0){Sn&&!h&&Tr(r,s,0,!1);break}else{if(f=r.current.alternate,x&&!kr(f)){y=ea(r,s,!1),x=!1;continue}if(y===2){if(x=s,r.errorRecoveryDisabledLanes&x)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var U=r;y=Fs;var V=U.current.memoizedState.isDehydrated;if(V&&(el(U,D).flags|=256),D=ea(U,D,!1),D!==2){if(yc&&!V){U.errorRecoveryDisabledLanes|=x,Qn|=x,y=4;break e}x=_a,_a=y,x!==null&&(_a===null?_a=x:_a.push.apply(_a,x))}y=D}if(x=!1,y!==2)continue}}if(y===1){el(r,0),Tr(r,s,0,!0);break}e:{switch(h=r,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Tr(h,s,ba,!za);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Io+300-Wn(),10<y)){if(Tr(h,s,ba,!za),$t(h,0,!0)!==0)break e;h.timeoutHandle=Nb(Kf.bind(null,h,f,_a,Qs,Zo,s,ba,Qn,Yo,za,x,2,-0,0),y);break e}Kf(h,f,_a,Qs,Zo,s,ba,Qn,Yo,za,x,0,-0,0)}}break}while(!0);We(r)}function Kf(r,s,f,h,y,x,D,U,V,le,we,Te,de,pe){if(r.timeoutHandle=-1,Te=s.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(i0={stylesheets:null,count:0,unsuspend:h8},Wh(s),Te=p8(),Te!==null)){r.cancelPendingCommit=Te(o.bind(null,r,s,x,f,h,y,D,U,V,we,1,de,pe)),Tr(r,x,D,!le);return}o(r,s,x,f,h,y,D,U,V)}function kr(r){for(var s=r;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var h=0;h<f.length;h++){var y=f[h],x=y.getSnapshot;y=y.value;try{if(!yr(x(),y))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Tr(r,s,f,h){s&=~Cr,s&=~Qn,r.suspendedLanes|=s,r.pingedLanes&=~s,h&&(r.warmLanes|=s),h=r.expirationTimes;for(var y=s;0<y;){var x=31-Jt(y),D=1<<x;h[x]=-1,y&=~D}f!==0&&Ss(r,f,s)}function Js(){return(pt&6)===0?(on(0),!1):!0}function Ua(){if(Ut!==null){if(vt===0)var r=Ut.return;else r=Ut,mi=js=null,Ah(r),Uo=null,Za=0,r=Ut;for(;r!==null;)dc(r.alternate,r),r=r.return;Ut=null}}function el(r,s){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,Qw(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Ua(),hn=r,Ut=f=hi(r.current,null),qt=s,vt=0,Fa=null,za=!1,Sn=wt(r,s),yc=!1,Yo=ba=Cr=Qn=mn=Mt=0,_a=Fs=null,Zo=!1,(s&8)!==0&&(s|=s&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=s;0<h;){var y=31-Jt(h),x=1<<y;s|=r[y],h&=~x}return Ai=s,br(),f}function Ff(r,s){Nt=null,B.H=Pf,s===Ul||s===kl?(s=xh(),vt=3):s===Ug?(s=xh(),vt=4):vt=s===mp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fa=s,Ut===null&&(Mt=1,Hf(r,sa(s,r.current)))}function Xo(){var r=B.H;return B.H=Pf,r===null?Pf:r}function _c(){var r=B.A;return B.A=Ur,r}function Oi(){Mt=4,za||(qt&4194048)!==qt&&Sr.current!==null||(Sn=!0),(mn&134217727)===0&&(Qn&134217727)===0||hn===null||Tr(hn,qt,ba,!1)}function ea(r,s,f){var h=pt;pt|=2;var y=Xo(),x=_c();(hn!==r||qt!==s)&&(Qs=null,el(r,s)),s=!1;var D=Mt;e:do try{if(vt!==0&&Ut!==null){var U=Ut,V=Fa;switch(vt){case 8:Ua(),D=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(s=!0);var le=vt;if(vt=0,Fa=null,Il(r,U,V,le),f&&Sn){D=0;break e}break;default:le=vt,vt=0,Fa=null,Il(r,U,V,le)}}tl(),D=Mt;break}catch(we){Ff(r,we)}while(!0);return s&&r.shellSuspendCounter++,mi=js=null,pt=h,B.H=y,B.A=x,Ut===null&&(hn=null,qt=0,br()),D}function tl(){for(;Ut!==null;)Qf(Ut)}function Ko(r,s){var f=pt;pt|=2;var h=Xo(),y=_c();hn!==r||qt!==s?(Qs=null,Zl=Wn()+500,el(r,s)):Sn=wt(r,s);e:do try{if(vt!==0&&Ut!==null){s=Ut;var x=Fa;t:switch(vt){case 1:vt=0,Fa=null,Il(r,s,x,1);break;case 2:case 9:if(Ll(x)){vt=0,Fa=null,$f(s);break}s=function(){vt!==2&&vt!==9||hn!==r||(vt=7),We(r)},x.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Ll(x)?(vt=0,Fa=null,$f(s)):(vt=0,Fa=null,Il(r,s,x,7));break;case 5:var D=null;switch(Ut.tag){case 26:D=Ut.memoizedState;case 5:case 27:var U=Ut;if(!D||qb(D)){vt=0,Fa=null;var V=U.sibling;if(V!==null)Ut=V;else{var le=U.return;le!==null?(Ut=le,nl(le)):Ut=null}break t}}vt=0,Fa=null,Il(r,s,x,5);break;case 6:vt=0,Fa=null,Il(r,s,x,6);break;case 8:Ua(),Mt=6;break e;default:throw Error(a(462))}}Fo();break}catch(we){Ff(r,we)}while(!0);return mi=js=null,B.H=h,B.A=y,pt=f,Ut!==null?0:(hn=null,qt=0,br(),Mt)}function Fo(){for(;Ut!==null&&!Ba();)Qf(Ut)}function Qf(r){var s=fc(r.alternate,r,Ai);r.memoizedProps=r.pendingProps,s===null?nl(r):Ut=s}function $f(r){var s=r,f=s.alternate;switch(s.tag){case 15:case 0:s=Vf(f,s,s.pendingProps,s.type,void 0,qt);break;case 11:s=Vf(f,s,s.pendingProps,s.type.render,s.ref,qt);break;case 5:Ah(s);default:dc(f,s),s=Ut=Sf(s,Ai),s=fc(f,s,Ai)}r.memoizedProps=r.pendingProps,s===null?nl(r):Ut=s}function Il(r,s,f,h){mi=js=null,Ah(s),Uo=null,Za=0;var y=s.return;try{if(e1(r,y,s,f,qt)){Mt=1,Hf(r,sa(f,r.current)),Ut=null;return}}catch(x){if(y!==null)throw Ut=y,x;Mt=1,Hf(r,sa(f,r.current)),Ut=null;return}s.flags&32768?(It||h===1?r=!0:Sn||(qt&536870912)!==0?r=!1:(za=r=!0,(h===2||h===9||h===3||h===6)&&(h=Sr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Wf(s,r)):nl(s)}function nl(r){var s=r;do{if((s.flags&32768)!==0){Wf(s,za);return}r=s.return;var f=Fh(s.alternate,s,Ai);if(f!==null){Ut=f;return}if(s=s.sibling,s!==null){Ut=s;return}Ut=s=r}while(s!==null);Mt===0&&(Mt=5)}function Wf(r,s){do{var f=xr(r.alternate,r);if(f!==null){f.flags&=32767,Ut=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(r=r.sibling,r!==null)){Ut=r;return}Ut=r=f}while(r!==null);Mt=6,Ut=null}function o(r,s,f,h,y,x,D,U,V){r.cancelPendingCommit=null;do A();while(ut!==0);if((pt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(x=s.lanes|s.childLanes,x|=Bu,Xc(r,f,x,D,U,V),r===hn&&(Ut=hn=null,qt=0),Et=s,Xt=r,Dt=f,an=x,Qa=y,us=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Lr(re,function(){return L(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,y=ue.p,ue.p=2,D=pt,pt|=4;try{t1(r,s,f)}finally{pt=D,ue.p=y,B.T=h}}ut=1,c(),p(),b()}}function c(){if(ut===1){ut=0;var r=Xt,s=Et,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var h=ue.p;ue.p=2;var y=pt;pt|=4;try{mc(s,r);var x=f1,D=fh(r.containerInfo),U=x.focusedElem,V=x.selectionRange;if(D!==U&&U&&U.ownerDocument&&ch(U.ownerDocument.documentElement,U)){if(V!==null&&Cl(U)){var le=V.start,we=V.end;if(we===void 0&&(we=le),"selectionStart"in U)U.selectionStart=le,U.selectionEnd=Math.min(we,U.value.length);else{var Te=U.ownerDocument||document,de=Te&&Te.defaultView||window;if(de.getSelection){var pe=de.getSelection(),yt=U.textContent.length,dt=Math.min(V.start,yt),wn=V.end===void 0?dt:Math.min(V.end,yt);!pe.extend&&dt>wn&&(D=wn,wn=dt,dt=D);var J=Ki(U,dt),K=Ki(U,wn);if(J&&K&&(pe.rangeCount!==1||pe.anchorNode!==J.node||pe.anchorOffset!==J.offset||pe.focusNode!==K.node||pe.focusOffset!==K.offset)){var ie=Te.createRange();ie.setStart(J.node,J.offset),pe.removeAllRanges(),dt>wn?(pe.addRange(ie),pe.extend(K.node,K.offset)):(ie.setEnd(K.node,K.offset),pe.addRange(ie))}}}}for(Te=[],pe=U;pe=pe.parentNode;)pe.nodeType===1&&Te.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Te.length;U++){var Ce=Te[U];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}jp=!!c1,f1=c1=null}finally{pt=y,ue.p=h,B.T=f}}r.current=s,ut=2}}function p(){if(ut===2){ut=0;var r=Xt,s=Et,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var h=ue.p;ue.p=2;var y=pt;pt|=4;try{Go(r,s.alternate,s)}finally{pt=y,ue.p=h,B.T=f}}ut=3}}function b(){if(ut===4||ut===3){ut=0,Ha();var r=Xt,s=Et,f=Dt,h=us;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ut=5:(ut=0,Et=Xt=null,w(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&($s=null),ho(f),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Ye,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,y=ue.p,ue.p=2,B.T=null;try{for(var x=r.onRecoverableError,D=0;D<h.length;D++){var U=h[D];x(U.value,{componentStack:U.stack})}}finally{B.T=s,ue.p=y}}(Dt&3)!==0&&A(),We(r),y=r.pendingLanes,(f&4194090)!==0&&(y&42)!==0?r===bc?Ri++:(Ri=0,bc=r):Ri=0,on(0)}}function w(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Xr(s)))}function A(r){return c(),p(),b(),L()}function L(){if(ut!==5)return!1;var r=Xt,s=an;an=0;var f=ho(Dt),h=B.T,y=ue.p;try{ue.p=32>f?32:f,B.T=null,f=Qa,Qa=null;var x=Xt,D=Dt;if(ut=0,Et=Xt=null,Dt=0,(pt&6)!==0)throw Error(a(331));var U=pt;if(pt|=4,Vo(x.current),qo(x,x.current,D,f),pt=U,on(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Ye,x)}catch{}return!0}finally{ue.p=y,B.T=h,w(r,s)}}function Z(r,s,f){s=sa(f,s),s=Lo(r.stateNode,s,2),r=Ya(r,s,2),r!==null&&(Yr(r,2),We(r))}function te(r,s,f){if(r.tag===3)Z(r,r,f);else for(;s!==null;){if(s.tag===3){Z(s,r,f);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($s===null||!$s.has(h))){r=sa(f,r),f=uc(2),h=Ya(s,f,2),h!==null&&(Gf(f,h,s,r),Yr(h,2),We(h));break}}s=s.return}}function Re(r,s,f){var h=r.pingCache;if(h===null){h=r.pingCache=new Ti;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(f)||(yc=!0,y.add(f),r=Le.bind(null,r,s,f),s.then(r,r))}function Le(r,s,f){var h=r.pingCache;h!==null&&h.delete(s),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,hn===r&&(qt&f)===f&&(Mt===4||Mt===3&&(qt&62914560)===qt&&300>Wn()-Io?(pt&2)===0&&el(r,0):Cr|=f,Yo===qt&&(Yo=0)),We(r)}function Ze(r,s){s===0&&(s=Hi()),r=di(r,s),r!==null&&(Yr(r,s),We(r))}function Ie(r){var s=r.memoizedState,f=0;s!==null&&(f=s.retryLane),Ze(r,f)}function Tt(r,s){var f=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(f=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),Ze(r,f)}function Lr(r,s){return ra(r,s)}var al=null,Pr=null,ce=!1,W=!1,ve=!1,je=0;function We(r){r!==Pr&&r.next===null&&(Pr===null?al=Pr=r:Pr=Pr.next=r),W=!0,ce||(ce=!0,n1())}function on(r,s){if(!ve&&W){ve=!0;do for(var f=!1,h=al;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var D=h.suspendedLanes,U=h.pingedLanes;x=(1<<31-Jt(42|r)+1)-1,x&=y&~(D&~U),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,cs(h,x))}else x=qt,x=$t(h,h===hn?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||wt(h,x)||(f=!0,cs(h,x));h=h.next}while(f);ve=!1}}function ht(){Kt()}function Kt(){W=ce=!1;var r=0;je!==0&&(Fw()&&(r=je),je=0);for(var s=Wn(),f=null,h=al;h!==null;){var y=h.next,x=ta(h,s);x===0?(h.next=null,f===null?al=y:f.next=y,y===null&&(Pr=f)):(f=h,(r!==0||(x&3)!==0)&&(W=!0)),h=y}on(r)}function ta(r,s){for(var f=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var D=31-Jt(x),U=1<<D,V=y[D];V===-1?((U&f)===0||(U&h)!==0)&&(y[D]=ln(U,s)):V<=s&&(r.expiredLanes|=U),x&=~U}if(s=hn,f=qt,f=$t(r,r===s?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,f===0||r===s&&(vt===2||vt===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&ia(h),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||wt(r,f)){if(s=f&-f,s===r.callbackPriority)return s;switch(h!==null&&ia(h),ho(f)){case 2:case 8:f=X;break;case 32:f=re;break;case 268435456:f=Ge;break;default:f=re}return h=Ft.bind(null,r),f=ra(f,h),r.callbackPriority=s,r.callbackNode=f,s}return h!==null&&h!==null&&ia(h),r.callbackPriority=2,r.callbackNode=null,2}function Ft(r,s){if(ut!==0&&ut!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(A()&&r.callbackNode!==f)return null;var h=qt;return h=$t(r,r===hn?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(Ws(r,h,s),ta(r,Wn()),r.callbackNode!=null&&r.callbackNode===f?Ft.bind(null,r):null)}function cs(r,s){if(A())return null;Ws(r,s,!0)}function n1(){$w(function(){(pt&6)!==0?ra(hr,ht):Kt()})}function a1(){return je===0&&(je=Bn()),je}function Sb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Jc(""+r)}function xb(r,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,r.id&&f.setAttribute("form",r.id),s.parentNode.insertBefore(f,s),r=new FormData(r),f.parentNode.removeChild(f),r}function qw(r,s,f,h,y){if(s==="submit"&&f&&f.stateNode===y){var x=Sb((y[Ae]||null).action),D=h.submitter;D&&(s=(s=D[Ae]||null)?Sb(s.formAction):D.getAttribute("formAction"),s!==null&&(x=s,D=null));var U=new Du("action","action",null,h,y);r.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(je!==0){var V=D?xb(y,D):new FormData(y);Bh(f,{pending:!0,data:V,method:y.method,action:x},null,V)}}else typeof x=="function"&&(U.preventDefault(),V=D?xb(y,D):new FormData(y),Bh(f,{pending:!0,data:V,method:y.method,action:x},x,V))},currentTarget:y}]})}}for(var r1=0;r1<Ra.length;r1++){var i1=Ra[r1],Vw=i1.toLowerCase(),Yw=i1[0].toUpperCase()+i1.slice(1);Nr(Vw,"on"+Yw)}Nr(dh,"onAnimationEnd"),Nr(Or,"onAnimationIteration"),Nr(_f,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Mg,"onTransitionRun"),Nr(Kv,"onTransitionStart"),Nr(hh,"onTransitionCancel"),Nr(Aa,"onTransitionEnd"),Ja("onMouseEnter",["mouseout","mouseover"]),Ja("onMouseLeave",["mouseout","mouseover"]),Ja("onPointerEnter",["pointerout","pointerover"]),Ja("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var e0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(e0));function wb(r,s){s=(s&4)!==0;for(var f=0;f<r.length;f++){var h=r[f],y=h.event;h=h.listeners;e:{var x=void 0;if(s)for(var D=h.length-1;0<=D;D--){var U=h[D],V=U.instance,le=U.currentTarget;if(U=U.listener,V!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=le;try{x(y)}catch(we){is(we)}y.currentTarget=null,x=V}else for(D=0;D<h.length;D++){if(U=h[D],V=U.instance,le=U.currentTarget,U=U.listener,V!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=le;try{x(y)}catch(we){is(we)}y.currentTarget=null,x=V}}}}function Vt(r,s){var f=s[Je];f===void 0&&(f=s[Je]=new Set);var h=r+"__bubble";f.has(h)||(Eb(s,r,2,!1),f.add(h))}function s1(r,s,f){var h=0;s&&(h|=4),Eb(f,r,h,s)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function l1(r){if(!r[Ep]){r[Ep]=!0,cn.forEach(function(f){f!=="selectionchange"&&(Zw.has(f)||s1(f,!1,r),s1(f,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ep]||(s[Ep]=!0,s1("selectionchange",!1,s))}}function Eb(r,s,f,h){switch(Kb(s)){case 2:var y=y8;break;case 8:y=b8;break;default:y=S1}f=y.bind(null,s,f,r),y=void 0,!tf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(s,f,{capture:!0,passive:y}):r.addEventListener(s,f,!0):y!==void 0?r.addEventListener(s,f,{passive:y}):r.addEventListener(s,f,!1)}function o1(r,s,f,h,y){var x=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var U=h.stateNode.containerInfo;if(U===y)break;if(D===4)for(D=h.return;D!==null;){var V=D.tag;if((V===3||V===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;U!==null;){if(D=Fe(U),D===null)return;if(V=D.tag,V===5||V===6||V===26||V===27){h=x=D;continue e}U=U.parentNode}}h=h.return}Wd(function(){var le=x,we=Es(f),Te=[];e:{var de=gh.get(r);if(de!==void 0){var pe=Du,yt=r;switch(r){case"keypress":if(vo(f)===0)break e;case"keydown":case"keyup":pe=of;break;case"focusin":yt="focus",pe=Sl;break;case"focusout":yt="blur",pe=Sl;break;case"beforeblur":case"afterblur":pe=Sl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Sg;break;case dh:case Or:case _f:pe=pg;break;case Aa:pe=va;break;case"scroll":case"scrollend":pe=Yv;break;case"wheel":pe=wg;break;case"copy":case"cut":case"paste":pe=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=uf;break;case"toggle":case"beforetoggle":pe=Cg}var dt=(s&4)!==0,wn=!dt&&(r==="scroll"||r==="scrollend"),J=dt?de!==null?de+"Capture":null:de;dt=[];for(var K=le,ie;K!==null;){var Ce=K;if(ie=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||ie===null||J===null||(Ce=po(K,J),Ce!=null&&dt.push(t0(K,Ce,ie))),wn)break;K=K.return}0<dt.length&&(de=new pe(de,yt,null,f,we),Te.push({event:de,listeners:dt}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",de&&f!==ef&&(yt=f.relatedTarget||f.fromElement)&&(Fe(yt)||yt[Pe]))break e;if((pe||de)&&(de=we.window===we?we:(de=we.ownerDocument)?de.defaultView||de.parentWindow:window,pe?(yt=f.relatedTarget||f.toElement,pe=le,yt=yt?Fe(yt):null,yt!==null&&(wn=l(yt),dt=yt.tag,yt!==wn||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(pe=null,yt=le),pe!==yt)){if(dt=ju,Ce="onMouseLeave",J="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(dt=uf,Ce="onPointerLeave",J="onPointerEnter",K="pointer"),wn=pe==null?de:en(pe),ie=yt==null?de:en(yt),de=new dt(Ce,K+"leave",pe,f,we),de.target=wn,de.relatedTarget=ie,Ce=null,Fe(we)===le&&(dt=new dt(J,K+"enter",yt,f,we),dt.target=ie,dt.relatedTarget=wn,Ce=dt),wn=Ce,pe&&yt)t:{for(dt=pe,J=yt,K=0,ie=dt;ie;ie=Jf(ie))K++;for(ie=0,Ce=J;Ce;Ce=Jf(Ce))ie++;for(;0<K-ie;)dt=Jf(dt),K--;for(;0<ie-K;)J=Jf(J),ie--;for(;K--;){if(dt===J||J!==null&&dt===J.alternate)break t;dt=Jf(dt),J=Jf(J)}dt=null}else dt=null;pe!==null&&Cb(Te,de,pe,dt,!1),yt!==null&&wn!==null&&Cb(Te,wn,yt,dt,!0)}}e:{if(de=le?en(le):window,pe=de.nodeName&&de.nodeName.toLowerCase(),pe==="select"||pe==="input"&&de.type==="file")var et=nr;else if(hf(de))if(oh)et=Un;else{et=vf;var Pt=Og}else pe=de.nodeName,!pe||pe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?le&&Wc(le.elementType)&&(et=nr):et=ku;if(et&&(et=et(r,le))){lh(Te,et,f,we);break e}Pt&&Pt(r,de,le),r==="focusout"&&le&&de.type==="number"&&le.memoizedProps.value!=null&&$c(de,"number",de.value)}switch(Pt=le?en(le):window,r){case"focusin":(hf(Pt)||Pt.contentEditable==="true")&&(Tl=Pt,Lu=le,wo=null);break;case"focusout":wo=Lu=Tl=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,yf(Te,f,we);break;case"selectionchange":if(ci)break;case"keydown":case"keyup":yf(Te,f,we)}var lt;if(_o)e:{switch(r){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ts?ff(r,f)&&(gt="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(gt="onCompositionStart");gt&&(ah&&f.locale!=="ko"&&(Ts||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ts&&(lt=Jd()):(Vi=we,Ou="value"in Vi?Vi.value:Vi.textContent,Ts=!0)),Pt=Cp(le,gt),0<Pt.length&&(gt=new Ii(gt,r,null,f,we),Te.push({event:gt,listeners:Pt}),lt?gt.data=lt:(lt=ih(f),lt!==null&&(gt.data=lt)))),(lt=Ag?df(r,f):sh(r,f))&&(gt=Cp(le,"onBeforeInput"),0<gt.length&&(Pt=new Ii("onBeforeInput","beforeinput",null,f,we),Te.push({event:Pt,listeners:gt}),Pt.data=lt)),qw(Te,r,le,f,we)}wb(Te,s)})}function t0(r,s,f){return{instance:r,listener:s,currentTarget:f}}function Cp(r,s){for(var f=s+"Capture",h=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=po(r,f),y!=null&&h.unshift(t0(r,y,x)),y=po(r,s),y!=null&&h.push(t0(r,y,x))),r.tag===3)return h;r=r.return}return[]}function Jf(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cb(r,s,f,h,y){for(var x=s._reactName,D=[];f!==null&&f!==h;){var U=f,V=U.alternate,le=U.stateNode;if(U=U.tag,V!==null&&V===h)break;U!==5&&U!==26&&U!==27||le===null||(V=le,y?(le=po(f,x),le!=null&&D.unshift(t0(f,le,V))):y||(le=po(f,x),le!=null&&D.push(t0(f,le,V)))),f=f.return}D.length!==0&&r.push({event:s,listeners:D})}var Iw=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function Tb(r){return(typeof r=="string"?r:""+r).replace(Iw,`
`).replace(Xw,"")}function Ab(r,s){return s=Tb(s),Tb(r)===s}function Tp(){}function xn(r,s,f,h,y,x){switch(f){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||yl(r,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&yl(r,""+h);break;case"className":Zr(r,"class",h);break;case"tabIndex":Zr(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(r,f,h);break;case"style":$d(r,h,x);break;case"data":if(s!=="object"){Zr(r,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||f!=="href")){r.removeAttribute(f);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(f);break}h=Jc(""+h),r.setAttribute(f,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(s!=="input"&&xn(r,s,"name",y.name,y,null),xn(r,s,"formEncType",y.formEncType,y,null),xn(r,s,"formMethod",y.formMethod,y,null),xn(r,s,"formTarget",y.formTarget,y,null)):(xn(r,s,"encType",y.encType,y,null),xn(r,s,"method",y.method,y,null),xn(r,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(f);break}h=Jc(""+h),r.setAttribute(f,h);break;case"onClick":h!=null&&(r.onclick=Tp);break;case"onScroll":h!=null&&Vt("scroll",r);break;case"onScrollEnd":h!=null&&Vt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=f}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}f=Jc(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(f,""+h):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":h===!0?r.setAttribute(f,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(f,h):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(f,h):r.removeAttribute(f);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(f):r.setAttribute(f,h);break;case"popover":Vt("beforetoggle",r),Vt("toggle",r),tr(r,"popover",h);break;case"xlinkActuate":Ta(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ta(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ta(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ta(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ta(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ta(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":tr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=fg.get(f)||f,tr(r,f,h))}}function u1(r,s,f,h,y,x){switch(f){case"style":$d(r,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=f}}break;case"children":typeof h=="string"?yl(r,h):(typeof h=="number"||typeof h=="bigint")&&yl(r,""+h);break;case"onScroll":h!=null&&Vt("scroll",r);break;case"onScrollEnd":h!=null&&Vt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Tp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rn.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),s=f.slice(2,y?f.length-7:void 0),x=r[Ae]||null,x=x!=null?x[f]:null,typeof x=="function"&&r.removeEventListener(s,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(s,h,y);break e}f in r?r[f]=h:h===!0?r.setAttribute(f,""):tr(r,f,h)}}}function $a(r,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",r),Vt("load",r);var h=!1,y=!1,x;for(x in f)if(f.hasOwnProperty(x)){var D=f[x];if(D!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:xn(r,s,x,D,f,null)}}y&&xn(r,s,"srcSet",f.srcSet,f,null),h&&xn(r,s,"src",f.src,f,null);return;case"input":Vt("invalid",r);var U=x=D=y=null,V=null,le=null;for(h in f)if(f.hasOwnProperty(h)){var we=f[h];if(we!=null)switch(h){case"name":y=we;break;case"type":D=we;break;case"checked":V=we;break;case"defaultChecked":le=we;break;case"value":x=we;break;case"defaultValue":U=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,s));break;default:xn(r,s,h,we,f,null)}}Qc(r,x,U,V,le,D,y,!1),Tu(r);return;case"select":Vt("invalid",r),h=D=x=null;for(y in f)if(f.hasOwnProperty(y)&&(U=f[y],U!=null))switch(y){case"value":x=U;break;case"defaultValue":D=U;break;case"multiple":h=U;default:xn(r,s,y,U,f,null)}s=x,f=D,r.multiple=!!h,s!=null?go(r,!!h,s,!1):f!=null&&go(r,!!h,f,!0);return;case"textarea":Vt("invalid",r),x=y=h=null;for(D in f)if(f.hasOwnProperty(D)&&(U=f[D],U!=null))switch(D){case"value":h=U;break;case"defaultValue":y=U;break;case"children":x=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:xn(r,s,D,U,f,null)}Kd(r,h,y,x),Tu(r);return;case"option":for(V in f)if(f.hasOwnProperty(V)&&(h=f[V],h!=null))switch(V){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:xn(r,s,V,h,f,null)}return;case"dialog":Vt("beforetoggle",r),Vt("toggle",r),Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":Vt("load",r);break;case"video":case"audio":for(h=0;h<e0.length;h++)Vt(e0[h],r);break;case"image":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"embed":case"source":case"link":Vt("error",r),Vt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in f)if(f.hasOwnProperty(le)&&(h=f[le],h!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:xn(r,s,le,h,f,null)}return;default:if(Wc(s)){for(we in f)f.hasOwnProperty(we)&&(h=f[we],h!==void 0&&u1(r,s,we,h,f,void 0));return}}for(U in f)f.hasOwnProperty(U)&&(h=f[U],h!=null&&xn(r,s,U,h,f,null))}function Kw(r,s,f,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,D=null,U=null,V=null,le=null,we=null;for(pe in f){var Te=f[pe];if(f.hasOwnProperty(pe)&&Te!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":V=Te;default:h.hasOwnProperty(pe)||xn(r,s,pe,null,h,Te)}}for(var de in h){var pe=h[de];if(Te=f[de],h.hasOwnProperty(de)&&(pe!=null||Te!=null))switch(de){case"type":x=pe;break;case"name":y=pe;break;case"checked":le=pe;break;case"defaultChecked":we=pe;break;case"value":D=pe;break;case"defaultValue":U=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,s));break;default:pe!==Te&&xn(r,s,de,pe,h,Te)}}Fc(r,D,U,V,le,we,x,y);return;case"select":pe=D=U=de=null;for(x in f)if(V=f[x],f.hasOwnProperty(x)&&V!=null)switch(x){case"value":break;case"multiple":pe=V;default:h.hasOwnProperty(x)||xn(r,s,x,null,h,V)}for(y in h)if(x=h[y],V=f[y],h.hasOwnProperty(y)&&(x!=null||V!=null))switch(y){case"value":de=x;break;case"defaultValue":U=x;break;case"multiple":D=x;default:x!==V&&xn(r,s,y,x,h,V)}s=U,f=D,h=pe,de!=null?go(r,!!f,de,!1):!!h!=!!f&&(s!=null?go(r,!!f,s,!0):go(r,!!f,f?[]:"",!1));return;case"textarea":pe=de=null;for(U in f)if(y=f[U],f.hasOwnProperty(U)&&y!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:xn(r,s,U,null,h,y)}for(D in h)if(y=h[D],x=f[D],h.hasOwnProperty(D)&&(y!=null||x!=null))switch(D){case"value":de=y;break;case"defaultValue":pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&xn(r,s,D,y,h,x)}Xd(r,de,pe);return;case"option":for(var yt in f)if(de=f[yt],f.hasOwnProperty(yt)&&de!=null&&!h.hasOwnProperty(yt))switch(yt){case"selected":r.selected=!1;break;default:xn(r,s,yt,null,h,de)}for(V in h)if(de=h[V],pe=f[V],h.hasOwnProperty(V)&&de!==pe&&(de!=null||pe!=null))switch(V){case"selected":r.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:xn(r,s,V,de,h,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in f)de=f[dt],f.hasOwnProperty(dt)&&de!=null&&!h.hasOwnProperty(dt)&&xn(r,s,dt,null,h,de);for(le in h)if(de=h[le],pe=f[le],h.hasOwnProperty(le)&&de!==pe&&(de!=null||pe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,s));break;default:xn(r,s,le,de,h,pe)}return;default:if(Wc(s)){for(var wn in f)de=f[wn],f.hasOwnProperty(wn)&&de!==void 0&&!h.hasOwnProperty(wn)&&u1(r,s,wn,void 0,h,de);for(we in h)de=h[we],pe=f[we],!h.hasOwnProperty(we)||de===pe||de===void 0&&pe===void 0||u1(r,s,we,de,h,pe);return}}for(var J in f)de=f[J],f.hasOwnProperty(J)&&de!=null&&!h.hasOwnProperty(J)&&xn(r,s,J,null,h,de);for(Te in h)de=h[Te],pe=f[Te],!h.hasOwnProperty(Te)||de===pe||de==null&&pe==null||xn(r,s,Te,de,h,pe)}var c1=null,f1=null;function Ap(r){return r.nodeType===9?r:r.ownerDocument}function Rb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function d1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var h1=null;function Fw(){var r=window.event;return r&&r.type==="popstate"?r===h1?!1:(h1=r,!0):(h1=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(r){return Mb.resolve(null).then(r).catch(Ww)}:Nb;function Ww(r){setTimeout(function(){throw r})}function Qo(r){return r==="head"}function Db(r,s){var f=s,h=0,y=0;do{var x=f.nextSibling;if(r.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(0<h&&8>h){f=h;var D=r.ownerDocument;if(f&1&&n0(D.documentElement),f&2&&n0(D.body),f&4)for(f=D.head,n0(f),D=f.firstChild;D;){var U=D.nextSibling,V=D.nodeName;D[it]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=U}}if(y===0){r.removeChild(x),c0(s);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:h=f.charCodeAt(0)-48;else h=0;f=x}while(f);c0(s)}function g1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":g1(f),at(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function Jw(r,s,f,h){for(;r.nodeType===1;){var y=f;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[it])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=fs(r.nextSibling),r===null)break}return null}function e8(r,s,f){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=fs(r.nextSibling),r===null))return null;return r}function p1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function t8(r,s){var f=r.ownerDocument;if(r.data!=="$?"||f.readyState==="complete")s();else{var h=function(){s(),f.removeEventListener("DOMContentLoaded",h)};f.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function fs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var m1=null;function jb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return r;s--}else f==="/$"&&s++}r=r.previousSibling}return null}function zb(r,s,f){switch(s=Ap(f),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function n0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);at(r)}var Ni=new Map,Ub=new Set;function Rp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Xl=ue.d;ue.d={f:n8,r:a8,D:r8,C:i8,L:s8,m:l8,X:u8,S:o8,M:c8};function n8(){var r=Xl.f(),s=Js();return r||s}function a8(r){var s=xt(r);s!==null&&s.tag===5&&s.type==="form"?lp(s):Xl.r(r)}var ed=typeof document>"u"?null:document;function kb(r,s,f){var h=ed;if(h&&typeof s=="string"&&s){var y=mr(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),Ub.has(y)||(Ub.add(y),r={rel:r,crossOrigin:f,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),$a(s,"link",r),Bt(s),h.head.appendChild(s)))}}function r8(r){Xl.D(r),kb("dns-prefetch",r,null)}function i8(r,s){Xl.C(r,s),kb("preconnect",r,s)}function s8(r,s,f){Xl.L(r,s,f);var h=ed;if(h&&r&&s){var y='link[rel="preload"][as="'+mr(s)+'"]';s==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+mr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+mr(f.imageSizes)+'"]')):y+='[href="'+mr(r)+'"]';var x=y;switch(s){case"style":x=td(r);break;case"script":x=nd(r)}Ni.has(x)||(r=v({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:r,as:s},f),Ni.set(x,r),h.querySelector(y)!==null||s==="style"&&h.querySelector(a0(x))||s==="script"&&h.querySelector(r0(x))||(s=h.createElement("link"),$a(s,"link",r),Bt(s),h.head.appendChild(s)))}}function l8(r,s){Xl.m(r,s);var f=ed;if(f&&r){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+mr(h)+'"][href="'+mr(r)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=nd(r)}if(!Ni.has(x)&&(r=v({rel:"modulepreload",href:r},s),Ni.set(x,r),f.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(r0(x)))return}h=f.createElement("link"),$a(h,"link",r),Bt(h),f.head.appendChild(h)}}}function o8(r,s,f){Xl.S(r,s,f);var h=ed;if(h&&r){var y=vn(h).hoistableStyles,x=td(r);s=s||"default";var D=y.get(x);if(!D){var U={loading:0,preload:null};if(D=h.querySelector(a0(x)))U.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},f),(f=Ni.get(x))&&v1(r,f);var V=D=h.createElement("link");Bt(V),$a(V,"link",r),V._p=new Promise(function(le,we){V.onload=le,V.onerror=we}),V.addEventListener("load",function(){U.loading|=1}),V.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Op(D,s,h)}D={type:"stylesheet",instance:D,count:1,state:U},y.set(x,D)}}}function u8(r,s){Xl.X(r,s);var f=ed;if(f&&r){var h=vn(f).hoistableScripts,y=nd(r),x=h.get(y);x||(x=f.querySelector(r0(y)),x||(r=v({src:r,async:!0},s),(s=Ni.get(y))&&y1(r,s),x=f.createElement("script"),Bt(x),$a(x,"link",r),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function c8(r,s){Xl.M(r,s);var f=ed;if(f&&r){var h=vn(f).hoistableScripts,y=nd(r),x=h.get(y);x||(x=f.querySelector(r0(y)),x||(r=v({src:r,async:!0,type:"module"},s),(s=Ni.get(y))&&y1(r,s),x=f.createElement("script"),Bt(x),$a(x,"link",r),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function Lb(r,s,f,h){var y=(y=Me.current)?Rp(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=td(f.href),f=vn(y).hoistableStyles,h=f.get(s),h||(h={type:"style",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=td(f.href);var x=vn(y).hoistableStyles,D=x.get(r);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,D),(x=y.querySelector(a0(r)))&&!x._p&&(D.instance=x,D.state.loading=5),Ni.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ni.set(r,f),x||f8(y,r,f,D.state))),s&&h===null)throw Error(a(528,""));return D}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nd(f),f=vn(y).hoistableScripts,h=f.get(s),h||(h={type:"script",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function td(r){return'href="'+mr(r)+'"'}function a0(r){return'link[rel="stylesheet"]['+r+"]"}function Pb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function f8(r,s,f,h){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=r.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),$a(s,"link",f),Bt(s),r.head.appendChild(s))}function nd(r){return'[src="'+mr(r)+'"]'}function r0(r){return"script[async]"+r}function Bb(r,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var h=r.querySelector('style[data-href~="'+mr(f.href)+'"]');if(h)return s.instance=h,Bt(h),h;var y=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Bt(h),$a(h,"style",y),Op(h,f.precedence,r),s.instance=h;case"stylesheet":y=td(f.href);var x=r.querySelector(a0(y));if(x)return s.state.loading|=4,s.instance=x,Bt(x),x;h=Pb(f),(y=Ni.get(y))&&v1(h,y),x=(r.ownerDocument||r).createElement("link"),Bt(x);var D=x;return D._p=new Promise(function(U,V){D.onload=U,D.onerror=V}),$a(x,"link",h),s.state.loading|=4,Op(x,f.precedence,r),s.instance=x;case"script":return x=nd(f.src),(y=r.querySelector(r0(x)))?(s.instance=y,Bt(y),y):(h=f,(y=Ni.get(x))&&(h=v({},f),y1(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),Bt(y),$a(y,"link",h),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Op(h,f.precedence,r));return s.instance}function Op(r,s,f){for(var h=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,D=0;D<h.length;D++){var U=h[D];if(U.dataset.precedence===s)x=U;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(r,s.firstChild))}function v1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function y1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Np=null;function Hb(r,s,f){if(Np===null){var h=new Map,y=Np=new Map;y.set(f,h)}else y=Np,h=y.get(f),h||(h=new Map,y.set(f,h));if(h.has(r))return h;for(h.set(r,null),f=f.getElementsByTagName(r),y=0;y<f.length;y++){var x=f[y];if(!(x[it]||x[se]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(s)||"";D=r+D;var U=h.get(D);U?U.push(x):h.set(D,[x])}}return h}function Gb(r,s,f){r=r.ownerDocument||r,r.head.insertBefore(f,s==="title"?r.querySelector("head > title"):null)}function d8(r,s,f){if(f===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var i0=null;function h8(){}function g8(r,s,f){if(i0===null)throw Error(a(475));var h=i0;if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=td(f.href),x=r.querySelector(a0(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=Mp.bind(h),r.then(h,h)),s.state.loading|=4,s.instance=x,Bt(x);return}x=r.ownerDocument||r,f=Pb(f),(y=Ni.get(y))&&v1(f,y),x=x.createElement("link"),Bt(x);var D=x;D._p=new Promise(function(U,V){D.onload=U,D.onerror=V}),$a(x,"link",f),s.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Mp.bind(h),r.addEventListener("load",s),r.addEventListener("error",s))}}function p8(){if(i0===null)throw Error(a(475));var r=i0;return r.stylesheets&&r.count===0&&b1(r,r.stylesheets),0<r.count?function(s){var f=setTimeout(function(){if(r.stylesheets&&b1(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(f)}}:null}function Mp(){if(this.count--,this.count===0){if(this.stylesheets)b1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Dp=null;function b1(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Dp=new Map,s.forEach(m8,r),Dp=null,Mp.call(r))}function m8(r,s){if(!(s.state.loading&4)){var f=Dp.get(r);if(f)var h=f.get(null);else{f=new Map,Dp.set(r,f);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var D=y[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),h=D)}h&&f.set(null,h)}y=s.instance,D=y.getAttribute("data-precedence"),x=f.get(D)||h,x===h&&f.set(null,y),f.set(D,y),this.count++,h=Mp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var s0={$$typeof:z,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function v8(r,s,f,h,y,x,D,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.hiddenUpdates=fo(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Vb(r,s,f,h,y,x,D,U,V,le,we,Te){return r=new v8(r,s,f,D,U,V,le,Te),s=1,x===!0&&(s|=24),x=ar(3,null,null,s),r.current=x,x.stateNode=r,s=Ro(),s.refCount++,r.pooledCache=s,s.refCount++,x.memoizedState={element:h,isDehydrated:f,cache:s},Ku(x),r}function Yb(r){return r?(r=Rl,r):Rl}function Zb(r,s,f,h,y,x){y=Yb(y),h.context===null?h.context=y:h.pendingContext=y,h=bi(s),h.payload={element:f},x=x===void 0?null:x,x!==null&&(h.callback=x),f=Ya(r,h,s),f!==null&&($n(f,r,s),Pl(f,r,s))}function Ib(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<s?f:s}}function _1(r,s){Ib(r,s),(r=r.alternate)&&Ib(r,s)}function Xb(r){if(r.tag===13){var s=di(r,67108864);s!==null&&$n(s,r,67108864),_1(r,67108864)}}var jp=!0;function y8(r,s,f,h){var y=B.T;B.T=null;var x=ue.p;try{ue.p=2,S1(r,s,f,h)}finally{ue.p=x,B.T=y}}function b8(r,s,f,h){var y=B.T;B.T=null;var x=ue.p;try{ue.p=8,S1(r,s,f,h)}finally{ue.p=x,B.T=y}}function S1(r,s,f,h){if(jp){var y=x1(h);if(y===null)o1(r,s,h,zp,f),Fb(r,h);else if(S8(y,r,s,f,h))h.stopPropagation();else if(Fb(r,h),s&4&&-1<_8.indexOf(r)){for(;y!==null;){var x=xt(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=De(x.pendingLanes);if(D!==0){var U=x;for(U.pendingLanes|=2,U.entangledLanes|=2;D;){var V=1<<31-Jt(D);U.entanglements[1]|=V,D&=~V}We(x),(pt&6)===0&&(Zl=Wn()+500,on(0))}}break;case 13:U=di(x,2),U!==null&&$n(U,x,2),Js(),_1(x,2)}if(x=x1(h),x===null&&o1(r,s,h,zp,f),x===y)break;y=x}y!==null&&h.stopPropagation()}else o1(r,s,h,null,f)}}function x1(r){return r=Es(r),w1(r)}var zp=null;function w1(r){if(zp=null,r=Fe(r),r!==null){var s=l(r);if(s===null)r=null;else{var f=s.tag;if(f===13){if(r=u(s),r!==null)return r;r=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return zp=r,null}function Kb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bi()){case hr:return 2;case X:return 8;case re:case fe:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var E1=!1,$o=null,Wo=null,Jo=null,l0=new Map,o0=new Map,eu=[],_8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fb(r,s){switch(r){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":l0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":o0.delete(s.pointerId)}}function u0(r,s,f,h,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:f,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},s!==null&&(s=xt(s),s!==null&&Xb(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function S8(r,s,f,h,y){switch(s){case"focusin":return $o=u0($o,r,s,f,h,y),!0;case"dragenter":return Wo=u0(Wo,r,s,f,h,y),!0;case"mouseover":return Jo=u0(Jo,r,s,f,h,y),!0;case"pointerover":var x=y.pointerId;return l0.set(x,u0(l0.get(x)||null,r,s,f,h,y)),!0;case"gotpointercapture":return x=y.pointerId,o0.set(x,u0(o0.get(x)||null,r,s,f,h,y)),!0}return!1}function Qb(r){var s=Fe(r.target);if(s!==null){var f=l(s);if(f!==null){if(s=f.tag,s===13){if(s=u(f),s!==null){r.blockedOn=s,I(r.priority,function(){if(f.tag===13){var h=Vn();h=Gi(h);var y=di(f,h);y!==null&&$n(y,f,h),_1(f,h)}});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Up(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var f=x1(r.nativeEvent);if(f===null){f=r.nativeEvent;var h=new f.constructor(f.type,f);ef=h,f.target.dispatchEvent(h),ef=null}else return s=xt(f),s!==null&&Xb(s),r.blockedOn=f,!1;s.shift()}return!0}function $b(r,s,f){Up(r)&&f.delete(s)}function x8(){E1=!1,$o!==null&&Up($o)&&($o=null),Wo!==null&&Up(Wo)&&(Wo=null),Jo!==null&&Up(Jo)&&(Jo=null),l0.forEach($b),o0.forEach($b)}function kp(r,s){r.blockedOn===s&&(r.blockedOn=null,E1||(E1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,x8)))}var Lp=null;function Wb(r){Lp!==r&&(Lp=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lp===r&&(Lp=null);for(var s=0;s<r.length;s+=3){var f=r[s],h=r[s+1],y=r[s+2];if(typeof h!="function"){if(w1(h||f)===null)continue;break}var x=xt(f);x!==null&&(r.splice(s,3),s-=3,Bh(x,{pending:!0,data:y,method:f.method,action:h},h,y))}}))}function c0(r){function s(V){return kp(V,r)}$o!==null&&kp($o,r),Wo!==null&&kp(Wo,r),Jo!==null&&kp(Jo,r),l0.forEach(s),o0.forEach(s);for(var f=0;f<eu.length;f++){var h=eu[f];h.blockedOn===r&&(h.blockedOn=null)}for(;0<eu.length&&(f=eu[0],f.blockedOn===null);)Qb(f),f.blockedOn===null&&eu.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(h=0;h<f.length;h+=3){var y=f[h],x=f[h+1],D=y[Ae]||null;if(typeof x=="function")D||Wb(f);else if(D){var U=null;if(x&&x.hasAttribute("formAction")){if(y=x,D=x[Ae]||null)U=D.formAction;else if(w1(y)!==null)continue}else U=D.action;typeof U=="function"?f[h+1]=U:(f.splice(h,3),h-=3),Wb(f)}}}function C1(r){this._internalRoot=r}Pp.prototype.render=C1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var f=s.current,h=Vn();Zb(f,h,r,s,null,null)},Pp.prototype.unmount=C1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Zb(r.current,2,null,r,null,null),Js(),s[Pe]=null}};function Pp(r){this._internalRoot=r}Pp.prototype.unstable_scheduleHydration=function(r){if(r){var s=pl();r={blockedOn:null,target:r,priority:s};for(var f=0;f<eu.length&&s!==0&&s<eu[f].priority;f++);eu.splice(f,0,r),f===0&&Qb(r)}};var Jb=e.version;if(Jb!=="19.1.1")throw Error(a(527,Jb,"19.1.1"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var w8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Ye=Bp.inject(w8),Qe=Bp}catch{}}return d0.createRoot=function(r,s){if(!i(r))throw Error(a(299));var f=!1,h="",y=Gl,x=ur,D=pp,U=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(U=s.unstable_transitionCallbacks)),s=Vb(r,1,!1,null,null,f,h,y,x,D,U,null),r[Pe]=s.current,l1(r),new C1(s)},d0.hydrateRoot=function(r,s,f){if(!i(r))throw Error(a(299));var h=!1,y="",x=Gl,D=ur,U=pp,V=null,le=null;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(U=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(V=f.unstable_transitionCallbacks),f.formState!==void 0&&(le=f.formState)),s=Vb(r,1,!0,s,f??null,h,y,x,D,U,V,le),s.context=Yb(null),f=s.current,h=Vn(),h=Gi(h),y=bi(h),y.callback=null,Ya(f,y,h),f=h,s.current.lanes=f,Yr(s,f),We(s),r[Pe]=s.current,l1(r),new Pp(s)},d0.version="19.1.1",d0}var u_;function j8(){if(u_)return A1.exports;u_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A1.exports=D8(),A1.exports}var z8=j8(),N=cv();const st=uv(N),n3=C8({__proto__:null,default:st},[N]);var a3=t=>{throw TypeError(t)},U8=(t,e,n)=>e.has(t)||a3("Cannot "+n),D1=(t,e,n)=>(U8(t,e,"read from private field"),n?n.call(t):e.get(t)),k8=(t,e,n)=>e.has(t)?a3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),c_="popstate";function L8(t={}){function e(i,l){let{pathname:u="/",search:d="",hash:g=""}=ro(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),P0("",{pathname:u,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let g=i.location.href,m=g.indexOf("#");d=m===-1?g:g.slice(0,m)}return d+"#"+(typeof l=="string"?l:hu(l))}function a(i,l){aa(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return B8(e,n,a,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P8(){return Math.random().toString(36).substring(2,10)}function f_(t,e){return{usr:t.state,key:t.key,idx:e}}function P0(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:n,key:e&&e.key||a||P8()}}function hu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function B8(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,d="POP",g=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function _(){d="POP";let O=v(),M=O==null?null:O-m;m=O,g&&g({action:d,location:R.location,delta:M})}function S(O,M){d="PUSH";let j=P0(R.location,O,M);n&&n(j,O),m=v()+1;let z=f_(j,m),P=R.createHref(j);try{u.pushState(z,"",P)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(P)}l&&g&&g({action:d,location:R.location,delta:1})}function C(O,M){d="REPLACE";let j=P0(R.location,O,M);n&&n(j,O),m=v();let z=f_(j,m),P=R.createHref(j);u.replaceState(z,"",P),l&&g&&g({action:d,location:R.location,delta:0})}function T(O){return r3(O)}let R={get action(){return d},get location(){return t(i,u)},listen(O){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(c_,_),g=O,()=>{i.removeEventListener(c_,_),g=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let M=T(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:C,go(O){return u.go(O)}};return R}function r3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:hu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var S0,d_=class{constructor(t){if(k8(this,S0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(D1(this,S0).has(t))return D1(this,S0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){D1(this,S0).set(t,e)}};S0=new WeakMap;var H8=new Set(["lazy","caseSensitive","path","id","index","children"]);function G8(t){return H8.has(t)}var q8=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function V8(t){return q8.has(t)}function Y8(t){return t.index===!0}function B0(t,e,n=[],a={},i=!1){return t.map((l,u)=>{let d=[...n,String(u)],g=typeof l.id=="string"?l.id:d.join("-");if(Yt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Yt(i||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),Y8(l)){let m={...l,...e(l),id:g};return a[g]=m,m}else{let m={...l,...e(l),id:g,children:void 0};return a[g]=m,l.children&&(m.children=B0(l.children,e,d,a,i)),m}})}function ou(t,e,n="/"){return Om(t,e,n,!1)}function Om(t,e,n,a){let i=typeof e=="string"?ro(e):e,l=ki(i.pathname||"/",n);if(l==null)return null;let u=i3(t);I8(u);let d=null;for(let g=0;d==null&&g<u.length;++g){let m=aE(l);d=tE(u[g],m,a)}return d}function Z8(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function i3(t,e=[],n=[],a="",i=!1){let l=(u,d,g=i,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;Yt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=ol([a,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(Yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),i3(u.children,e,S,_,g)),!(u.path==null&&!u.index)&&e.push({path:_,score:J8(_,u.index),routesMeta:S})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let g of s3(u.path))l(u,d,!0,g)}),e}function s3(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=s3(a.join("/")),d=[];return d.push(...u.map(g=>g===""?l:[l,g].join("/"))),i&&d.push(...u),d.map(g=>t.startsWith("/")&&g===""?"/":g)}function I8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eE(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var X8=/^:[\w-]+$/,K8=3,F8=2,Q8=1,$8=10,W8=-2,h_=t=>t==="*";function J8(t,e){let n=t.split("/"),a=n.length;return n.some(h_)&&(a+=W8),e&&(a+=F8),n.filter(i=>!h_(i)).reduce((i,l)=>i+(X8.test(l)?K8:l===""?Q8:$8),a)}function eE(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function tE(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let d=0;d<a.length;++d){let g=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Pm({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},v),S=g.route;if(!_&&m&&n&&!a[a.length-1].route.index&&(_=Pm({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:ol([l,_.pathname]),pathnameBase:lE(ol([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=ol([l,_.pathnameBase]))}return u}function Pm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=nE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:_},S)=>{if(v==="*"){let T=d[S]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=d[S];return _&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function nE(t,e=!1,n=!0){aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,g)=>(a.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function aE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function rE({basename:t,pathname:e}){return e==="/"?t:ol([t,e])}function iE(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?ro(t):t;return{pathname:n?n.startsWith("/")?n:sE(n,e):e,search:oE(a),hash:uE(i)}}function sE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function j1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function g2(t){let e=l3(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function p2(t,e,n,a=!1){let i;typeof t=="string"?i=ro(t):(i={...t},Yt(!i.pathname||!i.pathname.includes("?"),j1("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),j1("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),j1("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),_-=1;i.pathname=S.join("/")}d=_>=0?e[_]:"/"}let g=iE(i,d),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||v)&&(g.pathname+="/"),g}var ol=t=>t.join("/").replace(/\/\/+/g,"/"),lE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Bm=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function H0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var o3=["POST","PUT","PATCH","DELETE"],cE=new Set(o3),fE=["GET",...o3],dE=new Set(fE),hE=new Set([301,302,303,307,308]),gE=new Set([307,308]),z1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},h0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=t=>mE.test(t),vE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),u3="remix-router-transitions",c3=Symbol("ResetLoaderData");function yE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Yt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],i=t.mapRouteProperties||vE,l={},u=B0(t.routes,i,void 0,l),d,g=t.basename||"/";g.startsWith("/")||(g=`/${g}`);let m=t.dataStrategy||wE,v={...t.future},_=null,S=new Set,C=null,T=null,R=null,O=t.hydrationData!=null,M=ou(u,t.history.location,g),j=!1,z=null,P;if(M==null&&!t.patchRoutesOnNavigation){let I=Mi(404,{pathname:t.history.location.pathname}),{matches:ee,route:se}=Hp(u);P=!0,M=ee,z={[se.id]:I}}else if(M&&!t.hydrationData&&xs(M,u,t.history.location.pathname).active&&(M=null),M)if(M.some(I=>I.route.lazy))P=!1;else if(!M.some(I=>v2(I.route)))P=!0;else{let I=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let se=M.findIndex(Ae=>ee[Ae.route.id]!==void 0);P=M.slice(0,se+1).every(Ae=>!Ty(Ae.route,I,ee))}else P=M.every(se=>!Ty(se.route,I,ee))}else{P=!1,M=[];let I=xs(null,u,t.history.location.pathname);I.active&&I.matches&&(j=!0,M=I.matches)}let H,k={historyAction:t.history.action,location:t.history.location,matches:M,initialized:P,navigation:z1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},Y="POP",F=!1,oe,_e=!1,xe=new Map,he=null,ge=!1,ye=!1,Se=new Set,B=new Map,ue=0,$=-1,me=new Map,G=new Set,ae=new Map,Ee=new Map,Q=new Set,be=new Map,ke,Me=null;function Ke(){if(_=t.history.listen(({action:I,location:ee,delta:se})=>{if(ke){ke(),ke=void 0;return}aa(be.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=Bn({currentLocation:k.location,nextLocation:ee,historyAction:I});if(Ae&&se!=null){let Pe=new Promise(Je=>{ke=Je});t.history.go(se*-1),ln(Ae,{state:"blocked",location:ee,proceed(){ln(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Pe.then(()=>t.history.go(se))},reset(){let Je=new Map(k.blockers);Je.set(Ae,h0),St({blockers:Je})}});return}return ia(I,ee)}),n){PE(e,xe);let I=()=>BE(e,xe);e.addEventListener("pagehide",I),he=()=>e.removeEventListener("pagehide",I)}return k.initialized||ia("POP",k.location,{initialHydration:!0}),H}function nt(){_&&_(),he&&he(),S.clear(),oe&&oe.abort(),k.fetchers.forEach((I,ee)=>gr(ee)),k.blockers.forEach((I,ee)=>wt(ee))}function mt(I){return S.add(I),()=>S.delete(I)}function St(I,ee={}){I.matches&&(I.matches=I.matches.map(Pe=>{let Je=l[Pe.route.id],rt=Pe.route;return rt.element!==Je.element||rt.errorElement!==Je.errorElement||rt.hydrateFallbackElement!==Je.hydrateFallbackElement?{...Pe,route:Je}:Pe})),k={...k,...I};let se=[],Ae=[];k.fetchers.forEach((Pe,Je)=>{Pe.state==="idle"&&(Q.has(Je)?se.push(Je):Ae.push(Je))}),Q.forEach(Pe=>{!k.fetchers.has(Pe)&&!B.has(Pe)&&se.push(Pe)}),[...S].forEach(Pe=>Pe(k,{deletedFetchers:se,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),se.forEach(Pe=>gr(Pe)),Ae.forEach(Pe=>k.fetchers.delete(Pe))}function gn(I,ee,{flushSync:se}={}){let Ae=k.actionData!=null&&k.navigation.formMethod!=null&&Vr(k.navigation.formMethod)&&k.navigation.state==="loading"&&I.state?._isRedirect!==!0,Pe;ee.actionData?Object.keys(ee.actionData).length>0?Pe=ee.actionData:Pe=null:Ae?Pe=k.actionData:Pe=null;let Je=ee.loaderData?w_(k.loaderData,ee.loaderData,ee.matches||[],ee.errors):k.loaderData,rt=k.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((at,Fe)=>rt.set(Fe,h0)));let Xe=ge?!1:Ss(I,ee.matches||k.matches),$e=F===!0||k.navigation.formMethod!=null&&Vr(k.navigation.formMethod)&&I.state?._isRedirect!==!0;d&&(u=d,d=void 0),ge||Y==="POP"||(Y==="PUSH"?t.history.push(I,I.state):Y==="REPLACE"&&t.history.replace(I,I.state));let it;if(Y==="POP"){let at=xe.get(k.location.pathname);at&&at.has(I.pathname)?it={currentLocation:k.location,nextLocation:I}:xe.has(I.pathname)&&(it={currentLocation:I,nextLocation:k.location})}else if(_e){let at=xe.get(k.location.pathname);at?at.add(I.pathname):(at=new Set([I.pathname]),xe.set(k.location.pathname,at)),it={currentLocation:k.location,nextLocation:I}}St({...ee,actionData:Pe,loaderData:Je,historyAction:Y,location:I,initialized:!0,navigation:z1,revalidation:"idle",restoreScrollPosition:Xe,preventScrollReset:$e,blockers:rt},{viewTransitionOpts:it,flushSync:se===!0}),Y="POP",F=!1,_e=!1,ge=!1,ye=!1,Me?.resolve(),Me=null}async function En(I,ee){if(typeof I=="number"){t.history.go(I);return}let se=Cy(k.location,k.matches,g,I,ee?.fromRouteId,ee?.relative),{path:Ae,submission:Pe,error:Je}=g_(!1,se,ee),rt=k.location,Xe=P0(k.location,Ae,ee&&ee.state);Xe={...Xe,...t.history.encodeLocation(Xe)};let $e=ee&&ee.replace!=null?ee.replace:void 0,it="PUSH";$e===!0?it="REPLACE":$e===!1||Pe!=null&&Vr(Pe.formMethod)&&Pe.formAction===k.location.pathname+k.location.search&&(it="REPLACE");let at=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,Fe=(ee&&ee.flushSync)===!0,xt=Bn({currentLocation:rt,nextLocation:Xe,historyAction:it});if(xt){ln(xt,{state:"blocked",location:Xe,proceed(){ln(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),En(I,ee)},reset(){let en=new Map(k.blockers);en.set(xt,h0),St({blockers:en})}});return}await ia(it,Xe,{submission:Pe,pendingError:Je,preventScrollReset:at,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:Fe})}function ra(){Me||(Me=HE()),Ue(),St({revalidation:"loading"});let I=Me.promise;return k.navigation.state==="submitting"?I:k.navigation.state==="idle"?(ia(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),I):(ia(Y||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:_e===!0}),I)}async function ia(I,ee,se){oe&&oe.abort(),oe=null,Y=I,ge=(se&&se.startUninterruptedRevalidation)===!0,Xc(k.location,k.matches),F=(se&&se.preventScrollReset)===!0,_e=(se&&se.enableViewTransition)===!0;let Ae=d||u,Pe=se&&se.overrideNavigation,Je=se?.initialHydration&&k.matches&&k.matches.length>0&&!j?k.matches:ou(Ae,ee,g),rt=(se&&se.flushSync)===!0;if(Je&&k.initialized&&!ye&&ME(k.location,ee)&&!(se&&se.submission&&Vr(se.submission.formMethod))){gn(ee,{matches:Je},{flushSync:rt});return}let Xe=xs(Je,Ae,ee.pathname);if(Xe.active&&Xe.matches&&(Je=Xe.matches),!Je){let{error:Bt,notFoundMatches:cn,route:rn}=Hi(ee.pathname);gn(ee,{matches:cn,loaderData:{},errors:{[rn.id]:Bt}},{flushSync:rt});return}oe=new AbortController;let $e=Sd(t.history,ee,oe.signal,se&&se.submission),it=t.getContext?await t.getContext():new d_,at;if(se&&se.pendingError)at=[uu(Je).route.id,{type:"error",error:se.pendingError}];else if(se&&se.submission&&Vr(se.submission.formMethod)){let Bt=await Ba($e,ee,se.submission,Je,it,Xe.active,se&&se.initialHydration===!0,{replace:se.replace,flushSync:rt});if(Bt.shortCircuited)return;if(Bt.pendingActionResult){let[cn,rn]=Bt.pendingActionResult;if(ni(rn)&&H0(rn.error)&&rn.error.status===404){oe=null,gn(ee,{matches:Bt.matches,loaderData:{},errors:{[cn]:rn.error}});return}}Je=Bt.matches||Je,at=Bt.pendingActionResult,Pe=U1(ee,se.submission),rt=!1,Xe.active=!1,$e=Sd(t.history,$e.url,$e.signal)}let{shortCircuited:Fe,matches:xt,loaderData:en,errors:vn}=await Ha($e,ee,Je,it,Xe.active,Pe,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,rt,at);Fe||(oe=null,gn(ee,{matches:xt||Je,...E_(at),loaderData:en,errors:vn}))}async function Ba(I,ee,se,Ae,Pe,Je,rt,Xe={}){Ue();let $e=kE(ee,se);if(St({navigation:$e},{flushSync:Xe.flushSync===!0}),Je){let Fe=await Gi(Ae,ee.pathname,I.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:en,route:vn}=Hp(u);return{matches:en,pendingActionResult:[vn.id,{type:"error",error:Fe.error}]}}let xt=uu(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,pendingActionResult:[xt,{type:"error",error:Fe.error}]}}else if(Fe.matches)Ae=Fe.matches;else{let{notFoundMatches:xt,error:en,route:vn}=Hi(ee.pathname);return{matches:xt,pendingActionResult:[vn.id,{type:"error",error:en}]}}}let it,at=Nm(Ae,ee);if(!at.route.action&&!at.route.lazy)it={type:"error",error:Mi(405,{method:I.method,pathname:ee.pathname,routeId:at.route.id})};else{let Fe=Rd(i,l,I,Ae,at,rt?[]:a,Pe),xt=await Ge(I,Fe,Pe,null);if(it=xt[at.route.id],!it){for(let en of Ae)if(xt[en.route.id]){it=xt[en.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if(Ac(it)){let Fe;return Xe&&Xe.replace!=null?Fe=Xe.replace:Fe=__(it.response.headers.get("Location"),new URL(I.url),g)===k.location.pathname+k.location.search,await fe(I,it,!0,{submission:se,replace:Fe}),{shortCircuited:!0}}if(ni(it)){let Fe=uu(Ae,at.route.id);return(Xe&&Xe.replace)!==!0&&(Y="PUSH"),{matches:Ae,pendingActionResult:[Fe.route.id,it,at.route.id]}}return{matches:Ae,pendingActionResult:[at.route.id,it]}}async function Ha(I,ee,se,Ae,Pe,Je,rt,Xe,$e,it,at,Fe){let xt=Je||U1(ee,rt),en=rt||Xe||T_(xt),vn=!ge&&!it;if(Pe){if(vn){let zt=Wn(Fe);St({navigation:xt,...zt!==void 0?{actionData:zt}:{}},{flushSync:at})}let ct=await Gi(se,ee.pathname,I.signal);if(ct.type==="aborted")return{shortCircuited:!0};if(ct.type==="error"){if(ct.partialMatches.length===0){let{matches:Ga,route:qa}=Hp(u);return{matches:Ga,loaderData:{},errors:{[qa.id]:ct.error}}}let zt=uu(ct.partialMatches).route.id;return{matches:ct.partialMatches,loaderData:{},errors:{[zt]:ct.error}}}else if(ct.matches)se=ct.matches;else{let{error:zt,notFoundMatches:Ga,route:qa}=Hi(ee.pathname);return{matches:Ga,loaderData:{},errors:{[qa.id]:zt}}}}let Bt=d||u,{dsMatches:cn,revalidatingFetchers:rn}=p_(I,Ae,i,l,t.history,k,se,en,ee,it?[]:a,it===!0,ye,Se,Q,ae,G,Bt,g,t.patchRoutesOnNavigation!=null,Fe);if($=++ue,!t.dataStrategy&&!cn.some(ct=>ct.shouldLoad)&&!cn.some(ct=>ct.route.middleware&&ct.route.middleware.length>0)&&rn.length===0){let ct=Oe();return gn(ee,{matches:se,loaderData:{},errors:Fe&&ni(Fe[1])?{[Fe[0]]:Fe[1].error}:null,...E_(Fe),...ct?{fetchers:new Map(k.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(vn){let ct={};if(!Pe){ct.navigation=xt;let zt=Wn(Fe);zt!==void 0&&(ct.actionData=zt)}rn.length>0&&(ct.fetchers=Bi(rn)),St(ct,{flushSync:at})}rn.forEach(ct=>{pa(ct.key),ct.controller&&B.set(ct.key,ct.controller)});let Ht=()=>rn.forEach(ct=>pa(ct.key));oe&&oe.signal.addEventListener("abort",Ht);let{loaderResults:Ja,fetcherResults:Rr}=await Be(cn,rn,I,Ae);if(I.signal.aborted)return{shortCircuited:!0};oe&&oe.signal.removeEventListener("abort",Ht),rn.forEach(ct=>B.delete(ct.key));let er=Gp(Ja);if(er)return await fe(I,er.result,!0,{replace:$e}),{shortCircuited:!0};if(er=Gp(Rr),er)return G.add(er.key),await fe(I,er.result,!0,{replace:$e}),{shortCircuited:!0};let{loaderData:ml,errors:vl}=x_(k,se,Ja,Fe,rn,Rr);it&&k.errors&&(vl={...k.errors,...vl});let tr=Oe(),Zr=De($),Ta=tr||Zr||rn.length>0;return{matches:se,loaderData:ml,errors:vl,...Ta?{fetchers:new Map(k.fetchers)}:{}}}function Wn(I){if(I&&!ni(I[1]))return{[I[0]]:I[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Bi(I){return I.forEach(ee=>{let se=k.fetchers.get(ee.key),Ae=g0(void 0,se?se.data:void 0);k.fetchers.set(ee.key,Ae)}),new Map(k.fetchers)}async function hr(I,ee,se,Ae){pa(I);let Pe=(Ae&&Ae.flushSync)===!0,Je=d||u,rt=Cy(k.location,k.matches,g,se,ee,Ae?.relative),Xe=ou(Je,rt,g),$e=xs(Xe,Je,rt);if($e.active&&$e.matches&&(Xe=$e.matches),!Xe){Qe(I,ee,Mi(404,{pathname:rt}),{flushSync:Pe});return}let{path:it,submission:at,error:Fe}=g_(!0,rt,Ae);if(Fe){Qe(I,ee,Fe,{flushSync:Pe});return}let xt=t.getContext?await t.getContext():new d_,en=(Ae&&Ae.preventScrollReset)===!0;if(at&&Vr(at.formMethod)){await X(I,ee,it,Xe,xt,$e.active,Pe,en,at);return}ae.set(I,{routeId:ee,path:it}),await re(I,ee,it,Xe,xt,$e.active,Pe,en,at)}async function X(I,ee,se,Ae,Pe,Je,rt,Xe,$e){Ue(),ae.delete(I);let it=k.fetchers.get(I);Ye(I,LE($e,it),{flushSync:rt});let at=new AbortController,Fe=Sd(t.history,se,at.signal,$e);if(Je){let yn=await Gi(Ae,new URL(Fe.url).pathname,Fe.signal,I);if(yn.type==="aborted")return;if(yn.type==="error"){Qe(I,ee,yn.error,{flushSync:rt});return}else if(yn.matches)Ae=yn.matches;else{Qe(I,ee,Mi(404,{pathname:se}),{flushSync:rt});return}}let xt=Nm(Ae,se);if(!xt.route.action&&!xt.route.lazy){let yn=Mi(405,{method:$e.formMethod,pathname:se,routeId:ee});Qe(I,ee,yn,{flushSync:rt});return}B.set(I,at);let en=ue,vn=Rd(i,l,Fe,Ae,xt,a,Pe),cn=(await Ge(Fe,vn,Pe,I))[xt.route.id];if(Fe.signal.aborted){B.get(I)===at&&B.delete(I);return}if(Q.has(I)){if(Ac(cn)||ni(cn)){Ye(I,$l(void 0));return}}else{if(Ac(cn))if(B.delete(I),$>en){Ye(I,$l(void 0));return}else return G.add(I),Ye(I,g0($e)),fe(Fe,cn,!1,{fetcherSubmission:$e,preventScrollReset:Xe});if(ni(cn)){Qe(I,ee,cn.error);return}}let rn=k.navigation.location||k.location,Ht=Sd(t.history,rn,at.signal),Ja=d||u,Rr=k.navigation.state!=="idle"?ou(Ja,k.navigation.location,g):k.matches;Yt(Rr,"Didn't find any matches after fetcher action");let er=++ue;me.set(I,er);let ml=g0($e,cn.data);k.fetchers.set(I,ml);let{dsMatches:vl,revalidatingFetchers:tr}=p_(Ht,Pe,i,l,t.history,k,Rr,$e,rn,a,!1,ye,Se,Q,ae,G,Ja,g,t.patchRoutesOnNavigation!=null,[xt.route.id,cn]);tr.filter(yn=>yn.key!==I).forEach(yn=>{let ws=yn.key,pr=k.fetchers.get(ws),ma=g0(void 0,pr?pr.data:void 0);k.fetchers.set(ws,ma),pa(ws),yn.controller&&B.set(ws,yn.controller)}),St({fetchers:new Map(k.fetchers)});let Zr=()=>tr.forEach(yn=>pa(yn.key));at.signal.addEventListener("abort",Zr);let{loaderResults:Ta,fetcherResults:ct}=await Be(vl,tr,Ht,Pe);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",Zr),me.delete(I),B.delete(I),tr.forEach(yn=>B.delete(yn.key)),k.fetchers.has(I)){let yn=$l(cn.data);k.fetchers.set(I,yn)}let zt=Gp(Ta);if(zt)return fe(Ht,zt.result,!1,{preventScrollReset:Xe});if(zt=Gp(ct),zt)return G.add(zt.key),fe(Ht,zt.result,!1,{preventScrollReset:Xe});let{loaderData:Ga,errors:qa}=x_(k,Rr,Ta,void 0,tr,ct);De(er),k.navigation.state==="loading"&&er>$?(Yt(Y,"Expected pending action"),oe&&oe.abort(),gn(k.navigation.location,{matches:Rr,loaderData:Ga,errors:qa,fetchers:new Map(k.fetchers)})):(St({errors:qa,loaderData:w_(k.loaderData,Ga,Rr,qa),fetchers:new Map(k.fetchers)}),ye=!1)}async function re(I,ee,se,Ae,Pe,Je,rt,Xe,$e){let it=k.fetchers.get(I);Ye(I,g0($e,it?it.data:void 0),{flushSync:rt});let at=new AbortController,Fe=Sd(t.history,se,at.signal);if(Je){let rn=await Gi(Ae,new URL(Fe.url).pathname,Fe.signal,I);if(rn.type==="aborted")return;if(rn.type==="error"){Qe(I,ee,rn.error,{flushSync:rt});return}else if(rn.matches)Ae=rn.matches;else{Qe(I,ee,Mi(404,{pathname:se}),{flushSync:rt});return}}let xt=Nm(Ae,se);B.set(I,at);let en=ue,vn=Rd(i,l,Fe,Ae,xt,a,Pe),cn=(await Ge(Fe,vn,Pe,I))[xt.route.id];if(B.get(I)===at&&B.delete(I),!Fe.signal.aborted){if(Q.has(I)){Ye(I,$l(void 0));return}if(Ac(cn))if($>en){Ye(I,$l(void 0));return}else{G.add(I),await fe(Fe,cn,!1,{preventScrollReset:Xe});return}if(ni(cn)){Qe(I,ee,cn.error);return}Ye(I,$l(cn.data))}}async function fe(I,ee,se,{submission:Ae,fetcherSubmission:Pe,preventScrollReset:Je,replace:rt}={}){ee.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Xe=ee.response.headers.get("Location");Yt(Xe,"Expected a Location header on the redirect Response"),Xe=__(Xe,new URL(I.url),g);let $e=P0(k.location,Xe,{_isRedirect:!0});if(n){let vn=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))vn=!0;else if(m2(Xe)){const Bt=r3(Xe,!0);vn=Bt.origin!==e.location.origin||ki(Bt.pathname,g)==null}if(vn){rt?e.location.replace(Xe):e.location.assign(Xe);return}}oe=null;let it=rt===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:Fe,formEncType:xt}=k.navigation;!Ae&&!Pe&&at&&Fe&&xt&&(Ae=T_(k.navigation));let en=Ae||Pe;if(gE.has(ee.response.status)&&en&&Vr(en.formMethod))await ia(it,$e,{submission:{...en,formAction:Xe},preventScrollReset:Je||F,enableViewTransition:se?_e:void 0});else{let vn=U1($e,Ae);await ia(it,$e,{overrideNavigation:vn,fetcherSubmission:Pe,preventScrollReset:Je||F,enableViewTransition:se?_e:void 0})}}async function Ge(I,ee,se,Ae){let Pe,Je={};try{Pe=await CE(m,I,ee,Ae,se,!1)}catch(rt){return ee.filter(Xe=>Xe.shouldLoad).forEach(Xe=>{Je[Xe.route.id]={type:"error",error:rt}}),Je}if(I.signal.aborted)return Je;for(let[rt,Xe]of Object.entries(Pe))if(zE(Xe)){let $e=Xe.result;Je[rt]={type:"redirect",response:OE($e,I,rt,ee,g)}}else Je[rt]=await RE(Xe);return Je}async function Be(I,ee,se,Ae){let Pe=Ge(se,I,Ae,null),Je=Promise.all(ee.map(async $e=>{if($e.matches&&$e.match&&$e.request&&$e.controller){let at=(await Ge($e.request,$e.matches,Ae,$e.key))[$e.match.route.id];return{[$e.key]:at}}else return Promise.resolve({[$e.key]:{type:"error",error:Mi(404,{pathname:$e.path})}})})),rt=await Pe,Xe=(await Je).reduce(($e,it)=>Object.assign($e,it),{});return{loaderResults:rt,fetcherResults:Xe}}function Ue(){ye=!0,ae.forEach((I,ee)=>{B.has(ee)&&Se.add(ee),pa(ee)})}function Ye(I,ee,se={}){k.fetchers.set(I,ee),St({fetchers:new Map(k.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Qe(I,ee,se,Ae={}){let Pe=uu(k.matches,ee);gr(I),St({errors:{[Pe.route.id]:se},fetchers:new Map(k.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function bt(I){return Ee.set(I,(Ee.get(I)||0)+1),Q.has(I)&&Q.delete(I),k.fetchers.get(I)||pE}function Jt(I,ee){pa(I,ee?.reason),Ye(I,$l(null))}function gr(I){let ee=k.fetchers.get(I);B.has(I)&&!(ee&&ee.state==="loading"&&me.has(I))&&pa(I),ae.delete(I),me.delete(I),G.delete(I),Q.delete(I),Se.delete(I),k.fetchers.delete(I)}function Ca(I){let ee=(Ee.get(I)||0)-1;ee<=0?(Ee.delete(I),Q.add(I)):Ee.set(I,ee),St({fetchers:new Map(k.fetchers)})}function pa(I,ee){let se=B.get(I);se&&(se.abort(ee),B.delete(I))}function Wa(I){for(let ee of I){let se=bt(ee),Ae=$l(se.data);k.fetchers.set(ee,Ae)}}function Oe(){let I=[],ee=!1;for(let se of G){let Ae=k.fetchers.get(se);Yt(Ae,`Expected fetcher: ${se}`),Ae.state==="loading"&&(G.delete(se),I.push(se),ee=!0)}return Wa(I),ee}function De(I){let ee=[];for(let[se,Ae]of me)if(Ae<I){let Pe=k.fetchers.get(se);Yt(Pe,`Expected fetcher: ${se}`),Pe.state==="loading"&&(pa(se),me.delete(se),ee.push(se))}return Wa(ee),ee.length>0}function $t(I,ee){let se=k.blockers.get(I)||h0;return be.get(I)!==ee&&be.set(I,ee),se}function wt(I){k.blockers.delete(I),be.delete(I)}function ln(I,ee){let se=k.blockers.get(I)||h0;Yt(se.state==="unblocked"&&ee.state==="blocked"||se.state==="blocked"&&ee.state==="blocked"||se.state==="blocked"&&ee.state==="proceeding"||se.state==="blocked"&&ee.state==="unblocked"||se.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${se.state} -> ${ee.state}`);let Ae=new Map(k.blockers);Ae.set(I,ee),St({blockers:Ae})}function Bn({currentLocation:I,nextLocation:ee,historyAction:se}){if(be.size===0)return;be.size>1&&aa(!1,"A router only supports one blocker at a time");let Ae=Array.from(be.entries()),[Pe,Je]=Ae[Ae.length-1],rt=k.blockers.get(Pe);if(!(rt&&rt.state==="proceeding")&&Je({currentLocation:I,nextLocation:ee,historyAction:se}))return Pe}function Hi(I){let ee=Mi(404,{pathname:I}),se=d||u,{matches:Ae,route:Pe}=Hp(se);return{notFoundMatches:Ae,route:Pe,error:ee}}function fo(I,ee,se){if(C=I,R=ee,T=se||null,!O&&k.navigation===z1){O=!0;let Ae=Ss(k.location,k.matches);Ae!=null&&St({restoreScrollPosition:Ae})}return()=>{C=null,R=null,T=null}}function Yr(I,ee){return T&&T(I,ee.map(Ae=>Z8(Ae,k.loaderData)))||I.key}function Xc(I,ee){if(C&&R){let se=Yr(I,ee);C[se]=R()}}function Ss(I,ee){if(C){let se=Yr(I,ee),Ae=C[se];if(typeof Ae=="number")return Ae}return null}function xs(I,ee,se){if(t.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:Om(ee,se,g,!0)}}else return{active:!0,matches:Om(ee,se,g,!0)||[]};return{active:!1,matches:null}}async function Gi(I,ee,se,Ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:I};let Pe=I;for(;;){let Je=d==null,rt=d||u,Xe=l;try{await t.patchRoutesOnNavigation({signal:se,path:ee,matches:Pe,fetcherKey:Ae,patch:(at,Fe)=>{se.aborted||m_(at,Fe,rt,Xe,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:Pe}}finally{Je&&!se.aborted&&(u=[...u])}if(se.aborted)return{type:"aborted"};let $e=ou(rt,ee,g);if($e)return{type:"success",matches:$e};let it=Om(rt,ee,g,!0);if(!it||Pe.length===it.length&&Pe.every((at,Fe)=>at.route.id===it[Fe].route.id))return{type:"success",matches:null};Pe=it}}function ho(I){l={},d=B0(I,i,void 0,l)}function pl(I,ee,se=!1){let Ae=d==null;m_(I,ee,d||u,l,i,se),Ae&&(u=[...u],St({}))}return H={get basename(){return g},get future(){return v},get state(){return k},get routes(){return u},get window(){return e},initialize:Ke,subscribe:mt,enableScrollRestoration:fo,navigate:En,fetch:hr,revalidate:ra,createHref:I=>t.history.createHref(I),encodeLocation:I=>t.history.encodeLocation(I),getFetcher:bt,resetFetcher:Jt,deleteFetcher:Ca,dispose:nt,getBlocker:$t,deleteBlocker:wt,patchRoutes:pl,_internalFetchControllers:B,_internalSetRoutes:ho,_internalSetStateDoNotUseOrYouWillBreakYourApp(I){St(I)}},H}function bE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Cy(t,e,n,a,i,l){let u,d;if(i){u=[];for(let m of e)if(u.push(m),m.route.id===i){d=m;break}}else u=e,d=e[e.length-1];let g=p2(a||".",g2(u),ki(t.pathname,n)||t.pathname,l==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&d){let m=y2(g.search);if(d.route.index&&!m)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(g.search),_=v.getAll("index");v.delete("index"),_.filter(C=>C).forEach(C=>v.append("index",C));let S=v.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=rE({basename:n,pathname:g.pathname})),hu(g)}function g_(t,e,n){if(!n||!bE(n))return{path:e};if(n.formMethod&&!UE(n.formMethod))return{path:e,error:Mi(405,{method:n.formMethod})};let a=()=>({path:e,error:Mi(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=m3(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Vr(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[C,T])=>`${S}${C}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Vr(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Yt(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=Ry(n.formData),g=n.formData;else if(n.body instanceof FormData)d=Ry(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=S_(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=S_(d)}catch{return a()}let m={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Vr(m.formMethod))return{path:e,submission:m};let v=ro(e);return t&&v.search&&y2(v.search)&&d.append("index",""),v.search=`?${d}`,{path:hu(v),submission:m}}function p_(t,e,n,a,i,l,u,d,g,m,v,_,S,C,T,R,O,M,j,z){let P=z?ni(z[1])?z[1].error:z[1].data:void 0,H=i.createURL(l.location),k=i.createURL(g),Y;if(v&&l.errors){let ge=Object.keys(l.errors)[0];Y=u.findIndex(ye=>ye.route.id===ge)}else if(z&&ni(z[1])){let ge=z[0];Y=u.findIndex(ye=>ye.route.id===ge)-1}let F=z?z[1].statusCode:void 0,oe=F&&F>=400,_e={currentUrl:H,currentParams:l.matches[0]?.params||{},nextUrl:k,nextParams:u[0].params,...d,actionResult:P,actionStatus:F},xe=u.map((ge,ye)=>{let{route:Se}=ge,B=null;if(Y!=null&&ye>Y?B=!1:Se.lazy?B=!0:v2(Se)?v?B=Ty(Se,l.loaderData,l.errors):_E(l.loaderData,l.matches[ye],ge)&&(B=!0):B=!1,B!==null)return Ay(n,a,t,ge,m,e,B);let ue=oe?!1:_||H.pathname+H.search===k.pathname+k.search||H.search!==k.search||SE(l.matches[ye],ge),$={..._e,defaultShouldRevalidate:ue},me=Hm(ge,$);return Ay(n,a,t,ge,m,e,me,$)}),he=[];return T.forEach((ge,ye)=>{if(v||!u.some(Ee=>Ee.route.id===ge.routeId)||C.has(ye))return;let Se=l.fetchers.get(ye),B=Se&&Se.state!=="idle"&&Se.data===void 0,ue=ou(O,ge.path,M);if(!ue){if(j&&B)return;he.push({key:ye,routeId:ge.routeId,path:ge.path,matches:null,match:null,request:null,controller:null});return}if(R.has(ye))return;let $=Nm(ue,ge.path),me=new AbortController,G=Sd(i,ge.path,me.signal),ae=null;if(S.has(ye))S.delete(ye),ae=Rd(n,a,G,ue,$,m,e);else if(B)_&&(ae=Rd(n,a,G,ue,$,m,e));else{let Ee={..._e,defaultShouldRevalidate:oe?!1:_};Hm($,Ee)&&(ae=Rd(n,a,G,ue,$,m,e,Ee))}ae&&he.push({key:ye,routeId:ge.routeId,path:ge.path,matches:ae,match:$,request:G,controller:me})}),{dsMatches:xe,revalidatingFetchers:he}}function v2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Ty(t,e,n){if(t.lazy)return!0;if(!v2(t))return!1;let a=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!a&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!i}function _E(t,e,n){let a=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return a||i}function SE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Hm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function m_(t,e,n,a,i,l){let u;if(t){let m=a[t];Yt(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),u=m.children}else u=n;let d=[],g=[];if(e.forEach(m=>{let v=u.find(_=>f3(m,_));v?g.push({existingRoute:v,newRoute:m}):d.push(m)}),d.length>0){let m=B0(d,i,[t||"_","patch",String(u?.length||"0")],a);u.push(...m)}if(l&&g.length>0)for(let m=0;m<g.length;m++){let{existingRoute:v,newRoute:_}=g[m],S=v,[C]=B0([_],i,[],{},!0);Object.assign(S,{element:C.element?C.element:S.element,errorElement:C.errorElement?C.errorElement:S.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:S.hydrateFallbackElement})}}function f3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(i=>f3(n,i))):!1}var v_=new WeakMap,d3=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let i=n[e.id];if(Yt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let u=v_.get(i);u||(u={},v_.set(i,u));let d=u[t];if(d)return d;let g=(async()=>{let m=G8(t),_=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)aa(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)aa(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(i,{[t]:S}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(S=>S===void 0)&&(i.lazy=void 0))})();return u[t]=g,g},y_=new WeakMap;function xE(t,e,n,a,i){let l=n[t.id];if(Yt(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=y_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{Yt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),C={};for(let T in S){let R=S[T];if(R===void 0)continue;let O=V8(T),j=l[T]!==void 0&&T!=="hasErrorBoundary";O?aa(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?aa(!j,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=R}Object.assign(l,C),Object.assign(l,{...a(l),lazy:void 0})})();return y_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),d=[],g;for(let v of u){if(i&&i.includes(v))continue;let _=d3({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(d.push(_),v===e&&(g=_))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:g}}async function b_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function wE(t){return t.matches.some(e=>e.route.middleware)?h3(t,()=>b_(t)):b_(t)}function h3(t,e){return EE(t,e,a=>a,DE,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=t,d=Math.min(Math.max(u.findIndex(m=>m.route.id===i),0),Math.max(u.findIndex(m=>m.unstable_shouldCallHandler()),0)),g=uu(u,u[d].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:a}})}}}async function EE(t,e,n,a,i){let{matches:l,request:u,params:d,context:g}=t,m=l.flatMap(_=>_.route.middleware?_.route.middleware.map(S=>[_.route.id,S]):[]);return await g3({request:u,params:d,context:g},m,e,n,a,i)}async function g3(t,e,n,a,i,l,u=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let g=e[u];if(!g)return await n();let[m,v]=g,_,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await g3(t,e,n,a,i,l,u+1)},_.value}catch(C){return _={value:await l(C,m,_)},_.value}};try{let C=await v(t,S),T=C!=null?a(C):void 0;return i(T)?T:_?T??_.value:(_={value:await S()},_.value)}catch(C){return await l(C,m,_)}}function p3(t,e,n,a,i){let l=d3({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),u=xE(a.route,Vr(n.method)?"action":"loader",e,t,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Ay(t,e,n,a,i,l,u,d=null){let g=!1,m=p3(t,e,n,a,i);return{...a,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return g=!0,d?typeof v=="boolean"?Hm(a,{...d,defaultShouldRevalidate:v}):Hm(a,d):u},resolve(v){let{lazy:_,loader:S,middleware:C}=a.route,T=g||u||v&&!Vr(n.method)&&(_||S),R=C&&C.length>0&&!S&&!_;return T&&!R?TE({request:n,match:a,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Rd(t,e,n,a,i,l,u,d=null){return a.map(g=>g.route.id!==i.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:p3(t,e,n,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ay(t,e,n,g,l,u,!0,d))}async function CE(t,e,n,a,i,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:i,matches:n},g=await t({...u,fetcherKey:a,runClientMiddleware:m=>{let v=u;return h3(v,()=>m({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return g}async function TE({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,d,g=Vr(t.method),m=g?"action":"loader",v=_=>{let S,C=new Promise((O,M)=>S=M);d=()=>S(),t.signal.addEventListener("abort",d);let T=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(M=>T(M)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,C])};try{let _=g?e.route.action:e.route.loader;if(n||a)if(_){let S,[C]=await Promise.all([v(_).catch(T=>{S=T}),n,a]);if(S!==void 0)throw S;u=C}else{await n;let S=g?e.route.action:e.route.loader;if(S)[u]=await Promise.all([v(S),a]);else if(m==="action"){let C=new URL(t.url),T=C.pathname+C.search;throw Mi(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await v(_);else{let S=new URL(t.url),C=S.pathname+S.search;throw Mi(404,{pathname:C})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function AE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function RE(t){let{result:e,type:n}=t;if(v3(e)){let a;try{a=await AE(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Bm(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?C_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Bm(e.init?.status||500,void 0,e.data),statusCode:H0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:H0(e)?e.status:void 0}:C_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function OE(t,e,n,a,i){let l=t.headers.get("Location");if(Yt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!m2(l)){let u=a.slice(0,a.findIndex(d=>d.route.id===n)+1);l=Cy(new URL(e.url),u,i,l),t.headers.set("Location",l)}return t}function __(t,e,n){if(m2(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=ki(i.pathname,n)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return t}function Sd(t,e,n,a){let i=t.createURL(m3(e)).toString(),l={signal:n};if(a&&Vr(a.formMethod)){let{formMethod:u,formEncType:d}=a;l.method=u.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=Ry(a.formData):l.body=a.formData}return new Request(i,l)}function Ry(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function S_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function NE(t,e,n,a=!1,i=!1){let l={},u=null,d,g=!1,m={},v=n&&ni(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,C=e[S];if(Yt(!Ac(C),"Cannot handle redirect results in processLoaderData"),ni(C)){let T=C.error;if(v!==void 0&&(T=v,v=void 0),u=u||{},i)u[S]=T;else{let R=uu(t,S);u[R.route.id]==null&&(u[R.route.id]=T)}a||(l[S]=c3),g||(g=!0,d=H0(C.error)?C.error.status:500),C.headers&&(m[S]=C.headers)}else l[S]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(d=C.statusCode),C.headers&&(m[S]=C.headers)}),v!==void 0&&n&&(u={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:d||200,loaderHeaders:m}}function x_(t,e,n,a,i,l){let{loaderData:u,errors:d}=NE(e,n,a);return i.filter(g=>!g.matches||g.matches.some(m=>m.shouldLoad)).forEach(g=>{let{key:m,match:v,controller:_}=g;if(_&&_.signal.aborted)return;let S=l[m];if(Yt(S,"Did not find corresponding fetcher result"),ni(S)){let C=uu(t.matches,v?.route.id);d&&d[C.route.id]||(d={...d,[C.route.id]:S.error}),t.fetchers.delete(m)}else if(Ac(S))Yt(!1,"Unhandled fetcher revalidation redirect");else{let C=$l(S.data);t.fetchers.set(m,C)}}),{loaderData:u,errors:d}}function w_(t,e,n,a){let i=Object.entries(e).filter(([,l])=>l!==c3).reduce((l,[u,d])=>(l[u]=d,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(i[u]=t[u]),a&&a.hasOwnProperty(u))break}return i}function E_(t){return t?ni(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function uu(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function Hp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Mi(t,{pathname:e,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&e&&n?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",a&&e&&n?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Bm(t||500,u,new Error(d),!0)}function Gp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,i]=e[n];if(Ac(i))return{key:a,result:i}}}function m3(t){let e=typeof t=="string"?ro(t):t;return hu({...e,hash:""})}function ME(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function DE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&jE(n))}function jE(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function zE(t){return v3(t.result)&&hE.has(t.result.status)}function ni(t){return t.type==="error"}function Ac(t){return(t&&t.type)==="redirect"}function C_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function v3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function UE(t){return dE.has(t.toUpperCase())}function Vr(t){return cE.has(t.toUpperCase())}function y2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Nm(t,e){let n=typeof e=="string"?ro(e).search:e.search;if(t[t.length-1].route.index&&y2(n||""))return t[t.length-1];let a=l3(t);return a[a.length-1]}function T_(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:l,json:u}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function U1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function g0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function $l(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PE(t,e){try{let n=t.sessionStorage.getItem(u3);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function BE(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(u3,JSON.stringify(n))}catch(a){aa(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function HE(){let t,e,n=new Promise((a,i)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Uc=N.createContext(null);Uc.displayName="DataRouter";var $0=N.createContext(null);$0.displayName="DataRouterState";N.createContext(!1);var b2=N.createContext({isTransitioning:!1});b2.displayName="ViewTransition";var y3=N.createContext(new Map);y3.displayName="Fetchers";var GE=N.createContext(null);GE.displayName="Await";var fl=N.createContext(null);fl.displayName="Navigation";var fv=N.createContext(null);fv.displayName="Location";var io=N.createContext({outlet:null,matches:[],isDataRoute:!1});io.displayName="Route";var _2=N.createContext(null);_2.displayName="RouteError";function qE(t,{relative:e}={}){Yt(W0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(fl),{hash:i,pathname:l,search:u}=J0(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ol([n,l])),a.createHref({pathname:d,search:u,hash:i})}function W0(){return N.useContext(fv)!=null}function kc(){return Yt(W0(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(fv).location}var b3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _3(t){N.useContext(fl).static||N.useLayoutEffect(t)}function dv(){let{isDataRoute:t}=N.useContext(io);return t?t9():VE()}function VE(){Yt(W0(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Uc),{basename:e,navigator:n}=N.useContext(fl),{matches:a}=N.useContext(io),{pathname:i}=kc(),l=JSON.stringify(g2(a)),u=N.useRef(!1);return _3(()=>{u.current=!0}),N.useCallback((g,m={})=>{if(aa(u.current,b3),!u.current)return;if(typeof g=="number"){n.go(g);return}let v=p2(g,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ol([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,i,t])}N.createContext(null);function J0(t,{relative:e}={}){let{matches:n}=N.useContext(io),{pathname:a}=kc(),i=JSON.stringify(g2(n));return N.useMemo(()=>p2(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function YE(t,e,n,a,i){Yt(W0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(fl),{matches:u}=N.useContext(io),d=u[u.length-1],g=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let j=_&&_.path||"";S3(m,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=kc(),C;C=S;let T=C.pathname||"/",R=T;if(v!=="/"){let j=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=ou(t,{pathname:R});return aa(_||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),aa(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),FE(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:ol([v,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:ol([v,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,a,i)}function ZE(){let t=e9(),e=H0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,u)}var IE=N.createElement(ZE,null),XE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(io.Provider,{value:this.props.routeContext},N.createElement(_2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KE({routeContext:t,match:e,children:n}){let a=N.useContext(Uc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(io.Provider,{value:t},n)}function FE(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Yt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,g=-1;if(n)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=m),v.route.id){let{loaderData:_,errors:S}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let S,C=!1,T=null,R=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||IE,d&&(g<0&&_===0?(S3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):g===_&&(C=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),M=()=>{let j;return S?j=T:C?j=R:v.route.Component?j=N.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=m,N.createElement(KE,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(XE,{location:n.location,revalidation:n.revalidation,component:T,error:S,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):M()},null)}function S2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(t){let e=N.useContext(Uc);return Yt(e,S2(t)),e}function $E(t){let e=N.useContext($0);return Yt(e,S2(t)),e}function WE(t){let e=N.useContext(io);return Yt(e,S2(t)),e}function x2(t){let e=WE(t),n=e.matches[e.matches.length-1];return Yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JE(){return x2("useRouteId")}function e9(){let t=N.useContext(_2),e=$E("useRouteError"),n=x2("useRouteError");return t!==void 0?t:e.errors?.[n]}function t9(){let{router:t}=QE("useNavigate"),e=x2("useNavigate"),n=N.useRef(!1);return _3(()=>{n.current=!0}),N.useCallback(async(i,l={})=>{aa(n.current,b3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var A_={};function S3(t,e,n){!e&&!A_[t]&&(A_[t]=!0,aa(!1,n))}var R_={};function O_(t,e){!t&&!R_[e]&&(R_[e]=!0,console.warn(e))}function n9(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&aa(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&aa(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&aa(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var a9=["HydrateFallback","hydrateFallbackElement"],r9=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function i9({router:t,flushSync:e,unstable_onError:n}){let[a,i]=N.useState(t.state),[l,u]=N.useState(),[d,g]=N.useState({isTransitioning:!1}),[m,v]=N.useState(),[_,S]=N.useState(),[C,T]=N.useState(),R=N.useRef(new Map),O=N.useCallback(H=>{i(k=>(H.errors&&n&&Object.entries(H.errors).forEach(([Y,F])=>{k.errors?.[Y]!==F&&n(F)}),H))},[n]),M=N.useCallback((H,{deletedFetchers:k,flushSync:Y,viewTransitionOpts:F})=>{H.fetchers.forEach((_e,xe)=>{_e.data!==void 0&&R.current.set(xe,_e.data)}),k.forEach(_e=>R.current.delete(_e)),O_(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let oe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(O_(F==null||oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!oe){e&&Y?e(()=>O(H)):N.startTransition(()=>O(H));return}if(e&&Y){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let _e=t.window.document.startViewTransition(()=>{e(()=>O(H))});_e.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})})}),e(()=>S(_e));return}_?(m&&m.resolve(),_.skipTransition(),T({state:H,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(H),g({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,e,_,m,O]);N.useLayoutEffect(()=>t.subscribe(M),[t,M]),N.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new r9)},[d]),N.useEffect(()=>{if(m&&l&&t.window){let H=l,k=m.promise,Y=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(H)),await k});Y.finished.finally(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})}),S(Y)}},[l,m,t.window,O]),N.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,_,a.location,l]),N.useEffect(()=>{!d.isTransitioning&&C&&(u(C.state),g({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),T(void 0))},[d.isTransitioning,C]);let j=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,k,Y)=>t.navigate(H,{state:k,preventScrollReset:Y?.preventScrollReset}),replace:(H,k,Y)=>t.navigate(H,{replace:!0,state:k,preventScrollReset:Y?.preventScrollReset})}),[t]),z=t.basename||"/",P=N.useMemo(()=>({router:t,navigator:j,static:!1,basename:z,unstable_onError:n}),[t,j,z,n]);return N.createElement(N.Fragment,null,N.createElement(Uc.Provider,{value:P},N.createElement($0.Provider,{value:a},N.createElement(y3.Provider,{value:R.current},N.createElement(b2.Provider,{value:d},N.createElement(o9,{basename:z,location:a.location,navigationType:a.historyAction,navigator:j},N.createElement(s9,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var s9=N.memo(l9);function l9({routes:t,future:e,state:n,unstable_onError:a}){return YE(t,void 0,n,a,e)}function o9({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){Yt(!W0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=ro(n));let{pathname:g="/",search:m="",hash:v="",state:_=null,key:S="default"}=n,C=N.useMemo(()=>{let T=ki(g,u);return T==null?null:{location:{pathname:T,search:m,hash:v,state:_,key:S},navigationType:a}},[u,g,m,v,_,S,a]);return aa(C!=null,`<Router basename="${u}"> is not able to match the URL "${g}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(fl.Provider,{value:d},N.createElement(fv.Provider,{children:e,value:C}))}var Mm="get",Dm="application/x-www-form-urlencoded";function hv(t){return t!=null&&typeof t.tagName=="string"}function u9(t){return hv(t)&&t.tagName.toLowerCase()==="button"}function c9(t){return hv(t)&&t.tagName.toLowerCase()==="form"}function f9(t){return hv(t)&&t.tagName.toLowerCase()==="input"}function d9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h9(t,e){return t.button===0&&(!e||e==="_self")&&!d9(t)}var qp=null;function g9(){if(qp===null)try{new FormData(document.createElement("form"),0),qp=!1}catch{qp=!0}return qp}var p9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k1(t){return t!=null&&!p9.has(t)?(aa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dm}"`),null):t}function m9(t,e){let n,a,i,l,u;if(c9(t)){let d=t.getAttribute("action");a=d?ki(d,e):null,n=t.getAttribute("method")||Mm,i=k1(t.getAttribute("enctype"))||Dm,l=new FormData(t)}else if(u9(t)||f9(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||d.getAttribute("action");if(a=g?ki(g,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Mm,i=k1(t.getAttribute("formenctype"))||k1(d.getAttribute("enctype"))||Dm,l=new FormData(d,t),!g9()){let{name:m,type:v,value:_}=t;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,_)}}else{if(hv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mm,a=null,i=Dm,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function w2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function v9(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function y9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _9(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await y9(l,n);return u.links?u.links():[]}return[]}));return E9(a.flat(1).filter(b9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N_(t,e,n,a,i,l){let u=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,d=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,m)=>u(g,m)||d(g,m)):l==="data"?e.filter((g,m)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,m)||d(g,m))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function S9(t,e,{includeHydrateFallback:n}={}){return x9(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function x9(t){return[...new Set(t)]}function w9(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function E9(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(w9(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function x3(){let t=N.useContext(Uc);return w2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function C9(){let t=N.useContext($0);return w2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var E2=N.createContext(void 0);E2.displayName="FrameworkContext";function w3(){let t=N.useContext(E2);return w2(t,"You must render this element inside a <HydratedRouter> element"),t}function T9(t,e){let n=N.useContext(E2),[a,i]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=M=>{M.forEach(j=>{u(j.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let C=()=>{i(!0)},T=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:p0(d,C),onBlur:p0(g,T),onMouseEnter:p0(m,C),onMouseLeave:p0(v,T),onTouchStart:p0(_,C)}]:[!1,S,{}]}function p0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function A9({page:t,...e}){let{router:n}=x3(),a=N.useMemo(()=>ou(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(O9,{page:t,matches:a,...e}):null}function R9(t){let{manifest:e,routeModules:n}=w3(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return _9(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function O9({page:t,matches:e,...n}){let a=kc(),{manifest:i,routeModules:l}=w3(),{basename:u}=x3(),{loaderData:d,matches:g}=C9(),m=N.useMemo(()=>N_(t,e,g,i,a,"data"),[t,e,g,i,a]),v=N.useMemo(()=>N_(t,e,g,i,a,"assets"),[t,e,g,i,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(e.forEach(M=>{let j=i.routes[M.route.id];!j||!j.hasLoader||(!m.some(z=>z.route.id===M.route.id)&&M.route.id in d&&l[M.route.id]?.shouldRevalidate||j.hasClientLoader?R=!0:T.add(M.route.id))}),T.size===0)return[];let O=v9(t,u,"data");return R&&T.size>0&&O.searchParams.set("_routes",e.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[u,d,a,i,m,e,t,l]),S=N.useMemo(()=>S9(v,i),[v,i]),C=R9(v);return N.createElement(N.Fragment,null,_.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),C.map(({key:T,link:R})=>N.createElement("link",{key:T,nonce:n.nonce,...R})))}function N9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var E3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E3&&(window.__reactRouterVersion="7.9.4")}catch{}function M9(t,e){return yE({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:L8({window:e?.window}),hydrationData:D9(),routes:t,mapRouteProperties:n9,hydrationRouteProperties:a9,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function D9(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:j9(t.errors)}),t}function j9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new Bm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var C3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T3=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:d,target:g,to:m,preventScrollReset:v,viewTransition:_,...S},C){let{basename:T}=N.useContext(fl),R=typeof m=="string"&&C3.test(m),O,M=!1;if(typeof m=="string"&&R&&(O=m,E3))try{let oe=new URL(window.location.href),_e=m.startsWith("//")?new URL(oe.protocol+m):new URL(m),xe=ki(_e.pathname,T);_e.origin===oe.origin&&xe!=null?m=xe+_e.search+_e.hash:M=!0}catch{aa(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=qE(m,{relative:i}),[z,P,H]=T9(a,S),k=L9(m,{replace:u,state:d,target:g,preventScrollReset:v,relative:i,viewTransition:_});function Y(oe){e&&e(oe),oe.defaultPrevented||k(oe)}let F=N.createElement("a",{...S,...H,href:O||j,onClick:M||l?e:Y,ref:N9(C,P),target:g,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,F,N.createElement(A9,{page:j})):F});T3.displayName="Link";var z9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:d,children:g,...m},v){let _=J0(u,{relative:m.relative}),S=kc(),C=N.useContext($0),{navigator:T,basename:R}=N.useContext(fl),O=C!=null&&q9(_)&&d===!0,M=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,j=S.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(j=j.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=ki(z,R)||z);const P=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=j===M||!i&&j.startsWith(M)&&j.charAt(P)==="/",k=z!=null&&(z===M||!i&&z.startsWith(M)&&z.charAt(M.length)==="/"),Y={isActive:H,isPending:k,isTransitioning:O},F=H?e:void 0,oe;typeof a=="function"?oe=a(Y):oe=[a,H?"active":null,k?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let _e=typeof l=="function"?l(Y):l;return N.createElement(T3,{...m,"aria-current":F,className:oe,ref:v,style:_e,to:u,viewTransition:d},typeof g=="function"?g(Y):g)});z9.displayName="NavLink";var U9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Mm,action:d,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:_,...S},C)=>{let T=H9(),R=G9(d,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&C3.test(d),j=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let P=z.nativeEvent.submitter,H=P?.getAttribute("formmethod")||u;T(P||z.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:C,method:O,action:R,onSubmit:a?g:j,...S,"data-discover":!M&&t==="render"?"true":void 0})});U9.displayName="Form";function k9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A3(t){let e=N.useContext(Uc);return Yt(e,k9(t)),e}function L9(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let d=dv(),g=kc(),m=J0(t,{relative:l});return N.useCallback(v=>{if(h9(v,e)){v.preventDefault();let _=n!==void 0?n:hu(g)===hu(m);d(t,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[g,d,m,n,a,e,t,i,l,u])}var P9=0,B9=()=>`__${String(++P9)}__`;function H9(){let{router:t}=A3("useSubmit"),{basename:e}=N.useContext(fl),n=JE();return N.useCallback(async(a,i={})=>{let{action:l,method:u,encType:d,formData:g,body:m}=m9(a,e);if(i.navigate===!1){let v=i.fetcherKey||B9();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:m,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:m,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function G9(t,{relative:e}={}){let{basename:n}=N.useContext(fl),a=N.useContext(io);Yt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...J0(t||".",{relative:e})},u=kc();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ol([n,l.pathname])),hu(l)}function q9(t,{relative:e}={}){let n=N.useContext(b2);Yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=A3("useViewTransitionState"),i=J0(t,{relative:e});if(!n.isTransitioning)return!1;let l=ki(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=ki(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Pm(i.pathname,u)!=null||Pm(i.pathname,l)!=null}var gv=t3();const V9=uv(gv);function Y9(t){return N.createElement(i9,{flushSync:gv.flushSync,...t})}const Z9="modulepreload",I9=function(t){return"/rect-up/"+t},M_={},eg=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");i=m(n.map(v=>{if(v=I9(v),v in M_)return;M_[v]=!0;const _=v.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":Z9,_||(C.as="script"),C.crossOrigin="",C.href=v,g&&C.setAttribute("nonce",g),document.head.appendChild(C),_)return new Promise((T,R)=>{C.addEventListener("load",T),C.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return i.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},X9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>eg(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class C2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class D_ extends C2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j_ extends C2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class z_ extends C2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Oy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Oy||(Oy={}));var K9=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class F9{constructor(e,{headers:n={},customFetch:a,region:i=Oy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=X9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return K9(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:l,method:u,body:d,signal:g}=a;let m={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let S;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(m["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(m["Content-Type"]="application/json",S=JSON.stringify(d)));const C=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:g}).catch(M=>{throw M.name==="AbortError"?M:new D_(M)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new j_(C);if(!C.ok)throw new z_(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new D_(l)}:{data:null,error:l,response:l instanceof z_||l instanceof j_?l.context:void 0}}})}}var La={},ad={},rd={},id={},sd={},ld={},Q9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ud=Q9();const $9=Ud.fetch,R3=Ud.fetch.bind(Ud),O3=Ud.Headers,W9=Ud.Request,J9=Ud.Response,Bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:O3,Request:W9,Response:J9,default:R3,fetch:$9},Symbol.toStringTag,{value:"Module"})),e7=T8(Bd);var Vp={},U_;function N3(){if(U_)return Vp;U_=1,Object.defineProperty(Vp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Vp.default=t,Vp}var k_;function M3(){if(k_)return ld;k_=1;var t=ld&&ld.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ld,"__esModule",{value:!0});const e=t(e7),n=t(N3());class a{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let g=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,_,S,C;let T=null,R=null,O=null,M=m.status,j=m.statusText;if(m.ok){if(this.method!=="HEAD"){const k=await m.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=k:R=JSON.parse(k))}const P=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),H=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");P&&H&&H.length>1&&(O=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,M=406,j="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const P=await m.text();try{T=JSON.parse(P),Array.isArray(T)&&m.status===404&&(R=[],T=null,M=200,j="OK")}catch{m.status===404&&P===""?(M=204,j="No Content"):T={message:P}}if(T&&this.isMaybeSingle&&(!((C=T?.details)===null||C===void 0)&&C.includes("0 rows"))&&(T=null,M=200,j="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:R,count:O,status:M,statusText:j}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,_,S;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return ld.default=a,ld}var L_;function D3(){if(L_)return sd;L_=1;var t=sd&&sd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sd,"__esModule",{value:!0});const e=t(M3());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:g=d}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:d=u}={}){const g=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:g=!1,format:m="text"}={}){var v;const _=[i?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return sd.default=n,sd}var P_;function T2(){if(P_)return id;P_=1;var t=id&&id.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(id,"__esModule",{value:!0});const e=t(D3());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${g}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return id.default=n,id}var B_;function j3(){if(B_)return rd;B_=1;var t=rd&&rd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rd,"__esModule",{value:!0});const e=t(T2());class n{constructor(i,{headers:l={},schema:u,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(i,l){const{head:u=!1,count:d}=l??{},g=u?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(_=>/\s/.test(_)&&!m?"":(_==='"'&&(m=!m),_)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var d;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const _=i.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(_.length>0){const S=[...new Set(_)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return rd.default=n,rd}var H_;function t7(){if(H_)return ad;H_=1;var t=ad&&ad.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ad,"__esModule",{value:!0});const e=t(j3()),n=t(T2());class a{constructor(l,{headers:u={},schema:d,fetch:g}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=g}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:g=!1,count:m}={}){var v;let _;const S=new URL(`${this.url}/rpc/${l}`);let C;d||g?(_=d?"HEAD":"GET",Object.entries(u).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(_="POST",C=u);const T=new Headers(this.headers);return m&&T.set("Prefer",`count=${m}`),new n.default({method:_,url:S,headers:T,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ad.default=a,ad}var G_;function n7(){if(G_)return La;G_=1;var t=La&&La.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(La,"__esModule",{value:!0}),La.PostgrestError=La.PostgrestBuilder=La.PostgrestTransformBuilder=La.PostgrestFilterBuilder=La.PostgrestQueryBuilder=La.PostgrestClient=void 0;const e=t(t7());La.PostgrestClient=e.default;const n=t(j3());La.PostgrestQueryBuilder=n.default;const a=t(T2());La.PostgrestFilterBuilder=a.default;const i=t(D3());La.PostgrestTransformBuilder=i.default;const l=t(M3());La.PostgrestBuilder=l.default;const u=t(N3());return La.PostgrestError=u.default,La.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},La}var a7=n7();const r7=uv(a7),{PostgrestClient:i7,PostgrestQueryBuilder:XH,PostgrestFilterBuilder:KH,PostgrestTransformBuilder:FH,PostgrestBuilder:QH,PostgrestError:$H}=r7;class s7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const l7="2.75.0",o7=`realtime-js/${l7}`,u7="1.0.0",Ny=1e4,c7=1e3,f7=100;var O0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(O0||(O0={}));var Sa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Sa||(Sa={}));var hs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(hs||(hs={}));var My;(function(t){t.websocket="websocket"})(My||(My={}));var Cc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Cc||(Cc={}));class d7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=a.decode(e.slice(u,u+i));u=u+i;const g=a.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:g,payload:m}}}class z3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Mn||(Mn={}));const q_=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=h7(u,t,e,i),l),{}):{}},h7=(t,e,n,a)=>{const i=e.find(d=>d.name===t),l=i?.type,u=n[t];return l&&!a.includes(l)?U3(l,u):Dy(u)},U3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return v7(e,n)}switch(t){case Mn.bool:return g7(e);case Mn.float4:case Mn.float8:case Mn.int2:case Mn.int4:case Mn.int8:case Mn.numeric:case Mn.oid:return p7(e);case Mn.json:case Mn.jsonb:return m7(e);case Mn.timestamp:return y7(e);case Mn.abstime:case Mn.date:case Mn.daterange:case Mn.int4range:case Mn.int8range:case Mn.money:case Mn.reltime:case Mn.text:case Mn.time:case Mn.timestamptz:case Mn.timetz:case Mn.tsrange:case Mn.tstzrange:return Dy(e);default:return Dy(e)}},Dy=t=>t,g7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},p7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},m7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},v7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>U3(e,d))}return t},y7=t=>typeof t=="string"?t.replace(" ","T"):t,k3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class L1{constructor(e,n,a={},i=Ny){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var V_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(V_||(V_={}));class N0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=N0.syncState(this.state,i,l,u),this.pendingDiffs.forEach(g=>{this.state=N0.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=N0.syncDiff(this.state,i,l,u),d())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const l=this.cloneDeep(e),u=this.transformState(n),d={},g={};return this.map(l,(m,v)=>{u[m]||(g[m]=v)}),this.map(u,(m,v)=>{const _=l[m];if(_){const S=v.map(O=>O.presence_ref),C=_.map(O=>O.presence_ref),T=v.filter(O=>C.indexOf(O.presence_ref)<0),R=_.filter(O=>S.indexOf(O.presence_ref)<0);T.length>0&&(d[m]=T),R.length>0&&(g[m]=R)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:g},a,i)}static syncDiff(e,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,g)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(g),v.length>0){const _=e[d].map(C=>C.presence_ref),S=v.filter(C=>_.indexOf(C.presence_ref)<0);e[d].unshift(...S)}a(d,v,g)}),this.map(u,(d,g)=>{let m=e[d];if(!m)return;const v=g.map(_=>_.presence_ref);m=m.filter(_=>v.indexOf(_.presence_ref)<0),e[d]=m,i(d,m,g),m.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Y_||(Y_={}));var M0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(M0||(M0={}));var Jl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jl||(Jl={}));class A2{constructor(e,n={config:{}},a){var i,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Sa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new L1(this,hs.join,this.params,this.timeout),this.rejoinTimer=new z3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sa.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hs.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new N0(this),this.broadcastEndpointURL=k3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Sa.closed){const{config:{broadcast:u,presence:d,private:g}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[M0.PRESENCE]&&this.bindings[M0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(Jl.CHANNEL_ERROR,C)),this._onClose(()=>e?.(Jl.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var T;if(this.socket.setAuth(),C===void 0){e?.(Jl.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,M=[];for(let j=0;j<O;j++){const z=R[j],{filter:{event:P,schema:H,table:k,filter:Y}}=z,F=C&&C[j];if(F&&F.event===P&&F.schema===H&&F.table===k&&F.filter===Y)M.push(Object.assign(Object.assign({},z),{id:F.id}));else{this.unsubscribe(),this.state=Sa.errored,e?.(Jl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(Jl.SUBSCRIBED);return}}).receive("error",C=>{this.state=Sa.errored,e?.(Jl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(Jl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Sa.joined&&e===M0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,g;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Sa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new L1(this,hs.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new L1(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>f7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,l;const u=e.toLocaleLowerCase(),{close:d,error:g,leave:m,join:v}=hs;if(a&&[d,g,m,v].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var T,R,O;return((T=C.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=C.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(C=>C.callback(S,a)):(l=this.bindings[u])===null||l===void 0||l.filter(C=>{var T,R,O,M,j,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const P=C.id,H=(T=C.filter)===null||T===void 0?void 0:T.event;return P&&((R=n.ids)===null||R===void 0?void 0:R.includes(P))&&(H==="*"||H?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const P=(j=(M=C?.filter)===null||M===void 0?void 0:M.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:R,table:O,commit_timestamp:M,type:j,errors:z}=T;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:M,eventType:j,new:{},old:{},errors:z}),this._getPayloadRecords(T))}C.callback(S,a)})}_isClosed(){return this.state===Sa.closed}_isJoined(){return this.state===Sa.joined}_isJoining(){return this.state===Sa.joining}_isLeaving(){return this.state===Sa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&A2.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hs.close,{},e)}_onError(e){this._on(hs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=q_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=q_(e.columns,e.old_record)),n}}const P1=()=>{},Yp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},b7=[1e3,2e3,5e3,1e4],_7=1e4,S7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x7{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ny,this.transport=null,this.heartbeatIntervalMs=Yp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=P1,this.ref=0,this.reconnectTimer=null,this.logger=P1,this.conn=null,this.sendBuffer=[],this.serializer=new d7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...u)=>eg(async()=>{const{default:d}=await Promise.resolve().then(()=>Bd);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${My.websocket}`,this.httpEndpoint=k3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case O0.connecting:return Cc.Connecting;case O0.open:return Cc.Open;case O0.closing:return Cc.Closing;default:return Cc.Closed}}isConnected(){return this.connectionState()===Cc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new A2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(c7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=n,d=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([S7],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:o7};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(hs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new z3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,l,u,d,g,m,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Ny,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Yp.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:P1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>b7[_-1]||_7),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,S)=>S(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class R2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function da(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class w7 extends R2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jy extends R2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var E7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const L3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>eg(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},C7=()=>E7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield eg(()=>Promise.resolve().then(()=>Bd),void 0)).Response:Response}),zy=t=>{if(Array.isArray(t))return t.map(n=>zy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=zy(a)}),e},T7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Lc=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const B1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A7=(t,e,n)=>Lc(void 0,void 0,void 0,function*(){const a=yield C7();t instanceof a&&!n?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new w7(B1(i),l,u))}).catch(i=>{e(new jy(B1(i),i))}):e(new jy(B1(t),t))}),R7=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(T7(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function tg(t,e,n,a,i,l){return Lc(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,R7(e,a,i,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>A7(g,d,a))})})}function Gm(t,e,n,a){return Lc(this,void 0,void 0,function*(){return tg(t,"GET",e,n,a)})}function rl(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return tg(t,"POST",e,a,i,n)})}function Uy(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return tg(t,"PUT",e,a,i,n)})}function O7(t,e,n,a){return Lc(this,void 0,void 0,function*(){return tg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function P3(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return tg(t,"DELETE",e,a,i,n)})}var N7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class M7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return N7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}}var D7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class j7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new M7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return D7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}}var Br=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const z7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class U7{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=L3(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return Br(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Z_),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),_=yield(e=="PUT"?Uy:rl)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(da(l))return{data:null,error:l};throw l}})}upload(e,n,a){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return Br(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:Z_.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",m.cacheControl)):(g=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const _=yield Uy(this.fetch,d.toString(),g,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(da(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return Br(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const l=yield rl(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new R2("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}update(e,n,a){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Br(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}copy(e,n,a){return Br(this,void 0,void 0,function*(){try{return{data:{path:(yield rl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return Br(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield rl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return Br(this,void 0,void 0,function*(){try{const i=yield rl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),g=()=>Gm(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new j7(g,this.shouldThrowOnError)}info(e){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Gm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}exists(e){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield O7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a)&&a instanceof jy){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const d=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&i.push(g);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return Br(this,void 0,void 0,function*(){try{return{data:yield P3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}list(e,n,a){return Br(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},z7),n),{prefix:e||""});return{data:yield rl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}listV2(e,n){return Br(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield rl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const k7="2.75.0",L7={"X-Client-Info":`storage-js/${k7}`};var od=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class P7{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L7),n),this.fetch=L3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return od(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}getBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}createBucket(e){return od(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield rl(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return od(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}emptyBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}deleteBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield P3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}}class B7 extends P7{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new U7(this.url,this.headers,e,this.fetch)}}const H7="2.75.0";let x0="";typeof Deno<"u"?x0="deno":typeof document<"u"?x0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?x0="react-native":x0="node";const G7={"X-Client-Info":`supabase-js-${x0}/${H7}`},q7={headers:G7},V7={schema:"public"},Y7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z7={};var I7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const X7=t=>{let e;return t?e=t:typeof fetch>"u"?e=R3:e=fetch,(...n)=>e(...n)},K7=()=>typeof Headers>"u"?O3:Headers,F7=(t,e,n)=>{const a=X7(n),i=K7();return(l,u)=>I7(void 0,void 0,void 0,function*(){var d;const g=(d=yield e())!==null&&d!==void 0?d:t;let m=new i(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},u),{headers:m}))})};var Q7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};function $7(t){return t.endsWith("/")?t:t+"/"}function W7(t,e){var n,a;const{db:i,auth:l,realtime:u,global:d}=t,{db:g,auth:m,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),d),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>Q7(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function J7(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const B3="2.75.0",xd=30*1e3,ky=3,H1=ky*xd,eC="http://localhost:9999",tC="supabase.auth.token",nC={"X-Client-Info":`gotrue-js/${B3}`},Ly="X-Supabase-Api-Version",H3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rC=600*1e3;class G0 extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ft(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class iC extends G0{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function sC(t){return ft(t)&&t.name==="AuthApiError"}class Tc extends G0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vu extends G0{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class ru extends vu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lC(t){return ft(t)&&t.name==="AuthSessionMissingError"}class ud extends vu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zp extends vu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ip extends vu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oC(t){return ft(t)&&t.name==="AuthImplicitGrantRedirectError"}class I_ extends vu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Py extends vu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function G1(t){return ft(t)&&t.name==="AuthRetryableFetchError"}class X_ extends vu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class By extends vu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K_=` 	
\r=`.split(""),uC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<K_.length;e+=1)t[K_[e].charCodeAt(0)]=-2;for(let e=0;e<qm.length;e+=1)t[qm[e].charCodeAt(0)]=e;return t})();function F_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(qm[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(qm[a]),e.queuedBits-=6}}function G3(t,e,n){const a=uC[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Q_(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{dC(u,a,n)};for(let u=0;u<t.length;u+=1)G3(t.charCodeAt(u),i,l);return e.join("")}function cC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fC(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}cC(a,e)}}function dC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Od(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)G3(t.charCodeAt(i),n,a);return new Uint8Array(e)}function hC(t){const e=[];return fC(t,n=>e.push(n)),new Uint8Array(e)}function Rc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>F_(i,n,a)),F_(null,n,a),e.join("")}function gC(t){return Math.round(Date.now()/1e3)+t}function pC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",Sc={tested:!1,writable:!1},q3=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sc.tested)return Sc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sc.tested=!0,Sc.writable=!0}catch{Sc.tested=!0,Sc.writable=!1}return Sc.writable};function mC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const V3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>eg(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},vC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wd=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nu=async(t,e)=>{await t.removeItem(e)};class pv{constructor(){this.promise=new pv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pv.promiseConstructor=Promise;function q1(t){const e=t.split(".");if(e.length!==3)throw new By("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!aC.test(e[a]))throw new By("JWT not in base64url format");return{header:JSON.parse(Q_(e[0])),payload:JSON.parse(Q_(e[1])),signature:Od(e[2]),raw:{header:e[0],payload:e[1]}}}async function yC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bC(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function _C(t){return("0"+t.toString(16)).substr(-2)}function SC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,_C).join("")}async function xC(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function wC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cd(t,e,n=!1){const a=SC();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await wd(t,`${e}-code-verifier`,i);const l=await wC(a);return[l,a===l?"plain":"s256"]}const EC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CC(t){const e=t.headers.get(Ly);if(!e||!e.match(EC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fd(t){if(!RC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function V1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $_(t){return JSON.parse(JSON.stringify(t))}var OC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Ec=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NC=[502,503,504];async function W_(t){var e;if(!vC(t))throw new Py(Ec(t),0);if(NC.includes(t.status))throw new Py(Ec(t),t.status);let n;try{n=await t.json()}catch(l){throw new Tc(Ec(l),l)}let a;const i=CC(t);if(i&&i.getTime()>=H3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new X_(Ec(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ru}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new X_(Ec(n),t.status,n.weak_password.reasons);throw new iC(Ec(n),t.status||500,a)}const MC=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function Ct(t,e,n,a){var i;const l=Object.assign({},a?.headers);l[Ly]||(l[Ly]=H3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await DC(t,e,n+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function DC(t,e,n,a,i,l){const u=MC(e,a,i,l);let d;try{d=await t(n,Object.assign({},u))}catch(g){throw console.error(g),new Py(Ec(g),0)}if(d.ok||await W_(d),a?.noResolveJson)return d;try{return await d.json()}catch(g){await W_(g)}}function ds(t){var e;let n=null;UC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gC(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function J_(t){const e=ds(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jC(t){return{data:t,error:null}}function zC(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=t,u=OC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},g=Object.assign({},u);return{data:{properties:d,user:g},error:null}}function e4(t){return t}function UC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Y1=["global","local","others"];var kC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class LC{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=V3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Y1[0]){if(Y1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Y1.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ft(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cu})}catch(a){if(ft(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=kC(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zC,redirectTo:n?.redirectTo})}catch(n){if(ft(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cu})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,l,u,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:e4});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ft(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){fd(e);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cu})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fd(e);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:cu})}catch(a){if(ft(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){fd(e);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:cu})}catch(a){if(ft(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){fd(e.userId);try{const{data:n,error:a}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fd(e.userId),fd(e.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,l,u,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:e4});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ft(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}}function t4(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const dd={debug:!!(globalThis&&q3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PC extends Y3{}async function BC(t,e,n){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),dd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dd.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function HC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Z3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function GC(t){return parseInt(t,16)}function qC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function VC(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:g,resources:m,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const C=Z3(t.address),T=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${C}

${R}`;let M=`URI: ${_}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),d&&(M+=`
Not Before: ${d.toISOString()}`),g&&(M+=`
Request ID: ${g}`),m){let j=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);j+=`
- ${z}`}M+=j}return`${O}
${M}`}class fa extends Error{constructor({message:e,code:n,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Vm extends fa{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function YC({error:t,options:e}){var n,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new fa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new fa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new fa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new fa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(X3(u)){if(l.rp.id!==u)return new fa({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new fa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ZC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(X3(a)){if(n.rpId!==a)return new fa({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var I3=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class IC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const XC=new IC;function KC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=I3(t,["challenge","user","excludeCredentials"]),l=Od(e).buffer,u=Object.assign(Object.assign({},n),{id:Od(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];d.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:Od(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function FC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=I3(t,["challenge","allowCredentials"]),i=Od(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Od(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function QC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $C(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rc(new Uint8Array(i.authenticatorData)),clientDataJSON:Rc(new Uint8Array(i.clientDataJSON)),signature:Rc(new Uint8Array(i.signature)),userHandle:i.userHandle?Rc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function X3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function n4(){var t,e;return!!(ti()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function WC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vm("Browser returned unexpected credential type",e)}:{data:null,error:new Vm("Empty credential response",e)}}catch(e){return{data:null,error:YC({error:e,options:t})}}}async function JC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vm("Browser returned unexpected credential type",e)}:{data:null,error:new Vm("Empty credential response",e)}}catch(e){return{data:null,error:ZC({error:e,options:t})}}}const eT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tT={userVerification:"preferred",hints:["security-key"]};function Ym(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const d=a[l];e(d)?a[l]=Ym(d,u):a[l]=Ym(u)}else a[l]=u}return a}function nT(t,e){return Ym(eT,t,e||{})}function aT(t,e){return Ym(tT,t,e||{})}class rT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const g=i??XC.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=nT(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await WC({publicKey:m,signal:g});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const m=aT(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await JC(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:g}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return ft(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!n)return{data:null,error:new G0("rpId is required for WebAuthn authentication")};try{if(!n4())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:d};const{webauthn:g}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:a,credential_response:g.credential_response}})}catch(u){return ft(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!n)return{data:null,error:new G0("rpId is required for WebAuthn registration")};try{if(!n4())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:g,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ft(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in register",u)}}}}HC();const iT={url:eC,storageKey:tC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a4(t,e,n){return await n()}const hd={};class q0{get jwks(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=q0.nextInstanceID,q0.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},iT),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new LC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=V3(i.fetch),this.lock=i.lock||a4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ti()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=BC:this.lock=a4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rT(this)},this.persistSession?(i.storage?this.storage=i.storage:q3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=t4(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=mC(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),ti()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),oC(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ft(n)?{error:n}:{error:new Tc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ds}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const g=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ft(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,i;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let C=null,T=null;this.flowType==="pkce"&&([C,T]=await cd(this.storage,this.storageKey)),l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:C,code_challenge_method:T},xform:ds})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:ds})}else throw new Zp("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const g=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ft(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:J_})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:J_})}else throw new Zp("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ud}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,l,u,d,g,m,v,_,S;let C,T;if("message"in e)C=e.message,T=e.signature;else{const{chain:R,wallet:O,statement:M,options:j}=e;let z;if(ti())if(typeof O=="object")z=O;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")z=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const P=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),H=await z.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Z3(H[0]);let Y=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Y){const oe=await z.request({method:"eth_chainId"});Y=GC(oe)}const F={domain:P.host,address:k,statement:M,uri:P.href,version:"1",chainId:Y,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=VC(F),T=await z.request({method:"personal_sign",params:[qC(C),k]})}try{const{data:R,error:O}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ds});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new ud}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ft(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,i,l,u,d,g,m,v,_,S,C;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:O,wallet:M,statement:j,options:z}=e;let P;if(ti())if(typeof M=="object")P=M;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))P=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=M}const H=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const k=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),j?{statement:j}:null));let Y;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")Y=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)Y=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)T=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),R=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${H.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((d=z?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const k=await P.signMessage(new TextEncoder().encode(T),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=k}}try{const{data:O,error:M}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Rc(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:ds});if(M)throw M;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new ud}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:M})}catch(O){if(ft(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await xc(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:l,error:u}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ds});if(await nu(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ud}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(ft(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=e,d=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ds}),{data:g,error:m}=d;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ud}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,l,u;try{if("email"in e){const{email:d,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await cd(this.storage,this.storageKey));const{error:_}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:d,options:g}=e,{data:m,error:v}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(u=g?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Zp("You must provide either an email or phone number.")}catch(d){if(ft(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,a;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:ds});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,m=u.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await cd(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:jC})}catch(l){if(ft(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new ru;const{error:i}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ft(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:d}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Zp("You must provide either an email or phone number and a type")}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<H1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await xc(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=V1()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,m,v)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cu}):await this._useSession(async n=>{var a,i,l;const{data:u,error:d}=n;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ru}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:cu})})}catch(n){if(ft(n))return lC(n)&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new ru;const u=i.session;let d=null,g=null;this.flowType==="pkce"&&e.email!=null&&([d,g]=await cd(this.storage,this.storageKey));const{data:m,error:v}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:g}),jwt:u.access_token,xform:cu});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(ft(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ru;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=q1(e.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:d,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ft(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new ru;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ti())throw new Ip("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ip(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ip("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new I_("No code detected.");const{data:j,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:d,expires_at:g,token_type:m}=e;if(!l||!d||!u||!m)throw new Ip("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(d);let S=v+_;g&&(S=parseInt(g));const C=S-v;C*1e3<=xd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${_}s`);const T=S-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const M={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:_,expires_at:S,refresh_token:u,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(a){if(ft(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{error:l};const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(sC(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=pC(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await cd(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ft(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,d,g,m,v;const{data:_,error:S}=l;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return ti()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ft(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:d,token:g,access_token:m,nonce:v}=e,_=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ds}),{data:S,error:C}=_;return C?{data:{user:null,session:null},error:C}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new ud}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:C})}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await bC(async i=>(i>0&&await yC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ds})),(i,l)=>{const u=200*Math.pow(2,i);return l&&G1(l)&&Date.now()+u-a<xd})}catch(a){if(this._debug(n,"error",a),ft(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),ti()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await xc(this.storage,this.storageKey);if(i&&this.userStorage){let u=await xc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await wd(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:V1()}else if(i&&!i.user&&!i.user){const u=await xc(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await nu(this.storage,this.storageKey+"-user"),await wd(this.storage,this.storageKey,i)):i.user=V1()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<H1;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${H1}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),G1(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new ru;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pv;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new ru;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),ft(l)){const u={data:null,error:l};return G1(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await wd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=$_(i);await wd(this.storage,this.storageKey,l)}else{const i=$_(n);await wd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await nu(this.storage,this.storageKey),await nu(this.storage,this.storageKey+"-code-verifier"),await nu(this.storage,this.storageKey+"-user"),this.userStorage&&await nu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/xd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xd}ms, refresh threshold is ${ky} ticks`),i<=ky&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Y3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await cd(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?{data:null,error:l}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&g.type==="totp"&&(!((i=g?.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?QC(e.webauthn.credential_response):$C(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:g}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(n){if(ft(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:KC(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:FC(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ft(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=q1(i.access_token);let d=null;u.aal&&(d=u.aal);let g=d;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=u.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+rC>i)return a;const{data:l,error:u}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:C,error:T}=await this.getSession();if(T||!C.session)return{data:null,error:T};a=C.session.access_token}const{header:i,payload:l,signature:u,raw:{header:d,payload:g}}=q1(a);n?.allowExpired||TC(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:l,header:i,signature:u},error:null}}const v=AC(i.alg),_=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,hC(`${d}.${g}`)))throw new By("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(ft(a))return{data:null,error:a};throw a}}}q0.nextInstanceID=0;const sT=q0;class lT extends sT{constructor(e){super(e)}}var oT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class uT{constructor(e,n,a){var i,l,u;this.supabaseUrl=e,this.supabaseKey=n;const d=J7(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const g=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:V7,realtime:Z7,auth:Object.assign(Object.assign({},Y7),{storageKey:g}),global:q7},v=W7(a??{},m);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=F7(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new i7(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new B7(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new F9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return oT(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,storageKey:u,flowType:d,lock:g,debug:m},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lT({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,flowType:d,lock:g,debug:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new x7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cT=(t,e,n)=>new uT(t,e,n);function fT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dT="https://ptwlzqcuyndjswcwgndp.supabase.co",hT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",zn=cT(dT,hT),Zm="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var K3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r4=st.createContext&&st.createContext(K3),gT=["attr","size","title"];function pT(t,e){if(t==null)return{};var n=mT(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function mT(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Im.apply(this,arguments)}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(a){vT(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function vT(t,e,n){return e=yT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yT(t){var e=bT(t,"string");return typeof e=="symbol"?e:e+""}function bT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F3(t){return t&&t.map((e,n)=>st.createElement(e.tag,Xm({key:n},e.attr),F3(e.child)))}function Gn(t){return e=>st.createElement(_T,Im({attr:Xm({},t.attr)},e),F3(t.child))}function _T(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=pT(t,gT),d=i||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),st.createElement("svg",Im({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:g,style:Xm(Xm({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&st.createElement("title",null,l),t.children)};return r4!==void 0?st.createElement(r4.Consumer,null,n=>e(n)):e(K3)}function Q3(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function ST(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function m0(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function xT(t){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function $3(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function wT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function ET(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},child:[]}]})(t)}function CT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function TT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function W3(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function J3(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function AT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},child:[]}]})(t)}function s4(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function l4(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function eS(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function RT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function Z1(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function O2(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function tS(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(t)}function OT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function Hy(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function NT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function MT(t){return Gn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function Ne(t,e,n){function a(d,g){var m;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(m=d._zod).traits??(m.traits=new Set),d._zod.traits.add(t),e(d,g);for(const v in u.prototype)v in d||Object.defineProperty(d,v,{value:u.prototype[v].bind(d)});d._zod.constr=u,d._zod.def=g}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:t});function u(d){var g;const m=n?.Parent?new l:this;a(m,d),(g=m._zod).deferred??(g.deferred=[]);for(const v of m._zod.deferred)v();return m}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class Nd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class nS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const aS={};function Mc(t){return aS}function DT(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,i])=>e.indexOf(+a)===-1).map(([a,i])=>i)}function Gy(t,e){return typeof e=="bigint"?e.toString():e}function N2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function M2(t){return t==null}function D2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const o4=Symbol("evaluating");function jn(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==o4)return a===void 0&&(a=o4,a=n()),a},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Pc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Bc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function u4(t){return JSON.stringify(t)}const rS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Km(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const jT=N2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function V0(t){if(Km(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Km(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function iS(t){return V0(t)?{...t}:Array.isArray(t)?[...t]:t}const zT=new Set(["string","number","symbol"]);function mv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yu(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function _t(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function UT(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function kT(t,e){const n=t._zod.def,a=Bc(t._zod.def,{get shape(){const i={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(i[l]=n.shape[l])}return Pc(this,"shape",i),i},checks:[]});return yu(t,a)}function LT(t,e){const n=t._zod.def,a=Bc(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete i[l]}return Pc(this,"shape",i),i},checks:[]});return yu(t,a)}function PT(t,e){if(!V0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Bc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Pc(this,"shape",l),l},checks:[]});return yu(t,i)}function BT(t,e){if(!V0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Pc(this,"shape",a),a},checks:t._zod.def.checks};return yu(t,n)}function HT(t,e){const n=Bc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Pc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return yu(t,n)}function GT(t,e,n){const a=Bc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)l[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return Pc(this,"shape",l),l},checks:[]});return yu(e,a)}function qT(t,e,n){const a=Bc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new t({type:"nonoptional",innerType:i[u]});return Pc(this,"shape",l),l},checks:[]});return yu(e,a)}function Td(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function sS(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function Xp(t){return typeof t=="string"?t:t?.message}function Dc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const i=Xp(t.inst?._zod.def?.error?.(t))??Xp(e?.error?.(t))??Xp(n.customError?.(t))??Xp(n.localeError?.(t))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function j2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Y0(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const lS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Gy,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},z2=Ne("$ZodError",lS),vv=Ne("$ZodError",lS,{Parent:Error});function VT(t,e=n=>n.message){const n={},a=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):a.push(e(i));return{formErrors:a,fieldErrors:n}}function YT(t,e=n=>n.message){const n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,d=0;for(;d<l.path.length;){const g=l.path[d];d===l.path.length-1?(u[g]=u[g]||{_errors:[]},u[g]._errors.push(e(l))):u[g]=u[g]||{_errors:[]},u=u[g],d++}}};return a(t),n}const yv=t=>(e,n,a,i)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new Nd;if(u.issues.length){const d=new(i?.Err??t)(u.issues.map(g=>Dc(g,l,Mc())));throw rS(d,i?.callee),d}return u.value},ZT=yv(vv),bv=t=>async(e,n,a,i)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new(i?.Err??t)(u.issues.map(g=>Dc(g,l,Mc())));throw rS(d,i?.callee),d}return u.value},IT=bv(vv),_v=t=>(e,n,a)=>{const i=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new Nd;return l.issues.length?{success:!1,error:new(t??z2)(l.issues.map(u=>Dc(u,i,Mc())))}:{success:!0,data:l.value}},XT=_v(vv),Sv=t=>async(e,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>Dc(u,i,Mc())))}:{success:!0,data:l.value}},KT=Sv(vv),FT=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return yv(t)(e,n,i)},QT=t=>(e,n,a)=>yv(t)(e,n,a),$T=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return bv(t)(e,n,i)},WT=t=>async(e,n,a)=>bv(t)(e,n,a),JT=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return _v(t)(e,n,i)},eA=t=>(e,n,a)=>_v(t)(e,n,a),tA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Sv(t)(e,n,i)},nA=t=>async(e,n,a)=>Sv(t)(e,n,a),aA=/^[cC][^\s-]{8,}$/,rA=/^[0-9a-z]+$/,iA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,sA=/^[0-9a-vA-V]{20}$/,lA=/^[A-Za-z0-9]{27}$/,oA=/^[a-zA-Z0-9_-]{21}$/,uA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,cA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,c4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,fA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,dA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function hA(){return new RegExp(dA,"u")}const gA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,mA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,vA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,oS=/^[A-Za-z0-9_-]*$/,bA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,_A=/^\+(?:[0-9]){6,14}[0-9]$/,uS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",SA=new RegExp(`^${uS}$`);function cS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function xA(t){return new RegExp(`^${cS(t)}$`)}function wA(t){const e=cS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${uS}T(?:${a})$`)}const EA=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},CA=/^(?:true|false)$/i,TA=/^[^A-Z]*$/,AA=/^[^a-z]*$/,dl=Ne("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),RA=Ne("$ZodCheckMaxLength",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!M2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const i=a.value;if(i.length<=e.maximum)return;const u=j2(i);a.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),OA=Ne("$ZodCheckMinLength",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!M2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const i=a.value;if(i.length>=e.minimum)return;const u=j2(i);a.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),NA=Ne("$ZodCheckLengthEquals",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!M2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=a=>{const i=a.value,l=i.length;if(l===e.length)return;const u=j2(i),d=l>e.length;a.issues.push({origin:u,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),xv=Ne("$ZodCheckStringFormat",(t,e)=>{var n,a;dl.init(t,e),t._zod.onattach.push(i=>{const l=i._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),MA=Ne("$ZodCheckRegex",(t,e)=>{xv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),DA=Ne("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=TA),xv.init(t,e)}),jA=Ne("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=AA),xv.init(t,e)}),zA=Ne("$ZodCheckIncludes",(t,e)=>{dl.init(t,e);const n=mv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),UA=Ne("$ZodCheckStartsWith",(t,e)=>{dl.init(t,e);const n=new RegExp(`^${mv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),kA=Ne("$ZodCheckEndsWith",(t,e)=>{dl.init(t,e);const n=new RegExp(`.*${mv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),LA=Ne("$ZodCheckOverwrite",(t,e)=>{dl.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class PA{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),l=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,i.join(`
`))}}const BA={major:4,minor:1,patch:12},ga=Ne("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=BA;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const i of a)for(const l of i._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,d,g)=>{let m=Td(u),v;for(const _ of d){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(m)continue;const S=u.issues.length,C=_._zod.check(u);if(C instanceof Promise&&g?.async===!1)throw new Nd;if(v||C instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await C,u.issues.length!==S&&(m||(m=Td(u,S)))});else{if(u.issues.length===S)continue;m||(m=Td(u,S))}}return v?v.then(()=>u):u},l=(u,d,g)=>{if(Td(u))return u.aborted=!0,u;const m=i(d,a,g);if(m instanceof Promise){if(g.async===!1)throw new Nd;return m.then(v=>t._zod.parse(v,g))}return t._zod.parse(m,g)};t._zod.run=(u,d)=>{if(d.skipChecks)return t._zod.parse(u,d);if(d.direction==="backward"){const m=t._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return m instanceof Promise?m.then(v=>l(v,u,d)):l(m,u,d)}const g=t._zod.parse(u,d);if(g instanceof Promise){if(d.async===!1)throw new Nd;return g.then(m=>i(m,a,d))}return i(g,a,d)}}t["~standard"]={validate:i=>{try{const l=XT(t,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return KT(t,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),U2=Ne("$ZodString",(t,e)=>{ga.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??EA(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),qn=Ne("$ZodStringFormat",(t,e)=>{xv.init(t,e),U2.init(t,e)}),HA=Ne("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=cA),qn.init(t,e)}),GA=Ne("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=c4(a))}else e.pattern??(e.pattern=c4());qn.init(t,e)}),qA=Ne("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=fA),qn.init(t,e)}),VA=Ne("$ZodURL",(t,e)=>{qn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:bA.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),YA=Ne("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=hA()),qn.init(t,e)}),ZA=Ne("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=oA),qn.init(t,e)}),IA=Ne("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=aA),qn.init(t,e)}),XA=Ne("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=rA),qn.init(t,e)}),KA=Ne("$ZodULID",(t,e)=>{e.pattern??(e.pattern=iA),qn.init(t,e)}),FA=Ne("$ZodXID",(t,e)=>{e.pattern??(e.pattern=sA),qn.init(t,e)}),QA=Ne("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=lA),qn.init(t,e)}),$A=Ne("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=wA(e)),qn.init(t,e)}),WA=Ne("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=SA),qn.init(t,e)}),JA=Ne("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=xA(e)),qn.init(t,e)}),eR=Ne("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=uA),qn.init(t,e)}),tR=Ne("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=gA),qn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),nR=Ne("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=pA),qn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),aR=Ne("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=mA),qn.init(t,e)}),rR=Ne("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=vA),qn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,l]=a;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function fS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const iR=Ne("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=yA),qn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{fS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function sR(t){if(!oS.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return fS(n)}const lR=Ne("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=oS),qn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{sR(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),oR=Ne("$ZodE164",(t,e)=>{e.pattern??(e.pattern=_A),qn.init(t,e)});function uR(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const cR=Ne("$ZodJWT",(t,e)=>{qn.init(t,e),t._zod.check=n=>{uR(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),fR=Ne("$ZodBoolean",(t,e)=>{ga.init(t,e),t._zod.pattern=CA,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),dR=Ne("$ZodUnknown",(t,e)=>{ga.init(t,e),t._zod.parse=n=>n}),hR=Ne("$ZodNever",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function f4(t,e,n){t.issues.length&&e.issues.push(...sS(n,t.issues)),e.value[n]=t.value}const gR=Ne("$ZodArray",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const d=i[u],g=e.element._zod.run({value:d,issues:[]},a);g instanceof Promise?l.push(g.then(m=>f4(m,n,u))):f4(g,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function Fm(t,e,n,a){t.issues.length&&e.issues.push(...sS(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function dS(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=UT(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function hS(t,e,n,a,i,l){const u=[],d=i.keySet,g=i.catchall._zod,m=g.def.type;for(const v of Object.keys(e)){if(d.has(v))continue;if(m==="never"){u.push(v);continue}const _=g.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(S=>Fm(S,n,v,e))):Fm(_,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const pR=Ne("$ZodObject",(t,e)=>{if(ga.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const g={...d};return Object.defineProperty(e,"shape",{value:g}),g}})}const a=N2(()=>dS(e));jn(t._zod,"propValues",()=>{const d=e.shape,g={};for(const m in d){const v=d[m]._zod;if(v.values){g[m]??(g[m]=new Set);for(const _ of v.values)g[m].add(_)}}return g});const i=Km,l=e.catchall;let u;t._zod.parse=(d,g)=>{u??(u=a.value);const m=d.value;if(!i(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),d;d.value={};const v=[],_=u.shape;for(const S of u.keys){const T=_[S]._zod.run({value:m[S],issues:[]},g);T instanceof Promise?v.push(T.then(R=>Fm(R,d,S,m))):Fm(T,d,S,m)}return l?hS(v,m,d,g,a.value,t):v.length?Promise.all(v).then(()=>d):d}}),mR=Ne("$ZodObjectJIT",(t,e)=>{pR.init(t,e);const n=t._zod.parse,a=N2(()=>dS(e)),i=S=>{const C=new PA(["shape","payload","ctx"]),T=a.value,R=z=>{const P=u4(z);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};C.write("const input = payload.value;");const O=Object.create(null);let M=0;for(const z of T.keys)O[z]=`key_${M++}`;C.write("const newResult = {};");for(const z of T.keys){const P=O[z],H=u4(z);C.write(`const ${P} = ${R(z)};`),C.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${P}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const j=C.compile();return(z,P)=>j(S,z,P)};let l;const u=Km,d=!aS.jitless,m=d&&jT.value,v=e.catchall;let _;t._zod.parse=(S,C)=>{_??(_=a.value);const T=S.value;return u(T)?d&&m&&C?.async===!1&&C.jitless!==!0?(l||(l=i(e.shape)),S=l(S,C),v?hS([],T,S,C,_,t):S):n(S,C):(S.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),S)}});function d4(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const i=t.filter(l=>!Td(l));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>Dc(u,a,Mc())))}),e)}const vR=Ne("$ZodUnion",(t,e)=>{ga.init(t,e),jn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),jn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),jn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),jn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>D2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(i,l)=>{if(n)return a(i,l);let u=!1;const d=[];for(const g of e.options){const m=g._zod.run({value:i.value,issues:[]},l);if(m instanceof Promise)d.push(m),u=!0;else{if(m.issues.length===0)return m;d.push(m)}}return u?Promise.all(d).then(g=>d4(g,i,t,l)):d4(d,i,t,l)}}),yR=Ne("$ZodIntersection",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value,l=e.left._zod.run({value:i,issues:[]},a),u=e.right._zod.run({value:i,issues:[]},a);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([g,m])=>h4(n,g,m)):h4(n,l,u)}});function qy(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(V0(t)&&V0(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const u=qy(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],u=qy(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function h4(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Td(t))return t;const a=qy(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const bR=Ne("$ZodEnum",(t,e)=>{ga.init(t,e);const n=DT(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(i=>zT.has(typeof i)).map(i=>typeof i=="string"?mv(i):i.toString()).join("|")})$`),t._zod.parse=(i,l)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:t}),i}}),_R=Ne("$ZodTransform",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new nS(t.constructor.name);const i=e.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new Nd;return n.value=i,n}});function g4(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const SR=Ne("$ZodOptional",(t,e)=>{ga.init(t,e),t._zod.optin="optional",t._zod.optout="optional",jn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),jn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${D2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>g4(l,n.value)):g4(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),xR=Ne("$ZodNullable",(t,e)=>{ga.init(t,e),jn(t._zod,"optin",()=>e.innerType._zod.optin),jn(t._zod,"optout",()=>e.innerType._zod.optout),jn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${D2(n.source)}|null)$`):void 0}),jn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),wR=Ne("$ZodDefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",jn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>p4(l,e)):p4(i,e)}});function p4(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const ER=Ne("$ZodPrefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",jn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),CR=Ne("$ZodNonOptional",(t,e)=>{ga.init(t,e),jn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>m4(l,t)):m4(i,t)}});function m4(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const TR=Ne("$ZodCatch",(t,e)=>{ga.init(t,e),jn(t._zod,"optin",()=>e.innerType._zod.optin),jn(t._zod,"optout",()=>e.innerType._zod.optout),jn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>Dc(u,a,Mc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>Dc(l,a,Mc()))},input:n.value}),n.issues=[]),n)}}),AR=Ne("$ZodPipe",(t,e)=>{ga.init(t,e),jn(t._zod,"values",()=>e.in._zod.values),jn(t._zod,"optin",()=>e.in._zod.optin),jn(t._zod,"optout",()=>e.out._zod.optout),jn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(u=>Kp(u,e.in,a)):Kp(l,e.in,a)}const i=e.in._zod.run(n,a);return i instanceof Promise?i.then(l=>Kp(l,e.out,a)):Kp(i,e.out,a)}});function Kp(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const RR=Ne("$ZodReadonly",(t,e)=>{ga.init(t,e),jn(t._zod,"propValues",()=>e.innerType._zod.propValues),jn(t._zod,"values",()=>e.innerType._zod.values),jn(t._zod,"optin",()=>e.innerType._zod.optin),jn(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(v4):v4(i)}});function v4(t){return t.value=Object.freeze(t.value),t}const OR=Ne("$ZodCustom",(t,e)=>{dl.init(t,e),ga.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,i=e.fn(a);if(i instanceof Promise)return i.then(l=>y4(l,n,a,t));y4(i,n,a,t)}});function y4(t,e,n,a){if(!t){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),e.issues.push(Y0(i))}}class NR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function MR(){return new NR}const Fp=MR();function DR(t,e){return new t({type:"string",..._t(e)})}function gS(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,..._t(e)})}function b4(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,..._t(e)})}function jR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,..._t(e)})}function zR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",..._t(e)})}function UR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",..._t(e)})}function kR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",..._t(e)})}function LR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,..._t(e)})}function PR(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,..._t(e)})}function BR(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,..._t(e)})}function HR(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,..._t(e)})}function GR(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,..._t(e)})}function qR(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,..._t(e)})}function VR(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,..._t(e)})}function YR(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,..._t(e)})}function ZR(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,..._t(e)})}function IR(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,..._t(e)})}function XR(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,..._t(e)})}function KR(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,..._t(e)})}function FR(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,..._t(e)})}function QR(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,..._t(e)})}function $R(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,..._t(e)})}function WR(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,..._t(e)})}function JR(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,..._t(e)})}function eO(t,e){return new t({type:"string",format:"date",check:"string_format",..._t(e)})}function tO(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,..._t(e)})}function nO(t,e){return new t({type:"string",format:"duration",check:"string_format",..._t(e)})}function aO(t,e){return new t({type:"boolean",..._t(e)})}function rO(t){return new t({type:"unknown"})}function iO(t,e){return new t({type:"never",..._t(e)})}function pS(t,e){return new RA({check:"max_length",..._t(e),maximum:t})}function Qm(t,e){return new OA({check:"min_length",..._t(e),minimum:t})}function mS(t,e){return new NA({check:"length_equals",..._t(e),length:t})}function sO(t,e){return new MA({check:"string_format",format:"regex",..._t(e),pattern:t})}function lO(t){return new DA({check:"string_format",format:"lowercase",..._t(t)})}function oO(t){return new jA({check:"string_format",format:"uppercase",..._t(t)})}function uO(t,e){return new zA({check:"string_format",format:"includes",..._t(e),includes:t})}function cO(t,e){return new UA({check:"string_format",format:"starts_with",..._t(e),prefix:t})}function fO(t,e){return new kA({check:"string_format",format:"ends_with",..._t(e),suffix:t})}function ng(t){return new LA({check:"overwrite",tx:t})}function dO(t){return ng(e=>e.normalize(t))}function hO(){return ng(t=>t.trim())}function gO(){return ng(t=>t.toLowerCase())}function pO(){return ng(t=>t.toUpperCase())}function mO(t,e,n){return new t({type:"array",element:e,..._t(n)})}function vO(t,e,n){return new t({type:"custom",check:"custom",fn:e,..._t(n)})}function yO(t){const e=bO(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(Y0(a,n.value,e._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(Y0(i))}},t(n.value,n)));return e}function bO(t,e){const n=new dl({check:"custom",..._t(e)});return n._zod.check=t,n}const _O=Ne("ZodISODateTime",(t,e)=>{$A.init(t,e),Yn.init(t,e)});function SO(t){return JR(_O,t)}const xO=Ne("ZodISODate",(t,e)=>{WA.init(t,e),Yn.init(t,e)});function wO(t){return eO(xO,t)}const EO=Ne("ZodISOTime",(t,e)=>{JA.init(t,e),Yn.init(t,e)});function CO(t){return tO(EO,t)}const TO=Ne("ZodISODuration",(t,e)=>{eR.init(t,e),Yn.init(t,e)});function AO(t){return nO(TO,t)}const RO=(t,e)=>{z2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>YT(t,n)},flatten:{value:n=>VT(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Gy,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Gy,2)}},isEmpty:{get(){return t.issues.length===0}}})},Li=Ne("ZodError",RO,{Parent:Error}),OO=yv(Li),NO=bv(Li),MO=_v(Li),DO=Sv(Li),jO=FT(Li),zO=QT(Li),UO=$T(Li),kO=WT(Li),LO=JT(Li),PO=eA(Li),BO=tA(Li),HO=nA(Li),wa=Ne("ZodType",(t,e)=>(ga.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Bc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>yu(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>OO(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>MO(t,n,a),t.parseAsync=async(n,a)=>NO(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>DO(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>jO(t,n,a),t.decode=(n,a)=>zO(t,n,a),t.encodeAsync=async(n,a)=>UO(t,n,a),t.decodeAsync=async(n,a)=>kO(t,n,a),t.safeEncode=(n,a)=>LO(t,n,a),t.safeDecode=(n,a)=>PO(t,n,a),t.safeEncodeAsync=async(n,a)=>BO(t,n,a),t.safeDecodeAsync=async(n,a)=>HO(t,n,a),t.refine=(n,a)=>t.check(MN(n,a)),t.superRefine=n=>t.check(DN(n)),t.overwrite=n=>t.check(ng(n)),t.optional=()=>x4(t),t.nullable=()=>w4(t),t.nullish=()=>x4(w4(t)),t.nonoptional=n=>EN(t,n),t.array=()=>cN(t),t.or=n=>hN([t,n]),t.and=n=>pN(t,n),t.transform=n=>E4(t,yN(n)),t.default=n=>SN(t,n),t.prefault=n=>wN(t,n),t.catch=n=>TN(t,n),t.pipe=n=>E4(t,n),t.readonly=()=>ON(t),t.describe=n=>{const a=t.clone();return Fp.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return Fp.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Fp.get(t);const a=t.clone();return Fp.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),vS=Ne("_ZodString",(t,e)=>{U2.init(t,e),wa.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(sO(...a)),t.includes=(...a)=>t.check(uO(...a)),t.startsWith=(...a)=>t.check(cO(...a)),t.endsWith=(...a)=>t.check(fO(...a)),t.min=(...a)=>t.check(Qm(...a)),t.max=(...a)=>t.check(pS(...a)),t.length=(...a)=>t.check(mS(...a)),t.nonempty=(...a)=>t.check(Qm(1,...a)),t.lowercase=a=>t.check(lO(a)),t.uppercase=a=>t.check(oO(a)),t.trim=()=>t.check(hO()),t.normalize=(...a)=>t.check(dO(...a)),t.toLowerCase=()=>t.check(gO()),t.toUpperCase=()=>t.check(pO())}),GO=Ne("ZodString",(t,e)=>{U2.init(t,e),vS.init(t,e),t.email=n=>t.check(gS(yS,n)),t.url=n=>t.check(LR(qO,n)),t.jwt=n=>t.check(WR(aN,n)),t.emoji=n=>t.check(PR(VO,n)),t.guid=n=>t.check(b4(_4,n)),t.uuid=n=>t.check(jR(Qp,n)),t.uuidv4=n=>t.check(zR(Qp,n)),t.uuidv6=n=>t.check(UR(Qp,n)),t.uuidv7=n=>t.check(kR(Qp,n)),t.nanoid=n=>t.check(BR(YO,n)),t.guid=n=>t.check(b4(_4,n)),t.cuid=n=>t.check(HR(ZO,n)),t.cuid2=n=>t.check(GR(IO,n)),t.ulid=n=>t.check(qR(XO,n)),t.base64=n=>t.check(FR(eN,n)),t.base64url=n=>t.check(QR(tN,n)),t.xid=n=>t.check(VR(KO,n)),t.ksuid=n=>t.check(YR(FO,n)),t.ipv4=n=>t.check(ZR(QO,n)),t.ipv6=n=>t.check(IR($O,n)),t.cidrv4=n=>t.check(XR(WO,n)),t.cidrv6=n=>t.check(KR(JO,n)),t.e164=n=>t.check($R(nN,n)),t.datetime=n=>t.check(SO(n)),t.date=n=>t.check(wO(n)),t.time=n=>t.check(CO(n)),t.duration=n=>t.check(AO(n))});function ri(t){return DR(GO,t)}const Yn=Ne("ZodStringFormat",(t,e)=>{qn.init(t,e),vS.init(t,e)}),yS=Ne("ZodEmail",(t,e)=>{qA.init(t,e),Yn.init(t,e)});function bS(t){return gS(yS,t)}const _4=Ne("ZodGUID",(t,e)=>{HA.init(t,e),Yn.init(t,e)}),Qp=Ne("ZodUUID",(t,e)=>{GA.init(t,e),Yn.init(t,e)}),qO=Ne("ZodURL",(t,e)=>{VA.init(t,e),Yn.init(t,e)}),VO=Ne("ZodEmoji",(t,e)=>{YA.init(t,e),Yn.init(t,e)}),YO=Ne("ZodNanoID",(t,e)=>{ZA.init(t,e),Yn.init(t,e)}),ZO=Ne("ZodCUID",(t,e)=>{IA.init(t,e),Yn.init(t,e)}),IO=Ne("ZodCUID2",(t,e)=>{XA.init(t,e),Yn.init(t,e)}),XO=Ne("ZodULID",(t,e)=>{KA.init(t,e),Yn.init(t,e)}),KO=Ne("ZodXID",(t,e)=>{FA.init(t,e),Yn.init(t,e)}),FO=Ne("ZodKSUID",(t,e)=>{QA.init(t,e),Yn.init(t,e)}),QO=Ne("ZodIPv4",(t,e)=>{tR.init(t,e),Yn.init(t,e)}),$O=Ne("ZodIPv6",(t,e)=>{nR.init(t,e),Yn.init(t,e)}),WO=Ne("ZodCIDRv4",(t,e)=>{aR.init(t,e),Yn.init(t,e)}),JO=Ne("ZodCIDRv6",(t,e)=>{rR.init(t,e),Yn.init(t,e)}),eN=Ne("ZodBase64",(t,e)=>{iR.init(t,e),Yn.init(t,e)}),tN=Ne("ZodBase64URL",(t,e)=>{lR.init(t,e),Yn.init(t,e)}),nN=Ne("ZodE164",(t,e)=>{oR.init(t,e),Yn.init(t,e)}),aN=Ne("ZodJWT",(t,e)=>{cR.init(t,e),Yn.init(t,e)}),rN=Ne("ZodBoolean",(t,e)=>{fR.init(t,e),wa.init(t,e)});function iN(t){return aO(rN,t)}const sN=Ne("ZodUnknown",(t,e)=>{dR.init(t,e),wa.init(t,e)});function S4(){return rO(sN)}const lN=Ne("ZodNever",(t,e)=>{hR.init(t,e),wa.init(t,e)});function oN(t){return iO(lN,t)}const uN=Ne("ZodArray",(t,e)=>{gR.init(t,e),wa.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(Qm(n,a)),t.nonempty=n=>t.check(Qm(1,n)),t.max=(n,a)=>t.check(pS(n,a)),t.length=(n,a)=>t.check(mS(n,a)),t.unwrap=()=>t.element});function cN(t,e){return mO(uN,t,e)}const fN=Ne("ZodObject",(t,e)=>{mR.init(t,e),wa.init(t,e),jn(t,"shape",()=>e.shape),t.keyof=()=>mN(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:S4()}),t.loose=()=>t.clone({...t._zod.def,catchall:S4()}),t.strict=()=>t.clone({...t._zod.def,catchall:oN()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>PT(t,n),t.safeExtend=n=>BT(t,n),t.merge=n=>HT(t,n),t.pick=n=>kT(t,n),t.omit=n=>LT(t,n),t.partial=(...n)=>GT(_S,t,n[0]),t.required=(...n)=>qT(SS,t,n[0])});function wv(t,e){const n={type:"object",shape:t??{},..._t(e)};return new fN(n)}const dN=Ne("ZodUnion",(t,e)=>{vR.init(t,e),wa.init(t,e),t.options=e.options});function hN(t,e){return new dN({type:"union",options:t,..._t(e)})}const gN=Ne("ZodIntersection",(t,e)=>{yR.init(t,e),wa.init(t,e)});function pN(t,e){return new gN({type:"intersection",left:t,right:e})}const Vy=Ne("ZodEnum",(t,e)=>{bR.init(t,e),wa.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,i)=>{const l={};for(const u of a)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],..._t(i),entries:l})},t.exclude=(a,i)=>{const l={...e.entries};for(const u of a)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new Vy({...e,checks:[],..._t(i),entries:l})}});function mN(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new Vy({type:"enum",entries:n,..._t(e)})}const vN=Ne("ZodTransform",(t,e)=>{_R.init(t,e),wa.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new nS(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Y0(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(Y0(u))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function yN(t){return new vN({type:"transform",transform:t})}const _S=Ne("ZodOptional",(t,e)=>{SR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function x4(t){return new _S({type:"optional",innerType:t})}const bN=Ne("ZodNullable",(t,e)=>{xR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function w4(t){return new bN({type:"nullable",innerType:t})}const _N=Ne("ZodDefault",(t,e)=>{wR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function SN(t,e){return new _N({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():iS(e)}})}const xN=Ne("ZodPrefault",(t,e)=>{ER.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function wN(t,e){return new xN({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():iS(e)}})}const SS=Ne("ZodNonOptional",(t,e)=>{CR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function EN(t,e){return new SS({type:"nonoptional",innerType:t,..._t(e)})}const CN=Ne("ZodCatch",(t,e)=>{TR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function TN(t,e){return new CN({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const AN=Ne("ZodPipe",(t,e)=>{AR.init(t,e),wa.init(t,e),t.in=e.in,t.out=e.out});function E4(t,e){return new AN({type:"pipe",in:t,out:e})}const RN=Ne("ZodReadonly",(t,e)=>{RR.init(t,e),wa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function ON(t){return new RN({type:"readonly",innerType:t})}const NN=Ne("ZodCustom",(t,e)=>{OR.init(t,e),wa.init(t,e)});function MN(t,e={}){return vO(NN,t,e)}function DN(t){return yO(t)}var ag=t=>t.type==="checkbox",Oc=t=>t instanceof Date,qr=t=>t==null;const xS=t=>typeof t=="object";var ha=t=>!qr(t)&&!Array.isArray(t)&&xS(t)&&!Oc(t),jN=t=>ha(t)&&t.target?ag(t.target)?t.target.checked:t.target.value:t,zN=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,UN=(t,e)=>t.has(zN(e)),kN=t=>{const e=t.constructor&&t.constructor.prototype;return ha(e)&&e.hasOwnProperty("isPrototypeOf")},k2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pa(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(k2&&(t instanceof Blob||a))&&(n||ha(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!kN(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Pa(t[i]));else return t;return e}var Ev=t=>/^\w*$/.test(t),na=t=>t===void 0,L2=t=>Array.isArray(t)?t.filter(Boolean):[],P2=t=>L2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),tt=(t,e,n)=>{if(!e||!ha(t))return n;const a=(Ev(e)?[e]:P2(e)).reduce((i,l)=>qr(i)?i:i[l],t);return na(a)||a===t?na(t[e])?n:t[e]:a},il=t=>typeof t=="boolean",Tn=(t,e,n)=>{let a=-1;const i=Ev(e)?[e]:P2(e),l=i.length,u=l-1;for(;++a<l;){const d=i[a];let g=n;if(a!==u){const m=t[d];g=ha(m)||Array.isArray(m)?m:isNaN(+i[a+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=g,t=t[d]}};const C4={BLUR:"blur",FOCUS_OUT:"focusout"},ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},LN=st.createContext(null);LN.displayName="HookFormContext";var PN=(t,e,n,a=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const u=l;return e._proxyFormState[u]!==ps.all&&(e._proxyFormState[u]=!a||ps.all),t[u]}});return i};const BN=typeof window<"u"?st.useLayoutEffect:st.useEffect;var ii=t=>typeof t=="string",HN=(t,e,n,a,i)=>ii(t)?(a&&e.watch.add(t),tt(n,t,i)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),tt(n,l))):(a&&(e.watchAll=!0),n),Yy=t=>qr(t)||!xS(t);function fu(t,e,n=new WeakSet){if(Yy(t)||Yy(e))return t===e;if(Oc(t)&&Oc(e))return t.getTime()===e.getTime();const a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const u=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Oc(u)&&Oc(d)||ha(u)&&ha(d)||Array.isArray(u)&&Array.isArray(d)?!fu(u,d,n):u!==d)return!1}}return!0}var B2=(t,e,n,a,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:i||!0}}:{},D0=t=>Array.isArray(t)?t:[t],T4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function wS(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const i=t[a],l=e[a];if(i&&ha(i)&&l){const u=wS(i,l);ha(u)&&(n[a]=u)}else t[a]&&(n[a]=l)}return n}var Gr=t=>ha(t)&&!Object.keys(t).length,H2=t=>t.type==="file",ms=t=>typeof t=="function",$m=t=>{if(!k2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ES=t=>t.type==="select-multiple",G2=t=>t.type==="radio",GN=t=>G2(t)||ag(t),I1=t=>$m(t)&&t.isConnected;function qN(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=na(t)?a++:t[e[a++]];return t}function VN(t){for(const e in t)if(t.hasOwnProperty(e)&&!na(t[e]))return!1;return!0}function ca(t,e){const n=Array.isArray(e)?e:Ev(e)?[e]:P2(e),a=n.length===1?t:qN(t,n),i=n.length-1,l=n[i];return a&&delete a[l],i!==0&&(ha(a)&&Gr(a)||Array.isArray(a)&&VN(a))&&ca(t,n.slice(0,-1)),t}var YN=t=>{for(const e in t)if(ms(t[e]))return!0;return!1};function CS(t){return Array.isArray(t)||ha(t)&&!YN(t)}function Zy(t,e={}){for(const n in t)CS(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Zy(t[n],e[n])):na(t[n])||(e[n]=!0);return e}function Ed(t,e,n){n||(n=Zy(e));for(const a in t)CS(t[a])?na(e)||Yy(n[a])?n[a]=Zy(t[a],Array.isArray(t[a])?[]:{}):Ed(t[a],qr(e)?{}:e[a],n[a]):n[a]=!fu(t[a],e[a]);return n}const A4={value:!1,isValid:!1},R4={value:!0,isValid:!0};var TS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!na(t[0].attributes.value)?na(t[0].value)||t[0].value===""?R4:{value:t[0].value,isValid:!0}:R4:A4}return A4},AS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>na(t)?t:e?t===""?NaN:t&&+t:n&&ii(t)?new Date(t):a?a(t):t;const O4={isValid:!1,value:null};var RS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,O4):O4;function N4(t){const e=t.ref;return H2(e)?e.files:G2(e)?RS(t.refs).value:ES(e)?[...e.selectedOptions].map(({value:n})=>n):ag(e)?TS(t.refs).value:AS(na(e.value)?t.ref.value:e.value,t)}var ZN=(t,e,n,a)=>{const i={};for(const l of t){const u=tt(e,l);u&&Tn(i,l,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:a}},Wm=t=>t instanceof RegExp,v0=t=>na(t)?t:Wm(t)?t.source:ha(t)?Wm(t.value)?t.value.source:t.value:t,M4=t=>({isOnSubmit:!t||t===ps.onSubmit,isOnBlur:t===ps.onBlur,isOnChange:t===ps.onChange,isOnAll:t===ps.all,isOnTouch:t===ps.onTouched});const D4="AsyncFunction";var IN=t=>!!t&&!!t.validate&&!!(ms(t.validate)&&t.validate.constructor.name===D4||ha(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===D4)),XN=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),j4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const j0=(t,e,n,a)=>{for(const i of n||Object.keys(t)){const l=tt(t,i);if(l){const{_f:u,...d}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if(j0(d,e))break}else if(ha(d)&&j0(d,e))break}}};function z4(t,e,n){const a=tt(t,n);if(a||Ev(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),u=tt(e,l),d=tt(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};i.pop()}return{name:n}}var KN=(t,e,n,a)=>{n(t);const{name:i,...l}=t;return Gr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||ps.all))},FN=(t,e,n)=>!t||!e||t===e||D0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),QN=(t,e,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?a.isOnBlur:i.isOnBlur)?!t:(n?a.isOnChange:i.isOnChange)?t:!0,$N=(t,e)=>!L2(tt(t,e)).length&&ca(t,e),WN=(t,e,n)=>{const a=D0(tt(t,n));return Tn(a,"root",e[n]),Tn(t,n,a),t};function U4(t,e,n="validate"){if(ii(t)||Array.isArray(t)&&t.every(ii)||il(t)&&!t)return{type:n,message:ii(t)?t:"",ref:e}}var gd=t=>ha(t)&&!Wm(t)?t:{value:t,message:""},k4=async(t,e,n,a,i,l)=>{const{ref:u,refs:d,required:g,maxLength:m,minLength:v,min:_,max:S,pattern:C,validate:T,name:R,valueAsNumber:O,mount:M}=t._f,j=tt(n,R);if(!M||e.has(R))return{};const z=d?d[0]:u,P=he=>{i&&z.reportValidity&&(z.setCustomValidity(il(he)?"":he||""),z.reportValidity())},H={},k=G2(u),Y=ag(u),F=k||Y,oe=(O||H2(u))&&na(u.value)&&na(j)||$m(u)&&u.value===""||j===""||Array.isArray(j)&&!j.length,_e=B2.bind(null,R,a,H),xe=(he,ge,ye,Se=Kl.maxLength,B=Kl.minLength)=>{const ue=he?ge:ye;H[R]={type:he?Se:B,message:ue,ref:u,..._e(he?Se:B,ue)}};if(l?!Array.isArray(j)||!j.length:g&&(!F&&(oe||qr(j))||il(j)&&!j||Y&&!TS(d).isValid||k&&!RS(d).isValid)){const{value:he,message:ge}=ii(g)?{value:!!g,message:g}:gd(g);if(he&&(H[R]={type:Kl.required,message:ge,ref:z,..._e(Kl.required,ge)},!a))return P(ge),H}if(!oe&&(!qr(_)||!qr(S))){let he,ge;const ye=gd(S),Se=gd(_);if(!qr(j)&&!isNaN(j)){const B=u.valueAsNumber||j&&+j;qr(ye.value)||(he=B>ye.value),qr(Se.value)||(ge=B<Se.value)}else{const B=u.valueAsDate||new Date(j),ue=G=>new Date(new Date().toDateString()+" "+G),$=u.type=="time",me=u.type=="week";ii(ye.value)&&j&&(he=$?ue(j)>ue(ye.value):me?j>ye.value:B>new Date(ye.value)),ii(Se.value)&&j&&(ge=$?ue(j)<ue(Se.value):me?j<Se.value:B<new Date(Se.value))}if((he||ge)&&(xe(!!he,ye.message,Se.message,Kl.max,Kl.min),!a))return P(H[R].message),H}if((m||v)&&!oe&&(ii(j)||l&&Array.isArray(j))){const he=gd(m),ge=gd(v),ye=!qr(he.value)&&j.length>+he.value,Se=!qr(ge.value)&&j.length<+ge.value;if((ye||Se)&&(xe(ye,he.message,ge.message),!a))return P(H[R].message),H}if(C&&!oe&&ii(j)){const{value:he,message:ge}=gd(C);if(Wm(he)&&!j.match(he)&&(H[R]={type:Kl.pattern,message:ge,ref:u,..._e(Kl.pattern,ge)},!a))return P(ge),H}if(T){if(ms(T)){const he=await T(j,n),ge=U4(he,z);if(ge&&(H[R]={...ge,..._e(Kl.validate,ge.message)},!a))return P(ge.message),H}else if(ha(T)){let he={};for(const ge in T){if(!Gr(he)&&!a)break;const ye=U4(await T[ge](j,n),z,ge);ye&&(he={...ye,..._e(ge,ye.message)},P(ye.message),a&&(H[R]=he))}if(!Gr(he)&&(H[R]={ref:z,...he},!a))return H}}return P(!0),H};const JN={mode:ps.onSubmit,reValidateMode:ps.onChange,shouldFocusError:!0};function eM(t={}){let e={...JN,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ms(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=ha(e.defaultValues)||ha(e.values)?Pa(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Pa(i),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const S={array:T4(),state:T4()},C=e.criteriaMode===ps.all,T=X=>re=>{clearTimeout(m),m=setTimeout(X,re)},R=async X=>{if(!e.disabled&&(v.isValid||_.isValid||X)){const re=e.resolver?Gr((await Y()).errors):await oe(a,!0);re!==n.isValid&&S.state.next({isValid:re})}},O=(X,re)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((X||Array.from(d.mount)).forEach(fe=>{fe&&(re?Tn(n.validatingFields,fe,re):ca(n.validatingFields,fe))}),S.state.next({validatingFields:n.validatingFields,isValidating:!Gr(n.validatingFields)}))},M=(X,re=[],fe,Ge,Be=!0,Ue=!0)=>{if(Ge&&fe&&!e.disabled){if(u.action=!0,Ue&&Array.isArray(tt(a,X))){const Ye=fe(tt(a,X),Ge.argA,Ge.argB);Be&&Tn(a,X,Ye)}if(Ue&&Array.isArray(tt(n.errors,X))){const Ye=fe(tt(n.errors,X),Ge.argA,Ge.argB);Be&&Tn(n.errors,X,Ye),$N(n.errors,X)}if((v.touchedFields||_.touchedFields)&&Ue&&Array.isArray(tt(n.touchedFields,X))){const Ye=fe(tt(n.touchedFields,X),Ge.argA,Ge.argB);Be&&Tn(n.touchedFields,X,Ye)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Ed(i,l)),S.state.next({name:X,isDirty:xe(X,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Tn(l,X,re)},j=(X,re)=>{Tn(n.errors,X,re),S.state.next({errors:n.errors})},z=X=>{n.errors=X,S.state.next({errors:n.errors,isValid:!1})},P=(X,re,fe,Ge)=>{const Be=tt(a,X);if(Be){const Ue=tt(l,X,na(fe)?tt(i,X):fe);na(Ue)||Ge&&Ge.defaultChecked||re?Tn(l,X,re?Ue:N4(Be._f)):ye(X,Ue),u.mount&&R()}},H=(X,re,fe,Ge,Be)=>{let Ue=!1,Ye=!1;const Qe={name:X};if(!e.disabled){if(!fe||Ge){(v.isDirty||_.isDirty)&&(Ye=n.isDirty,n.isDirty=Qe.isDirty=xe(),Ue=Ye!==Qe.isDirty);const bt=fu(tt(i,X),re);Ye=!!tt(n.dirtyFields,X),bt?ca(n.dirtyFields,X):Tn(n.dirtyFields,X,!0),Qe.dirtyFields=n.dirtyFields,Ue=Ue||(v.dirtyFields||_.dirtyFields)&&Ye!==!bt}if(fe){const bt=tt(n.touchedFields,X);bt||(Tn(n.touchedFields,X,fe),Qe.touchedFields=n.touchedFields,Ue=Ue||(v.touchedFields||_.touchedFields)&&bt!==fe)}Ue&&Be&&S.state.next(Qe)}return Ue?Qe:{}},k=(X,re,fe,Ge)=>{const Be=tt(n.errors,X),Ue=(v.isValid||_.isValid)&&il(re)&&n.isValid!==re;if(e.delayError&&fe?(g=T(()=>j(X,fe)),g(e.delayError)):(clearTimeout(m),g=null,fe?Tn(n.errors,X,fe):ca(n.errors,X)),(fe?!fu(Be,fe):Be)||!Gr(Ge)||Ue){const Ye={...Ge,...Ue&&il(re)?{isValid:re}:{},errors:n.errors,name:X};n={...n,...Ye},S.state.next(Ye)}},Y=async X=>{O(X,!0);const re=await e.resolver(l,e.context,ZN(X||d.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(X),re},F=async X=>{const{errors:re}=await Y(X);if(X)for(const fe of X){const Ge=tt(re,fe);Ge?Tn(n.errors,fe,Ge):ca(n.errors,fe)}else n.errors=re;return re},oe=async(X,re,fe={valid:!0})=>{for(const Ge in X){const Be=X[Ge];if(Be){const{_f:Ue,...Ye}=Be;if(Ue){const Qe=d.array.has(Ue.name),bt=Be._f&&IN(Be._f);bt&&v.validatingFields&&O([Ue.name],!0);const Jt=await k4(Be,d.disabled,l,C,e.shouldUseNativeValidation&&!re,Qe);if(bt&&v.validatingFields&&O([Ue.name]),Jt[Ue.name]&&(fe.valid=!1,re))break;!re&&(tt(Jt,Ue.name)?Qe?WN(n.errors,Jt,Ue.name):Tn(n.errors,Ue.name,Jt[Ue.name]):ca(n.errors,Ue.name))}!Gr(Ye)&&await oe(Ye,re,fe)}}return fe.valid},_e=()=>{for(const X of d.unMount){const re=tt(a,X);re&&(re._f.refs?re._f.refs.every(fe=>!I1(fe)):!I1(re._f.ref))&&Ke(X)}d.unMount=new Set},xe=(X,re)=>!e.disabled&&(X&&re&&Tn(l,X,re),!fu(G(),i)),he=(X,re,fe)=>HN(X,d,{...u.mount?l:na(re)?i:ii(X)?{[X]:re}:re},fe,re),ge=X=>L2(tt(u.mount?l:i,X,e.shouldUnregister?tt(i,X,[]):[])),ye=(X,re,fe={})=>{const Ge=tt(a,X);let Be=re;if(Ge){const Ue=Ge._f;Ue&&(!Ue.disabled&&Tn(l,X,AS(re,Ue)),Be=$m(Ue.ref)&&qr(re)?"":re,ES(Ue.ref)?[...Ue.ref.options].forEach(Ye=>Ye.selected=Be.includes(Ye.value)):Ue.refs?ag(Ue.ref)?Ue.refs.forEach(Ye=>{(!Ye.defaultChecked||!Ye.disabled)&&(Array.isArray(Be)?Ye.checked=!!Be.find(Qe=>Qe===Ye.value):Ye.checked=Be===Ye.value||!!Be)}):Ue.refs.forEach(Ye=>Ye.checked=Ye.value===Be):H2(Ue.ref)?Ue.ref.value="":(Ue.ref.value=Be,Ue.ref.type||S.state.next({name:X,values:Pa(l)})))}(fe.shouldDirty||fe.shouldTouch)&&H(X,Be,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&me(X)},Se=(X,re,fe)=>{for(const Ge in re){if(!re.hasOwnProperty(Ge))return;const Be=re[Ge],Ue=X+"."+Ge,Ye=tt(a,Ue);(d.array.has(X)||ha(Be)||Ye&&!Ye._f)&&!Oc(Be)?Se(Ue,Be,fe):ye(Ue,Be,fe)}},B=(X,re,fe={})=>{const Ge=tt(a,X),Be=d.array.has(X),Ue=Pa(re);Tn(l,X,Ue),Be?(S.array.next({name:X,values:Pa(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&fe.shouldDirty&&S.state.next({name:X,dirtyFields:Ed(i,l),isDirty:xe(X,Ue)})):Ge&&!Ge._f&&!qr(Ue)?Se(X,Ue,fe):ye(X,Ue,fe),j4(X,d)&&S.state.next({...n,name:X}),S.state.next({name:u.mount?X:void 0,values:Pa(l)})},ue=async X=>{u.mount=!0;const re=X.target;let fe=re.name,Ge=!0;const Be=tt(a,fe),Ue=bt=>{Ge=Number.isNaN(bt)||Oc(bt)&&isNaN(bt.getTime())||fu(bt,tt(l,fe,bt))},Ye=M4(e.mode),Qe=M4(e.reValidateMode);if(Be){let bt,Jt;const gr=re.type?N4(Be._f):jN(X),Ca=X.type===C4.BLUR||X.type===C4.FOCUS_OUT,pa=!XN(Be._f)&&!e.resolver&&!tt(n.errors,fe)&&!Be._f.deps||QN(Ca,tt(n.touchedFields,fe),n.isSubmitted,Qe,Ye),Wa=j4(fe,d,Ca);Tn(l,fe,gr),Ca?(!re||!re.readOnly)&&(Be._f.onBlur&&Be._f.onBlur(X),g&&g(0)):Be._f.onChange&&Be._f.onChange(X);const Oe=H(fe,gr,Ca),De=!Gr(Oe)||Wa;if(!Ca&&S.state.next({name:fe,type:X.type,values:Pa(l)}),pa)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?Ca&&R():Ca||R()),De&&S.state.next({name:fe,...Wa?{}:Oe});if(!Ca&&Wa&&S.state.next({...n}),e.resolver){const{errors:$t}=await Y([fe]);if(Ue(gr),Ge){const wt=z4(n.errors,a,fe),ln=z4($t,a,wt.name||fe);bt=ln.error,fe=ln.name,Jt=Gr($t)}}else O([fe],!0),bt=(await k4(Be,d.disabled,l,C,e.shouldUseNativeValidation))[fe],O([fe]),Ue(gr),Ge&&(bt?Jt=!1:(v.isValid||_.isValid)&&(Jt=await oe(a,!0)));Ge&&(Be._f.deps&&(!Array.isArray(Be._f.deps)||Be._f.deps.length>0)&&me(Be._f.deps),k(fe,Jt,bt,Oe))}},$=(X,re)=>{if(tt(n.errors,re)&&X.focus)return X.focus(),1},me=async(X,re={})=>{let fe,Ge;const Be=D0(X);if(e.resolver){const Ue=await F(na(X)?X:Be);fe=Gr(Ue),Ge=X?!Be.some(Ye=>tt(Ue,Ye)):fe}else X?(Ge=(await Promise.all(Be.map(async Ue=>{const Ye=tt(a,Ue);return await oe(Ye&&Ye._f?{[Ue]:Ye}:Ye)}))).every(Boolean),!(!Ge&&!n.isValid)&&R()):Ge=fe=await oe(a);return S.state.next({...!ii(X)||(v.isValid||_.isValid)&&fe!==n.isValid?{}:{name:X},...e.resolver||!X?{isValid:fe}:{},errors:n.errors}),re.shouldFocus&&!Ge&&j0(a,$,X?Be:d.mount),Ge},G=(X,re)=>{let fe={...u.mount?l:i};return re&&(fe=wS(re.dirtyFields?n.dirtyFields:n.touchedFields,fe)),na(X)?fe:ii(X)?tt(fe,X):X.map(Ge=>tt(fe,Ge))},ae=(X,re)=>({invalid:!!tt((re||n).errors,X),isDirty:!!tt((re||n).dirtyFields,X),error:tt((re||n).errors,X),isValidating:!!tt(n.validatingFields,X),isTouched:!!tt((re||n).touchedFields,X)}),Ee=X=>{X&&D0(X).forEach(re=>ca(n.errors,re)),S.state.next({errors:X?n.errors:{}})},Q=(X,re,fe)=>{const Ge=(tt(a,X,{_f:{}})._f||{}).ref,Be=tt(n.errors,X)||{},{ref:Ue,message:Ye,type:Qe,...bt}=Be;Tn(n.errors,X,{...bt,...re,ref:Ge}),S.state.next({name:X,errors:n.errors,isValid:!1}),fe&&fe.shouldFocus&&Ge&&Ge.focus&&Ge.focus()},be=(X,re)=>ms(X)?S.state.subscribe({next:fe=>"values"in fe&&X(he(void 0,re),fe)}):he(X,re,!0),ke=X=>S.state.subscribe({next:re=>{FN(X.name,re.name,X.exact)&&KN(re,X.formState||v,Wn,X.reRenderRoot)&&X.callback({values:{...l},...n,...re,defaultValues:i})}}).unsubscribe,Me=X=>(u.mount=!0,_={..._,...X.formState},ke({...X,formState:_})),Ke=(X,re={})=>{for(const fe of X?D0(X):d.mount)d.mount.delete(fe),d.array.delete(fe),re.keepValue||(ca(a,fe),ca(l,fe)),!re.keepError&&ca(n.errors,fe),!re.keepDirty&&ca(n.dirtyFields,fe),!re.keepTouched&&ca(n.touchedFields,fe),!re.keepIsValidating&&ca(n.validatingFields,fe),!e.shouldUnregister&&!re.keepDefaultValue&&ca(i,fe);S.state.next({values:Pa(l)}),S.state.next({...n,...re.keepDirty?{isDirty:xe()}:{}}),!re.keepIsValid&&R()},nt=({disabled:X,name:re})=>{(il(X)&&u.mount||X||d.disabled.has(re))&&(X?d.disabled.add(re):d.disabled.delete(re))},mt=(X,re={})=>{let fe=tt(a,X);const Ge=il(re.disabled)||il(e.disabled);return Tn(a,X,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:X}},name:X,mount:!0,...re}}),d.mount.add(X),fe?nt({disabled:il(re.disabled)?re.disabled:e.disabled,name:X}):P(X,!0,re.value),{...Ge?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:v0(re.min),max:v0(re.max),minLength:v0(re.minLength),maxLength:v0(re.maxLength),pattern:v0(re.pattern)}:{},name:X,onChange:ue,onBlur:ue,ref:Be=>{if(Be){mt(X,re),fe=tt(a,X);const Ue=na(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,Ye=GN(Ue),Qe=fe._f.refs||[];if(Ye?Qe.find(bt=>bt===Ue):Ue===fe._f.ref)return;Tn(a,X,{_f:{...fe._f,...Ye?{refs:[...Qe.filter(I1),Ue,...Array.isArray(tt(i,X))?[{}]:[]],ref:{type:Ue.type,name:X}}:{ref:Ue}}}),P(X,!1,void 0,Ue)}else fe=tt(a,X,{}),fe._f&&(fe._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(UN(d.array,X)&&u.action)&&d.unMount.add(X)}}},St=()=>e.shouldFocusError&&j0(a,$,d.mount),gn=X=>{il(X)&&(S.state.next({disabled:X}),j0(a,(re,fe)=>{const Ge=tt(a,fe);Ge&&(re.disabled=Ge._f.disabled||X,Array.isArray(Ge._f.refs)&&Ge._f.refs.forEach(Be=>{Be.disabled=Ge._f.disabled||X}))},0,!1))},En=(X,re)=>async fe=>{let Ge;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let Be=Pa(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:Ue,values:Ye}=await Y();n.errors=Ue,Be=Pa(Ye)}else await oe(a);if(d.disabled.size)for(const Ue of d.disabled)ca(Be,Ue);if(ca(n.errors,"root"),Gr(n.errors)){S.state.next({errors:{}});try{await X(Be,fe)}catch(Ue){Ge=Ue}}else re&&await re({...n.errors},fe),St(),setTimeout(St);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gr(n.errors)&&!Ge,submitCount:n.submitCount+1,errors:n.errors}),Ge)throw Ge},ra=(X,re={})=>{tt(a,X)&&(na(re.defaultValue)?B(X,Pa(tt(i,X))):(B(X,re.defaultValue),Tn(i,X,Pa(re.defaultValue))),re.keepTouched||ca(n.touchedFields,X),re.keepDirty||(ca(n.dirtyFields,X),n.isDirty=re.defaultValue?xe(X,Pa(tt(i,X))):xe()),re.keepError||(ca(n.errors,X),v.isValid&&R()),S.state.next({...n}))},ia=(X,re={})=>{const fe=X?Pa(X):i,Ge=Pa(fe),Be=Gr(X),Ue=Be?i:Ge;if(re.keepDefaultValues||(i=fe),!re.keepValues){if(re.keepDirtyValues){const Ye=new Set([...d.mount,...Object.keys(Ed(i,l))]);for(const Qe of Array.from(Ye))tt(n.dirtyFields,Qe)?Tn(Ue,Qe,tt(l,Qe)):B(Qe,tt(Ue,Qe))}else{if(k2&&na(X))for(const Ye of d.mount){const Qe=tt(a,Ye);if(Qe&&Qe._f){const bt=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if($m(bt)){const Jt=bt.closest("form");if(Jt){Jt.reset();break}}}}if(re.keepFieldsRef)for(const Ye of d.mount)B(Ye,tt(Ue,Ye));else a={}}l=e.shouldUnregister?re.keepDefaultValues?Pa(i):{}:Pa(Ue),S.array.next({values:{...Ue}}),S.state.next({values:{...Ue}})}d={mount:re.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!re.keepIsValid||!!re.keepDirtyValues,u.watch=!!e.shouldUnregister,S.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Be?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!fu(X,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Be?{}:re.keepDirtyValues?re.keepDefaultValues&&l?Ed(i,l):n.dirtyFields:re.keepDefaultValues&&X?Ed(i,X):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ba=(X,re)=>ia(ms(X)?X(l):X,re),Ha=(X,re={})=>{const fe=tt(a,X),Ge=fe&&fe._f;if(Ge){const Be=Ge.refs?Ge.refs[0]:Ge.ref;Be.focus&&(Be.focus(),re.shouldSelect&&ms(Be.select)&&Be.select())}},Wn=X=>{n={...n,...X}},hr={control:{register:mt,unregister:Ke,getFieldState:ae,handleSubmit:En,setError:Q,_subscribe:ke,_runSchema:Y,_focusError:St,_getWatch:he,_getDirty:xe,_setValid:R,_setFieldArray:M,_setDisabledField:nt,_setErrors:z,_getFieldArray:ge,_reset:ia,_resetDefaultValues:()=>ms(e.defaultValues)&&e.defaultValues().then(X=>{Ba(X,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:_e,_disableForm:gn,_subjects:S,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(X){u=X},get _defaultValues(){return i},get _names(){return d},set _names(X){d=X},get _formState(){return n},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:Me,trigger:me,register:mt,handleSubmit:En,watch:be,setValue:B,getValues:G,reset:Ba,resetField:ra,clearErrors:Ee,unregister:Ke,setError:Q,setFocus:Ha,getFieldState:ae};return{...hr,formControl:hr}}function Cv(t={}){const e=st.useRef(void 0),n=st.useRef(void 0),[a,i]=st.useState({isDirty:!1,isValidating:!1,isLoading:ms(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ms(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!ms(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...d}=eM(t);e.current={...d,formState:a}}const l=e.current.control;return l._options=t,BN(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(d=>({...d,isReady:!0})),l._formState.isReady=!0,u},[l]),st.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),st.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),st.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),st.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),st.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),st.useEffect(()=>{t.values&&!fu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,i(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),st.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=PN(a,l),e.current}const L4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=tt(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Iy=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?L4(a.ref,n,t):a&&a.refs&&a.refs.forEach(i=>L4(i,n,t))}},P4=(t,e)=>{e.shouldUseNativeValidation&&Iy(t,e);const n={};for(const a in t){const i=tt(e.fields,a),l=Object.assign(t[a]||{},{ref:i&&i.ref});if(tM(e.names||Object.keys(t),a)){const u=Object.assign({},tt(n,a));Tn(u,"root",l),Tn(n,a,u)}else Tn(n,a,l)}return n},tM=(t,e)=>{const n=B4(e);return t.some(a=>B4(a).match(`^${n}\\.\\d+`))};function B4(t){return t.replace(/\]|\[/g,"")}function H4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function nM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if("unionErrors"in a){var d=a.unionErrors[0].errors[0];n[u]={message:d.message,type:d.code}}else n[u]={message:l,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,m=g&&g[a.code];n[u]=B2(u,e,n,i,m?[].concat(m,a.message):a.message)}t.shift()}return n}function aM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if(a.code==="invalid_union"&&a.errors.length>0){var d=a.errors[0][0];n[u]={message:d.message,type:d.code}}else n[u]={message:l,type:i};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,m=g&&g[a.code];n[u]=B2(u,e,n,i,m?[].concat(m,a.message):a.message)}t.shift()}return n}function Tv(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,i,l){try{return Promise.resolve(H4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(d){return Array.isArray(d?.issues)})(u))return{values:{},errors:P4(nM(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,i,l){try{return Promise.resolve(H4(function(){return Promise.resolve((n.mode==="sync"?ZT:IT)(t,a,e)).then(function(u){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(d){return d instanceof z2})(u))return{values:{},errors:P4(aM(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}async function OS(t){const{data:e}=await zn.from("users").select("id").eq("email",t).maybeSingle();return!!e}async function rM(t){const{data:e}=await zn.from("users").select("id").eq("username",t).maybeSingle();return!!e}const iM=wv({email:bS("invalid email"),password:ri("Password Required")});function sM(){const t=dv(),{register:e,handleSubmit:n,setError:a,formState:{errors:i,isSubmitting:l}}=Cv({resolver:Tv(iM)}),u=async g=>{g.preventDefault();try{const{data:m,error:v}=await zn.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://x3nozite.github.io/rect-up/"}});if(v){console.error("cant handle oauth:",v);return}}catch(m){console.error("cant sign in with google: ",m)}},d=async g=>{try{const{email:m,password:v}=g;if(!await OS(m)){a("email",{message:"Email is not yet registered!"});return}const{error:S}=await zn.auth.signInWithPassword({email:m,password:v});if(S){alert(S.message);return}alert("login successful!"),t("/")}catch(m){a("root",{message:"Error! "+m}),alert("Error sign in!: "+m)}};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[E.jsx(Q3,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsxs("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:[" ","The all in one task management app"]})]}),E.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:E.jsx("img",{src:Zm,alt:"",className:"object-cover w-full h-full"})}),E.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:[E.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:E.jsxs("div",{className:"my-company flex flex-col text-center  lg:flex",children:[E.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),E.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),E.jsx("div",{className:"main-form ",children:E.jsxs("form",{className:"flex flex-col justify-between",onSubmit:n(d),children:[E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),E.jsx("input",{...e("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),i.email&&E.jsx("div",{className:"text-red-500",children:i.email?.message})]}),E.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[E.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[E.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),E.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",children:"Forgot Password?"})]}),E.jsx("input",{...e("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),i.password&&E.jsx("div",{className:"text-red-500",children:i.password?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("button",{type:"submit",disabled:l,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:l?"Loading...":"Continue with email"})}),E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),E.jsxs("button",{onClick:u,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[E.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})})]})]}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:E.jsx("img",{src:Zm,alt:"",className:"object-cover w-full h-full"})})]})}const lM=wv({username:ri().min(1,"Username is required"),email:bS("Email is required"),password:ri("Password is required").min(8,"Password at least 8 characters long"),confirmPassword:ri()}).superRefine(async({confirmPassword:t,password:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Password must match",path:["confirmPassword"]})});function oM(){const{register:t,handleSubmit:e,setError:n,formState:{errors:a,isSubmitting:i}}=Cv({resolver:Tv(lM),mode:"onSubmit"}),l=dv(),u=async d=>{try{const{username:g,email:m,password:v}=d,_=await OS(m),S=await rM(g);if(_){n("email",{message:"Email already exists"});return}if(S){n("username",{message:"Username already exists!"});return}const{error:C}=await zn.auth.signUp({email:m,password:v,options:{data:{username:g}}});if(C){n("root",{message:C.message}),alert("Error creating account: "+C.message);return}alert("Account created successfully, please verify email"),l("/signin")}catch(g){n("root",{message:"Error!"+g}),alert("Error creating account: "+g)}};return E.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[E.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>l("/"),children:[E.jsx(Q3,{className:"text-lg"}),E.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),E.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[E.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),E.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),E.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[E.jsx("img",{src:Zm,alt:"",className:"object-cover w-full h-full"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),E.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:E.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[E.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[E.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),E.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),E.jsx("div",{className:"main-form",children:E.jsxs("form",{onSubmit:e(u),className:"flex flex-col justify-between",autoComplete:"off",children:[E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Username"}),E.jsx("input",{...t("username"),type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-username"}),a.username&&E.jsx("div",{className:"text-red-500",children:a.username?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Email"}),E.jsx("input",{...t("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-email"}),a.email&&E.jsx("div",{className:"text-red-500",children:a.email?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Password"}),E.jsx("input",{...t("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-password"}),a.password&&E.jsx("div",{className:"text-red-500",children:a.password?.message})]}),E.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[E.jsx("label",{className:"font-bold",children:"Confirm Password"}),E.jsx("input",{...t("confirmPassword"),type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-confirmPassword"}),a.confirmPassword&&E.jsx("div",{className:"text-red-500",children:a.confirmPassword?.message})]}),E.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[E.jsx("button",{type:"submit",disabled:i,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:i?"Loading...":"Create Account"}),E.jsx("button",{onClick:()=>l("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]}),a.root&&E.jsx("div",{className:"text-red-500",children:a.root.message})]})})]})}),E.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:E.jsx("img",{src:Zm,alt:"",className:"object-cover w-full h-full"})})]})}function NS(t){return Gn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function uM({onClearClick:t,onShapeClick:e,onDrawClick:n,onColorSelect:a,onEraserClick:i,isActive:l}){return E.jsxs("div",{className:"grid grid-cols-8 px-2 py-2 border-gray-200 justify-center items-center bg-white rounded-lg shadow-lg",children:[E.jsxs("button",{onClick:()=>e(null),className:"add-shape group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(W3,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task"})]}),E.jsxs("button",{className:"pan-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(eS,{className:"-rotate-[45deg] text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Pan Canvas"})]}),E.jsxs("button",{className:"cursor-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(J3,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Selection"})]}),E.jsxs("div",{className:"relative group",children:[E.jsxs("button",{onClick:n,className:"draw-canvas flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(O2,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw"})]}),E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:flex gap-1 bg-white p-2 rounded-md shadow-lg",children:["#000000","#ff3b30","#ff9500","#ffcc00","#34c759","#0a84ff","#5856d6"].map(u=>E.jsx("button",{onClick:()=>a?.(u),"aria-label":`Select ${u}`,className:"w-6 h-6 rounded-full border-2 border-gray-200 hover:border-gray-500 focus:border-gray-500",style:{background:u}},u))})]}),E.jsxs("button",{className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx($3,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]}),E.jsxs("button",{className:"add-image group relative border-none inline-flex flex-col items-center justify-center w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(tS,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Image"})]}),E.jsxs("button",{onClick:i,className:`add-shape group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 ${l?"bg-red-100 text-red-500":"text-gray-700 hover:bg-red-50"}`,children:[E.jsx(NS,{className:"text-xl",style:{strokeWidth:.5}}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Delete Task"})]}),E.jsxs("button",{onClick:t,className:"add-shape group flex flex-col justify-center items-center  rounded-r-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-red-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(Hy,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Clear Canvas"})]})]})}const cM=Math.PI/180;function fM(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Nc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ve={_global:Nc,version:"10.0.2",isBrowser:fM(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ve.angleDeg?t*cM:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ve.DD.isDragging},isTransforming(){var t,e;return(e=(t=Ve.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Ve.DD.node},releaseCanvasOnDestroy:!0,document:Nc.document,_injectGlobal(t){typeof Nc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Nc.Konva=t}},Zn=t=>{Ve[t.prototype.getClassName()]=t};Ve._injectGlobal(Ve);const dM=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,G4=()=>{if(typeof document>"u")throw new Error(dM)};class si{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new si(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,d=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=l,this.m[2]=u,this.m[3]=d,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=l,this.m[3]=u,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],d=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=d,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,l=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),d=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=d,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],l=this.m[4],u=this.m[5],d=e*i-n*a,g={x:l,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const m=Math.sqrt(e*e+n*n);g.rotation=n>0?Math.acos(e/m):-Math.acos(e/m),g.scaleX=m,g.scaleY=d/m,g.skewX=(e*a+n*i)/d,g.skewY=0}else if(a!=0||i!=0){const m=Math.sqrt(a*a+i*i);g.rotation=Math.PI/2-(i>0?Math.acos(-a/m):-Math.acos(a/m)),g.scaleX=d/m,g.scaleY=m,g.skewX=0,g.skewY=(e*a+n*i)/d}return g.rotation=ne._getRotation(g.rotation),g}}const hM="[object Array]",gM="[object Number]",pM="[object String]",mM="[object Boolean]",vM=Math.PI/180,yM=180/Math.PI,X1="#",bM="",_M="0",SM="Konva warning: ",q4="Konva error: ",xM="rgb(",K1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},wM=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let $p=[];const EM=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},ne={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===hM},_isNumber(t){return Object.prototype.toString.call(t)===gM&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===pM},_isBoolean(t){return Object.prototype.toString.call(t)===mM},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){$p.push(t),$p.length===1&&EM(function(){const e=$p;$p=[],e.forEach(function(n){n()})})},createCanvasElement(){G4();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return G4(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=ne.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(X1,bM);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=_M+t;return X1+t},getRGB(t){let e;return t in K1?(e=K1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===X1?this._hexToRgb(t.substring(1)):t.substr(0,4)===xM?(e=wM.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",ne._namedColorToRBA(t)||ne._hex3ColorToRGBA(t)||ne._hex4ColorToRGBA(t)||ne._hex6ColorToRGBA(t)||ne._hex8ColorToRGBA(t)||ne._rgbColorToRGBA(t)||ne._rgbaColorToRGBA(t)||ne._hslColorToRGBA(t)},_namedColorToRBA(t){const e=K1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,l=Number(n[2])/100;let u,d,g;if(i===0)return g=l*255,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};l<.5?u=l*(1+i):u=l+i-l*i;const m=2*l-u,v=[0,0,0];for(let _=0;_<3;_++)d=a+1/3*-(_-1),d<0&&d++,d>1&&d--,6*d<1?g=m+(u-m)*6*d:2*d<1?g=u:3*d<2?g=m+(u-m)*(2/3-d)*6:g=m,v[_]=g*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*vM},radToDeg(t){return t*yM},_degToRad(t){return ne.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ne.degToRad(t)},_radToDeg(t){return ne.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ne.radToDeg(t)},_getRotation(t){return Ve.angleDeg?ne.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(q4+t)},error(t){console.error(q4+t)},warn(t){Ve.showWarnings&&console.warn(SM+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,l){let u,d,g;const m=(t-n)*(t-n)+(e-a)*(e-a);if(m==0)u=t,d=e,g=(i-n)*(i-n)+(l-a)*(l-a);else{const v=((i-t)*(n-t)+(l-e)*(a-e))/m;v<0?(u=t,d=e,g=(t-i)*(t-i)+(e-l)*(e-l)):v>1?(u=n,d=a,g=(n-i)*(n-i)+(a-l)*(a-l)):(u=t+v*(n-t),d=e+v*(a-e),g=(u-i)*(u-i)+(d-l)*(d-l))}return[u,d,g]},_getProjectionToLine(t,e,n){const a=ne.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(l,u){if(!n&&u===e.length-1)return;const d=e[(u+1)%e.length],g=ne._getProjectionToSegment(l.x,l.y,d.x,d.y,t.x,t.y),m=g[0],v=g[1],_=g[2];_<i&&(a.x=m,a.y=v,i=_)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const u=e;e=t,t=u}for(let u=0;u<t.length;u+=2)a.push({x:t[u],y:t[u+1]});for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const l=[];return i.forEach(function(u){const d=ne._getProjectionToLine(u,a,n);l.push(d.x),l.push(d.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||ne._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(ne._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Ve.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let u=0,d=0,g=0,m=0;typeof a=="number"?u=d=g=m=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),d=Math.min(a[1]||0,e/2,n/2),m=Math.min(a[2]||0,e/2,n/2),g=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+u,l),t.lineTo(i+e-d,l),t.arc(i+e-d,l+d,d,Math.PI*3/2,0,!1),t.lineTo(i+e,l+n-m),t.arc(i+e-m,l+n-m,m,0,Math.PI/2,!1),t.lineTo(i+g,l+n),t.arc(i+g,l+n-g,g,Math.PI/2,Math.PI,!1),t.lineTo(i,l+u),t.arc(i+u,l+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let l=0;l<n;l++){const u=e[(l-1+n)%n],d=e[l],g=e[(l+1)%n],m={x:d.x-u.x,y:d.y-u.y},v={x:g.x-d.x,y:g.y-d.y},_=Math.hypot(m.x,m.y),S=Math.hypot(v.x,v.y);let C;typeof i=="number"?C=i:C=l<i.length?i[l]:0,C=a*Math.cos(Math.PI/n)*Math.min(1,C/a*2);const R={x:m.x/_,y:m.y/_},O={x:v.x/S,y:v.y/S},M={x:d.x-R.x*C,y:d.y-R.y*C},j={x:d.x+O.x*C,y:d.y+O.y*C};l===0?t.moveTo(M.x,M.y):t.lineTo(M.x,M.y),t.arcTo(d.x,d.y,j.x,j.y,C)}}};function CM(t){const e=[],n=t.length,a=ne;for(let i=0;i<n;i++){let l=t[i];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const V4=",",TM="(",AM=")",RM="([",OM="])",NM=";",MM="()",DM="=",Y4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],jM=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],zM=100;let Wp=null;function Z4(){if(Wp!==null)return Wp;try{const e=ne.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Wp=!1,!1)}catch{return Wp=!1,!1}}class Av{constructor(e){this.canvas=e,Ve.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,l="",u,d,g,m;for(u=0;u<i;u++)d=a[u],g=d.method,g?(m=d.args,l+=g,e?l+=MM:ne._isArray(m[0])?l+=RM+m.join(V4)+OM:(n&&(m=m.map(v=>typeof v=="number"?Math.floor(v):v)),l+=TM+m.join(V4)+AM)):(l+=d.property,e||(l+=DM+d.val)),l+=NM;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=zM&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,l,u){this._context.arc(e,n,a,i,l,u)}arcTo(e,n,a,i,l){this._context.arcTo(e,n,a,i,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,l,u){this._context.bezierCurveTo(e,n,a,i,l,u)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,l,u){return this._context.createRadialGradient(e,n,a,i,l,u)}drawImage(e,n,a,i,l,u,d,g,m){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,i,l):v.length===9&&_.drawImage(e,n,a,i,l,u,d,g,m)}ellipse(e,n,a,i,l,u,d,g){this._context.ellipse(e,n,a,i,l,u,d,g)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,l){this._context.roundRect(e,n,a,i,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,l,u){this._context.setTransform(e,n,a,i,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,l,u){this._context.transform(e,n,a,i,l,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Y4.length,a=this.setAttr,i,l;const u=function(d){let g=e[d],m;e[d]=function(){return l=CM(Array.prototype.slice.call(arguments,0)),m=g.apply(e,arguments),e._trace({method:d,args:l}),m}};for(i=0;i<n;i++)u(Y4[i]);e.setAttr=function(){a.apply(e,arguments);const d=arguments[0];let g=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:d,val:g})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}jM.forEach(function(t){Object.defineProperty(Av.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class UM extends Av{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let u=0;u<i.length;u+=2)l.addColorStop(i[u],i[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,d=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},g=e.getAbsoluteScale(),m=this.canvas.getPixelRatio(),v=g.x*m,_=g.y*m;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",d.x*v),this.setAttr("shadowOffsetY",d.y*_)}}class kM extends Av{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Jp;function LM(){if(Jp)return Jp;const t=ne.createCanvasElement(),e=t.getContext("2d");return Jp=(function(){const n=Ve._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),ne.releaseCanvas(t),Jp}class q2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||Ve.pixelRatio||LM();this.pixelRatio=a,this._canvas=ne.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return ne.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class du extends q2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new UM(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function I4(){const t=ne.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function X4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let K4=!1;function PM(){return X4()&&I4()&&!K4&&(K4=!0,ne.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),X4()&&I4()}class V2 extends q2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new kM(this),this.setSize(e.width,e.height),PM()}}const un={get isDragging(){let t=!1;return un._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return un._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];un._dragElements.forEach((n,a)=>{const{node:i}=n,l=i.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=ne._getFirstPointerId(t));const u=l._changedPointerPositions.find(d=>d.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const d=i.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<d||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];un._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(d=>d.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(un.justDragged=!0,Ve._mouseListenClick=!1,Ve._touchListenClick=!1,Ve._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof Ve.Stage&&n.node;u&&e.indexOf(u)===-1&&e.push(u)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){un._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&un._dragElements.delete(n)})}};Ve.isBrowser&&(window.addEventListener("mouseup",un._endDragBefore,!0),window.addEventListener("touchend",un._endDragBefore,!0),window.addEventListener("touchcancel",un._endDragBefore,!0),window.addEventListener("mousemove",un._drag),window.addEventListener("touchmove",un._drag),window.addEventListener("mouseup",un._endDragAfter,!1),window.addEventListener("touchend",un._endDragAfter,!1),window.addEventListener("touchcancel",un._endDragAfter,!1));function bu(t){return ne._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ne._isBoolean(t)?t:Object.prototype.toString.call(t)}function MS(t){return t>255?255:t<0?0:Math.round(t)}function He(){if(Ve.isUnminified)return function(t,e){return ne._isNumber(t)||ne.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Rv(t){if(Ve.isUnminified)return function(e,n){let a=ne._isNumber(e),i=ne._isArray(e)&&e.length==t;return!a&&!i&&ne.warn(bu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function Y2(){if(Ve.isUnminified)return function(t,e){return ne._isNumber(t)||t==="auto"||ne.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Hc(){if(Ve.isUnminified)return function(t,e){return ne._isString(t)||ne.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function DS(){if(Ve.isUnminified)return function(t,e){const n=ne._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||ne.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function BM(){if(Ve.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(ne._isArray(t)?t.forEach(function(a){ne._isNumber(a)||ne.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):ne.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function bs(){if(Ve.isUnminified)return function(t,e){return t===!0||t===!1||ne.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function HM(t){if(Ve.isUnminified)return function(e,n){return e==null||ne.isObject(e)||ne.warn(bu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const y0="get",b0="set",q={addGetterSetter(t,e,n,a,i){q.addGetter(t,e,n),q.addSetter(t,e,a,i),q.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=y0+ne._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=b0+ne._capitalize(e);t.prototype[i]||q.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=b0+ne._capitalize(e);t.prototype[i]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const l=n.length,u=ne._capitalize,d=y0+u(e),g=b0+u(e);t.prototype[d]=function(){const v={};for(let _=0;_<l;_++){const S=n[_];v[S]=this.getAttr(e+u(S))}return v};const m=HM(n);t.prototype[g]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),m&&m.call(this,v,e);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(e+u(S),v[S]);return v||n.forEach(S=>{this._setAttr(e+u(S),void 0)}),this._fireChangeEvent(e,_,v),i&&i.call(this),this},q.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=ne._capitalize(e),a=b0+n,i=y0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){ne.error("Adding deprecated "+e);const i=y0+ne._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){ne.error(l);const u=this.attrs[e];return u===void 0?n:u},q.addSetter(t,e,a,function(){ne.error(l)}),q.addOverloadedGetterSetter(t,e)},backCompat(t,e){ne.each(e,function(n,a){const i=t.prototype[a],l=y0+ne._capitalize(n),u=b0+ne._capitalize(n);function d(){i.apply(this,arguments),ne.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=d,t.prototype[l]=d,t.prototype[u]=d})},afterSetFilter(){this._filterUpToDate=!1}};function GM(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const l=parseFloat(i.replace("px",""));return function(u){this.blurRadius(l*.5);const d=Ve.Filters;d&&d.Blur&&d.Blur.call(this,u)}}case"brightness":{const l=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(u){this.brightness(l);const d=Ve.Filters;d&&d.Brightness&&d.Brightness.call(this,u)}}case"contrast":{const l=parseFloat(i);return function(u){const d=100*(Math.sqrt(l)-1);this.contrast(d);const g=Ve.Filters;g&&g.Contrast&&g.Contrast.call(this,u)}}case"grayscale":return function(l){const u=Ve.Filters;u&&u.Grayscale&&u.Grayscale.call(this,l)};case"sepia":return function(l){const u=Ve.Filters;u&&u.Sepia&&u.Sepia.call(this,l)};case"invert":return function(l){const u=Ve.Filters;u&&u.Invert&&u.Invert.call(this,l)};default:ne.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const jm="absoluteOpacity",em="allEventListeners",Wl="absoluteTransform",F4="absoluteScale",wc="canvas",qM="Change",VM="children",YM="konva",Xy="listening",ZM="mouseenter",IM="mouseleave",XM="pointerenter",KM="pointerleave",FM="touchenter",QM="touchleave",Q4="set",$4="Shape",zm=" ",W4="stage",iu="transform",$M="Stage",Ky="visible",WM=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(zm);let JM=1,qe=class Fy{constructor(e){this._id=JM++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===iu||e===Wl)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===iu||e===Wl)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(l=>l+"Change.konva").join(zm);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(wc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Wl&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(wc)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(wc);ne.releaseCanvas(e,n,a,i),this._cache.delete(wc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),u=n.pixelRatio,d=n.x===void 0?Math.floor(a.x):n.x,g=n.y===void 0?Math.floor(a.y):n.y,m=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!i||!l){ne.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(a.x)-d)>.5?1:0,C=Math.abs(Math.round(a.y)-g)>.5?1:0;i+=m*2+S,l+=m*2+C,d-=m,g-=m;const T=new du({pixelRatio:u,width:i,height:l}),R=new du({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),O=new V2({pixelRatio:_,width:i,height:l}),M=T.getContext(),j=O.getContext(),z=new du({width:T.width/T.pixelRatio+Math.abs(d),height:T.height/T.pixelRatio+Math.abs(g),pixelRatio:T.pixelRatio}),P=z.getContext();return O.isCache=!0,T.isCache=!0,this._cache.delete(wc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(T.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),M.save(),j.save(),P.save(),M.translate(-d,-g),j.translate(-d,-g),P.translate(-d,-g),z.x=d,z.y=g,this._isUnderCache=!0,this._clearSelfAndDescendantCache(jm),this._clearSelfAndDescendantCache(F4),this.drawScene(T,this,z),this.drawHit(O,this),this._isUnderCache=!1,M.restore(),j.restore(),v&&(M.save(),M.beginPath(),M.rect(0,0,i,l),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),this._cache.set(wc,{scene:T,filter:R,hit:O,buffer:z,x:d,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(wc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,l=1/0,u=-1/0,d=-1/0;const g=this.getAbsoluteTransform(n);return a.forEach(function(m){const v=g.point(m);i===void 0&&(i=u=v.x,l=d=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),d=Math.max(d,v.y)}),{x:i,y:l,width:u-i,height:d-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,l=i.getContext(),u,d,g,m;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let v=!0;for(let S=0;S<e.length;S++)if(typeof e[S]=="string"&&Z4(),typeof e[S]!="string"||!Z4()){v=!1;break}const _=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const S=e.join(" ");return l.save(),l.setAttr("filter",S),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,i}try{for(u=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),d=l.getImageData(0,0,i.getWidth(),i.getHeight()),g=0;g<u;g++)m=e[g],typeof m=="string"&&(m=GM(m)),m.call(this,d),l.putImageData(d,0,0)}catch(S){ne.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(em),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(zm);for(let i=0;i<a.length;i++){const u=a[i].split("."),d=u[0],g=u[1]||"";this.eventListeners[d]||(this.eventListeners[d]=[]),this.eventListeners[d].push({name:g,handler:n})}return this}off(e,n){let a=(e||"").split(zm),i=a.length,l,u,d,g,m,v;if(this._cache&&this._cache.delete(em),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<i;l++)if(d=a[l],g=d.split("."),m=g[0],v=g[1],m)this.eventListeners[m]&&this._off(m,v,n);else for(u in this.eventListeners)this._off(u,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(l){const u=l.target.findAncestors(n,!0,i);for(let d=0;d<u.length;d++)l=ne.cloneObject(l),l.currentTarget=u[d],a.call(u[d],l)})}remove(){return this.isDragging()&&this.stopDrag(),un._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Wl),this._clearSelfAndDescendantCache(jm),this._clearSelfAndDescendantCache(F4),this._clearSelfAndDescendantCache(W4),this._clearSelfAndDescendantCache(Ky),this._clearSelfAndDescendantCache(Xy)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+ne._capitalize(e);return ne._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==VM&&(a=Q4+ne._capitalize(n),ne._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Xy,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(Ky,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;un._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(i=!0)});const l=!n&&!Ve.hitOnDragEnabled&&(i||Ve.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,l,u,d;function g(v){for(i=[],l=v.length,u=0;u<l;u++)d=v[u],a++,d.nodeType!==$4&&(i=i.concat(d.getChildren().slice())),d._id===n._id&&(u=l);i.length>0&&i[0].getDepth()<=e&&g(i)}const m=this.getStage();return n.nodeType!==$M&&m&&g(m.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(iu),this._clearSelfAndDescendantCache(Wl)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),l=new si,u=this.offset();return l.m=i.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(iu);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(iu),this._clearSelfAndDescendantCache(Wl),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),l=this.y();return n!==void 0&&(i+=n),a!==void 0&&(l+=a),this.setPosition({x:i,y:l}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),l,u;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(l=a.length,u=0;u<l;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ne.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ne.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ne.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ne.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ne.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ne.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(jm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,l,u;const d={attrs:{},className:this.getClassName()};for(n in e)a=e[n],u=ne.isObject(a)&&!ne._isPlainObject(a)&&!ne._isArray(a),!u&&(i=typeof this[n]=="function"&&this[n],delete e[n],l=i?i.call(this):null,e[n]=a,l!==a&&(d.attrs[n]=a));return ne._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let l=this.parent;for(;l;){if(l===a)return i;l._isMatch(e)&&i.push(l),l=l.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,l;for(i=0;i<a;i++)if(l=n[i],ne.isValidSelector(l)||(ne.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ne.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ne.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(W4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Wl,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new si,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(Wl)||new si,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;n.translate(i-u,l-d)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(iu,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(iu)||new si;a.reset();const i=this.x(),l=this.y(),u=Ve.getAngle(this.rotation()),d=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,m=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(i!==0||l!==0)&&a.translate(i,l),u!==0&&a.rotate(u),(m!==0||v!==0)&&a.skew(m,v),(d!==1||g!==1)&&a.scale(d,g),(_!==0||S!==0)&&a.translate(-1*_,-1*S),a.dirty=!1,a}clone(e){let n=ne.cloneObject(this.attrs),a,i,l,u,d;for(a in e)n[a]=e[a];const g=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],l=i.length,u=0;u<l;u++)d=i[u],d.name.indexOf(YM)<0&&(g.eventListeners[a]||(g.eventListeners[a]=[]),g.eventListeners[a].push(d));return g}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),u=e.pixelRatio||1,d=new du({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:u}),g=d.getContext(),m=new du({width:d.width/d.pixelRatio+Math.abs(i),height:d.height/d.pixelRatio+Math.abs(l),pixelRatio:d.pixelRatio});return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(i||l)&&g.translate(-1*i,-1*l),this.drawScene(d,void 0,m),g.restore(),d}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,ne._urlToImage(this.toDataURL(e),function(l){n(l),i?.(l)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),i?.(l)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ve.dragDistance}_off(e,n,a){let i=this.eventListeners[e],l,u,d;for(l=0;l<i.length;l++)if(u=i[l].name,d=i[l].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===d)){if(i.splice(l,1),i.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+qM,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[Q4+ne._capitalize(e)];return ne._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ve.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!ne.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===$4&&(n.target=this);const i=[ZM,IM,XM,KM,FM,QM];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const u=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const l=(n=this._cache.get(em))!==null&&n!==void 0?n:{};let u=l?.[e];if(u===void 0){u=[];let d=Object.getPrototypeOf(this);for(;d;){const g=(i=(a=d.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];u.push(...g),d=Object.getPrototypeOf(d)}l[e]=u,this._cache.set(em,l)}return u}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let l=0;l<i.length;l++)i[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||i;un._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-i.x,y:l.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){un._dragElements.has(this._id)||this._createDragElement(e);const a=un._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,i,e);u?i=u:ne.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=un._dragElements.get(this._id);n&&(n.dragStatus="stopped"),un._endDragBefore(e),un._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=un._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ve.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;un._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=un._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&un._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ne.haveIntersection(a,this.getClientRect())}static create(e,n){return ne._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=Fy.prototype.getClassName.call(e),i=e.children,l,u,d;n&&(e.attrs.container=n),Ve[a]||(ne.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const g=Ve[a];if(l=new g(e.attrs),i)for(u=i.length,d=0;d<u;d++)l.add(Fy._createNode(i[d]));return l}};qe.prototype.nodeType="Node";qe.prototype._attrsAffectingSize=[];qe.prototype.eventListeners={};qe.prototype.on.call(qe.prototype,WM,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(iu),this._clearSelfAndDescendantCache(Wl)});qe.prototype.on.call(qe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ky)});qe.prototype.on.call(qe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Xy)});qe.prototype.on.call(qe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(jm)});const Rn=q.addGetterSetter;Rn(qe,"zIndex");Rn(qe,"absolutePosition");Rn(qe,"position");Rn(qe,"x",0,He());Rn(qe,"y",0,He());Rn(qe,"globalCompositeOperation","source-over",Hc());Rn(qe,"opacity",1,He());Rn(qe,"name","",Hc());Rn(qe,"id","",Hc());Rn(qe,"rotation",0,He());q.addComponentsGetterSetter(qe,"scale",["x","y"]);Rn(qe,"scaleX",1,He());Rn(qe,"scaleY",1,He());q.addComponentsGetterSetter(qe,"skew",["x","y"]);Rn(qe,"skewX",0,He());Rn(qe,"skewY",0,He());q.addComponentsGetterSetter(qe,"offset",["x","y"]);Rn(qe,"offsetX",0,He());Rn(qe,"offsetY",0,He());Rn(qe,"dragDistance",void 0,He());Rn(qe,"width",0,He());Rn(qe,"height",0,He());Rn(qe,"listening",!0,bs());Rn(qe,"preventDefault",!0,bs());Rn(qe,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Rn(qe,"visible",!0,bs());Rn(qe,"transformsEnabled","all",Hc());Rn(qe,"size");Rn(qe,"dragBoundFunc");Rn(qe,"draggable",!1,bs());q.backCompat(qe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class li extends qe{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const l=i._isMatch(e);return l&&a.push(i),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=qe.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=qe.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas(),u=l&&l.getContext(),d=this._getCanvasCache(),g=d&&d.scene,m=l&&l.isCache;if(!this.isVisible()&&!m)return this;if(g){u.save();const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,l=i&&i.getContext(),u=this._getCanvasCache();if(u&&u.hit){l.save();const g=this.getAbsoluteTransform(n).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var l;const u=n&&n.getContext(),d=this.clipWidth(),g=this.clipHeight(),m=this.clipFunc(),v=typeof d=="number"&&typeof g=="number"||m,_=a===this;if(v){u.save();const C=this.getAbsoluteTransform(a);let T=C.getMatrix();u.transform(T[0],T[1],T[2],T[3],T[4],T[5]),u.beginPath();let R;if(m)R=m.call(this,u,this);else{const O=this.clipX(),M=this.clipY();u.rect(O||0,M||0,d,g)}u.clip.apply(u,R),T=C.copy().invert().getMatrix(),u.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const S=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(C){C[e](n,a,i)}),S&&u.restore(),v&&u.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let l,u,d,g,m={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(C){if(!C.visible())return;const T=C.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(l===void 0?(l=T.x,u=T.y,d=T.x+T.width,g=T.y+T.height):(l=Math.min(l,T.x),u=Math.min(u,T.y),d=Math.max(d,T.x+T.width),g=Math.max(g,T.y+T.height)))});const _=this.find("Shape");let S=!1;for(let C=0;C<_.length;C++)if(_[C]._isVisible(this)){S=!0;break}return S&&l!==void 0?m={x:l,y:u,width:d-l,height:g-u}:m={x:0,y:0,width:0,height:0},a?m:this._transformedRect(m,i)}}q.addComponentsGetterSetter(li,"clip",["x","y","width","height"]);q.addGetterSetter(li,"clipX",void 0,He());q.addGetterSetter(li,"clipY",void 0,He());q.addGetterSetter(li,"clipWidth",void 0,He());q.addGetterSetter(li,"clipHeight",void 0,He());q.addGetterSetter(li,"clipFunc");const Z0=new Map,jS=Ve._global.PointerEvent!==void 0;function F1(t){return Z0.get(t)}function Z2(t){return{evt:t,pointerId:t.pointerId}}function zS(t,e){return Z0.get(t)===e}function US(t,e){z0(t),e.getStage()&&(Z0.set(t,e),jS&&e._fire("gotpointercapture",Z2(new PointerEvent("gotpointercapture"))))}function z0(t,e){const n=Z0.get(t);if(!n)return;const a=n.getStage();a&&a.content,Z0.delete(t),jS&&n._fire("lostpointercapture",Z2(new PointerEvent("lostpointercapture")))}const eD="Stage",tD="string",J4="px",nD="mouseout",kS="mouseleave",LS="mouseover",PS="mouseenter",BS="mousemove",HS="mousedown",GS="mouseup",w0="pointermove",E0="pointerdown",Ad="pointerup",C0="pointercancel",aD="lostpointercapture",tm="pointerout",T0="pointerleave",nm="pointerover",am="pointerenter",Qy="contextmenu",qS="touchstart",VS="touchend",YS="touchmove",ZS="touchcancel",$y="wheel",rD=5,iD=[[PS,"_pointerenter"],[HS,"_pointerdown"],[BS,"_pointermove"],[GS,"_pointerup"],[kS,"_pointerleave"],[qS,"_pointerdown"],[YS,"_pointermove"],[VS,"_pointerup"],[ZS,"_pointercancel"],[LS,"_pointerover"],[$y,"_wheel"],[Qy,"_contextmenu"],[E0,"_pointerdown"],[w0,"_pointermove"],[Ad,"_pointerup"],[C0,"_pointercancel"],[T0,"_pointerleave"],[aD,"_lostpointercapture"]],Q1={mouse:{[tm]:nD,[T0]:kS,[nm]:LS,[am]:PS,[w0]:BS,[E0]:HS,[Ad]:GS,[C0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[tm]:"touchout",[T0]:"touchleave",[nm]:"touchover",[am]:"touchenter",[w0]:YS,[E0]:qS,[Ad]:VS,[C0]:ZS,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[tm]:tm,[T0]:T0,[nm]:nm,[am]:am,[w0]:w0,[E0]:E0,[Ad]:Ad,[C0]:C0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},A0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",pd=t=>{const e=A0(t);if(e==="pointer")return Ve.pointerEventsEnabled&&Q1.pointer;if(e==="touch")return Q1.touch;if(e==="mouse")return Q1.mouse};function e5(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ne.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const sD="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",U0=[];let Ov=class extends li{constructor(e){super(e5(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),U0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{e5(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||ne.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===tD){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),li.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&ne._isInDocument(e)&&this.container().removeChild(e);const n=U0.indexOf(this);return n>-1&&U0.splice(n,1),ne.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ne.warn(sD),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new du({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(l){if(!l.isVisible())return;const u=l._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let l=i;l>=0;l--){const u=n[l].getIntersection(e);if(u)return u}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+J4,this.content.style.height=n+J4),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>rD&&ne.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Ve.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return zS(e,this)}setPointerCapture(e){US(e,this)}releaseCapture(e){z0(e)}getLayers(){return this.children}_bindContentEvents(){Ve.isBrowser&&iD.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=pd(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=pd(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=pd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),l=!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled;i&&l?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=pd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(l=>{const u=this.getIntersection(l);if(un.justDragged=!1,Ve["_"+a+"ListenClick"]=!0,!u||!u.isListening()){this[a+"ClickStartShape"]=void 0;return}Ve.capturePointerEventsEnabled&&u.setPointerCapture(l.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),i=!0;const d=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&d&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=pd(e.type),a=A0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Ve.isDragging()&&un.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled))return;const u={};let d=!1;const g=this._getTargetShape(a);this._changedPointerPositions.forEach(m=>{const v=F1(m.id)||this.getIntersection(m),_=m.id,S={evt:e,pointerId:_},C=g!==v;if(C&&g&&(g._fireAndBubble(n.pointerout,{...S},v),g._fireAndBubble(n.pointerleave,{...S},v)),v){if(u[v._id])return;u[v._id]=!0}v&&v.isListening()?(d=!0,C&&(v._fireAndBubble(n.pointerover,{...S},g),v._fireAndBubble(n.pointerenter,{...S},g),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...S})):g&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),d||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=pd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],u={};let d=!1;this._changedPointerPositions.forEach(g=>{const m=F1(g.id)||this.getIntersection(g);if(m){if(m.releaseCapture(g.id),u[m._id])return;u[m._id]=!0}const v=g.id,_={evt:e,pointerId:v};let S=!1;Ve["_"+a+"InDblClickWindow"]?(S=!0,clearTimeout(this[a+"DblTimeout"])):un.justDragged||(Ve["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Ve["_"+a+"InDblClickWindow"]=!1},Ve.dblClickWindow),m&&m.isListening()?(d=!0,this[a+"ClickEndShape"]=m,m._fireAndBubble(n.pointerup,{..._}),Ve["_"+a+"ListenClick"]&&i&&i===m&&(m._fireAndBubble(n.pointerclick,{..._}),S&&l&&l===m&&m._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,d||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d=!0),Ve["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),S&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),d||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ve["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Qy,{evt:e}):this._fire(Qy,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble($y,{evt:e}):this._fire($y,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=F1(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Ad,Z2(e)),z0(e.pointerId)}_lostpointercapture(e){z0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:ne._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:ne._getFirstPointerId(e)}])}_setPointerPosition(e){ne.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new du({width:this.width(),height:this.height()}),this.bufferHitCanvas=new V2({pixelRatio:1,width:this.width(),height:this.height()}),!Ve.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return ne.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Ov.prototype.nodeType=eD;Zn(Ov);q.addGetterSetter(Ov,"container");Ve.isBrowser&&document.addEventListener("visibilitychange",()=>{U0.forEach(t=>{t.batchDraw()})});const IS="hasShadow",XS="shadowRGBA",KS="patternImage",FS="linearGradient",QS="radialGradient";let rm;function $1(){return rm||(rm=ne.createCanvasElement().getContext("2d"),rm)}const k0={};function lD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function oD(t){t.stroke()}function uD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function cD(t){t.stroke()}function fD(){this._clearCache(IS)}function dD(){this._clearCache(XS)}function hD(){this._clearCache(KS)}function gD(){this._clearCache(FS)}function pD(){this._clearCache(QS)}class ze extends qe{constructor(e){super(e);let n;for(;n=ne.getRandomColor(),!(n&&!(n in k0)););this.colorKey=n,k0[n]=this}getContext(){return ne.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ne.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(IS,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(KS,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=$1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new si;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Ve.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(FS,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=$1(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}_getRadialGradient(){return this._getCache(QS,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=$1(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}getShadowRGBA(){return this._getCache(XS,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=ne.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return qe.prototype.destroy.call(this),delete k0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),l=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(i&&l&&u)return!0;const d=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(i&&l&&d&&g)}setStrokeHitEnabled(e){ne.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),g=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,m=u.width+g,v=u.height+g,_=!e.skipShadow&&this.hasShadow(),S=_?this.shadowOffsetX():0,C=_?this.shadowOffsetY():0,T=m+Math.abs(S),R=v+Math.abs(C),O=_&&this.shadowBlur()||0,M=T+O*2,j=R+O*2,z={width:M,height:j,x:-(g/2+O)+Math.min(S,0)+u.x,y:-(g/2+O)+Math.min(C,0)+u.y};return i?z:this._transformedRect(z,l)}drawScene(e,n,a){const i=this.getLayer(),l=e||i.getCanvas(),u=l.getContext(),d=this._getCanvasCache(),g=this.getSceneFunc(),m=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(d){u.save();const S=this.getAbsoluteTransform(n).getMatrix();return u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!g)return this;if(u.save(),this._useBufferCanvas()){v=this.getStage();const S=a||v.bufferCanvas,C=S.getContext();C.clear(),C.save(),C._applyLineJoin(this),C._applyMiterLimit(this);const T=this.getAbsoluteTransform(n).getMatrix();C.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g.call(this,C,this),C.restore();const R=S.pixelRatio;m&&u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(S._canvas,S.x||0,S.y||0,S.width/R,S.height/R)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!_){const S=this.getAbsoluteTransform(n).getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}m&&u._applyShadow(this),g.call(this,u,this)}return u.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),l=e||i.hitCanvas,u=l&&l.getContext(),d=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),m=g&&g.hit;if(this.colorKey||ne.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),m){u.save();const _=this.getAbsoluteTransform(n).getMatrix();return u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!d)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return d.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,l=i.getContext(),u=i.getWidth(),d=i.getHeight();l.clear(),l.drawImage(a._canvas,0,0,u,d);try{const g=l.getImageData(0,0,u,d),m=g.data,v=m.length,_=ne._hexToRgb(this.colorKey);for(let S=0;S<v;S+=4)m[S+3]>e?(m[S]=_.r,m[S+1]=_.g,m[S+2]=_.b,m[S+3]=255):m[S+3]=0;l.putImageData(g,0,0)}catch(g){ne.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return zS(e,this)}setPointerCapture(e){US(e,this)}releaseCapture(e){z0(e)}}ze.prototype._fillFunc=lD;ze.prototype._strokeFunc=oD;ze.prototype._fillFuncHit=uD;ze.prototype._strokeFuncHit=cD;ze.prototype._centroid=!1;ze.prototype.nodeType="Shape";Zn(ze);ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",fD);ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",dD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",hD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",gD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",pD);q.addGetterSetter(ze,"stroke",void 0,DS());q.addGetterSetter(ze,"strokeWidth",2,He());q.addGetterSetter(ze,"fillAfterStrokeEnabled",!1);q.addGetterSetter(ze,"hitStrokeWidth","auto",Y2());q.addGetterSetter(ze,"strokeHitEnabled",!0,bs());q.addGetterSetter(ze,"perfectDrawEnabled",!0,bs());q.addGetterSetter(ze,"shadowForStrokeEnabled",!0,bs());q.addGetterSetter(ze,"lineJoin");q.addGetterSetter(ze,"lineCap");q.addGetterSetter(ze,"miterLimit");q.addGetterSetter(ze,"sceneFunc");q.addGetterSetter(ze,"hitFunc");q.addGetterSetter(ze,"dash");q.addGetterSetter(ze,"dashOffset",0,He());q.addGetterSetter(ze,"shadowColor",void 0,Hc());q.addGetterSetter(ze,"shadowBlur",0,He());q.addGetterSetter(ze,"shadowOpacity",1,He());q.addComponentsGetterSetter(ze,"shadowOffset",["x","y"]);q.addGetterSetter(ze,"shadowOffsetX",0,He());q.addGetterSetter(ze,"shadowOffsetY",0,He());q.addGetterSetter(ze,"fillPatternImage");q.addGetterSetter(ze,"fill",void 0,DS());q.addGetterSetter(ze,"fillPatternX",0,He());q.addGetterSetter(ze,"fillPatternY",0,He());q.addGetterSetter(ze,"fillLinearGradientColorStops");q.addGetterSetter(ze,"strokeLinearGradientColorStops");q.addGetterSetter(ze,"fillRadialGradientStartRadius",0);q.addGetterSetter(ze,"fillRadialGradientEndRadius",0);q.addGetterSetter(ze,"fillRadialGradientColorStops");q.addGetterSetter(ze,"fillPatternRepeat","repeat");q.addGetterSetter(ze,"fillEnabled",!0);q.addGetterSetter(ze,"strokeEnabled",!0);q.addGetterSetter(ze,"shadowEnabled",!0);q.addGetterSetter(ze,"dashEnabled",!0);q.addGetterSetter(ze,"strokeScaleEnabled",!0);q.addGetterSetter(ze,"fillPriority","color");q.addComponentsGetterSetter(ze,"fillPatternOffset",["x","y"]);q.addGetterSetter(ze,"fillPatternOffsetX",0,He());q.addGetterSetter(ze,"fillPatternOffsetY",0,He());q.addComponentsGetterSetter(ze,"fillPatternScale",["x","y"]);q.addGetterSetter(ze,"fillPatternScaleX",1,He());q.addGetterSetter(ze,"fillPatternScaleY",1,He());q.addComponentsGetterSetter(ze,"fillLinearGradientStartPoint",["x","y"]);q.addComponentsGetterSetter(ze,"strokeLinearGradientStartPoint",["x","y"]);q.addGetterSetter(ze,"fillLinearGradientStartPointX",0);q.addGetterSetter(ze,"strokeLinearGradientStartPointX",0);q.addGetterSetter(ze,"fillLinearGradientStartPointY",0);q.addGetterSetter(ze,"strokeLinearGradientStartPointY",0);q.addComponentsGetterSetter(ze,"fillLinearGradientEndPoint",["x","y"]);q.addComponentsGetterSetter(ze,"strokeLinearGradientEndPoint",["x","y"]);q.addGetterSetter(ze,"fillLinearGradientEndPointX",0);q.addGetterSetter(ze,"strokeLinearGradientEndPointX",0);q.addGetterSetter(ze,"fillLinearGradientEndPointY",0);q.addGetterSetter(ze,"strokeLinearGradientEndPointY",0);q.addComponentsGetterSetter(ze,"fillRadialGradientStartPoint",["x","y"]);q.addGetterSetter(ze,"fillRadialGradientStartPointX",0);q.addGetterSetter(ze,"fillRadialGradientStartPointY",0);q.addComponentsGetterSetter(ze,"fillRadialGradientEndPoint",["x","y"]);q.addGetterSetter(ze,"fillRadialGradientEndPointX",0);q.addGetterSetter(ze,"fillRadialGradientEndPointY",0);q.addGetterSetter(ze,"fillPatternRotation",0);q.addGetterSetter(ze,"fillRule",void 0,Hc());q.backCompat(ze,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const mD="#",vD="beforeDraw",yD="draw",$S=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],bD=$S.length;let Gc=class extends li{constructor(e){super(e),this.canvas=new du,this.hitCanvas=new V2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){qe.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!qe.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(qe.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(qe.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return qe.prototype.remove.call(this),e&&e.parentNode&&ne._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),qe.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ne.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ne.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ne.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<bD;i++){const l=$S[i],u=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),d=u.shape;if(d)return d;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const l=ne._rgbToHex(a[0],a[1],a[2]),u=k0[mD+l];return u?{shape:u}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas();return this._fire(vD,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),li.prototype.drawScene.call(this,l,n,a),this._fire(yD,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),li.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return ne.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Gc.prototype.nodeType="Layer";Zn(Gc);q.addGetterSetter(Gc,"imageSmoothingEnabled",!0);q.addGetterSetter(Gc,"clearBeforeDraw",!0);q.addGetterSetter(Gc,"hitGraphEnabled",!0,bs());class I2 extends Gc{constructor(e){super(e),this.listening(!1),ne.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}I2.prototype.nodeType="FastLayer";Zn(I2);let kd=class extends li{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to groups.")}};kd.prototype.nodeType="Group";Zn(kd);const W1=(function(){return Nc.performance&&Nc.performance.now?function(){return Nc.performance.now()}:function(){return new Date().getTime()}})();class ji{constructor(e,n){this.id=ji.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:W1(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=ji.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=W1(),ji._addAnimation(this),this}stop(){return ji._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let l=0;l<i;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],l=i.layers,u=i.func;i._updateFrameObject(W1());const d=l.length;let g;if(u?g=u.call(i,i.frame)!==!1:g=!0,!!g)for(let m=0;m<d;m++){const v=l[m];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=ji;e.animations.length?(e._runFrames(),ne.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ne.requestAnimFrame(this._animationLoop))}}ji.animations=[];ji.animIdCounter=0;ji.animRunning=!1;const _D={node:1,duration:1,easing:1,onFinish:1,yoyo:1},SD=1,t5=2,n5=3,a5=["fill","stroke","shadowColor"];let xD=0;class wD{constructor(e,n,a,i,l,u,d){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=t5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=n5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===t5?this.setTime(e):this.state===n5&&this.setTime(this.duration-e)}pause(){this.state=SD,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Dn{constructor(e){const n=this,a=e.node,i=a._id,l=e.easing||L0.Linear,u=!!e.yoyo;let d,g;typeof e.duration>"u"?d=.3:e.duration===0?d=.001:d=e.duration,this.node=a,this._id=xD++;const m=a.getLayer()||(a instanceof Ve.Stage?a.getLayers():null);m||ne.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ji(function(){n.tween.onEnterFrame()},m),this.tween=new wD(g,function(v){n._tweenFunc(v)},l,0,1,d*1e3,u),this._addListeners(),Dn.attrs[i]||(Dn.attrs[i]={}),Dn.attrs[i][this._id]||(Dn.attrs[i][this._id]={}),Dn.tweens[i]||(Dn.tweens[i]={});for(g in e)_D[g]===void 0&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let l,u,d,g,m;const v=Dn.tweens[i][e];v&&delete Dn.attrs[i][v][e];let _=a.getAttr(e);if(ne._isArray(n))if(l=[],u=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(g=_,_=ne._prepareArrayForTween(_,n,a.closed())):(d=n,n=ne._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let S=0;S<u;S++)if(S%2===0)l.push(n[S]-_[S]);else{const C=ne.colorToRGBA(_[S]);m=ne.colorToRGBA(n[S]),_[S]=C,l.push({r:m.r-C.r,g:m.g-C.g,b:m.b-C.b,a:m.a-C.a})}else for(let S=0;S<u;S++)l.push(n[S]-_[S]);else a5.indexOf(e)!==-1?(_=ne.colorToRGBA(_),m=ne.colorToRGBA(n),l={r:m.r-_.r,g:m.g-_.g,b:m.b-_.b,a:m.a-_.a}):l=n-_;Dn.attrs[i][this._id][e]={start:_,diff:l,end:n,trueEnd:d,trueStart:g},Dn.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=Dn.attrs[n._id][this._id];let i,l,u,d,g,m,v,_;for(i in a){if(l=a[i],u=l.start,d=l.diff,_=l.end,ne._isArray(u))if(g=[],v=Math.max(u.length,_.length),i.indexOf("fill")===0)for(m=0;m<v;m++)m%2===0?g.push((u[m]||0)+d[m]*e):g.push("rgba("+Math.round(u[m].r+d[m].r*e)+","+Math.round(u[m].g+d[m].g*e)+","+Math.round(u[m].b+d[m].b*e)+","+(u[m].a+d[m].a*e)+")");else for(m=0;m<v;m++)g.push((u[m]||0)+d[m]*e);else a5.indexOf(i)!==-1?g="rgba("+Math.round(u.r+d.r*e)+","+Math.round(u.g+d.g*e)+","+Math.round(u.b+d.b*e)+","+(u.a+d.a*e)+")":g=u+d*e;n.setAttr(i,g)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Dn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Dn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=Dn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete Dn.tweens[e][i];delete Dn.attrs[e][n],Dn.tweens[e]&&(Object.keys(Dn.tweens[e]).length===0&&delete Dn.tweens[e],Object.keys(Dn.attrs[e]).length===0&&delete Dn.attrs[e])}}Dn.attrs={};Dn.tweens={};qe.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Dn(t).play()};const L0={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-u)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-L0.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?L0.BounceEaseIn(t*2,0,n,a)*.5+e:L0.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},Ld=ne._assign(Ve,{Util:ne,Transform:si,Node:qe,Container:li,Stage:Ov,stages:U0,Layer:Gc,FastLayer:I2,Group:kd,DD:un,Shape:ze,shapes:k0,Animation:ji,Tween:Dn,Easings:L0,Context:Av,Canvas:q2});class so extends ze{_sceneFunc(e){const n=Ve.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=Ve.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(i,Math.PI)),u=1,d=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),g=Math.sin(Math.min(i,Math.PI/2)),m=l*(l>0?e:n),v=u*n,_=d*(d>0?e:n),S=g*(g>0?n:e);return{x:m,y:a?-1*S:_,width:v-m,height:S-_}}}so.prototype._centroid=!0;so.prototype.className="Arc";so.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Zn(so);q.addGetterSetter(so,"innerRadius",0,He());q.addGetterSetter(so,"outerRadius",0,He());q.addGetterSetter(so,"angle",0,He());q.addGetterSetter(so,"clockwise",!1,bs());function Wy(t,e,n,a,i,l,u){const d=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),g=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-a,2)),m=u*d/(d+g),v=u*g/(d+g),_=n-m*(i-t),S=a-m*(l-e),C=n+v*(i-t),T=a+v*(l-e);return[_,S,C,T]}function r5(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const l=Wy(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[i]),a.push(t[i+1]),a.push(l[2]),a.push(l[3]))}return a}let lo=class extends ze{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),l=this.closed(),u=this.bezier();if(!a)return;let d=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const g=this.getTensionPoints(),m=g.length;for(d=l?0:4,l||e.quadraticCurveTo(g[0],g[1],g[2],g[3]);d<m-2;)e.bezierCurveTo(g[d++],g[d++],g[d++],g[d++],g[d++],g[d++]);l||e.quadraticCurveTo(g[m-2],g[m-1],n[a-2],n[a-1])}else if(u)for(d=2;d<a;)e.bezierCurveTo(n[d++],n[d++],n[d++],n[d++],n[d++],n[d++]);else for(d=2;d<a;d+=2)e.lineTo(n[d],n[d+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r5(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=Wy(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=Wy(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=r5(e,a);return[i[2],i[3]].concat(u).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],l=e[1],u,d;for(let g=0;g<e.length/2;g++)u=e[g*2],d=e[g*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,d),l=Math.max(l,d);return{x:n,y:i,width:a-n,height:l-i}}};lo.prototype.className="Line";lo.prototype._attrsAffectingSize=["points","bezier","tension"];Zn(lo);q.addGetterSetter(lo,"closed",!1);q.addGetterSetter(lo,"bezier",!1);q.addGetterSetter(lo,"tension",0,He());q.addGetterSetter(lo,"points",[],BM());const ED=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],CD=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],TD=[[1],[1,1],[1,2,1],[1,3,3,1]],i5=(t,e,n)=>{let a,i;const u=n/2;a=0;for(let d=0;d<20;d++)i=u*ED[20][d]+u,a+=CD[20][d]*AD(t,e,i);return u*a},s5=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],u=2*e[1]-2*e[0],d=4*(a*a+i*i),g=4*(a*l+i*u),m=l*l+u*u;if(d===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=g/(2*d),_=m/d,S=n+v,C=_-v*v,T=S*S+C>0?Math.sqrt(S*S+C):0,R=v*v+C>0?Math.sqrt(v*v+C):0,O=v+Math.sqrt(v*v+C)!==0?C*Math.log(Math.abs((S+T)/(v+R))):0;return Math.sqrt(d)/2*(S*T-v*R+O)};function AD(t,e,n){const a=Jy(1,n,t),i=Jy(1,n,e),l=a*a+i*i;return Math.sqrt(l)}const Jy=(t,e,n)=>{const a=n.length-1;let i,l;if(a===0)return 0;if(t===0){l=0;for(let u=0;u<=a;u++)l+=TD[a][u]*Math.pow(1-e,a-u)*Math.pow(e,u)*n[u];return l}else{i=new Array(a);for(let u=0;u<a;u++)i[u]=a*(n[u+1]-n[u]);return Jy(t-1,e,i)}},l5=(t,e,n)=>{let a=1,i=t/e,l=(t-n(i))/e,u=0;for(;a>.001;){const d=n(i+l),g=Math.abs(t-d)/e;if(g<a)a=g,i+=l;else{const m=n(i-l),v=Math.abs(t-m)/e;v<a?(a=v,i-=l):l/=2}if(u++,u>500)break}return i};let zi=class Hr extends ze{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Hr.parsePathData(this.data()),this.pathLength=Hr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const l=n[i].command,u=n[i].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const d=u[0],g=u[1],m=u[2],v=u[3],_=u[4],S=u[5],C=u[6],T=u[7],R=m>v?m:v,O=m>v?1:m/v,M=m>v?v/m:1;e.translate(d,g),e.rotate(C),e.scale(O,M),e.arc(0,0,R,_,_+S,1-T),e.scale(1/O,1/M),e.rotate(-C),e.translate(-d,-g);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(g){if(g.command==="A"){const m=g.points[4],v=g.points[5],_=g.points[4]+v;let S=Math.PI/180;if(Math.abs(m-_)<S&&(S=Math.abs(m-_)),v<0)for(let C=m-S;C>_;C-=S){const T=Hr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}else for(let C=m+S;C<_;C+=S){const T=Hr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],C,0);e.push(T.x,T.y)}}else if(g.command==="C")for(let m=0;m<=1;m+=.01){const v=Hr.getPointOnCubicBezier(m,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(v.x,v.y)}else e=e.concat(g.points)});let n=e[0],a=e[0],i=e[1],l=e[1],u,d;for(let g=0;g<e.length/2;g++)u=e[g*2],d=e[g*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(d)||(i=Math.min(i,d),l=Math.max(l,d));return{x:n,y:i,width:a-n,height:l-i}}getLength(){return this.pathLength}getPointAtLength(e){return Hr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,l=n.length;if(!l)return null;for(;i<l&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===l)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const u=n[i],d=u.points;switch(u.command){case"L":return Hr.getPointOnLine(e,u.start.x,u.start.y,d[0],d[1]);case"C":return Hr.getPointOnCubicBezier(l5(e,Hr.getPathLength(n),R=>i5([u.start.x,d[0],d[2],d[4]],[u.start.y,d[1],d[3],d[5]],R)),u.start.x,u.start.y,d[0],d[1],d[2],d[3],d[4],d[5]);case"Q":return Hr.getPointOnQuadraticBezier(l5(e,Hr.getPathLength(n),R=>s5([u.start.x,d[0],d[2]],[u.start.y,d[1],d[3]],R)),u.start.x,u.start.y,d[0],d[1],d[2],d[3]);case"A":const g=d[0],m=d[1],v=d[2],_=d[3],S=d[5],C=d[6];let T=d[4];return T+=S*e/u.pathLength,Hr.getPointOnEllipticalArc(g,m,v,_,T,C)}return null}static getPointOnLine(e,n,a,i,l,u,d){u=u??n,d=d??a;const g=this.getLineLength(n,a,i,l);if(g<1e-10)return{x:n,y:a};if(i===n)return{x:u,y:d+(l>a?e:-e)};const m=(l-a)/(i-n),v=Math.sqrt(e*e/(1+m*m))*(i<n?-1:1),_=m*v;if(Math.abs(d-a-m*(u-n))<1e-10)return{x:u+v,y:d+_};const S=((u-n)*(i-n)+(d-a)*(l-a))/(g*g),C=n+S*(i-n),T=a+S*(l-a),R=this.getLineLength(u,d,C,T),O=Math.sqrt(e*e-R*R),M=Math.sqrt(O*O/(1+m*m))*(i<n?-1:1),j=m*M;return{x:C+M,y:T+j}}static getPointOnCubicBezier(e,n,a,i,l,u,d,g,m){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function C(O){return(1-O)*(1-O)*(1-O)}const T=g*v(e)+u*_(e)+i*S(e)+n*C(e),R=m*v(e)+d*_(e)+l*S(e)+a*C(e);return{x:T,y:R}}static getPointOnQuadraticBezier(e,n,a,i,l,u,d){function g(C){return C*C}function m(C){return 2*C*(1-C)}function v(C){return(1-C)*(1-C)}const _=u*g(e)+i*m(e)+n*v(e),S=d*g(e)+l*m(e)+a*v(e);return{x:_,y:S}}static getPointOnEllipticalArc(e,n,a,i,l,u){const d=Math.cos(u),g=Math.sin(u),m={x:a*Math.cos(l),y:i*Math.sin(l)};return{x:e+(m.x*d-m.y*g),y:n+(m.x*g+m.y*d)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const i=n.split("|"),l=[],u=[];let d=0,g=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<i.length;_++){let S=i[_],C=S.charAt(0);for(S=S.slice(1),u.length=0;v=m.exec(S);)u.push(v[0]);let T=[],R=C==="A"||C==="a"?0:-1;for(let O=0,M=u.length;O<M;O++){const j=u[O];if(j==="00"){T.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),T.push(parseFloat(j.slice(2))),R+=3,R>=7&&(R-=7);continue}if(j==="11"||j==="10"||j==="01"){T.push(parseInt(j[0],10)),T.push(parseInt(j[1],10)),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(j)){T.push(parseInt(j[0],10)),T.push(parseFloat(j.slice(1))),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){T.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(j);isNaN(z)?T.push(0):T.push(z)}}for(;T.length>0&&!isNaN(T[0]);){let O="",M=[];const j=d,z=g;let P,H,k,Y,F,oe,_e,xe,he,ge;switch(C){case"l":d+=T.shift(),g+=T.shift(),O="L",M.push(d,g);break;case"L":d=T.shift(),g=T.shift(),M.push(d,g);break;case"m":const ye=T.shift(),Se=T.shift();if(d+=ye,g+=Se,O="M",l.length>2&&l[l.length-1].command==="z"){for(let B=l.length-2;B>=0;B--)if(l[B].command==="M"){d=l[B].points[0]+ye,g=l[B].points[1]+Se;break}}M.push(d,g),C="l";break;case"M":d=T.shift(),g=T.shift(),O="M",M.push(d,g),C="L";break;case"h":d+=T.shift(),O="L",M.push(d,g);break;case"H":d=T.shift(),O="L",M.push(d,g);break;case"v":g+=T.shift(),O="L",M.push(d,g);break;case"V":g=T.shift(),O="L",M.push(d,g);break;case"C":M.push(T.shift(),T.shift(),T.shift(),T.shift()),d=T.shift(),g=T.shift(),M.push(d,g);break;case"c":M.push(d+T.shift(),g+T.shift(),d+T.shift(),g+T.shift()),d+=T.shift(),g+=T.shift(),O="C",M.push(d,g);break;case"S":H=d,k=g,P=l[l.length-1],P.command==="C"&&(H=d+(d-P.points[2]),k=g+(g-P.points[3])),M.push(H,k,T.shift(),T.shift()),d=T.shift(),g=T.shift(),O="C",M.push(d,g);break;case"s":H=d,k=g,P=l[l.length-1],P.command==="C"&&(H=d+(d-P.points[2]),k=g+(g-P.points[3])),M.push(H,k,d+T.shift(),g+T.shift()),d+=T.shift(),g+=T.shift(),O="C",M.push(d,g);break;case"Q":M.push(T.shift(),T.shift()),d=T.shift(),g=T.shift(),M.push(d,g);break;case"q":M.push(d+T.shift(),g+T.shift()),d+=T.shift(),g+=T.shift(),O="Q",M.push(d,g);break;case"T":H=d,k=g,P=l[l.length-1],P.command==="Q"&&(H=d+(d-P.points[0]),k=g+(g-P.points[1])),d=T.shift(),g=T.shift(),O="Q",M.push(H,k,d,g);break;case"t":H=d,k=g,P=l[l.length-1],P.command==="Q"&&(H=d+(d-P.points[0]),k=g+(g-P.points[1])),d+=T.shift(),g+=T.shift(),O="Q",M.push(H,k,d,g);break;case"A":Y=T.shift(),F=T.shift(),oe=T.shift(),_e=T.shift(),xe=T.shift(),he=d,ge=g,d=T.shift(),g=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(he,ge,d,g,_e,xe,Y,F,oe);break;case"a":Y=T.shift(),F=T.shift(),oe=T.shift(),_e=T.shift(),xe=T.shift(),he=d,ge=g,d+=T.shift(),g+=T.shift(),O="A",M=this.convertEndpointToCenterParameterization(he,ge,d,g,_e,xe,Y,F,oe);break}l.push({command:O||C,points:M,start:{x:j,y:z},pathLength:this.calcLength(j,z,O||C,M)})}(C==="z"||C==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,i){let l,u,d,g;const m=Hr;switch(a){case"L":return m.getLineLength(e,n,i[0],i[1]);case"C":return i5([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return s5([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":l=0;const v=i[4],_=i[5],S=i[4]+_;let C=Math.PI/180;if(Math.abs(v-S)<C&&(C=Math.abs(v-S)),u=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),_<0)for(g=v-C;g>S;g-=C)d=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=m.getLineLength(u.x,u.y,d.x,d.y),u=d;else for(g=v+C;g<S;g+=C)d=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=m.getLineLength(u.x,u.y,d.x,d.y),u=d;return d=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],S,0),l+=m.getLineLength(u.x,u.y,d.x,d.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,i,l,u,d,g,m){const v=m*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-i)/2,S=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-i)/2,C=_*_/(d*d)+S*S/(g*g);C>1&&(d*=Math.sqrt(C),g*=Math.sqrt(C));let T=Math.sqrt((d*d*(g*g)-d*d*(S*S)-g*g*(_*_))/(d*d*(S*S)+g*g*(_*_)));l===u&&(T*=-1),isNaN(T)&&(T=0);const R=T*d*S/g,O=T*-g*_/d,M=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,j=(n+i)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(_e){return Math.sqrt(_e[0]*_e[0]+_e[1]*_e[1])},P=function(_e,xe){return(_e[0]*xe[0]+_e[1]*xe[1])/(z(_e)*z(xe))},H=function(_e,xe){return(_e[0]*xe[1]<_e[1]*xe[0]?-1:1)*Math.acos(P(_e,xe))},k=H([1,0],[(_-R)/d,(S-O)/g]),Y=[(_-R)/d,(S-O)/g],F=[(-1*_-R)/d,(-1*S-O)/g];let oe=H(Y,F);return P(Y,F)<=-1&&(oe=Math.PI),P(Y,F)>=1&&(oe=0),u===0&&oe>0&&(oe=oe-2*Math.PI),u===1&&oe<0&&(oe=oe+2*Math.PI),[M,j,d,g,k,oe,v,u]}};zi.prototype.className="Path";zi.prototype._attrsAffectingSize=["data"];Zn(zi);q.addGetterSetter(zi,"data");let qc=class extends lo{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const l=this.tension()!==0&&a.length>4;l&&(i=this.getTensionPoints());const u=this.pointerLength(),d=a.length;let g,m;if(l){const S=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[d-2],a[d-1]],C=zi.calcLength(i[i.length-4],i[i.length-3],"C",S),T=zi.getPointOnQuadraticBezier(Math.min(1,1-u/C),S[0],S[1],S[2],S[3],S[4],S[5]);g=a[d-2]-T.x,m=a[d-1]-T.y}else g=a[d-2]-a[d-4],m=a[d-1]-a[d-3];const v=(Math.atan2(m,g)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[d-2],a[d-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(g=(i[0]+i[2])/2-a[0],m=(i[1]+i[3])/2-a[1]):(g=a[2]-a[0],m=a[3]-a[1]),e.rotate((Math.atan2(-m,-g)+n)%n),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};qc.prototype.className="Arrow";Zn(qc);q.addGetterSetter(qc,"pointerLength",10,He());q.addGetterSetter(qc,"pointerWidth",10,He());q.addGetterSetter(qc,"pointerAtBeginning",!1);q.addGetterSetter(qc,"pointerAtEnding",!0);let Hd=class extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Hd.prototype._centroid=!0;Hd.prototype.className="Circle";Hd.prototype._attrsAffectingSize=["radius"];Zn(Hd);q.addGetterSetter(Hd,"radius",0,He());class _u extends ze{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}_u.prototype.className="Ellipse";_u.prototype._centroid=!0;_u.prototype._attrsAffectingSize=["radiusX","radiusY"];Zn(_u);q.addComponentsGetterSetter(_u,"radius",["x","y"]);q.addGetterSetter(_u,"radiusX",0,He());q.addGetterSetter(_u,"radiusY",0,He());class Pi extends ze{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),l=this.attrs.image;let u;if(l){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;d&&g?u=[l,this.cropX(),this.cropY(),d,g,0,0,n,a]:u=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?ne.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(i&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?ne.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const i=ne.createImageElement();i.onload=function(){const l=new Pi({image:i});n(l)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}}Pi.prototype.className="Image";Zn(Pi);q.addGetterSetter(Pi,"cornerRadius",0,Rv(4));q.addGetterSetter(Pi,"image");q.addComponentsGetterSetter(Pi,"crop",["x","y","width","height"]);q.addGetterSetter(Pi,"cropX",0,He());q.addGetterSetter(Pi,"cropY",0,He());q.addGetterSetter(Pi,"cropWidth",0,He());q.addGetterSetter(Pi,"cropHeight",0,He());const WS=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],RD="Change.konva",OD="none",e2="up",t2="right",n2="down",a2="left",ND=WS.length;let X2=class extends kd{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<ND;a++)e.on(WS[a]+RD,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,l,u,d,g,m;if(e&&n){switch(a=e.width(),i=e.height(),l=n.pointerDirection(),u=n.pointerWidth(),m=n.pointerHeight(),d=0,g=0,l){case e2:d=a/2,g=-1*m;break;case t2:d=a+u,g=i/2;break;case n2:d=a/2,g=i+m;break;case a2:d=-1*u,g=i/2;break}n.setAttrs({x:-1*d,y:-1*g,width:a,height:i}),e.setAttrs({x:-1*d,y:-1*g})}}};X2.prototype.className="Label";Zn(X2);class Vc extends ze{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),d=this.cornerRadius();let g=0,m=0,v=0,_=0;typeof d=="number"?g=m=v=_=Math.min(d,n/2,a/2):(g=Math.min(d[0]||0,n/2,a/2),m=Math.min(d[1]||0,n/2,a/2),_=Math.min(d[2]||0,n/2,a/2),v=Math.min(d[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(g,0),i===e2&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+l)/2,0)),e.lineTo(n-m,0),e.arc(n-m,m,m,Math.PI*3/2,0,!1),i===t2&&(e.lineTo(n,(a-u)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),i===n2&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),i===a2&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),d=this.height();return l===e2?(n-=i,d+=i):l===n2?d+=i:l===a2?(e-=a*1.5,u+=a):l===t2&&(u+=a*1.5),{x:e,y:n,width:u,height:d}}}Vc.prototype.className="Tag";Zn(Vc);q.addGetterSetter(Vc,"pointerDirection",OD);q.addGetterSetter(Vc,"pointerWidth",0,He());q.addGetterSetter(Vc,"pointerHeight",0,He());q.addGetterSetter(Vc,"cornerRadius",0,Rv(4));let rg=class extends ze{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?ne.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};rg.prototype.className="Rect";Zn(rg);q.addGetterSetter(rg,"cornerRadius",0,Rv(4));class Su extends ze{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)ne.drawRoundedPolygonPath(e,n,i,a,l);else{e.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)e.lineTo(n[u].x,n[u].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,l=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y)}),{x:n,y:i,width:a-n,height:l-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Su.prototype.className="RegularPolygon";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["radius"];Zn(Su);q.addGetterSetter(Su,"radius",0,He());q.addGetterSetter(Su,"sides",0,He());q.addGetterSetter(Su,"cornerRadius",0,Rv(4));const o5=Math.PI*2;class Yc extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,o5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),o5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Yc.prototype.className="Ring";Yc.prototype._centroid=!0;Yc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Zn(Yc);q.addGetterSetter(Yc,"innerRadius",0,He());q.addGetterSetter(Yc,"outerRadius",0,He());class hl extends ze{constructor(e){super(e),this._updated=!0,this.anim=new ji(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),d=l[i+0],g=l[i+1],m=l[i+2],v=l[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,m,v),e.closePath(),e.fillStrokeShape(this)),_)if(u){const S=u[n],C=a*2;e.drawImage(_,d,g,m,v,S[C+0],S[C+1],m,v)}else e.drawImage(_,d,g,m,v,0,0,m,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),d=l[i+2],g=l[i+3];if(e.beginPath(),u){const m=u[n],v=a*2;e.rect(m[v+0],m[v+1],d,g)}else e.rect(0,0,d,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],l=i.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}hl.prototype.className="Sprite";Zn(hl);q.addGetterSetter(hl,"animation");q.addGetterSetter(hl,"animations");q.addGetterSetter(hl,"frameOffsets");q.addGetterSetter(hl,"image");q.addGetterSetter(hl,"frameIndex",0,He());q.addGetterSetter(hl,"frameRate",17,He());q.backCompat(hl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class xu extends ze{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<i*2;l++){const u=l%2===0?a:n,d=u*Math.sin(l*Math.PI/i),g=-1*u*Math.cos(l*Math.PI/i);e.lineTo(d,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}xu.prototype.className="Star";xu.prototype._centroid=!0;xu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Zn(xu);q.addGetterSetter(xu,"numPoints",5,He());q.addGetterSetter(xu,"innerRadius",0,He());q.addGetterSetter(xu,"outerRadius",0,He());function su(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=i[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const md="auto",MD="center",JS="inherit",vd="justify",DD="Change.konva",jD="2d",u5="-",ex="left",zD="text",UD="Text",kD="top",LD="bottom",c5="middle",tx="normal",PD="px ",im=" ",BD="right",f5="rtl",HD="word",GD="char",d5="none",J1="",nx=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],qD=nx.length;function VD(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let sm;function ey(){return sm||(sm=ne.createCanvasElement().getContext(jD),sm)}function YD(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function ZD(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ID(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Pn=class extends ze{constructor(e){super(ID(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<qD;n++)this.on(nx[n]+DD,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,l=i.length;if(!this.text())return;let u=this.padding(),d=this.fontSize(),g=this.lineHeight()*d,m=this.verticalAlign(),v=this.direction(),_=0,S=this.align(),C=this.getWidth(),T=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),M=this.textDecoration(),j=M.indexOf("underline")!==-1,z=M.indexOf("line-through")!==-1,P;v=v===JS?e.direction:v;let H=g/2,k=c5;if(!Ve.legacyTextRendering){const Y=this.measureSize("M");k="alphabetic";const F=(n=Y.fontBoundingBoxAscent)!==null&&n!==void 0?n:Y.actualBoundingBoxAscent,oe=(a=Y.fontBoundingBoxDescent)!==null&&a!==void 0?a:Y.actualBoundingBoxDescent;H=(F-oe)/2+g/2}for(v===f5&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",k),e.setAttr("textAlign",ex),m===c5?_=(this.getHeight()-l*g-u*2)/2:m===LD&&(_=this.getHeight()-l*g-u*2),e.translate(u,_+u),P=0;P<l;P++){let Y=0,F=0;const oe=i[P],_e=oe.text,xe=oe.width,he=oe.lastInParagraph;if(e.save(),S===BD?Y+=C-xe-u*2:S===MD&&(Y+=(C-xe-u*2)/2),j){e.save(),e.beginPath();const ge=Ve.legacyTextRendering?Math.round(d/2):Math.round(d/4),ye=Y,Se=H+F+ge;e.moveTo(ye,Se);const B=S===vd&&!he?C-u*2:xe;e.lineTo(ye+Math.round(B),Se),e.lineWidth=d/15;const ue=this._getLinearGradient();e.strokeStyle=ue||O,e.stroke(),e.restore()}if(v!==f5&&(T!==0||S===vd||R)){const ge=_e.split(" ").length-1,ye=su(_e);for(let Se=0;Se<ye.length;Se++){const B=ye[Se];if(B===" "&&!he&&S===vd&&(Y+=(C-u*2-xe)/ge),this._partialTextX=Y,this._partialTextY=H+F,this._partialText=B,R){e.save();const $=i.slice(0,P).reduce((G,ae)=>G+su(ae.text).length,0),me=Se+$;R({char:B,index:me,x:Y,y:H+F,lineIndex:P,column:Se,isLastInLine:he,width:this.measureSize(B).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),Y+=this.measureSize(B).width+T}}else T!==0&&e.setAttr("letterSpacing",`${T}px`),this._partialTextX=Y,this._partialTextY=H+F,this._partialText=_e,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const ge=Ve.legacyTextRendering?0:-Math.round(d/4),ye=S===vd?0:Y;e.moveTo(ye,H+F+ge);const Se=S===vd&&!he?C-u*2:xe;e.lineTo(ye+Math.round(Se),H+F+ge),e.lineWidth=d/15;const B=this._getLinearGradient();e.strokeStyle=B||O,e.stroke(),e.restore()}e.restore(),l>1&&(H+=g)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=ne._isString(e)?e:e==null?"":e+"";return this._setAttr(zD,n),this}getWidth(){return this.attrs.width===md||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===md||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,l,u,d,g,m,v,_,S;let C=ey(),T=this.fontSize(),R;C.save(),C.font=this._getContextFont(),R=C.measureText(e),C.restore();const O=T/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(u=R.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(d=R.emHeightAscent)!==null&&d!==void 0?d:100*O,emHeightDescent:(g=R.emHeightDescent)!==null&&g!==void 0?g:-20*O,fontBoundingBoxAscent:(m=R.fontBoundingBoxAscent)!==null&&m!==void 0?m:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:T}}_getContextFont(){return this.fontStyle()+im+this.fontVariant()+im+(this.fontSize()+PD)+VD(this.fontFamily())}_addTextLine(e){this.align()===vd&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return ey().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,l=this.attrs.width,u=this.attrs.height,d=l!==md&&l!==void 0,g=u!==md&&u!==void 0,m=this.padding(),v=l-m*2,_=u-m*2,S=0,C=this.wrap(),T=C!==d5,R=C!==GD&&T,O=this.ellipsis();this.textArr=[],ey().font=this._getContextFont();const M=O?this._getTextWidth(J1):0;for(let j=0,z=e.length;j<z;++j){let P=e[j],H=this._getTextWidth(P);if(d&&H>v)for(;P.length>0;){let k=0,Y=su(P).length,F="",oe=0;for(;k<Y;){const _e=k+Y>>>1,xe=su(P),he=xe.slice(0,_e+1).join(""),ge=this._getTextWidth(he);(O&&g&&S+i>_?ge+M:ge)<=v?(k=_e+1,F=he,oe=ge):Y=_e}if(F){if(R){const he=su(P),ge=su(F),ye=he[ge.length],Se=ye===im||ye===u5;let B;if(Se&&oe<=v)B=ge.length;else{const ue=ge.lastIndexOf(im),$=ge.lastIndexOf(u5);B=Math.max(ue,$)+1}B>0&&(k=B,F=he.slice(0,k).join(""),oe=this._getTextWidth(F))}if(F=F.trimRight(),this._addTextLine(F),a=Math.max(a,oe),S+=i,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(P=su(P).slice(k).join("").trimLeft(),P.length>0&&(H=this._getTextWidth(P),H<=v)){this._addTextLine(P),S+=i,a=Math.max(a,H);break}}else break}else this._addTextLine(P),S+=i,a=Math.max(a,H),this._shouldHandleEllipsis(S)&&j<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&S+i>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,l=i!==md&&i!==void 0,u=this.padding(),d=i-u*2;return!(this.wrap()!==d5)||l&&e+a>d}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==md&&e!==void 0,a=this.padding(),i=e-a*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!l||(n&&(this._getTextWidth(u.text+J1)<i||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+J1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Pn.prototype._fillFunc=YD;Pn.prototype._strokeFunc=ZD;Pn.prototype.className=UD;Pn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Zn(Pn);q.overWriteSetter(Pn,"width",Y2());q.overWriteSetter(Pn,"height",Y2());q.addGetterSetter(Pn,"direction",JS);q.addGetterSetter(Pn,"fontFamily","Arial");q.addGetterSetter(Pn,"fontSize",12,He());q.addGetterSetter(Pn,"fontStyle",tx);q.addGetterSetter(Pn,"fontVariant",tx);q.addGetterSetter(Pn,"padding",0,He());q.addGetterSetter(Pn,"align",ex);q.addGetterSetter(Pn,"verticalAlign",kD);q.addGetterSetter(Pn,"lineHeight",1,He());q.addGetterSetter(Pn,"wrap",HD);q.addGetterSetter(Pn,"ellipsis",!1,bs());q.addGetterSetter(Pn,"letterSpacing",0,He());q.addGetterSetter(Pn,"text","",Hc());q.addGetterSetter(Pn,"textDecoration","");q.addGetterSetter(Pn,"charRenderFunc",void 0);const XD="",ax="normal";function rx(t){t.fillText(this.partialText,0,0)}function ix(t){t.strokeText(this.partialText,0,0)}class Ea extends ze{constructor(e){super(e),this.dummyCanvas=ne.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return zi.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:zi.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=zi.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let u=0;u<l.length;u++){e.save();const d=l[u].p0;e.translate(d.x,d.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Pn.prototype.setText.call(this,e)}_getContextFont(){return Pn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=su(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),u=this.align(),d=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let m=0;u==="center"&&(m=Math.max(0,this.pathLength/2-g/2)),u==="right"&&(m=Math.max(0,this.pathLength-g));let v=m;for(let _=0;_<n.length;_++){const S=this._getPointAtLength(v);if(!S)return;const C=n[_].char;let T=n[_].width+l;if(C===" "&&u==="justify"){const P=this.text().split(" ").length-1;T+=(this.pathLength-g)/P}const R=this._getPointAtLength(v+T);if(!R)return;const O=zi.getLineLength(S.x,S.y,R.x,R.y);let M=0;if(d)try{M=d(n[_-1].char,C)*this.fontSize()}catch{M=0}S.x+=M,R.x+=M,this.textWidth+=M;const j=zi.getPointOnLine(M+O/2,S.x,S.y,R.x,R.y),z=Math.atan2(R.y-S.y,R.x-S.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:e[_],rotation:z,p0:S,p1:R}),v+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(m){e.push(m.p0.x),e.push(m.p0.y),e.push(m.p1.x),e.push(m.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,l=e[1]||0,u,d;for(let m=0;m<e.length/2;m++)u=e[m*2],d=e[m*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,d),l=Math.max(l,d);const g=this.fontSize();return{x:n-g/2,y:i-g/2,width:a-n+g,height:l-i+g}}destroy(){return ne.releaseCanvas(this.dummyCanvas),super.destroy()}}Ea.prototype._fillFunc=rx;Ea.prototype._strokeFunc=ix;Ea.prototype._fillFuncHit=rx;Ea.prototype._strokeFuncHit=ix;Ea.prototype.className="TextPath";Ea.prototype._attrsAffectingSize=["text","fontSize","data"];Zn(Ea);q.addGetterSetter(Ea,"data");q.addGetterSetter(Ea,"fontFamily","Arial");q.addGetterSetter(Ea,"fontSize",12,He());q.addGetterSetter(Ea,"fontStyle",ax);q.addGetterSetter(Ea,"align","left");q.addGetterSetter(Ea,"letterSpacing",0,He());q.addGetterSetter(Ea,"textBaseline","middle");q.addGetterSetter(Ea,"fontVariant",ax);q.addGetterSetter(Ea,"text",XD);q.addGetterSetter(Ea,"textDecoration","");q.addGetterSetter(Ea,"kerningFunc",void 0);const sx="tr-konva",KD=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${sx}`).join(" "),h5="nodesRect",FD=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],QD={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},$D="ontouchstart"in Ve._global;function WD(t,e,n){if(t==="rotater")return n;e+=ne.degToRad(QD[t]||0);const a=(ne.radToDeg(e)%360+360)%360;return ne._inRange(a,315+22.5,360)||ne._inRange(a,0,22.5)?"ns-resize":ne._inRange(a,45-22.5,45+22.5)?"nesw-resize":ne._inRange(a,90-22.5,90+22.5)?"ew-resize":ne._inRange(a,135-22.5,135+22.5)?"nwse-resize":ne._inRange(a,180-22.5,180+22.5)?"ns-resize":ne._inRange(a,225-22.5,225+22.5)?"nesw-resize":ne._inRange(a,270-22.5,270+22.5)?"ew-resize":ne._inRange(a,315-22.5,315+22.5)?"nwse-resize":(ne.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const Jm=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function JD(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function lx(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function ej(t,e){const n=JD(t);return lx(t,e,n)}function tj(t,e,n){let a=e;for(let i=0;i<t.length;i++){const l=Ve.getAngle(t[i]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=l)}return a}let r2=0,Qt=class extends kd{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(KD,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ne.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return sx+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(ne.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const u=i._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");i.on(u,l)}i.on(FD.map(u=>u+`.${this._getEventNamespace()}`).join(" "),l),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),l=i.x-n.x,u=i.y-n.y;this.nodes().forEach(d=>{if(d===e||d.isDragging())return;const g=d.getAbsolutePosition();d.setAbsolutePosition({x:g.x+l,y:g.y+u}),d.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h5,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),d=i.x*l.x-e.offsetX()*l.x,g=i.y*l.y-e.offsetY()*l.y,m=(Ve.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+d*Math.cos(m)+g*Math.sin(-m),y:u.y+g*Math.cos(m)+d*Math.sin(m),width:i.width*l.x,height:i.height*l.y,rotation:m};return lx(v,-Ve.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(m=>{const v=m.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],S=m.getAbsoluteTransform();_.forEach(function(C){const T=S.point(C);n.push(T)})});const a=new si;a.rotate(-Ve.getAngle(this.rotation()));let i=1/0,l=1/0,u=-1/0,d=-1/0;n.forEach(function(m){const v=a.point(m);i===void 0&&(i=u=v.x,l=d=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),d=Math.max(d,v.y)}),a.invert();const g=a.point({x:i,y:l});return{x:g.x,y:g.y,width:u-i,height:d-l,rotation:Ve.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Jm.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new rg({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:$D?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Ve.getAngle(this.rotation()),l=this.rotateAnchorCursor(),u=WD(e,i,l);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new ze({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),l=i.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*ne._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=e.target.getAbsolutePosition(),d=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-u.x,y:d.y-u.y},r2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){let n,a,i;const l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const d=u.getPointerPosition();let g={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const m=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(m,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(m.x===v.x&&m.y===v.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=l.x()-j.width/2,a=-l.y()+j.height/2;let z=Math.atan2(-a,n)+Math.PI/2;j.height<0&&(z-=Math.PI);const H=Ve.getAngle(this.rotation())+z,k=Ve.getAngle(this.rotationSnapTolerance()),F=tj(this.rotationSnaps(),H,k)-j.rotation,oe=ej(j,F);this._fitNodesInto(oe,e);return}const _=this.shiftBehavior();let S;_==="inverted"?S=this.keepRatio()&&!e.shiftKey:_==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let C=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-left").x()>j.x?-1:1,P=this.findOne(".top-left").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-right").x()<j.x?-1:1,P=this.findOne(".top-right").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-a)}var T=l.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(l.y()-j.y,2));const z=j.x<l.x()?-1:1,P=l.y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,l.x(j.x-n),l.y(j.y+a)}T=l.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(S){const j=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(l.y()-j.y,2));const z=this.findOne(".bottom-right").x()<j.x?-1:1,P=this.findOne(".bottom-right").y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(C=this.centeredScaling()||e.altKey,C){const j=this.findOne(".top-left"),z=this.findOne(".bottom-right"),P=j.x(),H=j.y(),k=this.getWidth()-z.x(),Y=this.getHeight()-z.y();z.move({x:-P,y:-H}),j.move({x:k,y:Y})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:M,rotation:Ve.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();r2--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var l;i._fire("transformend",{evt:e,target:i}),(l=i.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if(ne._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(ne._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const l=new si;if(l.rotate(Ve.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=l.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=l.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:ne.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,d=new si;d.translate(a.x,a.y),d.rotate(a.rotation),d.scale(a.width/u,a.height/u);const g=new si,m=e.width/u,v=e.height/u;this.flipEnabled()===!1?(g.translate(e.x,e.y),g.rotate(e.rotation),g.translate(e.width<0?e.width:0,e.height<0?e.height:0),g.scale(Math.abs(m),Math.abs(v))):(g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(m,v));const _=g.multiply(d.invert());this._nodes.forEach(S=>{var C;if(!S.getStage())return;const T=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new si;O.multiply(T.copy().invert()).multiply(_).multiply(T).multiply(R);const M=O.decompose();S.setAttrs(M),(C=S.getLayer())===null||C===void 0||C.batchDraw()}),this.rotation(ne._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(ne._getRotation(n.rotation));const a=n.width,i=n.height,l=this.enabledAnchors(),u=this.resizeEnabled(),d=this.padding(),g=this.anchorSize(),m=this.find("._anchor");m.forEach(_=>{_.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+d,offsetY:g/2+d,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:g/2+d,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:g/2-d,offsetY:g/2+d,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:g/2+d,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:g/2-d,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:g/2+d,offsetY:g/2-d,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:g/2-d,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:g/2-d,offsetY:g/2-d,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*ne._sign(i)-d,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&m.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),kd.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return qe.prototype.toObject.call(this)}clone(e){return qe.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Qt.isTransforming=()=>r2>0;function nj(t){return t instanceof Array||ne.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Jm.indexOf(e)===-1&&ne.warn("Unknown anchor name: "+e+". Available names are: "+Jm.join(", "))}),t||[]}Qt.prototype.className="Transformer";Zn(Qt);q.addGetterSetter(Qt,"enabledAnchors",Jm,nj);q.addGetterSetter(Qt,"flipEnabled",!0,bs());q.addGetterSetter(Qt,"resizeEnabled",!0);q.addGetterSetter(Qt,"anchorSize",10,He());q.addGetterSetter(Qt,"rotateEnabled",!0);q.addGetterSetter(Qt,"rotateLineVisible",!0);q.addGetterSetter(Qt,"rotationSnaps",[]);q.addGetterSetter(Qt,"rotateAnchorOffset",50,He());q.addGetterSetter(Qt,"rotateAnchorCursor","crosshair");q.addGetterSetter(Qt,"rotationSnapTolerance",5,He());q.addGetterSetter(Qt,"borderEnabled",!0);q.addGetterSetter(Qt,"anchorStroke","rgb(0, 161, 255)");q.addGetterSetter(Qt,"anchorStrokeWidth",1,He());q.addGetterSetter(Qt,"anchorFill","white");q.addGetterSetter(Qt,"anchorCornerRadius",0,He());q.addGetterSetter(Qt,"borderStroke","rgb(0, 161, 255)");q.addGetterSetter(Qt,"borderStrokeWidth",1,He());q.addGetterSetter(Qt,"borderDash");q.addGetterSetter(Qt,"keepRatio",!0);q.addGetterSetter(Qt,"shiftBehavior","default");q.addGetterSetter(Qt,"centeredScaling",!1);q.addGetterSetter(Qt,"ignoreStroke",!1);q.addGetterSetter(Qt,"padding",0,He());q.addGetterSetter(Qt,"nodes");q.addGetterSetter(Qt,"node");q.addGetterSetter(Qt,"boundBoxFunc");q.addGetterSetter(Qt,"anchorDragBoundFunc");q.addGetterSetter(Qt,"anchorStyleFunc");q.addGetterSetter(Qt,"shouldOverdrawWholeArea",!1);q.addGetterSetter(Qt,"useSingleNodeRotation",!0);q.backCompat(Qt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class oo extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Ve.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}oo.prototype.className="Wedge";oo.prototype._centroid=!0;oo.prototype._attrsAffectingSize=["radius"];Zn(oo);q.addGetterSetter(oo,"radius",0,He());q.addGetterSetter(oo,"angle",0,He());q.addGetterSetter(oo,"clockwise",!1);q.backCompat(oo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function g5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const aj=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],rj=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function ij(t,e){const n=t.data,a=t.width,i=t.height;let l,u,d,g,m,v,_,S,C,T,R,O,M,j,z,P,H,k,Y,F;const oe=e+e+1,_e=a-1,xe=i-1,he=e+1,ge=he*(he+1)/2,ye=new g5,Se=aj[e],B=rj[e];let ue=null,$=ye,me=null,G=null;for(let ae=1;ae<oe;ae++)$=$.next=new g5,ae===he&&(ue=$);$.next=ye,d=u=0;for(let ae=0;ae<i;ae++){O=M=j=z=g=m=v=_=0,S=he*(P=n[u]),C=he*(H=n[u+1]),T=he*(k=n[u+2]),R=he*(Y=n[u+3]),g+=ge*P,m+=ge*H,v+=ge*k,_+=ge*Y,$=ye;for(let Ee=0;Ee<he;Ee++)$.r=P,$.g=H,$.b=k,$.a=Y,$=$.next;for(let Ee=1;Ee<he;Ee++)l=u+((_e<Ee?_e:Ee)<<2),g+=($.r=P=n[l])*(F=he-Ee),m+=($.g=H=n[l+1])*F,v+=($.b=k=n[l+2])*F,_+=($.a=Y=n[l+3])*F,O+=P,M+=H,j+=k,z+=Y,$=$.next;me=ye,G=ue;for(let Ee=0;Ee<a;Ee++)n[u+3]=Y=_*Se>>B,Y!==0?(Y=255/Y,n[u]=(g*Se>>B)*Y,n[u+1]=(m*Se>>B)*Y,n[u+2]=(v*Se>>B)*Y):n[u]=n[u+1]=n[u+2]=0,g-=S,m-=C,v-=T,_-=R,S-=me.r,C-=me.g,T-=me.b,R-=me.a,l=d+((l=Ee+e+1)<_e?l:_e)<<2,O+=me.r=n[l],M+=me.g=n[l+1],j+=me.b=n[l+2],z+=me.a=n[l+3],g+=O,m+=M,v+=j,_+=z,me=me.next,S+=P=G.r,C+=H=G.g,T+=k=G.b,R+=Y=G.a,O-=P,M-=H,j-=k,z-=Y,G=G.next,u+=4;d+=a}for(let ae=0;ae<a;ae++){M=j=z=O=m=v=_=g=0,u=ae<<2,S=he*(P=n[u]),C=he*(H=n[u+1]),T=he*(k=n[u+2]),R=he*(Y=n[u+3]),g+=ge*P,m+=ge*H,v+=ge*k,_+=ge*Y,$=ye;for(let Q=0;Q<he;Q++)$.r=P,$.g=H,$.b=k,$.a=Y,$=$.next;let Ee=a;for(let Q=1;Q<=e;Q++)u=Ee+ae<<2,g+=($.r=P=n[u])*(F=he-Q),m+=($.g=H=n[u+1])*F,v+=($.b=k=n[u+2])*F,_+=($.a=Y=n[u+3])*F,O+=P,M+=H,j+=k,z+=Y,$=$.next,Q<xe&&(Ee+=a);u=ae,me=ye,G=ue;for(let Q=0;Q<i;Q++)l=u<<2,n[l+3]=Y=_*Se>>B,Y>0?(Y=255/Y,n[l]=(g*Se>>B)*Y,n[l+1]=(m*Se>>B)*Y,n[l+2]=(v*Se>>B)*Y):n[l]=n[l+1]=n[l+2]=0,g-=S,m-=C,v-=T,_-=R,S-=me.r,C-=me.g,T-=me.b,R-=me.a,l=ae+((l=Q+he)<xe?l:xe)*a<<2,g+=O+=me.r=n[l],m+=M+=me.g=n[l+1],v+=j+=me.b=n[l+2],_+=z+=me.a=n[l+3],me=me.next,S+=P=G.r,C+=H=G.g,T+=k=G.b,R+=Y=G.a,O-=P,M-=H,j-=k,z-=Y,G=G.next,u+=a}}const sj=function(e){const n=Math.round(this.blurRadius());n>0&&ij(e,n)};q.addGetterSetter(qe,"blurRadius",0,He(),q.afterSetFilter);const lj=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};q.addGetterSetter(qe,"brightness",0,He(),q.afterSetFilter);const oj=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},uj=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,l=150,u=150;for(let d=0;d<a;d+=4)i=n[d],l=n[d+1],u=n[d+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,n[d]=i,n[d+1]=l,n[d+2]=u};q.addGetterSetter(qe,"contrast",0,He(),q.afterSetFilter);const cj=function(t){var e,n,a,i,l,u,d,g,m;const v=t.data,_=t.width,S=t.height,C=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),T=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),O=(d={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&d!==void 0?d:315,M=!!((m=(g=this.embossBlend)===null||g===void 0?void 0:g.call(this))!==null&&m!==void 0&&m),j=C*10,z=T*255,P=O*Math.PI/180,H=Math.cos(P),k=Math.sin(P),Y=128/1020*j,F=new Uint8ClampedArray(v),oe=new Float32Array(_*S);for(let ye=0,Se=0;Se<v.length;Se+=4,ye++)oe[ye]=.2126*F[Se]+.7152*F[Se+1]+.0722*F[Se+2];const _e=[-1,0,1,-2,0,2,-1,0,1],xe=[-1,-2,-1,0,0,0,1,2,1],he=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],ge=ye=>ye<0?0:ye>255?255:ye;for(let ye=1;ye<S-1;ye++)for(let Se=1;Se<_-1;Se++){const B=ye*_+Se;let ue=0,$=0;ue+=oe[B+he[0]]*_e[0],$+=oe[B+he[0]]*xe[0],ue+=oe[B+he[1]]*_e[1],$+=oe[B+he[1]]*xe[1],ue+=oe[B+he[2]]*_e[2],$+=oe[B+he[2]]*xe[2],ue+=oe[B+he[3]]*_e[3],$+=oe[B+he[3]]*xe[3],ue+=oe[B+he[5]]*_e[5],$+=oe[B+he[5]]*xe[5],ue+=oe[B+he[6]]*_e[6],$+=oe[B+he[6]]*xe[6],ue+=oe[B+he[7]]*_e[7],$+=oe[B+he[7]]*xe[7],ue+=oe[B+he[8]]*_e[8],$+=oe[B+he[8]]*xe[8];const me=H*ue+k*$,G=ge(z+me*Y),ae=B*4;if(M){const Ee=G-z;v[ae]=ge(F[ae]+Ee),v[ae+1]=ge(F[ae+1]+Ee),v[ae+2]=ge(F[ae+2]+Ee),v[ae+3]=F[ae+3]}else v[ae]=v[ae+1]=v[ae+2]=G,v[ae+3]=F[ae+3]}for(let ye=0;ye<_;ye++){let Se=ye*4,B=((S-1)*_+ye)*4;v[Se]=F[Se],v[Se+1]=F[Se+1],v[Se+2]=F[Se+2],v[Se+3]=F[Se+3],v[B]=F[B],v[B+1]=F[B+1],v[B+2]=F[B+2],v[B+3]=F[B+3]}for(let ye=1;ye<S-1;ye++){let Se=ye*_*4,B=(ye*_+(_-1))*4;v[Se]=F[Se],v[Se+1]=F[Se+1],v[Se+2]=F[Se+2],v[Se+3]=F[Se+3],v[B]=F[B],v[B+1]=F[B+1],v[B+2]=F[B+2],v[B+3]=F[B+3]}return t};q.addGetterSetter(qe,"embossStrength",.5,He(),q.afterSetFilter);q.addGetterSetter(qe,"embossWhiteLevel",.5,He(),q.afterSetFilter);q.addGetterSetter(qe,"embossDirection","top-left",void 0,q.afterSetFilter);q.addGetterSetter(qe,"embossBlend",!1,void 0,q.afterSetFilter);function ty(t,e,n,a,i){const l=n-e,u=i-a;if(l===0)return a+u/2;if(u===0)return a;let d=(t-e)/l;return d=u*d+a,d}const fj=function(t){const e=t.data,n=e.length;let a=e[0],i=a,l,u=e[1],d=u,g,m=e[2],v=m,_;const S=this.enhance();if(S===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>i&&(i=l),g=e[z+1],g<u?u=g:g>d&&(d=g),_=e[z+2],_<m?m=_:_>v&&(v=_);i===a&&(i=255,a=0),d===u&&(d=255,u=0),v===m&&(v=255,m=0);let C,T,R,O,M,j;if(S>0)C=i+S*(255-i),T=a-S*(a-0),R=d+S*(255-d),O=u-S*(u-0),M=v+S*(255-v),j=m-S*(m-0);else{const z=(i+a)*.5;C=i+S*(i-z),T=a+S*(a-z);const P=(d+u)*.5;R=d+S*(d-P),O=u+S*(u-P);const H=(v+m)*.5;M=v+S*(v-H),j=m+S*(m-H)}for(let z=0;z<n;z+=4)e[z+0]=ty(e[z+0],a,i,T,C),e[z+1]=ty(e[z+1],u,d,O,R),e[z+2]=ty(e[z+2],m,v,j,M)};q.addGetterSetter(qe,"enhance",0,He(),q.afterSetFilter);const dj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};q.addGetterSetter(qe,"hue",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"saturation",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"luminance",0,He(),q.afterSetFilter);const hj=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,d=a*i*Math.cos(l*Math.PI/180),g=a*i*Math.sin(l*Math.PI/180),m=.299*a+.701*d+.167*g,v=.587*a-.587*d+.33*g,_=.114*a-.114*d-.497*g,S=.299*a-.299*d-.328*g,C=.587*a+.413*d+.035*g,T=.114*a-.114*d+.293*g,R=.299*a-.3*d+1.25*g,O=.587*a-.586*d-1.05*g,M=.114*a+.886*d-.2*g;let j,z,P,H;for(let k=0;k<n;k+=4)j=e[k+0],z=e[k+1],P=e[k+2],H=e[k+3],e[k+0]=m*j+v*z+_*P+u,e[k+1]=S*j+C*z+T*P+u,e[k+2]=R*j+O*z+M*P+u,e[k+3]=H},gj=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=a*i*Math.cos(l*Math.PI/180),d=a*i*Math.sin(l*Math.PI/180),g=.299*a+.701*u+.167*d,m=.587*a-.587*u+.33*d,v=.114*a-.114*u-.497*d,_=.299*a-.299*u-.328*d,S=.587*a+.413*u+.035*d,C=.114*a-.114*u+.293*d,T=.299*a-.3*u+1.25*d,R=.587*a-.586*u-1.05*d,O=.114*a+.886*u-.2*d;for(let M=0;M<n;M+=4){const j=e[M+0],z=e[M+1],P=e[M+2],H=e[M+3];e[M+0]=g*j+m*z+v*P,e[M+1]=_*j+S*z+C*P,e[M+2]=T*j+R*z+O*P,e[M+3]=H}};q.addGetterSetter(qe,"hue",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"saturation",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"value",0,He(),q.afterSetFilter);const pj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},mj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=u-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const C=u,T=l,R=360/T*Math.PI/180;for(let O=0;O<T;O+=1){const M=Math.sin(O*R),j=Math.cos(O*R);for(let z=0;z<C;z+=1){v=Math.floor(d+m*z/C*j),_=Math.floor(g+m*z/C*M);let P=(_*l+v)*4;const H=a[P+0],k=a[P+1],Y=a[P+2],F=a[P+3];P=(O+z*l)*4,i[P+0]=H,i[P+1]=k,i[P+2]=Y,i[P+3]=F}}},vj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=u-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const C=u,T=l,R=0;let O,M;for(v=0;v<l;v+=1)for(_=0;_<u;_+=1){const j=v-d,z=_-g,P=Math.sqrt(j*j+z*z)*C/m;let H=(Math.atan2(z,j)*180/Math.PI+360+R)%360;H=H*T/360,O=Math.floor(H),M=Math.floor(P);let k=(M*l+O)*4;const Y=a[k+0],F=a[k+1],oe=a[k+2],_e=a[k+3];k=(_*l+v)*4,i[k+0]=Y,i[k+1]=F,i[k+2]=oe,i[k+3]=_e}},yj=function(t){const e=t.width,n=t.height;let a,i,l,u,d,g,m,v,_,S,C=Math.round(this.kaleidoscopePower());const T=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(T%360)/360);if(C<1)return;const O=ne.createCanvasElement();O.width=e,O.height=n;const M=O.getContext("2d").getImageData(0,0,e,n);ne.releaseCanvas(O),mj(t,M,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,C);for(;j<=8;)j=j*2,C-=1;j=Math.ceil(j);let z=j,P=0,H=z,k=1;for(R+j>e&&(P=z,H=0,k=-1),i=0;i<n;i+=1)for(a=P;a!==H;a+=k)l=Math.round(a+R)%e,_=(e*i+l)*4,d=M.data[_+0],g=M.data[_+1],m=M.data[_+2],v=M.data[_+3],S=(e*i+a)*4,M.data[S+0]=d,M.data[S+1]=g,M.data[S+2]=m,M.data[S+3]=v;for(i=0;i<n;i+=1)for(z=Math.floor(j),u=0;u<C;u+=1){for(a=0;a<z+1;a+=1)_=(e*i+a)*4,d=M.data[_+0],g=M.data[_+1],m=M.data[_+2],v=M.data[_+3],S=(e*i+z*2-a-1)*4,M.data[S+0]=d,M.data[S+1]=g,M.data[S+2]=m,M.data[S+3]=v;z*=2}vj(M,t,{})};q.addGetterSetter(qe,"kaleidoscopePower",2,He(),q.afterSetFilter);q.addGetterSetter(qe,"kaleidoscopeAngle",0,He(),q.afterSetFilter);function lm(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function _0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function bj(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function _j(t,e){const n=lm(t,0,0),a=lm(t,t.width-1,0),i=lm(t,0,t.height-1),l=lm(t,t.width-1,t.height-1),u=e||10;if(_0(n,a)<u&&_0(a,l)<u&&_0(l,i)<u&&_0(i,n)<u){const d=bj([a,n,l,i]),g=[];for(let m=0;m<t.width*t.height;m++){const v=_0(d,[t.data[m*4],t.data[m*4+1],t.data[m*4+2]]);g[m]=v<u?0:255}return g}}function Sj(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function xj(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=d+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[m]=v===2040?255:0}return u}function wj(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=d+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[m]=v>=1020?255:0}return u}function Ej(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const C=d+_-l,T=g+S-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+S];v+=t[R]*O}}u[m]=v}return u}const Cj=function(t){const e=this.threshold();let n=_j(t,e);return n&&(n=xj(n,t.width,t.height),n=wj(n,t.width,t.height),n=Ej(n,t.width,t.height),Sj(t,n)),t};q.addGetterSetter(qe,"threshold",0,He(),q.afterSetFilter);const Tj=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let l=0;l<a;l+=4)n[l+0]+=i-2*i*Math.random(),n[l+1]+=i-2*i*Math.random(),n[l+2]+=i-2*i*Math.random()};q.addGetterSetter(qe,"noise",.2,He(),q.afterSetFilter);const Aj=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),l=Math.ceil(a/e),u=t.data;if(e<=0){ne.error("pixelSize value can not be <= 0");return}for(let d=0;d<i;d+=1)for(let g=0;g<l;g+=1){let m=0,v=0,_=0,S=0;const C=d*e,T=C+e,R=g*e,O=R+e;let M=0;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const P=(n*z+j)*4;m+=u[P+0],v+=u[P+1],_+=u[P+2],S+=u[P+3],M+=1}m=m/M,v=v/M,_=_/M,S=S/M;for(let j=C;j<T;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const P=(n*z+j)*4;u[P+0]=m,u[P+1]=v,u[P+2]=_,u[P+3]=S}}};q.addGetterSetter(qe,"pixelSize",8,He(),q.afterSetFilter);const Rj=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/i)*i};q.addGetterSetter(qe,"levels",.5,He(),q.afterSetFilter);const Oj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue();for(let u=0;u<n;u+=4){const d=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255;e[u]=d*a,e[u+1]=d*i,e[u+2]=d*l,e[u+3]=e[u+3]}};q.addGetterSetter(qe,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"blue",0,MS,q.afterSetFilter);const Nj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue(),u=this.alpha();for(let d=0;d<n;d+=4){const g=1-u;e[d]=a*u+e[d]*g,e[d+1]=i*u+e[d+1]*g,e[d+2]=l*u+e[d+2]*g}};q.addGetterSetter(qe,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"blue",0,MS,q.afterSetFilter);q.addGetterSetter(qe,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Mj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],l=e[a+1],u=e[a+2];e[a+0]=Math.min(255,i*.393+l*.769+u*.189),e[a+1]=Math.min(255,i*.349+l*.686+u*.168),e[a+2]=Math.min(255,i*.272+l*.534+u*.131)}},Dj=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],l=n[a+1],u=n[a+2];.2126*i+.7152*l+.0722*u>=128&&(n[a]=255-i,n[a+1]=255-l,n[a+2]=255-u)}return t},jj=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};q.addGetterSetter(qe,"threshold",.5,He(),q.afterSetFilter);const i2=Ld.Util._assign(Ld,{Arc:so,Arrow:qc,Circle:Hd,Ellipse:_u,Image:Pi,Label:X2,Tag:Vc,Line:lo,Path:zi,Rect:rg,RegularPolygon:Su,Ring:Yc,Sprite:hl,Star:xu,Text:Pn,TextPath:Ea,Transformer:Qt,Wedge:oo,Filters:{Blur:sj,Brightness:oj,Brighten:lj,Contrast:uj,Emboss:cj,Enhance:fj,Grayscale:dj,HSL:hj,HSV:gj,Invert:pj,Kaleidoscope:yj,Mask:Cj,Noise:Tj,Pixelate:Aj,Posterize:Rj,RGB:Oj,RGBA:Nj,Sepia:Mj,Solarize:Dj,Threshold:jj}});var ny={exports:{}},ay={exports:{}};var p5;function zj(){return p5||(p5=1,(function(t){t.exports=function(e){function n(o,c,p,b){return new Fv(o,c,p,b)}function a(){}function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function u(o){if(l(o)!==o)throw Error(i(188))}function d(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(i(188));return c!==o?null:o}for(var p=o,b=c;;){var w=p.return;if(w===null)break;var A=w.alternate;if(A===null){if(b=w.return,b!==null){p=b;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===p)return u(w),o;if(A===b)return u(w),c;A=A.sibling}throw Error(i(188))}if(p.return!==b.return)p=w,b=A;else{for(var L=!1,Z=w.child;Z;){if(Z===p){L=!0,p=w,b=A;break}if(Z===b){L=!0,b=w,p=A;break}Z=Z.sibling}if(!L){for(Z=A.child;Z;){if(Z===p){L=!0,p=A,b=w;break}if(Z===b){L=!0,b=A,p=w;break}Z=Z.sibling}if(!L)throw Error(i(189))}}if(p.alternate!==b)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=m(o),c!==null))return c;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Mf&&o[Mf]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Qu?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ll:return"Fragment";case Nf:return"Profiler";case Iu:return"StrictMode";case Ku:return"Suspense";case Fu:return"SuspenseList";case Pl:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Us:return"Portal";case Ji:return(o.displayName||"Context")+".Provider";case xh:return(o._context.displayName||"Context")+".Consumer";case yi:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case bi:return c=o.displayName||null,c!==null?c:_(o.type)||"Memo";case Ya:c=o._payload,o=o._init;try{return _(o(c))}catch{}}return null}function S(o){return{current:o}}function C(o){0>is||(o.current=rs[is],rs[is]=null,is--)}function T(o,c){is++,rs[is]=o.current,o.current=c}function R(o){return o>>>=0,o===0?32:31-(pp(o)/Hf|0)|0}function O(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function M(o,c,p){var b=o.pendingLanes;if(b===0)return 0;var w=0,A=o.suspendedLanes,L=o.pingedLanes;o=o.warmLanes;var Z=b&134217727;return Z!==0?(b=Z&~A,b!==0?w=O(b):(L&=Z,L!==0?w=O(L):p||(p=Z&~o,p!==0&&(w=O(p))))):(Z=b&~A,Z!==0?w=O(Z):L!==0?w=O(L):p||(p=b&~o,p!==0&&(w=O(p)))),w===0?0:c!==0&&c!==w&&(c&A)===0&&(A=w&-w,p=c&-c,A>=p||A===32&&(p&4194048)!==0)?c:w}function j(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function z(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var o=oc;return oc<<=1,(oc&4194048)===0&&(oc=256),o}function H(){var o=Lo;return Lo<<=1,(Lo&62914560)===0&&(Lo=4194304),o}function k(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Y(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function F(o,c,p,b,w,A){var L=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var Z=o.entanglements,te=o.expirationTimes,Re=o.hiddenUpdates;for(p=L&~p;0<p;){var Le=31-ur(p),Ze=1<<Le;Z[Le]=0,te[Le]=-1;var Ie=Re[Le];if(Ie!==null)for(Re[Le]=null,Le=0;Le<Ie.length;Le++){var Tt=Ie[Le];Tt!==null&&(Tt.lane&=-536870913)}p&=~Ze}b!==0&&oe(o,b,0),A!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=A&~(L&~c))}function oe(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var b=31-ur(c);o.entangledLanes|=c,o.entanglements[b]=o.entanglements[b]|1073741824|p&4194090}function _e(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var b=31-ur(p),w=1<<b;w&c|o[b]&c&&(o[b]|=c),p&=~w}}function xe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function he(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ge(o){if(typeof bp=="function"&&_p(o),Ia&&typeof Ia.setStrictMode=="function")try{Ia.setStrictMode(Hs,o)}catch{}}function ye(o){if(Vf===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Vf=c&&c[1]||"",Kh=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vf+o+Kh}function Se(o,c){if(!o||Yf)return"";Yf=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Tt){var Ie=Tt}Reflect.construct(o,[],Ze)}else{try{Ze.call()}catch(Tt){Ie=Tt}o.call(Ze.prototype)}}else{try{throw Error()}catch(Tt){Ie=Tt}(Ze=o())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Tt){if(Tt&&Ie&&typeof Tt.stack=="string")return[Tt.stack,Ie.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),L=A[0],Z=A[1];if(L&&Z){var te=L.split(`
`),Re=Z.split(`
`);for(w=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;if(b===te.length||w===Re.length)for(b=te.length-1,w=Re.length-1;1<=b&&0<=w&&te[b]!==Re[w];)w--;for(;1<=b&&0<=w;b--,w--)if(te[b]!==Re[w]){if(b!==1||w!==1)do if(b--,w--,0>w||te[b]!==Re[w]){var Le=`
`+te[b].replace(" at new "," at ");return o.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",o.displayName)),Le}while(1<=b&&0<=w);break}}}finally{Yf=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?ye(p):""}function B(o){switch(o.tag){case 26:case 27:case 5:return ye(o.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return Se(o.type,!1);case 11:return Se(o.type.render,!1);case 1:return Se(o.type,!0);case 31:return ye("Activity");default:return""}}function ue(o){try{var c="";do c+=B(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function $(o,c){if(typeof o=="object"&&o!==null){var p=Zf.get(o);return p!==void 0?p:(c={value:o,source:c,stack:ue(c)},Zf.set(o,c),c)}return{value:o,source:c,stack:ue(c)}}function me(o,c){Gs[qs++]=Po,Gs[qs++]=cc,cc=o,Po=c}function G(o,c,p){Xa[cr++]=Fr,Xa[cr++]=wi,Xa[cr++]=Vs,Vs=o;var b=Fr;o=wi;var w=32-ur(b)-1;b&=~(1<<w),p+=1;var A=32-ur(c)+w;if(30<A){var L=w-w%5;A=(b&(1<<L)-1).toString(32),b>>=L,w-=L,Fr=1<<32-ur(c)+w|p<<w|b,wi=A+o}else Fr=1<<A|p<<w|b,wi=o}function ae(o){o.return!==null&&(me(o,1),G(o,1,0))}function Ee(o){for(;o===cc;)cc=Gs[--qs],Gs[qs]=null,Po=Gs[--qs],Gs[qs]=null;for(;o===Vs;)Vs=Xa[--cr],Xa[cr]=null,wi=Xa[--cr],Xa[cr]=null,Fr=Xa[--cr],Xa[cr]=null}function Q(o,c){T(Ys,c),T(ql,o),T(Cn,null),o=Eh(c),C(Cn),T(Cn,o)}function be(){C(Cn),C(ql),C(Ys)}function ke(o){o.memoizedState!==null&&T(fc,o);var c=Cn.current,p=Ch(c,o.type);c!==p&&(T(ql,o),T(Cn,p))}function Me(o){ql.current===o&&(C(Cn),C(ql)),fc.current===o&&(C(fc),ts?Si._currentValue=or:Si._currentValue2=or)}function Ke(o){var c=Error(i(418,""));throw ra($(c,o)),Fh}function nt(o,c){if(!sr)throw Error(i(175));cp(o.stateNode,o.type,o.memoizedProps,c,o)||Ke(o)}function mt(o){for(kn=o.return;kn;)switch(kn.tag){case 5:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:kn=kn.return}}function St(o){if(!sr||o!==kn)return!1;if(!Zt)return mt(o),Zt=!0,!1;var c=o.tag;if(kt?c!==3&&c!==27&&(c!==5||qh(o.type)&&!es(o.type,o.memoizedProps))&&Kn&&Ke(o):c!==3&&(c!==5||qh(o.type)&&!es(o.type,o.memoizedProps))&&Kn&&Ke(o),mt(o),c===13){if(!sr)throw Error(i(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Kn=Lf(o)}else Kn=kt&&c===27?Bh(o.type,Kn):kn?ip(o.stateNode):null;return!0}function gn(){sr&&(Kn=kn=null,Zt=!1)}function En(){var o=Qr;return o!==null&&(Ua===null?Ua=o:Ua.push.apply(Ua,o),Qr=null),o}function ra(o){Qr===null?Qr=[o]:Qr.push(o)}function ia(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function Ba(o,c,p){ts?(T(dc,c._currentValue),c._currentValue=p):(T(dc,c._currentValue2),c._currentValue2=p)}function Ha(o){var c=dc.current;ts?o._currentValue=c:o._currentValue2=c,C(dc)}function Wn(o,c,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===p)break;o=o.return}}function Bi(o,c,p,b){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var A=w.dependencies;if(A!==null){var L=w.child;A=A.firstContext;e:for(;A!==null;){var Z=A;A=w;for(var te=0;te<c.length;te++)if(Z.context===c[te]){A.lanes|=p,Z=A.alternate,Z!==null&&(Z.lanes|=p),Wn(A.return,p,o),b||(L=null);break e}A=Z.next}}else if(w.tag===18){if(L=w.return,L===null)throw Error(i(341));L.lanes|=p,A=L.alternate,A!==null&&(A.lanes|=p),Wn(L,p,o),L=null}else L=w.child;if(L!==null)L.return=w;else for(L=w;L!==null;){if(L===o){L=null;break}if(w=L.sibling,w!==null){w.return=L.return,L=w;break}L=L.return}w=L}}function hr(o,c,p,b){o=null;for(var w=c,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var L=w.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var Z=w.type;xr(w.pendingProps.value,L.value)||(o!==null?o.push(Z):o=[Z])}}else if(w===fc.current){if(L=w.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Si):o=[Si])}w=w.return}o!==null&&Bi(c,o,p,b),c.flags|=262144}function X(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!xr(ts?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function re(o){$r=o,Da=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function fe(o){return Be($r,o)}function Ge(o,c){return $r===null&&re(o),Be(o,c)}function Be(o,c){var p=ts?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:p,next:null},Da===null){if(o===null)throw Error(i(308));Da=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Da=Da.next=c;return p}function Ue(){return{controller:new Sp,data:new Map,refCount:0}}function Ye(o){o.refCount--,o.refCount===0&&xp(hc,function(){o.controller.abort()})}function Qe(o){o!==Zs&&o.next===null&&(Zs===null?gc=Zs=o:Zs=Zs.next=o),Bo=!0,If||(If=!0,Oe())}function bt(o,c){if(!pc&&Bo){pc=!0;do for(var p=!1,b=gc;b!==null;){if(o!==0){var w=b.pendingLanes;if(w===0)var A=0;else{var L=b.suspendedLanes,Z=b.pingedLanes;A=(1<<31-ur(42|o)+1)-1,A&=w&~(L&~Z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,Wa(b,A))}else A=Dt,A=M(b,b===Xt?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==zr),(A&3)===0||j(b,A)||(p=!0,Wa(b,A));b=b.next}while(p);pc=!1}}function Jt(){gr()}function gr(){Bo=If=!1;var o=0;ss!==0&&(Ah()&&(o=ss),ss=0);for(var c=dn(),p=null,b=gc;b!==null;){var w=b.next,A=Ca(b,c);A===0?(b.next=null,p===null?gc=w:p.next=w,w===null&&(Zs=p)):(p=b,(o!==0||(A&3)!==0)&&(Bo=!0)),b=w}bt(o)}function Ca(o,c){for(var p=o.suspendedLanes,b=o.pingedLanes,w=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var L=31-ur(A),Z=1<<L,te=w[L];te===-1?((Z&p)===0||(Z&b)!==0)&&(w[L]=z(Z,c)):te<=c&&(o.expiredLanes|=Z),A&=~Z}if(c=Xt,p=Dt,p=M(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==zr),b=o.callbackNode,p===0||o===c&&(an===2||an===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&Gf(b),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||j(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(b!==null&&Gf(b),he(p)){case 2:case 8:p=vp;break;case 32:p=qf;break;case 268435456:p=yp;break;default:p=qf}return b=pa.bind(null,o),p=uc(p,b),o.callbackPriority=c,o.callbackNode=p,c}return b!==null&&b!==null&&Gf(b),o.callbackPriority=2,o.callbackNode=null,2}function pa(o,c){if(ea!==0&&ea!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(jr()&&o.callbackNode!==p)return null;var b=Dt;return b=M(o,o===Xt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==zr),b===0?null:(Yu(o,b,c),Ca(o,dn()),o.callbackNode!=null&&o.callbackNode===p?pa.bind(null,o):null)}function Wa(o,c){if(jr())return null;Yu(o,c,!0)}function Oe(){Nh?Bg(function(){(ut&6)!==0?uc(ua,Jt):gr()}):uc(ua,Jt)}function De(){return ss===0&&(ss=P()),ss}function $t(o,c){if(Ho===null){var p=Ho=[];Wr=0,bn=De(),Is={status:"pending",value:void 0,then:function(b){p.push(b)}}}return Wr++,c.then(wt,wt),c}function wt(){if(--Wr===0&&Ho!==null){Is!==null&&(Is.status="fulfilled");var o=Ho;Ho=null,bn=0,Is=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function ln(o,c){var p=[],b={status:"pending",value:null,reason:null,then:function(w){p.push(w)}};return o.then(function(){b.status="fulfilled",b.value=c;for(var w=0;w<p.length;w++)(0,p[w])(c)},function(w){for(b.status="rejected",b.reason=w,w=0;w<p.length;w++)(0,p[w])(void 0)}),b}function Bn(){var o=Nn.current;return o!==null?o:Xt.pooledCache}function Hi(o,c){c===null?T(Nn,Nn.current):T(Nn,c.pool)}function fo(){var o=Bn();return o===null?null:{parent:ts?nn._currentValue:nn._currentValue2,pool:o}}function Yr(o,c){if(xr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),b=Object.keys(c);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var w=p[b];if(!t1.call(c,w)||!xr(o[w],c[w]))return!1}return!0}function Xc(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ss(){}function xs(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Ss,Ss),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ho(o),o;default:if(typeof c.status=="string")c.then(Ss,Ss);else{if(o=Xt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(b){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=b}},function(b){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ho(o),o}throw fr=c,Go}}function Gi(){if(fr===null)throw Error(i(459));var o=fr;return fr=null,o}function ho(o){if(o===Go||o===pn)throw Error(i(483))}function pl(){for(var o=Vl,c=$h=Vl=0;c<o;){var p=wr[c];wr[c++]=null;var b=wr[c];wr[c++]=null;var w=wr[c];wr[c++]=null;var A=wr[c];if(wr[c++]=null,b!==null&&w!==null){var L=b.pending;L===null?w.next=w:(w.next=L.next,L.next=w),b.pending=w}A!==0&&Ae(p,w,A)}}function I(o,c,p,b){wr[Vl++]=o,wr[Vl++]=c,wr[Vl++]=p,wr[Vl++]=b,$h|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function ee(o,c,p,b){return I(o,c,p,b),Pe(o)}function se(o,c){return I(o,null,null,c),Pe(o)}function Ae(o,c,p){o.lanes|=p;var b=o.alternate;b!==null&&(b.lanes|=p);for(var w=!1,A=o.return;A!==null;)A.childLanes|=p,b=A.alternate,b!==null&&(b.childLanes|=p),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(w=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,w&&c!==null&&(w=31-ur(p),o=A.hiddenUpdates,b=o[w],b===null?o[w]=[c]:b.push(c),c.lane=p|536870912),A):null}function Pe(o){if(50<nl)throw nl=0,Wf=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function Je(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Xe(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function $e(o,c,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(ut&2)!==0){var w=b.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),b.pending=c,c=Pe(o),Ae(o,null,p),c}return I(o,b,c,p),Pe(o)}function it(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,_e(o,p)}}function at(o,c){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var w=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var L={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?w=A=L:A=A.next=L,p=p.next}while(p!==null);A===null?w=A=c:A=A.next=c}else w=A=c;p={baseState:b.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Fe(){if(Ka){var o=Is;if(o!==null)throw o}}function xt(o,c,p,b){Ka=!1;var w=o.updateQueue;Ei=!1;var A=w.firstBaseUpdate,L=w.lastBaseUpdate,Z=w.shared.pending;if(Z!==null){w.shared.pending=null;var te=Z,Re=te.next;te.next=null,L===null?A=Re:L.next=Re,L=te;var Le=o.alternate;Le!==null&&(Le=Le.updateQueue,Z=Le.lastBaseUpdate,Z!==L&&(Z===null?Le.firstBaseUpdate=Re:Z.next=Re,Le.lastBaseUpdate=te))}if(A!==null){var Ze=w.baseState;L=0,Le=Re=te=null,Z=A;do{var Ie=Z.lane&-536870913,Tt=Ie!==Z.lane;if(Tt?(Dt&Ie)===Ie:(b&Ie)===Ie){Ie!==0&&Ie===bn&&(Ka=!0),Le!==null&&(Le=Le.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Lr=o,al=Z;Ie=c;var Pr=p;switch(al.tag){case 1:if(Lr=al.payload,typeof Lr=="function"){Ze=Lr.call(Pr,Ze,Ie);break e}Ze=Lr;break e;case 3:Lr.flags=Lr.flags&-65537|128;case 0:if(Lr=al.payload,Ie=typeof Lr=="function"?Lr.call(Pr,Ze,Ie):Lr,Ie==null)break e;Ze=Ul({},Ze,Ie);break e;case 2:Ei=!0}}Ie=Z.callback,Ie!==null&&(o.flags|=64,Tt&&(o.flags|=8192),Tt=w.callbacks,Tt===null?w.callbacks=[Ie]:Tt.push(Ie))}else Tt={lane:Ie,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Le===null?(Re=Le=Tt,te=Ze):Le=Le.next=Tt,L|=Ie;if(Z=Z.next,Z===null){if(Z=w.shared.pending,Z===null)break;Tt=Z,Z=Tt.next,Tt.next=null,w.lastBaseUpdate=Tt,w.shared.pending=null}}while(!0);Le===null&&(te=Ze),w.baseState=te,w.firstBaseUpdate=Re,w.lastBaseUpdate=Le,A===null&&(w.shared.lanes=0),$n|=L,o.lanes=L,o.memoizedState=Ze}}function en(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function vn(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)en(p[o],c)}function Bt(o,c){o=Vn,T(mc,o),T(ja,c),Vn=o|c.baseLanes}function cn(){T(mc,Vn),T(ja,ja.current)}function rn(){Vn=mc.current,C(ja),C(mc)}function Ht(){throw Error(i(321))}function Ja(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!xr(o[p],c[p]))return!1;return!0}function Rr(o,c,p,b,w,A){return Fn=A,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ot.H=o===null||o.memoizedState===null?Yl:Wh,ls=!1,A=p(b,w),ls=!1,Xs&&(A=ml(c,p,b,w)),er(o),A}function er(o){ot.H=Ks;var c=Gt!==null&&Gt.next!==null;if(Fn=0,_n=Gt=At=null,Jr=!1,qo=0,ei=null,c)throw Error(i(300));o===null||vt||(o=o.dependencies,o!==null&&X(o)&&(vt=!0))}function ml(o,c,p,b){At=o;var w=0;do{if(Xs&&(ei=null),qo=0,Xs=!1,25<=w)throw Error(i(301));if(w+=1,_n=Gt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ot.H=wp,A=c(p,b)}while(Xs);return A}function vl(){var o=ot.H,c=o.useState()[0];return c=typeof c.then=="function"?qa(c):c,o=o.useState()[0],(Gt!==null?Gt.memoizedState:null)!==o&&(At.flags|=1024),c}function tr(){var o=Er!==0;return Er=0,o}function Zr(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Ta(o){if(Jr){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Jr=!1}Fn=0,_n=Gt=At=null,Xs=!1,qo=Er=0,ei=null}function ct(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?At.memoizedState=_n=o:_n=_n.next=o,_n}function zt(){if(Gt===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=Gt.next;var c=_n===null?At.memoizedState:_n.next;if(c!==null)_n=c,Gt=o;else{if(o===null)throw At.alternate===null?Error(i(467)):Error(i(310));Gt=o,o={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},_n===null?At.memoizedState=_n=o:_n=_n.next=o}return _n}function Ga(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(o){var c=qo;return qo+=1,ei===null&&(ei=[]),o=xs(ei,o,c),c=At,(_n===null?c.memoizedState:_n.next)===null&&(c=c.alternate,ot.H=c===null||c.memoizedState===null?Yl:Wh),o}function yn(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return qa(o);if(o.$$typeof===Ji)return fe(o)}throw Error(i(438,String(o)))}function ws(o){var c=null,p=At.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var b=At.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Ga(),At.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),b=0;b<o;b++)p[b]=wh;return c.index++,p}function pr(o,c){return typeof c=="function"?c(o):c}function ma(o){var c=zt();return Kc(c,Gt,o)}function Kc(o,c,p){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=p;var w=o.baseQueue,A=b.pending;if(A!==null){if(w!==null){var L=w.next;w.next=A.next,A.next=L}c.baseQueue=w=A,b.pending=null}if(A=o.baseState,w===null)o.memoizedState=A;else{c=w.next;var Z=L=null,te=null,Re=c,Le=!1;do{var Ze=Re.lane&-536870913;if(Ze!==Re.lane?(Dt&Ze)===Ze:(Fn&Ze)===Ze){var Ie=Re.revertLane;if(Ie===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ze===bn&&(Le=!0);else if((Fn&Ie)===Ie){Re=Re.next,Ie===bn&&(Le=!0);continue}else Ze={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},te===null?(Z=te=Ze,L=A):te=te.next=Ze,At.lanes|=Ie,$n|=Ie;Ze=Re.action,ls&&p(A,Ze),A=Re.hasEagerState?Re.eagerState:p(A,Ze)}else Ie={lane:Ze,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},te===null?(Z=te=Ie,L=A):te=te.next=Ie,At.lanes|=Ze,$n|=Ze;Re=Re.next}while(Re!==null&&Re!==c);if(te===null?L=A:te.next=Z,!xr(A,o.memoizedState)&&(vt=!0,Le&&(p=Is,p!==null)))throw p;o.memoizedState=A,o.baseState=L,o.baseQueue=te,b.lastRenderedState=A}return w===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function Zd(o){var c=zt(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=o;var b=p.dispatch,w=p.pending,A=c.memoizedState;if(w!==null){p.pending=null;var L=w=w.next;do A=o(A,L.action),L=L.next;while(L!==w);xr(A,c.memoizedState)||(vt=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),p.lastRenderedState=A}return[A,b]}function Tu(o,c,p){var b=At,w=zt(),A=Zt;if(A){if(p===void 0)throw Error(i(407));p=p()}else p=c();var L=!xr((Gt||w).memoizedState,p);L&&(w.memoizedState=p,vt=!0),w=w.queue;var Z=cg.bind(null,b,w,o);if(_l(2048,8,Z,[o]),w.getSnapshot!==c||L||_n!==null&&_n.memoizedState.tag&1){if(b.flags|=2048,Es(9,qi(),Au.bind(null,b,w,p,c),null),Xt===null)throw Error(i(349));A||(Fn&124)!==0||Id(b,c,p)}return p}function Id(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=At.updateQueue,c===null?(c=Ga(),At.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Au(o,c,p,b){c.value=p,c.getSnapshot=b,mr(c)&&Fc(o)}function cg(o,c,p){return p(function(){mr(c)&&Fc(o)})}function mr(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!xr(o,p)}catch{return!0}}function Fc(o){var c=se(o,2);c!==null&&Oa(c,o,2)}function Qc(o){var c=ct();if(typeof o=="function"){var p=o;if(o=p(),ls){ge(!0);try{p()}finally{ge(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:o},c}function $c(o,c,p,b){return o.baseState=p,Kc(o,Gt,typeof b=="function"?b:pr)}function go(o,c,p,b,w){if(ju(o))throw Error(i(485));if(o=c.action,o!==null){var A={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){A.listeners.push(L)}};ot.T!==null?p(!0):A.isTransition=!1,b(A),p=c.pending,p===null?(A.next=c.pending=A,Xd(c,A)):(A.next=p.next,c.pending=p.next=A)}}function Xd(o,c){var p=c.action,b=c.payload,w=o.state;if(c.isTransition){var A=ot.T,L={};ot.T=L;try{var Z=p(w,b),te=ot.S;te!==null&&te(L,Z),Kd(o,c,Z)}catch(Re){Fd(o,c,Re)}finally{ot.T=A}}else try{A=p(w,b),Kd(o,c,A)}catch(Re){Fd(o,c,Re)}}function Kd(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){yl(o,c,b)},function(b){return Fd(o,c,b)}):yl(o,c,p)}function yl(o,c,p){c.status="fulfilled",c.value=p,Qd(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,Xd(o,p)))}function Fd(o,c,p){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=p,Qd(c),c=c.next;while(c!==b)}o.action=null}function Qd(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function $d(o,c){return c}function Wc(o,c){if(Zt){var p=Xt.formState;if(p!==null){e:{var b=At;if(Zt){if(Kn){var w=ap(Kn,Wt);if(w){Kn=ip(w),b=rp(w);break e}}Ke(b)}b=!1}b&&(c=p[0])}}p=ct(),p.memoizedState=p.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:c},p.queue=b,p=nf.bind(null,At,b),b.dispatch=p,b=Qc(!1);var A=bo.bind(null,At,!1,b.queue);return b=ct(),w={state:c,dispatch:null,action:o,pending:null},b.queue=w,p=go.bind(null,At,w,A,p),w.dispatch=p,b.memoizedState=o,[c,p,!1]}function fg(o){var c=zt();return dg(c,Gt,o)}function dg(o,c,p){if(c=Kc(o,c,$d)[0],o=ma(pr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=qa(c)}catch(L){throw L===Go?pn:L}else b=c;c=zt();var w=c.queue,A=w.dispatch;return p!==c.memoizedState&&(At.flags|=2048,Es(9,qi(),Jc.bind(null,w,p),null)),[b,A,o]}function Jc(o,c){o.action=c}function ef(o){var c=zt(),p=Gt;if(p!==null)return dg(c,p,o);zt(),c=c.memoizedState,p=zt();var b=p.queue.dispatch;return p.memoizedState=o,[c,b,!1]}function Es(o,c,p,b){return o={tag:o,create:p,deps:b,inst:c,next:null},c=At.updateQueue,c===null&&(c=Ga(),At.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,c.lastEffect=o),o}function qi(){return{destroy:void 0,resource:void 0}}function bl(){return zt().memoizedState}function Ru(o,c,p,b){var w=ct();b=b===void 0?null:b,At.flags|=o,w.memoizedState=Es(1|c,qi(),p,b)}function _l(o,c,p,b){var w=zt();b=b===void 0?null:b;var A=w.memoizedState.inst;Gt!==null&&b!==null&&Ja(b,Gt.memoizedState.deps)?w.memoizedState=Es(c,A,p,b):(At.flags|=o,w.memoizedState=Es(1|c,A,p,b))}function Wd(o,c){Ru(8390656,8,o,c)}function po(o,c){_l(2048,8,o,c)}function ui(o,c){return _l(4,2,o,c)}function tf(o,c){return _l(4,4,o,c)}function mo(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Vi(o,c,p){p=p!=null?p.concat([o]):null,_l(4,4,mo.bind(null,c,o),p)}function Ou(){}function Nu(o,c){var p=zt();c=c===void 0?null:c;var b=p.memoizedState;return c!==null&&Ja(c,b[1])?b[0]:(p.memoizedState=[o,c],o)}function Jd(o,c){var p=zt();c=c===void 0?null:c;var b=p.memoizedState;if(c!==null&&Ja(c,b[1]))return b[0];if(b=o(),ls){ge(!0);try{o()}finally{ge(!1)}}return p.memoizedState=[b,c],b}function vo(o,c,p){return p===void 0||(Fn&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=Ol(),At.lanes|=o,$n|=o,p)}function Mu(o,c,p,b){return xr(p,c)?p:ja.current!==null?(o=vo(o,p,b),xr(o,c)||(vt=!0),o):(Fn&42)===0?(vt=!0,o.memoizedState=p):(o=Ol(),At.lanes|=o,$n|=o,c)}function eh(o,c,p,b,w){var A=Kr();oa(A!==0&&8>A?A:8);var L=ot.T,Z={};ot.T=Z,bo(o,!1,c,p);try{var te=w(),Re=ot.S;if(Re!==null&&Re(Z,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Le=ln(te,b);Zi(o,c,Le,la(o))}else Zi(o,c,b,la(o))}catch(Ze){Zi(o,c,{then:function(){},status:"rejected",reason:Ze},la())}finally{oa(A),ot.T=L}}function Va(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:or,baseState:or,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:or},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Yi(){return fe(Si)}function Du(){return zt().memoizedState}function yo(){return zt().memoizedState}function Yv(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=la();o=Xe(p);var b=$e(c,o,p);b!==null&&(Oa(b,c,p),it(b,c,p)),c={cache:Ue()},o.payload=c;return}c=c.return}}function th(o,c,p){var b=la();p={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},ju(o)?hg(c,p):(p=ee(o,c,p,b),p!==null&&(Oa(p,o,b),gg(p,c,b)))}function nf(o,c,p){var b=la();Zi(o,c,p,b)}function Zi(o,c,p,b){var w={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(ju(o))hg(c,w);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var L=c.lastRenderedState,Z=A(L,p);if(w.hasEagerState=!0,w.eagerState=Z,xr(Z,L))return I(o,c,w,0),Xt===null&&pl(),!1}catch{}finally{}if(p=ee(o,c,w,b),p!==null)return Oa(p,o,b),gg(p,c,b),!0}return!1}function bo(o,c,p,b){if(b={lane:2,revertLane:De(),action:b,hasEagerState:!1,eagerState:null,next:null},ju(o)){if(c)throw Error(i(479))}else c=ee(o,p,b,2),c!==null&&Oa(c,o,2)}function ju(o){var c=o.alternate;return o===At||c!==null&&c===At}function hg(o,c){Xs=Jr=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function gg(o,c,p){if((p&4194048)!==0){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,_e(o,p)}}function af(o){var c=Vo;return Vo+=1,Ci===null&&(Ci=[]),xs(Ci,o,c)}function Sl(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function rf(o,c){throw c.$$typeof===Ug?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function pg(o){var c=o._init;return c(o._payload)}function mg(o){function c(ce,W){if(o){var ve=ce.deletions;ve===null?(ce.deletions=[W],ce.flags|=16):ve.push(W)}}function p(ce,W){if(!o)return null;for(;W!==null;)c(ce,W),W=W.sibling;return null}function b(ce){for(var W=new Map;ce!==null;)ce.key!==null?W.set(ce.key,ce):W.set(ce.index,ce),ce=ce.sibling;return W}function w(ce,W){return ce=$i(ce,W),ce.index=0,ce.sibling=null,ce}function A(ce,W,ve){return ce.index=ve,o?(ve=ce.alternate,ve!==null?(ve=ve.index,ve<W?(ce.flags|=67108866,W):ve):(ce.flags|=67108866,W)):(ce.flags|=1048576,W)}function L(ce){return o&&ce.alternate===null&&(ce.flags|=67108866),ce}function Z(ce,W,ve,je){return W===null||W.tag!==6?(W=jl(ve,ce.mode,je),W.return=ce,W):(W=w(W,ve),W.return=ce,W)}function te(ce,W,ve,je){var We=ve.type;return We===Ll?Le(ce,W,ve.props.children,je,ve.key):W!==null&&(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Ya&&pg(We)===W.type)?(W=w(W,ve.props),Sl(W,ve),W.return=ce,W):(W=Ro(ve.type,ve.key,ve.props,null,ce.mode,je),Sl(W,ve),W.return=ce,W)}function Re(ce,W,ve,je){return W===null||W.tag!==4||W.stateNode.containerInfo!==ve.containerInfo||W.stateNode.implementation!==ve.implementation?(W=Zu(ve,ce.mode,je),W.return=ce,W):(W=w(W,ve.children||[]),W.return=ce,W)}function Le(ce,W,ve,je,We){return W===null||W.tag!==7?(W=Xr(ve,ce.mode,je,We),W.return=ce,W):(W=w(W,ve),W.return=ce,W)}function Ze(ce,W,ve){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=jl(""+W,ce.mode,ve),W.return=ce,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case kl:return ve=Ro(W.type,W.key,W.props,null,ce.mode,ve),Sl(ve,W),ve.return=ce,ve;case Us:return W=Zu(W,ce.mode,ve),W.return=ce,W;case Ya:var je=W._init;return W=je(W._payload),Ze(ce,W,ve)}if(ks(W)||v(W))return W=Xr(W,ce.mode,ve,null),W.return=ce,W;if(typeof W.then=="function")return Ze(ce,af(W),ve);if(W.$$typeof===Ji)return Ze(ce,Ge(ce,W),ve);rf(ce,W)}return null}function Ie(ce,W,ve,je){var We=W!==null?W.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return We!==null?null:Z(ce,W,""+ve,je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case kl:return ve.key===We?te(ce,W,ve,je):null;case Us:return ve.key===We?Re(ce,W,ve,je):null;case Ya:return We=ve._init,ve=We(ve._payload),Ie(ce,W,ve,je)}if(ks(ve)||v(ve))return We!==null?null:Le(ce,W,ve,je,null);if(typeof ve.then=="function")return Ie(ce,W,af(ve),je);if(ve.$$typeof===Ji)return Ie(ce,W,Ge(ce,ve),je);rf(ce,ve)}return null}function Tt(ce,W,ve,je,We){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ce=ce.get(ve)||null,Z(W,ce,""+je,We);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case kl:return ce=ce.get(je.key===null?ve:je.key)||null,te(W,ce,je,We);case Us:return ce=ce.get(je.key===null?ve:je.key)||null,Re(W,ce,je,We);case Ya:var on=je._init;return je=on(je._payload),Tt(ce,W,ve,je,We)}if(ks(je)||v(je))return ce=ce.get(ve)||null,Le(W,ce,je,We,null);if(typeof je.then=="function")return Tt(ce,W,ve,af(je),We);if(je.$$typeof===Ji)return Tt(ce,W,ve,Ge(W,je),We);rf(W,je)}return null}function Lr(ce,W,ve,je){for(var We=null,on=null,ht=W,Kt=W=0,ta=null;ht!==null&&Kt<ve.length;Kt++){ht.index>Kt?(ta=ht,ht=null):ta=ht.sibling;var Ft=Ie(ce,ht,ve[Kt],je);if(Ft===null){ht===null&&(ht=ta);break}o&&ht&&Ft.alternate===null&&c(ce,ht),W=A(Ft,W,Kt),on===null?We=Ft:on.sibling=Ft,on=Ft,ht=ta}if(Kt===ve.length)return p(ce,ht),Zt&&me(ce,Kt),We;if(ht===null){for(;Kt<ve.length;Kt++)ht=Ze(ce,ve[Kt],je),ht!==null&&(W=A(ht,W,Kt),on===null?We=ht:on.sibling=ht,on=ht);return Zt&&me(ce,Kt),We}for(ht=b(ht);Kt<ve.length;Kt++)ta=Tt(ht,ce,Kt,ve[Kt],je),ta!==null&&(o&&ta.alternate!==null&&ht.delete(ta.key===null?Kt:ta.key),W=A(ta,W,Kt),on===null?We=ta:on.sibling=ta,on=ta);return o&&ht.forEach(function(cs){return c(ce,cs)}),Zt&&me(ce,Kt),We}function al(ce,W,ve,je){if(ve==null)throw Error(i(151));for(var We=null,on=null,ht=W,Kt=W=0,ta=null,Ft=ve.next();ht!==null&&!Ft.done;Kt++,Ft=ve.next()){ht.index>Kt?(ta=ht,ht=null):ta=ht.sibling;var cs=Ie(ce,ht,Ft.value,je);if(cs===null){ht===null&&(ht=ta);break}o&&ht&&cs.alternate===null&&c(ce,ht),W=A(cs,W,Kt),on===null?We=cs:on.sibling=cs,on=cs,ht=ta}if(Ft.done)return p(ce,ht),Zt&&me(ce,Kt),We;if(ht===null){for(;!Ft.done;Kt++,Ft=ve.next())Ft=Ze(ce,Ft.value,je),Ft!==null&&(W=A(Ft,W,Kt),on===null?We=Ft:on.sibling=Ft,on=Ft);return Zt&&me(ce,Kt),We}for(ht=b(ht);!Ft.done;Kt++,Ft=ve.next())Ft=Tt(ht,ce,Kt,Ft.value,je),Ft!==null&&(o&&Ft.alternate!==null&&ht.delete(Ft.key===null?Kt:Ft.key),W=A(Ft,W,Kt),on===null?We=Ft:on.sibling=Ft,on=Ft);return o&&ht.forEach(function(n1){return c(ce,n1)}),Zt&&me(ce,Kt),We}function Pr(ce,W,ve,je){if(typeof ve=="object"&&ve!==null&&ve.type===Ll&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case kl:e:{for(var We=ve.key;W!==null;){if(W.key===We){if(We=ve.type,We===Ll){if(W.tag===7){p(ce,W.sibling),je=w(W,ve.props.children),je.return=ce,ce=je;break e}}else if(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Ya&&pg(We)===W.type){p(ce,W.sibling),je=w(W,ve.props),Sl(je,ve),je.return=ce,ce=je;break e}p(ce,W);break}else c(ce,W);W=W.sibling}ve.type===Ll?(je=Xr(ve.props.children,ce.mode,je,ve.key),je.return=ce,ce=je):(je=Ro(ve.type,ve.key,ve.props,null,ce.mode,je),Sl(je,ve),je.return=ce,ce=je)}return L(ce);case Us:e:{for(We=ve.key;W!==null;){if(W.key===We)if(W.tag===4&&W.stateNode.containerInfo===ve.containerInfo&&W.stateNode.implementation===ve.implementation){p(ce,W.sibling),je=w(W,ve.children||[]),je.return=ce,ce=je;break e}else{p(ce,W);break}else c(ce,W);W=W.sibling}je=Zu(ve,ce.mode,je),je.return=ce,ce=je}return L(ce);case Ya:return We=ve._init,ve=We(ve._payload),Pr(ce,W,ve,je)}if(ks(ve))return Lr(ce,W,ve,je);if(v(ve)){if(We=v(ve),typeof We!="function")throw Error(i(150));return ve=We.call(ve),al(ce,W,ve,je)}if(typeof ve.then=="function")return Pr(ce,W,af(ve),je);if(ve.$$typeof===Ji)return Pr(ce,W,Ge(ce,ve),je);rf(ce,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,W!==null&&W.tag===6?(p(ce,W.sibling),je=w(W,ve),je.return=ce,ce=je):(p(ce,W),je=jl(ve,ce.mode,je),je.return=ce,ce=je),L(ce)):p(ce,W)}return function(ce,W,ve,je){try{Vo=0;var We=Pr(ce,W,ve,je);return Ci=null,We}catch(ht){if(ht===Go||ht===pn)throw ht;var on=n(29,ht,null,ce.mode);return on.lanes=je,on.return=ce,on}finally{}}}function Cs(o){var c=o.alternate;T(pt,pt.current&1),T(Ur,o),Ti===null&&(c===null||ja.current!==null||c.memoizedState!==null)&&(Ti=o)}function vg(o){if(o.tag===22){if(T(pt,pt.current),T(Ur,o),Ti===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ti=o)}}else Ii()}function Ii(){T(pt,pt.current),T(Ur,Ur.current)}function Xi(o){C(Ur),Ti===o&&(Ti=null),C(pt)}function sf(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||ac(p)||kf(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function nh(o,c,p,b){c=o.memoizedState,p=p(b,c),p=p==null?c:Ul({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}function yg(o,c,p,b,w,A,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,A,L):c.prototype&&c.prototype.isPureReactComponent?!Yr(p,b)||!Yr(w,A):!0}function lf(o,c,p,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,b),c.state!==o&&hn.enqueueReplaceState(c,c.state,null)}function xl(o,c){var p=c;if("ref"in c){p={};for(var b in c)b!=="ref"&&(p[b]=c[b])}if(o=o.defaultProps){p===c&&(p=Ul({},p));for(var w in o)p[w]===void 0&&(p[w]=o[w])}return p}function of(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function bg(o,c,p){try{var b=o.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function uf(o,c,p){return p=Xe(p),p.tag=3,p.payload={element:null},p.callback=function(){of(o,c)},p}function _g(o){return o=Xe(o),o.tag=3,o}function Sg(o,c,p,b){var w=p.type.getDerivedStateFromError;if(typeof w=="function"){var A=b.value;o.payload=function(){return w(A)},o.callback=function(){bg(c,p,b)}}var L=p.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(o.callback=function(){bg(c,p,b),typeof w!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var Z=b.stack;this.componentDidCatch(b.value,{componentStack:Z!==null?Z:""})})}function Zv(o,c,p,b,w){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=p.alternate,c!==null&&hr(c,p,w,!0),p=Ur.current,p!==null){switch(p.tag){case 13:return Ti===null?On():p.alternate===null&&Ln===0&&(Ln=3),p.flags&=-257,p.flags|=65536,p.lanes=w,b===ya?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([b]):c.add(b),Dl(o,b,w)),!1;case 22:return p.flags|=65536,b===ya?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([b]):p.add(b)),Dl(o,b,w)),!1}throw Error(i(435,p.tag))}return Dl(o,b,w),On(),!1}if(Zt)return c=Ur.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,b!==Fh&&(o=Error(i(422),{cause:b}),ra($(o,p)))):(b!==Fh&&(c=Error(i(423),{cause:b}),ra($(c,p))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,b=$(b,p),w=uf(o.stateNode,b,w),at(o,w),Ln!==4&&(Ln=2)),!1;var A=Error(i(520),{cause:b});if(A=$(A,p),Js===null?Js=[A]:Js.push(A),Ln!==4&&(Ln=2),c===null)return!0;b=$(b,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=w&-w,p.lanes|=o,o=uf(p.stateNode,b,o),at(p,o),!1;case 1:if(c=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Oi===null||!Oi.has(A))))return p.flags|=65536,w&=-w,p.lanes|=w,w=_g(w),Sg(w,o,p,b),at(p,w),!1}p=p.return}while(p!==null);return!1}function va(o,c,p,b){c.child=o===null?Jh(c,null,p,b):os(c,o.child,p,b)}function xg(o,c,p,b,w){p=p.render;var A=c.ref;if("ref"in b){var L={};for(var Z in b)Z!=="ref"&&(L[Z]=b[Z])}else L=b;return re(c),b=Rr(o,c,p,L,A,w),Z=tr(),o!==null&&!vt?(Zr(o,c,w),vr(o,c,w)):(Zt&&Z&&ae(c),c.flags|=1,va(o,c,b,w),c.child)}function wg(o,c,p,b,w){if(o===null){var A=p.type;return typeof A=="function"&&!bh(A)&&A.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=A,Eg(o,c,A,b,w)):(o=Ro(p.type,null,b,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!El(o,w)){var L=A.memoizedProps;if(p=p.compare,p=p!==null?p:Yr,p(L,b)&&o.ref===c.ref)return vr(o,c,w)}return c.flags|=1,o=$i(A,b),o.ref=c.ref,o.return=c,c.child=o}function Eg(o,c,p,b,w){if(o!==null){var A=o.memoizedProps;if(Yr(A,b)&&o.ref===c.ref)if(vt=!1,c.pendingProps=b=A,El(o,w))(o.flags&131072)!==0&&(vt=!0);else return c.lanes=o.lanes,vr(o,c,w)}return wl(o,c,p,b,w)}function Cg(o,c,p){var b=c.pendingProps,w=b.children,A=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=A!==null?A.baseLanes|p:p,o!==null){for(w=c.child=o.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;c.childLanes=A&~b}else c.childLanes=0,c.child=null;return Tg(o,c,b,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Hi(c,A!==null?A.cachePool:null),A!==null?Bt(c,A):cn(),vg(c);else return c.lanes=c.childLanes=536870912,Tg(o,c,A!==null?A.baseLanes|p:p,p)}else A!==null?(Hi(c,A.cachePool),Bt(c,A),Ii(),c.memoizedState=null):(o!==null&&Hi(c,null),cn(),Ii());return va(o,c,w,p),c.child}function Tg(o,c,p,b){var w=Bn();return w=w===null?null:{parent:ts?nn._currentValue:nn._currentValue2,pool:w},c.memoizedState={baseLanes:p,cachePool:w},o!==null&&Hi(c,null),cn(),vg(c),o!==null&&hr(o,c,b,!0),null}function _o(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function wl(o,c,p,b,w){return re(c),p=Rr(o,c,p,b,void 0,w),b=tr(),o!==null&&!vt?(Zr(o,c,w),vr(o,c,w)):(Zt&&b&&ae(c),c.flags|=1,va(o,c,p,w),c.child)}function Ag(o,c,p,b,w,A){return re(c),c.updateQueue=null,p=ml(c,b,p,w),er(o),b=tr(),o!==null&&!vt?(Zr(o,c,A),vr(o,c,A)):(Zt&&b&&ae(c),c.flags|=1,va(o,c,p,A),c.child)}function ah(o,c,p,b,w){if(re(c),c.stateNode===null){var A=Gl,L=p.contextType;typeof L=="object"&&L!==null&&(A=fe(L)),A=new p(b,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=hn,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=b,A.state=c.memoizedState,A.refs={},Je(c),L=p.contextType,A.context=typeof L=="object"&&L!==null?fe(L):Gl,A.state=c.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(nh(c,p,L,b),A.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(L=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),L!==A.state&&hn.enqueueReplaceState(A,A.state,null),xt(c,b,A,w),Fe(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(o===null){A=c.stateNode;var Z=c.memoizedProps,te=xl(p,Z);A.props=te;var Re=A.context,Le=p.contextType;L=Gl,typeof Le=="object"&&Le!==null&&(L=fe(Le));var Ze=p.getDerivedStateFromProps;Le=typeof Ze=="function"||typeof A.getSnapshotBeforeUpdate=="function",Z=c.pendingProps!==Z,Le||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Z||Re!==L)&&lf(c,A,b,L),Ei=!1;var Ie=c.memoizedState;A.state=Ie,xt(c,b,A,w),Fe(),Re=c.memoizedState,Z||Ie!==Re||Ei?(typeof Ze=="function"&&(nh(c,p,Ze,b),Re=c.memoizedState),(te=Ei||yg(c,p,te,b,Ie,Re,L))?(Le||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=Re),A.props=b,A.state=Re,A.context=L,b=te):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{A=c.stateNode,rt(o,c),L=c.memoizedProps,Le=xl(p,L),A.props=Le,Ze=c.pendingProps,Ie=A.context,Re=p.contextType,te=Gl,typeof Re=="object"&&Re!==null&&(te=fe(Re)),Z=p.getDerivedStateFromProps,(Re=typeof Z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L!==Ze||Ie!==te)&&lf(c,A,b,te),Ei=!1,Ie=c.memoizedState,A.state=Ie,xt(c,b,A,w),Fe();var Tt=c.memoizedState;L!==Ze||Ie!==Tt||Ei||o!==null&&o.dependencies!==null&&X(o.dependencies)?(typeof Z=="function"&&(nh(c,p,Z,b),Tt=c.memoizedState),(Le=Ei||yg(c,p,Le,b,Ie,Tt,te)||o!==null&&o.dependencies!==null&&X(o.dependencies))?(Re||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,Tt,te),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,Tt,te)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||L===o.memoizedProps&&Ie===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Ie===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=Tt),A.props=b,A.state=Tt,A.context=te,b=Le):(typeof A.componentDidUpdate!="function"||L===o.memoizedProps&&Ie===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Ie===o.memoizedState||(c.flags|=1024),b=!1)}return A=b,_o(o,c),b=(c.flags&128)!==0,A||b?(A=c.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&b?(c.child=os(c,o.child,null,w),c.child=os(c,null,p,w)):va(o,c,p,w),c.memoizedState=A.state,o=c.child):o=vr(o,c,w),o}function rh(o,c,p,b){return gn(),c.flags|=256,va(o,c,p,b),c.child}function cf(o){return{baseLanes:o,cachePool:fo()}}function ff(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=kr),o}function ih(o,c,p){var b=c.pendingProps,w=!1,A=(c.flags&128)!==0,L;if((L=A)||(L=o!==null&&o.memoizedState===null?!1:(pt.current&2)!==0),L&&(w=!0,c.flags&=-129),L=(c.flags&32)!==0,c.flags&=-33,o===null){if(Zt){if(w?Cs(c):Ii(),Zt){var Z=Kn,te;(te=Z)&&(Z=Wv(Z,Wt),Z!==null?(c.memoizedState={dehydrated:Z,treeContext:Vs!==null?{id:Fr,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},te=n(18,null,null,0),te.stateNode=Z,te.return=c,c.child=te,kn=c,Kn=null,te=!0):te=!1),te||Ke(c)}if(Z=c.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return kf(Z)?c.lanes=32:c.lanes=536870912,null;Xi(c)}return Z=b.children,b=b.fallback,w?(Ii(),w=c.mode,Z=df({mode:"hidden",children:Z},w),b=Xr(b,w,p,null),Z.return=c,b.return=c,Z.sibling=b,c.child=Z,w=c.child,w.memoizedState=cf(p),w.childLanes=ff(o,L,p),c.memoizedState=Fa,b):(Cs(c),Ts(c,Z))}if(te=o.memoizedState,te!==null&&(Z=te.dehydrated,Z!==null)){if(A)c.flags&256?(Cs(c),c.flags&=-257,c=sh(o,c,p)):c.memoizedState!==null?(Ii(),c.child=o.child,c.flags|=128,c=null):(Ii(),w=b.fallback,Z=c.mode,b=df({mode:"visible",children:b.children},Z),w=Xr(w,Z,p,null),w.flags|=2,b.return=c,w.return=c,b.sibling=w,c.child=b,os(c,o.child,null,p),b=c.child,b.memoizedState=cf(p),b.childLanes=ff(o,L,p),c.memoizedState=Fa,c=w);else if(Cs(c),kf(Z))L=np(Z).digest,b=Error(i(419)),b.stack="",b.digest=L,ra({value:b,source:null,stack:null}),c=sh(o,c,p);else if(vt||hr(o,c,p,!1),L=(p&o.childLanes)!==0,vt||L){if(L=Xt,L!==null&&(b=p&-p,b=(b&42)!==0?1:xe(b),b=(b&(L.suspendedLanes|p))!==0?0:b,b!==0&&b!==te.retryLane))throw te.retryLane=b,se(o,b),Oa(L,o,b),qt;ac(Z)||On(),c=sh(o,c,p)}else ac(Z)?(c.flags|=192,c.child=o.child,c=null):(o=te.treeContext,sr&&(Kn=Hh(Z),kn=c,Zt=!0,Qr=null,Wt=!1,o!==null&&(Xa[cr++]=Fr,Xa[cr++]=wi,Xa[cr++]=Vs,Fr=o.id,wi=o.overflow,Vs=c)),c=Ts(c,b.children),c.flags|=4096);return c}return w?(Ii(),w=b.fallback,Z=c.mode,te=o.child,A=te.sibling,b=$i(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,A!==null?w=$i(A,w):(w=Xr(w,Z,p,null),w.flags|=2),w.return=c,b.return=c,b.sibling=w,c.child=b,b=w,w=c.child,Z=o.child.memoizedState,Z===null?Z=cf(p):(te=Z.cachePool,te!==null?(A=ts?nn._currentValue:nn._currentValue2,te=te.parent!==A?{parent:A,pool:A}:te):te=fo(),Z={baseLanes:Z.baseLanes|p,cachePool:te}),w.memoizedState=Z,w.childLanes=ff(o,L,p),c.memoizedState=Fa,b):(Cs(c),p=o.child,o=p.sibling,p=$i(p,{mode:"visible",children:b.children}),p.return=c,p.sibling=null,o!==null&&(L=c.deletions,L===null?(c.deletions=[o],c.flags|=16):L.push(o)),c.child=p,c.memoizedState=null,p)}function Ts(o,c){return c=df({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function df(o,c){return o=n(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function sh(o,c,p){return os(c,o.child,null,p),o=Ts(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Rg(o,c,p){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),Wn(o.return,c,p)}function hf(o,c,p,b,w){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=b,A.tail=p,A.tailMode=w)}function lh(o,c,p){var b=c.pendingProps,w=b.revealOrder,A=b.tail;if(va(o,c,b.children,p),b=pt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Rg(o,p,c);else if(o.tag===19)Rg(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(T(pt,b),w){case"forwards":for(p=c.child,w=null;p!==null;)o=p.alternate,o!==null&&sf(o)===null&&(w=p),p=p.sibling;p=w,p===null?(w=c.child,c.child=null):(w=p.sibling,p.sibling=null),hf(c,!1,w,p,A);break;case"backwards":for(p=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&sf(o)===null){c.child=w;break}o=w.sibling,w.sibling=p,p=w,w=o}hf(c,!0,p,null,A);break;case"together":hf(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function vr(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),$n|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(hr(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,p=$i(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=$i(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function El(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&X(o)))}function Iv(o,c,p){switch(c.tag){case 3:Q(c,c.stateNode.containerInfo),Ba(c,nn,o.memoizedState.cache),gn();break;case 27:case 5:ke(c);break;case 4:Q(c,c.stateNode.containerInfo);break;case 10:Ba(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Cs(c),c.flags|=128,null):(p&c.child.childLanes)!==0?ih(o,c,p):(Cs(c),o=vr(o,c,p),o!==null?o.sibling:null);Cs(c);break;case 19:var w=(o.flags&128)!==0;if(b=(p&c.childLanes)!==0,b||(hr(o,c,p,!1),b=(p&c.childLanes)!==0),w){if(b)return lh(o,c,p);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),T(pt,pt.current),b)break;return null;case 22:case 23:return c.lanes=0,Cg(o,c,p);case 24:Ba(c,nn,o.memoizedState.cache)}return vr(o,c,p)}function zu(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)vt=!0;else{if(!El(o,p)&&(c.flags&128)===0)return vt=!1,Iv(o,c,p);vt=(o.flags&131072)!==0}else vt=!1,Zt&&(c.flags&1048576)!==0&&G(c,Po,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var b=c.elementType,w=b._init;if(b=w(b._payload),c.type=b,typeof b=="function")bh(b)?(o=xl(b,o),c.tag=1,c=ah(null,c,b,o,p)):(c.tag=0,c=wl(null,c,b,o,p));else{if(b!=null){if(w=b.$$typeof,w===yi){c.tag=11,c=xg(null,c,b,o,p);break e}else if(w===bi){c.tag=14,c=wg(null,c,b,o,p);break e}}throw c=_(b)||b,Error(i(306,c,""))}}return c;case 0:return wl(o,c,c.type,c.pendingProps,p);case 1:return b=c.type,w=xl(b,c.pendingProps),ah(o,c,b,w,p);case 3:e:{if(Q(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var A=c.pendingProps;w=c.memoizedState,b=w.element,rt(o,c),xt(c,A,null,p);var L=c.memoizedState;if(A=L.cache,Ba(c,nn,A),A!==w.cache&&Bi(c,[nn],p,!0),Fe(),A=L.element,sr&&w.isDehydrated)if(w={element:A,isDehydrated:!1,cache:L.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=rh(o,c,A,p);break e}else if(A!==b){b=$(Error(i(424)),c),ra(b),c=rh(o,c,A,p);break e}else for(sr&&(Kn=lp(c.stateNode.containerInfo),kn=c,Zt=!0,Qr=null,Wt=!0),p=Jh(c,null,A,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(gn(),A===b){c=vr(o,c,p);break e}va(o,c,A,p)}c=c.child}return c;case 26:if(Za)return _o(o,c),o===null?(p=sc(c.type,null,c.pendingProps,null))?c.memoizedState=p:Zt||(c.stateNode=xi(c.type,c.pendingProps,Ys.current,c)):c.memoizedState=sc(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(kt)return ke(c),o===null&&kt&&Zt&&(b=c.stateNode=lc(c.type,c.pendingProps,Ys.current,Cn.current,!1),kn=c,Wt=!0,Kn=op(c.type,b,Kn)),va(o,c,c.pendingProps.children,p),_o(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Zt&&(Jv(c.type,c.pendingProps,Cn.current),(w=b=Kn)&&(b=up(b,c.type,c.pendingProps,Wt),b!==null?(c.stateNode=b,kn=c,Kn=sp(b),Wt=!1,w=!0):w=!1),w||Ke(c)),ke(c),w=c.type,A=c.pendingProps,L=o!==null?o.memoizedProps:null,b=A.children,es(w,A)?b=null:L!==null&&es(w,L)&&(c.flags|=32),c.memoizedState!==null&&(w=Rr(o,c,vl,null,null,p),ts?Si._currentValue=w:Si._currentValue2=w),_o(o,c),va(o,c,b,p),c.child;case 6:return o===null&&Zt&&(Uo(c.pendingProps,Cn.current),(o=p=Kn)&&(p=$v(p,c.pendingProps,Wt),p!==null?(c.stateNode=p,kn=c,Kn=null,o=!0):o=!1),o||Ke(c)),null;case 13:return ih(o,c,p);case 4:return Q(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=os(c,null,b,p):va(o,c,b,p),c.child;case 11:return xg(o,c,c.type,c.pendingProps,p);case 7:return va(o,c,c.pendingProps,p),c.child;case 8:return va(o,c,c.pendingProps.children,p),c.child;case 12:return va(o,c,c.pendingProps.children,p),c.child;case 10:return b=c.pendingProps,Ba(c,c.type,b.value),va(o,c,b.children,p),c.child;case 9:return w=c.type._context,b=c.pendingProps.children,re(c),w=fe(w),b=b(w),c.flags|=1,va(o,c,b,p),c.child;case 14:return wg(o,c,c.type,c.pendingProps,p);case 15:return Eg(o,c,c.type,c.pendingProps,p);case 19:return lh(o,c,p);case 31:return b=c.pendingProps,p=c.mode,b={mode:b.mode,children:b.children},o===null?(p=df(b,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=$i(o.child,b),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Cg(o,c,p);case 24:return re(c),b=fe(nn),o===null?(w=Bn(),w===null&&(w=Xt,A=Ue(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=p),w=A),c.memoizedState={parent:b,cache:w},Je(c),Ba(c,nn,w)):((o.lanes&p)!==0&&(rt(o,c),xt(c,null,null,p),Fe()),w=o.memoizedState,A=c.memoizedState,w.parent!==b?(w={parent:b,cache:b},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Ba(c,nn,b)):(b=A.cache,Ba(c,nn,b),b!==w.cache&&Bi(c,[nn],p,!0))),va(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function nr(o){o.flags|=4}function oh(o,c){if(o!==null&&o.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(o=c.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function Uu(o,c,p,b){if(Lt)for(p=c.child;p!==null;){if(p.tag===5||p.tag===6)Hn(o,p.stateNode);else if(!(p.tag===4||kt&&p.tag===27)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else if(_i)for(var w=c.child;w!==null;){if(w.tag===5){var A=w.stateNode;p&&b&&(A=kh(A,w.type,w.memoizedProps)),Hn(o,A)}else if(w.tag===6)A=w.stateNode,p&&b&&(A=Lh(A,w.memoizedProps)),Hn(o,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)A=w.child,A!==null&&(A.return=w),Uu(o,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function gf(o,c,p,b){var w=!1;if(_i)for(var A=c.child;A!==null;){if(A.tag===5){var L=A.stateNode;p&&b&&(L=kh(L,A.type,A.memoizedProps)),zh(o,L)}else if(A.tag===6)L=A.stateNode,p&&b&&(L=Lh(L,A.memoizedProps)),zh(o,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)w=A.child,w!==null&&(w.return=A),gf(o,A,!0,!0),w=!0;else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return w;A=A.return}A.sibling.return=A.return,A=A.sibling}return w}function uh(o,c){if(_i&&oh(o,c)){o=c.stateNode;var p=o.containerInfo,b=jh();gf(b,c,!1,!1),o.pendingChildren=b,nr(c),tp(p,b)}}function pf(o,c,p,b){if(Lt)o.memoizedProps!==b&&nr(c);else if(_i){var w=o.stateNode,A=o.memoizedProps;if((o=oh(o,c))||A!==b){var L=Cn.current;A=nc(w,p,A,b,!o,null),A===w?c.stateNode=w:(Wu(A,p,b,L)&&nr(c),c.stateNode=A,o?Uu(A,c,!1,!1):nr(c))}else c.stateNode=w}}function mf(o,c,p){if(Xn(c,p)){if(o.flags|=16777216,!jf(c,p))if(wf())o.flags|=8192;else throw fr=ya,Xf}else o.flags&=-16777217}function Og(o,c){if(gp(c)){if(o.flags|=16777216,!ns(c))if(wf())o.flags|=8192;else throw fr=ya,Xf}else o.flags&=-16777217}function vf(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?H():536870912,o.lanes|=c,Tr|=c)}function ku(o,c){if(!Zt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Un(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(c)for(var w=o.child;w!==null;)p|=w.lanes|w.childLanes,b|=w.subtreeFlags&65011712,b|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)p|=w.lanes|w.childLanes,b|=w.subtreeFlags,b|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=b,o.childLanes=p,c}function Xv(o,c,p){var b=c.pendingProps;switch(Ee(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(c),null;case 1:return Un(c),null;case 3:return p=c.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),Ha(nn),be(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(St(c)?nr(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,En())),uh(o,c),Un(c),null;case 26:if(Za){p=c.type;var w=c.memoizedState;return o===null?(nr(c),w!==null?(Un(c),Og(c,w)):(Un(c),mf(c,p,b))):w?w!==o.memoizedState?(nr(c),Un(c),Og(c,w)):(Un(c),c.flags&=-16777217):(Lt?o.memoizedProps!==b&&nr(c):pf(o,c,p,b),Un(c),mf(c,p,b)),null}case 27:if(kt){if(Me(c),p=Ys.current,w=c.type,o!==null&&c.stateNode!=null)Lt?o.memoizedProps!==b&&nr(c):pf(o,c,w,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Un(c),null}o=Cn.current,St(c)?nt(c,o):(o=lc(w,b,p,o,!0),c.stateNode=o,nr(c))}return Un(c),null}case 5:if(Me(c),p=c.type,o!==null&&c.stateNode!=null)pf(o,c,p,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Un(c),null}o=Cn.current,St(c)?nt(c,o):(w=fn(p,b,Ys.current,o,c),Uu(w,c,!1,!1),c.stateNode=w,Wu(w,p,b,o)&&nr(c))}return Un(c),mf(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)p=o.memoizedProps,Lt?p!==b&&nr(c):_i&&(p!==b?(c.stateNode=Ps(b,Ys.current,Cn.current,c),nr(c)):c.stateNode=o.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(o=Ys.current,p=Cn.current,St(c)){if(!sr)throw Error(i(176));if(o=c.stateNode,p=c.memoizedProps,b=null,w=kn,w!==null)switch(w.tag){case 27:case 5:b=w.memoizedProps}rc(o,p,c,b)||Ke(c)}else c.stateNode=Ps(b,o,p,c)}return Un(c),null;case 13:if(b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=St(c),b!==null&&b.dehydrated!==null){if(o===null){if(!w)throw Error(i(318));if(!sr)throw Error(i(344));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));Gh(w,c)}else gn(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),w=!1}else w=En(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Xi(c),c):(Xi(c),null)}if(Xi(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=b!==null,o=o!==null&&o.memoizedState!==null,p){b=c.child,w=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(w=b.alternate.memoizedState.cachePool.pool);var A=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==w&&(b.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),vf(c,c.updateQueue),Un(c),null;case 4:return be(),uh(o,c),o===null&&Pg(c.stateNode.containerInfo),Un(c),null;case 10:return Ha(c.type),Un(c),null;case 19:if(C(pt),w=c.memoizedState,w===null)return Un(c),null;if(b=(c.flags&128)!==0,A=w.rendering,A===null)if(b)ku(w,!1);else{if(Ln!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=sf(o),A!==null){for(c.flags|=128,ku(w,!1),o=A.updateQueue,c.updateQueue=o,vf(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)In(p,o),p=p.sibling;return T(pt,pt.current&1|2),c.child}o=o.sibling}w.tail!==null&&dn()>Xo&&(c.flags|=128,b=!0,ku(w,!1),c.lanes=4194304)}else{if(!b)if(o=sf(A),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,vf(c,o),ku(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Zt)return Un(c),null}else 2*dn()-w.renderingStartTime>Xo&&p!==536870912&&(c.flags|=128,b=!0,ku(w,!1),c.lanes=4194304);w.isBackwards?(A.sibling=c.child,c.child=A):(o=w.last,o!==null?o.sibling=A:c.child=A,w.last=A)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=dn(),c.sibling=null,o=pt.current,T(pt,b?o&1|2:o&1),c):(Un(c),null);case 22:case 23:return Xi(c),rn(),b=c.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(p&536870912)!==0&&(c.flags&128)===0&&(Un(c),c.subtreeFlags&6&&(c.flags|=8192)):Un(c),p=c.updateQueue,p!==null&&vf(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048),o!==null&&C(Nn),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Ha(nn),Un(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function yr(o,c){switch(Ee(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ha(nn),be(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Me(c),null;case 13:if(Xi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));gn()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return C(pt),null;case 4:return be(),null;case 10:return Ha(c.type),null;case 22:case 23:return Xi(c),rn(),o!==null&&C(Nn),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ha(nn),null;case 25:return null;default:return null}}function So(o,c){switch(Ee(c),c.tag){case 3:Ha(nn),be();break;case 26:case 27:case 5:Me(c);break;case 4:be();break;case 13:Xi(c);break;case 19:C(pt);break;case 10:Ha(c.type);break;case 22:case 23:Xi(c),rn(),o!==null&&C(Nn);break;case 24:Ha(nn)}}function xo(o,c){try{var p=c.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&o)===o){b=void 0;var A=p.create,L=p.inst;b=A(),L.destroy=b}p=p.next}while(p!==w)}}catch(Z){tn(c,c.return,Z)}}function Ki(o,c,p){try{var b=c.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var A=w.next;b=A;do{if((b.tag&o)===o){var L=b.inst,Z=L.destroy;if(Z!==void 0){L.destroy=void 0,w=c;var te=p,Re=Z;try{Re()}catch(Le){tn(w,te,Le)}}}b=b.next}while(b!==A)}}catch(Le){tn(c,c.return,Le)}}function ch(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{vn(c,p)}catch(b){tn(o,o.return,b)}}}function fh(o,c,p){p.props=xl(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(b){tn(o,c,b)}}function Cl(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var b=Mo(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof p=="function"?o.refCleanup=p(b):p.current=b}}catch(w){tn(o,c,w)}}function ci(o,c){var p=o.ref,b=o.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(w){tn(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(w){tn(o,c,w)}else p.current=null}function Tl(o){var c=o.type,p=o.memoizedProps,b=o.stateNode;try{Dh(b,c,p,o)}catch(w){tn(o,o.return,w)}}function Lu(o,c,p){try{Xg(o.stateNode,o.type,p,c,o)}catch(b){tn(o,o.return,b)}}function wo(o){return o.tag===5||o.tag===3||(Za?o.tag===26:!1)||(kt?o.tag===27&&Hl(o.type):!1)||o.tag===4}function Pu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wo(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(kt&&o.tag===27&&Hl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yf(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?Fg(p,o,c):Zg(p,o);else if(b!==4&&(kt&&b===27&&Hl(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(yf(o,c,p),o=o.sibling;o!==null;)yf(o,c,p),o=o.sibling}function fi(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?Kg(p,o,c):Yg(p,o);else if(b!==4&&(kt&&b===27&&Hl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(fi(o,c,p),o=o.sibling;o!==null;)fi(o,c,p),o=o.sibling}function Al(o,c,p){o=o.containerInfo;try{Uh(o,p)}catch(b){tn(c,c.return,b)}}function bf(o){var c=o.stateNode,p=o.memoizedProps;try{Ih(o.type,p,c,o)}catch(b){tn(o,o.return,b)}}function Ng(o,c){for(Ls(o.containerInfo),Mt=c;Mt!==null;)if(o=Mt,c=o.child,(o.subtreeFlags&1024)!==0&&c!==null)c.return=o,Mt=c;else for(;Mt!==null;){o=Mt;var p=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&p!==null){c=void 0;var b=o,w=p.memoizedProps;p=p.memoizedState;var A=b.stateNode;try{var L=xl(b.type,w,b.elementType===b.type);c=A.getSnapshotBeforeUpdate(L,p),A.__reactInternalSnapshotBeforeUpdate=c}catch(Z){tn(b,b.return,Z)}}break;case 3:(c&1024)!==0&&Lt&&Uf(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=o.sibling,c!==null){c.return=o.return,Mt=c;break}Mt=o.return}}function As(o,c,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Fi(o,p),b&4&&xo(5,p);break;case 1:if(Fi(o,p),b&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(L){tn(p,p.return,L)}else{var w=xl(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(L){tn(p,p.return,L)}}b&64&&ch(p),b&512&&Cl(p,p.return);break;case 3:if(Fi(o,p),b&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=Mo(p.child.stateNode);break;case 1:c=p.child.stateNode}try{vn(o,c)}catch(L){tn(p,p.return,L)}}break;case 27:kt&&c===null&&b&4&&bf(p);case 26:case 5:Fi(o,p),c===null&&b&4&&Tl(p),b&512&&Cl(p,p.return);break;case 12:Fi(o,p);break;case 13:Fi(o,p),b&4&&Mg(o,p),b&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=Ma.bind(null,p),Ph(o,p))));break;case 22:if(b=p.memoizedState!==null||za,!b){c=c!==null&&c.memoizedState!==null||Sn,w=za;var A=Sn;za=b,(Sn=c)&&!A?Jn(o,p,(p.subtreeFlags&8772)!==0):Fi(o,p),za=w,Sn=A}break;case 30:break;default:Fi(o,p)}}function dh(o){var c=o.alternate;c!==null&&(o.alternate=null,dh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&lr(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Or(o,c,p){for(p=p.child;p!==null;)_f(o,c,p),p=p.sibling}function _f(o,c,p){if(Ia&&typeof Ia.onCommitFiberUnmount=="function")try{Ia.onCommitFiberUnmount(Hs,p)}catch{}switch(p.tag){case 26:if(Za){Sn||ci(p,c),Or(o,c,p),p.memoizedState?Yh(p.memoizedState):p.stateNode&&Sr(p.stateNode);break}case 27:if(kt){Sn||ci(p,c);var b=mn,w=Qn;Hl(p.type)&&(mn=p.stateNode,Qn=!1),Or(o,c,p),Bf(p.stateNode),mn=b,Qn=w;break}case 5:Sn||ci(p,c);case 6:if(Lt){if(b=mn,w=Qn,mn=null,Or(o,c,p),mn=b,Qn=w,mn!==null)if(Qn)try{$g(mn,p.stateNode)}catch(A){tn(p,c,A)}else try{Qg(mn,p.stateNode)}catch(A){tn(p,c,A)}}else Or(o,c,p);break;case 18:Lt&&mn!==null&&(Qn?hp(mn,p.stateNode):Pf(mn,p.stateNode));break;case 4:Lt?(b=mn,w=Qn,mn=p.stateNode.containerInfo,Qn=!0,Or(o,c,p),mn=b,Qn=w):(_i&&Al(p.stateNode,p,jh()),Or(o,c,p));break;case 0:case 11:case 14:case 15:Sn||Ki(2,p,c),Sn||Ki(4,p,c),Or(o,c,p);break;case 1:Sn||(ci(p,c),b=p.stateNode,typeof b.componentWillUnmount=="function"&&fh(p,c,b)),Or(o,c,p);break;case 21:Or(o,c,p);break;case 22:Sn=(b=Sn)||p.memoizedState!==null,Or(o,c,p),Sn=b;break;default:Or(o,c,p)}}function Mg(o,c){if(sr&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{dp(o)}catch(p){tn(c,c.return,p)}}function Kv(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Ai),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Ai),c;default:throw Error(i(435,o.tag))}}function hh(o,c){var p=Kv(o);c.forEach(function(b){var w=Rf.bind(null,o,b);p.has(b)||(p.add(b),b.then(w,w))})}function Aa(o,c){var p=c.deletions;if(p!==null)for(var b=0;b<p.length;b++){var w=p[b],A=o,L=c;if(Lt){var Z=L;e:for(;Z!==null;){switch(Z.tag){case 27:if(kt){if(Hl(Z.type)){mn=Z.stateNode,Qn=!1;break e}break}case 5:mn=Z.stateNode,Qn=!1;break e;case 3:case 4:mn=Z.stateNode.containerInfo,Qn=!0;break e}Z=Z.return}if(mn===null)throw Error(i(160));_f(A,L,w),mn=null,Qn=!1}else _f(A,L,w);A=w.alternate,A!==null&&(A.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)gh(c,o),c=c.sibling}function gh(o,c){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Aa(c,o),Ra(o),b&4&&(Ki(3,o,o.return),xo(3,o),Ki(5,o,o.return));break;case 1:Aa(c,o),Ra(o),b&512&&(Sn||p===null||ci(p,p.return)),b&64&&za&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:if(Za){var w=Cr;if(Aa(c,o),Ra(o),b&512&&(Sn||p===null||ci(p,p.return)),b&4){b=p!==null?p.memoizedState:null;var A=o.memoizedState;p===null?A===null?o.stateNode===null?o.stateNode=ko(w,o.type,o.memoizedProps,o):Zh(w,o.type,o.stateNode):o.stateNode=Vh(w,A,o.memoizedProps):b!==A?(b===null?p.stateNode!==null&&Sr(p.stateNode):Yh(b),A===null?Zh(w,o.type,o.stateNode):Vh(w,A,o.memoizedProps)):A===null&&o.stateNode!==null&&Lu(o,o.memoizedProps,p.memoizedProps)}break}case 27:if(kt){Aa(c,o),Ra(o),b&512&&(Sn||p===null||ci(p,p.return)),p!==null&&b&4&&Lu(o,o.memoizedProps,p.memoizedProps);break}case 5:if(Aa(c,o),Ra(o),b&512&&(Sn||p===null||ci(p,p.return)),Lt){if(o.flags&32){w=o.stateNode;try{Wg(w)}catch(Le){tn(o,o.return,Le)}}b&4&&o.stateNode!=null&&(w=o.memoizedProps,Lu(o,w,p!==null?p.memoizedProps:w)),b&1024&&(yc=!0)}break;case 6:if(Aa(c,o),Ra(o),b&4&&Lt){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,p=p!==null?p.memoizedProps:b,w=o.stateNode;try{Ig(w,p,b)}catch(Le){tn(o,o.return,Le)}}break;case 3:if(Za?(Bs(),w=Cr,Cr=Bl(c.containerInfo),Aa(c,o),Cr=w):Aa(c,o),Ra(o),b&4){if(Lt&&sr&&p!==null&&p.memoizedState.isDehydrated)try{fp(c.containerInfo)}catch(Le){tn(o,o.return,Le)}if(_i){b=c.containerInfo,p=c.pendingChildren;try{Uh(b,p)}catch(Le){tn(o,o.return,Le)}}}yc&&(yc=!1,Nr(o));break;case 4:Za?(p=Cr,Cr=Bl(o.stateNode.containerInfo),Aa(c,o),Ra(o),Cr=p):(Aa(c,o),Ra(o)),b&4&&_i&&Al(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Aa(c,o),Ra(o);break;case 13:Aa(c,o),Ra(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Ff=dn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,hh(o,b)));break;case 22:w=o.memoizedState!==null;var L=p!==null&&p.memoizedState!==null,Z=za,te=Sn;if(za=Z||w,Sn=te||L,Aa(c,o),Sn=te,za=Z,Ra(o),b&8192&&(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(p===null||L||za||Sn||sa(o)),Lt)){e:if(p=null,Lt)for(c=o;;){if(c.tag===5||Za&&c.tag===26){if(p===null){L=p=c;try{A=L.stateNode,w?Jg(A):zf(L.stateNode,L.memoizedProps)}catch(Le){tn(L,L.return,Le)}}}else if(c.tag===6){if(p===null){L=c;try{var Re=L.stateNode;w?zo(Re):ep(Re,L.memoizedProps)}catch(Le){tn(L,L.return,Le)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=o.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,hh(o,p))));break;case 19:Aa(c,o),Ra(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,hh(o,b)));break;case 30:break;case 21:break;default:Aa(c,o),Ra(o)}}function Ra(o){var c=o.flags;if(c&2){try{if(Lt){for(var p,b=o.return;b!==null;){if(wo(b)){p=b;break}b=b.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:if(kt){var w=p.stateNode,A=Pu(o);fi(o,A,w);break}case 5:var L=p.stateNode;p.flags&32&&(Wg(L),p.flags&=-33);var Z=Pu(o);fi(o,Z,L);break;case 3:case 4:var te=p.stateNode.containerInfo,Re=Pu(o);yf(o,Re,te);break;default:throw Error(i(161))}}}catch(Le){tn(o,o.return,Le)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Nr(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Nr(c),c.tag===5&&c.flags&1024&&Oh(c.stateNode),o=o.sibling}}function Fi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)As(o,c.alternate,c),c=c.sibling}function sa(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ki(4,c,c.return),sa(c);break;case 1:ci(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&fh(c,c.return,p),sa(c);break;case 27:kt&&Bf(c.stateNode);case 26:case 5:ci(c,c.return),sa(c);break;case 22:c.memoizedState===null&&sa(c);break;case 30:sa(c);break;default:sa(c)}o=o.sibling}}function Jn(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,w=o,A=c,L=A.flags;switch(A.tag){case 0:case 11:case 15:Jn(w,A,p),xo(4,A);break;case 1:if(Jn(w,A,p),b=A,w=b.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Re){tn(b,b.return,Re)}if(b=A,w=b.updateQueue,w!==null){var Z=b.stateNode;try{var te=w.shared.hiddenCallbacks;if(te!==null)for(w.shared.hiddenCallbacks=null,w=0;w<te.length;w++)en(te[w],Z)}catch(Re){tn(b,b.return,Re)}}p&&L&64&&ch(A),Cl(A,A.return);break;case 27:kt&&bf(A);case 26:case 5:Jn(w,A,p),p&&b===null&&L&4&&Tl(A),Cl(A,A.return);break;case 12:Jn(w,A,p);break;case 13:Jn(w,A,p),p&&L&4&&Mg(w,A);break;case 22:A.memoizedState===null&&Jn(w,A,p),Cl(A,A.return);break;case 30:break;default:Jn(w,A,p)}c=c.sibling}}function Rs(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ye(p))}function Bu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o))}function br(o,c,p,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Hu(o,c,p,b),c=c.sibling}function Hu(o,c,p,b){var w=c.flags;switch(c.tag){case 0:case 11:case 15:br(o,c,p,b),w&2048&&xo(9,c);break;case 1:br(o,c,p,b);break;case 3:br(o,c,p,b),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ye(o)));break;case 12:if(w&2048){br(o,c,p,b),o=c.stateNode;try{var A=c.memoizedProps,L=A.id,Z=A.onPostCommit;typeof Z=="function"&&Z(L,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(te){tn(c,c.return,te)}}else br(o,c,p,b);break;case 13:br(o,c,p,b);break;case 23:break;case 22:A=c.stateNode,L=c.alternate,c.memoizedState!==null?A._visibility&2?br(o,c,p,b):di(o,c):A._visibility&2?br(o,c,p,b):(A._visibility|=2,Os(o,c,p,b,(c.subtreeFlags&10256)!==0)),w&2048&&Rs(L,c);break;case 24:br(o,c,p,b),w&2048&&Bu(c.alternate,c);break;default:br(o,c,p,b)}}function Os(o,c,p,b,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,L=c,Z=p,te=b,Re=L.flags;switch(L.tag){case 0:case 11:case 15:Os(A,L,Z,te,w),xo(8,L);break;case 23:break;case 22:var Le=L.stateNode;L.memoizedState!==null?Le._visibility&2?Os(A,L,Z,te,w):di(A,L):(Le._visibility|=2,Os(A,L,Z,te,w)),w&&Re&2048&&Rs(L.alternate,L);break;case 24:Os(A,L,Z,te,w),w&&Re&2048&&Bu(L.alternate,L);break;default:Os(A,L,Z,te,w)}c=c.sibling}}function di(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,b=c,w=b.flags;switch(b.tag){case 22:di(p,b),w&2048&&Rs(b.alternate,b);break;case 24:di(p,b),w&2048&&Bu(b.alternate,b);break;default:di(p,b)}c=c.sibling}}function Ns(o){if(o.subtreeFlags&ba)for(o=o.child;o!==null;)Gu(o),o=o.sibling}function Gu(o){switch(o.tag){case 26:Ns(o),o.flags&ba&&(o.memoizedState!==null?as(Cr,o.memoizedState,o.memoizedProps):tc(o.type,o.memoizedProps));break;case 5:Ns(o),o.flags&ba&&tc(o.type,o.memoizedProps);break;case 3:case 4:if(Za){var c=Cr;Cr=Bl(o.stateNode.containerInfo),Ns(o),Cr=c}else Ns(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ba,ba=16777216,Ns(o),ba=c):Ns(o));break;default:Ns(o)}}function Rl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function qu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Mt=b,hi(b,o)}Rl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ar(o),o=o.sibling}function ar(o){switch(o.tag){case 0:case 11:case 15:qu(o),o.flags&2048&&Ki(9,o,o.return);break;case 3:qu(o);break;case 12:qu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Eo(o)):qu(o);break;default:qu(o)}}function Eo(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Mt=b,hi(b,o)}Rl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ki(8,c,c.return),Eo(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Eo(c));break;default:Eo(c)}o=o.sibling}}function hi(o,c){for(;Mt!==null;){var p=Mt;switch(p.tag){case 0:case 11:case 15:Ki(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ye(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Mt=b;else e:for(p=o;Mt!==null;){b=Mt;var w=b.sibling,A=b.return;if(dh(b),b===p){Mt=null;break e}if(w!==null){w.return=A,Mt=w;break e}Mt=A}}}function Sf(o){var c=Lg(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(i(364));return c}if(o=Hg(o),o===null)throw Error(i(362));return o.stateNode.current}function Co(o,c){var p=o.tag;switch(c.$$typeof){case Fs:if(o.type===c.value)return!0;break;case _a:e:{for(c=c.value,o=[o,0],p=0;p<o.length;){var b=o[p++],w=b.tag,A=o[p++],L=c[A];if(w!==5&&w!==26&&w!==27||!jo(b)){for(;L!=null&&Co(b,L);)A++,L=c[A];if(A===c.length){c=!0;break e}else for(b=b.child;b!==null;)o.push(b,A),b=b.sibling}}c=!1}return c;case Zo:if((p===5||p===26||p===27)&&Mh(o.stateNode,c.value))return!0;break;case Zl:if((p===5||p===6||p===26||p===27)&&(o=qg(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case Io:if((p===5||p===26||p===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Qi(o){switch(o.$$typeof){case Fs:return"<"+(_(o.value)||"Unknown")+">";case _a:return":has("+(Qi(o)||"")+")";case Zo:return'[role="'+o.value+'"]';case Zl:return'"'+o.value+'"';case Io:return'[data-testname="'+o.value+'"]';default:throw Error(i(365))}}function xf(o,c){var p=[];o=[o,0];for(var b=0;b<o.length;){var w=o[b++],A=w.tag,L=o[b++],Z=c[L];if(A!==5&&A!==26&&A!==27||!jo(w)){for(;Z!=null&&Co(w,Z);)L++,Z=c[L];if(L===c.length)p.push(w);else for(w=w.child;w!==null;)o.push(w,L),w=w.sibling}}return p}function Vu(o,c){if(!Do)throw Error(i(363));o=Sf(o),o=xf(o,c),c=[],o=Array.from(o);for(var p=0;p<o.length;){var b=o[p++],w=b.tag;if(w===5||w===26||w===27)jo(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return c}function la(){if((ut&2)!==0&&Dt!==0)return Dt&-Dt;if(ot.T!==null){var o=bn;return o!==0?o:De()}return Th()}function Ol(){kr===0&&(kr=(Dt&536870912)===0||Zt?P():536870912);var o=Ur.current;return o!==null&&(o.flags|=32),kr}function Oa(o,c,p){(o===Xt&&(an===2||an===9)||o.cancelPendingCommit!==null)&&(Dr(o,0),rr(o,Dt,kr,!1)),Y(o,p),((ut&2)===0||o!==Xt)&&(o===Xt&&((ut&2)===0&&(Ws|=p),Ln===4&&rr(o,Dt,kr,!1)),Qe(o))}function Yu(o,c,p){if((ut&6)!==0)throw Error(i(327));var b=!p&&(c&124)===0&&(c&o.expiredLanes)===0||j(o,c),w=b?pi(o,c):It(o,c,!0),A=b;do{if(w===0){Ri&&!b&&rr(o,c,0,!1);break}else{if(p=o.current.alternate,A&&!Mr(p)){w=It(o,c,!1),A=!1;continue}if(w===2){if(A=c,o.errorRecoveryDisabledLanes&A)var L=0;else L=o.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){c=L;e:{var Z=o;w=Js;var te=sr&&Z.current.memoizedState.isDehydrated;if(te&&(Dr(Z,L).flags|=256),L=It(Z,L,!1),L!==2){if(bc&&!te){Z.errorRecoveryDisabledLanes|=A,Ws|=A,w=4;break e}A=Ua,Ua=w,A!==null&&(Ua===null?Ua=A:Ua.push.apply(Ua,A))}w=L}if(A=!1,w!==2)continue}}if(w===1){Dr(o,0),rr(o,c,0,!0);break}e:{switch(b=o,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:rr(b,c,kr,!us);break e;case 2:Ua=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(w=Ff+300-dn(),10<w)){if(rr(b,c,kr,!us),M(b,0,!0)!==0)break e;b.timeoutHandle=Df(_r.bind(null,b,p,Ua,_c,el,c,kr,Ws,Tr,us,A,2,-0,0),w);break e}_r(b,p,Ua,_c,el,c,kr,Ws,Tr,us,A,0,-0,0)}}break}while(!0);Qe(o)}function _r(o,c,p,b,w,A,L,Z,te,Re,Le,Ze,Ie,Tt){if(o.timeoutHandle=zr,Ze=c.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(ec(),Gu(c),Ze=Rh(),Ze!==null)){o.cancelPendingCommit=Ze(yh.bind(null,o,c,A,p,b,w,L,Z,te,Le,1,Ie,Tt)),rr(o,A,L,!Re);return}yh(o,c,A,p,b,w,L,Z,te)}function Mr(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var w=p[b],A=w.getSnapshot;w=w.value;try{if(!xr(A(),w))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function rr(o,c,p,b){c&=~Kf,c&=~Ws,o.suspendedLanes|=c,o.pingedLanes&=~c,b&&(o.warmLanes|=c),b=o.expirationTimes;for(var w=c;0<w;){var A=31-ur(w),L=1<<A;b[A]=-1,w&=~L}p!==0&&oe(o,p,c)}function gi(){return(ut&6)===0?(bt(0),!1):!0}function Ir(){if(Et!==null){if(an===0)var o=Et.return;else o=Et,Da=$r=null,Ta(o),Ci=null,Vo=0,o=Et;for(;o!==null;)So(o.alternate,o),o=o.return;Et=null}}function Dr(o,c){var p=o.timeoutHandle;p!==zr&&(o.timeoutHandle=zr,Ju(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Ir(),Xt=o,Et=p=$i(o.current,null),Dt=c,an=0,Qa=null,us=!1,Ri=j(o,c),bc=!1,Tr=kr=Kf=Ws=$n=Ln=0,Ua=Js=null,el=!1,(c&8)!==0&&(c|=c&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=c;0<b;){var w=31-ur(b),A=1<<w;c|=o[w],b&=~A}return Vn=c,pl(),p}function ph(o,c){At=null,ot.H=Ks,c===Go||c===pn?(c=Gi(),an=3):c===Xf?(c=Gi(),an=4):an=c===qt?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Qa=c,Et===null&&(Ln=1,of(o,$(c,o.current)))}function wf(){var o=Ur.current;return o===null?!0:(Dt&4194048)===Dt?Ti===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?o===Ti:!1}function Ef(){var o=ot.H;return ot.H=Ks,o===null?Ks:o}function Na(){var o=ot.A;return ot.A=Yo,o}function On(){Ln=4,us||(Dt&4194048)!==Dt&&Ur.current!==null||(Ri=!0),($n&134217727)===0&&(Ws&134217727)===0||Xt===null||rr(Xt,Dt,kr,!1)}function It(o,c,p){var b=ut;ut|=2;var w=Ef(),A=Na();(Xt!==o||Dt!==c)&&(_c=null,Dr(o,c)),c=!1;var L=Ln;e:do try{if(an!==0&&Et!==null){var Z=Et,te=Qa;switch(an){case 8:Ir(),L=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(c=!0);var Re=an;if(an=0,Qa=null,Ml(o,Z,te,Re),p&&Ri){L=0;break e}break;default:Re=an,an=0,Qa=null,Ml(o,Z,te,Re)}}Nl(),L=Ln;break}catch(Le){ph(o,Le)}while(!0);return c&&o.shellSuspendCounter++,Da=$r=null,ut=b,ot.H=w,ot.A=A,Et===null&&(Xt=null,Dt=0,pl()),L}function Nl(){for(;Et!==null;)Ms(Et)}function pi(o,c){var p=ut;ut|=2;var b=Ef(),w=Na();Xt!==o||Dt!==c?(_c=null,Xo=dn()+500,Dr(o,c)):Ri=j(o,c);e:do try{if(an!==0&&Et!==null){c=Et;var A=Qa;t:switch(an){case 1:an=0,Qa=null,Ml(o,c,A,1);break;case 2:case 9:if(Xc(A)){an=0,Qa=null,vh(c);break}c=function(){an!==2&&an!==9||Xt!==o||(an=7),Qe(o)},A.then(c,c);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:Xc(A)?(an=0,Qa=null,vh(c)):(an=0,Qa=null,Ml(o,c,A,7));break;case 5:var L=null;switch(Et.tag){case 26:L=Et.memoizedState;case 5:case 27:var Z=Et,te=Z.type,Re=Z.pendingProps;if(L?ns(L):jf(te,Re)){an=0,Qa=null;var Le=Z.sibling;if(Le!==null)Et=Le;else{var Ze=Z.return;Ze!==null?(Et=Ze,Ds(Ze)):Et=null}break t}}an=0,Qa=null,Ml(o,c,A,5);break;case 6:an=0,Qa=null,Ml(o,c,A,6);break;case 8:Ir(),Ln=6;break e;default:throw Error(i(462))}}mh();break}catch(Ie){ph(o,Ie)}while(!0);return Da=$r=null,ot.H=b,ot.A=w,ut=p,Et!==null?0:(Xt=null,Dt=0,pl(),Ln)}function mh(){for(;Et!==null&&!e1();)Ms(Et)}function Ms(o){var c=zu(o.alternate,o,Vn);o.memoizedProps=o.pendingProps,c===null?Ds(o):Et=c}function vh(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=Ag(p,c,c.pendingProps,c.type,void 0,Dt);break;case 11:c=Ag(p,c,c.pendingProps,c.type.render,c.ref,Dt);break;case 5:Ta(c);default:So(p,c),c=Et=In(c,Vn),c=zu(p,c,Vn)}o.memoizedProps=o.pendingProps,c===null?Ds(o):Et=c}function Ml(o,c,p,b){Da=$r=null,Ta(c),Ci=null,Vo=0;var w=c.return;try{if(Zv(o,w,c,p,Dt)){Ln=1,of(o,$(p,o.current)),Et=null;return}}catch(A){if(w!==null)throw Et=w,A;Ln=1,of(o,$(p,o.current)),Et=null;return}c.flags&32768?(Zt||b===1?o=!0:Ri||(Dt&536870912)!==0?o=!1:(us=o=!0,(b===2||b===9||b===3||b===6)&&(b=Ur.current,b!==null&&b.tag===13&&(b.flags|=16384))),To(c,o)):Ds(c)}function Ds(o){var c=o;do{if((c.flags&32768)!==0){To(c,us);return}o=c.return;var p=Xv(c.alternate,c,Vn);if(p!==null){Et=p;return}if(c=c.sibling,c!==null){Et=c;return}Et=c=o}while(c!==null);Ln===0&&(Ln=5)}function To(o,c){do{var p=yr(o.alternate,o);if(p!==null){p.flags&=32767,Et=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Et=o;return}Et=o=p}while(o!==null);Ln=6,Et=null}function yh(o,c,p,b,w,A,L,Z,te){o.cancelPendingCommit=null;do jr();while(ea!==0);if((ut&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=$h,F(o,p,A,L,Z,te),o===Xt&&(Et=Xt=null,Dt=0),Ko=c,tl=o,Fo=p,Qf=A,$f=w,Il=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Dg(qf,function(){return vi(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=ot.T,ot.T=null,w=Kr(),oa(2),L=ut,ut|=4;try{Ng(o,c,p)}finally{ut=L,oa(w),ot.T=b}}ea=1,Ao(),Cf(),js()}}function Ao(){if(ea===1){ea=0;var o=tl,c=Ko,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ot.T,ot.T=null;var b=Kr();oa(2);var w=ut;ut|=4;try{gh(c,o),Nt(o.containerInfo)}finally{ut=w,oa(b),ot.T=p}}o.current=c,ea=2}}function Cf(){if(ea===2){ea=0;var o=tl,c=Ko,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ot.T,ot.T=null;var b=Kr();oa(2);var w=ut;ut|=4;try{As(o,c.alternate,c)}finally{ut=w,oa(b),ot.T=p}}ea=3}}function js(){if(ea===4||ea===3){ea=0,mp();var o=tl,c=Ko,p=Fo,b=Il;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ea=5:(ea=0,Ko=tl=null,mi(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Oi=null),he(p),c=c.stateNode,Ia&&typeof Ia.onCommitFiberRoot=="function")try{Ia.onCommitFiberRoot(Hs,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=ot.T,w=Kr(),oa(2),ot.T=null;try{for(var A=o.onRecoverableError,L=0;L<b.length;L++){var Z=b[L];A(Z.value,{componentStack:Z.stack})}}finally{ot.T=c,oa(w)}}(Fo&3)!==0&&jr(),Qe(o),w=o.pendingLanes,(p&4194090)!==0&&(w&42)!==0?o===Wf?nl++:(nl=0,Wf=o):nl=0,bt(0)}}function mi(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ye(c)))}function jr(o){return Ao(),Cf(),js(),vi()}function vi(){if(ea!==5)return!1;var o=tl,c=Qf;Qf=0;var p=he(Fo),b=32>p?32:p;p=ot.T;var w=Kr();try{oa(b),ot.T=null,b=$f,$f=null;var A=tl,L=Fo;if(ea=0,Ko=tl=null,Fo=0,(ut&6)!==0)throw Error(i(331));var Z=ut;if(ut|=4,ar(A.current),Hu(A,A.current,L,b),ut=Z,bt(0,!1),Ia&&typeof Ia.onPostCommitFiberRoot=="function")try{Ia.onPostCommitFiberRoot(Hs,A)}catch{}return!0}finally{oa(w),ot.T=p,mi(o,c)}}function Tf(o,c,p){c=$(p,c),c=uf(o.stateNode,c,2),o=$e(o,c,2),o!==null&&(Y(o,2),Qe(o))}function tn(o,c,p){if(o.tag===3)Tf(o,o,p);else for(;c!==null;){if(c.tag===3){Tf(c,o,p);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Oi===null||!Oi.has(b))){o=$(p,o),p=_g(2),b=$e(c,p,2),b!==null&&(Sg(p,b,c,o),Y(b,2),Qe(b));break}}c=c.return}}function Dl(o,c,p){var b=o.pingCache;if(b===null){b=o.pingCache=new $s;var w=new Set;b.set(c,w)}else w=b.get(c),w===void 0&&(w=new Set,b.set(c,w));w.has(p)||(bc=!0,w.add(p),o=Af.bind(null,o,c,p),c.then(o,o))}function Af(o,c,p){var b=o.pingCache;b!==null&&b.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Xt===o&&(Dt&p)===p&&(Ln===4||Ln===3&&(Dt&62914560)===Dt&&300>dn()-Ff?(ut&2)===0&&Dr(o,0):Kf|=p,Tr===Dt&&(Tr=0)),Qe(o)}function zs(o,c){c===0&&(c=H()),o=se(o,c),o!==null&&(Y(o,c),Qe(o))}function Ma(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),zs(o,p)}function Rf(o,c){var p=0;switch(o.tag){case 13:var b=o.stateNode,w=o.memoizedState;w!==null&&(p=w.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),zs(o,p)}function Dg(o,c){return uc(o,c)}function Fv(o,c,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $i(o,c){var p=o.alternate;return p===null?(p=n(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function In(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Ro(o,c,p,b,w,A){var L=0;if(b=o,typeof o=="function")bh(o)&&(L=1);else if(typeof o=="string")L=Za&&kt?ic(o,p,Cn.current)?26:Xh(o)?27:5:Za?ic(o,p,Cn.current)?26:5:kt&&Xh(o)?27:5;else e:switch(o){case Pl:return o=n(31,p,c,w),o.elementType=Pl,o.lanes=A,o;case Ll:return Xr(p.children,w,A,c);case Iu:L=8,w|=24;break;case Nf:return o=n(12,p,c,w|2),o.elementType=Nf,o.lanes=A,o;case Ku:return o=n(13,p,c,w),o.elementType=Ku,o.lanes=A,o;case Fu:return o=n(19,p,c,w),o.elementType=Fu,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Xu:case Ji:L=10;break e;case xh:L=9;break e;case yi:L=11;break e;case bi:L=14;break e;case Ya:L=16,b=null;break e}L=29,p=Error(i(130,o===null?"null":typeof o,"")),b=null}return c=n(L,p,c,w),c.elementType=o,c.type=b,c.lanes=A,c}function Xr(o,c,p,b){return o=n(7,o,b,c),o.lanes=p,o}function jl(o,c,p){return o=n(6,o,null,c),o.lanes=p,o}function Zu(o,c,p){return c=n(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function Oo(o,c,p,b,w,A,L,Z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=zr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=b,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function zl(o,c,p,b,w,A,L,Z,te,Re,Le,Ze){return o=new Oo(o,c,p,L,Z,te,Re,Ze),c=1,A===!0&&(c|=24),A=n(3,null,null,c),o.current=A,A.stateNode=o,c=Ue(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:b,isDehydrated:p,cache:c},Je(A),o}function jg(o){return o?(o=Gl,o):Gl}function _h(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(c),o=o!==null?g(o):null,o===null?null:Mo(o.stateNode)}function zg(o,c,p,b,w,A){w=jg(w),b.context===null?b.context=w:b.pendingContext=w,b=Xe(c),b.payload={element:p},A=A===void 0?null:A,A!==null&&(b.callback=A),p=$e(o,b,c),p!==null&&(Oa(p,o,c),it(p,o,c))}function Sh(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function Wi(o,c){Sh(o,c),(o=o.alternate)&&Sh(o,c)}var Ot={},Of=cv(),ir=h2(),Ul=Object.assign,Ug=Symbol.for("react.element"),kl=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),Iu=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),Xu=Symbol.for("react.provider"),xh=Symbol.for("react.consumer"),Ji=Symbol.for("react.context"),yi=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),bi=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),Pl=Symbol.for("react.activity"),wh=Symbol.for("react.memo_cache_sentinel"),Mf=Symbol.iterator,Qu=Symbol.for("react.client.reference"),ks=Array.isArray,ot=Of.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kg=e.rendererVersion,No=e.rendererPackageName,$u=e.extraDevToolsConfig,Mo=e.getPublicInstance,Eh=e.getRootHostContext,Ch=e.getChildHostContext,Ls=e.prepareForCommit,Nt=e.resetAfterCommit,fn=e.createInstance;e.cloneMutableInstance;var Hn=e.appendInitialChild,Wu=e.finalizeInitialChildren,es=e.shouldSetTextContent,Ps=e.createTextInstance;e.cloneMutableTextInstance;var Df=e.scheduleTimeout,Ju=e.cancelTimeout,zr=e.noTimeout,ts=e.isPrimaryRenderer;e.warnsIfNotActing;var Lt=e.supportsMutation,_i=e.supportsPersistence,sr=e.supportsHydration,Lg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Pg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var oa=e.setCurrentUpdatePriority,Kr=e.getCurrentUpdatePriority,Th=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Ah=e.shouldAttemptEagerTransition,lr=e.detachDeletedInstance;e.requestPostPaintCallback;var Xn=e.maySuspendCommit,jf=e.preloadInstance,ec=e.startSuspendingCommit,tc=e.suspendInstance;e.suspendOnActiveViewTransition;var Rh=e.waitForCommitToBeReady,or=e.NotPendingTransition,Si=e.HostTransitionContext,Oh=e.resetFormInstance;e.bindToConsole;var Nh=e.supportsMicrotasks,Bg=e.scheduleMicrotask,Do=e.supportsTestSelectors,Hg=e.findFiberRoot,Gg=e.getBoundingRect,qg=e.getTextContent,jo=e.isHiddenSubtree,Mh=e.matchAccessibilityRole,Vg=e.setFocusIfFocusable,Qv=e.setupIntersectionObserver,Yg=e.appendChild,Zg=e.appendChildToContainer,Ig=e.commitTextUpdate,Dh=e.commitMount,Xg=e.commitUpdate,Kg=e.insertBefore,Fg=e.insertInContainerBefore,Qg=e.removeChild,$g=e.removeChildFromContainer,Wg=e.resetTextContent,Jg=e.hideInstance,zo=e.hideTextInstance,zf=e.unhideInstance,ep=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var Uf=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var nc=e.cloneInstance,jh=e.createContainerChildSet,zh=e.appendChildToContainerChildSet,tp=e.finalizeContainerChildren,Uh=e.replaceContainerChildren,kh=e.cloneHiddenInstance,Lh=e.cloneHiddenTextInstance,ac=e.isSuspenseInstancePending,kf=e.isSuspenseInstanceFallback,np=e.getSuspenseInstanceFallbackErrorDetails,Ph=e.registerSuspenseInstanceRetry,ap=e.canHydrateFormStateMarker,rp=e.isFormStateMarkerMatching,ip=e.getNextHydratableSibling,Bh=e.getNextHydratableSiblingAfterSingleton,sp=e.getFirstHydratableChild,lp=e.getFirstHydratableChildWithinContainer,Hh=e.getFirstHydratableChildWithinSuspenseInstance,op=e.getFirstHydratableChildWithinSingleton,up=e.canHydrateInstance,$v=e.canHydrateTextInstance,Wv=e.canHydrateSuspenseInstance,cp=e.hydrateInstance,rc=e.hydrateTextInstance,Gh=e.hydrateSuspenseInstance,Lf=e.getNextHydratableInstanceAfterSuspenseInstance,fp=e.commitHydratedContainer,dp=e.commitHydratedSuspenseInstance,Pf=e.clearSuspenseBoundary,hp=e.clearSuspenseBoundaryFromContainer,qh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Jv=e.validateHydratableInstance,Uo=e.validateHydratableTextInstance,Za=e.supportsResources,ic=e.isHostHoistableType,Bl=e.getHoistableRoot,sc=e.getResource,Vh=e.acquireResource,Yh=e.releaseResource,ko=e.hydrateHoistable,Zh=e.mountHoistable,Sr=e.unmountHoistable,xi=e.createHoistableInstance,Bs=e.prepareToCommitHoistables,gp=e.mayResourceSuspendCommit,ns=e.preloadResource,as=e.suspendResource,kt=e.supportsSingletons,lc=e.resolveSingletonInstance,Ih=e.acquireSingletonInstance,Bf=e.releaseSingletonInstance,Xh=e.isHostSingletonType,Hl=e.isSingletonScope,rs=[],is=-1,Gl={},ur=Math.clz32?Math.clz32:R,pp=Math.log,Hf=Math.LN2,oc=256,Lo=4194304,uc=ir.unstable_scheduleCallback,Gf=ir.unstable_cancelCallback,e1=ir.unstable_shouldYield,mp=ir.unstable_requestPaint,dn=ir.unstable_now,ua=ir.unstable_ImmediatePriority,vp=ir.unstable_UserBlockingPriority,qf=ir.unstable_NormalPriority,yp=ir.unstable_IdlePriority,bp=ir.log,_p=ir.unstable_setDisableYieldValue,Hs=null,Ia=null,Vf,Kh,Yf=!1,Zf=new WeakMap,Gs=[],qs=0,cc=null,Po=0,Xa=[],cr=0,Vs=null,Fr=1,wi="",Cn=S(null),ql=S(null),Ys=S(null),fc=S(null),kn=null,Kn=null,Zt=!1,Qr=null,Wt=!1,Fh=Error(i(519)),xr=typeof Object.is=="function"?Object.is:ia,dc=S(null),$r=null,Da=null,Sp=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,b){o.push(b)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},xp=ir.unstable_scheduleCallback,hc=ir.unstable_NormalPriority,nn={$$typeof:Ji,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},gc=null,Zs=null,If=!1,Bo=!1,pc=!1,ss=0,Ho=null,Wr=0,bn=0,Is=null,Qh=ot.S;ot.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&$t(o,c),Qh!==null&&Qh(o,c)};var Nn=S(null),t1=Object.prototype.hasOwnProperty,Go=Error(i(460)),Xf=Error(i(474)),pn=Error(i(542)),ya={then:function(){}},fr=null,wr=[],Vl=0,$h=0,Ei=!1,Ka=!1,ja=S(null),mc=S(0),Fn=0,At=null,Gt=null,_n=null,Jr=!1,Xs=!1,ls=!1,Er=0,qo=0,ei=null,vc=0,Ks={readContext:fe,use:yn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},Yl={readContext:fe,use:yn,useCallback:function(o,c){return ct().memoizedState=[o,c===void 0?null:c],o},useContext:fe,useEffect:Wd,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Ru(4194308,4,mo.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Ru(4194308,4,o,c)},useInsertionEffect:function(o,c){Ru(4,2,o,c)},useMemo:function(o,c){var p=ct();c=c===void 0?null:c;var b=o();if(ls){ge(!0);try{o()}finally{ge(!1)}}return p.memoizedState=[b,c],b},useReducer:function(o,c,p){var b=ct();if(p!==void 0){var w=p(c);if(ls){ge(!0);try{p(c)}finally{ge(!1)}}}else w=c;return b.memoizedState=b.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},b.queue=o,o=o.dispatch=th.bind(null,At,o),[b.memoizedState,o]},useRef:function(o){var c=ct();return o={current:o},c.memoizedState=o},useState:function(o){o=Qc(o);var c=o.queue,p=nf.bind(null,At,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Ou,useDeferredValue:function(o,c){var p=ct();return vo(p,o,c)},useTransition:function(){var o=Qc(!1);return o=eh.bind(null,At,o.queue,!0,!1),ct().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var b=At,w=ct();if(Zt){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),Xt===null)throw Error(i(349));(Dt&124)!==0||Id(b,c,p)}w.memoizedState=p;var A={value:p,getSnapshot:c};return w.queue=A,Wd(cg.bind(null,b,A,o),[o]),b.flags|=2048,Es(9,qi(),Au.bind(null,b,A,p,c),null),p},useId:function(){var o=ct(),c=Xt.identifierPrefix;if(Zt){var p=wi,b=Fr;p=(b&~(1<<32-ur(b)-1)).toString(32)+p,c=""+c+"R"+p,p=Er++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=vc++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Yi,useFormState:Wc,useActionState:Wc,useOptimistic:function(o){var c=ct();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=bo.bind(null,At,!0,p),p.dispatch=c,[o,c]},useMemoCache:ws,useCacheRefresh:function(){return ct().memoizedState=Yv.bind(null,At)}},Wh={readContext:fe,use:yn,useCallback:Nu,useContext:fe,useEffect:po,useImperativeHandle:Vi,useInsertionEffect:ui,useLayoutEffect:tf,useMemo:Jd,useReducer:ma,useRef:bl,useState:function(){return ma(pr)},useDebugValue:Ou,useDeferredValue:function(o,c){var p=zt();return Mu(p,Gt.memoizedState,o,c)},useTransition:function(){var o=ma(pr)[0],c=zt().memoizedState;return[typeof o=="boolean"?o:qa(o),c]},useSyncExternalStore:Tu,useId:Du,useHostTransitionStatus:Yi,useFormState:fg,useActionState:fg,useOptimistic:function(o,c){var p=zt();return $c(p,Gt,o,c)},useMemoCache:ws,useCacheRefresh:yo},wp={readContext:fe,use:yn,useCallback:Nu,useContext:fe,useEffect:po,useImperativeHandle:Vi,useInsertionEffect:ui,useLayoutEffect:tf,useMemo:Jd,useReducer:Zd,useRef:bl,useState:function(){return Zd(pr)},useDebugValue:Ou,useDeferredValue:function(o,c){var p=zt();return Gt===null?vo(p,o,c):Mu(p,Gt.memoizedState,o,c)},useTransition:function(){var o=Zd(pr)[0],c=zt().memoizedState;return[typeof o=="boolean"?o:qa(o),c]},useSyncExternalStore:Tu,useId:Du,useHostTransitionStatus:Yi,useFormState:ef,useActionState:ef,useOptimistic:function(o,c){var p=zt();return Gt!==null?$c(p,Gt,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:ws,useCacheRefresh:yo},Ci=null,Vo=0,os=mg(!0),Jh=mg(!1),Ur=S(null),Ti=null,pt=S(0),hn={enqueueSetState:function(o,c,p){o=o._reactInternals;var b=la(),w=Xe(b);w.payload=c,p!=null&&(w.callback=p),c=$e(o,w,b),c!==null&&(Oa(c,o,b),it(c,o,b))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var b=la(),w=Xe(b);w.tag=1,w.payload=c,p!=null&&(w.callback=p),c=$e(o,w,b),c!==null&&(Oa(c,o,b),it(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=la(),b=Xe(p);b.tag=2,c!=null&&(b.callback=c),c=$e(o,b,p),c!==null&&(Oa(c,o,p),it(c,o,p))}},Ut=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},qt=Error(i(461)),vt=!1,Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},za=!1,Sn=!1,yc=!1,Ai=typeof WeakSet=="function"?WeakSet:Set,Mt=null,mn=null,Qn=!1,Cr=null,ba=8192,Yo={getCacheForType:function(o){var c=fe(nn),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},Fs=0,_a=1,Zo=2,Io=3,Zl=4;if(typeof Symbol=="function"&&Symbol.for){var Qs=Symbol.for;Fs=Qs("selector.component"),_a=Qs("selector.has_pseudo_class"),Zo=Qs("selector.role"),Io=Qs("selector.test_id"),Zl=Qs("selector.text")}var $s=typeof WeakMap=="function"?WeakMap:Map,ut=0,Xt=null,Et=null,Dt=0,an=0,Qa=null,us=!1,Ri=!1,bc=!1,Vn=0,Ln=0,$n=0,Ws=0,Kf=0,kr=0,Tr=0,Js=null,Ua=null,el=!1,Ff=0,Xo=1/0,_c=null,Oi=null,ea=0,tl=null,Ko=null,Fo=0,Qf=0,$f=null,Il=null,nl=0,Wf=null;return Ot.attemptContinuousHydration=function(o){if(o.tag===13){var c=se(o,67108864);c!==null&&Oa(c,o,67108864),Wi(o,67108864)}},Ot.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=la();c=xe(c);var p=se(o,c);p!==null&&Oa(p,o,c),Wi(o,c)}},Ot.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=O(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var p=1<<31-ur(c);o.entanglements[1]|=p,c&=~p}Qe(o),(ut&6)===0&&(Xo=dn()+500,bt(0))}}break;case 13:c=se(o,2),c!==null&&Oa(c,o,2),gi(),Wi(o,2)}},Ot.batchedUpdates=function(o,c){return o(c)},Ot.createComponentSelector=function(o){return{$$typeof:Fs,value:o}},Ot.createContainer=function(o,c,p,b,w,A,L,Z,te,Re){return zl(o,c,!1,null,p,b,A,L,Z,te,Re,null)},Ot.createHasPseudoClassSelector=function(o){return{$$typeof:_a,value:o}},Ot.createHydrationContainer=function(o,c,p,b,w,A,L,Z,te,Re,Le,Ze,Ie){return o=zl(p,b,!0,o,w,A,Z,te,Re,Le,Ze,Ie),o.context=jg(null),p=o.current,b=la(),b=xe(b),w=Xe(b),w.callback=c??null,$e(p,w,b),c=b,o.current.lanes=c,Y(o,c),Qe(o),o},Ot.createPortal=function(o,c,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:b==null?null:""+b,children:o,containerInfo:c,implementation:p}},Ot.createRoleSelector=function(o){return{$$typeof:Zo,value:o}},Ot.createTestNameSelector=function(o){return{$$typeof:Io,value:o}},Ot.createTextSelector=function(o){return{$$typeof:Zl,value:o}},Ot.defaultOnCaughtError=function(o){console.error(o)},Ot.defaultOnRecoverableError=function(o){Ut(o)},Ot.defaultOnUncaughtError=function(o){Ut(o)},Ot.deferredUpdates=function(o){var c=ot.T,p=Kr();try{return oa(32),ot.T=null,o()}finally{oa(p),ot.T=c}},Ot.discreteUpdates=function(o,c,p,b,w){var A=ot.T,L=Kr();try{return oa(2),ot.T=null,o(c,p,b,w)}finally{oa(L),ot.T=A,ut===0&&(Xo=dn()+500)}},Ot.findAllNodes=Vu,Ot.findBoundingRects=function(o,c){if(!Do)throw Error(i(363));c=Vu(o,c),o=[];for(var p=0;p<c.length;p++)o.push(Gg(c[p]));for(c=o.length-1;0<c;c--){p=o[c];for(var b=p.x,w=b+p.width,A=p.y,L=A+p.height,Z=c-1;0<=Z;Z--)if(c!==Z){var te=o[Z],Re=te.x,Le=Re+te.width,Ze=te.y,Ie=Ze+te.height;if(b>=Re&&A>=Ze&&w<=Le&&L<=Ie){o.splice(c,1);break}else if(b!==Re||p.width!==te.width||Ie<A||Ze>L){if(!(A!==Ze||p.height!==te.height||Le<b||Re>w)){Re>b&&(te.width+=Re-b,te.x=b),Le<w&&(te.width=w-Re),o.splice(c,1);break}}else{Ze>A&&(te.height+=Ze-A,te.y=A),Ie<L&&(te.height=L-Ze),o.splice(c,1);break}}}return o},Ot.findHostInstance=_h,Ot.findHostInstanceWithNoPortals=function(o){return o=d(o),o=o!==null?m(o):null,o===null?null:Mo(o.stateNode)},Ot.findHostInstanceWithWarning=function(o){return _h(o)},Ot.flushPassiveEffects=jr,Ot.flushSyncFromReconciler=function(o){var c=ut;ut|=1;var p=ot.T,b=Kr();try{if(oa(2),ot.T=null,o)return o()}finally{oa(b),ot.T=p,ut=c,(ut&6)===0&&bt(0)}},Ot.flushSyncWork=gi,Ot.focusWithin=function(o,c){if(!Do)throw Error(i(363));for(o=Sf(o),c=xf(o,c),c=Array.from(c),o=0;o<c.length;){var p=c[o++],b=p.tag;if(!jo(p)){if((b===5||b===26||b===27)&&Vg(p.stateNode))return!0;for(p=p.child;p!==null;)c.push(p),p=p.sibling}}return!1},Ot.getFindAllNodesFailureDescription=function(o,c){if(!Do)throw Error(i(363));var p=0,b=[];o=[Sf(o),0];for(var w=0;w<o.length;){var A=o[w++],L=A.tag,Z=o[w++],te=c[Z];if((L!==5&&L!==26&&L!==27||!jo(A))&&(Co(A,te)&&(b.push(Qi(te)),Z++,Z>p&&(p=Z)),Z<c.length))for(A=A.child;A!==null;)o.push(A,Z),A=A.sibling}if(p<c.length){for(o=[];p<c.length;p++)o.push(Qi(c[p]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Ot.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Mo(o.child.stateNode);default:return o.child.stateNode}},Ot.injectIntoDevTools=function(){var o={bundleType:0,version:kg,rendererPackageName:No,currentDispatcherRef:ot,reconcilerVersion:"19.1.0"};if($u!==null&&(o.rendererConfig=$u),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{Hs=c.inject(o),Ia=c}catch{}o=!!c.checkDCE}}return o},Ot.isAlreadyRendering=function(){return(ut&6)!==0},Ot.observeVisibleRects=function(o,c,p,b){if(!Do)throw Error(i(363));o=Vu(o,c);var w=Qv(o,p,b).disconnect;return{disconnect:function(){w()}}},Ot.shouldError=function(){return null},Ot.shouldSuspend=function(){return!1},Ot.startHostTransition=function(o,c,p,b){if(o.tag!==5)throw Error(i(476));var w=Va(o).queue;eh(o,w,c,or,p===null?a:function(){var A=Va(o).next.queue;return Zi(o,A,{},la()),p(b)})},Ot.updateContainer=function(o,c,p,b){var w=c.current,A=la();return zg(w,A,o,c,p,b),A},Ot.updateContainerSync=function(o,c,p,b){return zg(c.current,2,o,c,p,b),2},Ot},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(ay)),ay.exports}var m5;function Uj(){return m5||(m5=1,ny.exports=zj()),ny.exports}var kj=Uj();const Lj=uv(kj);var ry={exports:{}},Fl={};var v5;function Pj(){return v5||(v5=1,Fl.ConcurrentRoot=1,Fl.ContinuousEventPriority=8,Fl.DefaultEventPriority=32,Fl.DiscreteEventPriority=2,Fl.IdleEventPriority=268435456,Fl.LegacyRoot=0,Fl.NoEventPriority=0),Fl}var y5;function Bj(){return y5||(y5=1,ry.exports=Pj()),ry.exports}var Nv=Bj();const b5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let _5=!1,S5=!1;const ev=".react-konva-event",Hj=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Gj=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,qj={};function Mv(t,e,n=qj){if(!_5&&"zIndex"in e&&(console.warn(Gj),_5=!0),!S5&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn(Hj),S5=!0)}for(var l in n)if(!b5[l]){var u=l.slice(0,2)==="on",d=n[l]!==e[l];if(u&&d){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),t.off(g,n[l])}var m=!e.hasOwnProperty(l);m&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},S=!1;const C={};for(var l in e)if(!b5[l]){var u=l.slice(0,2)==="on",T=n[l]!==e[l];if(u&&T){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(C[g]=e[l])}!u&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(S=!0,_[l]=e[l])}S&&(t.setAttrs(_),wu(t));for(var g in C)t.off(g+ev),t.on(g+ev,C[g])}function wu(t){if(!Ve.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var iy=h2();const ox={},Vj={};Ld.Node.prototype._applyProps=Mv;let ux=Nv.DefaultEventPriority;function Yj(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),wu(t)}function Zj(t,e,n){let a=Ld[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Ld.Group);const i={},l={};for(var u in e)if(u!=="ref"){var d=u.slice(0,2)==="on";d?l[u]=e[u]:i[u]=e[u]}const g=new a(i);return Mv(g,l),g}function Ij(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function Xj(t,e,n){return!1}function Kj(t){return t}function Fj(){return null}function Qj(){return null}function $j(t,e,n,a){return Vj}function Wj(){}function Jj(t){}function ez(t,e){return!1}function tz(){return ox}function nz(){return ox}const az=setTimeout,rz=clearTimeout,iz=!0,sz=t=>{t()},lz=-1;function oz(t,e){return!1}const uz=!1,cz=!1,fz=!0,dz=!1,hz=!1;function gz(t,e){e.parent===t?e.moveToTop():t.add(e),wu(t)}function pz(t,e){e.parent===t?e.moveToTop():t.add(e),wu(t)}function cx(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),wu(t)}function mz(t,e,n){cx(t,e,n)}function vz(t,e){e.destroy(),e.off(ev),wu(t)}function yz(t,e){e.destroy(),e.off(ev),wu(t)}function bz(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function _z(t,e,n){}function Sz(t,e,n,a){Mv(t,a,n)}function xz(t){t.hide(),wu(t)}function wz(t){}function Ez(t,e){(e.visible==null||e.visible)&&t.show()}function Cz(t,e){}function Tz(t){}function Az(){}function Rz(){return Nv.DefaultEventPriority}function Oz(){}function Nz(){return null}function Mz(t){ux=t}function Dz(){return ux}function jz(){return Nv.DiscreteEventPriority}function zz(){return!1}function Uz(){}function kz(){return!1}function Lz(){return!0}function Pz(){}function Bz(){}function Hz(){return null}const Gz=null;function qz(){}const Vz=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:Gz,appendChild:gz,appendChildToContainer:pz,appendInitialChild:Yj,cancelTimeout:rz,clearContainer:Tz,commitMount:_z,commitTextUpdate:bz,commitUpdate:Sz,createInstance:Zj,createTextInstance:Ij,detachDeletedInstance:Az,finalizeInitialChildren:Xj,getChildHostContext:nz,getCurrentEventPriority:Rz,getCurrentUpdatePriority:Dz,getInstanceFromScope:Nz,getPublicInstance:Kj,getRootHostContext:tz,hideInstance:xz,hideTextInstance:wz,idlePriority:iy.unstable_IdlePriority,insertBefore:cx,insertInContainerBefore:mz,isPrimaryRenderer:uz,maySuspendCommit:kz,noTimeout:lz,now:iy.unstable_now,preloadInstance:Lz,prepareForCommit:Fj,preparePortalMount:Qj,prepareScopeUpdate:Oz,prepareUpdate:$j,removeChild:vz,removeChildFromContainer:yz,requestPostPaintCallback:Uz,resetAfterCommit:Wj,resetFormInstance:qz,resetTextContent:Jj,resolveUpdatePriority:jz,run:iy.unstable_runWithPriority,scheduleMicrotask:sz,scheduleTimeout:az,setCurrentUpdatePriority:Mz,shouldAttemptEagerTransition:zz,shouldDeprioritizeSubtree:ez,shouldSetTextContent:oz,startSuspendingCommit:Pz,supportsHydration:hz,supportsMicrotasks:iz,supportsMutation:fz,supportsPersistence:dz,suspendInstance:Bz,unhideInstance:Ez,unhideTextInstance:Cz,waitForCommitToBeReady:Hz,warnsIfNotActing:cz},Symbol.toStringTag,{value:"Module"}));function fx(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=fx(a,e,n);if(i)return i;a=a.sibling}}function dx(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const K2=dx(N.createContext(null));class hx extends N.Component{render(){return N.createElement(K2.Provider,{value:this._reactInternals},this.props.children)}}function Yz(){const t=N.useContext(K2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=fx(n,!1,i=>{let l=i.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const Zz=Symbol.for("react.context"),Iz=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Zz;function Xz(){const t=Yz(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;Iz(a)&&a!==K2&&!e.has(a)&&e.set(a,N.use(dx(a))),n=n.return}return e}function Kz(){const t=Xz();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(hx,{...e})),[t])}if(st.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function Fz(t){const e=st.useRef({});return st.useLayoutEffect(()=>{e.current=t}),st.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const Qz=()=>{const t=st.useRef(0);return st.useMemo(()=>{t.current++},[]),t.current>1},$z=t=>{const e=st.useRef(null),n=st.useRef(null),a=st.useRef(null),i=Fz(t),l=Kz(),u=st.useRef(!1),d=m=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(m):v.current=m)},g=Qz();return st.useLayoutEffect(()=>u.current&&g?()=>{u.current=!1,d(null),Cd.updateContainer(null,a.current,null),n.current.destroy()}:(u.current=!0,n.current=new Ld.Stage({width:t.width,height:t.height,container:e.current}),d(n.current),a.current=Cd.createContainer(n.current,Nv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Cd.updateContainer(st.createElement(l,{},t.children),a.current,null,()=>{}),()=>{g||(d(null),Cd.updateContainer(null,a.current,null),n.current.destroy())}),[]),st.useLayoutEffect(()=>{d(n.current),Mv(n.current,t,i),Cd.updateContainer(st.createElement(l,{},t.children),a.current,null)}),st.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},om="Layer",Di="Group",eo="Rect",gx="Circle",Wz="Line",gs="Text",Jz="Path",eU="Arrow",tU="Transformer",Cd=Lj(Vz);Cd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:st.version,rendererPackageName:"react-konva"});const nU=st.forwardRef((t,e)=>st.createElement(hx,{},st.createElement($z,{...t,forwardedRef:e})));function sy(t,e,n,a){t.forEach(i=>{if(!e.current||!n.current)return;const l=n.current.findOne(`#${i.from}`)||e.current.findOne(`#${i.from}`),u=n.current.findOne(`#${i.to}`)||e.current.findOne(`#${i.to}`),d=a.current?.findOne(`#${i.id}`),g=e.current.findOne(`#${i.from.replace(/^group-/,"")}`)||n.current.findOne(`#${i.from.replace(/^group-/,"")}`),m=e.current.findOne(`#${i.to.replace(/^group-/,"")}`)||n.current.findOne(`#${i.to.replace(/^group-/,"")}`);if(!l||!u||!d||!g||!m)return;const v=u.x()-l.x(),_=u.y()-l.y(),S=Math.sqrt(v*v+_*_),C=v/S,T=_/S,R=Math.min(30,S/5-1),O=g.width()*(l.attrs.scalingX??1),M=g.height()*(l.attrs.scalingY??1),j=m.width()*(u.attrs.scalingX??1),z=m.height()*(u.attrs.scalingY??1);d.points([l.x()+O/2+C*(O/2+R),l.y()+M/2+T*(M/2+R),u.x()+j/2-C*(j/2+R),u.y()+z/2-T*(z/2+R)])})}const aU=(t,e,n,a)=>{const i=e.x()-t.x(),l=e.y()-t.y(),u=Math.sqrt(i*i+l*l),d=i/u,g=l/u,m=Math.min(30,u/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),S=a.width()*(e.attrs.scalingX??1),C=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+d*(v/2+m),t.y()+_/2+g*(_/2+m),e.x()+S/2-d*(S/2+m),e.y()+C/2-g*(C/2+m)]},rU=({connector:t,mainLayer:e})=>{const[n,a]=N.useState([]);return N.useEffect(()=>{const i=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),u=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),d=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!i||!l||!u||!d)return;const g=aU(i,l,u,d);a(g)},[e,t]),E.jsx(eU,{id:t.id,points:n,fill:"black",stroke:"black"})},iU=({connectors:t,mainLayer:e})=>E.jsx(E.Fragment,{children:t.map(n=>E.jsx(rU,{connector:n,mainLayer:e}))});function x5(t,e,n){if(e==="eraser")return;t.target.moveTo(n.current)}function w5(t,e,n,a){if(a==="eraser")return;const l=t.target.getStage()?.getPointerPosition(),u=e.current?.getIntersection(l);!n.current&&u?(n.current=u,u.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&u&&n.current!==u?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),u.fire("dragenter",{evt:t.evt},!0),n.current=u):n.current&&!u&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function um(t,e,n,a,i,l,u,d){if(n==="eraser")return;const g=t.target,v=g.getStage()?.getPointerPosition(),_=e.current?.getIntersection(v);_&&!_.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0);const S=l.find(R=>"group-"+R.id===g.id());g.moveTo(e.current),a.current=null;const C=t.target.id();i(R=>{const O=[...R],M=O.findIndex(j=>"group-"+j.id===C);if(M!==-1){if(O[M].shape!=="line")O[M]={...O[M],x:t.target.x(),y:t.target.y()};else if(O[M].shape==="line"){const j=t.target,z=j.x(),P=j.y();O[M]={...O[M],points:O[M].points.map((H,k)=>k%2===0?H+z:H+P)},j.x(0),j.y(0)}}return O});let T;S&&(S.shape==="line"?T={...S,points:S.points.map((R,O)=>O%2===0?R+t.target.x():R+t.target.y())}:T={...S,x:t.target.x(),y:t.target.y()}),S&&T&&u({action:"update",before:S,after:T,id:d||void 0})}const sU=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C})=>{const T=C(t,S),R=T.completed+T.not_completed;T.completed===R?t.completed=!0:t.completed=!1;const O=()=>R===0?{completeColor:"purple",completeText:"No Task Yet"}:T.completed===0?{completeColor:"#ff2056",completeText:"Not Started"}:T.completed===R?{completeColor:"#00bc7d",completeText:"Completed"}:{completeColor:"#ff6900",completeText:"In Progress"},{completeColor:M,completeText:j}=O(),[z,P]=N.useState(!1),H=v(t.color),Y=new Date(t.dueDate).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," ");return E.jsxs(Di,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:l!=="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:m,onMouseEnter:()=>{l==="hand"&&P(!0)},onMouseLeave:()=>{l==="hand"&&P(!1)},onClick:()=>{d(t.id)},onDblClick:()=>{l==="hand"&&g(t)},children:[E.jsxs(Di,{visible:!t.isCollapsed,children:[E.jsx(eo,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:H,strokeWidth:2.5,shadowForStrokeEnabled:!1}),E.jsx(gs,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.6,listening:!1}),E.jsx(gs,{text:Y,x:-12,y:t.height-30,width:t.width,fontFamily:"Inter",fontSize:10,align:"right",fill:"black",opacity:.8,listening:!1}),E.jsxs(Di,{children:[E.jsx(eo,{fill:M,width:100,height:30,x:10,y:t.height-40,cornerRadius:10}),E.jsx(gs,{text:j,width:100,height:30,fontFamily:"Inter",align:"center",fill:"white",fontStyle:"bold",x:10,y:t.height-42,padding:10})]}),z&&E.jsxs(Di,{x:t.width+5,y:t.height/2,onClick:F=>{F.cancelBubble=!0,_(t,null)},children:[E.jsx(gx,{radius:16,fill:"white",stroke:t.color}),E.jsx(gs,{x:-8,y:-13.5,text:"+",fill:"black",fontSize:24,fontFamily:"Inter",align:"left"})]})]}),E.jsxs(Di,{children:[E.jsx(eo,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),E.jsx(eo,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),E.jsx(gs,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),E.jsx(gs,{x:t.width*.9,y:5,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"right",verticalAlign:"top",onClick:F=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),F.cancelBubble=!0,e(_e=>_e.map(xe=>xe.shape==="rect"&&xe.id===t.id?{...xe,isCollapsed:!xe.isCollapsed}:xe)))}})]})]},"key-"+t.id)},lU=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_,allShapes:S,getChildCounts:C})=>E.jsx(E.Fragment,{children:t.map(T=>E.jsx(sU,{rect:T,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:m,tool:l,collapseChild:u,handleEraserClick:d,onShapeClick:g,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:C},"key-"+T.id))});function oU(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,i=a?.getPointerPosition();if(!i||!a)return;const l=a.scaleX(),u={x:(i.x-a.x())/l,y:(i.y-a.y())/l},d=e.evt.deltaY>0?-1:1,g=1.05,m=d>0?Math.min(l*g,5):Math.max(l/g,.1);a.scale({x:m,y:m});const v={x:i.x-u.x*m,y:i.y-u.y*m};a.position(v),n(Math.round(m*100))}function uU(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('./cursor.svg') 16 16, auto";case"draw":return"crosshair";default:return"default"}}const cU=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,onTransformEnd:u,handleEraserClick:d,onTodoClick:g,shapes:m})=>{const[v,_]=N.useState(!1),S="#FDF6B2",C=t.color,T=new Date(t.dueDate),R=T.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),O=new Date,M=T.getTime()-O.getTime(),j=Math.ceil(M/(1e3*60*60*24)),z=Math.floor(j/7),P=Math.floor(j/30),H=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:P>=1?{statusColor:"#2b7fff",statusText:`${P} Month${P>1?"s":""} left`,statusTextColor:"white"}:z>=1?{statusColor:"#2b7fff",statusText:`${z} Week${z>1?"s":""} left`,statusTextColor:"white"}:j>=2?{statusColor:"#2b7fff",statusText:`${j} Day${j>1?"s":""} left`,statusTextColor:"white"}:j===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:j===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:k,statusText:Y,statusTextColor:F}=H(),oe=_e=>{e(xe=>xe.map(he=>he.id===_e&&he.shape==="todo"?{...he,completed:!he.completed}:he))};return E.jsx(Di,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&_(!0)},onMouseLeave:()=>{l==="hand"&&_(!1)},draggable:l!="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:u,onClick:()=>{d(t.id)},onDblClick:()=>{if(l==="hand"){if(!m)return;let _e=null;if(t.parents){const xe=m.find(he=>"group-"+he.id===t.parents);xe&&xe?.shape==="rect"&&(_e=xe)}g(_e,t)}},children:E.jsxs(Di,{visible:!t.isCollapsed,children:[E.jsx(eo,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:C,strokeWidth:1,shadowForStrokeEnabled:!1}),E.jsxs(Di,{children:[E.jsx(eo,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),E.jsxs(Di,{children:[E.jsx(gs,{x:60,y:8,text:t.title,ellipsis:!0,width:t.width-70,height:30,fontSize:20,fontStyle:"bold"}),E.jsx(gs,{x:60,y:32,text:R}),E.jsxs(Di,{children:[E.jsx(gs,{x:60,y:54,text:"Assigned: "+t.assignee}),E.jsxs(Di,{x:280,y:50,children:[E.jsx(eo,{width:110,height:18,fill:k,cornerRadius:[4,4,4,4]}),E.jsx(gs,{x:0,y:3,width:110,height:18,text:Y,fill:F,align:"center",fontStyle:"bold",fontSize:12})]})]}),(v||t.completed)&&E.jsxs(Di,{x:26,y:36,children:[E.jsx(gx,{radius:16,fill:S,stroke:C,strokeWidth:1.5,onClick:()=>oe(t.id)}),t.completed&&E.jsx(Jz,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},fU=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:d,getBorder:g,onTodoClick:m,shapes:v})=>E.jsx(E.Fragment,{children:t.map(_=>E.jsx(cU,{todo:_,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:d,getBorder:g,onTodoClick:m,shapes:v},"key-"+_.id))});function ig(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function dU(t,e,n,a,i){if(e!=="draw")return;const l=ig(t);if(!l)return;i(!0);const u={shape:"line",behavior:"decor",color:"black",id:"line-"+Date.now().toString(),points:[l.x,l.y],stroke:n,strokeWidth:4,scaleX:1,scaleY:1};a(d=>[...d,u])}function hU(t,e,n,a){if(!a||e!=="draw")return;const i=ig(t);i&&n(l=>{if(l.length===0)return l;const u=l[l.length-1];if(u.shape!=="line")return l;const d={...u,points:[...u.points,i.x,i.y]};return[...l.slice(0,-1),d]})}function gU(t,e){t&&e(!1)}const pU=({lines:t,onDragEnd:e,onTransformEnd:n})=>E.jsx(E.Fragment,{children:t.map(a=>E.jsx(Wz,{id:"group-"+a.id,scaleX:a.scaleX,scaleY:a.scaleY,points:a.points,stroke:a.stroke,strokeWidth:a.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:!0,onDragEnd:e,onTransformEnd:n},a.id))}),E5=20;function mU(t){t(!0)}function C5(t,e,n){for(let a=0;a<t.length-2;a+=2){const i=t[a],l=t[a+1],u=t[a+2],d=t[a+3];if(vU(e.x,e.y,i,l,u,d)<n)return!0}return!1}function vU(t,e,n,a,i,l){const u=i-n,d=l-a,g=u*u+d*d;if(g===0)return Math.hypot(t-n,e-a);let m=((t-n)*u+(e-a)*d)/g;m=Math.max(0,Math.min(1,m));const v=n+m*u,_=a+m*d;return Math.hypot(t-v,e-_)}function yU(t,e,n,a,i,l){if(e!=="eraser"||!a)return;const u=ig(t.current);if(!u)return;const d=i.filter(g=>g.shape==="line"&&C5(g.points,u,E5));d.length!==0&&(l({action:"delete",before:d[0],after:d[0]}),n(g=>g.filter(m=>m.shape==="line"?!C5(m.points,u,E5):!0)))}function bU(t){t(!1)}function _U(t,e,n,a,i,l,u,d){return t<i&&n<i||t>u&&n>u||e<l&&a<l||e>d&&a>d?!1:!!(t>=i&&t<=u&&e>=l&&e<=d||n>=i&&n<=u&&a>=l&&a<=d||cm(t,e,n,a,i,l,u,l)||cm(t,e,n,a,u,l,u,d)||cm(t,e,n,a,u,d,i,d)||cm(t,e,n,a,i,d,i,l))}function cm(t,e,n,a,i,l,u,d){function g(m,v,_,S,C,T){return(T-v)*(_-m)>(S-v)*(C-m)}return g(t,e,i,l,u,d)!==g(n,a,i,l,u,d)&&g(t,e,n,a,i,l)!==g(t,e,n,a,u,d)}function SU(t,e){const n=e.x,a=e.y,i=e.x+e.width,l=e.y+e.height;for(let u=0;u<t.length-2;u+=2){const d=t[u],g=t[u+1],m=t[u+2],v=t[u+3];if(_U(d,g,m,v,n,a,i,l))return!0}return!1}const xU=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const i=ig(e.current);i&&a({visible:!0,x1:i.x,y1:i.y,x2:i.x,y2:i.y})},wU=(t,e,n,a)=>{if(!e.current)return;const i=ig(t.current);i&&a({...n,x2:i.x,y2:i.y})},EU=(t,e,n,a,i,l,u)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const d={x:Math.min(e.x1,e.x2)+u.x,y:Math.min(e.y1,e.y2)+u.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},g=l.current?.getStage(),m=i.filter(v=>{if(v.shape==="line"){const T=v.points.map((R,O)=>O%2===0?R+u.x:R+u.y);return SU(T,d)}if(!l.current)return;const _=l.current.findOne(`#${v.id}`);if(!_)return;const S=_.getClientRect({relativeTo:g});if(S.x+=u.x,S.y+=u.y,!!S)return i2.Util.haveIntersection(d,S)});a(m.map(v=>v.id))},CU=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const i=t.target.findAncestor(".shape",!0);if(!i||!i.hasName("shape"))return;const l=i.attrs.shapeId;if(!l)return;const u=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,d=n.includes(l);!u&&!d?a([l]):u&&d?a(n.filter(g=>g!==l)):u&&!d&&a([...n,l])},fm=(t,e,n,a,i)=>{const l=t.target.id(),u=t.target,d=n.find(m=>"group-"+m.id===l);e(m=>{const v=[...m],_=v.findIndex(S=>"group-"+S.id===l);return _!==-1&&v[_].behavior==="node"&&(v[_]={...v[_],x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()}),v});const g=n.find(m=>"group-"+m.id===l);if(g){const m={...g,x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};d&&m&&a({action:"update",before:d,after:m,id:i||void 0})}},TU=({texts:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a})=>E.jsx(E.Fragment,{children:t.map(i=>E.jsx(gs,{id:"group-"+i.id,x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY,fontSize:i.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"justify",ellipsis:!0,lineHeight:1.25,text:i.text,draggable:!0,onClick:()=>e(i.id),onDragEnd:n,onTransformEnd:a}))}),px=(t,e)=>{if(!t.children)return{completed:0,not_completed:0};let n=0,a=0;return t.children.forEach(i=>{const l=e.find(u=>"group-"+u.id===i);if(l&&l.behavior==="node"&&(l.shape==="todo"&&(l.completed?n++:a++),l.shape==="rect")){const u=px(l,e);n+=u.completed,a+=u.not_completed}}),{completed:n,not_completed:a}},mx=N.createContext(null);function vx(){const t=N.useContext(mx);if(!t)throw new Error("useUndo must be used inside a <UndoRedoProvider>");return t}const AU="1234567890",RU=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:i,zoom:l,connectors:u=[],setConnectors:d,addConnector:g,strokeColor:m="#000",onShapeClick:v,onAddTodo:_,stageCoor:S,setStageCoor:C,isFormOpen:T})=>{const R=N.useRef(null),O=N.useRef(null),M=N.useRef(null),j=N.useRef(null),z=N.useRef(null),[P,H]=N.useState(!1),[k,Y]=N.useState([]),[F,oe]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),_e=N.useRef(!1),xe=N.useRef(null),he=N.useRef(null),{pushUndo:ge,undo:ye,redo:Se}=vx(),B=N.useRef(null);N.useEffect(()=>{if(!R.current)return;t.forEach(be=>{if(be.behavior!=="node")return;const ke=R.current?.findOne(`#group-${be.id}`),Me=R.current?.findOne(`#${be.id}`),Ke=t.find(nt=>nt.id===Me.id());!ke||!Me||!Ke||(ke.off("drop"),ke.off("dragenter"),ke.off("dragleave"),ke.on("dragenter",nt=>{const mt=nt.source;if(!mt||ke===mt||Me.fill()==="green"||Ke.shape==="todo"||be.shape!=="todo"&&be.children.includes(mt.id())||be.parents.includes(mt.id()))return;const St=t.find(gn=>"group-"+gn.id===mt.id());St?.behavior!=="node"||St?.parents!==""||Me.fill("#b9f8cf")}),ke.on("dragmove",nt=>{const mt=nt.source;!mt||ke===mt||Me.fill()==="#b9f8cf"||Me.fill("#b9f8cf")}),ke.on("dragleave",nt=>{const mt=nt.source;ke!==mt&&Me.fill("white")}),ke.on("drop",nt=>{const mt=nt.source;if(be.behavior!=="node"||be.shape!=="todo"&&be.children.includes(mt.id())||!mt||be.parents.includes(mt.id()))return;const St=t.find(gn=>"group-"+gn.id===mt.id());St?.behavior!=="node"||St?.parents!==""||Ke.shape==="todo"||(Me.fill("white"),e(gn=>gn.map(En=>En.behavior==="node"&&"group-"+En.id===nt.source.id()?{...En,parents:ke.id()}:En.behavior==="node"&&En.shape!="todo"&&"group-"+En.id===ke.id()?{...En,children:[...En.children,nt.source.id()]}:En)),g(nt.source,ke))}))});function Q(be){if(!T){if(be.ctrlKey&&!be.shiftKey&&be.key==="z"){ye(e,d);return}if(be.ctrlKey&&be.shiftKey&&be.key.toLowerCase()==="z"){Se(e,d);return}switch(be.key){case"1":a("hand");break;case"z":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"x":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"c":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"v":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break;case"q":v(null);break;case"w":_(null,null);break}}}return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}}),N.useEffect(()=>{if(k.length&&xe.current){const Q=k.map(be=>z.current?.findOne(`#group-${be}`)).filter(Boolean);xe.current.nodes(Q),B.current=crypto.randomUUID(),requestAnimationFrame(()=>{const be=he.current;if(!be||!z.current||!xe.current)return;const ke=xe.current.width()/z.current.scaleX(),Me=xe.current.height()/z.current.scaleY(),Ke=(xe.current.x()-S.x)/z.current.scaleX(),nt=(xe.current.y()-S.y)/z.current.scaleY();be.show(),be.x(Ke),be.y(nt),be.width(ke),be.height(Me),be.scaleX(1),be.scaleY(1);const mt=xe.current.nodes();xe.current.nodes([...mt,be])})}else if(xe.current){xe.current.nodes([]);const Q=he.current;B.current=null,Q?.hide()}if(n!=="select"){xe.current?.nodes([]);const Q=he.current;B.current=null,Q?.hide()}},[k,n,S]),N.useEffect(()=>{n!=="select"&&Y([])},[n]),N.useEffect(()=>{sy(u,R,M,j)},[t,u]),N.useEffect(()=>{const Q=()=>{const be=z.current;be&&(be.width(window.innerWidth),be.height(window.innerHeight),be.draw())};return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const ue=Q=>{if(Q.behavior!=="node")return;const be=t.find(Me=>"group-"+Me.id===Q.parents),ke=R.current?.findOne(`#${Q.parents}`);return!ke||!be?!1:ke.getChildren()[0].visible()},$=(Q,be)=>{Q.behavior!=="node"||Q.shape==="todo"||Q.children.length!==0&&Q.children.forEach(ke=>{const Me=t.find(St=>"group-"+St.id===ke);if(!Me)return;const Ke=R.current?.findOne(`#${ke}`);if(!Ke)return;Ke.visible(be);const nt=u.find(St=>{if(St.from===ke)return St});if(!nt)return;const mt=j.current?.findOne(`#${nt.id}`);mt&&(mt.visible(be),ue(Me)&&$(Me,be))})},me=Q=>{const be=t.find(ke=>ke.id===Q);be?.behavior!=="node"||be?.shape==="todo"||be?.children.forEach(ke=>{const Me=t.find(Ke=>"group-"+Ke.id===ke);!Me||Me.behavior!=="node"||(Me.parents="")})},G=Q=>{e(be=>be.map(ke=>ke.shape==="rect"&&ke.children.includes(Q)?{...ke,children:ke.children.filter(Me=>Me!=="group-"+Q)}:ke))},ae=Q=>{if(n==="eraser"){const be=crypto.randomUUID();u.forEach(Me=>{if(Me.to==="group-"+Q||Me.from==="group-"+Q){const Ke={...Me};ge({id:be,before:Ke,after:Ke,action:"delete"}),d(nt=>nt.filter(mt=>mt.id!==Me.id))}});const ke=t.find(Me=>Me.id===Q);ke&&ge({id:be,before:{...ke},after:{...ke},action:"delete"}),me(Q),G(Q),e(Me=>Me.filter(Ke=>Ke.id!==Q))}},Ee=Q=>{let be;return Q==="#ff2056"?be="#f6339a":Q==="#2b7fff"?be="#00a6f4":Q==="#00bc7d"?be="#00c951":Q==="#ad46ff"?be="#8e51ff":Q==="#ff6900"&&(be="#fd9a00"),be};return E.jsx(E.Fragment,{children:E.jsxs(nU,{width:window.innerWidth,height:window.innerHeight,x:S.x,y:S.y,ref:z,draggable:n==="hand",onWheel:Q=>{oU(z,Q,i),z.current&&C({x:z.current.x(),y:z.current.y()})},onPointerDown:Q=>{n==="draw"&&dU(z.current,n,m,e,H),n==="eraser"&&mU(H),n==="select"&&xU(Q,z,_e,oe)},onPointerMove:()=>{n==="draw"&&hU(z.current,n,e,P),n==="eraser"&&yU(z,n,e,P,t,ge),n==="select"&&wU(z,_e,F,oe)},onPointerUp:()=>{n==="draw"&&(gU(P,H),ge({action:"add",before:t[t.length-1],after:t[t.length-1]})),n==="eraser"&&bU(H),n==="select"&&EU(_e,F,oe,Y,t,R,S)},onClick:Q=>{n==="select"&&CU(Q,F,k,Y)},scaleX:l/100,scaleY:l/100,style:{cursor:uU(n)},onDragEnd:()=>{z.current&&C({x:z.current.x(),y:z.current.y()})},children:[E.jsx(om,{ref:j,children:E.jsx(iU,{connectors:u,mainLayer:R})}),E.jsxs(om,{ref:R,children:[E.jsx(eo,{id:AU,ref:he,fill:"transparent",draggable:!0,temporary:!0}),E.jsx(pU,{lines:t.filter(Q=>Q.shape==="line"),onDragEnd:Q=>{um(Q,R,n,O,e,t,ge,B.current)},onTransformEnd:Q=>{fm(Q,e,t,ge,B.current)}}),E.jsx(TU,{texts:t.filter(Q=>Q.shape==="text"),onEraserClick:ae,onDragEnd:Q=>{um(Q,R,n,O,e,t,ge,B.current)},onTransformEnd:Q=>{fm(Q,e,t,ge,B.current)}}),E.jsx(lU,{shapes:t.filter(Q=>Q.shape==="rect"),allShapes:t,setShapes:e,onDragStart:Q=>x5(Q,n,M),onDragMove:Q=>{w5(Q,R,O,n),sy(u,R,M,j)},onDragEnd:Q=>{um(Q,R,n,O,e,t,ge,B.current)},onTransformEnd:Q=>{fm(Q,e,t,ge,B.current)},tool:n,collapseChild:$,handleEraserClick:ae,onShapeClick:v,getBorder:Ee,onAddTodo:_,getChildCounts:px}),E.jsx(fU,{todos:t.filter(Q=>Q.shape==="todo"),setShapes:e,tool:n,onDragStart:Q=>x5(Q,n,M),onDragMove:Q=>{w5(Q,R,O,n),sy(u,R,M,j)},onDragEnd:Q=>{um(Q,R,n,O,e,t,ge,B.current)},onTransformEnd:Q=>{fm(Q,e,t,ge,B.current)},handleEraserClick:ae,getBorder:Ee,onTodoClick:_,shapes:t})]}),E.jsx(om,{ref:M}),E.jsxs(om,{children:[E.jsx(tU,{ref:xe,boundBoxFunc:(Q,be)=>be.width<5||be.height<5?Q:be}),F.visible&&E.jsx(eo,{x:Math.min(F.x1,F.x2),y:Math.min(F.y1,F.y2),width:Math.abs(F.x2-F.x1),height:Math.abs(F.y2-F.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function OU({title:t,onClick:e}){return E.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[E.jsx("span",{children:E.jsx(xT,{})}),E.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function NU({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",i=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return E.jsx("button",{type:"button",className:`${a} ${i}`,onClick:e,children:t})}const MU=wv({title:ri(),description:ri(),color:ri(),date:ri(),time:ri()});function DU({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:u,handleSubmit:d,setError:g,formState:{errors:m,isSubmitting:v}}=Cv({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:Tv(MU)}),[_,S]=N.useState("#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,T):t(T),n()}catch(R){g("root",{message:"This Task already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&n()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[n]),E.jsxs("div",{children:[E.jsx("div",{className:"absolute h-full w-full bg-black opacity-50 backdrop z-99"}),E.jsxs("div",{className:"absolute bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-10 py-10 inset-0 flex flex-col justify-between w-150 h-fit max-h-200  items-start border-px rounded-lg shadow-2xl z-100",children:[E.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),E.jsxs("form",{onSubmit:d(C),className:"w-full h-full",children:[E.jsxs("div",{className:"mb-2 flex flex-row items-end justify-between h-15  w-full",children:[E.jsx("input",{...u("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-3xl h-full p-2 font-bold rounded-lg"}),m.title&&E.jsx("div",{className:"text-red-500",children:m.title?.message}),E.jsx("button",{onClick:n,className:"hover:cursor-pointer p-2 h-full",children:"X"})]}),E.jsxs("div",{className:"mb-8 flex flex-col gap-5 w-full items-start",children:[E.jsxs("div",{className:"inline-flex gap-2",children:[E.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:E.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),E.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),E.jsx("textarea",{...u("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs ml-8 w-[calc(100%-2rem)] items-start h-25 resize-none"}),m.description&&E.jsx("div",{className:"text-red-500",children:m.description?.message})]}),E.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),E.jsxs("div",{className:"flex flex-row flex-auto gap-10 w-full mt-5 mb-5",children:[E.jsxs("div",{className:"mb-5 flex flex-col gap-1 w-full",children:[E.jsx("label",{className:"text-lg font-semibold",children:"Date"}),E.jsx("input",{...u("date"),type:"date",name:"date",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer"})]}),E.jsxs("div",{className:"mb-5 flex flex-col gap-1",children:[E.jsx("label",{className:"text-lg font-semibold",children:"Due Time"}),E.jsx("input",{...u("time"),type:"time",name:"time",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer"})]}),E.jsxs("div",{className:"mb-5 flex flex-col gap-1",children:[E.jsx("label",{className:"text-lg font-semibold",children:"Color"}),E.jsxs("select",{...u("color"),onChange:T=>S(T.target.value),name:"color",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]})]}),E.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[E.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),E.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),m.root&&E.jsx("div",{className:"text-red-500",children:m.root?.message})]})]})]})}const jU=wv({title:ri(),assignee:ri(),date:ri(),completed:iN(),color:ri()});function zU({onAddTodo:t,onUpdateTodo:e,parent:n,onCloseForm:a,initialTodo:i}){const l=i&&i.behavior==="node"&&i.shape==="todo";let u;l?u=new Date(i.dueDate).toISOString().split("T")[0]:u=new Date().toISOString().split("T")[0];const{register:d,handleSubmit:g,setError:m,formState:{isSubmitting:v}}=Cv({defaultValues:l?{title:i.title,assignee:i.assignee,date:u,completed:i.completed,color:i.color}:{title:"My Newest Todo",assignee:"Guest",date:u,completed:!1,color:n?.color},resolver:Tv(jU)}),[_,S]=N.useState(l?i.color:n?.color??"#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),l?e(i,T):(console.log("init: "+i),t(T,n)),a()}catch(R){m("root",{message:"This Todo already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&a()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[a]),E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"absolute h-full w-full bg-black opacity-50 backdrop z-99"}),E.jsxs("div",{className:"absolute bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-10 py-10 inset-0 flex flex-row justify-between w-150 h-fit max-h-200  items-start border-px rounded-lg shadow-2xl z-100",children:[E.jsx("div",{className:"absolute top-0 left-0 rounded-l-lg w-8 h-full",style:{backgroundColor:_}}),E.jsxs("form",{onSubmit:g(C),className:"w-full h-full",children:[E.jsx("div",{className:"mb-1 flex w-full h-fit",children:E.jsx("input",{...d("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),E.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),E.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-red-200 ",style:{backgroundColor:n?n.color:"#d1d5dc",color:n?"#ffffff":"#000000"},children:E.jsx("span",{className:"text-sm text-start  w-full ",children:n?n.title:"Not Assigned"})})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[E.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),E.jsx("input",{...d("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),E.jsxs("select",{...d("assignee"),name:"assignee",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"Guest",children:"Guest"}),E.jsx("option",{value:"User1",children:"User1"}),E.jsx("option",{value:"User2",children:"User2"}),E.jsx("option",{value:"User3",children:"User3"}),E.jsx("option",{value:"User4",children:"User4"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),E.jsxs("select",{...d("color"),value:_,onChange:T=>S(T.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[E.jsx("option",{value:"#ff2056",children:"Red"}),E.jsx("option",{value:"#2b7fff",children:"Blue"}),E.jsx("option",{value:"#00bc7d",children:"Green"}),E.jsx("option",{value:"#ad46ff",children:"Purple"}),E.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[E.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),E.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:E.jsx("input",{...d("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),E.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[E.jsx("button",{className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:a,children:E.jsx("span",{className:"text-sm",children:"Cancel"})}),E.jsx("button",{type:"submit",disabled:v,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:v?E.jsx("span",{className:"text-sm",children:"Loading..."}):E.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}const yx=N.createContext(null);function UU({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{zn.auth.getSession().then(({data:{session:i}})=>{n(i)});const{data:{subscription:a}}=zn.auth.onAuthStateChange((i,l)=>{n(l)});return()=>a.unsubscribe()},[]),E.jsx(yx.Provider,{value:{session:e,setSession:n},children:t})}function kU(){const t=N.useContext(yx);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}function T5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dv(...t){return e=>{let n=!1;const a=t.map(i=>{const l=T5(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():T5(t[i],null)}}}}function xa(...t){return N.useCallback(Dv(...t),t)}function I0(t){const e=LU(t),n=N.forwardRef((a,i)=>{const{children:l,...u}=a,d=N.Children.toArray(l),g=d.find(BU);if(g){const m=g.props.children,v=d.map(_=>_===g?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:_);return E.jsx(e,{...u,ref:i,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return E.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function LU(t){const e=N.forwardRef((n,a)=>{const{children:i,...l}=n;if(N.isValidElement(i)){const u=GU(i),d=HU(l,i.props);return i.type!==N.Fragment&&(d.ref=a?Dv(a,u):u),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bx=Symbol("radix.slottable");function PU(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=bx,e}function BU(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bx}function HU(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const g=l(...d);return i(...d),g}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function GU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],An=qU.reduce((t,e)=>{const n=I0(`Primitive.${e}`),a=N.forwardRef((i,l)=>{const{asChild:u,...d}=i,g=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(g,{...d,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function _x(t,e){t&&gv.flushSync(()=>t.dispatchEvent(e))}function VU(t,e){const n=N.createContext(e),a=l=>{const{children:u,...d}=l,g=N.useMemo(()=>d,Object.values(d));return E.jsx(n.Provider,{value:g,children:u})};a.displayName=t+"Provider";function i(l){const u=N.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function uo(t,e=[]){let n=[];function a(l,u){const d=N.createContext(u),g=n.length;n=[...n,u];const m=_=>{const{scope:S,children:C,...T}=_,R=S?.[t]?.[g]||d,O=N.useMemo(()=>T,Object.values(T));return E.jsx(R.Provider,{value:O,children:C})};m.displayName=l+"Provider";function v(_,S){const C=S?.[t]?.[g]||d,T=N.useContext(C);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[m,v]}const i=()=>{const l=n.map(u=>N.createContext(u));return function(d){const g=d?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...d,[t]:g}}),[d,g])}};return i.scopeName=t,[a,YU(i,...e)]}function YU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((d,{useScope:g,scopeName:m})=>{const _=g(l)[`__scope${m}`];return{...d,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Sx(t){const e=t+"CollectionProvider",[n,a]=uo(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:O,children:M}=R,j=st.useRef(null),z=st.useRef(new Map).current;return E.jsx(i,{scope:O,itemMap:z,collectionRef:j,children:M})};u.displayName=e;const d=t+"CollectionSlot",g=I0(d),m=st.forwardRef((R,O)=>{const{scope:M,children:j}=R,z=l(d,M),P=xa(O,z.collectionRef);return E.jsx(g,{ref:P,children:j})});m.displayName=d;const v=t+"CollectionItemSlot",_="data-radix-collection-item",S=I0(v),C=st.forwardRef((R,O)=>{const{scope:M,children:j,...z}=R,P=st.useRef(null),H=xa(O,P),k=l(v,M);return st.useEffect(()=>(k.itemMap.set(P,{ref:P,...z}),()=>void k.itemMap.delete(P))),E.jsx(S,{[_]:"",ref:H,children:j})});C.displayName=v;function T(R){const O=l(t+"CollectionConsumer",R);return st.useCallback(()=>{const j=O.collectionRef.current;if(!j)return[];const z=Array.from(j.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((k,Y)=>z.indexOf(k.ref.current)-z.indexOf(Y.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:u,Slot:m,ItemSlot:C},T,a]}function Rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var gu=globalThis?.document?N.useLayoutEffect:()=>{},ZU=n3[" useInsertionEffect ".trim().toString()]||gu;function Gd({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,l,u]=IU({defaultProp:e,onChange:n}),d=t!==void 0,g=d?t:i;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==d&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,a])}const m=N.useCallback(v=>{if(d){const _=XU(v)?v(t):v;_!==t&&u.current?.(_)}else l(v)},[d,t,l,u]);return[g,m]}function IU({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),i=N.useRef(n),l=N.useRef(e);return ZU(()=>{l.current=e},[e]),N.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function XU(t){return typeof t=="function"}function KU(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var Eu=t=>{const{present:e,children:n}=t,a=FU(e),i=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=xa(a.ref,QU(i));return typeof n=="function"||a.isPresent?N.cloneElement(i,{ref:l}):null};Eu.displayName="Presence";function FU(t){const[e,n]=N.useState(),a=N.useRef(null),i=N.useRef(t),l=N.useRef("none"),u=t?"mounted":"unmounted",[d,g]=KU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const m=dm(a.current);l.current=d==="mounted"?m:"none"},[d]),gu(()=>{const m=a.current,v=i.current;if(v!==t){const S=l.current,C=dm(m);t?g("MOUNT"):C==="none"||m?.display==="none"?g("UNMOUNT"):g(v&&S!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,g]),gu(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,_=C=>{const R=dm(a.current).includes(CSS.escape(C.animationName));if(C.target===e&&R&&(g("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},S=C=>{C.target===e&&(l.current=dm(a.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(m=>{a.current=m?getComputedStyle(m):null,n(m)},[])}}function dm(t){return t?.animationName||"none"}function QU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $U=n3[" useId ".trim().toString()]||(()=>{}),WU=0;function Md(t){const[e,n]=N.useState($U());return gu(()=>{n(a=>a??String(WU++))},[t]),t||(e?`radix-${e}`:"")}var JU=N.createContext(void 0);function jv(t){const e=N.useContext(JU);return t||e||"ltr"}function to(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function ek(t,e=globalThis?.document){const n=to(t);N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var tk="DismissableLayer",s2="dismissableLayer.update",nk="dismissableLayer.pointerDownOutside",ak="dismissableLayer.focusOutside",A5,xx=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F2=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...g}=t,m=N.useContext(xx),[v,_]=N.useState(null),S=v?.ownerDocument??globalThis?.document,[,C]=N.useState({}),T=xa(e,Y=>_(Y)),R=Array.from(m.layers),[O]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=R.indexOf(O),j=v?R.indexOf(v):-1,z=m.layersWithOutsidePointerEventsDisabled.size>0,P=j>=M,H=sk(Y=>{const F=Y.target,oe=[...m.branches].some(_e=>_e.contains(F));!P||oe||(i?.(Y),u?.(Y),Y.defaultPrevented||d?.())},S),k=lk(Y=>{const F=Y.target;[...m.branches].some(_e=>_e.contains(F))||(l?.(Y),u?.(Y),Y.defaultPrevented||d?.())},S);return ek(Y=>{j===m.layers.size-1&&(a?.(Y),!Y.defaultPrevented&&d&&(Y.preventDefault(),d()))},S),N.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(A5=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),R5(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=A5)}},[v,S,n,m]),N.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),R5())},[v,m]),N.useEffect(()=>{const Y=()=>C({});return document.addEventListener(s2,Y),()=>document.removeEventListener(s2,Y)},[]),E.jsx(An.div,{...g,ref:T,style:{pointerEvents:z?P?"auto":"none":void 0,...t.style},onFocusCapture:Rt(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Rt(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Rt(t.onPointerDownCapture,H.onPointerDownCapture)})});F2.displayName=tk;var rk="DismissableLayerBranch",ik=N.forwardRef((t,e)=>{const n=N.useContext(xx),a=N.useRef(null),i=xa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),E.jsx(An.div,{...t,ref:i})});ik.displayName=rk;function sk(t,e=globalThis?.document){const n=to(t),a=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let g=function(){wx(nk,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=g,e.addEventListener("click",i.current,{once:!0})):g()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function lk(t,e=globalThis?.document){const n=to(t),a=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!a.current&&wx(ak,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function R5(){const t=new CustomEvent(s2);document.dispatchEvent(t)}function wx(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?_x(i,l):i.dispatchEvent(l)}var ly="focusScope.autoFocusOnMount",oy="focusScope.autoFocusOnUnmount",O5={bubbles:!1,cancelable:!0},ok="FocusScope",Q2=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[d,g]=N.useState(null),m=to(i),v=to(l),_=N.useRef(null),S=xa(e,R=>g(R)),C=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(C.paused||!d)return;const P=z.target;d.contains(P)?_.current=P:lu(_.current,{select:!0})},O=function(z){if(C.paused||!d)return;const P=z.relatedTarget;P!==null&&(d.contains(P)||lu(_.current,{select:!0}))},M=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&lu(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const j=new MutationObserver(M);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),j.disconnect()}}},[a,d,C.paused]),N.useEffect(()=>{if(d){M5.add(C);const R=document.activeElement;if(!d.contains(R)){const M=new CustomEvent(ly,O5);d.addEventListener(ly,m),d.dispatchEvent(M),M.defaultPrevented||(uk(gk(Ex(d)),{select:!0}),document.activeElement===R&&lu(d))}return()=>{d.removeEventListener(ly,m),setTimeout(()=>{const M=new CustomEvent(oy,O5);d.addEventListener(oy,v),d.dispatchEvent(M),M.defaultPrevented||lu(R??document.body,{select:!0}),d.removeEventListener(oy,v),M5.remove(C)},0)}}},[d,m,v,C]);const T=N.useCallback(R=>{if(!n&&!a||C.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,M=document.activeElement;if(O&&M){const j=R.currentTarget,[z,P]=ck(j);z&&P?!R.shiftKey&&M===P?(R.preventDefault(),n&&lu(z,{select:!0})):R.shiftKey&&M===z&&(R.preventDefault(),n&&lu(P,{select:!0})):M===j&&R.preventDefault()}},[n,a,C.paused]);return E.jsx(An.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});Q2.displayName=ok;function uk(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(lu(a,{select:e}),document.activeElement!==n)return}function ck(t){const e=Ex(t),n=N5(e,t),a=N5(e.reverse(),t);return[n,a]}function Ex(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function N5(t,e){for(const n of t)if(!fk(n,{upTo:e}))return n}function fk(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dk(t){return t instanceof HTMLInputElement&&"select"in t}function lu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&dk(t)&&e&&t.select()}}var M5=hk();function hk(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=D5(t,e),t.unshift(e)},remove(e){t=D5(t,e),t[0]?.resume()}}}function D5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function gk(t){return t.filter(e=>e.tagName!=="A")}var pk="Portal",$2=N.forwardRef((t,e)=>{const{container:n,...a}=t,[i,l]=N.useState(!1);gu(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?V9.createPortal(E.jsx(An.div,{...a,ref:e}),u):null});$2.displayName=pk;var uy=0;function Cx(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??j5()),document.body.insertAdjacentElement("beforeend",t[1]??j5()),uy++,()=>{uy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uy--}},[])}function j5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sl=function(){return sl=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},sl.apply(this,arguments)};function Tx(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function mk(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Um="right-scroll-bar-position",km="width-before-scroll-bar",vk="with-scroll-bars-hidden",yk="--removed-body-scroll-bar-size";function cy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bk(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var _k=typeof window<"u"?N.useLayoutEffect:N.useEffect,z5=new WeakMap;function Sk(t,e){var n=bk(null,function(a){return t.forEach(function(i){return cy(i,a)})});return _k(function(){var a=z5.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(d){l.has(d)||cy(d,null)}),l.forEach(function(d){i.has(d)||cy(d,u)})}z5.set(n,t)},[t]),n}function xk(t){return t}function wk(t,e){e===void 0&&(e=xk);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var g=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(g)};m(),n={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),n}}}};return i}function Ek(t){t===void 0&&(t={});var e=wk(null);return e.options=sl({async:!0,ssr:!1},t),e}var Ax=function(t){var e=t.sideCar,n=Tx(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,sl({},n))};Ax.isSideCarExport=!0;function Ck(t,e){return t.useMedium(e),Ax}var Rx=Ek(),fy=function(){},zv=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:fy,onWheelCapture:fy,onTouchMoveCapture:fy}),i=a[0],l=a[1],u=t.forwardProps,d=t.children,g=t.className,m=t.removeScrollBar,v=t.enabled,_=t.shards,S=t.sideCar,C=t.noRelative,T=t.noIsolation,R=t.inert,O=t.allowPinchZoom,M=t.as,j=M===void 0?"div":M,z=t.gapMode,P=Tx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=S,k=Sk([n,e]),Y=sl(sl({},P),i);return N.createElement(N.Fragment,null,v&&N.createElement(H,{sideCar:Rx,removeScrollBar:m,shards:_,noRelative:C,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),u?N.cloneElement(N.Children.only(d),sl(sl({},Y),{ref:k})):N.createElement(j,sl({},Y,{className:g,ref:k}),d))});zv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zv.classNames={fullWidth:km,zeroRight:Um};var Tk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ak(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Tk();return e&&t.setAttribute("nonce",e),t}function Rk(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ok(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Nk=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ak())&&(Rk(e,n),Ok(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Mk=function(){var t=Nk();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Ox=function(){var t=Mk(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},Dk={left:0,top:0,right:0,gap:0},dy=function(t){return parseInt(t||"",10)||0},jk=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[dy(n),dy(a),dy(i)]},zk=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Dk;var e=jk(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},Uk=Ox(),Dd="data-scroll-locked",kk=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vk,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Um,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(km,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Um," .").concat(Um,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(km," .").concat(km,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(yk,": ").concat(d,`px;
  }
`)},U5=function(){var t=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(t)?t:0},Lk=function(){N.useEffect(function(){return document.body.setAttribute(Dd,(U5()+1).toString()),function(){var t=U5()-1;t<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,t.toString())}},[])},Pk=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;Lk();var l=N.useMemo(function(){return zk(i)},[i]);return N.createElement(Uk,{styles:kk(l,!e,i,n?"":"!important")})},l2=!1;if(typeof window<"u")try{var hm=Object.defineProperty({},"passive",{get:function(){return l2=!0,!0}});window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch{l2=!1}var yd=l2?{passive:!1}:!1,Bk=function(t){return t.tagName==="TEXTAREA"},Nx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Bk(t)&&n[e]==="visible")},Hk=function(t){return Nx(t,"overflowY")},Gk=function(t){return Nx(t,"overflowX")},k5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=Mx(t,a);if(i){var l=Dx(t,a),u=l[1],d=l[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},qk=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},Vk=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},Mx=function(t,e){return t==="v"?Hk(e):Gk(e)},Dx=function(t,e){return t==="v"?qk(e):Vk(e)},Yk=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zk=function(t,e,n,a,i){var l=Yk(t,window.getComputedStyle(e).direction),u=l*a,d=n.target,g=e.contains(d),m=!1,v=u>0,_=0,S=0;do{if(!d)break;var C=Dx(t,d),T=C[0],R=C[1],O=C[2],M=R-O-l*T;(T||M)&&Mx(t,d)&&(_+=M,S+=T);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!g&&d!==document.body||g&&(e.contains(d)||e===d));return(v&&Math.abs(_)<1||!v&&Math.abs(S)<1)&&(m=!0),m},gm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},L5=function(t){return[t.deltaX,t.deltaY]},P5=function(t){return t&&"current"in t?t.current:t},Ik=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Xk=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Kk=0,bd=[];function Fk(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),i=N.useState(Kk++)[0],l=N.useState(Ox)[0],u=N.useRef(t);N.useEffect(function(){u.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=mk([t.lockRef.current],(t.shards||[]).map(P5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var M=gm(R),j=n.current,z="deltaX"in R?R.deltaX:j[0]-M[0],P="deltaY"in R?R.deltaY:j[1]-M[1],H,k=R.target,Y=Math.abs(z)>Math.abs(P)?"h":"v";if("touches"in R&&Y==="h"&&k.type==="range")return!1;var F=k5(Y,k);if(!F)return!0;if(F?H=Y:(H=Y==="v"?"h":"v",F=k5(Y,k)),!F)return!1;if(!a.current&&"changedTouches"in R&&(z||P)&&(a.current=H),!H)return!0;var oe=a.current||H;return Zk(oe,O,R,oe==="h"?z:P)},[]),g=N.useCallback(function(R){var O=R;if(!(!bd.length||bd[bd.length-1]!==l)){var M="deltaY"in O?L5(O):gm(O),j=e.current.filter(function(H){return H.name===O.type&&(H.target===O.target||O.target===H.shadowParent)&&Ik(H.delta,M)})[0];if(j&&j.should){O.cancelable&&O.preventDefault();return}if(!j){var z=(u.current.shards||[]).map(P5).filter(Boolean).filter(function(H){return H.contains(O.target)}),P=z.length>0?d(O,z[0]):!u.current.noIsolation;P&&O.cancelable&&O.preventDefault()}}},[]),m=N.useCallback(function(R,O,M,j){var z={name:R,delta:O,target:M,should:j,shadowParent:Qk(M)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(P){return P!==z})},1)},[]),v=N.useCallback(function(R){n.current=gm(R),a.current=void 0},[]),_=N.useCallback(function(R){m(R.type,L5(R),R.target,d(R,t.lockRef.current))},[]),S=N.useCallback(function(R){m(R.type,gm(R),R.target,d(R,t.lockRef.current))},[]);N.useEffect(function(){return bd.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",g,yd),document.addEventListener("touchmove",g,yd),document.addEventListener("touchstart",v,yd),function(){bd=bd.filter(function(R){return R!==l}),document.removeEventListener("wheel",g,yd),document.removeEventListener("touchmove",g,yd),document.removeEventListener("touchstart",v,yd)}},[]);var C=t.removeScrollBar,T=t.inert;return N.createElement(N.Fragment,null,T?N.createElement(l,{styles:Xk(i)}):null,C?N.createElement(Pk,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Qk(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $k=Ck(Rx,Fk);var W2=N.forwardRef(function(t,e){return N.createElement(zv,sl({},t,{ref:e,sideCar:$k}))});W2.classNames=zv.classNames;var Wk=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_d=new WeakMap,pm=new WeakMap,mm={},hy=0,jx=function(t){return t&&(t.host||jx(t.parentNode))},Jk=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=jx(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},eL=function(t,e,n,a){var i=Jk(e,Array.isArray(t)?t:[t]);mm[n]||(mm[n]=new WeakMap);var l=mm[n],u=[],d=new Set,g=new Set(i),m=function(_){!_||d.has(_)||(d.add(_),m(_.parentNode))};i.forEach(m);var v=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(S){if(d.has(S))v(S);else try{var C=S.getAttribute(a),T=C!==null&&C!=="false",R=(_d.get(S)||0)+1,O=(l.get(S)||0)+1;_d.set(S,R),l.set(S,O),u.push(S),R===1&&T&&pm.set(S,!0),O===1&&S.setAttribute(n,"true"),T||S.setAttribute(a,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return v(e),d.clear(),hy++,function(){u.forEach(function(_){var S=_d.get(_)-1,C=l.get(_)-1;_d.set(_,S),l.set(_,C),S||(pm.has(_)||_.removeAttribute(a),pm.delete(_)),C||_.removeAttribute(n)}),hy--,hy||(_d=new WeakMap,_d=new WeakMap,pm=new WeakMap,mm={})}},zx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=Wk(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),eL(a,i,n,"aria-hidden")):function(){return null}},Uv="Dialog",[Ux,kx]=uo(Uv),[tL,_s]=Ux(Uv),Lx=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,d=N.useRef(null),g=N.useRef(null),[m,v]=Gd({prop:a,defaultProp:i??!1,onChange:l,caller:Uv});return E.jsx(tL,{scope:e,triggerRef:d,contentRef:g,contentId:Md(),titleId:Md(),descriptionId:Md(),open:m,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:u,children:n})};Lx.displayName=Uv;var Px="DialogTrigger",Bx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(Px,n),l=xa(e,i.triggerRef);return E.jsx(An.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tb(i.open),...a,ref:l,onClick:Rt(t.onClick,i.onOpenToggle)})});Bx.displayName=Px;var J2="DialogPortal",[nL,Hx]=Ux(J2,{forceMount:void 0}),Gx=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=_s(J2,e);return E.jsx(nL,{scope:e,forceMount:n,children:N.Children.map(a,u=>E.jsx(Eu,{present:n||l.open,children:E.jsx($2,{asChild:!0,container:i,children:u})}))})};Gx.displayName=J2;var tv="DialogOverlay",qx=N.forwardRef((t,e)=>{const n=Hx(tv,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=_s(tv,t.__scopeDialog);return l.modal?E.jsx(Eu,{present:a||l.open,children:E.jsx(rL,{...i,ref:e})}):null});qx.displayName=tv;var aL=I0("DialogOverlay.RemoveScroll"),rL=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(tv,n);return E.jsx(W2,{as:aL,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(An.div,{"data-state":tb(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),jc="DialogContent",Vx=N.forwardRef((t,e)=>{const n=Hx(jc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=_s(jc,t.__scopeDialog);return E.jsx(Eu,{present:a||l.open,children:l.modal?E.jsx(iL,{...i,ref:e}):E.jsx(sL,{...i,ref:e})})});Vx.displayName=jc;var iL=N.forwardRef((t,e)=>{const n=_s(jc,t.__scopeDialog),a=N.useRef(null),i=xa(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return zx(l)},[]),E.jsx(Yx,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rt(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Rt(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Rt(t.onFocusOutside,l=>l.preventDefault())})}),sL=N.forwardRef((t,e)=>{const n=_s(jc,t.__scopeDialog),a=N.useRef(!1),i=N.useRef(!1);return E.jsx(Yx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),Yx=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,d=_s(jc,n),g=N.useRef(null),m=xa(e,g);return Cx(),E.jsxs(E.Fragment,{children:[E.jsx(Q2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:E.jsx(F2,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":tb(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(oL,{titleId:d.titleId}),E.jsx(cL,{contentRef:g,descriptionId:d.descriptionId})]})]})}),eb="DialogTitle",Zx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(eb,n);return E.jsx(An.h2,{id:i.titleId,...a,ref:e})});Zx.displayName=eb;var Ix="DialogDescription",Xx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(Ix,n);return E.jsx(An.p,{id:i.descriptionId,...a,ref:e})});Xx.displayName=Ix;var Kx="DialogClose",Fx=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(Kx,n);return E.jsx(An.button,{type:"button",...a,ref:e,onClick:Rt(t.onClick,()=>i.onOpenChange(!1))})});Fx.displayName=Kx;function tb(t){return t?"open":"closed"}var Qx="DialogTitleWarning",[lL,$x]=VU(Qx,{contentName:jc,titleName:eb,docsSlug:"dialog"}),oL=({titleId:t})=>{const e=$x(Qx),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uL="DialogDescriptionWarning",cL=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$x(uL).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},fL=Lx,dL=Bx,hL=Gx,gL=qx,pL=Vx,mL=Zx,vL=Xx,Wx=Fx,Jx="AlertDialog",[yL]=uo(Jx,[kx]),co=kx(),e6=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return E.jsx(fL,{...a,...n,modal:!0})};e6.displayName=Jx;var bL="AlertDialogTrigger",t6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return E.jsx(dL,{...i,...a,ref:e})});t6.displayName=bL;var _L="AlertDialogPortal",n6=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return E.jsx(hL,{...a,...n})};n6.displayName=_L;var SL="AlertDialogOverlay",a6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return E.jsx(gL,{...i,...a,ref:e})});a6.displayName=SL;var jd="AlertDialogContent",[xL,wL]=yL(jd),EL=PU("AlertDialogContent"),r6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,l=co(n),u=N.useRef(null),d=xa(e,u),g=N.useRef(null);return E.jsx(lL,{contentName:jd,titleName:i6,docsSlug:"alert-dialog",children:E.jsx(xL,{scope:n,cancelRef:g,children:E.jsxs(pL,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:Rt(i.onOpenAutoFocus,m=>{m.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[E.jsx(EL,{children:a}),E.jsx(TL,{contentRef:u})]})})})});r6.displayName=jd;var i6="AlertDialogTitle",s6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return E.jsx(mL,{...i,...a,ref:e})});s6.displayName=i6;var l6="AlertDialogDescription",o6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return E.jsx(vL,{...i,...a,ref:e})});o6.displayName=l6;var CL="AlertDialogAction",u6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return E.jsx(Wx,{...i,...a,ref:e})});u6.displayName=CL;var c6="AlertDialogCancel",f6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=wL(c6,n),l=co(n),u=xa(e,i);return E.jsx(Wx,{...l,...a,ref:u})});f6.displayName=c6;var TL=({contentRef:t})=>{const e=`\`${jd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jd}\` by passing a \`${l6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},vm=e6,gy=t6,ym=n6,bm=a6,_m=r6,py=u6,Sm=f6,xm=s6,wm=o6;function AL(t){const[e,n]=N.useState(void 0);return gu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,d;if("borderBoxSize"in l){const g=l.borderBoxSize,m=Array.isArray(g)?g[0]:g;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const RL=["top","right","bottom","left"],pu=Math.min,ai=Math.max,nv=Math.round,Em=Math.floor,ul=t=>({x:t,y:t}),OL={left:"right",right:"left",bottom:"top",top:"bottom"},NL={start:"end",end:"start"};function o2(t,e,n){return ai(t,pu(e,n))}function no(t,e){return typeof t=="function"?t(e):t}function ao(t){return t.split("-")[0]}function qd(t){return t.split("-")[1]}function nb(t){return t==="x"?"y":"x"}function ab(t){return t==="y"?"height":"width"}const ML=new Set(["top","bottom"]);function ll(t){return ML.has(ao(t))?"y":"x"}function rb(t){return nb(ll(t))}function DL(t,e,n){n===void 0&&(n=!1);const a=qd(t),i=rb(t),l=ab(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=av(u)),[u,av(u)]}function jL(t){const e=av(t);return[u2(t),e,u2(e)]}function u2(t){return t.replace(/start|end/g,e=>NL[e])}const B5=["left","right"],H5=["right","left"],zL=["top","bottom"],UL=["bottom","top"];function kL(t,e,n){switch(t){case"top":case"bottom":return n?e?H5:B5:e?B5:H5;case"left":case"right":return e?zL:UL;default:return[]}}function LL(t,e,n,a){const i=qd(t);let l=kL(ao(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(u2)))),l}function av(t){return t.replace(/left|right|bottom|top/g,e=>OL[e])}function PL(t){return{top:0,right:0,bottom:0,left:0,...t}}function d6(t){return typeof t!="number"?PL(t):{top:t,right:t,bottom:t,left:t}}function rv(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function G5(t,e,n){let{reference:a,floating:i}=t;const l=ll(e),u=rb(e),d=ab(u),g=ao(e),m=l==="y",v=a.x+a.width/2-i.width/2,_=a.y+a.height/2-i.height/2,S=a[d]/2-i[d]/2;let C;switch(g){case"top":C={x:v,y:a.y-i.height};break;case"bottom":C={x:v,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:_};break;case"left":C={x:a.x-i.width,y:_};break;default:C={x:a.x,y:a.y}}switch(qd(e)){case"start":C[u]-=S*(n&&m?-1:1);break;case"end":C[u]+=S*(n&&m?-1:1);break}return C}const BL=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:_}=G5(m,a,g),S=a,C={},T=0;for(let R=0;R<d.length;R++){const{name:O,fn:M}=d[R],{x:j,y:z,data:P,reset:H}=await M({x:v,y:_,initialPlacement:a,placement:S,strategy:i,middlewareData:C,rects:m,platform:u,elements:{reference:t,floating:e}});v=j??v,_=z??_,C={...C,[O]:{...C[O],...P}},H&&T<=50&&(T++,typeof H=="object"&&(H.placement&&(S=H.placement),H.rects&&(m=H.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:v,y:_}=G5(m,S,g)),R=-1)}return{x:v,y:_,placement:S,strategy:i,middlewareData:C}};async function X0(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:d,strategy:g}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:S=!1,padding:C=0}=no(e,t),T=d6(C),O=d[S?_==="floating"?"reference":"floating":_],M=rv(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:g})),j=_==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),P=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},H=rv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:z,strategy:g}):j);return{top:(M.top-H.top+T.top)/P.y,bottom:(H.bottom-M.bottom+T.bottom)/P.y,left:(M.left-H.left+T.left)/P.x,right:(H.right-M.right+T.right)/P.x}}const HL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:d,middlewareData:g}=e,{element:m,padding:v=0}=no(t,e)||{};if(m==null)return{};const _=d6(v),S={x:n,y:a},C=rb(i),T=ab(C),R=await u.getDimensions(m),O=C==="y",M=O?"top":"left",j=O?"bottom":"right",z=O?"clientHeight":"clientWidth",P=l.reference[T]+l.reference[C]-S[C]-l.floating[T],H=S[C]-l.reference[C],k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let Y=k?k[z]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(k)))&&(Y=d.floating[z]||l.floating[T]);const F=P/2-H/2,oe=Y/2-R[T]/2-1,_e=pu(_[M],oe),xe=pu(_[j],oe),he=_e,ge=Y-R[T]-xe,ye=Y/2-R[T]/2+F,Se=o2(he,ye,ge),B=!g.arrow&&qd(i)!=null&&ye!==Se&&l.reference[T]/2-(ye<he?_e:xe)-R[T]/2<0,ue=B?ye<he?ye-he:ye-ge:0;return{[C]:S[C]+ue,data:{[C]:Se,centerOffset:ye-Se-ue,...B&&{alignmentOffset:ue}},reset:B}}}),GL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:d,platform:g,elements:m}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...O}=no(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const M=ao(i),j=ll(d),z=ao(d)===d,P=await(g.isRTL==null?void 0:g.isRTL(m.floating)),H=S||(z||!R?[av(d)]:jL(d)),k=T!=="none";!S&&k&&H.push(...LL(d,R,T,P));const Y=[d,...H],F=await X0(e,O),oe=[];let _e=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&oe.push(F[M]),_){const ye=DL(i,u,P);oe.push(F[ye[0]],F[ye[1]])}if(_e=[..._e,{placement:i,overflows:oe}],!oe.every(ye=>ye<=0)){var xe,he;const ye=(((xe=l.flip)==null?void 0:xe.index)||0)+1,Se=Y[ye];if(Se&&(!(_==="alignment"?j!==ll(Se):!1)||_e.every($=>ll($.placement)===j?$.overflows[0]>0:!0)))return{data:{index:ye,overflows:_e},reset:{placement:Se}};let B=(he=_e.filter(ue=>ue.overflows[0]<=0).sort((ue,$)=>ue.overflows[1]-$.overflows[1])[0])==null?void 0:he.placement;if(!B)switch(C){case"bestFit":{var ge;const ue=(ge=_e.filter($=>{if(k){const me=ll($.placement);return me===j||me==="y"}return!0}).map($=>[$.placement,$.overflows.filter(me=>me>0).reduce((me,G)=>me+G,0)]).sort(($,me)=>$[1]-me[1])[0])==null?void 0:ge[0];ue&&(B=ue);break}case"initialPlacement":B=d;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function q5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function V5(t){return RL.some(e=>t[e]>=0)}const qL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=no(t,e);switch(a){case"referenceHidden":{const l=await X0(e,{...i,elementContext:"reference"}),u=q5(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:V5(u)}}}case"escaped":{const l=await X0(e,{...i,altBoundary:!0}),u=q5(l,n.floating);return{data:{escapedOffsets:u,escaped:V5(u)}}}default:return{}}}}},h6=new Set(["left","top"]);async function VL(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=ao(n),d=qd(n),g=ll(n)==="y",m=h6.has(u)?-1:1,v=l&&g?-1:1,_=no(e,t);let{mainAxis:S,crossAxis:C,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof T=="number"&&(C=d==="end"?T*-1:T),g?{x:C*v,y:S*m}:{x:S*m,y:C*v}}const YL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:d}=e,g=await VL(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:i+g.x,y:l+g.y,data:{...g,placement:u}}}}},ZL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:O=>{let{x:M,y:j}=O;return{x:M,y:j}}},...g}=no(t,e),m={x:n,y:a},v=await X0(e,g),_=ll(ao(i)),S=nb(_);let C=m[S],T=m[_];if(l){const O=S==="y"?"top":"left",M=S==="y"?"bottom":"right",j=C+v[O],z=C-v[M];C=o2(j,C,z)}if(u){const O=_==="y"?"top":"left",M=_==="y"?"bottom":"right",j=T+v[O],z=T-v[M];T=o2(j,T,z)}const R=d.fn({...e,[S]:C,[_]:T});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[S]:l,[_]:u}}}}}},IL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:g=!0,crossAxis:m=!0}=no(t,e),v={x:n,y:a},_=ll(i),S=nb(_);let C=v[S],T=v[_];const R=no(d,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(g){const z=S==="y"?"height":"width",P=l.reference[S]-l.floating[z]+O.mainAxis,H=l.reference[S]+l.reference[z]-O.mainAxis;C<P?C=P:C>H&&(C=H)}if(m){var M,j;const z=S==="y"?"width":"height",P=h6.has(ao(i)),H=l.reference[_]-l.floating[z]+(P&&((M=u.offset)==null?void 0:M[_])||0)+(P?0:O.crossAxis),k=l.reference[_]+l.reference[z]+(P?0:((j=u.offset)==null?void 0:j[_])||0)-(P?O.crossAxis:0);T<H?T=H:T>k&&(T=k)}return{[S]:C,[_]:T}}}},XL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:d}=e,{apply:g=()=>{},...m}=no(t,e),v=await X0(e,m),_=ao(i),S=qd(i),C=ll(i)==="y",{width:T,height:R}=l.floating;let O,M;_==="top"||_==="bottom"?(O=_,M=S===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(M=_,O=S==="end"?"top":"bottom");const j=R-v.top-v.bottom,z=T-v.left-v.right,P=pu(R-v[O],j),H=pu(T-v[M],z),k=!e.middlewareData.shift;let Y=P,F=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(Y=j),k&&!S){const _e=ai(v.left,0),xe=ai(v.right,0),he=ai(v.top,0),ge=ai(v.bottom,0);C?F=T-2*(_e!==0||xe!==0?_e+xe:ai(v.left,v.right)):Y=R-2*(he!==0||ge!==0?he+ge:ai(v.top,v.bottom))}await g({...e,availableWidth:F,availableHeight:Y});const oe=await u.getDimensions(d.floating);return T!==oe.width||R!==oe.height?{reset:{rects:!0}}:{}}}};function kv(){return typeof window<"u"}function Vd(t){return g6(t)?(t.nodeName||"").toLowerCase():"#document"}function oi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gl(t){var e;return(e=(g6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g6(t){return kv()?t instanceof Node||t instanceof oi(t).Node:!1}function vs(t){return kv()?t instanceof Element||t instanceof oi(t).Element:!1}function cl(t){return kv()?t instanceof HTMLElement||t instanceof oi(t).HTMLElement:!1}function Y5(t){return!kv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oi(t).ShadowRoot}const KL=new Set(["inline","contents"]);function sg(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!KL.has(i)}const FL=new Set(["table","td","th"]);function QL(t){return FL.has(Vd(t))}const $L=[":popover-open",":modal"];function Lv(t){return $L.some(e=>{try{return t.matches(e)}catch{return!1}})}const WL=["transform","translate","scale","rotate","perspective"],JL=["transform","translate","scale","rotate","perspective","filter"],eP=["paint","layout","strict","content"];function ib(t){const e=sb(),n=vs(t)?ys(t):t;return WL.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||JL.some(a=>(n.willChange||"").includes(a))||eP.some(a=>(n.contain||"").includes(a))}function tP(t){let e=mu(t);for(;cl(e)&&!Pd(e);){if(ib(e))return e;if(Lv(e))return null;e=mu(e)}return null}function sb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nP=new Set(["html","body","#document"]);function Pd(t){return nP.has(Vd(t))}function ys(t){return oi(t).getComputedStyle(t)}function Pv(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mu(t){if(Vd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Y5(t)&&t.host||gl(t);return Y5(e)?e.host:e}function p6(t){const e=mu(t);return Pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:cl(e)&&sg(e)?e:p6(e)}function K0(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=p6(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=oi(i);if(l){const d=c2(u);return e.concat(u,u.visualViewport||[],sg(i)?i:[],d&&n?K0(d):[])}return e.concat(i,K0(i,[],n))}function c2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function m6(t){const e=ys(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=cl(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,d=nv(n)!==l||nv(a)!==u;return d&&(n=l,a=u),{width:n,height:a,$:d}}function lb(t){return vs(t)?t:t.contextElement}function zd(t){const e=lb(t);if(!cl(e))return ul(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=m6(e);let u=(l?nv(n.width):n.width)/a,d=(l?nv(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const aP=ul(0);function v6(t){const e=oi(t);return!sb()||!e.visualViewport?aP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==oi(t)?!1:e}function zc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=lb(t);let u=ul(1);e&&(a?vs(a)&&(u=zd(a)):u=zd(t));const d=rP(l,n,a)?v6(l):ul(0);let g=(i.left+d.x)/u.x,m=(i.top+d.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(l){const S=oi(l),C=a&&vs(a)?oi(a):a;let T=S,R=c2(T);for(;R&&a&&C!==T;){const O=zd(R),M=R.getBoundingClientRect(),j=ys(R),z=M.left+(R.clientLeft+parseFloat(j.paddingLeft))*O.x,P=M.top+(R.clientTop+parseFloat(j.paddingTop))*O.y;g*=O.x,m*=O.y,v*=O.x,_*=O.y,g+=z,m+=P,T=oi(R),R=c2(T)}}return rv({width:v,height:_,x:g,y:m})}function Bv(t,e){const n=Pv(t).scrollLeft;return e?e.left+n:zc(gl(t)).left+n}function y6(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Bv(t,n),i=n.top+e.scrollTop;return{x:a,y:i}}function iP(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=gl(a),d=e?Lv(e.floating):!1;if(a===u||d&&l)return n;let g={scrollLeft:0,scrollTop:0},m=ul(1);const v=ul(0),_=cl(a);if((_||!_&&!l)&&((Vd(a)!=="body"||sg(u))&&(g=Pv(a)),cl(a))){const C=zc(a);m=zd(a),v.x=C.x+a.clientLeft,v.y=C.y+a.clientTop}const S=u&&!_&&!l?y6(u,g):ul(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-g.scrollLeft*m.x+v.x+S.x,y:n.y*m.y-g.scrollTop*m.y+v.y+S.y}}function sP(t){return Array.from(t.getClientRects())}function lP(t){const e=gl(t),n=Pv(t),a=t.ownerDocument.body,i=ai(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=ai(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Bv(t);const d=-n.scrollTop;return ys(a).direction==="rtl"&&(u+=ai(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:d}}const Z5=25;function oP(t,e){const n=oi(t),a=gl(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,d=0,g=0;if(i){l=i.width,u=i.height;const v=sb();(!v||v&&e==="fixed")&&(d=i.offsetLeft,g=i.offsetTop)}const m=Bv(a);if(m<=0){const v=a.ownerDocument,_=v.body,S=getComputedStyle(_),C=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(a.clientWidth-_.clientWidth-C);T<=Z5&&(l-=T)}else m<=Z5&&(l+=m);return{width:l,height:u,x:d,y:g}}const uP=new Set(["absolute","fixed"]);function cP(t,e){const n=zc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=cl(t)?zd(t):ul(1),u=t.clientWidth*l.x,d=t.clientHeight*l.y,g=i*l.x,m=a*l.y;return{width:u,height:d,x:g,y:m}}function I5(t,e,n){let a;if(e==="viewport")a=oP(t,n);else if(e==="document")a=lP(gl(t));else if(vs(e))a=cP(e,n);else{const i=v6(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rv(a)}function b6(t,e){const n=mu(t);return n===e||!vs(n)||Pd(n)?!1:ys(n).position==="fixed"||b6(n,e)}function fP(t,e){const n=e.get(t);if(n)return n;let a=K0(t,[],!1).filter(d=>vs(d)&&Vd(d)!=="body"),i=null;const l=ys(t).position==="fixed";let u=l?mu(t):t;for(;vs(u)&&!Pd(u);){const d=ys(u),g=ib(u);!g&&d.position==="fixed"&&(i=null),(l?!g&&!i:!g&&d.position==="static"&&!!i&&uP.has(i.position)||sg(u)&&!g&&b6(t,u))?a=a.filter(v=>v!==u):i=d,u=mu(u)}return e.set(t,a),a}function dP(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Lv(e)?[]:fP(e,this._c):[].concat(n),a],d=u[0],g=u.reduce((m,v)=>{const _=I5(e,v,i);return m.top=ai(_.top,m.top),m.right=pu(_.right,m.right),m.bottom=pu(_.bottom,m.bottom),m.left=ai(_.left,m.left),m},I5(e,d,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function hP(t){const{width:e,height:n}=m6(t);return{width:e,height:n}}function gP(t,e,n){const a=cl(e),i=gl(e),l=n==="fixed",u=zc(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const g=ul(0);function m(){g.x=Bv(i)}if(a||!a&&!l)if((Vd(e)!=="body"||sg(i))&&(d=Pv(e)),a){const C=zc(e,!0,l,e);g.x=C.x+e.clientLeft,g.y=C.y+e.clientTop}else i&&m();l&&!a&&i&&m();const v=i&&!a&&!l?y6(i,d):ul(0),_=u.left+d.scrollLeft-g.x-v.x,S=u.top+d.scrollTop-g.y-v.y;return{x:_,y:S,width:u.width,height:u.height}}function my(t){return ys(t).position==="static"}function X5(t,e){if(!cl(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gl(t)===n&&(n=n.ownerDocument.body),n}function _6(t,e){const n=oi(t);if(Lv(t))return n;if(!cl(t)){let i=mu(t);for(;i&&!Pd(i);){if(vs(i)&&!my(i))return i;i=mu(i)}return n}let a=X5(t,e);for(;a&&QL(a)&&my(a);)a=X5(a,e);return a&&Pd(a)&&my(a)&&!ib(a)?n:a||tP(t)||n}const pP=async function(t){const e=this.getOffsetParent||_6,n=this.getDimensions,a=await n(t.floating);return{reference:gP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function mP(t){return ys(t).direction==="rtl"}const vP={convertOffsetParentRelativeRectToViewportRelativeRect:iP,getDocumentElement:gl,getClippingRect:dP,getOffsetParent:_6,getElementRects:pP,getClientRects:sP,getDimensions:hP,getScale:zd,isElement:vs,isRTL:mP};function S6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yP(t,e){let n=null,a;const i=gl(t);function l(){var d;clearTimeout(a),(d=n)==null||d.disconnect(),n=null}function u(d,g){d===void 0&&(d=!1),g===void 0&&(g=1),l();const m=t.getBoundingClientRect(),{left:v,top:_,width:S,height:C}=m;if(d||e(),!S||!C)return;const T=Em(_),R=Em(i.clientWidth-(v+S)),O=Em(i.clientHeight-(_+C)),M=Em(v),z={rootMargin:-T+"px "+-R+"px "+-O+"px "+-M+"px",threshold:ai(0,pu(1,g))||1};let P=!0;function H(k){const Y=k[0].intersectionRatio;if(Y!==g){if(!P)return u();Y?u(!1,Y):a=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!S6(m,t.getBoundingClientRect())&&u(),P=!1}try{n=new IntersectionObserver(H,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,z)}n.observe(t)}return u(!0),l}function bP(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,m=lb(t),v=i||l?[...m?K0(m):[],...K0(e)]:[];v.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const _=m&&d?yP(m,n):null;let S=-1,C=null;u&&(C=new ResizeObserver(M=>{let[j]=M;j&&j.target===m&&C&&(C.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),n()}),m&&!g&&C.observe(m),C.observe(e));let T,R=g?zc(t):null;g&&O();function O(){const M=zc(t);R&&!S6(R,M)&&n(),R=M,T=requestAnimationFrame(O)}return n(),()=>{var M;v.forEach(j=>{i&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),_?.(),(M=C)==null||M.disconnect(),C=null,g&&cancelAnimationFrame(T)}}const _P=YL,SP=ZL,xP=GL,wP=XL,EP=qL,K5=HL,CP=IL,TP=(t,e,n)=>{const a=new Map,i={platform:vP,...n},l={...i.platform,_c:a};return BL(t,e,{...i,platform:l})};var AP=typeof document<"u",RP=function(){},Lm=AP?N.useLayoutEffect:RP;function iv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!iv(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!iv(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function x6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F5(t,e){const n=x6(t);return Math.round(e*n)/n}function vy(t){const e=N.useRef(t);return Lm(()=>{e.current=t}),e}function OP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:g,open:m}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,C]=N.useState(a);iv(S,a)||C(a);const[T,R]=N.useState(null),[O,M]=N.useState(null),j=N.useCallback($=>{$!==k.current&&(k.current=$,R($))},[]),z=N.useCallback($=>{$!==Y.current&&(Y.current=$,M($))},[]),P=l||T,H=u||O,k=N.useRef(null),Y=N.useRef(null),F=N.useRef(v),oe=g!=null,_e=vy(g),xe=vy(i),he=vy(m),ge=N.useCallback(()=>{if(!k.current||!Y.current)return;const $={placement:e,strategy:n,middleware:S};xe.current&&($.platform=xe.current),TP(k.current,Y.current,$).then(me=>{const G={...me,isPositioned:he.current!==!1};ye.current&&!iv(F.current,G)&&(F.current=G,gv.flushSync(()=>{_(G)}))})},[S,e,n,xe,he]);Lm(()=>{m===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,_($=>({...$,isPositioned:!1})))},[m]);const ye=N.useRef(!1);Lm(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Lm(()=>{if(P&&(k.current=P),H&&(Y.current=H),P&&H){if(_e.current)return _e.current(P,H,ge);ge()}},[P,H,ge,_e,oe]);const Se=N.useMemo(()=>({reference:k,floating:Y,setReference:j,setFloating:z}),[j,z]),B=N.useMemo(()=>({reference:P,floating:H}),[P,H]),ue=N.useMemo(()=>{const $={position:n,left:0,top:0};if(!B.floating)return $;const me=F5(B.floating,v.x),G=F5(B.floating,v.y);return d?{...$,transform:"translate("+me+"px, "+G+"px)",...x6(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:me,top:G}},[n,d,B.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:ge,refs:Se,elements:B,floatingStyles:ue}),[v,ge,Se,B,ue])}const NP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?K5({element:a.current,padding:i}).fn(n):{}:a?K5({element:a,padding:i}).fn(n):{}}}},MP=(t,e)=>({..._P(t),options:[t,e]}),DP=(t,e)=>({...SP(t),options:[t,e]}),jP=(t,e)=>({...CP(t),options:[t,e]}),zP=(t,e)=>({...xP(t),options:[t,e]}),UP=(t,e)=>({...wP(t),options:[t,e]}),kP=(t,e)=>({...EP(t),options:[t,e]}),LP=(t,e)=>({...NP(t),options:[t,e]});var PP="Arrow",w6=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return E.jsx(An.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});w6.displayName=PP;var BP=w6,ob="Popper",[E6,C6]=uo(ob),[HP,T6]=E6(ob),A6=t=>{const{__scopePopper:e,children:n}=t,[a,i]=N.useState(null);return E.jsx(HP,{scope:e,anchor:a,onAnchorChange:i,children:n})};A6.displayName=ob;var R6="PopperAnchor",O6=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=T6(R6,n),u=N.useRef(null),d=xa(e,u),g=N.useRef(null);return N.useEffect(()=>{const m=g.current;g.current=a?.current||u.current,m!==g.current&&l.onAnchorChange(g.current)}),a?null:E.jsx(An.div,{...i,ref:d})});O6.displayName=R6;var ub="PopperContent",[GP,qP]=E6(ub),N6=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:T,...R}=t,O=T6(ub,n),[M,j]=N.useState(null),z=xa(e,Ke=>j(Ke)),[P,H]=N.useState(null),k=AL(P),Y=k?.width??0,F=k?.height??0,oe=a+(l!=="center"?"-"+l:""),_e=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},xe=Array.isArray(m)?m:[m],he=xe.length>0,ge={padding:_e,boundary:xe.filter(YP),altBoundary:he},{refs:ye,floatingStyles:Se,placement:B,isPositioned:ue,middlewareData:$}=OP({strategy:"fixed",placement:oe,whileElementsMounted:(...Ke)=>bP(...Ke,{animationFrame:C==="always"}),elements:{reference:O.anchor},middleware:[MP({mainAxis:i+F,alignmentAxis:u}),g&&DP({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?jP():void 0,...ge}),g&&zP({...ge}),UP({...ge,apply:({elements:Ke,rects:nt,availableWidth:mt,availableHeight:St})=>{const{width:gn,height:En}=nt.reference,ra=Ke.floating.style;ra.setProperty("--radix-popper-available-width",`${mt}px`),ra.setProperty("--radix-popper-available-height",`${St}px`),ra.setProperty("--radix-popper-anchor-width",`${gn}px`),ra.setProperty("--radix-popper-anchor-height",`${En}px`)}}),P&&LP({element:P,padding:d}),ZP({arrowWidth:Y,arrowHeight:F}),S&&kP({strategy:"referenceHidden",...ge})]}),[me,G]=j6(B),ae=to(T);gu(()=>{ue&&ae?.()},[ue,ae]);const Ee=$.arrow?.x,Q=$.arrow?.y,be=$.arrow?.centerOffset!==0,[ke,Me]=N.useState();return gu(()=>{M&&Me(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:ue?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(GP,{scope:n,placedSide:me,onArrowChange:H,arrowX:Ee,arrowY:Q,shouldHideArrow:be,children:E.jsx(An.div,{"data-side":me,"data-align":G,...R,ref:z,style:{...R.style,animation:ue?void 0:"none"}})})})});N6.displayName=ub;var M6="PopperArrow",VP={top:"bottom",right:"left",bottom:"top",left:"right"},D6=N.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=qP(M6,a),u=VP[l.placedSide];return E.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:E.jsx(BP,{...i,ref:n,style:{...i.style,display:"block"}})})});D6.displayName=M6;function YP(t){return t!==null}var ZP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,g=u?0:t.arrowHeight,[m,v]=j6(n),_={start:"0%",center:"50%",end:"100%"}[v],S=(i.arrow?.x??0)+d/2,C=(i.arrow?.y??0)+g/2;let T="",R="";return m==="bottom"?(T=u?_:`${S}px`,R=`${-g}px`):m==="top"?(T=u?_:`${S}px`,R=`${a.floating.height+g}px`):m==="right"?(T=`${-g}px`,R=u?_:`${C}px`):m==="left"&&(T=`${a.floating.width+g}px`,R=u?_:`${C}px`),{data:{x:T,y:R}}}});function j6(t){const[e,n="center"]=t.split("-");return[e,n]}var IP=A6,XP=O6,KP=N6,FP=D6,yy="rovingFocusGroup.onEntryFocus",QP={bubbles:!1,cancelable:!0},lg="RovingFocusGroup",[f2,z6,$P]=Sx(lg),[WP,Yd]=uo(lg,[$P]),[JP,eB]=WP(lg),U6=N.forwardRef((t,e)=>E.jsx(f2.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(f2.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(tB,{...t,ref:e})})}));U6.displayName=lg;var tB=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,..._}=t,S=N.useRef(null),C=xa(e,S),T=jv(l),[R,O]=Gd({prop:u,defaultProp:d??null,onChange:g,caller:lg}),[M,j]=N.useState(!1),z=to(m),P=z6(n),H=N.useRef(!1),[k,Y]=N.useState(0);return N.useEffect(()=>{const F=S.current;if(F)return F.addEventListener(yy,z),()=>F.removeEventListener(yy,z)},[z]),E.jsx(JP,{scope:n,orientation:a,dir:T,loop:i,currentTabStopId:R,onItemFocus:N.useCallback(F=>O(F),[O]),onItemShiftTab:N.useCallback(()=>j(!0),[]),onFocusableItemAdd:N.useCallback(()=>Y(F=>F+1),[]),onFocusableItemRemove:N.useCallback(()=>Y(F=>F-1),[]),children:E.jsx(An.div,{tabIndex:M||k===0?-1:0,"data-orientation":a,..._,ref:C,style:{outline:"none",...t.style},onMouseDown:Rt(t.onMouseDown,()=>{H.current=!0}),onFocus:Rt(t.onFocus,F=>{const oe=!H.current;if(F.target===F.currentTarget&&oe&&!M){const _e=new CustomEvent(yy,QP);if(F.currentTarget.dispatchEvent(_e),!_e.defaultPrevented){const xe=P().filter(B=>B.focusable),he=xe.find(B=>B.active),ge=xe.find(B=>B.id===R),Se=[he,ge,...xe].filter(Boolean).map(B=>B.ref.current);P6(Se,v)}}H.current=!1}),onBlur:Rt(t.onBlur,()=>j(!1))})})}),k6="RovingFocusGroupItem",L6=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...d}=t,g=Md(),m=l||g,v=eB(k6,n),_=v.currentTabStopId===m,S=z6(n),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return C(),()=>T()},[a,C,T]),E.jsx(f2.ItemSlot,{scope:n,id:m,focusable:a,active:i,children:E.jsx(An.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:Rt(t.onMouseDown,O=>{a?v.onItemFocus(m):O.preventDefault()}),onFocus:Rt(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:Rt(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const M=rB(O,v.orientation,v.dir);if(M!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=S().filter(P=>P.focusable).map(P=>P.ref.current);if(M==="last")z.reverse();else if(M==="prev"||M==="next"){M==="prev"&&z.reverse();const P=z.indexOf(O.currentTarget);z=v.loop?iB(z,P+1):z.slice(P+1)}setTimeout(()=>P6(z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:R!=null}):u})})});L6.displayName=k6;var nB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rB(t,e,n){const a=aB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return nB[a]}function P6(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function iB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var cb=U6,Hv=L6,d2=["Enter"," "],sB=["ArrowDown","PageUp","Home"],B6=["ArrowUp","PageDown","End"],lB=[...sB,...B6],oB={ltr:[...d2,"ArrowRight"],rtl:[...d2,"ArrowLeft"]},uB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},og="Menu",[F0,cB,fB]=Sx(og),[Zc,H6]=uo(og,[fB,C6,Yd]),Gv=C6(),G6=Yd(),[dB,Ic]=Zc(og),[hB,ug]=Zc(og),q6=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=t,d=Gv(e),[g,m]=N.useState(null),v=N.useRef(!1),_=to(l),S=jv(i);return N.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(IP,{...d,children:E.jsx(dB,{scope:e,open:n,onOpenChange:_,content:g,onContentChange:m,children:E.jsx(hB,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:S,modal:u,children:a})})})};q6.displayName=og;var gB="MenuAnchor",fb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Gv(n);return E.jsx(XP,{...i,...a,ref:e})});fb.displayName=gB;var db="MenuPortal",[pB,V6]=Zc(db,{forceMount:void 0}),Y6=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,l=Ic(db,e);return E.jsx(pB,{scope:e,forceMount:n,children:E.jsx(Eu,{present:n||l.open,children:E.jsx($2,{asChild:!0,container:i,children:a})})})};Y6.displayName=db;var Ui="MenuContent",[mB,hb]=Zc(Ui),Z6=N.forwardRef((t,e)=>{const n=V6(Ui,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Ic(Ui,t.__scopeMenu),u=ug(Ui,t.__scopeMenu);return E.jsx(F0.Provider,{scope:t.__scopeMenu,children:E.jsx(Eu,{present:a||l.open,children:E.jsx(F0.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(vB,{...i,ref:e}):E.jsx(yB,{...i,ref:e})})})})}),vB=N.forwardRef((t,e)=>{const n=Ic(Ui,t.__scopeMenu),a=N.useRef(null),i=xa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return zx(l)},[]),E.jsx(gb,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Rt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),yB=N.forwardRef((t,e)=>{const n=Ic(Ui,t.__scopeMenu);return E.jsx(gb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bB=I0("MenuContent.ScrollLock"),gb=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,disableOutsideScroll:T,...R}=t,O=Ic(Ui,n),M=ug(Ui,n),j=Gv(n),z=G6(n),P=cB(n),[H,k]=N.useState(null),Y=N.useRef(null),F=xa(e,Y,O.onContentChange),oe=N.useRef(0),_e=N.useRef(""),xe=N.useRef(0),he=N.useRef(null),ge=N.useRef("right"),ye=N.useRef(0),Se=T?W2:N.Fragment,B=T?{as:bB,allowPinchZoom:!0}:void 0,ue=me=>{const G=_e.current+me,ae=P().filter(Ke=>!Ke.disabled),Ee=document.activeElement,Q=ae.find(Ke=>Ke.ref.current===Ee)?.textValue,be=ae.map(Ke=>Ke.textValue),ke=MB(be,G,Q),Me=ae.find(Ke=>Ke.textValue===ke)?.ref.current;(function Ke(nt){_e.current=nt,window.clearTimeout(oe.current),nt!==""&&(oe.current=window.setTimeout(()=>Ke(""),1e3))})(G),Me&&setTimeout(()=>Me.focus())};N.useEffect(()=>()=>window.clearTimeout(oe.current),[]),Cx();const $=N.useCallback(me=>ge.current===he.current?.side&&jB(me,he.current?.area),[]);return E.jsx(mB,{scope:n,searchRef:_e,onItemEnter:N.useCallback(me=>{$(me)&&me.preventDefault()},[$]),onItemLeave:N.useCallback(me=>{$(me)||(Y.current?.focus(),k(null))},[$]),onTriggerLeave:N.useCallback(me=>{$(me)&&me.preventDefault()},[$]),pointerGraceTimerRef:xe,onPointerGraceIntentChange:N.useCallback(me=>{he.current=me},[]),children:E.jsx(Se,{...B,children:E.jsx(Q2,{asChild:!0,trapped:i,onMountAutoFocus:Rt(l,me=>{me.preventDefault(),Y.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(F2,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:C,children:E.jsx(cb,{asChild:!0,...z,dir:M.dir,orientation:"vertical",loop:a,currentTabStopId:H,onCurrentTabStopIdChange:k,onEntryFocus:Rt(g,me=>{M.isUsingKeyboardRef.current||me.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(KP,{role:"menu","aria-orientation":"vertical","data-state":lw(O.open),"data-radix-menu-content":"",dir:M.dir,...j,...R,ref:F,style:{outline:"none",...R.style},onKeyDown:Rt(R.onKeyDown,me=>{const ae=me.target.closest("[data-radix-menu-content]")===me.currentTarget,Ee=me.ctrlKey||me.altKey||me.metaKey,Q=me.key.length===1;ae&&(me.key==="Tab"&&me.preventDefault(),!Ee&&Q&&ue(me.key));const be=Y.current;if(me.target!==be||!lB.includes(me.key))return;me.preventDefault();const Me=P().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);B6.includes(me.key)&&Me.reverse(),OB(Me)}),onBlur:Rt(t.onBlur,me=>{me.currentTarget.contains(me.target)||(window.clearTimeout(oe.current),_e.current="")}),onPointerMove:Rt(t.onPointerMove,Q0(me=>{const G=me.target,ae=ye.current!==me.clientX;if(me.currentTarget.contains(G)&&ae){const Ee=me.clientX>ye.current?"right":"left";ge.current=Ee,ye.current=me.clientX}}))})})})})})})});Z6.displayName=Ui;var _B="MenuGroup",pb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(An.div,{role:"group",...a,ref:e})});pb.displayName=_B;var SB="MenuLabel",I6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(An.div,{...a,ref:e})});I6.displayName=SB;var sv="MenuItem",Q5="menu.itemSelect",qv=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,l=N.useRef(null),u=ug(sv,t.__scopeMenu),d=hb(sv,t.__scopeMenu),g=xa(e,l),m=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const S=new CustomEvent(Q5,{bubbles:!0,cancelable:!0});_.addEventListener(Q5,C=>a?.(C),{once:!0}),_x(_,S),S.defaultPrevented?m.current=!1:u.onClose()}};return E.jsx(X6,{...i,ref:g,disabled:n,onClick:Rt(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),m.current=!0},onPointerUp:Rt(t.onPointerUp,_=>{m.current||_.currentTarget?.click()}),onKeyDown:Rt(t.onKeyDown,_=>{const S=d.searchRef.current!=="";n||S&&_.key===" "||d2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});qv.displayName=sv;var X6=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=t,u=hb(sv,n),d=G6(n),g=N.useRef(null),m=xa(e,g),[v,_]=N.useState(!1),[S,C]=N.useState("");return N.useEffect(()=>{const T=g.current;T&&C((T.textContent??"").trim())},[l.children]),E.jsx(F0.ItemSlot,{scope:n,disabled:a,textValue:i??S,children:E.jsx(Hv,{asChild:!0,...d,focusable:!a,children:E.jsx(An.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:m,onPointerMove:Rt(t.onPointerMove,Q0(T=>{a?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Rt(t.onPointerLeave,Q0(T=>u.onItemLeave(T))),onFocus:Rt(t.onFocus,()=>_(!0)),onBlur:Rt(t.onBlur,()=>_(!1))})})})}),xB="MenuCheckboxItem",K6=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return E.jsx(J6,{scope:t.__scopeMenu,checked:n,children:E.jsx(qv,{role:"menuitemcheckbox","aria-checked":lv(n)?"mixed":n,...i,ref:e,"data-state":vb(n),onSelect:Rt(i.onSelect,()=>a?.(lv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});K6.displayName=xB;var F6="MenuRadioGroup",[wB,EB]=Zc(F6,{value:void 0,onValueChange:()=>{}}),Q6=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,l=to(a);return E.jsx(wB,{scope:t.__scopeMenu,value:n,onValueChange:l,children:E.jsx(pb,{...i,ref:e})})});Q6.displayName=F6;var $6="MenuRadioItem",W6=N.forwardRef((t,e)=>{const{value:n,...a}=t,i=EB($6,t.__scopeMenu),l=n===i.value;return E.jsx(J6,{scope:t.__scopeMenu,checked:l,children:E.jsx(qv,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":vb(l),onSelect:Rt(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});W6.displayName=$6;var mb="MenuItemIndicator",[J6,CB]=Zc(mb,{checked:!1}),ew=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,l=CB(mb,n);return E.jsx(Eu,{present:a||lv(l.checked)||l.checked===!0,children:E.jsx(An.span,{...i,ref:e,"data-state":vb(l.checked)})})});ew.displayName=mb;var TB="MenuSeparator",tw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return E.jsx(An.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});tw.displayName=TB;var AB="MenuArrow",nw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Gv(n);return E.jsx(FP,{...i,...a,ref:e})});nw.displayName=AB;var RB="MenuSub",[oG,aw]=Zc(RB),R0="MenuSubTrigger",rw=N.forwardRef((t,e)=>{const n=Ic(R0,t.__scopeMenu),a=ug(R0,t.__scopeMenu),i=aw(R0,t.__scopeMenu),l=hb(R0,t.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:g}=l,m={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=d.current;return()=>{window.clearTimeout(_),g(null)}},[d,g]),E.jsx(fb,{asChild:!0,...m,children:E.jsx(X6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":lw(n.open),...t,ref:Dv(e,i.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Rt(t.onPointerMove,Q0(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Rt(t.onPointerLeave,Q0(_=>{v();const S=n.content?.getBoundingClientRect();if(S){const C=n.content?.dataset.side,T=C==="right",R=T?-5:5,O=S[T?"left":"right"],M=S[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x:O,y:S.bottom}],side:C}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Rt(t.onKeyDown,_=>{const S=l.searchRef.current!=="";t.disabled||S&&_.key===" "||oB[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});rw.displayName=R0;var iw="MenuSubContent",sw=N.forwardRef((t,e)=>{const n=V6(Ui,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Ic(Ui,t.__scopeMenu),u=ug(Ui,t.__scopeMenu),d=aw(iw,t.__scopeMenu),g=N.useRef(null),m=xa(e,g);return E.jsx(F0.Provider,{scope:t.__scopeMenu,children:E.jsx(Eu,{present:a||l.open,children:E.jsx(F0.Slot,{scope:t.__scopeMenu,children:E.jsx(gb,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Rt(t.onFocusOutside,v=>{v.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Rt(t.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Rt(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),S=uB[u.dir].includes(v.key);_&&S&&(l.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});sw.displayName=iw;function lw(t){return t?"open":"closed"}function lv(t){return t==="indeterminate"}function vb(t){return lv(t)?"indeterminate":t?"checked":"unchecked"}function OB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function NB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function MB(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=NB(t,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const g=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return g!==n?g:void 0}function DB(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const d=e[l],g=e[u],m=d.x,v=d.y,_=g.x,S=g.y;v>a!=S>a&&n<(_-m)*(a-v)/(S-v)+m&&(i=!i)}return i}function jB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return DB(n,e)}function Q0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var zB=q6,UB=fb,kB=Y6,LB=Z6,PB=pb,BB=I6,HB=qv,GB=K6,qB=Q6,VB=W6,YB=ew,ZB=tw,IB=nw,XB=rw,KB=sw,Vv="DropdownMenu",[FB]=uo(Vv,[H6]),Ar=H6(),[QB,ow]=FB(Vv),uw=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:d=!0}=t,g=Ar(e),m=N.useRef(null),[v,_]=Gd({prop:i,defaultProp:l??!1,onChange:u,caller:Vv});return E.jsx(QB,{scope:e,triggerId:Md(),triggerRef:m,contentId:Md(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(S=>!S),[_]),modal:d,children:E.jsx(zB,{...g,open:v,onOpenChange:_,dir:a,modal:d,children:n})})};uw.displayName=Vv;var cw="DropdownMenuTrigger",fw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,l=ow(cw,n),u=Ar(n);return E.jsx(UB,{asChild:!0,...u,children:E.jsx(An.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:Dv(e,l.triggerRef),onPointerDown:Rt(t.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Rt(t.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});fw.displayName=cw;var $B="DropdownMenuPortal",dw=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Ar(e);return E.jsx(kB,{...a,...n})};dw.displayName=$B;var hw="DropdownMenuContent",gw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ow(hw,n),l=Ar(n),u=N.useRef(!1);return E.jsx(LB,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:e,onCloseAutoFocus:Rt(t.onCloseAutoFocus,d=>{u.current||i.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Rt(t.onInteractOutside,d=>{const g=d.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,v=g.button===2||m;(!i.modal||v)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gw.displayName=hw;var WB="DropdownMenuGroup",JB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(PB,{...i,...a,ref:e})});JB.displayName=WB;var eH="DropdownMenuLabel",pw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(BB,{...i,...a,ref:e})});pw.displayName=eH;var tH="DropdownMenuItem",mw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(HB,{...i,...a,ref:e})});mw.displayName=tH;var nH="DropdownMenuCheckboxItem",aH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(GB,{...i,...a,ref:e})});aH.displayName=nH;var rH="DropdownMenuRadioGroup",vw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(qB,{...i,...a,ref:e})});vw.displayName=rH;var iH="DropdownMenuRadioItem",yw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(VB,{...i,...a,ref:e})});yw.displayName=iH;var sH="DropdownMenuItemIndicator",bw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(YB,{...i,...a,ref:e})});bw.displayName=sH;var lH="DropdownMenuSeparator",_w=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(ZB,{...i,...a,ref:e})});_w.displayName=lH;var oH="DropdownMenuArrow",Sw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(IB,{...i,...a,ref:e})});Sw.displayName=oH;var uH="DropdownMenuSubTrigger",cH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(XB,{...i,...a,ref:e})});cH.displayName=uH;var fH="DropdownMenuSubContent",dH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return E.jsx(KB,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dH.displayName=fH;var by=uw,_y=fw,Sy=dw,xy=gw,hH=pw,Ql=mw,gH=vw,Cm=yw,wy=bw,Tm=_w,pH=Sw,mH="Separator",$5="horizontal",vH=["horizontal","vertical"],xw=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=$5,...i}=t,l=yH(a)?a:$5,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return E.jsx(An.div,{"data-orientation":l,...d,...i,ref:e})});xw.displayName=mH;function yH(t){return vH.includes(t)}var bH=xw,ww="Toggle",Ew=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:i,...l}=t,[u,d]=Gd({prop:n,onChange:i,defaultProp:a??!1,caller:ww});return E.jsx(An.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Rt(t.onClick,()=>{t.disabled||d(!u)})})});Ew.displayName=ww;var Cu="ToggleGroup",[Cw,Tw]=uo(Cu,[Yd]),Aw=Yd(),yb=st.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const i=a;return E.jsx(_H,{...i,ref:e})}if(n==="multiple"){const i=a;return E.jsx(SH,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Cu}\``)});yb.displayName=Cu;var[Rw,Ow]=Cw(Cu),_H=st.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,d]=Gd({prop:n,defaultProp:a??"",onChange:i,caller:Cu});return E.jsx(Rw,{scope:t.__scopeToggleGroup,type:"single",value:st.useMemo(()=>u?[u]:[],[u]),onItemActivate:d,onItemDeactivate:st.useCallback(()=>d(""),[d]),children:E.jsx(Nw,{...l,ref:e})})}),SH=st.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,d]=Gd({prop:n,defaultProp:a??[],onChange:i,caller:Cu}),g=st.useCallback(v=>d((_=[])=>[..._,v]),[d]),m=st.useCallback(v=>d((_=[])=>_.filter(S=>S!==v)),[d]);return E.jsx(Rw,{scope:t.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:g,onItemDeactivate:m,children:E.jsx(Nw,{...l,ref:e})})});yb.displayName=Cu;var[xH,wH]=Cw(Cu),Nw=st.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:i=!0,orientation:l,dir:u,loop:d=!0,...g}=t,m=Aw(n),v=jv(u),_={role:"group",dir:v,...g};return E.jsx(xH,{scope:n,rovingFocus:i,disabled:a,children:i?E.jsx(cb,{asChild:!0,...m,orientation:l,dir:v,loop:d,children:E.jsx(An.div,{..._,ref:e})}):E.jsx(An.div,{..._,ref:e})})}),ov="ToggleGroupItem",Mw=st.forwardRef((t,e)=>{const n=Ow(ov,t.__scopeToggleGroup),a=wH(ov,t.__scopeToggleGroup),i=Aw(t.__scopeToggleGroup),l=n.value.includes(t.value),u=a.disabled||t.disabled,d={...t,pressed:l,disabled:u},g=st.useRef(null);return a.rovingFocus?E.jsx(Hv,{asChild:!0,...i,focusable:!u,active:l,ref:g,children:E.jsx(W5,{...d,ref:e})}):E.jsx(W5,{...d,ref:e})});Mw.displayName=ov;var W5=st.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...i}=t,l=Ow(ov,n),u={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},d=l.type==="single"?u:void 0;return E.jsx(Ew,{...d,...i,ref:e,onPressedChange:g=>{g?l.onItemActivate(a):l.onItemDeactivate(a)}})}),EH=yb,CH=Mw,bb="Toolbar",[TH]=uo(bb,[Yd,Tw]),_b=Yd(),Dw=Tw(),[AH,jw]=TH(bb),zw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:i,loop:l=!0,...u}=t,d=_b(n),g=jv(i);return E.jsx(AH,{scope:n,orientation:a,dir:g,children:E.jsx(cb,{asChild:!0,...d,orientation:a,dir:g,loop:l,children:E.jsx(An.div,{role:"toolbar","aria-orientation":a,dir:g,...u,ref:e})})})});zw.displayName=bb;var Uw="ToolbarSeparator",kw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=jw(Uw,n);return E.jsx(bH,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});kw.displayName=Uw;var RH="ToolbarButton",Lw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=_b(n);return E.jsx(Hv,{asChild:!0,...i,focusable:!t.disabled,children:E.jsx(An.button,{type:"button",...a,ref:e})})});Lw.displayName=RH;var OH="ToolbarLink",NH=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=_b(n);return E.jsx(Hv,{asChild:!0,...i,focusable:!0,children:E.jsx(An.a,{...a,ref:e,onKeyDown:Rt(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});NH.displayName=OH;var Pw="ToolbarToggleGroup",Bw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=jw(Pw,n),l=Dw(n);return E.jsx(EH,{"data-orientation":i.orientation,dir:i.dir,...l,...a,ref:e,rovingFocus:!1})});Bw.displayName=Pw;var MH="ToolbarToggleItem",Hw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Dw(n),l={__scopeToolbar:t.__scopeToolbar};return E.jsx(Lw,{asChild:!0,...l,children:E.jsx(CH,{...i,...a,ref:e})})});Hw.displayName=MH;var DH=zw,J5=kw,Ey=Bw,au=Hw;function jH({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:i,onEraserClick:l,tool:u,setTool:d}){return E.jsxs(DH,{className:"flex w-100 max-w-100 rounded-lg bg-white border-2 border-zinc-300 shadow-sm p-2 justify-center",children:[E.jsxs(Ey,{type:"single",children:[E.jsx(au,{value:"task",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",onClick:t,children:[E.jsx(W3,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task  Q"}),E.jsx("span",{className:"absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"Q"})]})}),E.jsx(au,{value:"todo",children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",onClick:()=>e(),children:[E.jsx(wT,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do  W"}),E.jsx("span",{className:"absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"W"})]})})]}),E.jsx(J5,{className:"w-px my-3 mx-2 bg-black"}),E.jsxs(Ey,{type:"single",children:[E.jsx(au,{value:"annotate",children:E.jsxs("div",{onClick:()=>i(),className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx($3,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]})}),E.jsx(au,{value:"image",children:E.jsxs("div",{className:"add-image group relative border-none inline-flex flex-col items-center justify-center w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(tS,{className:"text-xl"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Image"})]})})]}),E.jsx(J5,{className:"w-px my-3 mx-2 bg-black"}),E.jsxs(Ey,{type:"single",value:u,onValueChange:g=>{g&&d(g)},children:[E.jsx(au,{value:"hand",className:"group",children:E.jsxs("div",{className:"pan-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  ",children:[E.jsx(eS,{className:"-rotate-[45deg] text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Hand  1 or Z"}),E.jsx("span",{className:"absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"1"})]})}),E.jsx(au,{value:"select",className:"group",onClick:a,children:E.jsxs("div",{className:"select-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  ",children:[E.jsx(J3,{className:"text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select  2 or X"}),E.jsx("span",{className:"absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"2"})]})}),E.jsx(au,{value:"draw",className:"group",onClick:n,children:E.jsxs("div",{className:"draw-canvas relative flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(O2,{className:"text-xl group-data-[state=on]:stroke-blue-500"}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw  3 or C"}),E.jsx("span",{className:"absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"3"})]})}),E.jsx(au,{value:"eraser",className:"group",onClick:l,children:E.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50",children:[E.jsx(NS,{className:"text-xl group-data-[state=on]:stroke-red-500 group-data-[state=on]:stroke-2",style:{strokeWidth:.5}}),E.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Eraser  4 or V"}),E.jsx("span",{className:"absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-red-500",children:"4"})]})})]})]})}async function Gw(t){const{data:e,error:n}=await zn.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;console.log("canvas id doesnt exist");const{data:a,error:i}=await zn.from("canvas").insert({owner_id:t}).select("canvas_id").single();return i?(console.error("Error creating canvas:",i),null):a.canvas_id}async function zH(t,e){try{const{data:n,error:a}=await zn.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function e3(t){try{const{data:e,error:n}=await zn.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function Am(t,e){try{const{data:n}=await zn.auth.getUser(),a=n?.user;if(!a)return await new Promise(g=>{const m=indexedDB.open("CanvasDB"),v={local_canvas:"local",canvasData:t,updatedAt:Date.now()},_={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};m.onsuccess=()=>{const C=m.result.transaction(["Canvas","Viewport"],"readwrite"),T=C.objectStore("Canvas"),R=C.objectStore("Viewport");T.put(v),R.put(_),C.oncomplete=()=>g(!0),C.onerror=()=>g(!0)},m.onerror=()=>g(!0)}),{success:!0,canvasId:"local"};if(!a)return{success:!0};let i=e;if(!i&&(i=await Gw(a.id),!i))return{success:!1,error:"Failed to get canvas"};if(!t||!t.shapes||!t.connectors)return console.warn("Skipping save - incomplete data"),{success:!0,canvasId:i};await zn.from("shapes").delete().eq("canvas_id",i);const l=t.shapes.map(g=>({canvas_id:i,shape_data:g})),u=t.connectors.map(g=>({canvas_id:i,shape_data:g})),d=[...l,...u];if(console.log("Saving to DB:",{shapes:l.length,connectors:u.length,total:d.length}),d.length>0){const{error:g}=await zn.from("shapes").insert(d);if(g)return console.error("Insert error:",g),{success:!1,error:g.message}}return{success:!0,canvasId:i}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}const UH=async()=>new Promise(t=>{const e=indexedDB.open("CanvasDB");e.onsuccess=()=>{const a=e.result.transaction("Viewport","readonly"),l=a.objectStore("Viewport").get("local");a.oncomplete=()=>{const u=l.result;t(u||{x:0,y:0,scale:1})}},e.onerror=()=>{t({x:0,y:0,scale:1})}});async function Rm(t){try{const{data:{user:e}}=await zn.auth.getUser(),n=await UH();if(!e)return new Promise(R=>{const O=indexedDB.open("CanvasDB");O.onsuccess=()=>{const j=O.result.transaction(["Canvas","Viewport"],"readonly"),P=j.objectStore("Canvas").get("local"),k=j.objectStore("Viewport").get("local");P.onerror=()=>R({success:!1,error:"Failed to get canvas data"}),k.onerror=()=>R({success:!1,error:"Failed to get canvas viewport"}),j.oncomplete=()=>{const Y=P.result,F=k.result;if(!Y){R({success:!1,error:"No offline canvas found"});return}F&&(Y.canvasData.viewport=F),R({success:!0,data:Y.canvasData,canvasId:Y.local_canvas})}}});let a=t;if(!a&&(a=await Gw(e.id),!a))return{success:!1,error:"Failed to get or create canvas"};const{data:i,error:l}=await zn.from("shapes").select("shape_data").eq("canvas_id",a);if(l)return{success:!1,error:l.message};const u=i.filter(R=>R.shape_data.shape==="rect").map(R=>R.shape_data),d=i.filter(R=>R.shape_data.shape==="line").map(R=>R.shape_data),g=i.filter(R=>R.shape_data.shape==="todo").map(R=>R.shape_data),m=i.filter(R=>R.shape_data.shape==="connector").map(R=>R.shape_data),v=[...u,...d,...g],_=Array.from(new Map(v.map(R=>[R.id,R])).values()),S=Array.from(new Map(m.map(R=>[R.id,R])).values()),C=new Set;_.forEach(R=>{C.add(R.id),C.add(`group-${R.id}`)});const T=S.filter(R=>{const O=C.has(R.from),M=C.has(R.to);return!O||!M?(console.warn("Removing orphaned connector:",{id:R.id,from:R.from,to:R.to,fromExists:O,toExists:M}),!1):!0});return console.log("Load complete:",{shapes:_.length,connectors:T.length,removed:S.length-T.length}),{success:!0,data:{shapes:_,connectors:T,viewport:n},canvasId:a}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function kH(t){try{const{data:{user:e}}=await zn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await zn.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function LH(){try{const{data:{user:t}}=await zn.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await zn.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}async function PH(t,e){try{const{data:{user:n}}=await zn.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await zn.from("canvas").update({canvas_name:e,updated_at:new Date().toISOString()}).eq("canvas_id",t).eq("owner_id",n.id);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("updateCanvasName error:",n),{success:!1,error:String(n)}}}async function BH(t){try{const{data:{user:e}}=await zn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await zn.from("shapes").delete().eq("canvas_id",t);if(n)return{success:!1,error:n.message};const{error:a}=await zn.from("canvas").delete().eq("canvas_id",t).eq("owner_id",e.id);return a?{success:!1,error:a.message}:{success:!0}}catch(e){return console.error("deleteCanvasById error:",e),{success:!1,error:String(e)}}}const HH=async()=>{let t,e,n=1;return new Promise(a=>{t=indexedDB.open("CanvasDB",2),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||(console.log("create object store"),e.createObjectStore("Canvas",{keyPath:"local_canvas"})),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"})},t.onsuccess=()=>{e=t.result,n=e.version,console.log("version: ",n),a(!0)},t.onerror=()=>{a(!1)}})},GH=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await HH()?console.log("IndexedDB Initialized (first time)"):console.error("InitDb - Something went wrong")),console.log("IndexedDB initailized")},[])});function qH(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function VH(){const{init:t}=GH(),{session:e}=kU(),[n,a]=N.useState([]),[i,l]=N.useState(100),[u,d]=N.useState({x:0,y:0}),[g,m]=N.useState(!1),[v,_]=N.useState(!1),[S,C]=N.useState(!1),[T,R]=N.useState([]),[O,M]=N.useState([]),[j,z]=N.useState("hand"),[P,H]=N.useState("#000000"),k=dv(),[Y,F]=N.useState(null),[oe,_e]=N.useState(null),[xe,he]=N.useState(null),[ge,ye]=N.useState(!1),[Se,B]=N.useState(null),[ue,$]=N.useState(null),[me,G]=N.useState([]),{pushUndo:ae}=vx(),[Ee,Q]=N.useState(!1),[be,ke]=N.useState(""),[Me,Ke]=N.useState(null),[nt,mt]=N.useState("");qH({shapes:T,connectors:O},1e3,()=>{!ue||T.length===0||Am({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue)}),N.useEffect(()=>{let Oe=!0;return(async()=>{if(await t(),!e){const ln=await Rm("local");if(!Oe)return;ln.success?(R(ln.data.shapes),M(ln.data.connectors),d({x:ln.data.viewport.x,y:ln.data.viewport.y}),l(Math.round(ln.data.viewport.scale*100)),$("local")):(M([]),R([])),$("local"),G([]);return}const De=await Rm(null);if(!Oe)return;De.success?(R(De.data.shapes),$(De.canvasId),M(De.data.connectors),d({x:De.data.viewport.x,y:De.data.viewport.y}),l(Math.round(De.data.viewport.scale*100))):console.error("Failed to load canvas:",De.error);const $t=await e3(e.user.id);if(!Oe)return;$t.success?G($t.canvases||[]):console.error("Failed to load canvas list:",$t.error);const wt=await LH();Oe&&(wt.success?B(wt.data.avatar_url):console.error("Failed to load user profile:",wt.error))})(),()=>{Oe=!1}},[t,e]);const[St,gn]=N.useState("#ffffff"),En=(Oe,De)=>{he(Oe),_e(De),console.log(De),C(!0),_(!0)},ra=()=>{he(null),_e(null),C(!1),_(!1)},ia=Oe=>{F(Oe),console.log("shape: "+Oe),m(!0),C(!0)},Ba=()=>{F(null),m(!1),C(!1)},Ha=(Oe,De)=>{const $t=new Date(Oe.date).toISOString(),wt={id:"todo-"+Date.now().toString(),x:De?De.x+400:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:De?De.y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),color:Oe.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:Oe.title,description:"",dueDate:$t,completed:Oe.completed,assignee:Oe.assignee,status:"Something",parents:De?De.id:""};R([...T,wt]),De&&(R(ln=>ln.map(Bn=>Bn.shape==="rect"&&Bn.id===De.id?{...Bn,children:[...Bn.children,"group-"+wt.id]}:Bn)),Bi(wt,De,wt.id)),ae({before:wt,after:wt,action:"add",id:wt.id})},Wn=Oe=>{z("hand");const De={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),width:300,height:200,color:Oe.color,title:Oe.title,description:Oe.description,dueDate:Oe.date,completed:!1,isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};R([...T,De]),ae({before:De,after:De,action:"add"})},Bi=(Oe,De,$t)=>{const wt=Oe instanceof i2.Node?Oe.id():"group-"+Oe.id,ln=De instanceof i2.Node?De.id():"group-"+De.id,Bn={shape:"connector",id:"connector-"+Date.now().toString(),from:wt,to:ln};M([...O,Bn]),ae({before:Bn,after:Bn,action:"add",id:$t||void 0})},hr=()=>{const Oe={id:"text-"+Date.now().toString(),x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),fontSize:20,text:"Placeholder Text",shape:"text",behavior:"decor",scaleX:1,scaleY:1};R([...T,Oe]),ae({before:Oe,after:Oe,action:"add"})},X=(Oe,De)=>{R($t=>$t.map(wt=>wt.id===Oe.id?{...wt,title:De.title,description:De.description,color:De.color,dueDate:De.date}:wt))},re=(Oe,De)=>{R($t=>$t.map(wt=>wt.id===Oe.id?{...wt,title:De.title,assignee:De.assignee,dueDate:De.date,completed:De.completed,color:De.color}:wt))},fe=()=>{z(j==="draw"?"hand":"draw")},Ge=()=>{z(j==="eraser"?"hand":"eraser")},Be=()=>{z(j==="select"?"hand":"select")},Ue=()=>new Promise((Oe,De)=>{const $t=indexedDB.open("CanvasDB");$t.onsuccess=()=>{const ln=$t.result.transaction("Canvas","readwrite");ln.objectStore("Canvas").clear(),ln.oncomplete=()=>{console.log("IndexedDB shapes cleared"),Oe()},ln.onerror=()=>{console.error("Failed to clear IndexedDB shapes"),De()}},$t.onerror=()=>De()}),Ye=async()=>{if(R([]),M([]),ue==="local")await Ue();else if(ue){const Oe=await kH(ue);Oe.success||console.error("Failed to delete canvas from supabase",Oe.error)}},Qe=async()=>{ye(!0);try{await zn.auth.signOut();const Oe=await Rm("local");Oe.success?(R(Oe.data.shapes),M(Oe.data.connectors),d(Oe.data.viewport),l(Math.round(Oe.data.viewport.scale*100)),$("local")):(R([]),M([]),$(null)),await new Promise(De=>setTimeout(De,2e3))}catch{}finally{ye(!1)}},bt=async()=>{ye(!0);try{await Am({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue||null)}catch{}finally{ye(!1)}},Jt=async Oe=>{ye(!0);try{ue&&Oe&&Oe!==ue&&await Am({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue);const De=await Rm(Oe||null);De.success?(R(De.data.shapes),M(De.data.connectors),$(De.canvasId)):console.error("Load failed:",De.error)}catch(De){console.error("Load error:",De)}finally{ye(!1)}},gr=async Oe=>{if(!e){console.warn("No session");return}ye(!0);try{ue&&await Am({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue);const De=await zH(e.user.id,Oe||`Canvas ${me.length+1}`);if(De.success&&De.canvasId){R([]),M([]),$(De.canvasId);const $t=await e3(e.user.id);$t.success&&G($t.canvases||[])}else console.error("Create failed:",De.error)}catch(De){console.error("Create canvas error:",De)}finally{ye(!1)}},Ca=async Oe=>{Oe!==ue&&await Jt(Oe)},pa=async Oe=>{if(nt.trim()){ye(!0);try{const De=await PH(Oe,nt);De.success?(G($t=>$t.map(wt=>wt.canvas_id===Oe?{...wt,canvas_name:nt}:wt)),Ke(null),mt("")):console.error("Failed to update canvas name:",De.error)}catch(De){console.error("Error updating canvas name:",De)}finally{ye(!1)}}},Wa=async(Oe,De)=>{if(window.confirm(`Are you sure you want to delete "${De}"? This action cannot be undone.`)){ye(!0);try{const wt=await BH(Oe);if(wt.success){if(G(ln=>ln.filter(Bn=>Bn.canvas_id!==Oe)),ue===Oe){const ln=me.filter(Bn=>Bn.canvas_id!==Oe);ln.length>0?await Ca(ln[0].canvas_id):(R([]),M([]),$(null))}}else console.error("Failed to delete canvas:",wt.error)}catch(wt){console.error("Error deleting canvas:",wt)}finally{ye(!1)}}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"relative w-full h-screen overflow-hidden ",children:[E.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[E.jsx("div",{className:"more-options ",children:E.jsxs(by,{children:[E.jsx(_y,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:E.jsx(ST,{})})}),E.jsx(Sy,{children:E.jsxs(xy,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white",children:[E.jsx(Ql,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:bt,children:[E.jsx(l4,{}),"Save"]})}),E.jsx(Ql,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:Oe=>Oe.preventDefault(),children:E.jsxs(vm,{children:[E.jsx(gy,{asChild:!0,children:E.jsxs("div",{className:"flex items-center gap-2 w-full",children:[E.jsx(s4,{}),"My Canvases (",me.length,")"]})}),E.jsxs(ym,{children:[E.jsx(bm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(_m,{className:"bg-white min-w-md max-w-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-6 rounded-lg z-101 max-h-96 overflow-y-auto",children:[E.jsxs(xm,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[E.jsx(s4,{}),"My Canvases"]}),E.jsx(wm,{asChild:!0,children:E.jsx("div",{className:"my-4",children:E.jsx("div",{className:"grid grid-cols-1 gap-3",children:me.length===0?E.jsx("div",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):me.map(Oe=>E.jsxs("div",{className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        transition-all
                                        ${ue===Oe.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[E.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80",onClick:()=>{Me!==Oe.canvas_id&&Ca(Oe.canvas_id)},children:[E.jsx(l4,{className:"w-5 h-5 text-blue-600"}),E.jsxs("div",{className:"flex-1",children:[Me===Oe.canvas_id?E.jsx("input",{type:"text",value:nt,onChange:De=>mt(De.target.value),onKeyDown:De=>{De.key===" "&&De.stopPropagation(),De.key==="Enter"?pa(Oe.canvas_id):De.key==="Escape"&&(Ke(null),mt(""))},className:"font-medium text-gray-800 border-2 border-blue-400 rounded px-2 py-1 w-full",autoFocus:!0,onClick:De=>De.stopPropagation()}):E.jsx("span",{className:"font-medium text-gray-800",children:Oe.canvas_name||"Untitled"}),Oe.created_at&&E.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(Oe.created_at).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[ue===Oe.canvas_id&&E.jsx("span",{className:"text-xs text-blue-600 font-medium mr-2",children:"Current"}),Me===Oe.canvas_id?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:De=>{De.stopPropagation(),pa(Oe.canvas_id)},className:"p-2 hover:bg-green-100 rounded transition-colors",title:"Save",children:E.jsx(CT,{className:"w-4 h-4 text-green-600"})}),E.jsx("button",{onClick:De=>{De.stopPropagation(),Ke(null),mt("")},className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Cancel",children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:De=>{De.stopPropagation(),Ke(Oe.canvas_id),mt(Oe.canvas_name||"")},className:"p-2 hover:bg-blue-100 rounded transition-colors",title:"Edit name",children:E.jsx(O2,{className:"w-4 h-4 text-blue-600"})}),E.jsx("button",{onClick:De=>{De.stopPropagation(),Wa(Oe.canvas_id,Oe.canvas_name)},className:"p-2 hover:bg-red-100 rounded transition-colors",title:"Delete canvas",children:E.jsx(Hy,{className:"w-4 h-4 text-red-600"})})]})]})]},Oe.canvas_id))})})}),E.jsx("div",{className:"flex justify-end mt-6",children:E.jsx(Sm,{asChild:!0,children:E.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),E.jsx(Ql,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(AT,{}),"Export PDF"]})}),E.jsx(Tm,{}),E.jsx(Ql,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs("div",{className:"flex items-center gap-2",onClick:()=>Q(!0),children:[E.jsx(OT,{}),E.jsx("span",{children:ge?"Creating":"New Canvas"})]})}),E.jsx(Ql,{onSelect:Oe=>Oe.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:E.jsxs(vm,{children:[E.jsx(gy,{asChild:!0,children:E.jsxs("button",{className:"flex items-center gap-2",children:[E.jsx(Hy,{}),"Clear Canvas"]})}),E.jsxs(ym,{children:[E.jsx(bm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(_m,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[E.jsx(xm,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),E.jsx(wm,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Sm,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(py,{asChild:!0,children:E.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:Ye,children:"Yes, clear canvas"})})]})]})]})]})}),E.jsx(Tm,{className:"h-[2px] my-2 bg-gray-500"}),E.jsx(hH,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),E.jsx(gH,{value:St,onValueChange:gn,className:"py-1 pl-2 ",children:E.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[E.jsx(Cm,{value:"#ffffff",className:"group",children:E.jsx("div",{className:"p-4 relative bg-white border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),E.jsxs(Cm,{value:"#fff7ed",className:"group",children:[E.jsx("div",{className:"p-4 bg-orange-50 border-orange-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-orange-400"}),E.jsx(wy,{})]}),E.jsxs(Cm,{value:"#f5f3ff",className:"group",children:[E.jsx("div",{className:"p-4 bg-violet-50 border-2 border-indigo-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-violet-400"}),E.jsx(wy,{})]}),E.jsxs(Cm,{value:"#f0fdfa",className:"group",children:[E.jsx("div",{className:"p-4 bg-teal-50 border-2 border-cyan-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-teal-400"}),E.jsx(wy,{})]})]})})]})})]})}),E.jsx("div",{className:"tool-bar-tab absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:E.jsx(jH,{onShapeClick:()=>ia(null),onTodoClick:()=>En(null,null),onTextClick:hr,onEraserClick:Ge,onClearClick:Ye,onDrawClick:fe,onSelectClick:Be,onColorSelect:H,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})}),E.jsxs("div",{className:"user-account",children:[E.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&E.jsx("div",{children:E.jsxs(by,{children:[E.jsx(_y,{asChild:!0,children:E.jsx("button",{children:E.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[E.jsx(m0,{className:"text-lg"}),E.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[E.jsx("span",{className:"text-xs",children:"Manage Account"}),E.jsx(TT,{className:"text-xs"})]})]})})}),E.jsx(Sy,{children:E.jsxs(xy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[E.jsx("div",{children:Se?E.jsx("img",{src:Se,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(m0,{className:"text-3xl text-blue-500"})}),E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name||e?.user.user_metadata.username}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(Tm,{className:"h-[2px] my-2 bg-gray-500"}),E.jsx(Ql,{onSelect:Oe=>Oe.preventDefault(),children:E.jsxs(vm,{children:[E.jsx(gy,{asChild:!0,children:E.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[E.jsx(Z1,{}),E.jsx("span",{children:"Sign Out"})]})}),E.jsxs(ym,{children:[E.jsx(bm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(_m,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[E.jsx(xm,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),E.jsx(wm,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Sm,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(py,{asChild:!0,children:E.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await Qe()},children:[E.jsx(Z1,{}),"Sign Out"]})})]})]})]})]})}),E.jsx(pH,{className:"fill-purple-100"})]})})]})}),ge&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&E.jsx(NU,{title:"Sign In",onClick:async()=>{k("/signin")}}),!e&&E.jsx(OU,{title:"Create Account",onClick:()=>k("/create-acc")})]}),E.jsxs("div",{className:"account-mobile flex lg:hidden",children:[E.jsxs(by,{children:[E.jsx(_y,{asChild:!0,children:E.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:E.jsx(m0,{})})}),E.jsx(Sy,{children:E.jsxs(xy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&E.jsxs("div",{children:[E.jsx(Ql,{children:E.jsxs("div",{onClick:async()=>{k("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(RT,{}),E.jsx("span",{children:"Sign In"})]})}),E.jsx(Ql,{children:E.jsxs("div",{onClick:()=>k("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[E.jsx(m0,{}),E.jsx("span",{children:"Create Account"})]})})]}),e&&E.jsxs("div",{children:[E.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[E.jsx("div",{className:"pb-2",children:Se?E.jsx("img",{src:Se,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(m0,{className:"text-2xl"})}),E.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[E.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),E.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),E.jsx(Tm,{className:"h-px my-2 bg-gray-500"}),E.jsx(Ql,{children:E.jsxs("div",{onClick:async()=>{await Qe()},className:"inline-flex items-center justify-start gap-2 ",children:[E.jsx(Z1,{className:"text-sm font-semibold"}),E.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),ge&&E.jsx("div",{children:E.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),E.jsx("div",{className:"absolute toolbar-mob flex sm:hidden z-100 w-full justify-center p-2 bottom-4",children:E.jsx(uM,{onShapeClick:ia,onEraserClick:Ge,onClearClick:Ye,onDrawClick:fe,onColorSelect:H,isActive:j==="eraser"||j==="draw"})}),E.jsx("div",{className:"account-buttons absolute flex flex-row top-1.5 right-0 gap-2 m-4 z-51"}),E.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 w-xs rounded-md shadow-md/15 shadow-gray-600"}),E.jsxs("div",{className:"absolute bottom-4 left-4  items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit hidden sm:inline-flex",children:[E.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-l-lg",onClick:()=>l(Math.max(i-10,10)),children:E.jsx(MT,{})}),E.jsxs("button",{onClick:()=>l(100),className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[i,"%",E.jsx("span",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),E.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-r-lg h-full",onClick:()=>l(Math.min(i+10,500)),children:E.jsx(NT,{})})]}),E.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:E.jsxs("button",{className:"absolute bottom-4 right-4 items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 hover:cursor-pointer group",children:[E.jsx(ET,{}),E.jsx("span",{className:"absolute right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"RectUp Form"})]})}),v&&E.jsx(zU,{parent:xe,onUpdateTodo:re,onAddTodo:Ha,onCloseForm:ra,initialTodo:oe}),g&&E.jsx(DU,{onAddTask:Wn,onUpdateTask:X,onCloseForm:Ba,initialData:Y}),E.jsx("div",{style:{background:St},children:E.jsx(RU,{shapes:T,setShapes:R,tool:j,setTool:z,setZoomValue:l,zoom:i,connectors:O,addConnector:Bi,setConnectors:M,strokeColor:P,onShapeClick:ia,onAddTodo:En,stageCoor:u,setStageCoor:d,isFormOpen:S})})]}),E.jsx("ul",{children:n.map(Oe=>E.jsx("li",{children:Oe.name},Oe.name))}),E.jsx(vm,{open:Ee,onOpenChange:Q,children:E.jsxs(ym,{children:[E.jsx(bm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),E.jsxs(_m,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[E.jsx(xm,{className:"text-xl font-bold mb-2",children:"New Canvas"}),E.jsx(wm,{className:"my-3 text-gray-700",children:"Enter a name for your new canvas."}),E.jsx("input",{autoFocus:!0,value:be,onChange:Oe=>ke(Oe.target.value),placeholder:"Canvas name...",className:"w-full border border-gray-300 p-2 rounded-lg mb-4"}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx(Sm,{asChild:!0,children:E.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),E.jsx(py,{asChild:!0,children:E.jsx("button",{className:"bg-blue-200 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-500 hover:text-white",onClick:()=>{gr(be),ke("")},children:"Create Canvas"})})]})]})]})})]})}const YH=M9([{path:"/",element:E.jsx(VH,{})},{path:"/signin",element:E.jsx(sM,{})},{path:"/create-acc",element:E.jsx(oM,{})}]);function ZH({children:t}){const[e,n]=N.useState([]),[a,i]=N.useState([]);function l(g){n(m=>[...m,g]),i([])}function u(g,m){const v=e.at(-1);if(!v)return;let _,S=[];for(_=[...e],S=[];_.length>0;){const C=_.at(-1);if(!C)return;const T=C.before;if(C.action==="add")T.shape==="connector"?(g(O=>O.map(M=>M.shape==="todo"?{...M,parents:M.parents===T.to?"":M.parents}:M.shape!=="rect"?M:{...M,children:M.children.filter(j=>j!==T.from),parents:M.parents===T.to?"":M.parents})),m(O=>O.filter(M=>M.id!==T.id))):g(O=>O.filter(M=>M.id!==T.id));else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else T.shape==="connector"?(m(O=>[...O,T]),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:"group-"+M.id===T.from?{...M,parents:T.to}:M.shape==="rect"&&"group-"+M.id===T.to?{...M,children:[...M.children,T.from]}:M))):g(O=>[...O,T]);S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||!v.id||R.id!==v.id)break}n(_),i(C=>[...C,...S])}function d(g,m){const v=a.at(-1);if(!v)return;let _=[...a],S=[];for(S=[];_.length>0;){const C=_.at(-1);if(!C)break;const T=C.after;if(C.action==="add")T.shape==="connector"?(m(O=>[...O,T]),g(O=>O.map(M=>M.shape==="todo"?{...M,parents:"group-"+M.id===T.to?T.from:M.parents}:M.shape!=="rect"?M:{...M,children:"group-"+M.id===T.to?[...M.children,T.from]:M.children}))):g(O=>[...O,T]);else if(C.action==="update"){if(T.shape==="connector")return;g(O=>O.map(M=>M.id===T.id?{...M,...T}:M))}else C.action==="delete"&&(T.shape==="connector"?(m(O=>O.filter(M=>M.id!==T.id)),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:M.shape==="rect"&&M.children.includes(T.to)?{...M,children:M.children.filter(j=>j!==T.to)}:M.parents===T.from?{...M,parents:""}:M))):g(O=>O.filter(M=>M.id!==T.id)));S.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||R.id!==v.id)break}i(_),n(C=>[...C,...S])}return E.jsx(mx.Provider,{value:{undoStack:e,redoStack:a,pushUndo:l,undo:u,redo:d},children:t})}z8.createRoot(document.getElementById("root")).render(E.jsx(UU,{children:E.jsx(ZH,{children:E.jsx(Y9,{router:YH})})}));
