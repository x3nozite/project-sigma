function mE(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function pm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var q1={exports:{}},x0={};var y_;function pE(){if(y_)return x0;y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return x0.Fragment=e,x0.jsx=n,x0.jsxs=n,x0}var b_;function vE(){return b_||(b_=1,q1.exports=pE()),q1.exports}var w=vE(),V1={exports:{}},w0={},Y1={exports:{}},I1={};var __;function yE(){return __||(__=1,(function(t){function e(H,J){var F=H.length;H.push(J);e:for(;0<F;){var ae=F-1>>>1,B=H[ae];if(0<i(B,J))H[ae]=J,H[F]=B,F=ae;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var J=H[0],F=H.pop();if(F!==J){H[0]=F;e:for(var ae=0,B=H.length,ee=B>>>1;ae<ee;){var _e=2*(ae+1)-1,Se=H[_e],Ve=_e+1,lt=H[Ve];if(0>i(Se,F))Ve<B&&0>i(lt,Se)?(H[ae]=lt,H[Ve]=F,ae=Ve):(H[ae]=Se,H[_e]=F,ae=_e);else if(Ve<B&&0>i(lt,F))H[ae]=lt,H[Ve]=F,ae=Ve;else break e}}return J}function i(H,J){var F=H.sortIndex-J.sortIndex;return F!==0?F:H.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],p=[],v=1,_=null,x=3,C=!1,T=!1,R=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function k(H){for(var J=n(p);J!==null;){if(J.callback===null)a(p);else if(J.startTime<=H)a(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=n(p)}}function G(H){if(R=!1,k(H),!T)if(n(h)!==null)T=!0,U||(U=!0,W());else{var J=n(p);J!==null&&ue(G,J.startTime-H)}}var U=!1,V=-1,K=5,ne=-1;function ge(){return O?!0:!(t.unstable_now()-ne<K)}function we(){if(O=!1,U){var H=t.unstable_now();ne=H;var J=!0;try{e:{T=!1,R&&(R=!1,M(V),V=-1),C=!0;var F=x;try{t:{for(k(H),_=n(h);_!==null&&!(_.expirationTime>H&&ge());){var ae=_.callback;if(typeof ae=="function"){_.callback=null,x=_.priorityLevel;var B=ae(_.expirationTime<=H);if(H=t.unstable_now(),typeof B=="function"){_.callback=B,k(H),J=!0;break t}_===n(h)&&a(h),k(H)}else a(h);_=n(h)}if(_!==null)J=!0;else{var ee=n(p);ee!==null&&ue(G,ee.startTime-H),J=!1}}break e}finally{_=null,x=F,C=!1}J=void 0}}finally{J?W():U=!1}}}var W;if(typeof z=="function")W=function(){z(we)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,de=he.port2;he.port1.onmessage=we,W=function(){de.postMessage(null)}}else W=function(){j(we,0)};function ue(H,J){V=j(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var F=x;x=J;try{return H()}finally{x=F}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var F=x;x=H;try{return J()}finally{x=F}},t.unstable_scheduleCallback=function(H,J,F){var ae=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ae+F:ae):F=ae,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,H={id:v++,callback:J,priorityLevel:H,startTime:F,expirationTime:B,sortIndex:-1},F>ae?(H.sortIndex=F,e(p,H),n(h)===null&&H===n(p)&&(R?(M(V),V=-1):R=!0,ue(G,F-ae))):(H.sortIndex=B,e(h,H),T||C||(T=!0,U||(U=!0,W()))),H},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(H){var J=x;return function(){var F=x;x=J;try{return H.apply(this,arguments)}finally{x=F}}}})(I1)),I1}var x_;function O2(){return x_||(x_=1,Y1.exports=yE()),Y1.exports}var Z1={exports:{}},Ut={};var w_;function bE(){if(w_)return Ut;w_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(B,ee,_e){this.props=B,this.context=ee,this.refs=R,this.updater=_e||C}O.prototype.isReactComponent={},O.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=O.prototype;function M(B,ee,_e){this.props=B,this.context=ee,this.refs=R,this.updater=_e||C}var z=M.prototype=new j;z.constructor=M,T(z,O.prototype),z.isPureReactComponent=!0;var k=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function V(B,ee,_e,Se,Ve,lt){return _e=lt.ref,{$$typeof:t,type:B,key:ee,ref:_e!==void 0?_e:null,props:lt}}function K(B,ee){return V(B.type,ee,void 0,void 0,void 0,B.props)}function ne(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function ge(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(_e){return ee[_e]})}var we=/\/+/g;function W(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?ge(""+B.key):ee.toString(36)}function he(){}function de(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(he,he):(B.status="pending",B.then(function(ee){B.status==="pending"&&(B.status="fulfilled",B.value=ee)},function(ee){B.status==="pending"&&(B.status="rejected",B.reason=ee)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ue(B,ee,_e,Se,Ve){var lt=typeof B;(lt==="undefined"||lt==="boolean")&&(B=null);var Ze=!1;if(B===null)Ze=!0;else switch(lt){case"bigint":case"string":case"number":Ze=!0;break;case"object":switch(B.$$typeof){case t:case e:Ze=!0;break;case v:return Ze=B._init,ue(Ze(B._payload),ee,_e,Se,Ve)}}if(Ze)return Ve=Ve(B),Ze=Se===""?"."+W(B,0):Se,k(Ve)?(_e="",Ze!=null&&(_e=Ze.replace(we,"$&/")+"/"),ue(Ve,ee,_e,"",function(Ce){return Ce})):Ve!=null&&(ne(Ve)&&(Ve=K(Ve,_e+(Ve.key==null||B&&B.key===Ve.key?"":(""+Ve.key).replace(we,"$&/")+"/")+Ze)),ee.push(Ve)),1;Ze=0;var st=Se===""?".":Se+":";if(k(B))for(var _t=0;_t<B.length;_t++)Se=B[_t],lt=st+W(Se,_t),Ze+=ue(Se,ee,_e,lt,Ve);else if(_t=x(B),typeof _t=="function")for(B=_t.call(B),_t=0;!(Se=B.next()).done;)Se=Se.value,lt=st+W(Se,_t++),Ze+=ue(Se,ee,_e,lt,Ve);else if(lt==="object"){if(typeof B.then=="function")return ue(de(B),ee,_e,Se,Ve);throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ze}function H(B,ee,_e){if(B==null)return B;var Se=[],Ve=0;return ue(B,Se,"","",function(lt){return ee.call(_e,lt,Ve++)}),Se}function J(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(_e){(B._status===0||B._status===-1)&&(B._status=1,B._result=_e)},function(_e){(B._status===0||B._status===-1)&&(B._status=2,B._result=_e)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var F=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ae(){}return Ut.Children={map:H,forEach:function(B,ee,_e){H(B,function(){ee.apply(this,arguments)},_e)},count:function(B){var ee=0;return H(B,function(){ee++}),ee},toArray:function(B){return H(B,function(ee){return ee})||[]},only:function(B){if(!ne(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ut.Component=O,Ut.Fragment=n,Ut.Profiler=i,Ut.PureComponent=M,Ut.StrictMode=a,Ut.Suspense=h,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(B){return G.H.useMemoCache(B)}},Ut.cache=function(B){return function(){return B.apply(null,arguments)}},Ut.cloneElement=function(B,ee,_e){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Se=T({},B.props),Ve=B.key,lt=void 0;if(ee!=null)for(Ze in ee.ref!==void 0&&(lt=void 0),ee.key!==void 0&&(Ve=""+ee.key),ee)!U.call(ee,Ze)||Ze==="key"||Ze==="__self"||Ze==="__source"||Ze==="ref"&&ee.ref===void 0||(Se[Ze]=ee[Ze]);var Ze=arguments.length-2;if(Ze===1)Se.children=_e;else if(1<Ze){for(var st=Array(Ze),_t=0;_t<Ze;_t++)st[_t]=arguments[_t+2];Se.children=st}return V(B.type,Ve,void 0,void 0,lt,Se)},Ut.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ut.createElement=function(B,ee,_e){var Se,Ve={},lt=null;if(ee!=null)for(Se in ee.key!==void 0&&(lt=""+ee.key),ee)U.call(ee,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Ve[Se]=ee[Se]);var Ze=arguments.length-2;if(Ze===1)Ve.children=_e;else if(1<Ze){for(var st=Array(Ze),_t=0;_t<Ze;_t++)st[_t]=arguments[_t+2];Ve.children=st}if(B&&B.defaultProps)for(Se in Ze=B.defaultProps,Ze)Ve[Se]===void 0&&(Ve[Se]=Ze[Se]);return V(B,lt,void 0,void 0,null,Ve)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(B){return{$$typeof:f,render:B}},Ut.isValidElement=ne,Ut.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:J}},Ut.memo=function(B,ee){return{$$typeof:p,type:B,compare:ee===void 0?null:ee}},Ut.startTransition=function(B){var ee=G.T,_e={};G.T=_e;try{var Se=B(),Ve=G.S;Ve!==null&&Ve(_e,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(ae,F)}catch(lt){F(lt)}finally{G.T=ee}},Ut.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ut.use=function(B){return G.H.use(B)},Ut.useActionState=function(B,ee,_e){return G.H.useActionState(B,ee,_e)},Ut.useCallback=function(B,ee){return G.H.useCallback(B,ee)},Ut.useContext=function(B){return G.H.useContext(B)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(B,ee){return G.H.useDeferredValue(B,ee)},Ut.useEffect=function(B,ee,_e){var Se=G.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(B,ee)},Ut.useId=function(){return G.H.useId()},Ut.useImperativeHandle=function(B,ee,_e){return G.H.useImperativeHandle(B,ee,_e)},Ut.useInsertionEffect=function(B,ee){return G.H.useInsertionEffect(B,ee)},Ut.useLayoutEffect=function(B,ee){return G.H.useLayoutEffect(B,ee)},Ut.useMemo=function(B,ee){return G.H.useMemo(B,ee)},Ut.useOptimistic=function(B,ee){return G.H.useOptimistic(B,ee)},Ut.useReducer=function(B,ee,_e){return G.H.useReducer(B,ee,_e)},Ut.useRef=function(B){return G.H.useRef(B)},Ut.useState=function(B){return G.H.useState(B)},Ut.useSyncExternalStore=function(B,ee,_e){return G.H.useSyncExternalStore(B,ee,_e)},Ut.useTransition=function(){return G.H.useTransition()},Ut.version="19.1.1",Ut}var S_;function vm(){return S_||(S_=1,Z1.exports=bE()),Z1.exports}var X1={exports:{}},hr={};var E_;function _E(){if(E_)return hr;E_=1;var t=vm();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:h,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hr.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,v)},hr.flushSync=function(h){var p=u.T,v=a.p;try{if(u.T=null,a.p=2,h)return h()}finally{u.T=p,a.p=v,a.d.f()}},hr.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(h,p))},hr.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},hr.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:C}):v==="script"&&a.d.X(h,{crossOrigin:_,integrity:x,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hr.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);a.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(h)},hr.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);a.d.L(h,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hr.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=f(p.as,p.crossOrigin);a.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(h)},hr.requestFormReset=function(h){a.d.r(h)},hr.unstable_batchedUpdates=function(h,p){return h(p)},hr.useFormState=function(h,p,v){return u.H.useFormState(h,p,v)},hr.useFormStatus=function(){return u.H.useHostTransitionStatus()},hr.version="19.1.1",hr}var C_;function L5(){if(C_)return X1.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X1.exports=_E(),X1.exports}var T_;function xE(){if(T_)return w0;T_=1;var t=O2(),e=vm(),n=L5();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,d=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(d=s.return),r=s.return;while(r)}return s.tag===3?d:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(a(188))}function h(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var d=r,m=s;;){var y=d.return;if(y===null)break;var S=y.alternate;if(S===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===d)return f(y),r;if(S===m)return f(y),s;S=S.sibling}throw Error(a(188))}if(d.return!==m.return)d=y,m=S;else{for(var D=!1,L=y.child;L;){if(L===d){D=!0,d=y,m=S;break}if(L===m){D=!0,m=y,d=S;break}L=L.sibling}if(!D){for(L=S.child;L;){if(L===d){D=!0,d=S,m=y;break}if(L===m){D=!0,m=S,d=y;break}L=L.sibling}if(!D)throw Error(a(189))}}if(d.alternate!==m)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),z=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=we&&r[we]||r["@@iterator"],typeof r=="function"?r:null)}var he=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===he?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case U:return"SuspenseList";case ne:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case z:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case k:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case K:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}var ue=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ae=[],B=-1;function ee(r){return{current:r}}function _e(r){0>B||(r.current=ae[B],ae[B]=null,B--)}function Se(r,s){B++,ae[B]=r.current,r.current=s}var Ve=ee(null),lt=ee(null),Ze=ee(null),st=ee(null);function _t(r,s){switch(Se(Ze,s),Se(lt,r),Se(Ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Zb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Zb(s),r=Xb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}_e(Ve),Se(Ve,r)}function Ce(){_e(Ve),_e(lt),_e(Ze)}function Ne(r){r.memoizedState!==null&&Se(st,r);var s=Ve.current,d=Xb(s,r.type);s!==d&&(Se(lt,r),Se(Ve,d))}function ot(r){lt.current===r&&(_e(Ve),_e(lt)),st.current===r&&(_e(st),p0._currentValue=F)}var vt=Object.prototype.hasOwnProperty,yt=t.unstable_scheduleCallback,At=t.unstable_cancelCallback,Ft=t.unstable_shouldYield,_n=t.unstable_requestPaint,dn=t.unstable_now,Ts=t.unstable_getCurrentPriorityLevel,$a=t.unstable_ImmediatePriority,Z=t.unstable_UserBlockingPriority,oe=t.unstable_NormalPriority,pe=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,Pe=t.log,ke=t.unstable_setDisableYieldValue,Ie=null,Qe=null;function Et(r){if(typeof Pe=="function"&&ke(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Ie,r)}catch{}}var rn=Math.clz32?Math.clz32:Ca,Qa=Math.log,ma=Math.LN2;function Ca(r){return r>>>=0,r===0?32:31-(Qa(r)/ma|0)|0}var Wa=256,Ja=4194304;function ga(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function jr(r,s,d){var m=r.pendingLanes;if(m===0)return 0;var y=0,S=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var L=m&134217727;return L!==0?(m=L&~S,m!==0?y=ga(m):(D&=L,D!==0?y=ga(D):d||(d=L&~r,d!==0&&(y=ga(d))))):(L=m&~S,L!==0?y=ga(L):D!==0?y=ga(D):d||(d=m&~r,d!==0&&(y=ga(d)))),y===0?0:s!==0&&s!==y&&(s&S)===0&&(S=y&-y,d=s&-s,S>=d||S===32&&(d&4194048)!==0)?s:y}function gr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function pr(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var r=Wa;return Wa<<=1,(Wa&4194048)===0&&(Wa=256),r}function $r(){var r=Ja;return Ja<<=1,(Ja&62914560)===0&&(Ja=4194304),r}function As(r){for(var s=[],d=0;31>d;d++)s.push(r);return s}function vr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function xl(r,s,d,m,y,S){var D=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var L=r.entanglements,I=r.expirationTimes,fe=r.hiddenUpdates;for(d=D&~d;0<d;){var Ee=31-rn(d),Re=1<<Ee;L[Ee]=0,I[Ee]=-1;var ve=fe[Ee];if(ve!==null)for(fe[Ee]=null,Ee=0;Ee<ve.length;Ee++){var ye=ve[Ee];ye!==null&&(ye.lane&=-536870913)}d&=~Re}m!==0&&Qr(r,m,0),S!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=S&~(D&~s))}function Qr(r,s,d){r.pendingLanes|=s,r.suspendedLanes&=~s;var m=31-rn(s);r.entangledLanes|=s,r.entanglements[m]=r.entanglements[m]|1073741824|d&4194090}function pi(r,s){var d=r.entangledLanes|=s;for(r=r.entanglements;d;){var m=31-rn(d),y=1<<m;y&s|r[m]&s&&(r[m]|=s),d&=~y}}function xe(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Le(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function xt(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:f_(r.type))}function q(r,s){var d=J.p;try{return J.p=r,s()}finally{J.p=d}}var Q=Math.random().toString(36).slice(2),te="__reactFiber$"+Q,Ae="__reactProps$"+Q,He="__reactContainer$"+Q,et="__reactEvents$"+Q,rt="__reactListeners$"+Q,Fe="__reactHandles$"+Q,We="__reactResources$"+Q,it="__reactMarker$"+Q;function at(r){delete r[te],delete r[Ae],delete r[et],delete r[rt],delete r[Fe]}function $e(r){var s=r[te];if(s)return s;for(var d=r.parentNode;d;){if(s=d[He]||d[te]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(r=Qb(r);r!==null;){if(d=r[te])return d;r=Qb(r)}return s}r=d,d=r.parentNode}return null}function Tt(r){if(r=r[te]||r[He]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function sn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Sn(r){var s=r[We];return s||(s=r[We]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(r){r[it]=!0}var pn=new Set,fn={};function Yt(r,s){er(r,s),er(r+"Capture",s)}function er(r,s){for(fn[r]=s,r=0;r<s.length;r++)pn.add(s[r])}var Mr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tr={},wl={};function Sl(r){return vt.call(wl,r)?!0:vt.call(tr,r)?!1:Mr.test(r)?wl[r]=!0:(tr[r]=!0,!1)}function nr(r,s,d){if(Sl(s))if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+d)}}function Wr(r,s,d){if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+d)}}function Ta(r,s,d,m){if(m===null)r.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(s,d,""+m)}}var ft,Pt;function Ba(r){if(ft===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);ft=s&&s[1]||"",Pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+r+Pt}var Ha=!1;function En(r,s){if(!r||Ha)return"";Ha=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ye){var ve=ye}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(ye){ve=ye}r.call(Re.prototype)}}else{try{throw Error()}catch(ye){ve=ye}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ye){if(ye&&ve&&typeof ye.stack=="string")return[ye.stack,ve.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),D=S[0],L=S[1];if(D&&L){var I=D.split(`
`),fe=L.split(`
`);for(y=m=0;m<I.length&&!I[m].includes("DetermineComponentFrameRoot");)m++;for(;y<fe.length&&!fe[y].includes("DetermineComponentFrameRoot");)y++;if(m===I.length||y===fe.length)for(m=I.length-1,y=fe.length-1;1<=m&&0<=y&&I[m]!==fe[y];)y--;for(;1<=m&&0<=y;m--,y--)if(I[m]!==fe[y]){if(m!==1||y!==1)do if(m--,y--,0>y||I[m]!==fe[y]){var Ee=`
`+I[m].replace(" at new "," at ");return r.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",r.displayName)),Ee}while(1<=m&&0<=y);break}}}finally{Ha=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Ba(d):""}function Rs(r){switch(r.tag){case 26:case 27:case 5:return Ba(r.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return En(r.type,!1);case 11:return En(r.type.render,!1);case 1:return En(r.type,!0);case 31:return Ba("Activity");default:return""}}function yr(r){try{var s="";do s+=Rs(r),r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function pa(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $c(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function th(r){var s=$c(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),m=""+r[s];if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,S=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){m=""+D,S.call(this,D)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ru(r){r._valueTracker||(r._valueTracker=th(r))}function nh(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var d=s.getValue(),m="";return r&&(m=$c(r)?r.checked?"true":"false":r.value),r=m,r!==d?(s.setValue(r),!0):!1}function Ou(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Dm=/[\n"\\]/g;function br(r){return r.replace(Dm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qc(r,s,d,m,y,S,D,L){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),s!=null?D==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pa(s)):r.value!==""+pa(s)&&(r.value=""+pa(s)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),s!=null?Jc(r,D,pa(s)):d!=null?Jc(r,D,pa(d)):m!=null&&r.removeAttribute("value"),y==null&&S!=null&&(r.defaultChecked=!!S),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.name=""+pa(L):r.removeAttribute("name")}function Wc(r,s,d,m,y,S,D,L){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),s!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||s!=null))return;d=d!=null?""+pa(d):"",s=s!=null?""+pa(s):d,L||s===r.value||(r.value=s),r.defaultValue=s}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=L?r.checked:!!m,r.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function Jc(r,s,d){s==="number"&&Ou(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function po(r,s,d,m){if(r=r.options,s){s={};for(var y=0;y<d.length;y++)s["$"+d[y]]=!0;for(d=0;d<r.length;d++)y=s.hasOwnProperty("$"+r[d].value),r[d].selected!==y&&(r[d].selected=y),y&&m&&(r[d].defaultSelected=!0)}else{for(d=""+pa(d),s=null,y=0;y<r.length;y++){if(r[y].value===d){r[y].selected=!0,m&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function ah(r,s,d){if(s!=null&&(s=""+pa(s),s!==r.value&&(r.value=s),d==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=d!=null?""+pa(d):""}function rh(r,s,d,m){if(s==null){if(m!=null){if(d!=null)throw Error(a(92));if(ue(m)){if(1<m.length)throw Error(a(93));m=m[0]}d=m}d==null&&(d=""),s=d}d=pa(s),r.defaultValue=d,m=r.textContent,m===d&&m!==""&&m!==null&&(r.value=m)}function El(r,s){if(s){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=s;return}}r.textContent=s}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sh(r,s,d){var m=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":m?r.setProperty(s,d):typeof d!="number"||d===0||ih.has(s)?s==="float"?r.cssFloat=d:r[s]=(""+d).trim():r[s]=d+"px"}function lh(r,s,d){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var y in s)m=s[y],s.hasOwnProperty(y)&&d[y]!==m&&sh(r,y,m)}else for(var S in s)s.hasOwnProperty(S)&&sh(r,S,s[S])}function ed(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),km=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function td(r){return km.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var nd=null;function Os(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zi=null,Cl=null;function Nu(r){var s=Tt(r);if(s&&(r=s.stateNode)){var d=r[Ae]||null;e:switch(r=s.stateNode,s.type){case"input":if(Qc(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+br(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var m=d[s];if(m!==r&&m.form===r.form){var y=m[Ae]||null;if(!y)throw Error(a(90));Qc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<d.length;s++)m=d[s],m.form===r.form&&nh(m)}break e;case"textarea":ah(r,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&po(r,!!d.multiple,s,!1)}}}var Tl=!1;function oh(r,s,d){if(Tl)return r(s,d);Tl=!0;try{var m=r(s);return m}finally{if(Tl=!1,(Zi!==null||Cl!==null)&&(rl(),Zi&&(s=Zi,r=Cl,Cl=Zi=null,Nu(s),r)))for(s=0;s<r.length;s++)Nu(r[s])}}function vo(r,s){var d=r.stateNode;if(d===null)return null;var m=d[Ae]||null;if(m===null)return null;d=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(a(231,s,typeof d));return d}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=!1;if(vi)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ad=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ad=!1}var Xi=null,ju=null,Mu=null;function uh(){if(Mu)return Mu;var r,s=ju,d=s.length,m,y="value"in Xi?Xi.value:Xi.textContent,S=y.length;for(r=0;r<d&&s[r]===y[r];r++);var D=d-r;for(m=1;m<=D&&s[d-m]===y[S-m];m++);return Mu=y.slice(r,1<m?1-m:void 0)}function bo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Du(){return!0}function ch(){return!1}function Ga(r){function s(d,m,y,S,D){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(d=r[L],this[L]=d?d(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Du:ch,this.isPropagationStopped=ch,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),s}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=Ga(Ki),_o=v({},Ki,{view:0,detail:0}),s1=Ga(_o),dh,rd,Fi,xo=v({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fi&&(Fi&&r.type==="mousemove"?(dh=r.screenX-Fi.screenX,rd=r.screenY-Fi.screenY):rd=dh=0,Fi=r),dh)},movementY:function(r){return"movementY"in r?r.movementY:rd}}),ku=Ga(xo),Lm=v({},xo,{dataTransfer:0}),Um=Ga(Lm),id=v({},_o,{relatedTarget:0}),Al=Ga(id),sd=v({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Pm=Ga(sd),Bm=v({},Ki,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ns=Ga(Bm),Hm=v({},Ki,{data:0}),$i=Ga(Hm),Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gm(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fh[r])?!!s[r]:!1}function od(){return Gm}var Rl=v({},_o,{key:function(r){if(r.key){var s=Qi[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ld[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(r){return r.type==="keypress"?bo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ud=Ga(Rl),qm=v({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Ga(qm),Vm=v({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),Ym=Ga(Vm),l1=v({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=Ga(l1),Im=v({},xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zm=Ga(Im),Xm=v({},Ki,{newState:0,oldState:0}),Km=Ga(Xm),Fm=[9,13,27,32],wo=vi&&"CompositionEvent"in window,Ol=null;vi&&"documentMode"in document&&(Ol=document.documentMode);var $m=vi&&"TextEvent"in window&&!Ol,hh=vi&&(!wo||Ol&&8<Ol&&11>=Ol),mh=" ",dd=!1;function fd(r,s){switch(r){case"keyup":return Fm.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var js=!1;function hd(r,s){switch(r){case"compositionend":return gh(s);case"keypress":return s.which!==32?null:(dd=!0,mh);case"textInput":return r=s.data,r===mh&&dd?null:r;default:return null}}function ph(r,s){if(js)return r==="compositionend"||!wo&&fd(r,s)?(r=uh(),Mu=ju=Xi=null,js=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hh&&s.locale!=="ko"?null:s.data;default:return null}}var Qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Qm[r.type]:s==="textarea"}function vh(r,s,d,m){Zi?Cl?Cl.push(m):Cl=[m]:Zi=m,s=Kg(s,"onChange"),0<s.length&&(d=new zu("onChange","change",null,d,m),r.push({event:d,listeners:s}))}var _r=null,Nl=null;function o1(r){Gb(r,0)}function Lu(r){var s=sn(r);if(nh(s))return r}function ar(r,s){if(r==="change")return s}var yh=!1;if(vi){var Uu;if(vi){var gd="oninput"in document;if(!gd){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),gd=typeof bh.oninput=="function"}Uu=gd}else Uu=!1;yh=Uu&&(!document.documentMode||9<document.documentMode)}function pd(){_r&&(_r.detachEvent("onpropertychange",vd),Nl=_r=null)}function vd(r){if(r.propertyName==="value"&&Lu(Nl)){var s=[];vh(s,Nl,r,Os(r)),oh(o1,s)}}function Wm(r,s,d){r==="focusin"?(pd(),_r=s,Nl=d,_r.attachEvent("onpropertychange",vd)):r==="focusout"&&pd()}function yd(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lu(Nl)}function Pu(r,s){if(r==="click")return Lu(s)}function Bn(r,s){if(r==="input"||r==="change")return Lu(s)}function u1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var xr=typeof Object.is=="function"?Object.is:u1;function So(r,s){if(xr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var d=Object.keys(r),m=Object.keys(s);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!vt.call(s,y)||!xr(r[y],s[y]))return!1}return!0}function Eo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wi(r,s){var d=Eo(r);r=0;for(var m;d;){if(d.nodeType===3){if(m=r+d.textContent.length,r<=s&&m>=s)return{node:d,offset:s-r};r=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Eo(d)}}function _h(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_h(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ou(r.document);s instanceof r.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)r=s.contentWindow;else break;s=Ou(r.document)}return s}function jl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var yi=vi&&"documentMode"in document&&11>=document.documentMode,Ml=null,Bu=null,Co=null,Hu=!1;function bd(r,s,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Hu||Ml==null||Ml!==Ou(m)||(m=Ml,"selectionStart"in m&&jl(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Co&&So(Co,m)||(Co=m,m=Kg(Bu,"onSelect"),0<m.length&&(s=new zu("onSelect","select",null,s,d),r.push({event:s,listeners:m}),s.target=Ml)))}function bi(r,s){var d={};return d[r.toLowerCase()]=s.toLowerCase(),d["Webkit"+r]="webkit"+s,d["Moz"+r]="moz"+s,d}var Dl={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},_d={},Jm={};vi&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function Ms(r){if(_d[r])return _d[r];if(!Dl[r])return r;var s=Dl[r],d;for(d in s)if(s.hasOwnProperty(d)&&d in Jm)return _d[r]=s[d];return r}var wh=Ms("animationend"),Dr=Ms("animationiteration"),xd=Ms("animationstart"),eg=Ms("transitionrun"),c1=Ms("transitionstart"),Sh=Ms("transitioncancel"),Aa=Ms("transitionend"),Eh=new Map,Ra="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ra.push("scrollEnd");function zr(r,s){Eh.set(r,s),Yt(s,[r])}var Ji=new WeakMap;function ia(r,s){if(typeof r=="object"&&r!==null){var d=Ji.get(r);return d!==void 0?d:(s={value:r,source:s,stack:yr(s)},Ji.set(r,s),s)}return{value:r,source:s,stack:yr(s)}}var ea=[],Ds=0,Gu=0;function wr(){for(var r=Ds,s=Gu=Ds=0;s<r;){var d=ea[s];ea[s++]=null;var m=ea[s];ea[s++]=null;var y=ea[s];ea[s++]=null;var S=ea[s];if(ea[s++]=null,m!==null&&y!==null){var D=m.pending;D===null?y.next=y:(y.next=D.next,D.next=y),m.pending=y}S!==0&&ks(d,y,S)}}function qu(r,s,d,m){ea[Ds++]=r,ea[Ds++]=s,ea[Ds++]=d,ea[Ds++]=m,Gu|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function zs(r,s,d,m){return qu(r,s,d,m),Vu(r)}function _i(r,s){return qu(r,null,null,s),Vu(r)}function ks(r,s,d){r.lanes|=d;var m=r.alternate;m!==null&&(m.lanes|=d);for(var y=!1,S=r.return;S!==null;)S.childLanes|=d,m=S.alternate,m!==null&&(m.childLanes|=d),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(y=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,y&&s!==null&&(y=31-rn(d),r=S.hiddenUpdates,m=r[y],m===null?r[y]=[s]:m.push(s),s.lane=d|536870912),S):null}function Vu(r){if(50<Li)throw Li=0,xc=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var zl={};function Yu(r,s,d,m){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,s,d,m){return new Yu(r,s,d,m)}function To(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xi(r,s){var d=r.alternate;return d===null?(d=rr(r.tag,s,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=s,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,s=r.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function wd(r,s){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,s=d.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Ao(r,s,d,m,y,S){var D=0;if(m=r,typeof r=="function")To(r)&&(D=1);else if(typeof r=="string")D=tE(r,d,Ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case ne:return r=rr(31,d,s,y),r.elementType=ne,r.lanes=S,r;case T:return es(d.children,y,S,s);case R:D=8,y|=24;break;case O:return r=rr(12,d,s,y|2),r.elementType=O,r.lanes=S,r;case G:return r=rr(13,d,s,y),r.elementType=G,r.lanes=S,r;case U:return r=rr(19,d,s,y),r.elementType=U,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case z:D=10;break e;case M:D=9;break e;case k:D=11;break e;case V:D=14;break e;case K:D=16,m=null;break e}D=29,d=Error(a(130,r===null?"null":typeof r,"")),m=null}return s=rr(D,d,s,y),s.elementType=r,s.type=m,s.lanes=S,s}function es(r,s,d,m){return r=rr(7,r,m,s),r.lanes=d,r}function Sd(r,s,d){return r=rr(6,r,null,s),r.lanes=d,r}function Iu(r,s,d){return s=rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=d,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var sa=[],kl=0,Oa=null,Zu=0,Sr=[],kr=0,ir=null,wi=1,Jr="";function Lr(r,s){sa[kl++]=Zu,sa[kl++]=Oa,Oa=r,Zu=s}function Ch(r,s,d){Sr[kr++]=wi,Sr[kr++]=Jr,Sr[kr++]=ir,ir=r;var m=wi;r=Jr;var y=32-rn(m)-1;m&=~(1<<y),d+=1;var S=32-rn(s)+y;if(30<S){var D=y-y%5;S=(m&(1<<D)-1).toString(32),m>>=D,y-=D,wi=1<<32-rn(s)+y|d<<y|m,Jr=S+r}else wi=1<<S|d<<y|m,Jr=r}function Ed(r){r.return!==null&&(Lr(r,1),Ch(r,1,0))}function Cd(r){for(;r===Oa;)Oa=sa[--kl],sa[kl]=null,Zu=sa[--kl],sa[kl]=null;for(;r===ir;)ir=Sr[--kr],Sr[kr]=null,Jr=Sr[--kr],Sr[kr]=null,wi=Sr[--kr],Sr[kr]=null}var Na=null,zn=null,Qt=!1,Ll=null,Si=!1,Th=Error(a(519));function Ls(r){var s=Error(a(418,""));throw Oo(ia(s,r)),Th}function Ah(r){var s=r.stateNode,d=r.type,m=r.memoizedProps;switch(s[te]=r,s[Ae]=m,d){case"dialog":Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":case"embed":Xt("load",s);break;case"video":case"audio":for(d=0;d<c0.length;d++)Xt(c0[d],s);break;case"source":Xt("error",s);break;case"img":case"image":case"link":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"input":Xt("invalid",s),Wc(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ru(s);break;case"select":Xt("invalid",s);break;case"textarea":Xt("invalid",s),rh(s,m.value,m.defaultValue,m.children),Ru(s)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||m.suppressHydrationWarning===!0||Ib(s.textContent,d)?(m.popover!=null&&(Xt("beforetoggle",s),Xt("toggle",s)),m.onScroll!=null&&Xt("scroll",s),m.onScrollEnd!=null&&Xt("scrollend",s),m.onClick!=null&&(s.onclick=Fg),s=!0):s=!1,s||Ls(r)}function Ul(r){for(Na=r.return;Na;)switch(Na.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Na=Na.return}}function Us(r){if(r!==Na)return!1;if(!Qt)return Ul(r),Qt=!0,!1;var s=r.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||R1(r.type,r.memoizedProps)),d=!d),d&&zn&&Ls(r),Ul(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(s===0){zn=gs(r.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++;r=r.nextSibling}zn=null}}else s===27?(s=zn,Wo(r.type)?(r=M1,M1=null,zn=r):zn=s):zn=Na?gs(r.stateNode.nextSibling):null;return!0}function Ro(){zn=Na=null,Qt=!1}function Rh(){var r=Ll;return r!==null&&(_a===null?_a=r:_a.push.apply(_a,r),Ll=null),r}function Oo(r){Ll===null?Ll=[r]:Ll.push(r)}var Td=ee(null),Ps=null,Ei=null;function Ur(r,s,d){Se(Td,s._currentValue),s._currentValue=d}function Ci(r){r._currentValue=Td.current,_e(Td)}function Ad(r,s,d){for(;r!==null;){var m=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),r===d)break;r=r.return}}function ln(r,s,d,m){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var S=y.dependencies;if(S!==null){var D=y.child;S=S.firstContext;e:for(;S!==null;){var L=S;S=y;for(var I=0;I<s.length;I++)if(L.context===s[I]){S.lanes|=d,L=S.alternate,L!==null&&(L.lanes|=d),Ad(S.return,d,r),m||(D=null);break e}S=L.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=d,S=D.alternate,S!==null&&(S.lanes|=d),Ad(D,d,r),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===r){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function Pl(r,s,d,m){r=null;for(var y=s,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var L=y.type;xr(y.pendingProps.value,D.value)||(r!==null?r.push(L):r=[L])}}else if(y===st.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(p0):r=[p0])}y=y.return}r!==null&&ln(s,r,d,m),s.flags|=262144}function Rd(r){for(r=r.firstContext;r!==null;){if(!xr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bs(r){Ps=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ja(r){return tg(Ps,r)}function Od(r,s){return Ps===null&&Bs(r),tg(r,s)}function tg(r,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},Ei===null){if(r===null)throw Error(a(308));Ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ei=Ei.next=s;return d}var d1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(d,m){r.push(m)}};this.abort=function(){s.aborted=!0,r.forEach(function(d){return d()})}},Oh=t.unstable_scheduleCallback,ts=t.unstable_NormalPriority,Kn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function No(){return{controller:new d1,data:new Map,refCount:0}}function ei(r){r.refCount--,r.refCount===0&&Oh(ts,function(){r.controller.abort()})}var Bl=null,Xu=0,jo=0,Hl=null;function ng(r,s){if(Bl===null){var d=Bl=[];Xu=0,jo=b1(),Hl={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Xu++,s.then(Nh,Nh),s}function Nh(){if(--Xu===0&&Bl!==null){Hl!==null&&(Hl.status="fulfilled");var r=Bl;Bl=null,jo=0,Hl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function ag(r,s){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return r.then(function(){m.status="fulfilled",m.value=s;for(var y=0;y<d.length;y++)(0,d[y])(s)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var jh=H.S;H.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ng(r,s),jh!==null&&jh(r,s)};var ns=ee(null);function Dt(){var r=ns.current;return r!==null?r:bn.pooledCache}function Nd(r,s){s===null?Se(ns,ns.current):Se(ns,s.pool)}function sr(){var r=Dt();return r===null?null:{parent:Kn._currentValue,pool:r}}var Gl=Error(a(460)),rg=Error(a(474)),ql=Error(a(542)),Hs={then:function(){}};function Vl(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ku(){}function jd(r,s,d){switch(d=r[d],d===void 0?r.push(s):d!==s&&(s.then(Ku,Ku),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,as(r),r;default:if(typeof s.status=="string")s.then(Ku,Ku);else{if(r=bn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(m){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=m}},function(m){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,as(r),r}throw Fu=s,Gl}}var Fu=null;function Mh(){if(Fu===null)throw Error(a(459));var r=Fu;return Fu=null,r}function as(r){if(r===Gl||r===ql)throw Error(a(483))}var Ti=!1;function $u(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ai(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qa(r,s,d){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(bt&2)!==0){var y=m.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),m.pending=s,s=Vu(r),ks(r,null,d),s}return qu(r,m,s,d),Vu(r)}function Yl(r,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var m=s.lanes;m&=r.pendingLanes,d|=m,s.lanes=d,pi(r,d)}}function Dh(r,s){var d=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?y=S=D:S=S.next=D,d=d.next}while(d!==null);S===null?y=S=s:S=S.next=s}else y=S=s;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=s:r.next=s,d.lastBaseUpdate=s}var Md=!1;function Wu(){if(Md){var r=Hl;if(r!==null)throw r}}function Gs(r,s,d,m){Md=!1;var y=r.updateQueue;Ti=!1;var S=y.firstBaseUpdate,D=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var I=L,fe=I.next;I.next=null,D===null?S=fe:D.next=fe,D=I;var Ee=r.alternate;Ee!==null&&(Ee=Ee.updateQueue,L=Ee.lastBaseUpdate,L!==D&&(L===null?Ee.firstBaseUpdate=fe:L.next=fe,Ee.lastBaseUpdate=I))}if(S!==null){var Re=y.baseState;D=0,Ee=fe=I=null,L=S;do{var ve=L.lane&-536870913,ye=ve!==L.lane;if(ye?(Zt&ve)===ve:(m&ve)===ve){ve!==0&&ve===jo&&(Md=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var St=r,mt=L;ve=s;var On=d;switch(mt.tag){case 1:if(St=mt.payload,typeof St=="function"){Re=St.call(On,Re,ve);break e}Re=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=mt.payload,ve=typeof St=="function"?St.call(On,Re,ve):St,ve==null)break e;Re=v({},Re,ve);break e;case 2:Ti=!0}}ve=L.callback,ve!==null&&(r.flags|=64,ye&&(r.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[ve]:ye.push(ve))}else ye={lane:ve,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Ee===null?(fe=Ee=ye,I=Re):Ee=Ee.next=ye,D|=ve;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ye=L,L=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);Ee===null&&(I=Re),y.baseState=I,y.firstBaseUpdate=fe,y.lastBaseUpdate=Ee,S===null&&(y.shared.lanes=0),wn|=D,r.lanes=D,r.memoizedState=Re}}function ct(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function ig(r,s){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)ct(d[r],s)}var Mo=ee(null),Ju=ee(0);function Do(r,s){r=ki,Se(Ju,r),Se(Mo,s),ki=r|s.baseLanes}function zh(){Se(Ju,ki),Se(Mo,Mo.current)}function kh(){ki=Ju.current,_e(Mo),_e(Ju)}var qs=0,zt=null,vn=null,Vn=null,ec=!1,rs=!1,Vs=!1,Dd=0,tc=0,Pr=null,is=0;function Gt(){throw Error(a(321))}function Ri(r,s){if(s===null)return!1;for(var d=0;d<s.length&&d<r.length;d++)if(!xr(r[d],s[d]))return!1;return!0}function lr(r,s,d,m,y,S){return qs=S,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?Lg:Wh,Vs=!1,S=d(m,y),Vs=!1,rs&&(S=lg(s,d,m,y)),sg(r),S}function sg(r){H.H=Bd;var s=vn!==null&&vn.next!==null;if(qs=0,Vn=vn=zt=null,ec=!1,tc=0,Pr=null,s)throw Error(a(300));r===null||yn||(r=r.dependencies,r!==null&&Rd(r)&&(yn=!0))}function lg(r,s,d,m){zt=r;var y=0;do{if(rs&&(Pr=null),tc=0,rs=!1,25<=y)throw Error(a(301));if(y+=1,Vn=vn=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}H.H=g1,S=s(d,m)}while(rs);return S}function la(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?nc(s):s,r=r.useState()[0],(vn!==null?vn.memoizedState:null)!==r&&(zt.flags|=1024),s}function ti(){var r=Dd!==0;return Dd=0,r}function Lh(r,s,d){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d}function Uh(r){if(ec){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ec=!1}qs=0,Vn=vn=zt=null,rs=!1,tc=Dd=0,Pr=null}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?zt.memoizedState=Vn=r:Vn=Vn.next=r,Vn}function Fn(){if(vn===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=vn.next;var s=Vn===null?zt.memoizedState:Vn.next;if(s!==null)Vn=s,vn=r;else{if(r===null)throw zt.alternate===null?Error(a(467)):Error(a(310));vn=r,r={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Vn===null?zt.memoizedState=Vn=r:Vn=Vn.next=r}return Vn}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(r){var s=tc;return tc+=1,Pr===null&&(Pr=[]),r=jd(Pr,r,s),s=zt,(Vn===null?s.memoizedState:Vn.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Lg:Wh),r}function ac(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return nc(r);if(r.$$typeof===z)return ja(r)}throw Error(a(438,String(r)))}function Ph(r){var s=null,d=zt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var m=zt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=zd(),zt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(r),m=0;m<r;m++)d[m]=ge;return s.index++,d}function ur(r,s){return typeof s=="function"?s(r):s}function Oi(r){var s=Fn();return Bh(s,vn,r)}function Bh(r,s,d){var m=r.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=d;var y=r.baseQueue,S=m.pending;if(S!==null){if(y!==null){var D=y.next;y.next=S.next,S.next=D}s.baseQueue=y=S,m.pending=null}if(S=r.baseState,y===null)r.memoizedState=S;else{s=y.next;var L=D=null,I=null,fe=s,Ee=!1;do{var Re=fe.lane&-536870913;if(Re!==fe.lane?(Zt&Re)===Re:(qs&Re)===Re){var ve=fe.revertLane;if(ve===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Re===jo&&(Ee=!0);else if((qs&ve)===ve){fe=fe.next,ve===jo&&(Ee=!0);continue}else Re={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},I===null?(L=I=Re,D=S):I=I.next=Re,zt.lanes|=ve,wn|=ve;Re=fe.action,Vs&&d(S,Re),S=fe.hasEagerState?fe.eagerState:d(S,Re)}else ve={lane:Re,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},I===null?(L=I=ve,D=S):I=I.next=ve,zt.lanes|=Re,wn|=Re;fe=fe.next}while(fe!==null&&fe!==s);if(I===null?D=S:I.next=L,!xr(S,r.memoizedState)&&(yn=!0,Ee&&(d=Hl,d!==null)))throw d;r.memoizedState=S,r.baseState=D,r.baseQueue=I,m.lastRenderedState=S}return y===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Hh(r){var s=Fn(),d=s.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=r;var m=d.dispatch,y=d.pending,S=s.memoizedState;if(y!==null){d.pending=null;var D=y=y.next;do S=r(S,D.action),D=D.next;while(D!==y);xr(S,s.memoizedState)||(yn=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),d.lastRenderedState=S}return[S,m]}function og(r,s,d){var m=zt,y=Fn(),S=Qt;if(S){if(d===void 0)throw Error(a(407));d=d()}else d=s();var D=!xr((vn||y).memoizedState,d);D&&(y.memoizedState=d,yn=!0),y=y.queue;var L=cg.bind(null,m,y,r);if(rc(2048,8,L,[r]),y.getSnapshot!==s||D||Vn!==null&&Vn.memoizedState.tag&1){if(m.flags|=2048,Lo(9,kd(),ug.bind(null,m,y,d,s),null),bn===null)throw Error(a(349));S||(qs&124)!==0||zo(m,s,d)}return d}function zo(r,s,d){r.flags|=16384,r={getSnapshot:s,value:d},s=zt.updateQueue,s===null?(s=zd(),zt.updateQueue=s,s.stores=[r]):(d=s.stores,d===null?s.stores=[r]:d.push(r))}function ug(r,s,d,m){s.value=d,s.getSnapshot=m,dg(s)&&ko(r)}function cg(r,s,d){return d(function(){dg(s)&&ko(r)})}function dg(r){var s=r.getSnapshot;r=r.value;try{var d=s();return!xr(r,d)}catch{return!0}}function ko(r){var s=_i(r,2);s!==null&&Jn(s,r,2)}function Gh(r){var s=or();if(typeof r=="function"){var d=r;if(r=d(),Vs){Et(!0);try{d()}finally{Et(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:r},s}function fg(r,s,d,m){return r.baseState=d,Bh(r,vn,typeof m=="function"?m:ur)}function f1(r,s,d,m,y){if(Pd(r))throw Error(a(485));if(r=s.action,r!==null){var S={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};H.T!==null?d(!0):S.isTransition=!1,m(S),d=s.pending,d===null?(S.next=s.pending=S,hg(s,S)):(S.next=d.next,s.pending=d.next=S)}}function hg(r,s){var d=s.action,m=s.payload,y=r.state;if(s.isTransition){var S=H.T,D={};H.T=D;try{var L=d(y,m),I=H.S;I!==null&&I(D,L),mg(r,s,L)}catch(fe){qh(r,s,fe)}finally{H.T=S}}else try{S=d(y,m),mg(r,s,S)}catch(fe){qh(r,s,fe)}}function mg(r,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){gg(r,s,m)},function(m){return qh(r,s,m)}):gg(r,s,d)}function gg(r,s,d){s.status="fulfilled",s.value=d,pg(s),r.state=d,s=r.pending,s!==null&&(d=s.next,d===s?r.pending=null:(d=d.next,s.next=d,hg(r,d)))}function qh(r,s,d){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=d,pg(s),s=s.next;while(s!==m)}r.action=null}function pg(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function vg(r,s){return s}function yg(r,s){if(Qt){var d=bn.formState;if(d!==null){e:{var m=zt;if(Qt){if(zn){t:{for(var y=zn,S=Si;y.nodeType!==8;){if(!S){y=null;break t}if(y=gs(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){zn=gs(y.nextSibling),m=y.data==="F!";break e}}Ls(m)}m=!1}m&&(s=d[0])}}return d=or(),d.memoizedState=d.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:s},d.queue=m,d=Dg.bind(null,zt,m),m.dispatch=d,m=Gh(!1),S=Qh.bind(null,zt,!1,m.queue),m=or(),y={state:s,dispatch:null,action:r,pending:null},m.queue=y,d=f1.bind(null,zt,y,S,d),y.dispatch=d,m.memoizedState=r,[s,d,!1]}function bg(r){var s=Fn();return _g(s,vn,r)}function _g(r,s,d){if(s=Bh(r,s,vg)[0],r=Oi(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=nc(s)}catch(D){throw D===Gl?ql:D}else m=s;s=Fn();var y=s.queue,S=y.dispatch;return d!==s.memoizedState&&(zt.flags|=2048,Lo(9,kd(),xg.bind(null,y,d),null)),[m,S,r]}function xg(r,s){r.action=s}function wg(r){var s=Fn(),d=vn;if(d!==null)return _g(s,d,r);Fn(),s=s.memoizedState,d=Fn();var m=d.queue.dispatch;return d.memoizedState=r,[s,m,!1]}function Lo(r,s,d,m){return r={tag:r,create:d,deps:m,inst:s,next:null},s=zt.updateQueue,s===null&&(s=zd(),zt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=r.next=r:(m=d.next,d.next=r,r.next=m,s.lastEffect=r),r}function kd(){return{destroy:void 0,resource:void 0}}function Sg(){return Fn().memoizedState}function Ld(r,s,d,m){var y=or();m=m===void 0?null:m,zt.flags|=r,y.memoizedState=Lo(1|s,kd(),d,m)}function rc(r,s,d,m){var y=Fn();m=m===void 0?null:m;var S=y.memoizedState.inst;vn!==null&&m!==null&&Ri(m,vn.memoizedState.deps)?y.memoizedState=Lo(s,S,d,m):(zt.flags|=r,y.memoizedState=Lo(1|s,S,d,m))}function Vh(r,s){Ld(8390656,8,r,s)}function Yh(r,s){rc(2048,8,r,s)}function Eg(r,s){return rc(4,2,r,s)}function Ih(r,s){return rc(4,4,r,s)}function Zh(r,s){if(typeof s=="function"){r=r();var d=s(r);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Xh(r,s,d){d=d!=null?d.concat([r]):null,rc(4,4,Zh.bind(null,s,r),d)}function ic(){}function Ud(r,s){var d=Fn();s=s===void 0?null:s;var m=d.memoizedState;return s!==null&&Ri(s,m[1])?m[0]:(d.memoizedState=[r,s],r)}function Cg(r,s){var d=Fn();s=s===void 0?null:s;var m=d.memoizedState;if(s!==null&&Ri(s,m[1]))return m[0];if(m=r(),Vs){Et(!0);try{r()}finally{Et(!1)}}return d.memoizedState=[m,s],m}function Kh(r,s,d){return d===void 0||(qs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=d,r=Gn(),zt.lanes|=r,wn|=r,d)}function Tg(r,s,d,m){return xr(d,s)?d:Mo.current!==null?(r=Kh(r,d,m),xr(r,s)||(yn=!0),r):(qs&42)===0?(yn=!0,r.memoizedState=d):(r=Gn(),zt.lanes|=r,wn|=r,s)}function Ag(r,s,d,m,y){var S=J.p;J.p=S!==0&&8>S?S:8;var D=H.T,L={};H.T=L,Qh(r,!1,s,d);try{var I=y(),fe=H.S;if(fe!==null&&fe(L,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Ee=ag(I,m);sc(r,s,Ee,In(r))}else sc(r,s,m,In(r))}catch(Re){sc(r,s,{then:function(){},status:"rejected",reason:Re},In())}finally{J.p=S,H.T=D}}function Rg(){}function Fh(r,s,d,m){if(r.tag!==5)throw Error(a(476));var y=Og(r).queue;Ag(r,y,s,F,d===null?Rg:function(){return Ng(r),d(m)})}function Og(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:F},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:d},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Ng(r){var s=Og(r).next.queue;sc(r,s,{},In())}function $h(){return ja(p0)}function jg(){return Fn().memoizedState}function Mg(){return Fn().memoizedState}function h1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var d=In();r=Ai(d);var m=qa(s,r,d);m!==null&&(Jn(m,s,d),Yl(m,s,d)),s={cache:No()},r.payload=s;return}s=s.return}}function m1(r,s,d){var m=In();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Pd(r)?zg(s,d):(d=zs(r,s,d,m),d!==null&&(Jn(d,r,m),kg(d,s,m)))}function Dg(r,s,d){var m=In();sc(r,s,d,m)}function sc(r,s,d,m){var y={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Pd(r))zg(s,y);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var D=s.lastRenderedState,L=S(D,d);if(y.hasEagerState=!0,y.eagerState=L,xr(L,D))return qu(r,s,y,0),bn===null&&wr(),!1}catch{}finally{}if(d=zs(r,s,y,m),d!==null)return Jn(d,r,m),kg(d,s,m),!0}return!1}function Qh(r,s,d,m){if(m={lane:2,revertLane:b1(),action:m,hasEagerState:!1,eagerState:null,next:null},Pd(r)){if(s)throw Error(a(479))}else s=zs(r,d,m,2),s!==null&&Jn(s,r,2)}function Pd(r){var s=r.alternate;return r===zt||s!==null&&s===zt}function zg(r,s){rs=ec=!0;var d=r.pending;d===null?s.next=s:(s.next=d.next,d.next=s),r.pending=s}function kg(r,s,d){if((d&4194048)!==0){var m=s.lanes;m&=r.pendingLanes,d|=m,s.lanes=d,pi(r,d)}}var Bd={readContext:ja,use:ac,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Lg={readContext:ja,use:ac,useCallback:function(r,s){return or().memoizedState=[r,s===void 0?null:s],r},useContext:ja,useEffect:Vh,useImperativeHandle:function(r,s,d){d=d!=null?d.concat([r]):null,Ld(4194308,4,Zh.bind(null,s,r),d)},useLayoutEffect:function(r,s){return Ld(4194308,4,r,s)},useInsertionEffect:function(r,s){Ld(4,2,r,s)},useMemo:function(r,s){var d=or();s=s===void 0?null:s;var m=r();if(Vs){Et(!0);try{r()}finally{Et(!1)}}return d.memoizedState=[m,s],m},useReducer:function(r,s,d){var m=or();if(d!==void 0){var y=d(s);if(Vs){Et(!0);try{d(s)}finally{Et(!1)}}}else y=s;return m.memoizedState=m.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},m.queue=r,r=r.dispatch=m1.bind(null,zt,r),[m.memoizedState,r]},useRef:function(r){var s=or();return r={current:r},s.memoizedState=r},useState:function(r){r=Gh(r);var s=r.queue,d=Dg.bind(null,zt,s);return s.dispatch=d,[r.memoizedState,d]},useDebugValue:ic,useDeferredValue:function(r,s){var d=or();return Kh(d,r,s)},useTransition:function(){var r=Gh(!1);return r=Ag.bind(null,zt,r.queue,!0,!1),or().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,d){var m=zt,y=or();if(Qt){if(d===void 0)throw Error(a(407));d=d()}else{if(d=s(),bn===null)throw Error(a(349));(Zt&124)!==0||zo(m,s,d)}y.memoizedState=d;var S={value:d,getSnapshot:s};return y.queue=S,Vh(cg.bind(null,m,S,r),[r]),m.flags|=2048,Lo(9,kd(),ug.bind(null,m,S,d,s),null),d},useId:function(){var r=or(),s=bn.identifierPrefix;if(Qt){var d=Jr,m=wi;d=(m&~(1<<32-rn(m)-1)).toString(32)+d,s=""+s+"R"+d,d=Dd++,0<d&&(s+="H"+d.toString(32)),s+=""}else d=is++,s=""+s+"r"+d.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:$h,useFormState:yg,useActionState:yg,useOptimistic:function(r){var s=or();s.memoizedState=s.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Qh.bind(null,zt,!0,d),d.dispatch=s,[r,s]},useMemoCache:Ph,useCacheRefresh:function(){return or().memoizedState=h1.bind(null,zt)}},Wh={readContext:ja,use:ac,useCallback:Ud,useContext:ja,useEffect:Yh,useImperativeHandle:Xh,useInsertionEffect:Eg,useLayoutEffect:Ih,useMemo:Cg,useReducer:Oi,useRef:Sg,useState:function(){return Oi(ur)},useDebugValue:ic,useDeferredValue:function(r,s){var d=Fn();return Tg(d,vn.memoizedState,r,s)},useTransition:function(){var r=Oi(ur)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:nc(r),s]},useSyncExternalStore:og,useId:jg,useHostTransitionStatus:$h,useFormState:bg,useActionState:bg,useOptimistic:function(r,s){var d=Fn();return fg(d,vn,r,s)},useMemoCache:Ph,useCacheRefresh:Mg},g1={readContext:ja,use:ac,useCallback:Ud,useContext:ja,useEffect:Yh,useImperativeHandle:Xh,useInsertionEffect:Eg,useLayoutEffect:Ih,useMemo:Cg,useReducer:Hh,useRef:Sg,useState:function(){return Hh(ur)},useDebugValue:ic,useDeferredValue:function(r,s){var d=Fn();return vn===null?Kh(d,r,s):Tg(d,vn.memoizedState,r,s)},useTransition:function(){var r=Hh(ur)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:nc(r),s]},useSyncExternalStore:og,useId:jg,useHostTransitionStatus:$h,useFormState:wg,useActionState:wg,useOptimistic:function(r,s){var d=Fn();return vn!==null?fg(d,vn,r,s):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:Mg},Uo=null,Va=0;function lc(r){var s=Va;return Va+=1,Uo===null&&(Uo=[]),jd(Uo,r,s)}function Il(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function oc(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Jh(r){var s=r._init;return s(r._payload)}function e0(r){function s(ie,$){if(r){var ce=ie.deletions;ce===null?(ie.deletions=[$],ie.flags|=16):ce.push($)}}function d(ie,$){if(!r)return null;for(;$!==null;)s(ie,$),$=$.sibling;return null}function m(ie){for(var $=new Map;ie!==null;)ie.key!==null?$.set(ie.key,ie):$.set(ie.index,ie),ie=ie.sibling;return $}function y(ie,$){return ie=xi(ie,$),ie.index=0,ie.sibling=null,ie}function S(ie,$,ce){return ie.index=ce,r?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<$?(ie.flags|=67108866,$):ce):(ie.flags|=67108866,$)):(ie.flags|=1048576,$)}function D(ie){return r&&ie.alternate===null&&(ie.flags|=67108866),ie}function L(ie,$,ce,Te){return $===null||$.tag!==6?($=Sd(ce,ie.mode,Te),$.return=ie,$):($=y($,ce),$.return=ie,$)}function I(ie,$,ce,Te){var tt=ce.type;return tt===T?Ee(ie,$,ce.props.children,Te,ce.key):$!==null&&($.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===K&&Jh(tt)===$.type)?($=y($,ce.props),Il($,ce),$.return=ie,$):($=Ao(ce.type,ce.key,ce.props,null,ie.mode,Te),Il($,ce),$.return=ie,$)}function fe(ie,$,ce,Te){return $===null||$.tag!==4||$.stateNode.containerInfo!==ce.containerInfo||$.stateNode.implementation!==ce.implementation?($=Iu(ce,ie.mode,Te),$.return=ie,$):($=y($,ce.children||[]),$.return=ie,$)}function Ee(ie,$,ce,Te,tt){return $===null||$.tag!==7?($=es(ce,ie.mode,Te,tt),$.return=ie,$):($=y($,ce),$.return=ie,$)}function Re(ie,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Sd(""+$,ie.mode,ce),$.return=ie,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return ce=Ao($.type,$.key,$.props,null,ie.mode,ce),Il(ce,$),ce.return=ie,ce;case C:return $=Iu($,ie.mode,ce),$.return=ie,$;case K:var Te=$._init;return $=Te($._payload),Re(ie,$,ce)}if(ue($)||W($))return $=es($,ie.mode,ce,null),$.return=ie,$;if(typeof $.then=="function")return Re(ie,lc($),ce);if($.$$typeof===z)return Re(ie,Od(ie,$),ce);oc(ie,$)}return null}function ve(ie,$,ce,Te){var tt=$!==null?$.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return tt!==null?null:L(ie,$,""+ce,Te);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return ce.key===tt?I(ie,$,ce,Te):null;case C:return ce.key===tt?fe(ie,$,ce,Te):null;case K:return tt=ce._init,ce=tt(ce._payload),ve(ie,$,ce,Te)}if(ue(ce)||W(ce))return tt!==null?null:Ee(ie,$,ce,Te,null);if(typeof ce.then=="function")return ve(ie,$,lc(ce),Te);if(ce.$$typeof===z)return ve(ie,$,Od(ie,ce),Te);oc(ie,ce)}return null}function ye(ie,$,ce,Te,tt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ie=ie.get(ce)||null,L($,ie,""+Te,tt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return ie=ie.get(Te.key===null?ce:Te.key)||null,I($,ie,Te,tt);case C:return ie=ie.get(Te.key===null?ce:Te.key)||null,fe($,ie,Te,tt);case K:var qt=Te._init;return Te=qt(Te._payload),ye(ie,$,ce,Te,tt)}if(ue(Te)||W(Te))return ie=ie.get(ce)||null,Ee($,ie,Te,tt,null);if(typeof Te.then=="function")return ye(ie,$,ce,lc(Te),tt);if(Te.$$typeof===z)return ye(ie,$,ce,Od($,Te),tt);oc($,Te)}return null}function St(ie,$,ce,Te){for(var tt=null,qt=null,ut=$,pt=$=0,La=null;ut!==null&&pt<ce.length;pt++){ut.index>pt?(La=ut,ut=null):La=ut.sibling;var hn=ve(ie,ut,ce[pt],Te);if(hn===null){ut===null&&(ut=La);break}r&&ut&&hn.alternate===null&&s(ie,ut),$=S(hn,$,pt),qt===null?tt=hn:qt.sibling=hn,qt=hn,ut=La}if(pt===ce.length)return d(ie,ut),Qt&&Lr(ie,pt),tt;if(ut===null){for(;pt<ce.length;pt++)ut=Re(ie,ce[pt],Te),ut!==null&&($=S(ut,$,pt),qt===null?tt=ut:qt.sibling=ut,qt=ut);return Qt&&Lr(ie,pt),tt}for(ut=m(ut);pt<ce.length;pt++)La=ye(ut,ie,pt,ce[pt],Te),La!==null&&(r&&La.alternate!==null&&ut.delete(La.key===null?pt:La.key),$=S(La,$,pt),qt===null?tt=La:qt.sibling=La,qt=La);return r&&ut.forEach(function(au){return s(ie,au)}),Qt&&Lr(ie,pt),tt}function mt(ie,$,ce,Te){if(ce==null)throw Error(a(151));for(var tt=null,qt=null,ut=$,pt=$=0,La=null,hn=ce.next();ut!==null&&!hn.done;pt++,hn=ce.next()){ut.index>pt?(La=ut,ut=null):La=ut.sibling;var au=ve(ie,ut,hn.value,Te);if(au===null){ut===null&&(ut=La);break}r&&ut&&au.alternate===null&&s(ie,ut),$=S(au,$,pt),qt===null?tt=au:qt.sibling=au,qt=au,ut=La}if(hn.done)return d(ie,ut),Qt&&Lr(ie,pt),tt;if(ut===null){for(;!hn.done;pt++,hn=ce.next())hn=Re(ie,hn.value,Te),hn!==null&&($=S(hn,$,pt),qt===null?tt=hn:qt.sibling=hn,qt=hn);return Qt&&Lr(ie,pt),tt}for(ut=m(ut);!hn.done;pt++,hn=ce.next())hn=ye(ut,ie,pt,hn.value,Te),hn!==null&&(r&&hn.alternate!==null&&ut.delete(hn.key===null?pt:hn.key),$=S(hn,$,pt),qt===null?tt=hn:qt.sibling=hn,qt=hn);return r&&ut.forEach(function(hE){return s(ie,hE)}),Qt&&Lr(ie,pt),tt}function On(ie,$,ce,Te){if(typeof ce=="object"&&ce!==null&&ce.type===T&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:e:{for(var tt=ce.key;$!==null;){if($.key===tt){if(tt=ce.type,tt===T){if($.tag===7){d(ie,$.sibling),Te=y($,ce.props.children),Te.return=ie,ie=Te;break e}}else if($.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===K&&Jh(tt)===$.type){d(ie,$.sibling),Te=y($,ce.props),Il(Te,ce),Te.return=ie,ie=Te;break e}d(ie,$);break}else s(ie,$);$=$.sibling}ce.type===T?(Te=es(ce.props.children,ie.mode,Te,ce.key),Te.return=ie,ie=Te):(Te=Ao(ce.type,ce.key,ce.props,null,ie.mode,Te),Il(Te,ce),Te.return=ie,ie=Te)}return D(ie);case C:e:{for(tt=ce.key;$!==null;){if($.key===tt)if($.tag===4&&$.stateNode.containerInfo===ce.containerInfo&&$.stateNode.implementation===ce.implementation){d(ie,$.sibling),Te=y($,ce.children||[]),Te.return=ie,ie=Te;break e}else{d(ie,$);break}else s(ie,$);$=$.sibling}Te=Iu(ce,ie.mode,Te),Te.return=ie,ie=Te}return D(ie);case K:return tt=ce._init,ce=tt(ce._payload),On(ie,$,ce,Te)}if(ue(ce))return St(ie,$,ce,Te);if(W(ce)){if(tt=W(ce),typeof tt!="function")throw Error(a(150));return ce=tt.call(ce),mt(ie,$,ce,Te)}if(typeof ce.then=="function")return On(ie,$,lc(ce),Te);if(ce.$$typeof===z)return On(ie,$,Od(ie,ce),Te);oc(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,$!==null&&$.tag===6?(d(ie,$.sibling),Te=y($,ce),Te.return=ie,ie=Te):(d(ie,$),Te=Sd(ce,ie.mode,Te),Te.return=ie,ie=Te),D(ie)):d(ie,$)}return function(ie,$,ce,Te){try{Va=0;var tt=On(ie,$,ce,Te);return Uo=null,tt}catch(ut){if(ut===Gl||ut===ql)throw ut;var qt=rr(29,ut,null,ie.mode);return qt.lanes=Te,qt.return=ie,qt}finally{}}}var Po=e0(!0),t0=e0(!1),Er=ee(null),Ni=null;function Ys(r){var s=r.alternate;Se(Ht,Ht.current&1),Se(Er,r),Ni===null&&(s===null||Mo.current!==null||s.memoizedState!==null)&&(Ni=r)}function Ug(r){if(r.tag===22){if(Se(Ht,Ht.current),Se(Er,r),Ni===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ni=r)}}else ss()}function ss(){Se(Ht,Ht.current),Se(Er,Er.current)}function ls(r){_e(Er),Ni===r&&(Ni=null),_e(Ht)}var Ht=ee(0);function uc(r){for(var s=r;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||j1(d)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function n0(r,s,d,m){s=r.memoizedState,d=d(m,s),d=d==null?s:v({},s,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Hd={enqueueSetState:function(r,s,d){r=r._reactInternals;var m=In(),y=Ai(m);y.payload=s,d!=null&&(y.callback=d),s=qa(r,y,m),s!==null&&(Jn(s,r,m),Yl(s,r,m))},enqueueReplaceState:function(r,s,d){r=r._reactInternals;var m=In(),y=Ai(m);y.tag=1,y.payload=s,d!=null&&(y.callback=d),s=qa(r,y,m),s!==null&&(Jn(s,r,m),Yl(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var d=In(),m=Ai(d);m.tag=2,s!=null&&(m.callback=s),s=qa(r,m,d),s!==null&&(Jn(s,r,d),Yl(s,r,d))}};function a0(r,s,d,m,y,S,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,S,D):s.prototype&&s.prototype.isPureReactComponent?!So(d,m)||!So(y,S):!0}function Zl(r,s,d,m){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,m),s.state!==r&&Hd.enqueueReplaceState(s,s.state,null)}function os(r,s){var d=s;if("ref"in s){d={};for(var m in s)m!=="ref"&&(d[m]=s[m])}if(r=r.defaultProps){d===s&&(d=v({},d));for(var y in r)d[y]===void 0&&(d[y]=r[y])}return d}var us=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Xl(r){us(r)}function cr(r){console.error(r)}function Pg(r){us(r)}function Gd(r,s){try{var d=r.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function cc(r,s,d){try{var m=r.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Bo(r,s,d){return d=Ai(d),d.tag=3,d.payload={element:null},d.callback=function(){Gd(r,s)},d}function dc(r){return r=Ai(r),r.tag=3,r}function qd(r,s,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var S=m.value;r.payload=function(){return y(S)},r.callback=function(){cc(s,d,m)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){cc(s,d,m),typeof y!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function p1(r,s,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=d.alternate,s!==null&&Pl(s,d,y,!0),d=Er.current,d!==null){switch(d.tag){case 13:return Ni===null?Ui():d.alternate===null&&kt===0&&(kt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===Hs?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([m]):s.add(m),je(r,m,y)),!1;case 22:return d.flags|=65536,m===Hs?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([m]):d.add(m)),je(r,m,y)),!1}throw Error(a(435,d.tag))}return je(r,m,y),Ui(),!1}if(Qt)return s=Er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,m!==Th&&(r=Error(a(422),{cause:m}),Oo(ia(r,d)))):(m!==Th&&(s=Error(a(423),{cause:m}),Oo(ia(s,d))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,m=ia(m,d),y=Bo(r.stateNode,m,y),Dh(r,y),kt!==4&&(kt=2)),!1;var S=Error(a(520),{cause:m});if(S=ia(S,d),el===null?el=[S]:el.push(S),kt!==4&&(kt=2),s===null)return!0;m=ia(m,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,r=y&-y,d.lanes|=r,r=Bo(d.stateNode,m,r),Dh(d,r),!1;case 1:if(s=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(nl===null||!nl.has(S))))return d.flags|=65536,y&=-y,d.lanes|=y,y=dc(y),qd(y,r,d,m),Dh(d,y),!1}d=d.return}while(d!==null);return!1}var Bg=Error(a(461)),yn=!1;function oa(r,s,d,m){s.child=r===null?t0(s,null,d,m):Po(s,r.child,d,m)}function Hg(r,s,d,m,y){d=d.render;var S=s.ref;if("ref"in m){var D={};for(var L in m)L!=="ref"&&(D[L]=m[L])}else D=m;return Bs(s),m=lr(r,s,d,D,S,y),L=ti(),r!==null&&!yn?(Lh(r,s,y),Nn(r,s,y)):(Qt&&L&&Ed(s),s.flags|=1,oa(r,s,m,y),s.child)}function Vd(r,s,d,m,y){if(r===null){var S=d.type;return typeof S=="function"&&!To(S)&&S.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=S,Gg(r,s,S,m,y)):(r=Ao(d.type,null,m,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(S=r.child,!Kl(r,y)){var D=S.memoizedProps;if(d=d.compare,d=d!==null?d:So,d(D,m)&&r.ref===s.ref)return Nn(r,s,y)}return s.flags|=1,r=xi(S,m),r.ref=s.ref,r.return=s,s.child=r}function Gg(r,s,d,m,y){if(r!==null){var S=r.memoizedProps;if(So(S,m)&&r.ref===s.ref)if(yn=!1,s.pendingProps=m=S,Kl(r,y))(r.flags&131072)!==0&&(yn=!0);else return s.lanes=r.lanes,Nn(r,s,y)}return Ya(r,s,d,m,y)}function qg(r,s,d){var m=s.pendingProps,y=m.children,S=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((s.flags&128)!==0){if(m=S!==null?S.baseLanes|d:d,r!==null){for(y=s.child=r.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;s.childLanes=S&~m}else s.childLanes=0,s.child=null;return Vg(r,s,m,d)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nd(s,S!==null?S.cachePool:null),S!==null?Do(s,S):zh(),Ug(s);else return s.lanes=s.childLanes=536870912,Vg(r,s,S!==null?S.baseLanes|d:d,d)}else S!==null?(Nd(s,S.cachePool),Do(s,S),ss(),s.memoizedState=null):(r!==null&&Nd(s,null),zh(),ss());return oa(r,s,y,d),s.child}function Vg(r,s,d,m){var y=Dt();return y=y===null?null:{parent:Kn._currentValue,pool:y},s.memoizedState={baseLanes:d,cachePool:y},r!==null&&Nd(s,null),zh(),Ug(s),r!==null&&Pl(r,s,m,!0),null}function Is(r,s){var d=s.ref;if(d===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(r===null||r.ref!==d)&&(s.flags|=4194816)}}function Ya(r,s,d,m,y){return Bs(s),d=lr(r,s,d,m,void 0,y),m=ti(),r!==null&&!yn?(Lh(r,s,y),Nn(r,s,y)):(Qt&&m&&Ed(s),s.flags|=1,oa(r,s,d,y),s.child)}function Yd(r,s,d,m,y,S){return Bs(s),s.updateQueue=null,d=lg(s,m,d,y),sg(r),m=ti(),r!==null&&!yn?(Lh(r,s,S),Nn(r,s,S)):(Qt&&m&&Ed(s),s.flags|=1,oa(r,s,d,S),s.child)}function r0(r,s,d,m,y){if(Bs(s),s.stateNode===null){var S=zl,D=d.contextType;typeof D=="object"&&D!==null&&(S=ja(D)),S=new d(m,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Hd,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=m,S.state=s.memoizedState,S.refs={},$u(s),D=d.contextType,S.context=typeof D=="object"&&D!==null?ja(D):zl,S.state=s.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(n0(s,d,D,m),S.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&Hd.enqueueReplaceState(S,S.state,null),Gs(s,m,S,y),Wu(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(r===null){S=s.stateNode;var L=s.memoizedProps,I=os(d,L);S.props=I;var fe=S.context,Ee=d.contextType;D=zl,typeof Ee=="object"&&Ee!==null&&(D=ja(Ee));var Re=d.getDerivedStateFromProps;Ee=typeof Re=="function"||typeof S.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,Ee||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L||fe!==D)&&Zl(s,S,m,D),Ti=!1;var ve=s.memoizedState;S.state=ve,Gs(s,m,S,y),Wu(),fe=s.memoizedState,L||ve!==fe||Ti?(typeof Re=="function"&&(n0(s,d,Re,m),fe=s.memoizedState),(I=Ti||a0(s,d,I,m,ve,fe,D))?(Ee||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=fe),S.props=m,S.state=fe,S.context=D,m=I):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{S=s.stateNode,Qu(r,s),D=s.memoizedProps,Ee=os(d,D),S.props=Ee,Re=s.pendingProps,ve=S.context,fe=d.contextType,I=zl,typeof fe=="object"&&fe!==null&&(I=ja(fe)),L=d.getDerivedStateFromProps,(fe=typeof L=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==Re||ve!==I)&&Zl(s,S,m,I),Ti=!1,ve=s.memoizedState,S.state=ve,Gs(s,m,S,y),Wu();var ye=s.memoizedState;D!==Re||ve!==ye||Ti||r!==null&&r.dependencies!==null&&Rd(r.dependencies)?(typeof L=="function"&&(n0(s,d,L,m),ye=s.memoizedState),(Ee=Ti||a0(s,d,Ee,m,ve,ye,I)||r!==null&&r.dependencies!==null&&Rd(r.dependencies))?(fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ye,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ye,I)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=ye),S.props=m,S.state=ye,S.context=I,m=Ee):(typeof S.componentDidUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ve===r.memoizedState||(s.flags|=1024),m=!1)}return S=m,Is(r,s),m=(s.flags&128)!==0,S||m?(S=s.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,r!==null&&m?(s.child=Po(s,r.child,null,y),s.child=Po(s,null,d,y)):oa(r,s,d,y),s.memoizedState=S.state,r=s.child):r=Nn(r,s,y),r}function Id(r,s,d,m){return Ro(),s.flags|=256,oa(r,s,d,m),s.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(r){return{baseLanes:r,cachePool:sr()}}function Xs(r,s,d){return r=r!==null?r.childLanes&~d:0,s&&(r|=ba),r}function fc(r,s,d){var m=s.pendingProps,y=!1,S=(s.flags&128)!==0,D;if((D=S)||(D=r!==null&&r.memoizedState===null?!1:(Ht.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qt){if(y?Ys(s):ss(),Qt){var L=zn,I;if(I=L){e:{for(I=L,L=Si;I.nodeType!==8;){if(!L){L=null;break e}if(I=gs(I.nextSibling),I===null){L=null;break e}}L=I}L!==null?(s.memoizedState={dehydrated:L,treeContext:ir!==null?{id:wi,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},I=rr(18,null,null,0),I.stateNode=L,I.return=s,s.child=I,Na=s,zn=null,I=!0):I=!1}I||Ls(s)}if(L=s.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return j1(L)?s.lanes=32:s.lanes=536870912,null;ls(s)}return L=m.children,m=m.fallback,y?(ss(),y=s.mode,L=Ia({mode:"hidden",children:L},y),m=es(m,y,d,null),L.return=s,m.return=s,L.sibling=m,s.child=L,y=s.child,y.memoizedState=Zs(d),y.childLanes=Xs(r,D,d),s.memoizedState=Zd,m):(Ys(s),Ho(s,L))}if(I=r.memoizedState,I!==null&&(L=I.dehydrated,L!==null)){if(S)s.flags&256?(Ys(s),s.flags&=-257,s=dr(r,s,d)):s.memoizedState!==null?(ss(),s.child=r.child,s.flags|=128,s=null):(ss(),y=m.fallback,L=s.mode,m=Ia({mode:"visible",children:m.children},L),y=es(y,L,d,null),y.flags|=2,m.return=s,y.return=s,m.sibling=y,s.child=m,Po(s,r.child,null,d),m=s.child,m.memoizedState=Zs(d),m.childLanes=Xs(r,D,d),s.memoizedState=Zd,s=y);else if(Ys(s),j1(L)){if(D=L.nextSibling&&L.nextSibling.dataset,D)var fe=D.dgst;D=fe,m=Error(a(419)),m.stack="",m.digest=D,Oo({value:m,source:null,stack:null}),s=dr(r,s,d)}else if(yn||Pl(r,s,d,!1),D=(d&r.childLanes)!==0,yn||D){if(D=bn,D!==null&&(m=d&-d,m=(m&42)!==0?1:xe(m),m=(m&(D.suspendedLanes|d))!==0?0:m,m!==0&&m!==I.retryLane))throw I.retryLane=m,_i(r,m),Jn(D,r,m),Bg;L.data==="$?"||Ui(),s=dr(r,s,d)}else L.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=I.treeContext,zn=gs(L.nextSibling),Na=s,Qt=!0,Ll=null,Si=!1,r!==null&&(Sr[kr++]=wi,Sr[kr++]=Jr,Sr[kr++]=ir,wi=r.id,Jr=r.overflow,ir=s),s=Ho(s,m.children),s.flags|=4096);return s}return y?(ss(),y=m.fallback,L=s.mode,I=r.child,fe=I.sibling,m=xi(I,{mode:"hidden",children:m.children}),m.subtreeFlags=I.subtreeFlags&65011712,fe!==null?y=xi(fe,y):(y=es(y,L,d,null),y.flags|=2),y.return=s,m.return=s,m.sibling=y,s.child=m,m=y,y=s.child,L=r.child.memoizedState,L===null?L=Zs(d):(I=L.cachePool,I!==null?(fe=Kn._currentValue,I=I.parent!==fe?{parent:fe,pool:fe}:I):I=sr(),L={baseLanes:L.baseLanes|d,cachePool:I}),y.memoizedState=L,y.childLanes=Xs(r,D,d),s.memoizedState=Zd,m):(Ys(s),d=r.child,r=d.sibling,d=xi(d,{mode:"visible",children:m.children}),d.return=s,d.sibling=null,r!==null&&(D=s.deletions,D===null?(s.deletions=[r],s.flags|=16):D.push(r)),s.child=d,s.memoizedState=null,d)}function Ho(r,s){return s=Ia({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ia(r,s){return r=rr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function dr(r,s,d){return Po(s,r.child,null,d),r=Ho(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ks(r,s,d){r.lanes|=s;var m=r.alternate;m!==null&&(m.lanes|=s),Ad(r.return,s,d)}function ni(r,s,d,m,y){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=d,S.tailMode=y)}function ji(r,s,d){var m=s.pendingProps,y=m.revealOrder,S=m.tail;if(oa(r,s,m.children,d),m=Ht.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ks(r,d,s);else if(r.tag===19)Ks(r,d,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(Se(Ht,m),y){case"forwards":for(d=s.child,y=null;d!==null;)r=d.alternate,r!==null&&uc(r)===null&&(y=d),d=d.sibling;d=y,d===null?(y=s.child,s.child=null):(y=d.sibling,d.sibling=null),ni(s,!1,y,d,S);break;case"backwards":for(d=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&uc(r)===null){s.child=y;break}r=y.sibling,y.sibling=d,d=y,y=r}ni(s,!0,d,null,S);break;case"together":ni(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nn(r,s,d){if(r!==null&&(s.dependencies=r.dependencies),wn|=s.lanes,(d&s.childLanes)===0)if(r!==null){if(Pl(r,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,d=xi(r,r.pendingProps),s.child=d,d.return=s;r.sibling!==null;)r=r.sibling,d=d.sibling=xi(r,r.pendingProps),d.return=s;d.sibling=null}return s.child}function Kl(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Rd(r)))}function Fs(r,s,d){switch(s.tag){case 3:_t(s,s.stateNode.containerInfo),Ur(s,Kn,r.memoizedState.cache),Ro();break;case 27:case 5:Ne(s);break;case 4:_t(s,s.stateNode.containerInfo);break;case 10:Ur(s,s.type,s.memoizedProps.value);break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(Ys(s),s.flags|=128,null):(d&s.child.childLanes)!==0?fc(r,s,d):(Ys(s),r=Nn(r,s,d),r!==null?r.sibling:null);Ys(s);break;case 19:var y=(r.flags&128)!==0;if(m=(d&s.childLanes)!==0,m||(Pl(r,s,d,!1),m=(d&s.childLanes)!==0),y){if(m)return ji(r,s,d);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Se(Ht,Ht.current),m)break;return null;case 22:case 23:return s.lanes=0,qg(r,s,d);case 24:Ur(s,Kn,r.memoizedState.cache)}return Nn(r,s,d)}function hc(r,s,d){if(r!==null)if(r.memoizedProps!==s.pendingProps)yn=!0;else{if(!Kl(r,d)&&(s.flags&128)===0)return yn=!1,Fs(r,s,d);yn=(r.flags&131072)!==0}else yn=!1,Qt&&(s.flags&1048576)!==0&&Ch(s,Zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var m=s.elementType,y=m._init;if(m=y(m._payload),s.type=m,typeof m=="function")To(m)?(r=os(m,r),s.tag=1,s=r0(null,s,m,r,d)):(s.tag=0,s=Ya(null,s,m,r,d));else{if(m!=null){if(y=m.$$typeof,y===k){s.tag=11,s=Hg(null,s,m,r,d);break e}else if(y===V){s.tag=14,s=Vd(null,s,m,r,d);break e}}throw s=de(m)||m,Error(a(306,s,""))}}return s;case 0:return Ya(r,s,s.type,s.pendingProps,d);case 1:return m=s.type,y=os(m,s.pendingProps),r0(r,s,m,y,d);case 3:e:{if(_t(s,s.stateNode.containerInfo),r===null)throw Error(a(387));m=s.pendingProps;var S=s.memoizedState;y=S.element,Qu(r,s),Gs(s,m,null,d);var D=s.memoizedState;if(m=D.cache,Ur(s,Kn,m),m!==S.cache&&ln(s,[Kn],d,!0),Wu(),m=D.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=Id(r,s,m,d);break e}else if(m!==y){y=ia(Error(a(424)),s),Oo(y),s=Id(r,s,m,d);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(zn=gs(r.firstChild),Na=s,Qt=!0,Ll=null,Si=!0,d=t0(s,null,m,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ro(),m===y){s=Nn(r,s,d);break e}oa(r,s,m,d)}s=s.child}return s;case 26:return Is(r,s),r===null?(d=t_(s.type,null,s.pendingProps,null))?s.memoizedState=d:Qt||(d=s.type,r=s.pendingProps,m=$g(Ze.current).createElement(d),m[te]=s,m[Ae]=r,Fa(m,d,r),Vt(m),s.stateNode=m):s.memoizedState=t_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ne(s),r===null&&Qt&&(m=s.stateNode=Wb(s.type,s.pendingProps,Ze.current),Na=s,Si=!0,y=zn,Wo(s.type)?(M1=y,zn=gs(m.firstChild)):zn=y),oa(r,s,s.pendingProps.children,d),Is(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Qt&&((y=m=zn)&&(m=q8(m,s.type,s.pendingProps,Si),m!==null?(s.stateNode=m,Na=s,zn=gs(m.firstChild),Si=!1,y=!0):y=!1),y||Ls(s)),Ne(s),y=s.type,S=s.pendingProps,D=r!==null?r.memoizedProps:null,m=S.children,R1(y,S)?m=null:D!==null&&R1(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=lr(r,s,la,null,null,d),p0._currentValue=y),Is(r,s),oa(r,s,m,d),s.child;case 6:return r===null&&Qt&&((r=d=zn)&&(d=V8(d,s.pendingProps,Si),d!==null?(s.stateNode=d,Na=s,zn=null,r=!0):r=!1),r||Ls(s)),null;case 13:return fc(r,s,d);case 4:return _t(s,s.stateNode.containerInfo),m=s.pendingProps,r===null?s.child=Po(s,null,m,d):oa(r,s,m,d),s.child;case 11:return Hg(r,s,s.type,s.pendingProps,d);case 7:return oa(r,s,s.pendingProps,d),s.child;case 8:return oa(r,s,s.pendingProps.children,d),s.child;case 12:return oa(r,s,s.pendingProps.children,d),s.child;case 10:return m=s.pendingProps,Ur(s,s.type,m.value),oa(r,s,m.children,d),s.child;case 9:return y=s.type._context,m=s.pendingProps.children,Bs(s),y=ja(y),m=m(y),s.flags|=1,oa(r,s,m,d),s.child;case 14:return Vd(r,s,s.type,s.pendingProps,d);case 15:return Gg(r,s,s.type,s.pendingProps,d);case 19:return ji(r,s,d);case 31:return m=s.pendingProps,d=s.mode,m={mode:m.mode,children:m.children},r===null?(d=Ia(m,d),d.ref=s.ref,s.child=d,d.return=s,s=d):(d=xi(r.child,m),d.ref=s.ref,s.child=d,d.return=s,s=d),s;case 22:return qg(r,s,d);case 24:return Bs(s),m=ja(Kn),r===null?(y=Dt(),y===null&&(y=bn,S=No(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=d),y=S),s.memoizedState={parent:m,cache:y},$u(s),Ur(s,Kn,y)):((r.lanes&d)!==0&&(Qu(r,s),Gs(s,null,null,d),Wu()),y=r.memoizedState,S=s.memoizedState,y.parent!==m?(y={parent:m,cache:m},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ur(s,Kn,m)):(m=S.cache,Ur(s,Kn,m),m!==y.cache&&ln(s,[Kn],d,!0))),oa(r,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Hn(r){r.flags|=4}function $n(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!s_(s)){if(s=Er.current,s!==null&&((Zt&4194048)===Zt?Ni!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||s!==Ni))throw Fu=Hs,rg;r.flags|=8192}}function $t(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?$r():536870912,r.lanes|=s,Zo|=s)}function ai(r,s){if(!Qt)switch(r.tailMode){case"hidden":s=r.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function nn(r){var s=r.alternate!==null&&r.alternate.child===r.child,d=0,m=0;if(s)for(var y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=m,r.childLanes=d,s}function i0(r,s,d){var m=s.pendingProps;switch(Cd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(s),null;case 1:return nn(s),null;case 3:return d=s.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),Ci(Kn),Ce(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Us(s)?Hn(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rh())),nn(s),null;case 26:return d=s.memoizedState,r===null?(Hn(s),d!==null?(nn(s),$n(s,d)):(nn(s),s.flags&=-16777217)):d?d!==r.memoizedState?(Hn(s),nn(s),$n(s,d)):(nn(s),s.flags&=-16777217):(r.memoizedProps!==m&&Hn(s),nn(s),s.flags&=-16777217),null;case 27:ot(s),d=Ze.current;var y=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==m&&Hn(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return nn(s),null}r=Ve.current,Us(s)?Ah(s):(r=Wb(y,m,d),s.stateNode=r,Hn(s))}return nn(s),null;case 5:if(ot(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==m&&Hn(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return nn(s),null}if(r=Ve.current,Us(s))Ah(s);else{switch(y=$g(Ze.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?y.createElement(d,{is:m.is}):y.createElement(d)}}r[te]=s,r[Ae]=m;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=r;e:switch(Fa(r,d,m),d){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hn(s)}}return nn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==m&&Hn(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ze.current,Us(s)){if(r=s.stateNode,d=s.memoizedProps,m=null,y=Na,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}r[te]=s,r=!!(r.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||Ib(r.nodeValue,d)),r||Ls(s)}else r=$g(r).createTextNode(m),r[te]=s,s.stateNode=r}return nn(s),null;case 13:if(m=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Us(s),m!==null&&m.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[te]=s}else Ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nn(s),y=!1}else y=Rh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(ls(s),s):(ls(s),null)}if(ls(s),(s.flags&128)!==0)return s.lanes=d,s;if(d=m!==null,r=r!==null&&r.memoizedState!==null,d){m=s.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==y&&(m.flags|=2048)}return d!==r&&d&&(s.child.flags|=8192),$t(s,s.updateQueue),nn(s),null;case 4:return Ce(),r===null&&S1(s.stateNode.containerInfo),nn(s),null;case 10:return Ci(s.type),nn(s),null;case 19:if(_e(Ht),y=s.memoizedState,y===null)return nn(s),null;if(m=(s.flags&128)!==0,S=y.rendering,S===null)if(m)ai(y,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=uc(r),S!==null){for(s.flags|=128,ai(y,!1),r=S.updateQueue,s.updateQueue=r,$t(s,r),s.subtreeFlags=0,r=d,d=s.child;d!==null;)wd(d,r),d=d.sibling;return Se(Ht,Ht.current&1|2),s.child}r=r.sibling}y.tail!==null&&dn()>Ql&&(s.flags|=128,m=!0,ai(y,!1),s.lanes=4194304)}else{if(!m)if(r=uc(S),r!==null){if(s.flags|=128,m=!0,r=r.updateQueue,s.updateQueue=r,$t(s,r),ai(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Qt)return nn(s),null}else 2*dn()-y.renderingStartTime>Ql&&d!==536870912&&(s.flags|=128,m=!0,ai(y,!1),s.lanes=4194304);y.isBackwards?(S.sibling=s.child,s.child=S):(r=y.last,r!==null?r.sibling=S:s.child=S,y.last=S)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=dn(),s.sibling=null,r=Ht.current,Se(Ht,m?r&1|2:r&1),s):(nn(s),null);case 22:case 23:return ls(s),kh(),m=s.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(d&536870912)!==0&&(s.flags&128)===0&&(nn(s),s.subtreeFlags&6&&(s.flags|=8192)):nn(s),d=s.updateQueue,d!==null&&$t(s,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048),r!==null&&_e(ns),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ci(Kn),nn(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Cr(r,s){switch(Cd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(Kn),Ce(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ot(s),null;case 13:if(ls(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ro()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _e(Ht),null;case 4:return Ce(),null;case 10:return Ci(s.type),null;case 22:case 23:return ls(s),kh(),r!==null&&_e(ns),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(Kn),null;case 25:return null;default:return null}}function mc(r,s){switch(Cd(s),s.tag){case 3:Ci(Kn),Ce();break;case 26:case 27:case 5:ot(s);break;case 4:Ce();break;case 13:ls(s);break;case 19:_e(Ht);break;case 10:Ci(s.type);break;case 22:case 23:ls(s),kh(),r!==null&&_e(ns);break;case 24:Ci(Kn)}}function ri(r,s){try{var d=s.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&r)===r){m=void 0;var S=d.create,D=d.inst;m=S(),D.destroy=m}d=d.next}while(d!==y)}}catch(L){se(s,s.return,L)}}function Ma(r,s,d){try{var m=s.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&r)===r){var D=m.inst,L=D.destroy;if(L!==void 0){D.destroy=void 0,y=s;var I=d,fe=L;try{fe()}catch(Ee){se(y,I,Ee)}}}m=m.next}while(m!==S)}}catch(Ee){se(s,s.return,Ee)}}function Yg(r){var s=r.updateQueue;if(s!==null){var d=r.stateNode;try{ig(s,d)}catch(m){se(r,r.return,m)}}}function Ig(r,s,d){d.props=os(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(m){se(r,s,m)}}function gc(r,s){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof d=="function"?r.refCleanup=d(m):d.current=m}}catch(y){se(r,s,y)}}function on(r,s){var d=r.ref,m=r.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){se(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){se(r,s,y)}else d.current=null}function pc(r){var s=r.type,d=r.memoizedProps,m=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){se(r,r.return,y)}}function $s(r,s,d){try{var m=r.stateNode;U8(m,r.type,d,s),m[Ae]=s}catch(y){se(r,r.return,y)}}function Xd(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wo(r.type)||r.tag===4}function Go(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xd(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vc(r,s,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(r),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Fg));else if(m!==4&&(m===27&&Wo(r.type)&&(d=r.stateNode,s=null),r=r.child,r!==null))for(vc(r,s,d),r=r.sibling;r!==null;)vc(r,s,d),r=r.sibling}function cs(r,s,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?d.insertBefore(r,s):d.appendChild(r);else if(m!==4&&(m===27&&Wo(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(cs(r,s,d),r=r.sibling;r!==null;)cs(r,s,d),r=r.sibling}function qo(r){var s=r.stateNode,d=r.memoizedProps;try{for(var m=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Fa(s,m,d),s[te]=r,s[Ae]=d}catch(S){se(r,r.return,S)}}var ii=!1,Cn=!1,Qs=!1,s0=typeof WeakSet=="function"?WeakSet:Set,kn=null;function v1(r,s){if(r=r.containerInfo,T1=np,r=xh(r),jl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var D=0,L=-1,I=-1,fe=0,Ee=0,Re=r,ve=null;t:for(;;){for(var ye;Re!==d||y!==0&&Re.nodeType!==3||(L=D+y),Re!==S||m!==0&&Re.nodeType!==3||(I=D+m),Re.nodeType===3&&(D+=Re.nodeValue.length),(ye=Re.firstChild)!==null;)ve=Re,Re=ye;for(;;){if(Re===r)break t;if(ve===d&&++fe===y&&(L=D),ve===S&&++Ee===m&&(I=D),(ye=Re.nextSibling)!==null)break;Re=ve,ve=Re.parentNode}Re=ye}d=L===-1||I===-1?null:{start:L,end:I}}else d=null}d=d||{start:0,end:0}}else d=null;for(A1={focusedElem:r,selectionRange:d},np=!1,kn=s;kn!==null;)if(s=kn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,kn=r;else for(;kn!==null;){switch(s=kn,S=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,d=s,y=S.memoizedProps,S=S.memoizedState,m=d.stateNode;try{var St=os(d.type,y,d.elementType===d.type);r=m.getSnapshotBeforeUpdate(St,S),m.__reactInternalSnapshotBeforeUpdate=r}catch(mt){se(d,d.return,mt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,d=r.nodeType,d===9)N1(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":N1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,kn=r;break}kn=s.return}}function Vo(r,s,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:It(r,d),m&4&&ri(5,d);break;case 1:if(It(r,d),m&4)if(r=d.stateNode,s===null)try{r.componentDidMount()}catch(D){se(d,d.return,D)}else{var y=os(d.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){se(d,d.return,D)}}m&64&&Yg(d),m&512&&gc(d,d.return);break;case 3:if(It(r,d),m&64&&(r=d.updateQueue,r!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{ig(r,s)}catch(D){se(d,d.return,D)}}break;case 27:s===null&&m&4&&qo(d);case 26:case 5:It(r,d),s===null&&m&4&&pc(d),m&512&&gc(d,d.return);break;case 12:It(r,d);break;case 13:It(r,d),m&4&&Fl(r,d),m&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Ke.bind(null,d),Y8(r,d))));break;case 22:if(m=d.memoizedState!==null||ii,!m){s=s!==null&&s.memoizedState!==null||Cn,y=ii;var S=Cn;ii=m,(Cn=s)&&!S?si(r,d,(d.subtreeFlags&8772)!==0):It(r,d),ii=y,Cn=S}break;case 30:break;default:It(r,d)}}function Kd(r){var s=r.alternate;s!==null&&(r.alternate=null,Kd(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&at(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xn=null,ya=!1;function fr(r,s,d){for(d=d.child;d!==null;)Tr(r,s,d),d=d.sibling}function Tr(r,s,d){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Ie,d)}catch{}switch(d.tag){case 26:Cn||on(d,s),fr(r,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Cn||on(d,s);var m=xn,y=ya;Wo(d.type)&&(xn=d.stateNode,ya=!1),fr(r,s,d),f0(d.stateNode),xn=m,ya=y;break;case 5:Cn||on(d,s);case 6:if(m=xn,y=ya,xn=null,fr(r,s,d),xn=m,ya=y,xn!==null)if(ya)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(d.stateNode)}catch(S){se(d,s,S)}else try{xn.removeChild(d.stateNode)}catch(S){se(d,s,S)}break;case 18:xn!==null&&(ya?(r=xn,$b(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),_0(r)):$b(xn,d.stateNode));break;case 4:m=xn,y=ya,xn=d.stateNode.containerInfo,ya=!0,fr(r,s,d),xn=m,ya=y;break;case 0:case 11:case 14:case 15:Cn||Ma(2,d,s),Cn||Ma(4,d,s),fr(r,s,d);break;case 1:Cn||(on(d,s),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Ig(d,s,m)),fr(r,s,d);break;case 21:fr(r,s,d);break;case 22:Cn=(m=Cn)||d.memoizedState!==null,fr(r,s,d),Cn=m;break;default:fr(r,s,d)}}function Fl(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_0(r)}catch(d){se(s,s.return,d)}}function l0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new s0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new s0),s;default:throw Error(a(435,r.tag))}}function Mi(r,s){var d=l0(r);s.forEach(function(m){var y=Nt.bind(null,r,m);d.has(m)||(d.add(m),m.then(y,y))})}function Za(r,s){var d=s.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],S=r,D=s,L=D;e:for(;L!==null;){switch(L.tag){case 27:if(Wo(L.type)){xn=L.stateNode,ya=!1;break e}break;case 5:xn=L.stateNode,ya=!1;break e;case 3:case 4:xn=L.stateNode.containerInfo,ya=!0;break e}L=L.return}if(xn===null)throw Error(a(160));Tr(S,D,y),xn=null,ya=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)yc(s,r),s=s.sibling}var Da=null;function yc(r,s){var d=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Za(s,r),Qn(r),m&4&&(Ma(3,r,r.return),ri(3,r),Ma(5,r,r.return));break;case 1:Za(s,r),Qn(r),m&512&&(Cn||d===null||on(d,d.return)),m&64&&ii&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=Da;if(Za(s,r),Qn(r),m&512&&(Cn||d===null||on(d,d.return)),m&4){var S=d!==null?d.memoizedState:null;if(m=r.memoizedState,d===null)if(m===null)if(r.stateNode===null){e:{m=r.type,d=r.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":S=y.getElementsByTagName("title")[0],(!S||S[it]||S[te]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(m),y.head.insertBefore(S,y.querySelector("head > title"))),Fa(S,m,d),S[te]=r,Vt(S),m=S;break e;case"link":var D=r_("link","href",y).get(m+(d.href||""));if(D){for(var L=0;L<D.length;L++)if(S=D[L],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(L,1);break t}}S=y.createElement(m),Fa(S,m,d),y.head.appendChild(S);break;case"meta":if(D=r_("meta","content",y).get(m+(d.content||""))){for(L=0;L<D.length;L++)if(S=D[L],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(L,1);break t}}S=y.createElement(m),Fa(S,m,d),y.head.appendChild(S);break;default:throw Error(a(468,m))}S[te]=r,Vt(S),m=S}r.stateNode=m}else i_(y,r.type,r.stateNode);else r.stateNode=a_(y,m,r.memoizedProps);else S!==m?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,m===null?i_(y,r.type,r.stateNode):a_(y,m,r.memoizedProps)):m===null&&r.stateNode!==null&&$s(r,r.memoizedProps,d.memoizedProps)}break;case 27:Za(s,r),Qn(r),m&512&&(Cn||d===null||on(d,d.return)),d!==null&&m&4&&$s(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Za(s,r),Qn(r),m&512&&(Cn||d===null||on(d,d.return)),r.flags&32){y=r.stateNode;try{El(y,"")}catch(ye){se(r,r.return,ye)}}m&4&&r.stateNode!=null&&(y=r.memoizedProps,$s(r,y,d!==null?d.memoizedProps:y)),m&1024&&(Qs=!0);break;case 6:if(Za(s,r),Qn(r),m&4){if(r.stateNode===null)throw Error(a(162));m=r.memoizedProps,d=r.stateNode;try{d.nodeValue=m}catch(ye){se(r,r.return,ye)}}break;case 3:if(Jg=null,y=Da,Da=Qg(s.containerInfo),Za(s,r),Da=y,Qn(r),m&4&&d!==null&&d.memoizedState.isDehydrated)try{_0(s.containerInfo)}catch(ye){se(r,r.return,ye)}Qs&&(Qs=!1,jt(r));break;case 4:m=Da,Da=Qg(r.stateNode.containerInfo),Za(s,r),Qn(r),Da=m;break;case 12:Za(s,r),Qn(r);break;case 13:Za(s,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ko=dn()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Mi(r,m)));break;case 22:y=r.memoizedState!==null;var I=d!==null&&d.memoizedState!==null,fe=ii,Ee=Cn;if(ii=fe||y,Cn=Ee||I,Za(s,r),Cn=Ee,ii=fe,Qn(r),m&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(d===null||I||ii||Cn||Tn(r)),d=null,s=r;;){if(s.tag===5||s.tag===26){if(d===null){I=d=s;try{if(S=I.stateNode,y)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{L=I.stateNode;var Re=I.memoizedProps.style,ve=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;L.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(ye){se(I,I.return,ye)}}}else if(s.tag===6){if(d===null){I=s;try{I.stateNode.nodeValue=y?"":I.memoizedProps}catch(ye){se(I,I.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=r.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Mi(r,d))));break;case 19:Za(s,r),Qn(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Mi(r,m)));break;case 30:break;case 21:break;default:Za(s,r),Qn(r)}}function Qn(r){var s=r.flags;if(s&2){try{for(var d,m=r.return;m!==null;){if(Xd(m)){d=m;break}m=m.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,S=Go(r);cs(r,S,y);break;case 5:var D=d.stateNode;d.flags&32&&(El(D,""),d.flags&=-33);var L=Go(r);cs(r,L,D);break;case 3:case 4:var I=d.stateNode.containerInfo,fe=Go(r);vc(r,fe,I);break;default:throw Error(a(161))}}catch(Ee){se(r,r.return,Ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function jt(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;jt(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function It(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vo(r,s.alternate,s),s=s.sibling}function Tn(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ma(4,s,s.return),Tn(s);break;case 1:on(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&Ig(s,s.return,d),Tn(s);break;case 27:f0(s.stateNode);case 26:case 5:on(s,s.return),Tn(s);break;case 22:s.memoizedState===null&&Tn(s);break;case 30:Tn(s);break;default:Tn(s)}r=r.sibling}}function si(r,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,y=r,S=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:si(y,S,d),ri(4,S);break;case 1:if(si(y,S,d),m=S,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(fe){se(m,m.return,fe)}if(m=S,y=m.updateQueue,y!==null){var L=m.stateNode;try{var I=y.shared.hiddenCallbacks;if(I!==null)for(y.shared.hiddenCallbacks=null,y=0;y<I.length;y++)ct(I[y],L)}catch(fe){se(m,m.return,fe)}}d&&D&64&&Yg(S),gc(S,S.return);break;case 27:qo(S);case 26:case 5:si(y,S,d),d&&m===null&&D&4&&pc(S),gc(S,S.return);break;case 12:si(y,S,d);break;case 13:si(y,S,d),d&&D&4&&Fl(y,S);break;case 22:S.memoizedState===null&&si(y,S,d),gc(S,S.return);break;case 30:break;default:si(y,S,d)}s=s.sibling}}function Ws(r,s){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&ei(d))}function ds(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ei(r))}function Ar(r,s,d,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yo(r,s,d,m),s=s.sibling}function Yo(r,s,d,m){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Ar(r,s,d,m),y&2048&&ri(9,s);break;case 1:Ar(r,s,d,m);break;case 3:Ar(r,s,d,m),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ei(r)));break;case 12:if(y&2048){Ar(r,s,d,m),r=s.stateNode;try{var S=s.memoizedProps,D=S.id,L=S.onPostCommit;typeof L=="function"&&L(D,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){se(s,s.return,I)}}else Ar(r,s,d,m);break;case 13:Ar(r,s,d,m);break;case 23:break;case 22:S=s.stateNode,D=s.alternate,s.memoizedState!==null?S._visibility&2?Ar(r,s,d,m):bc(r,s):S._visibility&2?Ar(r,s,d,m):(S._visibility|=2,li(r,s,d,m,(s.subtreeFlags&10256)!==0)),y&2048&&Ws(D,s);break;case 24:Ar(r,s,d,m),y&2048&&ds(s.alternate,s);break;default:Ar(r,s,d,m)}}function li(r,s,d,m,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var S=r,D=s,L=d,I=m,fe=D.flags;switch(D.tag){case 0:case 11:case 15:li(S,D,L,I,y),ri(8,D);break;case 23:break;case 22:var Ee=D.stateNode;D.memoizedState!==null?Ee._visibility&2?li(S,D,L,I,y):bc(S,D):(Ee._visibility|=2,li(S,D,L,I,y)),y&&fe&2048&&Ws(D.alternate,D);break;case 24:li(S,D,L,I,y),y&&fe&2048&&ds(D.alternate,D);break;default:li(S,D,L,I,y)}s=s.sibling}}function bc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=r,m=s,y=m.flags;switch(m.tag){case 22:bc(d,m),y&2048&&Ws(m.alternate,m);break;case 24:bc(d,m),y&2048&&ds(m.alternate,m);break;default:bc(d,m)}s=s.sibling}}var Js=8192;function $l(r){if(r.subtreeFlags&Js)for(r=r.child;r!==null;)o0(r),r=r.sibling}function o0(r){switch(r.tag){case 26:$l(r),r.flags&Js&&r.memoizedState!==null&&aE(Da,r.memoizedState,r.memoizedProps);break;case 5:$l(r);break;case 3:case 4:var s=Da;Da=Qg(r.stateNode.containerInfo),$l(r),Da=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Js,Js=16777216,$l(r),Js=s):$l(r));break;default:$l(r)}}function Zg(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Di(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];kn=m,u0(m,r)}Zg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Io(r),r=r.sibling}function Io(r){switch(r.tag){case 0:case 11:case 15:Di(r),r.flags&2048&&Ma(9,r,r.return);break;case 3:Di(r);break;case 12:Di(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,fs(r)):Di(r);break;default:Di(r)}}function fs(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];kn=m,u0(m,r)}Zg(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ma(8,s,s.return),fs(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,fs(s));break;default:fs(s)}r=r.sibling}}function u0(r,s){for(;kn!==null;){var d=kn;switch(d.tag){case 0:case 11:case 15:Ma(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ei(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,kn=m;else e:for(d=r;kn!==null;){m=kn;var y=m.sibling,S=m.return;if(Kd(m),m===d){kn=null;break e}if(y!==null){y.return=S,kn=y;break e}kn=S}}}var Br={getCacheForType:function(r){var s=ja(Kn),d=s.data.get(r);return d===void 0&&(d=r(),s.data.set(r,d)),d}},zi=typeof WeakMap=="function"?WeakMap:Map,bt=0,bn=null,Bt=null,Zt=0,wt=0,Xa=null,za=!1,An=!1,_c=!1,ki=0,kt=0,wn=0,Wn=0,Rr=0,ba=0,Zo=0,el=null,_a=null,Xo=!1,Ko=0,Ql=1/0,tl=null,nl=null,dt=0,Wt=null,Rt=null,Lt=0,un=0,Ka=null,hs=null,Li=0,xc=null;function In(){if((bt&2)!==0&&Zt!==0)return Zt&-Zt;if(H.T!==null){var r=jo;return r!==0?r:b1()}return xt()}function Gn(){ba===0&&(ba=(Zt&536870912)===0||Qt?gi():536870912);var r=Er.current;return r!==null&&(r.flags|=32),ba}function Jn(r,s,d){(r===bn&&(wt===2||wt===9)||r.cancelPendingCommit!==null)&&(il(r,0),Or(r,Zt,ba,!1)),vr(r,d),((bt&2)===0||r!==bn)&&(r===bn&&((bt&2)===0&&(Wn|=d),kt===4&&Or(r,Zt,ba,!1)),Je(r))}function al(r,s,d){if((bt&6)!==0)throw Error(a(327));var m=!d&&(s&124)===0&&(s&r.expiredLanes)===0||gr(r,s),y=m?$o(r,s):ta(r,s,!0),S=m;do{if(y===0){An&&!m&&Or(r,s,0,!1);break}else{if(d=r.current.alternate,S&&!Hr(d)){y=ta(r,s,!1),S=!1;continue}if(y===2){if(S=s,r.errorRecoveryDisabledLanes&S)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var L=r;y=el;var I=L.current.memoizedState.isDehydrated;if(I&&(il(L,D).flags|=256),D=ta(L,D,!1),D!==2){if(_c&&!I){L.errorRecoveryDisabledLanes|=S,Wn|=S,y=4;break e}S=_a,_a=y,S!==null&&(_a===null?_a=S:_a.push.apply(_a,S))}y=D}if(S=!1,y!==2)continue}}if(y===1){il(r,0),Or(r,s,0,!0);break}e:{switch(m=r,S=y,S){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Or(m,s,ba,!za);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Ko+300-dn(),10<y)){if(Or(m,s,ba,!za),jr(m,0,!0)!==0)break e;m.timeoutHandle=Kb(Fd.bind(null,m,d,_a,tl,Xo,s,ba,Wn,Zo,za,S,2,-0,0),y);break e}Fd(m,d,_a,tl,Xo,s,ba,Wn,Zo,za,S,0,-0,0)}}break}while(!0);Je(r)}function Fd(r,s,d,m,y,S,D,L,I,fe,Ee,Re,ve,ye){if(r.timeoutHandle=-1,Re=s.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(g0={stylesheets:null,count:0,unsuspend:nE},o0(s),Re=rE(),Re!==null)){r.cancelPendingCommit=Re(o.bind(null,r,s,S,d,m,y,D,L,I,Ee,1,ve,ye)),Or(r,S,D,!fe);return}o(r,s,S,d,m,y,D,L,I)}function Hr(r){for(var s=r;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],S=y.getSnapshot;y=y.value;try{if(!xr(S(),y))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Or(r,s,d,m){s&=~Rr,s&=~Wn,r.suspendedLanes|=s,r.pingedLanes&=~s,m&&(r.warmLanes|=s),m=r.expirationTimes;for(var y=s;0<y;){var S=31-rn(y),D=1<<S;m[S]=-1,y&=~D}d!==0&&Qr(r,d,s)}function rl(){return(bt&6)===0?(mn(0),!1):!0}function ka(){if(Bt!==null){if(wt===0)var r=Bt.return;else r=Bt,Ei=Ps=null,Uh(r),Uo=null,Va=0,r=Bt;for(;r!==null;)mc(r.alternate,r),r=r.return;Bt=null}}function il(r,s){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,B8(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),ka(),bn=r,Bt=d=xi(r.current,null),Zt=s,wt=0,Xa=null,za=!1,An=gr(r,s),_c=!1,Zo=ba=Rr=Wn=wn=kt=0,_a=el=null,Xo=!1,(s&8)!==0&&(s|=s&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=s;0<m;){var y=31-rn(m),S=1<<y;s|=r[y],m&=~S}return ki=s,wr(),d}function $d(r,s){zt=null,H.H=Bd,s===Gl||s===ql?(s=Mh(),wt=3):s===rg?(s=Mh(),wt=4):wt=s===Bg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xa=s,Bt===null&&(kt=1,Gd(r,ia(s,r.current)))}function Fo(){var r=H.H;return H.H=Bd,r===null?Bd:r}function wc(){var r=H.A;return H.A=Br,r}function Ui(){kt=4,za||(Zt&4194048)!==Zt&&Er.current!==null||(An=!0),(wn&134217727)===0&&(Wn&134217727)===0||bn===null||Or(bn,Zt,ba,!1)}function ta(r,s,d){var m=bt;bt|=2;var y=Fo(),S=wc();(bn!==r||Zt!==s)&&(tl=null,il(r,s)),s=!1;var D=kt;e:do try{if(wt!==0&&Bt!==null){var L=Bt,I=Xa;switch(wt){case 8:ka(),D=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(s=!0);var fe=wt;if(wt=0,Xa=null,Wl(r,L,I,fe),d&&An){D=0;break e}break;default:fe=wt,wt=0,Xa=null,Wl(r,L,I,fe)}}sl(),D=kt;break}catch(Ee){$d(r,Ee)}while(!0);return s&&r.shellSuspendCounter++,Ei=Ps=null,bt=m,H.H=y,H.A=S,Bt===null&&(bn=null,Zt=0,wr()),D}function sl(){for(;Bt!==null;)Qd(Bt)}function $o(r,s){var d=bt;bt|=2;var m=Fo(),y=wc();bn!==r||Zt!==s?(tl=null,Ql=dn()+500,il(r,s)):An=gr(r,s);e:do try{if(wt!==0&&Bt!==null){s=Bt;var S=Xa;t:switch(wt){case 1:wt=0,Xa=null,Wl(r,s,S,1);break;case 2:case 9:if(Vl(S)){wt=0,Xa=null,Wd(s);break}s=function(){wt!==2&&wt!==9||bn!==r||(wt=7),Je(r)},S.then(s,s);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Vl(S)?(wt=0,Xa=null,Wd(s)):(wt=0,Xa=null,Wl(r,s,S,7));break;case 5:var D=null;switch(Bt.tag){case 26:D=Bt.memoizedState;case 5:case 27:var L=Bt;if(!D||s_(D)){wt=0,Xa=null;var I=L.sibling;if(I!==null)Bt=I;else{var fe=L.return;fe!==null?(Bt=fe,ll(fe)):Bt=null}break t}}wt=0,Xa=null,Wl(r,s,S,5);break;case 6:wt=0,Xa=null,Wl(r,s,S,6);break;case 8:ka(),kt=6;break e;default:throw Error(a(462))}}Qo();break}catch(Ee){$d(r,Ee)}while(!0);return Ei=Ps=null,H.H=m,H.A=y,bt=d,Bt!==null?0:(bn=null,Zt=0,wr(),kt)}function Qo(){for(;Bt!==null&&!Ft();)Qd(Bt)}function Qd(r){var s=hc(r.alternate,r,ki);r.memoizedProps=r.pendingProps,s===null?ll(r):Bt=s}function Wd(r){var s=r,d=s.alternate;switch(s.tag){case 15:case 0:s=Yd(d,s,s.pendingProps,s.type,void 0,Zt);break;case 11:s=Yd(d,s,s.pendingProps,s.type.render,s.ref,Zt);break;case 5:Uh(s);default:mc(d,s),s=Bt=wd(s,ki),s=hc(d,s,ki)}r.memoizedProps=r.pendingProps,s===null?ll(r):Bt=s}function Wl(r,s,d,m){Ei=Ps=null,Uh(s),Uo=null,Va=0;var y=s.return;try{if(p1(r,y,s,d,Zt)){kt=1,Gd(r,ia(d,r.current)),Bt=null;return}}catch(S){if(y!==null)throw Bt=y,S;kt=1,Gd(r,ia(d,r.current)),Bt=null;return}s.flags&32768?(Qt||m===1?r=!0:An||(Zt&536870912)!==0?r=!1:(za=r=!0,(m===2||m===9||m===3||m===6)&&(m=Er.current,m!==null&&m.tag===13&&(m.flags|=16384))),Jd(s,r)):ll(s)}function ll(r){var s=r;do{if((s.flags&32768)!==0){Jd(s,za);return}r=s.return;var d=i0(s.alternate,s,ki);if(d!==null){Bt=d;return}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=r}while(s!==null);kt===0&&(kt=5)}function Jd(r,s){do{var d=Cr(r.alternate,r);if(d!==null){d.flags&=32767,Bt=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(r=r.sibling,r!==null)){Bt=r;return}Bt=r=d}while(r!==null);kt=6,Bt=null}function o(r,s,d,m,y,S,D,L,I){r.cancelPendingCommit=null;do A();while(dt!==0);if((bt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(S=s.lanes|s.childLanes,S|=Gu,xl(r,d,S,D,L,I),r===bn&&(Bt=bn=null,Zt=0),Rt=s,Wt=r,Lt=d,un=S,Ka=y,hs=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Gr(oe,function(){return P(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,y=J.p,J.p=2,D=bt,bt|=4;try{v1(r,s,d)}finally{bt=D,J.p=y,H.T=m}}dt=1,c(),g(),b()}}function c(){if(dt===1){dt=0;var r=Wt,s=Rt,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var m=J.p;J.p=2;var y=bt;bt|=4;try{yc(s,r);var S=A1,D=xh(r.containerInfo),L=S.focusedElem,I=S.selectionRange;if(D!==L&&L&&L.ownerDocument&&_h(L.ownerDocument.documentElement,L)){if(I!==null&&jl(L)){var fe=I.start,Ee=I.end;if(Ee===void 0&&(Ee=fe),"selectionStart"in L)L.selectionStart=fe,L.selectionEnd=Math.min(Ee,L.value.length);else{var Re=L.ownerDocument||document,ve=Re&&Re.defaultView||window;if(ve.getSelection){var ye=ve.getSelection(),St=L.textContent.length,mt=Math.min(I.start,St),On=I.end===void 0?mt:Math.min(I.end,St);!ye.extend&&mt>On&&(D=On,On=mt,mt=D);var ie=Wi(L,mt),$=Wi(L,On);if(ie&&$&&(ye.rangeCount!==1||ye.anchorNode!==ie.node||ye.anchorOffset!==ie.offset||ye.focusNode!==$.node||ye.focusOffset!==$.offset)){var ce=Re.createRange();ce.setStart(ie.node,ie.offset),ye.removeAllRanges(),mt>On?(ye.addRange(ce),ye.extend($.node,$.offset)):(ce.setEnd($.node,$.offset),ye.addRange(ce))}}}}for(Re=[],ye=L;ye=ye.parentNode;)ye.nodeType===1&&Re.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Re.length;L++){var Te=Re[L];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}np=!!T1,A1=T1=null}finally{bt=y,J.p=m,H.T=d}}r.current=s,dt=2}}function g(){if(dt===2){dt=0;var r=Wt,s=Rt,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var m=J.p;J.p=2;var y=bt;bt|=4;try{Vo(r,s.alternate,s)}finally{bt=y,J.p=m,H.T=d}}dt=3}}function b(){if(dt===4||dt===3){dt=0,_n();var r=Wt,s=Rt,d=Lt,m=hs;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dt=5:(dt=0,Rt=Wt=null,E(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(nl=null),Le(d),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Ie,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=H.T,y=J.p,J.p=2,H.T=null;try{for(var S=r.onRecoverableError,D=0;D<m.length;D++){var L=m[D];S(L.value,{componentStack:L.stack})}}finally{H.T=s,J.p=y}}(Lt&3)!==0&&A(),Je(r),y=r.pendingLanes,(d&4194090)!==0&&(y&42)!==0?r===xc?Li++:(Li=0,xc=r):Li=0,mn(0)}}function E(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ei(s)))}function A(r){return c(),g(),b(),P()}function P(){if(dt!==5)return!1;var r=Wt,s=un;un=0;var d=Le(Lt),m=H.T,y=J.p;try{J.p=32>d?32:d,H.T=null,d=Ka,Ka=null;var S=Wt,D=Lt;if(dt=0,Rt=Wt=null,Lt=0,(bt&6)!==0)throw Error(a(331));var L=bt;if(bt|=4,Io(S.current),Yo(S,S.current,D,d),bt=L,mn(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Ie,S)}catch{}return!0}finally{J.p=y,H.T=m,E(r,s)}}function X(r,s,d){s=ia(d,s),s=Bo(r.stateNode,s,2),r=qa(r,s,2),r!==null&&(vr(r,2),Je(r))}function se(r,s,d){if(r.tag===3)X(r,r,d);else for(;s!==null;){if(s.tag===3){X(s,r,d);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(nl===null||!nl.has(m))){r=ia(d,r),d=dc(2),m=qa(s,d,2),m!==null&&(qd(d,m,s,r),vr(m,2),Je(m));break}}s=s.return}}function je(r,s,d){var m=r.pingCache;if(m===null){m=r.pingCache=new zi;var y=new Set;m.set(s,y)}else y=m.get(s),y===void 0&&(y=new Set,m.set(s,y));y.has(d)||(_c=!0,y.add(d),r=Be.bind(null,r,s,d),s.then(r,r))}function Be(r,s,d){var m=r.pingCache;m!==null&&m.delete(s),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,bn===r&&(Zt&d)===d&&(kt===4||kt===3&&(Zt&62914560)===Zt&&300>dn()-Ko?(bt&2)===0&&il(r,0):Rr|=d,Zo===Zt&&(Zo=0)),Je(r)}function Xe(r,s){s===0&&(s=$r()),r=_i(r,s),r!==null&&(vr(r,s),Je(r))}function Ke(r){var s=r.memoizedState,d=0;s!==null&&(d=s.retryLane),Xe(r,d)}function Nt(r,s){var d=0;switch(r.tag){case 13:var m=r.stateNode,y=r.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(s),Xe(r,d)}function Gr(r,s){return yt(r,s)}var ol=null,qr=null,me=!1,re=!1,be=!1,De=0;function Je(r){r!==qr&&r.next===null&&(qr===null?ol=qr=r:qr=qr.next=r),re=!0,me||(me=!0,y1())}function mn(r,s){if(!be&&re){be=!0;do for(var d=!1,m=ol;m!==null;){if(r!==0){var y=m.pendingLanes;if(y===0)var S=0;else{var D=m.suspendedLanes,L=m.pingedLanes;S=(1<<31-rn(42|r)+1)-1,S&=y&~(D&~L),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,ms(m,S))}else S=Zt,S=jr(m,m===bn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||gr(m,S)||(d=!0,ms(m,S));m=m.next}while(d);be=!1}}function gt(){Jt()}function Jt(){re=me=!1;var r=0;De!==0&&(P8()&&(r=De),De=0);for(var s=dn(),d=null,m=ol;m!==null;){var y=m.next,S=na(m,s);S===0?(m.next=null,d===null?ol=y:d.next=y,y===null&&(qr=d)):(d=m,(r!==0||(S&3)!==0)&&(re=!0)),m=y}mn(r)}function na(r,s){for(var d=r.suspendedLanes,m=r.pingedLanes,y=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var D=31-rn(S),L=1<<D,I=y[D];I===-1?((L&d)===0||(L&m)!==0)&&(y[D]=pr(L,s)):I<=s&&(r.expiredLanes|=L),S&=~L}if(s=bn,d=Zt,d=jr(r,r===s?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,d===0||r===s&&(wt===2||wt===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&At(m),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||gr(r,d)){if(s=d&-d,s===r.callbackPriority)return s;switch(m!==null&&At(m),Le(d)){case 2:case 8:d=Z;break;case 32:d=oe;break;case 268435456:d=Ue;break;default:d=oe}return m=en.bind(null,r),d=yt(d,m),r.callbackPriority=s,r.callbackNode=d,s}return m!==null&&m!==null&&At(m),r.callbackPriority=2,r.callbackNode=null,2}function en(r,s){if(dt!==0&&dt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(A()&&r.callbackNode!==d)return null;var m=Zt;return m=jr(r,r===bn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(al(r,m,s),na(r,dn()),r.callbackNode!=null&&r.callbackNode===d?en.bind(null,r):null)}function ms(r,s){if(A())return null;al(r,s,!0)}function y1(){H8(function(){(bt&6)!==0?yt($a,gt):Jt()})}function b1(){return De===0&&(De=gi()),De}function Bb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:td(""+r)}function Hb(r,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,r.id&&d.setAttribute("form",r.id),s.parentNode.insertBefore(d,s),r=new FormData(r),d.parentNode.removeChild(d),r}function j8(r,s,d,m,y){if(s==="submit"&&d&&d.stateNode===y){var S=Bb((y[Ae]||null).action),D=m.submitter;D&&(s=(s=D[Ae]||null)?Bb(s.formAction):D.getAttribute("formAction"),s!==null&&(S=s,D=null));var L=new zu("action","action",null,m,y);r.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(De!==0){var I=D?Hb(y,D):new FormData(y);Fh(d,{pending:!0,data:I,method:y.method,action:S},null,I)}}else typeof S=="function"&&(L.preventDefault(),I=D?Hb(y,D):new FormData(y),Fh(d,{pending:!0,data:I,method:y.method,action:S},S,I))},currentTarget:y}]})}}for(var _1=0;_1<Ra.length;_1++){var x1=Ra[_1],M8=x1.toLowerCase(),D8=x1[0].toUpperCase()+x1.slice(1);zr(M8,"on"+D8)}zr(wh,"onAnimationEnd"),zr(Dr,"onAnimationIteration"),zr(xd,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(eg,"onTransitionRun"),zr(c1,"onTransitionStart"),zr(Sh,"onTransitionCancel"),zr(Aa,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var c0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(c0));function Gb(r,s){s=(s&4)!==0;for(var d=0;d<r.length;d++){var m=r[d],y=m.event;m=m.listeners;e:{var S=void 0;if(s)for(var D=m.length-1;0<=D;D--){var L=m[D],I=L.instance,fe=L.currentTarget;if(L=L.listener,I!==S&&y.isPropagationStopped())break e;S=L,y.currentTarget=fe;try{S(y)}catch(Ee){us(Ee)}y.currentTarget=null,S=I}else for(D=0;D<m.length;D++){if(L=m[D],I=L.instance,fe=L.currentTarget,L=L.listener,I!==S&&y.isPropagationStopped())break e;S=L,y.currentTarget=fe;try{S(y)}catch(Ee){us(Ee)}y.currentTarget=null,S=I}}}}function Xt(r,s){var d=s[et];d===void 0&&(d=s[et]=new Set);var m=r+"__bubble";d.has(m)||(qb(s,r,2,!1),d.add(m))}function w1(r,s,d){var m=0;s&&(m|=4),qb(d,r,m,s)}var Xg="_reactListening"+Math.random().toString(36).slice(2);function S1(r){if(!r[Xg]){r[Xg]=!0,pn.forEach(function(d){d!=="selectionchange"&&(z8.has(d)||w1(d,!1,r),w1(d,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Xg]||(s[Xg]=!0,w1("selectionchange",!1,s))}}function qb(r,s,d,m){switch(f_(s)){case 2:var y=lE;break;case 8:y=oE;break;default:y=U1}d=y.bind(null,s,d,r),y=void 0,!ad||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),m?y!==void 0?r.addEventListener(s,d,{capture:!0,passive:y}):r.addEventListener(s,d,!0):y!==void 0?r.addEventListener(s,d,{passive:y}):r.addEventListener(s,d,!1)}function E1(r,s,d,m,y){var S=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var L=m.stateNode.containerInfo;if(L===y)break;if(D===4)for(D=m.return;D!==null;){var I=D.tag;if((I===3||I===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;L!==null;){if(D=$e(L),D===null)return;if(I=D.tag,I===5||I===6||I===26||I===27){m=S=D;continue e}L=L.parentNode}}m=m.return}oh(function(){var fe=S,Ee=Os(d),Re=[];e:{var ve=Eh.get(r);if(ve!==void 0){var ye=zu,St=r;switch(r){case"keypress":if(bo(d)===0)break e;case"keydown":case"keyup":ye=ud;break;case"focusin":St="focus",ye=Al;break;case"focusout":St="blur",ye=Al;break;case"beforeblur":case"afterblur":ye=Al;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Ym;break;case wh:case Dr:case xd:ye=Pm;break;case Aa:ye=va;break;case"scroll":case"scrollend":ye=s1;break;case"wheel":ye=Zm;break;case"copy":case"cut":case"paste":ye=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=cd;break;case"toggle":case"beforetoggle":ye=Km}var mt=(s&4)!==0,On=!mt&&(r==="scroll"||r==="scrollend"),ie=mt?ve!==null?ve+"Capture":null:ve;mt=[];for(var $=fe,ce;$!==null;){var Te=$;if(ce=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ce===null||ie===null||(Te=vo($,ie),Te!=null&&mt.push(d0($,Te,ce))),On)break;$=$.return}0<mt.length&&(ve=new ye(ve,St,null,d,Ee),Re.push({event:ve,listeners:mt}))}}if((s&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",ve&&d!==nd&&(St=d.relatedTarget||d.fromElement)&&($e(St)||St[He]))break e;if((ye||ve)&&(ve=Ee.window===Ee?Ee:(ve=Ee.ownerDocument)?ve.defaultView||ve.parentWindow:window,ye?(St=d.relatedTarget||d.toElement,ye=fe,St=St?$e(St):null,St!==null&&(On=l(St),mt=St.tag,St!==On||mt!==5&&mt!==27&&mt!==6)&&(St=null)):(ye=null,St=fe),ye!==St)){if(mt=ku,Te="onMouseLeave",ie="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(mt=cd,Te="onPointerLeave",ie="onPointerEnter",$="pointer"),On=ye==null?ve:sn(ye),ce=St==null?ve:sn(St),ve=new mt(Te,$+"leave",ye,d,Ee),ve.target=On,ve.relatedTarget=ce,Te=null,$e(Ee)===fe&&(mt=new mt(ie,$+"enter",St,d,Ee),mt.target=ce,mt.relatedTarget=On,Te=mt),On=Te,ye&&St)t:{for(mt=ye,ie=St,$=0,ce=mt;ce;ce=ef(ce))$++;for(ce=0,Te=ie;Te;Te=ef(Te))ce++;for(;0<$-ce;)mt=ef(mt),$--;for(;0<ce-$;)ie=ef(ie),ce--;for(;$--;){if(mt===ie||ie!==null&&mt===ie.alternate)break t;mt=ef(mt),ie=ef(ie)}mt=null}else mt=null;ye!==null&&Vb(Re,ve,ye,mt,!1),St!==null&&On!==null&&Vb(Re,On,St,mt,!0)}}e:{if(ve=fe?sn(fe):window,ye=ve.nodeName&&ve.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ve.type==="file")var tt=ar;else if(md(ve))if(yh)tt=Bn;else{tt=yd;var qt=Wm}else ye=ve.nodeName,!ye||ye.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?fe&&ed(fe.elementType)&&(tt=ar):tt=Pu;if(tt&&(tt=tt(r,fe))){vh(Re,tt,d,Ee);break e}qt&&qt(r,ve,fe),r==="focusout"&&fe&&ve.type==="number"&&fe.memoizedProps.value!=null&&Jc(ve,"number",ve.value)}switch(qt=fe?sn(fe):window,r){case"focusin":(md(qt)||qt.contentEditable==="true")&&(Ml=qt,Bu=fe,Co=null);break;case"focusout":Co=Bu=Ml=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,bd(Re,d,Ee);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":bd(Re,d,Ee)}var ut;if(wo)e:{switch(r){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else js?fd(r,d)&&(pt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(pt="onCompositionStart");pt&&(hh&&d.locale!=="ko"&&(js||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&js&&(ut=uh()):(Xi=Ee,ju="value"in Xi?Xi.value:Xi.textContent,js=!0)),qt=Kg(fe,pt),0<qt.length&&(pt=new $i(pt,r,null,d,Ee),Re.push({event:pt,listeners:qt}),ut?pt.data=ut:(ut=gh(d),ut!==null&&(pt.data=ut)))),(ut=$m?hd(r,d):ph(r,d))&&(pt=Kg(fe,"onBeforeInput"),0<pt.length&&(qt=new $i("onBeforeInput","beforeinput",null,d,Ee),Re.push({event:qt,listeners:pt}),qt.data=ut)),j8(Re,r,fe,d,Ee)}Gb(Re,s)})}function d0(r,s,d){return{instance:r,listener:s,currentTarget:d}}function Kg(r,s){for(var d=s+"Capture",m=[];r!==null;){var y=r,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=vo(r,d),y!=null&&m.unshift(d0(r,y,S)),y=vo(r,s),y!=null&&m.push(d0(r,y,S))),r.tag===3)return m;r=r.return}return[]}function ef(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vb(r,s,d,m,y){for(var S=s._reactName,D=[];d!==null&&d!==m;){var L=d,I=L.alternate,fe=L.stateNode;if(L=L.tag,I!==null&&I===m)break;L!==5&&L!==26&&L!==27||fe===null||(I=fe,y?(fe=vo(d,S),fe!=null&&D.unshift(d0(d,fe,I))):y||(fe=vo(d,S),fe!=null&&D.push(d0(d,fe,I)))),d=d.return}D.length!==0&&r.push({event:s,listeners:D})}var k8=/\r\n?/g,L8=/\u0000|\uFFFD/g;function Yb(r){return(typeof r=="string"?r:""+r).replace(k8,`
`).replace(L8,"")}function Ib(r,s){return s=Yb(s),Yb(r)===s}function Fg(){}function Rn(r,s,d,m,y,S){switch(d){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||El(r,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&El(r,""+m);break;case"className":Wr(r,"class",m);break;case"tabIndex":Wr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(r,d,m);break;case"style":lh(r,m,S);break;case"data":if(s!=="object"){Wr(r,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||d!=="href")){r.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=td(""+m),r.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(s!=="input"&&Rn(r,s,"name",y.name,y,null),Rn(r,s,"formEncType",y.formEncType,y,null),Rn(r,s,"formMethod",y.formMethod,y,null),Rn(r,s,"formTarget",y.formTarget,y,null)):(Rn(r,s,"encType",y.encType,y,null),Rn(r,s,"method",y.method,y,null),Rn(r,s,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=td(""+m),r.setAttribute(d,m);break;case"onClick":m!=null&&(r.onclick=Fg);break;case"onScroll":m!=null&&Xt("scroll",r);break;case"onScrollEnd":m!=null&&Xt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}d=td(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""+m):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":m===!0?r.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,m):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(d,m):r.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(d):r.setAttribute(d,m);break;case"popover":Xt("beforetoggle",r),Xt("toggle",r),nr(r,"popover",m);break;case"xlinkActuate":Ta(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ta(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ta(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ta(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ta(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ta(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":nr(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=zm.get(d)||d,nr(r,d,m))}}function C1(r,s,d,m,y,S){switch(d){case"style":lh(r,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"children":typeof m=="string"?El(r,m):(typeof m=="number"||typeof m=="bigint")&&El(r,""+m);break;case"onScroll":m!=null&&Xt("scroll",r);break;case"onScrollEnd":m!=null&&Xt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Fg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),s=d.slice(2,y?d.length-7:void 0),S=r[Ae]||null,S=S!=null?S[d]:null,typeof S=="function"&&r.removeEventListener(s,S,y),typeof m=="function")){typeof S!="function"&&S!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(s,m,y);break e}d in r?r[d]=m:m===!0?r.setAttribute(d,""):nr(r,d,m)}}}function Fa(r,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",r),Xt("load",r);var m=!1,y=!1,S;for(S in d)if(d.hasOwnProperty(S)){var D=d[S];if(D!=null)switch(S){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Rn(r,s,S,D,d,null)}}y&&Rn(r,s,"srcSet",d.srcSet,d,null),m&&Rn(r,s,"src",d.src,d,null);return;case"input":Xt("invalid",r);var L=S=D=y=null,I=null,fe=null;for(m in d)if(d.hasOwnProperty(m)){var Ee=d[m];if(Ee!=null)switch(m){case"name":y=Ee;break;case"type":D=Ee;break;case"checked":I=Ee;break;case"defaultChecked":fe=Ee;break;case"value":S=Ee;break;case"defaultValue":L=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(a(137,s));break;default:Rn(r,s,m,Ee,d,null)}}Wc(r,S,L,I,fe,D,y,!1),Ru(r);return;case"select":Xt("invalid",r),m=D=S=null;for(y in d)if(d.hasOwnProperty(y)&&(L=d[y],L!=null))switch(y){case"value":S=L;break;case"defaultValue":D=L;break;case"multiple":m=L;default:Rn(r,s,y,L,d,null)}s=S,d=D,r.multiple=!!m,s!=null?po(r,!!m,s,!1):d!=null&&po(r,!!m,d,!0);return;case"textarea":Xt("invalid",r),S=y=m=null;for(D in d)if(d.hasOwnProperty(D)&&(L=d[D],L!=null))switch(D){case"value":m=L;break;case"defaultValue":y=L;break;case"children":S=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:Rn(r,s,D,L,d,null)}rh(r,m,y,S),Ru(r);return;case"option":for(I in d)if(d.hasOwnProperty(I)&&(m=d[I],m!=null))switch(I){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Rn(r,s,I,m,d,null)}return;case"dialog":Xt("beforetoggle",r),Xt("toggle",r),Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":Xt("load",r);break;case"video":case"audio":for(m=0;m<c0.length;m++)Xt(c0[m],r);break;case"image":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"embed":case"source":case"link":Xt("error",r),Xt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in d)if(d.hasOwnProperty(fe)&&(m=d[fe],m!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Rn(r,s,fe,m,d,null)}return;default:if(ed(s)){for(Ee in d)d.hasOwnProperty(Ee)&&(m=d[Ee],m!==void 0&&C1(r,s,Ee,m,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(m=d[L],m!=null&&Rn(r,s,L,m,d,null))}function U8(r,s,d,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,D=null,L=null,I=null,fe=null,Ee=null;for(ye in d){var Re=d[ye];if(d.hasOwnProperty(ye)&&Re!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":I=Re;default:m.hasOwnProperty(ye)||Rn(r,s,ye,null,m,Re)}}for(var ve in m){var ye=m[ve];if(Re=d[ve],m.hasOwnProperty(ve)&&(ye!=null||Re!=null))switch(ve){case"type":S=ye;break;case"name":y=ye;break;case"checked":fe=ye;break;case"defaultChecked":Ee=ye;break;case"value":D=ye;break;case"defaultValue":L=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,s));break;default:ye!==Re&&Rn(r,s,ve,ye,m,Re)}}Qc(r,D,L,I,fe,Ee,S,y);return;case"select":ye=D=L=ve=null;for(S in d)if(I=d[S],d.hasOwnProperty(S)&&I!=null)switch(S){case"value":break;case"multiple":ye=I;default:m.hasOwnProperty(S)||Rn(r,s,S,null,m,I)}for(y in m)if(S=m[y],I=d[y],m.hasOwnProperty(y)&&(S!=null||I!=null))switch(y){case"value":ve=S;break;case"defaultValue":L=S;break;case"multiple":D=S;default:S!==I&&Rn(r,s,y,S,m,I)}s=L,d=D,m=ye,ve!=null?po(r,!!d,ve,!1):!!m!=!!d&&(s!=null?po(r,!!d,s,!0):po(r,!!d,d?[]:"",!1));return;case"textarea":ye=ve=null;for(L in d)if(y=d[L],d.hasOwnProperty(L)&&y!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Rn(r,s,L,null,m,y)}for(D in m)if(y=m[D],S=d[D],m.hasOwnProperty(D)&&(y!=null||S!=null))switch(D){case"value":ve=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==S&&Rn(r,s,D,y,m,S)}ah(r,ve,ye);return;case"option":for(var St in d)if(ve=d[St],d.hasOwnProperty(St)&&ve!=null&&!m.hasOwnProperty(St))switch(St){case"selected":r.selected=!1;break;default:Rn(r,s,St,null,m,ve)}for(I in m)if(ve=m[I],ye=d[I],m.hasOwnProperty(I)&&ve!==ye&&(ve!=null||ye!=null))switch(I){case"selected":r.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:Rn(r,s,I,ve,m,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in d)ve=d[mt],d.hasOwnProperty(mt)&&ve!=null&&!m.hasOwnProperty(mt)&&Rn(r,s,mt,null,m,ve);for(fe in m)if(ve=m[fe],ye=d[fe],m.hasOwnProperty(fe)&&ve!==ye&&(ve!=null||ye!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(a(137,s));break;default:Rn(r,s,fe,ve,m,ye)}return;default:if(ed(s)){for(var On in d)ve=d[On],d.hasOwnProperty(On)&&ve!==void 0&&!m.hasOwnProperty(On)&&C1(r,s,On,void 0,m,ve);for(Ee in m)ve=m[Ee],ye=d[Ee],!m.hasOwnProperty(Ee)||ve===ye||ve===void 0&&ye===void 0||C1(r,s,Ee,ve,m,ye);return}}for(var ie in d)ve=d[ie],d.hasOwnProperty(ie)&&ve!=null&&!m.hasOwnProperty(ie)&&Rn(r,s,ie,null,m,ve);for(Re in m)ve=m[Re],ye=d[Re],!m.hasOwnProperty(Re)||ve===ye||ve==null&&ye==null||Rn(r,s,Re,ve,m,ye)}var T1=null,A1=null;function $g(r){return r.nodeType===9?r:r.ownerDocument}function Zb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function R1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var O1=null;function P8(){var r=window.event;return r&&r.type==="popstate"?r===O1?!1:(O1=r,!0):(O1=null,!1)}var Kb=typeof setTimeout=="function"?setTimeout:void 0,B8=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,H8=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(r){return Fb.resolve(null).then(r).catch(G8)}:Kb;function G8(r){setTimeout(function(){throw r})}function Wo(r){return r==="head"}function $b(r,s){var d=s,m=0,y=0;do{var S=d.nextSibling;if(r.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(0<m&&8>m){d=m;var D=r.ownerDocument;if(d&1&&f0(D.documentElement),d&2&&f0(D.body),d&4)for(d=D.head,f0(d),D=d.firstChild;D;){var L=D.nextSibling,I=D.nodeName;D[it]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=L}}if(y===0){r.removeChild(S),_0(s);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:m=d.charCodeAt(0)-48;else m=0;d=S}while(d);_0(s)}function N1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":N1(d),at(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function q8(r,s,d,m){for(;r.nodeType===1;){var y=d;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[it])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=gs(r.nextSibling),r===null)break}return null}function V8(r,s,d){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=gs(r.nextSibling),r===null))return null;return r}function j1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Y8(r,s){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")s();else{var m=function(){s(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function gs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var M1=null;function Qb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return r;s--}else d==="/$"&&s++}r=r.previousSibling}return null}function Wb(r,s,d){switch(s=$g(d),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function f0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);at(r)}var Pi=new Map,Jb=new Set;function Qg(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Jl=J.d;J.d={f:I8,r:Z8,D:X8,C:K8,L:F8,m:$8,X:W8,S:Q8,M:J8};function I8(){var r=Jl.f(),s=rl();return r||s}function Z8(r){var s=Tt(r);s!==null&&s.tag===5&&s.type==="form"?Ng(s):Jl.r(r)}var tf=typeof document>"u"?null:document;function e_(r,s,d){var m=tf;if(m&&typeof s=="string"&&s){var y=br(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),Jb.has(y)||(Jb.add(y),r={rel:r,crossOrigin:d,href:s},m.querySelector(y)===null&&(s=m.createElement("link"),Fa(s,"link",r),Vt(s),m.head.appendChild(s)))}}function X8(r){Jl.D(r),e_("dns-prefetch",r,null)}function K8(r,s){Jl.C(r,s),e_("preconnect",r,s)}function F8(r,s,d){Jl.L(r,s,d);var m=tf;if(m&&r&&s){var y='link[rel="preload"][as="'+br(s)+'"]';s==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+br(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+br(d.imageSizes)+'"]')):y+='[href="'+br(r)+'"]';var S=y;switch(s){case"style":S=nf(r);break;case"script":S=af(r)}Pi.has(S)||(r=v({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:r,as:s},d),Pi.set(S,r),m.querySelector(y)!==null||s==="style"&&m.querySelector(h0(S))||s==="script"&&m.querySelector(m0(S))||(s=m.createElement("link"),Fa(s,"link",r),Vt(s),m.head.appendChild(s)))}}function $8(r,s){Jl.m(r,s);var d=tf;if(d&&r){var m=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+br(m)+'"][href="'+br(r)+'"]',S=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=af(r)}if(!Pi.has(S)&&(r=v({rel:"modulepreload",href:r},s),Pi.set(S,r),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(m0(S)))return}m=d.createElement("link"),Fa(m,"link",r),Vt(m),d.head.appendChild(m)}}}function Q8(r,s,d){Jl.S(r,s,d);var m=tf;if(m&&r){var y=Sn(m).hoistableStyles,S=nf(r);s=s||"default";var D=y.get(S);if(!D){var L={loading:0,preload:null};if(D=m.querySelector(h0(S)))L.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},d),(d=Pi.get(S))&&D1(r,d);var I=D=m.createElement("link");Vt(I),Fa(I,"link",r),I._p=new Promise(function(fe,Ee){I.onload=fe,I.onerror=Ee}),I.addEventListener("load",function(){L.loading|=1}),I.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Wg(D,s,m)}D={type:"stylesheet",instance:D,count:1,state:L},y.set(S,D)}}}function W8(r,s){Jl.X(r,s);var d=tf;if(d&&r){var m=Sn(d).hoistableScripts,y=af(r),S=m.get(y);S||(S=d.querySelector(m0(y)),S||(r=v({src:r,async:!0},s),(s=Pi.get(y))&&z1(r,s),S=d.createElement("script"),Vt(S),Fa(S,"link",r),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(y,S))}}function J8(r,s){Jl.M(r,s);var d=tf;if(d&&r){var m=Sn(d).hoistableScripts,y=af(r),S=m.get(y);S||(S=d.querySelector(m0(y)),S||(r=v({src:r,async:!0,type:"module"},s),(s=Pi.get(y))&&z1(r,s),S=d.createElement("script"),Vt(S),Fa(S,"link",r),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(y,S))}}function t_(r,s,d,m){var y=(y=Ze.current)?Qg(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=nf(d.href),d=Sn(y).hoistableStyles,m=d.get(s),m||(m={type:"style",instance:null,count:0,state:null},d.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=nf(d.href);var S=Sn(y).hoistableStyles,D=S.get(r);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,D),(S=y.querySelector(h0(r)))&&!S._p&&(D.instance=S,D.state.loading=5),Pi.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Pi.set(r,d),S||eE(y,r,d,D.state))),s&&m===null)throw Error(a(528,""));return D}if(s&&m!==null)throw Error(a(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=af(d),d=Sn(y).hoistableScripts,m=d.get(s),m||(m={type:"script",instance:null,count:0,state:null},d.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function nf(r){return'href="'+br(r)+'"'}function h0(r){return'link[rel="stylesheet"]['+r+"]"}function n_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function eE(r,s,d,m){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=r.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),Fa(s,"link",d),Vt(s),r.head.appendChild(s))}function af(r){return'[src="'+br(r)+'"]'}function m0(r){return"script[async]"+r}function a_(r,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var m=r.querySelector('style[data-href~="'+br(d.href)+'"]');if(m)return s.instance=m,Vt(m),m;var y=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),Vt(m),Fa(m,"style",y),Wg(m,d.precedence,r),s.instance=m;case"stylesheet":y=nf(d.href);var S=r.querySelector(h0(y));if(S)return s.state.loading|=4,s.instance=S,Vt(S),S;m=n_(d),(y=Pi.get(y))&&D1(m,y),S=(r.ownerDocument||r).createElement("link"),Vt(S);var D=S;return D._p=new Promise(function(L,I){D.onload=L,D.onerror=I}),Fa(S,"link",m),s.state.loading|=4,Wg(S,d.precedence,r),s.instance=S;case"script":return S=af(d.src),(y=r.querySelector(m0(S)))?(s.instance=y,Vt(y),y):(m=d,(y=Pi.get(S))&&(m=v({},d),z1(m,y)),r=r.ownerDocument||r,y=r.createElement("script"),Vt(y),Fa(y,"link",m),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Wg(m,d.precedence,r));return s.instance}function Wg(r,s,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,S=y,D=0;D<m.length;D++){var L=m[D];if(L.dataset.precedence===s)S=L;else if(S!==y)break}S?S.parentNode.insertBefore(r,S.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(r,s.firstChild))}function D1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function z1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Jg=null;function r_(r,s,d){if(Jg===null){var m=new Map,y=Jg=new Map;y.set(d,m)}else y=Jg,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(r))return m;for(m.set(r,null),d=d.getElementsByTagName(r),y=0;y<d.length;y++){var S=d[y];if(!(S[it]||S[te]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(s)||"";D=r+D;var L=m.get(D);L?L.push(S):m.set(D,[S])}}return m}function i_(r,s,d){r=r.ownerDocument||r,r.head.insertBefore(d,s==="title"?r.querySelector("head > title"):null)}function tE(r,s,d){if(d===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function s_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var g0=null;function nE(){}function aE(r,s,d){if(g0===null)throw Error(a(475));var m=g0;if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=nf(d.href),S=r.querySelector(h0(y));if(S){r=S._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=ep.bind(m),r.then(m,m)),s.state.loading|=4,s.instance=S,Vt(S);return}S=r.ownerDocument||r,d=n_(d),(y=Pi.get(y))&&D1(d,y),S=S.createElement("link"),Vt(S);var D=S;D._p=new Promise(function(L,I){D.onload=L,D.onerror=I}),Fa(S,"link",d),s.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(m.count++,s=ep.bind(m),r.addEventListener("load",s),r.addEventListener("error",s))}}function rE(){if(g0===null)throw Error(a(475));var r=g0;return r.stylesheets&&r.count===0&&k1(r,r.stylesheets),0<r.count?function(s){var d=setTimeout(function(){if(r.stylesheets&&k1(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(d)}}:null}function ep(){if(this.count--,this.count===0){if(this.stylesheets)k1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var tp=null;function k1(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,tp=new Map,s.forEach(iE,r),tp=null,ep.call(r))}function iE(r,s){if(!(s.state.loading&4)){var d=tp.get(r);if(d)var m=d.get(null);else{d=new Map,tp.set(r,d);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var D=y[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),m=D)}m&&d.set(null,m)}y=s.instance,D=y.getAttribute("data-precedence"),S=d.get(D)||m,S===m&&d.set(null,y),d.set(D,y),this.count++,m=ep.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),S?S.parentNode.insertBefore(y,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var p0={$$typeof:z,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function sE(r,s,d,m,y,S,D,L){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function l_(r,s,d,m,y,S,D,L,I,fe,Ee,Re){return r=new sE(r,s,d,D,L,I,fe,Re),s=1,S===!0&&(s|=24),S=rr(3,null,null,s),r.current=S,S.stateNode=r,s=No(),s.refCount++,r.pooledCache=s,s.refCount++,S.memoizedState={element:m,isDehydrated:d,cache:s},$u(S),r}function o_(r){return r?(r=zl,r):zl}function u_(r,s,d,m,y,S){y=o_(y),m.context===null?m.context=y:m.pendingContext=y,m=Ai(s),m.payload={element:d},S=S===void 0?null:S,S!==null&&(m.callback=S),d=qa(r,m,s),d!==null&&(Jn(d,r,s),Yl(d,r,s))}function c_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<s?d:s}}function L1(r,s){c_(r,s),(r=r.alternate)&&c_(r,s)}function d_(r){if(r.tag===13){var s=_i(r,67108864);s!==null&&Jn(s,r,67108864),L1(r,67108864)}}var np=!0;function lE(r,s,d,m){var y=H.T;H.T=null;var S=J.p;try{J.p=2,U1(r,s,d,m)}finally{J.p=S,H.T=y}}function oE(r,s,d,m){var y=H.T;H.T=null;var S=J.p;try{J.p=8,U1(r,s,d,m)}finally{J.p=S,H.T=y}}function U1(r,s,d,m){if(np){var y=P1(m);if(y===null)E1(r,s,m,ap,d),h_(r,m);else if(cE(y,r,s,d,m))m.stopPropagation();else if(h_(r,m),s&4&&-1<uE.indexOf(r)){for(;y!==null;){var S=Tt(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=ga(S.pendingLanes);if(D!==0){var L=S;for(L.pendingLanes|=2,L.entangledLanes|=2;D;){var I=1<<31-rn(D);L.entanglements[1]|=I,D&=~I}Je(S),(bt&6)===0&&(Ql=dn()+500,mn(0))}}break;case 13:L=_i(S,2),L!==null&&Jn(L,S,2),rl(),L1(S,2)}if(S=P1(m),S===null&&E1(r,s,m,ap,d),S===y)break;y=S}y!==null&&m.stopPropagation()}else E1(r,s,m,null,d)}}function P1(r){return r=Os(r),B1(r)}var ap=null;function B1(r){if(ap=null,r=$e(r),r!==null){var s=l(r);if(s===null)r=null;else{var d=s.tag;if(d===13){if(r=u(s),r!==null)return r;r=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ap=r,null}function f_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case $a:return 2;case Z:return 8;case oe:case pe:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var H1=!1,Jo=null,eu=null,tu=null,v0=new Map,y0=new Map,nu=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(r,s){switch(r){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":eu=null;break;case"mouseover":case"mouseout":tu=null;break;case"pointerover":case"pointerout":v0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":y0.delete(s.pointerId)}}function b0(r,s,d,m,y,S){return r===null||r.nativeEvent!==S?(r={blockedOn:s,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[y]},s!==null&&(s=Tt(s),s!==null&&d_(s)),r):(r.eventSystemFlags|=m,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function cE(r,s,d,m,y){switch(s){case"focusin":return Jo=b0(Jo,r,s,d,m,y),!0;case"dragenter":return eu=b0(eu,r,s,d,m,y),!0;case"mouseover":return tu=b0(tu,r,s,d,m,y),!0;case"pointerover":var S=y.pointerId;return v0.set(S,b0(v0.get(S)||null,r,s,d,m,y)),!0;case"gotpointercapture":return S=y.pointerId,y0.set(S,b0(y0.get(S)||null,r,s,d,m,y)),!0}return!1}function m_(r){var s=$e(r.target);if(s!==null){var d=l(s);if(d!==null){if(s=d.tag,s===13){if(s=u(d),s!==null){r.blockedOn=s,q(r.priority,function(){if(d.tag===13){var m=In();m=xe(m);var y=_i(d,m);y!==null&&Jn(y,d,m),L1(d,m)}});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rp(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var d=P1(r.nativeEvent);if(d===null){d=r.nativeEvent;var m=new d.constructor(d.type,d);nd=m,d.target.dispatchEvent(m),nd=null}else return s=Tt(d),s!==null&&d_(s),r.blockedOn=d,!1;s.shift()}return!0}function g_(r,s,d){rp(r)&&d.delete(s)}function dE(){H1=!1,Jo!==null&&rp(Jo)&&(Jo=null),eu!==null&&rp(eu)&&(eu=null),tu!==null&&rp(tu)&&(tu=null),v0.forEach(g_),y0.forEach(g_)}function ip(r,s){r.blockedOn===s&&(r.blockedOn=null,H1||(H1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dE)))}var sp=null;function p_(r){sp!==r&&(sp=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sp===r&&(sp=null);for(var s=0;s<r.length;s+=3){var d=r[s],m=r[s+1],y=r[s+2];if(typeof m!="function"){if(B1(m||d)===null)continue;break}var S=Tt(d);S!==null&&(r.splice(s,3),s-=3,Fh(S,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function _0(r){function s(I){return ip(I,r)}Jo!==null&&ip(Jo,r),eu!==null&&ip(eu,r),tu!==null&&ip(tu,r),v0.forEach(s),y0.forEach(s);for(var d=0;d<nu.length;d++){var m=nu[d];m.blockedOn===r&&(m.blockedOn=null)}for(;0<nu.length&&(d=nu[0],d.blockedOn===null);)m_(d),d.blockedOn===null&&nu.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],S=d[m+1],D=y[Ae]||null;if(typeof S=="function")D||p_(d);else if(D){var L=null;if(S&&S.hasAttribute("formAction")){if(y=S,D=S[Ae]||null)L=D.formAction;else if(B1(y)!==null)continue}else L=D.action;typeof L=="function"?d[m+1]=L:(d.splice(m,3),m-=3),p_(d)}}}function G1(r){this._internalRoot=r}lp.prototype.render=G1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var d=s.current,m=In();u_(d,m,r,s,null,null)},lp.prototype.unmount=G1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;u_(r.current,2,null,r,null,null),rl(),s[He]=null}};function lp(r){this._internalRoot=r}lp.prototype.unstable_scheduleHydration=function(r){if(r){var s=xt();r={blockedOn:null,target:r,priority:s};for(var d=0;d<nu.length&&s!==0&&s<nu[d].priority;d++);nu.splice(d,0,r),d===0&&m_(r)}};var v_=e.version;if(v_!=="19.1.1")throw Error(a(527,v_,"19.1.1"));J.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var fE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{Ie=op.inject(fE),Qe=op}catch{}}return w0.createRoot=function(r,s){if(!i(r))throw Error(a(299));var d=!1,m="",y=Xl,S=cr,D=Pg,L=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks)),s=l_(r,1,!1,null,null,d,m,y,S,D,L,null),r[He]=s.current,S1(r),new G1(s)},w0.hydrateRoot=function(r,s,d){if(!i(r))throw Error(a(299));var m=!1,y="",S=Xl,D=cr,L=Pg,I=null,fe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(I=d.unstable_transitionCallbacks),d.formState!==void 0&&(fe=d.formState)),s=l_(r,1,!0,s,d??null,m,y,S,D,L,I,fe),s.context=o_(null),d=s.current,m=In(),m=xe(m),y=Ai(m),y.callback=null,qa(d,y,m),d=m,s.current.lanes=d,vr(s,d),Je(s),r[He]=s.current,S1(r),new lp(s)},w0.version="19.1.1",w0}var A_;function wE(){if(A_)return V1.exports;A_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),V1.exports=xE(),V1.exports}var U5=wE();const SE=pm(U5);var N=vm();const Oe=pm(N),P5=mE({__proto__:null,default:Oe},[N]);var B5=t=>{throw TypeError(t)},EE=(t,e,n)=>e.has(t)||B5("Cannot "+n),K1=(t,e,n)=>(EE(t,e,"read from private field"),n?n.call(t):e.get(t)),CE=(t,e,n)=>e.has(t)?B5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),R_="popstate";function TE(t={}){function e(i,l){let{pathname:u="/",search:f="",hash:h=""}=oo(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),tm("",{pathname:u,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");f=p===-1?h:h.slice(0,p)}return f+"#"+(typeof l=="string"?l:gu(l))}function a(i,l){ra(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return RE(e,n,a,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ra(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AE(){return Math.random().toString(36).substring(2,10)}function O_(t,e){return{usr:t.state,key:t.key,idx:e}}function tm(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oo(e):e,state:n,key:e&&e.key||a||AE()}}function gu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function RE(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,f="POP",h=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let O=v(),j=O==null?null:O-p;p=O,h&&h({action:f,location:R.location,delta:j})}function x(O,j){f="PUSH";let M=tm(R.location,O,j);n&&n(M,O),p=v()+1;let z=O_(M,p),k=R.createHref(M);try{u.pushState(z,"",k)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(k)}l&&h&&h({action:f,location:R.location,delta:1})}function C(O,j){f="REPLACE";let M=tm(R.location,O,j);n&&n(M,O),p=v();let z=O_(M,p),k=R.createHref(M);u.replaceState(z,"",k),l&&h&&h({action:f,location:R.location,delta:0})}function T(O){return H5(O)}let R={get action(){return f},get location(){return t(i,u)},listen(O){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(R_,_),h=O,()=>{i.removeEventListener(R_,_),h=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let j=T(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:C,go(O){return u.go(O)}};return R}function H5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:gu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var P0,N_=class{constructor(t){if(CE(this,P0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(K1(this,P0).has(t))return K1(this,P0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){K1(this,P0).set(t,e)}};P0=new WeakMap;var OE=new Set(["lazy","caseSensitive","path","id","index","children"]);function NE(t){return OE.has(t)}var jE=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function ME(t){return jE.has(t)}function DE(t){return t.index===!0}function nm(t,e,n=[],a={},i=!1){return t.map((l,u)=>{let f=[...n,String(u)],h=typeof l.id=="string"?l.id:f.join("-");if(Kt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Kt(i||!a[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),DE(l)){let p={...l,...e(l),id:h};return a[h]=p,p}else{let p={...l,...e(l),id:h,children:void 0};return a[h]=p,l.children&&(p.children=nm(l.children,e,f,a,i)),p}})}function cu(t,e,n="/"){return Yp(t,e,n,!1)}function Yp(t,e,n,a){let i=typeof e=="string"?oo(e):e,l=Vi(i.pathname||"/",n);if(l==null)return null;let u=G5(t);kE(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let p=ZE(l);f=YE(u[h],p,a)}return f}function zE(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function G5(t,e=[],n=[],a="",i=!1){let l=(u,f,h=i,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&h)return;Kt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=ml([a,v.relativePath]),x=n.concat(v);u.children&&u.children.length>0&&(Kt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),G5(u.children,e,x,_,h)),!(u.path==null&&!u.index)&&e.push({path:_,score:qE(_,u.index),routesMeta:x})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let h of q5(u.path))l(u,f,!0,h)}),e}function q5(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=q5(a.join("/")),f=[];return f.push(...u.map(h=>h===""?l:[l,h].join("/"))),i&&f.push(...u),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function kE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VE(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var LE=/^:[\w-]+$/,UE=3,PE=2,BE=1,HE=10,GE=-2,j_=t=>t==="*";function qE(t,e){let n=t.split("/"),a=n.length;return n.some(j_)&&(a+=GE),e&&(a+=PE),n.filter(i=>!j_(i)).reduce((i,l)=>i+(LE.test(l)?UE:l===""?BE:HE),a)}function VE(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function YE(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let f=0;f<a.length;++f){let h=a[f],p=f===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=ev({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),x=h.route;if(!_&&p&&n&&!a[a.length-1].route.index&&(_=ev({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:ml([l,_.pathname]),pathnameBase:$E(ml([l,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(l=ml([l,_.pathnameBase]))}return u}function ev(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=IE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:_},x)=>{if(v==="*"){let T=f[x]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=f[x];return _&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function IE(t,e=!1,n=!0){ra(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function ZE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ra(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function XE({basename:t,pathname:e}){return e==="/"?t:ml([t,e])}function KE(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?oo(t):t;return{pathname:n?n.startsWith("/")?n:FE(n,e):e,search:QE(a),hash:WE(i)}}function FE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function F1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N2(t){let e=V5(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function j2(t,e,n,a=!1){let i;typeof t=="string"?i=oo(t):(i={...t},Kt(!i.pathname||!i.pathname.includes("?"),F1("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),F1("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),F1("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),_-=1;i.pathname=x.join("/")}f=_>=0?e[_]:"/"}let h=KE(i,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var ml=t=>t.join("/").replace(/\/\/+/g,"/"),$E=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,tv=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function am(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Y5=["POST","PUT","PATCH","DELETE"],JE=new Set(Y5),e9=["GET",...Y5],t9=new Set(e9),n9=new Set([301,302,303,307,308]),a9=new Set([307,308]),$1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},r9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},S0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},i9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M2=t=>i9.test(t),s9=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),I5="remix-router-transitions",Z5=Symbol("ResetLoaderData");function l9(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Kt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],i=t.mapRouteProperties||s9,l={},u=nm(t.routes,i,void 0,l),f,h=t.basename||"/";h.startsWith("/")||(h=`/${h}`);let p=t.dataStrategy||f9,v={...t.future},_=null,x=new Set,C=null,T=null,R=null,O=t.hydrationData!=null,j=cu(u,t.history.location,h),M=!1,z=null,k;if(j==null&&!t.patchRoutesOnNavigation){let q=Bi(404,{pathname:t.history.location.pathname}),{matches:Q,route:te}=up(u);k=!0,j=Q,z={[te.id]:q}}else if(j&&!t.hydrationData&&pi(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(q=>q.route.lazy))k=!1;else if(!j.some(q=>D2(q.route)))k=!0;else{let q=t.hydrationData?t.hydrationData.loaderData:null,Q=t.hydrationData?t.hydrationData.errors:null;if(Q){let te=j.findIndex(Ae=>Q[Ae.route.id]!==void 0);k=j.slice(0,te+1).every(Ae=>!Gy(Ae.route,q,Q))}else k=j.every(te=>!Gy(te.route,q,Q))}else{k=!1,j=[];let q=pi(null,u,t.history.location.pathname);q.active&&q.matches&&(M=!0,j=q.matches)}let G,U={historyAction:t.history.action,location:t.history.location,matches:j,initialized:k,navigation:$1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},V="POP",K=!1,ne,ge=!1,we=new Map,W=null,he=!1,de=!1,ue=new Set,H=new Map,J=0,F=-1,ae=new Map,B=new Set,ee=new Map,_e=new Map,Se=new Set,Ve=new Map,lt,Ze=null;function st(){if(_=t.history.listen(({action:q,location:Q,delta:te})=>{if(lt){lt(),lt=void 0;return}ra(Ve.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=gi({currentLocation:U.location,nextLocation:Q,historyAction:q});if(Ae&&te!=null){let He=new Promise(et=>{lt=et});t.history.go(te*-1),pr(Ae,{state:"blocked",location:Q,proceed(){pr(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),He.then(()=>t.history.go(te))},reset(){let et=new Map(U.blockers);et.set(Ae,S0),Ne({blockers:et})}});return}return At(q,Q)}),n){A9(e,we);let q=()=>R9(e,we);e.addEventListener("pagehide",q),W=()=>e.removeEventListener("pagehide",q)}return U.initialized||At("POP",U.location,{initialHydration:!0}),G}function _t(){_&&_(),W&&W(),x.clear(),ne&&ne.abort(),U.fetchers.forEach((q,Q)=>Qa(Q)),U.blockers.forEach((q,Q)=>gr(Q))}function Ce(q){return x.add(q),()=>x.delete(q)}function Ne(q,Q={}){q.matches&&(q.matches=q.matches.map(He=>{let et=l[He.route.id],rt=He.route;return rt.element!==et.element||rt.errorElement!==et.errorElement||rt.hydrateFallbackElement!==et.hydrateFallbackElement?{...He,route:et}:He})),U={...U,...q};let te=[],Ae=[];U.fetchers.forEach((He,et)=>{He.state==="idle"&&(Se.has(et)?te.push(et):Ae.push(et))}),Se.forEach(He=>{!U.fetchers.has(He)&&!H.has(He)&&te.push(He)}),[...x].forEach(He=>He(U,{deletedFetchers:te,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),te.forEach(He=>Qa(He)),Ae.forEach(He=>U.fetchers.delete(He))}function ot(q,Q,{flushSync:te}={}){let Ae=U.actionData!=null&&U.navigation.formMethod!=null&&Xr(U.navigation.formMethod)&&U.navigation.state==="loading"&&q.state?._isRedirect!==!0,He;Q.actionData?Object.keys(Q.actionData).length>0?He=Q.actionData:He=null:Ae?He=U.actionData:He=null;let et=Q.loaderData?G_(U.loaderData,Q.loaderData,Q.matches||[],Q.errors):U.loaderData,rt=U.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((at,$e)=>rt.set($e,S0)));let Fe=he?!1:Qr(q,Q.matches||U.matches),We=K===!0||U.navigation.formMethod!=null&&Xr(U.navigation.formMethod)&&q.state?._isRedirect!==!0;f&&(u=f,f=void 0),he||V==="POP"||(V==="PUSH"?t.history.push(q,q.state):V==="REPLACE"&&t.history.replace(q,q.state));let it;if(V==="POP"){let at=we.get(U.location.pathname);at&&at.has(q.pathname)?it={currentLocation:U.location,nextLocation:q}:we.has(q.pathname)&&(it={currentLocation:q,nextLocation:U.location})}else if(ge){let at=we.get(U.location.pathname);at?at.add(q.pathname):(at=new Set([q.pathname]),we.set(U.location.pathname,at)),it={currentLocation:U.location,nextLocation:q}}Ne({...Q,actionData:He,loaderData:et,historyAction:V,location:q,initialized:!0,navigation:$1,revalidation:"idle",restoreScrollPosition:Fe,preventScrollReset:We,blockers:rt},{viewTransitionOpts:it,flushSync:te===!0}),V="POP",K=!1,ge=!1,he=!1,de=!1,Ze?.resolve(),Ze=null}async function vt(q,Q){if(typeof q=="number"){t.history.go(q);return}let te=Hy(U.location,U.matches,h,q,Q?.fromRouteId,Q?.relative),{path:Ae,submission:He,error:et}=M_(!1,te,Q),rt=U.location,Fe=tm(U.location,Ae,Q&&Q.state);Fe={...Fe,...t.history.encodeLocation(Fe)};let We=Q&&Q.replace!=null?Q.replace:void 0,it="PUSH";We===!0?it="REPLACE":We===!1||He!=null&&Xr(He.formMethod)&&He.formAction===U.location.pathname+U.location.search&&(it="REPLACE");let at=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,$e=(Q&&Q.flushSync)===!0,Tt=gi({currentLocation:rt,nextLocation:Fe,historyAction:it});if(Tt){pr(Tt,{state:"blocked",location:Fe,proceed(){pr(Tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),vt(q,Q)},reset(){let sn=new Map(U.blockers);sn.set(Tt,S0),Ne({blockers:sn})}});return}await At(it,Fe,{submission:He,pendingError:et,preventScrollReset:at,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:$e})}function yt(){Ze||(Ze=O9()),ke(),Ne({revalidation:"loading"});let q=Ze.promise;return U.navigation.state==="submitting"?q:U.navigation.state==="idle"?(At(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),q):(At(V||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:ge===!0}),q)}async function At(q,Q,te){ne&&ne.abort(),ne=null,V=q,he=(te&&te.startUninterruptedRevalidation)===!0,xl(U.location,U.matches),K=(te&&te.preventScrollReset)===!0,ge=(te&&te.enableViewTransition)===!0;let Ae=f||u,He=te&&te.overrideNavigation,et=te?.initialHydration&&U.matches&&U.matches.length>0&&!M?U.matches:cu(Ae,Q,h),rt=(te&&te.flushSync)===!0;if(et&&U.initialized&&!de&&_9(U.location,Q)&&!(te&&te.submission&&Xr(te.submission.formMethod))){ot(Q,{matches:et},{flushSync:rt});return}let Fe=pi(et,Ae,Q.pathname);if(Fe.active&&Fe.matches&&(et=Fe.matches),!et){let{error:Vt,notFoundMatches:pn,route:fn}=$r(Q.pathname);ot(Q,{matches:pn,loaderData:{},errors:{[fn.id]:Vt}},{flushSync:rt});return}ne=new AbortController;let We=Tf(t.history,Q,ne.signal,te&&te.submission),it=t.getContext?await t.getContext():new N_,at;if(te&&te.pendingError)at=[du(et).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&Xr(te.submission.formMethod)){let Vt=await Ft(We,Q,te.submission,et,it,Fe.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:rt});if(Vt.shortCircuited)return;if(Vt.pendingActionResult){let[pn,fn]=Vt.pendingActionResult;if(ui(fn)&&am(fn.error)&&fn.error.status===404){ne=null,ot(Q,{matches:Vt.matches,loaderData:{},errors:{[pn]:fn.error}});return}}et=Vt.matches||et,at=Vt.pendingActionResult,He=Q1(Q,te.submission),rt=!1,Fe.active=!1,We=Tf(t.history,We.url,We.signal)}let{shortCircuited:$e,matches:Tt,loaderData:sn,errors:Sn}=await _n(We,Q,et,it,Fe.active,He,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,rt,at);$e||(ne=null,ot(Q,{matches:Tt||et,...q_(at),loaderData:sn,errors:Sn}))}async function Ft(q,Q,te,Ae,He,et,rt,Fe={}){ke();let We=C9(Q,te);if(Ne({navigation:We},{flushSync:Fe.flushSync===!0}),et){let $e=await xe(Ae,Q.pathname,q.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){if($e.partialMatches.length===0){let{matches:sn,route:Sn}=up(u);return{matches:sn,pendingActionResult:[Sn.id,{type:"error",error:$e.error}]}}let Tt=du($e.partialMatches).route.id;return{matches:$e.partialMatches,pendingActionResult:[Tt,{type:"error",error:$e.error}]}}else if($e.matches)Ae=$e.matches;else{let{notFoundMatches:Tt,error:sn,route:Sn}=$r(Q.pathname);return{matches:Tt,pendingActionResult:[Sn.id,{type:"error",error:sn}]}}}let it,at=Ip(Ae,Q);if(!at.route.action&&!at.route.lazy)it={type:"error",error:Bi(405,{method:q.method,pathname:Q.pathname,routeId:at.route.id})};else{let $e=Df(i,l,q,Ae,at,rt?[]:a,He),Tt=await Ue(q,$e,He,null);if(it=Tt[at.route.id],!it){for(let sn of Ae)if(Tt[sn.route.id]){it=Tt[sn.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(Nc(it)){let $e;return Fe&&Fe.replace!=null?$e=Fe.replace:$e=P_(it.response.headers.get("Location"),new URL(q.url),h)===U.location.pathname+U.location.search,await pe(q,it,!0,{submission:te,replace:$e}),{shortCircuited:!0}}if(ui(it)){let $e=du(Ae,at.route.id);return(Fe&&Fe.replace)!==!0&&(V="PUSH"),{matches:Ae,pendingActionResult:[$e.route.id,it,at.route.id]}}return{matches:Ae,pendingActionResult:[at.route.id,it]}}async function _n(q,Q,te,Ae,He,et,rt,Fe,We,it,at,$e){let Tt=et||Q1(Q,rt),sn=rt||Fe||Y_(Tt),Sn=!he&&!it;if(He){if(Sn){let Pt=dn($e);Ne({navigation:Tt,...Pt!==void 0?{actionData:Pt}:{}},{flushSync:at})}let ft=await xe(te,Q.pathname,q.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Ba,route:Ha}=up(u);return{matches:Ba,loaderData:{},errors:{[Ha.id]:ft.error}}}let Pt=du(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Pt]:ft.error}}}else if(ft.matches)te=ft.matches;else{let{error:Pt,notFoundMatches:Ba,route:Ha}=$r(Q.pathname);return{matches:Ba,loaderData:{},errors:{[Ha.id]:Pt}}}}let Vt=f||u,{dsMatches:pn,revalidatingFetchers:fn}=D_(q,Ae,i,l,t.history,U,te,sn,Q,it?[]:a,it===!0,de,ue,Se,ee,B,Vt,h,t.patchRoutesOnNavigation!=null,$e);if(F=++J,!t.dataStrategy&&!pn.some(ft=>ft.shouldLoad)&&!pn.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&fn.length===0){let ft=Ja();return ot(Q,{matches:te,loaderData:{},errors:$e&&ui($e[1])?{[$e[0]]:$e[1].error}:null,...q_($e),...ft?{fetchers:new Map(U.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(Sn){let ft={};if(!He){ft.navigation=Tt;let Pt=dn($e);Pt!==void 0&&(ft.actionData=Pt)}fn.length>0&&(ft.fetchers=Ts(fn)),Ne(ft,{flushSync:at})}fn.forEach(ft=>{Ca(ft.key),ft.controller&&H.set(ft.key,ft.controller)});let Yt=()=>fn.forEach(ft=>Ca(ft.key));ne&&ne.signal.addEventListener("abort",Yt);let{loaderResults:er,fetcherResults:Mr}=await Pe(pn,fn,q,Ae);if(q.signal.aborted)return{shortCircuited:!0};ne&&ne.signal.removeEventListener("abort",Yt),fn.forEach(ft=>H.delete(ft.key));let tr=cp(er);if(tr)return await pe(q,tr.result,!0,{replace:We}),{shortCircuited:!0};if(tr=cp(Mr),tr)return B.add(tr.key),await pe(q,tr.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:wl,errors:Sl}=H_(U,te,er,$e,fn,Mr);it&&U.errors&&(Sl={...U.errors,...Sl});let nr=Ja(),Wr=ga(F),Ta=nr||Wr||fn.length>0;return{matches:te,loaderData:wl,errors:Sl,...Ta?{fetchers:new Map(U.fetchers)}:{}}}function dn(q){if(q&&!ui(q[1]))return{[q[0]]:q[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Ts(q){return q.forEach(Q=>{let te=U.fetchers.get(Q.key),Ae=E0(void 0,te?te.data:void 0);U.fetchers.set(Q.key,Ae)}),new Map(U.fetchers)}async function $a(q,Q,te,Ae){Ca(q);let He=(Ae&&Ae.flushSync)===!0,et=f||u,rt=Hy(U.location,U.matches,h,te,Q,Ae?.relative),Fe=cu(et,rt,h),We=pi(Fe,et,rt);if(We.active&&We.matches&&(Fe=We.matches),!Fe){Qe(q,Q,Bi(404,{pathname:rt}),{flushSync:He});return}let{path:it,submission:at,error:$e}=M_(!0,rt,Ae);if($e){Qe(q,Q,$e,{flushSync:He});return}let Tt=t.getContext?await t.getContext():new N_,sn=(Ae&&Ae.preventScrollReset)===!0;if(at&&Xr(at.formMethod)){await Z(q,Q,it,Fe,Tt,We.active,He,sn,at);return}ee.set(q,{routeId:Q,path:it}),await oe(q,Q,it,Fe,Tt,We.active,He,sn,at)}async function Z(q,Q,te,Ae,He,et,rt,Fe,We){ke(),ee.delete(q);let it=U.fetchers.get(q);Ie(q,T9(We,it),{flushSync:rt});let at=new AbortController,$e=Tf(t.history,te,at.signal,We);if(et){let En=await xe(Ae,new URL($e.url).pathname,$e.signal,q);if(En.type==="aborted")return;if(En.type==="error"){Qe(q,Q,En.error,{flushSync:rt});return}else if(En.matches)Ae=En.matches;else{Qe(q,Q,Bi(404,{pathname:te}),{flushSync:rt});return}}let Tt=Ip(Ae,te);if(!Tt.route.action&&!Tt.route.lazy){let En=Bi(405,{method:We.formMethod,pathname:te,routeId:Q});Qe(q,Q,En,{flushSync:rt});return}H.set(q,at);let sn=J,Sn=Df(i,l,$e,Ae,Tt,a,He),pn=(await Ue($e,Sn,He,q))[Tt.route.id];if($e.signal.aborted){H.get(q)===at&&H.delete(q);return}if(Se.has(q)){if(Nc(pn)||ui(pn)){Ie(q,no(void 0));return}}else{if(Nc(pn))if(H.delete(q),F>sn){Ie(q,no(void 0));return}else return B.add(q),Ie(q,E0(We)),pe($e,pn,!1,{fetcherSubmission:We,preventScrollReset:Fe});if(ui(pn)){Qe(q,Q,pn.error);return}}let fn=U.navigation.location||U.location,Yt=Tf(t.history,fn,at.signal),er=f||u,Mr=U.navigation.state!=="idle"?cu(er,U.navigation.location,h):U.matches;Kt(Mr,"Didn't find any matches after fetcher action");let tr=++J;ae.set(q,tr);let wl=E0(We,pn.data);U.fetchers.set(q,wl);let{dsMatches:Sl,revalidatingFetchers:nr}=D_(Yt,He,i,l,t.history,U,Mr,We,fn,a,!1,de,ue,Se,ee,B,er,h,t.patchRoutesOnNavigation!=null,[Tt.route.id,pn]);nr.filter(En=>En.key!==q).forEach(En=>{let Rs=En.key,yr=U.fetchers.get(Rs),pa=E0(void 0,yr?yr.data:void 0);U.fetchers.set(Rs,pa),Ca(Rs),En.controller&&H.set(Rs,En.controller)}),Ne({fetchers:new Map(U.fetchers)});let Wr=()=>nr.forEach(En=>Ca(En.key));at.signal.addEventListener("abort",Wr);let{loaderResults:Ta,fetcherResults:ft}=await Pe(Sl,nr,Yt,He);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",Wr),ae.delete(q),H.delete(q),nr.forEach(En=>H.delete(En.key)),U.fetchers.has(q)){let En=no(pn.data);U.fetchers.set(q,En)}let Pt=cp(Ta);if(Pt)return pe(Yt,Pt.result,!1,{preventScrollReset:Fe});if(Pt=cp(ft),Pt)return B.add(Pt.key),pe(Yt,Pt.result,!1,{preventScrollReset:Fe});let{loaderData:Ba,errors:Ha}=H_(U,Mr,Ta,void 0,nr,ft);ga(tr),U.navigation.state==="loading"&&tr>F?(Kt(V,"Expected pending action"),ne&&ne.abort(),ot(U.navigation.location,{matches:Mr,loaderData:Ba,errors:Ha,fetchers:new Map(U.fetchers)})):(Ne({errors:Ha,loaderData:G_(U.loaderData,Ba,Mr,Ha),fetchers:new Map(U.fetchers)}),de=!1)}async function oe(q,Q,te,Ae,He,et,rt,Fe,We){let it=U.fetchers.get(q);Ie(q,E0(We,it?it.data:void 0),{flushSync:rt});let at=new AbortController,$e=Tf(t.history,te,at.signal);if(et){let fn=await xe(Ae,new URL($e.url).pathname,$e.signal,q);if(fn.type==="aborted")return;if(fn.type==="error"){Qe(q,Q,fn.error,{flushSync:rt});return}else if(fn.matches)Ae=fn.matches;else{Qe(q,Q,Bi(404,{pathname:te}),{flushSync:rt});return}}let Tt=Ip(Ae,te);H.set(q,at);let sn=J,Sn=Df(i,l,$e,Ae,Tt,a,He),pn=(await Ue($e,Sn,He,q))[Tt.route.id];if(H.get(q)===at&&H.delete(q),!$e.signal.aborted){if(Se.has(q)){Ie(q,no(void 0));return}if(Nc(pn))if(F>sn){Ie(q,no(void 0));return}else{B.add(q),await pe($e,pn,!1,{preventScrollReset:Fe});return}if(ui(pn)){Qe(q,Q,pn.error);return}Ie(q,no(pn.data))}}async function pe(q,Q,te,{submission:Ae,fetcherSubmission:He,preventScrollReset:et,replace:rt}={}){Q.response.headers.has("X-Remix-Revalidate")&&(de=!0);let Fe=Q.response.headers.get("Location");Kt(Fe,"Expected a Location header on the redirect Response"),Fe=P_(Fe,new URL(q.url),h);let We=tm(U.location,Fe,{_isRedirect:!0});if(n){let Sn=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))Sn=!0;else if(M2(Fe)){const Vt=H5(Fe,!0);Sn=Vt.origin!==e.location.origin||Vi(Vt.pathname,h)==null}if(Sn){rt?e.location.replace(Fe):e.location.assign(Fe);return}}ne=null;let it=rt===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:$e,formEncType:Tt}=U.navigation;!Ae&&!He&&at&&$e&&Tt&&(Ae=Y_(U.navigation));let sn=Ae||He;if(a9.has(Q.response.status)&&sn&&Xr(sn.formMethod))await At(it,We,{submission:{...sn,formAction:Fe},preventScrollReset:et||K,enableViewTransition:te?ge:void 0});else{let Sn=Q1(We,Ae);await At(it,We,{overrideNavigation:Sn,fetcherSubmission:He,preventScrollReset:et||K,enableViewTransition:te?ge:void 0})}}async function Ue(q,Q,te,Ae){let He,et={};try{He=await m9(p,q,Q,Ae,te,!1)}catch(rt){return Q.filter(Fe=>Fe.shouldLoad).forEach(Fe=>{et[Fe.route.id]={type:"error",error:rt}}),et}if(q.signal.aborted)return et;for(let[rt,Fe]of Object.entries(He))if(S9(Fe)){let We=Fe.result;et[rt]={type:"redirect",response:y9(We,q,rt,Q,h)}}else et[rt]=await v9(Fe);return et}async function Pe(q,Q,te,Ae){let He=Ue(te,q,Ae,null),et=Promise.all(Q.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let at=(await Ue(We.request,We.matches,Ae,We.key))[We.match.route.id];return{[We.key]:at}}else return Promise.resolve({[We.key]:{type:"error",error:Bi(404,{pathname:We.path})}})})),rt=await He,Fe=(await et).reduce((We,it)=>Object.assign(We,it),{});return{loaderResults:rt,fetcherResults:Fe}}function ke(){de=!0,ee.forEach((q,Q)=>{H.has(Q)&&ue.add(Q),Ca(Q)})}function Ie(q,Q,te={}){U.fetchers.set(q,Q),Ne({fetchers:new Map(U.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Qe(q,Q,te,Ae={}){let He=du(U.matches,Q);Qa(q),Ne({errors:{[He.route.id]:te},fetchers:new Map(U.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function Et(q){return _e.set(q,(_e.get(q)||0)+1),Se.has(q)&&Se.delete(q),U.fetchers.get(q)||r9}function rn(q,Q){Ca(q,Q?.reason),Ie(q,no(null))}function Qa(q){let Q=U.fetchers.get(q);H.has(q)&&!(Q&&Q.state==="loading"&&ae.has(q))&&Ca(q),ee.delete(q),ae.delete(q),B.delete(q),Se.delete(q),ue.delete(q),U.fetchers.delete(q)}function ma(q){let Q=(_e.get(q)||0)-1;Q<=0?(_e.delete(q),Se.add(q)):_e.set(q,Q),Ne({fetchers:new Map(U.fetchers)})}function Ca(q,Q){let te=H.get(q);te&&(te.abort(Q),H.delete(q))}function Wa(q){for(let Q of q){let te=Et(Q),Ae=no(te.data);U.fetchers.set(Q,Ae)}}function Ja(){let q=[],Q=!1;for(let te of B){let Ae=U.fetchers.get(te);Kt(Ae,`Expected fetcher: ${te}`),Ae.state==="loading"&&(B.delete(te),q.push(te),Q=!0)}return Wa(q),Q}function ga(q){let Q=[];for(let[te,Ae]of ae)if(Ae<q){let He=U.fetchers.get(te);Kt(He,`Expected fetcher: ${te}`),He.state==="loading"&&(Ca(te),ae.delete(te),Q.push(te))}return Wa(Q),Q.length>0}function jr(q,Q){let te=U.blockers.get(q)||S0;return Ve.get(q)!==Q&&Ve.set(q,Q),te}function gr(q){U.blockers.delete(q),Ve.delete(q)}function pr(q,Q){let te=U.blockers.get(q)||S0;Kt(te.state==="unblocked"&&Q.state==="blocked"||te.state==="blocked"&&Q.state==="blocked"||te.state==="blocked"&&Q.state==="proceeding"||te.state==="blocked"&&Q.state==="unblocked"||te.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${Q.state}`);let Ae=new Map(U.blockers);Ae.set(q,Q),Ne({blockers:Ae})}function gi({currentLocation:q,nextLocation:Q,historyAction:te}){if(Ve.size===0)return;Ve.size>1&&ra(!1,"A router only supports one blocker at a time");let Ae=Array.from(Ve.entries()),[He,et]=Ae[Ae.length-1],rt=U.blockers.get(He);if(!(rt&&rt.state==="proceeding")&&et({currentLocation:q,nextLocation:Q,historyAction:te}))return He}function $r(q){let Q=Bi(404,{pathname:q}),te=f||u,{matches:Ae,route:He}=up(te);return{notFoundMatches:Ae,route:He,error:Q}}function As(q,Q,te){if(C=q,R=Q,T=te||null,!O&&U.navigation===$1){O=!0;let Ae=Qr(U.location,U.matches);Ae!=null&&Ne({restoreScrollPosition:Ae})}return()=>{C=null,R=null,T=null}}function vr(q,Q){return T&&T(q,Q.map(Ae=>zE(Ae,U.loaderData)))||q.key}function xl(q,Q){if(C&&R){let te=vr(q,Q);C[te]=R()}}function Qr(q,Q){if(C){let te=vr(q,Q),Ae=C[te];if(typeof Ae=="number")return Ae}return null}function pi(q,Q,te){if(t.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Yp(Q,te,h,!0)}}else return{active:!0,matches:Yp(Q,te,h,!0)||[]};return{active:!1,matches:null}}async function xe(q,Q,te,Ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:q};let He=q;for(;;){let et=f==null,rt=f||u,Fe=l;try{await t.patchRoutesOnNavigation({signal:te,path:Q,matches:He,fetcherKey:Ae,patch:(at,$e)=>{te.aborted||z_(at,$e,rt,Fe,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:He}}finally{et&&!te.aborted&&(u=[...u])}if(te.aborted)return{type:"aborted"};let We=cu(rt,Q,h);if(We)return{type:"success",matches:We};let it=Yp(rt,Q,h,!0);if(!it||He.length===it.length&&He.every((at,$e)=>at.route.id===it[$e].route.id))return{type:"success",matches:null};He=it}}function Le(q){l={},f=nm(q,i,void 0,l)}function xt(q,Q,te=!1){let Ae=f==null;z_(q,Q,f||u,l,i,te),Ae&&(u=[...u],Ne({}))}return G={get basename(){return h},get future(){return v},get state(){return U},get routes(){return u},get window(){return e},initialize:st,subscribe:Ce,enableScrollRestoration:As,navigate:vt,fetch:$a,revalidate:yt,createHref:q=>t.history.createHref(q),encodeLocation:q=>t.history.encodeLocation(q),getFetcher:Et,resetFetcher:rn,deleteFetcher:ma,dispose:_t,getBlocker:jr,deleteBlocker:gr,patchRoutes:xt,_internalFetchControllers:H,_internalSetRoutes:Le,_internalSetStateDoNotUseOrYouWillBreakYourApp(q){Ne(q)}},G}function o9(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Hy(t,e,n,a,i,l){let u,f;if(i){u=[];for(let p of e)if(u.push(p),p.route.id===i){f=p;break}}else u=e,f=e[e.length-1];let h=j2(a||".",N2(u),Vi(t.pathname,n)||t.pathname,l==="path");if(a==null&&(h.search=t.search,h.hash=t.hash),(a==null||a===""||a===".")&&f){let p=z2(h.search);if(f.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let v=new URLSearchParams(h.search),_=v.getAll("index");v.delete("index"),_.filter(C=>C).forEach(C=>v.append("index",C));let x=v.toString();h.search=x?`?${x}`:""}}return n!=="/"&&(h.pathname=XE({basename:n,pathname:h.pathname})),gu(h)}function M_(t,e,n){if(!n||!o9(n))return{path:e};if(n.formMethod&&!E9(n.formMethod))return{path:e,error:Bi(405,{method:n.formMethod})};let a=()=>({path:e,error:Bi(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=W5(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xr(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[C,T])=>`${x}${C}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Xr(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Kt(typeof FormData=="function","FormData is not available in this environment");let f,h;if(n.formData)f=Vy(n.formData),h=n.formData;else if(n.body instanceof FormData)f=Vy(n.body),h=n.body;else if(n.body instanceof URLSearchParams)f=n.body,h=B_(f);else if(n.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(n.body),h=B_(f)}catch{return a()}let p={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Xr(p.formMethod))return{path:e,submission:p};let v=oo(e);return t&&v.search&&z2(v.search)&&f.append("index",""),v.search=`?${f}`,{path:gu(v),submission:p}}function D_(t,e,n,a,i,l,u,f,h,p,v,_,x,C,T,R,O,j,M,z){let k=z?ui(z[1])?z[1].error:z[1].data:void 0,G=i.createURL(l.location),U=i.createURL(h),V;if(v&&l.errors){let he=Object.keys(l.errors)[0];V=u.findIndex(de=>de.route.id===he)}else if(z&&ui(z[1])){let he=z[0];V=u.findIndex(de=>de.route.id===he)-1}let K=z?z[1].statusCode:void 0,ne=K&&K>=400,ge={currentUrl:G,currentParams:l.matches[0]?.params||{},nextUrl:U,nextParams:u[0].params,...f,actionResult:k,actionStatus:K},we=u.map((he,de)=>{let{route:ue}=he,H=null;if(V!=null&&de>V?H=!1:ue.lazy?H=!0:D2(ue)?v?H=Gy(ue,l.loaderData,l.errors):u9(l.loaderData,l.matches[de],he)&&(H=!0):H=!1,H!==null)return qy(n,a,t,he,p,e,H);let J=ne?!1:_||G.pathname+G.search===U.pathname+U.search||G.search!==U.search||c9(l.matches[de],he),F={...ge,defaultShouldRevalidate:J},ae=nv(he,F);return qy(n,a,t,he,p,e,ae,F)}),W=[];return T.forEach((he,de)=>{if(v||!u.some(_e=>_e.route.id===he.routeId)||C.has(de))return;let ue=l.fetchers.get(de),H=ue&&ue.state!=="idle"&&ue.data===void 0,J=cu(O,he.path,j);if(!J){if(M&&H)return;W.push({key:de,routeId:he.routeId,path:he.path,matches:null,match:null,request:null,controller:null});return}if(R.has(de))return;let F=Ip(J,he.path),ae=new AbortController,B=Tf(i,he.path,ae.signal),ee=null;if(x.has(de))x.delete(de),ee=Df(n,a,B,J,F,p,e);else if(H)_&&(ee=Df(n,a,B,J,F,p,e));else{let _e={...ge,defaultShouldRevalidate:ne?!1:_};nv(F,_e)&&(ee=Df(n,a,B,J,F,p,e,_e))}ee&&W.push({key:de,routeId:he.routeId,path:he.path,matches:ee,match:F,request:B,controller:ae})}),{dsMatches:we,revalidatingFetchers:W}}function D2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Gy(t,e,n){if(t.lazy)return!0;if(!D2(t))return!1;let a=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!a&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!i}function u9(t,e,n){let a=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return a||i}function c9(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function nv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function z_(t,e,n,a,i,l){let u;if(t){let p=a[t];Kt(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),u=p.children}else u=n;let f=[],h=[];if(e.forEach(p=>{let v=u.find(_=>X5(p,_));v?h.push({existingRoute:v,newRoute:p}):f.push(p)}),f.length>0){let p=nm(f,i,[t||"_","patch",String(u?.length||"0")],a);u.push(...p)}if(l&&h.length>0)for(let p=0;p<h.length;p++){let{existingRoute:v,newRoute:_}=h[p],x=v,[C]=nm([_],i,[],{},!0);Object.assign(x,{element:C.element?C.element:x.element,errorElement:C.errorElement?C.errorElement:x.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:x.hydrateFallbackElement})}}function X5(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(i=>X5(n,i))):!1}var k_=new WeakMap,K5=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let i=n[e.id];if(Kt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let u=k_.get(i);u||(u={},k_.set(i,u));let f=u[t];if(f)return f;let h=(async()=>{let p=NE(t),_=i[t]!==void 0&&t!=="hasErrorBoundary";if(p)ra(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)ra(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await l();x!=null&&(Object.assign(i,{[t]:x}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))})();return u[t]=h,h},L_=new WeakMap;function d9(t,e,n,a,i){let l=n[t.id];if(Kt(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=L_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{Kt(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),C={};for(let T in x){let R=x[T];if(R===void 0)continue;let O=ME(T),M=l[T]!==void 0&&T!=="hasErrorBoundary";O?ra(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?ra(!M,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=R}Object.assign(l,C),Object.assign(l,{...a(l),lazy:void 0})})();return L_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],h;for(let v of u){if(i&&i.includes(v))continue;let _=K5({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(f.push(_),v===e&&(h=_))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:h}}async function U_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function f9(t){return t.matches.some(e=>e.route.middleware)?F5(t,()=>U_(t)):U_(t)}function F5(t,e){return h9(t,e,a=>a,x9,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=t,f=Math.min(Math.max(u.findIndex(p=>p.route.id===i),0),Math.max(u.findIndex(p=>p.unstable_shouldCallHandler()),0)),h=du(u,u[f].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:a}})}}}async function h9(t,e,n,a,i){let{matches:l,request:u,params:f,context:h}=t,p=l.flatMap(_=>_.route.middleware?_.route.middleware.map(x=>[_.route.id,x]):[]);return await $5({request:u,params:f,context:h},p,e,n,a,i)}async function $5(t,e,n,a,i,l,u=0){let{request:f}=t;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let h=e[u];if(!h)return await n();let[p,v]=h,_,x=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await $5(t,e,n,a,i,l,u+1)},_.value}catch(C){return _={value:await l(C,p,_)},_.value}};try{let C=await v(t,x),T=C!=null?a(C):void 0;return i(T)?T:_?T??_.value:(_={value:await x()},_.value)}catch(C){return await l(C,p,_)}}function Q5(t,e,n,a,i){let l=K5({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),u=d9(a.route,Xr(n.method)?"action":"loader",e,t,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function qy(t,e,n,a,i,l,u,f=null){let h=!1,p=Q5(t,e,n,a,i);return{...a,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return h=!0,f?typeof v=="boolean"?nv(a,{...f,defaultShouldRevalidate:v}):nv(a,f):u},resolve(v){let{lazy:_,loader:x,middleware:C}=a.route,T=h||u||v&&!Xr(n.method)&&(_||x),R=C&&C.length>0&&!x&&!_;return T&&!R?g9({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Df(t,e,n,a,i,l,u,f=null){return a.map(h=>h.route.id!==i.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:Q5(t,e,n,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:qy(t,e,n,h,l,u,!0,f))}async function m9(t,e,n,a,i,l){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:i,matches:n},h=await t({...u,fetcherKey:a,runClientMiddleware:p=>{let v=u;return F5(v,()=>p({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return h}async function g9({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,f,h=Xr(t.method),p=h?"action":"loader",v=_=>{let x,C=new Promise((O,j)=>x=j);f=()=>x(),t.signal.addEventListener("abort",f);let T=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(j=>T(j)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,C])};try{let _=h?e.route.action:e.route.loader;if(n||a)if(_){let x,[C]=await Promise.all([v(_).catch(T=>{x=T}),n,a]);if(x!==void 0)throw x;u=C}else{await n;let x=h?e.route.action:e.route.loader;if(x)[u]=await Promise.all([v(x),a]);else if(p==="action"){let C=new URL(t.url),T=C.pathname+C.search;throw Bi(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await v(_);else{let x=new URL(t.url),C=x.pathname+x.search;throw Bi(404,{pathname:C})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function p9(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function v9(t){let{result:e,type:n}=t;if(J5(e)){let a;try{a=await p9(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new tv(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?V_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new tv(e.init?.status||500,void 0,e.data),statusCode:am(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:am(e)?e.status:void 0}:V_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function y9(t,e,n,a,i){let l=t.headers.get("Location");if(Kt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!M2(l)){let u=a.slice(0,a.findIndex(f=>f.route.id===n)+1);l=Hy(new URL(e.url),u,i,l),t.headers.set("Location",l)}return t}function P_(t,e,n){if(M2(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=Vi(i.pathname,n)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return t}function Tf(t,e,n,a){let i=t.createURL(W5(e)).toString(),l={signal:n};if(a&&Xr(a.formMethod)){let{formMethod:u,formEncType:f}=a;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(a.json)):f==="text/plain"?l.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?l.body=Vy(a.formData):l.body=a.formData}return new Request(i,l)}function Vy(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function B_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function b9(t,e,n,a=!1,i=!1){let l={},u=null,f,h=!1,p={},v=n&&ui(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let x=_.route.id,C=e[x];if(Kt(!Nc(C),"Cannot handle redirect results in processLoaderData"),ui(C)){let T=C.error;if(v!==void 0&&(T=v,v=void 0),u=u||{},i)u[x]=T;else{let R=du(t,x);u[R.route.id]==null&&(u[R.route.id]=T)}a||(l[x]=Z5),h||(h=!0,f=am(C.error)?C.error.status:500),C.headers&&(p[x]=C.headers)}else l[x]=C.data,C.statusCode&&C.statusCode!==200&&!h&&(f=C.statusCode),C.headers&&(p[x]=C.headers)}),v!==void 0&&n&&(u={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:p}}function H_(t,e,n,a,i,l){let{loaderData:u,errors:f}=b9(e,n,a);return i.filter(h=>!h.matches||h.matches.some(p=>p.shouldLoad)).forEach(h=>{let{key:p,match:v,controller:_}=h;if(_&&_.signal.aborted)return;let x=l[p];if(Kt(x,"Did not find corresponding fetcher result"),ui(x)){let C=du(t.matches,v?.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:x.error}),t.fetchers.delete(p)}else if(Nc(x))Kt(!1,"Unhandled fetcher revalidation redirect");else{let C=no(x.data);t.fetchers.set(p,C)}}),{loaderData:u,errors:f}}function G_(t,e,n,a){let i=Object.entries(e).filter(([,l])=>l!==Z5).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(i[u]=t[u]),a&&a.hasOwnProperty(u))break}return i}function q_(t){return t?ui(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function du(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function up(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Bi(t,{pathname:e,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&e&&n?f=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",a&&e&&n?f=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new tv(t||500,u,new Error(f),!0)}function cp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,i]=e[n];if(Nc(i))return{key:a,result:i}}}function W5(t){let e=typeof t=="string"?oo(t):t;return gu({...e,hash:""})}function _9(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function x9(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&w9(n))}function w9(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function S9(t){return J5(t.result)&&n9.has(t.result.status)}function ui(t){return t.type==="error"}function Nc(t){return(t&&t.type)==="redirect"}function V_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function J5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function E9(t){return t9.has(t.toUpperCase())}function Xr(t){return JE.has(t.toUpperCase())}function z2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ip(t,e){let n=typeof e=="string"?oo(e).search:e.search;if(t[t.length-1].route.index&&z2(n||""))return t[t.length-1];let a=V5(t);return a[a.length-1]}function Y_(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:l,json:u}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function Q1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function C9(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function E0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function T9(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function no(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function A9(t,e){try{let n=t.sessionStorage.getItem(I5);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function R9(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(I5,JSON.stringify(n))}catch(a){ra(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function O9(){let t,e,n=new Promise((a,i)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Pc=N.createContext(null);Pc.displayName="DataRouter";var ym=N.createContext(null);ym.displayName="DataRouterState";N.createContext(!1);var k2=N.createContext({isTransitioning:!1});k2.displayName="ViewTransition";var e3=N.createContext(new Map);e3.displayName="Fetchers";var N9=N.createContext(null);N9.displayName="Await";var vl=N.createContext(null);vl.displayName="Navigation";var Ov=N.createContext(null);Ov.displayName="Location";var uo=N.createContext({outlet:null,matches:[],isDataRoute:!1});uo.displayName="Route";var L2=N.createContext(null);L2.displayName="RouteError";function j9(t,{relative:e}={}){Kt(bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(vl),{hash:i,pathname:l,search:u}=xm(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:ml([n,l])),a.createHref({pathname:f,search:u,hash:i})}function bm(){return N.useContext(Ov)!=null}function Bc(){return Kt(bm(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ov).location}var t3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n3(t){N.useContext(vl).static||N.useLayoutEffect(t)}function _m(){let{isDataRoute:t}=N.useContext(uo);return t?Y9():M9()}function M9(){Kt(bm(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Pc),{basename:e,navigator:n}=N.useContext(vl),{matches:a}=N.useContext(uo),{pathname:i}=Bc(),l=JSON.stringify(N2(a)),u=N.useRef(!1);return n3(()=>{u.current=!0}),N.useCallback((h,p={})=>{if(ra(u.current,t3),!u.current)return;if(typeof h=="number"){n.go(h);return}let v=j2(h,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ml([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,i,t])}N.createContext(null);function xm(t,{relative:e}={}){let{matches:n}=N.useContext(uo),{pathname:a}=Bc(),i=JSON.stringify(N2(n));return N.useMemo(()=>j2(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function D9(t,e,n,a,i){Kt(bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(vl),{matches:u}=N.useContext(uo),f=u[u.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let M=_&&_.path||"";a3(p,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=Bc(),C;C=x;let T=C.pathname||"/",R=T;if(v!=="/"){let M=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let O=cu(t,{pathname:R});return ra(_||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ra(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),P9(O&&O.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:ml([v,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:ml([v,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,n,a,i)}function z9(){let t=V9(),e=am(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,u)}var k9=N.createElement(z9,null),L9=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(uo.Provider,{value:this.props.routeContext},N.createElement(L2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U9({routeContext:t,match:e,children:n}){let a=N.useContext(Pc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(uo.Provider,{value:t},n)}function P9(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Kt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:_,errors:x}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||C){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,v,_)=>{let x,C=!1,T=null,R=null;n&&(x=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||k9,f&&(h<0&&_===0?(a3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):h===_&&(C=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),j=()=>{let M;return x?M=T:C?M=R:v.route.Component?M=N.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=p,N.createElement(U9,{match:v,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:M})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(L9,{location:n.location,revalidation:n.revalidation,component:T,error:x,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):j()},null)}function U2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B9(t){let e=N.useContext(Pc);return Kt(e,U2(t)),e}function H9(t){let e=N.useContext(ym);return Kt(e,U2(t)),e}function G9(t){let e=N.useContext(uo);return Kt(e,U2(t)),e}function P2(t){let e=G9(t),n=e.matches[e.matches.length-1];return Kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function q9(){return P2("useRouteId")}function V9(){let t=N.useContext(L2),e=H9("useRouteError"),n=P2("useRouteError");return t!==void 0?t:e.errors?.[n]}function Y9(){let{router:t}=B9("useNavigate"),e=P2("useNavigate"),n=N.useRef(!1);return n3(()=>{n.current=!0}),N.useCallback(async(i,l={})=>{ra(n.current,t3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var I_={};function a3(t,e,n){!e&&!I_[t]&&(I_[t]=!0,ra(!1,n))}var Z_={};function X_(t,e){!t&&!Z_[e]&&(Z_[e]=!0,console.warn(e))}function I9(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ra(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ra(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ra(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Z9=["HydrateFallback","hydrateFallbackElement"],X9=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function K9({router:t,flushSync:e,unstable_onError:n}){let[a,i]=N.useState(t.state),[l,u]=N.useState(),[f,h]=N.useState({isTransitioning:!1}),[p,v]=N.useState(),[_,x]=N.useState(),[C,T]=N.useState(),R=N.useRef(new Map),O=N.useCallback(G=>{i(U=>(G.errors&&n&&Object.entries(G.errors).forEach(([V,K])=>{U.errors?.[V]!==K&&n(K)}),G))},[n]),j=N.useCallback((G,{deletedFetchers:U,flushSync:V,viewTransitionOpts:K})=>{G.fetchers.forEach((ge,we)=>{ge.data!==void 0&&R.current.set(we,ge.data)}),U.forEach(ge=>R.current.delete(ge)),X_(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ne=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(X_(K==null||ne,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!K||!ne){e&&V?e(()=>O(G)):N.startTransition(()=>O(G));return}if(e&&V){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let ge=t.window.document.startViewTransition(()=>{e(()=>O(G))});ge.finished.finally(()=>{e(()=>{v(void 0),x(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>x(ge));return}_?(p&&p.resolve(),_.skipTransition(),T({state:G,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(u(G),h({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[t.window,e,_,p,O]);N.useLayoutEffect(()=>t.subscribe(j),[t,j]),N.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new X9)},[f]),N.useEffect(()=>{if(p&&l&&t.window){let G=l,U=p.promise,V=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(G)),await U});V.finished.finally(()=>{v(void 0),x(void 0),u(void 0),h({isTransitioning:!1})}),x(V)}},[l,p,t.window,O]),N.useEffect(()=>{p&&l&&a.location.key===l.location.key&&p.resolve()},[p,_,a.location,l]),N.useEffect(()=>{!f.isTransitioning&&C&&(u(C.state),h({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),T(void 0))},[f.isTransitioning,C]);let M=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:G=>t.navigate(G),push:(G,U,V)=>t.navigate(G,{state:U,preventScrollReset:V?.preventScrollReset}),replace:(G,U,V)=>t.navigate(G,{replace:!0,state:U,preventScrollReset:V?.preventScrollReset})}),[t]),z=t.basename||"/",k=N.useMemo(()=>({router:t,navigator:M,static:!1,basename:z,unstable_onError:n}),[t,M,z,n]);return N.createElement(N.Fragment,null,N.createElement(Pc.Provider,{value:k},N.createElement(ym.Provider,{value:a},N.createElement(e3.Provider,{value:R.current},N.createElement(k2.Provider,{value:f},N.createElement(Q9,{basename:z,location:a.location,navigationType:a.historyAction,navigator:M},N.createElement(F9,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var F9=N.memo($9);function $9({routes:t,future:e,state:n,unstable_onError:a}){return D9(t,void 0,n,a,e)}function Q9({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){Kt(!bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=oo(n));let{pathname:h="/",search:p="",hash:v="",state:_=null,key:x="default"}=n,C=N.useMemo(()=>{let T=Vi(h,u);return T==null?null:{location:{pathname:T,search:p,hash:v,state:_,key:x},navigationType:a}},[u,h,p,v,_,x,a]);return ra(C!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(vl.Provider,{value:f},N.createElement(Ov.Provider,{children:e,value:C}))}var Zp="get",Xp="application/x-www-form-urlencoded";function Nv(t){return t!=null&&typeof t.tagName=="string"}function W9(t){return Nv(t)&&t.tagName.toLowerCase()==="button"}function J9(t){return Nv(t)&&t.tagName.toLowerCase()==="form"}function e7(t){return Nv(t)&&t.tagName.toLowerCase()==="input"}function t7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n7(t,e){return t.button===0&&(!e||e==="_self")&&!t7(t)}var dp=null;function a7(){if(dp===null)try{new FormData(document.createElement("form"),0),dp=!1}catch{dp=!0}return dp}var r7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function W1(t){return t!=null&&!r7.has(t)?(ra(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xp}"`),null):t}function i7(t,e){let n,a,i,l,u;if(J9(t)){let f=t.getAttribute("action");a=f?Vi(f,e):null,n=t.getAttribute("method")||Zp,i=W1(t.getAttribute("enctype"))||Xp,l=new FormData(t)}else if(W9(t)||e7(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(a=h?Vi(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Zp,i=W1(t.getAttribute("formenctype"))||W1(f.getAttribute("enctype"))||Xp,l=new FormData(f,t),!a7()){let{name:p,type:v,value:_}=t;if(v==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,_)}}else{if(Nv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zp,a=null,i=Xp,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function B2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function s7(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Vi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function l7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function u7(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await l7(l,n);return u.links?u.links():[]}return[]}));return h7(a.flat(1).filter(o7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function K_(t,e,n,a,i,l){let u=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,f=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>u(h,p)||f(h,p)):l==="data"?e.filter((h,p)=>{let v=a.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function c7(t,e,{includeHydrateFallback:n}={}){return d7(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function d7(t){return[...new Set(t)]}function f7(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function h7(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(f7(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function r3(){let t=N.useContext(Pc);return B2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function m7(){let t=N.useContext(ym);return B2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var H2=N.createContext(void 0);H2.displayName="FrameworkContext";function i3(){let t=N.useContext(H2);return B2(t,"You must render this element inside a <HydratedRouter> element"),t}function g7(t,e){let n=N.useContext(H2),[a,i]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=j=>{j.forEach(M=>{u(M.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return x.current&&O.observe(x.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let C=()=>{i(!0)},T=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:C0(f,C),onBlur:C0(h,T),onMouseEnter:C0(p,C),onMouseLeave:C0(v,T),onTouchStart:C0(_,C)}]:[!1,x,{}]}function C0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function p7({page:t,...e}){let{router:n}=r3(),a=N.useMemo(()=>cu(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(y7,{page:t,matches:a,...e}):null}function v7(t){let{manifest:e,routeModules:n}=i3(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return u7(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function y7({page:t,matches:e,...n}){let a=Bc(),{manifest:i,routeModules:l}=i3(),{basename:u}=r3(),{loaderData:f,matches:h}=m7(),p=N.useMemo(()=>K_(t,e,h,i,a,"data"),[t,e,h,i,a]),v=N.useMemo(()=>K_(t,e,h,i,a,"assets"),[t,e,h,i,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(e.forEach(j=>{let M=i.routes[j.route.id];!M||!M.hasLoader||(!p.some(z=>z.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||M.hasClientLoader?R=!0:T.add(j.route.id))}),T.size===0)return[];let O=s7(t,u,"data");return R&&T.size>0&&O.searchParams.set("_routes",e.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[u,f,a,i,p,e,t,l]),x=N.useMemo(()=>c7(v,i),[v,i]),C=v7(v);return N.createElement(N.Fragment,null,_.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),x.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),C.map(({key:T,link:R})=>N.createElement("link",{key:T,nonce:n.nonce,...R})))}function b7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var s3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s3&&(window.__reactRouterVersion="7.9.4")}catch{}function _7(t,e){return l9({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:TE({window:e?.window}),hydrationData:x7(),routes:t,mapRouteProperties:I9,hydrationRouteProperties:Z9,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function x7(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:w7(t.errors)}),t}function w7(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new tv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var l3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o3=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:f,target:h,to:p,preventScrollReset:v,viewTransition:_,...x},C){let{basename:T}=N.useContext(vl),R=typeof p=="string"&&l3.test(p),O,j=!1;if(typeof p=="string"&&R&&(O=p,s3))try{let ne=new URL(window.location.href),ge=p.startsWith("//")?new URL(ne.protocol+p):new URL(p),we=Vi(ge.pathname,T);ge.origin===ne.origin&&we!=null?p=we+ge.search+ge.hash:j=!0}catch{ra(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=j9(p,{relative:i}),[z,k,G]=g7(a,x),U=T7(p,{replace:u,state:f,target:h,preventScrollReset:v,relative:i,viewTransition:_});function V(ne){e&&e(ne),ne.defaultPrevented||U(ne)}let K=N.createElement("a",{...x,...G,href:O||M,onClick:j||l?e:V,ref:b7(C,k),target:h,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,K,N.createElement(p7,{page:M})):K});o3.displayName="Link";var S7=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:f,children:h,...p},v){let _=xm(u,{relative:p.relative}),x=Bc(),C=N.useContext(ym),{navigator:T,basename:R}=N.useContext(vl),O=C!=null&&j7(_)&&f===!0,j=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,M=x.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(M=M.toLowerCase(),z=z?z.toLowerCase():null,j=j.toLowerCase()),z&&R&&(z=Vi(z,R)||z);const k=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let G=M===j||!i&&M.startsWith(j)&&M.charAt(k)==="/",U=z!=null&&(z===j||!i&&z.startsWith(j)&&z.charAt(j.length)==="/"),V={isActive:G,isPending:U,isTransitioning:O},K=G?e:void 0,ne;typeof a=="function"?ne=a(V):ne=[a,G?"active":null,U?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ge=typeof l=="function"?l(V):l;return N.createElement(o3,{...p,"aria-current":K,className:ne,ref:v,style:ge,to:u,viewTransition:f},typeof h=="function"?h(V):h)});S7.displayName="NavLink";var E7=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Zp,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:_,...x},C)=>{let T=O7(),R=N7(f,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&l3.test(f),M=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let k=z.nativeEvent.submitter,G=k?.getAttribute("formmethod")||u;T(k||z.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:i,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:C,method:O,action:R,onSubmit:a?h:M,...x,"data-discover":!j&&t==="render"?"true":void 0})});E7.displayName="Form";function C7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u3(t){let e=N.useContext(Pc);return Kt(e,C7(t)),e}function T7(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=_m(),h=Bc(),p=xm(t,{relative:l});return N.useCallback(v=>{if(n7(v,e)){v.preventDefault();let _=n!==void 0?n:gu(h)===gu(p);f(t,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[h,f,p,n,a,e,t,i,l,u])}var A7=0,R7=()=>`__${String(++A7)}__`;function O7(){let{router:t}=u3("useSubmit"),{basename:e}=N.useContext(vl),n=q9();return N.useCallback(async(a,i={})=>{let{action:l,method:u,encType:f,formData:h,body:p}=i7(a,e);if(i.navigate===!1){let v=i.fetcherKey||R7();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function N7(t,{relative:e}={}){let{basename:n}=N.useContext(vl),a=N.useContext(uo);Kt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...xm(t||".",{relative:e})},u=Bc();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ml([n,l.pathname])),gu(l)}function j7(t,{relative:e}={}){let n=N.useContext(k2);Kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=u3("useViewTransitionState"),i=xm(t,{relative:e});if(!n.isTransitioning)return!1;let l=Vi(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Vi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ev(i.pathname,u)!=null||ev(i.pathname,l)!=null}var wm=L5();const M7=pm(wm);function D7(t){return N.createElement(K9,{flushSync:wm.flushSync,...t})}const z7="modulepreload",k7=function(t){return"/rect-up/"+t},F_={},Sm=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let p=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var u=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");i=p(n.map(v=>{if(v=k7(v),v in F_)return;F_[v]=!0;const _=v.endsWith(".css"),x=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":z7,_||(C.as="script"),C.crossOrigin="",C.href=v,h&&C.setAttribute("nonce",h),document.head.appendChild(C),_)return new Promise((T,R)=>{C.addEventListener("load",T),C.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return i.then(f=>{for(const h of f||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},L7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sm(async()=>{const{default:a}=await Promise.resolve().then(()=>Kf);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class G2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class $_ extends G2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q_ extends G2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class W_ extends G2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yy||(Yy={}));var U7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};class P7{constructor(e,{headers:n={},customFetch:a,region:i=Yy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=L7(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return U7(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:l,method:u,body:f,signal:h}=a;let p={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let x;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(p["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(p["Content-Type"]="application/json",x=JSON.stringify(f)));const C=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:x,signal:h}).catch(j=>{throw j.name==="AbortError"?j:new $_(j)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new Q_(C);if(!C.ok)throw new W_(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new $_(l)}:{data:null,error:l,response:l instanceof W_||l instanceof Q_?l.context:void 0}}})}}var Ua={},rf={},sf={},lf={},of={},uf={},B7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hf=B7();const H7=Hf.fetch,c3=Hf.fetch.bind(Hf),d3=Hf.Headers,G7=Hf.Request,q7=Hf.Response,Kf=Object.freeze(Object.defineProperty({__proto__:null,Headers:d3,Request:G7,Response:q7,default:c3,fetch:H7},Symbol.toStringTag,{value:"Module"})),V7=gE(Kf);var fp={},J_;function f3(){if(J_)return fp;J_=1,Object.defineProperty(fp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return fp.default=t,fp}var ex;function h3(){if(ex)return uf;ex=1;var t=uf&&uf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(uf,"__esModule",{value:!0});const e=t(V7),n=t(f3());class a{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,_,x,C;let T=null,R=null,O=null,j=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const U=await p.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=U:R=JSON.parse(U))}const k=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),G=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&G&&G.length>1&&(O=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,j=406,M="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const k=await p.text();try{T=JSON.parse(k),Array.isArray(T)&&p.status===404&&(R=[],T=null,j=200,M="OK")}catch{p.status===404&&k===""?(j=204,M="No Content"):T={message:k}}if(T&&this.isMaybeSingle&&(!((C=T?.details)===null||C===void 0)&&C.includes("0 rows"))&&(T=null,j=200,M="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:R,count:O,status:j,statusText:M}});return this.shouldThrowOnError||(h=h.catch(p=>{var v,_,x;return{error:{message:`${(v=p?.name)!==null&&v!==void 0?v:"FetchError"}: ${p?.message}`,details:`${(_=p?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(x=p?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return uf.default=a,uf}var tx;function m3(){if(tx)return of;tx=1;var t=of&&of.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(of,"__esModule",{value:!0});const e=t(h3());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(p,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:p="text"}={}){var v;const _=[i?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return of.default=n,of}var nx;function q2(){if(nx)return lf;nx=1;var t=lf&&lf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lf,"__esModule",{value:!0});const e=t(m3());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${h}fts${p}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return lf.default=n,lf}var ax;function g3(){if(ax)return sf;ax=1;var t=sf&&sf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sf,"__esModule",{value:!0});const e=t(q2());class n{constructor(i,{headers:l={},schema:u,fetch:f}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(i,l){const{head:u=!1,count:f}=l??{},h=u?"HEAD":"GET";let p=!1;const v=(i??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const _=i.reduce((x,C)=>x.concat(Object.keys(C)),[]);if(_.length>0){const x=[...new Set(_)].map(C=>`"${C}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return sf.default=n,sf}var rx;function Y7(){if(rx)return rf;rx=1;var t=rf&&rf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(rf,"__esModule",{value:!0});const e=t(g3()),n=t(q2());class a{constructor(l,{headers:u={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:h=!1,count:p}={}){var v;let _;const x=new URL(`${this.url}/rpc/${l}`);let C;f||h?(_=f?"HEAD":"GET",Object.entries(u).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{x.searchParams.append(R,O)})):(_="POST",C=u);const T=new Headers(this.headers);return p&&T.set("Prefer",`count=${p}`),new n.default({method:_,url:x,headers:T,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return rf.default=a,rf}var ix;function I7(){if(ix)return Ua;ix=1;var t=Ua&&Ua.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.PostgrestError=Ua.PostgrestBuilder=Ua.PostgrestTransformBuilder=Ua.PostgrestFilterBuilder=Ua.PostgrestQueryBuilder=Ua.PostgrestClient=void 0;const e=t(Y7());Ua.PostgrestClient=e.default;const n=t(g3());Ua.PostgrestQueryBuilder=n.default;const a=t(q2());Ua.PostgrestFilterBuilder=a.default;const i=t(m3());Ua.PostgrestTransformBuilder=i.default;const l=t(h3());Ua.PostgrestBuilder=l.default;const u=t(f3());return Ua.PostgrestError=u.default,Ua.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},Ua}var Z7=I7();const X7=pm(Z7),{PostgrestClient:K7,PostgrestQueryBuilder:pV,PostgrestFilterBuilder:vV,PostgrestTransformBuilder:yV,PostgrestBuilder:bV,PostgrestError:_V}=X7;class F7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $7="2.75.0",Q7=`realtime-js/${$7}`,W7="1.0.0",Iy=1e4,J7=1e3,eC=100;var Z0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Z0||(Z0={}));var xa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xa||(xa={}));var ys;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ys||(ys={}));var Zy;(function(t){t.websocket="websocket"})(Zy||(Zy={}));var Rc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Rc||(Rc={}));class tC{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const f=a.decode(e.slice(u,u+i));u=u+i;const h=a.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:h,payload:p}}}class p3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ln;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ln||(Ln={}));const sx=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=nC(u,t,e,i),l),{}):{}},nC=(t,e,n,a)=>{const i=e.find(f=>f.name===t),l=i?.type,u=n[t];return l&&!a.includes(l)?v3(l,u):Xy(u)},v3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return sC(e,n)}switch(t){case Ln.bool:return aC(e);case Ln.float4:case Ln.float8:case Ln.int2:case Ln.int4:case Ln.int8:case Ln.numeric:case Ln.oid:return rC(e);case Ln.json:case Ln.jsonb:return iC(e);case Ln.timestamp:return lC(e);case Ln.abstime:case Ln.date:case Ln.daterange:case Ln.int4range:case Ln.int8range:case Ln.money:case Ln.reltime:case Ln.text:case Ln.time:case Ln.timestamptz:case Ln.timetz:case Ln.tsrange:case Ln.tstzrange:return Xy(e);default:return Xy(e)}},Xy=t=>t,aC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>v3(e,f))}return t},lC=t=>typeof t=="string"?t.replace(" ","T"):t,y3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class J1{constructor(e,n,a={},i=Iy){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(lx||(lx={}));class X0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=X0.syncState(this.state,i,l,u),this.pendingDiffs.forEach(h=>{this.state=X0.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=X0.syncDiff(this.state,i,l,u),f())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const l=this.cloneDeep(e),u=this.transformState(n),f={},h={};return this.map(l,(p,v)=>{u[p]||(h[p]=v)}),this.map(u,(p,v)=>{const _=l[p];if(_){const x=v.map(O=>O.presence_ref),C=_.map(O=>O.presence_ref),T=v.filter(O=>C.indexOf(O.presence_ref)<0),R=_.filter(O=>x.indexOf(O.presence_ref)<0);T.length>0&&(f[p]=T),R.length>0&&(h[p]=R)}else f[p]=v}),this.syncDiff(l,{joins:f,leaves:h},a,i)}static syncDiff(e,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(f,h)=>{var p;const v=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(h),v.length>0){const _=e[f].map(C=>C.presence_ref),x=v.filter(C=>_.indexOf(C.presence_ref)<0);e[f].unshift(...x)}a(f,v,h)}),this.map(u,(f,h)=>{let p=e[f];if(!p)return;const v=h.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),e[f]=p,i(f,p,h),p.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ox;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ox||(ox={}));var K0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(K0||(K0={}));var ro;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ro||(ro={}));class V2{constructor(e,n={config:{}},a){var i,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=xa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new J1(this,ys.join,this.params,this.timeout),this.rejoinTimer=new p3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xa.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=xa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=xa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ys.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new X0(this),this.broadcastEndpointURL=y3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==xa.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,p=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[K0.PRESENCE]&&this.bindings[K0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},x={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(ro.CHANNEL_ERROR,C)),this._onClose(()=>e?.(ro.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var T;if(this.socket.setAuth(),C===void 0){e?.(ro.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,j=[];for(let M=0;M<O;M++){const z=R[M],{filter:{event:k,schema:G,table:U,filter:V}}=z,K=C&&C[M];if(K&&K.event===k&&K.schema===G&&K.table===U&&K.filter===V)j.push(Object.assign(Object.assign({},z),{id:K.id}));else{this.unsubscribe(),this.state=xa.errored,e?.(ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(ro.SUBSCRIBED);return}}).receive("error",C=>{this.state=xa.errored,e?.(ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===xa.joined&&e===K0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ys.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new J1(this,ys.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new J1(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>eC){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,l;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:p,join:v}=ys;if(a&&[f,h,p,v].indexOf(u)>=0&&a!==this._joinRef())return;let x=this._onMessage(u,n,a);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var T,R,O;return((T=C.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=C.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(C=>C.callback(x,a)):(l=this.bindings[u])===null||l===void 0||l.filter(C=>{var T,R,O,j,M,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const k=C.id,G=(T=C.filter)===null||T===void 0?void 0:T.event;return k&&((R=n.ids)===null||R===void 0?void 0:R.includes(k))&&(G==="*"||G?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const k=(M=(j=C?.filter)===null||j===void 0?void 0:j.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return k==="*"||k===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof x=="object"&&"ids"in x){const T=x.data,{schema:R,table:O,commit_timestamp:j,type:M,errors:z}=T;x=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:j,eventType:M,new:{},old:{},errors:z}),this._getPayloadRecords(T))}C.callback(x,a)})}_isClosed(){return this.state===xa.closed}_isJoined(){return this.state===xa.joined}_isJoining(){return this.state===xa.joining}_isLeaving(){return this.state===xa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&V2.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ys.close,{},e)}_onError(e){this._on(ys.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sx(e.columns,e.old_record)),n}}const ey=()=>{},hp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oC=[1e3,2e3,5e3,1e4],uC=1e4,cC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dC{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Iy,this.transport=null,this.heartbeatIntervalMs=hp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ey,this.ref=0,this.reconnectTimer=null,this.logger=ey,this.conn=null,this.sendBuffer=[],this.serializer=new tC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...u)=>Sm(async()=>{const{default:f}=await Promise.resolve().then(()=>Kf);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Zy.websocket}`,this.httpEndpoint=y3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Z0.connecting:return Rc.Connecting;case Z0.open:return Rc.Open;case Z0.closing:return Rc.Closing;default:return Rc.Closed}}isConnected(){return this.connectionState()===Rc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new V2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(J7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=n,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${a} ${i} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ys.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([cC],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:Q7};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ys.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new p3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,l,u,f,h,p,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Iy,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:hp.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:ey,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(_=>oC[_-1]||uC),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((_,x)=>x(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Y2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function da(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fC extends Y2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ky extends Y2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var hC=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};const b3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sm(async()=>{const{default:a}=await Promise.resolve().then(()=>Kf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},mC=()=>hC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sm(()=>Promise.resolve().then(()=>Kf),void 0)).Response:Response}),Fy=t=>{if(Array.isArray(t))return t.map(n=>Fy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Fy(a)}),e},gC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Hc=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};const ty=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pC=(t,e,n)=>Hc(void 0,void 0,void 0,function*(){const a=yield mC();t instanceof a&&!n?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new fC(ty(i),l,u))}).catch(i=>{e(new Ky(ty(i),i))}):e(new Ky(ty(t),t))}),vC=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(gC(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Em(t,e,n,a,i,l){return Hc(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,vC(e,a,i,l)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>pC(h,f,a))})})}function av(t,e,n,a){return Hc(this,void 0,void 0,function*(){return Em(t,"GET",e,n,a)})}function ul(t,e,n,a,i){return Hc(this,void 0,void 0,function*(){return Em(t,"POST",e,a,i,n)})}function $y(t,e,n,a,i){return Hc(this,void 0,void 0,function*(){return Em(t,"PUT",e,a,i,n)})}function yC(t,e,n,a){return Hc(this,void 0,void 0,function*(){return Em(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function _3(t,e,n,a,i){return Hc(this,void 0,void 0,function*(){return Em(t,"DELETE",e,a,i,n)})}var bC=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};class _C{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return bC(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}}var xC=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};class wC{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new _C(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return xC(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}}var Vr=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};const SC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ux={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EC{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=b3(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return Vr(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},ux),i);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const p=this._removeEmptyFolders(n),v=this._getFinalPath(p),_=yield(e=="PUT"?$y:ul)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(da(l))return{data:null,error:l};throw l}})}upload(e,n,a){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return Vr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:ux.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",p.cacheControl)):(h=a,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const _=yield $y(this.fetch,f.toString(),h,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(da(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Vr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const l=yield ul(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new Y2("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}update(e,n,a){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Vr(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}copy(e,n,a){return Vr(this,void 0,void 0,function*(){try{return{data:{path:(yield ul(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return Vr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield ul(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return Vr(this,void 0,void 0,function*(){try{const i=yield ul(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),h=()=>av(this.fetch,`${this.url}/${i}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new wC(h,this.shouldThrowOnError)}info(e){return Vr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield av(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}exists(e){return Vr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield yC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a)&&a instanceof Ky){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const f=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&i.push(h);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${p}`)}}}remove(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield _3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}list(e,n,a){return Vr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},SC),n),{prefix:e||""});return{data:yield ul(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}listV2(e,n){return Vr(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield ul(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const CC="2.75.0",TC={"X-Client-Info":`storage-js/${CC}`};var cf=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};class AC{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TC),n),this.fetch=b3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return cf(this,void 0,void 0,function*(){try{return{data:yield av(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}getBucket(e){return cf(this,void 0,void 0,function*(){try{return{data:yield av(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}createBucket(e){return cf(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield ul(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return cf(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}emptyBucket(e){return cf(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}deleteBucket(e){return cf(this,void 0,void 0,function*(){try{return{data:yield _3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}}class RC extends AC{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new EC(this.url,this.headers,e,this.fetch)}}const OC="2.75.0";let B0="";typeof Deno<"u"?B0="deno":typeof document<"u"?B0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?B0="react-native":B0="node";const NC={"X-Client-Info":`supabase-js-${B0}/${OC}`},jC={headers:NC},MC={schema:"public"},DC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zC={};var kC=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};const LC=t=>{let e;return t?e=t:typeof fetch>"u"?e=c3:e=fetch,(...n)=>e(...n)},UC=()=>typeof Headers>"u"?d3:Headers,PC=(t,e,n)=>{const a=LC(n),i=UC();return(l,u)=>kC(void 0,void 0,void 0,function*(){var f;const h=(f=yield e())!==null&&f!==void 0?f:t;let p=new i(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),a(l,Object.assign(Object.assign({},u),{headers:p}))})};var BC=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};function HC(t){return t.endsWith("/")?t:t+"/"}function GC(t,e){var n,a;const{db:i,auth:l,realtime:u,global:f}=t,{db:h,auth:p,realtime:v,global:_}=e,x={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),f),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>BC(this,void 0,void 0,function*(){return""})};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function qC(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const x3="2.75.0",Af=30*1e3,Qy=3,ny=Qy*Af,VC="http://localhost:9999",YC="supabase.auth.token",IC={"X-Client-Info":`gotrue-js/${x3}`},Wy="X-Supabase-Api-Version",w3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XC=600*1e3;class rm extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ht(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KC extends rm{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function FC(t){return ht(t)&&t.name==="AuthApiError"}class Oc extends rm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class bu extends rm{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class su extends bu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $C(t){return ht(t)&&t.name==="AuthSessionMissingError"}class df extends bu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mp extends bu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gp extends bu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QC(t){return ht(t)&&t.name==="AuthImplicitGrantRedirectError"}class cx extends bu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jy extends bu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ay(t){return ht(t)&&t.name==="AuthRetryableFetchError"}class dx extends bu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class e2 extends bu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fx=` 	
\r=`.split(""),WC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fx.length;e+=1)t[fx[e].charCodeAt(0)]=-2;for(let e=0;e<rv.length;e+=1)t[rv[e].charCodeAt(0)]=e;return t})();function hx(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(rv[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(rv[a]),e.queuedBits-=6}}function S3(t,e,n){const a=WC[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function mx(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{tT(u,a,n)};for(let u=0;u<t.length;u+=1)S3(t.charCodeAt(u),i,l);return e.join("")}function JC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eT(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}JC(a,e)}}function tT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zf(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)S3(t.charCodeAt(i),n,a);return new Uint8Array(e)}function nT(t){const e=[];return eT(t,n=>e.push(n)),new Uint8Array(e)}function jc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>hx(i,n,a)),hx(null,n,a),e.join("")}function aT(t){return Math.round(Date.now()/1e3)+t}function rT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const oi=()=>typeof window<"u"&&typeof document<"u",Sc={tested:!1,writable:!1},E3=()=>{if(!oi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sc.tested)return Sc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sc.tested=!0,Sc.writable=!0}catch{Sc.tested=!0,Sc.writable=!1}return Sc.writable};function iT(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const C3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Sm(async()=>{const{default:a}=await Promise.resolve().then(()=>Kf);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},sT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ec=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ru=async(t,e)=>{await t.removeItem(e)};class jv{constructor(){this.promise=new jv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}jv.promiseConstructor=Promise;function ry(t){const e=t.split(".");if(e.length!==3)throw new e2("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!ZC.test(e[a]))throw new e2("JWT not in base64url format");return{header:JSON.parse(mx(e[0])),payload:JSON.parse(mx(e[1])),signature:zf(e[2]),raw:{header:e[0],payload:e[1]}}}async function lT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oT(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function uT(t){return("0"+t.toString(16)).substr(-2)}function cT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,uT).join("")}async function dT(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function fT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await dT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ff(t,e,n=!1){const a=cT();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await Rf(t,`${e}-code-verifier`,i);const l=await fT(a);return[l,a===l?"plain":"s256"]}const hT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mT(t){const e=t.headers.get(Wy);if(!e||!e.match(hT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hf(t){if(!vT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function iy(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gx(t){return JSON.parse(JSON.stringify(t))}var yT=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Ac=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bT=[502,503,504];async function px(t){var e;if(!sT(t))throw new Jy(Ac(t),0);if(bT.includes(t.status))throw new Jy(Ac(t),t.status);let n;try{n=await t.json()}catch(l){throw new Oc(Ac(l),l)}let a;const i=mT(t);if(i&&i.getTime()>=w3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new dx(Ac(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new su}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new dx(Ac(n),t.status,n.weak_password.reasons);throw new KC(Ac(n),t.status||500,a)}const _T=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function Ot(t,e,n,a){var i;const l=Object.assign({},a?.headers);l[Wy]||(l[Wy]=w3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await xT(t,e,n+f,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function xT(t,e,n,a,i,l){const u=_T(e,a,i,l);let f;try{f=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new Jy(Ac(h),0)}if(f.ok||await px(f),a?.noResolveJson)return f;try{return await f.json()}catch(h){await px(h)}}function vs(t){var e;let n=null;ET(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=aT(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function vx(t){const e=vs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wT(t){return{data:t,error:null}}function ST(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=t,u=yT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function yx(t){return t}function ET(t){return t.access_token&&t.refresh_token&&t.expires_in}const sy=["global","local","others"];var CT=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class TT{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=C3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=sy[0]){if(sy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sy.join(", ")}`);try{return await Ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=CT(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ST,redirectTo:n?.redirectTo})}catch(n){if(ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fu})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,l,u,f,h;try{const p={nextPage:null,lastPage:0,total:0},v=await Ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:yx});if(v.error)throw v.error;const _=await v.json(),x=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);p[`${O}Page`]=R}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ht(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){hf(e);try{return await Ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fu})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hf(e);try{return await Ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){hf(e);try{return await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fu})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){hf(e.userId);try{const{data:n,error:a}=await Ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hf(e.userId),hf(e.id);try{return{data:await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,l,u,f,h;try{const p={nextPage:null,lastPage:0,total:0},v=await Ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:yx});if(v.error)throw v.error;const _=await v.json(),x=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);p[`${O}Page`]=R}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ht(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}}function bx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const mf={debug:!!(globalThis&&E3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class T3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AT extends T3{}async function RT(t,e,n){mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),mf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mf.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function OT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function A3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function NT(t){return parseInt(t,16)}function jT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function MT(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:p,scheme:v,uri:_,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const C=A3(t.address),T=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${C}

${R}`;let j=`URI: ${_}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),f&&(j+=`
Not Before: ${f.toISOString()}`),h&&(j+=`
Request ID: ${h}`),p){let M=`
Resources:`;for(const z of p){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);M+=`
- ${z}`}j+=M}return`${O}
${j}`}class ca extends Error{constructor({message:e,code:n,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class iv extends ca{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function DT({error:t,options:e}){var n,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ca({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ca({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ca({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ca({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ca({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ca({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ca({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ca({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(O3(u)){if(l.rp.id!==u)return new ca({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ca({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ca({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zT({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ca({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ca({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(O3(a)){if(n.rpId!==a)return new ca({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ca({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var R3=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class kT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const LT=new kT;function UT(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=R3(t,["challenge","user","excludeCredentials"]),l=zf(e).buffer,u=Object.assign(Object.assign({},n),{id:zf(n.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const p=a[h];f.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:zf(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function PT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=R3(t,["challenge","allowCredentials"]),i=zf(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:zf(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function BT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:jc(new Uint8Array(t.response.attestationObject)),clientDataJSON:jc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function HT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:jc(new Uint8Array(i.authenticatorData)),clientDataJSON:jc(new Uint8Array(i.clientDataJSON)),signature:jc(new Uint8Array(i.signature)),userHandle:i.userHandle?jc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function O3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function _x(){var t,e;return!!(oi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function GT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new iv("Browser returned unexpected credential type",e)}:{data:null,error:new iv("Empty credential response",e)}}catch(e){return{data:null,error:DT({error:e,options:t})}}}async function qT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new iv("Browser returned unexpected credential type",e)}:{data:null,error:new iv("Empty credential response",e)}}catch(e){return{data:null,error:zT({error:e,options:t})}}}const VT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},YT={userVerification:"preferred",hints:["security-key"]};function sv(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const f=a[l];e(f)?a[l]=sv(f,u):a[l]=sv(u)}else a[l]=u}return a}function IT(t,e){return sv(VT,t,e||{})}function ZT(t,e){return sv(YT,t,e||{})}class XT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const h=i??LT.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=IT(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await GT({publicKey:p,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const p=ZT(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await qT(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Oc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!n)return{data:null,error:new rm("rpId is required for WebAuthn authentication")};try{if(!_x())return{data:null,error:new Oc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:a,credential_response:h.credential_response}})}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Oc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!n)return{data:null,error:new rm("rpId is required for WebAuthn registration")};try{if(!_x())return{data:null,error:new Oc("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ht(u)?{data:null,error:u}:{data:null,error:new Oc("Unexpected error in register",u)}}}}OT();const KT={url:VC,storageKey:YC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xx(t,e,n){return await n()}const gf={};class im{get jwks(){var e,n;return(n=(e=gf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){gf[this.storageKey]=Object.assign(Object.assign({},gf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=gf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gf[this.storageKey]=Object.assign(Object.assign({},gf[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=im.nextInstanceID,im.nextInstanceID+=1,this.instanceID>0&&oi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KT),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new TT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=C3(i.fetch),this.lock=i.lock||xx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:oi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=RT:this.lock=xx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XT(this)},this.persistSession?(i.storage?this.storage=i.storage:E3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bx(this.memoryStorage)),oi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=iT(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),oi()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),QC(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ht(n)?{error:n}:{error:new Oc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const l=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:vs}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,i;try{let l;if("email"in e){const{email:v,password:_,options:x}=e;let C=null,T=null;this.flowType==="pkce"&&([C,T]=await ff(this.storage,this.storageKey)),l=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:_,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:C,code_challenge_method:T},xform:vs})}else if("phone"in e){const{phone:v,password:_,options:x}=e;l=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=x?.data)!==null&&a!==void 0?a:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:vs})}else throw new mp("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:vx})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:vx})}else throw new mp("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new df}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,l,u,f,h,p,v,_,x;let C,T;if("message"in e)C=e.message,T=e.signature;else{const{chain:R,wallet:O,statement:j,options:M}=e;let z;if(oi())if(typeof O=="object")z=O;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")z=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const k=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href),G=await z.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=A3(G[0]);let V=(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const ne=await z.request({method:"eth_chainId"});V=NT(ne)}const K={domain:k.host,address:U,statement:j,uri:k.href,version:"1",chainId:V,nonce:(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=M?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=MT(K),T=await z.request({method:"personal_sign",params:[jT(C),U]})}try{const{data:R,error:O}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:vs});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new df}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ht(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,i,l,u,f,h,p,v,_,x,C;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:O,wallet:j,statement:M,options:z}=e;let k;if(oi())if(typeof j=="object")k=j;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))k=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const G=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const U=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),M?{statement:M}:null));let V;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")V=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)V=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)T=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),R=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${G.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(i=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((p=z?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const U=await k.signMessage(new TextEncoder().encode(T),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=U}}try{const{data:O,error:j}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:jc(R)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:vs});if(j)throw j;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new df}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:j})}catch(O){if(ht(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Ec(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:l,error:u}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:vs});if(await ru(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new df}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(ht(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=e,f=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:vs}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new df}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,l,u;try{if("email"in e){const{email:f,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ff(this.storage,this.storageKey));const{error:_}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:f,options:h}=e,{data:p,error:v}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:v}}throw new mp("You must provide either an email or phone number.")}catch(f){if(ht(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,a;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await Ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:vs});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await ff(this.storage,this.storageKey)),await Ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:wT})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new su;const{error:i}=await Ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:f}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new mp("You must provide either an email or phone number and a type")}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<ny:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Ec(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=iy()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,p,v)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,v))})}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fu}):await this._useSession(async n=>{var a,i,l;const{data:u,error:f}=n;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new su}:await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:fu})})}catch(n){if(ht(n))return $C(n)&&(await this._removeSession(),await ru(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new su;const u=i.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await ff(this.storage,this.storageKey));const{data:p,error:v}=await Ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:fu});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(ht(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new su;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=ry(e.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new su;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!oi())throw new gp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cx("No code detected.");const{data:M,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:p}=e;if(!l||!f||!u||!p)throw new gp("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(f);let x=v+_;h&&(x=parseInt(h));const C=x-v;C*1e3<=Af&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${_}s`);const T=x-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,x,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,x,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const j={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:_,expires_at:x,refresh_token:u,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(a){if(ht(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ec(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{error:l};const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(FC(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await ru(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rT(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await ff(this.storage,this.storageKey,!0));try{return await Ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ht(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,f,h,p,v;const{data:_,error:x}=l;if(x)throw x;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ot(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return oi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ht(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:f,token:h,access_token:p,nonce:v}=e,_=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:h,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:vs}),{data:x,error:C}=_;return C?{data:{user:null,session:null},error:C}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new df}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:C})}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await Ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await oT(async i=>(i>0&&await lT(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vs})),(i,l)=>{const u=200*Math.pow(2,i);return l&&ay(l)&&Date.now()+u-a<Af})}catch(a){if(this._debug(n,"error",a),ht(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),oi()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Ec(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Ec(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await Rf(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:iy()}else if(i&&!i.user&&!i.user){const u=await Ec(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await ru(this.storage,this.storageKey+"-user"),await Rf(this.storage,this.storageKey,i)):i.user=iy()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ny;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${ny}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),ay(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(i.access_token);!f&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new su;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jv;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new su;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(i,"error",l),ht(l)){const u={data:null,error:l};return ay(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Rf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=gx(i);await Rf(this.storage,this.storageKey,l)}else{const i=gx(n);await Rf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ru(this.storage,this.storageKey),await ru(this.storage,this.storageKey+"-code-verifier"),await ru(this.storage,this.storageKey+"-user"),this.userStorage&&await ru(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&oi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Af);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Af);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Af}ms, refresh threshold is ${Qy} ticks`),i<=Qy&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof T3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await ff(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(f.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?{data:null,error:l}:await Ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await Ot(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?BT(e.webauthn.credential_response):HT(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:h})})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:UT(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:PT(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ry(i.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(f=>f.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+XC>i)return a;const{data:l,error:u}=await Ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:C,error:T}=await this.getSession();if(T||!C.session)return{data:null,error:T};a=C.session.access_token}const{header:i,payload:l,signature:u,raw:{header:f,payload:h}}=ry(a);n?.allowExpired||gT(l.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:l,header:i,signature:u},error:null}}const v=pT(i.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,nT(`${f}.${h}`)))throw new e2("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}}}im.nextInstanceID=0;const FT=im;class $T extends FT{constructor(e){super(e)}}var QT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(a.next(v))}catch(_){u(_)}}function h(v){try{p(a.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):i(v.value).then(f,h)}p((a=a.apply(t,e||[])).next())})};class WT{constructor(e,n,a){var i,l,u;this.supabaseUrl=e,this.supabaseKey=n;const f=qC(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:MC,realtime:zC,auth:Object.assign(Object.assign({},DC),{storageKey:h}),global:jC},v=GC(a??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=PC(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new K7(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new RC(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new P7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return QT(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,storageKey:u,flowType:f,lock:h,debug:p},v,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $T({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),v),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,flowType:f,lock:h,debug:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new dC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JT=(t,e,n)=>new WT(t,e,n);function eA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}eA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tA="https://ptwlzqcuyndjswcwgndp.supabase.co",nA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",an=JT(tA,nA),lv="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var N3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wx=Oe.createContext&&Oe.createContext(N3),aA=["attr","size","title"];function rA(t,e){if(t==null)return{};var n=iA(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function iA(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ov.apply(this,arguments)}function Sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(n),!0).forEach(function(a){sA(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function sA(t,e,n){return e=lA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lA(t){var e=oA(t,"string");return typeof e=="symbol"?e:e+""}function oA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j3(t){return t&&t.map((e,n)=>Oe.createElement(e.tag,uv({key:n},e.attr),j3(e.child)))}function cn(t){return e=>Oe.createElement(uA,ov({attr:uv({},t.attr)},e),j3(t.child))}function uA(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=rA(t,aA),f=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Oe.createElement("svg",ov({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:h,style:uv(uv({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Oe.createElement("title",null,l),t.children)};return wx!==void 0?Oe.createElement(wx.Consumer,null,n=>e(n)):e(N3)}function M3(t){return cn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function cA(t){return cn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function T0(t){return cn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function dA(t){return cn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function fA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function hA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function mA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function gA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function pA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function vA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function yA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},child:[]}]})(t)}function bA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(t)}function Ex(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function Cx(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function Tx(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(t)}function _A(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function xA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function Ax(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function ly(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function D3(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function wA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function Rx(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function SA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(t)}function EA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function CA(t){return cn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function Me(t,e,n){function a(f,h){var p;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(p=f._zod).traits??(p.traits=new Set),f._zod.traits.add(t),e(f,h);for(const v in u.prototype)v in f||Object.defineProperty(f,v,{value:u.prototype[v].bind(f)});f._zod.constr=u,f._zod.def=h}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:t});function u(f){var h;const p=n?.Parent?new l:this;a(p,f),(h=p._zod).deferred??(h.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>n?.Parent&&f instanceof n.Parent?!0:f?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class kf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class z3 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const k3={};function zc(t){return k3}function TA(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,i])=>e.indexOf(+a)===-1).map(([a,i])=>i)}function t2(t,e){return typeof e=="bigint"?e.toString():e}function I2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Z2(t){return t==null}function X2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const Ox=Symbol("evaluating");function Pn(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==Ox)return a===void 0&&(a=Ox,a=n()),a},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Gc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function Nx(t){return JSON.stringify(t)}const L3="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function cv(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const AA=I2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sm(t){if(cv(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(cv(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function U3(t){return sm(t)?{...t}:Array.isArray(t)?[...t]:t}const RA=new Set(["string","number","symbol"]);function Mv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _u(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function Ct(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function OA(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function NA(t,e){const n=t._zod.def,a=qc(t._zod.def,{get shape(){const i={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(i[l]=n.shape[l])}return Gc(this,"shape",i),i},checks:[]});return _u(t,a)}function jA(t,e){const n=t._zod.def,a=qc(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete i[l]}return Gc(this,"shape",i),i},checks:[]});return _u(t,a)}function MA(t,e){if(!sm(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=qc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Gc(this,"shape",l),l},checks:[]});return _u(t,i)}function DA(t,e){if(!sm(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Gc(this,"shape",a),a},checks:t._zod.def.checks};return _u(t,n)}function zA(t,e){const n=qc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Gc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return _u(t,n)}function kA(t,e,n){const a=qc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)l[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return Gc(this,"shape",l),l},checks:[]});return _u(e,a)}function LA(t,e,n){const a=qc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new t({type:"nonoptional",innerType:i[u]});return Gc(this,"shape",l),l},checks:[]});return _u(e,a)}function jf(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function P3(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function pp(t){return typeof t=="string"?t:t?.message}function kc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const i=pp(t.inst?._zod.def?.error?.(t))??pp(e?.error?.(t))??pp(n.customError?.(t))??pp(n.localeError?.(t))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function K2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function lm(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const B3=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,t2,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},F2=Me("$ZodError",B3),Dv=Me("$ZodError",B3,{Parent:Error});function UA(t,e=n=>n.message){const n={},a=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):a.push(e(i));return{formErrors:a,fieldErrors:n}}function PA(t,e=n=>n.message){const n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,f=0;for(;f<l.path.length;){const h=l.path[f];f===l.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(e(l))):u[h]=u[h]||{_errors:[]},u=u[h],f++}}};return a(t),n}const zv=t=>(e,n,a,i)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new kf;if(u.issues.length){const f=new(i?.Err??t)(u.issues.map(h=>kc(h,l,zc())));throw L3(f,i?.callee),f}return u.value},BA=zv(Dv),kv=t=>async(e,n,a,i)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(i?.Err??t)(u.issues.map(h=>kc(h,l,zc())));throw L3(f,i?.callee),f}return u.value},HA=kv(Dv),Lv=t=>(e,n,a)=>{const i=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new kf;return l.issues.length?{success:!1,error:new(t??F2)(l.issues.map(u=>kc(u,i,zc())))}:{success:!0,data:l.value}},GA=Lv(Dv),Uv=t=>async(e,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>kc(u,i,zc())))}:{success:!0,data:l.value}},qA=Uv(Dv),VA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return zv(t)(e,n,i)},YA=t=>(e,n,a)=>zv(t)(e,n,a),IA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return kv(t)(e,n,i)},ZA=t=>async(e,n,a)=>kv(t)(e,n,a),XA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Lv(t)(e,n,i)},KA=t=>(e,n,a)=>Lv(t)(e,n,a),FA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Uv(t)(e,n,i)},$A=t=>async(e,n,a)=>Uv(t)(e,n,a),QA=/^[cC][^\s-]{8,}$/,WA=/^[0-9a-z]+$/,JA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,eR=/^[0-9a-vA-V]{20}$/,tR=/^[A-Za-z0-9]{27}$/,nR=/^[a-zA-Z0-9_-]{21}$/,aR=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,rR=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,jx=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,iR=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function lR(){return new RegExp(sR,"u")}const oR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,dR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fR=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,H3=/^[A-Za-z0-9_-]*$/,hR=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,mR=/^\+(?:[0-9]){6,14}[0-9]$/,G3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gR=new RegExp(`^${G3}$`);function q3(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pR(t){return new RegExp(`^${q3(t)}$`)}function vR(t){const e=q3({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${G3}T(?:${a})$`)}const yR=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},bR=/^(?:true|false)$/i,_R=/^[^A-Z]*$/,xR=/^[^a-z]*$/,yl=Me("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),wR=Me("$ZodCheckMaxLength",(t,e)=>{var n;yl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!Z2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const i=a.value;if(i.length<=e.maximum)return;const u=K2(i);a.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),SR=Me("$ZodCheckMinLength",(t,e)=>{var n;yl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!Z2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const i=a.value;if(i.length>=e.minimum)return;const u=K2(i);a.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),ER=Me("$ZodCheckLengthEquals",(t,e)=>{var n;yl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!Z2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=a=>{const i=a.value,l=i.length;if(l===e.length)return;const u=K2(i),f=l>e.length;a.issues.push({origin:u,...f?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),Pv=Me("$ZodCheckStringFormat",(t,e)=>{var n,a;yl.init(t,e),t._zod.onattach.push(i=>{const l=i._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),CR=Me("$ZodCheckRegex",(t,e)=>{Pv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),TR=Me("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=_R),Pv.init(t,e)}),AR=Me("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=xR),Pv.init(t,e)}),RR=Me("$ZodCheckIncludes",(t,e)=>{yl.init(t,e);const n=Mv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),OR=Me("$ZodCheckStartsWith",(t,e)=>{yl.init(t,e);const n=new RegExp(`^${Mv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),NR=Me("$ZodCheckEndsWith",(t,e)=>{yl.init(t,e);const n=new RegExp(`.*${Mv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),jR=Me("$ZodCheckOverwrite",(t,e)=>{yl.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class MR{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),l=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,i.join(`
`))}}const DR={major:4,minor:1,patch:12},ha=Me("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=DR;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const i of a)for(const l of i._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,f,h)=>{let p=jf(u),v;for(const _ of f){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(p)continue;const x=u.issues.length,C=_._zod.check(u);if(C instanceof Promise&&h?.async===!1)throw new kf;if(v||C instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await C,u.issues.length!==x&&(p||(p=jf(u,x)))});else{if(u.issues.length===x)continue;p||(p=jf(u,x))}}return v?v.then(()=>u):u},l=(u,f,h)=>{if(jf(u))return u.aborted=!0,u;const p=i(f,a,h);if(p instanceof Promise){if(h.async===!1)throw new kf;return p.then(v=>t._zod.parse(v,h))}return t._zod.parse(p,h)};t._zod.run=(u,f)=>{if(f.skipChecks)return t._zod.parse(u,f);if(f.direction==="backward"){const p=t._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return p instanceof Promise?p.then(v=>l(v,u,f)):l(p,u,f)}const h=t._zod.parse(u,f);if(h instanceof Promise){if(f.async===!1)throw new kf;return h.then(p=>i(p,a,f))}return i(h,a,f)}}t["~standard"]={validate:i=>{try{const l=GA(t,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return qA(t,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),$2=Me("$ZodString",(t,e)=>{ha.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??yR(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Yn=Me("$ZodStringFormat",(t,e)=>{Pv.init(t,e),$2.init(t,e)}),zR=Me("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=rR),Yn.init(t,e)}),kR=Me("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=jx(a))}else e.pattern??(e.pattern=jx());Yn.init(t,e)}),LR=Me("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=iR),Yn.init(t,e)}),UR=Me("$ZodURL",(t,e)=>{Yn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:hR.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),PR=Me("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=lR()),Yn.init(t,e)}),BR=Me("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=nR),Yn.init(t,e)}),HR=Me("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=QA),Yn.init(t,e)}),GR=Me("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=WA),Yn.init(t,e)}),qR=Me("$ZodULID",(t,e)=>{e.pattern??(e.pattern=JA),Yn.init(t,e)}),VR=Me("$ZodXID",(t,e)=>{e.pattern??(e.pattern=eR),Yn.init(t,e)}),YR=Me("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=tR),Yn.init(t,e)}),IR=Me("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=vR(e)),Yn.init(t,e)}),ZR=Me("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=gR),Yn.init(t,e)}),XR=Me("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=pR(e)),Yn.init(t,e)}),KR=Me("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=aR),Yn.init(t,e)}),FR=Me("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=oR),Yn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),$R=Me("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=uR),Yn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),QR=Me("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=cR),Yn.init(t,e)}),WR=Me("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=dR),Yn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,l]=a;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function V3(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const JR=Me("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=fR),Yn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{V3(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function eO(t){if(!H3.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return V3(n)}const tO=Me("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=H3),Yn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{eO(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),nO=Me("$ZodE164",(t,e)=>{e.pattern??(e.pattern=mR),Yn.init(t,e)});function aO(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const rO=Me("$ZodJWT",(t,e)=>{Yn.init(t,e),t._zod.check=n=>{aO(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),iO=Me("$ZodBoolean",(t,e)=>{ha.init(t,e),t._zod.pattern=bR,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),sO=Me("$ZodUnknown",(t,e)=>{ha.init(t,e),t._zod.parse=n=>n}),lO=Me("$ZodNever",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function Mx(t,e,n){t.issues.length&&e.issues.push(...P3(n,t.issues)),e.value[n]=t.value}const oO=Me("$ZodArray",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const f=i[u],h=e.element._zod.run({value:f,issues:[]},a);h instanceof Promise?l.push(h.then(p=>Mx(p,n,u))):Mx(h,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function dv(t,e,n,a){t.issues.length&&e.issues.push(...P3(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function Y3(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=OA(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function I3(t,e,n,a,i,l){const u=[],f=i.keySet,h=i.catchall._zod,p=h.def.type;for(const v of Object.keys(e)){if(f.has(v))continue;if(p==="never"){u.push(v);continue}const _=h.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(x=>dv(x,n,v,e))):dv(_,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const uO=Me("$ZodObject",(t,e)=>{if(ha.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const f=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...f};return Object.defineProperty(e,"shape",{value:h}),h}})}const a=I2(()=>Y3(e));Pn(t._zod,"propValues",()=>{const f=e.shape,h={};for(const p in f){const v=f[p]._zod;if(v.values){h[p]??(h[p]=new Set);for(const _ of v.values)h[p].add(_)}}return h});const i=cv,l=e.catchall;let u;t._zod.parse=(f,h)=>{u??(u=a.value);const p=f.value;if(!i(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),f;f.value={};const v=[],_=u.shape;for(const x of u.keys){const T=_[x]._zod.run({value:p[x],issues:[]},h);T instanceof Promise?v.push(T.then(R=>dv(R,f,x,p))):dv(T,f,x,p)}return l?I3(v,p,f,h,a.value,t):v.length?Promise.all(v).then(()=>f):f}}),cO=Me("$ZodObjectJIT",(t,e)=>{uO.init(t,e);const n=t._zod.parse,a=I2(()=>Y3(e)),i=x=>{const C=new MR(["shape","payload","ctx"]),T=a.value,R=z=>{const k=Nx(z);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};C.write("const input = payload.value;");const O=Object.create(null);let j=0;for(const z of T.keys)O[z]=`key_${j++}`;C.write("const newResult = {};");for(const z of T.keys){const k=O[z],G=Nx(z);C.write(`const ${k} = ${R(z)};`),C.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${G}, ...iss.path] : [${G}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${k}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const M=C.compile();return(z,k)=>M(x,z,k)};let l;const u=cv,f=!k3.jitless,p=f&&AA.value,v=e.catchall;let _;t._zod.parse=(x,C)=>{_??(_=a.value);const T=x.value;return u(T)?f&&p&&C?.async===!1&&C.jitless!==!0?(l||(l=i(e.shape)),x=l(x,C),v?I3([],T,x,C,_,t):x):n(x,C):(x.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),x)}});function Dx(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const i=t.filter(l=>!jf(l));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>kc(u,a,zc())))}),e)}const dO=Me("$ZodUnion",(t,e)=>{ha.init(t,e),Pn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Pn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Pn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Pn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>X2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(i,l)=>{if(n)return a(i,l);let u=!1;const f=[];for(const h of e.options){const p=h._zod.run({value:i.value,issues:[]},l);if(p instanceof Promise)f.push(p),u=!0;else{if(p.issues.length===0)return p;f.push(p)}}return u?Promise.all(f).then(h=>Dx(h,i,t,l)):Dx(f,i,t,l)}}),fO=Me("$ZodIntersection",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>{const i=n.value,l=e.left._zod.run({value:i,issues:[]},a),u=e.right._zod.run({value:i,issues:[]},a);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([h,p])=>zx(n,h,p)):zx(n,l,u)}});function n2(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(sm(t)&&sm(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const u=n2(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],u=n2(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function zx(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),jf(t))return t;const a=n2(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const hO=Me("$ZodEnum",(t,e)=>{ha.init(t,e);const n=TA(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(i=>RA.has(typeof i)).map(i=>typeof i=="string"?Mv(i):i.toString()).join("|")})$`),t._zod.parse=(i,l)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:t}),i}}),mO=Me("$ZodTransform",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new z3(t.constructor.name);const i=e.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new kf;return n.value=i,n}});function kx(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const gO=Me("$ZodOptional",(t,e)=>{ha.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Pn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Pn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${X2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>kx(l,n.value)):kx(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),pO=Me("$ZodNullable",(t,e)=>{ha.init(t,e),Pn(t._zod,"optin",()=>e.innerType._zod.optin),Pn(t._zod,"optout",()=>e.innerType._zod.optout),Pn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${X2(n.source)}|null)$`):void 0}),Pn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),vO=Me("$ZodDefault",(t,e)=>{ha.init(t,e),t._zod.optin="optional",Pn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>Lx(l,e)):Lx(i,e)}});function Lx(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const yO=Me("$ZodPrefault",(t,e)=>{ha.init(t,e),t._zod.optin="optional",Pn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),bO=Me("$ZodNonOptional",(t,e)=>{ha.init(t,e),Pn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>Ux(l,t)):Ux(i,t)}});function Ux(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const _O=Me("$ZodCatch",(t,e)=>{ha.init(t,e),Pn(t._zod,"optin",()=>e.innerType._zod.optin),Pn(t._zod,"optout",()=>e.innerType._zod.optout),Pn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>kc(u,a,zc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>kc(l,a,zc()))},input:n.value}),n.issues=[]),n)}}),xO=Me("$ZodPipe",(t,e)=>{ha.init(t,e),Pn(t._zod,"values",()=>e.in._zod.values),Pn(t._zod,"optin",()=>e.in._zod.optin),Pn(t._zod,"optout",()=>e.out._zod.optout),Pn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(u=>vp(u,e.in,a)):vp(l,e.in,a)}const i=e.in._zod.run(n,a);return i instanceof Promise?i.then(l=>vp(l,e.out,a)):vp(i,e.out,a)}});function vp(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const wO=Me("$ZodReadonly",(t,e)=>{ha.init(t,e),Pn(t._zod,"propValues",()=>e.innerType._zod.propValues),Pn(t._zod,"values",()=>e.innerType._zod.values),Pn(t._zod,"optin",()=>e.innerType._zod.optin),Pn(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(Px):Px(i)}});function Px(t){return t.value=Object.freeze(t.value),t}const SO=Me("$ZodCustom",(t,e)=>{yl.init(t,e),ha.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,i=e.fn(a);if(i instanceof Promise)return i.then(l=>Bx(l,n,a,t));Bx(i,n,a,t)}});function Bx(t,e,n,a){if(!t){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),e.issues.push(lm(i))}}class EO{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function CO(){return new EO}const yp=CO();function TO(t,e){return new t({type:"string",...Ct(e)})}function Z3(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ct(e)})}function Hx(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ct(e)})}function AO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ct(e)})}function RO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ct(e)})}function OO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ct(e)})}function NO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ct(e)})}function jO(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ct(e)})}function MO(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ct(e)})}function DO(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ct(e)})}function zO(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ct(e)})}function kO(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ct(e)})}function LO(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ct(e)})}function UO(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ct(e)})}function PO(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ct(e)})}function BO(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ct(e)})}function HO(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ct(e)})}function GO(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ct(e)})}function qO(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ct(e)})}function VO(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ct(e)})}function YO(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ct(e)})}function IO(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ct(e)})}function ZO(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ct(e)})}function XO(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ct(e)})}function KO(t,e){return new t({type:"string",format:"date",check:"string_format",...Ct(e)})}function FO(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ct(e)})}function $O(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ct(e)})}function QO(t,e){return new t({type:"boolean",...Ct(e)})}function WO(t){return new t({type:"unknown"})}function JO(t,e){return new t({type:"never",...Ct(e)})}function X3(t,e){return new wR({check:"max_length",...Ct(e),maximum:t})}function fv(t,e){return new SR({check:"min_length",...Ct(e),minimum:t})}function K3(t,e){return new ER({check:"length_equals",...Ct(e),length:t})}function eN(t,e){return new CR({check:"string_format",format:"regex",...Ct(e),pattern:t})}function tN(t){return new TR({check:"string_format",format:"lowercase",...Ct(t)})}function nN(t){return new AR({check:"string_format",format:"uppercase",...Ct(t)})}function aN(t,e){return new RR({check:"string_format",format:"includes",...Ct(e),includes:t})}function rN(t,e){return new OR({check:"string_format",format:"starts_with",...Ct(e),prefix:t})}function iN(t,e){return new NR({check:"string_format",format:"ends_with",...Ct(e),suffix:t})}function Cm(t){return new jR({check:"overwrite",tx:t})}function sN(t){return Cm(e=>e.normalize(t))}function lN(){return Cm(t=>t.trim())}function oN(){return Cm(t=>t.toLowerCase())}function uN(){return Cm(t=>t.toUpperCase())}function cN(t,e,n){return new t({type:"array",element:e,...Ct(n)})}function dN(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ct(n)})}function fN(t){const e=hN(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(lm(a,n.value,e._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(lm(i))}},t(n.value,n)));return e}function hN(t,e){const n=new yl({check:"custom",...Ct(e)});return n._zod.check=t,n}const mN=Me("ZodISODateTime",(t,e)=>{IR.init(t,e),Zn.init(t,e)});function gN(t){return XO(mN,t)}const pN=Me("ZodISODate",(t,e)=>{ZR.init(t,e),Zn.init(t,e)});function vN(t){return KO(pN,t)}const yN=Me("ZodISOTime",(t,e)=>{XR.init(t,e),Zn.init(t,e)});function bN(t){return FO(yN,t)}const _N=Me("ZodISODuration",(t,e)=>{KR.init(t,e),Zn.init(t,e)});function xN(t){return $O(_N,t)}const wN=(t,e)=>{F2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>PA(t,n)},flatten:{value:n=>UA(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,t2,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,t2,2)}},isEmpty:{get(){return t.issues.length===0}}})},Yi=Me("ZodError",wN,{Parent:Error}),SN=zv(Yi),EN=kv(Yi),CN=Lv(Yi),TN=Uv(Yi),AN=VA(Yi),RN=YA(Yi),ON=IA(Yi),NN=ZA(Yi),jN=XA(Yi),MN=KA(Yi),DN=FA(Yi),zN=$A(Yi),Sa=Me("ZodType",(t,e)=>(ha.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(qc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>_u(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>SN(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>CN(t,n,a),t.parseAsync=async(n,a)=>EN(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>TN(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>AN(t,n,a),t.decode=(n,a)=>RN(t,n,a),t.encodeAsync=async(n,a)=>ON(t,n,a),t.decodeAsync=async(n,a)=>NN(t,n,a),t.safeEncode=(n,a)=>jN(t,n,a),t.safeDecode=(n,a)=>MN(t,n,a),t.safeEncodeAsync=async(n,a)=>DN(t,n,a),t.safeDecodeAsync=async(n,a)=>zN(t,n,a),t.refine=(n,a)=>t.check(Cj(n,a)),t.superRefine=n=>t.check(Tj(n)),t.overwrite=n=>t.check(Cm(n)),t.optional=()=>Vx(t),t.nullable=()=>Yx(t),t.nullish=()=>Vx(Yx(t)),t.nonoptional=n=>yj(t,n),t.array=()=>rj(t),t.or=n=>lj([t,n]),t.and=n=>uj(t,n),t.transform=n=>Ix(t,fj(n)),t.default=n=>gj(t,n),t.prefault=n=>vj(t,n),t.catch=n=>_j(t,n),t.pipe=n=>Ix(t,n),t.readonly=()=>Sj(t),t.describe=n=>{const a=t.clone();return yp.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return yp.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return yp.get(t);const a=t.clone();return yp.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),F3=Me("_ZodString",(t,e)=>{$2.init(t,e),Sa.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(eN(...a)),t.includes=(...a)=>t.check(aN(...a)),t.startsWith=(...a)=>t.check(rN(...a)),t.endsWith=(...a)=>t.check(iN(...a)),t.min=(...a)=>t.check(fv(...a)),t.max=(...a)=>t.check(X3(...a)),t.length=(...a)=>t.check(K3(...a)),t.nonempty=(...a)=>t.check(fv(1,...a)),t.lowercase=a=>t.check(tN(a)),t.uppercase=a=>t.check(nN(a)),t.trim=()=>t.check(lN()),t.normalize=(...a)=>t.check(sN(...a)),t.toLowerCase=()=>t.check(oN()),t.toUpperCase=()=>t.check(uN())}),kN=Me("ZodString",(t,e)=>{$2.init(t,e),F3.init(t,e),t.email=n=>t.check(Z3($3,n)),t.url=n=>t.check(jO(LN,n)),t.jwt=n=>t.check(ZO(QN,n)),t.emoji=n=>t.check(MO(UN,n)),t.guid=n=>t.check(Hx(Gx,n)),t.uuid=n=>t.check(AO(bp,n)),t.uuidv4=n=>t.check(RO(bp,n)),t.uuidv6=n=>t.check(OO(bp,n)),t.uuidv7=n=>t.check(NO(bp,n)),t.nanoid=n=>t.check(DO(PN,n)),t.guid=n=>t.check(Hx(Gx,n)),t.cuid=n=>t.check(zO(BN,n)),t.cuid2=n=>t.check(kO(HN,n)),t.ulid=n=>t.check(LO(GN,n)),t.base64=n=>t.check(VO(KN,n)),t.base64url=n=>t.check(YO(FN,n)),t.xid=n=>t.check(UO(qN,n)),t.ksuid=n=>t.check(PO(VN,n)),t.ipv4=n=>t.check(BO(YN,n)),t.ipv6=n=>t.check(HO(IN,n)),t.cidrv4=n=>t.check(GO(ZN,n)),t.cidrv6=n=>t.check(qO(XN,n)),t.e164=n=>t.check(IO($N,n)),t.datetime=n=>t.check(gN(n)),t.date=n=>t.check(vN(n)),t.time=n=>t.check(bN(n)),t.duration=n=>t.check(xN(n))});function Fr(t){return TO(kN,t)}const Zn=Me("ZodStringFormat",(t,e)=>{Yn.init(t,e),F3.init(t,e)}),$3=Me("ZodEmail",(t,e)=>{LR.init(t,e),Zn.init(t,e)});function Q2(t){return Z3($3,t)}const Gx=Me("ZodGUID",(t,e)=>{zR.init(t,e),Zn.init(t,e)}),bp=Me("ZodUUID",(t,e)=>{kR.init(t,e),Zn.init(t,e)}),LN=Me("ZodURL",(t,e)=>{UR.init(t,e),Zn.init(t,e)}),UN=Me("ZodEmoji",(t,e)=>{PR.init(t,e),Zn.init(t,e)}),PN=Me("ZodNanoID",(t,e)=>{BR.init(t,e),Zn.init(t,e)}),BN=Me("ZodCUID",(t,e)=>{HR.init(t,e),Zn.init(t,e)}),HN=Me("ZodCUID2",(t,e)=>{GR.init(t,e),Zn.init(t,e)}),GN=Me("ZodULID",(t,e)=>{qR.init(t,e),Zn.init(t,e)}),qN=Me("ZodXID",(t,e)=>{VR.init(t,e),Zn.init(t,e)}),VN=Me("ZodKSUID",(t,e)=>{YR.init(t,e),Zn.init(t,e)}),YN=Me("ZodIPv4",(t,e)=>{FR.init(t,e),Zn.init(t,e)}),IN=Me("ZodIPv6",(t,e)=>{$R.init(t,e),Zn.init(t,e)}),ZN=Me("ZodCIDRv4",(t,e)=>{QR.init(t,e),Zn.init(t,e)}),XN=Me("ZodCIDRv6",(t,e)=>{WR.init(t,e),Zn.init(t,e)}),KN=Me("ZodBase64",(t,e)=>{JR.init(t,e),Zn.init(t,e)}),FN=Me("ZodBase64URL",(t,e)=>{tO.init(t,e),Zn.init(t,e)}),$N=Me("ZodE164",(t,e)=>{nO.init(t,e),Zn.init(t,e)}),QN=Me("ZodJWT",(t,e)=>{rO.init(t,e),Zn.init(t,e)}),WN=Me("ZodBoolean",(t,e)=>{iO.init(t,e),Sa.init(t,e)});function JN(t){return QO(WN,t)}const ej=Me("ZodUnknown",(t,e)=>{sO.init(t,e),Sa.init(t,e)});function qx(){return WO(ej)}const tj=Me("ZodNever",(t,e)=>{lO.init(t,e),Sa.init(t,e)});function nj(t){return JO(tj,t)}const aj=Me("ZodArray",(t,e)=>{oO.init(t,e),Sa.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(fv(n,a)),t.nonempty=n=>t.check(fv(1,n)),t.max=(n,a)=>t.check(X3(n,a)),t.length=(n,a)=>t.check(K3(n,a)),t.unwrap=()=>t.element});function rj(t,e){return cN(aj,t,e)}const ij=Me("ZodObject",(t,e)=>{cO.init(t,e),Sa.init(t,e),Pn(t,"shape",()=>e.shape),t.keyof=()=>cj(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:qx()}),t.loose=()=>t.clone({...t._zod.def,catchall:qx()}),t.strict=()=>t.clone({...t._zod.def,catchall:nj()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>MA(t,n),t.safeExtend=n=>DA(t,n),t.merge=n=>zA(t,n),t.pick=n=>NA(t,n),t.omit=n=>jA(t,n),t.partial=(...n)=>kA(Q3,t,n[0]),t.required=(...n)=>LA(W3,t,n[0])});function Ff(t,e){const n={type:"object",shape:t??{},...Ct(e)};return new ij(n)}const sj=Me("ZodUnion",(t,e)=>{dO.init(t,e),Sa.init(t,e),t.options=e.options});function lj(t,e){return new sj({type:"union",options:t,...Ct(e)})}const oj=Me("ZodIntersection",(t,e)=>{fO.init(t,e),Sa.init(t,e)});function uj(t,e){return new oj({type:"intersection",left:t,right:e})}const a2=Me("ZodEnum",(t,e)=>{hO.init(t,e),Sa.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,i)=>{const l={};for(const u of a)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new a2({...e,checks:[],...Ct(i),entries:l})},t.exclude=(a,i)=>{const l={...e.entries};for(const u of a)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new a2({...e,checks:[],...Ct(i),entries:l})}});function cj(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new a2({type:"enum",entries:n,...Ct(e)})}const dj=Me("ZodTransform",(t,e)=>{mO.init(t,e),Sa.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new z3(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(lm(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(lm(u))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function fj(t){return new dj({type:"transform",transform:t})}const Q3=Me("ZodOptional",(t,e)=>{gO.init(t,e),Sa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Vx(t){return new Q3({type:"optional",innerType:t})}const hj=Me("ZodNullable",(t,e)=>{pO.init(t,e),Sa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Yx(t){return new hj({type:"nullable",innerType:t})}const mj=Me("ZodDefault",(t,e)=>{vO.init(t,e),Sa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function gj(t,e){return new mj({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():U3(e)}})}const pj=Me("ZodPrefault",(t,e)=>{yO.init(t,e),Sa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function vj(t,e){return new pj({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():U3(e)}})}const W3=Me("ZodNonOptional",(t,e)=>{bO.init(t,e),Sa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function yj(t,e){return new W3({type:"nonoptional",innerType:t,...Ct(e)})}const bj=Me("ZodCatch",(t,e)=>{_O.init(t,e),Sa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function _j(t,e){return new bj({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const xj=Me("ZodPipe",(t,e)=>{xO.init(t,e),Sa.init(t,e),t.in=e.in,t.out=e.out});function Ix(t,e){return new xj({type:"pipe",in:t,out:e})}const wj=Me("ZodReadonly",(t,e)=>{wO.init(t,e),Sa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Sj(t){return new wj({type:"readonly",innerType:t})}const Ej=Me("ZodCustom",(t,e)=>{SO.init(t,e),Sa.init(t,e)});function Cj(t,e={}){return dN(Ej,t,e)}function Tj(t){return fN(t)}var Tm=t=>t.type==="checkbox",Mc=t=>t instanceof Date,Zr=t=>t==null;const J3=t=>typeof t=="object";var fa=t=>!Zr(t)&&!Array.isArray(t)&&J3(t)&&!Mc(t),Aj=t=>fa(t)&&t.target?Tm(t.target)?t.target.checked:t.target.value:t,Rj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Oj=(t,e)=>t.has(Rj(e)),Nj=t=>{const e=t.constructor&&t.constructor.prototype;return fa(e)&&e.hasOwnProperty("isPrototypeOf")},W2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pa(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(W2&&(t instanceof Blob||a))&&(n||fa(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!Nj(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Pa(t[i]));else return t;return e}var Bv=t=>/^\w*$/.test(t),aa=t=>t===void 0,J2=t=>Array.isArray(t)?t.filter(Boolean):[],eb=t=>J2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(t,e,n)=>{if(!e||!fa(t))return n;const a=(Bv(e)?[e]:eb(e)).reduce((i,l)=>Zr(i)?i:i[l],t);return aa(a)||a===t?aa(t[e])?n:t[e]:a},cl=t=>typeof t=="boolean",jn=(t,e,n)=>{let a=-1;const i=Bv(e)?[e]:eb(e),l=i.length,u=l-1;for(;++a<l;){const f=i[a];let h=n;if(a!==u){const p=t[f];h=fa(p)||Array.isArray(p)?p:isNaN(+i[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=h,t=t[f]}};const Zx={BLUR:"blur",FOCUS_OUT:"focusout"},_s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},eo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jj=Oe.createContext(null);jj.displayName="HookFormContext";var Mj=(t,e,n,a=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const u=l;return e._proxyFormState[u]!==_s.all&&(e._proxyFormState[u]=!a||_s.all),t[u]}});return i};const Dj=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect;var di=t=>typeof t=="string",zj=(t,e,n,a,i)=>di(t)?(a&&e.watch.add(t),nt(n,t,i)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),nt(n,l))):(a&&(e.watchAll=!0),n),r2=t=>Zr(t)||!J3(t);function hu(t,e,n=new WeakSet){if(r2(t)||r2(e))return t===e;if(Mc(t)&&Mc(e))return t.getTime()===e.getTime();const a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const u=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const f=e[l];if(Mc(u)&&Mc(f)||fa(u)&&fa(f)||Array.isArray(u)&&Array.isArray(f)?!hu(u,f,n):u!==f)return!1}}return!0}var tb=(t,e,n,a,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:i||!0}}:{},F0=t=>Array.isArray(t)?t:[t],Xx=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function ew(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const i=t[a],l=e[a];if(i&&fa(i)&&l){const u=ew(i,l);fa(u)&&(n[a]=u)}else t[a]&&(n[a]=l)}return n}var Ir=t=>fa(t)&&!Object.keys(t).length,nb=t=>t.type==="file",xs=t=>typeof t=="function",hv=t=>{if(!W2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tw=t=>t.type==="select-multiple",ab=t=>t.type==="radio",kj=t=>ab(t)||Tm(t),oy=t=>hv(t)&&t.isConnected;function Lj(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=aa(t)?a++:t[e[a++]];return t}function Uj(t){for(const e in t)if(t.hasOwnProperty(e)&&!aa(t[e]))return!1;return!0}function ua(t,e){const n=Array.isArray(e)?e:Bv(e)?[e]:eb(e),a=n.length===1?t:Lj(t,n),i=n.length-1,l=n[i];return a&&delete a[l],i!==0&&(fa(a)&&Ir(a)||Array.isArray(a)&&Uj(a))&&ua(t,n.slice(0,-1)),t}var Pj=t=>{for(const e in t)if(xs(t[e]))return!0;return!1};function nw(t){return Array.isArray(t)||fa(t)&&!Pj(t)}function i2(t,e={}){for(const n in t)nw(t[n])?(e[n]=Array.isArray(t[n])?[]:{},i2(t[n],e[n])):aa(t[n])||(e[n]=!0);return e}function Of(t,e,n){n||(n=i2(e));for(const a in t)nw(t[a])?aa(e)||r2(n[a])?n[a]=i2(t[a],Array.isArray(t[a])?[]:{}):Of(t[a],Zr(e)?{}:e[a],n[a]):n[a]=!hu(t[a],e[a]);return n}const Kx={value:!1,isValid:!1},Fx={value:!0,isValid:!0};var aw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!aa(t[0].attributes.value)?aa(t[0].value)||t[0].value===""?Fx:{value:t[0].value,isValid:!0}:Fx:Kx}return Kx},rw=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>aa(t)?t:e?t===""?NaN:t&&+t:n&&di(t)?new Date(t):a?a(t):t;const $x={isValid:!1,value:null};var iw=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,$x):$x;function Qx(t){const e=t.ref;return nb(e)?e.files:ab(e)?iw(t.refs).value:tw(e)?[...e.selectedOptions].map(({value:n})=>n):Tm(e)?aw(t.refs).value:rw(aa(e.value)?t.ref.value:e.value,t)}var Bj=(t,e,n,a)=>{const i={};for(const l of t){const u=nt(e,l);u&&jn(i,l,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:a}},mv=t=>t instanceof RegExp,A0=t=>aa(t)?t:mv(t)?t.source:fa(t)?mv(t.value)?t.value.source:t.value:t,Wx=t=>({isOnSubmit:!t||t===_s.onSubmit,isOnBlur:t===_s.onBlur,isOnChange:t===_s.onChange,isOnAll:t===_s.all,isOnTouch:t===_s.onTouched});const Jx="AsyncFunction";var Hj=t=>!!t&&!!t.validate&&!!(xs(t.validate)&&t.validate.constructor.name===Jx||fa(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Jx)),Gj=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),e4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const $0=(t,e,n,a)=>{for(const i of n||Object.keys(t)){const l=nt(t,i);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if($0(f,e))break}else if(fa(f)&&$0(f,e))break}}};function t4(t,e,n){const a=nt(t,n);if(a||Bv(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),u=nt(e,l),f=nt(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};i.pop()}return{name:n}}var qj=(t,e,n,a)=>{n(t);const{name:i,...l}=t;return Ir(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||_s.all))},Vj=(t,e,n)=>!t||!e||t===e||F0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),Yj=(t,e,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?a.isOnBlur:i.isOnBlur)?!t:(n?a.isOnChange:i.isOnChange)?t:!0,Ij=(t,e)=>!J2(nt(t,e)).length&&ua(t,e),Zj=(t,e,n)=>{const a=F0(nt(t,n));return jn(a,"root",e[n]),jn(t,n,a),t};function n4(t,e,n="validate"){if(di(t)||Array.isArray(t)&&t.every(di)||cl(t)&&!t)return{type:n,message:di(t)?t:"",ref:e}}var pf=t=>fa(t)&&!mv(t)?t:{value:t,message:""},a4=async(t,e,n,a,i,l)=>{const{ref:u,refs:f,required:h,maxLength:p,minLength:v,min:_,max:x,pattern:C,validate:T,name:R,valueAsNumber:O,mount:j}=t._f,M=nt(n,R);if(!j||e.has(R))return{};const z=f?f[0]:u,k=W=>{i&&z.reportValidity&&(z.setCustomValidity(cl(W)?"":W||""),z.reportValidity())},G={},U=ab(u),V=Tm(u),K=U||V,ne=(O||nb(u))&&aa(u.value)&&aa(M)||hv(u)&&u.value===""||M===""||Array.isArray(M)&&!M.length,ge=tb.bind(null,R,a,G),we=(W,he,de,ue=eo.maxLength,H=eo.minLength)=>{const J=W?he:de;G[R]={type:W?ue:H,message:J,ref:u,...ge(W?ue:H,J)}};if(l?!Array.isArray(M)||!M.length:h&&(!K&&(ne||Zr(M))||cl(M)&&!M||V&&!aw(f).isValid||U&&!iw(f).isValid)){const{value:W,message:he}=di(h)?{value:!!h,message:h}:pf(h);if(W&&(G[R]={type:eo.required,message:he,ref:z,...ge(eo.required,he)},!a))return k(he),G}if(!ne&&(!Zr(_)||!Zr(x))){let W,he;const de=pf(x),ue=pf(_);if(!Zr(M)&&!isNaN(M)){const H=u.valueAsNumber||M&&+M;Zr(de.value)||(W=H>de.value),Zr(ue.value)||(he=H<ue.value)}else{const H=u.valueAsDate||new Date(M),J=B=>new Date(new Date().toDateString()+" "+B),F=u.type=="time",ae=u.type=="week";di(de.value)&&M&&(W=F?J(M)>J(de.value):ae?M>de.value:H>new Date(de.value)),di(ue.value)&&M&&(he=F?J(M)<J(ue.value):ae?M<ue.value:H<new Date(ue.value))}if((W||he)&&(we(!!W,de.message,ue.message,eo.max,eo.min),!a))return k(G[R].message),G}if((p||v)&&!ne&&(di(M)||l&&Array.isArray(M))){const W=pf(p),he=pf(v),de=!Zr(W.value)&&M.length>+W.value,ue=!Zr(he.value)&&M.length<+he.value;if((de||ue)&&(we(de,W.message,he.message),!a))return k(G[R].message),G}if(C&&!ne&&di(M)){const{value:W,message:he}=pf(C);if(mv(W)&&!M.match(W)&&(G[R]={type:eo.pattern,message:he,ref:u,...ge(eo.pattern,he)},!a))return k(he),G}if(T){if(xs(T)){const W=await T(M,n),he=n4(W,z);if(he&&(G[R]={...he,...ge(eo.validate,he.message)},!a))return k(he.message),G}else if(fa(T)){let W={};for(const he in T){if(!Ir(W)&&!a)break;const de=n4(await T[he](M,n),z,he);de&&(W={...de,...ge(he,de.message)},k(de.message),a&&(G[R]=W))}if(!Ir(W)&&(G[R]={ref:z,...W},!a))return G}}return k(!0),G};const Xj={mode:_s.onSubmit,reValidateMode:_s.onChange,shouldFocusError:!0};function Kj(t={}){let e={...Xj,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:xs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=fa(e.defaultValues)||fa(e.values)?Pa(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Pa(i),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const x={array:Xx(),state:Xx()},C=e.criteriaMode===_s.all,T=Z=>oe=>{clearTimeout(p),p=setTimeout(Z,oe)},R=async Z=>{if(!e.disabled&&(v.isValid||_.isValid||Z)){const oe=e.resolver?Ir((await V()).errors):await ne(a,!0);oe!==n.isValid&&x.state.next({isValid:oe})}},O=(Z,oe)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((Z||Array.from(f.mount)).forEach(pe=>{pe&&(oe?jn(n.validatingFields,pe,oe):ua(n.validatingFields,pe))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Ir(n.validatingFields)}))},j=(Z,oe=[],pe,Ue,Pe=!0,ke=!0)=>{if(Ue&&pe&&!e.disabled){if(u.action=!0,ke&&Array.isArray(nt(a,Z))){const Ie=pe(nt(a,Z),Ue.argA,Ue.argB);Pe&&jn(a,Z,Ie)}if(ke&&Array.isArray(nt(n.errors,Z))){const Ie=pe(nt(n.errors,Z),Ue.argA,Ue.argB);Pe&&jn(n.errors,Z,Ie),Ij(n.errors,Z)}if((v.touchedFields||_.touchedFields)&&ke&&Array.isArray(nt(n.touchedFields,Z))){const Ie=pe(nt(n.touchedFields,Z),Ue.argA,Ue.argB);Pe&&jn(n.touchedFields,Z,Ie)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Of(i,l)),x.state.next({name:Z,isDirty:we(Z,oe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else jn(l,Z,oe)},M=(Z,oe)=>{jn(n.errors,Z,oe),x.state.next({errors:n.errors})},z=Z=>{n.errors=Z,x.state.next({errors:n.errors,isValid:!1})},k=(Z,oe,pe,Ue)=>{const Pe=nt(a,Z);if(Pe){const ke=nt(l,Z,aa(pe)?nt(i,Z):pe);aa(ke)||Ue&&Ue.defaultChecked||oe?jn(l,Z,oe?ke:Qx(Pe._f)):de(Z,ke),u.mount&&R()}},G=(Z,oe,pe,Ue,Pe)=>{let ke=!1,Ie=!1;const Qe={name:Z};if(!e.disabled){if(!pe||Ue){(v.isDirty||_.isDirty)&&(Ie=n.isDirty,n.isDirty=Qe.isDirty=we(),ke=Ie!==Qe.isDirty);const Et=hu(nt(i,Z),oe);Ie=!!nt(n.dirtyFields,Z),Et?ua(n.dirtyFields,Z):jn(n.dirtyFields,Z,!0),Qe.dirtyFields=n.dirtyFields,ke=ke||(v.dirtyFields||_.dirtyFields)&&Ie!==!Et}if(pe){const Et=nt(n.touchedFields,Z);Et||(jn(n.touchedFields,Z,pe),Qe.touchedFields=n.touchedFields,ke=ke||(v.touchedFields||_.touchedFields)&&Et!==pe)}ke&&Pe&&x.state.next(Qe)}return ke?Qe:{}},U=(Z,oe,pe,Ue)=>{const Pe=nt(n.errors,Z),ke=(v.isValid||_.isValid)&&cl(oe)&&n.isValid!==oe;if(e.delayError&&pe?(h=T(()=>M(Z,pe)),h(e.delayError)):(clearTimeout(p),h=null,pe?jn(n.errors,Z,pe):ua(n.errors,Z)),(pe?!hu(Pe,pe):Pe)||!Ir(Ue)||ke){const Ie={...Ue,...ke&&cl(oe)?{isValid:oe}:{},errors:n.errors,name:Z};n={...n,...Ie},x.state.next(Ie)}},V=async Z=>{O(Z,!0);const oe=await e.resolver(l,e.context,Bj(Z||f.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(Z),oe},K=async Z=>{const{errors:oe}=await V(Z);if(Z)for(const pe of Z){const Ue=nt(oe,pe);Ue?jn(n.errors,pe,Ue):ua(n.errors,pe)}else n.errors=oe;return oe},ne=async(Z,oe,pe={valid:!0})=>{for(const Ue in Z){const Pe=Z[Ue];if(Pe){const{_f:ke,...Ie}=Pe;if(ke){const Qe=f.array.has(ke.name),Et=Pe._f&&Hj(Pe._f);Et&&v.validatingFields&&O([ke.name],!0);const rn=await a4(Pe,f.disabled,l,C,e.shouldUseNativeValidation&&!oe,Qe);if(Et&&v.validatingFields&&O([ke.name]),rn[ke.name]&&(pe.valid=!1,oe))break;!oe&&(nt(rn,ke.name)?Qe?Zj(n.errors,rn,ke.name):jn(n.errors,ke.name,rn[ke.name]):ua(n.errors,ke.name))}!Ir(Ie)&&await ne(Ie,oe,pe)}}return pe.valid},ge=()=>{for(const Z of f.unMount){const oe=nt(a,Z);oe&&(oe._f.refs?oe._f.refs.every(pe=>!oy(pe)):!oy(oe._f.ref))&&st(Z)}f.unMount=new Set},we=(Z,oe)=>!e.disabled&&(Z&&oe&&jn(l,Z,oe),!hu(B(),i)),W=(Z,oe,pe)=>zj(Z,f,{...u.mount?l:aa(oe)?i:di(Z)?{[Z]:oe}:oe},pe,oe),he=Z=>J2(nt(u.mount?l:i,Z,e.shouldUnregister?nt(i,Z,[]):[])),de=(Z,oe,pe={})=>{const Ue=nt(a,Z);let Pe=oe;if(Ue){const ke=Ue._f;ke&&(!ke.disabled&&jn(l,Z,rw(oe,ke)),Pe=hv(ke.ref)&&Zr(oe)?"":oe,tw(ke.ref)?[...ke.ref.options].forEach(Ie=>Ie.selected=Pe.includes(Ie.value)):ke.refs?Tm(ke.ref)?ke.refs.forEach(Ie=>{(!Ie.defaultChecked||!Ie.disabled)&&(Array.isArray(Pe)?Ie.checked=!!Pe.find(Qe=>Qe===Ie.value):Ie.checked=Pe===Ie.value||!!Pe)}):ke.refs.forEach(Ie=>Ie.checked=Ie.value===Pe):nb(ke.ref)?ke.ref.value="":(ke.ref.value=Pe,ke.ref.type||x.state.next({name:Z,values:Pa(l)})))}(pe.shouldDirty||pe.shouldTouch)&&G(Z,Pe,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&ae(Z)},ue=(Z,oe,pe)=>{for(const Ue in oe){if(!oe.hasOwnProperty(Ue))return;const Pe=oe[Ue],ke=Z+"."+Ue,Ie=nt(a,ke);(f.array.has(Z)||fa(Pe)||Ie&&!Ie._f)&&!Mc(Pe)?ue(ke,Pe,pe):de(ke,Pe,pe)}},H=(Z,oe,pe={})=>{const Ue=nt(a,Z),Pe=f.array.has(Z),ke=Pa(oe);jn(l,Z,ke),Pe?(x.array.next({name:Z,values:Pa(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&pe.shouldDirty&&x.state.next({name:Z,dirtyFields:Of(i,l),isDirty:we(Z,ke)})):Ue&&!Ue._f&&!Zr(ke)?ue(Z,ke,pe):de(Z,ke,pe),e4(Z,f)&&x.state.next({...n,name:Z}),x.state.next({name:u.mount?Z:void 0,values:Pa(l)})},J=async Z=>{u.mount=!0;const oe=Z.target;let pe=oe.name,Ue=!0;const Pe=nt(a,pe),ke=Et=>{Ue=Number.isNaN(Et)||Mc(Et)&&isNaN(Et.getTime())||hu(Et,nt(l,pe,Et))},Ie=Wx(e.mode),Qe=Wx(e.reValidateMode);if(Pe){let Et,rn;const Qa=oe.type?Qx(Pe._f):Aj(Z),ma=Z.type===Zx.BLUR||Z.type===Zx.FOCUS_OUT,Ca=!Gj(Pe._f)&&!e.resolver&&!nt(n.errors,pe)&&!Pe._f.deps||Yj(ma,nt(n.touchedFields,pe),n.isSubmitted,Qe,Ie),Wa=e4(pe,f,ma);jn(l,pe,Qa),ma?(!oe||!oe.readOnly)&&(Pe._f.onBlur&&Pe._f.onBlur(Z),h&&h(0)):Pe._f.onChange&&Pe._f.onChange(Z);const Ja=G(pe,Qa,ma),ga=!Ir(Ja)||Wa;if(!ma&&x.state.next({name:pe,type:Z.type,values:Pa(l)}),Ca)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?ma&&R():ma||R()),ga&&x.state.next({name:pe,...Wa?{}:Ja});if(!ma&&Wa&&x.state.next({...n}),e.resolver){const{errors:jr}=await V([pe]);if(ke(Qa),Ue){const gr=t4(n.errors,a,pe),pr=t4(jr,a,gr.name||pe);Et=pr.error,pe=pr.name,rn=Ir(jr)}}else O([pe],!0),Et=(await a4(Pe,f.disabled,l,C,e.shouldUseNativeValidation))[pe],O([pe]),ke(Qa),Ue&&(Et?rn=!1:(v.isValid||_.isValid)&&(rn=await ne(a,!0)));Ue&&(Pe._f.deps&&(!Array.isArray(Pe._f.deps)||Pe._f.deps.length>0)&&ae(Pe._f.deps),U(pe,rn,Et,Ja))}},F=(Z,oe)=>{if(nt(n.errors,oe)&&Z.focus)return Z.focus(),1},ae=async(Z,oe={})=>{let pe,Ue;const Pe=F0(Z);if(e.resolver){const ke=await K(aa(Z)?Z:Pe);pe=Ir(ke),Ue=Z?!Pe.some(Ie=>nt(ke,Ie)):pe}else Z?(Ue=(await Promise.all(Pe.map(async ke=>{const Ie=nt(a,ke);return await ne(Ie&&Ie._f?{[ke]:Ie}:Ie)}))).every(Boolean),!(!Ue&&!n.isValid)&&R()):Ue=pe=await ne(a);return x.state.next({...!di(Z)||(v.isValid||_.isValid)&&pe!==n.isValid?{}:{name:Z},...e.resolver||!Z?{isValid:pe}:{},errors:n.errors}),oe.shouldFocus&&!Ue&&$0(a,F,Z?Pe:f.mount),Ue},B=(Z,oe)=>{let pe={...u.mount?l:i};return oe&&(pe=ew(oe.dirtyFields?n.dirtyFields:n.touchedFields,pe)),aa(Z)?pe:di(Z)?nt(pe,Z):Z.map(Ue=>nt(pe,Ue))},ee=(Z,oe)=>({invalid:!!nt((oe||n).errors,Z),isDirty:!!nt((oe||n).dirtyFields,Z),error:nt((oe||n).errors,Z),isValidating:!!nt(n.validatingFields,Z),isTouched:!!nt((oe||n).touchedFields,Z)}),_e=Z=>{Z&&F0(Z).forEach(oe=>ua(n.errors,oe)),x.state.next({errors:Z?n.errors:{}})},Se=(Z,oe,pe)=>{const Ue=(nt(a,Z,{_f:{}})._f||{}).ref,Pe=nt(n.errors,Z)||{},{ref:ke,message:Ie,type:Qe,...Et}=Pe;jn(n.errors,Z,{...Et,...oe,ref:Ue}),x.state.next({name:Z,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&Ue&&Ue.focus&&Ue.focus()},Ve=(Z,oe)=>xs(Z)?x.state.subscribe({next:pe=>"values"in pe&&Z(W(void 0,oe),pe)}):W(Z,oe,!0),lt=Z=>x.state.subscribe({next:oe=>{Vj(Z.name,oe.name,Z.exact)&&qj(oe,Z.formState||v,dn,Z.reRenderRoot)&&Z.callback({values:{...l},...n,...oe,defaultValues:i})}}).unsubscribe,Ze=Z=>(u.mount=!0,_={..._,...Z.formState},lt({...Z,formState:_})),st=(Z,oe={})=>{for(const pe of Z?F0(Z):f.mount)f.mount.delete(pe),f.array.delete(pe),oe.keepValue||(ua(a,pe),ua(l,pe)),!oe.keepError&&ua(n.errors,pe),!oe.keepDirty&&ua(n.dirtyFields,pe),!oe.keepTouched&&ua(n.touchedFields,pe),!oe.keepIsValidating&&ua(n.validatingFields,pe),!e.shouldUnregister&&!oe.keepDefaultValue&&ua(i,pe);x.state.next({values:Pa(l)}),x.state.next({...n,...oe.keepDirty?{isDirty:we()}:{}}),!oe.keepIsValid&&R()},_t=({disabled:Z,name:oe})=>{(cl(Z)&&u.mount||Z||f.disabled.has(oe))&&(Z?f.disabled.add(oe):f.disabled.delete(oe))},Ce=(Z,oe={})=>{let pe=nt(a,Z);const Ue=cl(oe.disabled)||cl(e.disabled);return jn(a,Z,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:Z}},name:Z,mount:!0,...oe}}),f.mount.add(Z),pe?_t({disabled:cl(oe.disabled)?oe.disabled:e.disabled,name:Z}):k(Z,!0,oe.value),{...Ue?{disabled:oe.disabled||e.disabled}:{},...e.progressive?{required:!!oe.required,min:A0(oe.min),max:A0(oe.max),minLength:A0(oe.minLength),maxLength:A0(oe.maxLength),pattern:A0(oe.pattern)}:{},name:Z,onChange:J,onBlur:J,ref:Pe=>{if(Pe){Ce(Z,oe),pe=nt(a,Z);const ke=aa(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,Ie=kj(ke),Qe=pe._f.refs||[];if(Ie?Qe.find(Et=>Et===ke):ke===pe._f.ref)return;jn(a,Z,{_f:{...pe._f,...Ie?{refs:[...Qe.filter(oy),ke,...Array.isArray(nt(i,Z))?[{}]:[]],ref:{type:ke.type,name:Z}}:{ref:ke}}}),k(Z,!1,void 0,ke)}else pe=nt(a,Z,{}),pe._f&&(pe._f.mount=!1),(e.shouldUnregister||oe.shouldUnregister)&&!(Oj(f.array,Z)&&u.action)&&f.unMount.add(Z)}}},Ne=()=>e.shouldFocusError&&$0(a,F,f.mount),ot=Z=>{cl(Z)&&(x.state.next({disabled:Z}),$0(a,(oe,pe)=>{const Ue=nt(a,pe);Ue&&(oe.disabled=Ue._f.disabled||Z,Array.isArray(Ue._f.refs)&&Ue._f.refs.forEach(Pe=>{Pe.disabled=Ue._f.disabled||Z}))},0,!1))},vt=(Z,oe)=>async pe=>{let Ue;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let Pe=Pa(l);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:ke,values:Ie}=await V();n.errors=ke,Pe=Pa(Ie)}else await ne(a);if(f.disabled.size)for(const ke of f.disabled)ua(Pe,ke);if(ua(n.errors,"root"),Ir(n.errors)){x.state.next({errors:{}});try{await Z(Pe,pe)}catch(ke){Ue=ke}}else oe&&await oe({...n.errors},pe),Ne(),setTimeout(Ne);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(n.errors)&&!Ue,submitCount:n.submitCount+1,errors:n.errors}),Ue)throw Ue},yt=(Z,oe={})=>{nt(a,Z)&&(aa(oe.defaultValue)?H(Z,Pa(nt(i,Z))):(H(Z,oe.defaultValue),jn(i,Z,Pa(oe.defaultValue))),oe.keepTouched||ua(n.touchedFields,Z),oe.keepDirty||(ua(n.dirtyFields,Z),n.isDirty=oe.defaultValue?we(Z,Pa(nt(i,Z))):we()),oe.keepError||(ua(n.errors,Z),v.isValid&&R()),x.state.next({...n}))},At=(Z,oe={})=>{const pe=Z?Pa(Z):i,Ue=Pa(pe),Pe=Ir(Z),ke=Pe?i:Ue;if(oe.keepDefaultValues||(i=pe),!oe.keepValues){if(oe.keepDirtyValues){const Ie=new Set([...f.mount,...Object.keys(Of(i,l))]);for(const Qe of Array.from(Ie))nt(n.dirtyFields,Qe)?jn(ke,Qe,nt(l,Qe)):H(Qe,nt(ke,Qe))}else{if(W2&&aa(Z))for(const Ie of f.mount){const Qe=nt(a,Ie);if(Qe&&Qe._f){const Et=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(hv(Et)){const rn=Et.closest("form");if(rn){rn.reset();break}}}}if(oe.keepFieldsRef)for(const Ie of f.mount)H(Ie,nt(ke,Ie));else a={}}l=e.shouldUnregister?oe.keepDefaultValues?Pa(i):{}:Pa(ke),x.array.next({values:{...ke}}),x.state.next({values:{...ke}})}f={mount:oe.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,u.watch=!!e.shouldUnregister,x.state.next({submitCount:oe.keepSubmitCount?n.submitCount:0,isDirty:Pe?!1:oe.keepDirty?n.isDirty:!!(oe.keepDefaultValues&&!hu(Z,i)),isSubmitted:oe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Pe?{}:oe.keepDirtyValues?oe.keepDefaultValues&&l?Of(i,l):n.dirtyFields:oe.keepDefaultValues&&Z?Of(i,Z):oe.keepDirty?n.dirtyFields:{},touchedFields:oe.keepTouched?n.touchedFields:{},errors:oe.keepErrors?n.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ft=(Z,oe)=>At(xs(Z)?Z(l):Z,oe),_n=(Z,oe={})=>{const pe=nt(a,Z),Ue=pe&&pe._f;if(Ue){const Pe=Ue.refs?Ue.refs[0]:Ue.ref;Pe.focus&&(Pe.focus(),oe.shouldSelect&&xs(Pe.select)&&Pe.select())}},dn=Z=>{n={...n,...Z}},$a={control:{register:Ce,unregister:st,getFieldState:ee,handleSubmit:vt,setError:Se,_subscribe:lt,_runSchema:V,_focusError:Ne,_getWatch:W,_getDirty:we,_setValid:R,_setFieldArray:j,_setDisabledField:_t,_setErrors:z,_getFieldArray:he,_reset:At,_resetDefaultValues:()=>xs(e.defaultValues)&&e.defaultValues().then(Z=>{Ft(Z,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:ge,_disableForm:ot,_subjects:x,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(Z){u=Z},get _defaultValues(){return i},get _names(){return f},set _names(Z){f=Z},get _formState(){return n},get _options(){return e},set _options(Z){e={...e,...Z}}},subscribe:Ze,trigger:ae,register:Ce,handleSubmit:vt,watch:Ve,setValue:H,getValues:B,reset:Ft,resetField:yt,clearErrors:_e,unregister:st,setError:Se,setFocus:_n,getFieldState:ee};return{...$a,formControl:$a}}function Gf(t={}){const e=Oe.useRef(void 0),n=Oe.useRef(void 0),[a,i]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:xs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:xs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!xs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...f}=Kj(t);e.current={...f,formState:a}}const l=e.current.control;return l._options=t,Dj(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),Oe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Oe.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Oe.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Oe.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Oe.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),Oe.useEffect(()=>{t.values&&!hu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,i(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),Oe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=Mj(a,l),e.current}const r4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=nt(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},s2=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?r4(a.ref,n,t):a&&a.refs&&a.refs.forEach(i=>r4(i,n,t))}},i4=(t,e)=>{e.shouldUseNativeValidation&&s2(t,e);const n={};for(const a in t){const i=nt(e.fields,a),l=Object.assign(t[a]||{},{ref:i&&i.ref});if(Fj(e.names||Object.keys(t),a)){const u=Object.assign({},nt(n,a));jn(u,"root",l),jn(n,a,u)}else jn(n,a,l)}return n},Fj=(t,e)=>{const n=s4(e);return t.some(a=>s4(a).match(`^${n}\\.\\d+`))};function s4(t){return t.replace(/\]|\[/g,"")}function l4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function $j(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if("unionErrors"in a){var f=a.unionErrors[0].errors[0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var h=n[u].types,p=h&&h[a.code];n[u]=tb(u,e,n,i,p?[].concat(p,a.message):a.message)}t.shift()}return n}function Qj(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if(a.code==="invalid_union"&&a.errors.length>0){var f=a.errors[0][0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:i};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var h=n[u].types,p=h&&h[a.code];n[u]=tb(u,e,n,i,p?[].concat(p,a.message):a.message)}t.shift()}return n}function qf(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,i,l){try{return Promise.resolve(l4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(u){return l.shouldUseNativeValidation&&s2({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:i4($j(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,i,l){try{return Promise.resolve(l4(function(){return Promise.resolve((n.mode==="sync"?BA:HA)(t,a,e)).then(function(u){return l.shouldUseNativeValidation&&s2({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(f){return f instanceof F2})(u))return{values:{},errors:i4(Qj(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}async function sw(t){const{data:e}=await an.from("users").select("id").eq("email",t).maybeSingle();return!!e}async function Wj(t){const{data:e}=await an.from("users").select("id").eq("username",t).maybeSingle();return!!e}const Jj=Ff({email:Q2("invalid email"),password:Fr("Password Required")}),eM=Ff({email:Q2("Invalid email address")});function tM(){const t=_m(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),{register:l,handleSubmit:u,setError:f,formState:{errors:h,isSubmitting:p}}=Gf({resolver:qf(Jj)}),{register:v,handleSubmit:_,formState:{errors:x,isSubmitting:C}}=Gf({resolver:qf(eM)}),T=async M=>{M.preventDefault();try{const{data:z,error:k}=await an.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://x3nozite.github.io/rect-up/"}});if(k){console.error("cant handle oauth:",k);return}}catch(z){console.error("cant sign in with google: ",z)}},R=async M=>{try{const{email:z,password:k}=M;if(!await sw(z)){f("email",{message:"Email is not yet registered!"});return}const{error:U}=await an.auth.signInWithPassword({email:z,password:k});if(U){alert(U.message);return}alert("login successful!"),t("/")}catch(z){f("root",{message:"Error! "+z}),alert("Error sign in!: "+z)}},O=async M=>{try{const z="https://x3nozite.github.io/rect-up/",{error:k}=await an.auth.resetPasswordForEmail(M.email,{redirectTo:`${z}#/reset-password`});if(k){alert("Error: "+k.message);return}i(!0)}catch(z){alert("Error sending reset email: "+z)}},j=()=>{n(!1),i(!1)};return w.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[w.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[w.jsx(M3,{className:"text-lg"}),w.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),w.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden ",children:[w.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),w.jsxs("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:[" ","The all in one task management app"]})]}),w.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:w.jsx("img",{src:lv,alt:"",className:"object-cover w-full h-full"})}),w.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2 overflow-auto",children:[w.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:w.jsxs("div",{className:"my-company flex flex-col text-center  lg:flex",children:[w.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),w.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),w.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[w.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[w.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),w.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),w.jsx("div",{className:"main-form ",children:w.jsxs("form",{className:"flex flex-col justify-between",onSubmit:u(R),children:[w.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[w.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),w.jsx("input",{...l("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),h.email&&w.jsx("div",{className:"text-red-500",children:h.email?.message})]}),w.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[w.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[w.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),w.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",onClick:()=>n(!0),children:"Forgot Password?"})]}),w.jsx("input",{...l("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),h.password&&w.jsx("div",{className:"text-red-500",children:h.password?.message})]}),w.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[w.jsx("div",{className:"flex justify-center items-center w-full",children:w.jsx("button",{type:"submit",disabled:p,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:p?"Loading...":"Continue with email"})}),w.jsx("div",{className:"flex justify-center items-center w-full",children:w.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),w.jsxs("button",{onClick:T,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[w.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})})]})]}),w.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:w.jsx("img",{src:lv,alt:"",className:"object-cover w-full h-full"})}),e&&w.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[w.jsx("button",{onClick:j,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl",children:""}),a?w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"success-icon mb-4",children:w.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:w.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),w.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Check your email"}),w.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and click the link to reset your password."}),w.jsx("button",{onClick:j,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Close"})]}):w.jsxs(w.Fragment,{children:[w.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Forgot Password"}),w.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),w.jsxs("form",{onSubmit:_(O),children:[w.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[w.jsx("label",{htmlFor:"forgot-email",className:"font-bold",children:"Email"}),w.jsx("input",{...v("email"),type:"email",id:"forgot-email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),x.email&&w.jsx("div",{className:"text-red-500 text-sm",children:x.email?.message})]}),w.jsx("button",{type:"submit",disabled:C,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:C?"Sending...":"Send Reset Link"})]})]})]})})]})}const nM=Ff({username:Fr().min(1,"Username is required"),email:Q2("Email is required"),password:Fr("Password is required").min(8,"Password at least 8 characters long"),confirmPassword:Fr()}).superRefine(async({confirmPassword:t,password:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Password must match",path:["confirmPassword"]})});function aM(){const{register:t,handleSubmit:e,setError:n,formState:{errors:a,isSubmitting:i}}=Gf({resolver:qf(nM),mode:"onSubmit"}),l=_m(),u=async f=>{try{const{username:h,email:p,password:v}=f,_=await sw(p),x=await Wj(h);if(_){n("email",{message:"Email already exists"});return}if(x){n("username",{message:"Username already exists!"});return}const{error:C}=await an.auth.signUp({email:p,password:v,options:{data:{username:h}}});if(C){n("root",{message:C.message}),alert("Error creating account: "+C.message);return}alert("Account created successfully, please verify email"),l("/signin")}catch(h){n("root",{message:"Error!"+h}),alert("Error creating account: "+h)}};return w.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[w.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>l("/"),children:[w.jsx(M3,{className:"text-lg"}),w.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),w.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[w.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),w.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),w.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[w.jsx("img",{src:lv,alt:"",className:"object-cover w-full h-full"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),w.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:w.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[w.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[w.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),w.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),w.jsx("div",{className:"main-form",children:w.jsxs("form",{onSubmit:e(u),className:"flex flex-col justify-between",autoComplete:"off",children:[w.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[w.jsx("label",{className:"font-bold",children:"Username"}),w.jsx("input",{...t("username"),type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-username"}),a.username&&w.jsx("div",{className:"text-red-500",children:a.username?.message})]}),w.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[w.jsx("label",{className:"font-bold",children:"Email"}),w.jsx("input",{...t("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-email"}),a.email&&w.jsx("div",{className:"text-red-500",children:a.email?.message})]}),w.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[w.jsx("label",{className:"font-bold",children:"Password"}),w.jsx("input",{...t("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-password"}),a.password&&w.jsx("div",{className:"text-red-500",children:a.password?.message})]}),w.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[w.jsx("label",{className:"font-bold",children:"Confirm Password"}),w.jsx("input",{...t("confirmPassword"),type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-confirmPassword"}),a.confirmPassword&&w.jsx("div",{className:"text-red-500",children:a.confirmPassword?.message})]}),w.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[w.jsx("button",{type:"submit",disabled:i,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:i?"Loading...":"Create Account"}),w.jsx("button",{onClick:()=>l("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]}),a.root&&w.jsx("div",{className:"text-red-500",children:a.root.message})]})})]})}),w.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:w.jsx("img",{src:lv,alt:"",className:"object-cover w-full h-full"})})]})}const rM=Ff({password:Fr().min(8,"Password must be at least 8 characters long"),confirmPassword:Fr()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function iM(){const t=_m(),[e,n]=N.useState(!1),[a,i]=N.useState(!1),[l,u]=N.useState(!0),[f,h]=N.useState(""),{register:p,handleSubmit:v,formState:{errors:_,isSubmitting:x}}=Gf({resolver:qf(rM)});N.useEffect(()=>{(async()=>{try{const j=window.location.hash.split("#"),M=j.length>2?j[2]:j[1],z=new URLSearchParams(M),k=z.get("error"),G=z.get("error_description");if(k){console.error("Supabase error:",k,G),k==="access_denied"&&G?.includes("expired")?h("The reset link has expired. Password reset links are valid for 1 hour only."):h("Invalid reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}const U=z.get("access_token"),V=z.get("refresh_token"),K=z.get("type");if(U&&K==="recovery"){const{data:ne,error:ge}=await an.auth.setSession({access_token:U,refresh_token:V||""});if(ge){console.error("Session error:",ge),h("Failed to validate reset link. Please request a new one."),u(!1),setTimeout(()=>{t("/signin")},3e3);return}ne.session&&(i(!0),u(!1))}else h("No valid reset token found. Please request a new reset link."),u(!1),setTimeout(()=>{t("/signin")},3e3)}catch(O){console.error("Error in handlePasswordReset:",O),h("An error occurred. Please try again."),u(!1),setTimeout(()=>{t("/signin")},3e3)}})();const{data:R}=an.auth.onAuthStateChange((O,j)=>{O==="PASSWORD_RECOVERY"&&j&&(i(!0),u(!1))});return()=>{R.subscription.unsubscribe()}},[t]);const C=async T=>{try{const{error:R}=await an.auth.updateUser({password:T.password});if(R){alert("Error: "+R.message);return}n(!0),setTimeout(()=>{t("/signin")},3e3)}catch(R){alert("Error resetting password: "+R)}};return l?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-lg text-gray-700",children:"Validating reset link..."})]})}):f?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[w.jsx("div",{className:"error-icon mb-4",children:w.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:w.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),w.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"Link Invalid"}),w.jsx("p",{className:"text-gray-600 mb-6",children:f}),w.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Back to Sign In"})]})}):e?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg text-center",children:[w.jsx("div",{className:"success-icon mb-4",children:w.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:w.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),w.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Reset Successfully!"}),w.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You will be redirected to the sign in page in a few seconds."}),w.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Sign In Now"})]})}):a?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reset Password"}),w.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),w.jsxs("form",{className:"flex flex-col gap-6",onSubmit:v(C),children:[w.jsxs("div",{className:"flex flex-col gap-y-2",children:[w.jsx("label",{htmlFor:"password",className:"font-bold",children:"New Password"}),w.jsx("input",{...p("password"),type:"password",placeholder:"Enter new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.password&&w.jsx("div",{className:"text-red-500 text-sm",children:_.password?.message})]}),w.jsxs("div",{className:"flex flex-col gap-y-2",children:[w.jsx("label",{htmlFor:"confirmPassword",className:"font-bold",children:"Confirm Password"}),w.jsx("input",{...p("confirmPassword"),type:"password",placeholder:"Confirm new password",className:"border border-gray-300 rounded-lg p-2 shadow-sm"}),_.confirmPassword&&w.jsx("div",{className:"text-red-500 text-sm",children:_.confirmPassword?.message})]}),w.jsx("button",{type:"submit",disabled:x,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:bg-blue-400",children:x?"Resetting...":"Reset Password"})]})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsx("div",{className:"text-center",children:w.jsx("p",{className:"text-lg",children:"Redirecting..."})})})}const sM=Math.PI/180;function lM(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Dc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ye={_global:Dc,version:"10.0.2",isBrowser:lM(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ye.angleDeg?t*sM:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ye.DD.isDragging},isTransforming(){var t,e;return(e=(t=Ye.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Ye.DD.node},releaseCanvasOnDestroy:!0,document:Dc.document,_injectGlobal(t){typeof Dc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Dc.Konva=t}},Xn=t=>{Ye[t.prototype.getClassName()]=t};Ye._injectGlobal(Ye);const oM=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,o4=()=>{if(typeof document>"u")throw new Error(oM)};class fi{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new fi(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,f=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=l,this.m[2]=u,this.m[3]=f,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=l,this.m[3]=u,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],f=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,l=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),f=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=f,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],l=this.m[4],u=this.m[5],f=e*i-n*a,h={x:l,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const p=Math.sqrt(e*e+n*n);h.rotation=n>0?Math.acos(e/p):-Math.acos(e/p),h.scaleX=p,h.scaleY=f/p,h.skewX=(e*a+n*i)/f,h.skewY=0}else if(a!=0||i!=0){const p=Math.sqrt(a*a+i*i);h.rotation=Math.PI/2-(i>0?Math.acos(-a/p):-Math.acos(a/p)),h.scaleX=f/p,h.scaleY=p,h.skewX=0,h.skewY=(e*a+n*i)/f}return h.rotation=le._getRotation(h.rotation),h}}const uM="[object Array]",cM="[object Number]",dM="[object String]",fM="[object Boolean]",hM=Math.PI/180,mM=180/Math.PI,uy="#",gM="",pM="0",vM="Konva warning: ",u4="Konva error: ",yM="rgb(",cy={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},bM=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let _p=[];const _M=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},le={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===uM},_isNumber(t){return Object.prototype.toString.call(t)===cM&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===dM},_isBoolean(t){return Object.prototype.toString.call(t)===fM},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){_p.push(t),_p.length===1&&_M(function(){const e=_p;_p=[],e.forEach(function(n){n()})})},createCanvasElement(){o4();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return o4(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=le.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(uy,gM);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=pM+t;return uy+t},getRGB(t){let e;return t in cy?(e=cy[t],{r:e[0],g:e[1],b:e[2]}):t[0]===uy?this._hexToRgb(t.substring(1)):t.substr(0,4)===yM?(e=bM.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",le._namedColorToRBA(t)||le._hex3ColorToRGBA(t)||le._hex4ColorToRGBA(t)||le._hex6ColorToRGBA(t)||le._hex8ColorToRGBA(t)||le._rgbColorToRGBA(t)||le._rgbaColorToRGBA(t)||le._hslColorToRGBA(t)},_namedColorToRBA(t){const e=cy[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,l=Number(n[2])/100;let u,f,h;if(i===0)return h=l*255,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};l<.5?u=l*(1+i):u=l+i-l*i;const p=2*l-u,v=[0,0,0];for(let _=0;_<3;_++)f=a+1/3*-(_-1),f<0&&f++,f>1&&f--,6*f<1?h=p+(u-p)*6*f:2*f<1?h=u:3*f<2?h=p+(u-p)*(2/3-f)*6:h=p,v[_]=h*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*hM},radToDeg(t){return t*mM},_degToRad(t){return le.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),le.degToRad(t)},_radToDeg(t){return le.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),le.radToDeg(t)},_getRotation(t){return Ye.angleDeg?le.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(u4+t)},error(t){console.error(u4+t)},warn(t){Ye.showWarnings&&console.warn(vM+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,l){let u,f,h;const p=(t-n)*(t-n)+(e-a)*(e-a);if(p==0)u=t,f=e,h=(i-n)*(i-n)+(l-a)*(l-a);else{const v=((i-t)*(n-t)+(l-e)*(a-e))/p;v<0?(u=t,f=e,h=(t-i)*(t-i)+(e-l)*(e-l)):v>1?(u=n,f=a,h=(n-i)*(n-i)+(a-l)*(a-l)):(u=t+v*(n-t),f=e+v*(a-e),h=(u-i)*(u-i)+(f-l)*(f-l))}return[u,f,h]},_getProjectionToLine(t,e,n){const a=le.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(l,u){if(!n&&u===e.length-1)return;const f=e[(u+1)%e.length],h=le._getProjectionToSegment(l.x,l.y,f.x,f.y,t.x,t.y),p=h[0],v=h[1],_=h[2];_<i&&(a.x=p,a.y=v,i=_)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const u=e;e=t,t=u}for(let u=0;u<t.length;u+=2)a.push({x:t[u],y:t[u+1]});for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const l=[];return i.forEach(function(u){const f=le._getProjectionToLine(u,a,n);l.push(f.x),l.push(f.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||le._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(le._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Ye.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let u=0,f=0,h=0,p=0;typeof a=="number"?u=f=h=p=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),f=Math.min(a[1]||0,e/2,n/2),p=Math.min(a[2]||0,e/2,n/2),h=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+u,l),t.lineTo(i+e-f,l),t.arc(i+e-f,l+f,f,Math.PI*3/2,0,!1),t.lineTo(i+e,l+n-p),t.arc(i+e-p,l+n-p,p,0,Math.PI/2,!1),t.lineTo(i+h,l+n),t.arc(i+h,l+n-h,h,Math.PI/2,Math.PI,!1),t.lineTo(i,l+u),t.arc(i+u,l+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let l=0;l<n;l++){const u=e[(l-1+n)%n],f=e[l],h=e[(l+1)%n],p={x:f.x-u.x,y:f.y-u.y},v={x:h.x-f.x,y:h.y-f.y},_=Math.hypot(p.x,p.y),x=Math.hypot(v.x,v.y);let C;typeof i=="number"?C=i:C=l<i.length?i[l]:0,C=a*Math.cos(Math.PI/n)*Math.min(1,C/a*2);const R={x:p.x/_,y:p.y/_},O={x:v.x/x,y:v.y/x},j={x:f.x-R.x*C,y:f.y-R.y*C},M={x:f.x+O.x*C,y:f.y+O.y*C};l===0?t.moveTo(j.x,j.y):t.lineTo(j.x,j.y),t.arcTo(f.x,f.y,M.x,M.y,C)}}};function xM(t){const e=[],n=t.length,a=le;for(let i=0;i<n;i++){let l=t[i];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const c4=",",wM="(",SM=")",EM="([",CM="])",TM=";",AM="()",RM="=",d4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],OM=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],NM=100;let xp=null;function f4(){if(xp!==null)return xp;try{const e=le.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(xp=!1,!1)}catch{return xp=!1,!1}}class Hv{constructor(e){this.canvas=e,Ye.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,l="",u,f,h,p;for(u=0;u<i;u++)f=a[u],h=f.method,h?(p=f.args,l+=h,e?l+=AM:le._isArray(p[0])?l+=EM+p.join(c4)+CM:(n&&(p=p.map(v=>typeof v=="number"?Math.floor(v):v)),l+=wM+p.join(c4)+SM)):(l+=f.property,e||(l+=RM+f.val)),l+=TM;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=NM&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,l,u){this._context.arc(e,n,a,i,l,u)}arcTo(e,n,a,i,l){this._context.arcTo(e,n,a,i,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,l,u){this._context.bezierCurveTo(e,n,a,i,l,u)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,l,u){return this._context.createRadialGradient(e,n,a,i,l,u)}drawImage(e,n,a,i,l,u,f,h,p){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,i,l):v.length===9&&_.drawImage(e,n,a,i,l,u,f,h,p)}ellipse(e,n,a,i,l,u,f,h){this._context.ellipse(e,n,a,i,l,u,f,h)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,l){this._context.roundRect(e,n,a,i,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,l,u){this._context.setTransform(e,n,a,i,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,l,u){this._context.transform(e,n,a,i,l,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=d4.length,a=this.setAttr,i,l;const u=function(f){let h=e[f],p;e[f]=function(){return l=xM(Array.prototype.slice.call(arguments,0)),p=h.apply(e,arguments),e._trace({method:f,args:l}),p}};for(i=0;i<n;i++)u(d4[i]);e.setAttr=function(){a.apply(e,arguments);const f=arguments[0];let h=arguments[1];(f==="shadowOffsetX"||f==="shadowOffsetY"||f==="shadowBlur")&&(h=h/this.canvas.getPixelRatio()),e._trace({property:f,val:h})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}OM.forEach(function(t){Object.defineProperty(Hv.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class jM extends Hv{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let u=0;u<i.length;u+=2)l.addColorStop(i[u],i[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,f=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},h=e.getAbsoluteScale(),p=this.canvas.getPixelRatio(),v=h.x*p,_=h.y*p;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",f.x*v),this.setAttr("shadowOffsetY",f.y*_)}}class MM extends Hv{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let wp;function DM(){if(wp)return wp;const t=le.createCanvasElement(),e=t.getContext("2d");return wp=(function(){const n=Ye._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),le.releaseCanvas(t),wp}class rb{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||Ye.pixelRatio||DM();this.pixelRatio=a,this._canvas=le.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return le.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class mu extends rb{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new jM(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function h4(){const t=le.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function m4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let g4=!1;function zM(){return m4()&&h4()&&!g4&&(g4=!0,le.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),m4()&&h4()}class ib extends rb{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new MM(this),this.setSize(e.width,e.height),zM()}}const gn={get isDragging(){let t=!1;return gn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return gn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];gn._dragElements.forEach((n,a)=>{const{node:i}=n,l=i.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=le._getFirstPointerId(t));const u=l._changedPointerPositions.find(f=>f.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const f=i.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<f||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];gn._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(f=>f.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(gn.justDragged=!0,Ye._mouseListenClick=!1,Ye._touchListenClick=!1,Ye._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof Ye.Stage&&n.node;u&&e.indexOf(u)===-1&&e.push(u)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){gn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&gn._dragElements.delete(n)})}};Ye.isBrowser&&(window.addEventListener("mouseup",gn._endDragBefore,!0),window.addEventListener("touchend",gn._endDragBefore,!0),window.addEventListener("touchcancel",gn._endDragBefore,!0),window.addEventListener("mousemove",gn._drag),window.addEventListener("touchmove",gn._drag),window.addEventListener("mouseup",gn._endDragAfter,!1),window.addEventListener("touchend",gn._endDragAfter,!1),window.addEventListener("touchcancel",gn._endDragAfter,!1));function xu(t){return le._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||le._isBoolean(t)?t:Object.prototype.toString.call(t)}function lw(t){return t>255?255:t<0?0:Math.round(t)}function Ge(){if(Ye.isUnminified)return function(t,e){return le._isNumber(t)||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Gv(t){if(Ye.isUnminified)return function(e,n){let a=le._isNumber(e),i=le._isArray(e)&&e.length==t;return!a&&!i&&le.warn(xu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function sb(){if(Ye.isUnminified)return function(t,e){return le._isNumber(t)||t==="auto"||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Vc(){if(Ye.isUnminified)return function(t,e){return le._isString(t)||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function ow(){if(Ye.isUnminified)return function(t,e){const n=le._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function kM(){if(Ye.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(le._isArray(t)?t.forEach(function(a){le._isNumber(a)||le.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Es(){if(Ye.isUnminified)return function(t,e){return t===!0||t===!1||le.warn(xu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function LM(t){if(Ye.isUnminified)return function(e,n){return e==null||le.isObject(e)||le.warn(xu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const R0="get",O0="set",Y={addGetterSetter(t,e,n,a,i){Y.addGetter(t,e,n),Y.addSetter(t,e,a,i),Y.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=R0+le._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=O0+le._capitalize(e);t.prototype[i]||Y.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=O0+le._capitalize(e);t.prototype[i]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const l=n.length,u=le._capitalize,f=R0+u(e),h=O0+u(e);t.prototype[f]=function(){const v={};for(let _=0;_<l;_++){const x=n[_];v[x]=this.getAttr(e+u(x))}return v};const p=LM(n);t.prototype[h]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),p&&p.call(this,v,e);for(const x in v)v.hasOwnProperty(x)&&this._setAttr(e+u(x),v[x]);return v||n.forEach(x=>{this._setAttr(e+u(x),void 0)}),this._fireChangeEvent(e,_,v),i&&i.call(this),this},Y.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=le._capitalize(e),a=O0+n,i=R0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){le.error("Adding deprecated "+e);const i=R0+le._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){le.error(l);const u=this.attrs[e];return u===void 0?n:u},Y.addSetter(t,e,a,function(){le.error(l)}),Y.addOverloadedGetterSetter(t,e)},backCompat(t,e){le.each(e,function(n,a){const i=t.prototype[a],l=R0+le._capitalize(n),u=O0+le._capitalize(n);function f(){i.apply(this,arguments),le.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=f,t.prototype[l]=f,t.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}};function UM(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const l=parseFloat(i.replace("px",""));return function(u){this.blurRadius(l*.5);const f=Ye.Filters;f&&f.Blur&&f.Blur.call(this,u)}}case"brightness":{const l=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(u){this.brightness(l);const f=Ye.Filters;f&&f.Brightness&&f.Brightness.call(this,u)}}case"contrast":{const l=parseFloat(i);return function(u){const f=100*(Math.sqrt(l)-1);this.contrast(f);const h=Ye.Filters;h&&h.Contrast&&h.Contrast.call(this,u)}}case"grayscale":return function(l){const u=Ye.Filters;u&&u.Grayscale&&u.Grayscale.call(this,l)};case"sepia":return function(l){const u=Ye.Filters;u&&u.Sepia&&u.Sepia.call(this,l)};case"invert":return function(l){const u=Ye.Filters;u&&u.Invert&&u.Invert.call(this,l)};default:le.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Kp="absoluteOpacity",Sp="allEventListeners",ao="absoluteTransform",p4="absoluteScale",Cc="canvas",PM="Change",BM="children",HM="konva",l2="listening",GM="mouseenter",qM="mouseleave",VM="pointerenter",YM="pointerleave",IM="touchenter",ZM="touchleave",v4="set",y4="Shape",Fp=" ",b4="stage",lu="transform",XM="Stage",o2="visible",KM=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Fp);let FM=1,qe=class u2{constructor(e){this._id=FM++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===lu||e===ao)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===lu||e===ao)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(l=>l+"Change.konva").join(Fp);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(Cc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===ao&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Cc)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(Cc);le.releaseCanvas(e,n,a,i),this._cache.delete(Cc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),u=n.pixelRatio,f=n.x===void 0?Math.floor(a.x):n.x,h=n.y===void 0?Math.floor(a.y):n.y,p=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!i||!l){le.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const x=Math.abs(Math.round(a.x)-f)>.5?1:0,C=Math.abs(Math.round(a.y)-h)>.5?1:0;i+=p*2+x,l+=p*2+C,f-=p,h-=p;const T=new mu({pixelRatio:u,width:i,height:l}),R=new mu({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),O=new ib({pixelRatio:_,width:i,height:l}),j=T.getContext(),M=O.getContext(),z=new mu({width:T.width/T.pixelRatio+Math.abs(f),height:T.height/T.pixelRatio+Math.abs(h),pixelRatio:T.pixelRatio}),k=z.getContext();return O.isCache=!0,T.isCache=!0,this._cache.delete(Cc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(T.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),j.save(),M.save(),k.save(),j.translate(-f,-h),M.translate(-f,-h),k.translate(-f,-h),z.x=f,z.y=h,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Kp),this._clearSelfAndDescendantCache(p4),this.drawScene(T,this,z),this.drawHit(O,this),this._isUnderCache=!1,j.restore(),M.restore(),v&&(j.save(),j.beginPath(),j.rect(0,0,i,l),j.closePath(),j.setAttr("strokeStyle","red"),j.setAttr("lineWidth",5),j.stroke(),j.restore()),this._cache.set(Cc,{scene:T,filter:R,hit:O,buffer:z,x:f,y:h}),this._requestDraw(),this}isCached(){return this._cache.has(Cc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,l=1/0,u=-1/0,f=-1/0;const h=this.getAbsoluteTransform(n);return a.forEach(function(p){const v=h.point(p);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),{x:i,y:l,width:u-i,height:f-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,l=i.getContext(),u,f,h,p;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let v=!0;for(let x=0;x<e.length;x++)if(typeof e[x]=="string"&&f4(),typeof e[x]!="string"||!f4()){v=!1;break}const _=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const x=e.join(" ");return l.save(),l.setAttr("filter",x),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,i}try{for(u=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),f=l.getImageData(0,0,i.getWidth(),i.getHeight()),h=0;h<u;h++)p=e[h],typeof p=="string"&&(p=UM(p)),p.call(this,f),l.putImageData(f,0,0)}catch(x){le.error("Unable to apply filter. "+x.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(Sp),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(Fp);for(let i=0;i<a.length;i++){const u=a[i].split("."),f=u[0],h=u[1]||"";this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:h,handler:n})}return this}off(e,n){let a=(e||"").split(Fp),i=a.length,l,u,f,h,p,v;if(this._cache&&this._cache.delete(Sp),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<i;l++)if(f=a[l],h=f.split("."),p=h[0],v=h[1],p)this.eventListeners[p]&&this._off(p,v,n);else for(u in this.eventListeners)this._off(u,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(l){const u=l.target.findAncestors(n,!0,i);for(let f=0;f<u.length;f++)l=le.cloneObject(l),l.currentTarget=u[f],a.call(u[f],l)})}remove(){return this.isDragging()&&this.stopDrag(),gn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ao),this._clearSelfAndDescendantCache(Kp),this._clearSelfAndDescendantCache(p4),this._clearSelfAndDescendantCache(b4),this._clearSelfAndDescendantCache(o2),this._clearSelfAndDescendantCache(l2)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+le._capitalize(e);return le._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==BM&&(a=v4+le._capitalize(n),le._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(l2,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(o2,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;gn._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(i=!0)});const l=!n&&!Ye.hitOnDragEnabled&&(i||Ye.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,l,u,f;function h(v){for(i=[],l=v.length,u=0;u<l;u++)f=v[u],a++,f.nodeType!==y4&&(i=i.concat(f.getChildren().slice())),f._id===n._id&&(u=l);i.length>0&&i[0].getDepth()<=e&&h(i)}const p=this.getStage();return n.nodeType!==XM&&p&&h(p.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(lu),this._clearSelfAndDescendantCache(ao)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),l=new fi,u=this.offset();return l.m=i.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(lu);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(lu),this._clearSelfAndDescendantCache(ao),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),l=this.y();return n!==void 0&&(i+=n),a!==void 0&&(l+=a),this.setPosition({x:i,y:l}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),l,u;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(l=a.length,u=0;u<l;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return le.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return le.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return le.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return le.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return le.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&le.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Kp,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,l,u;const f={attrs:{},className:this.getClassName()};for(n in e)a=e[n],u=le.isObject(a)&&!le._isPlainObject(a)&&!le._isArray(a),!u&&(i=typeof this[n]=="function"&&this[n],delete e[n],l=i?i.call(this):null,e[n]=a,l!==a&&(f.attrs[n]=a));return le._prepareToStringify(f)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let l=this.parent;for(;l;){if(l===a)return i;l._isMatch(e)&&i.push(l),l=l.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,l;for(i=0;i<a;i++)if(l=n[i],le.isValidSelector(l)||(le.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),le.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),le.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(b4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(ao,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new fi,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(ao)||new fi,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;n.translate(i-u,l-f)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(lu,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(lu)||new fi;a.reset();const i=this.x(),l=this.y(),u=Ye.getAngle(this.rotation()),f=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,h=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,p=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,x=this.attrs.offsetY||0;return(i!==0||l!==0)&&a.translate(i,l),u!==0&&a.rotate(u),(p!==0||v!==0)&&a.skew(p,v),(f!==1||h!==1)&&a.scale(f,h),(_!==0||x!==0)&&a.translate(-1*_,-1*x),a.dirty=!1,a}clone(e){let n=le.cloneObject(this.attrs),a,i,l,u,f;for(a in e)n[a]=e[a];const h=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],l=i.length,u=0;u<l;u++)f=i[u],f.name.indexOf(HM)<0&&(h.eventListeners[a]||(h.eventListeners[a]=[]),h.eventListeners[a].push(f));return h}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),u=e.pixelRatio||1,f=new mu({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:u}),h=f.getContext(),p=new mu({width:f.width/f.pixelRatio+Math.abs(i),height:f.height/f.pixelRatio+Math.abs(l),pixelRatio:f.pixelRatio});return e.imageSmoothingEnabled===!1&&(h._context.imageSmoothingEnabled=!1),h.save(),(i||l)&&h.translate(-1*i,-1*l),this.drawScene(f,void 0,p),h.restore(),f}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,le._urlToImage(this.toDataURL(e),function(l){n(l),i?.(l)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),i?.(l)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ye.dragDistance}_off(e,n,a){let i=this.eventListeners[e],l,u,f;for(l=0;l<i.length;l++)if(u=i[l].name,f=i[l].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===f)){if(i.splice(l,1),i.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+PM,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[v4+le._capitalize(e)];return le._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ye.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!le.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===y4&&(n.target=this);const i=[GM,qM,VM,YM,IM,ZM];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const u=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const l=(n=this._cache.get(Sp))!==null&&n!==void 0?n:{};let u=l?.[e];if(u===void 0){u=[];let f=Object.getPrototypeOf(this);for(;f;){const h=(i=(a=f.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];u.push(...h),f=Object.getPrototypeOf(f)}l[e]=u,this._cache.set(Sp,l)}return u}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let l=0;l<i.length;l++)i[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||i;gn._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-i.x,y:l.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){gn._dragElements.has(this._id)||this._createDragElement(e);const a=gn._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,i,e);u?i=u:le.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=gn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),gn._endDragBefore(e),gn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=gn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ye.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;gn._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=gn._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&gn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return le.haveIntersection(a,this.getClientRect())}static create(e,n){return le._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=u2.prototype.getClassName.call(e),i=e.children,l,u,f;n&&(e.attrs.container=n),Ye[a]||(le.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const h=Ye[a];if(l=new h(e.attrs),i)for(u=i.length,f=0;f<u;f++)l.add(u2._createNode(i[f]));return l}};qe.prototype.nodeType="Node";qe.prototype._attrsAffectingSize=[];qe.prototype.eventListeners={};qe.prototype.on.call(qe.prototype,KM,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(lu),this._clearSelfAndDescendantCache(ao)});qe.prototype.on.call(qe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(o2)});qe.prototype.on.call(qe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(l2)});qe.prototype.on.call(qe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Kp)});const Dn=Y.addGetterSetter;Dn(qe,"zIndex");Dn(qe,"absolutePosition");Dn(qe,"position");Dn(qe,"x",0,Ge());Dn(qe,"y",0,Ge());Dn(qe,"globalCompositeOperation","source-over",Vc());Dn(qe,"opacity",1,Ge());Dn(qe,"name","",Vc());Dn(qe,"id","",Vc());Dn(qe,"rotation",0,Ge());Y.addComponentsGetterSetter(qe,"scale",["x","y"]);Dn(qe,"scaleX",1,Ge());Dn(qe,"scaleY",1,Ge());Y.addComponentsGetterSetter(qe,"skew",["x","y"]);Dn(qe,"skewX",0,Ge());Dn(qe,"skewY",0,Ge());Y.addComponentsGetterSetter(qe,"offset",["x","y"]);Dn(qe,"offsetX",0,Ge());Dn(qe,"offsetY",0,Ge());Dn(qe,"dragDistance",void 0,Ge());Dn(qe,"width",0,Ge());Dn(qe,"height",0,Ge());Dn(qe,"listening",!0,Es());Dn(qe,"preventDefault",!0,Es());Dn(qe,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Dn(qe,"visible",!0,Es());Dn(qe,"transformsEnabled","all",Vc());Dn(qe,"size");Dn(qe,"dragBoundFunc");Dn(qe,"draggable",!1,Es());Y.backCompat(qe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class hi extends qe{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const l=i._isMatch(e);return l&&a.push(i),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=qe.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=qe.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas(),u=l&&l.getContext(),f=this._getCanvasCache(),h=f&&f.scene,p=l&&l.isCache;if(!this.isVisible()&&!p)return this;if(h){u.save();const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,l=i&&i.getContext(),u=this._getCanvasCache();if(u&&u.hit){l.save();const h=this.getAbsoluteTransform(n).getMatrix();l.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var l;const u=n&&n.getContext(),f=this.clipWidth(),h=this.clipHeight(),p=this.clipFunc(),v=typeof f=="number"&&typeof h=="number"||p,_=a===this;if(v){u.save();const C=this.getAbsoluteTransform(a);let T=C.getMatrix();u.transform(T[0],T[1],T[2],T[3],T[4],T[5]),u.beginPath();let R;if(p)R=p.call(this,u,this);else{const O=this.clipX(),j=this.clipY();u.rect(O||0,j||0,f,h)}u.clip.apply(u,R),T=C.copy().invert().getMatrix(),u.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const x=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";x&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(C){C[e](n,a,i)}),x&&u.restore(),v&&u.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let l,u,f,h,p={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(C){if(!C.visible())return;const T=C.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(l===void 0?(l=T.x,u=T.y,f=T.x+T.width,h=T.y+T.height):(l=Math.min(l,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x+T.width),h=Math.max(h,T.y+T.height)))});const _=this.find("Shape");let x=!1;for(let C=0;C<_.length;C++)if(_[C]._isVisible(this)){x=!0;break}return x&&l!==void 0?p={x:l,y:u,width:f-l,height:h-u}:p={x:0,y:0,width:0,height:0},a?p:this._transformedRect(p,i)}}Y.addComponentsGetterSetter(hi,"clip",["x","y","width","height"]);Y.addGetterSetter(hi,"clipX",void 0,Ge());Y.addGetterSetter(hi,"clipY",void 0,Ge());Y.addGetterSetter(hi,"clipWidth",void 0,Ge());Y.addGetterSetter(hi,"clipHeight",void 0,Ge());Y.addGetterSetter(hi,"clipFunc");const om=new Map,uw=Ye._global.PointerEvent!==void 0;function dy(t){return om.get(t)}function lb(t){return{evt:t,pointerId:t.pointerId}}function cw(t,e){return om.get(t)===e}function dw(t,e){Q0(t),e.getStage()&&(om.set(t,e),uw&&e._fire("gotpointercapture",lb(new PointerEvent("gotpointercapture"))))}function Q0(t,e){const n=om.get(t);if(!n)return;const a=n.getStage();a&&a.content,om.delete(t),uw&&n._fire("lostpointercapture",lb(new PointerEvent("lostpointercapture")))}const $M="Stage",QM="string",_4="px",WM="mouseout",fw="mouseleave",hw="mouseover",mw="mouseenter",gw="mousemove",pw="mousedown",vw="mouseup",H0="pointermove",G0="pointerdown",Mf="pointerup",q0="pointercancel",JM="lostpointercapture",Ep="pointerout",V0="pointerleave",Cp="pointerover",Tp="pointerenter",c2="contextmenu",yw="touchstart",bw="touchend",_w="touchmove",xw="touchcancel",d2="wheel",eD=5,tD=[[mw,"_pointerenter"],[pw,"_pointerdown"],[gw,"_pointermove"],[vw,"_pointerup"],[fw,"_pointerleave"],[yw,"_pointerdown"],[_w,"_pointermove"],[bw,"_pointerup"],[xw,"_pointercancel"],[hw,"_pointerover"],[d2,"_wheel"],[c2,"_contextmenu"],[G0,"_pointerdown"],[H0,"_pointermove"],[Mf,"_pointerup"],[q0,"_pointercancel"],[V0,"_pointerleave"],[JM,"_lostpointercapture"]],fy={mouse:{[Ep]:WM,[V0]:fw,[Cp]:hw,[Tp]:mw,[H0]:gw,[G0]:pw,[Mf]:vw,[q0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Ep]:"touchout",[V0]:"touchleave",[Cp]:"touchover",[Tp]:"touchenter",[H0]:_w,[G0]:yw,[Mf]:bw,[q0]:xw,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Ep]:Ep,[V0]:V0,[Cp]:Cp,[Tp]:Tp,[H0]:H0,[G0]:G0,[Mf]:Mf,[q0]:q0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Y0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",vf=t=>{const e=Y0(t);if(e==="pointer")return Ye.pointerEventsEnabled&&fy.pointer;if(e==="touch")return fy.touch;if(e==="mouse")return fy.mouse};function x4(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&le.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const nD="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",W0=[];let qv=class extends hi{constructor(e){super(x4(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),W0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{x4(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||le.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===QM){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),hi.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&le._isInDocument(e)&&this.container().removeChild(e);const n=W0.indexOf(this);return n>-1&&W0.splice(n,1),le.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(le.warn(nD),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new mu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(l){if(!l.isVisible())return;const u=l._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let l=i;l>=0;l--){const u=n[l].getIntersection(e);if(u)return u}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+_4,this.content.style.height=n+_4),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>eD&&le.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Ye.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return cw(e,this)}setPointerCapture(e){dw(e,this)}releaseCapture(e){Q0(e)}getLayers(){return this.children}_bindContentEvents(){Ye.isBrowser&&tD.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=vf(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=vf(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),l=!(Ye.isDragging()||Ye.isTransforming())||Ye.hitOnDragEnabled;i&&l?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(l=>{const u=this.getIntersection(l);if(gn.justDragged=!1,Ye["_"+a+"ListenClick"]=!0,!u||!u.isListening()){this[a+"ClickStartShape"]=void 0;return}Ye.capturePointerEventsEnabled&&u.setPointerCapture(l.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),i=!0;const f=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&f&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Ye.isDragging()&&gn.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Ye.isDragging()||Ye.isTransforming())||Ye.hitOnDragEnabled))return;const u={};let f=!1;const h=this._getTargetShape(a);this._changedPointerPositions.forEach(p=>{const v=dy(p.id)||this.getIntersection(p),_=p.id,x={evt:e,pointerId:_},C=h!==v;if(C&&h&&(h._fireAndBubble(n.pointerout,{...x},v),h._fireAndBubble(n.pointerleave,{...x},v)),v){if(u[v._id])return;u[v._id]=!0}v&&v.isListening()?(f=!0,C&&(v._fireAndBubble(n.pointerover,{...x},h),v._fireAndBubble(n.pointerenter,{...x},h),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...x})):h&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),f||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=vf(e.type),a=Y0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],u={};let f=!1;this._changedPointerPositions.forEach(h=>{const p=dy(h.id)||this.getIntersection(h);if(p){if(p.releaseCapture(h.id),u[p._id])return;u[p._id]=!0}const v=h.id,_={evt:e,pointerId:v};let x=!1;Ye["_"+a+"InDblClickWindow"]?(x=!0,clearTimeout(this[a+"DblTimeout"])):gn.justDragged||(Ye["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Ye["_"+a+"InDblClickWindow"]=!1},Ye.dblClickWindow),p&&p.isListening()?(f=!0,this[a+"ClickEndShape"]=p,p._fireAndBubble(n.pointerup,{..._}),Ye["_"+a+"ListenClick"]&&i&&i===p&&(p._fireAndBubble(n.pointerclick,{..._}),x&&l&&l===p&&p._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,f||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),f=!0),Ye["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),x&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),f||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ye["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(c2,{evt:e}):this._fire(c2,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(d2,{evt:e}):this._fire(d2,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=dy(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Mf,lb(e)),Q0(e.pointerId)}_lostpointercapture(e){Q0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:le._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:le._getFirstPointerId(e)}])}_setPointerPosition(e){le.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new mu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new ib({pixelRatio:1,width:this.width(),height:this.height()}),!Ye.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return le.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};qv.prototype.nodeType=$M;Xn(qv);Y.addGetterSetter(qv,"container");Ye.isBrowser&&document.addEventListener("visibilitychange",()=>{W0.forEach(t=>{t.batchDraw()})});const ww="hasShadow",Sw="shadowRGBA",Ew="patternImage",Cw="linearGradient",Tw="radialGradient";let Ap;function hy(){return Ap||(Ap=le.createCanvasElement().getContext("2d"),Ap)}const J0={};function aD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function rD(t){t.stroke()}function iD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function sD(t){t.stroke()}function lD(){this._clearCache(ww)}function oD(){this._clearCache(Sw)}function uD(){this._clearCache(Ew)}function cD(){this._clearCache(Cw)}function dD(){this._clearCache(Tw)}class ze extends qe{constructor(e){super(e);let n;for(;n=le.getRandomColor(),!(n&&!(n in J0)););this.colorKey=n,J0[n]=this}getContext(){return le.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return le.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(ww,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Ew,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=hy().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new fi;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Ye.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(Cw,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=hy(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}_getRadialGradient(){return this._getCache(Tw,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=hy(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}getShadowRGBA(){return this._getCache(Sw,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=le.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return qe.prototype.destroy.call(this),delete J0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),l=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(i&&l&&u)return!0;const f=this.hasShadow(),h=this.shadowForStrokeEnabled();return!!(i&&l&&f&&h)}setStrokeHitEnabled(e){le.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),h=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,p=u.width+h,v=u.height+h,_=!e.skipShadow&&this.hasShadow(),x=_?this.shadowOffsetX():0,C=_?this.shadowOffsetY():0,T=p+Math.abs(x),R=v+Math.abs(C),O=_&&this.shadowBlur()||0,j=T+O*2,M=R+O*2,z={width:j,height:M,x:-(h/2+O)+Math.min(x,0)+u.x,y:-(h/2+O)+Math.min(C,0)+u.y};return i?z:this._transformedRect(z,l)}drawScene(e,n,a){const i=this.getLayer(),l=e||i.getCanvas(),u=l.getContext(),f=this._getCanvasCache(),h=this.getSceneFunc(),p=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(f){u.save();const x=this.getAbsoluteTransform(n).getMatrix();return u.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!h)return this;if(u.save(),this._useBufferCanvas()){v=this.getStage();const x=a||v.bufferCanvas,C=x.getContext();C.clear(),C.save(),C._applyLineJoin(this),C._applyMiterLimit(this);const T=this.getAbsoluteTransform(n).getMatrix();C.transform(T[0],T[1],T[2],T[3],T[4],T[5]),h.call(this,C,this),C.restore();const R=x.pixelRatio;p&&u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(x._canvas,x.x||0,x.y||0,x.width/R,x.height/R)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!_){const x=this.getAbsoluteTransform(n).getMatrix();u.transform(x[0],x[1],x[2],x[3],x[4],x[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}p&&u._applyShadow(this),h.call(this,u,this)}return u.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),l=e||i.hitCanvas,u=l&&l.getContext(),f=this.hitFunc()||this.sceneFunc(),h=this._getCanvasCache(),p=h&&h.hit;if(this.colorKey||le.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),p){u.save();const _=this.getAbsoluteTransform(n).getMatrix();return u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!f)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return f.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,l=i.getContext(),u=i.getWidth(),f=i.getHeight();l.clear(),l.drawImage(a._canvas,0,0,u,f);try{const h=l.getImageData(0,0,u,f),p=h.data,v=p.length,_=le._hexToRgb(this.colorKey);for(let x=0;x<v;x+=4)p[x+3]>e?(p[x]=_.r,p[x+1]=_.g,p[x+2]=_.b,p[x+3]=255):p[x+3]=0;l.putImageData(h,0,0)}catch(h){le.error("Unable to draw hit graph from cached scene canvas. "+h.message)}return this}hasPointerCapture(e){return cw(e,this)}setPointerCapture(e){dw(e,this)}releaseCapture(e){Q0(e)}}ze.prototype._fillFunc=aD;ze.prototype._strokeFunc=rD;ze.prototype._fillFuncHit=iD;ze.prototype._strokeFuncHit=sD;ze.prototype._centroid=!1;ze.prototype.nodeType="Shape";Xn(ze);ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",lD);ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",oD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",uD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",cD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",dD);Y.addGetterSetter(ze,"stroke",void 0,ow());Y.addGetterSetter(ze,"strokeWidth",2,Ge());Y.addGetterSetter(ze,"fillAfterStrokeEnabled",!1);Y.addGetterSetter(ze,"hitStrokeWidth","auto",sb());Y.addGetterSetter(ze,"strokeHitEnabled",!0,Es());Y.addGetterSetter(ze,"perfectDrawEnabled",!0,Es());Y.addGetterSetter(ze,"shadowForStrokeEnabled",!0,Es());Y.addGetterSetter(ze,"lineJoin");Y.addGetterSetter(ze,"lineCap");Y.addGetterSetter(ze,"miterLimit");Y.addGetterSetter(ze,"sceneFunc");Y.addGetterSetter(ze,"hitFunc");Y.addGetterSetter(ze,"dash");Y.addGetterSetter(ze,"dashOffset",0,Ge());Y.addGetterSetter(ze,"shadowColor",void 0,Vc());Y.addGetterSetter(ze,"shadowBlur",0,Ge());Y.addGetterSetter(ze,"shadowOpacity",1,Ge());Y.addComponentsGetterSetter(ze,"shadowOffset",["x","y"]);Y.addGetterSetter(ze,"shadowOffsetX",0,Ge());Y.addGetterSetter(ze,"shadowOffsetY",0,Ge());Y.addGetterSetter(ze,"fillPatternImage");Y.addGetterSetter(ze,"fill",void 0,ow());Y.addGetterSetter(ze,"fillPatternX",0,Ge());Y.addGetterSetter(ze,"fillPatternY",0,Ge());Y.addGetterSetter(ze,"fillLinearGradientColorStops");Y.addGetterSetter(ze,"strokeLinearGradientColorStops");Y.addGetterSetter(ze,"fillRadialGradientStartRadius",0);Y.addGetterSetter(ze,"fillRadialGradientEndRadius",0);Y.addGetterSetter(ze,"fillRadialGradientColorStops");Y.addGetterSetter(ze,"fillPatternRepeat","repeat");Y.addGetterSetter(ze,"fillEnabled",!0);Y.addGetterSetter(ze,"strokeEnabled",!0);Y.addGetterSetter(ze,"shadowEnabled",!0);Y.addGetterSetter(ze,"dashEnabled",!0);Y.addGetterSetter(ze,"strokeScaleEnabled",!0);Y.addGetterSetter(ze,"fillPriority","color");Y.addComponentsGetterSetter(ze,"fillPatternOffset",["x","y"]);Y.addGetterSetter(ze,"fillPatternOffsetX",0,Ge());Y.addGetterSetter(ze,"fillPatternOffsetY",0,Ge());Y.addComponentsGetterSetter(ze,"fillPatternScale",["x","y"]);Y.addGetterSetter(ze,"fillPatternScaleX",1,Ge());Y.addGetterSetter(ze,"fillPatternScaleY",1,Ge());Y.addComponentsGetterSetter(ze,"fillLinearGradientStartPoint",["x","y"]);Y.addComponentsGetterSetter(ze,"strokeLinearGradientStartPoint",["x","y"]);Y.addGetterSetter(ze,"fillLinearGradientStartPointX",0);Y.addGetterSetter(ze,"strokeLinearGradientStartPointX",0);Y.addGetterSetter(ze,"fillLinearGradientStartPointY",0);Y.addGetterSetter(ze,"strokeLinearGradientStartPointY",0);Y.addComponentsGetterSetter(ze,"fillLinearGradientEndPoint",["x","y"]);Y.addComponentsGetterSetter(ze,"strokeLinearGradientEndPoint",["x","y"]);Y.addGetterSetter(ze,"fillLinearGradientEndPointX",0);Y.addGetterSetter(ze,"strokeLinearGradientEndPointX",0);Y.addGetterSetter(ze,"fillLinearGradientEndPointY",0);Y.addGetterSetter(ze,"strokeLinearGradientEndPointY",0);Y.addComponentsGetterSetter(ze,"fillRadialGradientStartPoint",["x","y"]);Y.addGetterSetter(ze,"fillRadialGradientStartPointX",0);Y.addGetterSetter(ze,"fillRadialGradientStartPointY",0);Y.addComponentsGetterSetter(ze,"fillRadialGradientEndPoint",["x","y"]);Y.addGetterSetter(ze,"fillRadialGradientEndPointX",0);Y.addGetterSetter(ze,"fillRadialGradientEndPointY",0);Y.addGetterSetter(ze,"fillPatternRotation",0);Y.addGetterSetter(ze,"fillRule",void 0,Vc());Y.backCompat(ze,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const fD="#",hD="beforeDraw",mD="draw",Aw=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],gD=Aw.length;let Yc=class extends hi{constructor(e){super(e),this.canvas=new mu,this.hitCanvas=new ib({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){qe.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!qe.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(qe.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(qe.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return qe.prototype.remove.call(this),e&&e.parentNode&&le._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&le.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),qe.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){le.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){le.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,le.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<gD;i++){const l=Aw[i],u=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),f=u.shape;if(f)return f;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const l=le._rgbToHex(a[0],a[1],a[2]),u=J0[fD+l];return u?{shape:u}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas();return this._fire(hD,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),hi.prototype.drawScene.call(this,l,n,a),this._fire(mD,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),hi.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){le.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return le.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return le.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Yc.prototype.nodeType="Layer";Xn(Yc);Y.addGetterSetter(Yc,"imageSmoothingEnabled",!0);Y.addGetterSetter(Yc,"clearBeforeDraw",!0);Y.addGetterSetter(Yc,"hitGraphEnabled",!0,Es());class ob extends Yc{constructor(e){super(e),this.listening(!1),le.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}ob.prototype.nodeType="FastLayer";Xn(ob);let Vf=class extends hi{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&le.throw("You may only add groups and shapes to groups.")}};Vf.prototype.nodeType="Group";Xn(Vf);const my=(function(){return Dc.performance&&Dc.performance.now?function(){return Dc.performance.now()}:function(){return new Date().getTime()}})();class Hi{constructor(e,n){this.id=Hi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:my(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Hi.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=my(),Hi._addAnimation(this),this}stop(){return Hi._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let l=0;l<i;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],l=i.layers,u=i.func;i._updateFrameObject(my());const f=l.length;let h;if(u?h=u.call(i,i.frame)!==!1:h=!0,!!h)for(let p=0;p<f;p++){const v=l[p];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=Hi;e.animations.length?(e._runFrames(),le.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,le.requestAnimFrame(this._animationLoop))}}Hi.animations=[];Hi.animIdCounter=0;Hi.animRunning=!1;const pD={node:1,duration:1,easing:1,onFinish:1,yoyo:1},vD=1,w4=2,S4=3,E4=["fill","stroke","shadowColor"];let yD=0;class bD{constructor(e,n,a,i,l,u,f){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=w4,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=S4,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===w4?this.setTime(e):this.state===S4&&this.setTime(this.duration-e)}pause(){this.state=vD,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Un{constructor(e){const n=this,a=e.node,i=a._id,l=e.easing||em.Linear,u=!!e.yoyo;let f,h;typeof e.duration>"u"?f=.3:e.duration===0?f=.001:f=e.duration,this.node=a,this._id=yD++;const p=a.getLayer()||(a instanceof Ye.Stage?a.getLayers():null);p||le.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Hi(function(){n.tween.onEnterFrame()},p),this.tween=new bD(h,function(v){n._tweenFunc(v)},l,0,1,f*1e3,u),this._addListeners(),Un.attrs[i]||(Un.attrs[i]={}),Un.attrs[i][this._id]||(Un.attrs[i][this._id]={}),Un.tweens[i]||(Un.tweens[i]={});for(h in e)pD[h]===void 0&&this._addAttr(h,e[h]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let l,u,f,h,p;const v=Un.tweens[i][e];v&&delete Un.attrs[i][v][e];let _=a.getAttr(e);if(le._isArray(n))if(l=[],u=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(h=_,_=le._prepareArrayForTween(_,n,a.closed())):(f=n,n=le._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let x=0;x<u;x++)if(x%2===0)l.push(n[x]-_[x]);else{const C=le.colorToRGBA(_[x]);p=le.colorToRGBA(n[x]),_[x]=C,l.push({r:p.r-C.r,g:p.g-C.g,b:p.b-C.b,a:p.a-C.a})}else for(let x=0;x<u;x++)l.push(n[x]-_[x]);else E4.indexOf(e)!==-1?(_=le.colorToRGBA(_),p=le.colorToRGBA(n),l={r:p.r-_.r,g:p.g-_.g,b:p.b-_.b,a:p.a-_.a}):l=n-_;Un.attrs[i][this._id][e]={start:_,diff:l,end:n,trueEnd:f,trueStart:h},Un.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=Un.attrs[n._id][this._id];let i,l,u,f,h,p,v,_;for(i in a){if(l=a[i],u=l.start,f=l.diff,_=l.end,le._isArray(u))if(h=[],v=Math.max(u.length,_.length),i.indexOf("fill")===0)for(p=0;p<v;p++)p%2===0?h.push((u[p]||0)+f[p]*e):h.push("rgba("+Math.round(u[p].r+f[p].r*e)+","+Math.round(u[p].g+f[p].g*e)+","+Math.round(u[p].b+f[p].b*e)+","+(u[p].a+f[p].a*e)+")");else for(p=0;p<v;p++)h.push((u[p]||0)+f[p]*e);else E4.indexOf(i)!==-1?h="rgba("+Math.round(u.r+f.r*e)+","+Math.round(u.g+f.g*e)+","+Math.round(u.b+f.b*e)+","+(u.a+f.a*e)+")":h=u+f*e;n.setAttr(i,h)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Un.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Un.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=Un.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete Un.tweens[e][i];delete Un.attrs[e][n],Un.tweens[e]&&(Object.keys(Un.tweens[e]).length===0&&delete Un.tweens[e],Object.keys(Un.attrs[e]).length===0&&delete Un.attrs[e])}}Un.attrs={};Un.tweens={};qe.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Un(t).play()};const em={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-u)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-em.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?em.BounceEaseIn(t*2,0,n,a)*.5+e:em.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},Yf=le._assign(Ye,{Util:le,Transform:fi,Node:qe,Container:hi,Stage:qv,stages:W0,Layer:Yc,FastLayer:ob,Group:Vf,DD:gn,Shape:ze,shapes:J0,Animation:Hi,Tween:Un,Easings:em,Context:Hv,Canvas:rb});class co extends ze{_sceneFunc(e){const n=Ye.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=Ye.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(i,Math.PI)),u=1,f=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),h=Math.sin(Math.min(i,Math.PI/2)),p=l*(l>0?e:n),v=u*n,_=f*(f>0?e:n),x=h*(h>0?n:e);return{x:p,y:a?-1*x:_,width:v-p,height:x-_}}}co.prototype._centroid=!0;co.prototype.className="Arc";co.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Xn(co);Y.addGetterSetter(co,"innerRadius",0,Ge());Y.addGetterSetter(co,"outerRadius",0,Ge());Y.addGetterSetter(co,"angle",0,Ge());Y.addGetterSetter(co,"clockwise",!1,Es());function f2(t,e,n,a,i,l,u){const f=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),h=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-a,2)),p=u*f/(f+h),v=u*h/(f+h),_=n-p*(i-t),x=a-p*(l-e),C=n+v*(i-t),T=a+v*(l-e);return[_,x,C,T]}function C4(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const l=f2(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[i]),a.push(t[i+1]),a.push(l[2]),a.push(l[3]))}return a}let fo=class extends ze{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),l=this.closed(),u=this.bezier();if(!a)return;let f=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const h=this.getTensionPoints(),p=h.length;for(f=l?0:4,l||e.quadraticCurveTo(h[0],h[1],h[2],h[3]);f<p-2;)e.bezierCurveTo(h[f++],h[f++],h[f++],h[f++],h[f++],h[f++]);l||e.quadraticCurveTo(h[p-2],h[p-1],n[a-2],n[a-1])}else if(u)for(f=2;f<a;)e.bezierCurveTo(n[f++],n[f++],n[f++],n[f++],n[f++],n[f++]);else for(f=2;f<a;f+=2)e.lineTo(n[f],n[f+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():C4(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=f2(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=f2(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=C4(e,a);return[i[2],i[3]].concat(u).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let h=0;h<e.length/2;h++)u=e[h*2],f=e[h*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);return{x:n,y:i,width:a-n,height:l-i}}};fo.prototype.className="Line";fo.prototype._attrsAffectingSize=["points","bezier","tension"];Xn(fo);Y.addGetterSetter(fo,"closed",!1);Y.addGetterSetter(fo,"bezier",!1);Y.addGetterSetter(fo,"tension",0,Ge());Y.addGetterSetter(fo,"points",[],kM());const _D=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],xD=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],wD=[[1],[1,1],[1,2,1],[1,3,3,1]],T4=(t,e,n)=>{let a,i;const u=n/2;a=0;for(let f=0;f<20;f++)i=u*_D[20][f]+u,a+=xD[20][f]*SD(t,e,i);return u*a},A4=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],u=2*e[1]-2*e[0],f=4*(a*a+i*i),h=4*(a*l+i*u),p=l*l+u*u;if(f===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=h/(2*f),_=p/f,x=n+v,C=_-v*v,T=x*x+C>0?Math.sqrt(x*x+C):0,R=v*v+C>0?Math.sqrt(v*v+C):0,O=v+Math.sqrt(v*v+C)!==0?C*Math.log(Math.abs((x+T)/(v+R))):0;return Math.sqrt(f)/2*(x*T-v*R+O)};function SD(t,e,n){const a=h2(1,n,t),i=h2(1,n,e),l=a*a+i*i;return Math.sqrt(l)}const h2=(t,e,n)=>{const a=n.length-1;let i,l;if(a===0)return 0;if(t===0){l=0;for(let u=0;u<=a;u++)l+=wD[a][u]*Math.pow(1-e,a-u)*Math.pow(e,u)*n[u];return l}else{i=new Array(a);for(let u=0;u<a;u++)i[u]=a*(n[u+1]-n[u]);return h2(t-1,e,i)}},R4=(t,e,n)=>{let a=1,i=t/e,l=(t-n(i))/e,u=0;for(;a>.001;){const f=n(i+l),h=Math.abs(t-f)/e;if(h<a)a=h,i+=l;else{const p=n(i-l),v=Math.abs(t-p)/e;v<a?(a=v,i-=l):l/=2}if(u++,u>500)break}return i};let Gi=class Yr extends ze{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Yr.parsePathData(this.data()),this.pathLength=Yr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const l=n[i].command,u=n[i].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const f=u[0],h=u[1],p=u[2],v=u[3],_=u[4],x=u[5],C=u[6],T=u[7],R=p>v?p:v,O=p>v?1:p/v,j=p>v?v/p:1;e.translate(f,h),e.rotate(C),e.scale(O,j),e.arc(0,0,R,_,_+x,1-T),e.scale(1/O,1/j),e.rotate(-C),e.translate(-f,-h);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(h){if(h.command==="A"){const p=h.points[4],v=h.points[5],_=h.points[4]+v;let x=Math.PI/180;if(Math.abs(p-_)<x&&(x=Math.abs(p-_)),v<0)for(let C=p-x;C>_;C-=x){const T=Yr.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],C,0);e.push(T.x,T.y)}else for(let C=p+x;C<_;C+=x){const T=Yr.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],C,0);e.push(T.x,T.y)}}else if(h.command==="C")for(let p=0;p<=1;p+=.01){const v=Yr.getPointOnCubicBezier(p,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);e.push(v.x,v.y)}else e=e.concat(h.points)});let n=e[0],a=e[0],i=e[1],l=e[1],u,f;for(let h=0;h<e.length/2;h++)u=e[h*2],f=e[h*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(f)||(i=Math.min(i,f),l=Math.max(l,f));return{x:n,y:i,width:a-n,height:l-i}}getLength(){return this.pathLength}getPointAtLength(e){return Yr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,l=n.length;if(!l)return null;for(;i<l&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===l)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const u=n[i],f=u.points;switch(u.command){case"L":return Yr.getPointOnLine(e,u.start.x,u.start.y,f[0],f[1]);case"C":return Yr.getPointOnCubicBezier(R4(e,Yr.getPathLength(n),R=>T4([u.start.x,f[0],f[2],f[4]],[u.start.y,f[1],f[3],f[5]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return Yr.getPointOnQuadraticBezier(R4(e,Yr.getPathLength(n),R=>A4([u.start.x,f[0],f[2]],[u.start.y,f[1],f[3]],R)),u.start.x,u.start.y,f[0],f[1],f[2],f[3]);case"A":const h=f[0],p=f[1],v=f[2],_=f[3],x=f[5],C=f[6];let T=f[4];return T+=x*e/u.pathLength,Yr.getPointOnEllipticalArc(h,p,v,_,T,C)}return null}static getPointOnLine(e,n,a,i,l,u,f){u=u??n,f=f??a;const h=this.getLineLength(n,a,i,l);if(h<1e-10)return{x:n,y:a};if(i===n)return{x:u,y:f+(l>a?e:-e)};const p=(l-a)/(i-n),v=Math.sqrt(e*e/(1+p*p))*(i<n?-1:1),_=p*v;if(Math.abs(f-a-p*(u-n))<1e-10)return{x:u+v,y:f+_};const x=((u-n)*(i-n)+(f-a)*(l-a))/(h*h),C=n+x*(i-n),T=a+x*(l-a),R=this.getLineLength(u,f,C,T),O=Math.sqrt(e*e-R*R),j=Math.sqrt(O*O/(1+p*p))*(i<n?-1:1),M=p*j;return{x:C+j,y:T+M}}static getPointOnCubicBezier(e,n,a,i,l,u,f,h,p){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function x(O){return 3*O*(1-O)*(1-O)}function C(O){return(1-O)*(1-O)*(1-O)}const T=h*v(e)+u*_(e)+i*x(e)+n*C(e),R=p*v(e)+f*_(e)+l*x(e)+a*C(e);return{x:T,y:R}}static getPointOnQuadraticBezier(e,n,a,i,l,u,f){function h(C){return C*C}function p(C){return 2*C*(1-C)}function v(C){return(1-C)*(1-C)}const _=u*h(e)+i*p(e)+n*v(e),x=f*h(e)+l*p(e)+a*v(e);return{x:_,y:x}}static getPointOnEllipticalArc(e,n,a,i,l,u){const f=Math.cos(u),h=Math.sin(u),p={x:a*Math.cos(l),y:i*Math.sin(l)};return{x:e+(p.x*f-p.y*h),y:n+(p.x*h+p.y*f)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const i=n.split("|"),l=[],u=[];let f=0,h=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<i.length;_++){let x=i[_],C=x.charAt(0);for(x=x.slice(1),u.length=0;v=p.exec(x);)u.push(v[0]);let T=[],R=C==="A"||C==="a"?0:-1;for(let O=0,j=u.length;O<j;O++){const M=u[O];if(M==="00"){T.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(M)){T.push(parseInt(M[0],10)),T.push(parseInt(M[1],10)),T.push(parseFloat(M.slice(2))),R+=3,R>=7&&(R-=7);continue}if(M==="11"||M==="10"||M==="01"){T.push(parseInt(M[0],10)),T.push(parseInt(M[1],10)),R+=2,R>=7&&(R-=7);continue}if(M==="0"||M==="1"){T.push(parseInt(M,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(M)){T.push(parseInt(M[0],10)),T.push(parseFloat(M.slice(1))),R+=2,R>=7&&(R-=7);continue}if(M==="0"||M==="1"){T.push(parseInt(M,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(M);isNaN(z)?T.push(0):T.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(M);isNaN(z)?T.push(0):T.push(z)}}for(;T.length>0&&!isNaN(T[0]);){let O="",j=[];const M=f,z=h;let k,G,U,V,K,ne,ge,we,W,he;switch(C){case"l":f+=T.shift(),h+=T.shift(),O="L",j.push(f,h);break;case"L":f=T.shift(),h=T.shift(),j.push(f,h);break;case"m":const de=T.shift(),ue=T.shift();if(f+=de,h+=ue,O="M",l.length>2&&l[l.length-1].command==="z"){for(let H=l.length-2;H>=0;H--)if(l[H].command==="M"){f=l[H].points[0]+de,h=l[H].points[1]+ue;break}}j.push(f,h),C="l";break;case"M":f=T.shift(),h=T.shift(),O="M",j.push(f,h),C="L";break;case"h":f+=T.shift(),O="L",j.push(f,h);break;case"H":f=T.shift(),O="L",j.push(f,h);break;case"v":h+=T.shift(),O="L",j.push(f,h);break;case"V":h=T.shift(),O="L",j.push(f,h);break;case"C":j.push(T.shift(),T.shift(),T.shift(),T.shift()),f=T.shift(),h=T.shift(),j.push(f,h);break;case"c":j.push(f+T.shift(),h+T.shift(),f+T.shift(),h+T.shift()),f+=T.shift(),h+=T.shift(),O="C",j.push(f,h);break;case"S":G=f,U=h,k=l[l.length-1],k.command==="C"&&(G=f+(f-k.points[2]),U=h+(h-k.points[3])),j.push(G,U,T.shift(),T.shift()),f=T.shift(),h=T.shift(),O="C",j.push(f,h);break;case"s":G=f,U=h,k=l[l.length-1],k.command==="C"&&(G=f+(f-k.points[2]),U=h+(h-k.points[3])),j.push(G,U,f+T.shift(),h+T.shift()),f+=T.shift(),h+=T.shift(),O="C",j.push(f,h);break;case"Q":j.push(T.shift(),T.shift()),f=T.shift(),h=T.shift(),j.push(f,h);break;case"q":j.push(f+T.shift(),h+T.shift()),f+=T.shift(),h+=T.shift(),O="Q",j.push(f,h);break;case"T":G=f,U=h,k=l[l.length-1],k.command==="Q"&&(G=f+(f-k.points[0]),U=h+(h-k.points[1])),f=T.shift(),h=T.shift(),O="Q",j.push(G,U,f,h);break;case"t":G=f,U=h,k=l[l.length-1],k.command==="Q"&&(G=f+(f-k.points[0]),U=h+(h-k.points[1])),f+=T.shift(),h+=T.shift(),O="Q",j.push(G,U,f,h);break;case"A":V=T.shift(),K=T.shift(),ne=T.shift(),ge=T.shift(),we=T.shift(),W=f,he=h,f=T.shift(),h=T.shift(),O="A",j=this.convertEndpointToCenterParameterization(W,he,f,h,ge,we,V,K,ne);break;case"a":V=T.shift(),K=T.shift(),ne=T.shift(),ge=T.shift(),we=T.shift(),W=f,he=h,f+=T.shift(),h+=T.shift(),O="A",j=this.convertEndpointToCenterParameterization(W,he,f,h,ge,we,V,K,ne);break}l.push({command:O||C,points:j,start:{x:M,y:z},pathLength:this.calcLength(M,z,O||C,j)})}(C==="z"||C==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,i){let l,u,f,h;const p=Yr;switch(a){case"L":return p.getLineLength(e,n,i[0],i[1]);case"C":return T4([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return A4([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":l=0;const v=i[4],_=i[5],x=i[4]+_;let C=Math.PI/180;if(Math.abs(v-x)<C&&(C=Math.abs(v-x)),u=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),_<0)for(h=v-C;h>x;h-=C)f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;else for(h=v+C;h<x;h+=C)f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;return f=p.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],x,0),l+=p.getLineLength(u.x,u.y,f.x,f.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,i,l,u,f,h,p){const v=p*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-i)/2,x=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-i)/2,C=_*_/(f*f)+x*x/(h*h);C>1&&(f*=Math.sqrt(C),h*=Math.sqrt(C));let T=Math.sqrt((f*f*(h*h)-f*f*(x*x)-h*h*(_*_))/(f*f*(x*x)+h*h*(_*_)));l===u&&(T*=-1),isNaN(T)&&(T=0);const R=T*f*x/h,O=T*-h*_/f,j=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,M=(n+i)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(ge){return Math.sqrt(ge[0]*ge[0]+ge[1]*ge[1])},k=function(ge,we){return(ge[0]*we[0]+ge[1]*we[1])/(z(ge)*z(we))},G=function(ge,we){return(ge[0]*we[1]<ge[1]*we[0]?-1:1)*Math.acos(k(ge,we))},U=G([1,0],[(_-R)/f,(x-O)/h]),V=[(_-R)/f,(x-O)/h],K=[(-1*_-R)/f,(-1*x-O)/h];let ne=G(V,K);return k(V,K)<=-1&&(ne=Math.PI),k(V,K)>=1&&(ne=0),u===0&&ne>0&&(ne=ne-2*Math.PI),u===1&&ne<0&&(ne=ne+2*Math.PI),[j,M,f,h,U,ne,v,u]}};Gi.prototype.className="Path";Gi.prototype._attrsAffectingSize=["data"];Xn(Gi);Y.addGetterSetter(Gi,"data");let Ic=class extends fo{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const l=this.tension()!==0&&a.length>4;l&&(i=this.getTensionPoints());const u=this.pointerLength(),f=a.length;let h,p;if(l){const x=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[f-2],a[f-1]],C=Gi.calcLength(i[i.length-4],i[i.length-3],"C",x),T=Gi.getPointOnQuadraticBezier(Math.min(1,1-u/C),x[0],x[1],x[2],x[3],x[4],x[5]);h=a[f-2]-T.x,p=a[f-1]-T.y}else h=a[f-2]-a[f-4],p=a[f-1]-a[f-3];const v=(Math.atan2(p,h)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[f-2],a[f-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(h=(i[0]+i[2])/2-a[0],p=(i[1]+i[3])/2-a[1]):(h=a[2]-a[0],p=a[3]-a[1]),e.rotate((Math.atan2(-p,-h)+n)%n),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Ic.prototype.className="Arrow";Xn(Ic);Y.addGetterSetter(Ic,"pointerLength",10,Ge());Y.addGetterSetter(Ic,"pointerWidth",10,Ge());Y.addGetterSetter(Ic,"pointerAtBeginning",!1);Y.addGetterSetter(Ic,"pointerAtEnding",!0);let $f=class extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};$f.prototype._centroid=!0;$f.prototype.className="Circle";$f.prototype._attrsAffectingSize=["radius"];Xn($f);Y.addGetterSetter($f,"radius",0,Ge());class wu extends ze{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}wu.prototype.className="Ellipse";wu.prototype._centroid=!0;wu.prototype._attrsAffectingSize=["radiusX","radiusY"];Xn(wu);Y.addComponentsGetterSetter(wu,"radius",["x","y"]);Y.addGetterSetter(wu,"radiusX",0,Ge());Y.addGetterSetter(wu,"radiusY",0,Ge());class Ii extends ze{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),l=this.attrs.image;let u;if(l){const f=this.attrs.cropWidth,h=this.attrs.cropHeight;f&&h?u=[l,this.cropX(),this.cropY(),f,h,0,0,n,a]:u=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?le.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(i&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?le.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const i=le.createImageElement();i.onload=function(){const l=new Ii({image:i});n(l)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}}Ii.prototype.className="Image";Xn(Ii);Y.addGetterSetter(Ii,"cornerRadius",0,Gv(4));Y.addGetterSetter(Ii,"image");Y.addComponentsGetterSetter(Ii,"crop",["x","y","width","height"]);Y.addGetterSetter(Ii,"cropX",0,Ge());Y.addGetterSetter(Ii,"cropY",0,Ge());Y.addGetterSetter(Ii,"cropWidth",0,Ge());Y.addGetterSetter(Ii,"cropHeight",0,Ge());const Rw=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],ED="Change.konva",CD="none",m2="up",g2="right",p2="down",v2="left",TD=Rw.length;let ub=class extends Vf{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<TD;a++)e.on(Rw[a]+ED,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,l,u,f,h,p;if(e&&n){switch(a=e.width(),i=e.height(),l=n.pointerDirection(),u=n.pointerWidth(),p=n.pointerHeight(),f=0,h=0,l){case m2:f=a/2,h=-1*p;break;case g2:f=a+u,h=i/2;break;case p2:f=a/2,h=i+p;break;case v2:f=-1*u,h=i/2;break}n.setAttrs({x:-1*f,y:-1*h,width:a,height:i}),e.setAttrs({x:-1*f,y:-1*h})}}};ub.prototype.className="Label";Xn(ub);class Zc extends ze{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),f=this.cornerRadius();let h=0,p=0,v=0,_=0;typeof f=="number"?h=p=v=_=Math.min(f,n/2,a/2):(h=Math.min(f[0]||0,n/2,a/2),p=Math.min(f[1]||0,n/2,a/2),_=Math.min(f[2]||0,n/2,a/2),v=Math.min(f[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(h,0),i===m2&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+l)/2,0)),e.lineTo(n-p,0),e.arc(n-p,p,p,Math.PI*3/2,0,!1),i===g2&&(e.lineTo(n,(a-u)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),i===p2&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),i===v2&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,h),e.arc(h,h,h,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),f=this.height();return l===m2?(n-=i,f+=i):l===p2?f+=i:l===v2?(e-=a*1.5,u+=a):l===g2&&(u+=a*1.5),{x:e,y:n,width:u,height:f}}}Zc.prototype.className="Tag";Xn(Zc);Y.addGetterSetter(Zc,"pointerDirection",CD);Y.addGetterSetter(Zc,"pointerWidth",0,Ge());Y.addGetterSetter(Zc,"pointerHeight",0,Ge());Y.addGetterSetter(Zc,"cornerRadius",0,Gv(4));let Am=class extends ze{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?le.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};Am.prototype.className="Rect";Xn(Am);Y.addGetterSetter(Am,"cornerRadius",0,Gv(4));class Su extends ze{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)le.drawRoundedPolygonPath(e,n,i,a,l);else{e.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)e.lineTo(n[u].x,n[u].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,l=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y)}),{x:n,y:i,width:a-n,height:l-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Su.prototype.className="RegularPolygon";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["radius"];Xn(Su);Y.addGetterSetter(Su,"radius",0,Ge());Y.addGetterSetter(Su,"sides",0,Ge());Y.addGetterSetter(Su,"cornerRadius",0,Gv(4));const O4=Math.PI*2;class Xc extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,O4,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),O4,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Xc.prototype.className="Ring";Xc.prototype._centroid=!0;Xc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(Xc);Y.addGetterSetter(Xc,"innerRadius",0,Ge());Y.addGetterSetter(Xc,"outerRadius",0,Ge());class bl extends ze{constructor(e){super(e),this._updated=!0,this.anim=new Hi(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+0],h=l[i+1],p=l[i+2],v=l[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,p,v),e.closePath(),e.fillStrokeShape(this)),_)if(u){const x=u[n],C=a*2;e.drawImage(_,f,h,p,v,x[C+0],x[C+1],p,v)}else e.drawImage(_,f,h,p,v,0,0,p,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),f=l[i+2],h=l[i+3];if(e.beginPath(),u){const p=u[n],v=a*2;e.rect(p[v+0],p[v+1],f,h)}else e.rect(0,0,f,h);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],l=i.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}bl.prototype.className="Sprite";Xn(bl);Y.addGetterSetter(bl,"animation");Y.addGetterSetter(bl,"animations");Y.addGetterSetter(bl,"frameOffsets");Y.addGetterSetter(bl,"image");Y.addGetterSetter(bl,"frameIndex",0,Ge());Y.addGetterSetter(bl,"frameRate",17,Ge());Y.backCompat(bl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Eu extends ze{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<i*2;l++){const u=l%2===0?a:n,f=u*Math.sin(l*Math.PI/i),h=-1*u*Math.cos(l*Math.PI/i);e.lineTo(f,h)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Eu.prototype.className="Star";Eu.prototype._centroid=!0;Eu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(Eu);Y.addGetterSetter(Eu,"numPoints",5,Ge());Y.addGetterSetter(Eu,"innerRadius",0,Ge());Y.addGetterSetter(Eu,"outerRadius",0,Ge());function ou(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=i[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const yf="auto",AD="center",Ow="inherit",bf="justify",RD="Change.konva",OD="2d",N4="-",Nw="left",ND="text",jD="Text",MD="top",DD="bottom",j4="middle",jw="normal",zD="px ",Rp=" ",kD="right",M4="rtl",LD="word",UD="char",D4="none",gy="",Mw=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],PD=Mw.length;function BD(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let Op;function py(){return Op||(Op=le.createCanvasElement().getContext(OD),Op)}function HD(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function GD(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function qD(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let qn=class extends ze{constructor(e){super(qD(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<PD;n++)this.on(Mw[n]+RD,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,l=i.length;if(!this.text())return;let u=this.padding(),f=this.fontSize(),h=this.lineHeight()*f,p=this.verticalAlign(),v=this.direction(),_=0,x=this.align(),C=this.getWidth(),T=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),j=this.textDecoration(),M=j.indexOf("underline")!==-1,z=j.indexOf("line-through")!==-1,k;v=v===Ow?e.direction:v;let G=h/2,U=j4;if(!Ye.legacyTextRendering){const V=this.measureSize("M");U="alphabetic";const K=(n=V.fontBoundingBoxAscent)!==null&&n!==void 0?n:V.actualBoundingBoxAscent,ne=(a=V.fontBoundingBoxDescent)!==null&&a!==void 0?a:V.actualBoundingBoxDescent;G=(K-ne)/2+h/2}for(v===M4&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",U),e.setAttr("textAlign",Nw),p===j4?_=(this.getHeight()-l*h-u*2)/2:p===DD&&(_=this.getHeight()-l*h-u*2),e.translate(u,_+u),k=0;k<l;k++){let V=0,K=0;const ne=i[k],ge=ne.text,we=ne.width,W=ne.lastInParagraph;if(e.save(),x===kD?V+=C-we-u*2:x===AD&&(V+=(C-we-u*2)/2),M){e.save(),e.beginPath();const he=Ye.legacyTextRendering?Math.round(f/2):Math.round(f/4),de=V,ue=G+K+he;e.moveTo(de,ue);const H=x===bf&&!W?C-u*2:we;e.lineTo(de+Math.round(H),ue),e.lineWidth=f/15;const J=this._getLinearGradient();e.strokeStyle=J||O,e.stroke(),e.restore()}if(v!==M4&&(T!==0||x===bf||R)){const he=ge.split(" ").length-1,de=ou(ge);for(let ue=0;ue<de.length;ue++){const H=de[ue];if(H===" "&&!W&&x===bf&&(V+=(C-u*2-we)/he),this._partialTextX=V,this._partialTextY=G+K,this._partialText=H,R){e.save();const F=i.slice(0,k).reduce((B,ee)=>B+ou(ee.text).length,0),ae=ue+F;R({char:H,index:ae,x:V,y:G+K,lineIndex:k,column:ue,isLastInLine:W,width:this.measureSize(H).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),V+=this.measureSize(H).width+T}}else T!==0&&e.setAttr("letterSpacing",`${T}px`),this._partialTextX=V,this._partialTextY=G+K,this._partialText=ge,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const he=Ye.legacyTextRendering?0:-Math.round(f/4),de=x===bf?0:V;e.moveTo(de,G+K+he);const ue=x===bf&&!W?C-u*2:we;e.lineTo(de+Math.round(ue),G+K+he),e.lineWidth=f/15;const H=this._getLinearGradient();e.strokeStyle=H||O,e.stroke(),e.restore()}e.restore(),l>1&&(G+=h)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=le._isString(e)?e:e==null?"":e+"";return this._setAttr(ND,n),this}getWidth(){return this.attrs.width===yf||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===yf||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return le.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,l,u,f,h,p,v,_,x;let C=py(),T=this.fontSize(),R;C.save(),C.font=this._getContextFont(),R=C.measureText(e),C.restore();const O=T/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(u=R.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(f=R.emHeightAscent)!==null&&f!==void 0?f:100*O,emHeightDescent:(h=R.emHeightDescent)!==null&&h!==void 0?h:-20*O,fontBoundingBoxAscent:(p=R.fontBoundingBoxAscent)!==null&&p!==void 0?p:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(x=R.ideographicBaseline)!==null&&x!==void 0?x:-21*O,width:R.width,height:T}}_getContextFont(){return this.fontStyle()+Rp+this.fontVariant()+Rp+(this.fontSize()+zD)+BD(this.fontFamily())}_addTextLine(e){this.align()===bf&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return py().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,l=this.attrs.width,u=this.attrs.height,f=l!==yf&&l!==void 0,h=u!==yf&&u!==void 0,p=this.padding(),v=l-p*2,_=u-p*2,x=0,C=this.wrap(),T=C!==D4,R=C!==UD&&T,O=this.ellipsis();this.textArr=[],py().font=this._getContextFont();const j=O?this._getTextWidth(gy):0;for(let M=0,z=e.length;M<z;++M){let k=e[M],G=this._getTextWidth(k);if(f&&G>v)for(;k.length>0;){let U=0,V=ou(k).length,K="",ne=0;for(;U<V;){const ge=U+V>>>1,we=ou(k),W=we.slice(0,ge+1).join(""),he=this._getTextWidth(W);(O&&h&&x+i>_?he+j:he)<=v?(U=ge+1,K=W,ne=he):V=ge}if(K){if(R){const W=ou(k),he=ou(K),de=W[he.length],ue=de===Rp||de===N4;let H;if(ue&&ne<=v)H=he.length;else{const J=he.lastIndexOf(Rp),F=he.lastIndexOf(N4);H=Math.max(J,F)+1}H>0&&(U=H,K=W.slice(0,U).join(""),ne=this._getTextWidth(K))}if(K=K.trimRight(),this._addTextLine(K),a=Math.max(a,ne),x+=i,this._shouldHandleEllipsis(x)){this._tryToAddEllipsisToLastLine();break}if(k=ou(k).slice(U).join("").trimLeft(),k.length>0&&(G=this._getTextWidth(k),G<=v)){this._addTextLine(k),x+=i,a=Math.max(a,G);break}}else break}else this._addTextLine(k),x+=i,a=Math.max(a,G),this._shouldHandleEllipsis(x)&&M<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),h&&x+i>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,l=i!==yf&&i!==void 0,u=this.padding(),f=i-u*2;return!(this.wrap()!==D4)||l&&e+a>f}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==yf&&e!==void 0,a=this.padding(),i=e-a*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!l||(n&&(this._getTextWidth(u.text+gy)<i||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+gy))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};qn.prototype._fillFunc=HD;qn.prototype._strokeFunc=GD;qn.prototype.className=jD;qn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Xn(qn);Y.overWriteSetter(qn,"width",sb());Y.overWriteSetter(qn,"height",sb());Y.addGetterSetter(qn,"direction",Ow);Y.addGetterSetter(qn,"fontFamily","Arial");Y.addGetterSetter(qn,"fontSize",12,Ge());Y.addGetterSetter(qn,"fontStyle",jw);Y.addGetterSetter(qn,"fontVariant",jw);Y.addGetterSetter(qn,"padding",0,Ge());Y.addGetterSetter(qn,"align",Nw);Y.addGetterSetter(qn,"verticalAlign",MD);Y.addGetterSetter(qn,"lineHeight",1,Ge());Y.addGetterSetter(qn,"wrap",LD);Y.addGetterSetter(qn,"ellipsis",!1,Es());Y.addGetterSetter(qn,"letterSpacing",0,Ge());Y.addGetterSetter(qn,"text","",Vc());Y.addGetterSetter(qn,"textDecoration","");Y.addGetterSetter(qn,"charRenderFunc",void 0);const VD="",Dw="normal";function zw(t){t.fillText(this.partialText,0,0)}function kw(t){t.strokeText(this.partialText,0,0)}class Ea extends ze{constructor(e){super(e),this.dummyCanvas=le.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Gi.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Gi.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Gi.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let u=0;u<l.length;u++){e.save();const f=l[u].p0;e.translate(f.x,f.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return le.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return qn.prototype.setText.call(this,e)}_getContextFont(){return qn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=ou(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),u=this.align(),f=this.kerningFunc(),h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let p=0;u==="center"&&(p=Math.max(0,this.pathLength/2-h/2)),u==="right"&&(p=Math.max(0,this.pathLength-h));let v=p;for(let _=0;_<n.length;_++){const x=this._getPointAtLength(v);if(!x)return;const C=n[_].char;let T=n[_].width+l;if(C===" "&&u==="justify"){const k=this.text().split(" ").length-1;T+=(this.pathLength-h)/k}const R=this._getPointAtLength(v+T);if(!R)return;const O=Gi.getLineLength(x.x,x.y,R.x,R.y);let j=0;if(f)try{j=f(n[_-1].char,C)*this.fontSize()}catch{j=0}x.x+=j,R.x+=j,this.textWidth+=j;const M=Gi.getPointOnLine(j+O/2,x.x,x.y,R.x,R.y),z=Math.atan2(R.y-x.y,R.x-x.x);this.glyphInfo.push({transposeX:M.x,transposeY:M.y,text:e[_],rotation:z,p0:x,p1:R}),v+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(p){e.push(p.p0.x),e.push(p.p0.y),e.push(p.p1.x),e.push(p.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,l=e[1]||0,u,f;for(let p=0;p<e.length/2;p++)u=e[p*2],f=e[p*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,f),l=Math.max(l,f);const h=this.fontSize();return{x:n-h/2,y:i-h/2,width:a-n+h,height:l-i+h}}destroy(){return le.releaseCanvas(this.dummyCanvas),super.destroy()}}Ea.prototype._fillFunc=zw;Ea.prototype._strokeFunc=kw;Ea.prototype._fillFuncHit=zw;Ea.prototype._strokeFuncHit=kw;Ea.prototype.className="TextPath";Ea.prototype._attrsAffectingSize=["text","fontSize","data"];Xn(Ea);Y.addGetterSetter(Ea,"data");Y.addGetterSetter(Ea,"fontFamily","Arial");Y.addGetterSetter(Ea,"fontSize",12,Ge());Y.addGetterSetter(Ea,"fontStyle",Dw);Y.addGetterSetter(Ea,"align","left");Y.addGetterSetter(Ea,"letterSpacing",0,Ge());Y.addGetterSetter(Ea,"textBaseline","middle");Y.addGetterSetter(Ea,"fontVariant",Dw);Y.addGetterSetter(Ea,"text",VD);Y.addGetterSetter(Ea,"textDecoration","");Y.addGetterSetter(Ea,"kerningFunc",void 0);const Lw="tr-konva",YD=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Lw}`).join(" "),z4="nodesRect",ID=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],ZD={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},XD="ontouchstart"in Ye._global;function KD(t,e,n){if(t==="rotater")return n;e+=le.degToRad(ZD[t]||0);const a=(le.radToDeg(e)%360+360)%360;return le._inRange(a,315+22.5,360)||le._inRange(a,0,22.5)?"ns-resize":le._inRange(a,45-22.5,45+22.5)?"nesw-resize":le._inRange(a,90-22.5,90+22.5)?"ew-resize":le._inRange(a,135-22.5,135+22.5)?"nwse-resize":le._inRange(a,180-22.5,180+22.5)?"ns-resize":le._inRange(a,225-22.5,225+22.5)?"nesw-resize":le._inRange(a,270-22.5,270+22.5)?"ew-resize":le._inRange(a,315-22.5,315+22.5)?"nwse-resize":(le.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const gv=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function FD(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Uw(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function $D(t,e){const n=FD(t);return Uw(t,e,n)}function QD(t,e,n){let a=e;for(let i=0;i<t.length;i++){const l=Ye.getAngle(t[i]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=l)}return a}let y2=0,tn=class extends Vf{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(YD,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return le.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Lw+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(le.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const u=i._attrsAffectingSize.map(f=>f+"Change."+this._getEventNamespace()).join(" ");i.on(u,l)}i.on(ID.map(u=>u+`.${this._getEventNamespace()}`).join(" "),l),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),l=i.x-n.x,u=i.y-n.y;this.nodes().forEach(f=>{if(f===e||f.isDragging())return;const h=f.getAbsolutePosition();f.setAbsolutePosition({x:h.x+l,y:h.y+u}),f.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(z4),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(z4,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),f=i.x*l.x-e.offsetX()*l.x,h=i.y*l.y-e.offsetY()*l.y,p=(Ye.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+f*Math.cos(p)+h*Math.sin(-p),y:u.y+h*Math.cos(p)+f*Math.sin(p),width:i.width*l.x,height:i.height*l.y,rotation:p};return Uw(v,-Ye.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(p=>{const v=p.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],x=p.getAbsoluteTransform();_.forEach(function(C){const T=x.point(C);n.push(T)})});const a=new fi;a.rotate(-Ye.getAngle(this.rotation()));let i=1/0,l=1/0,u=-1/0,f=-1/0;n.forEach(function(p){const v=a.point(p);i===void 0&&(i=u=v.x,l=f=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y)}),a.invert();const h=a.point({x:i,y:l});return{x:h.x,y:h.y,width:u-i,height:f-l,rotation:Ye.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),gv.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new Am({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:XD?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Ye.getAngle(this.rotation()),l=this.rotateAnchorCursor(),u=KD(e,i,l);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new ze({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),l=i.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*le._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=e.target.getAbsolutePosition(),f=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:f.x-u.x,y:f.y-u.y},y2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(h=>{h._fire("transformstart",{evt:e.evt,target:h})})}_handleMouseMove(e){let n,a,i;const l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const f=u.getPointerPosition();let h={x:f.x-this._anchorDragOffset.x,y:f.y-this._anchorDragOffset.y};const p=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(h=this.anchorDragBoundFunc()(p,h,e)),l.setAbsolutePosition(h);const v=l.getAbsolutePosition();if(p.x===v.x&&p.y===v.y)return;if(this._movingAnchorName==="rotater"){const M=this._getNodeRect();n=l.x()-M.width/2,a=-l.y()+M.height/2;let z=Math.atan2(-a,n)+Math.PI/2;M.height<0&&(z-=Math.PI);const G=Ye.getAngle(this.rotation())+z,U=Ye.getAngle(this.rotationSnapTolerance()),K=QD(this.rotationSnaps(),G,U)-M.rotation,ne=$D(M,K);this._fitNodesInto(ne,e);return}const _=this.shiftBehavior();let x;_==="inverted"?x=this.keepRatio()&&!e.shiftKey:_==="none"?x=this.keepRatio():x=this.keepRatio()||e.shiftKey;let C=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(x){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(M.x-l.x(),2)+Math.pow(M.y-l.y(),2));const z=this.findOne(".top-left").x()>M.x?-1:1,k=this.findOne(".top-left").y()>M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,this.findOne(".top-left").x(M.x-n),this.findOne(".top-left").y(M.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(x){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(l.x()-M.x,2)+Math.pow(M.y-l.y(),2));const z=this.findOne(".top-right").x()<M.x?-1:1,k=this.findOne(".top-right").y()>M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,this.findOne(".top-right").x(M.x+n),this.findOne(".top-right").y(M.y-a)}var T=l.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(x){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(M.x-l.x(),2)+Math.pow(l.y()-M.y,2));const z=M.x<l.x()?-1:1,k=l.y()<M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,l.x(M.x-n),l.y(M.y+a)}T=l.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(x){const M=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(l.x()-M.x,2)+Math.pow(l.y()-M.y,2));const z=this.findOne(".bottom-right").x()<M.x?-1:1,k=this.findOne(".bottom-right").y()<M.y?-1:1;n=i*this.cos*z,a=i*this.sin*k,this.findOne(".bottom-right").x(M.x+n),this.findOne(".bottom-right").y(M.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(C=this.centeredScaling()||e.altKey,C){const M=this.findOne(".top-left"),z=this.findOne(".bottom-right"),k=M.x(),G=M.y(),U=this.getWidth()-z.x(),V=this.getHeight()-z.y();z.move({x:-k,y:-G}),M.move({x:U,y:V})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),j=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:j,rotation:Ye.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();y2--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var l;i._fire("transformend",{evt:e,target:i}),(l=i.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if(le._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(le._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const l=new fi;if(l.rotate(Ye.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const x=l.point({x:-this.padding()*2,y:0});e.x+=x.x,e.y+=x.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const x=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const x=l.point({x:0,y:-this.padding()*2});e.x+=x.x,e.y+=x.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const x=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const x=this.boundBoxFunc()(a,e);x?e=x:le.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,f=new fi;f.translate(a.x,a.y),f.rotate(a.rotation),f.scale(a.width/u,a.height/u);const h=new fi,p=e.width/u,v=e.height/u;this.flipEnabled()===!1?(h.translate(e.x,e.y),h.rotate(e.rotation),h.translate(e.width<0?e.width:0,e.height<0?e.height:0),h.scale(Math.abs(p),Math.abs(v))):(h.translate(e.x,e.y),h.rotate(e.rotation),h.scale(p,v));const _=h.multiply(f.invert());this._nodes.forEach(x=>{var C;if(!x.getStage())return;const T=x.getParent().getAbsoluteTransform(),R=x.getTransform().copy();R.translate(x.offsetX(),x.offsetY());const O=new fi;O.multiply(T.copy().invert()).multiply(_).multiply(T).multiply(R);const j=O.decompose();x.setAttrs(j),(C=x.getLayer())===null||C===void 0||C.batchDraw()}),this.rotation(le._getRotation(e.rotation)),this._nodes.forEach(x=>{this._fire("transform",{evt:n,target:x}),x._fire("transform",{evt:n,target:x})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(le._getRotation(n.rotation));const a=n.width,i=n.height,l=this.enabledAnchors(),u=this.resizeEnabled(),f=this.padding(),h=this.anchorSize(),p=this.find("._anchor");p.forEach(_=>{_.setAttrs({width:h,height:h,offsetX:h/2,offsetY:h/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:h/2+f,offsetY:h/2+f,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:h/2+f,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:h/2-f,offsetY:h/2+f,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:h/2+f,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:h/2-f,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:h/2+f,offsetY:h/2-f,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:h/2-f,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:h/2-f,offsetY:h/2-f,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*le._sign(i)-f,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&p.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Vf.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return qe.prototype.toObject.call(this)}clone(e){return qe.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};tn.isTransforming=()=>y2>0;function WD(t){return t instanceof Array||le.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){gv.indexOf(e)===-1&&le.warn("Unknown anchor name: "+e+". Available names are: "+gv.join(", "))}),t||[]}tn.prototype.className="Transformer";Xn(tn);Y.addGetterSetter(tn,"enabledAnchors",gv,WD);Y.addGetterSetter(tn,"flipEnabled",!0,Es());Y.addGetterSetter(tn,"resizeEnabled",!0);Y.addGetterSetter(tn,"anchorSize",10,Ge());Y.addGetterSetter(tn,"rotateEnabled",!0);Y.addGetterSetter(tn,"rotateLineVisible",!0);Y.addGetterSetter(tn,"rotationSnaps",[]);Y.addGetterSetter(tn,"rotateAnchorOffset",50,Ge());Y.addGetterSetter(tn,"rotateAnchorCursor","crosshair");Y.addGetterSetter(tn,"rotationSnapTolerance",5,Ge());Y.addGetterSetter(tn,"borderEnabled",!0);Y.addGetterSetter(tn,"anchorStroke","rgb(0, 161, 255)");Y.addGetterSetter(tn,"anchorStrokeWidth",1,Ge());Y.addGetterSetter(tn,"anchorFill","white");Y.addGetterSetter(tn,"anchorCornerRadius",0,Ge());Y.addGetterSetter(tn,"borderStroke","rgb(0, 161, 255)");Y.addGetterSetter(tn,"borderStrokeWidth",1,Ge());Y.addGetterSetter(tn,"borderDash");Y.addGetterSetter(tn,"keepRatio",!0);Y.addGetterSetter(tn,"shiftBehavior","default");Y.addGetterSetter(tn,"centeredScaling",!1);Y.addGetterSetter(tn,"ignoreStroke",!1);Y.addGetterSetter(tn,"padding",0,Ge());Y.addGetterSetter(tn,"nodes");Y.addGetterSetter(tn,"node");Y.addGetterSetter(tn,"boundBoxFunc");Y.addGetterSetter(tn,"anchorDragBoundFunc");Y.addGetterSetter(tn,"anchorStyleFunc");Y.addGetterSetter(tn,"shouldOverdrawWholeArea",!1);Y.addGetterSetter(tn,"useSingleNodeRotation",!0);Y.backCompat(tn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ho extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Ye.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ho.prototype.className="Wedge";ho.prototype._centroid=!0;ho.prototype._attrsAffectingSize=["radius"];Xn(ho);Y.addGetterSetter(ho,"radius",0,Ge());Y.addGetterSetter(ho,"angle",0,Ge());Y.addGetterSetter(ho,"clockwise",!1);Y.backCompat(ho,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function k4(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const JD=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],ez=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function tz(t,e){const n=t.data,a=t.width,i=t.height;let l,u,f,h,p,v,_,x,C,T,R,O,j,M,z,k,G,U,V,K;const ne=e+e+1,ge=a-1,we=i-1,W=e+1,he=W*(W+1)/2,de=new k4,ue=JD[e],H=ez[e];let J=null,F=de,ae=null,B=null;for(let ee=1;ee<ne;ee++)F=F.next=new k4,ee===W&&(J=F);F.next=de,f=u=0;for(let ee=0;ee<i;ee++){O=j=M=z=h=p=v=_=0,x=W*(k=n[u]),C=W*(G=n[u+1]),T=W*(U=n[u+2]),R=W*(V=n[u+3]),h+=he*k,p+=he*G,v+=he*U,_+=he*V,F=de;for(let _e=0;_e<W;_e++)F.r=k,F.g=G,F.b=U,F.a=V,F=F.next;for(let _e=1;_e<W;_e++)l=u+((ge<_e?ge:_e)<<2),h+=(F.r=k=n[l])*(K=W-_e),p+=(F.g=G=n[l+1])*K,v+=(F.b=U=n[l+2])*K,_+=(F.a=V=n[l+3])*K,O+=k,j+=G,M+=U,z+=V,F=F.next;ae=de,B=J;for(let _e=0;_e<a;_e++)n[u+3]=V=_*ue>>H,V!==0?(V=255/V,n[u]=(h*ue>>H)*V,n[u+1]=(p*ue>>H)*V,n[u+2]=(v*ue>>H)*V):n[u]=n[u+1]=n[u+2]=0,h-=x,p-=C,v-=T,_-=R,x-=ae.r,C-=ae.g,T-=ae.b,R-=ae.a,l=f+((l=_e+e+1)<ge?l:ge)<<2,O+=ae.r=n[l],j+=ae.g=n[l+1],M+=ae.b=n[l+2],z+=ae.a=n[l+3],h+=O,p+=j,v+=M,_+=z,ae=ae.next,x+=k=B.r,C+=G=B.g,T+=U=B.b,R+=V=B.a,O-=k,j-=G,M-=U,z-=V,B=B.next,u+=4;f+=a}for(let ee=0;ee<a;ee++){j=M=z=O=p=v=_=h=0,u=ee<<2,x=W*(k=n[u]),C=W*(G=n[u+1]),T=W*(U=n[u+2]),R=W*(V=n[u+3]),h+=he*k,p+=he*G,v+=he*U,_+=he*V,F=de;for(let Se=0;Se<W;Se++)F.r=k,F.g=G,F.b=U,F.a=V,F=F.next;let _e=a;for(let Se=1;Se<=e;Se++)u=_e+ee<<2,h+=(F.r=k=n[u])*(K=W-Se),p+=(F.g=G=n[u+1])*K,v+=(F.b=U=n[u+2])*K,_+=(F.a=V=n[u+3])*K,O+=k,j+=G,M+=U,z+=V,F=F.next,Se<we&&(_e+=a);u=ee,ae=de,B=J;for(let Se=0;Se<i;Se++)l=u<<2,n[l+3]=V=_*ue>>H,V>0?(V=255/V,n[l]=(h*ue>>H)*V,n[l+1]=(p*ue>>H)*V,n[l+2]=(v*ue>>H)*V):n[l]=n[l+1]=n[l+2]=0,h-=x,p-=C,v-=T,_-=R,x-=ae.r,C-=ae.g,T-=ae.b,R-=ae.a,l=ee+((l=Se+W)<we?l:we)*a<<2,h+=O+=ae.r=n[l],p+=j+=ae.g=n[l+1],v+=M+=ae.b=n[l+2],_+=z+=ae.a=n[l+3],ae=ae.next,x+=k=B.r,C+=G=B.g,T+=U=B.b,R+=V=B.a,O-=k,j-=G,M-=U,z-=V,B=B.next,u+=a}}const nz=function(e){const n=Math.round(this.blurRadius());n>0&&tz(e,n)};Y.addGetterSetter(qe,"blurRadius",0,Ge(),Y.afterSetFilter);const az=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Y.addGetterSetter(qe,"brightness",0,Ge(),Y.afterSetFilter);const rz=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},iz=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,l=150,u=150;for(let f=0;f<a;f+=4)i=n[f],l=n[f+1],u=n[f+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,n[f]=i,n[f+1]=l,n[f+2]=u};Y.addGetterSetter(qe,"contrast",0,Ge(),Y.afterSetFilter);const sz=function(t){var e,n,a,i,l,u,f,h,p;const v=t.data,_=t.width,x=t.height,C=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),T=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),O=(f={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&f!==void 0?f:315,j=!!((p=(h=this.embossBlend)===null||h===void 0?void 0:h.call(this))!==null&&p!==void 0&&p),M=C*10,z=T*255,k=O*Math.PI/180,G=Math.cos(k),U=Math.sin(k),V=128/1020*M,K=new Uint8ClampedArray(v),ne=new Float32Array(_*x);for(let de=0,ue=0;ue<v.length;ue+=4,de++)ne[de]=.2126*K[ue]+.7152*K[ue+1]+.0722*K[ue+2];const ge=[-1,0,1,-2,0,2,-1,0,1],we=[-1,-2,-1,0,0,0,1,2,1],W=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],he=de=>de<0?0:de>255?255:de;for(let de=1;de<x-1;de++)for(let ue=1;ue<_-1;ue++){const H=de*_+ue;let J=0,F=0;J+=ne[H+W[0]]*ge[0],F+=ne[H+W[0]]*we[0],J+=ne[H+W[1]]*ge[1],F+=ne[H+W[1]]*we[1],J+=ne[H+W[2]]*ge[2],F+=ne[H+W[2]]*we[2],J+=ne[H+W[3]]*ge[3],F+=ne[H+W[3]]*we[3],J+=ne[H+W[5]]*ge[5],F+=ne[H+W[5]]*we[5],J+=ne[H+W[6]]*ge[6],F+=ne[H+W[6]]*we[6],J+=ne[H+W[7]]*ge[7],F+=ne[H+W[7]]*we[7],J+=ne[H+W[8]]*ge[8],F+=ne[H+W[8]]*we[8];const ae=G*J+U*F,B=he(z+ae*V),ee=H*4;if(j){const _e=B-z;v[ee]=he(K[ee]+_e),v[ee+1]=he(K[ee+1]+_e),v[ee+2]=he(K[ee+2]+_e),v[ee+3]=K[ee+3]}else v[ee]=v[ee+1]=v[ee+2]=B,v[ee+3]=K[ee+3]}for(let de=0;de<_;de++){let ue=de*4,H=((x-1)*_+de)*4;v[ue]=K[ue],v[ue+1]=K[ue+1],v[ue+2]=K[ue+2],v[ue+3]=K[ue+3],v[H]=K[H],v[H+1]=K[H+1],v[H+2]=K[H+2],v[H+3]=K[H+3]}for(let de=1;de<x-1;de++){let ue=de*_*4,H=(de*_+(_-1))*4;v[ue]=K[ue],v[ue+1]=K[ue+1],v[ue+2]=K[ue+2],v[ue+3]=K[ue+3],v[H]=K[H],v[H+1]=K[H+1],v[H+2]=K[H+2],v[H+3]=K[H+3]}return t};Y.addGetterSetter(qe,"embossStrength",.5,Ge(),Y.afterSetFilter);Y.addGetterSetter(qe,"embossWhiteLevel",.5,Ge(),Y.afterSetFilter);Y.addGetterSetter(qe,"embossDirection","top-left",void 0,Y.afterSetFilter);Y.addGetterSetter(qe,"embossBlend",!1,void 0,Y.afterSetFilter);function vy(t,e,n,a,i){const l=n-e,u=i-a;if(l===0)return a+u/2;if(u===0)return a;let f=(t-e)/l;return f=u*f+a,f}const lz=function(t){const e=t.data,n=e.length;let a=e[0],i=a,l,u=e[1],f=u,h,p=e[2],v=p,_;const x=this.enhance();if(x===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>i&&(i=l),h=e[z+1],h<u?u=h:h>f&&(f=h),_=e[z+2],_<p?p=_:_>v&&(v=_);i===a&&(i=255,a=0),f===u&&(f=255,u=0),v===p&&(v=255,p=0);let C,T,R,O,j,M;if(x>0)C=i+x*(255-i),T=a-x*(a-0),R=f+x*(255-f),O=u-x*(u-0),j=v+x*(255-v),M=p-x*(p-0);else{const z=(i+a)*.5;C=i+x*(i-z),T=a+x*(a-z);const k=(f+u)*.5;R=f+x*(f-k),O=u+x*(u-k);const G=(v+p)*.5;j=v+x*(v-G),M=p+x*(p-G)}for(let z=0;z<n;z+=4)e[z+0]=vy(e[z+0],a,i,T,C),e[z+1]=vy(e[z+1],u,f,O,R),e[z+2]=vy(e[z+2],p,v,M,j)};Y.addGetterSetter(qe,"enhance",0,Ge(),Y.afterSetFilter);const oz=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};Y.addGetterSetter(qe,"hue",0,Ge(),Y.afterSetFilter);Y.addGetterSetter(qe,"saturation",0,Ge(),Y.afterSetFilter);Y.addGetterSetter(qe,"luminance",0,Ge(),Y.afterSetFilter);const uz=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,f=a*i*Math.cos(l*Math.PI/180),h=a*i*Math.sin(l*Math.PI/180),p=.299*a+.701*f+.167*h,v=.587*a-.587*f+.33*h,_=.114*a-.114*f-.497*h,x=.299*a-.299*f-.328*h,C=.587*a+.413*f+.035*h,T=.114*a-.114*f+.293*h,R=.299*a-.3*f+1.25*h,O=.587*a-.586*f-1.05*h,j=.114*a+.886*f-.2*h;let M,z,k,G;for(let U=0;U<n;U+=4)M=e[U+0],z=e[U+1],k=e[U+2],G=e[U+3],e[U+0]=p*M+v*z+_*k+u,e[U+1]=x*M+C*z+T*k+u,e[U+2]=R*M+O*z+j*k+u,e[U+3]=G},cz=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=a*i*Math.cos(l*Math.PI/180),f=a*i*Math.sin(l*Math.PI/180),h=.299*a+.701*u+.167*f,p=.587*a-.587*u+.33*f,v=.114*a-.114*u-.497*f,_=.299*a-.299*u-.328*f,x=.587*a+.413*u+.035*f,C=.114*a-.114*u+.293*f,T=.299*a-.3*u+1.25*f,R=.587*a-.586*u-1.05*f,O=.114*a+.886*u-.2*f;for(let j=0;j<n;j+=4){const M=e[j+0],z=e[j+1],k=e[j+2],G=e[j+3];e[j+0]=h*M+p*z+v*k,e[j+1]=_*M+x*z+C*k,e[j+2]=T*M+R*z+O*k,e[j+3]=G}};Y.addGetterSetter(qe,"hue",0,Ge(),Y.afterSetFilter);Y.addGetterSetter(qe,"saturation",0,Ge(),Y.afterSetFilter);Y.addGetterSetter(qe,"value",0,Ge(),Y.afterSetFilter);const dz=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},fz=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,h=n.polarCenterY||u/2;let p=Math.sqrt(f*f+h*h),v=l-f,_=u-h;const x=Math.sqrt(v*v+_*_);p=x>p?x:p;const C=u,T=l,R=360/T*Math.PI/180;for(let O=0;O<T;O+=1){const j=Math.sin(O*R),M=Math.cos(O*R);for(let z=0;z<C;z+=1){v=Math.floor(f+p*z/C*M),_=Math.floor(h+p*z/C*j);let k=(_*l+v)*4;const G=a[k+0],U=a[k+1],V=a[k+2],K=a[k+3];k=(O+z*l)*4,i[k+0]=G,i[k+1]=U,i[k+2]=V,i[k+3]=K}}},hz=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,f=n.polarCenterX||l/2,h=n.polarCenterY||u/2;let p=Math.sqrt(f*f+h*h),v=l-f,_=u-h;const x=Math.sqrt(v*v+_*_);p=x>p?x:p;const C=u,T=l,R=0;let O,j;for(v=0;v<l;v+=1)for(_=0;_<u;_+=1){const M=v-f,z=_-h,k=Math.sqrt(M*M+z*z)*C/p;let G=(Math.atan2(z,M)*180/Math.PI+360+R)%360;G=G*T/360,O=Math.floor(G),j=Math.floor(k);let U=(j*l+O)*4;const V=a[U+0],K=a[U+1],ne=a[U+2],ge=a[U+3];U=(_*l+v)*4,i[U+0]=V,i[U+1]=K,i[U+2]=ne,i[U+3]=ge}},mz=function(t){const e=t.width,n=t.height;let a,i,l,u,f,h,p,v,_,x,C=Math.round(this.kaleidoscopePower());const T=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(T%360)/360);if(C<1)return;const O=le.createCanvasElement();O.width=e,O.height=n;const j=O.getContext("2d").getImageData(0,0,e,n);le.releaseCanvas(O),fz(t,j,{polarCenterX:e/2,polarCenterY:n/2});let M=e/Math.pow(2,C);for(;M<=8;)M=M*2,C-=1;M=Math.ceil(M);let z=M,k=0,G=z,U=1;for(R+M>e&&(k=z,G=0,U=-1),i=0;i<n;i+=1)for(a=k;a!==G;a+=U)l=Math.round(a+R)%e,_=(e*i+l)*4,f=j.data[_+0],h=j.data[_+1],p=j.data[_+2],v=j.data[_+3],x=(e*i+a)*4,j.data[x+0]=f,j.data[x+1]=h,j.data[x+2]=p,j.data[x+3]=v;for(i=0;i<n;i+=1)for(z=Math.floor(M),u=0;u<C;u+=1){for(a=0;a<z+1;a+=1)_=(e*i+a)*4,f=j.data[_+0],h=j.data[_+1],p=j.data[_+2],v=j.data[_+3],x=(e*i+z*2-a-1)*4,j.data[x+0]=f,j.data[x+1]=h,j.data[x+2]=p,j.data[x+3]=v;z*=2}hz(j,t,{})};Y.addGetterSetter(qe,"kaleidoscopePower",2,Ge(),Y.afterSetFilter);Y.addGetterSetter(qe,"kaleidoscopeAngle",0,Ge(),Y.afterSetFilter);function Np(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function N0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function gz(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function pz(t,e){const n=Np(t,0,0),a=Np(t,t.width-1,0),i=Np(t,0,t.height-1),l=Np(t,t.width-1,t.height-1),u=e||10;if(N0(n,a)<u&&N0(a,l)<u&&N0(l,i)<u&&N0(i,n)<u){const f=gz([a,n,l,i]),h=[];for(let p=0;p<t.width*t.height;p++){const v=N0(f,[t.data[p*4],t.data[p*4+1],t.data[p*4+2]]);h[p]=v<u?0:255}return h}}function vz(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function yz(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let h=0;h<e;h++){const p=f*e+h;let v=0;for(let _=0;_<i;_++)for(let x=0;x<i;x++){const C=f+_-l,T=h+x-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+x];v+=t[R]*O}}u[p]=v===2040?255:0}return u}function bz(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let h=0;h<e;h++){const p=f*e+h;let v=0;for(let _=0;_<i;_++)for(let x=0;x<i;x++){const C=f+_-l,T=h+x-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+x];v+=t[R]*O}}u[p]=v>=1020?255:0}return u}function _z(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let f=0;f<n;f++)for(let h=0;h<e;h++){const p=f*e+h;let v=0;for(let _=0;_<i;_++)for(let x=0;x<i;x++){const C=f+_-l,T=h+x-l;if(C>=0&&C<n&&T>=0&&T<e){const R=C*e+T,O=a[_*i+x];v+=t[R]*O}}u[p]=v}return u}const xz=function(t){const e=this.threshold();let n=pz(t,e);return n&&(n=yz(n,t.width,t.height),n=bz(n,t.width,t.height),n=_z(n,t.width,t.height),vz(t,n)),t};Y.addGetterSetter(qe,"threshold",0,Ge(),Y.afterSetFilter);const wz=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let l=0;l<a;l+=4)n[l+0]+=i-2*i*Math.random(),n[l+1]+=i-2*i*Math.random(),n[l+2]+=i-2*i*Math.random()};Y.addGetterSetter(qe,"noise",.2,Ge(),Y.afterSetFilter);const Sz=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),l=Math.ceil(a/e),u=t.data;if(e<=0){le.error("pixelSize value can not be <= 0");return}for(let f=0;f<i;f+=1)for(let h=0;h<l;h+=1){let p=0,v=0,_=0,x=0;const C=f*e,T=C+e,R=h*e,O=R+e;let j=0;for(let M=C;M<T;M+=1)if(!(M>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const k=(n*z+M)*4;p+=u[k+0],v+=u[k+1],_+=u[k+2],x+=u[k+3],j+=1}p=p/j,v=v/j,_=_/j,x=x/j;for(let M=C;M<T;M+=1)if(!(M>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const k=(n*z+M)*4;u[k+0]=p,u[k+1]=v,u[k+2]=_,u[k+3]=x}}};Y.addGetterSetter(qe,"pixelSize",8,Ge(),Y.afterSetFilter);const Ez=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/i)*i};Y.addGetterSetter(qe,"levels",.5,Ge(),Y.afterSetFilter);const Cz=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue();for(let u=0;u<n;u+=4){const f=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255;e[u]=f*a,e[u+1]=f*i,e[u+2]=f*l,e[u+3]=e[u+3]}};Y.addGetterSetter(qe,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Y.addGetterSetter(qe,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Y.addGetterSetter(qe,"blue",0,lw,Y.afterSetFilter);const Tz=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue(),u=this.alpha();for(let f=0;f<n;f+=4){const h=1-u;e[f]=a*u+e[f]*h,e[f+1]=i*u+e[f+1]*h,e[f+2]=l*u+e[f+2]*h}};Y.addGetterSetter(qe,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Y.addGetterSetter(qe,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Y.addGetterSetter(qe,"blue",0,lw,Y.afterSetFilter);Y.addGetterSetter(qe,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Az=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],l=e[a+1],u=e[a+2];e[a+0]=Math.min(255,i*.393+l*.769+u*.189),e[a+1]=Math.min(255,i*.349+l*.686+u*.168),e[a+2]=Math.min(255,i*.272+l*.534+u*.131)}},Rz=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],l=n[a+1],u=n[a+2];.2126*i+.7152*l+.0722*u>=128&&(n[a]=255-i,n[a+1]=255-l,n[a+2]=255-u)}return t},Oz=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};Y.addGetterSetter(qe,"threshold",.5,Ge(),Y.afterSetFilter);const If=Yf.Util._assign(Yf,{Arc:co,Arrow:Ic,Circle:$f,Ellipse:wu,Image:Ii,Label:ub,Tag:Zc,Line:fo,Path:Gi,Rect:Am,RegularPolygon:Su,Ring:Xc,Sprite:bl,Star:Eu,Text:qn,TextPath:Ea,Transformer:tn,Wedge:ho,Filters:{Blur:nz,Brightness:rz,Brighten:az,Contrast:iz,Emboss:sz,Enhance:lz,Grayscale:oz,HSL:uz,HSV:cz,Invert:dz,Kaleidoscope:mz,Mask:xz,Noise:wz,Pixelate:Sz,Posterize:Ez,RGB:Cz,RGBA:Tz,Sepia:Az,Solarize:Rz,Threshold:Oz}});var yy={exports:{}},by={exports:{}};var L4;function Nz(){return L4||(L4=1,(function(t){t.exports=function(e){function n(o,c,g,b){return new d1(o,c,g,b)}function a(){}function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var c=o,g=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(g=c.return),o=c.return;while(o)}return c.tag===3?g:null}function u(o){if(l(o)!==o)throw Error(i(188))}function f(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(i(188));return c!==o?null:o}for(var g=o,b=c;;){var E=g.return;if(E===null)break;var A=E.alternate;if(A===null){if(b=E.return,b!==null){g=b;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===g)return u(E),o;if(A===b)return u(E),c;A=A.sibling}throw Error(i(188))}if(g.return!==b.return)g=E,b=A;else{for(var P=!1,X=E.child;X;){if(X===g){P=!0,g=E,b=A;break}if(X===b){P=!0,b=E,g=A;break}X=X.sibling}if(!P){for(X=A.child;X;){if(X===g){P=!0,g=A,b=E;break}if(X===b){P=!0,b=A,g=E;break}X=X.sibling}if(!P)throw Error(i(189))}}if(g.alternate!==b)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=p(o),c!==null))return c;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Md&&o[Md]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Wu?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Vl:return"Fragment";case jd:return"Profiler";case Ku:return"StrictMode";case $u:return"Suspense";case Qu:return"SuspenseList";case Yl:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Hs:return"Portal";case as:return(o.displayName||"Context")+".Provider";case Mh:return(o._context.displayName||"Context")+".Consumer";case Ti:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ai:return c=o.displayName||null,c!==null?c:_(o.type)||"Memo";case qa:c=o._payload,o=o._init;try{return _(o(c))}catch{}}return null}function x(o){return{current:o}}function C(o){0>us||(o.current=os[us],os[us]=null,us--)}function T(o,c){us++,os[us]=o.current,o.current=c}function R(o){return o>>>=0,o===0?32:31-(Pg(o)/Gd|0)|0}function O(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function j(o,c,g){var b=o.pendingLanes;if(b===0)return 0;var E=0,A=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var X=b&134217727;return X!==0?(b=X&~A,b!==0?E=O(b):(P&=X,P!==0?E=O(P):g||(g=X&~o,g!==0&&(E=O(g))))):(X=b&~A,X!==0?E=O(X):P!==0?E=O(P):g||(g=b&~o,g!==0&&(E=O(g)))),E===0?0:c!==0&&c!==E&&(c&A)===0&&(A=E&-E,g=c&-c,A>=g||A===32&&(g&4194048)!==0)?c:E}function M(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function z(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k(){var o=cc;return cc<<=1,(cc&4194048)===0&&(cc=256),o}function G(){var o=Bo;return Bo<<=1,(Bo&62914560)===0&&(Bo=4194304),o}function U(o){for(var c=[],g=0;31>g;g++)c.push(o);return c}function V(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function K(o,c,g,b,E,A){var P=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var X=o.entanglements,se=o.expirationTimes,je=o.hiddenUpdates;for(g=P&~g;0<g;){var Be=31-cr(g),Xe=1<<Be;X[Be]=0,se[Be]=-1;var Ke=je[Be];if(Ke!==null)for(je[Be]=null,Be=0;Be<Ke.length;Be++){var Nt=Ke[Be];Nt!==null&&(Nt.lane&=-536870913)}g&=~Xe}b!==0&&ne(o,b,0),A!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=A&~(P&~c))}function ne(o,c,g){o.pendingLanes|=c,o.suspendedLanes&=~c;var b=31-cr(c);o.entangledLanes|=c,o.entanglements[b]=o.entanglements[b]|1073741824|g&4194090}function ge(o,c){var g=o.entangledLanes|=c;for(o=o.entanglements;g;){var b=31-cr(g),E=1<<b;E&c|o[b]&c&&(o[b]|=c),g&=~E}}function we(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function W(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function he(o){if(typeof qg=="function"&&Vg(o),Ya&&typeof Ya.setStrictMode=="function")try{Ya.setStrictMode(Is,o)}catch{}}function de(o){if(Yd===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);Yd=c&&c[1]||"",r0=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yd+o+r0}function ue(o,c){if(!o||Id)return"";Id=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Nt){var Ke=Nt}Reflect.construct(o,[],Xe)}else{try{Xe.call()}catch(Nt){Ke=Nt}o.call(Xe.prototype)}}else{try{throw Error()}catch(Nt){Ke=Nt}(Xe=o())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Nt){if(Nt&&Ke&&typeof Nt.stack=="string")return[Nt.stack,Ke.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),P=A[0],X=A[1];if(P&&X){var se=P.split(`
`),je=X.split(`
`);for(E=b=0;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;for(;E<je.length&&!je[E].includes("DetermineComponentFrameRoot");)E++;if(b===se.length||E===je.length)for(b=se.length-1,E=je.length-1;1<=b&&0<=E&&se[b]!==je[E];)E--;for(;1<=b&&0<=E;b--,E--)if(se[b]!==je[E]){if(b!==1||E!==1)do if(b--,E--,0>E||se[b]!==je[E]){var Be=`
`+se[b].replace(" at new "," at ");return o.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",o.displayName)),Be}while(1<=b&&0<=E);break}}}finally{Id=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?de(g):""}function H(o){switch(o.tag){case 26:case 27:case 5:return de(o.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return ue(o.type,!1);case 11:return ue(o.type.render,!1);case 1:return ue(o.type,!0);case 31:return de("Activity");default:return""}}function J(o){try{var c="";do c+=H(o),o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function F(o,c){if(typeof o=="object"&&o!==null){var g=Zd.get(o);return g!==void 0?g:(c={value:o,source:c,stack:J(c)},Zd.set(o,c),c)}return{value:o,source:c,stack:J(c)}}function ae(o,c){Zs[Xs++]=Ho,Zs[Xs++]=fc,fc=o,Ho=c}function B(o,c,g){Ia[dr++]=ni,Ia[dr++]=ji,Ia[dr++]=Ks,Ks=o;var b=ni;o=ji;var E=32-cr(b)-1;b&=~(1<<E),g+=1;var A=32-cr(c)+E;if(30<A){var P=E-E%5;A=(b&(1<<P)-1).toString(32),b>>=P,E-=P,ni=1<<32-cr(c)+E|g<<E|b,ji=A+o}else ni=1<<A|g<<E|b,ji=o}function ee(o){o.return!==null&&(ae(o,1),B(o,1,0))}function _e(o){for(;o===fc;)fc=Zs[--Xs],Zs[Xs]=null,Ho=Zs[--Xs],Zs[Xs]=null;for(;o===Ks;)Ks=Ia[--dr],Ia[dr]=null,ji=Ia[--dr],Ia[dr]=null,ni=Ia[--dr],Ia[dr]=null}function Se(o,c){T(Fs,c),T(Kl,o),T(Nn,null),o=zh(c),C(Nn),T(Nn,o)}function Ve(){C(Nn),C(Kl),C(Fs)}function lt(o){o.memoizedState!==null&&T(hc,o);var c=Nn.current,g=kh(c,o.type);c!==g&&(T(Kl,o),T(Nn,g))}function Ze(o){Kl.current===o&&(C(Nn),C(Kl)),hc.current===o&&(C(hc),is?Oi._currentValue=ur:Oi._currentValue2=ur)}function st(o){var c=Error(i(418,""));throw yt(F(c,o)),i0}function _t(o,c){if(!lr)throw Error(i(175));Dg(o.stateNode,o.type,o.memoizedProps,c,o)||st(o)}function Ce(o){for(Hn=o.return;Hn;)switch(Hn.tag){case 5:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:Hn=Hn.return}}function Ne(o){if(!lr||o!==Hn)return!1;if(!$t)return Ce(o),$t=!0,!1;var c=o.tag;if(Ht?c!==3&&c!==27&&(c!==5||Wh(o.type)&&!rs(o.type,o.memoizedProps))&&$n&&st(o):c!==3&&(c!==5||Wh(o.type)&&!rs(o.type,o.memoizedProps))&&$n&&st(o),Ce(o),c===13){if(!lr)throw Error(i(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));$n=Pd(o)}else $n=Ht&&c===27?Fh(o.type,$n):Hn?Rg(o.stateNode):null;return!0}function ot(){lr&&($n=Hn=null,$t=!1)}function vt(){var o=ai;return o!==null&&(ka===null?ka=o:ka.push.apply(ka,o),ai=null),o}function yt(o){ai===null?ai=[o]:ai.push(o)}function At(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function Ft(o,c,g){is?(T(mc,c._currentValue),c._currentValue=g):(T(mc,c._currentValue2),c._currentValue2=g)}function _n(o){var c=mc.current;is?o._currentValue=c:o._currentValue2=c,C(mc)}function dn(o,c,g){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===g)break;o=o.return}}function Ts(o,c,g,b){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var A=E.dependencies;if(A!==null){var P=E.child;A=A.firstContext;e:for(;A!==null;){var X=A;A=E;for(var se=0;se<c.length;se++)if(X.context===c[se]){A.lanes|=g,X=A.alternate,X!==null&&(X.lanes|=g),dn(A.return,g,o),b||(P=null);break e}A=X.next}}else if(E.tag===18){if(P=E.return,P===null)throw Error(i(341));P.lanes|=g,A=P.alternate,A!==null&&(A.lanes|=g),dn(P,g,o),P=null}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===o){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}}function $a(o,c,g,b){o=null;for(var E=c,A=!1;E!==null;){if(!A){if((E.flags&524288)!==0)A=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var P=E.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var X=E.type;Cr(E.pendingProps.value,P.value)||(o!==null?o.push(X):o=[X])}}else if(E===hc.current){if(P=E.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Oi):o=[Oi])}E=E.return}o!==null&&Ts(c,o,g,b),c.flags|=262144}function Z(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!Cr(is?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function oe(o){ri=o,Ma=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pe(o){return Pe(ri,o)}function Ue(o,c){return ri===null&&oe(o),Pe(o,c)}function Pe(o,c){var g=is?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:g,next:null},Ma===null){if(o===null)throw Error(i(308));Ma=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ma=Ma.next=c;return g}function ke(){return{controller:new Yg,data:new Map,refCount:0}}function Ie(o){o.refCount--,o.refCount===0&&Ig(gc,function(){o.controller.abort()})}function Qe(o){o!==$s&&o.next===null&&($s===null?pc=$s=o:$s=$s.next=o),Go=!0,Xd||(Xd=!0,Ja())}function Et(o,c){if(!vc&&Go){vc=!0;do for(var g=!1,b=pc;b!==null;){if(o!==0){var E=b.pendingLanes;if(E===0)var A=0;else{var P=b.suspendedLanes,X=b.pingedLanes;A=(1<<31-cr(42|o)+1)-1,A&=E&~(P&~X),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(g=!0,Wa(b,A))}else A=Lt,A=j(b,b===Wt?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Pr),(A&3)===0||M(b,A)||(g=!0,Wa(b,A));b=b.next}while(g);vc=!1}}function rn(){Qa()}function Qa(){Go=Xd=!1;var o=0;cs!==0&&(Uh()&&(o=cs),cs=0);for(var c=yn(),g=null,b=pc;b!==null;){var E=b.next,A=ma(b,c);A===0?(b.next=null,g===null?pc=E:g.next=E,E===null&&($s=g)):(g=b,(o!==0||(A&3)!==0)&&(Go=!0)),b=E}Et(o)}function ma(o,c){for(var g=o.suspendedLanes,b=o.pingedLanes,E=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var P=31-cr(A),X=1<<P,se=E[P];se===-1?((X&g)===0||(X&b)!==0)&&(E[P]=z(X,c)):se<=c&&(o.expiredLanes|=X),A&=~X}if(c=Wt,g=Lt,g=j(o,o===c?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Pr),b=o.callbackNode,g===0||o===c&&(un===2||un===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&qd(b),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||M(o,g)){if(c=g&-g,c===o.callbackPriority)return c;switch(b!==null&&qd(b),W(g)){case 2:case 8:g=Hg;break;case 32:g=Vd;break;case 268435456:g=Gg;break;default:g=Vd}return b=Ca.bind(null,o),g=dc(g,b),o.callbackPriority=c,o.callbackNode=g,c}return b!==null&&b!==null&&qd(b),o.callbackPriority=2,o.callbackNode=null,2}function Ca(o,c){if(ta!==0&&ta!==5)return o.callbackNode=null,o.callbackPriority=0,null;var g=o.callbackNode;if(Ur()&&o.callbackNode!==g)return null;var b=Lt;return b=j(o,o===Wt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Pr),b===0?null:(Zu(o,b,c),ma(o,yn()),o.callbackNode!=null&&o.callbackNode===g?Ca.bind(null,o):null)}function Wa(o,c){if(Ur())return null;Zu(o,c,!0)}function Ja(){Hh?og(function(){(dt&6)!==0?dc(oa,rn):Qa()}):dc(oa,rn)}function ga(){return cs===0&&(cs=k()),cs}function jr(o,c){if(qo===null){var g=qo=[];ii=0,Cn=ga(),Qs={status:"pending",value:void 0,then:function(b){g.push(b)}}}return ii++,c.then(gr,gr),c}function gr(){if(--ii===0&&qo!==null){Qs!==null&&(Qs.status="fulfilled");var o=qo;qo=null,Cn=0,Qs=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function pr(o,c){var g=[],b={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return o.then(function(){b.status="fulfilled",b.value=c;for(var E=0;E<g.length;E++)(0,g[E])(c)},function(E){for(b.status="rejected",b.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),b}function gi(){var o=kn.current;return o!==null?o:Wt.pooledCache}function $r(o,c){c===null?T(kn,kn.current):T(kn,c.pool)}function As(){var o=gi();return o===null?null:{parent:is?on._currentValue:on._currentValue2,pool:o}}function vr(o,c){if(Cr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var g=Object.keys(o),b=Object.keys(c);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var E=g[b];if(!v1.call(c,E)||!Cr(o[E],c[E]))return!1}return!0}function xl(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Qr(){}function pi(o,c,g){switch(g=o[g],g===void 0?o.push(c):g!==c&&(c.then(Qr,Qr),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Le(o),o;default:if(typeof c.status=="string")c.then(Qr,Qr);else{if(o=Wt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(b){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=b}},function(b){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Le(o),o}throw fr=c,Vo}}function xe(){if(fr===null)throw Error(i(459));var o=fr;return fr=null,o}function Le(o){if(o===Vo||o===xn)throw Error(i(483))}function xt(){for(var o=Fl,c=l0=Fl=0;c<o;){var g=Tr[c];Tr[c++]=null;var b=Tr[c];Tr[c++]=null;var E=Tr[c];Tr[c++]=null;var A=Tr[c];if(Tr[c++]=null,b!==null&&E!==null){var P=b.pending;P===null?E.next=E:(E.next=P.next,P.next=E),b.pending=E}A!==0&&Ae(g,E,A)}}function q(o,c,g,b){Tr[Fl++]=o,Tr[Fl++]=c,Tr[Fl++]=g,Tr[Fl++]=b,l0|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function Q(o,c,g,b){return q(o,c,g,b),He(o)}function te(o,c){return q(o,null,null,c),He(o)}function Ae(o,c,g){o.lanes|=g;var b=o.alternate;b!==null&&(b.lanes|=g);for(var E=!1,A=o.return;A!==null;)A.childLanes|=g,b=A.alternate,b!==null&&(b.childLanes|=g),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(E=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,E&&c!==null&&(E=31-cr(g),o=A.hiddenUpdates,b=o[E],b===null?o[E]=[c]:b.push(c),c.lane=g|536870912),A):null}function He(o){if(50<ll)throw ll=0,Jd=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function et(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Fe(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function We(o,c,g){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(dt&2)!==0){var E=b.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),b.pending=c,c=He(o),Ae(o,null,g),c}return q(o,b,c,g),He(o)}function it(o,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194048)!==0)){var b=c.lanes;b&=o.pendingLanes,g|=b,c.lanes=g,ge(o,g)}}function at(o,c){var g=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var E=null,A=null;if(g=g.firstBaseUpdate,g!==null){do{var P={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};A===null?E=A=P:A=A.next=P,g=g.next}while(g!==null);A===null?E=A=c:A=A.next=c}else E=A=c;g={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=c:o.next=c,g.lastBaseUpdate=c}function $e(){if(Za){var o=Qs;if(o!==null)throw o}}function Tt(o,c,g,b){Za=!1;var E=o.updateQueue;Mi=!1;var A=E.firstBaseUpdate,P=E.lastBaseUpdate,X=E.shared.pending;if(X!==null){E.shared.pending=null;var se=X,je=se.next;se.next=null,P===null?A=je:P.next=je,P=se;var Be=o.alternate;Be!==null&&(Be=Be.updateQueue,X=Be.lastBaseUpdate,X!==P&&(X===null?Be.firstBaseUpdate=je:X.next=je,Be.lastBaseUpdate=se))}if(A!==null){var Xe=E.baseState;P=0,Be=je=se=null,X=A;do{var Ke=X.lane&-536870913,Nt=Ke!==X.lane;if(Nt?(Lt&Ke)===Ke:(b&Ke)===Ke){Ke!==0&&Ke===Cn&&(Za=!0),Be!==null&&(Be=Be.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Gr=o,ol=X;Ke=c;var qr=g;switch(ol.tag){case 1:if(Gr=ol.payload,typeof Gr=="function"){Xe=Gr.call(qr,Xe,Ke);break e}Xe=Gr;break e;case 3:Gr.flags=Gr.flags&-65537|128;case 0:if(Gr=ol.payload,Ke=typeof Gr=="function"?Gr.call(qr,Xe,Ke):Gr,Ke==null)break e;Xe=Gl({},Xe,Ke);break e;case 2:Mi=!0}}Ke=X.callback,Ke!==null&&(o.flags|=64,Nt&&(o.flags|=8192),Nt=E.callbacks,Nt===null?E.callbacks=[Ke]:Nt.push(Ke))}else Nt={lane:Ke,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Be===null?(je=Be=Nt,se=Xe):Be=Be.next=Nt,P|=Ke;if(X=X.next,X===null){if(X=E.shared.pending,X===null)break;Nt=X,X=Nt.next,Nt.next=null,E.lastBaseUpdate=Nt,E.shared.pending=null}}while(!0);Be===null&&(se=Xe),E.baseState=se,E.firstBaseUpdate=je,E.lastBaseUpdate=Be,A===null&&(E.shared.lanes=0),Jn|=P,o.lanes=P,o.memoizedState=Xe}}function sn(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function Sn(o,c){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)sn(g[o],c)}function Vt(o,c){o=In,T(yc,o),T(Da,c),In=o|c.baseLanes}function pn(){T(yc,In),T(Da,Da.current)}function fn(){In=yc.current,C(Da),C(yc)}function Yt(){throw Error(i(321))}function er(o,c){if(c===null)return!1;for(var g=0;g<c.length&&g<o.length;g++)if(!Cr(o[g],c[g]))return!1;return!0}function Mr(o,c,g,b,E,A){return Qn=A,jt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ct.H=o===null||o.memoizedState===null?$l:o0,ds=!1,A=g(b,E),ds=!1,Ws&&(A=wl(c,g,b,E)),tr(o),A}function tr(o){ct.H=Js;var c=It!==null&&It.next!==null;if(Qn=0,Tn=It=jt=null,si=!1,Yo=0,li=null,c)throw Error(i(300));o===null||wt||(o=o.dependencies,o!==null&&Z(o)&&(wt=!0))}function wl(o,c,g,b){jt=o;var E=0;do{if(Ws&&(li=null),Yo=0,Ws=!1,25<=E)throw Error(i(301));if(E+=1,Tn=It=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ct.H=Zg,A=c(g,b)}while(Ws);return A}function Sl(){var o=ct.H,c=o.useState()[0];return c=typeof c.then=="function"?Ha(c):c,o=o.useState()[0],(It!==null?It.memoizedState:null)!==o&&(jt.flags|=1024),c}function nr(){var o=Ar!==0;return Ar=0,o}function Wr(o,c,g){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~g}function Ta(o){if(si){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}si=!1}Qn=0,Tn=It=jt=null,Ws=!1,Yo=Ar=0,li=null}function ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?jt.memoizedState=Tn=o:Tn=Tn.next=o,Tn}function Pt(){if(It===null){var o=jt.alternate;o=o!==null?o.memoizedState:null}else o=It.next;var c=Tn===null?jt.memoizedState:Tn.next;if(c!==null)Tn=c,It=o;else{if(o===null)throw jt.alternate===null?Error(i(467)):Error(i(310));It=o,o={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Tn===null?jt.memoizedState=Tn=o:Tn=Tn.next=o}return Tn}function Ba(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ha(o){var c=Yo;return Yo+=1,li===null&&(li=[]),o=pi(li,o,c),c=jt,(Tn===null?c.memoizedState:Tn.next)===null&&(c=c.alternate,ct.H=c===null||c.memoizedState===null?$l:o0),o}function En(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ha(o);if(o.$$typeof===as)return pe(o)}throw Error(i(438,String(o)))}function Rs(o){var c=null,g=jt.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var b=jt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=Ba(),jt.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(o),b=0;b<o;b++)g[b]=Dh;return c.index++,g}function yr(o,c){return typeof c=="function"?c(o):c}function pa(o){var c=Pt();return $c(c,It,o)}function $c(o,c,g){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=g;var E=o.baseQueue,A=b.pending;if(A!==null){if(E!==null){var P=E.next;E.next=A.next,A.next=P}c.baseQueue=E=A,b.pending=null}if(A=o.baseState,E===null)o.memoizedState=A;else{c=E.next;var X=P=null,se=null,je=c,Be=!1;do{var Xe=je.lane&-536870913;if(Xe!==je.lane?(Lt&Xe)===Xe:(Qn&Xe)===Xe){var Ke=je.revertLane;if(Ke===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),Xe===Cn&&(Be=!0);else if((Qn&Ke)===Ke){je=je.next,Ke===Cn&&(Be=!0);continue}else Xe={lane:0,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},se===null?(X=se=Xe,P=A):se=se.next=Xe,jt.lanes|=Ke,Jn|=Ke;Xe=je.action,ds&&g(A,Xe),A=je.hasEagerState?je.eagerState:g(A,Xe)}else Ke={lane:Xe,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},se===null?(X=se=Ke,P=A):se=se.next=Ke,jt.lanes|=Xe,Jn|=Xe;je=je.next}while(je!==null&&je!==c);if(se===null?P=A:se.next=X,!Cr(A,o.memoizedState)&&(wt=!0,Be&&(g=Qs,g!==null)))throw g;o.memoizedState=A,o.baseState=P,o.baseQueue=se,b.lastRenderedState=A}return E===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function th(o){var c=Pt(),g=c.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=o;var b=g.dispatch,E=g.pending,A=c.memoizedState;if(E!==null){g.pending=null;var P=E=E.next;do A=o(A,P.action),P=P.next;while(P!==E);Cr(A,c.memoizedState)||(wt=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),g.lastRenderedState=A}return[A,b]}function Ru(o,c,g){var b=jt,E=Pt(),A=$t;if(A){if(g===void 0)throw Error(i(407));g=g()}else g=c();var P=!Cr((It||E).memoizedState,g);P&&(E.memoizedState=g,wt=!0),E=E.queue;var X=Dm.bind(null,b,E,o);if(Tl(2048,8,X,[o]),E.getSnapshot!==c||P||Tn!==null&&Tn.memoizedState.tag&1){if(b.flags|=2048,Os(9,Zi(),Ou.bind(null,b,E,g,c),null),Wt===null)throw Error(i(349));A||(Qn&124)!==0||nh(b,c,g)}return g}function nh(o,c,g){o.flags|=16384,o={getSnapshot:c,value:g},c=jt.updateQueue,c===null?(c=Ba(),jt.updateQueue=c,c.stores=[o]):(g=c.stores,g===null?c.stores=[o]:g.push(o))}function Ou(o,c,g,b){c.value=g,c.getSnapshot=b,br(c)&&Qc(o)}function Dm(o,c,g){return g(function(){br(c)&&Qc(o)})}function br(o){var c=o.getSnapshot;o=o.value;try{var g=c();return!Cr(o,g)}catch{return!0}}function Qc(o){var c=te(o,2);c!==null&&Oa(c,o,2)}function Wc(o){var c=ft();if(typeof o=="function"){var g=o;if(o=g(),ds){he(!0);try{g()}finally{he(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},c}function Jc(o,c,g,b){return o.baseState=g,$c(o,It,typeof b=="function"?b:yr)}function po(o,c,g,b,E){if(ku(o))throw Error(i(485));if(o=c.action,o!==null){var A={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){A.listeners.push(P)}};ct.T!==null?g(!0):A.isTransition=!1,b(A),g=c.pending,g===null?(A.next=c.pending=A,ah(c,A)):(A.next=g.next,c.pending=g.next=A)}}function ah(o,c){var g=c.action,b=c.payload,E=o.state;if(c.isTransition){var A=ct.T,P={};ct.T=P;try{var X=g(E,b),se=ct.S;se!==null&&se(P,X),rh(o,c,X)}catch(je){ih(o,c,je)}finally{ct.T=A}}else try{A=g(E,b),rh(o,c,A)}catch(je){ih(o,c,je)}}function rh(o,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){El(o,c,b)},function(b){return ih(o,c,b)}):El(o,c,g)}function El(o,c,g){c.status="fulfilled",c.value=g,sh(c),o.state=g,c=o.pending,c!==null&&(g=c.next,g===c?o.pending=null:(g=g.next,c.next=g,ah(o,g)))}function ih(o,c,g){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=g,sh(c),c=c.next;while(c!==b)}o.action=null}function sh(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function lh(o,c){return c}function ed(o,c){if($t){var g=Wt.formState;if(g!==null){e:{var b=jt;if($t){if($n){var E=Tg($n,nn);if(E){$n=Rg(E),b=Ag(E);break e}}st(b)}b=!1}b&&(c=g[0])}}g=ft(),g.memoizedState=g.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:c},g.queue=b,g=rd.bind(null,jt,b),b.dispatch=g,b=Wc(!1);var A=xo.bind(null,jt,!1,b.queue);return b=ft(),E={state:c,dispatch:null,action:o,pending:null},b.queue=E,g=po.bind(null,jt,E,A,g),E.dispatch=g,b.memoizedState=o,[c,g,!1]}function zm(o){var c=Pt();return km(c,It,o)}function km(o,c,g){if(c=$c(o,c,lh)[0],o=pa(yr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Ha(c)}catch(P){throw P===Vo?xn:P}else b=c;c=Pt();var E=c.queue,A=E.dispatch;return g!==c.memoizedState&&(jt.flags|=2048,Os(9,Zi(),td.bind(null,E,g),null)),[b,A,o]}function td(o,c){o.action=c}function nd(o){var c=Pt(),g=It;if(g!==null)return km(c,g,o);Pt(),c=c.memoizedState,g=Pt();var b=g.queue.dispatch;return g.memoizedState=o,[c,b,!1]}function Os(o,c,g,b){return o={tag:o,create:g,deps:b,inst:c,next:null},c=jt.updateQueue,c===null&&(c=Ba(),jt.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=o.next=o:(b=g.next,g.next=o,o.next=b,c.lastEffect=o),o}function Zi(){return{destroy:void 0,resource:void 0}}function Cl(){return Pt().memoizedState}function Nu(o,c,g,b){var E=ft();b=b===void 0?null:b,jt.flags|=o,E.memoizedState=Os(1|c,Zi(),g,b)}function Tl(o,c,g,b){var E=Pt();b=b===void 0?null:b;var A=E.memoizedState.inst;It!==null&&b!==null&&er(b,It.memoizedState.deps)?E.memoizedState=Os(c,A,g,b):(jt.flags|=o,E.memoizedState=Os(1|c,A,g,b))}function oh(o,c){Nu(8390656,8,o,c)}function vo(o,c){Tl(2048,8,o,c)}function vi(o,c){return Tl(4,2,o,c)}function ad(o,c){return Tl(4,4,o,c)}function yo(o,c){if(typeof c=="function"){o=o();var g=c(o);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Xi(o,c,g){g=g!=null?g.concat([o]):null,Tl(4,4,yo.bind(null,c,o),g)}function ju(){}function Mu(o,c){var g=Pt();c=c===void 0?null:c;var b=g.memoizedState;return c!==null&&er(c,b[1])?b[0]:(g.memoizedState=[o,c],o)}function uh(o,c){var g=Pt();c=c===void 0?null:c;var b=g.memoizedState;if(c!==null&&er(c,b[1]))return b[0];if(b=o(),ds){he(!0);try{o()}finally{he(!1)}}return g.memoizedState=[b,c],b}function bo(o,c,g){return g===void 0||(Qn&1073741824)!==0?o.memoizedState=c:(o.memoizedState=g,o=kl(),jt.lanes|=o,Jn|=o,g)}function Du(o,c,g,b){return Cr(g,c)?g:Da.current!==null?(o=bo(o,g,b),Cr(o,c)||(wt=!0),o):(Qn&42)===0?(wt=!0,o.memoizedState=g):(o=kl(),jt.lanes|=o,Jn|=o,c)}function ch(o,c,g,b,E){var A=ti();la(A!==0&&8>A?A:8);var P=ct.T,X={};ct.T=X,xo(o,!1,c,g);try{var se=E(),je=ct.S;if(je!==null&&je(X,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Be=pr(se,b);Fi(o,c,Be,sa(o))}else Fi(o,c,b,sa(o))}catch(Xe){Fi(o,c,{then:function(){},status:"rejected",reason:Xe},sa())}finally{la(A),ct.T=P}}function Ga(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ur,baseState:ur,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:ur},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:g},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Ki(){return pe(Oi)}function zu(){return Pt().memoizedState}function _o(){return Pt().memoizedState}function s1(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var g=sa();o=Fe(g);var b=We(c,o,g);b!==null&&(Oa(b,c,g),it(b,c,g)),c={cache:ke()},o.payload=c;return}c=c.return}}function dh(o,c,g){var b=sa();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ku(o)?Lm(c,g):(g=Q(o,c,g,b),g!==null&&(Oa(g,o,b),Um(g,c,b)))}function rd(o,c,g){var b=sa();Fi(o,c,g,b)}function Fi(o,c,g,b){var E={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ku(o))Lm(c,E);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var P=c.lastRenderedState,X=A(P,g);if(E.hasEagerState=!0,E.eagerState=X,Cr(X,P))return q(o,c,E,0),Wt===null&&xt(),!1}catch{}finally{}if(g=Q(o,c,E,b),g!==null)return Oa(g,o,b),Um(g,c,b),!0}return!1}function xo(o,c,g,b){if(b={lane:2,revertLane:ga(),action:b,hasEagerState:!1,eagerState:null,next:null},ku(o)){if(c)throw Error(i(479))}else c=Q(o,g,b,2),c!==null&&Oa(c,o,2)}function ku(o){var c=o.alternate;return o===jt||c!==null&&c===jt}function Lm(o,c){Ws=si=!0;var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}function Um(o,c,g){if((g&4194048)!==0){var b=c.lanes;b&=o.pendingLanes,g|=b,c.lanes=g,ge(o,g)}}function id(o){var c=Io;return Io+=1,Di===null&&(Di=[]),pi(Di,o,c)}function Al(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function sd(o,c){throw c.$$typeof===rg?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Pm(o){var c=o._init;return c(o._payload)}function Bm(o){function c(me,re){if(o){var be=me.deletions;be===null?(me.deletions=[re],me.flags|=16):be.push(re)}}function g(me,re){if(!o)return null;for(;re!==null;)c(me,re),re=re.sibling;return null}function b(me){for(var re=new Map;me!==null;)me.key!==null?re.set(me.key,me):re.set(me.index,me),me=me.sibling;return re}function E(me,re){return me=ts(me,re),me.index=0,me.sibling=null,me}function A(me,re,be){return me.index=be,o?(be=me.alternate,be!==null?(be=be.index,be<re?(me.flags|=67108866,re):be):(me.flags|=67108866,re)):(me.flags|=1048576,re)}function P(me){return o&&me.alternate===null&&(me.flags|=67108866),me}function X(me,re,be,De){return re===null||re.tag!==6?(re=Bl(be,me.mode,De),re.return=me,re):(re=E(re,be),re.return=me,re)}function se(me,re,be,De){var Je=be.type;return Je===Vl?Be(me,re,be.props.children,De,be.key):re!==null&&(re.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===qa&&Pm(Je)===re.type)?(re=E(re,be.props),Al(re,be),re.return=me,re):(re=No(be.type,be.key,be.props,null,me.mode,De),Al(re,be),re.return=me,re)}function je(me,re,be,De){return re===null||re.tag!==4||re.stateNode.containerInfo!==be.containerInfo||re.stateNode.implementation!==be.implementation?(re=Xu(be,me.mode,De),re.return=me,re):(re=E(re,be.children||[]),re.return=me,re)}function Be(me,re,be,De,Je){return re===null||re.tag!==7?(re=ei(be,me.mode,De,Je),re.return=me,re):(re=E(re,be),re.return=me,re)}function Xe(me,re,be){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Bl(""+re,me.mode,be),re.return=me,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ql:return be=No(re.type,re.key,re.props,null,me.mode,be),Al(be,re),be.return=me,be;case Hs:return re=Xu(re,me.mode,be),re.return=me,re;case qa:var De=re._init;return re=De(re._payload),Xe(me,re,be)}if(Gs(re)||v(re))return re=ei(re,me.mode,be,null),re.return=me,re;if(typeof re.then=="function")return Xe(me,id(re),be);if(re.$$typeof===as)return Xe(me,Ue(me,re),be);sd(me,re)}return null}function Ke(me,re,be,De){var Je=re!==null?re.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Je!==null?null:X(me,re,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case ql:return be.key===Je?se(me,re,be,De):null;case Hs:return be.key===Je?je(me,re,be,De):null;case qa:return Je=be._init,be=Je(be._payload),Ke(me,re,be,De)}if(Gs(be)||v(be))return Je!==null?null:Be(me,re,be,De,null);if(typeof be.then=="function")return Ke(me,re,id(be),De);if(be.$$typeof===as)return Ke(me,re,Ue(me,be),De);sd(me,be)}return null}function Nt(me,re,be,De,Je){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return me=me.get(be)||null,X(re,me,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case ql:return me=me.get(De.key===null?be:De.key)||null,se(re,me,De,Je);case Hs:return me=me.get(De.key===null?be:De.key)||null,je(re,me,De,Je);case qa:var mn=De._init;return De=mn(De._payload),Nt(me,re,be,De,Je)}if(Gs(De)||v(De))return me=me.get(be)||null,Be(re,me,De,Je,null);if(typeof De.then=="function")return Nt(me,re,be,id(De),Je);if(De.$$typeof===as)return Nt(me,re,be,Ue(re,De),Je);sd(re,De)}return null}function Gr(me,re,be,De){for(var Je=null,mn=null,gt=re,Jt=re=0,na=null;gt!==null&&Jt<be.length;Jt++){gt.index>Jt?(na=gt,gt=null):na=gt.sibling;var en=Ke(me,gt,be[Jt],De);if(en===null){gt===null&&(gt=na);break}o&&gt&&en.alternate===null&&c(me,gt),re=A(en,re,Jt),mn===null?Je=en:mn.sibling=en,mn=en,gt=na}if(Jt===be.length)return g(me,gt),$t&&ae(me,Jt),Je;if(gt===null){for(;Jt<be.length;Jt++)gt=Xe(me,be[Jt],De),gt!==null&&(re=A(gt,re,Jt),mn===null?Je=gt:mn.sibling=gt,mn=gt);return $t&&ae(me,Jt),Je}for(gt=b(gt);Jt<be.length;Jt++)na=Nt(gt,me,Jt,be[Jt],De),na!==null&&(o&&na.alternate!==null&&gt.delete(na.key===null?Jt:na.key),re=A(na,re,Jt),mn===null?Je=na:mn.sibling=na,mn=na);return o&&gt.forEach(function(ms){return c(me,ms)}),$t&&ae(me,Jt),Je}function ol(me,re,be,De){if(be==null)throw Error(i(151));for(var Je=null,mn=null,gt=re,Jt=re=0,na=null,en=be.next();gt!==null&&!en.done;Jt++,en=be.next()){gt.index>Jt?(na=gt,gt=null):na=gt.sibling;var ms=Ke(me,gt,en.value,De);if(ms===null){gt===null&&(gt=na);break}o&&gt&&ms.alternate===null&&c(me,gt),re=A(ms,re,Jt),mn===null?Je=ms:mn.sibling=ms,mn=ms,gt=na}if(en.done)return g(me,gt),$t&&ae(me,Jt),Je;if(gt===null){for(;!en.done;Jt++,en=be.next())en=Xe(me,en.value,De),en!==null&&(re=A(en,re,Jt),mn===null?Je=en:mn.sibling=en,mn=en);return $t&&ae(me,Jt),Je}for(gt=b(gt);!en.done;Jt++,en=be.next())en=Nt(gt,me,Jt,en.value,De),en!==null&&(o&&en.alternate!==null&&gt.delete(en.key===null?Jt:en.key),re=A(en,re,Jt),mn===null?Je=en:mn.sibling=en,mn=en);return o&&gt.forEach(function(y1){return c(me,y1)}),$t&&ae(me,Jt),Je}function qr(me,re,be,De){if(typeof be=="object"&&be!==null&&be.type===Vl&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case ql:e:{for(var Je=be.key;re!==null;){if(re.key===Je){if(Je=be.type,Je===Vl){if(re.tag===7){g(me,re.sibling),De=E(re,be.props.children),De.return=me,me=De;break e}}else if(re.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===qa&&Pm(Je)===re.type){g(me,re.sibling),De=E(re,be.props),Al(De,be),De.return=me,me=De;break e}g(me,re);break}else c(me,re);re=re.sibling}be.type===Vl?(De=ei(be.props.children,me.mode,De,be.key),De.return=me,me=De):(De=No(be.type,be.key,be.props,null,me.mode,De),Al(De,be),De.return=me,me=De)}return P(me);case Hs:e:{for(Je=be.key;re!==null;){if(re.key===Je)if(re.tag===4&&re.stateNode.containerInfo===be.containerInfo&&re.stateNode.implementation===be.implementation){g(me,re.sibling),De=E(re,be.children||[]),De.return=me,me=De;break e}else{g(me,re);break}else c(me,re);re=re.sibling}De=Xu(be,me.mode,De),De.return=me,me=De}return P(me);case qa:return Je=be._init,be=Je(be._payload),qr(me,re,be,De)}if(Gs(be))return Gr(me,re,be,De);if(v(be)){if(Je=v(be),typeof Je!="function")throw Error(i(150));return be=Je.call(be),ol(me,re,be,De)}if(typeof be.then=="function")return qr(me,re,id(be),De);if(be.$$typeof===as)return qr(me,re,Ue(me,be),De);sd(me,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,re!==null&&re.tag===6?(g(me,re.sibling),De=E(re,be),De.return=me,me=De):(g(me,re),De=Bl(be,me.mode,De),De.return=me,me=De),P(me)):g(me,re)}return function(me,re,be,De){try{Io=0;var Je=qr(me,re,be,De);return Di=null,Je}catch(gt){if(gt===Vo||gt===xn)throw gt;var mn=n(29,gt,null,me.mode);return mn.lanes=De,mn.return=me,mn}finally{}}}function Ns(o){var c=o.alternate;T(bt,bt.current&1),T(Br,o),zi===null&&(c===null||Da.current!==null||c.memoizedState!==null)&&(zi=o)}function Hm(o){if(o.tag===22){if(T(bt,bt.current),T(Br,o),zi===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(zi=o)}}else $i()}function $i(){T(bt,bt.current),T(Br,Br.current)}function Qi(o){C(Br),zi===o&&(zi=null),C(bt)}function ld(o){for(var c=o;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||ic(g)||Ud(g)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function fh(o,c,g,b){c=o.memoizedState,g=g(b,c),g=g==null?c:Gl({},c,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}function Gm(o,c,g,b,E,A,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,A,P):c.prototype&&c.prototype.isPureReactComponent?!vr(g,b)||!vr(E,A):!0}function od(o,c,g,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,b),c.state!==o&&bn.enqueueReplaceState(c,c.state,null)}function Rl(o,c){var g=c;if("ref"in c){g={};for(var b in c)b!=="ref"&&(g[b]=c[b])}if(o=o.defaultProps){g===c&&(g=Gl({},g));for(var E in o)g[E]===void 0&&(g[E]=o[E])}return g}function ud(o,c){try{var g=o.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function qm(o,c,g){try{var b=o.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function cd(o,c,g){return g=Fe(g),g.tag=3,g.payload={element:null},g.callback=function(){ud(o,c)},g}function Vm(o){return o=Fe(o),o.tag=3,o}function Ym(o,c,g,b){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var A=b.value;o.payload=function(){return E(A)},o.callback=function(){qm(c,g,b)}}var P=g.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){qm(c,g,b),typeof E!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var X=b.stack;this.componentDidCatch(b.value,{componentStack:X!==null?X:""})})}function l1(o,c,g,b,E){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=g.alternate,c!==null&&$a(c,g,E,!0),g=Br.current,g!==null){switch(g.tag){case 13:return zi===null?zn():g.alternate===null&&Gn===0&&(Gn=3),g.flags&=-257,g.flags|=65536,g.lanes=E,b===ya?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([b]):c.add(b),Pl(o,b,E)),!1;case 22:return g.flags|=65536,b===ya?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([b]):g.add(b)),Pl(o,b,E)),!1}throw Error(i(435,g.tag))}return Pl(o,b,E),zn(),!1}if($t)return c=Br.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,b!==i0&&(o=Error(i(422),{cause:b}),yt(F(o,g)))):(b!==i0&&(c=Error(i(423),{cause:b}),yt(F(c,g))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,b=F(b,g),E=cd(o.stateNode,b,E),at(o,E),Gn!==4&&(Gn=2)),!1;var A=Error(i(520),{cause:b});if(A=F(A,g),rl===null?rl=[A]:rl.push(A),Gn!==4&&(Gn=2),c===null)return!0;b=F(b,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,o=E&-E,g.lanes|=o,o=cd(g.stateNode,b,o),at(g,o),!1;case 1:if(c=g.type,A=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ui===null||!Ui.has(A))))return g.flags|=65536,E&=-E,g.lanes|=E,E=Vm(E),Ym(E,o,g,b),at(g,E),!1}g=g.return}while(g!==null);return!1}function va(o,c,g,b){c.child=o===null?u0(c,null,g,b):fs(c,o.child,g,b)}function Im(o,c,g,b,E){g=g.render;var A=c.ref;if("ref"in b){var P={};for(var X in b)X!=="ref"&&(P[X]=b[X])}else P=b;return oe(c),b=Mr(o,c,g,P,A,E),X=nr(),o!==null&&!wt?(Wr(o,c,E),_r(o,c,E)):($t&&X&&ee(c),c.flags|=1,va(o,c,b,E),c.child)}function Zm(o,c,g,b,E){if(o===null){var A=g.type;return typeof A=="function"&&!Oh(A)&&A.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=A,Xm(o,c,A,b,E)):(o=No(g.type,null,b,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!Nl(o,E)){var P=A.memoizedProps;if(g=g.compare,g=g!==null?g:vr,g(P,b)&&o.ref===c.ref)return _r(o,c,E)}return c.flags|=1,o=ts(A,b),o.ref=c.ref,o.return=c,c.child=o}function Xm(o,c,g,b,E){if(o!==null){var A=o.memoizedProps;if(vr(A,b)&&o.ref===c.ref)if(wt=!1,c.pendingProps=b=A,Nl(o,E))(o.flags&131072)!==0&&(wt=!0);else return c.lanes=o.lanes,_r(o,c,E)}return Ol(o,c,g,b,E)}function Km(o,c,g){var b=c.pendingProps,E=b.children,A=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=A!==null?A.baseLanes|g:g,o!==null){for(E=c.child=o.child,A=0;E!==null;)A=A|E.lanes|E.childLanes,E=E.sibling;c.childLanes=A&~b}else c.childLanes=0,c.child=null;return Fm(o,c,b,g)}if((g&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&$r(c,A!==null?A.cachePool:null),A!==null?Vt(c,A):pn(),Hm(c);else return c.lanes=c.childLanes=536870912,Fm(o,c,A!==null?A.baseLanes|g:g,g)}else A!==null?($r(c,A.cachePool),Vt(c,A),$i(),c.memoizedState=null):(o!==null&&$r(c,null),pn(),$i());return va(o,c,E,g),c.child}function Fm(o,c,g,b){var E=gi();return E=E===null?null:{parent:is?on._currentValue:on._currentValue2,pool:E},c.memoizedState={baseLanes:g,cachePool:E},o!==null&&$r(c,null),pn(),Hm(c),o!==null&&$a(o,c,b,!0),null}function wo(o,c){var g=c.ref;if(g===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(o===null||o.ref!==g)&&(c.flags|=4194816)}}function Ol(o,c,g,b,E){return oe(c),g=Mr(o,c,g,b,void 0,E),b=nr(),o!==null&&!wt?(Wr(o,c,E),_r(o,c,E)):($t&&b&&ee(c),c.flags|=1,va(o,c,g,E),c.child)}function $m(o,c,g,b,E,A){return oe(c),c.updateQueue=null,g=wl(c,b,g,E),tr(o),b=nr(),o!==null&&!wt?(Wr(o,c,A),_r(o,c,A)):($t&&b&&ee(c),c.flags|=1,va(o,c,g,A),c.child)}function hh(o,c,g,b,E){if(oe(c),c.stateNode===null){var A=Xl,P=g.contextType;typeof P=="object"&&P!==null&&(A=pe(P)),A=new g(b,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=bn,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=b,A.state=c.memoizedState,A.refs={},et(c),P=g.contextType,A.context=typeof P=="object"&&P!==null?pe(P):Xl,A.state=c.memoizedState,P=g.getDerivedStateFromProps,typeof P=="function"&&(fh(c,g,P,b),A.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(P=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),P!==A.state&&bn.enqueueReplaceState(A,A.state,null),Tt(c,b,A,E),$e(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(o===null){A=c.stateNode;var X=c.memoizedProps,se=Rl(g,X);A.props=se;var je=A.context,Be=g.contextType;P=Xl,typeof Be=="object"&&Be!==null&&(P=pe(Be));var Xe=g.getDerivedStateFromProps;Be=typeof Xe=="function"||typeof A.getSnapshotBeforeUpdate=="function",X=c.pendingProps!==X,Be||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(X||je!==P)&&od(c,A,b,P),Mi=!1;var Ke=c.memoizedState;A.state=Ke,Tt(c,b,A,E),$e(),je=c.memoizedState,X||Ke!==je||Mi?(typeof Xe=="function"&&(fh(c,g,Xe,b),je=c.memoizedState),(se=Mi||Gm(c,g,se,b,Ke,je,P))?(Be||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=je),A.props=b,A.state=je,A.context=P,b=se):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{A=c.stateNode,rt(o,c),P=c.memoizedProps,Be=Rl(g,P),A.props=Be,Xe=c.pendingProps,Ke=A.context,je=g.contextType,se=Xl,typeof je=="object"&&je!==null&&(se=pe(je)),X=g.getDerivedStateFromProps,(je=typeof X=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P!==Xe||Ke!==se)&&od(c,A,b,se),Mi=!1,Ke=c.memoizedState,A.state=Ke,Tt(c,b,A,E),$e();var Nt=c.memoizedState;P!==Xe||Ke!==Nt||Mi||o!==null&&o.dependencies!==null&&Z(o.dependencies)?(typeof X=="function"&&(fh(c,g,X,b),Nt=c.memoizedState),(Be=Mi||Gm(c,g,Be,b,Ke,Nt,se)||o!==null&&o.dependencies!==null&&Z(o.dependencies))?(je||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,Nt,se),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,Nt,se)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=Nt),A.props=b,A.state=Nt,A.context=se,b=Be):(typeof A.componentDidUpdate!="function"||P===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=1024),b=!1)}return A=b,wo(o,c),b=(c.flags&128)!==0,A||b?(A=c.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&b?(c.child=fs(c,o.child,null,E),c.child=fs(c,null,g,E)):va(o,c,g,E),c.memoizedState=A.state,o=c.child):o=_r(o,c,E),o}function mh(o,c,g,b){return ot(),c.flags|=256,va(o,c,g,b),c.child}function dd(o){return{baseLanes:o,cachePool:As()}}function fd(o,c,g){return o=o!==null?o.childLanes&~g:0,c&&(o|=Hr),o}function gh(o,c,g){var b=c.pendingProps,E=!1,A=(c.flags&128)!==0,P;if((P=A)||(P=o!==null&&o.memoizedState===null?!1:(bt.current&2)!==0),P&&(E=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if($t){if(E?Ns(c):$i(),$t){var X=$n,se;(se=X)&&(X=m1(X,nn),X!==null?(c.memoizedState={dehydrated:X,treeContext:Ks!==null?{id:ni,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},se=n(18,null,null,0),se.stateNode=X,se.return=c,c.child=se,Hn=c,$n=null,se=!0):se=!1),se||st(c)}if(X=c.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return Ud(X)?c.lanes=32:c.lanes=536870912,null;Qi(c)}return X=b.children,b=b.fallback,E?($i(),E=c.mode,X=hd({mode:"hidden",children:X},E),b=ei(b,E,g,null),X.return=c,b.return=c,X.sibling=b,c.child=X,E=c.child,E.memoizedState=dd(g),E.childLanes=fd(o,P,g),c.memoizedState=Xa,b):(Ns(c),js(c,X))}if(se=o.memoizedState,se!==null&&(X=se.dehydrated,X!==null)){if(A)c.flags&256?(Ns(c),c.flags&=-257,c=ph(o,c,g)):c.memoizedState!==null?($i(),c.child=o.child,c.flags|=128,c=null):($i(),E=b.fallback,X=c.mode,b=hd({mode:"visible",children:b.children},X),E=ei(E,X,g,null),E.flags|=2,b.return=c,E.return=c,b.sibling=E,c.child=b,fs(c,o.child,null,g),b=c.child,b.memoizedState=dd(g),b.childLanes=fd(o,P,g),c.memoizedState=Xa,c=E);else if(Ns(c),Ud(X))P=Cg(X).digest,b=Error(i(419)),b.stack="",b.digest=P,yt({value:b,source:null,stack:null}),c=ph(o,c,g);else if(wt||$a(o,c,g,!1),P=(g&o.childLanes)!==0,wt||P){if(P=Wt,P!==null&&(b=g&-g,b=(b&42)!==0?1:we(b),b=(b&(P.suspendedLanes|g))!==0?0:b,b!==0&&b!==se.retryLane))throw se.retryLane=b,te(o,b),Oa(P,o,b),Zt;ic(X)||zn(),c=ph(o,c,g)}else ic(X)?(c.flags|=192,c.child=o.child,c=null):(o=se.treeContext,lr&&($n=$h(X),Hn=c,$t=!0,ai=null,nn=!1,o!==null&&(Ia[dr++]=ni,Ia[dr++]=ji,Ia[dr++]=Ks,ni=o.id,ji=o.overflow,Ks=c)),c=js(c,b.children),c.flags|=4096);return c}return E?($i(),E=b.fallback,X=c.mode,se=o.child,A=se.sibling,b=ts(se,{mode:"hidden",children:b.children}),b.subtreeFlags=se.subtreeFlags&65011712,A!==null?E=ts(A,E):(E=ei(E,X,g,null),E.flags|=2),E.return=c,b.return=c,b.sibling=E,c.child=b,b=E,E=c.child,X=o.child.memoizedState,X===null?X=dd(g):(se=X.cachePool,se!==null?(A=is?on._currentValue:on._currentValue2,se=se.parent!==A?{parent:A,pool:A}:se):se=As(),X={baseLanes:X.baseLanes|g,cachePool:se}),E.memoizedState=X,E.childLanes=fd(o,P,g),c.memoizedState=Xa,b):(Ns(c),g=o.child,o=g.sibling,g=ts(g,{mode:"visible",children:b.children}),g.return=c,g.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=g,c.memoizedState=null,g)}function js(o,c){return c=hd({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function hd(o,c){return o=n(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function ph(o,c,g){return fs(c,o.child,null,g),o=js(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Qm(o,c,g){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),dn(o.return,c,g)}function md(o,c,g,b,E){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:E}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=b,A.tail=g,A.tailMode=E)}function vh(o,c,g){var b=c.pendingProps,E=b.revealOrder,A=b.tail;if(va(o,c,b.children,g),b=bt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Qm(o,g,c);else if(o.tag===19)Qm(o,g,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(T(bt,b),E){case"forwards":for(g=c.child,E=null;g!==null;)o=g.alternate,o!==null&&ld(o)===null&&(E=g),g=g.sibling;g=E,g===null?(E=c.child,c.child=null):(E=g.sibling,g.sibling=null),md(c,!1,E,g,A);break;case"backwards":for(g=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&ld(o)===null){c.child=E;break}o=E.sibling,E.sibling=g,g=E,E=o}md(c,!0,g,null,A);break;case"together":md(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function _r(o,c,g){if(o!==null&&(c.dependencies=o.dependencies),Jn|=c.lanes,(g&c.childLanes)===0)if(o!==null){if($a(o,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,g=ts(o,o.pendingProps),c.child=g,g.return=c;o.sibling!==null;)o=o.sibling,g=g.sibling=ts(o,o.pendingProps),g.return=c;g.sibling=null}return c.child}function Nl(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Z(o)))}function o1(o,c,g){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),Ft(c,on,o.memoizedState.cache),ot();break;case 27:case 5:lt(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:Ft(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Ns(c),c.flags|=128,null):(g&c.child.childLanes)!==0?gh(o,c,g):(Ns(c),o=_r(o,c,g),o!==null?o.sibling:null);Ns(c);break;case 19:var E=(o.flags&128)!==0;if(b=(g&c.childLanes)!==0,b||($a(o,c,g,!1),b=(g&c.childLanes)!==0),E){if(b)return vh(o,c,g);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),T(bt,bt.current),b)break;return null;case 22:case 23:return c.lanes=0,Km(o,c,g);case 24:Ft(c,on,o.memoizedState.cache)}return _r(o,c,g)}function Lu(o,c,g){if(o!==null)if(o.memoizedProps!==c.pendingProps)wt=!0;else{if(!Nl(o,g)&&(c.flags&128)===0)return wt=!1,o1(o,c,g);wt=(o.flags&131072)!==0}else wt=!1,$t&&(c.flags&1048576)!==0&&B(c,Ho,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var b=c.elementType,E=b._init;if(b=E(b._payload),c.type=b,typeof b=="function")Oh(b)?(o=Rl(b,o),c.tag=1,c=hh(null,c,b,o,g)):(c.tag=0,c=Ol(null,c,b,o,g));else{if(b!=null){if(E=b.$$typeof,E===Ti){c.tag=11,c=Im(null,c,b,o,g);break e}else if(E===Ai){c.tag=14,c=Zm(null,c,b,o,g);break e}}throw c=_(b)||b,Error(i(306,c,""))}}return c;case 0:return Ol(o,c,c.type,c.pendingProps,g);case 1:return b=c.type,E=Rl(b,c.pendingProps),hh(o,c,b,E,g);case 3:e:{if(Se(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var A=c.pendingProps;E=c.memoizedState,b=E.element,rt(o,c),Tt(c,A,null,g);var P=c.memoizedState;if(A=P.cache,Ft(c,on,A),A!==E.cache&&Ts(c,[on],g,!0),$e(),A=P.element,lr&&E.isDehydrated)if(E={element:A,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=mh(o,c,A,g);break e}else if(A!==b){b=F(Error(i(424)),c),yt(b),c=mh(o,c,A,g);break e}else for(lr&&($n=Ng(c.stateNode.containerInfo),Hn=c,$t=!0,ai=null,nn=!0),g=u0(c,null,A,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ot(),A===b){c=_r(o,c,g);break e}va(o,c,A,g)}c=c.child}return c;case 26:if(Va)return wo(o,c),o===null?(g=oc(c.type,null,c.pendingProps,null))?c.memoizedState=g:$t||(c.stateNode=Ni(c.type,c.pendingProps,Fs.current,c)):c.memoizedState=oc(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(Ht)return lt(c),o===null&&Ht&&$t&&(b=c.stateNode=uc(c.type,c.pendingProps,Fs.current,Nn.current,!1),Hn=c,nn=!0,$n=jg(c.type,b,$n)),va(o,c,c.pendingProps.children,g),wo(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&$t&&(g1(c.type,c.pendingProps,Nn.current),(E=b=$n)&&(b=Mg(b,c.type,c.pendingProps,nn),b!==null?(c.stateNode=b,Hn=c,$n=Og(b),nn=!1,E=!0):E=!1),E||st(c)),lt(c),E=c.type,A=c.pendingProps,P=o!==null?o.memoizedProps:null,b=A.children,rs(E,A)?b=null:P!==null&&rs(E,P)&&(c.flags|=32),c.memoizedState!==null&&(E=Mr(o,c,Sl,null,null,g),is?Oi._currentValue=E:Oi._currentValue2=E),wo(o,c),va(o,c,b,g),c.child;case 6:return o===null&&$t&&(Uo(c.pendingProps,Nn.current),(o=g=$n)&&(g=h1(g,c.pendingProps,nn),g!==null?(c.stateNode=g,Hn=c,$n=null,o=!0):o=!1),o||st(c)),null;case 13:return gh(o,c,g);case 4:return Se(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=fs(c,null,b,g):va(o,c,b,g),c.child;case 11:return Im(o,c,c.type,c.pendingProps,g);case 7:return va(o,c,c.pendingProps,g),c.child;case 8:return va(o,c,c.pendingProps.children,g),c.child;case 12:return va(o,c,c.pendingProps.children,g),c.child;case 10:return b=c.pendingProps,Ft(c,c.type,b.value),va(o,c,b.children,g),c.child;case 9:return E=c.type._context,b=c.pendingProps.children,oe(c),E=pe(E),b=b(E),c.flags|=1,va(o,c,b,g),c.child;case 14:return Zm(o,c,c.type,c.pendingProps,g);case 15:return Xm(o,c,c.type,c.pendingProps,g);case 19:return vh(o,c,g);case 31:return b=c.pendingProps,g=c.mode,b={mode:b.mode,children:b.children},o===null?(g=hd(b,g),g.ref=c.ref,c.child=g,g.return=c,c=g):(g=ts(o.child,b),g.ref=c.ref,c.child=g,g.return=c,c=g),c;case 22:return Km(o,c,g);case 24:return oe(c),b=pe(on),o===null?(E=gi(),E===null&&(E=Wt,A=ke(),E.pooledCache=A,A.refCount++,A!==null&&(E.pooledCacheLanes|=g),E=A),c.memoizedState={parent:b,cache:E},et(c),Ft(c,on,E)):((o.lanes&g)!==0&&(rt(o,c),Tt(c,null,null,g),$e()),E=o.memoizedState,A=c.memoizedState,E.parent!==b?(E={parent:b,cache:b},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Ft(c,on,b)):(b=A.cache,Ft(c,on,b),b!==E.cache&&Ts(c,[on],g,!0))),va(o,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function ar(o){o.flags|=4}function yh(o,c){if(o!==null&&o.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(o=c.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function Uu(o,c,g,b){if(Gt)for(g=c.child;g!==null;){if(g.tag===5||g.tag===6)Vn(o,g.stateNode);else if(!(g.tag===4||Ht&&g.tag===27)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}else if(Ri)for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;g&&b&&(A=Zh(A,E.type,E.memoizedProps)),Vn(o,A)}else if(E.tag===6)A=E.stateNode,g&&b&&(A=Xh(A,E.memoizedProps)),Vn(o,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)A=E.child,A!==null&&(A.return=E),Uu(o,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function gd(o,c,g,b){var E=!1;if(Ri)for(var A=c.child;A!==null;){if(A.tag===5){var P=A.stateNode;g&&b&&(P=Zh(P,A.type,A.memoizedProps)),Yh(o,P)}else if(A.tag===6)P=A.stateNode,g&&b&&(P=Xh(P,A.memoizedProps)),Yh(o,P);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)E=A.child,E!==null&&(E.return=A),gd(o,A,!0,!0),E=!0;else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return E;A=A.return}A.sibling.return=A.return,A=A.sibling}return E}function bh(o,c){if(Ri&&yh(o,c)){o=c.stateNode;var g=o.containerInfo,b=Vh();gd(b,c,!1,!1),o.pendingChildren=b,ar(c),Eg(g,b)}}function pd(o,c,g,b){if(Gt)o.memoizedProps!==b&&ar(c);else if(Ri){var E=o.stateNode,A=o.memoizedProps;if((o=yh(o,c))||A!==b){var P=Nn.current;A=rc(E,g,A,b,!o,null),A===E?c.stateNode=E:(ec(A,g,b,P)&&ar(c),c.stateNode=A,o?Uu(A,c,!1,!1):ar(c))}else c.stateNode=E}}function vd(o,c,g){if(Fn(c,g)){if(o.flags|=16777216,!zd(c,g))if(Ed())o.flags|=8192;else throw fr=ya,Kd}else o.flags&=-16777217}function Wm(o,c){if(Ug(c)){if(o.flags|=16777216,!ss(c))if(Ed())o.flags|=8192;else throw fr=ya,Kd}else o.flags&=-16777217}function yd(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?G():536870912,o.lanes|=c,Or|=c)}function Pu(o,c){if(!$t)switch(o.tailMode){case"hidden":c=o.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Bn(o){var c=o.alternate!==null&&o.alternate.child===o.child,g=0,b=0;if(c)for(var E=o.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=b,o.childLanes=g,c}function u1(o,c,g){var b=c.pendingProps;switch(_e(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(c),null;case 1:return Bn(c),null;case 3:return g=c.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),_n(on),Ve(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Ne(c)?ar(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,vt())),bh(o,c),Bn(c),null;case 26:if(Va){g=c.type;var E=c.memoizedState;return o===null?(ar(c),E!==null?(Bn(c),Wm(c,E)):(Bn(c),vd(c,g,b))):E?E!==o.memoizedState?(ar(c),Bn(c),Wm(c,E)):(Bn(c),c.flags&=-16777217):(Gt?o.memoizedProps!==b&&ar(c):pd(o,c,g,b),Bn(c),vd(c,g,b)),null}case 27:if(Ht){if(Ze(c),g=Fs.current,E=c.type,o!==null&&c.stateNode!=null)Gt?o.memoizedProps!==b&&ar(c):pd(o,c,E,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Bn(c),null}o=Nn.current,Ne(c)?_t(c,o):(o=uc(E,b,g,o,!0),c.stateNode=o,ar(c))}return Bn(c),null}case 5:if(Ze(c),g=c.type,o!==null&&c.stateNode!=null)pd(o,c,g,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Bn(c),null}o=Nn.current,Ne(c)?_t(c,o):(E=vn(g,b,Fs.current,o,c),Uu(E,c,!1,!1),c.stateNode=E,ec(E,g,b,o)&&ar(c))}return Bn(c),vd(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)g=o.memoizedProps,Gt?g!==b&&ar(c):Ri&&(g!==b?(c.stateNode=Vs(b,Fs.current,Nn.current,c),ar(c)):c.stateNode=o.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(o=Fs.current,g=Nn.current,Ne(c)){if(!lr)throw Error(i(176));if(o=c.stateNode,g=c.memoizedProps,b=null,E=Hn,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}sc(o,g,c,b)||st(c)}else c.stateNode=Vs(b,o,g,c)}return Bn(c),null;case 13:if(b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Ne(c),b!==null&&b.dehydrated!==null){if(o===null){if(!E)throw Error(i(318));if(!lr)throw Error(i(344));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));Qh(E,c)}else ot(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bn(c),E=!1}else E=vt(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Qi(c),c):(Qi(c),null)}if(Qi(c),(c.flags&128)!==0)return c.lanes=g,c;if(g=b!==null,o=o!==null&&o.memoizedState!==null,g){b=c.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool);var A=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==E&&(b.flags|=2048)}return g!==o&&g&&(c.child.flags|=8192),yd(c,c.updateQueue),Bn(c),null;case 4:return Ve(),bh(o,c),o===null&&lg(c.stateNode.containerInfo),Bn(c),null;case 10:return _n(c.type),Bn(c),null;case 19:if(C(bt),E=c.memoizedState,E===null)return Bn(c),null;if(b=(c.flags&128)!==0,A=E.rendering,A===null)if(b)Pu(E,!1);else{if(Gn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=ld(o),A!==null){for(c.flags|=128,Pu(E,!1),o=A.updateQueue,c.updateQueue=o,yd(c,o),c.subtreeFlags=0,o=g,g=c.child;g!==null;)Kn(g,o),g=g.sibling;return T(bt,bt.current&1|2),c.child}o=o.sibling}E.tail!==null&&yn()>Fo&&(c.flags|=128,b=!0,Pu(E,!1),c.lanes=4194304)}else{if(!b)if(o=ld(A),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,yd(c,o),Pu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!$t)return Bn(c),null}else 2*yn()-E.renderingStartTime>Fo&&g!==536870912&&(c.flags|=128,b=!0,Pu(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):(o=E.last,o!==null?o.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=yn(),c.sibling=null,o=bt.current,T(bt,b?o&1|2:o&1),c):(Bn(c),null);case 22:case 23:return Qi(c),fn(),b=c.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(g&536870912)!==0&&(c.flags&128)===0&&(Bn(c),c.subtreeFlags&6&&(c.flags|=8192)):Bn(c),g=c.updateQueue,g!==null&&yd(c,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==g&&(c.flags|=2048),o!==null&&C(kn),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),_n(on),Bn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function xr(o,c){switch(_e(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return _n(on),Ve(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ze(c),null;case 13:if(Qi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));ot()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return C(bt),null;case 4:return Ve(),null;case 10:return _n(c.type),null;case 22:case 23:return Qi(c),fn(),o!==null&&C(kn),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return _n(on),null;case 25:return null;default:return null}}function So(o,c){switch(_e(c),c.tag){case 3:_n(on),Ve();break;case 26:case 27:case 5:Ze(c);break;case 4:Ve();break;case 13:Qi(c);break;case 19:C(bt);break;case 10:_n(c.type);break;case 22:case 23:Qi(c),fn(),o!==null&&C(kn);break;case 24:_n(on)}}function Eo(o,c){try{var g=c.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var E=b.next;g=E;do{if((g.tag&o)===o){b=void 0;var A=g.create,P=g.inst;b=A(),P.destroy=b}g=g.next}while(g!==E)}}catch(X){ln(c,c.return,X)}}function Wi(o,c,g){try{var b=c.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var A=E.next;b=A;do{if((b.tag&o)===o){var P=b.inst,X=P.destroy;if(X!==void 0){P.destroy=void 0,E=c;var se=g,je=X;try{je()}catch(Be){ln(E,se,Be)}}}b=b.next}while(b!==A)}}catch(Be){ln(c,c.return,Be)}}function _h(o){var c=o.updateQueue;if(c!==null){var g=o.stateNode;try{Sn(c,g)}catch(b){ln(o,o.return,b)}}}function xh(o,c,g){g.props=Rl(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(b){ln(o,c,b)}}function jl(o,c){try{var g=o.ref;if(g!==null){switch(o.tag){case 26:case 27:case 5:var b=Do(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof g=="function"?o.refCleanup=g(b):g.current=b}}catch(E){ln(o,c,E)}}function yi(o,c){var g=o.ref,b=o.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(E){ln(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){ln(o,c,E)}else g.current=null}function Ml(o){var c=o.type,g=o.memoizedProps,b=o.stateNode;try{qh(b,c,g,o)}catch(E){ln(o,o.return,E)}}function Bu(o,c,g){try{pg(o.stateNode,o.type,g,c,o)}catch(b){ln(o,o.return,b)}}function Co(o){return o.tag===5||o.tag===3||(Va?o.tag===26:!1)||(Ht?o.tag===27&&Zl(o.type):!1)||o.tag===4}function Hu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Co(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(Ht&&o.tag===27&&Zl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function bd(o,c,g){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?yg(g,o,c):mg(g,o);else if(b!==4&&(Ht&&b===27&&Zl(o.type)&&(g=o.stateNode,c=null),o=o.child,o!==null))for(bd(o,c,g),o=o.sibling;o!==null;)bd(o,c,g),o=o.sibling}function bi(o,c,g){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?vg(g,o,c):hg(g,o);else if(b!==4&&(Ht&&b===27&&Zl(o.type)&&(g=o.stateNode),o=o.child,o!==null))for(bi(o,c,g),o=o.sibling;o!==null;)bi(o,c,g),o=o.sibling}function Dl(o,c,g){o=o.containerInfo;try{Ih(o,g)}catch(b){ln(c,c.return,b)}}function _d(o){var c=o.stateNode,g=o.memoizedProps;try{n0(o.type,g,c,o)}catch(b){ln(o,o.return,b)}}function Jm(o,c){for(qs(o.containerInfo),kt=c;kt!==null;)if(o=kt,c=o.child,(o.subtreeFlags&1024)!==0&&c!==null)c.return=o,kt=c;else for(;kt!==null;){o=kt;var g=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&g!==null){c=void 0;var b=o,E=g.memoizedProps;g=g.memoizedState;var A=b.stateNode;try{var P=Rl(b.type,E,b.elementType===b.type);c=A.getSnapshotBeforeUpdate(P,g),A.__reactInternalSnapshotBeforeUpdate=c}catch(X){ln(b,b.return,X)}}break;case 3:(c&1024)!==0&&Gt&&Ld(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=o.sibling,c!==null){c.return=o.return,kt=c;break}kt=o.return}}function Ms(o,c,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:Ji(o,g),b&4&&Eo(5,g);break;case 1:if(Ji(o,g),b&4)if(o=g.stateNode,c===null)try{o.componentDidMount()}catch(P){ln(g,g.return,P)}else{var E=Rl(g.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){ln(g,g.return,P)}}b&64&&_h(g),b&512&&jl(g,g.return);break;case 3:if(Ji(o,g),b&64&&(o=g.updateQueue,o!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=Do(g.child.stateNode);break;case 1:c=g.child.stateNode}try{Sn(o,c)}catch(P){ln(g,g.return,P)}}break;case 27:Ht&&c===null&&b&4&&_d(g);case 26:case 5:Ji(o,g),c===null&&b&4&&Ml(g),b&512&&jl(g,g.return);break;case 12:Ji(o,g);break;case 13:Ji(o,g),b&4&&eg(o,g),b&64&&(o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(g=ja.bind(null,g),Kh(o,g))));break;case 22:if(b=g.memoizedState!==null||za,!b){c=c!==null&&c.memoizedState!==null||An,E=za;var A=An;za=b,(An=c)&&!A?ea(o,g,(g.subtreeFlags&8772)!==0):Ji(o,g),za=E,An=A}break;case 30:break;default:Ji(o,g)}}function wh(o){var c=o.alternate;c!==null&&(o.alternate=null,wh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&or(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Dr(o,c,g){for(g=g.child;g!==null;)xd(o,c,g),g=g.sibling}function xd(o,c,g){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(Is,g)}catch{}switch(g.tag){case 26:if(Va){An||yi(g,c),Dr(o,c,g),g.memoizedState?e0(g.memoizedState):g.stateNode&&Er(g.stateNode);break}case 27:if(Ht){An||yi(g,c);var b=wn,E=Wn;Zl(g.type)&&(wn=g.stateNode,Wn=!1),Dr(o,c,g),Hd(g.stateNode),wn=b,Wn=E;break}case 5:An||yi(g,c);case 6:if(Gt){if(b=wn,E=Wn,wn=null,Dr(o,c,g),wn=b,Wn=E,wn!==null)if(Wn)try{_g(wn,g.stateNode)}catch(A){ln(g,c,A)}else try{bg(wn,g.stateNode)}catch(A){ln(g,c,A)}}else Dr(o,c,g);break;case 18:Gt&&wn!==null&&(Wn?Lg(wn,g.stateNode):Bd(wn,g.stateNode));break;case 4:Gt?(b=wn,E=Wn,wn=g.stateNode.containerInfo,Wn=!0,Dr(o,c,g),wn=b,Wn=E):(Ri&&Dl(g.stateNode,g,Vh()),Dr(o,c,g));break;case 0:case 11:case 14:case 15:An||Wi(2,g,c),An||Wi(4,g,c),Dr(o,c,g);break;case 1:An||(yi(g,c),b=g.stateNode,typeof b.componentWillUnmount=="function"&&xh(g,c,b)),Dr(o,c,g);break;case 21:Dr(o,c,g);break;case 22:An=(b=An)||g.memoizedState!==null,Dr(o,c,g),An=b;break;default:Dr(o,c,g)}}function eg(o,c){if(lr&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{kg(o)}catch(g){ln(c,c.return,g)}}function c1(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new ki),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new ki),c;default:throw Error(i(435,o.tag))}}function Sh(o,c){var g=c1(o);c.forEach(function(b){var E=Od.bind(null,o,b);g.has(b)||(g.add(b),b.then(E,E))})}function Aa(o,c){var g=c.deletions;if(g!==null)for(var b=0;b<g.length;b++){var E=g[b],A=o,P=c;if(Gt){var X=P;e:for(;X!==null;){switch(X.tag){case 27:if(Ht){if(Zl(X.type)){wn=X.stateNode,Wn=!1;break e}break}case 5:wn=X.stateNode,Wn=!1;break e;case 3:case 4:wn=X.stateNode.containerInfo,Wn=!0;break e}X=X.return}if(wn===null)throw Error(i(160));xd(A,P,E),wn=null,Wn=!1}else xd(A,P,E);A=E.alternate,A!==null&&(A.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Eh(c,o),c=c.sibling}function Eh(o,c){var g=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Aa(c,o),Ra(o),b&4&&(Wi(3,o,o.return),Eo(3,o),Wi(5,o,o.return));break;case 1:Aa(c,o),Ra(o),b&512&&(An||g===null||yi(g,g.return)),b&64&&za&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:if(Va){var E=Rr;if(Aa(c,o),Ra(o),b&512&&(An||g===null||yi(g,g.return)),b&4){b=g!==null?g.memoizedState:null;var A=o.memoizedState;g===null?A===null?o.stateNode===null?o.stateNode=Po(E,o.type,o.memoizedProps,o):t0(E,o.type,o.stateNode):o.stateNode=Jh(E,A,o.memoizedProps):b!==A?(b===null?g.stateNode!==null&&Er(g.stateNode):e0(b),A===null?t0(E,o.type,o.stateNode):Jh(E,A,o.memoizedProps)):A===null&&o.stateNode!==null&&Bu(o,o.memoizedProps,g.memoizedProps)}break}case 27:if(Ht){Aa(c,o),Ra(o),b&512&&(An||g===null||yi(g,g.return)),g!==null&&b&4&&Bu(o,o.memoizedProps,g.memoizedProps);break}case 5:if(Aa(c,o),Ra(o),b&512&&(An||g===null||yi(g,g.return)),Gt){if(o.flags&32){E=o.stateNode;try{xg(E)}catch(Be){ln(o,o.return,Be)}}b&4&&o.stateNode!=null&&(E=o.memoizedProps,Bu(o,E,g!==null?g.memoizedProps:E)),b&1024&&(_c=!0)}break;case 6:if(Aa(c,o),Ra(o),b&4&&Gt){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,g=g!==null?g.memoizedProps:b,E=o.stateNode;try{gg(E,g,b)}catch(Be){ln(o,o.return,Be)}}break;case 3:if(Va?(Ys(),E=Rr,Rr=Il(c.containerInfo),Aa(c,o),Rr=E):Aa(c,o),Ra(o),b&4){if(Gt&&lr&&g!==null&&g.memoizedState.isDehydrated)try{zg(c.containerInfo)}catch(Be){ln(o,o.return,Be)}if(Ri){b=c.containerInfo,g=c.pendingChildren;try{Ih(b,g)}catch(Be){ln(o,o.return,Be)}}}_c&&(_c=!1,zr(o));break;case 4:Va?(g=Rr,Rr=Il(o.stateNode.containerInfo),Aa(c,o),Ra(o),Rr=g):(Aa(c,o),Ra(o)),b&4&&Ri&&Dl(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Aa(c,o),Ra(o);break;case 13:Aa(c,o),Ra(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&($d=yn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Sh(o,b)));break;case 22:E=o.memoizedState!==null;var P=g!==null&&g.memoizedState!==null,X=za,se=An;if(za=X||E,An=se||P,Aa(c,o),An=se,za=X,Ra(o),b&8192&&(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(g===null||P||za||An||ia(o)),Gt)){e:if(g=null,Gt)for(c=o;;){if(c.tag===5||Va&&c.tag===26){if(g===null){P=g=c;try{A=P.stateNode,E?wg(A):kd(P.stateNode,P.memoizedProps)}catch(Be){ln(P,P.return,Be)}}}else if(c.tag===6){if(g===null){P=c;try{var je=P.stateNode;E?Lo(je):Sg(je,P.memoizedProps)}catch(Be){ln(P,P.return,Be)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=o.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,Sh(o,g))));break;case 19:Aa(c,o),Ra(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Sh(o,b)));break;case 30:break;case 21:break;default:Aa(c,o),Ra(o)}}function Ra(o){var c=o.flags;if(c&2){try{if(Gt){for(var g,b=o.return;b!==null;){if(Co(b)){g=b;break}b=b.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:if(Ht){var E=g.stateNode,A=Hu(o);bi(o,A,E);break}case 5:var P=g.stateNode;g.flags&32&&(xg(P),g.flags&=-33);var X=Hu(o);bi(o,X,P);break;case 3:case 4:var se=g.stateNode.containerInfo,je=Hu(o);bd(o,je,se);break;default:throw Error(i(161))}}}catch(Be){ln(o,o.return,Be)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function zr(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;zr(c),c.tag===5&&c.flags&1024&&Bh(c.stateNode),o=o.sibling}}function Ji(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Ms(o,c.alternate,c),c=c.sibling}function ia(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Wi(4,c,c.return),ia(c);break;case 1:yi(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&xh(c,c.return,g),ia(c);break;case 27:Ht&&Hd(c.stateNode);case 26:case 5:yi(c,c.return),ia(c);break;case 22:c.memoizedState===null&&ia(c);break;case 30:ia(c);break;default:ia(c)}o=o.sibling}}function ea(o,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,E=o,A=c,P=A.flags;switch(A.tag){case 0:case 11:case 15:ea(E,A,g),Eo(4,A);break;case 1:if(ea(E,A,g),b=A,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(je){ln(b,b.return,je)}if(b=A,E=b.updateQueue,E!==null){var X=b.stateNode;try{var se=E.shared.hiddenCallbacks;if(se!==null)for(E.shared.hiddenCallbacks=null,E=0;E<se.length;E++)sn(se[E],X)}catch(je){ln(b,b.return,je)}}g&&P&64&&_h(A),jl(A,A.return);break;case 27:Ht&&_d(A);case 26:case 5:ea(E,A,g),g&&b===null&&P&4&&Ml(A),jl(A,A.return);break;case 12:ea(E,A,g);break;case 13:ea(E,A,g),g&&P&4&&eg(E,A);break;case 22:A.memoizedState===null&&ea(E,A,g),jl(A,A.return);break;case 30:break;default:ea(E,A,g)}c=c.sibling}}function Ds(o,c){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&Ie(g))}function Gu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ie(o))}function wr(o,c,g,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)qu(o,c,g,b),c=c.sibling}function qu(o,c,g,b){var E=c.flags;switch(c.tag){case 0:case 11:case 15:wr(o,c,g,b),E&2048&&Eo(9,c);break;case 1:wr(o,c,g,b);break;case 3:wr(o,c,g,b),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ie(o)));break;case 12:if(E&2048){wr(o,c,g,b),o=c.stateNode;try{var A=c.memoizedProps,P=A.id,X=A.onPostCommit;typeof X=="function"&&X(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(se){ln(c,c.return,se)}}else wr(o,c,g,b);break;case 13:wr(o,c,g,b);break;case 23:break;case 22:A=c.stateNode,P=c.alternate,c.memoizedState!==null?A._visibility&2?wr(o,c,g,b):_i(o,c):A._visibility&2?wr(o,c,g,b):(A._visibility|=2,zs(o,c,g,b,(c.subtreeFlags&10256)!==0)),E&2048&&Ds(P,c);break;case 24:wr(o,c,g,b),E&2048&&Gu(c.alternate,c);break;default:wr(o,c,g,b)}}function zs(o,c,g,b,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,P=c,X=g,se=b,je=P.flags;switch(P.tag){case 0:case 11:case 15:zs(A,P,X,se,E),Eo(8,P);break;case 23:break;case 22:var Be=P.stateNode;P.memoizedState!==null?Be._visibility&2?zs(A,P,X,se,E):_i(A,P):(Be._visibility|=2,zs(A,P,X,se,E)),E&&je&2048&&Ds(P.alternate,P);break;case 24:zs(A,P,X,se,E),E&&je&2048&&Gu(P.alternate,P);break;default:zs(A,P,X,se,E)}c=c.sibling}}function _i(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=o,b=c,E=b.flags;switch(b.tag){case 22:_i(g,b),E&2048&&Ds(b.alternate,b);break;case 24:_i(g,b),E&2048&&Gu(b.alternate,b);break;default:_i(g,b)}c=c.sibling}}function ks(o){if(o.subtreeFlags&ba)for(o=o.child;o!==null;)Vu(o),o=o.sibling}function Vu(o){switch(o.tag){case 26:ks(o),o.flags&ba&&(o.memoizedState!==null?ls(Rr,o.memoizedState,o.memoizedProps):ac(o.type,o.memoizedProps));break;case 5:ks(o),o.flags&ba&&ac(o.type,o.memoizedProps);break;case 3:case 4:if(Va){var c=Rr;Rr=Il(o.stateNode.containerInfo),ks(o),Rr=c}else ks(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ba,ba=16777216,ks(o),ba=c):ks(o));break;default:ks(o)}}function zl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Yu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var b=c[g];kt=b,xi(b,o)}zl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)rr(o),o=o.sibling}function rr(o){switch(o.tag){case 0:case 11:case 15:Yu(o),o.flags&2048&&Wi(9,o,o.return);break;case 3:Yu(o);break;case 12:Yu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,To(o)):Yu(o);break;default:Yu(o)}}function To(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var b=c[g];kt=b,xi(b,o)}zl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Wi(8,c,c.return),To(c);break;case 22:g=c.stateNode,g._visibility&2&&(g._visibility&=-3,To(c));break;default:To(c)}o=o.sibling}}function xi(o,c){for(;kt!==null;){var g=kt;switch(g.tag){case 0:case 11:case 15:Wi(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ie(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,kt=b;else e:for(g=o;kt!==null;){b=kt;var E=b.sibling,A=b.return;if(wh(b),b===g){kt=null;break e}if(E!==null){E.return=A,kt=E;break e}kt=A}}}function wd(o){var c=sg(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(i(364));return c}if(o=ug(o),o===null)throw Error(i(362));return o.stateNode.current}function Ao(o,c){var g=o.tag;switch(c.$$typeof){case el:if(o.type===c.value)return!0;break;case _a:e:{for(c=c.value,o=[o,0],g=0;g<o.length;){var b=o[g++],E=b.tag,A=o[g++],P=c[A];if(E!==5&&E!==26&&E!==27||!ko(b)){for(;P!=null&&Ao(b,P);)A++,P=c[A];if(A===c.length){c=!0;break e}else for(b=b.child;b!==null;)o.push(b,A),b=b.sibling}}c=!1}return c;case Xo:if((g===5||g===26||g===27)&&Gh(o.stateNode,c.value))return!0;break;case Ql:if((g===5||g===6||g===26||g===27)&&(o=dg(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case Ko:if((g===5||g===26||g===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function es(o){switch(o.$$typeof){case el:return"<"+(_(o.value)||"Unknown")+">";case _a:return":has("+(es(o)||"")+")";case Xo:return'[role="'+o.value+'"]';case Ql:return'"'+o.value+'"';case Ko:return'[data-testname="'+o.value+'"]';default:throw Error(i(365))}}function Sd(o,c){var g=[];o=[o,0];for(var b=0;b<o.length;){var E=o[b++],A=E.tag,P=o[b++],X=c[P];if(A!==5&&A!==26&&A!==27||!ko(E)){for(;X!=null&&Ao(E,X);)P++,X=c[P];if(P===c.length)g.push(E);else for(E=E.child;E!==null;)o.push(E,P),E=E.sibling}}return g}function Iu(o,c){if(!zo)throw Error(i(363));o=wd(o),o=Sd(o,c),c=[],o=Array.from(o);for(var g=0;g<o.length;){var b=o[g++],E=b.tag;if(E===5||E===26||E===27)ko(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return c}function sa(){if((dt&2)!==0&&Lt!==0)return Lt&-Lt;if(ct.T!==null){var o=Cn;return o!==0?o:ga()}return Lh()}function kl(){Hr===0&&(Hr=(Lt&536870912)===0||$t?k():536870912);var o=Br.current;return o!==null&&(o.flags|=32),Hr}function Oa(o,c,g){(o===Wt&&(un===2||un===9)||o.cancelPendingCommit!==null)&&(Lr(o,0),ir(o,Lt,Hr,!1)),V(o,g),((dt&2)===0||o!==Wt)&&(o===Wt&&((dt&2)===0&&(al|=g),Gn===4&&ir(o,Lt,Hr,!1)),Qe(o))}function Zu(o,c,g){if((dt&6)!==0)throw Error(i(327));var b=!g&&(c&124)===0&&(c&o.expiredLanes)===0||M(o,c),E=b?Si(o,c):Qt(o,c,!0),A=b;do{if(E===0){Li&&!b&&ir(o,c,0,!1);break}else{if(g=o.current.alternate,A&&!kr(g)){E=Qt(o,c,!1),A=!1;continue}if(E===2){if(A=c,o.errorRecoveryDisabledLanes&A)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var X=o;E=rl;var se=lr&&X.current.memoizedState.isDehydrated;if(se&&(Lr(X,P).flags|=256),P=Qt(X,P,!1),P!==2){if(xc&&!se){X.errorRecoveryDisabledLanes|=A,al|=A,E=4;break e}A=ka,ka=E,A!==null&&(ka===null?ka=A:ka.push.apply(ka,A))}E=P}if(A=!1,E!==2)continue}}if(E===1){Lr(o,0),ir(o,c,0,!0);break}e:{switch(b=o,A=E,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:ir(b,c,Hr,!hs);break e;case 2:ka=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(E=$d+300-yn(),10<E)){if(ir(b,c,Hr,!hs),j(b,0,!0)!==0)break e;b.timeoutHandle=Dd(Sr.bind(null,b,g,ka,wc,il,c,Hr,al,Or,hs,A,2,-0,0),E);break e}Sr(b,g,ka,wc,il,c,Hr,al,Or,hs,A,0,-0,0)}}break}while(!0);Qe(o)}function Sr(o,c,g,b,E,A,P,X,se,je,Be,Xe,Ke,Nt){if(o.timeoutHandle=Pr,Xe=c.subtreeFlags,(Xe&8192||(Xe&16785408)===16785408)&&(nc(),Vu(c),Xe=Ph(),Xe!==null)){o.cancelPendingCommit=Xe(Rh.bind(null,o,c,A,g,b,E,P,X,se,Be,1,Ke,Nt)),ir(o,A,P,!je);return}Rh(o,c,A,g,b,E,P,X,se)}function kr(o){for(var c=o;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var E=g[b],A=E.getSnapshot;E=E.value;try{if(!Cr(A(),E))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ir(o,c,g,b){c&=~Fd,c&=~al,o.suspendedLanes|=c,o.pingedLanes&=~c,b&&(o.warmLanes|=c),b=o.expirationTimes;for(var E=c;0<E;){var A=31-cr(E),P=1<<A;b[A]=-1,E&=~P}g!==0&&ne(o,g,c)}function wi(){return(dt&6)===0?(Et(0),!1):!0}function Jr(){if(Rt!==null){if(un===0)var o=Rt.return;else o=Rt,Ma=ri=null,Ta(o),Di=null,Io=0,o=Rt;for(;o!==null;)So(o.alternate,o),o=o.return;Rt=null}}function Lr(o,c){var g=o.timeoutHandle;g!==Pr&&(o.timeoutHandle=Pr,tc(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),Jr(),Wt=o,Rt=g=ts(o.current,null),Lt=c,un=0,Ka=null,hs=!1,Li=M(o,c),xc=!1,Or=Hr=Fd=al=Jn=Gn=0,ka=rl=null,il=!1,(c&8)!==0&&(c|=c&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=c;0<b;){var E=31-cr(b),A=1<<E;c|=o[E],b&=~A}return In=c,xt(),g}function Ch(o,c){jt=null,ct.H=Js,c===Vo||c===xn?(c=xe(),un=3):c===Kd?(c=xe(),un=4):un=c===Zt?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ka=c,Rt===null&&(Gn=1,ud(o,F(c,o.current)))}function Ed(){var o=Br.current;return o===null?!0:(Lt&4194048)===Lt?zi===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?o===zi:!1}function Cd(){var o=ct.H;return ct.H=Js,o===null?Js:o}function Na(){var o=ct.A;return ct.A=Zo,o}function zn(){Gn=4,hs||(Lt&4194048)!==Lt&&Br.current!==null||(Li=!0),(Jn&134217727)===0&&(al&134217727)===0||Wt===null||ir(Wt,Lt,Hr,!1)}function Qt(o,c,g){var b=dt;dt|=2;var E=Cd(),A=Na();(Wt!==o||Lt!==c)&&(wc=null,Lr(o,c)),c=!1;var P=Gn;e:do try{if(un!==0&&Rt!==null){var X=Rt,se=Ka;switch(un){case 8:Jr(),P=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(c=!0);var je=un;if(un=0,Ka=null,Ul(o,X,se,je),g&&Li){P=0;break e}break;default:je=un,un=0,Ka=null,Ul(o,X,se,je)}}Ll(),P=Gn;break}catch(Be){Ch(o,Be)}while(!0);return c&&o.shellSuspendCounter++,Ma=ri=null,dt=b,ct.H=E,ct.A=A,Rt===null&&(Wt=null,Lt=0,xt()),P}function Ll(){for(;Rt!==null;)Ls(Rt)}function Si(o,c){var g=dt;dt|=2;var b=Cd(),E=Na();Wt!==o||Lt!==c?(wc=null,Fo=yn()+500,Lr(o,c)):Li=M(o,c);e:do try{if(un!==0&&Rt!==null){c=Rt;var A=Ka;t:switch(un){case 1:un=0,Ka=null,Ul(o,c,A,1);break;case 2:case 9:if(xl(A)){un=0,Ka=null,Ah(c);break}c=function(){un!==2&&un!==9||Wt!==o||(un=7),Qe(o)},A.then(c,c);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:xl(A)?(un=0,Ka=null,Ah(c)):(un=0,Ka=null,Ul(o,c,A,7));break;case 5:var P=null;switch(Rt.tag){case 26:P=Rt.memoizedState;case 5:case 27:var X=Rt,se=X.type,je=X.pendingProps;if(P?ss(P):zd(se,je)){un=0,Ka=null;var Be=X.sibling;if(Be!==null)Rt=Be;else{var Xe=X.return;Xe!==null?(Rt=Xe,Us(Xe)):Rt=null}break t}}un=0,Ka=null,Ul(o,c,A,5);break;case 6:un=0,Ka=null,Ul(o,c,A,6);break;case 8:Jr(),Gn=6;break e;default:throw Error(i(462))}}Th();break}catch(Ke){Ch(o,Ke)}while(!0);return Ma=ri=null,ct.H=b,ct.A=E,dt=g,Rt!==null?0:(Wt=null,Lt=0,xt(),Gn)}function Th(){for(;Rt!==null&&!p1();)Ls(Rt)}function Ls(o){var c=Lu(o.alternate,o,In);o.memoizedProps=o.pendingProps,c===null?Us(o):Rt=c}function Ah(o){var c=o,g=c.alternate;switch(c.tag){case 15:case 0:c=$m(g,c,c.pendingProps,c.type,void 0,Lt);break;case 11:c=$m(g,c,c.pendingProps,c.type.render,c.ref,Lt);break;case 5:Ta(c);default:So(g,c),c=Rt=Kn(c,In),c=Lu(g,c,In)}o.memoizedProps=o.pendingProps,c===null?Us(o):Rt=c}function Ul(o,c,g,b){Ma=ri=null,Ta(c),Di=null,Io=0;var E=c.return;try{if(l1(o,E,c,g,Lt)){Gn=1,ud(o,F(g,o.current)),Rt=null;return}}catch(A){if(E!==null)throw Rt=E,A;Gn=1,ud(o,F(g,o.current)),Rt=null;return}c.flags&32768?($t||b===1?o=!0:Li||(Lt&536870912)!==0?o=!1:(hs=o=!0,(b===2||b===9||b===3||b===6)&&(b=Br.current,b!==null&&b.tag===13&&(b.flags|=16384))),Ro(c,o)):Us(c)}function Us(o){var c=o;do{if((c.flags&32768)!==0){Ro(c,hs);return}o=c.return;var g=u1(c.alternate,c,In);if(g!==null){Rt=g;return}if(c=c.sibling,c!==null){Rt=c;return}Rt=c=o}while(c!==null);Gn===0&&(Gn=5)}function Ro(o,c){do{var g=xr(o.alternate,o);if(g!==null){g.flags&=32767,Rt=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(o=o.sibling,o!==null)){Rt=o;return}Rt=o=g}while(o!==null);Gn=6,Rt=null}function Rh(o,c,g,b,E,A,P,X,se){o.cancelPendingCommit=null;do Ur();while(ta!==0);if((dt&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=l0,K(o,g,A,P,X,se),o===Wt&&(Rt=Wt=null,Lt=0),$o=c,sl=o,Qo=g,Qd=A,Wd=E,Wl=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,tg(Vd,function(){return Ci(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=ct.T,ct.T=null,E=ti(),la(2),P=dt,dt|=4;try{Jm(o,c,g)}finally{dt=P,la(E),ct.T=b}}ta=1,Oo(),Td(),Ps()}}function Oo(){if(ta===1){ta=0;var o=sl,c=$o,g=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||g){g=ct.T,ct.T=null;var b=ti();la(2);var E=dt;dt|=4;try{Eh(c,o),zt(o.containerInfo)}finally{dt=E,la(b),ct.T=g}}o.current=c,ta=2}}function Td(){if(ta===2){ta=0;var o=sl,c=$o,g=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||g){g=ct.T,ct.T=null;var b=ti();la(2);var E=dt;dt|=4;try{Ms(o,c.alternate,c)}finally{dt=E,la(b),ct.T=g}}ta=3}}function Ps(){if(ta===4||ta===3){ta=0,Bg();var o=sl,c=$o,g=Qo,b=Wl;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ta=5:(ta=0,$o=sl=null,Ei(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Ui=null),W(g),c=c.stateNode,Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(Is,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=ct.T,E=ti(),la(2),ct.T=null;try{for(var A=o.onRecoverableError,P=0;P<b.length;P++){var X=b[P];A(X.value,{componentStack:X.stack})}}finally{ct.T=c,la(E)}}(Qo&3)!==0&&Ur(),Qe(o),E=o.pendingLanes,(g&4194090)!==0&&(E&42)!==0?o===Jd?ll++:(ll=0,Jd=o):ll=0,Et(0)}}function Ei(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ie(c)))}function Ur(o){return Oo(),Td(),Ps(),Ci()}function Ci(){if(ta!==5)return!1;var o=sl,c=Qd;Qd=0;var g=W(Qo),b=32>g?32:g;g=ct.T;var E=ti();try{la(b),ct.T=null,b=Wd,Wd=null;var A=sl,P=Qo;if(ta=0,$o=sl=null,Qo=0,(dt&6)!==0)throw Error(i(331));var X=dt;if(dt|=4,rr(A.current),qu(A,A.current,P,b),dt=X,Et(0,!1),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(Is,A)}catch{}return!0}finally{la(E),ct.T=g,Ei(o,c)}}function Ad(o,c,g){c=F(g,c),c=cd(o.stateNode,c,2),o=We(o,c,2),o!==null&&(V(o,2),Qe(o))}function ln(o,c,g){if(o.tag===3)Ad(o,o,g);else for(;c!==null;){if(c.tag===3){Ad(c,o,g);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ui===null||!Ui.has(b))){o=F(g,o),g=Vm(2),b=We(c,g,2),b!==null&&(Ym(g,b,c,o),V(b,2),Qe(b));break}}c=c.return}}function Pl(o,c,g){var b=o.pingCache;if(b===null){b=o.pingCache=new nl;var E=new Set;b.set(c,E)}else E=b.get(c),E===void 0&&(E=new Set,b.set(c,E));E.has(g)||(xc=!0,E.add(g),o=Rd.bind(null,o,c,g),c.then(o,o))}function Rd(o,c,g){var b=o.pingCache;b!==null&&b.delete(c),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,Wt===o&&(Lt&g)===g&&(Gn===4||Gn===3&&(Lt&62914560)===Lt&&300>yn()-$d?(dt&2)===0&&Lr(o,0):Fd|=g,Or===Lt&&(Or=0)),Qe(o)}function Bs(o,c){c===0&&(c=G()),o=te(o,c),o!==null&&(V(o,c),Qe(o))}function ja(o){var c=o.memoizedState,g=0;c!==null&&(g=c.retryLane),Bs(o,g)}function Od(o,c){var g=0;switch(o.tag){case 13:var b=o.stateNode,E=o.memoizedState;E!==null&&(g=E.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),Bs(o,g)}function tg(o,c){return dc(o,c)}function d1(o,c,g,b){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ts(o,c){var g=o.alternate;return g===null?(g=n(o.tag,c,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=c,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&65011712,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,c=o.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function Kn(o,c){o.flags&=65011714;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,c=g.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function No(o,c,g,b,E,A){var P=0;if(b=o,typeof o=="function")Oh(o)&&(P=1);else if(typeof o=="string")P=Va&&Ht?lc(o,g,Nn.current)?26:a0(o)?27:5:Va?lc(o,g,Nn.current)?26:5:Ht&&a0(o)?27:5;else e:switch(o){case Yl:return o=n(31,g,c,E),o.elementType=Yl,o.lanes=A,o;case Vl:return ei(g.children,E,A,c);case Ku:P=8,E|=24;break;case jd:return o=n(12,g,c,E|2),o.elementType=jd,o.lanes=A,o;case $u:return o=n(13,g,c,E),o.elementType=$u,o.lanes=A,o;case Qu:return o=n(19,g,c,E),o.elementType=Qu,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Fu:case as:P=10;break e;case Mh:P=9;break e;case Ti:P=11;break e;case Ai:P=14;break e;case qa:P=16,b=null;break e}P=29,g=Error(i(130,o===null?"null":typeof o,"")),b=null}return c=n(P,g,c,E),c.elementType=o,c.type=b,c.lanes=A,c}function ei(o,c,g,b){return o=n(7,o,b,c),o.lanes=g,o}function Bl(o,c,g){return o=n(6,o,null,c),o.lanes=g,o}function Xu(o,c,g){return c=n(4,o.children!==null?o.children:[],o.key,c),c.lanes=g,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function jo(o,c,g,b,E,A,P,X){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=A,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Hl(o,c,g,b,E,A,P,X,se,je,Be,Xe){return o=new jo(o,c,g,P,X,se,je,Xe),c=1,A===!0&&(c|=24),A=n(3,null,null,c),o.current=A,A.stateNode=o,c=ke(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:b,isDehydrated:g,cache:c},et(A),o}function ng(o){return o?(o=Xl,o):Xl}function Nh(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=f(c),o=o!==null?h(o):null,o===null?null:Do(o.stateNode)}function ag(o,c,g,b,E,A){E=ng(E),b.context===null?b.context=E:b.pendingContext=E,b=Fe(c),b.payload={element:g},A=A===void 0?null:A,A!==null&&(b.callback=A),g=We(o,b,c),g!==null&&(Oa(g,o,c),it(g,o,c))}function jh(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<c?g:c}}function ns(o,c){jh(o,c),(o=o.alternate)&&jh(o,c)}var Dt={},Nd=vm(),sr=O2(),Gl=Object.assign,rg=Symbol.for("react.element"),ql=Symbol.for("react.transitional.element"),Hs=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),Mh=Symbol.for("react.consumer"),as=Symbol.for("react.context"),Ti=Symbol.for("react.forward_ref"),$u=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),Ai=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),Yl=Symbol.for("react.activity"),Dh=Symbol.for("react.memo_cache_sentinel"),Md=Symbol.iterator,Wu=Symbol.for("react.client.reference"),Gs=Array.isArray,ct=Nd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ig=e.rendererVersion,Mo=e.rendererPackageName,Ju=e.extraDevToolsConfig,Do=e.getPublicInstance,zh=e.getRootHostContext,kh=e.getChildHostContext,qs=e.prepareForCommit,zt=e.resetAfterCommit,vn=e.createInstance;e.cloneMutableInstance;var Vn=e.appendInitialChild,ec=e.finalizeInitialChildren,rs=e.shouldSetTextContent,Vs=e.createTextInstance;e.cloneMutableTextInstance;var Dd=e.scheduleTimeout,tc=e.cancelTimeout,Pr=e.noTimeout,is=e.isPrimaryRenderer;e.warnsIfNotActing;var Gt=e.supportsMutation,Ri=e.supportsPersistence,lr=e.supportsHydration,sg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var lg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var la=e.setCurrentUpdatePriority,ti=e.getCurrentUpdatePriority,Lh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Uh=e.shouldAttemptEagerTransition,or=e.detachDeletedInstance;e.requestPostPaintCallback;var Fn=e.maySuspendCommit,zd=e.preloadInstance,nc=e.startSuspendingCommit,ac=e.suspendInstance;e.suspendOnActiveViewTransition;var Ph=e.waitForCommitToBeReady,ur=e.NotPendingTransition,Oi=e.HostTransitionContext,Bh=e.resetFormInstance;e.bindToConsole;var Hh=e.supportsMicrotasks,og=e.scheduleMicrotask,zo=e.supportsTestSelectors,ug=e.findFiberRoot,cg=e.getBoundingRect,dg=e.getTextContent,ko=e.isHiddenSubtree,Gh=e.matchAccessibilityRole,fg=e.setFocusIfFocusable,f1=e.setupIntersectionObserver,hg=e.appendChild,mg=e.appendChildToContainer,gg=e.commitTextUpdate,qh=e.commitMount,pg=e.commitUpdate,vg=e.insertBefore,yg=e.insertInContainerBefore,bg=e.removeChild,_g=e.removeChildFromContainer,xg=e.resetTextContent,wg=e.hideInstance,Lo=e.hideTextInstance,kd=e.unhideInstance,Sg=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var Ld=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var rc=e.cloneInstance,Vh=e.createContainerChildSet,Yh=e.appendChildToContainerChildSet,Eg=e.finalizeContainerChildren,Ih=e.replaceContainerChildren,Zh=e.cloneHiddenInstance,Xh=e.cloneHiddenTextInstance,ic=e.isSuspenseInstancePending,Ud=e.isSuspenseInstanceFallback,Cg=e.getSuspenseInstanceFallbackErrorDetails,Kh=e.registerSuspenseInstanceRetry,Tg=e.canHydrateFormStateMarker,Ag=e.isFormStateMarkerMatching,Rg=e.getNextHydratableSibling,Fh=e.getNextHydratableSiblingAfterSingleton,Og=e.getFirstHydratableChild,Ng=e.getFirstHydratableChildWithinContainer,$h=e.getFirstHydratableChildWithinSuspenseInstance,jg=e.getFirstHydratableChildWithinSingleton,Mg=e.canHydrateInstance,h1=e.canHydrateTextInstance,m1=e.canHydrateSuspenseInstance,Dg=e.hydrateInstance,sc=e.hydrateTextInstance,Qh=e.hydrateSuspenseInstance,Pd=e.getNextHydratableInstanceAfterSuspenseInstance,zg=e.commitHydratedContainer,kg=e.commitHydratedSuspenseInstance,Bd=e.clearSuspenseBoundary,Lg=e.clearSuspenseBoundaryFromContainer,Wh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var g1=e.validateHydratableInstance,Uo=e.validateHydratableTextInstance,Va=e.supportsResources,lc=e.isHostHoistableType,Il=e.getHoistableRoot,oc=e.getResource,Jh=e.acquireResource,e0=e.releaseResource,Po=e.hydrateHoistable,t0=e.mountHoistable,Er=e.unmountHoistable,Ni=e.createHoistableInstance,Ys=e.prepareToCommitHoistables,Ug=e.mayResourceSuspendCommit,ss=e.preloadResource,ls=e.suspendResource,Ht=e.supportsSingletons,uc=e.resolveSingletonInstance,n0=e.acquireSingletonInstance,Hd=e.releaseSingletonInstance,a0=e.isHostSingletonType,Zl=e.isSingletonScope,os=[],us=-1,Xl={},cr=Math.clz32?Math.clz32:R,Pg=Math.log,Gd=Math.LN2,cc=256,Bo=4194304,dc=sr.unstable_scheduleCallback,qd=sr.unstable_cancelCallback,p1=sr.unstable_shouldYield,Bg=sr.unstable_requestPaint,yn=sr.unstable_now,oa=sr.unstable_ImmediatePriority,Hg=sr.unstable_UserBlockingPriority,Vd=sr.unstable_NormalPriority,Gg=sr.unstable_IdlePriority,qg=sr.log,Vg=sr.unstable_setDisableYieldValue,Is=null,Ya=null,Yd,r0,Id=!1,Zd=new WeakMap,Zs=[],Xs=0,fc=null,Ho=0,Ia=[],dr=0,Ks=null,ni=1,ji="",Nn=x(null),Kl=x(null),Fs=x(null),hc=x(null),Hn=null,$n=null,$t=!1,ai=null,nn=!1,i0=Error(i(519)),Cr=typeof Object.is=="function"?Object.is:At,mc=x(null),ri=null,Ma=null,Yg=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(g,b){o.push(b)}};this.abort=function(){c.aborted=!0,o.forEach(function(g){return g()})}},Ig=sr.unstable_scheduleCallback,gc=sr.unstable_NormalPriority,on={$$typeof:as,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},pc=null,$s=null,Xd=!1,Go=!1,vc=!1,cs=0,qo=null,ii=0,Cn=0,Qs=null,s0=ct.S;ct.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&jr(o,c),s0!==null&&s0(o,c)};var kn=x(null),v1=Object.prototype.hasOwnProperty,Vo=Error(i(460)),Kd=Error(i(474)),xn=Error(i(542)),ya={then:function(){}},fr=null,Tr=[],Fl=0,l0=0,Mi=!1,Za=!1,Da=x(null),yc=x(0),Qn=0,jt=null,It=null,Tn=null,si=!1,Ws=!1,ds=!1,Ar=0,Yo=0,li=null,bc=0,Js={readContext:pe,use:En,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},$l={readContext:pe,use:En,useCallback:function(o,c){return ft().memoizedState=[o,c===void 0?null:c],o},useContext:pe,useEffect:oh,useImperativeHandle:function(o,c,g){g=g!=null?g.concat([o]):null,Nu(4194308,4,yo.bind(null,c,o),g)},useLayoutEffect:function(o,c){return Nu(4194308,4,o,c)},useInsertionEffect:function(o,c){Nu(4,2,o,c)},useMemo:function(o,c){var g=ft();c=c===void 0?null:c;var b=o();if(ds){he(!0);try{o()}finally{he(!1)}}return g.memoizedState=[b,c],b},useReducer:function(o,c,g){var b=ft();if(g!==void 0){var E=g(c);if(ds){he(!0);try{g(c)}finally{he(!1)}}}else E=c;return b.memoizedState=b.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},b.queue=o,o=o.dispatch=dh.bind(null,jt,o),[b.memoizedState,o]},useRef:function(o){var c=ft();return o={current:o},c.memoizedState=o},useState:function(o){o=Wc(o);var c=o.queue,g=rd.bind(null,jt,c);return c.dispatch=g,[o.memoizedState,g]},useDebugValue:ju,useDeferredValue:function(o,c){var g=ft();return bo(g,o,c)},useTransition:function(){var o=Wc(!1);return o=ch.bind(null,jt,o.queue,!0,!1),ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,g){var b=jt,E=ft();if($t){if(g===void 0)throw Error(i(407));g=g()}else{if(g=c(),Wt===null)throw Error(i(349));(Lt&124)!==0||nh(b,c,g)}E.memoizedState=g;var A={value:g,getSnapshot:c};return E.queue=A,oh(Dm.bind(null,b,A,o),[o]),b.flags|=2048,Os(9,Zi(),Ou.bind(null,b,A,g,c),null),g},useId:function(){var o=ft(),c=Wt.identifierPrefix;if($t){var g=ji,b=ni;g=(b&~(1<<32-cr(b)-1)).toString(32)+g,c=""+c+"R"+g,g=Ar++,0<g&&(c+="H"+g.toString(32)),c+=""}else g=bc++,c=""+c+"r"+g.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Ki,useFormState:ed,useActionState:ed,useOptimistic:function(o){var c=ft();c.memoizedState=c.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=xo.bind(null,jt,!0,g),g.dispatch=c,[o,c]},useMemoCache:Rs,useCacheRefresh:function(){return ft().memoizedState=s1.bind(null,jt)}},o0={readContext:pe,use:En,useCallback:Mu,useContext:pe,useEffect:vo,useImperativeHandle:Xi,useInsertionEffect:vi,useLayoutEffect:ad,useMemo:uh,useReducer:pa,useRef:Cl,useState:function(){return pa(yr)},useDebugValue:ju,useDeferredValue:function(o,c){var g=Pt();return Du(g,It.memoizedState,o,c)},useTransition:function(){var o=pa(yr)[0],c=Pt().memoizedState;return[typeof o=="boolean"?o:Ha(o),c]},useSyncExternalStore:Ru,useId:zu,useHostTransitionStatus:Ki,useFormState:zm,useActionState:zm,useOptimistic:function(o,c){var g=Pt();return Jc(g,It,o,c)},useMemoCache:Rs,useCacheRefresh:_o},Zg={readContext:pe,use:En,useCallback:Mu,useContext:pe,useEffect:vo,useImperativeHandle:Xi,useInsertionEffect:vi,useLayoutEffect:ad,useMemo:uh,useReducer:th,useRef:Cl,useState:function(){return th(yr)},useDebugValue:ju,useDeferredValue:function(o,c){var g=Pt();return It===null?bo(g,o,c):Du(g,It.memoizedState,o,c)},useTransition:function(){var o=th(yr)[0],c=Pt().memoizedState;return[typeof o=="boolean"?o:Ha(o),c]},useSyncExternalStore:Ru,useId:zu,useHostTransitionStatus:Ki,useFormState:nd,useActionState:nd,useOptimistic:function(o,c){var g=Pt();return It!==null?Jc(g,It,o,c):(g.baseState=o,[o,g.queue.dispatch])},useMemoCache:Rs,useCacheRefresh:_o},Di=null,Io=0,fs=Bm(!0),u0=Bm(!1),Br=x(null),zi=null,bt=x(0),bn={enqueueSetState:function(o,c,g){o=o._reactInternals;var b=sa(),E=Fe(b);E.payload=c,g!=null&&(E.callback=g),c=We(o,E,b),c!==null&&(Oa(c,o,b),it(c,o,b))},enqueueReplaceState:function(o,c,g){o=o._reactInternals;var b=sa(),E=Fe(b);E.tag=1,E.payload=c,g!=null&&(E.callback=g),c=We(o,E,b),c!==null&&(Oa(c,o,b),it(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var g=sa(),b=Fe(g);b.tag=2,c!=null&&(b.callback=c),c=We(o,b,g),c!==null&&(Oa(c,o,g),it(c,o,g))}},Bt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Zt=Error(i(461)),wt=!1,Xa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},za=!1,An=!1,_c=!1,ki=typeof WeakSet=="function"?WeakSet:Set,kt=null,wn=null,Wn=!1,Rr=null,ba=8192,Zo={getCacheForType:function(o){var c=pe(on),g=c.data.get(o);return g===void 0&&(g=o(),c.data.set(o,g)),g}},el=0,_a=1,Xo=2,Ko=3,Ql=4;if(typeof Symbol=="function"&&Symbol.for){var tl=Symbol.for;el=tl("selector.component"),_a=tl("selector.has_pseudo_class"),Xo=tl("selector.role"),Ko=tl("selector.test_id"),Ql=tl("selector.text")}var nl=typeof WeakMap=="function"?WeakMap:Map,dt=0,Wt=null,Rt=null,Lt=0,un=0,Ka=null,hs=!1,Li=!1,xc=!1,In=0,Gn=0,Jn=0,al=0,Fd=0,Hr=0,Or=0,rl=null,ka=null,il=!1,$d=0,Fo=1/0,wc=null,Ui=null,ta=0,sl=null,$o=null,Qo=0,Qd=0,Wd=null,Wl=null,ll=0,Jd=null;return Dt.attemptContinuousHydration=function(o){if(o.tag===13){var c=te(o,67108864);c!==null&&Oa(c,o,67108864),ns(o,67108864)}},Dt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=sa();c=we(c);var g=te(o,c);g!==null&&Oa(g,o,c),ns(o,c)}},Dt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=O(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var g=1<<31-cr(c);o.entanglements[1]|=g,c&=~g}Qe(o),(dt&6)===0&&(Fo=yn()+500,Et(0))}}break;case 13:c=te(o,2),c!==null&&Oa(c,o,2),wi(),ns(o,2)}},Dt.batchedUpdates=function(o,c){return o(c)},Dt.createComponentSelector=function(o){return{$$typeof:el,value:o}},Dt.createContainer=function(o,c,g,b,E,A,P,X,se,je){return Hl(o,c,!1,null,g,b,A,P,X,se,je,null)},Dt.createHasPseudoClassSelector=function(o){return{$$typeof:_a,value:o}},Dt.createHydrationContainer=function(o,c,g,b,E,A,P,X,se,je,Be,Xe,Ke){return o=Hl(g,b,!0,o,E,A,X,se,je,Be,Xe,Ke),o.context=ng(null),g=o.current,b=sa(),b=we(b),E=Fe(b),E.callback=c??null,We(g,E,b),c=b,o.current.lanes=c,V(o,c),Qe(o),o},Dt.createPortal=function(o,c,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:b==null?null:""+b,children:o,containerInfo:c,implementation:g}},Dt.createRoleSelector=function(o){return{$$typeof:Xo,value:o}},Dt.createTestNameSelector=function(o){return{$$typeof:Ko,value:o}},Dt.createTextSelector=function(o){return{$$typeof:Ql,value:o}},Dt.defaultOnCaughtError=function(o){console.error(o)},Dt.defaultOnRecoverableError=function(o){Bt(o)},Dt.defaultOnUncaughtError=function(o){Bt(o)},Dt.deferredUpdates=function(o){var c=ct.T,g=ti();try{return la(32),ct.T=null,o()}finally{la(g),ct.T=c}},Dt.discreteUpdates=function(o,c,g,b,E){var A=ct.T,P=ti();try{return la(2),ct.T=null,o(c,g,b,E)}finally{la(P),ct.T=A,dt===0&&(Fo=yn()+500)}},Dt.findAllNodes=Iu,Dt.findBoundingRects=function(o,c){if(!zo)throw Error(i(363));c=Iu(o,c),o=[];for(var g=0;g<c.length;g++)o.push(cg(c[g]));for(c=o.length-1;0<c;c--){g=o[c];for(var b=g.x,E=b+g.width,A=g.y,P=A+g.height,X=c-1;0<=X;X--)if(c!==X){var se=o[X],je=se.x,Be=je+se.width,Xe=se.y,Ke=Xe+se.height;if(b>=je&&A>=Xe&&E<=Be&&P<=Ke){o.splice(c,1);break}else if(b!==je||g.width!==se.width||Ke<A||Xe>P){if(!(A!==Xe||g.height!==se.height||Be<b||je>E)){je>b&&(se.width+=je-b,se.x=b),Be<E&&(se.width=E-je),o.splice(c,1);break}}else{Xe>A&&(se.height+=Xe-A,se.y=A),Ke<P&&(se.height=P-Xe),o.splice(c,1);break}}}return o},Dt.findHostInstance=Nh,Dt.findHostInstanceWithNoPortals=function(o){return o=f(o),o=o!==null?p(o):null,o===null?null:Do(o.stateNode)},Dt.findHostInstanceWithWarning=function(o){return Nh(o)},Dt.flushPassiveEffects=Ur,Dt.flushSyncFromReconciler=function(o){var c=dt;dt|=1;var g=ct.T,b=ti();try{if(la(2),ct.T=null,o)return o()}finally{la(b),ct.T=g,dt=c,(dt&6)===0&&Et(0)}},Dt.flushSyncWork=wi,Dt.focusWithin=function(o,c){if(!zo)throw Error(i(363));for(o=wd(o),c=Sd(o,c),c=Array.from(c),o=0;o<c.length;){var g=c[o++],b=g.tag;if(!ko(g)){if((b===5||b===26||b===27)&&fg(g.stateNode))return!0;for(g=g.child;g!==null;)c.push(g),g=g.sibling}}return!1},Dt.getFindAllNodesFailureDescription=function(o,c){if(!zo)throw Error(i(363));var g=0,b=[];o=[wd(o),0];for(var E=0;E<o.length;){var A=o[E++],P=A.tag,X=o[E++],se=c[X];if((P!==5&&P!==26&&P!==27||!ko(A))&&(Ao(A,se)&&(b.push(es(se)),X++,X>g&&(g=X)),X<c.length))for(A=A.child;A!==null;)o.push(A,X),A=A.sibling}if(g<c.length){for(o=[];g<c.length;g++)o.push(es(c[g]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Dt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Do(o.child.stateNode);default:return o.child.stateNode}},Dt.injectIntoDevTools=function(){var o={bundleType:0,version:ig,rendererPackageName:Mo,currentDispatcherRef:ct,reconcilerVersion:"19.1.0"};if(Ju!==null&&(o.rendererConfig=Ju),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{Is=c.inject(o),Ya=c}catch{}o=!!c.checkDCE}}return o},Dt.isAlreadyRendering=function(){return(dt&6)!==0},Dt.observeVisibleRects=function(o,c,g,b){if(!zo)throw Error(i(363));o=Iu(o,c);var E=f1(o,g,b).disconnect;return{disconnect:function(){E()}}},Dt.shouldError=function(){return null},Dt.shouldSuspend=function(){return!1},Dt.startHostTransition=function(o,c,g,b){if(o.tag!==5)throw Error(i(476));var E=Ga(o).queue;ch(o,E,c,ur,g===null?a:function(){var A=Ga(o).next.queue;return Fi(o,A,{},sa()),g(b)})},Dt.updateContainer=function(o,c,g,b){var E=c.current,A=sa();return ag(E,A,o,c,g,b),A},Dt.updateContainerSync=function(o,c,g,b){return ag(c.current,2,o,c,g,b),2},Dt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(by)),by.exports}var U4;function jz(){return U4||(U4=1,yy.exports=Nz()),yy.exports}var Mz=jz();const Dz=pm(Mz);var _y={exports:{}},to={};var P4;function zz(){return P4||(P4=1,to.ConcurrentRoot=1,to.ContinuousEventPriority=8,to.DefaultEventPriority=32,to.DiscreteEventPriority=2,to.IdleEventPriority=268435456,to.LegacyRoot=0,to.NoEventPriority=0),to}var B4;function kz(){return B4||(B4=1,_y.exports=zz()),_y.exports}var Vv=kz();const H4={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let G4=!1,q4=!1;const pv=".react-konva-event",Lz=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Uz=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Pz={};function Yv(t,e,n=Pz){if(!G4&&"zIndex"in e&&(console.warn(Uz),G4=!0),!q4&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn(Lz),q4=!0)}for(var l in n)if(!H4[l]){var u=l.slice(0,2)==="on",f=n[l]!==e[l];if(u&&f){var h=l.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),t.off(h,n[l])}var p=!e.hasOwnProperty(l);p&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},x=!1;const C={};for(var l in e)if(!H4[l]){var u=l.slice(0,2)==="on",T=n[l]!==e[l];if(u&&T){var h=l.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),e[l]&&(C[h]=e[l])}!u&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(x=!0,_[l]=e[l])}x&&(t.setAttrs(_),Cu(t));for(var h in C)t.off(h+pv),t.on(h+pv,C[h])}function Cu(t){if(!Ye.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var xy=O2();const Pw={},Bz={};Yf.Node.prototype._applyProps=Yv;let Bw=Vv.DefaultEventPriority;function Hz(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Cu(t)}function Gz(t,e,n){let a=Yf[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Yf.Group);const i={},l={};for(var u in e)if(u!=="ref"){var f=u.slice(0,2)==="on";f?l[u]=e[u]:i[u]=e[u]}const h=new a(i);return Yv(h,l),h}function qz(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function Vz(t,e,n){return!1}function Yz(t){return t}function Iz(){return null}function Zz(){return null}function Xz(t,e,n,a){return Bz}function Kz(){}function Fz(t){}function $z(t,e){return!1}function Qz(){return Pw}function Wz(){return Pw}const Jz=setTimeout,ek=clearTimeout,tk=!0,nk=t=>{t()},ak=-1;function rk(t,e){return!1}const ik=!1,sk=!1,lk=!0,ok=!1,uk=!1;function ck(t,e){e.parent===t?e.moveToTop():t.add(e),Cu(t)}function dk(t,e){e.parent===t?e.moveToTop():t.add(e),Cu(t)}function Hw(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Cu(t)}function fk(t,e,n){Hw(t,e,n)}function hk(t,e){e.destroy(),e.off(pv),Cu(t)}function mk(t,e){e.destroy(),e.off(pv),Cu(t)}function gk(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function pk(t,e,n){}function vk(t,e,n,a){Yv(t,a,n)}function yk(t){t.hide(),Cu(t)}function bk(t){}function _k(t,e){(e.visible==null||e.visible)&&t.show()}function xk(t,e){}function wk(t){}function Sk(){}function Ek(){return Vv.DefaultEventPriority}function Ck(){}function Tk(){return null}function Ak(t){Bw=t}function Rk(){return Bw}function Ok(){return Vv.DiscreteEventPriority}function Nk(){return!1}function jk(){}function Mk(){return!1}function Dk(){return!0}function zk(){}function kk(){}function Lk(){return null}const Uk=null;function Pk(){}const Bk=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:Uk,appendChild:ck,appendChildToContainer:dk,appendInitialChild:Hz,cancelTimeout:ek,clearContainer:wk,commitMount:pk,commitTextUpdate:gk,commitUpdate:vk,createInstance:Gz,createTextInstance:qz,detachDeletedInstance:Sk,finalizeInitialChildren:Vz,getChildHostContext:Wz,getCurrentEventPriority:Ek,getCurrentUpdatePriority:Rk,getInstanceFromScope:Tk,getPublicInstance:Yz,getRootHostContext:Qz,hideInstance:yk,hideTextInstance:bk,idlePriority:xy.unstable_IdlePriority,insertBefore:Hw,insertInContainerBefore:fk,isPrimaryRenderer:ik,maySuspendCommit:Mk,noTimeout:ak,now:xy.unstable_now,preloadInstance:Dk,prepareForCommit:Iz,preparePortalMount:Zz,prepareScopeUpdate:Ck,prepareUpdate:Xz,removeChild:hk,removeChildFromContainer:mk,requestPostPaintCallback:jk,resetAfterCommit:Kz,resetFormInstance:Pk,resetTextContent:Fz,resolveUpdatePriority:Ok,run:xy.unstable_runWithPriority,scheduleMicrotask:nk,scheduleTimeout:Jz,setCurrentUpdatePriority:Ak,shouldAttemptEagerTransition:Nk,shouldDeprioritizeSubtree:$z,shouldSetTextContent:rk,startSuspendingCommit:zk,supportsHydration:uk,supportsMicrotasks:tk,supportsMutation:lk,supportsPersistence:ok,suspendInstance:kk,unhideInstance:_k,unhideTextInstance:xk,waitForCommitToBeReady:Lk,warnsIfNotActing:sk},Symbol.toStringTag,{value:"Module"}));function Gw(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=Gw(a,e,n);if(i)return i;a=a.sibling}}function qw(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const cb=qw(N.createContext(null));class Vw extends N.Component{render(){return N.createElement(cb.Provider,{value:this._reactInternals},this.props.children)}}function Hk(){const t=N.useContext(cb);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=Gw(n,!1,i=>{let l=i.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const Gk=Symbol.for("react.context"),qk=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Gk;function Vk(){const t=Hk(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;qk(a)&&a!==cb&&!e.has(a)&&e.set(a,N.use(qw(a))),n=n.return}return e}function Yw(){const t=Vk();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(Vw,{...e})),[t])}if(Oe.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function Yk(t){const e=Oe.useRef({});return Oe.useLayoutEffect(()=>{e.current=t}),Oe.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const Ik=()=>{const t=Oe.useRef(0);return Oe.useMemo(()=>{t.current++},[]),t.current>1},Zk=t=>{const e=Oe.useRef(null),n=Oe.useRef(null),a=Oe.useRef(null),i=Yk(t),l=Yw(),u=Oe.useRef(!1),f=p=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(p):v.current=p)},h=Ik();return Oe.useLayoutEffect(()=>u.current&&h?()=>{u.current=!1,f(null),Nf.updateContainer(null,a.current,null),n.current.destroy()}:(u.current=!0,n.current=new Yf.Stage({width:t.width,height:t.height,container:e.current}),f(n.current),a.current=Nf.createContainer(n.current,Vv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Nf.updateContainer(Oe.createElement(l,{},t.children),a.current,null,()=>{}),()=>{h||(f(null),Nf.updateContainer(null,a.current,null),n.current.destroy())}),[]),Oe.useLayoutEffect(()=>{f(n.current),Yv(n.current,t,i),Nf.updateContainer(Oe.createElement(l,{},t.children),a.current,null)}),Oe.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},j0="Layer",Kr="Group",dl="Rect",Iw="Circle",Xk="Line",bs="Text",Kk="Path",Fk="Arrow",$k="Transformer",Nf=Dz(Bk);Nf.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Oe.version,rendererPackageName:"react-konva"});const Qk=Oe.forwardRef((t,e)=>Oe.createElement(Vw,{},Oe.createElement(Zk,{...t,forwardedRef:e})));function wy(t,e,n,a,i){t.forEach(l=>{if(!e.current||!n.current)return;const u=i.current.get(l.from),f=i.current.get(l.to),h=a.current?.findOne(`#${l.id}`);if(!u||!f||!h)return;const p=f.x()-u.x(),v=f.y()-u.y(),_=Math.sqrt(p*p+v*v),x=p/_,C=v/_,T=Math.min(30,_/5-1),R=u.getAttr("mainWidth")*(u.attrs.scalingX??1),O=u.getAttr("mainHeight")*(u.attrs.scalingY??1),j=f.getAttr("mainWidth")*(f.attrs.scalingX??1),M=f.getAttr("mainHeight")*(f.attrs.scalingY??1);h.points([u.x()+R/2+x*(R/2+T),u.y()+O/2+C*(O/2+T),f.x()+j/2-x*(j/2+T),f.y()+M/2-C*(M/2+T)])})}const Wk=(t,e,n,a)=>{const i=e.x()-t.x(),l=e.y()-t.y(),u=Math.sqrt(i*i+l*l),f=i/u,h=l/u,p=Math.min(30,u/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),x=a.width()*(e.attrs.scalingX??1),C=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+f*(v/2+p),t.y()+_/2+h*(_/2+p),e.x()+x/2-f*(x/2+p),e.y()+C/2-h*(C/2+p)]},Jk=({connector:t,mainLayer:e})=>{const[n,a]=N.useState([]);return N.useEffect(()=>{const i=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),u=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),f=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!i||!l||!u||!f)return;const h=Wk(i,l,u,f);a(h)},[e,t]),w.jsx(Fk,{id:t.id,points:n,fill:"black",stroke:"black"})},eL=({connectors:t,mainLayer:e})=>w.jsx(w.Fragment,{children:t.map(n=>w.jsx(Jk,{connector:n,mainLayer:e},n.id))});function V4(t,e,n){if(e==="eraser")return;const a=t.target;a.cache(),a.moveTo(n.current)}function Y4(t,e,n,a){if(a==="eraser")return;const i=t.target.getStage();if(!i||!e.current)return;const l=i?.getPointerPosition();if(!l)return;const u=e.current.getIntersection(l);!n.current&&u?(n.current=u,u.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&u&&n.current!==u?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),u.fire("dragenter",{evt:t.evt},!0),n.current=u):n.current&&!u&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function jp(t,e,n,a,i,l,u,f){if(n==="eraser")return;t.target.clearCache();const h=t.target,v=h.getStage()?.getPointerPosition(),_=e.current?.getIntersection(v);_&&!_.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0);const x=l.find(R=>"group-"+R.id===h.id());h.moveTo(e.current),a.current=null;const C=t.target.id();i(R=>{const O=[...R],j=O.findIndex(M=>"group-"+M.id===C);if(j!==-1){if(O[j].shape!=="line")O[j]={...O[j],x:t.target.x(),y:t.target.y()};else if(O[j].shape==="line"){const M=t.target,z=M.x(),k=M.y();O[j]={...O[j],points:O[j].points.map((G,U)=>U%2===0?G+z:G+k)},M.x(0),M.y(0)}}return O});let T;x&&(x.shape==="line"?T={...x,points:x.points.map((R,O)=>O%2===0?R+t.target.x():R+t.target.y())}:T={...x,x:t.target.x(),y:t.target.y()}),x&&T&&u({action:"update",before:x,after:T,id:f||void 0})}const tL=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:h,onTransformEnd:p,getBorder:v,onAddTodo:_,global_shape:x,getChildCounts:C,nodeMap:T,isDraggable:R})=>{const O=C(t,x),j=O.completed+O.not_completed;O.completed===j?t.completed=!0:t.completed=!1;const M=()=>j===0?{completeColor:"purple",completeText:"No Task Yet"}:O.completed===0?{completeColor:"#ff2056",completeText:"Not Started"}:O.completed===j?{completeColor:"#00bc7d",completeText:"Completed"}:{completeColor:"#ff6900",completeText:"In Progress"},{completeColor:z,completeText:k}=M(),[G,U]=N.useState(!1),V=v(t.color),K=new Date(t.dueDate),ge=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).formatToParts(K),we=ge.find(ae=>ae.type==="weekday").value.slice(0,3),W=ge.find(ae=>ae.type==="day").value,he=ge.find(ae=>ae.type==="month").value.slice(0,3),de=ge.find(ae=>ae.type==="year").value,ue=`${we}, ${W} ${he} ${de}`,H=N.useRef(null);N.useEffect(()=>{H.current&&T&&T.current&&T.current.set("group-"+t.id,H.current)});const F=typeof window<"u"&&(window.matchMedia("(pointer: coarse)").matches||window.innerWidth<724)||G;return w.jsxs(Kr,{ref:H,id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",mainWidth:t.width,mainHeight:t.height,scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:R,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:p,onMouseEnter:()=>{l==="hand"&&U(!0)},onMouseLeave:()=>{l==="hand"&&U(!1)},onTap:()=>{f(t.id)},onDblTap:()=>{l==="hand"&&h(t)},onClick:()=>{f(t.id)},onDblClick:()=>{l==="hand"&&h(t)},children:[w.jsxs(Kr,{visible:!t.isCollapsed,children:[w.jsx(dl,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:V,strokeWidth:2.5,shadowForStrokeEnabled:!1}),w.jsx(bs,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.6,listening:!1}),w.jsx(bs,{text:ue,x:130,y:170,width:150,fontFamily:"Inter",fontSize:14,align:"right",fill:"black",opacity:.8,listening:!1}),w.jsxs(Kr,{children:[w.jsx(dl,{fill:z,width:100,height:30,x:10,y:160,cornerRadius:10}),w.jsx(bs,{text:k,width:100,height:30,fontFamily:"Inter",align:"center",fill:"white",fontStyle:"bold",x:10,y:158,padding:10})]}),F&&w.jsxs(Kr,{x:t.width+5,y:t.height/2,onClick:ae=>{ae.cancelBubble=!0,_(t,null)},onTap:ae=>{ae.cancelBubble=!0,_(t,null)},children:[w.jsx(Iw,{radius:16,fill:"white",stroke:t.color}),w.jsx(bs,{x:-8,y:-13.5,text:"+",fill:"black",fontSize:24,fontFamily:"Inter",align:"left"})]})]}),w.jsxs(Kr,{children:[w.jsx(dl,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),w.jsx(dl,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),w.jsx(bs,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),w.jsxs(Kr,{x:260,y:7,width:20,height:40,onDblClick:ae=>{ae.cancelBubble=!0},onDblTap:ae=>{ae.cancelBubble=!0},onClick:ae=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),ae.cancelBubble=!0,e(ee=>ee.map(_e=>_e.shape==="rect"&&_e.id===t.id?{..._e,isCollapsed:!_e.isCollapsed}:_e)))},onTap:ae=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),ae.cancelBubble=!0,e(ee=>ee.map(_e=>_e.shape==="rect"&&_e.id===t.id?{..._e,isCollapsed:!_e.isCollapsed}:_e)))},children:[w.jsx(dl,{width:30,height:30,listening:!0}),w.jsx(bs,{width:30,height:30,x:0,y:0,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"center"})]})]})]},"key-"+t.id)},nL=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:h,onTransformEnd:p,getBorder:v,onAddTodo:_,allShapes:x,getChildCounts:C,nodeMap:T,isDraggable:R})=>w.jsx(w.Fragment,{children:t.map(O=>w.jsx(tL,{rect:O,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:p,tool:l,collapseChild:u,handleEraserClick:f,onShapeClick:h,getBorder:v,onAddTodo:_,global_shape:x,getChildCounts:C,nodeMap:T,isDraggable:R},"key-"+O.id))});function aL(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,i=a?.getPointerPosition();if(!i||!a)return;const l=a.scaleX(),u={x:(i.x-a.x())/l,y:(i.y-a.y())/l},f=e.evt.deltaY>0?-1:1,h=1.05,p=f>0?Math.min(l*h,5):Math.max(l/h,.1);a.scale({x:p,y:p});const v={x:i.x-u.x*p,y:i.y-u.y*p};a.position(v),n(Math.round(p*100))}function rL(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('/rect-up/cursor.svg') 16 16, auto";case"draw":return"crosshair";default:return"default"}}const iL=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,onTransformEnd:u,handleEraserClick:f,onTodoClick:h,shapes:p,nodeMap:v,isDraggable:_})=>{const[x,C]=N.useState(!1),T="#FDF6B2",R=t.color,O=new Date(t.dueDate),j=O.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),M=new Date,z=O.getTime()-M.getTime(),k=Math.ceil(z/(1e3*60*60*24)),G=Math.floor(k/7),U=Math.floor(k/30),V=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:U>=1?{statusColor:"#2b7fff",statusText:`${U} Month${U>1?"s":""} left`,statusTextColor:"white"}:G>=1?{statusColor:"#2b7fff",statusText:`${G} Week${G>1?"s":""} left`,statusTextColor:"white"}:k>=2?{statusColor:"#2b7fff",statusText:`${k} Day${k>1?"s":""} left`,statusTextColor:"white"}:k===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:k===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:K,statusText:ne,statusTextColor:ge}=V(),W=typeof window<"u"&&(window.matchMedia("(pointer: coarse)").matches||window.innerWidth<724)||x,he=ue=>{e(H=>H.map(J=>J.id===ue&&J.shape==="todo"?{...J,completed:!J.completed}:J))},de=N.useRef(null);return N.useEffect(()=>{de.current&&v&&v.current&&v.current.set("group-"+t.id,de.current)}),w.jsx(Kr,{id:"group-"+t.id,ref:de,shapeId:t.id,x:t.x,y:t.y,mainWidth:t.width,mainHeight:t.height,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&C(!0)},onMouseLeave:()=>{l==="hand"&&C(!1)},draggable:_,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:u,onClick:()=>{f(t.id)},onTap:()=>{f(t.id)},onDblClick:()=>{if(l==="hand"){if(!p)return;let ue=null;if(t.parents){const H=t.parents?.startsWith("group-")?t.parents.replace("group-",""):t.parents,J=p.find(F=>F.id===H);J&&J?.shape==="rect"&&(ue=J)}h(ue,t)}},onDblTap:()=>{if(l==="hand"){if(!p)return;let ue=null;if(t.parents){const H=t.parents?.startsWith("group-")?t.parents.replace("group-",""):t.parents,J=p.find(F=>F.id===H);J&&J?.shape==="rect"&&(ue=J)}h(ue,t)}},children:w.jsxs(Kr,{visible:!t.isCollapsed,children:[w.jsx(dl,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:R,strokeWidth:1,shadowForStrokeEnabled:!1}),w.jsxs(Kr,{children:[w.jsx(dl,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),w.jsxs(Kr,{children:[w.jsx(bs,{x:60,y:8,text:t.title,ellipsis:!0,width:t.width-70,height:30,fontSize:20,fontStyle:"bold"}),w.jsx(bs,{x:60,y:32,text:j}),w.jsxs(Kr,{children:[w.jsx(bs,{x:60,y:54,text:"Assigned: "+t.assignee}),w.jsxs(Kr,{x:280,y:50,children:[w.jsx(dl,{width:110,height:18,fill:K,cornerRadius:[4,4,4,4]}),w.jsx(bs,{x:0,y:3,width:110,height:18,text:ne,fill:ge,align:"center",fontStyle:"bold",fontSize:12})]})]}),W&&w.jsxs(Kr,{x:26,y:36,children:[w.jsx(Iw,{radius:16,fill:T,stroke:R,strokeWidth:1.5,onClick:()=>he(t.id),onTap:()=>he(t.id)}),t.completed&&w.jsx(Kk,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},sL=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:h,onTodoClick:p,shapes:v,nodeMap:_,isDraggable:x})=>w.jsx(w.Fragment,{children:t.map(C=>w.jsx(iL,{todo:C,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:f,getBorder:h,onTodoClick:p,shapes:v,nodeMap:_,isDraggable:x},"key-"+C.id))});function lL(t,e,n){let a=e.x,i=e.y,l=n.x-a,u=n.y-i;if(l!==0||u!==0){const f=((t.x-a)*l+(t.y-i)*u)/(l*l+u*u);f>1?(a=n.x,i=n.y):f>0&&(a+=l*f,i+=u*f)}return l=t.x-a,u=t.y-i,l*l+u*u}function b2(t,e,n,a,i){let l=a,u=-1;for(let f=e+1;f<n;f++){const h=lL(t[f],t[e],t[n]);h>l&&(u=f,l=h)}u!==-1&&(u-e>1&&b2(t,e,u,a,i),i.push(t[u]),n-u>1&&b2(t,u,n,a,i))}function oL(t,e=1.5){if(t.length<4)return t;const n=[];for(let u=0;u<t.length;u+=2)n.push({x:t[u],y:t[u+1]});const a=e*e,i=[n[0]];b2(n,0,n.length-1,a,i),i.push(n[n.length-1]);const l=[];for(const u of i)l.push(u.x,u.y);return l}const um={current:null};function Rm(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function uL(t,e,n){if(e!=="draw"||!t)return;const a=Rm(t);if(!a)return;const i=t.findOne("Layer"),l=new If.Line({points:[a.x,a.y],stroke:n,strokeWidth:4,lineCap:"round",lineJoin:"round",listening:!1});i.add(l),um.current=l}function cL(t,e){if(e!=="draw"||!um.current||!t)return;const n=Rm(t);if(!n)return;const a=um.current,i=a.points();a.points([...i,n.x,n.y]),a.getLayer()?.batchDraw()}function dL(t,e){const n=um.current;if(!n)return;const a=n.points(),i=oL(a,1.5),l={shape:"line",behavior:"decor",id:"line-"+Date.now(),color:"black",points:i,stroke:t,strokeWidth:4,scaleX:1,scaleY:1};e(u=>[...u,l]),n.destroy(),um.current=null}const fL=({lines:t,onDragEnd:e,onTransformEnd:n,isDraggable:a})=>w.jsx(w.Fragment,{children:t.map(i=>w.jsx(Xk,{id:"group-"+i.id,scaleX:i.scaleX,scaleY:i.scaleY,points:i.points,stroke:i.stroke,strokeWidth:i.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:a,onDragEnd:e,onTransformEnd:n},i.id))}),I4=20;function hL(t){t(!0)}function Z4(t,e,n){for(let a=0;a<t.length-2;a+=2){const i=t[a],l=t[a+1],u=t[a+2],f=t[a+3];if(mL(e.x,e.y,i,l,u,f)<n)return!0}return!1}function mL(t,e,n,a,i,l){const u=i-n,f=l-a,h=u*u+f*f;if(h===0)return Math.hypot(t-n,e-a);let p=((t-n)*u+(e-a)*f)/h;p=Math.max(0,Math.min(1,p));const v=n+p*u,_=a+p*f;return Math.hypot(t-v,e-_)}function gL(t,e,n,a,i,l){if(e!=="eraser"||!a)return;const u=Rm(t.current);if(!u)return;const f=i.filter(h=>h.shape==="line"&&Z4(h.points,u,I4));f.length!==0&&(l({action:"delete",before:f[0],after:f[0]}),n(h=>h.filter(p=>p.shape==="line"?!Z4(p.points,u,I4):!0)))}function pL(t){t(!1)}function vL(t,e,n,a,i,l,u,f){return t<i&&n<i||t>u&&n>u||e<l&&a<l||e>f&&a>f?!1:!!(t>=i&&t<=u&&e>=l&&e<=f||n>=i&&n<=u&&a>=l&&a<=f||Mp(t,e,n,a,i,l,u,l)||Mp(t,e,n,a,u,l,u,f)||Mp(t,e,n,a,u,f,i,f)||Mp(t,e,n,a,i,f,i,l))}function Mp(t,e,n,a,i,l,u,f){function h(p,v,_,x,C,T){return(T-v)*(_-p)>(x-v)*(C-p)}return h(t,e,i,l,u,f)!==h(n,a,i,l,u,f)&&h(t,e,n,a,i,l)!==h(t,e,n,a,u,f)}function yL(t,e){const n=e.x,a=e.y,i=e.x+e.width,l=e.y+e.height;for(let u=0;u<t.length-2;u+=2){const f=t[u],h=t[u+1],p=t[u+2],v=t[u+3];if(vL(f,h,p,v,n,a,i,l))return!0}return!1}const bL=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const i=Rm(e.current);i&&a({visible:!0,x1:i.x,y1:i.y,x2:i.x,y2:i.y})},_L=(t,e,n,a)=>{if(!e.current)return;const i=Rm(t.current);i&&a({...n,x2:i.x,y2:i.y})},xL=(t,e,n,a,i,l,u)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const f={x:Math.min(e.x1,e.x2)+u.x,y:Math.min(e.y1,e.y2)+u.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},h=l.current?.getStage(),p=i.filter(v=>{if(v.shape==="line"){const T=v.points.map((R,O)=>O%2===0?R+u.x:R+u.y);return yL(T,f)}if(v.shape==="text"){const C=h?.findOne(`#group-${v.id}`);if(!C)return;const T=C.getClientRect({relativeTo:h});return T.x+=u.x,T.y+=u.y,T?If.Util.haveIntersection(f,T):void 0}if(!l.current)return;const _=l.current.findOne(`#group-${v.id}`);if(!_)return;const x=_.getClientRect({relativeTo:h});if(x.x+=u.x,x.y+=u.y,!!x)return If.Util.haveIntersection(f,x)});a(p.map(v=>v.id))},wL=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const i=t.target.findAncestor(".shape",!0);if(!i||!i.hasName("shape"))return;const l=i.attrs.shapeId;if(!l)return;const u=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,f=n.includes(l);!u&&!f?a([l]):u&&f?a(n.filter(h=>h!==l)):u&&!f&&a([...n,l])},Dp=(t,e,n,a,i)=>{const l=t.target.id(),u=t.target,f=n.find(p=>"group-"+p.id===l);e(p=>{const v=[...p],_=v.findIndex(x=>"group-"+x.id===l);if(_!==-1&&v[_].behavior==="node")v[_]={...v[_],x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};else if(_!==-1&&v[_].shape==="text"){const x=u;v[_]={...v[_],x:u.x(),y:u.y(),width:u.width(),fontSize:x.fontSize(),scaleX:1,scaleY:1},u.scaleX(1),u.scaleY(1)}else if(_!==-1&&v[_].shape==="line"){const x=u,C=x.scaleX(),T=x.scaleY(),R=x.x(),O=x.y(),j=x.points().map((M,z)=>z%2===0?M*C+R:M*T+O);v[_]={...v[_],points:j},x.scaleX(1),x.scaleY(1),x.x(0),x.y(0)}return v});const h=n.find(p=>"group-"+p.id===l);if(h){let p;if(h.shape==="text"){const v=u;p={...h,x:v.x(),y:v.y(),scaleX:v.scaleX(),scaleY:v.scaleY(),width:v.width(),fontSize:v.fontSize()}}else h.shape==="line"?p={...h,scaleX:u.scaleX(),scaleY:u.scaleY()}:p={...h,x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};f&&p&&a({action:"update",before:f,after:p,id:i||void 0})}},SL=({initialText:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setIsEditingText:i,isEditingText:l,tool:u,setEditingRef:f,editingRef:h,isDraggable:p})=>{const v=N.useRef(null),_=N.useCallback(()=>{u==="hand"&&(i(!0),f(v.current))},[i,u,f]),x=N.useCallback(()=>{const C=v.current;if(!C)return;const T=C.getStage()?.findOne("#transformer");if(!T)return;const R=T?.getActiveAnchor();if(R==="middle-right"||R==="middle-left"){const O=C.width()*C.scaleX();C.setAttrs({width:O,scaleX:1});return}if(R){const O=C.fontSize()*C.scaleY(),j=C.width()*C.scaleX();C.setAttrs({width:j,fontSize:O,scaleX:1,scaleY:1});return}},[]);return w.jsx(w.Fragment,{children:w.jsx(bs,{ref:v,id:"group-"+t.id,shapeId:t.id,name:"shape",x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,fontSize:t.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"left",lineHeight:1,text:t.text,draggable:p,onClick:()=>e(t.id),onDragEnd:n,onTransform:x,onTransformEnd:a,onDblClick:_,onDblTap:_,visible:!(l&&h&&h?.id()==="group-"+t.id)},"key-"+t.id)})};var EL=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const CL=t=>{const e=window.getComputedStyle(t).position;return!(e==="absolute"||e==="relative")};function TL(t=()=>{}){const e=Oe.useRef(t);return e.current=t,Oe.useCallback((...n)=>e.current.apply(null,n),[])}const AL=({children:t,groupProps:e,divProps:n,transform:a,transformFunc:i,parentNodeFunc:l})=>{const u=Yw(),f=Oe.useRef(null),[h]=Oe.useState(()=>document.createElement("div")),p=Oe.useMemo(()=>SE.createRoot(h),[h]),v=a??!0,_=TL(()=>{if(v&&f.current){let O=f.current.getAbsoluteTransform().decompose();i&&(O=i(O)),h.style.position="absolute",h.style.zIndex="10",h.style.top="0px",h.style.left="0px",h.style.transform=`translate(${O.x}px, ${O.y}px) rotate(${O.rotation}deg) scaleX(${O.scaleX}) scaleY(${O.scaleY})`,h.style.transformOrigin="top left"}else h.style.position="",h.style.zIndex="",h.style.top="",h.style.left="",h.style.transform="",h.style.transformOrigin="";const x=n||{},{style:C}=x,T=EL(x,["style"]);Object.assign(h.style,C),Object.assign(h,T)});return Oe.useLayoutEffect(()=>{var x;const C=f.current;if(!C)return;const T=l?l({stage:C.getStage()}):(x=C.getStage())===null||x===void 0?void 0:x.container();if(T)return T.appendChild(h),v&&CL(T)&&(T.style.position="relative"),C.on("absoluteTransformChange",_),_(),()=>{var R;C.off("absoluteTransformChange",_),(R=h.parentNode)===null||R===void 0||R.removeChild(h)}},[v,l]),Oe.useLayoutEffect(()=>{_()},[n,i]),Oe.useLayoutEffect(()=>{queueMicrotask(()=>{wm.flushSync(()=>{p.render(Oe.createElement(u,null,t))})})}),Oe.useLayoutEffect(()=>()=>{setTimeout(()=>{p.unmount()})},[]),Oe.createElement(Kr,Object.assign({ref:f},e))};var Sy,X4;function RL(){if(X4)return Sy;X4=1;var t=vm();return Sy=function(n,a,i){const l=t.useRef("loading"),u=t.useRef(),[f,h]=t.useState(0),p=t.useRef(),v=t.useRef(),_=t.useRef();return(p.current!==n||v.current!==a||_.current!==i)&&(l.current="loading",u.current=void 0,p.current=n,v.current=a,_.current=i),t.useLayoutEffect(function(){if(!n)return;var x=document.createElement("img");function C(){x.decode().catch(()=>{}).finally(()=>{l.current="loaded",u.current=x,h(Math.random())})}function T(){l.current="failed",u.current=void 0,h(Math.random())}return x.addEventListener("load",C),x.addEventListener("error",T),a&&(x.crossOrigin=a),i&&(x.referrerPolicy=i),x.src=n,function(){x.removeEventListener("load",C),x.removeEventListener("error",T)}},[n,a,i]),[u.current,l.current]},Sy}RL();const OL=({textNode:t,onClose:e,onChange:n})=>{const a=N.useRef(null);return N.useEffect(()=>{if(!a.current)return;const i=a.current,l=t.position(),u={x:l.x,y:l.y};i.style.position="absolute",i.value=t.text(),i.style.top=`${u.y}px`,i.style.left=`${u.x}px`,i.style.width=`${t.width()-t.padding()*2}px`,i.style.height=`${t.height()}px`,i.style.fontSize=`${t.fontSize()}px`,i.style.border="3px solid #ccc",i.style.borderRadius="4px",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="none",i.style.outline="none",i.style.resize="none",i.style.lineHeight=String(t.lineHeight()),i.style.fontFamily=t.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=t.align(),i.style.boxSizing="border-box";const f=t.rotation();let h="";f&&(h+=`rotateZ(${f}deg)`),i.style.transform=h,i.focus();const p=x=>{x.target!==i&&(n(i.value),e())},v=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),n(i.value),e()),x.key==="Escape"&&e()},_=()=>{i.style.width=`${t.width()-t.padding()*2}px`,i.style.height="auto",i.style.height=`${i.scrollHeight+t.fontSize()}px`};return i.addEventListener("keydown",v),i.addEventListener("input",_),setTimeout(()=>{window.addEventListener("click",p)}),()=>{i.removeEventListener("keydown",v),i.removeEventListener("input",_),window.removeEventListener("click",p)}},[t,n,e]),w.jsx("textarea",{ref:a,style:{minHeight:"1em",position:"absolute"}})},NL=t=>w.jsx(AL,{children:w.jsx(OL,{...t})}),Zw=N.createContext(null);function db(){const t=N.useContext(Zw);if(!t)throw new Error("useUndo must be used inside a <UndoRedoProvider>");return t}const jL=({texts:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,isDraggable:h})=>{const[p,v]=N.useState(null),{pushUndo:_}=db(),x=N.useCallback(C=>{if(p){if(C===""){i(T=>{const R=T.find(O=>"group-"+O.id===p.id());return R&&_({action:"delete",before:R,after:R}),T.filter(O=>"group-"+O.id!==p.id())});return}i(T=>T.map(R=>"group-"+R.id===p.id()?(R.shape==="text"&&_({action:"update",before:R,after:{...R,text:C}}),{...R,text:C}):R))}},[i,p,_]);return w.jsxs(w.Fragment,{children:[t.map(C=>w.jsx(SL,{initialText:C,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:f,editingRef:p,setEditingRef:v,isDraggable:h},C.id)),u&&p&&w.jsx(NL,{textNode:p,onChange:x,onClose:()=>{l(!1)}})]})},Xw=(t,e)=>{if(!t.children)return{completed:0,not_completed:0};let n=0,a=0;return t.children.forEach(i=>{const l=e.find(u=>"group-"+u.id===i);if(l&&l.behavior==="node"&&(l.shape==="todo"&&(l.completed?n++:a++),l.shape==="rect")){const u=Xw(l,e);n+=u.completed,a+=u.not_completed}}),{completed:n,not_completed:a}},ML="1234567890",DL=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:i,zoom:l,connectors:u=[],setConnectors:f,addConnector:h,strokeColor:p,onShapeClick:v,onAddTodo:_,stageCoor:x,setStageCoor:C,isFormOpen:T,onTextClick:R})=>{If.pixelRatio=window.devicePixelRatio||1;const O=N.useRef(null),j=N.useRef(null),M=N.useRef(null),z=N.useRef(null),k=N.useRef(null),[G,U]=N.useState(!1),[V,K]=N.useState([]),[ne,ge]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),we=N.useRef(!1),W=N.useRef(null),he=N.useRef(null),{pushUndo:de,undo:ue,redo:H}=db(),J=N.useRef(null),[F,ae]=N.useState(!1),B=N.useRef(new Map),[ee,_e]=N.useState(!0);N.useEffect(()=>{O.current&&t.forEach(Ce=>{if(Ce.behavior!=="node")return;const Ne=O.current?.findOne(`#group-${Ce.id}`),ot=O.current?.findOne(`#${Ce.id}`);if(!Ne||!ot)return;const vt=t.find(yt=>yt.id===ot.id());vt&&(Ne.off("drop"),Ne.off("dragenter"),Ne.off("dragleave"),Ne.on("dragenter",yt=>{const At=yt.source;if(!At||Ne===At||ot.fill()==="green"||vt.shape==="todo"||Ce.shape!=="todo"&&Ce.children.includes(At.id())||Ce.parents.includes(At.id()))return;const Ft=t.find(_n=>"group-"+_n.id===At.id());Ft?.behavior!=="node"||Ft?.parents!==""||ot.fill("#b9f8cf")}),Ne.on("dragmove",yt=>{const At=yt.source;!At||Ne===At||ot.fill()==="#b9f8cf"||ot.fill("#b9f8cf")}),Ne.on("dragleave",yt=>{const At=yt.source;Ne!==At&&ot.fill("white")}),Ne.on("drop",yt=>{const At=yt.source;if(Ce.behavior!=="node"||Ce.shape!=="todo"&&Ce.children.includes(At.id())||!At||Ce.parents.includes(At.id()))return;const Ft=t.find(_n=>"group-"+_n.id===At.id());Ft?.behavior!=="node"||Ft?.parents!==""||vt.shape==="todo"||(ot.fill("white"),e(_n=>_n.map(dn=>dn.behavior==="node"&&"group-"+dn.id===yt.source.id()?{...dn,parents:Ne.id()}:dn.behavior==="node"&&dn.shape!="todo"&&"group-"+dn.id===Ne.id()?{...dn,children:[...dn.children,yt.source.id()]}:dn)),h(yt.source,Ne))}))})},[h,e,t]),N.useEffect(()=>{function Ce(Ne){if(!(T||F)){if(Ne.ctrlKey&&!Ne.shiftKey&&Ne.key==="z"){ue(e,f);return}if((Ne.ctrlKey||Ne.metaKey)&&Ne.key==="y"||Ne.shiftKey&&Ne.key==="z"){H(e,f);return}switch(Ne.key){case"1":a("hand");break;case"z":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"x":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"c":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"v":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break;case"q":v(null);break;case"w":_(null,null);break;case"e":R();break}}}return window.addEventListener("keydown",Ce),()=>{window.removeEventListener("keydown",Ce)}},[F,T,_,v,H,f,e,a,n,ue,R]),N.useEffect(()=>{if(V.length&&W.current){const Ce=V.map(Ne=>k.current?.findOne(`#group-${Ne}`)).filter(Boolean);W.current.nodes(Ce),J.current=crypto.randomUUID(),requestAnimationFrame(()=>{const Ne=he.current;if(!Ne||!k.current||!W.current)return;const ot=W.current.width()/k.current.scaleX(),vt=W.current.height()/k.current.scaleY(),yt=(W.current.x()-x.x)/k.current.scaleX(),At=(W.current.y()-x.y)/k.current.scaleY();Ne.show(),Ne.x(yt),Ne.y(At),Ne.width(ot),Ne.height(vt),Ne.scaleX(1),Ne.scaleY(1);const Ft=W.current.nodes();W.current.nodes([...Ft,Ne])})}else if(W.current){W.current.nodes([]);const Ce=he.current;J.current=null,Ce?.hide()}if(n!=="select"){W.current?.nodes([]);const Ce=he.current;J.current=null,Ce?.hide()}},[V,n,x,t]),N.useEffect(()=>{n!=="select"&&K([])},[n]),N.useEffect(()=>{wy(u,O,M,z,B)},[t,u,B]),N.useEffect(()=>{const Ce=()=>{const Ne=k.current;Ne&&(Ne.width(window.innerWidth),Ne.height(window.innerHeight),Ne.draw())};return window.addEventListener("resize",Ce),()=>window.removeEventListener("resize",Ce)},[]),N.useEffect(()=>{_e(!(n!=="hand"&&n!=="select"))},[n]);const Se=Ce=>{if(Ce.behavior!=="node")return;const Ne=t.find(vt=>"group-"+vt.id===Ce.parents),ot=O.current?.findOne(`#${Ce.parents}`);return!ot||!Ne?!1:ot.getChildren()[0].visible()},Ve=(Ce,Ne)=>{Ce.behavior!=="node"||Ce.shape==="todo"||Ce.children.length!==0&&Ce.children.forEach(ot=>{const vt=t.find(_n=>"group-"+_n.id===ot);if(!vt)return;const yt=O.current?.findOne(`#${ot}`);if(!yt)return;yt.visible(Ne);const At=u.find(_n=>{if(_n.from===ot)return _n});if(!At)return;const Ft=z.current?.findOne(`#${At.id}`);Ft&&(Ft.visible(Ne),Se(vt)&&Ve(vt,Ne))})},lt=Ce=>{const Ne=t.find(ot=>ot.id===Ce);Ne?.behavior!=="node"||Ne?.shape==="todo"||Ne?.children.forEach(ot=>{const vt=t.find(yt=>"group-"+yt.id===ot);!vt||vt.behavior!=="node"||(vt.parents="")})},Ze=Ce=>{e(Ne=>Ne.map(ot=>ot.shape==="rect"&&ot.children.includes(Ce)?{...ot,children:ot.children.filter(vt=>vt!=="group-"+Ce)}:ot))},st=Ce=>{if(n==="eraser"){const Ne=crypto.randomUUID();u.forEach(vt=>{if(vt.to==="group-"+Ce||vt.from==="group-"+Ce){const yt={...vt};de({id:Ne,before:yt,after:yt,action:"delete"}),f(At=>At.filter(Ft=>Ft.id!==vt.id))}});const ot=t.find(vt=>vt.id===Ce);ot&&de({id:Ne,before:{...ot},after:{...ot},action:"delete"}),lt(Ce),Ze(Ce),e(vt=>vt.filter(yt=>yt.id!==Ce))}},_t=Ce=>{let Ne;return Ce==="#ff2056"?Ne="#f6339a":Ce==="#2b7fff"?Ne="#00a6f4":Ce==="#00bc7d"?Ne="#00c951":Ce==="#ad46ff"?Ne="#8e51ff":Ce==="#ff6900"&&(Ne="#fd9a00"),Ne};return w.jsx("div",{className:"canvas-wrapper",style:{padding:0,margin:0},children:w.jsxs(Qk,{width:window.innerWidth,height:window.innerHeight,x:x.x,y:x.y,ref:k,draggable:n==="hand",onWheel:Ce=>{aL(k,Ce,i),k.current&&C({x:k.current.x(),y:k.current.y()})},onPointerDown:Ce=>{n==="draw"&&uL(k.current,n,p),n==="eraser"&&hL(U),n==="select"&&bL(Ce,k,we,ge)},onPointerMove:()=>{n==="draw"&&cL(k.current,n),n==="eraser"&&gL(k,n,e,G,t,de),n==="select"&&_L(k,we,ne,ge)},onPointerUp:()=>{n==="draw"&&(dL(p,e),de({action:"add",before:t[t.length-1],after:t[t.length-1]})),n==="eraser"&&pL(U),n==="select"&&xL(we,ne,ge,K,t,O,x)},onClick:Ce=>{n==="select"&&wL(Ce,ne,V,K)},scaleX:l/100,scaleY:l/100,style:{cursor:rL(n)},onDragEnd:()=>{k.current&&C({x:k.current.x(),y:k.current.y()})},children:[w.jsxs(j0,{children:[w.jsx(fL,{lines:t.filter(Ce=>Ce.shape==="line"),onDragEnd:Ce=>{jp(Ce,O,n,j,e,t,de,J.current)},onTransformEnd:Ce=>{Dp(Ce,e,t,de,J.current)},isDraggable:ee}),w.jsx(jL,{texts:t.filter(Ce=>Ce.shape==="text"),onEraserClick:st,onDragEnd:Ce=>{jp(Ce,O,n,j,e,t,de,J.current)},onTransformEnd:Ce=>{Dp(Ce,e,t,de,J.current)},setShapes:e,isEditingText:F,setIsEditingText:ae,tool:n,isDraggable:ee})]}),w.jsx(j0,{ref:z,children:w.jsx(eL,{connectors:u,mainLayer:O})}),w.jsxs(j0,{ref:O,children:[w.jsx(dl,{id:ML,ref:he,fill:"transparent",draggable:!0,temporary:!0}),w.jsx(nL,{shapes:t.filter(Ce=>Ce.shape==="rect"),allShapes:t,setShapes:e,onDragStart:Ce=>V4(Ce,n,M),onDragMove:Ce=>{V.length<=1&&Y4(Ce,O,j,n),wy(u,O,M,z,B)},onDragEnd:Ce=>{jp(Ce,O,n,j,e,t,de,J.current)},onTransformEnd:Ce=>{Dp(Ce,e,t,de,J.current)},tool:n,collapseChild:Ve,handleEraserClick:st,onShapeClick:v,getBorder:_t,onAddTodo:_,getChildCounts:Xw,nodeMap:B,isDraggable:ee}),w.jsx(sL,{todos:t.filter(Ce=>Ce.shape==="todo"),setShapes:e,tool:n,onDragStart:Ce=>V4(Ce,n,M),onDragMove:Ce=>{V.length<=1&&Y4(Ce,O,j,n),wy(u,O,M,z,B)},onDragEnd:Ce=>{jp(Ce,O,n,j,e,t,de,J.current)},onTransformEnd:Ce=>{Dp(Ce,e,t,de,J.current)},handleEraserClick:st,getBorder:_t,onTodoClick:_,shapes:t,nodeMap:B,isDraggable:ee})]}),w.jsx(j0,{ref:M}),w.jsxs(j0,{children:[w.jsx($k,{ref:W,id:"transformer",enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],rotateEnabled:!1,boundBoxFunc:(Ce,Ne)=>Ne.width<5||Ne.height<5?Ce:Ne}),ne.visible&&w.jsx(dl,{x:Math.min(ne.x1,ne.x2),y:Math.min(ne.y1,ne.y2),width:Math.abs(ne.x2-ne.x1),height:Math.abs(ne.y2-ne.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function zL({title:t,onClick:e}){return w.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[w.jsx("span",{children:w.jsx(dA,{})}),w.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function kL({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",i=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return w.jsx("button",{type:"button",className:`${a} ${i}`,onClick:e,children:t})}const LL=Ff({title:Fr(),description:Fr(),color:Fr(),date:Fr().min(1,"Date cannot be empty!"),time:Fr()});function UL({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:u,handleSubmit:f,setError:h,formState:{errors:p,isSubmitting:v}}=Gf({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:qf(LL)}),[_,x]=N.useState(a?.color??"#ff2056"),C=async T=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,T):t(T),n()}catch(R){h("root",{message:"This Task already exists!: "+R})}};return N.useEffect(()=>{const T=R=>{R.key==="Escape"&&n()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[n]),w.jsxs("div",{children:[w.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-50"}),w.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90dvw] sm:w-[80dvw] md:w-[80dvw]
    max-h-[70dvh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-col justify-between items-start
    rounded-lg shadow-2xl z-50 overflow-auto
  `,children:[w.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),w.jsxs("form",{onSubmit:f(C),className:"w-full h-full",children:[w.jsxs("div",{className:"my-2 flex flex-row items-end justify-between h-15 w-full",children:[w.jsx("input",{...u("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-xl sm:text-3xl h-full w-full p-2 font-bold rounded-lg"}),p.title&&w.jsx("div",{className:"text-red-500",children:p.title?.message}),w.jsx("button",{onClick:n,className:"hidden md:block hover:cursor-pointer p-2 h-full",children:"X"})]}),w.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[w.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),w.jsxs("select",{...u("color"),value:_,onChange:T=>x(T.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[w.jsx("option",{value:"#ff2056",children:"Red"}),w.jsx("option",{value:"#2b7fff",children:"Blue"}),w.jsx("option",{value:"#00bc7d",children:"Green"}),w.jsx("option",{value:"#ad46ff",children:"Purple"}),w.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[w.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),w.jsx("input",{...u("date"),type:"date",className:"relative w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),p.date&&w.jsx("div",{className:"text-red-500 ml-28 w-full",children:p.date?.message}),w.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),w.jsxs("div",{className:"mb-3  flex flex-col gap-2 w-full items-start",children:[w.jsxs("div",{className:"inline-flex gap-2",children:[w.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:w.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),w.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),w.jsx("textarea",{...u("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs w-full items-start h-[50dvh] md:h-[50dvh] resize-none"}),p.description&&w.jsx("div",{className:"text-red-500",children:p.description?.message})]}),w.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[w.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),w.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),p.root&&w.jsx("div",{className:"text-red-500",children:p.root?.message})]})]})]})}const Kw=N.createContext(null);function PL({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{const{data:{subscription:a}}=an.auth.onAuthStateChange((i,l)=>{n(l)});return()=>a.unsubscribe()},[]),w.jsx(Kw.Provider,{value:{session:e,setSession:n},children:t})}function Fw(){const t=N.useContext(Kw);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}const BL=Ff({title:Fr(),date:Fr().min(1,"Date cannot be empty"),completed:JN(),color:Fr()});function HL({onAddTodo:t,onUpdateTodo:e,parent:n,onCloseForm:a,initialTodo:i}){const{session:l}=Fw(),u=i&&i.behavior==="node"&&i.shape==="todo";let f;u?f=new Date(i.dueDate).toISOString().split("T")[0]:f=new Date().toISOString().split("T")[0];const{register:h,handleSubmit:p,setError:v,formState:{isSubmitting:_}}=Gf({defaultValues:u?{title:i.title,date:f,completed:i.completed,color:i.color}:{title:"My Newest Todo",date:f,completed:!1,color:n?.color},resolver:qf(BL)}),[x,C]=N.useState(u?i.color:n?.color??"#ff2056"),T=async R=>{try{await new Promise(O=>setTimeout(O,500)),u?e(i,R):t(R,n),a()}catch(O){v("root",{message:"This Todo already exists!: "+O})}};return N.useEffect(()=>{const R=O=>{O.key==="Escape"&&a()};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[a]),w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-40"}),w.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90%] max-w-sm sm:max-w-md
    h-fit max-h-[90vh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-row justify-between items-start
    rounded-lg shadow-2xl z-50
  `,children:[w.jsx("div",{className:"absolute top-0 bottom-0 left-0 rounded-l-lg w-2 sm:w-3",style:{backgroundColor:x}}),w.jsxs("form",{onSubmit:p(T),className:"w-full h-full",children:[w.jsx("div",{className:"mb-1 flex w-full h-fit",children:w.jsx("input",{...h("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),w.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[w.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[w.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),w.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-red-200",style:{backgroundColor:n?n.color:"#d1d5dc",color:n?"#ffffff":"#000000"},children:w.jsx("span",{className:"text-sm text-start  w-full ",children:n?n.title:"Not Assigned"})})]}),w.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[w.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),w.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-gray-200",children:w.jsx("span",{className:"text-sm text-start  w-full ",children:l?l.user.email:"Guest"})})]}),w.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[w.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),w.jsx("input",{...h("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),w.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[w.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),w.jsxs("select",{...h("color"),value:x,onChange:R=>C(R.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[w.jsx("option",{value:"#ff2056",children:"Red"}),w.jsx("option",{value:"#2b7fff",children:"Blue"}),w.jsx("option",{value:"#00bc7d",children:"Green"}),w.jsx("option",{value:"#ad46ff",children:"Purple"}),w.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),w.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[w.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),w.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:w.jsx("input",{...h("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),w.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[w.jsx("button",{className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:a,children:w.jsx("span",{className:"text-sm",children:"Cancel"})}),w.jsx("button",{type:"submit",disabled:_,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:_?w.jsx("span",{className:"text-sm",children:"Loading..."}):w.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}function GL(t){return cn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.793 2.232a.75.75 0 0 1-.025 1.06L3.622 7.25h10.003a5.375 5.375 0 0 1 0 10.75H10.75a.75.75 0 0 1 0-1.5h2.875a3.875 3.875 0 0 0 0-7.75H3.622l4.146 3.957a.75.75 0 0 1-1.036 1.085l-5.5-5.25a.75.75 0 0 1 0-1.085l5.5-5.25a.75.75 0 0 1 1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function qL(t){return cn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.207 2.232a.75.75 0 0 0 .025 1.06l4.146 3.958H6.375a5.375 5.375 0 0 0 0 10.75H9.25a.75.75 0 0 0 0-1.5H6.375a3.875 3.875 0 0 1 0-7.75h10.003l-4.146 3.957a.75.75 0 0 0 1.036 1.085l5.5-5.25a.75.75 0 0 0 0-1.085l-5.5-5.25a.75.75 0 0 0-1.06.025Z",clipRule:"evenodd"},child:[]}]})(t)}function VL(t){return cn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function K4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Iv(...t){return e=>{let n=!1;const a=t.map(i=>{const l=K4(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():K4(t[i],null)}}}}function wa(...t){return N.useCallback(Iv(...t),t)}function cm(t){const e=YL(t),n=N.forwardRef((a,i)=>{const{children:l,...u}=a,f=N.Children.toArray(l),h=f.find(ZL);if(h){const p=h.props.children,v=f.map(_=>_===h?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:_);return w.jsx(e,{...u,ref:i,children:N.isValidElement(p)?N.cloneElement(p,void 0,v):null})}return w.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function YL(t){const e=N.forwardRef((n,a)=>{const{children:i,...l}=n;if(N.isValidElement(i)){const u=KL(i),f=XL(l,i.props);return i.type!==N.Fragment&&(f.ref=a?Iv(a,u):u),N.cloneElement(i,f)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $w=Symbol("radix.slottable");function IL(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$w,e}function ZL(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$w}function XL(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...f)=>{const h=l(...f);return i(...f),h}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function KL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mn=FL.reduce((t,e)=>{const n=cm(`Primitive.${e}`),a=N.forwardRef((i,l)=>{const{asChild:u,...f}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(h,{...f,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function Qw(t,e){t&&wm.flushSync(()=>t.dispatchEvent(e))}function $L(t,e){const n=N.createContext(e),a=l=>{const{children:u,...f}=l,h=N.useMemo(()=>f,Object.values(f));return w.jsx(n.Provider,{value:h,children:u})};a.displayName=t+"Provider";function i(l){const u=N.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function mo(t,e=[]){let n=[];function a(l,u){const f=N.createContext(u),h=n.length;n=[...n,u];const p=_=>{const{scope:x,children:C,...T}=_,R=x?.[t]?.[h]||f,O=N.useMemo(()=>T,Object.values(T));return w.jsx(R.Provider,{value:O,children:C})};p.displayName=l+"Provider";function v(_,x){const C=x?.[t]?.[h]||f,T=N.useContext(C);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,v]}const i=()=>{const l=n.map(u=>N.createContext(u));return function(f){const h=f?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return i.scopeName=t,[a,QL(i,...e)]}function QL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((f,{useScope:h,scopeName:p})=>{const _=h(l)[`__scope${p}`];return{...f,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Ww(t){const e=t+"CollectionProvider",[n,a]=mo(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:O,children:j}=R,M=Oe.useRef(null),z=Oe.useRef(new Map).current;return w.jsx(i,{scope:O,itemMap:z,collectionRef:M,children:j})};u.displayName=e;const f=t+"CollectionSlot",h=cm(f),p=Oe.forwardRef((R,O)=>{const{scope:j,children:M}=R,z=l(f,j),k=wa(O,z.collectionRef);return w.jsx(h,{ref:k,children:M})});p.displayName=f;const v=t+"CollectionItemSlot",_="data-radix-collection-item",x=cm(v),C=Oe.forwardRef((R,O)=>{const{scope:j,children:M,...z}=R,k=Oe.useRef(null),G=wa(O,k),U=l(v,j);return Oe.useEffect(()=>(U.itemMap.set(k,{ref:k,...z}),()=>void U.itemMap.delete(k))),w.jsx(x,{[_]:"",ref:G,children:M})});C.displayName=v;function T(R){const O=l(t+"CollectionConsumer",R);return Oe.useCallback(()=>{const M=O.collectionRef.current;if(!M)return[];const z=Array.from(M.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((U,V)=>z.indexOf(U.ref.current)-z.indexOf(V.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:u,Slot:p,ItemSlot:C},T,a]}function Mt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var pu=globalThis?.document?N.useLayoutEffect:()=>{},WL=P5[" useInsertionEffect ".trim().toString()]||pu;function Qf({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,l,u]=JL({defaultProp:e,onChange:n}),f=t!==void 0,h=f?t:i;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==f&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,a])}const p=N.useCallback(v=>{if(f){const _=eU(v)?v(t):v;_!==t&&u.current?.(_)}else l(v)},[f,t,l,u]);return[h,p]}function JL({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),i=N.useRef(n),l=N.useRef(e);return WL(()=>{l.current=e},[e]),N.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function eU(t){return typeof t=="function"}function tU(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var Tu=t=>{const{present:e,children:n}=t,a=nU(e),i=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=wa(a.ref,aU(i));return typeof n=="function"||a.isPresent?N.cloneElement(i,{ref:l}):null};Tu.displayName="Presence";function nU(t){const[e,n]=N.useState(),a=N.useRef(null),i=N.useRef(t),l=N.useRef("none"),u=t?"mounted":"unmounted",[f,h]=tU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const p=zp(a.current);l.current=f==="mounted"?p:"none"},[f]),pu(()=>{const p=a.current,v=i.current;if(v!==t){const x=l.current,C=zp(p);t?h("MOUNT"):C==="none"||p?.display==="none"?h("UNMOUNT"):h(v&&x!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),pu(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=C=>{const R=zp(a.current).includes(CSS.escape(C.animationName));if(C.target===e&&R&&(h("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},x=C=>{C.target===e&&(l.current=zp(a.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:N.useCallback(p=>{a.current=p?getComputedStyle(p):null,n(p)},[])}}function zp(t){return t?.animationName||"none"}function aU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rU=P5[" useId ".trim().toString()]||(()=>{}),iU=0;function Lf(t){const[e,n]=N.useState(rU());return pu(()=>{n(a=>a??String(iU++))},[t]),t||(e?`radix-${e}`:"")}var sU=N.createContext(void 0);function Zv(t){const e=N.useContext(sU);return t||e||"ltr"}function io(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function lU(t,e=globalThis?.document){const n=io(t);N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var oU="DismissableLayer",_2="dismissableLayer.update",uU="dismissableLayer.pointerDownOutside",cU="dismissableLayer.focusOutside",F4,Jw=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fb=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...h}=t,p=N.useContext(Jw),[v,_]=N.useState(null),x=v?.ownerDocument??globalThis?.document,[,C]=N.useState({}),T=wa(e,V=>_(V)),R=Array.from(p.layers),[O]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=R.indexOf(O),M=v?R.indexOf(v):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,k=M>=j,G=hU(V=>{const K=V.target,ne=[...p.branches].some(ge=>ge.contains(K));!k||ne||(i?.(V),u?.(V),V.defaultPrevented||f?.())},x),U=mU(V=>{const K=V.target;[...p.branches].some(ge=>ge.contains(K))||(l?.(V),u?.(V),V.defaultPrevented||f?.())},x);return lU(V=>{M===p.layers.size-1&&(a?.(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},x),N.useEffect(()=>{if(v)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(F4=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),$4(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=F4)}},[v,x,n,p]),N.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),$4())},[v,p]),N.useEffect(()=>{const V=()=>C({});return document.addEventListener(_2,V),()=>document.removeEventListener(_2,V)},[]),w.jsx(Mn.div,{...h,ref:T,style:{pointerEvents:z?k?"auto":"none":void 0,...t.style},onFocusCapture:Mt(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Mt(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Mt(t.onPointerDownCapture,G.onPointerDownCapture)})});fb.displayName=oU;var dU="DismissableLayerBranch",fU=N.forwardRef((t,e)=>{const n=N.useContext(Jw),a=N.useRef(null),i=wa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),w.jsx(Mn.div,{...t,ref:i})});fU.displayName=dU;function hU(t,e=globalThis?.document){const n=io(t),a=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let h=function(){eS(uU,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function mU(t,e=globalThis?.document){const n=io(t),a=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!a.current&&eS(cU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function $4(){const t=new CustomEvent(_2);document.dispatchEvent(t)}function eS(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?Qw(i,l):i.dispatchEvent(l)}var Ey="focusScope.autoFocusOnMount",Cy="focusScope.autoFocusOnUnmount",Q4={bubbles:!1,cancelable:!0},gU="FocusScope",hb=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,h]=N.useState(null),p=io(i),v=io(l),_=N.useRef(null),x=wa(e,R=>h(R)),C=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(C.paused||!f)return;const k=z.target;f.contains(k)?_.current=k:uu(_.current,{select:!0})},O=function(z){if(C.paused||!f)return;const k=z.relatedTarget;k!==null&&(f.contains(k)||uu(_.current,{select:!0}))},j=function(z){if(document.activeElement===document.body)for(const G of z)G.removedNodes.length>0&&uu(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const M=new MutationObserver(j);return f&&M.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),M.disconnect()}}},[a,f,C.paused]),N.useEffect(()=>{if(f){J4.add(C);const R=document.activeElement;if(!f.contains(R)){const j=new CustomEvent(Ey,Q4);f.addEventListener(Ey,p),f.dispatchEvent(j),j.defaultPrevented||(pU(xU(tS(f)),{select:!0}),document.activeElement===R&&uu(f))}return()=>{f.removeEventListener(Ey,p),setTimeout(()=>{const j=new CustomEvent(Cy,Q4);f.addEventListener(Cy,v),f.dispatchEvent(j),j.defaultPrevented||uu(R??document.body,{select:!0}),f.removeEventListener(Cy,v),J4.remove(C)},0)}}},[f,p,v,C]);const T=N.useCallback(R=>{if(!n&&!a||C.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,j=document.activeElement;if(O&&j){const M=R.currentTarget,[z,k]=vU(M);z&&k?!R.shiftKey&&j===k?(R.preventDefault(),n&&uu(z,{select:!0})):R.shiftKey&&j===z&&(R.preventDefault(),n&&uu(k,{select:!0})):j===M&&R.preventDefault()}},[n,a,C.paused]);return w.jsx(Mn.div,{tabIndex:-1,...u,ref:x,onKeyDown:T})});hb.displayName=gU;function pU(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(uu(a,{select:e}),document.activeElement!==n)return}function vU(t){const e=tS(t),n=W4(e,t),a=W4(e.reverse(),t);return[n,a]}function tS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function W4(t,e){for(const n of t)if(!yU(n,{upTo:e}))return n}function yU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bU(t){return t instanceof HTMLInputElement&&"select"in t}function uu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bU(t)&&e&&t.select()}}var J4=_U();function _U(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=e5(t,e),t.unshift(e)},remove(e){t=e5(t,e),t[0]?.resume()}}}function e5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function xU(t){return t.filter(e=>e.tagName!=="A")}var wU="Portal",mb=N.forwardRef((t,e)=>{const{container:n,...a}=t,[i,l]=N.useState(!1);pu(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?M7.createPortal(w.jsx(Mn.div,{...a,ref:e}),u):null});mb.displayName=wU;var Ty=0;function nS(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??t5()),document.body.insertAdjacentElement("beforeend",t[1]??t5()),Ty++,()=>{Ty===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ty--}},[])}function t5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fl=function(){return fl=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},fl.apply(this,arguments)};function aS(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function SU(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var $p="right-scroll-bar-position",Qp="width-before-scroll-bar",EU="with-scroll-bars-hidden",CU="--removed-body-scroll-bar-size";function Ay(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function TU(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var AU=typeof window<"u"?N.useLayoutEffect:N.useEffect,n5=new WeakMap;function RU(t,e){var n=TU(null,function(a){return t.forEach(function(i){return Ay(i,a)})});return AU(function(){var a=n5.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||Ay(f,null)}),l.forEach(function(f){i.has(f)||Ay(f,u)})}n5.set(n,t)},[t]),n}function OU(t){return t}function NU(t,e){e===void 0&&(e=OU);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var h=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),n}}}};return i}function jU(t){t===void 0&&(t={});var e=NU(null);return e.options=fl({async:!0,ssr:!1},t),e}var rS=function(t){var e=t.sideCar,n=aS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,fl({},n))};rS.isSideCarExport=!0;function MU(t,e){return t.useMedium(e),rS}var iS=jU(),Ry=function(){},Xv=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:Ry,onWheelCapture:Ry,onTouchMoveCapture:Ry}),i=a[0],l=a[1],u=t.forwardProps,f=t.children,h=t.className,p=t.removeScrollBar,v=t.enabled,_=t.shards,x=t.sideCar,C=t.noRelative,T=t.noIsolation,R=t.inert,O=t.allowPinchZoom,j=t.as,M=j===void 0?"div":j,z=t.gapMode,k=aS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=x,U=RU([n,e]),V=fl(fl({},k),i);return N.createElement(N.Fragment,null,v&&N.createElement(G,{sideCar:iS,removeScrollBar:p,shards:_,noRelative:C,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),u?N.cloneElement(N.Children.only(f),fl(fl({},V),{ref:U})):N.createElement(M,fl({},V,{className:h,ref:U}),f))});Xv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xv.classNames={fullWidth:Qp,zeroRight:$p};var DU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DU();return e&&t.setAttribute("nonce",e),t}function kU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var UU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zU())&&(kU(e,n),LU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PU=function(){var t=UU();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sS=function(){var t=PU(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},BU={left:0,top:0,right:0,gap:0},Oy=function(t){return parseInt(t||"",10)||0},HU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Oy(n),Oy(a),Oy(i)]},GU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BU;var e=HU(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},qU=sS(),Uf="data-scroll-locked",VU=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(EU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(Uf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($p,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Qp,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat($p," .").concat($p,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Qp," .").concat(Qp,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Uf,`] {
    `).concat(CU,": ").concat(f,`px;
  }
`)},a5=function(){var t=parseInt(document.body.getAttribute(Uf)||"0",10);return isFinite(t)?t:0},YU=function(){N.useEffect(function(){return document.body.setAttribute(Uf,(a5()+1).toString()),function(){var t=a5()-1;t<=0?document.body.removeAttribute(Uf):document.body.setAttribute(Uf,t.toString())}},[])},IU=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;YU();var l=N.useMemo(function(){return GU(i)},[i]);return N.createElement(qU,{styles:VU(l,!e,i,n?"":"!important")})},x2=!1;if(typeof window<"u")try{var kp=Object.defineProperty({},"passive",{get:function(){return x2=!0,!0}});window.addEventListener("test",kp,kp),window.removeEventListener("test",kp,kp)}catch{x2=!1}var _f=x2?{passive:!1}:!1,ZU=function(t){return t.tagName==="TEXTAREA"},lS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZU(t)&&n[e]==="visible")},XU=function(t){return lS(t,"overflowY")},KU=function(t){return lS(t,"overflowX")},r5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=oS(t,a);if(i){var l=uS(t,a),u=l[1],f=l[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},FU=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},$U=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},oS=function(t,e){return t==="v"?XU(e):KU(e)},uS=function(t,e){return t==="v"?FU(e):$U(e)},QU=function(t,e){return t==="h"&&e==="rtl"?-1:1},WU=function(t,e,n,a,i){var l=QU(t,window.getComputedStyle(e).direction),u=l*a,f=n.target,h=e.contains(f),p=!1,v=u>0,_=0,x=0;do{if(!f)break;var C=uS(t,f),T=C[0],R=C[1],O=C[2],j=R-O-l*T;(T||j)&&oS(t,f)&&(_+=j,x+=T);var M=f.parentNode;f=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(v&&Math.abs(_)<1||!v&&Math.abs(x)<1)&&(p=!0),p},Lp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},i5=function(t){return[t.deltaX,t.deltaY]},s5=function(t){return t&&"current"in t?t.current:t},JU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eP=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tP=0,xf=[];function nP(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),i=N.useState(tP++)[0],l=N.useState(sS)[0],u=N.useRef(t);N.useEffect(function(){u.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=SU([t.lockRef.current],(t.shards||[]).map(s5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var j=Lp(R),M=n.current,z="deltaX"in R?R.deltaX:M[0]-j[0],k="deltaY"in R?R.deltaY:M[1]-j[1],G,U=R.target,V=Math.abs(z)>Math.abs(k)?"h":"v";if("touches"in R&&V==="h"&&U.type==="range")return!1;var K=r5(V,U);if(!K)return!0;if(K?G=V:(G=V==="v"?"h":"v",K=r5(V,U)),!K)return!1;if(!a.current&&"changedTouches"in R&&(z||k)&&(a.current=G),!G)return!0;var ne=a.current||G;return WU(ne,O,R,ne==="h"?z:k)},[]),h=N.useCallback(function(R){var O=R;if(!(!xf.length||xf[xf.length-1]!==l)){var j="deltaY"in O?i5(O):Lp(O),M=e.current.filter(function(G){return G.name===O.type&&(G.target===O.target||O.target===G.shadowParent)&&JU(G.delta,j)})[0];if(M&&M.should){O.cancelable&&O.preventDefault();return}if(!M){var z=(u.current.shards||[]).map(s5).filter(Boolean).filter(function(G){return G.contains(O.target)}),k=z.length>0?f(O,z[0]):!u.current.noIsolation;k&&O.cancelable&&O.preventDefault()}}},[]),p=N.useCallback(function(R,O,j,M){var z={name:R,delta:O,target:j,should:M,shadowParent:aP(j)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(k){return k!==z})},1)},[]),v=N.useCallback(function(R){n.current=Lp(R),a.current=void 0},[]),_=N.useCallback(function(R){p(R.type,i5(R),R.target,f(R,t.lockRef.current))},[]),x=N.useCallback(function(R){p(R.type,Lp(R),R.target,f(R,t.lockRef.current))},[]);N.useEffect(function(){return xf.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:x}),document.addEventListener("wheel",h,_f),document.addEventListener("touchmove",h,_f),document.addEventListener("touchstart",v,_f),function(){xf=xf.filter(function(R){return R!==l}),document.removeEventListener("wheel",h,_f),document.removeEventListener("touchmove",h,_f),document.removeEventListener("touchstart",v,_f)}},[]);var C=t.removeScrollBar,T=t.inert;return N.createElement(N.Fragment,null,T?N.createElement(l,{styles:eP(i)}):null,C?N.createElement(IU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function aP(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rP=MU(iS,nP);var gb=N.forwardRef(function(t,e){return N.createElement(Xv,fl({},t,{ref:e,sideCar:rP}))});gb.classNames=Xv.classNames;var iP=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wf=new WeakMap,Up=new WeakMap,Pp={},Ny=0,cS=function(t){return t&&(t.host||cS(t.parentNode))},sP=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=cS(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lP=function(t,e,n,a){var i=sP(e,Array.isArray(t)?t:[t]);Pp[n]||(Pp[n]=new WeakMap);var l=Pp[n],u=[],f=new Set,h=new Set(i),p=function(_){!_||f.has(_)||(f.add(_),p(_.parentNode))};i.forEach(p);var v=function(_){!_||h.has(_)||Array.prototype.forEach.call(_.children,function(x){if(f.has(x))v(x);else try{var C=x.getAttribute(a),T=C!==null&&C!=="false",R=(wf.get(x)||0)+1,O=(l.get(x)||0)+1;wf.set(x,R),l.set(x,O),u.push(x),R===1&&T&&Up.set(x,!0),O===1&&x.setAttribute(n,"true"),T||x.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return v(e),f.clear(),Ny++,function(){u.forEach(function(_){var x=wf.get(_)-1,C=l.get(_)-1;wf.set(_,x),l.set(_,C),x||(Up.has(_)||_.removeAttribute(a),Up.delete(_)),C||_.removeAttribute(n)}),Ny--,Ny||(wf=new WeakMap,wf=new WeakMap,Up=new WeakMap,Pp={})}},dS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=iP(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),lP(a,i,n,"aria-hidden")):function(){return null}},Kv="Dialog",[fS,hS]=mo(Kv),[oP,Cs]=fS(Kv),mS=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=N.useRef(null),h=N.useRef(null),[p,v]=Qf({prop:a,defaultProp:i??!1,onChange:l,caller:Kv});return w.jsx(oP,{scope:e,triggerRef:f,contentRef:h,contentId:Lf(),titleId:Lf(),descriptionId:Lf(),open:p,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:u,children:n})};mS.displayName=Kv;var gS="DialogTrigger",pS=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Cs(gS,n),l=wa(e,i.triggerRef);return w.jsx(Mn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":yb(i.open),...a,ref:l,onClick:Mt(t.onClick,i.onOpenToggle)})});pS.displayName=gS;var pb="DialogPortal",[uP,vS]=fS(pb,{forceMount:void 0}),yS=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=Cs(pb,e);return w.jsx(uP,{scope:e,forceMount:n,children:N.Children.map(a,u=>w.jsx(Tu,{present:n||l.open,children:w.jsx(mb,{asChild:!0,container:i,children:u})}))})};yS.displayName=pb;var vv="DialogOverlay",bS=N.forwardRef((t,e)=>{const n=vS(vv,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=Cs(vv,t.__scopeDialog);return l.modal?w.jsx(Tu,{present:a||l.open,children:w.jsx(dP,{...i,ref:e})}):null});bS.displayName=vv;var cP=cm("DialogOverlay.RemoveScroll"),dP=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Cs(vv,n);return w.jsx(gb,{as:cP,allowPinchZoom:!0,shards:[i.contentRef],children:w.jsx(Mn.div,{"data-state":yb(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),Lc="DialogContent",_S=N.forwardRef((t,e)=>{const n=vS(Lc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=Cs(Lc,t.__scopeDialog);return w.jsx(Tu,{present:a||l.open,children:l.modal?w.jsx(fP,{...i,ref:e}):w.jsx(hP,{...i,ref:e})})});_S.displayName=Lc;var fP=N.forwardRef((t,e)=>{const n=Cs(Lc,t.__scopeDialog),a=N.useRef(null),i=wa(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return dS(l)},[]),w.jsx(xS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mt(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Mt(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Mt(t.onFocusOutside,l=>l.preventDefault())})}),hP=N.forwardRef((t,e)=>{const n=Cs(Lc,t.__scopeDialog),a=N.useRef(!1),i=N.useRef(!1);return w.jsx(xS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),xS=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=Cs(Lc,n),h=N.useRef(null),p=wa(e,h);return nS(),w.jsxs(w.Fragment,{children:[w.jsx(hb,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:w.jsx(fb,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":yb(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(gP,{titleId:f.titleId}),w.jsx(vP,{contentRef:h,descriptionId:f.descriptionId})]})]})}),vb="DialogTitle",wS=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Cs(vb,n);return w.jsx(Mn.h2,{id:i.titleId,...a,ref:e})});wS.displayName=vb;var SS="DialogDescription",ES=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Cs(SS,n);return w.jsx(Mn.p,{id:i.descriptionId,...a,ref:e})});ES.displayName=SS;var CS="DialogClose",TS=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Cs(CS,n);return w.jsx(Mn.button,{type:"button",...a,ref:e,onClick:Mt(t.onClick,()=>i.onOpenChange(!1))})});TS.displayName=CS;function yb(t){return t?"open":"closed"}var AS="DialogTitleWarning",[mP,RS]=$L(AS,{contentName:Lc,titleName:vb,docsSlug:"dialog"}),gP=({titleId:t})=>{const e=RS(AS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pP="DialogDescriptionWarning",vP=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RS(pP).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},yP=mS,bP=pS,_P=yS,xP=bS,wP=_S,SP=wS,EP=ES,OS=TS,NS="AlertDialog",[CP]=mo(NS,[hS]),go=hS(),jS=t=>{const{__scopeAlertDialog:e,...n}=t,a=go(e);return w.jsx(yP,{...a,...n,modal:!0})};jS.displayName=NS;var TP="AlertDialogTrigger",MS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return w.jsx(bP,{...i,...a,ref:e})});MS.displayName=TP;var AP="AlertDialogPortal",DS=t=>{const{__scopeAlertDialog:e,...n}=t,a=go(e);return w.jsx(_P,{...a,...n})};DS.displayName=AP;var RP="AlertDialogOverlay",zS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return w.jsx(xP,{...i,...a,ref:e})});zS.displayName=RP;var Pf="AlertDialogContent",[OP,NP]=CP(Pf),jP=IL("AlertDialogContent"),kS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,l=go(n),u=N.useRef(null),f=wa(e,u),h=N.useRef(null);return w.jsx(mP,{contentName:Pf,titleName:LS,docsSlug:"alert-dialog",children:w.jsx(OP,{scope:n,cancelRef:h,children:w.jsxs(wP,{role:"alertdialog",...l,...i,ref:f,onOpenAutoFocus:Mt(i.onOpenAutoFocus,p=>{p.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[w.jsx(jP,{children:a}),w.jsx(DP,{contentRef:u})]})})})});kS.displayName=Pf;var LS="AlertDialogTitle",US=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return w.jsx(SP,{...i,...a,ref:e})});US.displayName=LS;var PS="AlertDialogDescription",BS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return w.jsx(EP,{...i,...a,ref:e})});BS.displayName=PS;var MP="AlertDialogAction",HS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=go(n);return w.jsx(OS,{...i,...a,ref:e})});HS.displayName=MP;var GS="AlertDialogCancel",qS=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=NP(GS,n),l=go(n),u=wa(e,i);return w.jsx(OS,{...l,...a,ref:u})});qS.displayName=GS;var DP=({contentRef:t})=>{const e=`\`${Pf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pf}\` by passing a \`${PS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},M0=jS,Bp=MS,D0=DS,z0=zS,k0=kS,jy=HS,Sf=qS,L0=US,U0=BS;function zP(t){const[e,n]=N.useState(void 0);return pu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const h=l.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const kP=["top","right","bottom","left"],vu=Math.min,ci=Math.max,yv=Math.round,Hp=Math.floor,gl=t=>({x:t,y:t}),LP={left:"right",right:"left",bottom:"top",top:"bottom"},UP={start:"end",end:"start"};function w2(t,e,n){return ci(t,vu(e,n))}function so(t,e){return typeof t=="function"?t(e):t}function lo(t){return t.split("-")[0]}function Wf(t){return t.split("-")[1]}function bb(t){return t==="x"?"y":"x"}function _b(t){return t==="y"?"height":"width"}const PP=new Set(["top","bottom"]);function hl(t){return PP.has(lo(t))?"y":"x"}function xb(t){return bb(hl(t))}function BP(t,e,n){n===void 0&&(n=!1);const a=Wf(t),i=xb(t),l=_b(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=bv(u)),[u,bv(u)]}function HP(t){const e=bv(t);return[S2(t),e,S2(e)]}function S2(t){return t.replace(/start|end/g,e=>UP[e])}const l5=["left","right"],o5=["right","left"],GP=["top","bottom"],qP=["bottom","top"];function VP(t,e,n){switch(t){case"top":case"bottom":return n?e?o5:l5:e?l5:o5;case"left":case"right":return e?GP:qP;default:return[]}}function YP(t,e,n,a){const i=Wf(t);let l=VP(lo(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(S2)))),l}function bv(t){return t.replace(/left|right|bottom|top/g,e=>LP[e])}function IP(t){return{top:0,right:0,bottom:0,left:0,...t}}function VS(t){return typeof t!="number"?IP(t):{top:t,right:t,bottom:t,left:t}}function _v(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function u5(t,e,n){let{reference:a,floating:i}=t;const l=hl(e),u=xb(e),f=_b(u),h=lo(e),p=l==="y",v=a.x+a.width/2-i.width/2,_=a.y+a.height/2-i.height/2,x=a[f]/2-i[f]/2;let C;switch(h){case"top":C={x:v,y:a.y-i.height};break;case"bottom":C={x:v,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:_};break;case"left":C={x:a.x-i.width,y:_};break;default:C={x:a.x,y:a.y}}switch(Wf(e)){case"start":C[u]-=x*(n&&p?-1:1);break;case"end":C[u]+=x*(n&&p?-1:1);break}return C}const ZP=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:_}=u5(p,a,h),x=a,C={},T=0;for(let R=0;R<f.length;R++){const{name:O,fn:j}=f[R],{x:M,y:z,data:k,reset:G}=await j({x:v,y:_,initialPlacement:a,placement:x,strategy:i,middlewareData:C,rects:p,platform:u,elements:{reference:t,floating:e}});v=M??v,_=z??_,C={...C,[O]:{...C[O],...k}},G&&T<=50&&(T++,typeof G=="object"&&(G.placement&&(x=G.placement),G.rects&&(p=G.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):G.rects),{x:v,y:_}=u5(p,x,h)),R=-1)}return{x:v,y:_,placement:x,strategy:i,middlewareData:C}};async function dm(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:f,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:x=!1,padding:C=0}=so(e,t),T=VS(C),O=f[x?_==="floating"?"reference":"floating":_],j=_v(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:h})),M=_==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),k=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},G=_v(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:M,offsetParent:z,strategy:h}):M);return{top:(j.top-G.top+T.top)/k.y,bottom:(G.bottom-j.bottom+T.bottom)/k.y,left:(j.left-G.left+T.left)/k.x,right:(G.right-j.right+T.right)/k.x}}const XP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:h}=e,{element:p,padding:v=0}=so(t,e)||{};if(p==null)return{};const _=VS(v),x={x:n,y:a},C=xb(i),T=_b(C),R=await u.getDimensions(p),O=C==="y",j=O?"top":"left",M=O?"bottom":"right",z=O?"clientHeight":"clientWidth",k=l.reference[T]+l.reference[C]-x[C]-l.floating[T],G=x[C]-l.reference[C],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let V=U?U[z]:0;(!V||!await(u.isElement==null?void 0:u.isElement(U)))&&(V=f.floating[z]||l.floating[T]);const K=k/2-G/2,ne=V/2-R[T]/2-1,ge=vu(_[j],ne),we=vu(_[M],ne),W=ge,he=V-R[T]-we,de=V/2-R[T]/2+K,ue=w2(W,de,he),H=!h.arrow&&Wf(i)!=null&&de!==ue&&l.reference[T]/2-(de<W?ge:we)-R[T]/2<0,J=H?de<W?de-W:de-he:0;return{[C]:x[C]+J,data:{[C]:ue,centerOffset:de-ue-J,...H&&{alignmentOffset:J}},reset:H}}}),KP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:h,elements:p}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:x,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...O}=so(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const j=lo(i),M=hl(f),z=lo(f)===f,k=await(h.isRTL==null?void 0:h.isRTL(p.floating)),G=x||(z||!R?[bv(f)]:HP(f)),U=T!=="none";!x&&U&&G.push(...YP(f,R,T,k));const V=[f,...G],K=await dm(e,O),ne=[];let ge=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&ne.push(K[j]),_){const de=BP(i,u,k);ne.push(K[de[0]],K[de[1]])}if(ge=[...ge,{placement:i,overflows:ne}],!ne.every(de=>de<=0)){var we,W;const de=(((we=l.flip)==null?void 0:we.index)||0)+1,ue=V[de];if(ue&&(!(_==="alignment"?M!==hl(ue):!1)||ge.every(F=>hl(F.placement)===M?F.overflows[0]>0:!0)))return{data:{index:de,overflows:ge},reset:{placement:ue}};let H=(W=ge.filter(J=>J.overflows[0]<=0).sort((J,F)=>J.overflows[1]-F.overflows[1])[0])==null?void 0:W.placement;if(!H)switch(C){case"bestFit":{var he;const J=(he=ge.filter(F=>{if(U){const ae=hl(F.placement);return ae===M||ae==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ae=>ae>0).reduce((ae,B)=>ae+B,0)]).sort((F,ae)=>F[1]-ae[1])[0])==null?void 0:he[0];J&&(H=J);break}case"initialPlacement":H=f;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function c5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function d5(t){return kP.some(e=>t[e]>=0)}const FP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=so(t,e);switch(a){case"referenceHidden":{const l=await dm(e,{...i,elementContext:"reference"}),u=c5(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:d5(u)}}}case"escaped":{const l=await dm(e,{...i,altBoundary:!0}),u=c5(l,n.floating);return{data:{escapedOffsets:u,escaped:d5(u)}}}default:return{}}}}},YS=new Set(["left","top"]);async function $P(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=lo(n),f=Wf(n),h=hl(n)==="y",p=YS.has(u)?-1:1,v=l&&h?-1:1,_=so(e,t);let{mainAxis:x,crossAxis:C,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof T=="number"&&(C=f==="end"?T*-1:T),h?{x:C*v,y:x*p}:{x:x*p,y:C*v}}const QP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:f}=e,h=await $P(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:u}}}}},WP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:O=>{let{x:j,y:M}=O;return{x:j,y:M}}},...h}=so(t,e),p={x:n,y:a},v=await dm(e,h),_=hl(lo(i)),x=bb(_);let C=p[x],T=p[_];if(l){const O=x==="y"?"top":"left",j=x==="y"?"bottom":"right",M=C+v[O],z=C-v[j];C=w2(M,C,z)}if(u){const O=_==="y"?"top":"left",j=_==="y"?"bottom":"right",M=T+v[O],z=T-v[j];T=w2(M,T,z)}const R=f.fn({...e,[x]:C,[_]:T});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[x]:l,[_]:u}}}}}},JP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:h=!0,crossAxis:p=!0}=so(t,e),v={x:n,y:a},_=hl(i),x=bb(_);let C=v[x],T=v[_];const R=so(f,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(h){const z=x==="y"?"height":"width",k=l.reference[x]-l.floating[z]+O.mainAxis,G=l.reference[x]+l.reference[z]-O.mainAxis;C<k?C=k:C>G&&(C=G)}if(p){var j,M;const z=x==="y"?"width":"height",k=YS.has(lo(i)),G=l.reference[_]-l.floating[z]+(k&&((j=u.offset)==null?void 0:j[_])||0)+(k?0:O.crossAxis),U=l.reference[_]+l.reference[z]+(k?0:((M=u.offset)==null?void 0:M[_])||0)-(k?O.crossAxis:0);T<G?T=G:T>U&&(T=U)}return{[x]:C,[_]:T}}}},eB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:h=()=>{},...p}=so(t,e),v=await dm(e,p),_=lo(i),x=Wf(i),C=hl(i)==="y",{width:T,height:R}=l.floating;let O,j;_==="top"||_==="bottom"?(O=_,j=x===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(j=_,O=x==="end"?"top":"bottom");const M=R-v.top-v.bottom,z=T-v.left-v.right,k=vu(R-v[O],M),G=vu(T-v[j],z),U=!e.middlewareData.shift;let V=k,K=G;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(K=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(V=M),U&&!x){const ge=ci(v.left,0),we=ci(v.right,0),W=ci(v.top,0),he=ci(v.bottom,0);C?K=T-2*(ge!==0||we!==0?ge+we:ci(v.left,v.right)):V=R-2*(W!==0||he!==0?W+he:ci(v.top,v.bottom))}await h({...e,availableWidth:K,availableHeight:V});const ne=await u.getDimensions(f.floating);return T!==ne.width||R!==ne.height?{reset:{rects:!0}}:{}}}};function Fv(){return typeof window<"u"}function Jf(t){return IS(t)?(t.nodeName||"").toLowerCase():"#document"}function mi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _l(t){var e;return(e=(IS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IS(t){return Fv()?t instanceof Node||t instanceof mi(t).Node:!1}function ws(t){return Fv()?t instanceof Element||t instanceof mi(t).Element:!1}function pl(t){return Fv()?t instanceof HTMLElement||t instanceof mi(t).HTMLElement:!1}function f5(t){return!Fv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mi(t).ShadowRoot}const tB=new Set(["inline","contents"]);function Om(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=Ss(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!tB.has(i)}const nB=new Set(["table","td","th"]);function aB(t){return nB.has(Jf(t))}const rB=[":popover-open",":modal"];function $v(t){return rB.some(e=>{try{return t.matches(e)}catch{return!1}})}const iB=["transform","translate","scale","rotate","perspective"],sB=["transform","translate","scale","rotate","perspective","filter"],lB=["paint","layout","strict","content"];function wb(t){const e=Sb(),n=ws(t)?Ss(t):t;return iB.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sB.some(a=>(n.willChange||"").includes(a))||lB.some(a=>(n.contain||"").includes(a))}function oB(t){let e=yu(t);for(;pl(e)&&!Zf(e);){if(wb(e))return e;if($v(e))return null;e=yu(e)}return null}function Sb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uB=new Set(["html","body","#document"]);function Zf(t){return uB.has(Jf(t))}function Ss(t){return mi(t).getComputedStyle(t)}function Qv(t){return ws(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yu(t){if(Jf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||f5(t)&&t.host||_l(t);return f5(e)?e.host:e}function ZS(t){const e=yu(t);return Zf(e)?t.ownerDocument?t.ownerDocument.body:t.body:pl(e)&&Om(e)?e:ZS(e)}function fm(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ZS(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=mi(i);if(l){const f=E2(u);return e.concat(u,u.visualViewport||[],Om(i)?i:[],f&&n?fm(f):[])}return e.concat(i,fm(i,[],n))}function E2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function XS(t){const e=Ss(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=pl(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,f=yv(n)!==l||yv(a)!==u;return f&&(n=l,a=u),{width:n,height:a,$:f}}function Eb(t){return ws(t)?t:t.contextElement}function Bf(t){const e=Eb(t);if(!pl(e))return gl(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=XS(e);let u=(l?yv(n.width):n.width)/a,f=(l?yv(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const cB=gl(0);function KS(t){const e=mi(t);return!Sb()||!e.visualViewport?cB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mi(t)?!1:e}function Uc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Eb(t);let u=gl(1);e&&(a?ws(a)&&(u=Bf(a)):u=Bf(t));const f=dB(l,n,a)?KS(l):gl(0);let h=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(l){const x=mi(l),C=a&&ws(a)?mi(a):a;let T=x,R=E2(T);for(;R&&a&&C!==T;){const O=Bf(R),j=R.getBoundingClientRect(),M=Ss(R),z=j.left+(R.clientLeft+parseFloat(M.paddingLeft))*O.x,k=j.top+(R.clientTop+parseFloat(M.paddingTop))*O.y;h*=O.x,p*=O.y,v*=O.x,_*=O.y,h+=z,p+=k,T=mi(R),R=E2(T)}}return _v({width:v,height:_,x:h,y:p})}function Wv(t,e){const n=Qv(t).scrollLeft;return e?e.left+n:Uc(_l(t)).left+n}function FS(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Wv(t,n),i=n.top+e.scrollTop;return{x:a,y:i}}function fB(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=_l(a),f=e?$v(e.floating):!1;if(a===u||f&&l)return n;let h={scrollLeft:0,scrollTop:0},p=gl(1);const v=gl(0),_=pl(a);if((_||!_&&!l)&&((Jf(a)!=="body"||Om(u))&&(h=Qv(a)),pl(a))){const C=Uc(a);p=Bf(a),v.x=C.x+a.clientLeft,v.y=C.y+a.clientTop}const x=u&&!_&&!l?FS(u,h):gl(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+v.x+x.x,y:n.y*p.y-h.scrollTop*p.y+v.y+x.y}}function hB(t){return Array.from(t.getClientRects())}function mB(t){const e=_l(t),n=Qv(t),a=t.ownerDocument.body,i=ci(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=ci(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Wv(t);const f=-n.scrollTop;return Ss(a).direction==="rtl"&&(u+=ci(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:f}}const h5=25;function gB(t,e){const n=mi(t),a=_l(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,f=0,h=0;if(i){l=i.width,u=i.height;const v=Sb();(!v||v&&e==="fixed")&&(f=i.offsetLeft,h=i.offsetTop)}const p=Wv(a);if(p<=0){const v=a.ownerDocument,_=v.body,x=getComputedStyle(_),C=v.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,T=Math.abs(a.clientWidth-_.clientWidth-C);T<=h5&&(l-=T)}else p<=h5&&(l+=p);return{width:l,height:u,x:f,y:h}}const pB=new Set(["absolute","fixed"]);function vB(t,e){const n=Uc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=pl(t)?Bf(t):gl(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,h=i*l.x,p=a*l.y;return{width:u,height:f,x:h,y:p}}function m5(t,e,n){let a;if(e==="viewport")a=gB(t,n);else if(e==="document")a=mB(_l(t));else if(ws(e))a=vB(e,n);else{const i=KS(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _v(a)}function $S(t,e){const n=yu(t);return n===e||!ws(n)||Zf(n)?!1:Ss(n).position==="fixed"||$S(n,e)}function yB(t,e){const n=e.get(t);if(n)return n;let a=fm(t,[],!1).filter(f=>ws(f)&&Jf(f)!=="body"),i=null;const l=Ss(t).position==="fixed";let u=l?yu(t):t;for(;ws(u)&&!Zf(u);){const f=Ss(u),h=wb(u);!h&&f.position==="fixed"&&(i=null),(l?!h&&!i:!h&&f.position==="static"&&!!i&&pB.has(i.position)||Om(u)&&!h&&$S(t,u))?a=a.filter(v=>v!==u):i=f,u=yu(u)}return e.set(t,a),a}function bB(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?$v(e)?[]:yB(e,this._c):[].concat(n),a],f=u[0],h=u.reduce((p,v)=>{const _=m5(e,v,i);return p.top=ci(_.top,p.top),p.right=vu(_.right,p.right),p.bottom=vu(_.bottom,p.bottom),p.left=ci(_.left,p.left),p},m5(e,f,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function _B(t){const{width:e,height:n}=XS(t);return{width:e,height:n}}function xB(t,e,n){const a=pl(e),i=_l(e),l=n==="fixed",u=Uc(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=gl(0);function p(){h.x=Wv(i)}if(a||!a&&!l)if((Jf(e)!=="body"||Om(i))&&(f=Qv(e)),a){const C=Uc(e,!0,l,e);h.x=C.x+e.clientLeft,h.y=C.y+e.clientTop}else i&&p();l&&!a&&i&&p();const v=i&&!a&&!l?FS(i,f):gl(0),_=u.left+f.scrollLeft-h.x-v.x,x=u.top+f.scrollTop-h.y-v.y;return{x:_,y:x,width:u.width,height:u.height}}function My(t){return Ss(t).position==="static"}function g5(t,e){if(!pl(t)||Ss(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _l(t)===n&&(n=n.ownerDocument.body),n}function QS(t,e){const n=mi(t);if($v(t))return n;if(!pl(t)){let i=yu(t);for(;i&&!Zf(i);){if(ws(i)&&!My(i))return i;i=yu(i)}return n}let a=g5(t,e);for(;a&&aB(a)&&My(a);)a=g5(a,e);return a&&Zf(a)&&My(a)&&!wb(a)?n:a||oB(t)||n}const wB=async function(t){const e=this.getOffsetParent||QS,n=this.getDimensions,a=await n(t.floating);return{reference:xB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function SB(t){return Ss(t).direction==="rtl"}const EB={convertOffsetParentRelativeRectToViewportRelativeRect:fB,getDocumentElement:_l,getClippingRect:bB,getOffsetParent:QS,getElementRects:wB,getClientRects:hB,getDimensions:_B,getScale:Bf,isElement:ws,isRTL:SB};function WS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function CB(t,e){let n=null,a;const i=_l(t);function l(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const p=t.getBoundingClientRect(),{left:v,top:_,width:x,height:C}=p;if(f||e(),!x||!C)return;const T=Hp(_),R=Hp(i.clientWidth-(v+x)),O=Hp(i.clientHeight-(_+C)),j=Hp(v),z={rootMargin:-T+"px "+-R+"px "+-O+"px "+-j+"px",threshold:ci(0,vu(1,h))||1};let k=!0;function G(U){const V=U[0].intersectionRatio;if(V!==h){if(!k)return u();V?u(!1,V):a=setTimeout(()=>{u(!1,1e-7)},1e3)}V===1&&!WS(p,t.getBoundingClientRect())&&u(),k=!1}try{n=new IntersectionObserver(G,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(G,z)}n.observe(t)}return u(!0),l}function TB(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,p=Eb(t),v=i||l?[...p?fm(p):[],...fm(e)]:[];v.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),l&&j.addEventListener("resize",n)});const _=p&&f?CB(p,n):null;let x=-1,C=null;u&&(C=new ResizeObserver(j=>{let[M]=j;M&&M.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),n()}),p&&!h&&C.observe(p),C.observe(e));let T,R=h?Uc(t):null;h&&O();function O(){const j=Uc(t);R&&!WS(R,j)&&n(),R=j,T=requestAnimationFrame(O)}return n(),()=>{var j;v.forEach(M=>{i&&M.removeEventListener("scroll",n),l&&M.removeEventListener("resize",n)}),_?.(),(j=C)==null||j.disconnect(),C=null,h&&cancelAnimationFrame(T)}}const AB=QP,RB=WP,OB=KP,NB=eB,jB=FP,p5=XP,MB=JP,DB=(t,e,n)=>{const a=new Map,i={platform:EB,...n},l={...i.platform,_c:a};return ZP(t,e,{...i,platform:l})};var zB=typeof document<"u",kB=function(){},Wp=zB?N.useLayoutEffect:kB;function xv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!xv(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!xv(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function JS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function v5(t,e){const n=JS(t);return Math.round(e*n)/n}function Dy(t){const e=N.useRef(t);return Wp(()=>{e.current=t}),e}function LB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:h,open:p}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,C]=N.useState(a);xv(x,a)||C(a);const[T,R]=N.useState(null),[O,j]=N.useState(null),M=N.useCallback(F=>{F!==U.current&&(U.current=F,R(F))},[]),z=N.useCallback(F=>{F!==V.current&&(V.current=F,j(F))},[]),k=l||T,G=u||O,U=N.useRef(null),V=N.useRef(null),K=N.useRef(v),ne=h!=null,ge=Dy(h),we=Dy(i),W=Dy(p),he=N.useCallback(()=>{if(!U.current||!V.current)return;const F={placement:e,strategy:n,middleware:x};we.current&&(F.platform=we.current),DB(U.current,V.current,F).then(ae=>{const B={...ae,isPositioned:W.current!==!1};de.current&&!xv(K.current,B)&&(K.current=B,wm.flushSync(()=>{_(B)}))})},[x,e,n,we,W]);Wp(()=>{p===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,_(F=>({...F,isPositioned:!1})))},[p]);const de=N.useRef(!1);Wp(()=>(de.current=!0,()=>{de.current=!1}),[]),Wp(()=>{if(k&&(U.current=k),G&&(V.current=G),k&&G){if(ge.current)return ge.current(k,G,he);he()}},[k,G,he,ge,ne]);const ue=N.useMemo(()=>({reference:U,floating:V,setReference:M,setFloating:z}),[M,z]),H=N.useMemo(()=>({reference:k,floating:G}),[k,G]),J=N.useMemo(()=>{const F={position:n,left:0,top:0};if(!H.floating)return F;const ae=v5(H.floating,v.x),B=v5(H.floating,v.y);return f?{...F,transform:"translate("+ae+"px, "+B+"px)",...JS(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:B}},[n,f,H.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:he,refs:ue,elements:H,floatingStyles:J}),[v,he,ue,H,J])}const UB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?p5({element:a.current,padding:i}).fn(n):{}:a?p5({element:a,padding:i}).fn(n):{}}}},PB=(t,e)=>({...AB(t),options:[t,e]}),BB=(t,e)=>({...RB(t),options:[t,e]}),HB=(t,e)=>({...MB(t),options:[t,e]}),GB=(t,e)=>({...OB(t),options:[t,e]}),qB=(t,e)=>({...NB(t),options:[t,e]}),VB=(t,e)=>({...jB(t),options:[t,e]}),YB=(t,e)=>({...UB(t),options:[t,e]});var IB="Arrow",e6=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return w.jsx(Mn.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});e6.displayName=IB;var ZB=e6,Cb="Popper",[t6,n6]=mo(Cb),[XB,a6]=t6(Cb),r6=t=>{const{__scopePopper:e,children:n}=t,[a,i]=N.useState(null);return w.jsx(XB,{scope:e,anchor:a,onAnchorChange:i,children:n})};r6.displayName=Cb;var i6="PopperAnchor",s6=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=a6(i6,n),u=N.useRef(null),f=wa(e,u),h=N.useRef(null);return N.useEffect(()=>{const p=h.current;h.current=a?.current||u.current,p!==h.current&&l.onAnchorChange(h.current)}),a?null:w.jsx(Mn.div,{...i,ref:f})});s6.displayName=i6;var Tb="PopperContent",[KB,FB]=t6(Tb),l6=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:x=!1,updatePositionStrategy:C="optimized",onPlaced:T,...R}=t,O=a6(Tb,n),[j,M]=N.useState(null),z=wa(e,st=>M(st)),[k,G]=N.useState(null),U=zP(k),V=U?.width??0,K=U?.height??0,ne=a+(l!=="center"?"-"+l:""),ge=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},we=Array.isArray(p)?p:[p],W=we.length>0,he={padding:ge,boundary:we.filter(QB),altBoundary:W},{refs:de,floatingStyles:ue,placement:H,isPositioned:J,middlewareData:F}=LB({strategy:"fixed",placement:ne,whileElementsMounted:(...st)=>TB(...st,{animationFrame:C==="always"}),elements:{reference:O.anchor},middleware:[PB({mainAxis:i+K,alignmentAxis:u}),h&&BB({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?HB():void 0,...he}),h&&GB({...he}),qB({...he,apply:({elements:st,rects:_t,availableWidth:Ce,availableHeight:Ne})=>{const{width:ot,height:vt}=_t.reference,yt=st.floating.style;yt.setProperty("--radix-popper-available-width",`${Ce}px`),yt.setProperty("--radix-popper-available-height",`${Ne}px`),yt.setProperty("--radix-popper-anchor-width",`${ot}px`),yt.setProperty("--radix-popper-anchor-height",`${vt}px`)}}),k&&YB({element:k,padding:f}),WB({arrowWidth:V,arrowHeight:K}),x&&VB({strategy:"referenceHidden",...he})]}),[ae,B]=c6(H),ee=io(T);pu(()=>{J&&ee?.()},[J,ee]);const _e=F.arrow?.x,Se=F.arrow?.y,Ve=F.arrow?.centerOffset!==0,[lt,Ze]=N.useState();return pu(()=>{j&&Ze(window.getComputedStyle(j).zIndex)},[j]),w.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:J?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:lt,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(KB,{scope:n,placedSide:ae,onArrowChange:G,arrowX:_e,arrowY:Se,shouldHideArrow:Ve,children:w.jsx(Mn.div,{"data-side":ae,"data-align":B,...R,ref:z,style:{...R.style,animation:J?void 0:"none"}})})})});l6.displayName=Tb;var o6="PopperArrow",$B={top:"bottom",right:"left",bottom:"top",left:"right"},u6=N.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=FB(o6,a),u=$B[l.placedSide];return w.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:w.jsx(ZB,{...i,ref:n,style:{...i.style,display:"block"}})})});u6.displayName=o6;function QB(t){return t!==null}var WB=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[p,v]=c6(n),_={start:"0%",center:"50%",end:"100%"}[v],x=(i.arrow?.x??0)+f/2,C=(i.arrow?.y??0)+h/2;let T="",R="";return p==="bottom"?(T=u?_:`${x}px`,R=`${-h}px`):p==="top"?(T=u?_:`${x}px`,R=`${a.floating.height+h}px`):p==="right"?(T=`${-h}px`,R=u?_:`${C}px`):p==="left"&&(T=`${a.floating.width+h}px`,R=u?_:`${C}px`),{data:{x:T,y:R}}}});function c6(t){const[e,n="center"]=t.split("-");return[e,n]}var JB=r6,eH=s6,tH=l6,nH=u6,zy="rovingFocusGroup.onEntryFocus",aH={bubbles:!1,cancelable:!0},Nm="RovingFocusGroup",[C2,d6,rH]=Ww(Nm),[iH,eh]=mo(Nm,[rH]),[sH,lH]=iH(Nm),f6=N.forwardRef((t,e)=>w.jsx(C2.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(C2.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(oH,{...t,ref:e})})}));f6.displayName=Nm;var oH=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,..._}=t,x=N.useRef(null),C=wa(e,x),T=Zv(l),[R,O]=Qf({prop:u,defaultProp:f??null,onChange:h,caller:Nm}),[j,M]=N.useState(!1),z=io(p),k=d6(n),G=N.useRef(!1),[U,V]=N.useState(0);return N.useEffect(()=>{const K=x.current;if(K)return K.addEventListener(zy,z),()=>K.removeEventListener(zy,z)},[z]),w.jsx(sH,{scope:n,orientation:a,dir:T,loop:i,currentTabStopId:R,onItemFocus:N.useCallback(K=>O(K),[O]),onItemShiftTab:N.useCallback(()=>M(!0),[]),onFocusableItemAdd:N.useCallback(()=>V(K=>K+1),[]),onFocusableItemRemove:N.useCallback(()=>V(K=>K-1),[]),children:w.jsx(Mn.div,{tabIndex:j||U===0?-1:0,"data-orientation":a,..._,ref:C,style:{outline:"none",...t.style},onMouseDown:Mt(t.onMouseDown,()=>{G.current=!0}),onFocus:Mt(t.onFocus,K=>{const ne=!G.current;if(K.target===K.currentTarget&&ne&&!j){const ge=new CustomEvent(zy,aH);if(K.currentTarget.dispatchEvent(ge),!ge.defaultPrevented){const we=k().filter(H=>H.focusable),W=we.find(H=>H.active),he=we.find(H=>H.id===R),ue=[W,he,...we].filter(Boolean).map(H=>H.ref.current);g6(ue,v)}}G.current=!1}),onBlur:Mt(t.onBlur,()=>M(!1))})})}),h6="RovingFocusGroupItem",m6=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...f}=t,h=Lf(),p=l||h,v=lH(h6,n),_=v.currentTabStopId===p,x=d6(n),{onFocusableItemAdd:C,onFocusableItemRemove:T,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return C(),()=>T()},[a,C,T]),w.jsx(C2.ItemSlot,{scope:n,id:p,focusable:a,active:i,children:w.jsx(Mn.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...f,ref:e,onMouseDown:Mt(t.onMouseDown,O=>{a?v.onItemFocus(p):O.preventDefault()}),onFocus:Mt(t.onFocus,()=>v.onItemFocus(p)),onKeyDown:Mt(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const j=dH(O,v.orientation,v.dir);if(j!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=x().filter(k=>k.focusable).map(k=>k.ref.current);if(j==="last")z.reverse();else if(j==="prev"||j==="next"){j==="prev"&&z.reverse();const k=z.indexOf(O.currentTarget);z=v.loop?fH(z,k+1):z.slice(k+1)}setTimeout(()=>g6(z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:R!=null}):u})})});m6.displayName=h6;var uH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dH(t,e,n){const a=cH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return uH[a]}function g6(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function fH(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var Ab=f6,Jv=m6,T2=["Enter"," "],hH=["ArrowDown","PageUp","Home"],p6=["ArrowUp","PageDown","End"],mH=[...hH,...p6],gH={ltr:[...T2,"ArrowRight"],rtl:[...T2,"ArrowLeft"]},pH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jm="Menu",[hm,vH,yH]=Ww(jm),[Kc,v6]=mo(jm,[yH,n6,eh]),e1=n6(),y6=eh(),[bH,Fc]=Kc(jm),[_H,Mm]=Kc(jm),b6=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=t,f=e1(e),[h,p]=N.useState(null),v=N.useRef(!1),_=io(l),x=Zv(i);return N.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),w.jsx(JB,{...f,children:w.jsx(bH,{scope:e,open:n,onOpenChange:_,content:h,onContentChange:p,children:w.jsx(_H,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:x,modal:u,children:a})})})};b6.displayName=jm;var xH="MenuAnchor",Rb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=e1(n);return w.jsx(eH,{...i,...a,ref:e})});Rb.displayName=xH;var Ob="MenuPortal",[wH,_6]=Kc(Ob,{forceMount:void 0}),x6=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,l=Fc(Ob,e);return w.jsx(wH,{scope:e,forceMount:n,children:w.jsx(Tu,{present:n||l.open,children:w.jsx(mb,{asChild:!0,container:i,children:a})})})};x6.displayName=Ob;var qi="MenuContent",[SH,Nb]=Kc(qi),w6=N.forwardRef((t,e)=>{const n=_6(qi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Fc(qi,t.__scopeMenu),u=Mm(qi,t.__scopeMenu);return w.jsx(hm.Provider,{scope:t.__scopeMenu,children:w.jsx(Tu,{present:a||l.open,children:w.jsx(hm.Slot,{scope:t.__scopeMenu,children:u.modal?w.jsx(EH,{...i,ref:e}):w.jsx(CH,{...i,ref:e})})})})}),EH=N.forwardRef((t,e)=>{const n=Fc(qi,t.__scopeMenu),a=N.useRef(null),i=wa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return dS(l)},[]),w.jsx(jb,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Mt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),CH=N.forwardRef((t,e)=>{const n=Fc(qi,t.__scopeMenu);return w.jsx(jb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),TH=cm("MenuContent.ScrollLock"),jb=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:x,onDismiss:C,disableOutsideScroll:T,...R}=t,O=Fc(qi,n),j=Mm(qi,n),M=e1(n),z=y6(n),k=vH(n),[G,U]=N.useState(null),V=N.useRef(null),K=wa(e,V,O.onContentChange),ne=N.useRef(0),ge=N.useRef(""),we=N.useRef(0),W=N.useRef(null),he=N.useRef("right"),de=N.useRef(0),ue=T?gb:N.Fragment,H=T?{as:TH,allowPinchZoom:!0}:void 0,J=ae=>{const B=ge.current+ae,ee=k().filter(st=>!st.disabled),_e=document.activeElement,Se=ee.find(st=>st.ref.current===_e)?.textValue,Ve=ee.map(st=>st.textValue),lt=PH(Ve,B,Se),Ze=ee.find(st=>st.textValue===lt)?.ref.current;(function st(_t){ge.current=_t,window.clearTimeout(ne.current),_t!==""&&(ne.current=window.setTimeout(()=>st(""),1e3))})(B),Ze&&setTimeout(()=>Ze.focus())};N.useEffect(()=>()=>window.clearTimeout(ne.current),[]),nS();const F=N.useCallback(ae=>he.current===W.current?.side&&HH(ae,W.current?.area),[]);return w.jsx(SH,{scope:n,searchRef:ge,onItemEnter:N.useCallback(ae=>{F(ae)&&ae.preventDefault()},[F]),onItemLeave:N.useCallback(ae=>{F(ae)||(V.current?.focus(),U(null))},[F]),onTriggerLeave:N.useCallback(ae=>{F(ae)&&ae.preventDefault()},[F]),pointerGraceTimerRef:we,onPointerGraceIntentChange:N.useCallback(ae=>{W.current=ae},[]),children:w.jsx(ue,{...H,children:w.jsx(hb,{asChild:!0,trapped:i,onMountAutoFocus:Mt(l,ae=>{ae.preventDefault(),V.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:w.jsx(fb,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:x,onDismiss:C,children:w.jsx(Ab,{asChild:!0,...z,dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:G,onCurrentTabStopIdChange:U,onEntryFocus:Mt(h,ae=>{j.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(tH,{role:"menu","aria-orientation":"vertical","data-state":P6(O.open),"data-radix-menu-content":"",dir:j.dir,...M,...R,ref:K,style:{outline:"none",...R.style},onKeyDown:Mt(R.onKeyDown,ae=>{const ee=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,_e=ae.ctrlKey||ae.altKey||ae.metaKey,Se=ae.key.length===1;ee&&(ae.key==="Tab"&&ae.preventDefault(),!_e&&Se&&J(ae.key));const Ve=V.current;if(ae.target!==Ve||!mH.includes(ae.key))return;ae.preventDefault();const Ze=k().filter(st=>!st.disabled).map(st=>st.ref.current);p6.includes(ae.key)&&Ze.reverse(),LH(Ze)}),onBlur:Mt(t.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(ne.current),ge.current="")}),onPointerMove:Mt(t.onPointerMove,mm(ae=>{const B=ae.target,ee=de.current!==ae.clientX;if(ae.currentTarget.contains(B)&&ee){const _e=ae.clientX>de.current?"right":"left";he.current=_e,de.current=ae.clientX}}))})})})})})})});w6.displayName=qi;var AH="MenuGroup",Mb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return w.jsx(Mn.div,{role:"group",...a,ref:e})});Mb.displayName=AH;var RH="MenuLabel",S6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return w.jsx(Mn.div,{...a,ref:e})});S6.displayName=RH;var wv="MenuItem",y5="menu.itemSelect",t1=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,l=N.useRef(null),u=Mm(wv,t.__scopeMenu),f=Nb(wv,t.__scopeMenu),h=wa(e,l),p=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const x=new CustomEvent(y5,{bubbles:!0,cancelable:!0});_.addEventListener(y5,C=>a?.(C),{once:!0}),Qw(_,x),x.defaultPrevented?p.current=!1:u.onClose()}};return w.jsx(E6,{...i,ref:h,disabled:n,onClick:Mt(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),p.current=!0},onPointerUp:Mt(t.onPointerUp,_=>{p.current||_.currentTarget?.click()}),onKeyDown:Mt(t.onKeyDown,_=>{const x=f.searchRef.current!=="";n||x&&_.key===" "||T2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});t1.displayName=wv;var E6=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=t,u=Nb(wv,n),f=y6(n),h=N.useRef(null),p=wa(e,h),[v,_]=N.useState(!1),[x,C]=N.useState("");return N.useEffect(()=>{const T=h.current;T&&C((T.textContent??"").trim())},[l.children]),w.jsx(hm.ItemSlot,{scope:n,disabled:a,textValue:i??x,children:w.jsx(Jv,{asChild:!0,...f,focusable:!a,children:w.jsx(Mn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:p,onPointerMove:Mt(t.onPointerMove,mm(T=>{a?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Mt(t.onPointerLeave,mm(T=>u.onItemLeave(T))),onFocus:Mt(t.onFocus,()=>_(!0)),onBlur:Mt(t.onBlur,()=>_(!1))})})})}),OH="MenuCheckboxItem",C6=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return w.jsx(N6,{scope:t.__scopeMenu,checked:n,children:w.jsx(t1,{role:"menuitemcheckbox","aria-checked":Sv(n)?"mixed":n,...i,ref:e,"data-state":zb(n),onSelect:Mt(i.onSelect,()=>a?.(Sv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});C6.displayName=OH;var T6="MenuRadioGroup",[NH,jH]=Kc(T6,{value:void 0,onValueChange:()=>{}}),A6=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,l=io(a);return w.jsx(NH,{scope:t.__scopeMenu,value:n,onValueChange:l,children:w.jsx(Mb,{...i,ref:e})})});A6.displayName=T6;var R6="MenuRadioItem",O6=N.forwardRef((t,e)=>{const{value:n,...a}=t,i=jH(R6,t.__scopeMenu),l=n===i.value;return w.jsx(N6,{scope:t.__scopeMenu,checked:l,children:w.jsx(t1,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":zb(l),onSelect:Mt(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});O6.displayName=R6;var Db="MenuItemIndicator",[N6,MH]=Kc(Db,{checked:!1}),j6=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,l=MH(Db,n);return w.jsx(Tu,{present:a||Sv(l.checked)||l.checked===!0,children:w.jsx(Mn.span,{...i,ref:e,"data-state":zb(l.checked)})})});j6.displayName=Db;var DH="MenuSeparator",M6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return w.jsx(Mn.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});M6.displayName=DH;var zH="MenuArrow",D6=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=e1(n);return w.jsx(nH,{...i,...a,ref:e})});D6.displayName=zH;var kH="MenuSub",[jV,z6]=Kc(kH),I0="MenuSubTrigger",k6=N.forwardRef((t,e)=>{const n=Fc(I0,t.__scopeMenu),a=Mm(I0,t.__scopeMenu),i=z6(I0,t.__scopeMenu),l=Nb(I0,t.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:h}=l,p={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=f.current;return()=>{window.clearTimeout(_),h(null)}},[f,h]),w.jsx(Rb,{asChild:!0,...p,children:w.jsx(E6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":P6(n.open),...t,ref:Iv(e,i.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Mt(t.onPointerMove,mm(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Mt(t.onPointerLeave,mm(_=>{v();const x=n.content?.getBoundingClientRect();if(x){const C=n.content?.dataset.side,T=C==="right",R=T?-5:5,O=x[T?"left":"right"],j=x[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:x.top},{x:j,y:x.top},{x:j,y:x.bottom},{x:O,y:x.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Mt(t.onKeyDown,_=>{const x=l.searchRef.current!=="";t.disabled||x&&_.key===" "||gH[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});k6.displayName=I0;var L6="MenuSubContent",U6=N.forwardRef((t,e)=>{const n=_6(qi,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Fc(qi,t.__scopeMenu),u=Mm(qi,t.__scopeMenu),f=z6(L6,t.__scopeMenu),h=N.useRef(null),p=wa(e,h);return w.jsx(hm.Provider,{scope:t.__scopeMenu,children:w.jsx(Tu,{present:a||l.open,children:w.jsx(hm.Slot,{scope:t.__scopeMenu,children:w.jsx(jb,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&h.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Mt(t.onFocusOutside,v=>{v.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Mt(t.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Mt(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),x=pH[u.dir].includes(v.key);_&&x&&(l.onOpenChange(!1),f.trigger?.focus(),v.preventDefault())})})})})})});U6.displayName=L6;function P6(t){return t?"open":"closed"}function Sv(t){return t==="indeterminate"}function zb(t){return Sv(t)?"indeterminate":t?"checked":"unchecked"}function LH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function UH(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function PH(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=UH(t,Math.max(l,0));i.length===1&&(u=u.filter(p=>p!==n));const h=u.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function BH(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],h=e[u],p=f.x,v=f.y,_=h.x,x=h.y;v>a!=x>a&&n<(_-p)*(a-v)/(x-v)+p&&(i=!i)}return i}function HH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return BH(n,e)}function mm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var GH=b6,qH=Rb,VH=x6,YH=w6,IH=Mb,ZH=S6,XH=t1,KH=C6,FH=A6,$H=O6,QH=j6,WH=M6,JH=D6,eG=k6,tG=U6,n1="DropdownMenu",[nG]=mo(n1,[v6]),Nr=v6(),[aG,B6]=nG(n1),H6=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:f=!0}=t,h=Nr(e),p=N.useRef(null),[v,_]=Qf({prop:i,defaultProp:l??!1,onChange:u,caller:n1});return w.jsx(aG,{scope:e,triggerId:Lf(),triggerRef:p,contentId:Lf(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(x=>!x),[_]),modal:f,children:w.jsx(GH,{...h,open:v,onOpenChange:_,dir:a,modal:f,children:n})})};H6.displayName=n1;var G6="DropdownMenuTrigger",q6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,l=B6(G6,n),u=Nr(n);return w.jsx(qH,{asChild:!0,...u,children:w.jsx(Mn.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:Iv(e,l.triggerRef),onPointerDown:Mt(t.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:Mt(t.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});q6.displayName=G6;var rG="DropdownMenuPortal",V6=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Nr(e);return w.jsx(VH,{...a,...n})};V6.displayName=rG;var Y6="DropdownMenuContent",I6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=B6(Y6,n),l=Nr(n),u=N.useRef(!1);return w.jsx(YH,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:e,onCloseAutoFocus:Mt(t.onCloseAutoFocus,f=>{u.current||i.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Mt(t.onInteractOutside,f=>{const h=f.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,v=h.button===2||p;(!i.modal||v)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I6.displayName=Y6;var iG="DropdownMenuGroup",sG=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(IH,{...i,...a,ref:e})});sG.displayName=iG;var lG="DropdownMenuLabel",Z6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(ZH,{...i,...a,ref:e})});Z6.displayName=lG;var oG="DropdownMenuItem",X6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(XH,{...i,...a,ref:e})});X6.displayName=oG;var uG="DropdownMenuCheckboxItem",cG=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(KH,{...i,...a,ref:e})});cG.displayName=uG;var dG="DropdownMenuRadioGroup",K6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(FH,{...i,...a,ref:e})});K6.displayName=dG;var fG="DropdownMenuRadioItem",F6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx($H,{...i,...a,ref:e})});F6.displayName=fG;var hG="DropdownMenuItemIndicator",$6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(QH,{...i,...a,ref:e})});$6.displayName=hG;var mG="DropdownMenuSeparator",Q6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(WH,{...i,...a,ref:e})});Q6.displayName=mG;var gG="DropdownMenuArrow",W6=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(JH,{...i,...a,ref:e})});W6.displayName=gG;var pG="DropdownMenuSubTrigger",vG=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(eG,{...i,...a,ref:e})});vG.displayName=pG;var yG="DropdownMenuSubContent",bG=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Nr(n);return w.jsx(tG,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bG.displayName=yG;var ky=H6,Ly=q6,Uy=V6,Py=I6,b5=Z6,ps=X6,_5=K6,iu=F6,Ef=$6,Cf=Q6,_G=W6,xG="Separator",x5="horizontal",wG=["horizontal","vertical"],J6=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=x5,...i}=t,l=SG(a)?a:x5,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return w.jsx(Mn.div,{"data-orientation":l,...f,...i,ref:e})});J6.displayName=xG;function SG(t){return wG.includes(t)}var EG=J6,e8="Toggle",t8=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:i,...l}=t,[u,f]=Qf({prop:n,onChange:i,defaultProp:a??!1,caller:e8});return w.jsx(Mn.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Mt(t.onClick,()=>{t.disabled||f(!u)})})});t8.displayName=e8;var Au="ToggleGroup",[n8,a8]=mo(Au,[eh]),r8=eh(),kb=Oe.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const i=a;return w.jsx(CG,{...i,ref:e})}if(n==="multiple"){const i=a;return w.jsx(TG,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Au}\``)});kb.displayName=Au;var[i8,s8]=n8(Au),CG=Oe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Qf({prop:n,defaultProp:a??"",onChange:i,caller:Au});return w.jsx(i8,{scope:t.__scopeToggleGroup,type:"single",value:Oe.useMemo(()=>u?[u]:[],[u]),onItemActivate:f,onItemDeactivate:Oe.useCallback(()=>f(""),[f]),children:w.jsx(l8,{...l,ref:e})})}),TG=Oe.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,f]=Qf({prop:n,defaultProp:a??[],onChange:i,caller:Au}),h=Oe.useCallback(v=>f((_=[])=>[..._,v]),[f]),p=Oe.useCallback(v=>f((_=[])=>_.filter(x=>x!==v)),[f]);return w.jsx(i8,{scope:t.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:h,onItemDeactivate:p,children:w.jsx(l8,{...l,ref:e})})});kb.displayName=Au;var[AG,RG]=n8(Au),l8=Oe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:i=!0,orientation:l,dir:u,loop:f=!0,...h}=t,p=r8(n),v=Zv(u),_={role:"group",dir:v,...h};return w.jsx(AG,{scope:n,rovingFocus:i,disabled:a,children:i?w.jsx(Ab,{asChild:!0,...p,orientation:l,dir:v,loop:f,children:w.jsx(Mn.div,{..._,ref:e})}):w.jsx(Mn.div,{..._,ref:e})})}),Ev="ToggleGroupItem",o8=Oe.forwardRef((t,e)=>{const n=s8(Ev,t.__scopeToggleGroup),a=RG(Ev,t.__scopeToggleGroup),i=r8(t.__scopeToggleGroup),l=n.value.includes(t.value),u=a.disabled||t.disabled,f={...t,pressed:l,disabled:u},h=Oe.useRef(null);return a.rovingFocus?w.jsx(Jv,{asChild:!0,...i,focusable:!u,active:l,ref:h,children:w.jsx(w5,{...f,ref:e})}):w.jsx(w5,{...f,ref:e})});o8.displayName=Ev;var w5=Oe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...i}=t,l=s8(Ev,n),u={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},f=l.type==="single"?u:void 0;return w.jsx(t8,{...f,...i,ref:e,onPressedChange:h=>{h?l.onItemActivate(a):l.onItemDeactivate(a)}})}),OG=kb,NG=o8,Lb="Toolbar",[jG]=mo(Lb,[eh,a8]),Ub=eh(),u8=a8(),[MG,c8]=jG(Lb),d8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:i,loop:l=!0,...u}=t,f=Ub(n),h=Zv(i);return w.jsx(MG,{scope:n,orientation:a,dir:h,children:w.jsx(Ab,{asChild:!0,...f,orientation:a,dir:h,loop:l,children:w.jsx(Mn.div,{role:"toolbar","aria-orientation":a,dir:h,...u,ref:e})})})});d8.displayName=Lb;var f8="ToolbarSeparator",h8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=c8(f8,n);return w.jsx(EG,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});h8.displayName=f8;var DG="ToolbarButton",m8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Ub(n);return w.jsx(Jv,{asChild:!0,...i,focusable:!t.disabled,children:w.jsx(Mn.button,{type:"button",...a,ref:e})})});m8.displayName=DG;var zG="ToolbarLink",kG=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Ub(n);return w.jsx(Jv,{asChild:!0,...i,focusable:!0,children:w.jsx(Mn.a,{...a,ref:e,onKeyDown:Mt(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});kG.displayName=zG;var g8="ToolbarToggleGroup",p8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=c8(g8,n),l=u8(n);return w.jsx(OG,{"data-orientation":i.orientation,dir:i.dir,...l,...a,ref:e,rovingFocus:!1})});p8.displayName=g8;var LG="ToolbarToggleItem",v8=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=u8(n),l={__scopeToolbar:t.__scopeToolbar};return w.jsx(m8,{asChild:!0,...l,children:w.jsx(NG,{...i,...a,ref:e})})});v8.displayName=LG;var UG=d8,PG=h8,S5=p8,Tc=v8;function BG(t){return cn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function E5({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:i,onEraserClick:l,tool:u,setTool:f}){return w.jsxs(UG,{className:"flex px-6 py-3 md:px-5 w-full mx-5 sm:px-5 sm:w-fit sm:py-2 rounded-lg bg-white border-2 border-zinc-300 shadow-sm  justify-center max-sm:gap-3 ",children:[w.jsxs(S5,{type:"single",className:"flex gap-2 sm:gap-0.5",children:[w.jsx(Tc,{value:"task",children:w.jsxs("div",{className:"add-task add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:t,children:[w.jsx(pA,{className:"text-2xl"}),w.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task  Q"}),w.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"Q"})]})}),w.jsx(Tc,{value:"todo",children:w.jsxs("div",{className:"add-todo add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:()=>e(),children:[w.jsx(hA,{className:"text-2xl md:text-xl"}),w.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do  W"}),w.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"W"})]})}),w.jsx(Tc,{value:"annotate",children:w.jsxs("div",{onClick:()=>i(),className:"add-annotate relative group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[w.jsx(fA,{className:"text-2xl md:text-xl"}),w.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Text  E"}),w.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"E"})]})})]}),w.jsx(PG,{className:"w-px my-3 mx-2 bg-black"}),w.jsxs(S5,{type:"single",value:u,onValueChange:h=>{h&&f(h)},className:"flex gap-2 sm:gap-0.5",children:[w.jsx(Tc,{value:"hand",className:"group",children:w.jsxs("div",{className:"pan-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[w.jsx(_A,{className:"-rotate-[45deg] text-2xl md:text-xl group-data-[state=on]:stroke-blue-500 sm:text-xl"}),w.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Hand  1 or Z"}),w.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"1"})]})}),w.jsx(Tc,{value:"select",className:"group",onClick:a,children:w.jsxs("div",{className:"select-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[w.jsx(vA,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),w.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select  2 or X"}),w.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"2"})]})}),w.jsx(Tc,{value:"draw",className:"group",onClick:n,children:w.jsxs("div",{className:"draw-canvas relative flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[w.jsx(D3,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-blue-500"}),w.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw  3 or C"}),w.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"3"})]})}),w.jsx(Tc,{value:"eraser",className:"group",onClick:l,children:w.jsxs("div",{className:"eraser-canvas add-shape relative group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[w.jsx(BG,{className:"text-2xl md:text-xl group-data-[state=on]:stroke-red-500 group-data-[state=on]:stroke-2",style:{strokeWidth:.5}}),w.jsx("span",{className:"absolute pointer-events-none -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Eraser  4 or V"}),w.jsx("span",{className:"hidden xl:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-red-500",children:"4"})]})})]})]})}async function y8(t){const{data:e,error:n}=await an.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;const{data:a,error:i}=await an.from("canvas").insert({owner_id:t}).select("canvas_id").single();return i?(console.error("Error creating canvas:",i),null):a.canvas_id}async function HG(t,e){try{const{data:n,error:a}=await an.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function C5(t){try{const{data:e,error:n}=await an.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function T5(t,e){try{const{data:n}=await an.auth.getUser();if(!n?.user||t==="local")return await new Promise(l=>{const u=indexedDB.open("CanvasDB"),f={local_color:"local",color:e||"#ffffff",updatedAt:Date.now()};u.onsuccess=()=>{const p=u.result.transaction("BackgroundColor","readwrite");p.objectStore("BackgroundColor").put(f),p.oncomplete=()=>l(!0),p.onerror=()=>l(!0)},u.onerror=()=>l(!0)}),{success:!0,canvasId:"local"};const{error:i}=await an.from("canvas").update({background_color:e}).eq("canvas_id",t);i&&console.error(i)}catch(n){console.error("Error on update canvas color function: ",n)}}async function A5(t){try{const{data:e}=await an.auth.getUser();if(!e?.user||t==="local")return new Promise(l=>{const u=indexedDB.open("CanvasDB");u.onsuccess=()=>{const h=u.result.transaction(["BackgroundColor"],"readonly"),v=h.objectStore("BackgroundColor").get("local");h.oncomplete=()=>{const _=v.result;l(_?_.color:"#ffffff")}},u.onerror=()=>{l("#ffffff")}});const{data:a,error:i}=await an.from("canvas").select("background_color").eq("canvas_id",t).single();return i?(console.error(i),"#ffffff"):a.background_color}catch(e){console.error("Error on get canvas color function: ",e)}}async function GG(t,e){return await new Promise(n=>{const a=indexedDB.open("CanvasDB"),i={canvas_viewport:e||"local",x:t.x,y:t.y,scale:t.scale,updatedAt:Date.now()};a.onsuccess=()=>{const u=a.result.transaction(["Viewport"],"readwrite");u.objectStore("Viewport").put(i),u.oncomplete=()=>n(!0),u.onerror=()=>n(!0)},a.onerror=()=>n(!0)}),{success:!0,canvasId:"local"}}async function Gp(t,e){try{const{data:n}=await an.auth.getUser(),a=n?.user;if(!a||e==="local")return await new Promise(C=>{const T=indexedDB.open("CanvasDB"),R={local_canvas:"local",canvasData:t,updatedAt:Date.now()},O={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};T.onsuccess=()=>{const M=T.result.transaction(["Canvas","Viewport"],"readwrite"),z=M.objectStore("Canvas"),k=M.objectStore("Viewport");z.put(R),k.put(O),M.oncomplete=()=>C(!0),M.onerror=()=>C(!0)},T.onerror=()=>C(!0)}),{success:!0,canvasId:"local"};if(!a)return{success:!0};let i=e;if(!i&&(i=await y8(a.id),!i))return{success:!1,error:"Failed to get canvas"};if(GG(t.viewport,e),!t||!t.shapes||!t.connectors)return console.warn("Incomplete data"),{success:!0,canvasId:i};const{data:l,error:u}=await an.from("shapes").select("shape_id, shape_data").eq("canvas_id",i);if(u)return console.error("Fetch error:",u),{success:!1,error:u.message};const f=new Map(l?.map(C=>[C.shape_data.id,C.shape_id])||[]),h=new Set([...t.shapes.map(C=>C.id),...t.connectors.map(C=>C.id)]),p=l?.filter(C=>!h.has(C.shape_data.id)).map(C=>C.shape_id)||[];p.length>0&&await an.from("shapes").delete().in("shape_id",p);const v=t.shapes.map(C=>({shape_id:f.get(C.id)||crypto.randomUUID(),canvas_id:i,shape_data:C})),_=t.connectors.map(C=>({shape_id:f.get(C.id)||crypto.randomUUID(),canvas_id:i,shape_data:C})),x=[...v,..._];if(x.length>0){const{error:C}=await an.from("shapes").upsert(x,{onConflict:"shape_id",ignoreDuplicates:!1});if(C)return console.error("Upsert error:",C),{success:!1,error:C.message}}return{success:!0,canvasId:i}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}const qG=async t=>new Promise(e=>{const n=indexedDB.open("CanvasDB");n.onsuccess=()=>{const i=n.result.transaction("Viewport","readonly"),u=i.objectStore("Viewport").get(t||"local");i.oncomplete=()=>{const f=u.result;e(f||{x:0,y:0,scale:1})}},n.onerror=()=>{e({x:0,y:0,scale:1})}});async function qp(t){try{const{data:{user:e}}=await an.auth.getUser();if(!e||t==="local")return new Promise(R=>{const O=indexedDB.open("CanvasDB");O.onsuccess=()=>{const M=O.result.transaction(["Canvas","Viewport"],"readonly"),k=M.objectStore("Canvas").get("local"),U=M.objectStore("Viewport").get("local");k.onerror=()=>R({success:!1,error:"Failed to get canvas data"}),U.onerror=()=>R({success:!1,error:"Failed to get canvas viewport"}),M.oncomplete=()=>{const V=k.result,K=U.result;if(!V){R({success:!1,error:"No offline canvas found"});return}K&&(V.canvasData.viewport=K),R({success:!0,data:V.canvasData,canvasId:V.local_canvas})}}});let n=t;if(!n&&(n=await y8(e.id),!n))return{success:!1,error:"Failed to get or create canvas"};const{data:a,error:i}=await an.from("shapes").select("shape_data").eq("canvas_id",n);if(i)return{success:!1,error:i.message};const l=a.filter(R=>R.shape_data.shape==="rect").map(R=>R.shape_data),u=a.filter(R=>R.shape_data.shape==="line").map(R=>R.shape_data),f=a.filter(R=>R.shape_data.shape==="todo").map(R=>R.shape_data),h=a.filter(R=>R.shape_data.shape==="connector").map(R=>R.shape_data),p=[...l,...u,...f],v=Array.from(new Map(p.map(R=>[R.id,R])).values()),_=Array.from(new Map(h.map(R=>[R.id,R])).values()),x=new Set;v.forEach(R=>{x.add(R.id),x.add(`group-${R.id}`)});const C=_.filter(R=>{const O=x.has(R.from),j=x.has(R.to);return!O||!j?(console.warn("Removing orphaned connector:",{id:R.id,from:R.from,to:R.to,fromExists:O,toExists:j}),!1):!0}),T=await qG(n);return{success:!0,data:{shapes:v,connectors:C,viewport:T},canvasId:n}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function VG(t){try{const{data:{user:e}}=await an.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await an.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function YG(){try{const{data:{user:t}}=await an.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await an.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}async function IG(t,e){try{const{data:{user:n}}=await an.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await an.from("canvas").update({canvas_name:e,updated_at:new Date().toISOString()}).eq("canvas_id",t).eq("owner_id",n.id);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("updateCanvasName error:",n),{success:!1,error:String(n)}}}async function ZG(t){try{const{data:{user:e}}=await an.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await an.from("shapes").delete().eq("canvas_id",t);if(n)return{success:!1,error:n.message};const{error:a}=await an.from("canvas").delete().eq("canvas_id",t).eq("owner_id",e.id);return a?{success:!1,error:a.message}:{success:!0}}catch(e){return console.error("deleteCanvasById error:",e),{success:!1,error:String(e)}}}const XG=async()=>{let t,e,n=4;return new Promise(a=>{t=indexedDB.open("CanvasDB",n),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||e.createObjectStore("Canvas",{keyPath:"local_canvas"}),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"}),e.objectStoreNames.contains("BackgroundColor")||e.createObjectStore("BackgroundColor",{keyPath:"local_color"})},t.onsuccess=()=>{e=t.result,n=e.version,a(!0)},t.onerror=()=>{a(!1)}})},KG=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await XG()||console.error("InitDb - Something went wrong"))},[])});function FG(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function $G(t){return cn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M186.301 339.893L96 249.461l-32 30.507L186.301 402 448 140.506 416 110z"},child:[]}]})(t)}function QG(t){return cn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function WG(t){return cn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function JG(t){return cn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"path",attr:{d:"M12 17h.01"},child:[]}]})(t)}function eq({message:t,type:e}){const n={loading:"#facc15",success:"#22c55e",empty:"#9ca3af",error:"#ef4444"};return w.jsxs("div",{style:{position:"fixed",bottom:20,right:20,padding:"10px 14px",background:n[e],color:"#111",borderRadius:8,fontSize:14,fontWeight:500,boxShadow:"0 8px 20px rgba(0,0,0,0.25)",zIndex:9999,transition:"background 0.25s ease"},children:[e==="success"&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx($G,{color:"#000000"}),t]}),e==="error"&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(QG,{color:"#000000"}),t]}),e==="loading"&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(WG,{color:"#000000"}),t]}),e==="empty"&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(JG,{color:"#000000"}),t]})]})}var tq={attributes:!0,characterData:!0,subtree:!0,childList:!0};function nq(t,e,n=tq){N.useEffect(()=>{if(t.current){const a=new MutationObserver(e);return a.observe(t.current,n),()=>{a.disconnect()}}},[e,n])}var b8=(function(){if(typeof Map<"u")return Map;function t(e,n){var a=-1;return e.some(function(i,l){return i[0]===n?(a=l,!0):!1}),a}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var a=t(this.__entries__,n),i=this.__entries__[a];return i&&i[1]},e.prototype.set=function(n,a){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=a:this.__entries__.push([n,a])},e.prototype.delete=function(n){var a=this.__entries__,i=t(a,n);~i&&a.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var i=0,l=this.__entries__;i<l.length;i++){var u=l[i];n.call(a,u[1],u[0])}},e})()})(),A2=typeof window<"u"&&typeof document<"u"&&window.document===document,Cv=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),aq=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Cv):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),rq=2;function iq(t,e){var n=!1,a=!1,i=0;function l(){n&&(n=!1,t()),a&&f()}function u(){aq(l)}function f(){var h=Date.now();if(n){if(h-i<rq)return;a=!0}else n=!0,a=!1,setTimeout(u,e);i=h}return f}var sq=20,lq=["top","right","bottom","left","width","height","size","weight"],oq=typeof MutationObserver<"u",uq=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=iq(this.refresh.bind(this),sq)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,a=n.indexOf(e);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!A2||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),oq?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!A2||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,a=n===void 0?"":n,i=lq.some(function(l){return!!~a.indexOf(l)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),_8=(function(t,e){for(var n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),Xf=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Cv}),x8=a1(0,0,0,0);function Tv(t){return parseFloat(t)||0}function R5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(a,i){var l=t["border-"+i+"-width"];return a+Tv(l)},0)}function cq(t){for(var e=["top","right","bottom","left"],n={},a=0,i=e;a<i.length;a++){var l=i[a],u=t["padding-"+l];n[l]=Tv(u)}return n}function dq(t){var e=t.getBBox();return a1(0,0,e.width,e.height)}function fq(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return x8;var a=Xf(t).getComputedStyle(t),i=cq(a),l=i.left+i.right,u=i.top+i.bottom,f=Tv(a.width),h=Tv(a.height);if(a.boxSizing==="border-box"&&(Math.round(f+l)!==e&&(f-=R5(a,"left","right")+l),Math.round(h+u)!==n&&(h-=R5(a,"top","bottom")+u)),!mq(t)){var p=Math.round(f+l)-e,v=Math.round(h+u)-n;Math.abs(p)!==1&&(f-=p),Math.abs(v)!==1&&(h-=v)}return a1(i.left,i.top,f,h)}var hq=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Xf(t).SVGGraphicsElement}:function(t){return t instanceof Xf(t).SVGElement&&typeof t.getBBox=="function"}})();function mq(t){return t===Xf(t).document.documentElement}function gq(t){return A2?hq(t)?dq(t):fq(t):x8}function pq(t){var e=t.x,n=t.y,a=t.width,i=t.height,l=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(l.prototype);return _8(u,{x:e,y:n,width:a,height:i,top:n,right:e+a,bottom:i+n,left:e}),u}function a1(t,e,n,a){return{x:t,y:e,width:n,height:a}}var vq=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=a1(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=gq(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),yq=(function(){function t(e,n){var a=pq(n);_8(this,{target:e,contentRect:a})}return t})(),bq=(function(){function t(e,n,a){if(this.activeObservations_=[],this.observations_=new b8,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=a}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Xf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new vq(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Xf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new yq(a.target,a.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),w8=typeof WeakMap<"u"?new WeakMap:new b8,S8=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=uq.getInstance(),a=new bq(e,n,this);w8.set(this,a)}return t})();["observe","unobserve","disconnect"].forEach(function(t){S8.prototype[t]=function(){var e;return(e=w8.get(this))[t].apply(e,arguments)}});var _q=(function(){return typeof Cv.ResizeObserver<"u"?Cv.ResizeObserver:S8})(),xq=({mutationObservables:t,resizeObservables:e,refresh:n})=>{const[a,i]=N.useState(0),l=N.useRef(document.documentElement||document.body);function u(h){const p=Array.from(h);for(const v of p)if(t){if(!v.attributes)continue;t.find(x=>v.matches(x))&&n(!0)}}function f(h){const p=Array.from(h);for(const v of p)if(e){if(!v.attributes)continue;e.find(x=>v.matches(x))&&i(a+1)}}return nq(l,h=>{for(const p of h)p.addedNodes.length!==0&&(u(p.addedNodes),f(p.addedNodes)),p.removedNodes.length!==0&&(u(p.removedNodes),f(p.removedNodes))},{childList:!0,subtree:!0}),N.useEffect(()=>{if(!e)return;const h=new _q(()=>{n()});for(const p of e){const v=document.querySelector(p);v&&h.observe(v)}return()=>{h.disconnect()}},[e,a]),null},wq=xq;function Jp(t){let e=E8;return t&&(e=t.getBoundingClientRect()),e}function Sq(t,e){const[n,a]=N.useState(E8),i=N.useCallback(()=>{t?.current&&a(Jp(t?.current))},[t?.current]);return N.useEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[t?.current,e]),n}var E8={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function Eq(t,e){return new Promise(n=>{if(!(t instanceof Element))throw new TypeError("Argument 1 must be an Element");let a=0,i=null;const l=Object.assign({behavior:"smooth"},e);t.scrollIntoView(l),requestAnimationFrame(u);function u(){const f=t?.getBoundingClientRect().top;if(f===i){if(a++>2)return n(null)}else a=0,i=f;requestAnimationFrame(u)}})}function Vp(t){return t<0?0:t}function Cq(t){return typeof t=="object"&&t!==null?{thresholdX:t.x||0,thresholdY:t.y||0}:{thresholdX:t||0,thresholdY:t||0}}function r1(){const t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{w:t,h:e}}function Tq({top:t,right:e,bottom:n,left:a,threshold:i}){const{w:l,h:u}=r1(),{thresholdX:f,thresholdY:h}=Cq(i);return t<0&&n-t>u?!0:t>=0+h&&a>=0+f&&n<=u-h&&e<=l-f}var O5=(t,e)=>t>e,N5=(t,e)=>t>e;function Aq(t,e=[]){const n=(a,i)=>e.includes(a)?1:e.includes(i)?-1:0;return Object.keys(t).map(a=>({position:a,value:t[a]})).sort((a,i)=>i.value-a.value).sort((a,i)=>n(a.position,i.position)).filter(a=>a.value>0).map(a=>a.position)}var By=10;function R2(t=By){return Array.isArray(t)?t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[1],t[0],t[1],t[0]]:t.length===3?[t[0],t[1],t[2],t[1]]:t.length>3?[t[0],t[1],t[2],t[3]]:[By,By]:[t,t,t,t]}var Rq={maskWrapper:()=>({opacity:.7,left:0,top:0,position:"fixed",zIndex:99999,pointerEvents:"none",color:"#000"}),svgWrapper:({windowWidth:t,windowHeight:e,wpt:n,wpl:a})=>({width:t,height:e,left:Number(a),top:Number(n),position:"fixed"}),maskArea:({x:t,y:e,width:n,height:a})=>({x:t,y:e,width:n,height:a,fill:"black",rx:0}),maskRect:({windowWidth:t,windowHeight:e,maskID:n})=>({x:0,y:0,width:t,height:e,fill:"currentColor",mask:`url(#${n})`}),clickArea:({windowWidth:t,windowHeight:e,clipID:n})=>({x:0,y:0,width:t,height:e,fill:"currentcolor",pointerEvents:"auto",clipPath:`url(#${n})`}),highlightedArea:({x:t,y:e,width:n,height:a})=>({x:t,y:e,width:n,height:a,pointerEvents:"auto",fill:"transparent",display:"none"})};function Oq(t){return(e,n)=>{const a=Rq[e](n),i=t[e];return i?i(a,n):a}}var Nq=({padding:t=10,wrapperPadding:e=0,onClick:n,onClickHighlighted:a,styles:i={},sizes:l,className:u,highlightedAreaClassName:f,maskId:h,clipId:p})=>{const v=h||j5("mask__"),_=p||j5("clip__"),x=Oq(i),[C,T,R,O]=R2(t),[j,M,z,k]=R2(e),{w:G,h:U}=r1(),V=Vp(l?.width+O+T),K=Vp(l?.height+C+R),ne=Vp(l?.top-C-j),ge=Vp(l?.left-O-k),we=G-k-M,W=U-j-z,he=x("maskArea",{x:ge,y:ne,width:V,height:K}),de=x("highlightedArea",{x:ge,y:ne,width:V,height:K});return Oe.createElement("div",{style:x("maskWrapper",{}),onClick:n,className:u},Oe.createElement("svg",{width:we,height:W,xmlns:"http://www.w3.org/2000/svg",style:x("svgWrapper",{windowWidth:we,windowHeight:W,wpt:j,wpl:k})},Oe.createElement("defs",null,Oe.createElement("mask",{id:v},Oe.createElement("rect",{x:0,y:0,width:we,height:W,fill:"white"}),Oe.createElement("rect",{style:he,rx:he.rx?1:void 0})),Oe.createElement("clipPath",{id:_},Oe.createElement("polygon",{points:`0 0, 0 ${W}, ${ge} ${W}, ${ge} ${ne}, ${ge+V} ${ne}, ${ge+V} ${ne+K}, ${ge} ${ne+K}, ${ge} ${W}, ${we} ${W}, ${we} 0`}))),Oe.createElement("rect",{style:x("maskRect",{windowWidth:we,windowHeight:W,maskID:v})}),Oe.createElement("rect",{style:x("clickArea",{windowWidth:we,windowHeight:W,top:ne,left:ge,width:V,height:K,clipID:_})}),Oe.createElement("rect",{style:de,className:f,onClick:a,rx:de.rx?1:void 0})))},jq=Nq;function j5(t){return t+Math.random().toString(36).substring(2,16)}var Mq=Object.defineProperty,Av=Object.getOwnPropertySymbols,C8=Object.prototype.hasOwnProperty,T8=Object.prototype.propertyIsEnumerable,M5=(t,e,n)=>e in t?Mq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D5=(t,e)=>{for(var n in e||(e={}))C8.call(e,n)&&M5(t,n,e[n]);if(Av)for(var n of Av(e))T8.call(e,n)&&M5(t,n,e[n]);return t},Dq=(t,e)=>{var n={};for(var a in t)C8.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&Av)for(var a of Av(t))e.indexOf(a)<0&&T8.call(t,a)&&(n[a]=t[a]);return n},zq={popover:()=>({position:"fixed",maxWidth:353,backgroundColor:"#fff",padding:"24px 30px",boxShadow:"0 0.5em 3em rgba(0, 0, 0, 0.3)",color:"inherit",zIndex:1e5,transition:"transform 0.3s",top:0,left:0})};function kq(t){return(e,n)=>{const a=zq[e](n),i=t[e];return i?i(a,n):a}}var Lq=t=>{var e=t,{children:n,position:a="bottom",padding:i=10,styles:l={},sizes:u,refresher:f}=e,h=Dq(e,["children","position","padding","styles","sizes","refresher"]);const p=N.useRef(null),v=N.useRef(""),_=N.useRef(""),x=N.useRef(""),{w:C,h:T}=r1(),R=kq(l),O=Sq(p,f),{width:j,height:M}=O,[z,k,G,U]=R2(i),V=u?.left-U,K=u?.top-z,ne=u?.right+k,ge=u?.bottom+G,we=a&&typeof a=="function"?a({width:j,height:M,windowWidth:C,windowHeight:T,top:K,left:V,right:ne,bottom:ge,x:u.x,y:u.y},O):a,W={left:V,right:C-ne,top:K,bottom:T-ge},he=(J,F,ae)=>{switch(J){case"top":return W.top>M+G;case"right":return F?!1:W.right>j+U;case"bottom":return ae?!1:W.bottom>M+z;case"left":return W.left>j+k;default:return!1}},de=(J,F,ae)=>{const B=Aq(W,ae?["right","left"]:F?["top","bottom"]:[]);for(let ee=0;ee<B.length;ee++)if(he(B[ee],F,ae))return v.current=B[ee],J[B[ee]];return v.current="center",J.center},H=(J=>{if(Array.isArray(J)){const Se=O5(J[0],C),Ve=N5(J[1],T);return v.current="custom",[Se?C/2-j/2:J[0],Ve?T/2-M/2:J[1]]}const F=O5(V+j,C),ae=N5(ge+M,T),B=F?Math.min(V,C-j):Math.max(V,0),ee=ae?M>W.bottom?Math.max(ge-M,0):Math.max(K,0):K;ae&&M>W.bottom?_.current="bottom":_.current="top",F?x.current="left":x.current="right";const _e={top:[B-U,K-M-G],right:[ne+U,ee-z],bottom:[B-U,ge+z],left:[V-j-k,ee-z],center:[C/2-j/2,T/2-M/2]};return J==="center"||he(J,F,ae)&&!F&&!ae?(v.current=J,_e[J]):de(_e,F,ae)})(we);return Oe.createElement("div",D5({className:"reactour__popover",style:D5({transform:`translate(${Math.round(H[0])}px, ${Math.round(H[1])}px)`},R("popover",{position:v.current,verticalAlign:_.current,horizontalAlign:x.current,helperRect:O,targetRect:u})),ref:p},h),n)},Uq=Lq,Pq=Object.defineProperty,Bq=Object.defineProperties,Hq=Object.getOwnPropertyDescriptors,Rv=Object.getOwnPropertySymbols,A8=Object.prototype.hasOwnProperty,R8=Object.prototype.propertyIsEnumerable,z5=(t,e,n)=>e in t?Pq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mr=(t,e)=>{for(var n in e||(e={}))A8.call(e,n)&&z5(t,n,e[n]);if(Rv)for(var n of Rv(e))R8.call(e,n)&&z5(t,n,e[n]);return t},Pb=(t,e)=>Bq(t,Hq(e)),gm=(t,e)=>{var n={};for(var a in t)A8.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&Rv)for(var a of Rv(t))e.indexOf(a)<0&&R8.call(t,a)&&(n[a]=t[a]);return n},Gq={bottom:0,height:0,left:0,right:0,top:0,width:0,windowWidth:0,windowHeight:0,x:0,y:0};function qq(t,e={block:"center",behavior:"smooth",inViewThreshold:0}){const[n,a]=N.useState(!1),[i,l]=N.useState(!1),[u,f]=N.useState(!1),[h,p]=N.useState(null),[v,_]=N.useState(Gq),x=t?.selector instanceof Element?t?.selector:document.querySelector(t?.selector),C=N.useCallback(()=>{const R=k5(x,t?.highlightedSelectors,t?.bypassElem),{hasHighligtedElems:O}=R,j=gm(R,["hasHighligtedElems"]);Object.entries(v).some(([M,z])=>j[M]!==z)&&_(j)},[x,t?.highlightedSelectors,v]);N.useEffect(()=>(C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)),[x,t?.highlightedSelectors,h]),N.useEffect(()=>{!Tq(Pb(mr({},v),{threshold:e.inViewThreshold}))&&x&&(a(!0),Eq(x,e).then(()=>{i||p(Date.now())}).finally(()=>{a(!1)}))},[v]);const T=N.useCallback(()=>{l(!0);const R=k5(x,t?.highlightedSelectors,t?.bypassElem),{hasHighligtedElems:O}=R,j=gm(R,["hasHighligtedElems"]);f(O),_(j),l(!1)},[x,t?.highlightedSelectors,v]);return{sizes:v,transition:n,target:x,observableRefresher:T,isHighlightingObserved:u}}function k5(t,e=[],n=!0){let a=!1;const{w:i,h:l}=r1();if(!e)return Pb(mr({},Jp(t)),{windowWidth:i,windowHeight:l,hasHighligtedElems:!1});let u=Jp(t),f={bottom:0,height:0,left:i,right:0,top:l,width:0};for(const p of e){const v=document.querySelector(p);if(!v||v.style.display==="none"||v.style.visibility==="hidden")continue;const _=Jp(v);a=!0,n||!t?(_.top<f.top&&(f.top=_.top),_.right>f.right&&(f.right=_.right),_.bottom>f.bottom&&(f.bottom=_.bottom),_.left<f.left&&(f.left=_.left),f.width=f.right-f.left,f.height=f.bottom-f.top):(_.top<u.top&&(u.top=_.top),_.right>u.right&&(u.right=_.right),_.bottom>u.bottom&&(u.bottom=_.bottom),_.left<u.left&&(u.left=_.left),u.width=u.right-u.left,u.height=u.bottom-u.top)}const h=n||!t?f.width>0&&f.height>0:!1;return{left:(h?f:u).left,top:(h?f:u).top,right:(h?f:u).right,bottom:(h?f:u).bottom,width:(h?f:u).width,height:(h?f:u).height,windowWidth:i,windowHeight:l,hasHighligtedElems:a,x:u.x,y:u.y}}var Vq=({disableKeyboardNavigation:t,setCurrentStep:e,currentStep:n,setIsOpen:a,stepsLength:i,disable:l,rtl:u,clickProps:f,keyboardHandler:h})=>{function p(v){if(v.stopPropagation(),t===!0||l)return;let _,x,C;t&&(_=t.includes("esc"),x=t.includes("right"),C=t.includes("left"));function T(){e(Math.min(n+1,i-1))}function R(){e(Math.max(n-1,0))}h&&typeof h=="function"?h(v,f,{isEscDisabled:_,isRightDisabled:x,isLeftDisabled:C}):(v.keyCode===27&&!_&&(v.preventDefault(),a(!1)),v.keyCode===39&&!x&&(v.preventDefault(),u?R():T()),v.keyCode===37&&!C&&(v.preventDefault(),u?T():R()))}return N.useEffect(()=>(window.addEventListener("keydown",p,!1),()=>{window.removeEventListener("keydown",p)}),[l,e,n]),null},Yq=Vq,Iq={badge:()=>({position:"absolute",fontFamily:"monospace",background:"var(--reactour-accent,#007aff)",height:"1.875em",lineHeight:2,paddingLeft:"0.8125em",paddingRight:"0.8125em",fontSize:"1em",borderRadius:"1.625em",color:"white",textAlign:"center",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.3)",top:"-0.8125em",left:"-0.8125em"}),controls:()=>({display:"flex",marginTop:24,alignItems:"center",justifyContent:"space-between"}),navigation:()=>({counterReset:"dot",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}),button:({disabled:t})=>({display:"block",padding:0,border:0,background:"none",cursor:t?"not-allowed":"pointer"}),arrow:({disabled:t})=>({color:t?"#caccce":"#646464",width:16,height:12,flex:"0 0 16px"}),dot:({current:t,disabled:e,showNumber:n})=>({counterIncrement:"dot",width:8,height:8,border:t?"0":"1px solid #caccce",borderRadius:"100%",padding:0,display:"block",margin:4,transition:"opacity 0.3s, transform 0.3s",cursor:e?"not-allowed":"pointer",transform:`scale(${t?1.25:1})`,color:t?"var(--reactour-accent, #007aff)":"#caccce",background:t?"var(--reactour-accent, #007aff)":"none"}),close:({disabled:t})=>({position:"absolute",top:22,right:22,width:9,height:9,"--rt-close-btn":t?"#caccce":"#5e5e5e","--rt-close-btn-disabled":t?"#caccce":"#000"}),svg:()=>({display:"block"})};function i1(t){return(e,n)=>{const a=Iq[e](n),i=t[e];return i?i(a,n):a}}var Zq=({styles:t={},children:e})=>{const n=i1(t);return Oe.createElement("span",{style:n("badge",{})},e)},Xq=Zq,Kq=t=>{var e=t,{styles:n={},onClick:a,disabled:i}=e,l=gm(e,["styles","onClick","disabled"]);const u=i1(n);return Oe.createElement("button",mr({className:"reactour__close-button",style:mr(mr({},u("button",{})),u("close",{disabled:i})),onClick:a},l),Oe.createElement("svg",{viewBox:"0 0 9.1 9.1","aria-hidden":!0,role:"presentation",style:mr({},u("svg",{}))},Oe.createElement("path",{fill:"currentColor",d:"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z"})))},Fq=Kq,$q=({content:t,setCurrentStep:e,transition:n,isHighlightingObserved:a,currentStep:i,setIsOpen:l})=>typeof t=="function"?t({setCurrentStep:e,transition:n,isHighlightingObserved:a,currentStep:i,setIsOpen:l}):t,Qq=$q,Wq=({styles:t={},steps:e,setCurrentStep:n,currentStep:a,setIsOpen:i,nextButton:l,prevButton:u,disableDots:f,hideDots:h,hideButtons:p,disableAll:v,rtl:_,Arrow:x=O8})=>{const C=e.length,T=i1(t),R=({onClick:O,kind:j="next",children:M,hideArrow:z})=>{function k(){v||(O&&typeof O=="function"?O():n(j==="next"?Math.min(a+1,C-1):Math.max(a-1,0)))}return Oe.createElement("button",{style:T("button",{kind:j,disabled:v||(j==="next"?C-1===a:a===0)}),onClick:k,"aria-label":`Go to ${j} step`},z?null:Oe.createElement(x,{styles:t,inverted:_?j==="prev":j==="next",disabled:v||(j==="next"?C-1===a:a===0)}),M)};return Oe.createElement("div",{style:T("controls",{}),dir:_?"rtl":"ltr"},p?null:u&&typeof u=="function"?u({Button:R,setCurrentStep:n,currentStep:a,stepsLength:C,setIsOpen:i,steps:e}):Oe.createElement(R,{kind:"prev"}),h?null:Oe.createElement("div",{style:T("navigation",{})},Array.from({length:C},(O,j)=>j).map(O=>{var j;return Oe.createElement("button",{style:T("dot",{current:O===a,disabled:f||v}),onClick:()=>{!f&&!v&&n(O)},key:`navigation_dot_${O}`,"aria-label":((j=e[O])==null?void 0:j.navDotAriaLabel)||`Go to step ${O+1}`})})),p?null:l&&typeof l=="function"?l({Button:R,setCurrentStep:n,currentStep:a,stepsLength:C,setIsOpen:i,steps:e}):Oe.createElement(R,null))},Jq=Wq,O8=({styles:t={},inverted:e=!1,disabled:n})=>{const a=i1(t);return Oe.createElement("svg",{viewBox:"0 0 18.4 14.4",style:a("arrow",{inverted:e,disabled:n})},Oe.createElement("path",{d:e?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"}))},eV={Badge:Xq,Close:Fq,Content:Qq,Navigation:Jq,Arrow:O8},tV=t=>mr(mr({},eV),t),nV=({styles:t,components:e={},badgeContent:n,accessibilityOptions:a,disabledActions:i,onClickClose:l,steps:u,setCurrentStep:f,currentStep:h,transition:p,isHighlightingObserved:v,setIsOpen:_,nextButton:x,prevButton:C,disableDotsNavigation:T,rtl:R,showPrevNextButtons:O=!0,showCloseButton:j=!0,showNavigation:M=!0,showBadge:z=!0,showDots:k=!0,meta:G,setMeta:U,setSteps:V})=>{const K=u[h],{Badge:ne,Close:ge,Content:we,Navigation:W,Arrow:he}=tV(e),de=n&&typeof n=="function"?n({currentStep:h,totalSteps:u.length,transition:p}):h+1;function ue(){i||(l&&typeof l=="function"?l({setCurrentStep:f,setIsOpen:_,currentStep:h,steps:u,meta:G,setMeta:U,setSteps:V}):_(!1))}return Oe.createElement(Oe.Fragment,null,z?Oe.createElement(ne,{styles:t},de):null,j?Oe.createElement(ge,{styles:t,"aria-label":a?.closeButtonAriaLabel,disabled:i,onClick:ue}):null,Oe.createElement(we,{content:K?.content,setCurrentStep:f,currentStep:h,transition:p,isHighlightingObserved:v,setIsOpen:_}),M?Oe.createElement(W,{setCurrentStep:f,currentStep:h,setIsOpen:_,steps:u,styles:t,"aria-hidden":!a?.showNavigationScreenReaders,nextButton:x,prevButton:C,disableDots:T,hideButtons:!O,hideDots:!k,disableAll:i,rtl:R,Arrow:he}):null)},aV=nV,rV=t=>{var e=t,{currentStep:n,setCurrentStep:a,setIsOpen:i,steps:l=[],setSteps:u,styles:f={},scrollSmooth:h,afterOpen:p,beforeClose:v,padding:_=10,position:x,onClickMask:C,onClickHighlighted:T,keyboardHandler:R,className:O="reactour__popover",maskClassName:j="reactour__mask",highlightedMaskClassName:M,clipId:z,maskId:k,disableInteraction:G,disableKeyboardNavigation:U,inViewThreshold:V,disabledActions:K,setDisabledActions:ne,disableWhenSelectorFalsy:ge,rtl:we,accessibilityOptions:W={closeButtonAriaLabel:"Close Tour",showNavigationScreenReaders:!0},ContentComponent:he,Wrapper:de,meta:ue,setMeta:H,onTransition:J=()=>"center"}=e,F=gm(e,["currentStep","setCurrentStep","setIsOpen","steps","setSteps","styles","scrollSmooth","afterOpen","beforeClose","padding","position","onClickMask","onClickHighlighted","keyboardHandler","className","maskClassName","highlightedMaskClassName","clipId","maskId","disableInteraction","disableKeyboardNavigation","inViewThreshold","disabledActions","setDisabledActions","disableWhenSelectorFalsy","rtl","accessibilityOptions","ContentComponent","Wrapper","meta","setMeta","onTransition"]),ae;const B=l[n],ee=mr(mr({},f),B?.styles),{sizes:_e,transition:Se,observableRefresher:Ve,isHighlightingObserved:lt,target:Ze}=qq(B,{block:"center",behavior:h?"smooth":"auto",inViewThreshold:V});N.useEffect(()=>(p&&typeof p=="function"&&p(Ze),()=>{v&&typeof v=="function"&&v(Ze)}),[]);const{maskPadding:st,popoverPadding:_t,wrapperPadding:Ce}=sV((ae=B?.padding)!=null?ae:_),Ne={setCurrentStep:a,setIsOpen:i,currentStep:n,setSteps:u,steps:l,setMeta:H,meta:ue};function ot(){K||(C&&typeof C=="function"?C(Ne):i(!1))}const vt=typeof B?.stepInteraction=="boolean"?!B?.stepInteraction:G?typeof G=="boolean"?G:G(Ne):!1;N.useEffect(()=>(B?.action&&typeof B?.action=="function"&&B?.action(Ze),B?.disableActions!==void 0&&ne(B?.disableActions),()=>{B?.actionAfter&&typeof B?.actionAfter=="function"&&B?.actionAfter(Ze)}),[B]);const yt=Se?J:B?.position?B?.position:x,At=de||Oe.Fragment;return B?Oe.createElement(At,null,Oe.createElement(wq,{mutationObservables:B?.mutationObservables,resizeObservables:B?.resizeObservables,refresh:Ve}),Oe.createElement(Yq,{setCurrentStep:a,currentStep:n,setIsOpen:i,stepsLength:l.length,disableKeyboardNavigation:U,disable:K,rtl:we,clickProps:Ne,keyboardHandler:R}),(!ge||Ze)&&Oe.createElement(jq,{sizes:Se?lV:_e,onClick:ot,styles:mr({highlightedArea:Ft=>Pb(mr({},Ft),{display:vt?"block":"none"})},ee),padding:Se?0:st,highlightedAreaClassName:M,className:j,onClickHighlighted:Ft=>{Ft.preventDefault(),Ft.stopPropagation(),T&&T(Ft,Ne)},wrapperPadding:Ce,clipId:z,maskId:k}),(!ge||Ze)&&Oe.createElement(Uq,{sizes:_e,styles:ee,position:yt,padding:_t,"aria-labelledby":W?.ariaLabelledBy,className:O,refresher:n},he?Oe.createElement(he,mr({styles:ee,setCurrentStep:a,currentStep:n,setIsOpen:i,steps:l,accessibilityOptions:W,disabledActions:K,transition:Se,isHighlightingObserved:lt,rtl:we},F)):Oe.createElement(aV,mr({styles:ee,setCurrentStep:a,currentStep:n,setIsOpen:i,steps:l,setSteps:u,accessibilityOptions:W,disabledActions:K,transition:Se,isHighlightingObserved:lt,rtl:we,meta:ue,setMeta:H},F)))):null},iV=rV;function sV(t){return typeof t=="object"&&t!==null?{maskPadding:t.mask,popoverPadding:t.popover,wrapperPadding:t.wrapper}:{maskPadding:t,popoverPadding:t,wrapperPadding:0}}var lV={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},oV={isOpen:!1,setIsOpen:()=>!1,currentStep:0,setCurrentStep:()=>0,steps:[],setSteps:()=>[],setMeta:()=>"",disabledActions:!1,setDisabledActions:()=>!1,components:{}},N8=Oe.createContext(oV),uV=t=>{var e=t,{children:n,defaultOpen:a=!1,startAt:i=0,steps:l,setCurrentStep:u,currentStep:f}=e,h=gm(e,["children","defaultOpen","startAt","steps","setCurrentStep","currentStep"]);const[p,v]=N.useState(a),[_,x]=N.useState(i),[C,T]=N.useState(l),[R,O]=N.useState(""),[j,M]=N.useState(!1),z=mr({isOpen:p,setIsOpen:v,currentStep:f||_,setCurrentStep:u&&typeof u=="function"?u:x,steps:C,setSteps:T,disabledActions:j,setDisabledActions:M,meta:R,setMeta:O},h);return Oe.createElement(N8.Provider,{value:z},n,p?Oe.createElement(iV,mr({},z)):null)};function cV(){return N.useContext(N8)}function dV(){const{init:t}=KG(),{session:e}=Fw(),[n,a]=N.useState([]),[i,l]=N.useState(100),[u,f]=N.useState({x:0,y:0}),[h,p]=N.useState(!1),[v,_]=N.useState(!1),[x,C]=N.useState(!1),[T,R]=N.useState([]),[O,j]=N.useState([]),[M,z]=N.useState("hand"),k=_m(),[G,U]=N.useState(null),[V,K]=N.useState(null),[ne,ge]=N.useState(null),[we,W]=N.useState(!1),[he,de]=N.useState(null),[ue,H]=N.useState(null),[J,F]=N.useState([]),{pushUndo:ae,undo:B,redo:ee}=db(),[_e,Se]=N.useState(!1),[Ve,lt]=N.useState(""),[Ze,st]=N.useState(null),[_t,Ce]=N.useState(""),[Ne,ot]=N.useState(!0),[vt,yt]=N.useState("#ffffff"),[At,Ft]=N.useState("#000"),[_n,dn]=N.useState(!1),[Ts,$a]=N.useState(!1),[Z,oe]=N.useState(null),{setIsOpen:pe}=cV(),Ue=(xe,Le)=>{oe({message:xe,type:Le}),Le!=="loading"&&setTimeout(()=>oe(null),3e3)};FG({shapes:T,connectors:O},1e3,()=>{!ue||T.length===0||Gp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue)}),N.useEffect(()=>{let xe=!0;return localStorage.getItem("tourCompleted")!=="true"&&(pe(!0),localStorage.setItem("tourCompleted","true")),(async()=>{if(await t(),Ue("Loading objects...","loading"),!e){const te=await qp("local");if(!xe)return;if(te.success){R(te.data.shapes),j(te.data.connectors),f({x:te.data.viewport.x,y:te.data.viewport.y}),l(Math.round(te.data.viewport.scale*100)),H("local");const Ae=te.data.shapes.length+te.data.connectors.length;Ae===0?Ue("No objects found.","empty"):Ue(`Loaded ${Ae} objects`,"success"),setTimeout(()=>oe(null),3e3)}else j([]),R([]);H("local"),F([]);return}const xt=await qp(ue);if(!xe)return;if(xt.success){R(xt.data.shapes),H(xt.canvasId),j(xt.data.connectors),f({x:xt.data.viewport.x,y:xt.data.viewport.y}),l(Math.round(xt.data.viewport.scale*100));const te=xt.data.shapes.length+xt.data.connectors.length;te===0?Ue("No objects found.","empty"):Ue(`Loaded ${te} object(s)`,"success"),setTimeout(()=>oe(null),3e3)}else console.error("Failed to load canvas:",xt.error);const q=await C5(e.user.id);if(!xe)return;q.success?F(q.canvases||[]):console.error("Failed to load canvas list:",q.error);const Q=await YG();xe&&(Q.success?de(Q.data.avatar_url):console.error("Failed to load user profile:",Q.error))})(),()=>{xe=!1}},[t,e,ue]),N.useEffect(()=>{const xe=setTimeout(()=>{T5(ue||"local",vt)},500);return()=>clearTimeout(xe)},[vt,ue]),N.useEffect(()=>{(async()=>{if(ue){const xe=await A5(ue);xe&&yt(xe)}else{const xe=await A5("local");xe&&yt(xe)}})()},[ue]),N.useEffect(()=>{!e&&ue==="local"&&T.length>=5&&!_n&&($a(!0),dn(!0)),(e||T.length<5)&&dn(!1)},[e,T.length,ue,_n]);const Pe=(xe,Le)=>{ge(xe),K(Le),C(!0),_(!0)},ke=()=>{ge(null),K(null),C(!1),_(!1)},Ie=xe=>{U(xe),p(!0),C(!0)},Qe=()=>{U(null),p(!1),C(!1)},Et=(xe,Le)=>{const xt=new Date(xe.date).toISOString(),q={id:"todo-"+Date.now().toString(),x:Le?Le.x+400:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:Le?Le.y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),color:xe.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:xe.title,description:"",dueDate:xt,completed:xe.completed,assignee:e?.user.email??"Guest",status:"Something",parents:Le?Le.id:""};R([...T,q]),Le&&(R(Q=>Q.map(te=>te.shape==="rect"&&te.id===Le.id?{...te,children:[...te.children,"group-"+q.id]}:te)),Qa(q,Le,q.id)),ae({before:q,after:q,action:"add",id:q.id})},rn=xe=>{z("hand");const Le={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),width:300,height:200,color:xe.color,title:xe.title,description:xe.description,dueDate:xe.date,completed:!1,isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};R([...T,Le]),ae({before:Le,after:Le,action:"add"})},Qa=(xe,Le,xt)=>{const q=xe instanceof If.Node?xe.id():"group-"+xe.id,Q=Le instanceof If.Node?Le.id():"group-"+Le.id,te={shape:"connector",id:"connector-"+Date.now().toString(),from:q,to:Q};j([...O,te]),ae({before:te,after:te,action:"add",id:xt||void 0})},ma=()=>{const xe={id:"text-"+Date.now().toString(),x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),fontSize:20,text:"Insert your text here",shape:"text",behavior:"decor",scaleX:1,scaleY:1,width:200,color:"black"};R([...T,xe]),ae({before:xe,after:xe,action:"add"})},Ca=(xe,Le)=>{R(xt=>xt.map(q=>q.id===xe.id?{...q,title:Le.title,description:Le.description,color:Le.color,dueDate:Le.date}:q))},Wa=(xe,Le)=>{R(xt=>xt.map(q=>q.id===xe.id?{...q,title:Le.title,dueDate:Le.date,completed:Le.completed,color:Le.color}:q))},Ja=()=>{z(M==="draw"?"hand":"draw")},ga=()=>{z(M==="eraser"?"hand":"eraser")},jr=()=>{z(M==="select"?"hand":"select")},gr=()=>new Promise((xe,Le)=>{const xt=indexedDB.open("CanvasDB");xt.onsuccess=()=>{const Q=xt.result.transaction("Canvas","readwrite");Q.objectStore("Canvas").clear(),Q.oncomplete=()=>{xe()},Q.onerror=()=>{console.error("Failed to clear IndexedDB shapes"),Le()}},xt.onerror=()=>Le()}),pr=async()=>{if(R([]),j([]),ue==="local")await gr();else if(ue){const xe=await VG(ue);xe.success||console.error("Failed to delete canvas from supabase",xe.error)}},gi=async()=>{W(!0);try{await an.auth.signOut();const xe=await qp("local");xe.success?(R(xe.data.shapes),j(xe.data.connectors),f(xe.data.viewport),l(Math.round(xe.data.viewport.scale*100)),H("local")):(R([]),j([]),H(null)),await new Promise(Le=>setTimeout(Le,2e3))}catch{}finally{W(!1)}},$r=async()=>{W(!0);try{await Gp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue||null)}catch{Ue("Error saving objects.","error")}finally{W(!1)}},As=async xe=>{W(!0);try{ue&&xe&&xe!==ue&&await Gp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue);const Le=await qp(xe||null);Le.success?(R(Le.data.shapes),j(Le.data.connectors),H(Le.canvasId)):Ue(Le.error,"error")}catch(Le){console.error("Load error:",Le)}finally{W(!1)}},vr=async xe=>{if(!e){console.warn("No session");return}W(!0);try{ue&&await Gp({shapes:T,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},ue);const Le=await HG(e.user.id,xe||`Canvas ${J.length+1}`);if(Le.success&&Le.canvasId){R([]),j([]),H(Le.canvasId);const xt=await C5(e.user.id);xt.success&&F(xt.canvases||[])}else console.error("Create failed:",Le.error)}catch(Le){console.error("Create canvas error:",Le)}finally{W(!1)}},xl=async xe=>{xe!==ue&&await As(xe)},Qr=async xe=>{if(_t.trim()){W(!0);try{const Le=await IG(xe,_t);Le.success?(F(xt=>xt.map(q=>q.canvas_id===xe?{...q,canvas_name:_t}:q)),st(null),Ce("")):console.error("Failed to update canvas name:",Le.error)}catch(Le){console.error("Error updating canvas name:",Le)}finally{W(!1)}}},pi=async(xe,Le)=>{if(window.confirm(`Are you sure you want to delete "${Le}"? This action cannot be undone.`)){W(!0);try{const q=await ZG(xe);if(q.success){if(F(Q=>Q.filter(te=>te.canvas_id!==xe)),ue===xe){const Q=J.filter(te=>te.canvas_id!==xe);Q.length>0?await xl(Q[0].canvas_id):(R([]),j([]),H(null))}}else console.error("Failed to delete canvas:",q.error)}catch(q){console.error("Error deleting canvas:",q)}finally{W(!1)}}};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative w-screen h-100dvh overflow-hidden ",children:[w.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[w.jsx("div",{className:"more-options",children:w.jsxs(ky,{children:[w.jsx(Ly,{asChild:!0,children:w.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:w.jsx(cA,{})})}),w.jsx(Uy,{children:w.jsxs(Py,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 max-h-[50dvh]  overflow-y-scroll rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white ",children:[w.jsx(ps,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:w.jsxs("div",{className:"flex items-center gap-2",onClick:$r,children:[w.jsx(Cx,{}),"Save"]})}),w.jsx(ps,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:xe=>xe.preventDefault(),children:w.jsxs(M0,{children:[w.jsx(Bp,{asChild:!0,children:w.jsxs("div",{className:"flex items-center gap-2 w-full",children:[w.jsx(Ex,{}),"My Canvases (",J.length,")"]})}),w.jsxs(D0,{children:[w.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),w.jsxs(k0,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-xl p-4 sm:p-6 rounded-lg z-101",children:[w.jsxs(L0,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx(Ex,{}),"My Canvases"]}),w.jsx(U0,{asChild:!0,children:w.jsx("div",{className:"my-4",children:w.jsx("div",{className:"grid grid-cols-1 gap-3",children:J.length===0?w.jsx("div",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):J.map(xe=>w.jsxs("div",{className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        transition-all
                                        ${ue===xe.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[w.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80",onClick:()=>{Ze!==xe.canvas_id&&xl(xe.canvas_id)},children:[w.jsx(Cx,{className:"w-5 h-5 text-blue-600"}),w.jsxs("div",{className:"flex-1",children:[Ze===xe.canvas_id?w.jsx("input",{type:"text",value:_t,onChange:Le=>Ce(Le.target.value),onKeyDown:Le=>{Le.key===" "&&Le.stopPropagation(),Le.key==="Enter"?Qr(xe.canvas_id):Le.key==="Escape"&&(st(null),Ce(""))},className:"font-medium text-gray-800 border-2 border-blue-400 rounded px-2 py-1 w-full",autoFocus:!0,onClick:Le=>Le.stopPropagation()}):w.jsx("span",{className:"font-medium text-gray-800",children:xe.canvas_name||"Untitled"}),xe.created_at&&w.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(xe.created_at).toLocaleDateString()]})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[ue===xe.canvas_id&&w.jsx("span",{className:"text-xs text-blue-600 font-medium mr-2",children:"Current"}),Ze===xe.canvas_id?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:Le=>{Le.stopPropagation(),Qr(xe.canvas_id)},className:"p-2 hover:bg-green-100 rounded transition-colors",title:"Save",children:w.jsx(mA,{className:"w-4 h-4 text-green-600"})}),w.jsx("button",{onClick:Le=>{Le.stopPropagation(),st(null),Ce("")},className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Cancel",children:""})]}):w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:Le=>{Le.stopPropagation(),st(xe.canvas_id),Ce(xe.canvas_name||"")},className:"p-2 hover:bg-blue-100 rounded transition-colors",title:"Edit name",children:w.jsx(D3,{className:"w-4 h-4 text-blue-600"})}),w.jsx("button",{onClick:Le=>{Le.stopPropagation(),pi(xe.canvas_id,xe.canvas_name)},className:"p-2 hover:bg-red-100 rounded transition-colors",title:"Delete canvas",children:w.jsx(Rx,{className:"w-4 h-4 text-red-600"})})]})]})]},xe.canvas_id))})})}),w.jsx("div",{className:"flex justify-end mt-6",children:w.jsx(Sf,{asChild:!0,children:w.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),w.jsx(Cf,{}),w.jsx(ps,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:w.jsxs("div",{className:"flex items-center gap-2",onClick:()=>Se(!0),children:[w.jsx(wA,{}),w.jsx("span",{children:we?"Creating":"New Canvas"})]})}),w.jsx(ps,{onSelect:xe=>xe.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:w.jsxs(M0,{children:[w.jsx(Bp,{asChild:!0,children:w.jsxs("button",{className:"flex items-center gap-2",children:[w.jsx(Rx,{}),"Clear Canvas"]})}),w.jsxs(D0,{children:[w.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),w.jsxs(k0,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] max-w-sm sm:max-w-md p-4 sm:p-6 rounded-lg z-101",children:[w.jsx(L0,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),w.jsx(U0,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx(Sf,{asChild:!0,children:w.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),w.jsx(jy,{asChild:!0,children:w.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:pr,children:"Yes, clear canvas"})})]})]})]})]})}),w.jsx(Cf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),w.jsx(ps,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:w.jsx("a",{href:"https://github.com/x3nozite/rect-up",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(VL,{}),"Github"]})})}),w.jsx(ps,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:w.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Tx,{}),"Feedback & Support"]})})}),w.jsx(ps,{onSelect:xe=>xe.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:w.jsxs(M0,{children:[w.jsx(Bp,{asChild:!0,children:w.jsxs("button",{className:"flex items-center gap-2",children:[w.jsx(xA,{}),"How to Use?"]})}),w.jsxs(D0,{children:[w.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),w.jsxs(k0,{className:"overflow-y-auto bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80dvw] md:w-[70dvw] xl:w-[40dvw] p-4 sm:p-6 rounded-lg z-101 h-[70dvh]",children:[w.jsx(L0,{className:"text-2xl font-bold mb-2",children:w.jsxs("div",{className:"w-full flex flex-row justify-between items-center",children:[w.jsx("span",{children:"Rect-Up Documentation"}),w.jsx(Sf,{asChild:!0,children:w.jsx("button",{className:"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})}),w.jsxs("div",{className:"main flex flex-col gap-4",children:[w.jsxs(U0,{className:"mt-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"Introduction"}),w.jsx("span",{children:"Rect-Up is a simple visual planning canvas where you can organize work as Tasks, break them into Todos, add Text notes, and use canvas tools to navigate or sketch ideas."})]}),w.jsx("hr",{}),w.jsx("div",{className:"explanation-1",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"1. Add Task"}),w.jsxs("span",{children:["The ",w.jsx("b",{children:"Add Task"})," feature allows you to create a task card that represents a specific piece of work, goal, or milestone on the canvas."]}),w.jsx("img",{src:"/rect-up/task.gif",alt:"Add Task demo",className:"w-full h-70 object-scale-down"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsxs("li",{children:["Click ",w.jsx("b",{children:"Add Task"})," on the toolbar."]}),w.jsxs("li",{children:["Fill in the ",w.jsx("b",{children:"Title"})," and"," ",w.jsx("b",{children:"Description"}),"."]}),w.jsxs("li",{children:["Choose a ",w.jsx("b",{children:"Color"})," and set a"," ",w.jsx("b",{children:"Due Date"}),"."]}),w.jsxs("li",{children:["Click ",w.jsx("b",{children:"Create"})," to place the task on the canvas."]})]})]})]})}),w.jsx("hr",{}),w.jsx("div",{className:"explanation-2",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"2. Add Todo"}),w.jsxs("span",{children:["The ",w.jsx("b",{children:"Add Todo"})," feature lets you create smaller checklist items or sub-tasks. Todos help you break down bigger tasks into manageable steps."]}),w.jsx("img",{src:"/rect-up/todo.gif",alt:"Add Todo demo",className:"w-full h-70 object-scale-down"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsxs("li",{children:["Click ",w.jsx("b",{children:"Add Todo"})," on the toolbar."]}),w.jsxs("li",{children:["Enter a ",w.jsx("b",{children:"Title"}),", choose a"," ",w.jsx("b",{children:"Color"}),", and set a ",w.jsx("b",{children:"Due Date"}),"."]}),w.jsxs("li",{children:["Toggle ",w.jsx("b",{children:"Completed"})," if the todo is already done."]}),w.jsxs("li",{children:["Click ",w.jsx("b",{children:"Submit"})," to add it to the canvas."]})]})]})]})}),w.jsx("hr",{}),w.jsx("div",{className:"explanation-3",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"3. Add Text"}),w.jsxs("span",{children:["The ",w.jsx("b",{children:"Add Text"})," feature allows you to place free labels on the canvas such as headings, notes, reminders, or section titles."]}),w.jsx("img",{src:"/rect-up/text.gif",alt:"Add Text demo",className:"w-full h-70 object-scale-down"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsxs("li",{children:["Click ",w.jsx("b",{children:"Add Text"})," on the toolbar."]}),w.jsx("li",{children:"A text item will appear with a default message."}),w.jsx("li",{children:"Drag it to the position you want."}),w.jsx("li",{children:"Click the text to edit the content."})]})]})]})}),w.jsx("hr",{}),w.jsx("div",{className:"explanation-4",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"4. New Canvas"}),w.jsxs("span",{children:[w.jsx("b",{children:"New Canvas"})," creates a fresh workspace so you can separate boards by project, class, or topic."]}),w.jsx("img",{src:"/rect-up/createcanvas.gif",alt:"Create New Canvas demo",className:"w-full h-70 object-scale-down"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsxs("li",{children:["Click the ",w.jsx("b",{children:" Menu"})," button."]}),w.jsxs("li",{children:["Select ",w.jsx("b",{children:"New Canvas"}),"."]}),w.jsx("li",{children:"Type a canvas name."}),w.jsxs("li",{children:["Click ",w.jsx("b",{children:"Create Canvas"}),"."]}),w.jsxs("li",{children:["To switch canvases, open"," ",w.jsx("b",{children:"My Canvases"})," from the menu."]})]})]})]})}),w.jsx("hr",{}),w.jsx("div",{className:"explanation-5",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"5. Clear Canvas"}),w.jsxs("span",{children:[w.jsx("b",{children:"Clear Canvas"})," removes all shapes and connectors from your current canvas. This action cannot be undone once confirmed."]}),w.jsx("img",{src:"/rect-up/clearcanvas.gif",alt:"Clear Canvas demo",className:"w-full h-70 object-scale-down"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsxs("li",{children:["Click the ",w.jsx("b",{children:" Menu"})," button."]}),w.jsxs("li",{children:["Select ",w.jsx("b",{children:"Clear Canvas"}),"."]}),w.jsxs("li",{children:["Confirm by clicking"," ",w.jsx("b",{children:"Yes, clear canvas"}),"."]})]})]})]})}),w.jsx("hr",{}),w.jsx("div",{className:"explanation-6",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"6. Canvas Tools"}),w.jsx("span",{children:"Canvas tools control how you interact with the canvas. Only one tool can be active at a time."}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-md font-bold",children:"Select"}),w.jsxs("span",{children:["The ",w.jsx("b",{children:"Select"})," tool allows you to select, move, resize, or transform the objects on the canvas."]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-md font-bold",children:"Hand"}),w.jsxs("span",{children:["The ",w.jsx("b",{children:"Hand"})," tool lets you pan around the canvas without moving objects. You can also double-click the shapes to edit them."]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-md font-bold",children:"Draw"}),w.jsxs("span",{children:["The ",w.jsx("b",{children:"Draw"})," tool lets you sketch freely. You can change the stroke color from the menu."]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-md font-bold",children:"Eraser"}),w.jsxs("span",{children:["The ",w.jsx("b",{children:"Eraser"})," tool removes drawn strokes from the canvas."]})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-md font-bold",children:"How To Use"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsx("li",{children:"Select a tool from the toolbar."}),w.jsx("li",{children:"Use the canvas based on the selected mode (select, pan, draw, or erase)."}),w.jsxs("li",{children:["Switch back to ",w.jsx("b",{children:"Hand"})," when you want to navigate freely."]})]})]})]})]})}),w.jsx("hr",{}),w.jsx("div",{className:"explanation-7",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"7. Quick Controls"}),w.jsx("span",{children:"These controls help you navigate and manage changes while working."}),w.jsxs("ul",{className:"list-disc list-inside",children:[w.jsxs("li",{children:[w.jsx("b",{children:"Zoom In/Out:"})," Use the magnifier buttons to zoom the canvas."]}),w.jsxs("li",{children:[w.jsx("b",{children:"Reset Zoom:"})," Click the percentage button (e.g. 100%) to reset."]}),w.jsxs("li",{children:[w.jsx("b",{children:"Undo / Redo:"})," Use the left/right arrows to undo or redo actions."]}),w.jsxs("li",{children:[w.jsx("b",{children:"Toolbar Visibility:"})," Click the eye icon to hide/show the toolbar."]})]})]})})]}),w.jsx("div",{className:"flex justify-end gap-4",children:w.jsx(Sf,{asChild:!0,children:w.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),w.jsx(Cf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),w.jsx(b5,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Stroke Color"}),w.jsx(_5,{value:At,onValueChange:Ft,className:"py-1 pl-2 ",children:w.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[w.jsx(iu,{value:"#000",className:"group",children:w.jsx("div",{className:"p-4 relative bg-[#000] border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),w.jsxs(iu,{value:"#e7000b",className:"group",children:[w.jsx("div",{className:"p-4 bg-[#e7000b] border-red-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-red-400"}),w.jsx(Ef,{})]}),w.jsxs(iu,{value:"#155dfc",className:"group",children:[w.jsx("div",{className:"p-4 bg-[#155dfc] border-2 border-blue-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-blue-400"}),w.jsx(Ef,{})]}),w.jsxs(iu,{value:"#009966",className:"group",children:[w.jsx("div",{className:"p-4 bg-[#009966] border-2 border-emerald-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-emerald-400"}),w.jsx(Ef,{})]})]})}),w.jsx(Cf,{className:"h-[0.1dvh] my-2 bg-gray-500"}),w.jsx(b5,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),w.jsx(_5,{value:vt,onValueChange:yt,className:"py-1 pl-2 ",children:w.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[w.jsx(iu,{value:"#ffffff",className:"group",children:w.jsx("div",{className:"p-4 relative bg-white border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),w.jsxs(iu,{value:"#fff7ed",className:"group",children:[w.jsx("div",{className:"p-4 bg-orange-50 border-orange-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-orange-400"}),w.jsx(Ef,{})]}),w.jsxs(iu,{value:"#f5f3ff",className:"group",children:[w.jsx("div",{className:"p-4 bg-violet-50 border-2 border-indigo-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-violet-400"}),w.jsx(Ef,{})]}),w.jsxs(iu,{value:"#f0fdfa",className:"group",children:[w.jsx("div",{className:"p-4 bg-teal-50 border-2 border-cyan-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-teal-400"}),w.jsx(Ef,{})]})]})})]})})]})}),w.jsx("div",{className:"tool-bar absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:Ne&&w.jsx(E5,{onShapeClick:()=>Ie(null),onTodoClick:()=>Pe(null,null),onTextClick:ma,onEraserClick:ga,onClearClick:pr,onDrawClick:Ja,onSelectClick:jr,isActive:M==="eraser"||M==="draw",tool:M,setTool:z})}),w.jsxs("div",{className:"user-account",children:[w.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&w.jsx("div",{children:w.jsxs(ky,{children:[w.jsx(Ly,{asChild:!0,children:w.jsx("button",{children:w.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[w.jsx(T0,{className:"text-lg"}),w.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[w.jsx("span",{className:"text-xs",children:"Manage Account"}),w.jsx(gA,{className:"text-xs"})]})]})})}),w.jsx(Uy,{children:w.jsxs(Py,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[w.jsx("div",{children:he?w.jsx("img",{src:he,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):w.jsx(T0,{className:"text-3xl text-blue-500"})}),w.jsxs("div",{className:"flex flex-col items-center justify-center",children:[w.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name||e?.user.user_metadata.username}),w.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),w.jsx(Cf,{className:"h-[2px] my-2 bg-gray-500"}),w.jsx(ps,{onSelect:xe=>xe.preventDefault(),children:w.jsxs(M0,{children:[w.jsx(Bp,{asChild:!0,children:w.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[w.jsx(ly,{}),w.jsx("span",{children:"Sign Out"})]})}),w.jsxs(D0,{children:[w.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),w.jsxs(k0,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[w.jsx(L0,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),w.jsx(U0,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx(Sf,{asChild:!0,children:w.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),w.jsx(jy,{asChild:!0,children:w.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await gi()},children:[w.jsx(ly,{}),"Sign Out"]})})]})]})]})]})}),w.jsx(_G,{className:"fill-purple-100"})]})})]})}),we&&w.jsx("div",{children:w.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&w.jsx(kL,{title:"Sign In",onClick:async()=>{k("/signin")}}),!e&&w.jsx(zL,{title:"Create Account",onClick:()=>k("/create-acc")})]}),w.jsxs("div",{className:"account-mobile flex lg:hidden",children:[w.jsxs(ky,{children:[w.jsx(Ly,{asChild:!0,children:w.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:w.jsx(T0,{})})}),w.jsx(Uy,{children:w.jsxs(Py,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&w.jsxs("div",{children:[w.jsx(ps,{children:w.jsxs("div",{onClick:async()=>{k("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[w.jsx(Ax,{}),w.jsx("span",{children:"Sign In"})]})}),w.jsx(ps,{children:w.jsxs("div",{onClick:()=>k("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[w.jsx(T0,{}),w.jsx("span",{children:"Create Account"})]})})]}),e&&w.jsxs("div",{children:[w.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[w.jsx("div",{className:"pb-2",children:he?w.jsx("img",{src:he,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):w.jsx(T0,{className:"text-2xl"})}),w.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[w.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),w.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),w.jsx(Cf,{className:"h-px my-2 bg-gray-500"}),w.jsx(ps,{children:w.jsxs("div",{onClick:async()=>{await gi()},className:"inline-flex items-center justify-start gap-2 ",children:[w.jsx(ly,{className:"text-sm font-semibold"}),w.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),we&&w.jsx("div",{children:w.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),w.jsxs("div",{className:"absolute pb-4 bottom-bar flex flex-col   inset-x-0 gap-2 w-full bottom-0",children:[w.jsxs("div",{className:"flex flex-row w-full justify-between px-5",children:[w.jsxs("div",{className:"flex flex-row gap-2",children:[w.jsxs("div",{className:" items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit inline-flex",children:[w.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>{if(i===10)return;const xe={x:window.innerWidth/2,y:window.innerHeight/2},Le=i/100,xt=(i-10)/100,q={x:(xe.x-u.x)/Le,y:(xe.y-u.y)/Le};f({x:xe.x-q.x*xt,y:xe.y-q.y*xt}),l(Math.max(i-10,10))},children:w.jsx(CA,{})}),w.jsxs("button",{onClick:()=>{const xe={x:window.innerWidth/2,y:window.innerHeight/2},Le=i/100,xt={x:(xe.x-u.x)/Le*-1,y:(xe.y-u.y)/Le*-1};l(100),f({x:xt.x+window.innerWidth/2,y:xt.y+window.innerHeight/2})},className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[i,"%",w.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),w.jsx("button",{className:"hover:bg-orange-200 active:bg-orange-200 hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>{if(i===500)return;const xe={x:window.innerWidth/2,y:window.innerHeight/2},Le=i/100,xt=(i+10)/100,q={x:(xe.x-u.x)/Le,y:(xe.y-u.y)/Le};f({x:xe.x-q.x*xt,y:xe.y-q.y*xt}),l(Math.min(i+10,500))},children:w.jsx(EA,{})})]}),w.jsxs("div",{className:" items-center z-10 gap-1 sm:gap-0 bg-green-100 border-2 border-emerald-200 rounded-xl w-fit inline-flex",children:[w.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-l-lg h-full",onClick:()=>B(R,j),children:[w.jsx(GL,{}),w.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Undo"})]}),w.jsxs("button",{className:"hover:bg-green-200 active:bg-green-200 group relative hover:cursor-pointer p-2 sm:px-4 sm:py-2 rounded-r-lg h-full",onClick:()=>ee(R,j),children:[w.jsx(qL,{}),w.jsx("span",{className:"absolute pointer-events-none -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Redo"})]})]})]}),w.jsx("div",{className:"flex flex-row  bottom-20 md:bottom-4 right-4 gap-4",children:w.jsxs("button",{onClick:()=>ot(xe=>!xe),className:"items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 active:bg-red-300 hover:cursor-pointer group",children:[Ne?w.jsx(bA,{}):w.jsx(yA,{}),w.jsx("span",{className:"absolute pointer-events-none right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Toolbar Visibility"})]})})]}),w.jsx("div",{className:"toolbar-mob  flex sm:hidden z-100 w-full  justify-center  ",children:Ne&&w.jsx(E5,{onShapeClick:()=>Ie(null),onTodoClick:()=>Pe(null,null),onTextClick:ma,onEraserClick:ga,onClearClick:pr,onDrawClick:Ja,onSelectClick:jr,isActive:M==="eraser"||M==="draw",tool:M,setTool:z})})]}),v&&w.jsx(HL,{parent:ne,onUpdateTodo:Wa,onAddTodo:Et,onCloseForm:ke,initialTodo:V}),h&&w.jsx(UL,{onAddTask:rn,onUpdateTask:Ca,onCloseForm:Qe,initialData:G}),w.jsx("div",{style:{background:vt,touchAction:"none"},children:w.jsx(DL,{shapes:T,setShapes:R,tool:M,setTool:z,setZoomValue:l,zoom:i,connectors:O,addConnector:Qa,setConnectors:j,strokeColor:At,onShapeClick:Ie,onAddTodo:Pe,stageCoor:u,setStageCoor:f,isFormOpen:x,onTextClick:ma})})]}),w.jsx("ul",{children:n.map(xe=>w.jsx("li",{children:xe.name},xe.name))}),w.jsx(M0,{open:_e,onOpenChange:Se,children:w.jsxs(D0,{children:[w.jsx(z0,{className:"fixed bg-black opacity-50 inset-0 z-100"}),w.jsxs(k0,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-lg p-4 sm:p-5 rounded-lg z-101",children:[w.jsx(L0,{className:"text-xl font-bold mb-2",children:"New Canvas"}),w.jsx(U0,{className:"my-3 text-gray-700",children:"Enter a name for your new canvas."}),w.jsx("input",{autoFocus:!0,value:Ve,onChange:xe=>lt(xe.target.value),placeholder:"Canvas name...",className:"w-full border border-gray-300 p-2 rounded-lg mb-4"}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx(Sf,{asChild:!0,children:w.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),w.jsx(jy,{asChild:!0,children:w.jsx("button",{className:"bg-blue-200 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-500 hover:text-white",onClick:()=>{vr(Ve),lt("")},children:"Create Canvas"})})]})]})]})}),Ts&&!e&&ue==="local"&&T.length>=5&&w.jsx("div",{className:"fixed bottom-24 right-5 z-500 max-w-sm animate-in slide-in-from-right",children:w.jsx("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx(Tx,{className:"text-blue-600 text-xl flex-shrink-0"}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-start justify-between mb-1",children:[w.jsx("h4",{className:"font-semibold text-gray-900",children:"Local Storage Reminder"}),w.jsx("button",{onClick:()=>$a(!1),className:"text-gray-400 hover:text-gray-600 -mt-1 -mr-1",children:w.jsx(SA,{})})]}),w.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[T.length," shapes saved locally. Sign in to use across different devices! (Local data will remain on this device and wont be migrated after signing in.)"]}),w.jsxs("button",{onClick:()=>k("/signin"),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 text-sm font-medium w-full flex items-center justify-center gap-1",children:[w.jsx(Ax,{}),"Sign In Now"]})]})]})})}),Z&&w.jsx(eq,{message:Z.message,type:Z.type})]})}const fV=_7([{path:"/",element:w.jsx(dV,{})},{path:"/signin",element:w.jsx(tM,{})},{path:"/create-acc",element:w.jsx(aM,{})},{path:"/reset-password",element:w.jsx(iM,{})}]);function hV({children:t}){const[e,n]=N.useState([]),[a,i]=N.useState([]);function l(h){n(p=>[...p,h]),i([])}function u(h,p){const v=e.at(-1);if(!v)return;let _,x=[];for(_=[...e],x=[];_.length>0;){const C=_.at(-1);if(!C)return;const T=C.before;if(C.action==="add")T.shape==="connector"?(h(O=>O.map(j=>j.shape==="todo"?{...j,parents:j.parents===T.to?"":j.parents}:j.shape!=="rect"?j:{...j,children:j.children.filter(M=>M!==T.from),parents:j.parents===T.to?"":j.parents})),p(O=>O.filter(j=>j.id!==T.id))):h(O=>O.filter(j=>j.id!==T.id));else if(C.action==="update"){if(T.shape==="connector")return;h(O=>O.map(j=>j.id===T.id?{...j,...T}:j))}else T.shape==="connector"?(p(O=>[...O,T]),h(O=>O.map(j=>j.shape!=="rect"&&j.shape!=="todo"?j:"group-"+j.id===T.from?{...j,parents:T.to}:j.shape==="rect"&&"group-"+j.id===T.to?{...j,children:[...j.children,T.from]}:j))):h(O=>[...O,T]);x.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||!v.id||R.id!==v.id)break}n(_),i(C=>[...C,...x])}function f(h,p){const v=a.at(-1);if(!v)return;let _=[...a],x=[];for(x=[];_.length>0;){const C=_.at(-1);if(!C)break;const T=C.after;if(C.action==="add")T.shape==="connector"?(p(O=>[...O,T]),h(O=>O.map(j=>j.shape==="todo"?{...j,parents:"group-"+j.id===T.to?T.from:j.parents}:j.shape!=="rect"?j:{...j,children:"group-"+j.id===T.to?[...j.children,T.from]:j.children}))):h(O=>[...O,T]);else if(C.action==="update"){if(T.shape==="connector")return;h(O=>O.map(j=>j.id===T.id?{...j,...T}:j))}else C.action==="delete"&&(T.shape==="connector"?(p(O=>O.filter(j=>j.id!==T.id)),h(O=>O.map(j=>j.shape!=="rect"&&j.shape!=="todo"?j:j.shape==="rect"&&j.children.includes(T.to)?{...j,children:j.children.filter(M=>M!==T.to)}:j.parents===T.from?{...j,parents:""}:j))):h(O=>O.filter(j=>j.id!==T.id)));x.push(C),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||R.id!==v.id)break}i(_),n(C=>[...C,...x])}return w.jsx(Zw.Provider,{value:{undoStack:e,redoStack:a,pushUndo:l,undo:u,redo:f},children:t})}const mV=[{selector:".tool-bar",content:"This is your main toolbox. Here you can select shapes, draw freely with the pencil, erase mistakes, and more."},{selector:".add-task",content:"The Task shape represents a big task or subject. Use it to add main tasks on your canvas that can hold smaller Todos. Later, you can double click the shape to edit it."},{selector:".add-todo",content:"The Todo shape represents smaller tasks that belong to a Task. You can connect them to Task shapes to organize your workflow. Later, you can double click the shape to edit it."},{selector:".pan-canvas",content:"The Hand tool lets you pan around the canvas. Click and drag to move the view without modifying shapes."},{selector:".select-canvas",content:"Use the Select tool to pick one or multiple shapes. You can move, resize, or transform them on the canvas."},{selector:".draw-canvas",content:"The Draw tool allows freehand sketching. Click and drag to draw custom lines or annotations."},{selector:".eraser-canvas",content:"Use the Eraser to remove unwanted shapes or drawings from your canvas."},{selector:".canvas-wrapper",content:"This is your workspace. Add Tasks and Todos, connect them, and experiment with the tools!"}];U5.createRoot(document.getElementById("root")).render(w.jsx(PL,{children:w.jsx(hV,{children:w.jsx(uV,{steps:mV,children:w.jsx(D7,{router:fV})})})}));
