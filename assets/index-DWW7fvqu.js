function f8(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in t)){const l=Object.getOwnPropertyDescriptor(a,r);l&&Object.defineProperty(t,r,l.get?l:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function Jm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var r=!1;try{r=this instanceof a}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var r=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return t[a]}})}),n}var d1={exports:{}},f0={};var Yb;function h8(){if(Yb)return f0;Yb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:t,type:a,key:c,ref:r!==void 0?r:null,props:l}}return f0.Fragment=e,f0.jsx=n,f0.jsxs=n,f0}var Zb;function g8(){return Zb||(Zb=1,d1.exports=h8()),d1.exports}var T=g8(),h1={exports:{}},d0={},g1={exports:{}},p1={};var Xb;function p8(){return Xb||(Xb=1,(function(t){function e(G,F){var X=G.length;G.push(F);e:for(;0<X;){var W=X-1>>>1,B=G[W];if(0<r(B,F))G[W]=F,G[X]=B,X=W;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var F=G[0],X=G.pop();if(X!==F){G[0]=X;e:for(var W=0,B=G.length,ne=B>>>1;W<ne;){var _e=2*(W+1)-1,be=G[_e],ze=_e+1,it=G[ze];if(0>r(be,X))ze<B&&0>r(it,be)?(G[W]=it,G[ze]=X,W=ze):(G[W]=be,G[_e]=X,W=_e);else if(ze<B&&0>r(it,X))G[W]=it,G[ze]=X,W=ze;else break e}}return F}function r(G,F){var X=G.sortIndex-F.sortIndex;return X!==0?X:G.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var g=[],m=[],v=1,_=null,S=3,E=!1,A=!1,R=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function P(G){for(var F=n(m);F!==null;){if(F.callback===null)a(m);else if(F.startTime<=G)a(m),F.sortIndex=F.expirationTime,e(g,F);else break;F=n(m)}}function H(G){if(R=!1,P(G),!A)if(n(g)!==null)A=!0,L||(L=!0,ve());else{var F=n(m);F!==null&&Se(H,F.startTime-G)}}var L=!1,Y=-1,ie=5,ue=-1;function me(){return O?!0:!(t.unstable_now()-ue<ie)}function Te(){if(O=!1,L){var G=t.unstable_now();ue=G;var F=!0;try{e:{A=!1,R&&(R=!1,D(Y),Y=-1),E=!0;var X=S;try{t:{for(P(G),_=n(g);_!==null&&!(_.expirationTime>G&&me());){var W=_.callback;if(typeof W=="function"){_.callback=null,S=_.priorityLevel;var B=W(_.expirationTime<=G);if(G=t.unstable_now(),typeof B=="function"){_.callback=B,P(G),F=!0;break t}_===n(g)&&a(g),P(G)}else a(g);_=n(g)}if(_!==null)F=!0;else{var ne=n(m);ne!==null&&Se(H,ne.startTime-G),F=!1}}break e}finally{_=null,S=X,E=!1}F=void 0}}finally{F?ve():L=!1}}}var ve;if(typeof z=="function")ve=function(){z(Te)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ye=pe.port2;pe.port1.onmessage=Te,ve=function(){ye.postMessage(null)}}else ve=function(){j(Te,0)};function Se(G,F){Y=j(function(){G(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(G){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var X=S;S=F;try{return G()}finally{S=X}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=S;S=G;try{return F()}finally{S=X}},t.unstable_scheduleCallback=function(G,F,X){var W=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?W+X:W):X=W,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=X+B,G={id:v++,callback:F,priorityLevel:G,startTime:X,expirationTime:B,sortIndex:-1},X>W?(G.sortIndex=X,e(m,G),n(g)===null&&G===n(m)&&(R?(D(Y),Y=-1):R=!0,Se(H,X-W))):(G.sortIndex=B,e(g,G),A||E||(A=!0,L||(L=!0,ve()))),G},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(G){var F=S;return function(){var X=S;S=F;try{return G.apply(this,arguments)}finally{S=X}}}})(p1)),p1}var Ib;function i2(){return Ib||(Ib=1,g1.exports=p8()),g1.exports}var m1={exports:{}},Nt={};var Kb;function m8(){if(Kb)return Nt;Kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function O(B,ne,_e){this.props=B,this.context=ne,this.refs=R,this.updater=_e||E}O.prototype.isReactComponent={},O.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=O.prototype;function D(B,ne,_e){this.props=B,this.context=ne,this.refs=R,this.updater=_e||E}var z=D.prototype=new j;z.constructor=D,A(z,O.prototype),z.isPureReactComponent=!0;var P=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function Y(B,ne,_e,be,ze,it){return _e=it.ref,{$$typeof:t,type:B,key:ne,ref:_e!==void 0?_e:null,props:it}}function ie(B,ne){return Y(B.type,ne,void 0,void 0,void 0,B.props)}function ue(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function me(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(_e){return ne[_e]})}var Te=/\/+/g;function ve(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?me(""+B.key):ne.toString(36)}function pe(){}function ye(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(pe,pe):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Se(B,ne,_e,be,ze){var it=typeof B;(it==="undefined"||it==="boolean")&&(B=null);var Ve=!1;if(B===null)Ve=!0;else switch(it){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(B.$$typeof){case t:case e:Ve=!0;break;case v:return Ve=B._init,Se(Ve(B._payload),ne,_e,be,ze)}}if(Ve)return ze=ze(B),Ve=be===""?"."+ve(B,0):be,P(ze)?(_e="",Ve!=null&&(_e=Ve.replace(Te,"$&/")+"/"),Se(ze,ne,_e,"",function(Nn){return Nn})):ze!=null&&(ue(ze)&&(ze=ie(ze,_e+(ze.key==null||B&&B.key===ze.key?"":(""+ze.key).replace(Te,"$&/")+"/")+Ve)),ne.push(ze)),1;Ve=0;var st=be===""?".":be+":";if(P(B))for(var wt=0;wt<B.length;wt++)be=B[wt],it=st+ve(be,wt),Ve+=Se(be,ne,_e,it,ze);else if(wt=S(B),typeof wt=="function")for(B=wt.call(B),wt=0;!(be=B.next()).done;)be=be.value,it=st+ve(be,wt++),Ve+=Se(be,ne,_e,it,ze);else if(it==="object"){if(typeof B.then=="function")return Se(ye(B),ne,_e,be,ze);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function G(B,ne,_e){if(B==null)return B;var be=[],ze=0;return Se(B,be,"","",function(it){return ne.call(_e,it,ze++)}),be}function F(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(_e){(B._status===0||B._status===-1)&&(B._status=1,B._result=_e)},function(_e){(B._status===0||B._status===-1)&&(B._status=2,B._result=_e)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var X=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function W(){}return Nt.Children={map:G,forEach:function(B,ne,_e){G(B,function(){ne.apply(this,arguments)},_e)},count:function(B){var ne=0;return G(B,function(){ne++}),ne},toArray:function(B){return G(B,function(ne){return ne})||[]},only:function(B){if(!ue(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Nt.Component=O,Nt.Fragment=n,Nt.Profiler=r,Nt.PureComponent=D,Nt.StrictMode=a,Nt.Suspense=g,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return H.H.useMemoCache(B)}},Nt.cache=function(B){return function(){return B.apply(null,arguments)}},Nt.cloneElement=function(B,ne,_e){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var be=A({},B.props),ze=B.key,it=void 0;if(ne!=null)for(Ve in ne.ref!==void 0&&(it=void 0),ne.key!==void 0&&(ze=""+ne.key),ne)!L.call(ne,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ne.ref===void 0||(be[Ve]=ne[Ve]);var Ve=arguments.length-2;if(Ve===1)be.children=_e;else if(1<Ve){for(var st=Array(Ve),wt=0;wt<Ve;wt++)st[wt]=arguments[wt+2];be.children=st}return Y(B.type,ze,void 0,void 0,it,be)},Nt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Nt.createElement=function(B,ne,_e){var be,ze={},it=null;if(ne!=null)for(be in ne.key!==void 0&&(it=""+ne.key),ne)L.call(ne,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ze[be]=ne[be]);var Ve=arguments.length-2;if(Ve===1)ze.children=_e;else if(1<Ve){for(var st=Array(Ve),wt=0;wt<Ve;wt++)st[wt]=arguments[wt+2];ze.children=st}if(B&&B.defaultProps)for(be in Ve=B.defaultProps,Ve)ze[be]===void 0&&(ze[be]=Ve[be]);return Y(B,it,void 0,void 0,null,ze)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(B){return{$$typeof:d,render:B}},Nt.isValidElement=ue,Nt.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:F}},Nt.memo=function(B,ne){return{$$typeof:m,type:B,compare:ne===void 0?null:ne}},Nt.startTransition=function(B){var ne=H.T,_e={};H.T=_e;try{var be=B(),ze=H.S;ze!==null&&ze(_e,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(W,X)}catch(it){X(it)}finally{H.T=ne}},Nt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Nt.use=function(B){return H.H.use(B)},Nt.useActionState=function(B,ne,_e){return H.H.useActionState(B,ne,_e)},Nt.useCallback=function(B,ne){return H.H.useCallback(B,ne)},Nt.useContext=function(B){return H.H.useContext(B)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(B,ne){return H.H.useDeferredValue(B,ne)},Nt.useEffect=function(B,ne,_e){var be=H.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return be.useEffect(B,ne)},Nt.useId=function(){return H.H.useId()},Nt.useImperativeHandle=function(B,ne,_e){return H.H.useImperativeHandle(B,ne,_e)},Nt.useInsertionEffect=function(B,ne){return H.H.useInsertionEffect(B,ne)},Nt.useLayoutEffect=function(B,ne){return H.H.useLayoutEffect(B,ne)},Nt.useMemo=function(B,ne){return H.H.useMemo(B,ne)},Nt.useOptimistic=function(B,ne){return H.H.useOptimistic(B,ne)},Nt.useReducer=function(B,ne,_e){return H.H.useReducer(B,ne,_e)},Nt.useRef=function(B){return H.H.useRef(B)},Nt.useState=function(B){return H.H.useState(B)},Nt.useSyncExternalStore=function(B,ne,_e){return H.H.useSyncExternalStore(B,ne,_e)},Nt.useTransition=function(){return H.H.useTransition()},Nt.version="19.1.1",Nt}var Fb;function Wm(){return Fb||(Fb=1,m1.exports=m8()),m1.exports}var v1={exports:{}},si={};var Qb;function v8(){if(Qb)return si;Qb=1;var t=Wm();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,si.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,v)},si.flushSync=function(g){var m=c.T,v=a.p;try{if(c.T=null,a.p=2,g)return g()}finally{c.T=m,a.p=v,a.d.f()}},si.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},si.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},si.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},si.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},si.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},si.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},si.requestFormReset=function(g){a.d.r(g)},si.unstable_batchedUpdates=function(g,m){return g(m)},si.useFormState=function(g,m,v){return c.H.useFormState(g,m,v)},si.useFormStatus=function(){return c.H.useHostTransitionStatus()},si.version="19.1.1",si}var $b;function X5(){if($b)return v1.exports;$b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v1.exports=v8(),v1.exports}var Jb;function y8(){if(Jb)return d0;Jb=1;var t=i2(),e=Wm(),n=X5();function a(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,f=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(f=s.return),i=s.return;while(i)}return s.tag===3?f:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(a(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(a(188));return s!==i?null:i}for(var f=i,h=s;;){var y=f.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){f=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===f)return d(y),i;if(x===h)return d(y),s;x=x.sibling}throw Error(a(188))}if(f.return!==h.return)f=y,h=x;else{for(var M=!1,U=y.child;U;){if(U===f){M=!0,f=y,h=x;break}if(U===h){M=!0,h=y,f=x;break}U=U.sibling}if(!M){for(U=x.child;U;){if(U===f){M=!0,f=x,h=y;break}if(U===h){M=!0,h=x,f=y;break}U=U.sibling}if(!M)throw Error(a(189))}}if(f.alternate!==h)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),z=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function ve(i){return i===null||typeof i!="object"?null:(i=Te&&i[Te]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===pe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case L:return"SuspenseList";case ue:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case z:return(i.displayName||"Context")+".Provider";case D:return(i._context.displayName||"Context")+".Consumer";case P:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return s=i.displayName||null,s!==null?s:ye(i.type)||"Memo";case ie:s=i._payload,i=i._init;try{return ye(i(s))}catch{}}return null}var Se=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},W=[],B=-1;function ne(i){return{current:i}}function _e(i){0>B||(i.current=W[B],W[B]=null,B--)}function be(i,s){B++,W[B]=i.current,i.current=s}var ze=ne(null),it=ne(null),Ve=ne(null),st=ne(null);function wt(i,s){switch(be(Ve,s),be(it,i),be(ze,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?yb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=yb(s),i=bb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}_e(ze),be(ze,i)}function Nn(){_e(ze),_e(it),_e(Ve)}function jt(i){i.memoizedState!==null&&be(st,i);var s=ze.current,f=bb(s,i.type);s!==f&&(be(it,i),be(ze,f))}function Yt(i){it.current===i&&(_e(ze),_e(it)),st.current===i&&(_e(st),s0._currentValue=X)}var Ya=Object.prototype.hasOwnProperty,Wn=t.unstable_scheduleCallback,ba=t.unstable_cancelCallback,He=t.unstable_shouldYield,nt=t.unstable_requestPaint,fn=t.unstable_now,Gn=t.unstable_getCurrentPriorityLevel,li=t.unstable_ImmediatePriority,Z=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,de=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,ke=t.log,Me=t.unstable_setDisableYieldValue,qe=null,Fe=null;function bt(i){if(typeof ke=="function"&&Me(i),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(qe,i)}catch{}}var an=Math.clz32?Math.clz32:Za,Bi=Math.log,oi=Math.LN2;function Za(i){return i>>>=0,i===0?32:31-(Bi(i)/oi|0)|0}var xi=256,Hi=4194304;function Xa(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function kr(i,s,f){var h=i.pendingLanes;if(h===0)return 0;var y=0,x=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var U=h&134217727;return U!==0?(h=U&~x,h!==0?y=Xa(h):(M&=U,M!==0?y=Xa(M):f||(f=U&~i,f!==0&&(y=Xa(f))))):(U=h&~x,U!==0?y=Xa(U):M!==0?y=Xa(M):f||(f=h&~i,f!==0&&(y=Xa(f)))),y===0?0:s!==0&&s!==y&&(s&x)===0&&(x=y&-y,f=s&-s,x>=f||x===32&&(f&4194048)!==0)?s:y}function Gi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Lr(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var i=xi;return xi<<=1,(xi&4194048)===0&&(xi=256),i}function Pr(){var i=Hi;return Hi<<=1,(Hi&62914560)===0&&(Hi=4194304),i}function fo(i){for(var s=[],f=0;31>f;f++)s.push(i);return s}function qi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ic(i,s,f,h,y,x){var M=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var U=i.entanglements,V=i.expirationTimes,oe=i.hiddenUpdates;for(f=M&~f;0<f;){var xe=31-an(f),Ee=1<<xe;U[xe]=0,V[xe]=-1;var fe=oe[xe];if(fe!==null)for(oe[xe]=null,xe=0;xe<fe.length;xe++){var he=fe[xe];he!==null&&(he.lane&=-536870913)}f&=~Ee}h!==0&&ys(i,h,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(M&~s))}function ys(i,s,f){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-an(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|f&4194090}function bs(i,s){var f=i.entangledLanes|=s;for(i=i.entanglements;f;){var h=31-an(f),y=1<<h;y&s|i[h]&s&&(i[h]|=s),f&=~y}}function Br(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ho(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function pl(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:Pb(i.type))}function K(i,s){var f=F.p;try{return F.p=i,s()}finally{F.p=f}}var ee=Math.random().toString(36).slice(2),le="__reactFiber$"+ee,Ce="__reactProps$"+ee,je="__reactContainer$"+ee,Qe="__reactEvents$"+ee,et="__reactListeners$"+ee,Ze="__reactHandles$"+ee,Ie="__reactResources$"+ee,tt="__reactMarker$"+ee;function We(i){delete i[le],delete i[Ce],delete i[Qe],delete i[et],delete i[Ze]}function Xe(i){var s=i[le];if(s)return s;for(var f=i.parentNode;f;){if(s=f[je]||f[le]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(i=wb(i);i!==null;){if(f=i[le])return f;i=wb(i)}return s}i=f,f=i.parentNode}return null}function yt(i){if(i=i[le]||i[je]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function $t(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(a(33))}function gn(i){var s=i[Ie];return s||(s=i[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(i){i[tt]=!0}var ln=new Set,tn={};function Pt(i,s){Ia(i,s),Ia(i+"Capture",s)}function Ia(i,s){for(tn[i]=s,i=0;i<s.length;i++)ln.add(s[i])}var wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ka={},ml={};function vl(i){return Ya.call(ml,i)?!0:Ya.call(Ka,i)?!1:wi.test(i)?ml[i]=!0:(Ka[i]=!0,!1)}function Fa(i,s,f){if(vl(s))if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+f)}}function Vi(i,s,f){if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+f)}}function _a(i,s,f,h){if(h===null)i.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(s,f,""+h)}}var ut,Mt;function ja(i){if(ut===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);ut=s&&s[1]||"",Mt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+i+Mt}var za=!1;function pn(i,s){if(!i||za)return"";za=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(he){var fe=he}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(he){fe=he}i.call(Ee.prototype)}}else{try{throw Error()}catch(he){fe=he}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),M=x[0],U=x[1];if(M&&U){var V=M.split(`
`),oe=U.split(`
`);for(y=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;y<oe.length&&!oe[y].includes("DetermineComponentFrameRoot");)y++;if(h===V.length||y===oe.length)for(h=V.length-1,y=oe.length-1;1<=h&&0<=y&&V[h]!==oe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(V[h]!==oe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||V[h]!==oe[y]){var xe=`
`+V[h].replace(" at new "," at ");return i.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",i.displayName)),xe}while(1<=h&&0<=y);break}}}finally{za=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?ja(f):""}function _s(i){switch(i.tag){case 26:case 27:case 5:return ja(i.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 15:return pn(i.type,!1);case 11:return pn(i.type.render,!1);case 1:return pn(i.type,!0);case 31:return ja("Activity");default:return""}}function ui(i){try{var s="";do s+=_s(i),i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ca(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Kc(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zd(i){var s=Kc(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,x=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(M){h=""+M,x.call(this,M)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Tu(i){i._valueTracker||(i._valueTracker=Zd(i))}function Xd(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var f=s.getValue(),h="";return i&&(h=Kc(i)?i.checked?"true":"false":i.value),i=h,i!==f?(s.setValue(i),!0):!1}function Au(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var cg=/[\n"\\]/g;function ci(i){return i.replace(cg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fc(i,s,f,h,y,x,M,U){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),s!=null?M==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ca(s)):i.value!==""+ca(s)&&(i.value=""+ca(s)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),s!=null?$c(i,M,ca(s)):f!=null?$c(i,M,ca(f)):h!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+ca(U):i.removeAttribute("name")}function Qc(i,s,f,h,y,x,M,U){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),s!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;f=f!=null?""+ca(f):"",s=s!=null?""+ca(s):f,U||s===i.value||(i.value=s),i.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=U?i.checked:!!h,i.defaultChecked=!!h,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function $c(i,s,f){s==="number"&&Au(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function go(i,s,f,h){if(i=i.options,s){s={};for(var y=0;y<f.length;y++)s["$"+f[y]]=!0;for(f=0;f<i.length;f++)y=s.hasOwnProperty("$"+i[f].value),i[f].selected!==y&&(i[f].selected=y),y&&h&&(i[f].defaultSelected=!0)}else{for(f=""+ca(f),s=null,y=0;y<i.length;y++){if(i[y].value===f){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function Id(i,s,f){if(s!=null&&(s=""+ca(s),s!==i.value&&(i.value=s),f==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=f!=null?""+ca(f):""}function Kd(i,s,f,h){if(s==null){if(h!=null){if(f!=null)throw Error(a(92));if(Se(h)){if(1<h.length)throw Error(a(93));h=h[0]}f=h}f==null&&(f=""),s=f}f=ca(s),i.defaultValue=f,h=i.textContent,h===f&&h!==""&&h!==null&&(i.value=h)}function yl(i,s){if(s){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=s;return}}i.textContent=s}var Fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qd(i,s,f){var h=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,f):typeof f!="number"||f===0||Fd.has(s)?s==="float"?i.cssFloat=f:i[s]=(""+f).trim():i[s]=f+"px"}function $d(i,s,f){if(s!=null&&typeof s!="object")throw Error(a(62));if(i=i.style,f!=null){for(var h in f)!f.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&f[y]!==h&&Qd(i,y,h)}else for(var x in s)s.hasOwnProperty(x)&&Qd(i,x,s[x])}function Jc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(i){return dg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ef=null;function Ss(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hr=null,bl=null;function Ru(i){var s=yt(i);if(s&&(i=s.stateNode)){var f=i[Ce]||null;e:switch(i=s.stateNode,s.type){case"input":if(Fc(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ci(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var h=f[s];if(h!==i&&h.form===i.form){var y=h[Ce]||null;if(!y)throw Error(a(90));Fc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<f.length;s++)h=f[s],h.form===i.form&&Xd(h)}break e;case"textarea":Id(i,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&go(i,!!f.multiple,s,!1)}}}var _l=!1;function Jd(i,s,f){if(_l)return i(s,f);_l=!0;try{var h=i(s);return h}finally{if(_l=!1,(Hr!==null||bl!==null)&&(Qs(),Hr&&(s=Hr,i=bl,bl=Hr=null,Ru(s),i)))for(s=0;s<i.length;s++)Ru(i[s])}}function po(i,s){var f=i.stateNode;if(f===null)return null;var h=f[Ce]||null;if(h===null)return null;f=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=!1;if(sr)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){tf=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{tf=!1}var Gr=null,Ou=null,Nu=null;function Wd(){if(Nu)return Nu;var i,s=Ou,f=s.length,h,y="value"in Gr?Gr.value:Gr.textContent,x=y.length;for(i=0;i<f&&s[i]===y[i];i++);var M=f-i;for(h=1;h<=M&&s[f-h]===y[x-h];h++);return Nu=y.slice(i,1<h?1-h:void 0)}function vo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Mu(){return!0}function eh(){return!1}function Ua(i){function s(f,h,y,x,M){this._reactName=f,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=M,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(f=i[U],this[U]=f?f(x):x[U]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Mu:eh,this.isPropagationStopped=eh,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),s}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Ua(qr),yo=v({},qr,{view:0,detail:0}),Nv=Ua(yo),th,nf,Vr,bo=v({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vr&&(Vr&&i.type==="mousemove"?(th=i.screenX-Vr.screenX,nf=i.screenY-Vr.screenY):nf=th=0,Vr=i),th)},movementY:function(i){return"movementY"in i?i.movementY:nf}}),ju=Ua(bo),hg=v({},bo,{dataTransfer:0}),gg=Ua(hg),af=v({},yo,{relatedTarget:0}),Sl=Ua(af),rf=v({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),pg=Ua(rf),mg=v({},qr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xs=Ua(mg),vg=v({},qr,{data:0}),Yr=Ua(vg),Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=nh[i])?!!s[i]:!1}function lf(){return yg}var xl=v({},yo,{key:function(i){if(i.key){var s=Zr[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=vo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(i){return i.type==="keypress"?vo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),of=Ua(xl),bg=v({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=Ua(bg),_g=v({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),Sg=Ua(_g),Mv=v({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fa=Ua(Mv),xg=v({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=Ua(xg),Eg=v({},qr,{newState:0,oldState:0}),Cg=Ua(Eg),Tg=[9,13,27,32],_o=sr&&"CompositionEvent"in window,wl=null;sr&&"documentMode"in document&&(wl=document.documentMode);var Ag=sr&&"TextEvent"in window&&!wl,ah=sr&&(!_o||wl&&8<wl&&11>=wl),ih=" ",cf=!1;function ff(i,s){switch(i){case"keyup":return Tg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ws=!1;function df(i,s){switch(i){case"compositionend":return rh(s);case"keypress":return s.which!==32?null:(cf=!0,ih);case"textInput":return i=s.data,i===ih&&cf?null:i;default:return null}}function sh(i,s){if(ws)return i==="compositionend"||!_o&&ff(i,s)?(i=Wd(),Nu=Ou=Gr=null,ws=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ah&&s.locale!=="ko"?null:s.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Rg[i.type]:s==="textarea"}function lh(i,s,f,h){Hr?bl?bl.push(h):bl=[h]:Hr=h,s=Cp(s,"onChange"),0<s.length&&(f=new Du("onChange","change",null,f,h),i.push({event:f,listeners:s}))}var fi=null,El=null;function Dv(i){hb(i,0)}function zu(i){var s=$t(i);if(Xd(s))return i}function Qa(i,s){if(i==="change")return s}var oh=!1;if(sr){var Uu;if(sr){var gf="oninput"in document;if(!gf){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),gf=typeof uh.oninput=="function"}Uu=gf}else Uu=!1;oh=Uu&&(!document.documentMode||9<document.documentMode)}function pf(){fi&&(fi.detachEvent("onpropertychange",mf),El=fi=null)}function mf(i){if(i.propertyName==="value"&&zu(El)){var s=[];lh(s,El,i,Ss(i)),Jd(Dv,s)}}function Og(i,s,f){i==="focusin"?(pf(),fi=s,El=f,fi.attachEvent("onpropertychange",mf)):i==="focusout"&&pf()}function vf(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zu(El)}function ku(i,s){if(i==="click")return zu(s)}function Mn(i,s){if(i==="input"||i==="change")return zu(s)}function jv(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var di=typeof Object.is=="function"?Object.is:jv;function So(i,s){if(di(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var f=Object.keys(i),h=Object.keys(s);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var y=f[h];if(!Ya.call(s,y)||!di(i[y],s[y]))return!1}return!0}function xo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xr(i,s){var f=xo(i);i=0;for(var h;f;){if(f.nodeType===3){if(h=i+f.textContent.length,i<=s&&h>=s)return{node:f,offset:s-i};i=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=xo(f)}}function ch(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ch(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function fh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Au(i.document);s instanceof i.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)i=s.contentWindow;else break;s=Au(i.document)}return s}function Cl(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var lr=sr&&"documentMode"in document&&11>=document.documentMode,Tl=null,Lu=null,wo=null,Pu=!1;function yf(i,s,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Pu||Tl==null||Tl!==Au(h)||(h=Tl,"selectionStart"in h&&Cl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),wo&&So(wo,h)||(wo=h,h=Cp(Lu,"onSelect"),0<h.length&&(s=new Du("onSelect","select",null,s,f),i.push({event:s,listeners:h}),s.target=Tl)))}function or(i,s){var f={};return f[i.toLowerCase()]=s.toLowerCase(),f["Webkit"+i]="webkit"+s,f["Moz"+i]="moz"+s,f}var Al={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},bf={},Ng={};sr&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Es(i){if(bf[i])return bf[i];if(!Al[i])return i;var s=Al[i],f;for(f in s)if(s.hasOwnProperty(f)&&f in Ng)return bf[i]=s[f];return i}var dh=Es("animationend"),Ei=Es("animationiteration"),_f=Es("animationstart"),Mg=Es("transitionrun"),zv=Es("transitionstart"),hh=Es("transitioncancel"),Sa=Es("transitionend"),gh=new Map,xa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xa.push("scrollEnd");function Ci(i,s){gh.set(i,s),Pt(s,[i])}var Ir=new WeakMap;function ea(i,s){if(typeof i=="object"&&i!==null){var f=Ir.get(i);return f!==void 0?f:(s={value:i,source:s,stack:ui(s)},Ir.set(i,s),s)}return{value:i,source:s,stack:ui(s)}}var Kn=[],Cs=0,Bu=0;function hi(){for(var i=Cs,s=Bu=Cs=0;s<i;){var f=Kn[s];Kn[s++]=null;var h=Kn[s];Kn[s++]=null;var y=Kn[s];Kn[s++]=null;var x=Kn[s];if(Kn[s++]=null,h!==null&&y!==null){var M=h.pending;M===null?y.next=y:(y.next=M.next,M.next=y),h.pending=y}x!==0&&As(f,y,x)}}function Hu(i,s,f,h){Kn[Cs++]=i,Kn[Cs++]=s,Kn[Cs++]=f,Kn[Cs++]=h,Bu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Ts(i,s,f,h){return Hu(i,s,f,h),Gu(i)}function ur(i,s){return Hu(i,null,null,s),Gu(i)}function As(i,s,f){i.lanes|=f;var h=i.alternate;h!==null&&(h.lanes|=f);for(var y=!1,x=i.return;x!==null;)x.childLanes|=f,h=x.alternate,h!==null&&(h.childLanes|=f),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&s!==null&&(y=31-an(f),i=x.hiddenUpdates,h=i[y],h===null?i[y]=[s]:h.push(s),s.lane=f|536870912),x):null}function Gu(i){if(50<Cr)throw Cr=0,bc=null,Error(a(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Rl={};function qu(i,s,f,h){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(i,s,f,h){return new qu(i,s,f,h)}function Eo(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cr(i,s){var f=i.alternate;return f===null?(f=$a(i.tag,s,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=s,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,s=i.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Sf(i,s){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,s=f.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Co(i,s,f,h,y,x){var M=0;if(h=i,typeof i=="function")Eo(i)&&(M=1);else if(typeof i=="string")M=Jw(i,f,ze.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ue:return i=$a(31,f,s,y),i.elementType=ue,i.lanes=x,i;case A:return Kr(f.children,y,x,s);case R:M=8,y|=24;break;case O:return i=$a(12,f,s,y|2),i.elementType=O,i.lanes=x,i;case H:return i=$a(13,f,s,y),i.elementType=H,i.lanes=x,i;case L:return i=$a(19,f,s,y),i.elementType=L,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case z:M=10;break e;case D:M=9;break e;case P:M=11;break e;case Y:M=14;break e;case ie:M=16,h=null;break e}M=29,f=Error(a(130,i===null?"null":typeof i,"")),h=null}return s=$a(M,f,s,y),s.elementType=i,s.type=h,s.lanes=x,s}function Kr(i,s,f,h){return i=$a(7,i,h,s),i.lanes=f,i}function xf(i,s,f){return i=$a(6,i,null,s),i.lanes=f,i}function Vu(i,s,f){return s=$a(4,i.children!==null?i.children:[],i.key,s),s.lanes=f,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ta=[],Ol=0,wa=null,Yu=0,gi=[],Ti=0,Ja=null,fr=1,Yi="";function Ai(i,s){ta[Ol++]=Yu,ta[Ol++]=wa,wa=i,Yu=s}function ph(i,s,f){gi[Ti++]=fr,gi[Ti++]=Yi,gi[Ti++]=Ja,Ja=i;var h=fr;i=Yi;var y=32-an(h)-1;h&=~(1<<y),f+=1;var x=32-an(s)+y;if(30<x){var M=y-y%5;x=(h&(1<<M)-1).toString(32),h>>=M,y-=M,fr=1<<32-an(s)+y|f<<y|h,Yi=x+i}else fr=1<<x|f<<y|h,Yi=i}function wf(i){i.return!==null&&(Ai(i,1),ph(i,1,0))}function Ef(i){for(;i===wa;)wa=ta[--Ol],ta[Ol]=null,Yu=ta[--Ol],ta[Ol]=null;for(;i===Ja;)Ja=gi[--Ti],gi[Ti]=null,Yi=gi[--Ti],gi[Ti]=null,fr=gi[--Ti],gi[Ti]=null}var Ea=null,Cn=null,Zt=!1,Nl=null,dr=!1,mh=Error(a(519));function Rs(i){var s=Error(a(418,""));throw Ao(ea(s,i)),mh}function vh(i){var s=i.stateNode,f=i.type,h=i.memoizedProps;switch(s[le]=i,s[Ce]=h,f){case"dialog":Gt("cancel",s),Gt("close",s);break;case"iframe":case"object":case"embed":Gt("load",s);break;case"video":case"audio":for(f=0;f<e0.length;f++)Gt(e0[f],s);break;case"source":Gt("error",s);break;case"img":case"image":case"link":Gt("error",s),Gt("load",s);break;case"details":Gt("toggle",s);break;case"input":Gt("invalid",s),Qc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Tu(s);break;case"select":Gt("invalid",s);break;case"textarea":Gt("invalid",s),Kd(s,h.value,h.defaultValue,h.children),Tu(s)}f=h.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||h.suppressHydrationWarning===!0||vb(s.textContent,f)?(h.popover!=null&&(Gt("beforetoggle",s),Gt("toggle",s)),h.onScroll!=null&&Gt("scroll",s),h.onScrollEnd!=null&&Gt("scrollend",s),h.onClick!=null&&(s.onclick=Tp),s=!0):s=!1,s||Rs(i)}function Ml(i){for(Ea=i.return;Ea;)switch(Ea.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:Ea=Ea.return}}function Os(i){if(i!==Ea)return!1;if(!Zt)return Ml(i),Zt=!0,!1;var s=i.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||Jv(i.type,i.memoizedProps)),f=!f),f&&Cn&&Rs(i),Ml(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(f=i.data,f==="/$"){if(s===0){Cn=us(i.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++;i=i.nextSibling}Cn=null}}else s===27?(s=Cn,Qo(i.type)?(i=n1,n1=null,Cn=i):Cn=s):Cn=Ea?us(i.stateNode.nextSibling):null;return!0}function To(){Cn=Ea=null,Zt=!1}function yh(){var i=Nl;return i!==null&&(ga===null?ga=i:ga.push.apply(ga,i),Nl=null),i}function Ao(i){Nl===null?Nl=[i]:Nl.push(i)}var Cf=ne(null),Ns=null,hr=null;function Ri(i,s,f){be(Cf,s._currentValue),s._currentValue=f}function gr(i){i._currentValue=Cf.current,_e(Cf)}function Tf(i,s,f){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===f)break;i=i.return}}function Jt(i,s,f,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var M=y.child;x=x.firstContext;e:for(;x!==null;){var U=x;x=y;for(var V=0;V<s.length;V++)if(U.context===s[V]){x.lanes|=f,U=x.alternate,U!==null&&(U.lanes|=f),Tf(x.return,f,i),h||(M=null);break e}x=U.next}}else if(y.tag===18){if(M=y.return,M===null)throw Error(a(341));M.lanes|=f,x=M.alternate,x!==null&&(x.lanes|=f),Tf(M,f,i),M=null}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===i){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}}function Dl(i,s,f,h){i=null;for(var y=s,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var M=y.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var U=y.type;di(y.pendingProps.value,M.value)||(i!==null?i.push(U):i=[U])}}else if(y===st.current){if(M=y.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(s0):i=[s0])}y=y.return}i!==null&&Jt(s,i,f,h),s.flags|=262144}function Af(i){for(i=i.firstContext;i!==null;){if(!di(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ms(i){Ns=i,hr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ca(i){return Dg(Ns,i)}function Rf(i,s){return Ns===null&&Ms(i),Dg(i,s)}function Dg(i,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},hr===null){if(i===null)throw Error(a(308));hr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else hr=hr.next=s;return f}var Uv=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(f,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(f){return f()})}},bh=t.unstable_scheduleCallback,Fr=t.unstable_NormalPriority,qn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new Uv,data:new Map,refCount:0}}function Zi(i){i.refCount--,i.refCount===0&&bh(Fr,function(){i.controller.abort()})}var jl=null,Zu=0,Oo=0,zl=null;function jg(i,s){if(jl===null){var f=jl=[];Zu=0,Oo=Vv(),zl={status:"pending",value:void 0,then:function(h){f.push(h)}}}return Zu++,s.then(_h,_h),s}function _h(){if(--Zu===0&&jl!==null){zl!==null&&(zl.status="fulfilled");var i=jl;jl=null,Oo=0,zl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function zg(i,s){var f=[],h={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<f.length;y++)(0,f[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),h}var Sh=G.S;G.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&jg(i,s),Sh!==null&&Sh(i,s)};var Qr=ne(null);function Tt(){var i=Qr.current;return i!==null?i:cn.pooledCache}function Of(i,s){s===null?be(Qr,Qr.current):be(Qr,s.pool)}function Wa(){var i=Tt();return i===null?null:{parent:qn._currentValue,pool:i}}var Ul=Error(a(460)),Ug=Error(a(474)),kl=Error(a(542)),Ds={then:function(){}};function Ll(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Xu(){}function Nf(i,s,f){switch(f=i[f],f===void 0?i.push(s):f!==s&&(s.then(Xu,Xu),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$r(i),i;default:if(typeof s.status=="string")s.then(Xu,Xu);else{if(i=cn,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$r(i),i}throw Iu=s,Ul}}var Iu=null;function xh(){if(Iu===null)throw Error(a(459));var i=Iu;return Iu=null,i}function $r(i){if(i===Ul||i===kl)throw Error(a(483))}var pr=!1;function Ku(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ka(i,s,f){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(gt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Gu(i),As(i,null,f),s}return Hu(i,h,s,f),Gu(i)}function Pl(i,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,f|=h,s.lanes=f,bs(i,f)}}function wh(i,s){var f=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var y=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var M={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?y=x=M:x=x.next=M,f=f.next}while(f!==null);x===null?y=x=s:x=x.next=s}else y=x=s;f={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=s:i.next=s,f.lastBaseUpdate=s}var Mf=!1;function Qu(){if(Mf){var i=zl;if(i!==null)throw i}}function js(i,s,f,h){Mf=!1;var y=i.updateQueue;pr=!1;var x=y.firstBaseUpdate,M=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var V=U,oe=V.next;V.next=null,M===null?x=oe:M.next=oe,M=V;var xe=i.alternate;xe!==null&&(xe=xe.updateQueue,U=xe.lastBaseUpdate,U!==M&&(U===null?xe.firstBaseUpdate=oe:U.next=oe,xe.lastBaseUpdate=V))}if(x!==null){var Ee=y.baseState;M=0,xe=oe=V=null,U=x;do{var fe=U.lane&-536870913,he=fe!==U.lane;if(he?(Ht&fe)===fe:(h&fe)===fe){fe!==0&&fe===Oo&&(Mf=!0),xe!==null&&(xe=xe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var mt=i,ft=U;fe=s;var _n=f;switch(ft.tag){case 1:if(mt=ft.payload,typeof mt=="function"){Ee=mt.call(_n,Ee,fe);break e}Ee=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ft.payload,fe=typeof mt=="function"?mt.call(_n,Ee,fe):mt,fe==null)break e;Ee=v({},Ee,fe);break e;case 2:pr=!0}}fe=U.callback,fe!==null&&(i.flags|=64,he&&(i.flags|=8192),he=y.callbacks,he===null?y.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},xe===null?(oe=xe=he,V=Ee):xe=xe.next=he,M|=fe;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;he=U,U=he.next,he.next=null,y.lastBaseUpdate=he,y.shared.pending=null}}while(!0);xe===null&&(V=Ee),y.baseState=V,y.firstBaseUpdate=oe,y.lastBaseUpdate=xe,x===null&&(y.shared.lanes=0),hn|=M,i.lanes=M,i.memoizedState=Ee}}function lt(i,s){if(typeof i!="function")throw Error(a(191,i));i.call(s)}function kg(i,s){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)lt(f[i],s)}var No=ne(null),$u=ne(0);function Mo(i,s){i=Er,be($u,i),be(No,s),Er=i|s.baseLanes}function Eh(){be($u,Er),be(No,No.current)}function Ch(){Er=$u.current,_e(No),_e($u)}var zs=0,At=null,on=null,kn=null,Ju=!1,Jr=!1,Us=!1,Df=0,Wu=0,Oi=null,Wr=0;function Ut(){throw Error(a(321))}function vr(i,s){if(s===null)return!1;for(var f=0;f<s.length&&f<i.length;f++)if(!di(i[f],s[f]))return!1;return!0}function ei(i,s,f,h,y,x){return zs=x,At=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=i===null||i.memoizedState===null?hp:qh,Us=!1,x=f(h,y),Us=!1,Jr&&(x=Pg(s,f,h,y)),Lg(i),x}function Lg(i){G.H=Pf;var s=on!==null&&on.next!==null;if(zs=0,kn=on=At=null,Ju=!1,Wu=0,Oi=null,s)throw Error(a(300));i===null||un||(i=i.dependencies,i!==null&&Af(i)&&(un=!0))}function Pg(i,s,f,h){At=i;var y=0;do{if(Jr&&(Oi=null),Wu=0,Jr=!1,25<=y)throw Error(a(301));if(y+=1,kn=on=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}G.H=Bv,x=s(f,h)}while(Jr);return x}function na(){var i=G.H,s=i.useState()[0];return s=typeof s.then=="function"?ec(s):s,i=i.useState()[0],(on!==null?on.memoizedState:null)!==i&&(At.flags|=1024),s}function Xi(){var i=Df!==0;return Df=0,i}function Th(i,s,f){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f}function Ah(i){if(Ju){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ju=!1}zs=0,kn=on=At=null,Jr=!1,Wu=Df=0,Oi=null}function ti(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?At.memoizedState=kn=i:kn=kn.next=i,kn}function Vn(){if(on===null){var i=At.alternate;i=i!==null?i.memoizedState:null}else i=on.next;var s=kn===null?At.memoizedState:kn.next;if(s!==null)kn=s,on=i;else{if(i===null)throw At.alternate===null?Error(a(467)):Error(a(310));on=i,i={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},kn===null?At.memoizedState=kn=i:kn=kn.next=i}return kn}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(i){var s=Wu;return Wu+=1,Oi===null&&(Oi=[]),i=Nf(Oi,i,s),s=At,(kn===null?s.memoizedState:kn.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?hp:qh),i}function tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ec(i);if(i.$$typeof===z)return Ca(i)}throw Error(a(438,String(i)))}function Rh(i){var s=null,f=At.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var h=At.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=jf(),At.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(i),h=0;h<i;h++)f[h]=me;return s.index++,f}function ni(i,s){return typeof s=="function"?s(i):s}function yr(i){var s=Vn();return Oh(s,on,i)}function Oh(i,s,f){var h=i.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=f;var y=i.baseQueue,x=h.pending;if(x!==null){if(y!==null){var M=y.next;y.next=x.next,x.next=M}s.baseQueue=y=x,h.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{s=y.next;var U=M=null,V=null,oe=s,xe=!1;do{var Ee=oe.lane&-536870913;if(Ee!==oe.lane?(Ht&Ee)===Ee:(zs&Ee)===Ee){var fe=oe.revertLane;if(fe===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ee===Oo&&(xe=!0);else if((zs&fe)===fe){oe=oe.next,fe===Oo&&(xe=!0);continue}else Ee={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(U=V=Ee,M=x):V=V.next=Ee,At.lanes|=fe,hn|=fe;Ee=oe.action,Us&&f(x,Ee),x=oe.hasEagerState?oe.eagerState:f(x,Ee)}else fe={lane:Ee,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(U=V=fe,M=x):V=V.next=fe,At.lanes|=Ee,hn|=Ee;oe=oe.next}while(oe!==null&&oe!==s);if(V===null?M=x:V.next=U,!di(x,i.memoizedState)&&(un=!0,xe&&(f=zl,f!==null)))throw f;i.memoizedState=x,i.baseState=M,i.baseQueue=V,h.lastRenderedState=x}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Nh(i){var s=Vn(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=i;var h=f.dispatch,y=f.pending,x=s.memoizedState;if(y!==null){f.pending=null;var M=y=y.next;do x=i(x,M.action),M=M.next;while(M!==y);di(x,s.memoizedState)||(un=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),f.lastRenderedState=x}return[x,h]}function Bg(i,s,f){var h=At,y=Vn(),x=Zt;if(x){if(f===void 0)throw Error(a(407));f=f()}else f=s();var M=!di((on||y).memoizedState,f);M&&(y.memoizedState=f,un=!0),y=y.queue;var U=Gg.bind(null,h,y,i);if(nc(2048,8,U,[i]),y.getSnapshot!==s||M||kn!==null&&kn.memoizedState.tag&1){if(h.flags|=2048,zo(9,zf(),Hg.bind(null,h,y,f,s),null),cn===null)throw Error(a(349));x||(zs&124)!==0||Do(h,s,f)}return f}function Do(i,s,f){i.flags|=16384,i={getSnapshot:s,value:f},s=At.updateQueue,s===null?(s=jf(),At.updateQueue=s,s.stores=[i]):(f=s.stores,f===null?s.stores=[i]:f.push(i))}function Hg(i,s,f,h){s.value=f,s.getSnapshot=h,qg(s)&&jo(i)}function Gg(i,s,f){return f(function(){qg(s)&&jo(i)})}function qg(i){var s=i.getSnapshot;i=i.value;try{var f=s();return!di(i,f)}catch{return!0}}function jo(i){var s=ur(i,2);s!==null&&In(s,i,2)}function Mh(i){var s=ti();if(typeof i=="function"){var f=i;if(i=f(),Us){bt(!0);try{f()}finally{bt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:i},s}function Vg(i,s,f,h){return i.baseState=f,Oh(i,on,typeof h=="function"?h:ni)}function kv(i,s,f,h,y){if(Lf(i))throw Error(a(485));if(i=s.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){x.listeners.push(M)}};G.T!==null?f(!0):x.isTransition=!1,h(x),f=s.pending,f===null?(x.next=s.pending=x,Yg(s,x)):(x.next=f.next,s.pending=f.next=x)}}function Yg(i,s){var f=s.action,h=s.payload,y=i.state;if(s.isTransition){var x=G.T,M={};G.T=M;try{var U=f(y,h),V=G.S;V!==null&&V(M,U),Zg(i,s,U)}catch(oe){Dh(i,s,oe)}finally{G.T=x}}else try{x=f(y,h),Zg(i,s,x)}catch(oe){Dh(i,s,oe)}}function Zg(i,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(h){Xg(i,s,h)},function(h){return Dh(i,s,h)}):Xg(i,s,f)}function Xg(i,s,f){s.status="fulfilled",s.value=f,Ig(s),i.state=f,s=i.pending,s!==null&&(f=s.next,f===s?i.pending=null:(f=f.next,s.next=f,Yg(i,f)))}function Dh(i,s,f){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=f,Ig(s),s=s.next;while(s!==h)}i.action=null}function Ig(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Kg(i,s){return s}function Fg(i,s){if(Zt){var f=cn.formState;if(f!==null){e:{var h=At;if(Zt){if(Cn){t:{for(var y=Cn,x=dr;y.nodeType!==8;){if(!x){y=null;break t}if(y=us(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Cn=us(y.nextSibling),h=y.data==="F!";break e}}Rs(h)}h=!1}h&&(s=f[0])}}return f=ti(),f.memoizedState=f.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:s},f.queue=h,f=cp.bind(null,At,h),h.dispatch=f,h=Mh(!1),x=Gh.bind(null,At,!1,h.queue),h=ti(),y={state:s,dispatch:null,action:i,pending:null},h.queue=y,f=kv.bind(null,At,y,x,f),y.dispatch=f,h.memoizedState=i,[s,f,!1]}function Qg(i){var s=Vn();return $g(s,on,i)}function $g(i,s,f){if(s=Oh(i,s,Kg)[0],i=yr(ni)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=ec(s)}catch(M){throw M===Ul?kl:M}else h=s;s=Vn();var y=s.queue,x=y.dispatch;return f!==s.memoizedState&&(At.flags|=2048,zo(9,zf(),Jg.bind(null,y,f),null)),[h,x,i]}function Jg(i,s){i.action=s}function Wg(i){var s=Vn(),f=on;if(f!==null)return $g(s,f,i);Vn(),s=s.memoizedState,f=Vn();var h=f.queue.dispatch;return f.memoizedState=i,[s,h,!1]}function zo(i,s,f,h){return i={tag:i,create:f,deps:h,inst:s,next:null},s=At.updateQueue,s===null&&(s=jf(),At.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=i.next=i:(h=f.next,f.next=i,i.next=h,s.lastEffect=i),i}function zf(){return{destroy:void 0,resource:void 0}}function ep(){return Vn().memoizedState}function Uf(i,s,f,h){var y=ti();h=h===void 0?null:h,At.flags|=i,y.memoizedState=zo(1|s,zf(),f,h)}function nc(i,s,f,h){var y=Vn();h=h===void 0?null:h;var x=y.memoizedState.inst;on!==null&&h!==null&&vr(h,on.memoizedState.deps)?y.memoizedState=zo(s,x,f,h):(At.flags|=i,y.memoizedState=zo(1|s,x,f,h))}function jh(i,s){Uf(8390656,8,i,s)}function zh(i,s){nc(2048,8,i,s)}function tp(i,s){return nc(4,2,i,s)}function Uh(i,s){return nc(4,4,i,s)}function kh(i,s){if(typeof s=="function"){i=i();var f=s(i);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Lh(i,s,f){f=f!=null?f.concat([i]):null,nc(4,4,kh.bind(null,s,i),f)}function ac(){}function kf(i,s){var f=Vn();s=s===void 0?null:s;var h=f.memoizedState;return s!==null&&vr(s,h[1])?h[0]:(f.memoizedState=[i,s],i)}function np(i,s){var f=Vn();s=s===void 0?null:s;var h=f.memoizedState;if(s!==null&&vr(s,h[1]))return h[0];if(h=i(),Us){bt(!0);try{i()}finally{bt(!1)}}return f.memoizedState=[h,s],h}function Ph(i,s,f){return f===void 0||(zs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=f,i=jn(),At.lanes|=i,hn|=i,f)}function ap(i,s,f,h){return di(f,s)?f:No.current!==null?(i=Ph(i,f,h),di(i,s)||(un=!0),i):(zs&42)===0?(un=!0,i.memoizedState=f):(i=jn(),At.lanes|=i,hn|=i,s)}function ip(i,s,f,h,y){var x=F.p;F.p=x!==0&&8>x?x:8;var M=G.T,U={};G.T=U,Gh(i,!1,s,f);try{var V=y(),oe=G.S;if(oe!==null&&oe(U,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var xe=zg(V,h);ic(i,s,xe,Pn(i))}else ic(i,s,h,Pn(i))}catch(Ee){ic(i,s,{then:function(){},status:"rejected",reason:Ee},Pn())}finally{F.p=x,G.T=M}}function rp(){}function Bh(i,s,f,h){if(i.tag!==5)throw Error(a(476));var y=sp(i).queue;ip(i,y,s,X,f===null?rp:function(){return lp(i),f(h)})}function sp(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:X},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:f},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function lp(i){var s=sp(i).next.queue;ic(i,s,{},Pn())}function Hh(){return Ca(s0)}function op(){return Vn().memoizedState}function up(){return Vn().memoizedState}function Lv(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var f=Pn();i=mr(f);var h=ka(s,i,f);h!==null&&(In(h,s,f),Pl(h,s,f)),s={cache:Ro()},i.payload=s;return}s=s.return}}function Pv(i,s,f){var h=Pn();f={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Lf(i)?fp(s,f):(f=Ts(i,s,f,h),f!==null&&(In(f,i,h),dp(f,s,h)))}function cp(i,s,f){var h=Pn();ic(i,s,f,h)}function ic(i,s,f,h){var y={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Lf(i))fp(s,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var M=s.lastRenderedState,U=x(M,f);if(y.hasEagerState=!0,y.eagerState=U,di(U,M))return Hu(i,s,y,0),cn===null&&hi(),!1}catch{}finally{}if(f=Ts(i,s,y,h),f!==null)return In(f,i,h),dp(f,s,h),!0}return!1}function Gh(i,s,f,h){if(h={lane:2,revertLane:Vv(),action:h,hasEagerState:!1,eagerState:null,next:null},Lf(i)){if(s)throw Error(a(479))}else s=Ts(i,f,h,2),s!==null&&In(s,i,2)}function Lf(i){var s=i.alternate;return i===At||s!==null&&s===At}function fp(i,s){Jr=Ju=!0;var f=i.pending;f===null?s.next=s:(s.next=f.next,f.next=s),i.pending=s}function dp(i,s,f){if((f&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,f|=h,s.lanes=f,bs(i,f)}}var Pf={readContext:Ca,use:tc,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},hp={readContext:Ca,use:tc,useCallback:function(i,s){return ti().memoizedState=[i,s===void 0?null:s],i},useContext:Ca,useEffect:jh,useImperativeHandle:function(i,s,f){f=f!=null?f.concat([i]):null,Uf(4194308,4,kh.bind(null,s,i),f)},useLayoutEffect:function(i,s){return Uf(4194308,4,i,s)},useInsertionEffect:function(i,s){Uf(4,2,i,s)},useMemo:function(i,s){var f=ti();s=s===void 0?null:s;var h=i();if(Us){bt(!0);try{i()}finally{bt(!1)}}return f.memoizedState=[h,s],h},useReducer:function(i,s,f){var h=ti();if(f!==void 0){var y=f(s);if(Us){bt(!0);try{f(s)}finally{bt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=Pv.bind(null,At,i),[h.memoizedState,i]},useRef:function(i){var s=ti();return i={current:i},s.memoizedState=i},useState:function(i){i=Mh(i);var s=i.queue,f=cp.bind(null,At,s);return s.dispatch=f,[i.memoizedState,f]},useDebugValue:ac,useDeferredValue:function(i,s){var f=ti();return Ph(f,i,s)},useTransition:function(){var i=Mh(!1);return i=ip.bind(null,At,i.queue,!0,!1),ti().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,f){var h=At,y=ti();if(Zt){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),cn===null)throw Error(a(349));(Ht&124)!==0||Do(h,s,f)}y.memoizedState=f;var x={value:f,getSnapshot:s};return y.queue=x,jh(Gg.bind(null,h,x,i),[i]),h.flags|=2048,zo(9,zf(),Hg.bind(null,h,x,f,s),null),f},useId:function(){var i=ti(),s=cn.identifierPrefix;if(Zt){var f=Yi,h=fr;f=(h&~(1<<32-an(h)-1)).toString(32)+f,s=""+s+"R"+f,f=Df++,0<f&&(s+="H"+f.toString(32)),s+=""}else f=Wr++,s=""+s+"r"+f.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Hh,useFormState:Fg,useActionState:Fg,useOptimistic:function(i){var s=ti();s.memoizedState=s.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Gh.bind(null,At,!0,f),f.dispatch=s,[i,s]},useMemoCache:Rh,useCacheRefresh:function(){return ti().memoizedState=Lv.bind(null,At)}},qh={readContext:Ca,use:tc,useCallback:kf,useContext:Ca,useEffect:zh,useImperativeHandle:Lh,useInsertionEffect:tp,useLayoutEffect:Uh,useMemo:np,useReducer:yr,useRef:ep,useState:function(){return yr(ni)},useDebugValue:ac,useDeferredValue:function(i,s){var f=Vn();return ap(f,on.memoizedState,i,s)},useTransition:function(){var i=yr(ni)[0],s=Vn().memoizedState;return[typeof i=="boolean"?i:ec(i),s]},useSyncExternalStore:Bg,useId:op,useHostTransitionStatus:Hh,useFormState:Qg,useActionState:Qg,useOptimistic:function(i,s){var f=Vn();return Vg(f,on,i,s)},useMemoCache:Rh,useCacheRefresh:up},Bv={readContext:Ca,use:tc,useCallback:kf,useContext:Ca,useEffect:zh,useImperativeHandle:Lh,useInsertionEffect:tp,useLayoutEffect:Uh,useMemo:np,useReducer:Nh,useRef:ep,useState:function(){return Nh(ni)},useDebugValue:ac,useDeferredValue:function(i,s){var f=Vn();return on===null?Ph(f,i,s):ap(f,on.memoizedState,i,s)},useTransition:function(){var i=Nh(ni)[0],s=Vn().memoizedState;return[typeof i=="boolean"?i:ec(i),s]},useSyncExternalStore:Bg,useId:op,useHostTransitionStatus:Hh,useFormState:Wg,useActionState:Wg,useOptimistic:function(i,s){var f=Vn();return on!==null?Vg(f,on,i,s):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:up},Uo=null,La=0;function rc(i){var s=La;return La+=1,Uo===null&&(Uo=[]),Nf(Uo,i,s)}function Bl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function sc(i,s){throw s.$$typeof===_?Error(a(525)):(i=Object.prototype.toString.call(s),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Vh(i){var s=i._init;return s(i._payload)}function Yh(i){function s(J,Q){if(i){var se=J.deletions;se===null?(J.deletions=[Q],J.flags|=16):se.push(Q)}}function f(J,Q){if(!i)return null;for(;Q!==null;)s(J,Q),Q=Q.sibling;return null}function h(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function y(J,Q){return J=cr(J,Q),J.index=0,J.sibling=null,J}function x(J,Q,se){return J.index=se,i?(se=J.alternate,se!==null?(se=se.index,se<Q?(J.flags|=67108866,Q):se):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function M(J){return i&&J.alternate===null&&(J.flags|=67108866),J}function U(J,Q,se,we){return Q===null||Q.tag!==6?(Q=xf(se,J.mode,we),Q.return=J,Q):(Q=y(Q,se),Q.return=J,Q)}function V(J,Q,se,we){var $e=se.type;return $e===A?xe(J,Q,se.props.children,we,se.key):Q!==null&&(Q.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ie&&Vh($e)===Q.type)?(Q=y(Q,se.props),Bl(Q,se),Q.return=J,Q):(Q=Co(se.type,se.key,se.props,null,J.mode,we),Bl(Q,se),Q.return=J,Q)}function oe(J,Q,se,we){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==se.containerInfo||Q.stateNode.implementation!==se.implementation?(Q=Vu(se,J.mode,we),Q.return=J,Q):(Q=y(Q,se.children||[]),Q.return=J,Q)}function xe(J,Q,se,we,$e){return Q===null||Q.tag!==7?(Q=Kr(se,J.mode,we,$e),Q.return=J,Q):(Q=y(Q,se),Q.return=J,Q)}function Ee(J,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=xf(""+Q,J.mode,se),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return se=Co(Q.type,Q.key,Q.props,null,J.mode,se),Bl(se,Q),se.return=J,se;case E:return Q=Vu(Q,J.mode,se),Q.return=J,Q;case ie:var we=Q._init;return Q=we(Q._payload),Ee(J,Q,se)}if(Se(Q)||ve(Q))return Q=Kr(Q,J.mode,se,null),Q.return=J,Q;if(typeof Q.then=="function")return Ee(J,rc(Q),se);if(Q.$$typeof===z)return Ee(J,Rf(J,Q),se);sc(J,Q)}return null}function fe(J,Q,se,we){var $e=Q!==null?Q.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $e!==null?null:U(J,Q,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return se.key===$e?V(J,Q,se,we):null;case E:return se.key===$e?oe(J,Q,se,we):null;case ie:return $e=se._init,se=$e(se._payload),fe(J,Q,se,we)}if(Se(se)||ve(se))return $e!==null?null:xe(J,Q,se,we,null);if(typeof se.then=="function")return fe(J,Q,rc(se),we);if(se.$$typeof===z)return fe(J,Q,Rf(J,se),we);sc(J,se)}return null}function he(J,Q,se,we,$e){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return J=J.get(se)||null,U(Q,J,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case S:return J=J.get(we.key===null?se:we.key)||null,V(Q,J,we,$e);case E:return J=J.get(we.key===null?se:we.key)||null,oe(Q,J,we,$e);case ie:var kt=we._init;return we=kt(we._payload),he(J,Q,se,we,$e)}if(Se(we)||ve(we))return J=J.get(se)||null,xe(Q,J,we,$e,null);if(typeof we.then=="function")return he(J,Q,se,rc(we),$e);if(we.$$typeof===z)return he(J,Q,se,Rf(Q,we),$e);sc(Q,we)}return null}function mt(J,Q,se,we){for(var $e=null,kt=null,rt=Q,ht=Q=0,Na=null;rt!==null&&ht<se.length;ht++){rt.index>ht?(Na=rt,rt=null):Na=rt.sibling;var nn=fe(J,rt,se[ht],we);if(nn===null){rt===null&&(rt=Na);break}i&&rt&&nn.alternate===null&&s(J,rt),Q=x(nn,Q,ht),kt===null?$e=nn:kt.sibling=nn,kt=nn,rt=Na}if(ht===se.length)return f(J,rt),Zt&&Ai(J,ht),$e;if(rt===null){for(;ht<se.length;ht++)rt=Ee(J,se[ht],we),rt!==null&&(Q=x(rt,Q,ht),kt===null?$e=rt:kt.sibling=rt,kt=rt);return Zt&&Ai(J,ht),$e}for(rt=h(rt);ht<se.length;ht++)Na=he(rt,J,ht,se[ht],we),Na!==null&&(i&&Na.alternate!==null&&rt.delete(Na.key===null?ht:Na.key),Q=x(Na,Q,ht),kt===null?$e=Na:kt.sibling=Na,kt=Na);return i&&rt.forEach(function(tu){return s(J,tu)}),Zt&&Ai(J,ht),$e}function ft(J,Q,se,we){if(se==null)throw Error(a(151));for(var $e=null,kt=null,rt=Q,ht=Q=0,Na=null,nn=se.next();rt!==null&&!nn.done;ht++,nn=se.next()){rt.index>ht?(Na=rt,rt=null):Na=rt.sibling;var tu=fe(J,rt,nn.value,we);if(tu===null){rt===null&&(rt=Na);break}i&&rt&&tu.alternate===null&&s(J,rt),Q=x(tu,Q,ht),kt===null?$e=tu:kt.sibling=tu,kt=tu,rt=Na}if(nn.done)return f(J,rt),Zt&&Ai(J,ht),$e;if(rt===null){for(;!nn.done;ht++,nn=se.next())nn=Ee(J,nn.value,we),nn!==null&&(Q=x(nn,Q,ht),kt===null?$e=nn:kt.sibling=nn,kt=nn);return Zt&&Ai(J,ht),$e}for(rt=h(rt);!nn.done;ht++,nn=se.next())nn=he(rt,J,ht,nn.value,we),nn!==null&&(i&&nn.alternate!==null&&rt.delete(nn.key===null?ht:nn.key),Q=x(nn,Q,ht),kt===null?$e=nn:kt.sibling=nn,kt=nn);return i&&rt.forEach(function(c8){return s(J,c8)}),Zt&&Ai(J,ht),$e}function _n(J,Q,se,we){if(typeof se=="object"&&se!==null&&se.type===A&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case S:e:{for(var $e=se.key;Q!==null;){if(Q.key===$e){if($e=se.type,$e===A){if(Q.tag===7){f(J,Q.sibling),we=y(Q,se.props.children),we.return=J,J=we;break e}}else if(Q.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ie&&Vh($e)===Q.type){f(J,Q.sibling),we=y(Q,se.props),Bl(we,se),we.return=J,J=we;break e}f(J,Q);break}else s(J,Q);Q=Q.sibling}se.type===A?(we=Kr(se.props.children,J.mode,we,se.key),we.return=J,J=we):(we=Co(se.type,se.key,se.props,null,J.mode,we),Bl(we,se),we.return=J,J=we)}return M(J);case E:e:{for($e=se.key;Q!==null;){if(Q.key===$e)if(Q.tag===4&&Q.stateNode.containerInfo===se.containerInfo&&Q.stateNode.implementation===se.implementation){f(J,Q.sibling),we=y(Q,se.children||[]),we.return=J,J=we;break e}else{f(J,Q);break}else s(J,Q);Q=Q.sibling}we=Vu(se,J.mode,we),we.return=J,J=we}return M(J);case ie:return $e=se._init,se=$e(se._payload),_n(J,Q,se,we)}if(Se(se))return mt(J,Q,se,we);if(ve(se)){if($e=ve(se),typeof $e!="function")throw Error(a(150));return se=$e.call(se),ft(J,Q,se,we)}if(typeof se.then=="function")return _n(J,Q,rc(se),we);if(se.$$typeof===z)return _n(J,Q,Rf(J,se),we);sc(J,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Q!==null&&Q.tag===6?(f(J,Q.sibling),we=y(Q,se),we.return=J,J=we):(f(J,Q),we=xf(se,J.mode,we),we.return=J,J=we),M(J)):f(J,Q)}return function(J,Q,se,we){try{La=0;var $e=_n(J,Q,se,we);return Uo=null,$e}catch(rt){if(rt===Ul||rt===kl)throw rt;var kt=$a(29,rt,null,J.mode);return kt.lanes=we,kt.return=J,kt}finally{}}}var ko=Yh(!0),Zh=Yh(!1),pi=ne(null),br=null;function ks(i){var s=i.alternate;be(zt,zt.current&1),be(pi,i),br===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(br=i)}function gp(i){if(i.tag===22){if(be(zt,zt.current),be(pi,i),br===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(br=i)}}else es()}function es(){be(zt,zt.current),be(pi,pi.current)}function ts(i){_e(pi),br===i&&(br=null),_e(zt)}var zt=ne(0);function lc(i){for(var s=i;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||t1(f)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Xh(i,s,f,h){s=i.memoizedState,f=f(h,s),f=f==null?s:v({},s,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Bf={enqueueSetState:function(i,s,f){i=i._reactInternals;var h=Pn(),y=mr(h);y.payload=s,f!=null&&(y.callback=f),s=ka(i,y,h),s!==null&&(In(s,i,h),Pl(s,i,h))},enqueueReplaceState:function(i,s,f){i=i._reactInternals;var h=Pn(),y=mr(h);y.tag=1,y.payload=s,f!=null&&(y.callback=f),s=ka(i,y,h),s!==null&&(In(s,i,h),Pl(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var f=Pn(),h=mr(f);h.tag=2,s!=null&&(h.callback=s),s=ka(i,h,f),s!==null&&(In(s,i,f),Pl(s,i,f))}};function Ih(i,s,f,h,y,x,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,x,M):s.prototype&&s.prototype.isPureReactComponent?!So(f,h)||!So(y,x):!0}function Hl(i,s,f,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,h),s.state!==i&&Bf.enqueueReplaceState(s,s.state,null)}function ns(i,s){var f=s;if("ref"in s){f={};for(var h in s)h!=="ref"&&(f[h]=s[h])}if(i=i.defaultProps){f===s&&(f=v({},f));for(var y in i)f[y]===void 0&&(f[y]=i[y])}return f}var as=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Gl(i){as(i)}function ai(i){console.error(i)}function pp(i){as(i)}function Hf(i,s){try{var f=i.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function oc(i,s,f){try{var h=i.onCaughtError;h(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Lo(i,s,f){return f=mr(f),f.tag=3,f.payload={element:null},f.callback=function(){Hf(i,s)},f}function uc(i){return i=mr(i),i.tag=3,i}function Gf(i,s,f,h){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;i.payload=function(){return y(x)},i.callback=function(){oc(s,f,h)}}var M=f.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){oc(s,f,h),typeof y!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function Hv(i,s,f,h,y){if(f.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=f.alternate,s!==null&&Dl(s,f,y,!0),f=pi.current,f!==null){switch(f.tag){case 13:return br===null?Tr():f.alternate===null&&Rt===0&&(Rt=3),f.flags&=-257,f.flags|=65536,f.lanes=y,h===Ds?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([h]):s.add(h),Ae(i,h,y)),!1;case 22:return f.flags|=65536,h===Ds?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([h]):f.add(h)),Ae(i,h,y)),!1}throw Error(a(435,f.tag))}return Ae(i,h,y),Tr(),!1}if(Zt)return s=pi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==mh&&(i=Error(a(422),{cause:h}),Ao(ea(i,f)))):(h!==mh&&(s=Error(a(423),{cause:h}),Ao(ea(s,f))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=ea(h,f),y=Lo(i.stateNode,h,y),wh(i,y),Rt!==4&&(Rt=2)),!1;var x=Error(a(520),{cause:h});if(x=ea(x,f),Xs===null?Xs=[x]:Xs.push(x),Rt!==4&&(Rt=2),s===null)return!0;h=ea(h,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,i=y&-y,f.lanes|=i,i=Lo(f.stateNode,h,i),wh(f,i),!1;case 1:if(s=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ks===null||!Ks.has(x))))return f.flags|=65536,y&=-y,f.lanes|=y,y=uc(y),Gf(y,i,f,h),wh(f,y),!1}f=f.return}while(f!==null);return!1}var mp=Error(a(461)),un=!1;function aa(i,s,f,h){s.child=i===null?Zh(s,null,f,h):ko(s,i.child,f,h)}function vp(i,s,f,h,y){f=f.render;var x=s.ref;if("ref"in h){var M={};for(var U in h)U!=="ref"&&(M[U]=h[U])}else M=h;return Ms(s),h=ei(i,s,f,M,x,y),U=Xi(),i!==null&&!un?(Th(i,s,y),Sn(i,s,y)):(Zt&&U&&wf(s),s.flags|=1,aa(i,s,h,y),s.child)}function qf(i,s,f,h,y){if(i===null){var x=f.type;return typeof x=="function"&&!Eo(x)&&x.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=x,yp(i,s,x,h,y)):(i=Co(f.type,null,h,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!ql(i,y)){var M=x.memoizedProps;if(f=f.compare,f=f!==null?f:So,f(M,h)&&i.ref===s.ref)return Sn(i,s,y)}return s.flags|=1,i=cr(x,h),i.ref=s.ref,i.return=s,s.child=i}function yp(i,s,f,h,y){if(i!==null){var x=i.memoizedProps;if(So(x,h)&&i.ref===s.ref)if(un=!1,s.pendingProps=h=x,ql(i,y))(i.flags&131072)!==0&&(un=!0);else return s.lanes=i.lanes,Sn(i,s,y)}return Pa(i,s,f,h,y)}function bp(i,s,f){var h=s.pendingProps,y=h.children,x=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=x!==null?x.baseLanes|f:f,i!==null){for(y=s.child=i.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;s.childLanes=x&~h}else s.childLanes=0,s.child=null;return _p(i,s,h,f)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Of(s,x!==null?x.cachePool:null),x!==null?Mo(s,x):Eh(),gp(s);else return s.lanes=s.childLanes=536870912,_p(i,s,x!==null?x.baseLanes|f:f,f)}else x!==null?(Of(s,x.cachePool),Mo(s,x),es(),s.memoizedState=null):(i!==null&&Of(s,null),Eh(),es());return aa(i,s,y,f),s.child}function _p(i,s,f,h){var y=Tt();return y=y===null?null:{parent:qn._currentValue,pool:y},s.memoizedState={baseLanes:f,cachePool:y},i!==null&&Of(s,null),Eh(),gp(s),i!==null&&Dl(i,s,h,!0),null}function Ls(i,s){var f=s.ref;if(f===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(a(284));(i===null||i.ref!==f)&&(s.flags|=4194816)}}function Pa(i,s,f,h,y){return Ms(s),f=ei(i,s,f,h,void 0,y),h=Xi(),i!==null&&!un?(Th(i,s,y),Sn(i,s,y)):(Zt&&h&&wf(s),s.flags|=1,aa(i,s,f,y),s.child)}function Vf(i,s,f,h,y,x){return Ms(s),s.updateQueue=null,f=Pg(s,h,f,y),Lg(i),h=Xi(),i!==null&&!un?(Th(i,s,x),Sn(i,s,x)):(Zt&&h&&wf(s),s.flags|=1,aa(i,s,f,x),s.child)}function Kh(i,s,f,h,y){if(Ms(s),s.stateNode===null){var x=Rl,M=f.contextType;typeof M=="object"&&M!==null&&(x=Ca(M)),x=new f(h,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Bf,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=h,x.state=s.memoizedState,x.refs={},Ku(s),M=f.contextType,x.context=typeof M=="object"&&M!==null?Ca(M):Rl,x.state=s.memoizedState,M=f.getDerivedStateFromProps,typeof M=="function"&&(Xh(s,f,M,h),x.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(M=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),M!==x.state&&Bf.enqueueReplaceState(x,x.state,null),js(s,h,x,y),Qu(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){x=s.stateNode;var U=s.memoizedProps,V=ns(f,U);x.props=V;var oe=x.context,xe=f.contextType;M=Rl,typeof xe=="object"&&xe!==null&&(M=Ca(xe));var Ee=f.getDerivedStateFromProps;xe=typeof Ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,xe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U||oe!==M)&&Hl(s,x,h,M),pr=!1;var fe=s.memoizedState;x.state=fe,js(s,h,x,y),Qu(),oe=s.memoizedState,U||fe!==oe||pr?(typeof Ee=="function"&&(Xh(s,f,Ee,h),oe=s.memoizedState),(V=pr||Ih(s,f,V,h,fe,oe,M))?(xe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=oe),x.props=h,x.state=oe,x.context=M,h=V):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{x=s.stateNode,Fu(i,s),M=s.memoizedProps,xe=ns(f,M),x.props=xe,Ee=s.pendingProps,fe=x.context,oe=f.contextType,V=Rl,typeof oe=="object"&&oe!==null&&(V=Ca(oe)),U=f.getDerivedStateFromProps,(oe=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==Ee||fe!==V)&&Hl(s,x,h,V),pr=!1,fe=s.memoizedState,x.state=fe,js(s,h,x,y),Qu();var he=s.memoizedState;M!==Ee||fe!==he||pr||i!==null&&i.dependencies!==null&&Af(i.dependencies)?(typeof U=="function"&&(Xh(s,f,U,h),he=s.memoizedState),(xe=pr||Ih(s,f,xe,h,fe,he,V)||i!==null&&i.dependencies!==null&&Af(i.dependencies))?(oe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,he,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,he,V)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),x.props=h,x.state=he,x.context=V,h=xe):(typeof x.componentDidUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),h=!1)}return x=h,Ls(i,s),h=(s.flags&128)!==0,x||h?(x=s.stateNode,f=h&&typeof f.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,i!==null&&h?(s.child=ko(s,i.child,null,y),s.child=ko(s,null,f,y)):aa(i,s,f,y),s.memoizedState=x.state,i=s.child):i=Sn(i,s,y),i}function Yf(i,s,f,h){return To(),s.flags|=256,aa(i,s,f,h),s.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ps(i){return{baseLanes:i,cachePool:Wa()}}function Bs(i,s,f){return i=i!==null?i.childLanes&~f:0,s&&(i|=ha),i}function cc(i,s,f){var h=s.pendingProps,y=!1,x=(s.flags&128)!==0,M;if((M=x)||(M=i!==null&&i.memoizedState===null?!1:(zt.current&2)!==0),M&&(y=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,i===null){if(Zt){if(y?ks(s):es(),Zt){var U=Cn,V;if(V=U){e:{for(V=U,U=dr;V.nodeType!==8;){if(!U){U=null;break e}if(V=us(V.nextSibling),V===null){U=null;break e}}U=V}U!==null?(s.memoizedState={dehydrated:U,treeContext:Ja!==null?{id:fr,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},V=$a(18,null,null,0),V.stateNode=U,V.return=s,s.child=V,Ea=s,Cn=null,V=!0):V=!1}V||Rs(s)}if(U=s.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return t1(U)?s.lanes=32:s.lanes=536870912,null;ts(s)}return U=h.children,h=h.fallback,y?(es(),y=s.mode,U=Ba({mode:"hidden",children:U},y),h=Kr(h,y,f,null),U.return=s,h.return=s,U.sibling=h,s.child=U,y=s.child,y.memoizedState=Ps(f),y.childLanes=Bs(i,M,f),s.memoizedState=Zf,h):(ks(s),Po(s,U))}if(V=i.memoizedState,V!==null&&(U=V.dehydrated,U!==null)){if(x)s.flags&256?(ks(s),s.flags&=-257,s=ii(i,s,f)):s.memoizedState!==null?(es(),s.child=i.child,s.flags|=128,s=null):(es(),y=h.fallback,U=s.mode,h=Ba({mode:"visible",children:h.children},U),y=Kr(y,U,f,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,ko(s,i.child,null,f),h=s.child,h.memoizedState=Ps(f),h.childLanes=Bs(i,M,f),s.memoizedState=Zf,s=y);else if(ks(s),t1(U)){if(M=U.nextSibling&&U.nextSibling.dataset,M)var oe=M.dgst;M=oe,h=Error(a(419)),h.stack="",h.digest=M,Ao({value:h,source:null,stack:null}),s=ii(i,s,f)}else if(un||Dl(i,s,f,!1),M=(f&i.childLanes)!==0,un||M){if(M=cn,M!==null&&(h=f&-f,h=(h&42)!==0?1:Br(h),h=(h&(M.suspendedLanes|f))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,ur(i,h),In(M,i,h),mp;U.data==="$?"||Tr(),s=ii(i,s,f)}else U.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,Cn=us(U.nextSibling),Ea=s,Zt=!0,Nl=null,dr=!1,i!==null&&(gi[Ti++]=fr,gi[Ti++]=Yi,gi[Ti++]=Ja,fr=i.id,Yi=i.overflow,Ja=s),s=Po(s,h.children),s.flags|=4096);return s}return y?(es(),y=h.fallback,U=s.mode,V=i.child,oe=V.sibling,h=cr(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,oe!==null?y=cr(oe,y):(y=Kr(y,U,f,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,U=i.child.memoizedState,U===null?U=Ps(f):(V=U.cachePool,V!==null?(oe=qn._currentValue,V=V.parent!==oe?{parent:oe,pool:oe}:V):V=Wa(),U={baseLanes:U.baseLanes|f,cachePool:V}),y.memoizedState=U,y.childLanes=Bs(i,M,f),s.memoizedState=Zf,h):(ks(s),f=i.child,i=f.sibling,f=cr(f,{mode:"visible",children:h.children}),f.return=s,f.sibling=null,i!==null&&(M=s.deletions,M===null?(s.deletions=[i],s.flags|=16):M.push(i)),s.child=f,s.memoizedState=null,f)}function Po(i,s){return s=Ba({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ba(i,s){return i=$a(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ii(i,s,f){return ko(s,i.child,null,f),i=Po(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Hs(i,s,f){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Tf(i.return,s,f)}function Ii(i,s,f,h,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=f,x.tailMode=y)}function _r(i,s,f){var h=s.pendingProps,y=h.revealOrder,x=h.tail;if(aa(i,s,h.children,f),h=zt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hs(i,f,s);else if(i.tag===19)Hs(i,f,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(be(zt,h),y){case"forwards":for(f=s.child,y=null;f!==null;)i=f.alternate,i!==null&&lc(i)===null&&(y=f),f=f.sibling;f=y,f===null?(y=s.child,s.child=null):(y=f.sibling,f.sibling=null),Ii(s,!1,y,f,x);break;case"backwards":for(f=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&lc(i)===null){s.child=y;break}i=y.sibling,y.sibling=f,f=y,y=i}Ii(s,!0,f,null,x);break;case"together":Ii(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sn(i,s,f){if(i!==null&&(s.dependencies=i.dependencies),hn|=s.lanes,(f&s.childLanes)===0)if(i!==null){if(Dl(i,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(a(153));if(s.child!==null){for(i=s.child,f=cr(i,i.pendingProps),s.child=f,f.return=s;i.sibling!==null;)i=i.sibling,f=f.sibling=cr(i,i.pendingProps),f.return=s;f.sibling=null}return s.child}function ql(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Af(i)))}function Gs(i,s,f){switch(s.tag){case 3:wt(s,s.stateNode.containerInfo),Ri(s,qn,i.memoizedState.cache),To();break;case 27:case 5:jt(s);break;case 4:wt(s,s.stateNode.containerInfo);break;case 10:Ri(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ks(s),s.flags|=128,null):(f&s.child.childLanes)!==0?cc(i,s,f):(ks(s),i=Sn(i,s,f),i!==null?i.sibling:null);ks(s);break;case 19:var y=(i.flags&128)!==0;if(h=(f&s.childLanes)!==0,h||(Dl(i,s,f,!1),h=(f&s.childLanes)!==0),y){if(h)return _r(i,s,f);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),be(zt,zt.current),h)break;return null;case 22:case 23:return s.lanes=0,bp(i,s,f);case 24:Ri(s,qn,i.memoizedState.cache)}return Sn(i,s,f)}function fc(i,s,f){if(i!==null)if(i.memoizedProps!==s.pendingProps)un=!0;else{if(!ql(i,f)&&(s.flags&128)===0)return un=!1,Gs(i,s,f);un=(i.flags&131072)!==0}else un=!1,Zt&&(s.flags&1048576)!==0&&ph(s,Yu,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,y=h._init;if(h=y(h._payload),s.type=h,typeof h=="function")Eo(h)?(i=ns(h,i),s.tag=1,s=Kh(null,s,h,i,f)):(s.tag=0,s=Pa(null,s,h,i,f));else{if(h!=null){if(y=h.$$typeof,y===P){s.tag=11,s=vp(null,s,h,i,f);break e}else if(y===Y){s.tag=14,s=qf(null,s,h,i,f);break e}}throw s=ye(h)||h,Error(a(306,s,""))}}return s;case 0:return Pa(i,s,s.type,s.pendingProps,f);case 1:return h=s.type,y=ns(h,s.pendingProps),Kh(i,s,h,y,f);case 3:e:{if(wt(s,s.stateNode.containerInfo),i===null)throw Error(a(387));h=s.pendingProps;var x=s.memoizedState;y=x.element,Fu(i,s),js(s,h,null,f);var M=s.memoizedState;if(h=M.cache,Ri(s,qn,h),h!==x.cache&&Jt(s,[qn],f,!0),Qu(),h=M.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Yf(i,s,h,f);break e}else if(h!==y){y=ea(Error(a(424)),s),Ao(y),s=Yf(i,s,h,f);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Cn=us(i.firstChild),Ea=s,Zt=!0,Nl=null,dr=!0,f=Zh(s,null,h,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(To(),h===y){s=Sn(i,s,f);break e}aa(i,s,h,f)}s=s.child}return s;case 26:return Ls(i,s),i===null?(f=Ab(s.type,null,s.pendingProps,null))?s.memoizedState=f:Zt||(f=s.type,i=s.pendingProps,h=Ap(Ve.current).createElement(f),h[le]=s,h[Ce]=i,Va(h,f,i),Lt(h),s.stateNode=h):s.memoizedState=Ab(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return jt(s),i===null&&Zt&&(h=s.stateNode=Eb(s.type,s.pendingProps,Ve.current),Ea=s,dr=!0,y=Cn,Qo(s.type)?(n1=y,Cn=us(h.firstChild)):Cn=y),aa(i,s,s.pendingProps.children,f),Ls(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Zt&&((y=h=Cn)&&(h=Bw(h,s.type,s.pendingProps,dr),h!==null?(s.stateNode=h,Ea=s,Cn=us(h.firstChild),dr=!1,y=!0):y=!1),y||Rs(s)),jt(s),y=s.type,x=s.pendingProps,M=i!==null?i.memoizedProps:null,h=x.children,Jv(y,x)?h=null:M!==null&&Jv(y,M)&&(s.flags|=32),s.memoizedState!==null&&(y=ei(i,s,na,null,null,f),s0._currentValue=y),Ls(i,s),aa(i,s,h,f),s.child;case 6:return i===null&&Zt&&((i=f=Cn)&&(f=Hw(f,s.pendingProps,dr),f!==null?(s.stateNode=f,Ea=s,Cn=null,i=!0):i=!1),i||Rs(s)),null;case 13:return cc(i,s,f);case 4:return wt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=ko(s,null,h,f):aa(i,s,h,f),s.child;case 11:return vp(i,s,s.type,s.pendingProps,f);case 7:return aa(i,s,s.pendingProps,f),s.child;case 8:return aa(i,s,s.pendingProps.children,f),s.child;case 12:return aa(i,s,s.pendingProps.children,f),s.child;case 10:return h=s.pendingProps,Ri(s,s.type,h.value),aa(i,s,h.children,f),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Ms(s),y=Ca(y),h=h(y),s.flags|=1,aa(i,s,h,f),s.child;case 14:return qf(i,s,s.type,s.pendingProps,f);case 15:return yp(i,s,s.type,s.pendingProps,f);case 19:return _r(i,s,f);case 31:return h=s.pendingProps,f=s.mode,h={mode:h.mode,children:h.children},i===null?(f=Ba(h,f),f.ref=s.ref,s.child=f,f.return=s,s=f):(f=cr(i.child,h),f.ref=s.ref,s.child=f,f.return=s,s=f),s;case 22:return bp(i,s,f);case 24:return Ms(s),h=Ca(qn),i===null?(y=Tt(),y===null&&(y=cn,x=Ro(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=f),y=x),s.memoizedState={parent:h,cache:y},Ku(s),Ri(s,qn,y)):((i.lanes&f)!==0&&(Fu(i,s),js(s,null,null,f),Qu()),y=i.memoizedState,x=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ri(s,qn,h)):(h=x.cache,Ri(s,qn,h),h!==y.cache&&Jt(s,[qn],f,!0))),aa(i,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Dn(i){i.flags|=4}function Yn(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Db(s)){if(s=pi.current,s!==null&&((Ht&4194048)===Ht?br!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||s!==br))throw Iu=Ds,Ug;i.flags|=8192}}function Vt(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Pr():536870912,i.lanes|=s,Yo|=s)}function Ki(i,s){if(!Zt)switch(i.tailMode){case"hidden":s=i.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Qt(i){var s=i.alternate!==null&&i.alternate.child===i.child,f=0,h=0;if(s)for(var y=i.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=f,s}function Fh(i,s,f){var h=s.pendingProps;switch(Ef(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return Qt(s),null;case 3:return f=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),gr(qn),Nn(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Os(s)?Dn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yh())),Qt(s),null;case 26:return f=s.memoizedState,i===null?(Dn(s),f!==null?(Qt(s),Yn(s,f)):(Qt(s),s.flags&=-16777217)):f?f!==i.memoizedState?(Dn(s),Qt(s),Yn(s,f)):(Qt(s),s.flags&=-16777217):(i.memoizedProps!==h&&Dn(s),Qt(s),s.flags&=-16777217),null;case 27:Yt(s),f=Ve.current;var y=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Dn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Qt(s),null}i=ze.current,Os(s)?vh(s):(i=Eb(y,h,f),s.stateNode=i,Dn(s))}return Qt(s),null;case 5:if(Yt(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Dn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Qt(s),null}if(i=ze.current,Os(s))vh(s);else{switch(y=Ap(Ve.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?y.createElement(f,{is:h.is}):y.createElement(f)}}i[le]=s,i[Ce]=h;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=i;e:switch(Va(i,f,h),f){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Dn(s)}}return Qt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Dn(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(i=Ve.current,Os(s)){if(i=s.stateNode,f=s.memoizedProps,h=null,y=Ea,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[le]=s,i=!!(i.nodeValue===f||h!==null&&h.suppressHydrationWarning===!0||vb(i.nodeValue,f)),i||Rs(s)}else i=Ap(i).createTextNode(h),i[le]=s,s.stateNode=i}return Qt(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Os(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[le]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),y=!1}else y=yh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(ts(s),s):(ts(s),null)}if(ts(s),(s.flags&128)!==0)return s.lanes=f,s;if(f=h!==null,i=i!==null&&i.memoizedState!==null,f){h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)}return f!==i&&f&&(s.child.flags|=8192),Vt(s,s.updateQueue),Qt(s),null;case 4:return Nn(),i===null&&Iv(s.stateNode.containerInfo),Qt(s),null;case 10:return gr(s.type),Qt(s),null;case 19:if(_e(zt),y=s.memoizedState,y===null)return Qt(s),null;if(h=(s.flags&128)!==0,x=y.rendering,x===null)if(h)Ki(y,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(x=lc(i),x!==null){for(s.flags|=128,Ki(y,!1),i=x.updateQueue,s.updateQueue=i,Vt(s,i),s.subtreeFlags=0,i=f,f=s.child;f!==null;)Sf(f,i),f=f.sibling;return be(zt,zt.current&1|2),s.child}i=i.sibling}y.tail!==null&&fn()>Zl&&(s.flags|=128,h=!0,Ki(y,!1),s.lanes=4194304)}else{if(!h)if(i=lc(x),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,Vt(s,i),Ki(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Zt)return Qt(s),null}else 2*fn()-y.renderingStartTime>Zl&&f!==536870912&&(s.flags|=128,h=!0,Ki(y,!1),s.lanes=4194304);y.isBackwards?(x.sibling=s.child,s.child=x):(i=y.last,i!==null?i.sibling=x:s.child=x,y.last=x)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=fn(),s.sibling=null,i=zt.current,be(zt,h?i&1|2:i&1),s):(Qt(s),null);case 22:case 23:return ts(s),Ch(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(f&536870912)!==0&&(s.flags&128)===0&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),f=s.updateQueue,f!==null&&Vt(s,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048),i!==null&&_e(Qr),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),gr(qn),Qt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function mi(i,s){switch(Ef(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return gr(qn),Nn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Yt(s),null;case 13:if(ts(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(a(340));To()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return _e(zt),null;case 4:return Nn(),null;case 10:return gr(s.type),null;case 22:case 23:return ts(s),Ch(),i!==null&&_e(Qr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return gr(qn),null;case 25:return null;default:return null}}function dc(i,s){switch(Ef(s),s.tag){case 3:gr(qn),Nn();break;case 26:case 27:case 5:Yt(s);break;case 4:Nn();break;case 13:ts(s);break;case 19:_e(zt);break;case 10:gr(s.type);break;case 22:case 23:ts(s),Ch(),i!==null&&_e(Qr);break;case 24:gr(qn)}}function Fi(i,s){try{var f=s.updateQueue,h=f!==null?f.lastEffect:null;if(h!==null){var y=h.next;f=y;do{if((f.tag&i)===i){h=void 0;var x=f.create,M=f.inst;h=x(),M.destroy=h}f=f.next}while(f!==y)}}catch(U){te(s,s.return,U)}}function Ta(i,s,f){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&i)===i){var M=h.inst,U=M.destroy;if(U!==void 0){M.destroy=void 0,y=s;var V=f,oe=U;try{oe()}catch(xe){te(y,V,xe)}}}h=h.next}while(h!==x)}}catch(xe){te(s,s.return,xe)}}function Sp(i){var s=i.updateQueue;if(s!==null){var f=i.stateNode;try{kg(s,f)}catch(h){te(i,i.return,h)}}}function xp(i,s,f){f.props=ns(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(h){te(i,s,h)}}function hc(i,s){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof f=="function"?i.refCleanup=f(h):f.current=h}}catch(y){te(i,s,y)}}function Wt(i,s){var f=i.ref,h=i.refCleanup;if(f!==null)if(typeof h=="function")try{h()}catch(y){te(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){te(i,s,y)}else f.current=null}function gc(i){var s=i.type,f=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&h.focus();break e;case"img":f.src?h.src=f.src:f.srcSet&&(h.srcset=f.srcSet)}}catch(y){te(i,i.return,y)}}function qs(i,s,f){try{var h=i.stateNode;zw(h,i.type,f,s),h[Ce]=s}catch(y){te(i,i.return,y)}}function Xf(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Qo(i.type)||i.tag===4}function Bo(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xf(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Qo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pc(i,s,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(i),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Tp));else if(h!==4&&(h===27&&Qo(i.type)&&(f=i.stateNode,s=null),i=i.child,i!==null))for(pc(i,s,f),i=i.sibling;i!==null;)pc(i,s,f),i=i.sibling}function is(i,s,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?f.insertBefore(i,s):f.appendChild(i);else if(h!==4&&(h===27&&Qo(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(is(i,s,f),i=i.sibling;i!==null;)is(i,s,f),i=i.sibling}function Ho(i){var s=i.stateNode,f=i.memoizedProps;try{for(var h=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Va(s,h,f),s[le]=i,s[Ce]=f}catch(x){te(i,i.return,x)}}var Qi=!1,mn=!1,Vs=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function Gv(i,s){if(i=i.containerInfo,Qv=jp,i=fh(i),Cl(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var M=0,U=-1,V=-1,oe=0,xe=0,Ee=i,fe=null;t:for(;;){for(var he;Ee!==f||y!==0&&Ee.nodeType!==3||(U=M+y),Ee!==x||h!==0&&Ee.nodeType!==3||(V=M+h),Ee.nodeType===3&&(M+=Ee.nodeValue.length),(he=Ee.firstChild)!==null;)fe=Ee,Ee=he;for(;;){if(Ee===i)break t;if(fe===f&&++oe===y&&(U=M),fe===x&&++xe===h&&(V=M),(he=Ee.nextSibling)!==null)break;Ee=fe,fe=Ee.parentNode}Ee=he}f=U===-1||V===-1?null:{start:U,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for($v={focusedElem:i,selectionRange:f},jp=!1,Tn=s;Tn!==null;)if(s=Tn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Tn=i;else for(;Tn!==null;){switch(s=Tn,x=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,f=s,y=x.memoizedProps,x=x.memoizedState,h=f.stateNode;try{var mt=ns(f.type,y,f.elementType===f.type);i=h.getSnapshotBeforeUpdate(mt,x),h.__reactInternalSnapshotBeforeUpdate=i}catch(ft){te(f,f.return,ft)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,f=i.nodeType,f===9)e1(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":e1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=s.sibling,i!==null){i.return=s.return,Tn=i;break}Tn=s.return}}function Go(i,s,f){var h=f.flags;switch(f.tag){case 0:case 11:case 15:Bt(i,f),h&4&&Fi(5,f);break;case 1:if(Bt(i,f),h&4)if(i=f.stateNode,s===null)try{i.componentDidMount()}catch(M){te(f,f.return,M)}else{var y=ns(f.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(M){te(f,f.return,M)}}h&64&&Sp(f),h&512&&hc(f,f.return);break;case 3:if(Bt(i,f),h&64&&(i=f.updateQueue,i!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{kg(i,s)}catch(M){te(f,f.return,M)}}break;case 27:s===null&&h&4&&Ho(f);case 26:case 5:Bt(i,f),s===null&&h&4&&gc(f),h&512&&hc(f,f.return);break;case 12:Bt(i,f);break;case 13:Bt(i,f),h&4&&Vl(i,f),h&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=Ye.bind(null,f),Gw(i,f))));break;case 22:if(h=f.memoizedState!==null||Qi,!h){s=s!==null&&s.memoizedState!==null||mn,y=Qi;var x=mn;Qi=h,(mn=s)&&!x?$i(i,f,(f.subtreeFlags&8772)!==0):Bt(i,f),Qi=y,mn=x}break;case 30:break;default:Bt(i,f)}}function If(i){var s=i.alternate;s!==null&&(i.alternate=null,If(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&We(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dn=null,da=!1;function ri(i,s,f){for(f=f.child;f!==null;)vi(i,s,f),f=f.sibling}function vi(i,s,f){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(qe,f)}catch{}switch(f.tag){case 26:mn||Wt(f,s),ri(i,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:mn||Wt(f,s);var h=dn,y=da;Qo(f.type)&&(dn=f.stateNode,da=!1),ri(i,s,f),n0(f.stateNode),dn=h,da=y;break;case 5:mn||Wt(f,s);case 6:if(h=dn,y=da,dn=null,ri(i,s,f),dn=h,da=y,dn!==null)if(da)try{(dn.nodeType===9?dn.body:dn.nodeName==="HTML"?dn.ownerDocument.body:dn).removeChild(f.stateNode)}catch(x){te(f,s,x)}else try{dn.removeChild(f.stateNode)}catch(x){te(f,s,x)}break;case 18:dn!==null&&(da?(i=dn,xb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),c0(i)):xb(dn,f.stateNode));break;case 4:h=dn,y=da,dn=f.stateNode.containerInfo,da=!0,ri(i,s,f),dn=h,da=y;break;case 0:case 11:case 14:case 15:mn||Ta(2,f,s),mn||Ta(4,f,s),ri(i,s,f);break;case 1:mn||(Wt(f,s),h=f.stateNode,typeof h.componentWillUnmount=="function"&&xp(f,s,h)),ri(i,s,f);break;case 21:ri(i,s,f);break;case 22:mn=(h=mn)||f.memoizedState!==null,ri(i,s,f),mn=h;break;default:ri(i,s,f)}}function Vl(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{c0(i)}catch(f){te(s,s.return,f)}}function $h(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Qh),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Qh),s;default:throw Error(a(435,i.tag))}}function Sr(i,s){var f=$h(i);s.forEach(function(h){var y=xt.bind(null,i,h);f.has(h)||(f.add(h),h.then(y,y))})}function Ha(i,s){var f=s.deletions;if(f!==null)for(var h=0;h<f.length;h++){var y=f[h],x=i,M=s,U=M;e:for(;U!==null;){switch(U.tag){case 27:if(Qo(U.type)){dn=U.stateNode,da=!1;break e}break;case 5:dn=U.stateNode,da=!1;break e;case 3:case 4:dn=U.stateNode.containerInfo,da=!0;break e}U=U.return}if(dn===null)throw Error(a(160));vi(x,M,y),dn=null,da=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)mc(s,i),s=s.sibling}var Aa=null;function mc(i,s){var f=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ha(s,i),Zn(i),h&4&&(Ta(3,i,i.return),Fi(3,i),Ta(5,i,i.return));break;case 1:Ha(s,i),Zn(i),h&512&&(mn||f===null||Wt(f,f.return)),h&64&&Qi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?h:f.concat(h))));break;case 26:var y=Aa;if(Ha(s,i),Zn(i),h&512&&(mn||f===null||Wt(f,f.return)),h&4){var x=f!==null?f.memoizedState:null;if(h=i.memoizedState,f===null)if(h===null)if(i.stateNode===null){e:{h=i.type,f=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[tt]||x[le]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),Va(x,h,f),x[le]=i,Lt(x),h=x;break e;case"link":var M=Nb("link","href",y).get(h+(f.href||""));if(M){for(var U=0;U<M.length;U++)if(x=M[U],x.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){M.splice(U,1);break t}}x=y.createElement(h),Va(x,h,f),y.head.appendChild(x);break;case"meta":if(M=Nb("meta","content",y).get(h+(f.content||""))){for(U=0;U<M.length;U++)if(x=M[U],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){M.splice(U,1);break t}}x=y.createElement(h),Va(x,h,f),y.head.appendChild(x);break;default:throw Error(a(468,h))}x[le]=i,Lt(x),h=x}i.stateNode=h}else Mb(y,i.type,i.stateNode);else i.stateNode=Ob(y,h,i.memoizedProps);else x!==h?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,h===null?Mb(y,i.type,i.stateNode):Ob(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&qs(i,i.memoizedProps,f.memoizedProps)}break;case 27:Ha(s,i),Zn(i),h&512&&(mn||f===null||Wt(f,f.return)),f!==null&&h&4&&qs(i,i.memoizedProps,f.memoizedProps);break;case 5:if(Ha(s,i),Zn(i),h&512&&(mn||f===null||Wt(f,f.return)),i.flags&32){y=i.stateNode;try{yl(y,"")}catch(he){te(i,i.return,he)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,qs(i,y,f!==null?f.memoizedProps:y)),h&1024&&(Vs=!0);break;case 6:if(Ha(s,i),Zn(i),h&4){if(i.stateNode===null)throw Error(a(162));h=i.memoizedProps,f=i.stateNode;try{f.nodeValue=h}catch(he){te(i,i.return,he)}}break;case 3:if(Np=null,y=Aa,Aa=Rp(s.containerInfo),Ha(s,i),Aa=y,Zn(i),h&4&&f!==null&&f.memoizedState.isDehydrated)try{c0(s.containerInfo)}catch(he){te(i,i.return,he)}Vs&&(Vs=!1,Et(i));break;case 4:h=Aa,Aa=Rp(i.stateNode.containerInfo),Ha(s,i),Zn(i),Aa=h;break;case 12:Ha(s,i),Zn(i);break;case 13:Ha(s,i),Zn(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Xo=fn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Sr(i,h)));break;case 22:y=i.memoizedState!==null;var V=f!==null&&f.memoizedState!==null,oe=Qi,xe=mn;if(Qi=oe||y,mn=xe||V,Ha(s,i),mn=xe,Qi=oe,Zn(i),h&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(f===null||V||Qi||mn||vn(i)),f=null,s=i;;){if(s.tag===5||s.tag===26){if(f===null){V=f=s;try{if(x=V.stateNode,y)M=x.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{U=V.stateNode;var Ee=V.memoizedProps.style,fe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;U.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(he){te(V,V.return,he)}}}else if(s.tag===6){if(f===null){V=s;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(he){te(V,V.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(f=h.retryQueue,f!==null&&(h.retryQueue=null,Sr(i,f))));break;case 19:Ha(s,i),Zn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Sr(i,h)));break;case 30:break;case 21:break;default:Ha(s,i),Zn(i)}}function Zn(i){var s=i.flags;if(s&2){try{for(var f,h=i.return;h!==null;){if(Xf(h)){f=h;break}h=h.return}if(f==null)throw Error(a(160));switch(f.tag){case 27:var y=f.stateNode,x=Bo(i);is(i,x,y);break;case 5:var M=f.stateNode;f.flags&32&&(yl(M,""),f.flags&=-33);var U=Bo(i);is(i,U,M);break;case 3:case 4:var V=f.stateNode.containerInfo,oe=Bo(i);pc(i,oe,V);break;default:throw Error(a(161))}}catch(xe){te(i,i.return,xe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Et(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Et(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Bt(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Go(i,s.alternate,s),s=s.sibling}function vn(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ta(4,s,s.return),vn(s);break;case 1:Wt(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&xp(s,s.return,f),vn(s);break;case 27:n0(s.stateNode);case 26:case 5:Wt(s,s.return),vn(s);break;case 22:s.memoizedState===null&&vn(s);break;case 30:vn(s);break;default:vn(s)}i=i.sibling}}function $i(i,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=i,x=s,M=x.flags;switch(x.tag){case 0:case 11:case 15:$i(y,x,f),Fi(4,x);break;case 1:if($i(y,x,f),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(oe){te(h,h.return,oe)}if(h=x,y=h.updateQueue,y!==null){var U=h.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)lt(V[y],U)}catch(oe){te(h,h.return,oe)}}f&&M&64&&Sp(x),hc(x,x.return);break;case 27:Ho(x);case 26:case 5:$i(y,x,f),f&&h===null&&M&4&&gc(x),hc(x,x.return);break;case 12:$i(y,x,f);break;case 13:$i(y,x,f),f&&M&4&&Vl(y,x);break;case 22:x.memoizedState===null&&$i(y,x,f),hc(x,x.return);break;case 30:break;default:$i(y,x,f)}s=s.sibling}}function Ys(i,s){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Zi(f))}function rs(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Zi(i))}function yi(i,s,f,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qo(i,s,f,h),s=s.sibling}function qo(i,s,f,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:yi(i,s,f,h),y&2048&&Fi(9,s);break;case 1:yi(i,s,f,h);break;case 3:yi(i,s,f,h),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Zi(i)));break;case 12:if(y&2048){yi(i,s,f,h),i=s.stateNode;try{var x=s.memoizedProps,M=x.id,U=x.onPostCommit;typeof U=="function"&&U(M,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){te(s,s.return,V)}}else yi(i,s,f,h);break;case 13:yi(i,s,f,h);break;case 23:break;case 22:x=s.stateNode,M=s.alternate,s.memoizedState!==null?x._visibility&2?yi(i,s,f,h):vc(i,s):x._visibility&2?yi(i,s,f,h):(x._visibility|=2,Ji(i,s,f,h,(s.subtreeFlags&10256)!==0)),y&2048&&Ys(M,s);break;case 24:yi(i,s,f,h),y&2048&&rs(s.alternate,s);break;default:yi(i,s,f,h)}}function Ji(i,s,f,h,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=i,M=s,U=f,V=h,oe=M.flags;switch(M.tag){case 0:case 11:case 15:Ji(x,M,U,V,y),Fi(8,M);break;case 23:break;case 22:var xe=M.stateNode;M.memoizedState!==null?xe._visibility&2?Ji(x,M,U,V,y):vc(x,M):(xe._visibility|=2,Ji(x,M,U,V,y)),y&&oe&2048&&Ys(M.alternate,M);break;case 24:Ji(x,M,U,V,y),y&&oe&2048&&rs(M.alternate,M);break;default:Ji(x,M,U,V,y)}s=s.sibling}}function vc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=i,h=s,y=h.flags;switch(h.tag){case 22:vc(f,h),y&2048&&Ys(h.alternate,h);break;case 24:vc(f,h),y&2048&&rs(h.alternate,h);break;default:vc(f,h)}s=s.sibling}}var Zs=8192;function Yl(i){if(i.subtreeFlags&Zs)for(i=i.child;i!==null;)Jh(i),i=i.sibling}function Jh(i){switch(i.tag){case 26:Yl(i),i.flags&Zs&&i.memoizedState!==null&&e8(Aa,i.memoizedState,i.memoizedProps);break;case 5:Yl(i);break;case 3:case 4:var s=Aa;Aa=Rp(i.stateNode.containerInfo),Yl(i),Aa=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Zs,Zs=16777216,Yl(i),Zs=s):Yl(i));break;default:Yl(i)}}function wp(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function xr(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];Tn=h,Wh(h,i)}wp(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vo(i),i=i.sibling}function Vo(i){switch(i.tag){case 0:case 11:case 15:xr(i),i.flags&2048&&Ta(9,i,i.return);break;case 3:xr(i);break;case 12:xr(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ss(i)):xr(i);break;default:xr(i)}}function ss(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];Tn=h,Wh(h,i)}wp(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ta(8,s,s.return),ss(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,ss(s));break;default:ss(s)}i=i.sibling}}function Wh(i,s){for(;Tn!==null;){var f=Tn;switch(f.tag){case 0:case 11:case 15:Ta(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var h=f.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Zi(f.memoizedState.cache)}if(h=f.child,h!==null)h.return=f,Tn=h;else e:for(f=i;Tn!==null;){h=Tn;var y=h.sibling,x=h.return;if(If(h),h===f){Tn=null;break e}if(y!==null){y.return=x,Tn=y;break e}Tn=x}}}var Ni={getCacheForType:function(i){var s=Ca(qn),f=s.data.get(i);return f===void 0&&(f=i(),s.data.set(i,f)),f}},wr=typeof WeakMap=="function"?WeakMap:Map,gt=0,cn=null,Dt=null,Ht=0,pt=0,Ga=null,Ra=!1,yn=!1,yc=!1,Er=0,Rt=0,hn=0,Xn=0,bi=0,ha=0,Yo=0,Xs=null,ga=null,Zo=!1,Xo=0,Zl=1/0,Is=null,Ks=null,ot=0,Xt=null,_t=null,Ot=0,en=0,qa=null,ls=null,Cr=0,bc=null;function Pn(){if((gt&2)!==0&&Ht!==0)return Ht&-Ht;if(G.T!==null){var i=Oo;return i!==0?i:Vv()}return pl()}function jn(){ha===0&&(ha=(Ht&536870912)===0||Zt?gl():536870912);var i=pi.current;return i!==null&&(i.flags|=32),ha}function In(i,s,f){(i===cn&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&($s(i,0),_i(i,Ht,ha,!1)),qi(i,f),((gt&2)===0||i!==cn)&&(i===cn&&((gt&2)===0&&(Xn|=f),Rt===4&&_i(i,Ht,ha,!1)),Ke(i))}function Fs(i,s,f){if((gt&6)!==0)throw Error(a(327));var h=!f&&(s&124)===0&&(s&i.expiredLanes)===0||Gi(i,s),y=h?Ko(i,s):Fn(i,s,!0),x=h;do{if(y===0){yn&&!h&&_i(i,s,0,!1);break}else{if(f=i.current.alternate,x&&!Mi(f)){y=Fn(i,s,!1),x=!1;continue}if(y===2){if(x=s,i.errorRecoveryDisabledLanes&x)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var U=i;y=Xs;var V=U.current.memoizedState.isDehydrated;if(V&&($s(U,M).flags|=256),M=Fn(U,M,!1),M!==2){if(yc&&!V){U.errorRecoveryDisabledLanes|=x,Xn|=x,y=4;break e}x=ga,ga=y,x!==null&&(ga===null?ga=x:ga.push.apply(ga,x))}y=M}if(x=!1,y!==2)continue}}if(y===1){$s(i,0),_i(i,s,0,!0);break}e:{switch(h=i,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:_i(h,s,ha,!Ra);break e;case 2:ga=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Xo+300-fn(),10<y)){if(_i(h,s,ha,!Ra),kr(h,0,!0)!==0)break e;h.timeoutHandle=_b(Kf.bind(null,h,f,ga,Is,Zo,s,ha,Xn,Yo,Ra,x,2,-0,0),y);break e}Kf(h,f,ga,Is,Zo,s,ha,Xn,Yo,Ra,x,0,-0,0)}}break}while(!0);Ke(i)}function Kf(i,s,f,h,y,x,M,U,V,oe,xe,Ee,fe,he){if(i.timeoutHandle=-1,Ee=s.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(r0={stylesheets:null,count:0,unsuspend:Ww},Jh(s),Ee=t8(),Ee!==null)){i.cancelPendingCommit=Ee(o.bind(null,i,s,x,f,h,y,M,U,V,xe,1,fe,he)),_i(i,x,M,!oe);return}o(i,s,x,f,h,y,M,U,V)}function Mi(i){for(var s=i;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var h=0;h<f.length;h++){var y=f[h],x=y.getSnapshot;y=y.value;try{if(!di(x(),y))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(i,s,f,h){s&=~bi,s&=~Xn,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var y=s;0<y;){var x=31-an(y),M=1<<x;h[x]=-1,y&=~M}f!==0&&ys(i,f,s)}function Qs(){return(gt&6)===0?(rn(0),!1):!0}function Oa(){if(Dt!==null){if(pt===0)var i=Dt.return;else i=Dt,hr=Ns=null,Ah(i),Uo=null,La=0,i=Dt;for(;i!==null;)dc(i.alternate,i),i=i.return;Dt=null}}function $s(i,s){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,kw(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),Oa(),cn=i,Dt=f=cr(i.current,null),Ht=s,pt=0,Ga=null,Ra=!1,yn=Gi(i,s),yc=!1,Yo=ha=bi=Xn=hn=Rt=0,ga=Xs=null,Zo=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var y=31-an(h),x=1<<y;s|=i[y],h&=~x}return Er=s,hi(),f}function Ff(i,s){At=null,G.H=Pf,s===Ul||s===kl?(s=xh(),pt=3):s===Ug?(s=xh(),pt=4):pt=s===mp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ga=s,Dt===null&&(Rt=1,Hf(i,ea(s,i.current)))}function Io(){var i=G.H;return G.H=Pf,i===null?Pf:i}function _c(){var i=G.A;return G.A=Ni,i}function Tr(){Rt=4,Ra||(Ht&4194048)!==Ht&&pi.current!==null||(yn=!0),(hn&134217727)===0&&(Xn&134217727)===0||cn===null||_i(cn,Ht,ha,!1)}function Fn(i,s,f){var h=gt;gt|=2;var y=Io(),x=_c();(cn!==i||Ht!==s)&&(Is=null,$s(i,s)),s=!1;var M=Rt;e:do try{if(pt!==0&&Dt!==null){var U=Dt,V=Ga;switch(pt){case 8:Oa(),M=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(s=!0);var oe=pt;if(pt=0,Ga=null,Xl(i,U,V,oe),f&&yn){M=0;break e}break;default:oe=pt,pt=0,Ga=null,Xl(i,U,V,oe)}}Js(),M=Rt;break}catch(xe){Ff(i,xe)}while(!0);return s&&i.shellSuspendCounter++,hr=Ns=null,gt=h,G.H=y,G.A=x,Dt===null&&(cn=null,Ht=0,hi()),M}function Js(){for(;Dt!==null;)Qf(Dt)}function Ko(i,s){var f=gt;gt|=2;var h=Io(),y=_c();cn!==i||Ht!==s?(Is=null,Zl=fn()+500,$s(i,s)):yn=Gi(i,s);e:do try{if(pt!==0&&Dt!==null){s=Dt;var x=Ga;t:switch(pt){case 1:pt=0,Ga=null,Xl(i,s,x,1);break;case 2:case 9:if(Ll(x)){pt=0,Ga=null,$f(s);break}s=function(){pt!==2&&pt!==9||cn!==i||(pt=7),Ke(i)},x.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Ll(x)?(pt=0,Ga=null,$f(s)):(pt=0,Ga=null,Xl(i,s,x,7));break;case 5:var M=null;switch(Dt.tag){case 26:M=Dt.memoizedState;case 5:case 27:var U=Dt;if(!M||Db(M)){pt=0,Ga=null;var V=U.sibling;if(V!==null)Dt=V;else{var oe=U.return;oe!==null?(Dt=oe,Ws(oe)):Dt=null}break t}}pt=0,Ga=null,Xl(i,s,x,5);break;case 6:pt=0,Ga=null,Xl(i,s,x,6);break;case 8:Oa(),Rt=6;break e;default:throw Error(a(462))}}Fo();break}catch(xe){Ff(i,xe)}while(!0);return hr=Ns=null,G.H=h,G.A=y,gt=f,Dt!==null?0:(cn=null,Ht=0,hi(),Rt)}function Fo(){for(;Dt!==null&&!He();)Qf(Dt)}function Qf(i){var s=fc(i.alternate,i,Er);i.memoizedProps=i.pendingProps,s===null?Ws(i):Dt=s}function $f(i){var s=i,f=s.alternate;switch(s.tag){case 15:case 0:s=Vf(f,s,s.pendingProps,s.type,void 0,Ht);break;case 11:s=Vf(f,s,s.pendingProps,s.type.render,s.ref,Ht);break;case 5:Ah(s);default:dc(f,s),s=Dt=Sf(s,Er),s=fc(f,s,Er)}i.memoizedProps=i.pendingProps,s===null?Ws(i):Dt=s}function Xl(i,s,f,h){hr=Ns=null,Ah(s),Uo=null,La=0;var y=s.return;try{if(Hv(i,y,s,f,Ht)){Rt=1,Hf(i,ea(f,i.current)),Dt=null;return}}catch(x){if(y!==null)throw Dt=y,x;Rt=1,Hf(i,ea(f,i.current)),Dt=null;return}s.flags&32768?(Zt||h===1?i=!0:yn||(Ht&536870912)!==0?i=!1:(Ra=i=!0,(h===2||h===9||h===3||h===6)&&(h=pi.current,h!==null&&h.tag===13&&(h.flags|=16384))),Jf(s,i)):Ws(s)}function Ws(i){var s=i;do{if((s.flags&32768)!==0){Jf(s,Ra);return}i=s.return;var f=Fh(s.alternate,s,Er);if(f!==null){Dt=f;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=i}while(s!==null);Rt===0&&(Rt=5)}function Jf(i,s){do{var f=mi(i.alternate,i);if(f!==null){f.flags&=32767,Dt=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(i=i.sibling,i!==null)){Dt=i;return}Dt=i=f}while(i!==null);Rt=6,Dt=null}function o(i,s,f,h,y,x,M,U,V){i.cancelPendingCommit=null;do C();while(ot!==0);if((gt&6)!==0)throw Error(a(327));if(s!==null){if(s===i.current)throw Error(a(177));if(x=s.lanes|s.childLanes,x|=Bu,Ic(i,f,x,M,U,V),i===cn&&(Dt=cn=null,Ht=0),_t=s,Xt=i,Ot=f,en=x,qa=y,ls=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Di(re,function(){return k(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,y=F.p,F.p=2,M=gt,gt|=4;try{Gv(i,s,f)}finally{gt=M,F.p=y,G.T=h}}ot=1,u(),p(),b()}}function u(){if(ot===1){ot=0;var i=Xt,s=_t,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var h=F.p;F.p=2;var y=gt;gt|=4;try{mc(s,i);var x=$v,M=fh(i.containerInfo),U=x.focusedElem,V=x.selectionRange;if(M!==U&&U&&U.ownerDocument&&ch(U.ownerDocument.documentElement,U)){if(V!==null&&Cl(U)){var oe=V.start,xe=V.end;if(xe===void 0&&(xe=oe),"selectionStart"in U)U.selectionStart=oe,U.selectionEnd=Math.min(xe,U.value.length);else{var Ee=U.ownerDocument||document,fe=Ee&&Ee.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),mt=U.textContent.length,ft=Math.min(V.start,mt),_n=V.end===void 0?ft:Math.min(V.end,mt);!he.extend&&ft>_n&&(M=_n,_n=ft,ft=M);var J=Xr(U,ft),Q=Xr(U,_n);if(J&&Q&&(he.rangeCount!==1||he.anchorNode!==J.node||he.anchorOffset!==J.offset||he.focusNode!==Q.node||he.focusOffset!==Q.offset)){var se=Ee.createRange();se.setStart(J.node,J.offset),he.removeAllRanges(),ft>_n?(he.addRange(se),he.extend(Q.node,Q.offset)):(se.setEnd(Q.node,Q.offset),he.addRange(se))}}}}for(Ee=[],he=U;he=he.parentNode;)he.nodeType===1&&Ee.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ee.length;U++){var we=Ee[U];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}jp=!!Qv,$v=Qv=null}finally{gt=y,F.p=h,G.T=f}}i.current=s,ot=2}}function p(){if(ot===2){ot=0;var i=Xt,s=_t,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var h=F.p;F.p=2;var y=gt;gt|=4;try{Go(i,s.alternate,s)}finally{gt=y,F.p=h,G.T=f}}ot=3}}function b(){if(ot===4||ot===3){ot=0,nt();var i=Xt,s=_t,f=Ot,h=ls;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ot=5:(ot=0,_t=Xt=null,w(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Ks=null),ho(f),s=s.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(qe,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=G.T,y=F.p,F.p=2,G.T=null;try{for(var x=i.onRecoverableError,M=0;M<h.length;M++){var U=h[M];x(U.value,{componentStack:U.stack})}}finally{G.T=s,F.p=y}}(Ot&3)!==0&&C(),Ke(i),y=i.pendingLanes,(f&4194090)!==0&&(y&42)!==0?i===bc?Cr++:(Cr=0,bc=i):Cr=0,rn(0)}}function w(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Zi(s)))}function C(i){return u(),p(),b(),k()}function k(){if(ot!==5)return!1;var i=Xt,s=en;en=0;var f=ho(Ot),h=G.T,y=F.p;try{F.p=32>f?32:f,G.T=null,f=qa,qa=null;var x=Xt,M=Ot;if(ot=0,_t=Xt=null,Ot=0,(gt&6)!==0)throw Error(a(331));var U=gt;if(gt|=4,Vo(x.current),qo(x,x.current,M,f),gt=U,rn(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(qe,x)}catch{}return!0}finally{F.p=y,G.T=h,w(i,s)}}function I(i,s,f){s=ea(f,s),s=Lo(i.stateNode,s,2),i=ka(i,s,2),i!==null&&(qi(i,2),Ke(i))}function te(i,s,f){if(i.tag===3)I(i,i,f);else for(;s!==null;){if(s.tag===3){I(s,i,f);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ks===null||!Ks.has(h))){i=ea(f,i),f=uc(2),h=ka(s,f,2),h!==null&&(Gf(f,h,s,i),qi(h,2),Ke(h));break}}s=s.return}}function Ae(i,s,f){var h=i.pingCache;if(h===null){h=i.pingCache=new wr;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(f)||(yc=!0,y.add(f),i=De.bind(null,i,s,f),s.then(i,i))}function De(i,s,f){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,cn===i&&(Ht&f)===f&&(Rt===4||Rt===3&&(Ht&62914560)===Ht&&300>fn()-Xo?(gt&2)===0&&$s(i,0):bi|=f,Yo===Ht&&(Yo=0)),Ke(i)}function Ge(i,s){s===0&&(s=Pr()),i=ur(i,s),i!==null&&(qi(i,s),Ke(i))}function Ye(i){var s=i.memoizedState,f=0;s!==null&&(f=s.retryLane),Ge(i,f)}function xt(i,s){var f=0;switch(i.tag){case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(f=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),Ge(i,f)}function Di(i,s){return Wn(i,s)}var el=null,ji=null,ce=!1,$=!1,ge=!1,Oe=0;function Ke(i){i!==ji&&i.next===null&&(ji===null?el=ji=i:ji=ji.next=i),$=!0,ce||(ce=!0,qv())}function rn(i,s){if(!ge&&$){ge=!0;do for(var f=!1,h=el;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var M=h.suspendedLanes,U=h.pingedLanes;x=(1<<31-an(42|i)+1)-1,x&=y&~(M&~U),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,os(h,x))}else x=Ht,x=kr(h,h===cn?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Gi(h,x)||(f=!0,os(h,x));h=h.next}while(f);ge=!1}}function dt(){It()}function It(){$=ce=!1;var i=0;Oe!==0&&(Uw()&&(i=Oe),Oe=0);for(var s=fn(),f=null,h=el;h!==null;){var y=h.next,x=Qn(h,s);x===0?(h.next=null,f===null?el=y:f.next=y,y===null&&(ji=f)):(f=h,(i!==0||(x&3)!==0)&&($=!0)),h=y}rn(i)}function Qn(i,s){for(var f=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var M=31-an(x),U=1<<M,V=y[M];V===-1?((U&f)===0||(U&h)!==0)&&(y[M]=Lr(U,s)):V<=s&&(i.expiredLanes|=U),x&=~U}if(s=cn,f=Ht,f=kr(i,i===s?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,f===0||i===s&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ba(h),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||Gi(i,f)){if(s=f&-f,s===i.callbackPriority)return s;switch(h!==null&&ba(h),ho(f)){case 2:case 8:f=Z;break;case 32:f=re;break;case 268435456:f=Pe;break;default:f=re}return h=Kt.bind(null,i),f=Wn(f,h),i.callbackPriority=s,i.callbackNode=f,s}return h!==null&&h!==null&&ba(h),i.callbackPriority=2,i.callbackNode=null,2}function Kt(i,s){if(ot!==0&&ot!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(C()&&i.callbackNode!==f)return null;var h=Ht;return h=kr(i,i===cn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Fs(i,h,s),Qn(i,fn()),i.callbackNode!=null&&i.callbackNode===f?Kt.bind(null,i):null)}function os(i,s){if(C())return null;Fs(i,s,!0)}function qv(){Lw(function(){(gt&6)!==0?Wn(li,dt):It()})}function Vv(){return Oe===0&&(Oe=gl()),Oe}function fb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wc(""+i)}function db(i,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,i.id&&f.setAttribute("form",i.id),s.parentNode.insertBefore(f,s),i=new FormData(i),f.parentNode.removeChild(f),i}function Rw(i,s,f,h,y){if(s==="submit"&&f&&f.stateNode===y){var x=fb((y[Ce]||null).action),M=h.submitter;M&&(s=(s=M[Ce]||null)?fb(s.formAction):M.getAttribute("formAction"),s!==null&&(x=s,M=null));var U=new Du("action","action",null,h,y);i.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Oe!==0){var V=M?db(y,M):new FormData(y);Bh(f,{pending:!0,data:V,method:y.method,action:x},null,V)}}else typeof x=="function"&&(U.preventDefault(),V=M?db(y,M):new FormData(y),Bh(f,{pending:!0,data:V,method:y.method,action:x},x,V))},currentTarget:y}]})}}for(var Yv=0;Yv<xa.length;Yv++){var Zv=xa[Yv],Ow=Zv.toLowerCase(),Nw=Zv[0].toUpperCase()+Zv.slice(1);Ci(Ow,"on"+Nw)}Ci(dh,"onAnimationEnd"),Ci(Ei,"onAnimationIteration"),Ci(_f,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Mg,"onTransitionRun"),Ci(zv,"onTransitionStart"),Ci(hh,"onTransitionCancel"),Ci(Sa,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),Pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var e0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(e0));function hb(i,s){s=(s&4)!==0;for(var f=0;f<i.length;f++){var h=i[f],y=h.event;h=h.listeners;e:{var x=void 0;if(s)for(var M=h.length-1;0<=M;M--){var U=h[M],V=U.instance,oe=U.currentTarget;if(U=U.listener,V!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=oe;try{x(y)}catch(xe){as(xe)}y.currentTarget=null,x=V}else for(M=0;M<h.length;M++){if(U=h[M],V=U.instance,oe=U.currentTarget,U=U.listener,V!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=oe;try{x(y)}catch(xe){as(xe)}y.currentTarget=null,x=V}}}}function Gt(i,s){var f=s[Qe];f===void 0&&(f=s[Qe]=new Set);var h=i+"__bubble";f.has(h)||(gb(s,i,2,!1),f.add(h))}function Xv(i,s,f){var h=0;s&&(h|=4),gb(f,i,h,s)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function Iv(i){if(!i[Ep]){i[Ep]=!0,ln.forEach(function(f){f!=="selectionchange"&&(Mw.has(f)||Xv(f,!1,i),Xv(f,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ep]||(s[Ep]=!0,Xv("selectionchange",!1,s))}}function gb(i,s,f,h){switch(Pb(s)){case 2:var y=i8;break;case 8:y=r8;break;default:y=l1}f=y.bind(null,s,f,i),y=void 0,!tf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(s,f,{capture:!0,passive:y}):i.addEventListener(s,f,!0):y!==void 0?i.addEventListener(s,f,{passive:y}):i.addEventListener(s,f,!1)}function Kv(i,s,f,h,y){var x=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var M=h.tag;if(M===3||M===4){var U=h.stateNode.containerInfo;if(U===y)break;if(M===4)for(M=h.return;M!==null;){var V=M.tag;if((V===3||V===4)&&M.stateNode.containerInfo===y)return;M=M.return}for(;U!==null;){if(M=Xe(U),M===null)return;if(V=M.tag,V===5||V===6||V===26||V===27){h=x=M;continue e}U=U.parentNode}}h=h.return}Jd(function(){var oe=x,xe=Ss(f),Ee=[];e:{var fe=gh.get(i);if(fe!==void 0){var he=Du,mt=i;switch(i){case"keypress":if(vo(f)===0)break e;case"keydown":case"keyup":he=of;break;case"focusin":mt="focus",he=Sl;break;case"focusout":mt="blur",he=Sl;break;case"beforeblur":case"afterblur":he=Sl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Sg;break;case dh:case Ei:case _f:he=pg;break;case Sa:he=fa;break;case"scroll":case"scrollend":he=Nv;break;case"wheel":he=wg;break;case"copy":case"cut":case"paste":he=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=uf;break;case"toggle":case"beforetoggle":he=Cg}var ft=(s&4)!==0,_n=!ft&&(i==="scroll"||i==="scrollend"),J=ft?fe!==null?fe+"Capture":null:fe;ft=[];for(var Q=oe,se;Q!==null;){var we=Q;if(se=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||se===null||J===null||(we=po(Q,J),we!=null&&ft.push(t0(Q,we,se))),_n)break;Q=Q.return}0<ft.length&&(fe=new he(fe,mt,null,f,xe),Ee.push({event:fe,listeners:ft}))}}if((s&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",fe&&f!==ef&&(mt=f.relatedTarget||f.fromElement)&&(Xe(mt)||mt[je]))break e;if((he||fe)&&(fe=xe.window===xe?xe:(fe=xe.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(mt=f.relatedTarget||f.toElement,he=oe,mt=mt?Xe(mt):null,mt!==null&&(_n=l(mt),ft=mt.tag,mt!==_n||ft!==5&&ft!==27&&ft!==6)&&(mt=null)):(he=null,mt=oe),he!==mt)){if(ft=ju,we="onMouseLeave",J="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(ft=uf,we="onPointerLeave",J="onPointerEnter",Q="pointer"),_n=he==null?fe:$t(he),se=mt==null?fe:$t(mt),fe=new ft(we,Q+"leave",he,f,xe),fe.target=_n,fe.relatedTarget=se,we=null,Xe(xe)===oe&&(ft=new ft(J,Q+"enter",mt,f,xe),ft.target=se,ft.relatedTarget=_n,we=ft),_n=we,he&&mt)t:{for(ft=he,J=mt,Q=0,se=ft;se;se=Wf(se))Q++;for(se=0,we=J;we;we=Wf(we))se++;for(;0<Q-se;)ft=Wf(ft),Q--;for(;0<se-Q;)J=Wf(J),se--;for(;Q--;){if(ft===J||J!==null&&ft===J.alternate)break t;ft=Wf(ft),J=Wf(J)}ft=null}else ft=null;he!==null&&pb(Ee,fe,he,ft,!1),mt!==null&&_n!==null&&pb(Ee,_n,mt,ft,!0)}}e:{if(fe=oe?$t(oe):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var $e=Qa;else if(hf(fe))if(oh)$e=Mn;else{$e=vf;var kt=Og}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?oe&&Jc(oe.elementType)&&($e=Qa):$e=ku;if($e&&($e=$e(i,oe))){lh(Ee,$e,f,xe);break e}kt&&kt(i,fe,oe),i==="focusout"&&oe&&fe.type==="number"&&oe.memoizedProps.value!=null&&$c(fe,"number",fe.value)}switch(kt=oe?$t(oe):window,i){case"focusin":(hf(kt)||kt.contentEditable==="true")&&(Tl=kt,Lu=oe,wo=null);break;case"focusout":wo=Lu=Tl=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,yf(Ee,f,xe);break;case"selectionchange":if(lr)break;case"keydown":case"keyup":yf(Ee,f,xe)}var rt;if(_o)e:{switch(i){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else ws?ff(i,f)&&(ht="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(ht="onCompositionStart");ht&&(ah&&f.locale!=="ko"&&(ws||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&ws&&(rt=Wd()):(Gr=xe,Ou="value"in Gr?Gr.value:Gr.textContent,ws=!0)),kt=Cp(oe,ht),0<kt.length&&(ht=new Yr(ht,i,null,f,xe),Ee.push({event:ht,listeners:kt}),rt?ht.data=rt:(rt=rh(f),rt!==null&&(ht.data=rt)))),(rt=Ag?df(i,f):sh(i,f))&&(ht=Cp(oe,"onBeforeInput"),0<ht.length&&(kt=new Yr("onBeforeInput","beforeinput",null,f,xe),Ee.push({event:kt,listeners:ht}),kt.data=rt)),Rw(Ee,i,oe,f,xe)}hb(Ee,s)})}function t0(i,s,f){return{instance:i,listener:s,currentTarget:f}}function Cp(i,s){for(var f=s+"Capture",h=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=po(i,f),y!=null&&h.unshift(t0(i,y,x)),y=po(i,s),y!=null&&h.push(t0(i,y,x))),i.tag===3)return h;i=i.return}return[]}function Wf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pb(i,s,f,h,y){for(var x=s._reactName,M=[];f!==null&&f!==h;){var U=f,V=U.alternate,oe=U.stateNode;if(U=U.tag,V!==null&&V===h)break;U!==5&&U!==26&&U!==27||oe===null||(V=oe,y?(oe=po(f,x),oe!=null&&M.unshift(t0(f,oe,V))):y||(oe=po(f,x),oe!=null&&M.push(t0(f,oe,V)))),f=f.return}M.length!==0&&i.push({event:s,listeners:M})}var Dw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function mb(i){return(typeof i=="string"?i:""+i).replace(Dw,`
`).replace(jw,"")}function vb(i,s){return s=mb(s),mb(i)===s}function Tp(){}function bn(i,s,f,h,y,x){switch(f){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||yl(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&yl(i,""+h);break;case"className":Vi(i,"class",h);break;case"tabIndex":Vi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(i,f,h);break;case"style":$d(i,h,x);break;case"data":if(s!=="object"){Vi(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||f!=="href")){i.removeAttribute(f);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=Wc(""+h),i.setAttribute(f,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(s!=="input"&&bn(i,s,"name",y.name,y,null),bn(i,s,"formEncType",y.formEncType,y,null),bn(i,s,"formMethod",y.formMethod,y,null),bn(i,s,"formTarget",y.formTarget,y,null)):(bn(i,s,"encType",y.encType,y,null),bn(i,s,"method",y.method,y,null),bn(i,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=Wc(""+h),i.setAttribute(f,h);break;case"onClick":h!=null&&(i.onclick=Tp);break;case"onScroll":h!=null&&Gt("scroll",i);break;case"onScrollEnd":h!=null&&Gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=f}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}f=Wc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""+h):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":h===!0?i.setAttribute(f,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,h):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(f,h):i.removeAttribute(f);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(f):i.setAttribute(f,h);break;case"popover":Gt("beforetoggle",i),Gt("toggle",i),Fa(i,"popover",h);break;case"xlinkActuate":_a(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_a(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_a(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_a(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_a(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_a(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_a(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_a(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_a(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Fa(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=fg.get(f)||f,Fa(i,f,h))}}function Fv(i,s,f,h,y,x){switch(f){case"style":$d(i,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=f}}break;case"children":typeof h=="string"?yl(i,h):(typeof h=="number"||typeof h=="bigint")&&yl(i,""+h);break;case"onScroll":h!=null&&Gt("scroll",i);break;case"onScrollEnd":h!=null&&Gt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Tp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tn.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),s=f.slice(2,y?f.length-7:void 0),x=i[Ce]||null,x=x!=null?x[f]:null,typeof x=="function"&&i.removeEventListener(s,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(s,h,y);break e}f in i?i[f]=h:h===!0?i.setAttribute(f,""):Fa(i,f,h)}}}function Va(i,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",i),Gt("load",i);var h=!1,y=!1,x;for(x in f)if(f.hasOwnProperty(x)){var M=f[x];if(M!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:bn(i,s,x,M,f,null)}}y&&bn(i,s,"srcSet",f.srcSet,f,null),h&&bn(i,s,"src",f.src,f,null);return;case"input":Gt("invalid",i);var U=x=M=y=null,V=null,oe=null;for(h in f)if(f.hasOwnProperty(h)){var xe=f[h];if(xe!=null)switch(h){case"name":y=xe;break;case"type":M=xe;break;case"checked":V=xe;break;case"defaultChecked":oe=xe;break;case"value":x=xe;break;case"defaultValue":U=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,s));break;default:bn(i,s,h,xe,f,null)}}Qc(i,x,U,V,oe,M,y,!1),Tu(i);return;case"select":Gt("invalid",i),h=M=x=null;for(y in f)if(f.hasOwnProperty(y)&&(U=f[y],U!=null))switch(y){case"value":x=U;break;case"defaultValue":M=U;break;case"multiple":h=U;default:bn(i,s,y,U,f,null)}s=x,f=M,i.multiple=!!h,s!=null?go(i,!!h,s,!1):f!=null&&go(i,!!h,f,!0);return;case"textarea":Gt("invalid",i),x=y=h=null;for(M in f)if(f.hasOwnProperty(M)&&(U=f[M],U!=null))switch(M){case"value":h=U;break;case"defaultValue":y=U;break;case"children":x=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:bn(i,s,M,U,f,null)}Kd(i,h,y,x),Tu(i);return;case"option":for(V in f)if(f.hasOwnProperty(V)&&(h=f[V],h!=null))switch(V){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:bn(i,s,V,h,f,null)}return;case"dialog":Gt("beforetoggle",i),Gt("toggle",i),Gt("cancel",i),Gt("close",i);break;case"iframe":case"object":Gt("load",i);break;case"video":case"audio":for(h=0;h<e0.length;h++)Gt(e0[h],i);break;case"image":Gt("error",i),Gt("load",i);break;case"details":Gt("toggle",i);break;case"embed":case"source":case"link":Gt("error",i),Gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in f)if(f.hasOwnProperty(oe)&&(h=f[oe],h!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:bn(i,s,oe,h,f,null)}return;default:if(Jc(s)){for(xe in f)f.hasOwnProperty(xe)&&(h=f[xe],h!==void 0&&Fv(i,s,xe,h,f,void 0));return}}for(U in f)f.hasOwnProperty(U)&&(h=f[U],h!=null&&bn(i,s,U,h,f,null))}function zw(i,s,f,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,M=null,U=null,V=null,oe=null,xe=null;for(he in f){var Ee=f[he];if(f.hasOwnProperty(he)&&Ee!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":V=Ee;default:h.hasOwnProperty(he)||bn(i,s,he,null,h,Ee)}}for(var fe in h){var he=h[fe];if(Ee=f[fe],h.hasOwnProperty(fe)&&(he!=null||Ee!=null))switch(fe){case"type":x=he;break;case"name":y=he;break;case"checked":oe=he;break;case"defaultChecked":xe=he;break;case"value":M=he;break;case"defaultValue":U=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,s));break;default:he!==Ee&&bn(i,s,fe,he,h,Ee)}}Fc(i,M,U,V,oe,xe,x,y);return;case"select":he=M=U=fe=null;for(x in f)if(V=f[x],f.hasOwnProperty(x)&&V!=null)switch(x){case"value":break;case"multiple":he=V;default:h.hasOwnProperty(x)||bn(i,s,x,null,h,V)}for(y in h)if(x=h[y],V=f[y],h.hasOwnProperty(y)&&(x!=null||V!=null))switch(y){case"value":fe=x;break;case"defaultValue":U=x;break;case"multiple":M=x;default:x!==V&&bn(i,s,y,x,h,V)}s=U,f=M,h=he,fe!=null?go(i,!!f,fe,!1):!!h!=!!f&&(s!=null?go(i,!!f,s,!0):go(i,!!f,f?[]:"",!1));return;case"textarea":he=fe=null;for(U in f)if(y=f[U],f.hasOwnProperty(U)&&y!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:bn(i,s,U,null,h,y)}for(M in h)if(y=h[M],x=f[M],h.hasOwnProperty(M)&&(y!=null||x!=null))switch(M){case"value":fe=y;break;case"defaultValue":he=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&bn(i,s,M,y,h,x)}Id(i,fe,he);return;case"option":for(var mt in f)if(fe=f[mt],f.hasOwnProperty(mt)&&fe!=null&&!h.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:bn(i,s,mt,null,h,fe)}for(V in h)if(fe=h[V],he=f[V],h.hasOwnProperty(V)&&fe!==he&&(fe!=null||he!=null))switch(V){case"selected":i.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:bn(i,s,V,fe,h,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in f)fe=f[ft],f.hasOwnProperty(ft)&&fe!=null&&!h.hasOwnProperty(ft)&&bn(i,s,ft,null,h,fe);for(oe in h)if(fe=h[oe],he=f[oe],h.hasOwnProperty(oe)&&fe!==he&&(fe!=null||he!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,s));break;default:bn(i,s,oe,fe,h,he)}return;default:if(Jc(s)){for(var _n in f)fe=f[_n],f.hasOwnProperty(_n)&&fe!==void 0&&!h.hasOwnProperty(_n)&&Fv(i,s,_n,void 0,h,fe);for(xe in h)fe=h[xe],he=f[xe],!h.hasOwnProperty(xe)||fe===he||fe===void 0&&he===void 0||Fv(i,s,xe,fe,h,he);return}}for(var J in f)fe=f[J],f.hasOwnProperty(J)&&fe!=null&&!h.hasOwnProperty(J)&&bn(i,s,J,null,h,fe);for(Ee in h)fe=h[Ee],he=f[Ee],!h.hasOwnProperty(Ee)||fe===he||fe==null&&he==null||bn(i,s,Ee,fe,h,he)}var Qv=null,$v=null;function Ap(i){return i.nodeType===9?i:i.ownerDocument}function yb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Jv(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wv=null;function Uw(){var i=window.event;return i&&i.type==="popstate"?i===Wv?!1:(Wv=i,!0):(Wv=null,!1)}var _b=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,Sb=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Sb<"u"?function(i){return Sb.resolve(null).then(i).catch(Pw)}:_b;function Pw(i){setTimeout(function(){throw i})}function Qo(i){return i==="head"}function xb(i,s){var f=s,h=0,y=0;do{var x=f.nextSibling;if(i.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(0<h&&8>h){f=h;var M=i.ownerDocument;if(f&1&&n0(M.documentElement),f&2&&n0(M.body),f&4)for(f=M.head,n0(f),M=f.firstChild;M;){var U=M.nextSibling,V=M.nodeName;M[tt]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&M.rel.toLowerCase()==="stylesheet"||f.removeChild(M),M=U}}if(y===0){i.removeChild(x),c0(s);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:h=f.charCodeAt(0)-48;else h=0;f=x}while(f);c0(s)}function e1(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":e1(f),We(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function Bw(i,s,f,h){for(;i.nodeType===1;){var y=f;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[tt])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=us(i.nextSibling),i===null)break}return null}function Hw(i,s,f){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=us(i.nextSibling),i===null))return null;return i}function t1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Gw(i,s){var f=i.ownerDocument;if(i.data!=="$?"||f.readyState==="complete")s();else{var h=function(){s(),f.removeEventListener("DOMContentLoaded",h)};f.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function us(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var n1=null;function wb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return i;s--}else f==="/$"&&s++}i=i.previousSibling}return null}function Eb(i,s,f){switch(s=Ap(f),i){case"html":if(i=s.documentElement,!i)throw Error(a(452));return i;case"head":if(i=s.head,!i)throw Error(a(453));return i;case"body":if(i=s.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function n0(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);We(i)}var Ar=new Map,Cb=new Set;function Rp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Il=F.d;F.d={f:qw,r:Vw,D:Yw,C:Zw,L:Xw,m:Iw,X:Fw,S:Kw,M:Qw};function qw(){var i=Il.f(),s=Qs();return i||s}function Vw(i){var s=yt(i);s!==null&&s.tag===5&&s.type==="form"?lp(s):Il.r(i)}var ed=typeof document>"u"?null:document;function Tb(i,s,f){var h=ed;if(h&&typeof s=="string"&&s){var y=ci(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),Cb.has(y)||(Cb.add(y),i={rel:i,crossOrigin:f,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),Va(s,"link",i),Lt(s),h.head.appendChild(s)))}}function Yw(i){Il.D(i),Tb("dns-prefetch",i,null)}function Zw(i,s){Il.C(i,s),Tb("preconnect",i,s)}function Xw(i,s,f){Il.L(i,s,f);var h=ed;if(h&&i&&s){var y='link[rel="preload"][as="'+ci(s)+'"]';s==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+ci(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+ci(f.imageSizes)+'"]')):y+='[href="'+ci(i)+'"]';var x=y;switch(s){case"style":x=td(i);break;case"script":x=nd(i)}Ar.has(x)||(i=v({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:i,as:s},f),Ar.set(x,i),h.querySelector(y)!==null||s==="style"&&h.querySelector(a0(x))||s==="script"&&h.querySelector(i0(x))||(s=h.createElement("link"),Va(s,"link",i),Lt(s),h.head.appendChild(s)))}}function Iw(i,s){Il.m(i,s);var f=ed;if(f&&i){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+ci(h)+'"][href="'+ci(i)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=nd(i)}if(!Ar.has(x)&&(i=v({rel:"modulepreload",href:i},s),Ar.set(x,i),f.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(i0(x)))return}h=f.createElement("link"),Va(h,"link",i),Lt(h),f.head.appendChild(h)}}}function Kw(i,s,f){Il.S(i,s,f);var h=ed;if(h&&i){var y=gn(h).hoistableStyles,x=td(i);s=s||"default";var M=y.get(x);if(!M){var U={loading:0,preload:null};if(M=h.querySelector(a0(x)))U.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},f),(f=Ar.get(x))&&a1(i,f);var V=M=h.createElement("link");Lt(V),Va(V,"link",i),V._p=new Promise(function(oe,xe){V.onload=oe,V.onerror=xe}),V.addEventListener("load",function(){U.loading|=1}),V.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Op(M,s,h)}M={type:"stylesheet",instance:M,count:1,state:U},y.set(x,M)}}}function Fw(i,s){Il.X(i,s);var f=ed;if(f&&i){var h=gn(f).hoistableScripts,y=nd(i),x=h.get(y);x||(x=f.querySelector(i0(y)),x||(i=v({src:i,async:!0},s),(s=Ar.get(y))&&i1(i,s),x=f.createElement("script"),Lt(x),Va(x,"link",i),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function Qw(i,s){Il.M(i,s);var f=ed;if(f&&i){var h=gn(f).hoistableScripts,y=nd(i),x=h.get(y);x||(x=f.querySelector(i0(y)),x||(i=v({src:i,async:!0,type:"module"},s),(s=Ar.get(y))&&i1(i,s),x=f.createElement("script"),Lt(x),Va(x,"link",i),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function Ab(i,s,f,h){var y=(y=Ve.current)?Rp(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=td(f.href),f=gn(y).hoistableStyles,h=f.get(s),h||(h={type:"style",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=td(f.href);var x=gn(y).hoistableStyles,M=x.get(i);if(M||(y=y.ownerDocument||y,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,M),(x=y.querySelector(a0(i)))&&!x._p&&(M.instance=x,M.state.loading=5),Ar.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ar.set(i,f),x||$w(y,i,f,M.state))),s&&h===null)throw Error(a(528,""));return M}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nd(f),f=gn(y).hoistableScripts,h=f.get(s),h||(h={type:"script",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function td(i){return'href="'+ci(i)+'"'}function a0(i){return'link[rel="stylesheet"]['+i+"]"}function Rb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function $w(i,s,f,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Va(s,"link",f),Lt(s),i.head.appendChild(s))}function nd(i){return'[src="'+ci(i)+'"]'}function i0(i){return"script[async]"+i}function Ob(i,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+ci(f.href)+'"]');if(h)return s.instance=h,Lt(h),h;var y=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Lt(h),Va(h,"style",y),Op(h,f.precedence,i),s.instance=h;case"stylesheet":y=td(f.href);var x=i.querySelector(a0(y));if(x)return s.state.loading|=4,s.instance=x,Lt(x),x;h=Rb(f),(y=Ar.get(y))&&a1(h,y),x=(i.ownerDocument||i).createElement("link"),Lt(x);var M=x;return M._p=new Promise(function(U,V){M.onload=U,M.onerror=V}),Va(x,"link",h),s.state.loading|=4,Op(x,f.precedence,i),s.instance=x;case"script":return x=nd(f.src),(y=i.querySelector(i0(x)))?(s.instance=y,Lt(y),y):(h=f,(y=Ar.get(x))&&(h=v({},f),i1(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),Lt(y),Va(y,"link",h),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Op(h,f.precedence,i));return s.instance}function Op(i,s,f){for(var h=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,M=0;M<h.length;M++){var U=h[M];if(U.dataset.precedence===s)x=U;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(i,s.firstChild))}function a1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function i1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Np=null;function Nb(i,s,f){if(Np===null){var h=new Map,y=Np=new Map;y.set(f,h)}else y=Np,h=y.get(f),h||(h=new Map,y.set(f,h));if(h.has(i))return h;for(h.set(i,null),f=f.getElementsByTagName(i),y=0;y<f.length;y++){var x=f[y];if(!(x[tt]||x[le]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var M=x.getAttribute(s)||"";M=i+M;var U=h.get(M);U?U.push(x):h.set(M,[x])}}return h}function Mb(i,s,f){i=i.ownerDocument||i,i.head.insertBefore(f,s==="title"?i.querySelector("head > title"):null)}function Jw(i,s,f){if(f===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Db(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var r0=null;function Ww(){}function e8(i,s,f){if(r0===null)throw Error(a(475));var h=r0;if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=td(f.href),x=i.querySelector(a0(y));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Mp.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=x,Lt(x);return}x=i.ownerDocument||i,f=Rb(f),(y=Ar.get(y))&&a1(f,y),x=x.createElement("link"),Lt(x);var M=x;M._p=new Promise(function(U,V){M.onload=U,M.onerror=V}),Va(x,"link",f),s.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Mp.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function t8(){if(r0===null)throw Error(a(475));var i=r0;return i.stylesheets&&i.count===0&&r1(i,i.stylesheets),0<i.count?function(s){var f=setTimeout(function(){if(i.stylesheets&&r1(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(f)}}:null}function Mp(){if(this.count--,this.count===0){if(this.stylesheets)r1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Dp=null;function r1(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Dp=new Map,s.forEach(n8,i),Dp=null,Mp.call(i))}function n8(i,s){if(!(s.state.loading&4)){var f=Dp.get(i);if(f)var h=f.get(null);else{f=new Map,Dp.set(i,f);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var M=y[x];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(f.set(M.dataset.precedence,M),h=M)}h&&f.set(null,h)}y=s.instance,M=y.getAttribute("data-precedence"),x=f.get(M)||h,x===h&&f.set(null,y),f.set(M,y),this.count++,h=Mp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var s0={$$typeof:z,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function a8(i,s,f,h,y,x,M,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.hiddenUpdates=fo(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function jb(i,s,f,h,y,x,M,U,V,oe,xe,Ee){return i=new a8(i,s,f,M,U,V,oe,Ee),s=1,x===!0&&(s|=24),x=$a(3,null,null,s),i.current=x,x.stateNode=i,s=Ro(),s.refCount++,i.pooledCache=s,s.refCount++,x.memoizedState={element:h,isDehydrated:f,cache:s},Ku(x),i}function zb(i){return i?(i=Rl,i):Rl}function Ub(i,s,f,h,y,x){y=zb(y),h.context===null?h.context=y:h.pendingContext=y,h=mr(s),h.payload={element:f},x=x===void 0?null:x,x!==null&&(h.callback=x),f=ka(i,h,s),f!==null&&(In(f,i,s),Pl(f,i,s))}function kb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<s?f:s}}function s1(i,s){kb(i,s),(i=i.alternate)&&kb(i,s)}function Lb(i){if(i.tag===13){var s=ur(i,67108864);s!==null&&In(s,i,67108864),s1(i,67108864)}}var jp=!0;function i8(i,s,f,h){var y=G.T;G.T=null;var x=F.p;try{F.p=2,l1(i,s,f,h)}finally{F.p=x,G.T=y}}function r8(i,s,f,h){var y=G.T;G.T=null;var x=F.p;try{F.p=8,l1(i,s,f,h)}finally{F.p=x,G.T=y}}function l1(i,s,f,h){if(jp){var y=o1(h);if(y===null)Kv(i,s,h,zp,f),Bb(i,h);else if(l8(y,i,s,f,h))h.stopPropagation();else if(Bb(i,h),s&4&&-1<s8.indexOf(i)){for(;y!==null;){var x=yt(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var M=Xa(x.pendingLanes);if(M!==0){var U=x;for(U.pendingLanes|=2,U.entangledLanes|=2;M;){var V=1<<31-an(M);U.entanglements[1]|=V,M&=~V}Ke(x),(gt&6)===0&&(Zl=fn()+500,rn(0))}}break;case 13:U=ur(x,2),U!==null&&In(U,x,2),Qs(),s1(x,2)}if(x=o1(h),x===null&&Kv(i,s,h,zp,f),x===y)break;y=x}y!==null&&h.stopPropagation()}else Kv(i,s,h,null,f)}}function o1(i){return i=Ss(i),u1(i)}var zp=null;function u1(i){if(zp=null,i=Xe(i),i!==null){var s=l(i);if(s===null)i=null;else{var f=s.tag;if(f===13){if(i=c(s),i!==null)return i;i=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return zp=i,null}function Pb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case li:return 2;case Z:return 8;case re:case de:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var c1=!1,$o=null,Jo=null,Wo=null,l0=new Map,o0=new Map,eu=[],s8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bb(i,s){switch(i){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":l0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":o0.delete(s.pointerId)}}function u0(i,s,f,h,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:f,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},s!==null&&(s=yt(s),s!==null&&Lb(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function l8(i,s,f,h,y){switch(s){case"focusin":return $o=u0($o,i,s,f,h,y),!0;case"dragenter":return Jo=u0(Jo,i,s,f,h,y),!0;case"mouseover":return Wo=u0(Wo,i,s,f,h,y),!0;case"pointerover":var x=y.pointerId;return l0.set(x,u0(l0.get(x)||null,i,s,f,h,y)),!0;case"gotpointercapture":return x=y.pointerId,o0.set(x,u0(o0.get(x)||null,i,s,f,h,y)),!0}return!1}function Hb(i){var s=Xe(i.target);if(s!==null){var f=l(s);if(f!==null){if(s=f.tag,s===13){if(s=c(f),s!==null){i.blockedOn=s,K(i.priority,function(){if(f.tag===13){var h=Pn();h=Br(h);var y=ur(f,h);y!==null&&In(y,f,h),s1(f,h)}});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Up(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var f=o1(i.nativeEvent);if(f===null){f=i.nativeEvent;var h=new f.constructor(f.type,f);ef=h,f.target.dispatchEvent(h),ef=null}else return s=yt(f),s!==null&&Lb(s),i.blockedOn=f,!1;s.shift()}return!0}function Gb(i,s,f){Up(i)&&f.delete(s)}function o8(){c1=!1,$o!==null&&Up($o)&&($o=null),Jo!==null&&Up(Jo)&&(Jo=null),Wo!==null&&Up(Wo)&&(Wo=null),l0.forEach(Gb),o0.forEach(Gb)}function kp(i,s){i.blockedOn===s&&(i.blockedOn=null,c1||(c1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,o8)))}var Lp=null;function qb(i){Lp!==i&&(Lp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lp===i&&(Lp=null);for(var s=0;s<i.length;s+=3){var f=i[s],h=i[s+1],y=i[s+2];if(typeof h!="function"){if(u1(h||f)===null)continue;break}var x=yt(f);x!==null&&(i.splice(s,3),s-=3,Bh(x,{pending:!0,data:y,method:f.method,action:h},h,y))}}))}function c0(i){function s(V){return kp(V,i)}$o!==null&&kp($o,i),Jo!==null&&kp(Jo,i),Wo!==null&&kp(Wo,i),l0.forEach(s),o0.forEach(s);for(var f=0;f<eu.length;f++){var h=eu[f];h.blockedOn===i&&(h.blockedOn=null)}for(;0<eu.length&&(f=eu[0],f.blockedOn===null);)Hb(f),f.blockedOn===null&&eu.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(h=0;h<f.length;h+=3){var y=f[h],x=f[h+1],M=y[Ce]||null;if(typeof x=="function")M||qb(f);else if(M){var U=null;if(x&&x.hasAttribute("formAction")){if(y=x,M=x[Ce]||null)U=M.formAction;else if(u1(y)!==null)continue}else U=M.action;typeof U=="function"?f[h+1]=U:(f.splice(h,3),h-=3),qb(f)}}}function f1(i){this._internalRoot=i}Pp.prototype.render=f1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(a(409));var f=s.current,h=Pn();Ub(f,h,i,s,null,null)},Pp.prototype.unmount=f1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ub(i.current,2,null,i,null,null),Qs(),s[je]=null}};function Pp(i){this._internalRoot=i}Pp.prototype.unstable_scheduleHydration=function(i){if(i){var s=pl();i={blockedOn:null,target:i,priority:s};for(var f=0;f<eu.length&&s!==0&&s<eu[f].priority;f++);eu.splice(f,0,i),f===0&&Hb(i)}};var Vb=e.version;if(Vb!=="19.1.1")throw Error(a(527,Vb,"19.1.1"));F.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=g(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var u8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{qe=Bp.inject(u8),Fe=Bp}catch{}}return d0.createRoot=function(i,s){if(!r(i))throw Error(a(299));var f=!1,h="",y=Gl,x=ai,M=pp,U=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(U=s.unstable_transitionCallbacks)),s=jb(i,1,!1,null,null,f,h,y,x,M,U,null),i[je]=s.current,Iv(i),new f1(s)},d0.hydrateRoot=function(i,s,f){if(!r(i))throw Error(a(299));var h=!1,y="",x=Gl,M=ai,U=pp,V=null,oe=null;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(U=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(V=f.unstable_transitionCallbacks),f.formState!==void 0&&(oe=f.formState)),s=jb(i,1,!0,s,f??null,h,y,x,M,U,V,oe),s.context=zb(null),f=s.current,h=Pn(),h=Br(h),y=mr(h),y.callback=null,ka(f,y,h),f=h,s.current.lanes=f,qi(s,f),Ke(s),i[je]=s.current,Iv(i),new Pp(s)},d0.version="19.1.1",d0}var Wb;function b8(){if(Wb)return h1.exports;Wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h1.exports=y8(),h1.exports}var _8=b8(),N=Wm();const at=Jm(N),I5=f8({__proto__:null,default:at},[N]);var K5=t=>{throw TypeError(t)},S8=(t,e,n)=>e.has(t)||K5("Cannot "+n),y1=(t,e,n)=>(S8(t,e,"read from private field"),n?n.call(t):e.get(t)),x8=(t,e,n)=>e.has(t)?K5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),e_="popstate";function w8(t={}){function e(r,l){let{pathname:c="/",search:d="",hash:g=""}=io(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),P0("",{pathname:c,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){let c=r.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let g=r.location.href,m=g.indexOf("#");d=m===-1?g:g.slice(0,m)}return d+"#"+(typeof l=="string"?l:hu(l))}function a(r,l){Jn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return C8(e,n,a,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E8(){return Math.random().toString(36).substring(2,10)}function t_(t,e){return{usr:t.state,key:t.key,idx:e}}function P0(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||a||E8()}}function hu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function C8(t,e,n,a={}){let{window:r=document.defaultView,v5Compat:l=!1}=a,c=r.history,d="POP",g=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let O=v(),j=O==null?null:O-m;m=O,g&&g({action:d,location:R.location,delta:j})}function S(O,j){d="PUSH";let D=P0(R.location,O,j);n&&n(D,O),m=v()+1;let z=t_(D,m),P=R.createHref(D);try{c.pushState(z,"",P)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(P)}l&&g&&g({action:d,location:R.location,delta:1})}function E(O,j){d="REPLACE";let D=P0(R.location,O,j);n&&n(D,O),m=v();let z=t_(D,m),P=R.createHref(D);c.replaceState(z,"",P),l&&g&&g({action:d,location:R.location,delta:0})}function A(O){return F5(O)}let R={get action(){return d},get location(){return t(r,c)},listen(O){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(e_,_),g=O,()=>{r.removeEventListener(e_,_),g=null}},createHref(O){return e(r,O)},createURL:A,encodeLocation(O){let j=A(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:E,go(O){return c.go(O)}};return R}function F5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:hu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var S0,n_=class{constructor(t){if(x8(this,S0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(y1(this,S0).has(t))return y1(this,S0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){y1(this,S0).set(t,e)}};S0=new WeakMap;var T8=new Set(["lazy","caseSensitive","path","id","index","children"]);function A8(t){return T8.has(t)}var R8=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function O8(t){return R8.has(t)}function N8(t){return t.index===!0}function B0(t,e,n=[],a={},r=!1){return t.map((l,c)=>{let d=[...n,String(c)],g=typeof l.id=="string"?l.id:d.join("-");if(qt(l.index!==!0||!l.children,"Cannot specify children on an index route"),qt(r||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),N8(l)){let m={...l,...e(l),id:g};return a[g]=m,m}else{let m={...l,...e(l),id:g,children:void 0};return a[g]=m,l.children&&(m.children=B0(l.children,e,d,a,r)),m}})}function ou(t,e,n="/"){return ym(t,e,n,!1)}function ym(t,e,n,a){let r=typeof e=="string"?io(e):e,l=jr(r.pathname||"/",n);if(l==null)return null;let c=Q5(t);D8(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let m=V8(l);d=G8(c[g],m,a)}return d}function M8(t,e){let{route:n,pathname:a,params:r}=t;return{id:n.id,pathname:a,params:r,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function Q5(t,e=[],n=[],a="",r=!1){let l=(c,d,g=r,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;qt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=ll([a,v.relativePath]),S=n.concat(v);c.children&&c.children.length>0&&(qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Q5(c.children,e,S,_,g)),!(c.path==null&&!c.index)&&e.push({path:_,score:B8(_,c.index),routesMeta:S})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let g of $5(c.path))l(c,d,!0,g)}),e}function $5(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let c=$5(a.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),r&&d.push(...c),d.map(g=>t.startsWith("/")&&g===""?"/":g)}function D8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H8(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var j8=/^:[\w-]+$/,z8=3,U8=2,k8=1,L8=10,P8=-2,a_=t=>t==="*";function B8(t,e){let n=t.split("/"),a=n.length;return n.some(a_)&&(a+=P8),e&&(a+=U8),n.filter(r=>!a_(r)).reduce((r,l)=>r+(j8.test(l)?z8:l===""?k8:L8),a)}function H8(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function G8(t,e,n=!1){let{routesMeta:a}=t,r={},l="/",c=[];for(let d=0;d<a.length;++d){let g=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Am({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},v),S=g.route;if(!_&&m&&n&&!a[a.length-1].route.index&&(_=Am({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:ll([l,_.pathname]),pathnameBase:I8(ll([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=ll([l,_.pathnameBase]))}return c}function Am(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=q8(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:_},S)=>{if(v==="*"){let A=d[S]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const E=d[S];return _&&!E?m[v]=void 0:m[v]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function q8(t,e=!1,n=!0){Jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(a.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function V8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function Y8({basename:t,pathname:e}){return e==="/"?t:ll([t,e])}function Z8(t,e="/"){let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?io(t):t;return{pathname:n?n.startsWith("/")?n:X8(n,e):e,search:K8(a),hash:F8(r)}}function X8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function b1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r2(t){let e=J5(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function s2(t,e,n,a=!1){let r;typeof t=="string"?r=io(t):(r={...t},qt(!r.pathname||!r.pathname.includes("?"),b1("?","pathname","search",r)),qt(!r.pathname||!r.pathname.includes("#"),b1("#","pathname","hash",r)),qt(!r.search||!r.search.includes("#"),b1("#","search","hash",r)));let l=t===""||r.pathname==="",c=l?"/":r.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!a&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;r.pathname=S.join("/")}d=_>=0?e[_]:"/"}let g=Z8(r,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||v)&&(g.pathname+="/"),g}var ll=t=>t.join("/").replace(/\/\/+/g,"/"),I8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Rm=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function H0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var W5=["POST","PUT","PATCH","DELETE"],Q8=new Set(W5),$8=["GET",...W5],J8=new Set($8),W8=new Set([301,302,303,307,308]),eE=new Set([307,308]),_1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},h0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l2=t=>nE.test(t),aE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),e3="remix-router-transitions",t3=Symbol("ResetLoaderData");function iE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],r=t.mapRouteProperties||aE,l={},c=B0(t.routes,r,void 0,l),d,g=t.basename||"/";g.startsWith("/")||(g=`/${g}`);let m=t.dataStrategy||uE,v={...t.future},_=null,S=new Set,E=null,A=null,R=null,O=t.hydrationData!=null,j=ou(c,t.history.location,g),D=!1,z=null,P;if(j==null&&!t.patchRoutesOnNavigation){let K=Rr(404,{pathname:t.history.location.pathname}),{matches:ee,route:le}=Hp(c);P=!0,j=ee,z={[le.id]:K}}else if(j&&!t.hydrationData&&bs(j,c,t.history.location.pathname).active&&(j=null),j)if(j.some(K=>K.route.lazy))P=!1;else if(!j.some(K=>o2(K.route)))P=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let le=j.findIndex(Ce=>ee[Ce.route.id]!==void 0);P=j.slice(0,le+1).every(Ce=>!yy(Ce.route,K,ee))}else P=j.every(le=>!yy(le.route,K,ee))}else{P=!1,j=[];let K=bs(null,c,t.history.location.pathname);K.active&&K.matches&&(D=!0,j=K.matches)}let H,L={historyAction:t.history.action,location:t.history.location,matches:j,initialized:P,navigation:_1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},Y="POP",ie=!1,ue,me=!1,Te=new Map,ve=null,pe=!1,ye=!1,Se=new Set,G=new Map,F=0,X=-1,W=new Map,B=new Set,ne=new Map,_e=new Map,be=new Set,ze=new Map,it,Ve=null;function st(){if(_=t.history.listen(({action:K,location:ee,delta:le})=>{if(it){it(),it=void 0;return}Jn(ze.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=gl({currentLocation:L.location,nextLocation:ee,historyAction:K});if(Ce&&le!=null){let je=new Promise(Qe=>{it=Qe});t.history.go(le*-1),Lr(Ce,{state:"blocked",location:ee,proceed(){Lr(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),je.then(()=>t.history.go(le))},reset(){let Qe=new Map(L.blockers);Qe.set(Ce,h0),jt({blockers:Qe})}});return}return ba(K,ee)}),n){EE(e,Te);let K=()=>CE(e,Te);e.addEventListener("pagehide",K),ve=()=>e.removeEventListener("pagehide",K)}return L.initialized||ba("POP",L.location,{initialHydration:!0}),H}function wt(){_&&_(),ve&&ve(),S.clear(),ue&&ue.abort(),L.fetchers.forEach((K,ee)=>Bi(ee)),L.blockers.forEach((K,ee)=>Gi(ee))}function Nn(K){return S.add(K),()=>S.delete(K)}function jt(K,ee={}){K.matches&&(K.matches=K.matches.map(je=>{let Qe=l[je.route.id],et=je.route;return et.element!==Qe.element||et.errorElement!==Qe.errorElement||et.hydrateFallbackElement!==Qe.hydrateFallbackElement?{...je,route:Qe}:je})),L={...L,...K};let le=[],Ce=[];L.fetchers.forEach((je,Qe)=>{je.state==="idle"&&(be.has(Qe)?le.push(Qe):Ce.push(Qe))}),be.forEach(je=>{!L.fetchers.has(je)&&!G.has(je)&&le.push(je)}),[...S].forEach(je=>je(L,{deletedFetchers:le,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),le.forEach(je=>Bi(je)),Ce.forEach(je=>L.fetchers.delete(je))}function Yt(K,ee,{flushSync:le}={}){let Ce=L.actionData!=null&&L.navigation.formMethod!=null&&Pi(L.navigation.formMethod)&&L.navigation.state==="loading"&&K.state?._isRedirect!==!0,je;ee.actionData?Object.keys(ee.actionData).length>0?je=ee.actionData:je=null:Ce?je=L.actionData:je=null;let Qe=ee.loaderData?h_(L.loaderData,ee.loaderData,ee.matches||[],ee.errors):L.loaderData,et=L.blockers;et.size>0&&(et=new Map(et),et.forEach((We,Xe)=>et.set(Xe,h0)));let Ze=pe?!1:ys(K,ee.matches||L.matches),Ie=ie===!0||L.navigation.formMethod!=null&&Pi(L.navigation.formMethod)&&K.state?._isRedirect!==!0;d&&(c=d,d=void 0),pe||Y==="POP"||(Y==="PUSH"?t.history.push(K,K.state):Y==="REPLACE"&&t.history.replace(K,K.state));let tt;if(Y==="POP"){let We=Te.get(L.location.pathname);We&&We.has(K.pathname)?tt={currentLocation:L.location,nextLocation:K}:Te.has(K.pathname)&&(tt={currentLocation:K,nextLocation:L.location})}else if(me){let We=Te.get(L.location.pathname);We?We.add(K.pathname):(We=new Set([K.pathname]),Te.set(L.location.pathname,We)),tt={currentLocation:L.location,nextLocation:K}}jt({...ee,actionData:je,loaderData:Qe,historyAction:Y,location:K,initialized:!0,navigation:_1,revalidation:"idle",restoreScrollPosition:Ze,preventScrollReset:Ie,blockers:et},{viewTransitionOpts:tt,flushSync:le===!0}),Y="POP",ie=!1,me=!1,pe=!1,ye=!1,Ve?.resolve(),Ve=null}async function Ya(K,ee){if(typeof K=="number"){t.history.go(K);return}let le=vy(L.location,L.matches,g,K,ee?.fromRouteId,ee?.relative),{path:Ce,submission:je,error:Qe}=i_(!1,le,ee),et=L.location,Ze=P0(L.location,Ce,ee&&ee.state);Ze={...Ze,...t.history.encodeLocation(Ze)};let Ie=ee&&ee.replace!=null?ee.replace:void 0,tt="PUSH";Ie===!0?tt="REPLACE":Ie===!1||je!=null&&Pi(je.formMethod)&&je.formAction===L.location.pathname+L.location.search&&(tt="REPLACE");let We=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,Xe=(ee&&ee.flushSync)===!0,yt=gl({currentLocation:et,nextLocation:Ze,historyAction:tt});if(yt){Lr(yt,{state:"blocked",location:Ze,proceed(){Lr(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),Ya(K,ee)},reset(){let $t=new Map(L.blockers);$t.set(yt,h0),jt({blockers:$t})}});return}await ba(tt,Ze,{submission:je,pendingError:Qe,preventScrollReset:We,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:Xe})}function Wn(){Ve||(Ve=TE()),Me(),jt({revalidation:"loading"});let K=Ve.promise;return L.navigation.state==="submitting"?K:L.navigation.state==="idle"?(ba(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),K):(ba(Y||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:me===!0}),K)}async function ba(K,ee,le){ue&&ue.abort(),ue=null,Y=K,pe=(le&&le.startUninterruptedRevalidation)===!0,Ic(L.location,L.matches),ie=(le&&le.preventScrollReset)===!0,me=(le&&le.enableViewTransition)===!0;let Ce=d||c,je=le&&le.overrideNavigation,Qe=le?.initialHydration&&L.matches&&L.matches.length>0&&!D?L.matches:ou(Ce,ee,g),et=(le&&le.flushSync)===!0;if(Qe&&L.initialized&&!ye&&vE(L.location,ee)&&!(le&&le.submission&&Pi(le.submission.formMethod))){Yt(ee,{matches:Qe},{flushSync:et});return}let Ze=bs(Qe,Ce,ee.pathname);if(Ze.active&&Ze.matches&&(Qe=Ze.matches),!Qe){let{error:Lt,notFoundMatches:ln,route:tn}=Pr(ee.pathname);Yt(ee,{matches:ln,loaderData:{},errors:{[tn.id]:Lt}},{flushSync:et});return}ue=new AbortController;let Ie=Sd(t.history,ee,ue.signal,le&&le.submission),tt=t.getContext?await t.getContext():new n_,We;if(le&&le.pendingError)We=[uu(Qe).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&Pi(le.submission.formMethod)){let Lt=await He(Ie,ee,le.submission,Qe,tt,Ze.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:et});if(Lt.shortCircuited)return;if(Lt.pendingActionResult){let[ln,tn]=Lt.pendingActionResult;if(er(tn)&&H0(tn.error)&&tn.error.status===404){ue=null,Yt(ee,{matches:Lt.matches,loaderData:{},errors:{[ln]:tn.error}});return}}Qe=Lt.matches||Qe,We=Lt.pendingActionResult,je=S1(ee,le.submission),et=!1,Ze.active=!1,Ie=Sd(t.history,Ie.url,Ie.signal)}let{shortCircuited:Xe,matches:yt,loaderData:$t,errors:gn}=await nt(Ie,ee,Qe,tt,Ze.active,je,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,et,We);Xe||(ue=null,Yt(ee,{matches:yt||Qe,...g_(We),loaderData:$t,errors:gn}))}async function He(K,ee,le,Ce,je,Qe,et,Ze={}){Me();let Ie=xE(ee,le);if(jt({navigation:Ie},{flushSync:Ze.flushSync===!0}),Qe){let Xe=await Br(Ce,ee.pathname,K.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){if(Xe.partialMatches.length===0){let{matches:$t,route:gn}=Hp(c);return{matches:$t,pendingActionResult:[gn.id,{type:"error",error:Xe.error}]}}let yt=uu(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,pendingActionResult:[yt,{type:"error",error:Xe.error}]}}else if(Xe.matches)Ce=Xe.matches;else{let{notFoundMatches:yt,error:$t,route:gn}=Pr(ee.pathname);return{matches:yt,pendingActionResult:[gn.id,{type:"error",error:$t}]}}}let tt,We=bm(Ce,ee);if(!We.route.action&&!We.route.lazy)tt={type:"error",error:Rr(405,{method:K.method,pathname:ee.pathname,routeId:We.route.id})};else{let Xe=Rd(r,l,K,Ce,We,et?[]:a,je),yt=await Pe(K,Xe,je,null);if(tt=yt[We.route.id],!tt){for(let $t of Ce)if(yt[$t.route.id]){tt=yt[$t.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(Ac(tt)){let Xe;return Ze&&Ze.replace!=null?Xe=Ze.replace:Xe=c_(tt.response.headers.get("Location"),new URL(K.url),g)===L.location.pathname+L.location.search,await de(K,tt,!0,{submission:le,replace:Xe}),{shortCircuited:!0}}if(er(tt)){let Xe=uu(Ce,We.route.id);return(Ze&&Ze.replace)!==!0&&(Y="PUSH"),{matches:Ce,pendingActionResult:[Xe.route.id,tt,We.route.id]}}return{matches:Ce,pendingActionResult:[We.route.id,tt]}}async function nt(K,ee,le,Ce,je,Qe,et,Ze,Ie,tt,We,Xe){let yt=Qe||S1(ee,et),$t=et||Ze||m_(yt),gn=!pe&&!tt;if(je){if(gn){let Mt=fn(Xe);jt({navigation:yt,...Mt!==void 0?{actionData:Mt}:{}},{flushSync:We})}let ut=await Br(le,ee.pathname,K.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){if(ut.partialMatches.length===0){let{matches:ja,route:za}=Hp(c);return{matches:ja,loaderData:{},errors:{[za.id]:ut.error}}}let Mt=uu(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Mt]:ut.error}}}else if(ut.matches)le=ut.matches;else{let{error:Mt,notFoundMatches:ja,route:za}=Pr(ee.pathname);return{matches:ja,loaderData:{},errors:{[za.id]:Mt}}}}let Lt=d||c,{dsMatches:ln,revalidatingFetchers:tn}=r_(K,Ce,r,l,t.history,L,le,$t,ee,tt?[]:a,tt===!0,ye,Se,be,ne,B,Lt,g,t.patchRoutesOnNavigation!=null,Xe);if(X=++F,!t.dataStrategy&&!ln.some(ut=>ut.shouldLoad)&&!ln.some(ut=>ut.route.middleware&&ut.route.middleware.length>0)&&tn.length===0){let ut=Hi();return Yt(ee,{matches:le,loaderData:{},errors:Xe&&er(Xe[1])?{[Xe[0]]:Xe[1].error}:null,...g_(Xe),...ut?{fetchers:new Map(L.fetchers)}:{}},{flushSync:We}),{shortCircuited:!0}}if(gn){let ut={};if(!je){ut.navigation=yt;let Mt=fn(Xe);Mt!==void 0&&(ut.actionData=Mt)}tn.length>0&&(ut.fetchers=Gn(tn)),jt(ut,{flushSync:We})}tn.forEach(ut=>{Za(ut.key),ut.controller&&G.set(ut.key,ut.controller)});let Pt=()=>tn.forEach(ut=>Za(ut.key));ue&&ue.signal.addEventListener("abort",Pt);let{loaderResults:Ia,fetcherResults:wi}=await ke(ln,tn,K,Ce);if(K.signal.aborted)return{shortCircuited:!0};ue&&ue.signal.removeEventListener("abort",Pt),tn.forEach(ut=>G.delete(ut.key));let Ka=Gp(Ia);if(Ka)return await de(K,Ka.result,!0,{replace:Ie}),{shortCircuited:!0};if(Ka=Gp(wi),Ka)return B.add(Ka.key),await de(K,Ka.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:ml,errors:vl}=d_(L,le,Ia,Xe,tn,wi);tt&&L.errors&&(vl={...L.errors,...vl});let Fa=Hi(),Vi=Xa(X),_a=Fa||Vi||tn.length>0;return{matches:le,loaderData:ml,errors:vl,..._a?{fetchers:new Map(L.fetchers)}:{}}}function fn(K){if(K&&!er(K[1]))return{[K[0]]:K[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Gn(K){return K.forEach(ee=>{let le=L.fetchers.get(ee.key),Ce=g0(void 0,le?le.data:void 0);L.fetchers.set(ee.key,Ce)}),new Map(L.fetchers)}async function li(K,ee,le,Ce){Za(K);let je=(Ce&&Ce.flushSync)===!0,Qe=d||c,et=vy(L.location,L.matches,g,le,ee,Ce?.relative),Ze=ou(Qe,et,g),Ie=bs(Ze,Qe,et);if(Ie.active&&Ie.matches&&(Ze=Ie.matches),!Ze){Fe(K,ee,Rr(404,{pathname:et}),{flushSync:je});return}let{path:tt,submission:We,error:Xe}=i_(!0,et,Ce);if(Xe){Fe(K,ee,Xe,{flushSync:je});return}let yt=t.getContext?await t.getContext():new n_,$t=(Ce&&Ce.preventScrollReset)===!0;if(We&&Pi(We.formMethod)){await Z(K,ee,tt,Ze,yt,Ie.active,je,$t,We);return}ne.set(K,{routeId:ee,path:tt}),await re(K,ee,tt,Ze,yt,Ie.active,je,$t,We)}async function Z(K,ee,le,Ce,je,Qe,et,Ze,Ie){Me(),ne.delete(K);let tt=L.fetchers.get(K);qe(K,wE(Ie,tt),{flushSync:et});let We=new AbortController,Xe=Sd(t.history,le,We.signal,Ie);if(Qe){let pn=await Br(Ce,new URL(Xe.url).pathname,Xe.signal,K);if(pn.type==="aborted")return;if(pn.type==="error"){Fe(K,ee,pn.error,{flushSync:et});return}else if(pn.matches)Ce=pn.matches;else{Fe(K,ee,Rr(404,{pathname:le}),{flushSync:et});return}}let yt=bm(Ce,le);if(!yt.route.action&&!yt.route.lazy){let pn=Rr(405,{method:Ie.formMethod,pathname:le,routeId:ee});Fe(K,ee,pn,{flushSync:et});return}G.set(K,We);let $t=F,gn=Rd(r,l,Xe,Ce,yt,a,je),ln=(await Pe(Xe,gn,je,K))[yt.route.id];if(Xe.signal.aborted){G.get(K)===We&&G.delete(K);return}if(be.has(K)){if(Ac(ln)||er(ln)){qe(K,Ql(void 0));return}}else{if(Ac(ln))if(G.delete(K),X>$t){qe(K,Ql(void 0));return}else return B.add(K),qe(K,g0(Ie)),de(Xe,ln,!1,{fetcherSubmission:Ie,preventScrollReset:Ze});if(er(ln)){Fe(K,ee,ln.error);return}}let tn=L.navigation.location||L.location,Pt=Sd(t.history,tn,We.signal),Ia=d||c,wi=L.navigation.state!=="idle"?ou(Ia,L.navigation.location,g):L.matches;qt(wi,"Didn't find any matches after fetcher action");let Ka=++F;W.set(K,Ka);let ml=g0(Ie,ln.data);L.fetchers.set(K,ml);let{dsMatches:vl,revalidatingFetchers:Fa}=r_(Pt,je,r,l,t.history,L,wi,Ie,tn,a,!1,ye,Se,be,ne,B,Ia,g,t.patchRoutesOnNavigation!=null,[yt.route.id,ln]);Fa.filter(pn=>pn.key!==K).forEach(pn=>{let _s=pn.key,ui=L.fetchers.get(_s),ca=g0(void 0,ui?ui.data:void 0);L.fetchers.set(_s,ca),Za(_s),pn.controller&&G.set(_s,pn.controller)}),jt({fetchers:new Map(L.fetchers)});let Vi=()=>Fa.forEach(pn=>Za(pn.key));We.signal.addEventListener("abort",Vi);let{loaderResults:_a,fetcherResults:ut}=await ke(vl,Fa,Pt,je);if(We.signal.aborted)return;if(We.signal.removeEventListener("abort",Vi),W.delete(K),G.delete(K),Fa.forEach(pn=>G.delete(pn.key)),L.fetchers.has(K)){let pn=Ql(ln.data);L.fetchers.set(K,pn)}let Mt=Gp(_a);if(Mt)return de(Pt,Mt.result,!1,{preventScrollReset:Ze});if(Mt=Gp(ut),Mt)return B.add(Mt.key),de(Pt,Mt.result,!1,{preventScrollReset:Ze});let{loaderData:ja,errors:za}=d_(L,wi,_a,void 0,Fa,ut);Xa(Ka),L.navigation.state==="loading"&&Ka>X?(qt(Y,"Expected pending action"),ue&&ue.abort(),Yt(L.navigation.location,{matches:wi,loaderData:ja,errors:za,fetchers:new Map(L.fetchers)})):(jt({errors:za,loaderData:h_(L.loaderData,ja,wi,za),fetchers:new Map(L.fetchers)}),ye=!1)}async function re(K,ee,le,Ce,je,Qe,et,Ze,Ie){let tt=L.fetchers.get(K);qe(K,g0(Ie,tt?tt.data:void 0),{flushSync:et});let We=new AbortController,Xe=Sd(t.history,le,We.signal);if(Qe){let tn=await Br(Ce,new URL(Xe.url).pathname,Xe.signal,K);if(tn.type==="aborted")return;if(tn.type==="error"){Fe(K,ee,tn.error,{flushSync:et});return}else if(tn.matches)Ce=tn.matches;else{Fe(K,ee,Rr(404,{pathname:le}),{flushSync:et});return}}let yt=bm(Ce,le);G.set(K,We);let $t=F,gn=Rd(r,l,Xe,Ce,yt,a,je),ln=(await Pe(Xe,gn,je,K))[yt.route.id];if(G.get(K)===We&&G.delete(K),!Xe.signal.aborted){if(be.has(K)){qe(K,Ql(void 0));return}if(Ac(ln))if(X>$t){qe(K,Ql(void 0));return}else{B.add(K),await de(Xe,ln,!1,{preventScrollReset:Ze});return}if(er(ln)){Fe(K,ee,ln.error);return}qe(K,Ql(ln.data))}}async function de(K,ee,le,{submission:Ce,fetcherSubmission:je,preventScrollReset:Qe,replace:et}={}){ee.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Ze=ee.response.headers.get("Location");qt(Ze,"Expected a Location header on the redirect Response"),Ze=c_(Ze,new URL(K.url),g);let Ie=P0(L.location,Ze,{_isRedirect:!0});if(n){let gn=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))gn=!0;else if(l2(Ze)){const Lt=F5(Ze,!0);gn=Lt.origin!==e.location.origin||jr(Lt.pathname,g)==null}if(gn){et?e.location.replace(Ze):e.location.assign(Ze);return}}ue=null;let tt=et===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:We,formAction:Xe,formEncType:yt}=L.navigation;!Ce&&!je&&We&&Xe&&yt&&(Ce=m_(L.navigation));let $t=Ce||je;if(eE.has(ee.response.status)&&$t&&Pi($t.formMethod))await ba(tt,Ie,{submission:{...$t,formAction:Ze},preventScrollReset:Qe||ie,enableViewTransition:le?me:void 0});else{let gn=S1(Ie,Ce);await ba(tt,Ie,{overrideNavigation:gn,fetcherSubmission:je,preventScrollReset:Qe||ie,enableViewTransition:le?me:void 0})}}async function Pe(K,ee,le,Ce){let je,Qe={};try{je=await fE(m,K,ee,Ce,le,!1)}catch(et){return ee.filter(Ze=>Ze.shouldLoad).forEach(Ze=>{Qe[Ze.route.id]={type:"error",error:et}}),Qe}if(K.signal.aborted)return Qe;for(let[et,Ze]of Object.entries(je))if(_E(Ze)){let Ie=Ze.result;Qe[et]={type:"redirect",response:pE(Ie,K,et,ee,g)}}else Qe[et]=await gE(Ze);return Qe}async function ke(K,ee,le,Ce){let je=Pe(le,K,Ce,null),Qe=Promise.all(ee.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let We=(await Pe(Ie.request,Ie.matches,Ce,Ie.key))[Ie.match.route.id];return{[Ie.key]:We}}else return Promise.resolve({[Ie.key]:{type:"error",error:Rr(404,{pathname:Ie.path})}})})),et=await je,Ze=(await Qe).reduce((Ie,tt)=>Object.assign(Ie,tt),{});return{loaderResults:et,fetcherResults:Ze}}function Me(){ye=!0,ne.forEach((K,ee)=>{G.has(ee)&&Se.add(ee),Za(ee)})}function qe(K,ee,le={}){L.fetchers.set(K,ee),jt({fetchers:new Map(L.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Fe(K,ee,le,Ce={}){let je=uu(L.matches,ee);Bi(K),jt({errors:{[je.route.id]:le},fetchers:new Map(L.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function bt(K){return _e.set(K,(_e.get(K)||0)+1),be.has(K)&&be.delete(K),L.fetchers.get(K)||tE}function an(K,ee){Za(K,ee?.reason),qe(K,Ql(null))}function Bi(K){let ee=L.fetchers.get(K);G.has(K)&&!(ee&&ee.state==="loading"&&W.has(K))&&Za(K),ne.delete(K),W.delete(K),B.delete(K),be.delete(K),Se.delete(K),L.fetchers.delete(K)}function oi(K){let ee=(_e.get(K)||0)-1;ee<=0?(_e.delete(K),be.add(K)):_e.set(K,ee),jt({fetchers:new Map(L.fetchers)})}function Za(K,ee){let le=G.get(K);le&&(le.abort(ee),G.delete(K))}function xi(K){for(let ee of K){let le=bt(ee),Ce=Ql(le.data);L.fetchers.set(ee,Ce)}}function Hi(){let K=[],ee=!1;for(let le of B){let Ce=L.fetchers.get(le);qt(Ce,`Expected fetcher: ${le}`),Ce.state==="loading"&&(B.delete(le),K.push(le),ee=!0)}return xi(K),ee}function Xa(K){let ee=[];for(let[le,Ce]of W)if(Ce<K){let je=L.fetchers.get(le);qt(je,`Expected fetcher: ${le}`),je.state==="loading"&&(Za(le),W.delete(le),ee.push(le))}return xi(ee),ee.length>0}function kr(K,ee){let le=L.blockers.get(K)||h0;return ze.get(K)!==ee&&ze.set(K,ee),le}function Gi(K){L.blockers.delete(K),ze.delete(K)}function Lr(K,ee){let le=L.blockers.get(K)||h0;qt(le.state==="unblocked"&&ee.state==="blocked"||le.state==="blocked"&&ee.state==="blocked"||le.state==="blocked"&&ee.state==="proceeding"||le.state==="blocked"&&ee.state==="unblocked"||le.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${ee.state}`);let Ce=new Map(L.blockers);Ce.set(K,ee),jt({blockers:Ce})}function gl({currentLocation:K,nextLocation:ee,historyAction:le}){if(ze.size===0)return;ze.size>1&&Jn(!1,"A router only supports one blocker at a time");let Ce=Array.from(ze.entries()),[je,Qe]=Ce[Ce.length-1],et=L.blockers.get(je);if(!(et&&et.state==="proceeding")&&Qe({currentLocation:K,nextLocation:ee,historyAction:le}))return je}function Pr(K){let ee=Rr(404,{pathname:K}),le=d||c,{matches:Ce,route:je}=Hp(le);return{notFoundMatches:Ce,route:je,error:ee}}function fo(K,ee,le){if(E=K,R=ee,A=le||null,!O&&L.navigation===_1){O=!0;let Ce=ys(L.location,L.matches);Ce!=null&&jt({restoreScrollPosition:Ce})}return()=>{E=null,R=null,A=null}}function qi(K,ee){return A&&A(K,ee.map(Ce=>M8(Ce,L.loaderData)))||K.key}function Ic(K,ee){if(E&&R){let le=qi(K,ee);E[le]=R()}}function ys(K,ee){if(E){let le=qi(K,ee),Ce=E[le];if(typeof Ce=="number")return Ce}return null}function bs(K,ee,le){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:ym(ee,le,g,!0)}}else return{active:!0,matches:ym(ee,le,g,!0)||[]};return{active:!1,matches:null}}async function Br(K,ee,le,Ce){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let je=K;for(;;){let Qe=d==null,et=d||c,Ze=l;try{await t.patchRoutesOnNavigation({signal:le,path:ee,matches:je,fetcherKey:Ce,patch:(We,Xe)=>{le.aborted||s_(We,Xe,et,Ze,r,!1)}})}catch(We){return{type:"error",error:We,partialMatches:je}}finally{Qe&&!le.aborted&&(c=[...c])}if(le.aborted)return{type:"aborted"};let Ie=ou(et,ee,g);if(Ie)return{type:"success",matches:Ie};let tt=ym(et,ee,g,!0);if(!tt||je.length===tt.length&&je.every((We,Xe)=>We.route.id===tt[Xe].route.id))return{type:"success",matches:null};je=tt}}function ho(K){l={},d=B0(K,r,void 0,l)}function pl(K,ee,le=!1){let Ce=d==null;s_(K,ee,d||c,l,r,le),Ce&&(c=[...c],jt({}))}return H={get basename(){return g},get future(){return v},get state(){return L},get routes(){return c},get window(){return e},initialize:st,subscribe:Nn,enableScrollRestoration:fo,navigate:Ya,fetch:li,revalidate:Wn,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:bt,resetFetcher:an,deleteFetcher:oi,dispose:wt,getBlocker:kr,deleteBlocker:Gi,patchRoutes:pl,_internalFetchControllers:G,_internalSetRoutes:ho,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){jt(K)}},H}function rE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function vy(t,e,n,a,r,l){let c,d;if(r){c=[];for(let m of e)if(c.push(m),m.route.id===r){d=m;break}}else c=e,d=e[e.length-1];let g=s2(a||".",r2(c),jr(t.pathname,n)||t.pathname,l==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&d){let m=u2(g.search);if(d.route.index&&!m)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(g.search),_=v.getAll("index");v.delete("index"),_.filter(E=>E).forEach(E=>v.append("index",E));let S=v.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=Y8({basename:n,pathname:g.pathname})),hu(g)}function i_(t,e,n){if(!n||!rE(n))return{path:e};if(n.formMethod&&!SE(n.formMethod))return{path:e,error:Rr(405,{method:n.formMethod})};let a=()=>({path:e,error:Rr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=l3(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Pi(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[E,A])=>`${S}${E}=${A}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Pi(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}qt(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=_y(n.formData),g=n.formData;else if(n.body instanceof FormData)d=_y(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=f_(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=f_(d)}catch{return a()}let m={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Pi(m.formMethod))return{path:e,submission:m};let v=io(e);return t&&v.search&&u2(v.search)&&d.append("index",""),v.search=`?${d}`,{path:hu(v),submission:m}}function r_(t,e,n,a,r,l,c,d,g,m,v,_,S,E,A,R,O,j,D,z){let P=z?er(z[1])?z[1].error:z[1].data:void 0,H=r.createURL(l.location),L=r.createURL(g),Y;if(v&&l.errors){let pe=Object.keys(l.errors)[0];Y=c.findIndex(ye=>ye.route.id===pe)}else if(z&&er(z[1])){let pe=z[0];Y=c.findIndex(ye=>ye.route.id===pe)-1}let ie=z?z[1].statusCode:void 0,ue=ie&&ie>=400,me={currentUrl:H,currentParams:l.matches[0]?.params||{},nextUrl:L,nextParams:c[0].params,...d,actionResult:P,actionStatus:ie},Te=c.map((pe,ye)=>{let{route:Se}=pe,G=null;if(Y!=null&&ye>Y?G=!1:Se.lazy?G=!0:o2(Se)?v?G=yy(Se,l.loaderData,l.errors):sE(l.loaderData,l.matches[ye],pe)&&(G=!0):G=!1,G!==null)return by(n,a,t,pe,m,e,G);let F=ue?!1:_||H.pathname+H.search===L.pathname+L.search||H.search!==L.search||lE(l.matches[ye],pe),X={...me,defaultShouldRevalidate:F},W=Om(pe,X);return by(n,a,t,pe,m,e,W,X)}),ve=[];return A.forEach((pe,ye)=>{if(v||!c.some(_e=>_e.route.id===pe.routeId)||E.has(ye))return;let Se=l.fetchers.get(ye),G=Se&&Se.state!=="idle"&&Se.data===void 0,F=ou(O,pe.path,j);if(!F){if(D&&G)return;ve.push({key:ye,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(R.has(ye))return;let X=bm(F,pe.path),W=new AbortController,B=Sd(r,pe.path,W.signal),ne=null;if(S.has(ye))S.delete(ye),ne=Rd(n,a,B,F,X,m,e);else if(G)_&&(ne=Rd(n,a,B,F,X,m,e));else{let _e={...me,defaultShouldRevalidate:ue?!1:_};Om(X,_e)&&(ne=Rd(n,a,B,F,X,m,e,_e))}ne&&ve.push({key:ye,routeId:pe.routeId,path:pe.path,matches:ne,match:X,request:B,controller:W})}),{dsMatches:Te,revalidatingFetchers:ve}}function o2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function yy(t,e,n){if(t.lazy)return!0;if(!o2(t))return!1;let a=e!=null&&t.id in e,r=n!=null&&n[t.id]!==void 0;return!a&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!r}function sE(t,e,n){let a=!e||n.route.id!==e.route.id,r=!t.hasOwnProperty(n.route.id);return a||r}function lE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Om(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function s_(t,e,n,a,r,l){let c;if(t){let m=a[t];qt(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),c=m.children}else c=n;let d=[],g=[];if(e.forEach(m=>{let v=c.find(_=>n3(m,_));v?g.push({existingRoute:v,newRoute:m}):d.push(m)}),d.length>0){let m=B0(d,r,[t||"_","patch",String(c?.length||"0")],a);c.push(...m)}if(l&&g.length>0)for(let m=0;m<g.length;m++){let{existingRoute:v,newRoute:_}=g[m],S=v,[E]=B0([_],r,[],{},!0);Object.assign(S,{element:E.element?E.element:S.element,errorElement:E.errorElement?E.errorElement:S.errorElement,hydrateFallbackElement:E.hydrateFallbackElement?E.hydrateFallbackElement:S.hydrateFallbackElement})}}function n3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(r=>n3(n,r))):!1}var l_=new WeakMap,a3=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let r=n[e.id];if(qt(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let l=r.lazy[t];if(!l)return;let c=l_.get(r);c||(c={},l_.set(r,c));let d=c[t];if(d)return d;let g=(async()=>{let m=A8(t),_=r[t]!==void 0&&t!=="hasErrorBoundary";if(m)Jn(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(_)Jn(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(r,{[t]:S}),Object.assign(r,a(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(S=>S===void 0)&&(r.lazy=void 0))})();return c[t]=g,g},o_=new WeakMap;function oE(t,e,n,a,r){let l=n[t.id];if(qt(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=o_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{qt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),E={};for(let A in S){let R=S[A];if(R===void 0)continue;let O=O8(A),D=l[A]!==void 0&&A!=="hasErrorBoundary";O?Jn(!O,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Jn(!D,`Route "${l.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):E[A]=R}Object.assign(l,E),Object.assign(l,{...a(l),lazy:void 0})})();return o_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(t.lazy),d=[],g;for(let v of c){if(r&&r.includes(v))continue;let _=a3({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(d.push(_),v===e&&(g=_))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:g}}async function u_(t){let e=t.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,l)=>{n[e[l].route.id]=r}),n}async function uE(t){return t.matches.some(e=>e.route.middleware)?i3(t,()=>u_(t)):u_(t)}function i3(t,e){return cE(t,e,a=>a,yE,n);function n(a,r,l){if(l)return Promise.resolve(Object.assign(l.value,{[r]:{type:"error",result:a}}));{let{matches:c}=t,d=Math.min(Math.max(c.findIndex(m=>m.route.id===r),0),Math.max(c.findIndex(m=>m.unstable_shouldCallHandler()),0)),g=uu(c,c[d].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:a}})}}}async function cE(t,e,n,a,r){let{matches:l,request:c,params:d,context:g}=t,m=l.flatMap(_=>_.route.middleware?_.route.middleware.map(S=>[_.route.id,S]):[]);return await r3({request:c,params:d,context:g},m,e,n,a,r)}async function r3(t,e,n,a,r,l,c=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let g=e[c];if(!g)return await n();let[m,v]=g,_,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await r3(t,e,n,a,r,l,c+1)},_.value}catch(E){return _={value:await l(E,m,_)},_.value}};try{let E=await v(t,S),A=E!=null?a(E):void 0;return r(A)?A:_?A??_.value:(_={value:await S()},_.value)}catch(E){return await l(E,m,_)}}function s3(t,e,n,a,r){let l=a3({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),c=oE(a.route,Pi(n.method)?"action":"loader",e,t,r);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function by(t,e,n,a,r,l,c,d=null){let g=!1,m=s3(t,e,n,a,r);return{...a,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return g=!0,d?typeof v=="boolean"?Om(a,{...d,defaultShouldRevalidate:v}):Om(a,d):c},resolve(v){let{lazy:_,loader:S,middleware:E}=a.route,A=g||c||v&&!Pi(n.method)&&(_||S),R=E&&E.length>0&&!S&&!_;return A&&!R?dE({request:n,match:a,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Rd(t,e,n,a,r,l,c,d=null){return a.map(g=>g.route.id!==r.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:s3(t,e,n,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:by(t,e,n,g,l,c,!0,d))}async function fE(t,e,n,a,r,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let c={request:e,params:n[0].params,context:r,matches:n},g=await t({...c,fetcherKey:a,runClientMiddleware:m=>{let v=c;return i3(v,()=>m({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return g}async function dE({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:r,scopedContext:l}){let c,d,g=Pi(t.method),m=g?"action":"loader",v=_=>{let S,E=new Promise((O,j)=>S=j);d=()=>S(),t.signal.addEventListener("abort",d);let A=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(r?r(j=>A(j)):A())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,E])};try{let _=g?e.route.action:e.route.loader;if(n||a)if(_){let S,[E]=await Promise.all([v(_).catch(A=>{S=A}),n,a]);if(S!==void 0)throw S;c=E}else{await n;let S=g?e.route.action:e.route.loader;if(S)[c]=await Promise.all([v(S),a]);else if(m==="action"){let E=new URL(t.url),A=E.pathname+E.search;throw Rr(405,{method:t.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)c=await v(_);else{let S=new URL(t.url),E=S.pathname+S.search;throw Rr(404,{pathname:E})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function hE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function gE(t){let{result:e,type:n}=t;if(o3(e)){let a;try{a=await hE(e)}catch(r){return{type:"error",error:r}}return n==="error"?{type:"error",error:new Rm(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?p_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Rm(e.init?.status||500,void 0,e.data),statusCode:H0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:H0(e)?e.status:void 0}:p_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function pE(t,e,n,a,r){let l=t.headers.get("Location");if(qt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!l2(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===n)+1);l=vy(new URL(e.url),c,r,l),t.headers.set("Location",l)}return t}function c_(t,e,n){if(l2(t)){let a=t,r=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=jr(r.pathname,n)!=null;if(r.origin===e.origin&&l)return r.pathname+r.search+r.hash}return t}function Sd(t,e,n,a){let r=t.createURL(l3(e)).toString(),l={signal:n};if(a&&Pi(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=_y(a.formData):l.body=a.formData}return new Request(r,l)}function _y(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function f_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function mE(t,e,n,a=!1,r=!1){let l={},c=null,d,g=!1,m={},v=n&&er(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,E=e[S];if(qt(!Ac(E),"Cannot handle redirect results in processLoaderData"),er(E)){let A=E.error;if(v!==void 0&&(A=v,v=void 0),c=c||{},r)c[S]=A;else{let R=uu(t,S);c[R.route.id]==null&&(c[R.route.id]=A)}a||(l[S]=t3),g||(g=!0,d=H0(E.error)?E.error.status:500),E.headers&&(m[S]=E.headers)}else l[S]=E.data,E.statusCode&&E.statusCode!==200&&!g&&(d=E.statusCode),E.headers&&(m[S]=E.headers)}),v!==void 0&&n&&(c={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function d_(t,e,n,a,r,l){let{loaderData:c,errors:d}=mE(e,n,a);return r.filter(g=>!g.matches||g.matches.some(m=>m.shouldLoad)).forEach(g=>{let{key:m,match:v,controller:_}=g;if(_&&_.signal.aborted)return;let S=l[m];if(qt(S,"Did not find corresponding fetcher result"),er(S)){let E=uu(t.matches,v?.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:S.error}),t.fetchers.delete(m)}else if(Ac(S))qt(!1,"Unhandled fetcher revalidation redirect");else{let E=Ql(S.data);t.fetchers.set(m,E)}}),{loaderData:c,errors:d}}function h_(t,e,n,a){let r=Object.entries(e).filter(([,l])=>l!==t3).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(r[c]=t[c]),a&&a.hasOwnProperty(c))break}return r}function g_(t){return t?er(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function uu(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function Hp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rr(t,{pathname:e,routeId:n,method:a,type:r,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",a&&e&&n?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",a&&e&&n?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Rm(t||500,c,new Error(d),!0)}function Gp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,r]=e[n];if(Ac(r))return{key:a,result:r}}}function l3(t){let e=typeof t=="string"?io(t):t;return hu({...e,hash:""})}function vE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function yE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&bE(n))}function bE(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function _E(t){return o3(t.result)&&W8.has(t.result.status)}function er(t){return t.type==="error"}function Ac(t){return(t&&t.type)==="redirect"}function p_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function o3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function SE(t){return J8.has(t.toUpperCase())}function Pi(t){return Q8.has(t.toUpperCase())}function u2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function bm(t,e){let n=typeof e=="string"?io(e).search:e.search;if(t[t.length-1].route.index&&u2(n||""))return t[t.length-1];let a=J5(t);return a[a.length-1]}function m_(t){let{formMethod:e,formAction:n,formEncType:a,text:r,formData:l,json:c}=t;if(!(!e||!n||!a)){if(r!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:r};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:c,text:void 0}}}function S1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function g0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function wE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ql(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function EE(t,e){try{let n=t.sessionStorage.getItem(e3);if(n){let a=JSON.parse(n);for(let[r,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(r,new Set(l||[]))}}catch{}}function CE(t,e){if(e.size>0){let n={};for(let[a,r]of e)n[a]=[...r];try{t.sessionStorage.setItem(e3,JSON.stringify(n))}catch(a){Jn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function TE(){let t,e,n=new Promise((a,r)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{r(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Uc=N.createContext(null);Uc.displayName="DataRouter";var $0=N.createContext(null);$0.displayName="DataRouterState";N.createContext(!1);var c2=N.createContext({isTransitioning:!1});c2.displayName="ViewTransition";var u3=N.createContext(new Map);u3.displayName="Fetchers";var AE=N.createContext(null);AE.displayName="Await";var cl=N.createContext(null);cl.displayName="Navigation";var ev=N.createContext(null);ev.displayName="Location";var ro=N.createContext({outlet:null,matches:[],isDataRoute:!1});ro.displayName="Route";var f2=N.createContext(null);f2.displayName="RouteError";function RE(t,{relative:e}={}){qt(J0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(cl),{hash:r,pathname:l,search:c}=W0(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ll([n,l])),a.createHref({pathname:d,search:c,hash:r})}function J0(){return N.useContext(ev)!=null}function kc(){return qt(J0(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ev).location}var c3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f3(t){N.useContext(cl).static||N.useLayoutEffect(t)}function tv(){let{isDataRoute:t}=N.useContext(ro);return t?GE():OE()}function OE(){qt(J0(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Uc),{basename:e,navigator:n}=N.useContext(cl),{matches:a}=N.useContext(ro),{pathname:r}=kc(),l=JSON.stringify(r2(a)),c=N.useRef(!1);return f3(()=>{c.current=!0}),N.useCallback((g,m={})=>{if(Jn(c.current,c3),!c.current)return;if(typeof g=="number"){n.go(g);return}let v=s2(g,JSON.parse(l),r,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ll([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,r,t])}N.createContext(null);function W0(t,{relative:e}={}){let{matches:n}=N.useContext(ro),{pathname:a}=kc(),r=JSON.stringify(r2(n));return N.useMemo(()=>s2(t,JSON.parse(r),a,e==="path"),[t,r,a,e])}function NE(t,e,n,a,r){qt(J0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(cl),{matches:c}=N.useContext(ro),d=c[c.length-1],g=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let D=_&&_.path||"";d3(m,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=kc(),E;E=S;let A=E.pathname||"/",R=A;if(v!=="/"){let D=v.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=ou(t,{pathname:R});return Jn(_||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Jn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),UE(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:ll([v,l.encodeLocation?l.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ll([v,l.encodeLocation?l.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,n,a,r)}function ME(){let t=HE(),e=H0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,c)}var DE=N.createElement(ME,null),jE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(ro.Provider,{value:this.props.routeContext},N.createElement(f2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zE({routeContext:t,match:e,children:n}){let a=N.useContext(Uc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ro.Provider,{value:t},n)}function UE(t,e=[],n=null,a=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let m=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);qt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,g=-1;if(n)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=m),v.route.id){let{loaderData:_,errors:S}=n,E=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||E){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let S,E=!1,A=null,R=null;n&&(S=c&&v.route.id?c[v.route.id]:void 0,A=v.route.errorElement||DE,d&&(g<0&&_===0?(d3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):g===_&&(E=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),j=()=>{let D;return S?D=A:E?D=R:v.route.Component?D=N.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=m,N.createElement(zE,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:D})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(jE,{location:n.location,revalidation:n.revalidation,component:A,error:S,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):j()},null)}function d2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(t){let e=N.useContext(Uc);return qt(e,d2(t)),e}function LE(t){let e=N.useContext($0);return qt(e,d2(t)),e}function PE(t){let e=N.useContext(ro);return qt(e,d2(t)),e}function h2(t){let e=PE(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BE(){return h2("useRouteId")}function HE(){let t=N.useContext(f2),e=LE("useRouteError"),n=h2("useRouteError");return t!==void 0?t:e.errors?.[n]}function GE(){let{router:t}=kE("useNavigate"),e=h2("useNavigate"),n=N.useRef(!1);return f3(()=>{n.current=!0}),N.useCallback(async(r,l={})=>{Jn(n.current,c3),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...l}))},[t,e])}var v_={};function d3(t,e,n){!e&&!v_[t]&&(v_[t]=!0,Jn(!1,n))}var y_={};function b_(t,e){!t&&!y_[e]&&(y_[e]=!0,console.warn(e))}function qE(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Jn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Jn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Jn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var VE=["HydrateFallback","hydrateFallbackElement"],YE=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function ZE({router:t,flushSync:e,unstable_onError:n}){let[a,r]=N.useState(t.state),[l,c]=N.useState(),[d,g]=N.useState({isTransitioning:!1}),[m,v]=N.useState(),[_,S]=N.useState(),[E,A]=N.useState(),R=N.useRef(new Map),O=N.useCallback(H=>{r(L=>(H.errors&&n&&Object.entries(H.errors).forEach(([Y,ie])=>{L.errors?.[Y]!==ie&&n(ie)}),H))},[n]),j=N.useCallback((H,{deletedFetchers:L,flushSync:Y,viewTransitionOpts:ie})=>{H.fetchers.forEach((me,Te)=>{me.data!==void 0&&R.current.set(Te,me.data)}),L.forEach(me=>R.current.delete(me)),b_(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ue=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(b_(ie==null||ue,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!ue){e&&Y?e(()=>O(H)):N.startTransition(()=>O(H));return}if(e&&Y){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let me=t.window.document.startViewTransition(()=>{e(()=>O(H))});me.finished.finally(()=>{e(()=>{v(void 0),S(void 0),c(void 0),g({isTransitioning:!1})})}),e(()=>S(me));return}_?(m&&m.resolve(),_.skipTransition(),A({state:H,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(c(H),g({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[t.window,e,_,m,O]);N.useLayoutEffect(()=>t.subscribe(j),[t,j]),N.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new YE)},[d]),N.useEffect(()=>{if(m&&l&&t.window){let H=l,L=m.promise,Y=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(H)),await L});Y.finished.finally(()=>{v(void 0),S(void 0),c(void 0),g({isTransitioning:!1})}),S(Y)}},[l,m,t.window,O]),N.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,_,a.location,l]),N.useEffect(()=>{!d.isTransitioning&&E&&(c(E.state),g({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),A(void 0))},[d.isTransitioning,E]);let D=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,L,Y)=>t.navigate(H,{state:L,preventScrollReset:Y?.preventScrollReset}),replace:(H,L,Y)=>t.navigate(H,{replace:!0,state:L,preventScrollReset:Y?.preventScrollReset})}),[t]),z=t.basename||"/",P=N.useMemo(()=>({router:t,navigator:D,static:!1,basename:z,unstable_onError:n}),[t,D,z,n]);return N.createElement(N.Fragment,null,N.createElement(Uc.Provider,{value:P},N.createElement($0.Provider,{value:a},N.createElement(u3.Provider,{value:R.current},N.createElement(c2.Provider,{value:d},N.createElement(KE,{basename:z,location:a.location,navigationType:a.historyAction,navigator:D},N.createElement(XE,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var XE=N.memo(IE);function IE({routes:t,future:e,state:n,unstable_onError:a}){return NE(t,void 0,n,a,e)}function KE({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:r,static:l=!1}){qt(!J0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof n=="string"&&(n=io(n));let{pathname:g="/",search:m="",hash:v="",state:_=null,key:S="default"}=n,E=N.useMemo(()=>{let A=jr(g,c);return A==null?null:{location:{pathname:A,search:m,hash:v,state:_,key:S},navigationType:a}},[c,g,m,v,_,S,a]);return Jn(E!=null,`<Router basename="${c}"> is not able to match the URL "${g}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:N.createElement(cl.Provider,{value:d},N.createElement(ev.Provider,{children:e,value:E}))}var _m="get",Sm="application/x-www-form-urlencoded";function nv(t){return t!=null&&typeof t.tagName=="string"}function FE(t){return nv(t)&&t.tagName.toLowerCase()==="button"}function QE(t){return nv(t)&&t.tagName.toLowerCase()==="form"}function $E(t){return nv(t)&&t.tagName.toLowerCase()==="input"}function JE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WE(t,e){return t.button===0&&(!e||e==="_self")&&!JE(t)}var qp=null;function e9(){if(qp===null)try{new FormData(document.createElement("form"),0),qp=!1}catch{qp=!0}return qp}var t9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x1(t){return t!=null&&!t9.has(t)?(Jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sm}"`),null):t}function n9(t,e){let n,a,r,l,c;if(QE(t)){let d=t.getAttribute("action");a=d?jr(d,e):null,n=t.getAttribute("method")||_m,r=x1(t.getAttribute("enctype"))||Sm,l=new FormData(t)}else if(FE(t)||$E(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||d.getAttribute("action");if(a=g?jr(g,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||_m,r=x1(t.getAttribute("formenctype"))||x1(d.getAttribute("enctype"))||Sm,l=new FormData(d,t),!e9()){let{name:m,type:v,value:_}=t;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,_)}}else{if(nv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_m,a=null,r=Sm,c=t}return l&&r==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function a9(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&jr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function i9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function s9(t,e,n){let a=await Promise.all(t.map(async r=>{let l=e.routes[r.route.id];if(l){let c=await i9(l,n);return c.links?c.links():[]}return[]}));return c9(a.flat(1).filter(r9).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function __(t,e,n,a,r,l){let c=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,d=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,m)=>c(g,m)||d(g,m)):l==="data"?e.filter((g,m)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,m)||d(g,m))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function l9(t,e,{includeHydrateFallback:n}={}){return o9(t.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function o9(t){return[...new Set(t)]}function u9(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function c9(t,e){let n=new Set;return new Set(e),t.reduce((a,r)=>{let l=JSON.stringify(u9(r));return n.has(l)||(n.add(l),a.push({key:l,link:r})),a},[])}function h3(){let t=N.useContext(Uc);return g2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function f9(){let t=N.useContext($0);return g2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var p2=N.createContext(void 0);p2.displayName="FrameworkContext";function g3(){let t=N.useContext(p2);return g2(t,"You must render this element inside a <HydratedRouter> element"),t}function d9(t,e){let n=N.useContext(p2),[a,r]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=j=>{j.forEach(D=>{c(D.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[a]);let E=()=>{r(!0)},A=()=>{r(!1),c(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:p0(d,E),onBlur:p0(g,A),onMouseEnter:p0(m,E),onMouseLeave:p0(v,A),onTouchStart:p0(_,E)}]:[!1,S,{}]}function p0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function h9({page:t,...e}){let{router:n}=h3(),a=N.useMemo(()=>ou(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(p9,{page:t,matches:a,...e}):null}function g9(t){let{manifest:e,routeModules:n}=g3(),[a,r]=N.useState([]);return N.useEffect(()=>{let l=!1;return s9(t,e,n).then(c=>{l||r(c)}),()=>{l=!0}},[t,e,n]),a}function p9({page:t,matches:e,...n}){let a=kc(),{manifest:r,routeModules:l}=g3(),{basename:c}=h3(),{loaderData:d,matches:g}=f9(),m=N.useMemo(()=>__(t,e,g,r,a,"data"),[t,e,g,r,a]),v=N.useMemo(()=>__(t,e,g,r,a,"assets"),[t,e,g,r,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let A=new Set,R=!1;if(e.forEach(j=>{let D=r.routes[j.route.id];!D||!D.hasLoader||(!m.some(z=>z.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||D.hasClientLoader?R=!0:A.add(j.route.id))}),A.size===0)return[];let O=a9(t,c,"data");return R&&A.size>0&&O.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[c,d,a,r,m,e,t,l]),S=N.useMemo(()=>l9(v,r),[v,r]),E=g9(v);return N.createElement(N.Fragment,null,_.map(A=>N.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),S.map(A=>N.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),E.map(({key:A,link:R})=>N.createElement("link",{key:A,nonce:n.nonce,...R})))}function m9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var p3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p3&&(window.__reactRouterVersion="7.9.4")}catch{}function v9(t,e){return iE({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:w8({window:e?.window}),hydrationData:y9(),routes:t,mapRouteProperties:qE,hydrationRouteProperties:VE,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function y9(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:b9(t.errors)}),t}function b9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,r]of e)if(r&&r.__type==="RouteErrorResponse")n[a]=new Rm(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let l=window[r.__subType];if(typeof l=="function")try{let c=new l(r.message);c.stack="",n[a]=c}catch{}}if(n[a]==null){let l=new Error(r.message);l.stack="",n[a]=l}}else n[a]=r;return n}var m3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v3=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:r,reloadDocument:l,replace:c,state:d,target:g,to:m,preventScrollReset:v,viewTransition:_,...S},E){let{basename:A}=N.useContext(cl),R=typeof m=="string"&&m3.test(m),O,j=!1;if(typeof m=="string"&&R&&(O=m,p3))try{let ue=new URL(window.location.href),me=m.startsWith("//")?new URL(ue.protocol+m):new URL(m),Te=jr(me.pathname,A);me.origin===ue.origin&&Te!=null?m=Te+me.search+me.hash:j=!0}catch{Jn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=RE(m,{relative:r}),[z,P,H]=d9(a,S),L=w9(m,{replace:c,state:d,target:g,preventScrollReset:v,relative:r,viewTransition:_});function Y(ue){e&&e(ue),ue.defaultPrevented||L(ue)}let ie=N.createElement("a",{...S,...H,href:O||D,onClick:j||l?e:Y,ref:m9(E,P),target:g,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,ie,N.createElement(h9,{page:D})):ie});v3.displayName="Link";var _9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:r=!1,style:l,to:c,viewTransition:d,children:g,...m},v){let _=W0(c,{relative:m.relative}),S=kc(),E=N.useContext($0),{navigator:A,basename:R}=N.useContext(cl),O=E!=null&&R9(_)&&d===!0,j=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,D=S.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(D=D.toLowerCase(),z=z?z.toLowerCase():null,j=j.toLowerCase()),z&&R&&(z=jr(z,R)||z);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let H=D===j||!r&&D.startsWith(j)&&D.charAt(P)==="/",L=z!=null&&(z===j||!r&&z.startsWith(j)&&z.charAt(j.length)==="/"),Y={isActive:H,isPending:L,isTransitioning:O},ie=H?e:void 0,ue;typeof a=="function"?ue=a(Y):ue=[a,H?"active":null,L?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let me=typeof l=="function"?l(Y):l;return N.createElement(v3,{...m,"aria-current":ie,className:ue,ref:v,style:me,to:c,viewTransition:d},typeof g=="function"?g(Y):g)});_9.displayName="NavLink";var S9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:r,state:l,method:c=_m,action:d,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:_,...S},E)=>{let A=T9(),R=A9(d,{relative:m}),O=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&m3.test(d),D=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let P=z.nativeEvent.submitter,H=P?.getAttribute("formmethod")||c;A(P||z.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:r,state:l,relative:m,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:E,method:O,action:R,onSubmit:a?g:D,...S,"data-discover":!j&&t==="render"?"true":void 0})});S9.displayName="Form";function x9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y3(t){let e=N.useContext(Uc);return qt(e,x9(t)),e}function w9(t,{target:e,replace:n,state:a,preventScrollReset:r,relative:l,viewTransition:c}={}){let d=tv(),g=kc(),m=W0(t,{relative:l});return N.useCallback(v=>{if(WE(v,e)){v.preventDefault();let _=n!==void 0?n:hu(g)===hu(m);d(t,{replace:_,state:a,preventScrollReset:r,relative:l,viewTransition:c})}},[g,d,m,n,a,e,t,r,l,c])}var E9=0,C9=()=>`__${String(++E9)}__`;function T9(){let{router:t}=y3("useSubmit"),{basename:e}=N.useContext(cl),n=BE();return N.useCallback(async(a,r={})=>{let{action:l,method:c,encType:d,formData:g,body:m}=n9(a,e);if(r.navigate===!1){let v=r.fetcherKey||C9();await t.fetch(v,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:g,body:m,formMethod:r.method||c,formEncType:r.encType||d,flushSync:r.flushSync})}else await t.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:g,body:m,formMethod:r.method||c,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function A9(t,{relative:e}={}){let{basename:n}=N.useContext(cl),a=N.useContext(ro);qt(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),l={...W0(t||".",{relative:e})},c=kc();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ll([n,l.pathname])),hu(l)}function R9(t,{relative:e}={}){let n=N.useContext(c2);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=y3("useViewTransitionState"),r=W0(t,{relative:e});if(!n.isTransitioning)return!1;let l=jr(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=jr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Am(r.pathname,c)!=null||Am(r.pathname,l)!=null}var av=X5();const O9=Jm(av);function N9(t){return N.createElement(ZE,{flushSync:av.flushSync,...t})}const M9="modulepreload",D9=function(t){return"/rect-up/"+t},S_={},eg=function(e,n,a){let r=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");r=m(n.map(v=>{if(v=D9(v),v in S_)return;S_[v]=!0;const _=v.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":M9,_||(E.as="script"),E.crossOrigin="",E.href=v,g&&E.setAttribute("nonce",g),document.head.appendChild(E),_)return new Promise((A,R)=>{E.addEventListener("load",A),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return r.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},j9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>eg(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class m2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class x_ extends m2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class w_ extends m2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class E_ extends m2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sy||(Sy={}));var z9=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class U9{constructor(e,{headers:n={},customFetch:a,region:r=Sy.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=j9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return z9(this,arguments,void 0,function*(n,a={}){var r;try{const{headers:l,method:c,body:d,signal:g}=a;let m={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let S;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(m["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(m["Content-Type"]="application/json",S=JSON.stringify(d)));const E=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:g}).catch(j=>{throw j.name==="AbortError"?j:new x_(j)}),A=E.headers.get("x-relay-error");if(A&&A==="true")throw new w_(E);if(!E.ok)throw new E_(E);let R=((r=E.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield E.json():R==="application/octet-stream"?O=yield E.blob():R==="text/event-stream"?O=E:R==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new x_(l)}:{data:null,error:l,response:l instanceof E_||l instanceof w_?l.context:void 0}}})}}var Ma={},ad={},id={},rd={},sd={},ld={},k9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ud=k9();const L9=Ud.fetch,b3=Ud.fetch.bind(Ud),_3=Ud.Headers,P9=Ud.Request,B9=Ud.Response,Bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:_3,Request:P9,Response:B9,default:b3,fetch:L9},Symbol.toStringTag,{value:"Module"})),H9=d8(Bd);var Vp={},C_;function S3(){if(C_)return Vp;C_=1,Object.defineProperty(Vp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Vp.default=t,Vp}var T_;function x3(){if(T_)return ld;T_=1;var t=ld&&ld.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ld,"__esModule",{value:!0});const e=t(H9),n=t(S3());class a{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let g=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,_,S,E;let A=null,R=null,O=null,j=m.status,D=m.statusText;if(m.ok){if(this.method!=="HEAD"){const L=await m.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=L:R=JSON.parse(L))}const P=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),H=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");P&&H&&H.length>1&&(O=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(A={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,j=406,D="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const P=await m.text();try{A=JSON.parse(P),Array.isArray(A)&&m.status===404&&(R=[],A=null,j=200,D="OK")}catch{m.status===404&&P===""?(j=204,D="No Content"):A={message:P}}if(A&&this.isMaybeSingle&&(!((E=A?.details)===null||E===void 0)&&E.includes("0 rows"))&&(A=null,j=200,D="OK"),A&&this.shouldThrowOnError)throw new n.default(A)}return{error:A,data:R,count:O,status:j,statusText:D}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,_,S;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,c)}returns(){return this}overrideTypes(){return this}}return ld.default=a,ld}var A_;function w3(){if(A_)return sd;A_=1;var t=sd&&sd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sd,"__esModule",{value:!0});const e=t(x3());class n extends e.default{select(r){let l=!1;const c=(r??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:g=d}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${r}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${r}`),this}range(r,l,{foreignTable:c,referencedTable:d=c}={}){const g=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${r}`),this.url.searchParams.set(m,`${l-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:g=!1,format:m="text"}={}){var v;const _=[r?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return sd.default=n,sd}var R_;function v2(){if(R_)return rd;R_=1;var t=rd&&rd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rd,"__esModule",{value:!0});const e=t(w3());class n extends e.default{eq(r,l){return this.url.searchParams.append(r,`eq.${l}`),this}neq(r,l){return this.url.searchParams.append(r,`neq.${l}`),this}gt(r,l){return this.url.searchParams.append(r,`gt.${l}`),this}gte(r,l){return this.url.searchParams.append(r,`gte.${l}`),this}lt(r,l){return this.url.searchParams.append(r,`lt.${l}`),this}lte(r,l){return this.url.searchParams.append(r,`lte.${l}`),this}like(r,l){return this.url.searchParams.append(r,`like.${l}`),this}likeAllOf(r,l){return this.url.searchParams.append(r,`like(all).{${l.join(",")}}`),this}likeAnyOf(r,l){return this.url.searchParams.append(r,`like(any).{${l.join(",")}}`),this}ilike(r,l){return this.url.searchParams.append(r,`ilike.${l}`),this}ilikeAllOf(r,l){return this.url.searchParams.append(r,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(r,l){return this.url.searchParams.append(r,`ilike(any).{${l.join(",")}}`),this}is(r,l){return this.url.searchParams.append(r,`is.${l}`),this}in(r,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(r,`in.(${c})`),this}contains(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cs.{${l.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(l)}`),this}containedBy(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cd.{${l.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(l)}`),this}rangeGt(r,l){return this.url.searchParams.append(r,`sr.${l}`),this}rangeGte(r,l){return this.url.searchParams.append(r,`nxl.${l}`),this}rangeLt(r,l){return this.url.searchParams.append(r,`sl.${l}`),this}rangeLte(r,l){return this.url.searchParams.append(r,`nxr.${l}`),this}rangeAdjacent(r,l){return this.url.searchParams.append(r,`adj.${l}`),this}overlaps(r,l){return typeof l=="string"?this.url.searchParams.append(r,`ov.${l}`):this.url.searchParams.append(r,`ov.{${l.join(",")}}`),this}textSearch(r,l,{config:c,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(r,`${g}fts${m}.${l}`),this}match(r){return Object.entries(r).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(r,l,c){return this.url.searchParams.append(r,`not.${l}.${c}`),this}or(r,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${r})`),this}filter(r,l,c){return this.url.searchParams.append(r,`${l}.${c}`),this}}return rd.default=n,rd}var O_;function E3(){if(O_)return id;O_=1;var t=id&&id.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(id,"__esModule",{value:!0});const e=t(v2());class n{constructor(r,{headers:l={},schema:c,fetch:d}){this.url=r,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(r,l){const{head:c=!1,count:d}=l??{},g=c?"HEAD":"GET";let m=!1;const v=(r??"*").split("").map(_=>/\s/.test(_)&&!m?"":(_==='"'&&(m=!m),_)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:l,defaultToNull:c=!0}={}){var d;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(r,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const _=r.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(_.length>0){const S=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(r,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var l;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return id.default=n,id}var N_;function G9(){if(N_)return ad;N_=1;var t=ad&&ad.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ad,"__esModule",{value:!0});const e=t(E3()),n=t(v2());class a{constructor(l,{headers:c={},schema:d,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=g}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:g=!1,count:m}={}){var v;let _;const S=new URL(`${this.url}/rpc/${l}`);let E;d||g?(_=d?"HEAD":"GET",Object.entries(c).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(_="POST",E=c);const A=new Headers(this.headers);return m&&A.set("Prefer",`count=${m}`),new n.default({method:_,url:S,headers:A,schema:this.schemaName,body:E,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ad.default=a,ad}var M_;function q9(){if(M_)return Ma;M_=1;var t=Ma&&Ma.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.PostgrestError=Ma.PostgrestBuilder=Ma.PostgrestTransformBuilder=Ma.PostgrestFilterBuilder=Ma.PostgrestQueryBuilder=Ma.PostgrestClient=void 0;const e=t(G9());Ma.PostgrestClient=e.default;const n=t(E3());Ma.PostgrestQueryBuilder=n.default;const a=t(v2());Ma.PostgrestFilterBuilder=a.default;const r=t(w3());Ma.PostgrestTransformBuilder=r.default;const l=t(x3());Ma.PostgrestBuilder=l.default;const c=t(S3());return Ma.PostgrestError=c.default,Ma.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ma}var V9=q9();const Y9=Jm(V9),{PostgrestClient:Z9,PostgrestQueryBuilder:jH,PostgrestFilterBuilder:zH,PostgrestTransformBuilder:UH,PostgrestBuilder:kH,PostgrestError:LH}=Y9;class X9{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const I9="2.75.0",K9=`realtime-js/${I9}`,F9="1.0.0",xy=1e4,Q9=1e3,$9=100;var O0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(O0||(O0={}));var pa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pa||(pa={}));var fs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fs||(fs={}));var wy;(function(t){t.websocket="websocket"})(wy||(wy={}));var Cc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Cc||(Cc={}));class J9{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const r=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=a.decode(e.slice(c,c+r));c=c+r;const g=a.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(a.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:g,payload:m}}}class C3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var An;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(An||(An={}));const D_=(t,e,n={})=>{var a;const r=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=W9(c,t,e,r),l),{}):{}},W9=(t,e,n,a)=>{const r=e.find(d=>d.name===t),l=r?.type,c=n[t];return l&&!a.includes(l)?T3(l,c):Ey(c)},T3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return a7(e,n)}switch(t){case An.bool:return e7(e);case An.float4:case An.float8:case An.int2:case An.int4:case An.int8:case An.numeric:case An.oid:return t7(e);case An.json:case An.jsonb:return n7(e);case An.timestamp:return i7(e);case An.abstime:case An.date:case An.daterange:case An.int4range:case An.int8range:case An.money:case An.reltime:case An.text:case An.time:case An.timestamptz:case An.timetz:case An.tsrange:case An.tstzrange:return Ey(e);default:return Ey(e)}},Ey=t=>t,e7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},t7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},n7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},a7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>T3(e,d))}return t},i7=t=>typeof t=="string"?t.replace(" ","T"):t,A3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class w1{constructor(e,n,a={},r=xy){this.channel=e,this.event=n,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var j_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(j_||(j_={}));class N0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=N0.syncState(this.state,r,l,c),this.pendingDiffs.forEach(g=>{this.state=N0.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},r=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=N0.syncDiff(this.state,r,l,c),d())}),this.onJoin((r,l,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:l,newPresences:c})}),this.onLeave((r,l,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,r){const l=this.cloneDeep(e),c=this.transformState(n),d={},g={};return this.map(l,(m,v)=>{c[m]||(g[m]=v)}),this.map(c,(m,v)=>{const _=l[m];if(_){const S=v.map(O=>O.presence_ref),E=_.map(O=>O.presence_ref),A=v.filter(O=>E.indexOf(O.presence_ref)<0),R=_.filter(O=>S.indexOf(O.presence_ref)<0);A.length>0&&(d[m]=A),R.length>0&&(g[m]=R)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:g},a,r)}static syncDiff(e,n,a,r){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(l,(d,g)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(g),v.length>0){const _=e[d].map(E=>E.presence_ref),S=v.filter(E=>_.indexOf(E.presence_ref)<0);e[d].unshift(...S)}a(d,v,g)}),this.map(c,(d,g)=>{let m=e[d];if(!m)return;const v=g.map(_=>_.presence_ref);m=m.filter(_=>v.indexOf(_.presence_ref)<0),e[d]=m,r(d,m,g),m.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const r=e[a];return"metas"in r?n[a]=r.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(z_||(z_={}));var M0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(M0||(M0={}));var Jl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jl||(Jl={}));class y2{constructor(e,n={config:{}},a){var r,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=pa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new w1(this,fs.join,this.params,this.timeout),this.rejoinTimer=new C3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pa.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new N0(this),this.broadcastEndpointURL=A3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,r,l;if(this.socket.isConnected()||this.socket.connect(),this.state==pa.closed){const{config:{broadcast:c,presence:d,private:g}}=this.params,m=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(E=>E.filter))!==null&&r!==void 0?r:[],v=!!this.bindings[M0.PRESENCE]&&this.bindings[M0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e?.(Jl.CHANNEL_ERROR,E)),this._onClose(()=>e?.(Jl.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var A;if(this.socket.setAuth(),E===void 0){e?.(Jl.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(A=R?.length)!==null&&A!==void 0?A:0,j=[];for(let D=0;D<O;D++){const z=R[D],{filter:{event:P,schema:H,table:L,filter:Y}}=z,ie=E&&E[D];if(ie&&ie.event===P&&ie.schema===H&&ie.table===L&&ie.filter===Y)j.push(Object.assign(Object.assign({},z),{id:ie.id}));else{this.unsubscribe(),this.state=pa.errored,e?.(Jl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Jl.SUBSCRIBED);return}}).receive("error",E=>{this.state=pa.errored,e?.(Jl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e?.(Jl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===pa.joined&&e===M0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,r;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=m.body)===null||r===void 0?void 0:r.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,g;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new w1(this,fs.leave,{},e),a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const r=new AbortController,l=setTimeout(()=>r.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(l),c}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new w1(this,e,n,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var r,l;const c=e.toLocaleLowerCase(),{close:d,error:g,leave:m,join:v}=fs;if(a&&[d,g,m,v].indexOf(c)>=0&&a!==this._joinRef())return;let S=this._onMessage(c,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(E=>{var A,R,O;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((O=(R=E.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(E=>E.callback(S,a)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var A,R,O,j,D,z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const P=E.id,H=(A=E.filter)===null||A===void 0?void 0:A.event;return P&&((R=n.ids)===null||R===void 0?void 0:R.includes(P))&&(H==="*"||H?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const P=(D=(j=E?.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return P==="*"||P===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:R,table:O,commit_timestamp:j,type:D,errors:z}=A;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:j,eventType:D,new:{},old:{},errors:z}),this._getPayloadRecords(A))}E.callback(S,a)})}_isClosed(){return this.state===pa.closed}_isJoined(){return this.state===pa.joined}_isJoining(){return this.state===pa.joining}_isLeaving(){return this.state===pa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const r=e.toLocaleLowerCase(),l={type:r,filter:n,callback:a};return this.bindings[r]?this.bindings[r].push(l):this.bindings[r]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var l;return!(((l=r.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&y2.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fs.close,{},e)}_onError(e){this._on(fs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=D_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=D_(e.columns,e.old_record)),n}}const E1=()=>{},Yp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r7=[1e3,2e3,5e3,1e4],s7=1e4,l7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class o7{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xy,this.transport=null,this.heartbeatIntervalMs=Yp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=E1,this.ref=0,this.reconnectTimer=null,this.logger=E1,this.conn=null,this.sendBuffer=[],this.serializer=new J9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let l;return r?l=r:typeof fetch>"u"?l=(...c)=>eg(async()=>{const{default:d}=await Promise.resolve().then(()=>Bd);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${wy.websocket}`,this.httpEndpoint=A3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X9.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:F9}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case O0.connecting:return Cc.Connecting;case O0.open:return Cc.Open;case O0.closing:return Cc.Closing;default:return Cc.Closed}}isConnected(){return this.connectionState()===Cc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,r=this.getChannels().find(l=>l.topic===a);if(r)return r;{const l=new y2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:r,ref:l}=e,c=()=>{this.encode(e,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${n} ${a} (${l})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Q9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:r,payload:l,ref:c}=n,d=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${r} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(r,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${a}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([l7],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const r={access_token:n,version:K9};n&&a.updateJoinPayload(r),a.joinedOnce&&a._isJoined()&&a._push(fs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new C3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,r,l,c,d,g,m,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:xy,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Yp.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:E1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>r7[_-1]||s7),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,S)=>S(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class b2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sa(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class u7 extends b2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cy extends b2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var c7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const R3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>eg(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},f7=()=>c7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield eg(()=>Promise.resolve().then(()=>Bd),void 0)).Response:Response}),Ty=t=>{if(Array.isArray(t))return t.map(n=>Ty(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const r=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[r]=Ty(a)}),e},d7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Lc=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const C1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),h7=(t,e,n)=>Lc(void 0,void 0,void 0,function*(){const a=yield f7();t instanceof a&&!n?.noResolveJson?t.json().then(r=>{const l=t.status||500,c=r?.statusCode||l+"";e(new u7(C1(r),l,c))}).catch(r=>{e(new Cy(C1(r),r))}):e(new Cy(C1(t),t))}),g7=(t,e,n,a)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!a?r:(d7(a)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(a)):r.body=a,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function tg(t,e,n,a,r,l){return Lc(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,g7(e,a,r,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>h7(g,d,a))})})}function Nm(t,e,n,a){return Lc(this,void 0,void 0,function*(){return tg(t,"GET",e,n,a)})}function nl(t,e,n,a,r){return Lc(this,void 0,void 0,function*(){return tg(t,"POST",e,a,r,n)})}function Ay(t,e,n,a,r){return Lc(this,void 0,void 0,function*(){return tg(t,"PUT",e,a,r,n)})}function p7(t,e,n,a){return Lc(this,void 0,void 0,function*(){return tg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function O3(t,e,n,a,r){return Lc(this,void 0,void 0,function*(){return tg(t,"DELETE",e,a,r,n)})}var m7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class v7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return m7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sa(e))return{data:null,error:e};throw e}})}}var y7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class b7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new v7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return y7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sa(e))return{data:null,error:e};throw e}})}}var zi=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const _7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},U_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class S7{constructor(e,n={},a,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=R3(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,r){return zi(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},U_),r);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),r?.headers&&(d=Object.assign(Object.assign({},d),r.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),_=yield(e=="PUT"?Ay:nl)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(sa(l))return{data:null,error:l};throw l}})}upload(e,n,a){return zi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,r){return zi(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:U_.upsert},r),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",m.cacheControl)):(g=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const _=yield Ay(this.fetch,d.toString(),g,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(sa(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return zi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const l=yield nl(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:r}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new b2("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sa(a))return{data:null,error:a};throw a}})}update(e,n,a){return zi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return zi(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}})}copy(e,n,a){return zi(this,void 0,void 0,function*(){try{return{data:{path:(yield nl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,a){return zi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),l=yield nl(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,a){return zi(this,void 0,void 0,function*(){try{const r=yield nl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),g=()=>Nm(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new b7(g,this.shouldThrowOnError)}info(e){return zi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Nm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ty(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sa(a))return{data:null,error:a};throw a}})}exists(e){return zi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield p7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sa(a)&&a instanceof Cy){const r=a.originalError;if([400,404].includes(r?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),r=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&r.push(l);const d=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&r.push(g);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return zi(this,void 0,void 0,function*(){try{return{data:yield O3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}})}list(e,n,a){return zi(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},_7),n),{prefix:e||""});return{data:yield nl(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}})}listV2(e,n){return zi(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield nl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sa(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const x7="2.75.0",w7={"X-Client-Info":`storage-js/${x7}`};var od=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class E7{constructor(e,n={},a,r){this.shouldThrowOnError=!1;const l=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},w7),n),this.fetch=R3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return od(this,void 0,void 0,function*(){try{return{data:yield Nm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sa(e))return{data:null,error:e};throw e}})}getBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield Nm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}})}createBucket(e){return od(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield nl(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return od(this,void 0,void 0,function*(){try{return{data:yield Ay(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sa(a))return{data:null,error:a};throw a}})}emptyBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}})}deleteBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield O3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}})}}class C7 extends E7{constructor(e,n={},a,r){super(e,n,a,r)}from(e){return new S7(this.url,this.headers,e,this.fetch)}}const T7="2.75.0";let x0="";typeof Deno<"u"?x0="deno":typeof document<"u"?x0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?x0="react-native":x0="node";const A7={"X-Client-Info":`supabase-js-${x0}/${T7}`},R7={headers:A7},O7={schema:"public"},N7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M7={};var D7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const j7=t=>{let e;return t?e=t:typeof fetch>"u"?e=b3:e=fetch,(...n)=>e(...n)},z7=()=>typeof Headers>"u"?_3:Headers,U7=(t,e,n)=>{const a=j7(n),r=z7();return(l,c)=>D7(void 0,void 0,void 0,function*(){var d;const g=(d=yield e())!==null&&d!==void 0?d:t;let m=new r(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},c),{headers:m}))})};var k7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};function L7(t){return t.endsWith("/")?t:t+"/"}function P7(t,e){var n,a;const{db:r,auth:l,realtime:c,global:d}=t,{db:g,auth:m,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),r),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},_),d),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>k7(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function B7(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(L7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const N3="2.75.0",xd=30*1e3,Ry=3,T1=Ry*xd,H7="http://localhost:9999",G7="supabase.auth.token",q7={"X-Client-Info":`gotrue-js/${N3}`},Oy="X-Supabase-Api-Version",M3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y7=600*1e3;class G0 extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Z7 extends G0{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function X7(t){return ct(t)&&t.name==="AuthApiError"}class Tc extends G0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vu extends G0{constructor(e,n,a,r){super(e,a,r),this.name=n,this.status=a}}class iu extends vu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I7(t){return ct(t)&&t.name==="AuthSessionMissingError"}class ud extends vu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zp extends vu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xp extends vu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K7(t){return ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class k_ extends vu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ny extends vu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function A1(t){return ct(t)&&t.name==="AuthRetryableFetchError"}class L_ extends vu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class My extends vu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),P_=` 	
\r=`.split(""),F7=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<P_.length;e+=1)t[P_[e].charCodeAt(0)]=-2;for(let e=0;e<Mm.length;e+=1)t[Mm[e].charCodeAt(0)]=e;return t})();function B_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Mm[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Mm[a]),e.queuedBits-=6}}function D3(t,e,n){const a=F7[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function H_(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},l=c=>{J7(c,a,n)};for(let c=0;c<t.length;c+=1)D3(t.charCodeAt(c),r,l);return e.join("")}function Q7(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $7(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Q7(a,e)}}function J7(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Od(t){const e=[],n={queue:0,queuedBits:0},a=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)D3(t.charCodeAt(r),n,a);return new Uint8Array(e)}function W7(t){const e=[];return $7(t,n=>e.push(n)),new Uint8Array(e)}function Rc(t){const e=[],n={queue:0,queuedBits:0},a=r=>{e.push(r)};return t.forEach(r=>B_(r,n,a)),B_(null,n,a),e.join("")}function eC(t){return Math.round(Date.now()/1e3)+t}function tC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Wi=()=>typeof window<"u"&&typeof document<"u",Sc={tested:!1,writable:!1},j3=()=>{if(!Wi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sc.tested)return Sc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sc.tested=!0,Sc.writable=!0}catch{Sc.tested=!0,Sc.writable=!1}return Sc.writable};function nC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,l)=>{e[l]=r})}catch{}return n.searchParams.forEach((a,r)=>{e[r]=a}),e}const z3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>eg(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},aC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wd=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nu=async(t,e)=>{await t.removeItem(e)};class iv{constructor(){this.promise=new iv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}iv.promiseConstructor=Promise;function R1(t){const e=t.split(".");if(e.length!==3)throw new My("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!V7.test(e[a]))throw new My("JWT not in base64url format");return{header:JSON.parse(H_(e[0])),payload:JSON.parse(H_(e[1])),signature:Od(e[2]),raw:{header:e[0],payload:e[1]}}}async function iC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function rC(t,e){return new Promise((a,r)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){a(c);return}}catch(c){if(!e(l,c)){r(c);return}}})()})}function sC(t){return("0"+t.toString(16)).substr(-2)}function lC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let r="";for(let l=0;l<56;l++)r+=n.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(e),Array.from(e,sC).join("")}async function oC(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(a);return Array.from(r).map(l=>String.fromCharCode(l)).join("")}async function uC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await oC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cd(t,e,n=!1){const a=lC();let r=a;n&&(r+="/PASSWORD_RECOVERY"),await wd(t,`${e}-code-verifier`,r);const l=await uC(a);return[l,a===l?"plain":"s256"]}const cC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fC(t){const e=t.headers.get(Oy);if(!e||!e.match(cC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fd(t){if(!gC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function O1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G_(t){return JSON.parse(JSON.stringify(t))}var pC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};const Ec=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mC=[502,503,504];async function q_(t){var e;if(!aC(t))throw new Ny(Ec(t),0);if(mC.includes(t.status))throw new Ny(Ec(t),t.status);let n;try{n=await t.json()}catch(l){throw new Tc(Ec(l),l)}let a;const r=fC(t);if(r&&r.getTime()>=M3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new L_(Ec(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new iu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new L_(Ec(n),t.status,n.weak_password.reasons);throw new Z7(Ec(n),t.status||500,a)}const vC=(t,e,n,a)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),n))};async function St(t,e,n,a){var r;const l=Object.assign({},a?.headers);l[Oy]||(l[Oy]=M3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(r=a?.query)!==null&&r!==void 0?r:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await yC(t,e,n+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function yC(t,e,n,a,r,l){const c=vC(e,a,r,l);let d;try{d=await t(n,Object.assign({},c))}catch(g){throw console.error(g),new Ny(Ec(g),0)}if(d.ok||await q_(d),a?.noResolveJson)return d;try{return await d.json()}catch(g){await q_(g)}}function cs(t){var e;let n=null;SC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=eC(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function V_(t){const e=cs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bC(t){return{data:t,error:null}}function _C(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:r,verification_type:l}=t,c=pC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:a,redirect_to:r,verification_type:l},g=Object.assign({},c);return{data:{properties:d,user:g},error:null}}function Y_(t){return t}function SC(t){return t.access_token&&t.refresh_token&&t.expires_in}const N1=["global","local","others"];var xC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};class wC{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=z3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=N1[0]){if(N1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${N1.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cu})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=xC(e,["options"]),r=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(r.new_email=a?.newEmail,delete r.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_C,redirectTo:n?.redirectTo})}catch(n){if(ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cu})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,r,l,c,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:Y_});if(v.error)throw v.error;const _=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ct(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){fd(e);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cu})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fd(e);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:cu})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){fd(e);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:cu})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){fd(e.userId);try{const{data:n,error:a}=await St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:a}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fd(e.userId),fd(e.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,r,l,c,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:Y_});if(v.error)throw v.error;const _=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ct(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}}function Z_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const dd={debug:!!(globalThis&&j3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class U3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class EC extends U3{}async function CC(t,e,n){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),dd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new EC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dd.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function TC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function k3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function AC(t){return parseInt(t,16)}function RC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function OC(t){var e;const{chainId:n,domain:a,expirationTime:r,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:g,resources:m,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=k3(t.address),A=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${A} wants you to sign in with your Ethereum account:
${E}

${R}`;let j=`URI: ${_}
Version: ${S}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(r&&(j+=`
Expiration Time: ${r.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),g&&(j+=`
Request ID: ${g}`),m){let D=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);D+=`
- ${z}`}j+=D}return`${O}
${j}`}class ra extends Error{constructor({message:e,code:n,cause:a,name:r}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=r??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Dm extends ra{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function NC({error:t,options:e}){var n,a,r;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ra({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ra({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ra({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ra({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ra({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ra({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ra({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ra({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(P3(c)){if(l.rp.id!==c)return new ra({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ra({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ra({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ra({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ra({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function MC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ra({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ra({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(P3(a)){if(n.rpId!==a)return new ra({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ra({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ra({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ra({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var L3=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};class DC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const jC=new DC;function zC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,r=L3(t,["challenge","user","excludeCredentials"]),l=Od(e).buffer,c=Object.assign(Object.assign({},n),{id:Od(n.id).buffer}),d=Object.assign(Object.assign({},r),{challenge:l,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];d.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:Od(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function UC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=L3(t,["challenge","allowCredentials"]),r=Od(e).buffer,l=Object.assign(Object.assign({},a),{challenge:r});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Od(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function kC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rc(new Uint8Array(r.authenticatorData)),clientDataJSON:Rc(new Uint8Array(r.clientDataJSON)),signature:Rc(new Uint8Array(r.signature)),userHandle:r.userHandle?Rc(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function P3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function X_(){var t,e;return!!(Wi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function PC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dm("Browser returned unexpected credential type",e)}:{data:null,error:new Dm("Empty credential response",e)}}catch(e){return{data:null,error:NC({error:e,options:t})}}}async function BC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dm("Browser returned unexpected credential type",e)}:{data:null,error:new Dm("Empty credential response",e)}}catch(e){return{data:null,error:MC({error:e,options:t})}}}const HC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},GC={userVerification:"preferred",hints:["security-key"]};function jm(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of t)if(r)for(const l in r){const c=r[l];if(c!==void 0)if(Array.isArray(c))a[l]=c;else if(n(c))a[l]=c;else if(e(c)){const d=a[l];e(d)?a[l]=jm(d,c):a[l]=jm(c)}else a[l]=c}return a}function qC(t,e){return jm(HC,t,e||{})}function VC(t,e){return jm(GC,t,e||{})}class YC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:r},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const g=r??jC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=qC(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await PC({publicKey:m,signal:g});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const m=VC(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await BC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:g}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Tc("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}},l){if(!n)return{data:null,error:new G0("rpId is required for WebAuthn authentication")};try{if(!X_())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:r},{request:l});if(!c)return{data:null,error:d};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:a,credential_response:g.credential_response}})}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Tc("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r},l){if(!n)return{data:null,error:new G0("rpId is required for WebAuthn registration")};try{if(!X_())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:g,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:r},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Tc("Unexpected error in register",c)}}}}TC();const ZC={url:H7,storageKey:G7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function I_(t,e,n){return await n()}const hd={};class q0{get jwks(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=q0.nextInstanceID,q0.nextInstanceID+=1,this.instanceID>0&&Wi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},ZC),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new wC({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=z3(r.fetch),this.lock=r.lock||I_,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Wi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=CC:this.lock=I_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YC(this)},this.persistSession?(r.storage?this.storage=r.storage:j3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Z_(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Z_(this.memoryStorage)),Wi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${N3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=nC(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Wi()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),K7(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ct(n)?{error:n}:{error:new Tc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,r;try{const l=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:cs}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ct(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,r;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await cd(this.storage,this.storageKey)),l=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:E,code_challenge_method:A},xform:cs})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(r=S?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:cs})}else throw new Zp("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ct(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:V_})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:V_})}else throw new Zp("You must provide either an email or phone number and a password");const{data:a,error:r}=n;return r?{data:{user:null,session:null},error:r}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ud}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,r,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,r,l,c,d,g,m,v,_,S;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:R,wallet:O,statement:j,options:D}=e;let z;if(Wi())if(typeof O=="object")z=O;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")z=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const P=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),H=await z.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=k3(H[0]);let Y=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Y){const ue=await z.request({method:"eth_chainId"});Y=AC(ue)}const ie={domain:P.host,address:L,statement:j,uri:P.href,version:"1",chainId:Y,nonce:(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=D?.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=OC(ie),A=await z.request({method:"personal_sign",params:[RC(E),L]})}try{const{data:R,error:O}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:A},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:cs});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new ud}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ct(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,r,l,c,d,g,m,v,_,S,E;let A,R;if("message"in e)A=e.message,R=e.signature;else{const{chain:O,wallet:j,statement:D,options:z}=e;let P;if(Wi())if(typeof j=="object")P=j;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))P=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const H=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const L=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),D?{statement:D}:null));let Y;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")Y=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)Y=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)A=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),R=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${H.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(r=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((c=z?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((d=z?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const L=await P.signMessage(new TextEncoder().encode(A),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=L}}try{const{data:O,error:j}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Rc(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:cs});if(j)throw j;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new ud}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:j})}catch(O){if(ct(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await xc(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(n??"").split("/");try{const{data:l,error:c}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:cs});if(await nu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ud}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:r??null}),error:c})}catch(l){if(ct(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:r,access_token:l,nonce:c}=e,d=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:cs}),{data:g,error:m}=d;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ud}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,r,l,c;try{if("email"in e){const{email:d,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await cd(this.storage,this.storageKey));const{error:_}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:d,options:g}=e,{data:m,error:v}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Zp("You must provide either an email or phone number.")}catch(d){if(ct(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,a;try{let r,l;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:r,xform:cs});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,m=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(r){if(ct(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,a,r;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await cd(this.storage,this.storageKey)),await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:bC})}catch(l){if(ct(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new iu;const{error:r}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ct(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:r,options:l}=e,{error:c}=await St(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:a,type:r,options:l}=e,{data:c,error:d}=await St(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Zp("You must provide either an email or phone number and a type")}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<T1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await xc(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=O1()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:e},error:null}}const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cu}):await this._useSession(async n=>{var a,r,l;const{data:c,error:d}=n;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new iu}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0,xform:cu})})}catch(n){if(ct(n))return I7(n)&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:r,error:l}=a;if(l)throw l;if(!r.session)throw new iu;const c=r.session;let d=null,g=null;this.flowType==="pkce"&&e.email!=null&&([d,g]=await cd(this.storage,this.storageKey));const{data:m,error:v}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:g}),jwt:c.access_token,xform:cu});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new iu;const n=Date.now()/1e3;let a=n,r=!0,l=null;const{payload:c}=R1(e.access_token);if(c.exp&&(a=c.exp,r=a<=n),r){const{data:d,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new iu;const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Wi())throw new Xp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new k_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new k_("No code detected.");const{data:D,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:l,refresh_token:c,expires_in:d,expires_at:g,token_type:m}=e;if(!l||!d||!c||!m)throw new Xp("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(d);let S=v+_;g&&(S=parseInt(g));const E=S-v;E*1e3<=xd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const A=S-_;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const j={provider_token:a,provider_refresh_token:r,access_token:l,expires_in:_,expires_at:S,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(a){if(ct(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:r,error:l}=n;if(l)return{error:l};const c=(a=r.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(X7(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=tC(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,r;try{const{data:{session:l},error:c}=n;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await cd(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ct(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:r}=await this._useSession(async l=>{var c,d,g,m,v;const{data:_,error:S}=l;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(r)throw r;return Wi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ct(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:r,data:{session:l}}=n;if(r)throw r;const{options:c,provider:d,token:g,access_token:m,nonce:v}=e,_=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cs}),{data:S,error:E}=_;return E?{data:{user:null,session:null},error:E}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new ud}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:E})}catch(r){if(ct(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,r;const{data:l,error:c}=n;if(c)throw c;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await rC(async r=>(r>0&&await iC(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cs})),(r,l)=>{const c=200*Math.pow(2,r);return l&&A1(l)&&Date.now()+c-a<xd})}catch(a){if(this._debug(n,"error",a),ct(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),Wi()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await xc(this.storage,this.storageKey);if(r&&this.userStorage){let c=await xc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await wd(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c?.user)!==null&&e!==void 0?e:O1()}else if(r&&!r.user&&!r.user){const c=await xc(this.storage,this.storageKey+"-user");c&&c?.user?(r.user=c.user,await nu(this.storage,this.storageKey+"-user"),await wd(this.storage,this.storageKey,r)):r.user=O1()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const l=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<T1;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${T1}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),A1(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(r.access_token);!d&&c?.user?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new iu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new iv;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new iu;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(r,"error",l),ct(l)){const c={data:null,error:l};return A1(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,a=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await wd(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const l=G_(r);await wd(this.storage,this.storageKey,l)}else{const r=G_(n);await wd(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await nu(this.storage,this.storageKey),await nu(this.storage,this.storageKey+"-code-verifier"),await nu(this.storage,this.storageKey+"-user"),this.userStorage&&await nu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-e)/xd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${xd}ms, refresh threshold is ${Ry} ticks`),r<=Ry&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof U3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const r=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await cd(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);r.push(l.toString())}return a?.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:r,error:l}=n;return l?{data:null,error:l}:await St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=r?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,r;const{data:l,error:c}=n;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await St(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&g.type==="totp"&&(!((r=g?.totp)===null||r===void 0)&&r.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kC(e.webauthn.credential_response):LC(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:g}=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=r?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(n){if(ct(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:l}=n;if(l)return{data:null,error:l};const c=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=r?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:zC(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:UC(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(l),l.status==="verified"&&r[l.factor_type].push(l);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:r},error:l}=e;if(l)return{data:null,error:l};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=R1(r.access_token);let d=null;c.aal&&(d=c.aal);let g=d;((a=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=c.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(d=>d.kid===e);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+Y7>r)return a;const{data:l,error:c}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=r,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:E,error:A}=await this.getSession();if(A||!E.session)return{data:null,error:A};a=E.session.access_token}const{header:r,payload:l,signature:c,raw:{header:d,payload:g}}=R1(a);n?.allowExpired||dC(l.exp);const m=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:E}=await this.getUser(a);if(E)throw E;return{data:{claims:l,header:r,signature:c},error:null}}const v=hC(r.alg),_=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,c,W7(`${d}.${g}`)))throw new My("Invalid JWT signature");return{data:{claims:l,header:r,signature:c},error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}}}q0.nextInstanceID=0;const XC=q0;class IC extends XC{constructor(e){super(e)}}var KC=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class FC{constructor(e,n,a){var r,l,c;this.supabaseUrl=e,this.supabaseKey=n;const d=B7(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const g=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:O7,realtime:M7,auth:Object.assign(Object.assign({},N7),{storageKey:g}),global:R7},v=P7(a??{},m);this.storageKey=(r=v.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=U7(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Z9(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new C7(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new U9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return KC(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:l,storageKey:c,flowType:d,lock:g,debug:m},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IC({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:l,flowType:d,lock:g,debug:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new o7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QC=(t,e,n)=>new FC(t,e,n);function $C(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$C()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JC="https://ptwlzqcuyndjswcwgndp.supabase.co",WC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",la=QC(JC,WC),B3=N.createContext(null);function eT({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{console.log("SessionContext mounted"),la.auth.getSession().then(({data:{session:r}})=>{console.log("initial session: ",r),n(r)});const{data:{subscription:a}}=la.auth.onAuthStateChange((r,l)=>{console.log("Auth state changed:",l),n(l)});return()=>a.unsubscribe()},[]),T.jsx(B3.Provider,{value:{session:e,setSession:n},children:t})}function H3(){const t=N.useContext(B3);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}const zm="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var G3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K_=at.createContext&&at.createContext(G3),tT=["attr","size","title"];function nT(t,e){if(t==null)return{};var n=aT(t,e),a,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)a=l[r],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function aT(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Um.apply(this,arguments)}function F_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(a){iT(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function iT(t,e,n){return e=rT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rT(t){var e=sT(t,"string");return typeof e=="symbol"?e:e+""}function sT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q3(t){return t&&t.map((e,n)=>at.createElement(e.tag,km({key:n},e.attr),q3(e.child)))}function Un(t){return e=>at.createElement(lT,Um({attr:km({},t.attr)},e),q3(t.child))}function lT(t){var e=n=>{var{attr:a,size:r,title:l}=t,c=nT(t,tT),d=r||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),at.createElement("svg",Um({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:g,style:km(km({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&at.createElement("title",null,l),t.children)};return K_!==void 0?at.createElement(K_.Consumer,null,n=>e(n)):e(G3)}function V3(t){return Un({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function oT(t){return Un({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function uT(t){return Un({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function m0(t){return Un({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function cT(t){return Un({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function Y3(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function fT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function dT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},child:[]}]})(t)}function hT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function gT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function Z3(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function pT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function mT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},child:[]}]})(t)}function Q_(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function $_(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function X3(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function vT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function M1(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function I3(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function K3(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(t)}function yT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function F3(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function bT(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function _T(t){return Un({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function ST(){const{session:t}=H3(),e=tv(),[n,a]=N.useState(""),[r,l]=N.useState(""),c=async g=>{g.preventDefault();try{const{data:m,error:v}=await la.auth.signInWithOAuth({provider:"google"});if(v){console.error("cant handle oauth:",v);return}}catch(m){console.error("cant sign in with google: ",m)}},d=async()=>{try{const{error:g}=await la.auth.signInWithPassword({email:n,password:r});alert("Login successful!"),e("/")}catch(g){console.error(g),alert("Something went wrong!")}};return console.log(t),T.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[T.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>e("/"),children:[T.jsx(V3,{className:"text-lg"}),T.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),T.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[T.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),T.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:" The all in one task management app"})]}),T.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:T.jsx("img",{src:zm,alt:"",className:"object-cover w-full h-full"})}),T.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:[T.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:T.jsxs("div",{className:"my-company flex flex-col text-center hidden lg:flex",children:[T.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),T.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),T.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[T.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[T.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),T.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),T.jsxs("div",{className:"main-form ",children:[T.jsxs("form",{action:"",className:"flex flex-col justify-between",children:[T.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[T.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),T.jsx("input",{type:"email",name:"",id:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs",onChange:g=>a(g.target.value)})]}),T.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[T.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[T.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),T.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",children:"Forgot Password?"})]}),T.jsx("input",{type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs",onChange:g=>l(g.target.value)})]})]}),T.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[T.jsx("div",{className:"flex justify-center items-center w-full",children:T.jsx("button",{onClick:d,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Continue with email"})}),T.jsx("div",{className:"flex justify-center items-center w-full",children:T.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),T.jsxs("button",{onClick:c,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[T.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})]})]}),T.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:T.jsx("img",{src:zm,alt:"",className:"object-cover w-full h-full"})})]})}function xT(){const t=tv(),[e,n]=N.useState(""),[a,r]=N.useState(""),[l,c]=N.useState(""),[d,g]=N.useState(""),m=async()=>{if(a!==l){alert("Passwords do not match!");return}try{const{error:v}=await la.auth.signUp({email:e,password:a,options:{data:{username:d}}});v?alert("Error creating account: "+v.message):(alert("Account created successfully, please verify your email"),t("/signin"))}catch(v){alert("Error creating account: "+v)}};return T.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[T.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[T.jsx(V3,{className:"text-lg"}),T.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),T.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[T.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),T.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),T.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[T.jsx("img",{src:zm,alt:"",className:"object-cover w-full h-full"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),T.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:T.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[T.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[T.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),T.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),T.jsxs("div",{className:"main-form",children:[T.jsxs("form",{className:"flex flex-col justify-between",children:[T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Username"}),T.jsx("input",{type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",onChange:v=>g(v.target.value)})]}),T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Email"}),T.jsx("input",{type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",onChange:v=>n(v.target.value)})]}),T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Password"}),T.jsx("input",{type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",onChange:v=>r(v.target.value)})]}),T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Confirm Password"}),T.jsx("input",{type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",onChange:v=>c(v.target.value)})]})]}),T.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[T.jsx("button",{onClick:m,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:"Create Account"}),T.jsx("button",{onClick:()=>t("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]})]})]})}),T.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:T.jsx("img",{src:zm,alt:"",className:"object-cover w-full h-full"})})]})}function Q3(t){return Un({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function wT({onClearClick:t,onShapeClick:e,onDrawClick:n,onColorSelect:a,onEraserClick:r,isActive:l}){return T.jsxs("div",{className:"grid grid-cols-8 px-2 py-2 border-gray-200 justify-center items-center bg-white rounded-lg shadow-lg",children:[T.jsxs("button",{onClick:()=>e(null),className:"add-shape group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(Z3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task"})]}),T.jsxs("button",{className:"pan-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(X3,{className:"-rotate-[45deg] text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Pan Canvas"})]}),T.jsxs("button",{className:"cursor-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(pT,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Selection"})]}),T.jsxs("div",{className:"relative group",children:[T.jsxs("button",{onClick:n,className:"draw-canvas flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(I3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw"})]}),T.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:flex gap-1 bg-white p-2 rounded-md shadow-lg",children:["#000000","#ff3b30","#ff9500","#ffcc00","#34c759","#0a84ff","#5856d6"].map(c=>T.jsx("button",{onClick:()=>a?.(c),"aria-label":`Select ${c}`,className:"w-6 h-6 rounded-full border-2 border-gray-200 hover:border-gray-500 focus:border-gray-500",style:{background:c}},c))})]}),T.jsxs("button",{className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(Y3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]}),T.jsxs("button",{className:"add-image group relative border-none inline-flex flex-col items-center justify-center w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(K3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Image"})]}),T.jsxs("button",{onClick:r,className:`add-shape group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 ${l?"bg-red-100 text-red-500":"text-gray-700 hover:bg-red-50"}`,children:[T.jsx(Q3,{className:"text-xl",style:{strokeWidth:.5}}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Delete Task"})]}),T.jsxs("button",{onClick:t,className:"add-shape group flex flex-col justify-center items-center  rounded-r-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-red-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(F3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Clear Canvas"})]})]})}const ET=Math.PI/180;function CT(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Oc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Be={_global:Oc,version:"10.0.2",isBrowser:CT(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Be.angleDeg?t*ET:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Be.DD.isDragging},isTransforming(){var t,e;return(e=(t=Be.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Be.DD.node},releaseCanvasOnDestroy:!0,document:Oc.document,_injectGlobal(t){typeof Oc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Oc.Konva=t}},Bn=t=>{Be[t.prototype.getClassName()]=t};Be._injectGlobal(Be);const TT=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,J_=()=>{if(typeof document>"u")throw new Error(TT)};class nr{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new nr(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),r=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,c=this.m[0]*-a+this.m[2]*n,d=this.m[1]*-a+this.m[3]*n;return this.m[0]=r,this.m[1]=l,this.m[2]=c,this.m[3]=d,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,r=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,c=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=r,this.m[2]=l,this.m[3]=c,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],c=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],d=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=r,this.m[3]=l,this.m[4]=c,this.m[5]=d,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,r=-this.m[2]*e,l=this.m[0]*e,c=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),d=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=r,this.m[3]=l,this.m[4]=c,this.m[5]=d,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],r=this.m[3],l=this.m[4],c=this.m[5],d=e*r-n*a,g={x:l,y:c,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const m=Math.sqrt(e*e+n*n);g.rotation=n>0?Math.acos(e/m):-Math.acos(e/m),g.scaleX=m,g.scaleY=d/m,g.skewX=(e*a+n*r)/d,g.skewY=0}else if(a!=0||r!=0){const m=Math.sqrt(a*a+r*r);g.rotation=Math.PI/2-(r>0?Math.acos(-a/m):-Math.acos(a/m)),g.scaleX=d/m,g.scaleY=m,g.skewX=0,g.skewY=(e*a+n*r)/d}return g.rotation=ae._getRotation(g.rotation),g}}const AT="[object Array]",RT="[object Number]",OT="[object String]",NT="[object Boolean]",MT=Math.PI/180,DT=180/Math.PI,D1="#",jT="",zT="0",UT="Konva warning: ",W_="Konva error: ",kT="rgb(",j1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},LT=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Ip=[];const PT=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},ae={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===AT},_isNumber(t){return Object.prototype.toString.call(t)===RT&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===OT},_isBoolean(t){return Object.prototype.toString.call(t)===NT},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Ip.push(t),Ip.length===1&&PT(function(){const e=Ip;Ip=[],e.forEach(function(n){n()})})},createCanvasElement(){J_();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return J_(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=ae.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(D1,jT);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=zT+t;return D1+t},getRGB(t){let e;return t in j1?(e=j1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===D1?this._hexToRgb(t.substring(1)):t.substr(0,4)===kT?(e=LT.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",ae._namedColorToRBA(t)||ae._hex3ColorToRGBA(t)||ae._hex4ColorToRGBA(t)||ae._hex6ColorToRGBA(t)||ae._hex8ColorToRGBA(t)||ae._rgbColorToRGBA(t)||ae._rgbaColorToRGBA(t)||ae._hslColorToRGBA(t)},_namedColorToRBA(t){const e=j1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,r=Number(n[1])/100,l=Number(n[2])/100;let c,d,g;if(r===0)return g=l*255,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};l<.5?c=l*(1+r):c=l+r-l*r;const m=2*l-c,v=[0,0,0];for(let _=0;_<3;_++)d=a+1/3*-(_-1),d<0&&d++,d>1&&d--,6*d<1?g=m+(c-m)*6*d:2*d<1?g=c:3*d<2?g=m+(c-m)*(2/3-d)*6:g=m,v[_]=g*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*MT},radToDeg(t){return t*DT},_degToRad(t){return ae.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ae.degToRad(t)},_radToDeg(t){return ae.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ae.radToDeg(t)},_getRotation(t){return Be.angleDeg?ae.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(W_+t)},error(t){console.error(W_+t)},warn(t){Be.showWarnings&&console.warn(UT+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,r,l){let c,d,g;const m=(t-n)*(t-n)+(e-a)*(e-a);if(m==0)c=t,d=e,g=(r-n)*(r-n)+(l-a)*(l-a);else{const v=((r-t)*(n-t)+(l-e)*(a-e))/m;v<0?(c=t,d=e,g=(t-r)*(t-r)+(e-l)*(e-l)):v>1?(c=n,d=a,g=(n-r)*(n-r)+(a-l)*(a-l)):(c=t+v*(n-t),d=e+v*(a-e),g=(c-r)*(c-r)+(d-l)*(d-l))}return[c,d,g]},_getProjectionToLine(t,e,n){const a=ae.cloneObject(t);let r=Number.MAX_VALUE;return e.forEach(function(l,c){if(!n&&c===e.length-1)return;const d=e[(c+1)%e.length],g=ae._getProjectionToSegment(l.x,l.y,d.x,d.y,t.x,t.y),m=g[0],v=g[1],_=g[2];_<r&&(a.x=m,a.y=v,r=_)}),a},_prepareArrayForTween(t,e,n){const a=[],r=[];if(t.length>e.length){const c=e;e=t,t=c}for(let c=0;c<t.length;c+=2)a.push({x:t[c],y:t[c+1]});for(let c=0;c<e.length;c+=2)r.push({x:e[c],y:e[c+1]});const l=[];return r.forEach(function(c){const d=ae._getProjectionToLine(c,a,n);l.push(d.x),l.push(d.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||ae._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(ae._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Be.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let r=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let c=0,d=0,g=0,m=0;typeof a=="number"?c=d=g=m=Math.min(a,e/2,n/2):(c=Math.min(a[0]||0,e/2,n/2),d=Math.min(a[1]||0,e/2,n/2),m=Math.min(a[2]||0,e/2,n/2),g=Math.min(a[3]||0,e/2,n/2)),t.moveTo(r+c,l),t.lineTo(r+e-d,l),t.arc(r+e-d,l+d,d,Math.PI*3/2,0,!1),t.lineTo(r+e,l+n-m),t.arc(r+e-m,l+n-m,m,0,Math.PI/2,!1),t.lineTo(r+g,l+n),t.arc(r+g,l+n-g,g,Math.PI/2,Math.PI,!1),t.lineTo(r,l+c),t.arc(r+c,l+c,c,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,r){a=Math.abs(a);for(let l=0;l<n;l++){const c=e[(l-1+n)%n],d=e[l],g=e[(l+1)%n],m={x:d.x-c.x,y:d.y-c.y},v={x:g.x-d.x,y:g.y-d.y},_=Math.hypot(m.x,m.y),S=Math.hypot(v.x,v.y);let E;typeof r=="number"?E=r:E=l<r.length?r[l]:0,E=a*Math.cos(Math.PI/n)*Math.min(1,E/a*2);const R={x:m.x/_,y:m.y/_},O={x:v.x/S,y:v.y/S},j={x:d.x-R.x*E,y:d.y-R.y*E},D={x:d.x+O.x*E,y:d.y+O.y*E};l===0?t.moveTo(j.x,j.y):t.lineTo(j.x,j.y),t.arcTo(d.x,d.y,D.x,D.y,E)}}};function BT(t){const e=[],n=t.length,a=ae;for(let r=0;r<n;r++){let l=t[r];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const e4=",",HT="(",GT=")",qT="([",VT="])",YT=";",ZT="()",XT="=",t4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],IT=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],KT=100;let Kp=null;function n4(){if(Kp!==null)return Kp;try{const e=ae.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Kp=!1,!1)}catch{return Kp=!1,!1}}class rv{constructor(e){this.canvas=e,Be.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,r=a.length,l="",c,d,g,m;for(c=0;c<r;c++)d=a[c],g=d.method,g?(m=d.args,l+=g,e?l+=ZT:ae._isArray(m[0])?l+=qT+m.join(e4)+VT:(n&&(m=m.map(v=>typeof v=="number"?Math.floor(v):v)),l+=HT+m.join(e4)+GT)):(l+=d.property,e||(l+=XT+d.val)),l+=YT;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=KT&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,r,l,c){this._context.arc(e,n,a,r,l,c)}arcTo(e,n,a,r,l){this._context.arcTo(e,n,a,r,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,r,l,c){this._context.bezierCurveTo(e,n,a,r,l,c)}clearRect(e,n,a,r){this._context.clearRect(e,n,a,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,r){return this._context.createLinearGradient(e,n,a,r)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,r,l,c){return this._context.createRadialGradient(e,n,a,r,l,c)}drawImage(e,n,a,r,l,c,d,g,m){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,r,l):v.length===9&&_.drawImage(e,n,a,r,l,c,d,g,m)}ellipse(e,n,a,r,l,c,d,g){this._context.ellipse(e,n,a,r,l,c,d,g)}isPointInPath(e,n,a,r){return a?this._context.isPointInPath(a,e,n,r):this._context.isPointInPath(e,n,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,r){this._context.fillRect(e,n,a,r)}strokeRect(e,n,a,r){this._context.strokeRect(e,n,a,r)}fillText(e,n,a,r){r?this._context.fillText(e,n,a,r):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,r){return this._context.getImageData(e,n,a,r)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,r){this._context.rect(e,n,a,r)}roundRect(e,n,a,r,l){this._context.roundRect(e,n,a,r,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,r){this._context.quadraticCurveTo(e,n,a,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,r,l,c){this._context.setTransform(e,n,a,r,l,c)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,r){this._context.strokeText(e,n,a,r)}transform(e,n,a,r,l,c){this._context.transform(e,n,a,r,l,c)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=t4.length,a=this.setAttr,r,l;const c=function(d){let g=e[d],m;e[d]=function(){return l=BT(Array.prototype.slice.call(arguments,0)),m=g.apply(e,arguments),e._trace({method:d,args:l}),m}};for(r=0;r<n;r++)c(t4[r]);e.setAttr=function(){a.apply(e,arguments);const d=arguments[0];let g=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:d,val:g})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}IT.forEach(function(t){Object.defineProperty(rv.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class FT extends rv{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const r=e.getFillPatternImage();if(r&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const c=e.getFillRadialGradientColorStops();if(c&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):r?this._fillPattern(e):l?this._fillLinearGradient(e):c&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(r){for(let c=0;c<r.length;c+=2)l.addColorStop(r[c],r[c+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,r;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",c=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,d=(r=e.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},g=e.getAbsoluteScale(),m=this.canvas.getPixelRatio(),v=g.x*m,_=g.y*m;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",c*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",d.x*v),this.setAttr("shadowOffsetY",d.y*_)}}class QT extends rv{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),r=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Fp;function $T(){if(Fp)return Fp;const t=ae.createCanvasElement(),e=t.getContext("2d");return Fp=(function(){const n=Be._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),ae.releaseCanvas(t),Fp}class _2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||Be.pixelRatio||$T();this.pixelRatio=a,this._canvas=ae.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(r){return ae.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class fu extends _2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new FT(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function a4(){const t=ae.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function i4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let r4=!1;function JT(){return i4()&&a4()&&!r4&&(r4=!0,ae.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),i4()&&a4()}class S2 extends _2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new QT(this),this.setSize(e.width,e.height),JT()}}const sn={get isDragging(){let t=!1;return sn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return sn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];sn._dragElements.forEach((n,a)=>{const{node:r}=n,l=r.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=ae._getFirstPointerId(t));const c=l._changedPointerPositions.find(d=>d.id===n.pointerId);if(c){if(n.dragStatus!=="dragging"){const d=r.dragDistance();if(Math.max(Math.abs(c.x-n.startPointerPos.x),Math.abs(c.y-n.startPointerPos.y))<d||(r.startDrag({evt:t}),!r.isDragging()))return}r._setDragPosition(t,n),e.push(r)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];sn._dragElements.forEach(n=>{const{node:a}=n,r=a.getStage();if(t&&r.setPointersPositions(t),!r._changedPointerPositions.find(d=>d.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(sn.justDragged=!0,Be._mouseListenClick=!1,Be._touchListenClick=!1,Be._pointerListenClick=!1,n.dragStatus="stopped");const c=n.node.getLayer()||n.node instanceof Be.Stage&&n.node;c&&e.indexOf(c)===-1&&e.push(c)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){sn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&sn._dragElements.delete(n)})}};Be.isBrowser&&(window.addEventListener("mouseup",sn._endDragBefore,!0),window.addEventListener("touchend",sn._endDragBefore,!0),window.addEventListener("touchcancel",sn._endDragBefore,!0),window.addEventListener("mousemove",sn._drag),window.addEventListener("touchmove",sn._drag),window.addEventListener("mouseup",sn._endDragAfter,!1),window.addEventListener("touchend",sn._endDragAfter,!1),window.addEventListener("touchcancel",sn._endDragAfter,!1));function yu(t){return ae._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ae._isBoolean(t)?t:Object.prototype.toString.call(t)}function $3(t){return t>255?255:t<0?0:Math.round(t)}function Ue(){if(Be.isUnminified)return function(t,e){return ae._isNumber(t)||ae.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function sv(t){if(Be.isUnminified)return function(e,n){let a=ae._isNumber(e),r=ae._isArray(e)&&e.length==t;return!a&&!r&&ae.warn(yu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function x2(){if(Be.isUnminified)return function(t,e){return ae._isNumber(t)||t==="auto"||ae.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Pc(){if(Be.isUnminified)return function(t,e){return ae._isString(t)||ae.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function J3(){if(Be.isUnminified)return function(t,e){const n=ae._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||ae.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function WT(){if(Be.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(ae._isArray(t)?t.forEach(function(a){ae._isNumber(a)||ae.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):ae.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function ms(){if(Be.isUnminified)return function(t,e){return t===!0||t===!1||ae.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function eA(t){if(Be.isUnminified)return function(e,n){return e==null||ae.isObject(e)||ae.warn(yu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const v0="get",y0="set",q={addGetterSetter(t,e,n,a,r){q.addGetter(t,e,n),q.addSetter(t,e,a,r),q.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=v0+ae._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const r=this.attrs[e];return r===void 0?n:r}},addSetter(t,e,n,a){const r=y0+ae._capitalize(e);t.prototype[r]||q.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const r=y0+ae._capitalize(e);t.prototype[r]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,r){const l=n.length,c=ae._capitalize,d=v0+c(e),g=y0+c(e);t.prototype[d]=function(){const v={};for(let _=0;_<l;_++){const S=n[_];v[S]=this.getAttr(e+c(S))}return v};const m=eA(n);t.prototype[g]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),m&&m.call(this,v,e);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(e+c(S),v[S]);return v||n.forEach(S=>{this._setAttr(e+c(S),void 0)}),this._fireChangeEvent(e,_,v),r&&r.call(this),this},q.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=ae._capitalize(e),a=y0+n,r=v0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter(t,e,n,a){ae.error("Adding deprecated "+e);const r=v0+ae._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[r]=function(){ae.error(l);const c=this.attrs[e];return c===void 0?n:c},q.addSetter(t,e,a,function(){ae.error(l)}),q.addOverloadedGetterSetter(t,e)},backCompat(t,e){ae.each(e,function(n,a){const r=t.prototype[a],l=v0+ae._capitalize(n),c=y0+ae._capitalize(n);function d(){r.apply(this,arguments),ae.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=d,t.prototype[l]=d,t.prototype[c]=d})},afterSetFilter(){this._filterUpToDate=!1}};function tA(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,r]=n;switch(a){case"blur":{const l=parseFloat(r.replace("px",""));return function(c){this.blurRadius(l*.5);const d=Be.Filters;d&&d.Blur&&d.Blur.call(this,c)}}case"brightness":{const l=r.includes("%")?parseFloat(r)/100:parseFloat(r);return function(c){this.brightness(l);const d=Be.Filters;d&&d.Brightness&&d.Brightness.call(this,c)}}case"contrast":{const l=parseFloat(r);return function(c){const d=100*(Math.sqrt(l)-1);this.contrast(d);const g=Be.Filters;g&&g.Contrast&&g.Contrast.call(this,c)}}case"grayscale":return function(l){const c=Be.Filters;c&&c.Grayscale&&c.Grayscale.call(this,l)};case"sepia":return function(l){const c=Be.Filters;c&&c.Sepia&&c.Sepia.call(this,l)};case"invert":return function(l){const c=Be.Filters;c&&c.Invert&&c.Invert.call(this,l)};default:ae.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const xm="absoluteOpacity",Qp="allEventListeners",$l="absoluteTransform",s4="absoluteScale",wc="canvas",nA="Change",aA="children",iA="konva",Dy="listening",rA="mouseenter",sA="mouseleave",lA="pointerenter",oA="pointerleave",uA="touchenter",cA="touchleave",l4="set",o4="Shape",wm=" ",u4="stage",ru="transform",fA="Stage",jy="visible",dA=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(wm);let hA=1,Le=class zy{constructor(e){this._id=hA++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ru||e===$l)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===ru||e===$l)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const r=n.map(l=>l+"Change.konva").join(wm);this.on(r,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(wc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===$l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(wc)){const{scene:e,filter:n,hit:a,buffer:r}=this._cache.get(wc);ae.releaseCanvas(e,n,a,r),this._cache.delete(wc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),c=n.pixelRatio,d=n.x===void 0?Math.floor(a.x):n.x,g=n.y===void 0?Math.floor(a.y):n.y,m=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!r||!l){ae.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(a.x)-d)>.5?1:0,E=Math.abs(Math.round(a.y)-g)>.5?1:0;r+=m*2+S,l+=m*2+E,d-=m,g-=m;const A=new fu({pixelRatio:c,width:r,height:l}),R=new fu({pixelRatio:c,width:0,height:0,willReadFrequently:!0}),O=new S2({pixelRatio:_,width:r,height:l}),j=A.getContext(),D=O.getContext(),z=new fu({width:A.width/A.pixelRatio+Math.abs(d),height:A.height/A.pixelRatio+Math.abs(g),pixelRatio:A.pixelRatio}),P=z.getContext();return O.isCache=!0,A.isCache=!0,this._cache.delete(wc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(A.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),j.save(),D.save(),P.save(),j.translate(-d,-g),D.translate(-d,-g),P.translate(-d,-g),z.x=d,z.y=g,this._isUnderCache=!0,this._clearSelfAndDescendantCache(xm),this._clearSelfAndDescendantCache(s4),this.drawScene(A,this,z),this.drawHit(O,this),this._isUnderCache=!1,j.restore(),D.restore(),v&&(j.save(),j.beginPath(),j.rect(0,0,r,l),j.closePath(),j.setAttr("strokeStyle","red"),j.setAttr("lineWidth",5),j.stroke(),j.restore()),this._cache.set(wc,{scene:A,filter:R,hit:O,buffer:z,x:d,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(wc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,l=1/0,c=-1/0,d=-1/0;const g=this.getAbsoluteTransform(n);return a.forEach(function(m){const v=g.point(m);r===void 0&&(r=c=v.x,l=d=v.y),r=Math.min(r,v.x),l=Math.min(l,v.y),c=Math.max(c,v.x),d=Math.max(d,v.y)}),{x:r,y:l,width:c-r,height:d-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),r=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/r,a.height/r),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,r=n.filter,l=r.getContext(),c,d,g,m;if(!e||e.length===0)return a;if(this._filterUpToDate)return r;let v=!0;for(let S=0;S<e.length;S++)if(typeof e[S]=="string"&&n4(),typeof e[S]!="string"||!n4()){v=!1;break}const _=a.pixelRatio;if(r.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const S=e.join(" ");return l.save(),l.setAttr("filter",S),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,r}try{for(c=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),d=l.getImageData(0,0,r.getWidth(),r.getHeight()),g=0;g<c;g++)m=e[g],typeof m=="string"&&(m=tA(m)),m.call(this,d),l.putImageData(d,0,0)}catch(S){ae.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,r}on(e,n){if(this._cache&&this._cache.delete(Qp),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(wm);for(let r=0;r<a.length;r++){const c=a[r].split("."),d=c[0],g=c[1]||"";this.eventListeners[d]||(this.eventListeners[d]=[]),this.eventListeners[d].push({name:g,handler:n})}return this}off(e,n){let a=(e||"").split(wm),r=a.length,l,c,d,g,m,v;if(this._cache&&this._cache.delete(Qp),!e)for(c in this.eventListeners)this._off(c);for(l=0;l<r;l++)if(d=a[l],g=d.split("."),m=g[0],v=g[1],m)this.eventListeners[m]&&this._off(m,v,n);else for(c in this.eventListeners)this._off(c,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const r=this;this.on(e,function(l){const c=l.target.findAncestors(n,!0,r);for(let d=0;d<c.length;d++)l=ae.cloneObject(l),l.currentTarget=c[d],a.call(c[d],l)})}remove(){return this.isDragging()&&this.stopDrag(),sn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache($l),this._clearSelfAndDescendantCache(xm),this._clearSelfAndDescendantCache(s4),this._clearSelfAndDescendantCache(u4),this._clearSelfAndDescendantCache(jy),this._clearSelfAndDescendantCache(Dy)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+ae._capitalize(e);return ae._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==aA&&(a=l4+ae._capitalize(n),ae._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Dy,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(jy,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let r=!1;sn._dragElements.forEach(c=>{c.dragStatus==="dragging"&&(c.node.nodeType==="Stage"||c.node.getLayer()===a)&&(r=!0)});const l=!n&&!Be.hitOnDragEnabled&&(r||Be.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,r,l,c,d;function g(v){for(r=[],l=v.length,c=0;c<l;c++)d=v[c],a++,d.nodeType!==o4&&(r=r.concat(d.getChildren().slice())),d._id===n._id&&(c=l);r.length>0&&r[0].getDepth()<=e&&g(r)}const m=this.getStage();return n.nodeType!==fA&&m&&g(m.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ru),this._clearSelfAndDescendantCache($l)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),l=new nr,c=this.offset();return l.m=r.slice(),l.translate(c.x,c.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...r}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(ru);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(ru),this._clearSelfAndDescendantCache($l),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,r=this.x(),l=this.y();return n!==void 0&&(r+=n),a!==void 0&&(l+=a),this.setPosition({x:r,y:l}),this}_eachAncestorReverse(e,n){let a=[],r=this.getParent(),l,c;if(!(n&&n._id===this._id)){for(a.unshift(this);r&&(!n||r._id!==n._id);)a.unshift(r),r=r.parent;for(l=a.length,c=0;c<l;c++)e(a[c])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ae.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ae.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ae.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ae.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ae.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ae.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(xm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,r,l,c;const d={attrs:{},className:this.getClassName()};for(n in e)a=e[n],c=ae.isObject(a)&&!ae._isPlainObject(a)&&!ae._isArray(a),!c&&(r=typeof this[n]=="function"&&this[n],delete e[n],l=r?r.call(this):null,e[n]=a,l!==a&&(d.attrs[n]=a));return ae._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const r=[];n&&this._isMatch(e)&&r.push(this);let l=this.parent;for(;l;){if(l===a)return r;l._isMatch(e)&&r.push(l),l=l.parent}return r}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,r,l;for(r=0;r<a;r++)if(l=n[r],ae.isValidSelector(l)||(ae.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ae.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ae.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(u4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache($l,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new nr,this._eachAncestorReverse(function(a){const r=a.transformsEnabled();r==="all"?n.multiply(a.getTransform()):r==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get($l)||new nr,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const r=this.attrs.x||0,l=this.attrs.y||0,c=this.attrs.offsetX||0,d=this.attrs.offsetY||0;n.translate(r-c,l-d)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ru,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(ru)||new nr;a.reset();const r=this.x(),l=this.y(),c=Be.getAngle(this.rotation()),d=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,m=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(r!==0||l!==0)&&a.translate(r,l),c!==0&&a.rotate(c),(m!==0||v!==0)&&a.skew(m,v),(d!==1||g!==1)&&a.scale(d,g),(_!==0||S!==0)&&a.translate(-1*_,-1*S),a.dirty=!1,a}clone(e){let n=ae.cloneObject(this.attrs),a,r,l,c,d;for(a in e)n[a]=e[a];const g=new this.constructor(n);for(a in this.eventListeners)for(r=this.eventListeners[a],l=r.length,c=0;c<l;c++)d=r[c],d.name.indexOf(iA)<0&&(g.eventListeners[a]||(g.eventListeners[a]=[]),g.eventListeners[a].push(d));return g}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),r=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),c=e.pixelRatio||1,d=new fu({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:c}),g=d.getContext(),m=new fu({width:d.width/d.pixelRatio+Math.abs(r),height:d.height/d.pixelRatio+Math.abs(l),pixelRatio:d.pixelRatio});return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(r||l)&&g.translate(-1*r,-1*l),this.drawScene(d,void 0,m),g.restore(),d}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(r),r}toImage(e){return new Promise((n,a)=>{try{const r=e?.callback;r&&delete e.callback,ae._urlToImage(this.toDataURL(e),function(l){n(l),r?.(l)})}catch(r){a(r)}})}toBlob(e){return new Promise((n,a)=>{try{const r=e?.callback;r&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),r?.(l)},e?.mimeType,e?.quality)}catch(r){a(r)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Be.dragDistance}_off(e,n,a){let r=this.eventListeners[e],l,c,d;for(l=0;l<r.length;l++)if(c=r[l].name,d=r[l].handler,(c!=="konva"||n==="konva")&&(!n||c===n)&&(!a||a===d)){if(r.splice(l,1),r.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+nA,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[l4+ae._capitalize(e)];return ae._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Be.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!ae.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let r;a!==void 0&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,r,a))}_fireAndBubble(e,n,a){n&&this.nodeType===o4&&(n.target=this);const r=[rA,sA,lA,oA,uA,cA];if(!(r.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const c=r.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!c&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,r;const l=(n=this._cache.get(Qp))!==null&&n!==void 0?n:{};let c=l?.[e];if(c===void 0){c=[];let d=Object.getPrototypeOf(this);for(;d;){const g=(r=(a=d.eventListeners)===null||a===void 0?void 0:a[e])!==null&&r!==void 0?r:[];c.push(...g),d=Object.getPrototypeOf(d)}l[e]=c,this._cache.set(Qp,l)}return c}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const r=this.eventListeners[e];if(r)for(let l=0;l<r.length;l++)r[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),r=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||r;sn._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-r.x,y:l.y-r.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){sn._dragElements.has(this._id)||this._createDragElement(e);const a=sn._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let r={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const c=l.call(this,r,e);c?r=c:ae.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const n=sn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),sn._endDragBefore(e),sn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=sn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Be.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let r=!1;sn._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(r=!0)}),r||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=sn._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",r=n&&n.dragStatus==="ready";a?this.stopDrag():r&&sn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ae.haveIntersection(a,this.getClientRect())}static create(e,n){return ae._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=zy.prototype.getClassName.call(e),r=e.children,l,c,d;n&&(e.attrs.container=n),Be[a]||(ae.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const g=Be[a];if(l=new g(e.attrs),r)for(c=r.length,d=0;d<c;d++)l.add(zy._createNode(r[d]));return l}};Le.prototype.nodeType="Node";Le.prototype._attrsAffectingSize=[];Le.prototype.eventListeners={};Le.prototype.on.call(Le.prototype,dA,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ru),this._clearSelfAndDescendantCache($l)});Le.prototype.on.call(Le.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(jy)});Le.prototype.on.call(Le.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Dy)});Le.prototype.on.call(Le.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(xm)});const En=q.addGetterSetter;En(Le,"zIndex");En(Le,"absolutePosition");En(Le,"position");En(Le,"x",0,Ue());En(Le,"y",0,Ue());En(Le,"globalCompositeOperation","source-over",Pc());En(Le,"opacity",1,Ue());En(Le,"name","",Pc());En(Le,"id","",Pc());En(Le,"rotation",0,Ue());q.addComponentsGetterSetter(Le,"scale",["x","y"]);En(Le,"scaleX",1,Ue());En(Le,"scaleY",1,Ue());q.addComponentsGetterSetter(Le,"skew",["x","y"]);En(Le,"skewX",0,Ue());En(Le,"skewY",0,Ue());q.addComponentsGetterSetter(Le,"offset",["x","y"]);En(Le,"offsetX",0,Ue());En(Le,"offsetY",0,Ue());En(Le,"dragDistance",void 0,Ue());En(Le,"width",0,Ue());En(Le,"height",0,Ue());En(Le,"listening",!0,ms());En(Le,"preventDefault",!0,ms());En(Le,"filters",void 0,function(t){return this._filterUpToDate=!1,t});En(Le,"visible",!0,ms());En(Le,"transformsEnabled","all",Pc());En(Le,"size");En(Le,"dragBoundFunc");En(Le,"draggable",!1,ms());q.backCompat(Le,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ir extends Le{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(r=>{const l=r._isMatch(e);return l&&a.push(r),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const r of a){if(n=e(r),n)return!0;if(r.hasChildren()&&(n=r._descendants(e),n))return!0}return!1}toObject(){const e=Le.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Le.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const r=this.getLayer(),l=e||r&&r.getCanvas(),c=l&&l.getContext(),d=this._getCanvasCache(),g=d&&d.scene,m=l&&l.isCache;if(!this.isVisible()&&!m)return this;if(g){c.save();const v=this.getAbsoluteTransform(n).getMatrix();c.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),r=e||a&&a.hitCanvas,l=r&&r.getContext(),c=this._getCanvasCache();if(c&&c.hit){l.save();const g=this.getAbsoluteTransform(n).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",r,n);return this}_drawChildren(e,n,a,r){var l;const c=n&&n.getContext(),d=this.clipWidth(),g=this.clipHeight(),m=this.clipFunc(),v=typeof d=="number"&&typeof g=="number"||m,_=a===this;if(v){c.save();const E=this.getAbsoluteTransform(a);let A=E.getMatrix();c.transform(A[0],A[1],A[2],A[3],A[4],A[5]),c.beginPath();let R;if(m)R=m.call(this,c,this);else{const O=this.clipX(),j=this.clipY();c.rect(O||0,j||0,d,g)}c.clip.apply(c,R),A=E.copy().invert().getMatrix(),c.transform(A[0],A[1],A[2],A[3],A[4],A[5])}const S=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(c.save(),c._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(E){E[e](n,a,r)}),S&&c.restore(),v&&c.restore()}getClientRect(e={}){var n;const a=e.skipTransform,r=e.relativeTo;let l,c,d,g,m={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(E){if(!E.visible())return;const A=E.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});A.width===0&&A.height===0||(l===void 0?(l=A.x,c=A.y,d=A.x+A.width,g=A.y+A.height):(l=Math.min(l,A.x),c=Math.min(c,A.y),d=Math.max(d,A.x+A.width),g=Math.max(g,A.y+A.height)))});const _=this.find("Shape");let S=!1;for(let E=0;E<_.length;E++)if(_[E]._isVisible(this)){S=!0;break}return S&&l!==void 0?m={x:l,y:c,width:d-l,height:g-c}:m={x:0,y:0,width:0,height:0},a?m:this._transformedRect(m,r)}}q.addComponentsGetterSetter(ir,"clip",["x","y","width","height"]);q.addGetterSetter(ir,"clipX",void 0,Ue());q.addGetterSetter(ir,"clipY",void 0,Ue());q.addGetterSetter(ir,"clipWidth",void 0,Ue());q.addGetterSetter(ir,"clipHeight",void 0,Ue());q.addGetterSetter(ir,"clipFunc");const V0=new Map,W3=Be._global.PointerEvent!==void 0;function z1(t){return V0.get(t)}function w2(t){return{evt:t,pointerId:t.pointerId}}function eS(t,e){return V0.get(t)===e}function tS(t,e){D0(t),e.getStage()&&(V0.set(t,e),W3&&e._fire("gotpointercapture",w2(new PointerEvent("gotpointercapture"))))}function D0(t,e){const n=V0.get(t);if(!n)return;const a=n.getStage();a&&a.content,V0.delete(t),W3&&n._fire("lostpointercapture",w2(new PointerEvent("lostpointercapture")))}const gA="Stage",pA="string",c4="px",mA="mouseout",nS="mouseleave",aS="mouseover",iS="mouseenter",rS="mousemove",sS="mousedown",lS="mouseup",w0="pointermove",E0="pointerdown",Td="pointerup",C0="pointercancel",vA="lostpointercapture",$p="pointerout",T0="pointerleave",Jp="pointerover",Wp="pointerenter",Uy="contextmenu",oS="touchstart",uS="touchend",cS="touchmove",fS="touchcancel",ky="wheel",yA=5,bA=[[iS,"_pointerenter"],[sS,"_pointerdown"],[rS,"_pointermove"],[lS,"_pointerup"],[nS,"_pointerleave"],[oS,"_pointerdown"],[cS,"_pointermove"],[uS,"_pointerup"],[fS,"_pointercancel"],[aS,"_pointerover"],[ky,"_wheel"],[Uy,"_contextmenu"],[E0,"_pointerdown"],[w0,"_pointermove"],[Td,"_pointerup"],[C0,"_pointercancel"],[T0,"_pointerleave"],[vA,"_lostpointercapture"]],U1={mouse:{[$p]:mA,[T0]:nS,[Jp]:aS,[Wp]:iS,[w0]:rS,[E0]:sS,[Td]:lS,[C0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[$p]:"touchout",[T0]:"touchleave",[Jp]:"touchover",[Wp]:"touchenter",[w0]:cS,[E0]:oS,[Td]:uS,[C0]:fS,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[$p]:$p,[T0]:T0,[Jp]:Jp,[Wp]:Wp,[w0]:w0,[E0]:E0,[Td]:Td,[C0]:C0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},A0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",gd=t=>{const e=A0(t);if(e==="pointer")return Be.pointerEventsEnabled&&U1.pointer;if(e==="touch")return U1.touch;if(e==="mouse")return U1.mouse};function f4(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ae.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const _A="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",j0=[];let lv=class extends ir{constructor(e){super(f4(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),j0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{f4(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||ae.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===pA){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),ir.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&ae._isInDocument(e)&&this.container().removeChild(e);const n=j0.indexOf(this);return n>-1&&j0.splice(n,1),ae.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ae.warn(_A),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new fu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,r=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),r.forEach(function(l){if(!l.isVisible())return;const c=l._toKonvaCanvas(e);a.drawImage(c._canvas,e.x,e.y,c.getWidth()/c.getPixelRatio(),c.getHeight()/c.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,r=a-1;for(let l=r;l>=0;l--){const c=n[l].getIntersection(e);if(c)return c}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+c4,this.content.style.height=n+c4),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);const a=this.children.length;return a>yA&&ae.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Be.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return eS(e,this)}setPointerCapture(e){tS(e,this)}releaseCapture(e){D0(e)}getLayers(){return this.children}_bindContentEvents(){Be.isBrowser&&bA.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=gd(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=gd(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=gd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const r=this._getTargetShape(a),l=!(Be.isDragging()||Be.isTransforming())||Be.hitOnDragEnabled;r&&l?(r._fireAndBubble(n.pointerout,{evt:e}),r._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=gd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);let r=!1;this._changedPointerPositions.forEach(l=>{const c=this.getIntersection(l);if(sn.justDragged=!1,Be["_"+a+"ListenClick"]=!0,!c||!c.isListening()){this[a+"ClickStartShape"]=void 0;return}Be.capturePointerEventsEnabled&&c.setPointerCapture(l.id),this[a+"ClickStartShape"]=c,c._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),r=!0;const d=e.type.indexOf("touch")>=0;c.preventDefault()&&e.cancelable&&d&&e.preventDefault()}),r||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=gd(e.type),a=A0(e.type);if(!n)return;const r=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Be.isDragging()&&sn.node.preventDefault()&&e.cancelable&&r&&e.preventDefault(),this.setPointersPositions(e),!(!(Be.isDragging()||Be.isTransforming())||Be.hitOnDragEnabled))return;const c={};let d=!1;const g=this._getTargetShape(a);this._changedPointerPositions.forEach(m=>{const v=z1(m.id)||this.getIntersection(m),_=m.id,S={evt:e,pointerId:_},E=g!==v;if(E&&g&&(g._fireAndBubble(n.pointerout,{...S},v),g._fireAndBubble(n.pointerleave,{...S},v)),v){if(c[v._id])return;c[v._id]=!0}v&&v.isListening()?(d=!0,E&&(v._fireAndBubble(n.pointerover,{...S},g),v._fireAndBubble(n.pointerenter,{...S},g),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...S})):g&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),d||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=gd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const r=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],c={};let d=!1;this._changedPointerPositions.forEach(g=>{const m=z1(g.id)||this.getIntersection(g);if(m){if(m.releaseCapture(g.id),c[m._id])return;c[m._id]=!0}const v=g.id,_={evt:e,pointerId:v};let S=!1;Be["_"+a+"InDblClickWindow"]?(S=!0,clearTimeout(this[a+"DblTimeout"])):sn.justDragged||(Be["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Be["_"+a+"InDblClickWindow"]=!1},Be.dblClickWindow),m&&m.isListening()?(d=!0,this[a+"ClickEndShape"]=m,m._fireAndBubble(n.pointerup,{..._}),Be["_"+a+"ListenClick"]&&r&&r===m&&(m._fireAndBubble(n.pointerclick,{..._}),S&&l&&l===m&&m._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,d||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d=!0),Be["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),S&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),d||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Be["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Uy,{evt:e}):this._fire(Uy,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(ky,{evt:e}):this._fire(ky,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=z1(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Td,w2(e)),D0(e.pointerId)}_lostpointercapture(e){D0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,r=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,r=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:r},this._pointerPositions=[{x:a,y:r,id:ae._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:r,id:ae._getFirstPointerId(e)}])}_setPointerPosition(e){ae.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new fu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new S2({pixelRatio:1,width:this.width(),height:this.height()}),!Be.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return ae.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};lv.prototype.nodeType=gA;Bn(lv);q.addGetterSetter(lv,"container");Be.isBrowser&&document.addEventListener("visibilitychange",()=>{j0.forEach(t=>{t.batchDraw()})});const dS="hasShadow",hS="shadowRGBA",gS="patternImage",pS="linearGradient",mS="radialGradient";let em;function k1(){return em||(em=ae.createCanvasElement().getContext("2d"),em)}const z0={};function SA(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function xA(t){t.stroke()}function wA(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function EA(t){t.stroke()}function CA(){this._clearCache(dS)}function TA(){this._clearCache(hS)}function AA(){this._clearCache(gS)}function RA(){this._clearCache(pS)}function OA(){this._clearCache(mS)}class Ne extends Le{constructor(e){super(e);let n;for(;n=ae.getRandomColor(),!(n&&!(n in z0)););this.colorKey=n,z0[n]=this}getContext(){return ae.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ae.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(dS,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(gS,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=k1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new nr;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Be.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const r=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:r[0],b:r[1],c:r[2],d:r[3],e:r[4],f:r[5]}:new DOMMatrix(r);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(pS,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=k1(),a=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,r.x,r.y);for(let c=0;c<e.length;c+=2)l.addColorStop(e[c],e[c+1]);return l}}_getRadialGradient(){return this._getCache(mS,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=k1(),a=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let c=0;c<e.length;c+=2)l.addColorStop(e[c],e[c+1]);return l}}getShadowRGBA(){return this._getCache(hS,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=ae.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Le.prototype.destroy.call(this),delete z0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const r=e||this.hasFill(),l=this.hasStroke(),c=this.getAbsoluteOpacity()!==1;if(r&&l&&c)return!0;const d=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(r&&l&&d&&g)}setStrokeHitEnabled(e){ae.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const r=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,c=this.getSelfRect(),g=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,m=c.width+g,v=c.height+g,_=!e.skipShadow&&this.hasShadow(),S=_?this.shadowOffsetX():0,E=_?this.shadowOffsetY():0,A=m+Math.abs(S),R=v+Math.abs(E),O=_&&this.shadowBlur()||0,j=A+O*2,D=R+O*2,z={width:j,height:D,x:-(g/2+O)+Math.min(S,0)+c.x,y:-(g/2+O)+Math.min(E,0)+c.y};return r?z:this._transformedRect(z,l)}drawScene(e,n,a){const r=this.getLayer(),l=e||r.getCanvas(),c=l.getContext(),d=this._getCanvasCache(),g=this.getSceneFunc(),m=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(d){c.save();const S=this.getAbsoluteTransform(n).getMatrix();return c.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(c),c.restore(),this}if(!g)return this;if(c.save(),this._useBufferCanvas()){v=this.getStage();const S=a||v.bufferCanvas,E=S.getContext();E.clear(),E.save(),E._applyLineJoin(this),E._applyMiterLimit(this);const A=this.getAbsoluteTransform(n).getMatrix();E.transform(A[0],A[1],A[2],A[3],A[4],A[5]),g.call(this,E,this),E.restore();const R=S.pixelRatio;m&&c._applyShadow(this),c._applyOpacity(this),c._applyGlobalCompositeOperation(this),c.drawImage(S._canvas,S.x||0,S.y||0,S.width/R,S.height/R)}else{if(c._applyLineJoin(this),c._applyMiterLimit(this),!_){const S=this.getAbsoluteTransform(n).getMatrix();c.transform(S[0],S[1],S[2],S[3],S[4],S[5]),c._applyOpacity(this),c._applyGlobalCompositeOperation(this)}m&&c._applyShadow(this),g.call(this,c,this)}return c.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const r=this.getLayer(),l=e||r.hitCanvas,c=l&&l.getContext(),d=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),m=g&&g.hit;if(this.colorKey||ae.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),m){c.save();const _=this.getAbsoluteTransform(n).getMatrix();return c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(c),c.restore(),this}if(!d)return this;if(c.save(),c._applyLineJoin(this),c._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();c.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return d.call(this,c,this),c.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),r=n.hit,l=r.getContext(),c=r.getWidth(),d=r.getHeight();l.clear(),l.drawImage(a._canvas,0,0,c,d);try{const g=l.getImageData(0,0,c,d),m=g.data,v=m.length,_=ae._hexToRgb(this.colorKey);for(let S=0;S<v;S+=4)m[S+3]>e?(m[S]=_.r,m[S+1]=_.g,m[S+2]=_.b,m[S+3]=255):m[S+3]=0;l.putImageData(g,0,0)}catch(g){ae.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return eS(e,this)}setPointerCapture(e){tS(e,this)}releaseCapture(e){D0(e)}}Ne.prototype._fillFunc=SA;Ne.prototype._strokeFunc=xA;Ne.prototype._fillFuncHit=wA;Ne.prototype._strokeFuncHit=EA;Ne.prototype._centroid=!1;Ne.prototype.nodeType="Shape";Bn(Ne);Ne.prototype.eventListeners={};Ne.prototype.on.call(Ne.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",CA);Ne.prototype.on.call(Ne.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",TA);Ne.prototype.on.call(Ne.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",AA);Ne.prototype.on.call(Ne.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",RA);Ne.prototype.on.call(Ne.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",OA);q.addGetterSetter(Ne,"stroke",void 0,J3());q.addGetterSetter(Ne,"strokeWidth",2,Ue());q.addGetterSetter(Ne,"fillAfterStrokeEnabled",!1);q.addGetterSetter(Ne,"hitStrokeWidth","auto",x2());q.addGetterSetter(Ne,"strokeHitEnabled",!0,ms());q.addGetterSetter(Ne,"perfectDrawEnabled",!0,ms());q.addGetterSetter(Ne,"shadowForStrokeEnabled",!0,ms());q.addGetterSetter(Ne,"lineJoin");q.addGetterSetter(Ne,"lineCap");q.addGetterSetter(Ne,"miterLimit");q.addGetterSetter(Ne,"sceneFunc");q.addGetterSetter(Ne,"hitFunc");q.addGetterSetter(Ne,"dash");q.addGetterSetter(Ne,"dashOffset",0,Ue());q.addGetterSetter(Ne,"shadowColor",void 0,Pc());q.addGetterSetter(Ne,"shadowBlur",0,Ue());q.addGetterSetter(Ne,"shadowOpacity",1,Ue());q.addComponentsGetterSetter(Ne,"shadowOffset",["x","y"]);q.addGetterSetter(Ne,"shadowOffsetX",0,Ue());q.addGetterSetter(Ne,"shadowOffsetY",0,Ue());q.addGetterSetter(Ne,"fillPatternImage");q.addGetterSetter(Ne,"fill",void 0,J3());q.addGetterSetter(Ne,"fillPatternX",0,Ue());q.addGetterSetter(Ne,"fillPatternY",0,Ue());q.addGetterSetter(Ne,"fillLinearGradientColorStops");q.addGetterSetter(Ne,"strokeLinearGradientColorStops");q.addGetterSetter(Ne,"fillRadialGradientStartRadius",0);q.addGetterSetter(Ne,"fillRadialGradientEndRadius",0);q.addGetterSetter(Ne,"fillRadialGradientColorStops");q.addGetterSetter(Ne,"fillPatternRepeat","repeat");q.addGetterSetter(Ne,"fillEnabled",!0);q.addGetterSetter(Ne,"strokeEnabled",!0);q.addGetterSetter(Ne,"shadowEnabled",!0);q.addGetterSetter(Ne,"dashEnabled",!0);q.addGetterSetter(Ne,"strokeScaleEnabled",!0);q.addGetterSetter(Ne,"fillPriority","color");q.addComponentsGetterSetter(Ne,"fillPatternOffset",["x","y"]);q.addGetterSetter(Ne,"fillPatternOffsetX",0,Ue());q.addGetterSetter(Ne,"fillPatternOffsetY",0,Ue());q.addComponentsGetterSetter(Ne,"fillPatternScale",["x","y"]);q.addGetterSetter(Ne,"fillPatternScaleX",1,Ue());q.addGetterSetter(Ne,"fillPatternScaleY",1,Ue());q.addComponentsGetterSetter(Ne,"fillLinearGradientStartPoint",["x","y"]);q.addComponentsGetterSetter(Ne,"strokeLinearGradientStartPoint",["x","y"]);q.addGetterSetter(Ne,"fillLinearGradientStartPointX",0);q.addGetterSetter(Ne,"strokeLinearGradientStartPointX",0);q.addGetterSetter(Ne,"fillLinearGradientStartPointY",0);q.addGetterSetter(Ne,"strokeLinearGradientStartPointY",0);q.addComponentsGetterSetter(Ne,"fillLinearGradientEndPoint",["x","y"]);q.addComponentsGetterSetter(Ne,"strokeLinearGradientEndPoint",["x","y"]);q.addGetterSetter(Ne,"fillLinearGradientEndPointX",0);q.addGetterSetter(Ne,"strokeLinearGradientEndPointX",0);q.addGetterSetter(Ne,"fillLinearGradientEndPointY",0);q.addGetterSetter(Ne,"strokeLinearGradientEndPointY",0);q.addComponentsGetterSetter(Ne,"fillRadialGradientStartPoint",["x","y"]);q.addGetterSetter(Ne,"fillRadialGradientStartPointX",0);q.addGetterSetter(Ne,"fillRadialGradientStartPointY",0);q.addComponentsGetterSetter(Ne,"fillRadialGradientEndPoint",["x","y"]);q.addGetterSetter(Ne,"fillRadialGradientEndPointX",0);q.addGetterSetter(Ne,"fillRadialGradientEndPointY",0);q.addGetterSetter(Ne,"fillPatternRotation",0);q.addGetterSetter(Ne,"fillRule",void 0,Pc());q.backCompat(Ne,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const NA="#",MA="beforeDraw",DA="draw",vS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],jA=vS.length;let Bc=class extends ir{constructor(e){super(e),this.canvas=new fu,this.hitCanvas=new S2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Le.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Le.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Le.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Le.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Le.prototype.remove.call(this),e&&e.parentNode&&ae._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ae.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Le.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ae.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ae.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ae.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let r=0;r<jA;r++){const l=vS[r],c=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),d=c.shape;if(d)return d;if(a=!!c.antialiased,!c.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,r=a[3];if(r===255){const l=ae._rgbToHex(a[0],a[1],a[2]),c=z0[NA+l];return c?{shape:c}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(e,n,a){const r=this.getLayer(),l=e||r&&r.getCanvas();return this._fire(MA,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),ir.prototype.drawScene.call(this,l,n,a),this._fire(DA,{node:this}),this}drawHit(e,n){const a=this.getLayer(),r=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),ir.prototype.drawHit.call(this,r,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ae.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ae.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return ae.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Bc.prototype.nodeType="Layer";Bn(Bc);q.addGetterSetter(Bc,"imageSmoothingEnabled",!0);q.addGetterSetter(Bc,"clearBeforeDraw",!0);q.addGetterSetter(Bc,"hitGraphEnabled",!0,ms());class E2 extends Bc{constructor(e){super(e),this.listening(!1),ae.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}E2.prototype.nodeType="FastLayer";Bn(E2);let kd=class extends ir{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ae.throw("You may only add groups and shapes to groups.")}};kd.prototype.nodeType="Group";Bn(kd);const L1=(function(){return Oc.performance&&Oc.performance.now?function(){return Oc.performance.now()}:function(){return new Date().getTime()}})();class Nr{constructor(e,n){this.id=Nr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:L1(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let r=0;r<a;r++)if(n[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Nr.animations,a=n.length;for(let r=0;r<a;r++)if(n[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=L1(),Nr._addAnimation(this),this}stop(){return Nr._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,r=a.length;for(let l=0;l<r;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const r=n[a],l=r.layers,c=r.func;r._updateFrameObject(L1());const d=l.length;let g;if(c?g=c.call(r,r.frame)!==!1:g=!0,!!g)for(let m=0;m<d;m++){const v=l[m];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=Nr;e.animations.length?(e._runFrames(),ae.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ae.requestAnimFrame(this._animationLoop))}}Nr.animations=[];Nr.animIdCounter=0;Nr.animRunning=!1;const zA={node:1,duration:1,easing:1,onFinish:1,yoyo:1},UA=1,d4=2,h4=3,g4=["fill","stroke","shadowColor"];let kA=0;class LA{constructor(e,n,a,r,l,c,d){this.prop=e,this.propFunc=n,this.begin=r,this._pos=r,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=d4,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h4,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===d4?this.setTime(e):this.state===h4&&this.setTime(this.duration-e)}pause(){this.state=UA,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Rn{constructor(e){const n=this,a=e.node,r=a._id,l=e.easing||U0.Linear,c=!!e.yoyo;let d,g;typeof e.duration>"u"?d=.3:e.duration===0?d=.001:d=e.duration,this.node=a,this._id=kA++;const m=a.getLayer()||(a instanceof Be.Stage?a.getLayers():null);m||ae.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Nr(function(){n.tween.onEnterFrame()},m),this.tween=new LA(g,function(v){n._tweenFunc(v)},l,0,1,d*1e3,c),this._addListeners(),Rn.attrs[r]||(Rn.attrs[r]={}),Rn.attrs[r][this._id]||(Rn.attrs[r][this._id]={}),Rn.tweens[r]||(Rn.tweens[r]={});for(g in e)zA[g]===void 0&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,r=a._id;let l,c,d,g,m;const v=Rn.tweens[r][e];v&&delete Rn.attrs[r][v][e];let _=a.getAttr(e);if(ae._isArray(n))if(l=[],c=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(g=_,_=ae._prepareArrayForTween(_,n,a.closed())):(d=n,n=ae._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let S=0;S<c;S++)if(S%2===0)l.push(n[S]-_[S]);else{const E=ae.colorToRGBA(_[S]);m=ae.colorToRGBA(n[S]),_[S]=E,l.push({r:m.r-E.r,g:m.g-E.g,b:m.b-E.b,a:m.a-E.a})}else for(let S=0;S<c;S++)l.push(n[S]-_[S]);else g4.indexOf(e)!==-1?(_=ae.colorToRGBA(_),m=ae.colorToRGBA(n),l={r:m.r-_.r,g:m.g-_.g,b:m.b-_.b,a:m.a-_.a}):l=n-_;Rn.attrs[r][this._id][e]={start:_,diff:l,end:n,trueEnd:d,trueStart:g},Rn.tweens[r][e]=this._id}_tweenFunc(e){const n=this.node,a=Rn.attrs[n._id][this._id];let r,l,c,d,g,m,v,_;for(r in a){if(l=a[r],c=l.start,d=l.diff,_=l.end,ae._isArray(c))if(g=[],v=Math.max(c.length,_.length),r.indexOf("fill")===0)for(m=0;m<v;m++)m%2===0?g.push((c[m]||0)+d[m]*e):g.push("rgba("+Math.round(c[m].r+d[m].r*e)+","+Math.round(c[m].g+d[m].g*e)+","+Math.round(c[m].b+d[m].b*e)+","+(c[m].a+d[m].a*e)+")");else for(m=0;m<v;m++)g.push((c[m]||0)+d[m]*e);else g4.indexOf(r)!==-1?g="rgba("+Math.round(c.r+d.r*e)+","+Math.round(c.g+d.g*e)+","+Math.round(c.b+d.b*e)+","+(c.a+d.a*e)+")":g=c+d*e;n.setAttr(r,g)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Rn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Rn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=Rn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const r in a)delete Rn.tweens[e][r];delete Rn.attrs[e][n],Rn.tweens[e]&&(Object.keys(Rn.tweens[e]).length===0&&delete Rn.tweens[e],Object.keys(Rn.attrs[e]).length===0&&delete Rn.attrs[e])}}Rn.attrs={};Rn.tweens={};Le.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Rn(t).play()};const U0={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let r=1.70158;return(t/=a/2)<1?n/2*(t*t*(((r*=1.525)+1)*t-r))+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e},ElasticEaseIn(t,e,n,a,r,l){let c=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!r||r<Math.abs(n)?(r=n,c=l/4):c=l/(2*Math.PI)*Math.asin(n/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*a-c)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,r,l){let c=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!r||r<Math.abs(n)?(r=n,c=l/4):c=l/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*a-c)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,r,l){let c=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!r||r<Math.abs(n)?(r=n,c=l/4):c=l/(2*Math.PI)*Math.asin(n/r),t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*a-c)*(2*Math.PI)/l))+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*a-c)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-U0.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?U0.BounceEaseIn(t*2,0,n,a)*.5+e:U0.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},Ld=ae._assign(Be,{Util:ae,Transform:nr,Node:Le,Container:ir,Stage:lv,stages:j0,Layer:Bc,FastLayer:E2,Group:kd,DD:sn,Shape:Ne,shapes:z0,Animation:Nr,Tween:Rn,Easings:U0,Context:rv,Canvas:_2});class so extends Ne{_sceneFunc(e){const n=Be.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),r=Be.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(r,Math.PI)),c=1,d=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),g=Math.sin(Math.min(r,Math.PI/2)),m=l*(l>0?e:n),v=c*n,_=d*(d>0?e:n),S=g*(g>0?n:e);return{x:m,y:a?-1*S:_,width:v-m,height:S-_}}}so.prototype._centroid=!0;so.prototype.className="Arc";so.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Bn(so);q.addGetterSetter(so,"innerRadius",0,Ue());q.addGetterSetter(so,"outerRadius",0,Ue());q.addGetterSetter(so,"angle",0,Ue());q.addGetterSetter(so,"clockwise",!1,ms());function Ly(t,e,n,a,r,l,c){const d=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),g=Math.sqrt(Math.pow(r-n,2)+Math.pow(l-a,2)),m=c*d/(d+g),v=c*g/(d+g),_=n-m*(r-t),S=a-m*(l-e),E=n+v*(r-t),A=a+v*(l-e);return[_,S,E,A]}function p4(t,e){const n=t.length,a=[];for(let r=2;r<n-2;r+=2){const l=Ly(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[r]),a.push(t[r+1]),a.push(l[2]),a.push(l[3]))}return a}let lo=class extends Ne{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,r=this.tension(),l=this.closed(),c=this.bezier();if(!a)return;let d=0;if(e.beginPath(),e.moveTo(n[0],n[1]),r!==0&&a>4){const g=this.getTensionPoints(),m=g.length;for(d=l?0:4,l||e.quadraticCurveTo(g[0],g[1],g[2],g[3]);d<m-2;)e.bezierCurveTo(g[d++],g[d++],g[d++],g[d++],g[d++],g[d++]);l||e.quadraticCurveTo(g[m-2],g[m-1],n[a-2],n[a-1])}else if(c)for(d=2;d<a;)e.bezierCurveTo(n[d++],n[d++],n[d++],n[d++],n[d++],n[d++]);else for(d=2;d<a;d+=2)e.lineTo(n[d],n[d+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():p4(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),r=Ly(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=Ly(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),c=p4(e,a);return[r[2],r[3]].concat(c).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],r=e[1],l=e[1],c,d;for(let g=0;g<e.length/2;g++)c=e[g*2],d=e[g*2+1],n=Math.min(n,c),a=Math.max(a,c),r=Math.min(r,d),l=Math.max(l,d);return{x:n,y:r,width:a-n,height:l-r}}};lo.prototype.className="Line";lo.prototype._attrsAffectingSize=["points","bezier","tension"];Bn(lo);q.addGetterSetter(lo,"closed",!1);q.addGetterSetter(lo,"bezier",!1);q.addGetterSetter(lo,"tension",0,Ue());q.addGetterSetter(lo,"points",[],WT());const PA=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],BA=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],HA=[[1],[1,1],[1,2,1],[1,3,3,1]],m4=(t,e,n)=>{let a,r;const c=n/2;a=0;for(let d=0;d<20;d++)r=c*PA[20][d]+c,a+=BA[20][d]*GA(t,e,r);return c*a},v4=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],r=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],c=2*e[1]-2*e[0],d=4*(a*a+r*r),g=4*(a*l+r*c),m=l*l+c*c;if(d===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=g/(2*d),_=m/d,S=n+v,E=_-v*v,A=S*S+E>0?Math.sqrt(S*S+E):0,R=v*v+E>0?Math.sqrt(v*v+E):0,O=v+Math.sqrt(v*v+E)!==0?E*Math.log(Math.abs((S+A)/(v+R))):0;return Math.sqrt(d)/2*(S*A-v*R+O)};function GA(t,e,n){const a=Py(1,n,t),r=Py(1,n,e),l=a*a+r*r;return Math.sqrt(l)}const Py=(t,e,n)=>{const a=n.length-1;let r,l;if(a===0)return 0;if(t===0){l=0;for(let c=0;c<=a;c++)l+=HA[a][c]*Math.pow(1-e,a-c)*Math.pow(e,c)*n[c];return l}else{r=new Array(a);for(let c=0;c<a;c++)r[c]=a*(n[c+1]-n[c]);return Py(t-1,e,r)}},y4=(t,e,n)=>{let a=1,r=t/e,l=(t-n(r))/e,c=0;for(;a>.001;){const d=n(r+l),g=Math.abs(t-d)/e;if(g<a)a=g,r+=l;else{const m=n(r-l),v=Math.abs(t-m)/e;v<a?(a=v,r-=l):l/=2}if(c++,c>500)break}return r};let Mr=class Ui extends Ne{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ui.parsePathData(this.data()),this.pathLength=Ui.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let r=0;r<n.length;r++){const l=n[r].command,c=n[r].points;switch(l){case"L":e.lineTo(c[0],c[1]);break;case"M":e.moveTo(c[0],c[1]);break;case"C":e.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);break;case"Q":e.quadraticCurveTo(c[0],c[1],c[2],c[3]);break;case"A":const d=c[0],g=c[1],m=c[2],v=c[3],_=c[4],S=c[5],E=c[6],A=c[7],R=m>v?m:v,O=m>v?1:m/v,j=m>v?v/m:1;e.translate(d,g),e.rotate(E),e.scale(O,j),e.arc(0,0,R,_,_+S,1-A),e.scale(1/O,1/j),e.rotate(-E),e.translate(-d,-g);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(g){if(g.command==="A"){const m=g.points[4],v=g.points[5],_=g.points[4]+v;let S=Math.PI/180;if(Math.abs(m-_)<S&&(S=Math.abs(m-_)),v<0)for(let E=m-S;E>_;E-=S){const A=Ui.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],E,0);e.push(A.x,A.y)}else for(let E=m+S;E<_;E+=S){const A=Ui.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],E,0);e.push(A.x,A.y)}}else if(g.command==="C")for(let m=0;m<=1;m+=.01){const v=Ui.getPointOnCubicBezier(m,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(v.x,v.y)}else e=e.concat(g.points)});let n=e[0],a=e[0],r=e[1],l=e[1],c,d;for(let g=0;g<e.length/2;g++)c=e[g*2],d=e[g*2+1],isNaN(c)||(n=Math.min(n,c),a=Math.max(a,c)),isNaN(d)||(r=Math.min(r,d),l=Math.max(l,d));return{x:n,y:r,width:a-n,height:l-r}}getLength(){return this.pathLength}getPointAtLength(e){return Ui.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,r){return Math.sqrt((a-e)*(a-e)+(r-n)*(r-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,r=0,l=n.length;if(!l)return null;for(;r<l&&e>n[r].pathLength;)e-=n[r].pathLength,++r;if(r===l)return a=n[r-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[r].command==="M"?(a=n[r].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[r].start.x,y:n[r].start.y};const c=n[r],d=c.points;switch(c.command){case"L":return Ui.getPointOnLine(e,c.start.x,c.start.y,d[0],d[1]);case"C":return Ui.getPointOnCubicBezier(y4(e,Ui.getPathLength(n),R=>m4([c.start.x,d[0],d[2],d[4]],[c.start.y,d[1],d[3],d[5]],R)),c.start.x,c.start.y,d[0],d[1],d[2],d[3],d[4],d[5]);case"Q":return Ui.getPointOnQuadraticBezier(y4(e,Ui.getPathLength(n),R=>v4([c.start.x,d[0],d[2]],[c.start.y,d[1],d[3]],R)),c.start.x,c.start.y,d[0],d[1],d[2],d[3]);case"A":const g=d[0],m=d[1],v=d[2],_=d[3],S=d[5],E=d[6];let A=d[4];return A+=S*e/c.pathLength,Ui.getPointOnEllipticalArc(g,m,v,_,A,E)}return null}static getPointOnLine(e,n,a,r,l,c,d){c=c??n,d=d??a;const g=this.getLineLength(n,a,r,l);if(g<1e-10)return{x:n,y:a};if(r===n)return{x:c,y:d+(l>a?e:-e)};const m=(l-a)/(r-n),v=Math.sqrt(e*e/(1+m*m))*(r<n?-1:1),_=m*v;if(Math.abs(d-a-m*(c-n))<1e-10)return{x:c+v,y:d+_};const S=((c-n)*(r-n)+(d-a)*(l-a))/(g*g),E=n+S*(r-n),A=a+S*(l-a),R=this.getLineLength(c,d,E,A),O=Math.sqrt(e*e-R*R),j=Math.sqrt(O*O/(1+m*m))*(r<n?-1:1),D=m*j;return{x:E+j,y:A+D}}static getPointOnCubicBezier(e,n,a,r,l,c,d,g,m){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function E(O){return(1-O)*(1-O)*(1-O)}const A=g*v(e)+c*_(e)+r*S(e)+n*E(e),R=m*v(e)+d*_(e)+l*S(e)+a*E(e);return{x:A,y:R}}static getPointOnQuadraticBezier(e,n,a,r,l,c,d){function g(E){return E*E}function m(E){return 2*E*(1-E)}function v(E){return(1-E)*(1-E)}const _=c*g(e)+r*m(e)+n*v(e),S=d*g(e)+l*m(e)+a*v(e);return{x:_,y:S}}static getPointOnEllipticalArc(e,n,a,r,l,c){const d=Math.cos(c),g=Math.sin(c),m={x:a*Math.cos(l),y:r*Math.sin(l)};return{x:e+(m.x*d-m.y*g),y:n+(m.x*g+m.y*d)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const r=n.split("|"),l=[],c=[];let d=0,g=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<r.length;_++){let S=r[_],E=S.charAt(0);for(S=S.slice(1),c.length=0;v=m.exec(S);)c.push(v[0]);let A=[],R=E==="A"||E==="a"?0:-1;for(let O=0,j=c.length;O<j;O++){const D=c[O];if(D==="00"){A.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(D)){A.push(parseInt(D[0],10)),A.push(parseInt(D[1],10)),A.push(parseFloat(D.slice(2))),R+=3,R>=7&&(R-=7);continue}if(D==="11"||D==="10"||D==="01"){A.push(parseInt(D[0],10)),A.push(parseInt(D[1],10)),R+=2,R>=7&&(R-=7);continue}if(D==="0"||D==="1"){A.push(parseInt(D,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(D)){A.push(parseInt(D[0],10)),A.push(parseFloat(D.slice(1))),R+=2,R>=7&&(R-=7);continue}if(D==="0"||D==="1"){A.push(parseInt(D,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(D);isNaN(z)?A.push(0):A.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(D);isNaN(z)?A.push(0):A.push(z)}}for(;A.length>0&&!isNaN(A[0]);){let O="",j=[];const D=d,z=g;let P,H,L,Y,ie,ue,me,Te,ve,pe;switch(E){case"l":d+=A.shift(),g+=A.shift(),O="L",j.push(d,g);break;case"L":d=A.shift(),g=A.shift(),j.push(d,g);break;case"m":const ye=A.shift(),Se=A.shift();if(d+=ye,g+=Se,O="M",l.length>2&&l[l.length-1].command==="z"){for(let G=l.length-2;G>=0;G--)if(l[G].command==="M"){d=l[G].points[0]+ye,g=l[G].points[1]+Se;break}}j.push(d,g),E="l";break;case"M":d=A.shift(),g=A.shift(),O="M",j.push(d,g),E="L";break;case"h":d+=A.shift(),O="L",j.push(d,g);break;case"H":d=A.shift(),O="L",j.push(d,g);break;case"v":g+=A.shift(),O="L",j.push(d,g);break;case"V":g=A.shift(),O="L",j.push(d,g);break;case"C":j.push(A.shift(),A.shift(),A.shift(),A.shift()),d=A.shift(),g=A.shift(),j.push(d,g);break;case"c":j.push(d+A.shift(),g+A.shift(),d+A.shift(),g+A.shift()),d+=A.shift(),g+=A.shift(),O="C",j.push(d,g);break;case"S":H=d,L=g,P=l[l.length-1],P.command==="C"&&(H=d+(d-P.points[2]),L=g+(g-P.points[3])),j.push(H,L,A.shift(),A.shift()),d=A.shift(),g=A.shift(),O="C",j.push(d,g);break;case"s":H=d,L=g,P=l[l.length-1],P.command==="C"&&(H=d+(d-P.points[2]),L=g+(g-P.points[3])),j.push(H,L,d+A.shift(),g+A.shift()),d+=A.shift(),g+=A.shift(),O="C",j.push(d,g);break;case"Q":j.push(A.shift(),A.shift()),d=A.shift(),g=A.shift(),j.push(d,g);break;case"q":j.push(d+A.shift(),g+A.shift()),d+=A.shift(),g+=A.shift(),O="Q",j.push(d,g);break;case"T":H=d,L=g,P=l[l.length-1],P.command==="Q"&&(H=d+(d-P.points[0]),L=g+(g-P.points[1])),d=A.shift(),g=A.shift(),O="Q",j.push(H,L,d,g);break;case"t":H=d,L=g,P=l[l.length-1],P.command==="Q"&&(H=d+(d-P.points[0]),L=g+(g-P.points[1])),d+=A.shift(),g+=A.shift(),O="Q",j.push(H,L,d,g);break;case"A":Y=A.shift(),ie=A.shift(),ue=A.shift(),me=A.shift(),Te=A.shift(),ve=d,pe=g,d=A.shift(),g=A.shift(),O="A",j=this.convertEndpointToCenterParameterization(ve,pe,d,g,me,Te,Y,ie,ue);break;case"a":Y=A.shift(),ie=A.shift(),ue=A.shift(),me=A.shift(),Te=A.shift(),ve=d,pe=g,d+=A.shift(),g+=A.shift(),O="A",j=this.convertEndpointToCenterParameterization(ve,pe,d,g,me,Te,Y,ie,ue);break}l.push({command:O||E,points:j,start:{x:D,y:z},pathLength:this.calcLength(D,z,O||E,j)})}(E==="z"||E==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,r){let l,c,d,g;const m=Ui;switch(a){case"L":return m.getLineLength(e,n,r[0],r[1]);case"C":return m4([e,r[0],r[2],r[4]],[n,r[1],r[3],r[5]],1);case"Q":return v4([e,r[0],r[2]],[n,r[1],r[3]],1);case"A":l=0;const v=r[4],_=r[5],S=r[4]+_;let E=Math.PI/180;if(Math.abs(v-S)<E&&(E=Math.abs(v-S)),c=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],v,0),_<0)for(g=v-E;g>S;g-=E)d=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],g,0),l+=m.getLineLength(c.x,c.y,d.x,d.y),c=d;else for(g=v+E;g<S;g+=E)d=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],g,0),l+=m.getLineLength(c.x,c.y,d.x,d.y),c=d;return d=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],S,0),l+=m.getLineLength(c.x,c.y,d.x,d.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,r,l,c,d,g,m){const v=m*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-r)/2,S=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-r)/2,E=_*_/(d*d)+S*S/(g*g);E>1&&(d*=Math.sqrt(E),g*=Math.sqrt(E));let A=Math.sqrt((d*d*(g*g)-d*d*(S*S)-g*g*(_*_))/(d*d*(S*S)+g*g*(_*_)));l===c&&(A*=-1),isNaN(A)&&(A=0);const R=A*d*S/g,O=A*-g*_/d,j=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,D=(n+r)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(me){return Math.sqrt(me[0]*me[0]+me[1]*me[1])},P=function(me,Te){return(me[0]*Te[0]+me[1]*Te[1])/(z(me)*z(Te))},H=function(me,Te){return(me[0]*Te[1]<me[1]*Te[0]?-1:1)*Math.acos(P(me,Te))},L=H([1,0],[(_-R)/d,(S-O)/g]),Y=[(_-R)/d,(S-O)/g],ie=[(-1*_-R)/d,(-1*S-O)/g];let ue=H(Y,ie);return P(Y,ie)<=-1&&(ue=Math.PI),P(Y,ie)>=1&&(ue=0),c===0&&ue>0&&(ue=ue-2*Math.PI),c===1&&ue<0&&(ue=ue+2*Math.PI),[j,D,d,g,L,ue,v,c]}};Mr.prototype.className="Path";Mr.prototype._attrsAffectingSize=["data"];Bn(Mr);q.addGetterSetter(Mr,"data");let Hc=class extends lo{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let r=a;const l=this.tension()!==0&&a.length>4;l&&(r=this.getTensionPoints());const c=this.pointerLength(),d=a.length;let g,m;if(l){const S=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],a[d-2],a[d-1]],E=Mr.calcLength(r[r.length-4],r[r.length-3],"C",S),A=Mr.getPointOnQuadraticBezier(Math.min(1,1-c/E),S[0],S[1],S[2],S[3],S[4],S[5]);g=a[d-2]-A.x,m=a[d-1]-A.y}else g=a[d-2]-a[d-4],m=a[d-1]-a[d-3];const v=(Math.atan2(m,g)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[d-2],a[d-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-c,_/2),e.lineTo(-c,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(g=(r[0]+r[2])/2-a[0],m=(r[1]+r[3])/2-a[1]):(g=a[2]-a[0],m=a[3]-a[1]),e.rotate((Math.atan2(-m,-g)+n)%n),e.moveTo(0,0),e.lineTo(-c,_/2),e.lineTo(-c,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Hc.prototype.className="Arrow";Bn(Hc);q.addGetterSetter(Hc,"pointerLength",10,Ue());q.addGetterSetter(Hc,"pointerWidth",10,Ue());q.addGetterSetter(Hc,"pointerAtBeginning",!1);q.addGetterSetter(Hc,"pointerAtEnding",!0);let Hd=class extends Ne{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Hd.prototype._centroid=!0;Hd.prototype.className="Circle";Hd.prototype._attrsAffectingSize=["radius"];Bn(Hd);q.addGetterSetter(Hd,"radius",0,Ue());class bu extends Ne{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}bu.prototype.className="Ellipse";bu.prototype._centroid=!0;bu.prototype._attrsAffectingSize=["radiusX","radiusY"];Bn(bu);q.addComponentsGetterSetter(bu,"radius",["x","y"]);q.addGetterSetter(bu,"radiusX",0,Ue());q.addGetterSetter(bu,"radiusY",0,Ue());class zr extends Ne{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),r=this.cornerRadius(),l=this.attrs.image;let c;if(l){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;d&&g?c=[l,this.cropX(),this.cropY(),d,g,0,0,n,a]:c=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?ae.drawRoundedRectPath(e,n,a,r):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(r&&e.clip(),e.drawImage.apply(e,c))}_hitFunc(e){const n=this.width(),a=this.height(),r=this.cornerRadius();e.beginPath(),r?ae.drawRoundedRectPath(e,n,a,r):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const r=ae.createImageElement();r.onload=function(){const l=new zr({image:r});n(l)},r.onerror=a,r.crossOrigin="Anonymous",r.src=e}}zr.prototype.className="Image";Bn(zr);q.addGetterSetter(zr,"cornerRadius",0,sv(4));q.addGetterSetter(zr,"image");q.addComponentsGetterSetter(zr,"crop",["x","y","width","height"]);q.addGetterSetter(zr,"cropX",0,Ue());q.addGetterSetter(zr,"cropY",0,Ue());q.addGetterSetter(zr,"cropWidth",0,Ue());q.addGetterSetter(zr,"cropHeight",0,Ue());const yS=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],qA="Change.konva",VA="none",By="up",Hy="right",Gy="down",qy="left",YA=yS.length;let C2=class extends kd{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const r=function(){n._sync()};for(a=0;a<YA;a++)e.on(yS[a]+qA,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,r,l,c,d,g,m;if(e&&n){switch(a=e.width(),r=e.height(),l=n.pointerDirection(),c=n.pointerWidth(),m=n.pointerHeight(),d=0,g=0,l){case By:d=a/2,g=-1*m;break;case Hy:d=a+c,g=r/2;break;case Gy:d=a/2,g=r+m;break;case qy:d=-1*c,g=r/2;break}n.setAttrs({x:-1*d,y:-1*g,width:a,height:r}),e.setAttrs({x:-1*d,y:-1*g})}}};C2.prototype.className="Label";Bn(C2);class Gc extends Ne{_sceneFunc(e){const n=this.width(),a=this.height(),r=this.pointerDirection(),l=this.pointerWidth(),c=this.pointerHeight(),d=this.cornerRadius();let g=0,m=0,v=0,_=0;typeof d=="number"?g=m=v=_=Math.min(d,n/2,a/2):(g=Math.min(d[0]||0,n/2,a/2),m=Math.min(d[1]||0,n/2,a/2),_=Math.min(d[2]||0,n/2,a/2),v=Math.min(d[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(g,0),r===By&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*c),e.lineTo((n+l)/2,0)),e.lineTo(n-m,0),e.arc(n-m,m,m,Math.PI*3/2,0,!1),r===Hy&&(e.lineTo(n,(a-c)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+c)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),r===Gy&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+c),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),r===qy&&(e.lineTo(0,(a+c)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-c)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),r=this.pointerHeight(),l=this.pointerDirection(),c=this.width(),d=this.height();return l===By?(n-=r,d+=r):l===Gy?d+=r:l===qy?(e-=a*1.5,c+=a):l===Hy&&(c+=a*1.5),{x:e,y:n,width:c,height:d}}}Gc.prototype.className="Tag";Bn(Gc);q.addGetterSetter(Gc,"pointerDirection",VA);q.addGetterSetter(Gc,"pointerWidth",0,Ue());q.addGetterSetter(Gc,"pointerHeight",0,Ue());q.addGetterSetter(Gc,"cornerRadius",0,sv(4));let ng=class extends Ne{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),r=this.height();e.beginPath(),n?ae.drawRoundedRectPath(e,a,r,n):e.rect(0,0,a,r),e.closePath(),e.fillStrokeShape(this)}};ng.prototype.className="Rect";Bn(ng);q.addGetterSetter(ng,"cornerRadius",0,sv(4));class _u extends Ne{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),r=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)ae.drawRoundedPolygonPath(e,n,r,a,l);else{e.moveTo(n[0].x,n[0].y);for(let c=1;c<n.length;c++)e.lineTo(n[c].x,n[c].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let r=0;r<e;r++)a.push({x:n*Math.sin(r*2*Math.PI/e),y:-1*n*Math.cos(r*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,r=e[0].x,l=e[0].y;return e.forEach(c=>{n=Math.min(n,c.x),a=Math.max(a,c.x),r=Math.min(r,c.y),l=Math.max(l,c.y)}),{x:n,y:r,width:a-n,height:l-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}_u.prototype.className="RegularPolygon";_u.prototype._centroid=!0;_u.prototype._attrsAffectingSize=["radius"];Bn(_u);q.addGetterSetter(_u,"radius",0,Ue());q.addGetterSetter(_u,"sides",0,Ue());q.addGetterSetter(_u,"cornerRadius",0,sv(4));const b4=Math.PI*2;class qc extends Ne{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,b4,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),b4,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}qc.prototype.className="Ring";qc.prototype._centroid=!0;qc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Bn(qc);q.addGetterSetter(qc,"innerRadius",0,Ue());q.addGetterSetter(qc,"outerRadius",0,Ue());class fl extends Ne{constructor(e){super(e),this._updated=!0,this.anim=new Nr(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),r=a*4,l=this.animations()[n],c=this.frameOffsets(),d=l[r+0],g=l[r+1],m=l[r+2],v=l[r+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,m,v),e.closePath(),e.fillStrokeShape(this)),_)if(c){const S=c[n],E=a*2;e.drawImage(_,d,g,m,v,S[E+0],S[E+1],m,v)}else e.drawImage(_,d,g,m,v,0,0,m,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),r=a*4,l=this.animations()[n],c=this.frameOffsets(),d=l[r+2],g=l[r+3];if(e.beginPath(),c){const m=c[n],v=a*2;e.rect(m[v+0],m[v+1],d,g)}else e.rect(0,0,d,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),r=a[n],l=r.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}fl.prototype.className="Sprite";Bn(fl);q.addGetterSetter(fl,"animation");q.addGetterSetter(fl,"animations");q.addGetterSetter(fl,"frameOffsets");q.addGetterSetter(fl,"image");q.addGetterSetter(fl,"frameIndex",0,Ue());q.addGetterSetter(fl,"frameRate",17,Ue());q.backCompat(fl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Su extends Ne{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<r*2;l++){const c=l%2===0?a:n,d=c*Math.sin(l*Math.PI/r),g=-1*c*Math.cos(l*Math.PI/r);e.lineTo(d,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Su.prototype.className="Star";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Bn(Su);q.addGetterSetter(Su,"numPoints",5,Ue());q.addGetterSetter(Su,"innerRadius",0,Ue());q.addGetterSetter(Su,"outerRadius",0,Ue());function su(t){return[...t].reduce((e,n,a,r)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=r[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),r[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(r[a+1]||""))?e.push(n+r[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const pd="auto",ZA="center",bS="inherit",md="justify",XA="Change.konva",IA="2d",_4="-",_S="left",KA="text",FA="Text",QA="top",$A="bottom",S4="middle",SS="normal",JA="px ",tm=" ",WA="right",x4="rtl",eR="word",tR="char",w4="none",P1="",xS=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],nR=xS.length;function aR(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let nm;function B1(){return nm||(nm=ae.createCanvasElement().getContext(IA),nm)}function iR(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function rR(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function sR(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let zn=class extends Ne{constructor(e){super(sR(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<nR;n++)this.on(xS[n]+XA,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const r=this.textArr,l=r.length;if(!this.text())return;let c=this.padding(),d=this.fontSize(),g=this.lineHeight()*d,m=this.verticalAlign(),v=this.direction(),_=0,S=this.align(),E=this.getWidth(),A=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),j=this.textDecoration(),D=j.indexOf("underline")!==-1,z=j.indexOf("line-through")!==-1,P;v=v===bS?e.direction:v;let H=g/2,L=S4;if(!Be.legacyTextRendering){const Y=this.measureSize("M");L="alphabetic";const ie=(n=Y.fontBoundingBoxAscent)!==null&&n!==void 0?n:Y.actualBoundingBoxAscent,ue=(a=Y.fontBoundingBoxDescent)!==null&&a!==void 0?a:Y.actualBoundingBoxDescent;H=(ie-ue)/2+g/2}for(v===x4&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",L),e.setAttr("textAlign",_S),m===S4?_=(this.getHeight()-l*g-c*2)/2:m===$A&&(_=this.getHeight()-l*g-c*2),e.translate(c,_+c),P=0;P<l;P++){let Y=0,ie=0;const ue=r[P],me=ue.text,Te=ue.width,ve=ue.lastInParagraph;if(e.save(),S===WA?Y+=E-Te-c*2:S===ZA&&(Y+=(E-Te-c*2)/2),D){e.save(),e.beginPath();const pe=Be.legacyTextRendering?Math.round(d/2):Math.round(d/4),ye=Y,Se=H+ie+pe;e.moveTo(ye,Se);const G=S===md&&!ve?E-c*2:Te;e.lineTo(ye+Math.round(G),Se),e.lineWidth=d/15;const F=this._getLinearGradient();e.strokeStyle=F||O,e.stroke(),e.restore()}if(v!==x4&&(A!==0||S===md||R)){const pe=me.split(" ").length-1,ye=su(me);for(let Se=0;Se<ye.length;Se++){const G=ye[Se];if(G===" "&&!ve&&S===md&&(Y+=(E-c*2-Te)/pe),this._partialTextX=Y,this._partialTextY=H+ie,this._partialText=G,R){e.save();const X=r.slice(0,P).reduce((B,ne)=>B+su(ne.text).length,0),W=Se+X;R({char:G,index:W,x:Y,y:H+ie,lineIndex:P,column:Se,isLastInLine:ve,width:this.measureSize(G).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),Y+=this.measureSize(G).width+A}}else A!==0&&e.setAttr("letterSpacing",`${A}px`),this._partialTextX=Y,this._partialTextY=H+ie,this._partialText=me,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const pe=Be.legacyTextRendering?0:-Math.round(d/4),ye=S===md?0:Y;e.moveTo(ye,H+ie+pe);const Se=S===md&&!ve?E-c*2:Te;e.lineTo(ye+Math.round(Se),H+ie+pe),e.lineWidth=d/15;const G=this._getLinearGradient();e.strokeStyle=G||O,e.stroke(),e.restore()}e.restore(),l>1&&(H+=g)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=ae._isString(e)?e:e==null?"":e+"";return this._setAttr(KA,n),this}getWidth(){return this.attrs.width===pd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===pd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ae.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,r,l,c,d,g,m,v,_,S;let E=B1(),A=this.fontSize(),R;E.save(),E.font=this._getContextFont(),R=E.measureText(e),E.restore();const O=A/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(r=R.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(c=R.alphabeticBaseline)!==null&&c!==void 0?c:0,emHeightAscent:(d=R.emHeightAscent)!==null&&d!==void 0?d:100*O,emHeightDescent:(g=R.emHeightDescent)!==null&&g!==void 0?g:-20*O,fontBoundingBoxAscent:(m=R.fontBoundingBoxAscent)!==null&&m!==void 0?m:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:A}}_getContextFont(){return this.fontStyle()+tm+this.fontVariant()+tm+(this.fontSize()+JA)+aR(this.fontFamily())}_addTextLine(e){this.align()===md&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return B1().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,r=this.lineHeight()*n,l=this.attrs.width,c=this.attrs.height,d=l!==pd&&l!==void 0,g=c!==pd&&c!==void 0,m=this.padding(),v=l-m*2,_=c-m*2,S=0,E=this.wrap(),A=E!==w4,R=E!==tR&&A,O=this.ellipsis();this.textArr=[],B1().font=this._getContextFont();const j=O?this._getTextWidth(P1):0;for(let D=0,z=e.length;D<z;++D){let P=e[D],H=this._getTextWidth(P);if(d&&H>v)for(;P.length>0;){let L=0,Y=su(P).length,ie="",ue=0;for(;L<Y;){const me=L+Y>>>1,Te=su(P),ve=Te.slice(0,me+1).join(""),pe=this._getTextWidth(ve);(O&&g&&S+r>_?pe+j:pe)<=v?(L=me+1,ie=ve,ue=pe):Y=me}if(ie){if(R){const ve=su(P),pe=su(ie),ye=ve[pe.length],Se=ye===tm||ye===_4;let G;if(Se&&ue<=v)G=pe.length;else{const F=pe.lastIndexOf(tm),X=pe.lastIndexOf(_4);G=Math.max(F,X)+1}G>0&&(L=G,ie=ve.slice(0,L).join(""),ue=this._getTextWidth(ie))}if(ie=ie.trimRight(),this._addTextLine(ie),a=Math.max(a,ue),S+=r,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(P=su(P).slice(L).join("").trimLeft(),P.length>0&&(H=this._getTextWidth(P),H<=v)){this._addTextLine(P),S+=r,a=Math.max(a,H);break}}else break}else this._addTextLine(P),S+=r,a=Math.max(a,H),this._shouldHandleEllipsis(S)&&D<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&S+r>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,r=this.attrs.height,l=r!==pd&&r!==void 0,c=this.padding(),d=r-c*2;return!(this.wrap()!==w4)||l&&e+a>d}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==pd&&e!==void 0,a=this.padding(),r=e-a*2,l=this.ellipsis(),c=this.textArr[this.textArr.length-1];!c||!l||(n&&(this._getTextWidth(c.text+P1)<r||(c.text=c.text.slice(0,c.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(c.text+P1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};zn.prototype._fillFunc=iR;zn.prototype._strokeFunc=rR;zn.prototype.className=FA;zn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Bn(zn);q.overWriteSetter(zn,"width",x2());q.overWriteSetter(zn,"height",x2());q.addGetterSetter(zn,"direction",bS);q.addGetterSetter(zn,"fontFamily","Arial");q.addGetterSetter(zn,"fontSize",12,Ue());q.addGetterSetter(zn,"fontStyle",SS);q.addGetterSetter(zn,"fontVariant",SS);q.addGetterSetter(zn,"padding",0,Ue());q.addGetterSetter(zn,"align",_S);q.addGetterSetter(zn,"verticalAlign",QA);q.addGetterSetter(zn,"lineHeight",1,Ue());q.addGetterSetter(zn,"wrap",eR);q.addGetterSetter(zn,"ellipsis",!1,ms());q.addGetterSetter(zn,"letterSpacing",0,Ue());q.addGetterSetter(zn,"text","",Pc());q.addGetterSetter(zn,"textDecoration","");q.addGetterSetter(zn,"charRenderFunc",void 0);const lR="",wS="normal";function ES(t){t.fillText(this.partialText,0,0)}function CS(t){t.strokeText(this.partialText,0,0)}class va extends Ne{constructor(e){super(e),this.dummyCanvas=ae.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Mr.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Mr.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Mr.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),r=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let c=0;c<l.length;c++){e.save();const d=l[c].p0;e.translate(d.x,d.y),e.rotate(l[c].rotation),this.partialText=l[c].text,e.fillStrokeShape(this),n==="underline"&&(c===0&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const r=n[a].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ae.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return zn.prototype.setText.call(this,e)}_getContextFont(){return zn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const r=a.measureText(e);return a.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=su(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),c=this.align(),d=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let m=0;c==="center"&&(m=Math.max(0,this.pathLength/2-g/2)),c==="right"&&(m=Math.max(0,this.pathLength-g));let v=m;for(let _=0;_<n.length;_++){const S=this._getPointAtLength(v);if(!S)return;const E=n[_].char;let A=n[_].width+l;if(E===" "&&c==="justify"){const P=this.text().split(" ").length-1;A+=(this.pathLength-g)/P}const R=this._getPointAtLength(v+A);if(!R)return;const O=Mr.getLineLength(S.x,S.y,R.x,R.y);let j=0;if(d)try{j=d(n[_-1].char,E)*this.fontSize()}catch{j=0}S.x+=j,R.x+=j,this.textWidth+=j;const D=Mr.getPointOnLine(j+O/2,S.x,S.y,R.x,R.y),z=Math.atan2(R.y-S.y,R.x-S.x);this.glyphInfo.push({transposeX:D.x,transposeY:D.y,text:e[_],rotation:z,p0:S,p1:R}),v+=A}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(m){e.push(m.p0.x),e.push(m.p0.y),e.push(m.p1.x),e.push(m.p1.y)});let n=e[0]||0,a=e[0]||0,r=e[1]||0,l=e[1]||0,c,d;for(let m=0;m<e.length/2;m++)c=e[m*2],d=e[m*2+1],n=Math.min(n,c),a=Math.max(a,c),r=Math.min(r,d),l=Math.max(l,d);const g=this.fontSize();return{x:n-g/2,y:r-g/2,width:a-n+g,height:l-r+g}}destroy(){return ae.releaseCanvas(this.dummyCanvas),super.destroy()}}va.prototype._fillFunc=ES;va.prototype._strokeFunc=CS;va.prototype._fillFuncHit=ES;va.prototype._strokeFuncHit=CS;va.prototype.className="TextPath";va.prototype._attrsAffectingSize=["text","fontSize","data"];Bn(va);q.addGetterSetter(va,"data");q.addGetterSetter(va,"fontFamily","Arial");q.addGetterSetter(va,"fontSize",12,Ue());q.addGetterSetter(va,"fontStyle",wS);q.addGetterSetter(va,"align","left");q.addGetterSetter(va,"letterSpacing",0,Ue());q.addGetterSetter(va,"textBaseline","middle");q.addGetterSetter(va,"fontVariant",wS);q.addGetterSetter(va,"text",lR);q.addGetterSetter(va,"textDecoration","");q.addGetterSetter(va,"kerningFunc",void 0);const TS="tr-konva",oR=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${TS}`).join(" "),E4="nodesRect",uR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],cR={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},fR="ontouchstart"in Be._global;function dR(t,e,n){if(t==="rotater")return n;e+=ae.degToRad(cR[t]||0);const a=(ae.radToDeg(e)%360+360)%360;return ae._inRange(a,315+22.5,360)||ae._inRange(a,0,22.5)?"ns-resize":ae._inRange(a,45-22.5,45+22.5)?"nesw-resize":ae._inRange(a,90-22.5,90+22.5)?"ew-resize":ae._inRange(a,135-22.5,135+22.5)?"nwse-resize":ae._inRange(a,180-22.5,180+22.5)?"ns-resize":ae._inRange(a,225-22.5,225+22.5)?"nesw-resize":ae._inRange(a,270-22.5,270+22.5)?"ew-resize":ae._inRange(a,315-22.5,315+22.5)?"nwse-resize":(ae.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const Lm=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function hR(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function AS(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:r}}function gR(t,e){const n=hR(t);return AS(t,e,n)}function pR(t,e,n){let a=e;for(let r=0;r<t.length;r++){const l=Be.getAngle(t[r]),c=Math.abs(l-e)%(Math.PI*2);Math.min(c,Math.PI*2-c)<n&&(a=l)}return a}let Vy=0,Ft=class extends kd{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(oR,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ae.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return TS+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(r=>r.isAncestorOf(this)?(ae.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(r._attrsAffectingSize.length){const c=r._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");r.on(c,l)}r.on(uR.map(c=>c+`.${this._getEventNamespace()}`).join(" "),l),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const r=e.getAbsolutePosition(),l=r.x-n.x,c=r.y-n.y;this.nodes().forEach(d=>{if(d===e||d.isDragging())return;const g=d.getAbsolutePosition();d.setAbsolutePosition({x:g.x+l,y:g.y+c}),d.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(E4),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(E4,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),c=e.getAbsolutePosition(a),d=r.x*l.x-e.offsetX()*l.x,g=r.y*l.y-e.offsetY()*l.y,m=(Be.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:c.x+d*Math.cos(m)+g*Math.sin(-m),y:c.y+g*Math.cos(m)+d*Math.sin(m),width:r.width*l.x,height:r.height*l.y,rotation:m};return AS(v,-Be.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(m=>{const v=m.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],S=m.getAbsoluteTransform();_.forEach(function(E){const A=S.point(E);n.push(A)})});const a=new nr;a.rotate(-Be.getAngle(this.rotation()));let r=1/0,l=1/0,c=-1/0,d=-1/0;n.forEach(function(m){const v=a.point(m);r===void 0&&(r=c=v.x,l=d=v.y),r=Math.min(r,v.x),l=Math.min(l,v.y),c=Math.max(c,v.x),d=Math.max(d,v.y)}),a.invert();const g=a.point({x:r,y:l});return{x:g.x,y:g.y,width:c-r,height:d-l,rotation:Be.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Lm.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new ng({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:fR?10:"auto"}),a=this;n.on("mousedown touchstart",function(r){a._handleMouseDown(r)}),n.on("dragstart",r=>{n.stopDrag(),r.cancelBubble=!0}),n.on("dragend",r=>{r.cancelBubble=!0}),n.on("mouseenter",()=>{const r=Be.getAngle(this.rotation()),l=this.rotateAnchorCursor(),c=dR(e,r,l);n.getStage().content&&(n.getStage().content.style.cursor=c),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new Ne({name:"back",width:0,height:0,sceneFunc(n,a){const r=a.getParent(),l=r.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),r.rotateEnabled()&&r.rotateLineVisible()&&n.lineTo(a.width()/2,-r.rotateAnchorOffset()*ae._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();n.beginPath(),n.rect(-r,-r,a.width()+r*2,a.height()+r*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,r=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(r,2));this.sin=Math.abs(r/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const c=e.target.getAbsolutePosition(),d=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-c.x,y:d.y-c.y},Vy++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){let n,a,r;const l=this.findOne("."+this._movingAnchorName),c=l.getStage();c.setPointersPositions(e);const d=c.getPointerPosition();let g={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const m=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(m,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(m.x===v.x&&m.y===v.y)return;if(this._movingAnchorName==="rotater"){const D=this._getNodeRect();n=l.x()-D.width/2,a=-l.y()+D.height/2;let z=Math.atan2(-a,n)+Math.PI/2;D.height<0&&(z-=Math.PI);const H=Be.getAngle(this.rotation())+z,L=Be.getAngle(this.rotationSnapTolerance()),ie=pR(this.rotationSnaps(),H,L)-D.rotation,ue=gR(D,ie);this._fitNodesInto(ue,e);return}const _=this.shiftBehavior();let S;_==="inverted"?S=this.keepRatio()&&!e.shiftKey:_==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let E=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const D=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(D.x-l.x(),2)+Math.pow(D.y-l.y(),2));const z=this.findOne(".top-left").x()>D.x?-1:1,P=this.findOne(".top-left").y()>D.y?-1:1;n=r*this.cos*z,a=r*this.sin*P,this.findOne(".top-left").x(D.x-n),this.findOne(".top-left").y(D.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(S){const D=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(l.x()-D.x,2)+Math.pow(D.y-l.y(),2));const z=this.findOne(".top-right").x()<D.x?-1:1,P=this.findOne(".top-right").y()>D.y?-1:1;n=r*this.cos*z,a=r*this.sin*P,this.findOne(".top-right").x(D.x+n),this.findOne(".top-right").y(D.y-a)}var A=l.position();this.findOne(".top-left").y(A.y),this.findOne(".bottom-right").x(A.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(S){const D=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(D.x-l.x(),2)+Math.pow(l.y()-D.y,2));const z=D.x<l.x()?-1:1,P=l.y()<D.y?-1:1;n=r*this.cos*z,a=r*this.sin*P,l.x(D.x-n),l.y(D.y+a)}A=l.position(),this.findOne(".top-left").x(A.x),this.findOne(".bottom-right").y(A.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(S){const D=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(l.x()-D.x,2)+Math.pow(l.y()-D.y,2));const z=this.findOne(".bottom-right").x()<D.x?-1:1,P=this.findOne(".bottom-right").y()<D.y?-1:1;n=r*this.cos*z,a=r*this.sin*P,this.findOne(".bottom-right").x(D.x+n),this.findOne(".bottom-right").y(D.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(E=this.centeredScaling()||e.altKey,E){const D=this.findOne(".top-left"),z=this.findOne(".bottom-right"),P=D.x(),H=D.y(),L=this.getWidth()-z.x(),Y=this.getHeight()-z.y();z.move({x:-P,y:-H}),D.move({x:L,y:Y})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),j=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:j,rotation:Be.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();Vy--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(r=>{var l;r._fire("transformend",{evt:e,target:r}),(l=r.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),r=1;if(ae._inRange(e.width,-this.padding()*2-r,r)){this.update();return}if(ae._inRange(e.height,-this.padding()*2-r,r)){this.update();return}const l=new nr;if(l.rotate(Be.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=l.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=l.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:ae.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const c=1e7,d=new nr;d.translate(a.x,a.y),d.rotate(a.rotation),d.scale(a.width/c,a.height/c);const g=new nr,m=e.width/c,v=e.height/c;this.flipEnabled()===!1?(g.translate(e.x,e.y),g.rotate(e.rotation),g.translate(e.width<0?e.width:0,e.height<0?e.height:0),g.scale(Math.abs(m),Math.abs(v))):(g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(m,v));const _=g.multiply(d.invert());this._nodes.forEach(S=>{var E;if(!S.getStage())return;const A=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new nr;O.multiply(A.copy().invert()).multiply(_).multiply(A).multiply(R);const j=O.decompose();S.setAttrs(j),(E=S.getLayer())===null||E===void 0||E.batchDraw()}),this.rotation(ae._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(ae._getRotation(n.rotation));const a=n.width,r=n.height,l=this.enabledAnchors(),c=this.resizeEnabled(),d=this.padding(),g=this.anchorSize(),m=this.find("._anchor");m.forEach(_=>{_.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+d,offsetY:g/2+d,visible:c&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:g/2+d,visible:c&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:g/2-d,offsetY:g/2+d,visible:c&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:g/2+d,visible:c&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:r/2,offsetX:g/2-d,visible:c&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:g/2+d,offsetY:g/2-d,visible:c&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:r,offsetY:g/2-d,visible:c&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:r,offsetX:g/2-d,offsetY:g/2-d,visible:c&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*ae._sign(r)-d,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&m.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),kd.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Le.prototype.toObject.call(this)}clone(e){return Le.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ft.isTransforming=()=>Vy>0;function mR(t){return t instanceof Array||ae.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Lm.indexOf(e)===-1&&ae.warn("Unknown anchor name: "+e+". Available names are: "+Lm.join(", "))}),t||[]}Ft.prototype.className="Transformer";Bn(Ft);q.addGetterSetter(Ft,"enabledAnchors",Lm,mR);q.addGetterSetter(Ft,"flipEnabled",!0,ms());q.addGetterSetter(Ft,"resizeEnabled",!0);q.addGetterSetter(Ft,"anchorSize",10,Ue());q.addGetterSetter(Ft,"rotateEnabled",!0);q.addGetterSetter(Ft,"rotateLineVisible",!0);q.addGetterSetter(Ft,"rotationSnaps",[]);q.addGetterSetter(Ft,"rotateAnchorOffset",50,Ue());q.addGetterSetter(Ft,"rotateAnchorCursor","crosshair");q.addGetterSetter(Ft,"rotationSnapTolerance",5,Ue());q.addGetterSetter(Ft,"borderEnabled",!0);q.addGetterSetter(Ft,"anchorStroke","rgb(0, 161, 255)");q.addGetterSetter(Ft,"anchorStrokeWidth",1,Ue());q.addGetterSetter(Ft,"anchorFill","white");q.addGetterSetter(Ft,"anchorCornerRadius",0,Ue());q.addGetterSetter(Ft,"borderStroke","rgb(0, 161, 255)");q.addGetterSetter(Ft,"borderStrokeWidth",1,Ue());q.addGetterSetter(Ft,"borderDash");q.addGetterSetter(Ft,"keepRatio",!0);q.addGetterSetter(Ft,"shiftBehavior","default");q.addGetterSetter(Ft,"centeredScaling",!1);q.addGetterSetter(Ft,"ignoreStroke",!1);q.addGetterSetter(Ft,"padding",0,Ue());q.addGetterSetter(Ft,"nodes");q.addGetterSetter(Ft,"node");q.addGetterSetter(Ft,"boundBoxFunc");q.addGetterSetter(Ft,"anchorDragBoundFunc");q.addGetterSetter(Ft,"anchorStyleFunc");q.addGetterSetter(Ft,"shouldOverdrawWholeArea",!1);q.addGetterSetter(Ft,"useSingleNodeRotation",!0);q.backCompat(Ft,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class oo extends Ne{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Be.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}oo.prototype.className="Wedge";oo.prototype._centroid=!0;oo.prototype._attrsAffectingSize=["radius"];Bn(oo);q.addGetterSetter(oo,"radius",0,Ue());q.addGetterSetter(oo,"angle",0,Ue());q.addGetterSetter(oo,"clockwise",!1);q.backCompat(oo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function C4(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const vR=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],yR=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function bR(t,e){const n=t.data,a=t.width,r=t.height;let l,c,d,g,m,v,_,S,E,A,R,O,j,D,z,P,H,L,Y,ie;const ue=e+e+1,me=a-1,Te=r-1,ve=e+1,pe=ve*(ve+1)/2,ye=new C4,Se=vR[e],G=yR[e];let F=null,X=ye,W=null,B=null;for(let ne=1;ne<ue;ne++)X=X.next=new C4,ne===ve&&(F=X);X.next=ye,d=c=0;for(let ne=0;ne<r;ne++){O=j=D=z=g=m=v=_=0,S=ve*(P=n[c]),E=ve*(H=n[c+1]),A=ve*(L=n[c+2]),R=ve*(Y=n[c+3]),g+=pe*P,m+=pe*H,v+=pe*L,_+=pe*Y,X=ye;for(let _e=0;_e<ve;_e++)X.r=P,X.g=H,X.b=L,X.a=Y,X=X.next;for(let _e=1;_e<ve;_e++)l=c+((me<_e?me:_e)<<2),g+=(X.r=P=n[l])*(ie=ve-_e),m+=(X.g=H=n[l+1])*ie,v+=(X.b=L=n[l+2])*ie,_+=(X.a=Y=n[l+3])*ie,O+=P,j+=H,D+=L,z+=Y,X=X.next;W=ye,B=F;for(let _e=0;_e<a;_e++)n[c+3]=Y=_*Se>>G,Y!==0?(Y=255/Y,n[c]=(g*Se>>G)*Y,n[c+1]=(m*Se>>G)*Y,n[c+2]=(v*Se>>G)*Y):n[c]=n[c+1]=n[c+2]=0,g-=S,m-=E,v-=A,_-=R,S-=W.r,E-=W.g,A-=W.b,R-=W.a,l=d+((l=_e+e+1)<me?l:me)<<2,O+=W.r=n[l],j+=W.g=n[l+1],D+=W.b=n[l+2],z+=W.a=n[l+3],g+=O,m+=j,v+=D,_+=z,W=W.next,S+=P=B.r,E+=H=B.g,A+=L=B.b,R+=Y=B.a,O-=P,j-=H,D-=L,z-=Y,B=B.next,c+=4;d+=a}for(let ne=0;ne<a;ne++){j=D=z=O=m=v=_=g=0,c=ne<<2,S=ve*(P=n[c]),E=ve*(H=n[c+1]),A=ve*(L=n[c+2]),R=ve*(Y=n[c+3]),g+=pe*P,m+=pe*H,v+=pe*L,_+=pe*Y,X=ye;for(let be=0;be<ve;be++)X.r=P,X.g=H,X.b=L,X.a=Y,X=X.next;let _e=a;for(let be=1;be<=e;be++)c=_e+ne<<2,g+=(X.r=P=n[c])*(ie=ve-be),m+=(X.g=H=n[c+1])*ie,v+=(X.b=L=n[c+2])*ie,_+=(X.a=Y=n[c+3])*ie,O+=P,j+=H,D+=L,z+=Y,X=X.next,be<Te&&(_e+=a);c=ne,W=ye,B=F;for(let be=0;be<r;be++)l=c<<2,n[l+3]=Y=_*Se>>G,Y>0?(Y=255/Y,n[l]=(g*Se>>G)*Y,n[l+1]=(m*Se>>G)*Y,n[l+2]=(v*Se>>G)*Y):n[l]=n[l+1]=n[l+2]=0,g-=S,m-=E,v-=A,_-=R,S-=W.r,E-=W.g,A-=W.b,R-=W.a,l=ne+((l=be+ve)<Te?l:Te)*a<<2,g+=O+=W.r=n[l],m+=j+=W.g=n[l+1],v+=D+=W.b=n[l+2],_+=z+=W.a=n[l+3],W=W.next,S+=P=B.r,E+=H=B.g,A+=L=B.b,R+=Y=B.a,O-=P,j-=H,D-=L,z-=Y,B=B.next,c+=a}}const _R=function(e){const n=Math.round(this.blurRadius());n>0&&bR(e,n)};q.addGetterSetter(Le,"blurRadius",0,Ue(),q.afterSetFilter);const SR=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let r=0;r<a;r+=4)n[r]+=e,n[r+1]+=e,n[r+2]+=e};q.addGetterSetter(Le,"brightness",0,Ue(),q.afterSetFilter);const xR=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let r=0;r<a;r+=4)n[r]=Math.min(255,n[r]*e),n[r+1]=Math.min(255,n[r+1]*e),n[r+2]=Math.min(255,n[r+2]*e)},wR=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let r=150,l=150,c=150;for(let d=0;d<a;d+=4)r=n[d],l=n[d+1],c=n[d+2],r/=255,r-=.5,r*=e,r+=.5,r*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,c/=255,c-=.5,c*=e,c+=.5,c*=255,r=r<0?0:r>255?255:r,l=l<0?0:l>255?255:l,c=c<0?0:c>255?255:c,n[d]=r,n[d+1]=l,n[d+2]=c};q.addGetterSetter(Le,"contrast",0,Ue(),q.afterSetFilter);const ER=function(t){var e,n,a,r,l,c,d,g,m;const v=t.data,_=t.width,S=t.height,E=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),A=Math.min(1,Math.max(0,(r=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&r!==void 0?r:.5)),O=(d={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(c=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0?c:"top-left"])!==null&&d!==void 0?d:315,j=!!((m=(g=this.embossBlend)===null||g===void 0?void 0:g.call(this))!==null&&m!==void 0&&m),D=E*10,z=A*255,P=O*Math.PI/180,H=Math.cos(P),L=Math.sin(P),Y=128/1020*D,ie=new Uint8ClampedArray(v),ue=new Float32Array(_*S);for(let ye=0,Se=0;Se<v.length;Se+=4,ye++)ue[ye]=.2126*ie[Se]+.7152*ie[Se+1]+.0722*ie[Se+2];const me=[-1,0,1,-2,0,2,-1,0,1],Te=[-1,-2,-1,0,0,0,1,2,1],ve=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],pe=ye=>ye<0?0:ye>255?255:ye;for(let ye=1;ye<S-1;ye++)for(let Se=1;Se<_-1;Se++){const G=ye*_+Se;let F=0,X=0;F+=ue[G+ve[0]]*me[0],X+=ue[G+ve[0]]*Te[0],F+=ue[G+ve[1]]*me[1],X+=ue[G+ve[1]]*Te[1],F+=ue[G+ve[2]]*me[2],X+=ue[G+ve[2]]*Te[2],F+=ue[G+ve[3]]*me[3],X+=ue[G+ve[3]]*Te[3],F+=ue[G+ve[5]]*me[5],X+=ue[G+ve[5]]*Te[5],F+=ue[G+ve[6]]*me[6],X+=ue[G+ve[6]]*Te[6],F+=ue[G+ve[7]]*me[7],X+=ue[G+ve[7]]*Te[7],F+=ue[G+ve[8]]*me[8],X+=ue[G+ve[8]]*Te[8];const W=H*F+L*X,B=pe(z+W*Y),ne=G*4;if(j){const _e=B-z;v[ne]=pe(ie[ne]+_e),v[ne+1]=pe(ie[ne+1]+_e),v[ne+2]=pe(ie[ne+2]+_e),v[ne+3]=ie[ne+3]}else v[ne]=v[ne+1]=v[ne+2]=B,v[ne+3]=ie[ne+3]}for(let ye=0;ye<_;ye++){let Se=ye*4,G=((S-1)*_+ye)*4;v[Se]=ie[Se],v[Se+1]=ie[Se+1],v[Se+2]=ie[Se+2],v[Se+3]=ie[Se+3],v[G]=ie[G],v[G+1]=ie[G+1],v[G+2]=ie[G+2],v[G+3]=ie[G+3]}for(let ye=1;ye<S-1;ye++){let Se=ye*_*4,G=(ye*_+(_-1))*4;v[Se]=ie[Se],v[Se+1]=ie[Se+1],v[Se+2]=ie[Se+2],v[Se+3]=ie[Se+3],v[G]=ie[G],v[G+1]=ie[G+1],v[G+2]=ie[G+2],v[G+3]=ie[G+3]}return t};q.addGetterSetter(Le,"embossStrength",.5,Ue(),q.afterSetFilter);q.addGetterSetter(Le,"embossWhiteLevel",.5,Ue(),q.afterSetFilter);q.addGetterSetter(Le,"embossDirection","top-left",void 0,q.afterSetFilter);q.addGetterSetter(Le,"embossBlend",!1,void 0,q.afterSetFilter);function H1(t,e,n,a,r){const l=n-e,c=r-a;if(l===0)return a+c/2;if(c===0)return a;let d=(t-e)/l;return d=c*d+a,d}const CR=function(t){const e=t.data,n=e.length;let a=e[0],r=a,l,c=e[1],d=c,g,m=e[2],v=m,_;const S=this.enhance();if(S===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>r&&(r=l),g=e[z+1],g<c?c=g:g>d&&(d=g),_=e[z+2],_<m?m=_:_>v&&(v=_);r===a&&(r=255,a=0),d===c&&(d=255,c=0),v===m&&(v=255,m=0);let E,A,R,O,j,D;if(S>0)E=r+S*(255-r),A=a-S*(a-0),R=d+S*(255-d),O=c-S*(c-0),j=v+S*(255-v),D=m-S*(m-0);else{const z=(r+a)*.5;E=r+S*(r-z),A=a+S*(a-z);const P=(d+c)*.5;R=d+S*(d-P),O=c+S*(c-P);const H=(v+m)*.5;j=v+S*(v-H),D=m+S*(m-H)}for(let z=0;z<n;z+=4)e[z+0]=H1(e[z+0],a,r,A,E),e[z+1]=H1(e[z+1],c,d,O,R),e[z+2]=H1(e[z+2],m,v,D,j)};q.addGetterSetter(Le,"enhance",0,Ue(),q.afterSetFilter);const TR=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const r=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=r,e[a+1]=r,e[a+2]=r}};q.addGetterSetter(Le,"hue",0,Ue(),q.afterSetFilter);q.addGetterSetter(Le,"saturation",0,Ue(),q.afterSetFilter);q.addGetterSetter(Le,"luminance",0,Ue(),q.afterSetFilter);const AR=function(t){const e=t.data,n=e.length,a=1,r=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=this.luminance()*127,d=a*r*Math.cos(l*Math.PI/180),g=a*r*Math.sin(l*Math.PI/180),m=.299*a+.701*d+.167*g,v=.587*a-.587*d+.33*g,_=.114*a-.114*d-.497*g,S=.299*a-.299*d-.328*g,E=.587*a+.413*d+.035*g,A=.114*a-.114*d+.293*g,R=.299*a-.3*d+1.25*g,O=.587*a-.586*d-1.05*g,j=.114*a+.886*d-.2*g;let D,z,P,H;for(let L=0;L<n;L+=4)D=e[L+0],z=e[L+1],P=e[L+2],H=e[L+3],e[L+0]=m*D+v*z+_*P+c,e[L+1]=S*D+E*z+A*P+c,e[L+2]=R*D+O*z+j*P+c,e[L+3]=H},RR=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=a*r*Math.cos(l*Math.PI/180),d=a*r*Math.sin(l*Math.PI/180),g=.299*a+.701*c+.167*d,m=.587*a-.587*c+.33*d,v=.114*a-.114*c-.497*d,_=.299*a-.299*c-.328*d,S=.587*a+.413*c+.035*d,E=.114*a-.114*c+.293*d,A=.299*a-.3*c+1.25*d,R=.587*a-.586*c-1.05*d,O=.114*a+.886*c-.2*d;for(let j=0;j<n;j+=4){const D=e[j+0],z=e[j+1],P=e[j+2],H=e[j+3];e[j+0]=g*D+m*z+v*P,e[j+1]=_*D+S*z+E*P,e[j+2]=A*D+R*z+O*P,e[j+3]=H}};q.addGetterSetter(Le,"hue",0,Ue(),q.afterSetFilter);q.addGetterSetter(Le,"saturation",0,Ue(),q.afterSetFilter);q.addGetterSetter(Le,"value",0,Ue(),q.afterSetFilter);const OR=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},NR=function(t,e,n){const a=t.data,r=e.data,l=t.width,c=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||c/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=c-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const E=c,A=l,R=360/A*Math.PI/180;for(let O=0;O<A;O+=1){const j=Math.sin(O*R),D=Math.cos(O*R);for(let z=0;z<E;z+=1){v=Math.floor(d+m*z/E*D),_=Math.floor(g+m*z/E*j);let P=(_*l+v)*4;const H=a[P+0],L=a[P+1],Y=a[P+2],ie=a[P+3];P=(O+z*l)*4,r[P+0]=H,r[P+1]=L,r[P+2]=Y,r[P+3]=ie}}},MR=function(t,e,n){const a=t.data,r=e.data,l=t.width,c=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||c/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=c-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const E=c,A=l,R=0;let O,j;for(v=0;v<l;v+=1)for(_=0;_<c;_+=1){const D=v-d,z=_-g,P=Math.sqrt(D*D+z*z)*E/m;let H=(Math.atan2(z,D)*180/Math.PI+360+R)%360;H=H*A/360,O=Math.floor(H),j=Math.floor(P);let L=(j*l+O)*4;const Y=a[L+0],ie=a[L+1],ue=a[L+2],me=a[L+3];L=(_*l+v)*4,r[L+0]=Y,r[L+1]=ie,r[L+2]=ue,r[L+3]=me}},DR=function(t){const e=t.width,n=t.height;let a,r,l,c,d,g,m,v,_,S,E=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(A%360)/360);if(E<1)return;const O=ae.createCanvasElement();O.width=e,O.height=n;const j=O.getContext("2d").getImageData(0,0,e,n);ae.releaseCanvas(O),NR(t,j,{polarCenterX:e/2,polarCenterY:n/2});let D=e/Math.pow(2,E);for(;D<=8;)D=D*2,E-=1;D=Math.ceil(D);let z=D,P=0,H=z,L=1;for(R+D>e&&(P=z,H=0,L=-1),r=0;r<n;r+=1)for(a=P;a!==H;a+=L)l=Math.round(a+R)%e,_=(e*r+l)*4,d=j.data[_+0],g=j.data[_+1],m=j.data[_+2],v=j.data[_+3],S=(e*r+a)*4,j.data[S+0]=d,j.data[S+1]=g,j.data[S+2]=m,j.data[S+3]=v;for(r=0;r<n;r+=1)for(z=Math.floor(D),c=0;c<E;c+=1){for(a=0;a<z+1;a+=1)_=(e*r+a)*4,d=j.data[_+0],g=j.data[_+1],m=j.data[_+2],v=j.data[_+3],S=(e*r+z*2-a-1)*4,j.data[S+0]=d,j.data[S+1]=g,j.data[S+2]=m,j.data[S+3]=v;z*=2}MR(j,t,{})};q.addGetterSetter(Le,"kaleidoscopePower",2,Ue(),q.afterSetFilter);q.addGetterSetter(Le,"kaleidoscopeAngle",0,Ue(),q.afterSetFilter);function am(t,e,n){let a=(n*t.width+e)*4;const r=[];return r.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),r}function b0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function jR(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function zR(t,e){const n=am(t,0,0),a=am(t,t.width-1,0),r=am(t,0,t.height-1),l=am(t,t.width-1,t.height-1),c=e||10;if(b0(n,a)<c&&b0(a,l)<c&&b0(l,r)<c&&b0(r,n)<c){const d=jR([a,n,l,r]),g=[];for(let m=0;m<t.width*t.height;m++){const v=b0(d,[t.data[m*4],t.data[m*4+1],t.data[m*4+2]]);g[m]=v<c?0:255}return g}}function UR(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function kR(t,e,n){const a=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(a.length)),l=Math.floor(r/2),c=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<r;_++)for(let S=0;S<r;S++){const E=d+_-l,A=g+S-l;if(E>=0&&E<n&&A>=0&&A<e){const R=E*e+A,O=a[_*r+S];v+=t[R]*O}}c[m]=v===2040?255:0}return c}function LR(t,e,n){const a=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(a.length)),l=Math.floor(r/2),c=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<r;_++)for(let S=0;S<r;S++){const E=d+_-l,A=g+S-l;if(E>=0&&E<n&&A>=0&&A<e){const R=E*e+A,O=a[_*r+S];v+=t[R]*O}}c[m]=v>=1020?255:0}return c}function PR(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(a.length)),l=Math.floor(r/2),c=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<r;_++)for(let S=0;S<r;S++){const E=d+_-l,A=g+S-l;if(E>=0&&E<n&&A>=0&&A<e){const R=E*e+A,O=a[_*r+S];v+=t[R]*O}}c[m]=v}return c}const BR=function(t){const e=this.threshold();let n=zR(t,e);return n&&(n=kR(n,t.width,t.height),n=LR(n,t.width,t.height),n=PR(n,t.width,t.height),UR(t,n)),t};q.addGetterSetter(Le,"threshold",0,Ue(),q.afterSetFilter);const HR=function(t){const e=this.noise()*255,n=t.data,a=n.length,r=e/2;for(let l=0;l<a;l+=4)n[l+0]+=r-2*r*Math.random(),n[l+1]+=r-2*r*Math.random(),n[l+2]+=r-2*r*Math.random()};q.addGetterSetter(Le,"noise",.2,Ue(),q.afterSetFilter);const GR=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,r=Math.ceil(n/e),l=Math.ceil(a/e),c=t.data;if(e<=0){ae.error("pixelSize value can not be <= 0");return}for(let d=0;d<r;d+=1)for(let g=0;g<l;g+=1){let m=0,v=0,_=0,S=0;const E=d*e,A=E+e,R=g*e,O=R+e;let j=0;for(let D=E;D<A;D+=1)if(!(D>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const P=(n*z+D)*4;m+=c[P+0],v+=c[P+1],_+=c[P+2],S+=c[P+3],j+=1}m=m/j,v=v/j,_=_/j,S=S/j;for(let D=E;D<A;D+=1)if(!(D>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const P=(n*z+D)*4;c[P+0]=m,c[P+1]=v,c[P+2]=_,c[P+3]=S}}};q.addGetterSetter(Le,"pixelSize",8,Ue(),q.afterSetFilter);const qR=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,r=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/r)*r};q.addGetterSetter(Le,"levels",.5,Ue(),q.afterSetFilter);const VR=function(t){const e=t.data,n=e.length,a=this.red(),r=this.green(),l=this.blue();for(let c=0;c<n;c+=4){const d=(.34*e[c]+.5*e[c+1]+.16*e[c+2])/255;e[c]=d*a,e[c+1]=d*r,e[c+2]=d*l,e[c+3]=e[c+3]}};q.addGetterSetter(Le,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Le,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Le,"blue",0,$3,q.afterSetFilter);const YR=function(t){const e=t.data,n=e.length,a=this.red(),r=this.green(),l=this.blue(),c=this.alpha();for(let d=0;d<n;d+=4){const g=1-c;e[d]=a*c+e[d]*g,e[d+1]=r*c+e[d+1]*g,e[d+2]=l*c+e[d+2]*g}};q.addGetterSetter(Le,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Le,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(Le,"blue",0,$3,q.afterSetFilter);q.addGetterSetter(Le,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const ZR=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const r=e[a+0],l=e[a+1],c=e[a+2];e[a+0]=Math.min(255,r*.393+l*.769+c*.189),e[a+1]=Math.min(255,r*.349+l*.686+c*.168),e[a+2]=Math.min(255,r*.272+l*.534+c*.131)}},XR=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const r=n[a],l=n[a+1],c=n[a+2];.2126*r+.7152*l+.0722*c>=128&&(n[a]=255-r,n[a+1]=255-l,n[a+2]=255-c)}return t},IR=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let r=0;r<a;r+=1)n[r]=n[r]<e?0:255};q.addGetterSetter(Le,"threshold",.5,Ue(),q.afterSetFilter);const Yy=Ld.Util._assign(Ld,{Arc:so,Arrow:Hc,Circle:Hd,Ellipse:bu,Image:zr,Label:C2,Tag:Gc,Line:lo,Path:Mr,Rect:ng,RegularPolygon:_u,Ring:qc,Sprite:fl,Star:Su,Text:zn,TextPath:va,Transformer:Ft,Wedge:oo,Filters:{Blur:_R,Brightness:xR,Brighten:SR,Contrast:wR,Emboss:ER,Enhance:CR,Grayscale:TR,HSL:AR,HSV:RR,Invert:OR,Kaleidoscope:DR,Mask:BR,Noise:HR,Pixelate:GR,Posterize:qR,RGB:VR,RGBA:YR,Sepia:ZR,Solarize:XR,Threshold:IR}});var G1={exports:{}},q1={exports:{}};var T4;function KR(){return T4||(T4=1,(function(t){t.exports=function(e){function n(o,u,p,b){return new Uv(o,u,p,b)}function a(){}function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function c(o){if(l(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=l(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,b=u;;){var w=p.return;if(w===null)break;var C=w.alternate;if(C===null){if(b=w.return,b!==null){p=b;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===p)return c(w),o;if(C===b)return c(w),u;C=C.sibling}throw Error(r(188))}if(p.return!==b.return)p=w,b=C;else{for(var k=!1,I=w.child;I;){if(I===p){k=!0,p=w,b=C;break}if(I===b){k=!0,b=w,p=C;break}I=I.sibling}if(!k){for(I=C.child;I;){if(I===p){k=!0,p=C,b=w;break}if(I===b){k=!0,b=C,p=w;break}I=I.sibling}if(!k)throw Error(r(189))}}if(p.alternate!==b)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function g(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=g(o),u!==null)return u;o=o.sibling}return null}function m(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(u=m(o),u!==null))return u;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Mf&&o[Mf]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Qu?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ll:return"Fragment";case Nf:return"Profiler";case Xu:return"StrictMode";case Ku:return"Suspense";case Fu:return"SuspenseList";case Pl:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Ds:return"Portal";case $r:return(o.displayName||"Context")+".Provider";case xh:return(o._context.displayName||"Context")+".Consumer";case pr:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case mr:return u=o.displayName||null,u!==null?u:_(o.type)||"Memo";case ka:u=o._payload,o=o._init;try{return _(o(u))}catch{}}return null}function S(o){return{current:o}}function E(o){0>as||(o.current=ns[as],ns[as]=null,as--)}function A(o,u){as++,ns[as]=o.current,o.current=u}function R(o){return o>>>=0,o===0?32:31-(pp(o)/Hf|0)|0}function O(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function j(o,u,p){var b=o.pendingLanes;if(b===0)return 0;var w=0,C=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var I=b&134217727;return I!==0?(b=I&~C,b!==0?w=O(b):(k&=I,k!==0?w=O(k):p||(p=I&~o,p!==0&&(w=O(p))))):(I=b&~C,I!==0?w=O(I):k!==0?w=O(k):p||(p=b&~o,p!==0&&(w=O(p)))),w===0?0:u!==0&&u!==w&&(u&C)===0&&(C=w&-w,p=u&-u,C>=p||C===32&&(p&4194048)!==0)?u:w}function D(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function z(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var o=oc;return oc<<=1,(oc&4194048)===0&&(oc=256),o}function H(){var o=Lo;return Lo<<=1,(Lo&62914560)===0&&(Lo=4194304),o}function L(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function Y(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ie(o,u,p,b,w,C){var k=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var I=o.entanglements,te=o.expirationTimes,Ae=o.hiddenUpdates;for(p=k&~p;0<p;){var De=31-ai(p),Ge=1<<De;I[De]=0,te[De]=-1;var Ye=Ae[De];if(Ye!==null)for(Ae[De]=null,De=0;De<Ye.length;De++){var xt=Ye[De];xt!==null&&(xt.lane&=-536870913)}p&=~Ge}b!==0&&ue(o,b,0),C!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=C&~(k&~u))}function ue(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var b=31-ai(u);o.entangledLanes|=u,o.entanglements[b]=o.entanglements[b]|1073741824|p&4194090}function me(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var b=31-ai(p),w=1<<b;w&u|o[b]&u&&(o[b]|=u),p&=~w}}function Te(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ve(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function pe(o){if(typeof bp=="function"&&_p(o),Pa&&typeof Pa.setStrictMode=="function")try{Pa.setStrictMode(Ls,o)}catch{}}function ye(o){if(Vf===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);Vf=u&&u[1]||"",Kh=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vf+o+Kh}function Se(o,u){if(!o||Yf)return"";Yf=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(u){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(xt){var Ye=xt}Reflect.construct(o,[],Ge)}else{try{Ge.call()}catch(xt){Ye=xt}o.call(Ge.prototype)}}else{try{throw Error()}catch(xt){Ye=xt}(Ge=o())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(xt){if(xt&&Ye&&typeof xt.stack=="string")return[xt.stack,Ye.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=b.DetermineComponentFrameRoot(),k=C[0],I=C[1];if(k&&I){var te=k.split(`
`),Ae=I.split(`
`);for(w=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;w<Ae.length&&!Ae[w].includes("DetermineComponentFrameRoot");)w++;if(b===te.length||w===Ae.length)for(b=te.length-1,w=Ae.length-1;1<=b&&0<=w&&te[b]!==Ae[w];)w--;for(;1<=b&&0<=w;b--,w--)if(te[b]!==Ae[w]){if(b!==1||w!==1)do if(b--,w--,0>w||te[b]!==Ae[w]){var De=`
`+te[b].replace(" at new "," at ");return o.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",o.displayName)),De}while(1<=b&&0<=w);break}}}finally{Yf=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?ye(p):""}function G(o){switch(o.tag){case 26:case 27:case 5:return ye(o.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return Se(o.type,!1);case 11:return Se(o.type.render,!1);case 1:return Se(o.type,!0);case 31:return ye("Activity");default:return""}}function F(o){try{var u="";do u+=G(o),o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function X(o,u){if(typeof o=="object"&&o!==null){var p=Zf.get(o);return p!==void 0?p:(u={value:o,source:u,stack:F(u)},Zf.set(o,u),u)}return{value:o,source:u,stack:F(u)}}function W(o,u){Ps[Bs++]=Po,Ps[Bs++]=cc,cc=o,Po=u}function B(o,u,p){Ba[ii++]=Ii,Ba[ii++]=_r,Ba[ii++]=Hs,Hs=o;var b=Ii;o=_r;var w=32-ai(b)-1;b&=~(1<<w),p+=1;var C=32-ai(u)+w;if(30<C){var k=w-w%5;C=(b&(1<<k)-1).toString(32),b>>=k,w-=k,Ii=1<<32-ai(u)+w|p<<w|b,_r=C+o}else Ii=1<<C|p<<w|b,_r=o}function ne(o){o.return!==null&&(W(o,1),B(o,1,0))}function _e(o){for(;o===cc;)cc=Ps[--Bs],Ps[Bs]=null,Po=Ps[--Bs],Ps[Bs]=null;for(;o===Hs;)Hs=Ba[--ii],Ba[ii]=null,_r=Ba[--ii],Ba[ii]=null,Ii=Ba[--ii],Ba[ii]=null}function be(o,u){A(Gs,u),A(ql,o),A(Sn,null),o=Eh(u),E(Sn),A(Sn,o)}function ze(){E(Sn),E(ql),E(Gs)}function it(o){o.memoizedState!==null&&A(fc,o);var u=Sn.current,p=Ch(u,o.type);u!==p&&(A(ql,o),A(Sn,p))}function Ve(o){ql.current===o&&(E(Sn),E(ql)),fc.current===o&&(E(fc),Wr?yr._currentValue=ni:yr._currentValue2=ni)}function st(o){var u=Error(r(418,""));throw Wn(X(u,o)),Fh}function wt(o,u){if(!ei)throw Error(r(175));cp(o.stateNode,o.type,o.memoizedProps,u,o)||st(o)}function Nn(o){for(Dn=o.return;Dn;)switch(Dn.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:Dn=Dn.return}}function jt(o){if(!ei||o!==Dn)return!1;if(!Vt)return Nn(o),Vt=!0,!1;var u=o.tag;if(zt?u!==3&&u!==27&&(u!==5||qh(o.type)&&!Jr(o.type,o.memoizedProps))&&Yn&&st(o):u!==3&&(u!==5||qh(o.type)&&!Jr(o.type,o.memoizedProps))&&Yn&&st(o),Nn(o),u===13){if(!ei)throw Error(r(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Yn=Lf(o)}else Yn=zt&&u===27?Bh(o.type,Yn):Dn?rp(o.stateNode):null;return!0}function Yt(){ei&&(Yn=Dn=null,Vt=!1)}function Ya(){var o=Ki;return o!==null&&(Oa===null?Oa=o:Oa.push.apply(Oa,o),Ki=null),o}function Wn(o){Ki===null?Ki=[o]:Ki.push(o)}function ba(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}function He(o,u,p){Wr?(A(dc,u._currentValue),u._currentValue=p):(A(dc,u._currentValue2),u._currentValue2=p)}function nt(o){var u=dc.current;Wr?o._currentValue=u:o._currentValue2=u,E(dc)}function fn(o,u,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),o===p)break;o=o.return}}function Gn(o,u,p,b){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var C=w.dependencies;if(C!==null){var k=w.child;C=C.firstContext;e:for(;C!==null;){var I=C;C=w;for(var te=0;te<u.length;te++)if(I.context===u[te]){C.lanes|=p,I=C.alternate,I!==null&&(I.lanes|=p),fn(C.return,p,o),b||(k=null);break e}C=I.next}}else if(w.tag===18){if(k=w.return,k===null)throw Error(r(341));k.lanes|=p,C=k.alternate,C!==null&&(C.lanes|=p),fn(k,p,o),k=null}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===o){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}}function li(o,u,p,b){o=null;for(var w=u,C=!1;w!==null;){if(!C){if((w.flags&524288)!==0)C=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var k=w.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var I=w.type;mi(w.pendingProps.value,k.value)||(o!==null?o.push(I):o=[I])}}else if(w===fc.current){if(k=w.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(yr):o=[yr])}w=w.return}o!==null&&Gn(u,o,p,b),u.flags|=262144}function Z(o){for(o=o.firstContext;o!==null;){var u=o.context;if(!mi(Wr?u._currentValue:u._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function re(o){Fi=o,Ta=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function de(o){return ke(Fi,o)}function Pe(o,u){return Fi===null&&re(o),ke(o,u)}function ke(o,u){var p=Wr?u._currentValue:u._currentValue2;if(u={context:u,memoizedValue:p,next:null},Ta===null){if(o===null)throw Error(r(308));Ta=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Ta=Ta.next=u;return p}function Me(){return{controller:new Sp,data:new Map,refCount:0}}function qe(o){o.refCount--,o.refCount===0&&xp(hc,function(){o.controller.abort()})}function Fe(o){o!==qs&&o.next===null&&(qs===null?gc=qs=o:qs=qs.next=o),Bo=!0,Xf||(Xf=!0,Hi())}function bt(o,u){if(!pc&&Bo){pc=!0;do for(var p=!1,b=gc;b!==null;){if(o!==0){var w=b.pendingLanes;if(w===0)var C=0;else{var k=b.suspendedLanes,I=b.pingedLanes;C=(1<<31-ai(42|o)+1)-1,C&=w&~(k&~I),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,xi(b,C))}else C=Ot,C=j(b,b===Xt?C:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Oi),(C&3)===0||D(b,C)||(p=!0,xi(b,C));b=b.next}while(p);pc=!1}}function an(){Bi()}function Bi(){Bo=Xf=!1;var o=0;is!==0&&(Ah()&&(o=is),is=0);for(var u=un(),p=null,b=gc;b!==null;){var w=b.next,C=oi(b,u);C===0?(b.next=null,p===null?gc=w:p.next=w,w===null&&(qs=p)):(p=b,(o!==0||(C&3)!==0)&&(Bo=!0)),b=w}bt(o)}function oi(o,u){for(var p=o.suspendedLanes,b=o.pingedLanes,w=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var k=31-ai(C),I=1<<k,te=w[k];te===-1?((I&p)===0||(I&b)!==0)&&(w[k]=z(I,u)):te<=u&&(o.expiredLanes|=I),C&=~I}if(u=Xt,p=Ot,p=j(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Oi),b=o.callbackNode,p===0||o===u&&(en===2||en===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&Gf(b),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||D(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(b!==null&&Gf(b),ve(p)){case 2:case 8:p=vp;break;case 32:p=qf;break;case 268435456:p=yp;break;default:p=qf}return b=Za.bind(null,o),p=uc(p,b),o.callbackPriority=u,o.callbackNode=p,u}return b!==null&&b!==null&&Gf(b),o.callbackPriority=2,o.callbackNode=null,2}function Za(o,u){if(Fn!==0&&Fn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Ri()&&o.callbackNode!==p)return null;var b=Ot;return b=j(o,o===Xt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Oi),b===0?null:(Yu(o,b,u),oi(o,un()),o.callbackNode!=null&&o.callbackNode===p?Za.bind(null,o):null)}function xi(o,u){if(Ri())return null;Yu(o,u,!0)}function Hi(){Nh?Bg(function(){(ot&6)!==0?uc(aa,an):Bi()}):uc(aa,an)}function Xa(){return is===0&&(is=P()),is}function kr(o,u){if(Ho===null){var p=Ho=[];Qi=0,mn=Xa(),Vs={status:"pending",value:void 0,then:function(b){p.push(b)}}}return Qi++,u.then(Gi,Gi),u}function Gi(){if(--Qi===0&&Ho!==null){Vs!==null&&(Vs.status="fulfilled");var o=Ho;Ho=null,mn=0,Vs=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Lr(o,u){var p=[],b={status:"pending",value:null,reason:null,then:function(w){p.push(w)}};return o.then(function(){b.status="fulfilled",b.value=u;for(var w=0;w<p.length;w++)(0,p[w])(u)},function(w){for(b.status="rejected",b.reason=w,w=0;w<p.length;w++)(0,p[w])(void 0)}),b}function gl(){var o=Tn.current;return o!==null?o:Xt.pooledCache}function Pr(o,u){u===null?A(Tn,Tn.current):A(Tn,u.pool)}function fo(){var o=gl();return o===null?null:{parent:Wr?Wt._currentValue:Wt._currentValue2,pool:o}}function qi(o,u){if(mi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var w=p[b];if(!Gv.call(u,w)||!mi(o[w],u[w]))return!1}return!0}function Ic(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ys(){}function bs(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(ys,ys),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,ho(o),o;default:if(typeof u.status=="string")u.then(ys,ys);else{if(o=Xt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(b){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=b}},function(b){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=b}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,ho(o),o}throw ri=u,Go}}function Br(){if(ri===null)throw Error(r(459));var o=ri;return ri=null,o}function ho(o){if(o===Go||o===dn)throw Error(r(483))}function pl(){for(var o=Vl,u=$h=Vl=0;u<o;){var p=vi[u];vi[u++]=null;var b=vi[u];vi[u++]=null;var w=vi[u];vi[u++]=null;var C=vi[u];if(vi[u++]=null,b!==null&&w!==null){var k=b.pending;k===null?w.next=w:(w.next=k.next,k.next=w),b.pending=w}C!==0&&Ce(p,w,C)}}function K(o,u,p,b){vi[Vl++]=o,vi[Vl++]=u,vi[Vl++]=p,vi[Vl++]=b,$h|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function ee(o,u,p,b){return K(o,u,p,b),je(o)}function le(o,u){return K(o,null,null,u),je(o)}function Ce(o,u,p){o.lanes|=p;var b=o.alternate;b!==null&&(b.lanes|=p);for(var w=!1,C=o.return;C!==null;)C.childLanes|=p,b=C.alternate,b!==null&&(b.childLanes|=p),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(w=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,w&&u!==null&&(w=31-ai(p),o=C.hiddenUpdates,b=o[w],b===null?o[w]=[u]:b.push(u),u.lane=p|536870912),C):null}function je(o){if(50<Ws)throw Ws=0,Jf=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}function Qe(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function et(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ze(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ie(o,u,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(ot&2)!==0){var w=b.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),b.pending=u,u=je(o),Ce(o,null,p),u}return K(o,b,u,p),je(o)}function tt(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var b=u.lanes;b&=o.pendingLanes,p|=b,u.lanes=p,me(o,p)}}function We(o,u){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var w=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var k={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?w=C=k:C=C.next=k,p=p.next}while(p!==null);C===null?w=C=u:C=C.next=u}else w=C=u;p={baseState:b.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:b.shared,callbacks:b.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}function Xe(){if(Ha){var o=Vs;if(o!==null)throw o}}function yt(o,u,p,b){Ha=!1;var w=o.updateQueue;Sr=!1;var C=w.firstBaseUpdate,k=w.lastBaseUpdate,I=w.shared.pending;if(I!==null){w.shared.pending=null;var te=I,Ae=te.next;te.next=null,k===null?C=Ae:k.next=Ae,k=te;var De=o.alternate;De!==null&&(De=De.updateQueue,I=De.lastBaseUpdate,I!==k&&(I===null?De.firstBaseUpdate=Ae:I.next=Ae,De.lastBaseUpdate=te))}if(C!==null){var Ge=w.baseState;k=0,De=Ae=te=null,I=C;do{var Ye=I.lane&-536870913,xt=Ye!==I.lane;if(xt?(Ot&Ye)===Ye:(b&Ye)===Ye){Ye!==0&&Ye===mn&&(Ha=!0),De!==null&&(De=De.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Di=o,el=I;Ye=u;var ji=p;switch(el.tag){case 1:if(Di=el.payload,typeof Di=="function"){Ge=Di.call(ji,Ge,Ye);break e}Ge=Di;break e;case 3:Di.flags=Di.flags&-65537|128;case 0:if(Di=el.payload,Ye=typeof Di=="function"?Di.call(ji,Ge,Ye):Di,Ye==null)break e;Ge=Ul({},Ge,Ye);break e;case 2:Sr=!0}}Ye=I.callback,Ye!==null&&(o.flags|=64,xt&&(o.flags|=8192),xt=w.callbacks,xt===null?w.callbacks=[Ye]:xt.push(Ye))}else xt={lane:Ye,tag:I.tag,payload:I.payload,callback:I.callback,next:null},De===null?(Ae=De=xt,te=Ge):De=De.next=xt,k|=Ye;if(I=I.next,I===null){if(I=w.shared.pending,I===null)break;xt=I,I=xt.next,xt.next=null,w.lastBaseUpdate=xt,w.shared.pending=null}}while(!0);De===null&&(te=Ge),w.baseState=te,w.firstBaseUpdate=Ae,w.lastBaseUpdate=De,C===null&&(w.shared.lanes=0),In|=k,o.lanes=k,o.memoizedState=Ge}}function $t(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function gn(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)$t(p[o],u)}function Lt(o,u){o=Pn,A(mc,o),A(Aa,u),Pn=o|u.baseLanes}function ln(){A(mc,Pn),A(Aa,Aa.current)}function tn(){Pn=mc.current,E(Aa),E(mc)}function Pt(){throw Error(r(321))}function Ia(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!mi(o[p],u[p]))return!1;return!0}function wi(o,u,p,b,w,C){return Zn=C,Et=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,lt.H=o===null||o.memoizedState===null?Yl:Jh,rs=!1,C=p(b,w),rs=!1,Ys&&(C=ml(u,p,b,w)),Ka(o),C}function Ka(o){lt.H=Zs;var u=Bt!==null&&Bt.next!==null;if(Zn=0,vn=Bt=Et=null,$i=!1,qo=0,Ji=null,u)throw Error(r(300));o===null||pt||(o=o.dependencies,o!==null&&Z(o)&&(pt=!0))}function ml(o,u,p,b){Et=o;var w=0;do{if(Ys&&(Ji=null),qo=0,Ys=!1,25<=w)throw Error(r(301));if(w+=1,vn=Bt=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}lt.H=wp,C=u(p,b)}while(Ys);return C}function vl(){var o=lt.H,u=o.useState()[0];return u=typeof u.then=="function"?za(u):u,o=o.useState()[0],(Bt!==null?Bt.memoizedState:null)!==o&&(Et.flags|=1024),u}function Fa(){var o=yi!==0;return yi=0,o}function Vi(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function _a(o){if($i){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}$i=!1}Zn=0,vn=Bt=Et=null,Ys=!1,qo=yi=0,Ji=null}function ut(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Et.memoizedState=vn=o:vn=vn.next=o,vn}function Mt(){if(Bt===null){var o=Et.alternate;o=o!==null?o.memoizedState:null}else o=Bt.next;var u=vn===null?Et.memoizedState:vn.next;if(u!==null)vn=u,Bt=o;else{if(o===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Bt=o,o={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},vn===null?Et.memoizedState=vn=o:vn=vn.next=o}return vn}function ja(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function za(o){var u=qo;return qo+=1,Ji===null&&(Ji=[]),o=bs(Ji,o,u),u=Et,(vn===null?u.memoizedState:vn.next)===null&&(u=u.alternate,lt.H=u===null||u.memoizedState===null?Yl:Jh),o}function pn(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return za(o);if(o.$$typeof===$r)return de(o)}throw Error(r(438,String(o)))}function _s(o){var u=null,p=Et.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var b=Et.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(u={data:b.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=ja(),Et.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),b=0;b<o;b++)p[b]=wh;return u.index++,p}function ui(o,u){return typeof u=="function"?u(o):u}function ca(o){var u=Mt();return Kc(u,Bt,o)}function Kc(o,u,p){var b=o.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=p;var w=o.baseQueue,C=b.pending;if(C!==null){if(w!==null){var k=w.next;w.next=C.next,C.next=k}u.baseQueue=w=C,b.pending=null}if(C=o.baseState,w===null)o.memoizedState=C;else{u=w.next;var I=k=null,te=null,Ae=u,De=!1;do{var Ge=Ae.lane&-536870913;if(Ge!==Ae.lane?(Ot&Ge)===Ge:(Zn&Ge)===Ge){var Ye=Ae.revertLane;if(Ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ge===mn&&(De=!0);else if((Zn&Ye)===Ye){Ae=Ae.next,Ye===mn&&(De=!0);continue}else Ge={lane:0,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},te===null?(I=te=Ge,k=C):te=te.next=Ge,Et.lanes|=Ye,In|=Ye;Ge=Ae.action,rs&&p(C,Ge),C=Ae.hasEagerState?Ae.eagerState:p(C,Ge)}else Ye={lane:Ge,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},te===null?(I=te=Ye,k=C):te=te.next=Ye,Et.lanes|=Ge,In|=Ge;Ae=Ae.next}while(Ae!==null&&Ae!==u);if(te===null?k=C:te.next=I,!mi(C,o.memoizedState)&&(pt=!0,De&&(p=Vs,p!==null)))throw p;o.memoizedState=C,o.baseState=k,o.baseQueue=te,b.lastRenderedState=C}return w===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function Zd(o){var u=Mt(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var b=p.dispatch,w=p.pending,C=u.memoizedState;if(w!==null){p.pending=null;var k=w=w.next;do C=o(C,k.action),k=k.next;while(k!==w);mi(C,u.memoizedState)||(pt=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),p.lastRenderedState=C}return[C,b]}function Tu(o,u,p){var b=Et,w=Mt(),C=Vt;if(C){if(p===void 0)throw Error(r(407));p=p()}else p=u();var k=!mi((Bt||w).memoizedState,p);k&&(w.memoizedState=p,pt=!0),w=w.queue;var I=cg.bind(null,b,w,o);if(_l(2048,8,I,[o]),w.getSnapshot!==u||k||vn!==null&&vn.memoizedState.tag&1){if(b.flags|=2048,Ss(9,Hr(),Au.bind(null,b,w,p,u),null),Xt===null)throw Error(r(349));C||(Zn&124)!==0||Xd(b,u,p)}return p}function Xd(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Et.updateQueue,u===null?(u=ja(),Et.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Au(o,u,p,b){u.value=p,u.getSnapshot=b,ci(u)&&Fc(o)}function cg(o,u,p){return p(function(){ci(u)&&Fc(o)})}function ci(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!mi(o,p)}catch{return!0}}function Fc(o){var u=le(o,2);u!==null&&wa(u,o,2)}function Qc(o){var u=ut();if(typeof o=="function"){var p=o;if(o=p(),rs){pe(!0);try{p()}finally{pe(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:o},u}function $c(o,u,p,b){return o.baseState=p,Kc(o,Bt,typeof b=="function"?b:ui)}function go(o,u,p,b,w){if(ju(o))throw Error(r(485));if(o=u.action,o!==null){var C={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){C.listeners.push(k)}};lt.T!==null?p(!0):C.isTransition=!1,b(C),p=u.pending,p===null?(C.next=u.pending=C,Id(u,C)):(C.next=p.next,u.pending=p.next=C)}}function Id(o,u){var p=u.action,b=u.payload,w=o.state;if(u.isTransition){var C=lt.T,k={};lt.T=k;try{var I=p(w,b),te=lt.S;te!==null&&te(k,I),Kd(o,u,I)}catch(Ae){Fd(o,u,Ae)}finally{lt.T=C}}else try{C=p(w,b),Kd(o,u,C)}catch(Ae){Fd(o,u,Ae)}}function Kd(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){yl(o,u,b)},function(b){return Fd(o,u,b)}):yl(o,u,p)}function yl(o,u,p){u.status="fulfilled",u.value=p,Qd(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Id(o,p)))}function Fd(o,u,p){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do u.status="rejected",u.reason=p,Qd(u),u=u.next;while(u!==b)}o.action=null}function Qd(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function $d(o,u){return u}function Jc(o,u){if(Vt){var p=Xt.formState;if(p!==null){e:{var b=Et;if(Vt){if(Yn){var w=ap(Yn,Qt);if(w){Yn=rp(w),b=ip(w);break e}}st(b)}b=!1}b&&(u=p[0])}}p=ut(),p.memoizedState=p.baseState=u,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:u},p.queue=b,p=nf.bind(null,Et,b),b.dispatch=p,b=Qc(!1);var C=bo.bind(null,Et,!1,b.queue);return b=ut(),w={state:u,dispatch:null,action:o,pending:null},b.queue=w,p=go.bind(null,Et,w,C,p),w.dispatch=p,b.memoizedState=o,[u,p,!1]}function fg(o){var u=Mt();return dg(u,Bt,o)}function dg(o,u,p){if(u=Kc(o,u,$d)[0],o=ca(ui)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var b=za(u)}catch(k){throw k===Go?dn:k}else b=u;u=Mt();var w=u.queue,C=w.dispatch;return p!==u.memoizedState&&(Et.flags|=2048,Ss(9,Hr(),Wc.bind(null,w,p),null)),[b,C,o]}function Wc(o,u){o.action=u}function ef(o){var u=Mt(),p=Bt;if(p!==null)return dg(u,p,o);Mt(),u=u.memoizedState,p=Mt();var b=p.queue.dispatch;return p.memoizedState=o,[u,b,!1]}function Ss(o,u,p,b){return o={tag:o,create:p,deps:b,inst:u,next:null},u=Et.updateQueue,u===null&&(u=ja(),Et.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,u.lastEffect=o),o}function Hr(){return{destroy:void 0,resource:void 0}}function bl(){return Mt().memoizedState}function Ru(o,u,p,b){var w=ut();b=b===void 0?null:b,Et.flags|=o,w.memoizedState=Ss(1|u,Hr(),p,b)}function _l(o,u,p,b){var w=Mt();b=b===void 0?null:b;var C=w.memoizedState.inst;Bt!==null&&b!==null&&Ia(b,Bt.memoizedState.deps)?w.memoizedState=Ss(u,C,p,b):(Et.flags|=o,w.memoizedState=Ss(1|u,C,p,b))}function Jd(o,u){Ru(8390656,8,o,u)}function po(o,u){_l(2048,8,o,u)}function sr(o,u){return _l(4,2,o,u)}function tf(o,u){return _l(4,4,o,u)}function mo(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Gr(o,u,p){p=p!=null?p.concat([o]):null,_l(4,4,mo.bind(null,u,o),p)}function Ou(){}function Nu(o,u){var p=Mt();u=u===void 0?null:u;var b=p.memoizedState;return u!==null&&Ia(u,b[1])?b[0]:(p.memoizedState=[o,u],o)}function Wd(o,u){var p=Mt();u=u===void 0?null:u;var b=p.memoizedState;if(u!==null&&Ia(u,b[1]))return b[0];if(b=o(),rs){pe(!0);try{o()}finally{pe(!1)}}return p.memoizedState=[b,u],b}function vo(o,u,p){return p===void 0||(Zn&1073741824)!==0?o.memoizedState=u:(o.memoizedState=p,o=Ol(),Et.lanes|=o,In|=o,p)}function Mu(o,u,p,b){return mi(p,u)?p:Aa.current!==null?(o=vo(o,p,b),mi(o,u)||(pt=!0),o):(Zn&42)===0?(pt=!0,o.memoizedState=p):(o=Ol(),Et.lanes|=o,In|=o,u)}function eh(o,u,p,b,w){var C=Xi();na(C!==0&&8>C?C:8);var k=lt.T,I={};lt.T=I,bo(o,!1,u,p);try{var te=w(),Ae=lt.S;if(Ae!==null&&Ae(I,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var De=Lr(te,b);Vr(o,u,De,ta(o))}else Vr(o,u,b,ta(o))}catch(Ge){Vr(o,u,{then:function(){},status:"rejected",reason:Ge},ta())}finally{na(C),lt.T=k}}function Ua(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ni,baseState:ni,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:ni},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function qr(){return de(yr)}function Du(){return Mt().memoizedState}function yo(){return Mt().memoizedState}function Nv(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=ta();o=Ze(p);var b=Ie(u,o,p);b!==null&&(wa(b,u,p),tt(b,u,p)),u={cache:Me()},o.payload=u;return}u=u.return}}function th(o,u,p){var b=ta();p={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},ju(o)?hg(u,p):(p=ee(o,u,p,b),p!==null&&(wa(p,o,b),gg(p,u,b)))}function nf(o,u,p){var b=ta();Vr(o,u,p,b)}function Vr(o,u,p,b){var w={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(ju(o))hg(u,w);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var k=u.lastRenderedState,I=C(k,p);if(w.hasEagerState=!0,w.eagerState=I,mi(I,k))return K(o,u,w,0),Xt===null&&pl(),!1}catch{}finally{}if(p=ee(o,u,w,b),p!==null)return wa(p,o,b),gg(p,u,b),!0}return!1}function bo(o,u,p,b){if(b={lane:2,revertLane:Xa(),action:b,hasEagerState:!1,eagerState:null,next:null},ju(o)){if(u)throw Error(r(479))}else u=ee(o,p,b,2),u!==null&&wa(u,o,2)}function ju(o){var u=o.alternate;return o===Et||u!==null&&u===Et}function hg(o,u){Ys=$i=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function gg(o,u,p){if((p&4194048)!==0){var b=u.lanes;b&=o.pendingLanes,p|=b,u.lanes=p,me(o,p)}}function af(o){var u=Vo;return Vo+=1,xr===null&&(xr=[]),bs(xr,o,u)}function Sl(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function rf(o,u){throw u.$$typeof===Ug?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function pg(o){var u=o._init;return u(o._payload)}function mg(o){function u(ce,$){if(o){var ge=ce.deletions;ge===null?(ce.deletions=[$],ce.flags|=16):ge.push($)}}function p(ce,$){if(!o)return null;for(;$!==null;)u(ce,$),$=$.sibling;return null}function b(ce){for(var $=new Map;ce!==null;)ce.key!==null?$.set(ce.key,ce):$.set(ce.index,ce),ce=ce.sibling;return $}function w(ce,$){return ce=Fr(ce,$),ce.index=0,ce.sibling=null,ce}function C(ce,$,ge){return ce.index=ge,o?(ge=ce.alternate,ge!==null?(ge=ge.index,ge<$?(ce.flags|=67108866,$):ge):(ce.flags|=67108866,$)):(ce.flags|=1048576,$)}function k(ce){return o&&ce.alternate===null&&(ce.flags|=67108866),ce}function I(ce,$,ge,Oe){return $===null||$.tag!==6?($=jl(ge,ce.mode,Oe),$.return=ce,$):($=w($,ge),$.return=ce,$)}function te(ce,$,ge,Oe){var Ke=ge.type;return Ke===Ll?De(ce,$,ge.props.children,Oe,ge.key):$!==null&&($.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ka&&pg(Ke)===$.type)?($=w($,ge.props),Sl($,ge),$.return=ce,$):($=Ro(ge.type,ge.key,ge.props,null,ce.mode,Oe),Sl($,ge),$.return=ce,$)}function Ae(ce,$,ge,Oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==ge.containerInfo||$.stateNode.implementation!==ge.implementation?($=Zu(ge,ce.mode,Oe),$.return=ce,$):($=w($,ge.children||[]),$.return=ce,$)}function De(ce,$,ge,Oe,Ke){return $===null||$.tag!==7?($=Zi(ge,ce.mode,Oe,Ke),$.return=ce,$):($=w($,ge),$.return=ce,$)}function Ge(ce,$,ge){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=jl(""+$,ce.mode,ge),$.return=ce,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case kl:return ge=Ro($.type,$.key,$.props,null,ce.mode,ge),Sl(ge,$),ge.return=ce,ge;case Ds:return $=Zu($,ce.mode,ge),$.return=ce,$;case ka:var Oe=$._init;return $=Oe($._payload),Ge(ce,$,ge)}if(js($)||v($))return $=Zi($,ce.mode,ge,null),$.return=ce,$;if(typeof $.then=="function")return Ge(ce,af($),ge);if($.$$typeof===$r)return Ge(ce,Pe(ce,$),ge);rf(ce,$)}return null}function Ye(ce,$,ge,Oe){var Ke=$!==null?$.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Ke!==null?null:I(ce,$,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case kl:return ge.key===Ke?te(ce,$,ge,Oe):null;case Ds:return ge.key===Ke?Ae(ce,$,ge,Oe):null;case ka:return Ke=ge._init,ge=Ke(ge._payload),Ye(ce,$,ge,Oe)}if(js(ge)||v(ge))return Ke!==null?null:De(ce,$,ge,Oe,null);if(typeof ge.then=="function")return Ye(ce,$,af(ge),Oe);if(ge.$$typeof===$r)return Ye(ce,$,Pe(ce,ge),Oe);rf(ce,ge)}return null}function xt(ce,$,ge,Oe,Ke){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ce=ce.get(ge)||null,I($,ce,""+Oe,Ke);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case kl:return ce=ce.get(Oe.key===null?ge:Oe.key)||null,te($,ce,Oe,Ke);case Ds:return ce=ce.get(Oe.key===null?ge:Oe.key)||null,Ae($,ce,Oe,Ke);case ka:var rn=Oe._init;return Oe=rn(Oe._payload),xt(ce,$,ge,Oe,Ke)}if(js(Oe)||v(Oe))return ce=ce.get(ge)||null,De($,ce,Oe,Ke,null);if(typeof Oe.then=="function")return xt(ce,$,ge,af(Oe),Ke);if(Oe.$$typeof===$r)return xt(ce,$,ge,Pe($,Oe),Ke);rf($,Oe)}return null}function Di(ce,$,ge,Oe){for(var Ke=null,rn=null,dt=$,It=$=0,Qn=null;dt!==null&&It<ge.length;It++){dt.index>It?(Qn=dt,dt=null):Qn=dt.sibling;var Kt=Ye(ce,dt,ge[It],Oe);if(Kt===null){dt===null&&(dt=Qn);break}o&&dt&&Kt.alternate===null&&u(ce,dt),$=C(Kt,$,It),rn===null?Ke=Kt:rn.sibling=Kt,rn=Kt,dt=Qn}if(It===ge.length)return p(ce,dt),Vt&&W(ce,It),Ke;if(dt===null){for(;It<ge.length;It++)dt=Ge(ce,ge[It],Oe),dt!==null&&($=C(dt,$,It),rn===null?Ke=dt:rn.sibling=dt,rn=dt);return Vt&&W(ce,It),Ke}for(dt=b(dt);It<ge.length;It++)Qn=xt(dt,ce,It,ge[It],Oe),Qn!==null&&(o&&Qn.alternate!==null&&dt.delete(Qn.key===null?It:Qn.key),$=C(Qn,$,It),rn===null?Ke=Qn:rn.sibling=Qn,rn=Qn);return o&&dt.forEach(function(os){return u(ce,os)}),Vt&&W(ce,It),Ke}function el(ce,$,ge,Oe){if(ge==null)throw Error(r(151));for(var Ke=null,rn=null,dt=$,It=$=0,Qn=null,Kt=ge.next();dt!==null&&!Kt.done;It++,Kt=ge.next()){dt.index>It?(Qn=dt,dt=null):Qn=dt.sibling;var os=Ye(ce,dt,Kt.value,Oe);if(os===null){dt===null&&(dt=Qn);break}o&&dt&&os.alternate===null&&u(ce,dt),$=C(os,$,It),rn===null?Ke=os:rn.sibling=os,rn=os,dt=Qn}if(Kt.done)return p(ce,dt),Vt&&W(ce,It),Ke;if(dt===null){for(;!Kt.done;It++,Kt=ge.next())Kt=Ge(ce,Kt.value,Oe),Kt!==null&&($=C(Kt,$,It),rn===null?Ke=Kt:rn.sibling=Kt,rn=Kt);return Vt&&W(ce,It),Ke}for(dt=b(dt);!Kt.done;It++,Kt=ge.next())Kt=xt(dt,ce,It,Kt.value,Oe),Kt!==null&&(o&&Kt.alternate!==null&&dt.delete(Kt.key===null?It:Kt.key),$=C(Kt,$,It),rn===null?Ke=Kt:rn.sibling=Kt,rn=Kt);return o&&dt.forEach(function(qv){return u(ce,qv)}),Vt&&W(ce,It),Ke}function ji(ce,$,ge,Oe){if(typeof ge=="object"&&ge!==null&&ge.type===Ll&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case kl:e:{for(var Ke=ge.key;$!==null;){if($.key===Ke){if(Ke=ge.type,Ke===Ll){if($.tag===7){p(ce,$.sibling),Oe=w($,ge.props.children),Oe.return=ce,ce=Oe;break e}}else if($.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ka&&pg(Ke)===$.type){p(ce,$.sibling),Oe=w($,ge.props),Sl(Oe,ge),Oe.return=ce,ce=Oe;break e}p(ce,$);break}else u(ce,$);$=$.sibling}ge.type===Ll?(Oe=Zi(ge.props.children,ce.mode,Oe,ge.key),Oe.return=ce,ce=Oe):(Oe=Ro(ge.type,ge.key,ge.props,null,ce.mode,Oe),Sl(Oe,ge),Oe.return=ce,ce=Oe)}return k(ce);case Ds:e:{for(Ke=ge.key;$!==null;){if($.key===Ke)if($.tag===4&&$.stateNode.containerInfo===ge.containerInfo&&$.stateNode.implementation===ge.implementation){p(ce,$.sibling),Oe=w($,ge.children||[]),Oe.return=ce,ce=Oe;break e}else{p(ce,$);break}else u(ce,$);$=$.sibling}Oe=Zu(ge,ce.mode,Oe),Oe.return=ce,ce=Oe}return k(ce);case ka:return Ke=ge._init,ge=Ke(ge._payload),ji(ce,$,ge,Oe)}if(js(ge))return Di(ce,$,ge,Oe);if(v(ge)){if(Ke=v(ge),typeof Ke!="function")throw Error(r(150));return ge=Ke.call(ge),el(ce,$,ge,Oe)}if(typeof ge.then=="function")return ji(ce,$,af(ge),Oe);if(ge.$$typeof===$r)return ji(ce,$,Pe(ce,ge),Oe);rf(ce,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,$!==null&&$.tag===6?(p(ce,$.sibling),Oe=w($,ge),Oe.return=ce,ce=Oe):(p(ce,$),Oe=jl(ge,ce.mode,Oe),Oe.return=ce,ce=Oe),k(ce)):p(ce,$)}return function(ce,$,ge,Oe){try{Vo=0;var Ke=ji(ce,$,ge,Oe);return xr=null,Ke}catch(dt){if(dt===Go||dt===dn)throw dt;var rn=n(29,dt,null,ce.mode);return rn.lanes=Oe,rn.return=ce,rn}finally{}}}function xs(o){var u=o.alternate;A(gt,gt.current&1),A(Ni,o),wr===null&&(u===null||Aa.current!==null||u.memoizedState!==null)&&(wr=o)}function vg(o){if(o.tag===22){if(A(gt,gt.current),A(Ni,o),wr===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(wr=o)}}else Yr()}function Yr(){A(gt,gt.current),A(Ni,Ni.current)}function Zr(o){E(Ni),wr===o&&(wr=null),E(gt)}function sf(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||ac(p)||kf(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function nh(o,u,p,b){u=o.memoizedState,p=p(b,u),p=p==null?u:Ul({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}function yg(o,u,p,b,w,C,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,C,k):u.prototype&&u.prototype.isPureReactComponent?!qi(p,b)||!qi(w,C):!0}function lf(o,u,p,b){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==o&&cn.enqueueReplaceState(u,u.state,null)}function xl(o,u){var p=u;if("ref"in u){p={};for(var b in u)b!=="ref"&&(p[b]=u[b])}if(o=o.defaultProps){p===u&&(p=Ul({},p));for(var w in o)p[w]===void 0&&(p[w]=o[w])}return p}function of(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(b){setTimeout(function(){throw b})}}function bg(o,u,p){try{var b=o.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function uf(o,u,p){return p=Ze(p),p.tag=3,p.payload={element:null},p.callback=function(){of(o,u)},p}function _g(o){return o=Ze(o),o.tag=3,o}function Sg(o,u,p,b){var w=p.type.getDerivedStateFromError;if(typeof w=="function"){var C=b.value;o.payload=function(){return w(C)},o.callback=function(){bg(u,p,b)}}var k=p.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){bg(u,p,b),typeof w!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var I=b.stack;this.componentDidCatch(b.value,{componentStack:I!==null?I:""})})}function Mv(o,u,p,b,w){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(u=p.alternate,u!==null&&li(u,p,w,!0),p=Ni.current,p!==null){switch(p.tag){case 13:return wr===null?Cn():p.alternate===null&&jn===0&&(jn=3),p.flags&=-257,p.flags|=65536,p.lanes=w,b===da?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([b]):u.add(b),Dl(o,b,w)),!1;case 22:return p.flags|=65536,b===da?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([b]):p.add(b)),Dl(o,b,w)),!1}throw Error(r(435,p.tag))}return Dl(o,b,w),Cn(),!1}if(Vt)return u=Ni.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,b!==Fh&&(o=Error(r(422),{cause:b}),Wn(X(o,p)))):(b!==Fh&&(u=Error(r(423),{cause:b}),Wn(X(u,p))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,b=X(b,p),w=uf(o.stateNode,b,w),We(o,w),jn!==4&&(jn=2)),!1;var C=Error(r(520),{cause:b});if(C=X(C,p),Qs===null?Qs=[C]:Qs.push(C),jn!==4&&(jn=2),u===null)return!0;b=X(b,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=w&-w,p.lanes|=o,o=uf(p.stateNode,b,o),We(p,o),!1;case 1:if(u=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Tr===null||!Tr.has(C))))return p.flags|=65536,w&=-w,p.lanes|=w,w=_g(w),Sg(w,o,p,b),We(p,w),!1}p=p.return}while(p!==null);return!1}function fa(o,u,p,b){u.child=o===null?Wh(u,null,p,b):ss(u,o.child,p,b)}function xg(o,u,p,b,w){p=p.render;var C=u.ref;if("ref"in b){var k={};for(var I in b)I!=="ref"&&(k[I]=b[I])}else k=b;return re(u),b=wi(o,u,p,k,C,w),I=Fa(),o!==null&&!pt?(Vi(o,u,w),fi(o,u,w)):(Vt&&I&&ne(u),u.flags|=1,fa(o,u,b,w),u.child)}function wg(o,u,p,b,w){if(o===null){var C=p.type;return typeof C=="function"&&!bh(C)&&C.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=C,Eg(o,u,C,b,w)):(o=Ro(p.type,null,b,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(C=o.child,!El(o,w)){var k=C.memoizedProps;if(p=p.compare,p=p!==null?p:qi,p(k,b)&&o.ref===u.ref)return fi(o,u,w)}return u.flags|=1,o=Fr(C,b),o.ref=u.ref,o.return=u,u.child=o}function Eg(o,u,p,b,w){if(o!==null){var C=o.memoizedProps;if(qi(C,b)&&o.ref===u.ref)if(pt=!1,u.pendingProps=b=C,El(o,w))(o.flags&131072)!==0&&(pt=!0);else return u.lanes=o.lanes,fi(o,u,w)}return wl(o,u,p,b,w)}function Cg(o,u,p){var b=u.pendingProps,w=b.children,C=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((u.flags&128)!==0){if(b=C!==null?C.baseLanes|p:p,o!==null){for(w=u.child=o.child,C=0;w!==null;)C=C|w.lanes|w.childLanes,w=w.sibling;u.childLanes=C&~b}else u.childLanes=0,u.child=null;return Tg(o,u,b,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Pr(u,C!==null?C.cachePool:null),C!==null?Lt(u,C):ln(),vg(u);else return u.lanes=u.childLanes=536870912,Tg(o,u,C!==null?C.baseLanes|p:p,p)}else C!==null?(Pr(u,C.cachePool),Lt(u,C),Yr(),u.memoizedState=null):(o!==null&&Pr(u,null),ln(),Yr());return fa(o,u,w,p),u.child}function Tg(o,u,p,b){var w=gl();return w=w===null?null:{parent:Wr?Wt._currentValue:Wt._currentValue2,pool:w},u.memoizedState={baseLanes:p,cachePool:w},o!==null&&Pr(u,null),ln(),vg(u),o!==null&&li(o,u,b,!0),null}function _o(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function wl(o,u,p,b,w){return re(u),p=wi(o,u,p,b,void 0,w),b=Fa(),o!==null&&!pt?(Vi(o,u,w),fi(o,u,w)):(Vt&&b&&ne(u),u.flags|=1,fa(o,u,p,w),u.child)}function Ag(o,u,p,b,w,C){return re(u),u.updateQueue=null,p=ml(u,b,p,w),Ka(o),b=Fa(),o!==null&&!pt?(Vi(o,u,C),fi(o,u,C)):(Vt&&b&&ne(u),u.flags|=1,fa(o,u,p,C),u.child)}function ah(o,u,p,b,w){if(re(u),u.stateNode===null){var C=Gl,k=p.contextType;typeof k=="object"&&k!==null&&(C=de(k)),C=new p(b,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=cn,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=b,C.state=u.memoizedState,C.refs={},Qe(u),k=p.contextType,C.context=typeof k=="object"&&k!==null?de(k):Gl,C.state=u.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(nh(u,p,k,b),C.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(k=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),k!==C.state&&cn.enqueueReplaceState(C,C.state,null),yt(u,b,C,w),Xe(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),b=!0}else if(o===null){C=u.stateNode;var I=u.memoizedProps,te=xl(p,I);C.props=te;var Ae=C.context,De=p.contextType;k=Gl,typeof De=="object"&&De!==null&&(k=de(De));var Ge=p.getDerivedStateFromProps;De=typeof Ge=="function"||typeof C.getSnapshotBeforeUpdate=="function",I=u.pendingProps!==I,De||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I||Ae!==k)&&lf(u,C,b,k),Sr=!1;var Ye=u.memoizedState;C.state=Ye,yt(u,b,C,w),Xe(),Ae=u.memoizedState,I||Ye!==Ae||Sr?(typeof Ge=="function"&&(nh(u,p,Ge,b),Ae=u.memoizedState),(te=Sr||yg(u,p,te,b,Ye,Ae,k))?(De||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=Ae),C.props=b,C.state=Ae,C.context=k,b=te):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{C=u.stateNode,et(o,u),k=u.memoizedProps,De=xl(p,k),C.props=De,Ge=u.pendingProps,Ye=C.context,Ae=p.contextType,te=Gl,typeof Ae=="object"&&Ae!==null&&(te=de(Ae)),I=p.getDerivedStateFromProps,(Ae=typeof I=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==Ge||Ye!==te)&&lf(u,C,b,te),Sr=!1,Ye=u.memoizedState,C.state=Ye,yt(u,b,C,w),Xe();var xt=u.memoizedState;k!==Ge||Ye!==xt||Sr||o!==null&&o.dependencies!==null&&Z(o.dependencies)?(typeof I=="function"&&(nh(u,p,I,b),xt=u.memoizedState),(De=Sr||yg(u,p,De,b,Ye,xt,te)||o!==null&&o.dependencies!==null&&Z(o.dependencies))?(Ae||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(b,xt,te),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(b,xt,te)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||k===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=xt),C.props=b,C.state=xt,C.context=te,b=De):(typeof C.componentDidUpdate!="function"||k===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=1024),b=!1)}return C=b,_o(o,u),b=(u.flags&128)!==0,C||b?(C=u.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,o!==null&&b?(u.child=ss(u,o.child,null,w),u.child=ss(u,null,p,w)):fa(o,u,p,w),u.memoizedState=C.state,o=u.child):o=fi(o,u,w),o}function ih(o,u,p,b){return Yt(),u.flags|=256,fa(o,u,p,b),u.child}function cf(o){return{baseLanes:o,cachePool:fo()}}function ff(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=Mi),o}function rh(o,u,p){var b=u.pendingProps,w=!1,C=(u.flags&128)!==0,k;if((k=C)||(k=o!==null&&o.memoizedState===null?!1:(gt.current&2)!==0),k&&(w=!0,u.flags&=-129),k=(u.flags&32)!==0,u.flags&=-33,o===null){if(Vt){if(w?xs(u):Yr(),Vt){var I=Yn,te;(te=I)&&(I=Pv(I,Qt),I!==null?(u.memoizedState={dehydrated:I,treeContext:Hs!==null?{id:Ii,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},te=n(18,null,null,0),te.stateNode=I,te.return=u,u.child=te,Dn=u,Yn=null,te=!0):te=!1),te||st(u)}if(I=u.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return kf(I)?u.lanes=32:u.lanes=536870912,null;Zr(u)}return I=b.children,b=b.fallback,w?(Yr(),w=u.mode,I=df({mode:"hidden",children:I},w),b=Zi(b,w,p,null),I.return=u,b.return=u,I.sibling=b,u.child=I,w=u.child,w.memoizedState=cf(p),w.childLanes=ff(o,k,p),u.memoizedState=Ga,b):(xs(u),ws(u,I))}if(te=o.memoizedState,te!==null&&(I=te.dehydrated,I!==null)){if(C)u.flags&256?(xs(u),u.flags&=-257,u=sh(o,u,p)):u.memoizedState!==null?(Yr(),u.child=o.child,u.flags|=128,u=null):(Yr(),w=b.fallback,I=u.mode,b=df({mode:"visible",children:b.children},I),w=Zi(w,I,p,null),w.flags|=2,b.return=u,w.return=u,b.sibling=w,u.child=b,ss(u,o.child,null,p),b=u.child,b.memoizedState=cf(p),b.childLanes=ff(o,k,p),u.memoizedState=Ga,u=w);else if(xs(u),kf(I))k=np(I).digest,b=Error(r(419)),b.stack="",b.digest=k,Wn({value:b,source:null,stack:null}),u=sh(o,u,p);else if(pt||li(o,u,p,!1),k=(p&o.childLanes)!==0,pt||k){if(k=Xt,k!==null&&(b=p&-p,b=(b&42)!==0?1:Te(b),b=(b&(k.suspendedLanes|p))!==0?0:b,b!==0&&b!==te.retryLane))throw te.retryLane=b,le(o,b),wa(k,o,b),Ht;ac(I)||Cn(),u=sh(o,u,p)}else ac(I)?(u.flags|=192,u.child=o.child,u=null):(o=te.treeContext,ei&&(Yn=Hh(I),Dn=u,Vt=!0,Ki=null,Qt=!1,o!==null&&(Ba[ii++]=Ii,Ba[ii++]=_r,Ba[ii++]=Hs,Ii=o.id,_r=o.overflow,Hs=u)),u=ws(u,b.children),u.flags|=4096);return u}return w?(Yr(),w=b.fallback,I=u.mode,te=o.child,C=te.sibling,b=Fr(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,C!==null?w=Fr(C,w):(w=Zi(w,I,p,null),w.flags|=2),w.return=u,b.return=u,b.sibling=w,u.child=b,b=w,w=u.child,I=o.child.memoizedState,I===null?I=cf(p):(te=I.cachePool,te!==null?(C=Wr?Wt._currentValue:Wt._currentValue2,te=te.parent!==C?{parent:C,pool:C}:te):te=fo(),I={baseLanes:I.baseLanes|p,cachePool:te}),w.memoizedState=I,w.childLanes=ff(o,k,p),u.memoizedState=Ga,b):(xs(u),p=o.child,o=p.sibling,p=Fr(p,{mode:"visible",children:b.children}),p.return=u,p.sibling=null,o!==null&&(k=u.deletions,k===null?(u.deletions=[o],u.flags|=16):k.push(o)),u.child=p,u.memoizedState=null,p)}function ws(o,u){return u=df({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function df(o,u){return o=n(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function sh(o,u,p){return ss(u,o.child,null,p),o=ws(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Rg(o,u,p){o.lanes|=u;var b=o.alternate;b!==null&&(b.lanes|=u),fn(o.return,u,p)}function hf(o,u,p,b,w){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:w}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=b,C.tail=p,C.tailMode=w)}function lh(o,u,p){var b=u.pendingProps,w=b.revealOrder,C=b.tail;if(fa(o,u,b.children,p),b=gt.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Rg(o,p,u);else if(o.tag===19)Rg(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(A(gt,b),w){case"forwards":for(p=u.child,w=null;p!==null;)o=p.alternate,o!==null&&sf(o)===null&&(w=p),p=p.sibling;p=w,p===null?(w=u.child,u.child=null):(w=p.sibling,p.sibling=null),hf(u,!1,w,p,C);break;case"backwards":for(p=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&sf(o)===null){u.child=w;break}o=w.sibling,w.sibling=p,p=w,w=o}hf(u,!0,p,null,C);break;case"together":hf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function fi(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),In|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(li(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=Fr(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Fr(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function El(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Z(o)))}function Dv(o,u,p){switch(u.tag){case 3:be(u,u.stateNode.containerInfo),He(u,Wt,o.memoizedState.cache),Yt();break;case 27:case 5:it(u);break;case 4:be(u,u.stateNode.containerInfo);break;case 10:He(u,u.type,u.memoizedProps.value);break;case 13:var b=u.memoizedState;if(b!==null)return b.dehydrated!==null?(xs(u),u.flags|=128,null):(p&u.child.childLanes)!==0?rh(o,u,p):(xs(u),o=fi(o,u,p),o!==null?o.sibling:null);xs(u);break;case 19:var w=(o.flags&128)!==0;if(b=(p&u.childLanes)!==0,b||(li(o,u,p,!1),b=(p&u.childLanes)!==0),w){if(b)return lh(o,u,p);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),A(gt,gt.current),b)break;return null;case 22:case 23:return u.lanes=0,Cg(o,u,p);case 24:He(u,Wt,o.memoizedState.cache)}return fi(o,u,p)}function zu(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)pt=!0;else{if(!El(o,p)&&(u.flags&128)===0)return pt=!1,Dv(o,u,p);pt=(o.flags&131072)!==0}else pt=!1,Vt&&(u.flags&1048576)!==0&&B(u,Po,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var b=u.elementType,w=b._init;if(b=w(b._payload),u.type=b,typeof b=="function")bh(b)?(o=xl(b,o),u.tag=1,u=ah(null,u,b,o,p)):(u.tag=0,u=wl(null,u,b,o,p));else{if(b!=null){if(w=b.$$typeof,w===pr){u.tag=11,u=xg(null,u,b,o,p);break e}else if(w===mr){u.tag=14,u=wg(null,u,b,o,p);break e}}throw u=_(b)||b,Error(r(306,u,""))}}return u;case 0:return wl(o,u,u.type,u.pendingProps,p);case 1:return b=u.type,w=xl(b,u.pendingProps),ah(o,u,b,w,p);case 3:e:{if(be(u,u.stateNode.containerInfo),o===null)throw Error(r(387));var C=u.pendingProps;w=u.memoizedState,b=w.element,et(o,u),yt(u,C,null,p);var k=u.memoizedState;if(C=k.cache,He(u,Wt,C),C!==w.cache&&Gn(u,[Wt],p,!0),Xe(),C=k.element,ei&&w.isDehydrated)if(w={element:C,isDehydrated:!1,cache:k.cache},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){u=ih(o,u,C,p);break e}else if(C!==b){b=X(Error(r(424)),u),Wn(b),u=ih(o,u,C,p);break e}else for(ei&&(Yn=lp(u.stateNode.containerInfo),Dn=u,Vt=!0,Ki=null,Qt=!0),p=Wh(u,null,C,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Yt(),C===b){u=fi(o,u,p);break e}fa(o,u,C,p)}u=u.child}return u;case 26:if(La)return _o(o,u),o===null?(p=sc(u.type,null,u.pendingProps,null))?u.memoizedState=p:Vt||(u.stateNode=br(u.type,u.pendingProps,Gs.current,u)):u.memoizedState=sc(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:if(zt)return it(u),o===null&&zt&&Vt&&(b=u.stateNode=lc(u.type,u.pendingProps,Gs.current,Sn.current,!1),Dn=u,Qt=!0,Yn=op(u.type,b,Yn)),fa(o,u,u.pendingProps.children,p),_o(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Vt&&(Bv(u.type,u.pendingProps,Sn.current),(w=b=Yn)&&(b=up(b,u.type,u.pendingProps,Qt),b!==null?(u.stateNode=b,Dn=u,Yn=sp(b),Qt=!1,w=!0):w=!1),w||st(u)),it(u),w=u.type,C=u.pendingProps,k=o!==null?o.memoizedProps:null,b=C.children,Jr(w,C)?b=null:k!==null&&Jr(w,k)&&(u.flags|=32),u.memoizedState!==null&&(w=wi(o,u,vl,null,null,p),Wr?yr._currentValue=w:yr._currentValue2=w),_o(o,u),fa(o,u,b,p),u.child;case 6:return o===null&&Vt&&(Uo(u.pendingProps,Sn.current),(o=p=Yn)&&(p=Lv(p,u.pendingProps,Qt),p!==null?(u.stateNode=p,Dn=u,Yn=null,o=!0):o=!1),o||st(u)),null;case 13:return rh(o,u,p);case 4:return be(u,u.stateNode.containerInfo),b=u.pendingProps,o===null?u.child=ss(u,null,b,p):fa(o,u,b,p),u.child;case 11:return xg(o,u,u.type,u.pendingProps,p);case 7:return fa(o,u,u.pendingProps,p),u.child;case 8:return fa(o,u,u.pendingProps.children,p),u.child;case 12:return fa(o,u,u.pendingProps.children,p),u.child;case 10:return b=u.pendingProps,He(u,u.type,b.value),fa(o,u,b.children,p),u.child;case 9:return w=u.type._context,b=u.pendingProps.children,re(u),w=de(w),b=b(w),u.flags|=1,fa(o,u,b,p),u.child;case 14:return wg(o,u,u.type,u.pendingProps,p);case 15:return Eg(o,u,u.type,u.pendingProps,p);case 19:return lh(o,u,p);case 31:return b=u.pendingProps,p=u.mode,b={mode:b.mode,children:b.children},o===null?(p=df(b,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=Fr(o.child,b),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return Cg(o,u,p);case 24:return re(u),b=de(Wt),o===null?(w=gl(),w===null&&(w=Xt,C=Me(),w.pooledCache=C,C.refCount++,C!==null&&(w.pooledCacheLanes|=p),w=C),u.memoizedState={parent:b,cache:w},Qe(u),He(u,Wt,w)):((o.lanes&p)!==0&&(et(o,u),yt(u,null,null,p),Xe()),w=o.memoizedState,C=u.memoizedState,w.parent!==b?(w={parent:b,cache:b},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),He(u,Wt,b)):(b=C.cache,He(u,Wt,b),b!==w.cache&&Gn(u,[Wt],p,!0))),fa(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Qa(o){o.flags|=4}function oh(o,u){if(o!==null&&o.child===u.child)return!1;if((u.flags&16)!==0)return!0;for(o=u.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function Uu(o,u,p,b){if(Ut)for(p=u.child;p!==null;){if(p.tag===5||p.tag===6)kn(o,p.stateNode);else if(!(p.tag===4||zt&&p.tag===27)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else if(vr)for(var w=u.child;w!==null;){if(w.tag===5){var C=w.stateNode;p&&b&&(C=kh(C,w.type,w.memoizedProps)),kn(o,C)}else if(w.tag===6)C=w.stateNode,p&&b&&(C=Lh(C,w.memoizedProps)),kn(o,C);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)C=w.child,C!==null&&(C.return=w),Uu(o,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function gf(o,u,p,b){var w=!1;if(vr)for(var C=u.child;C!==null;){if(C.tag===5){var k=C.stateNode;p&&b&&(k=kh(k,C.type,C.memoizedProps)),zh(o,k)}else if(C.tag===6)k=C.stateNode,p&&b&&(k=Lh(k,C.memoizedProps)),zh(o,k);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)w=C.child,w!==null&&(w.return=C),gf(o,C,!0,!0),w=!0;else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===u)break;for(;C.sibling===null;){if(C.return===null||C.return===u)return w;C=C.return}C.sibling.return=C.return,C=C.sibling}return w}function uh(o,u){if(vr&&oh(o,u)){o=u.stateNode;var p=o.containerInfo,b=jh();gf(b,u,!1,!1),o.pendingChildren=b,Qa(u),tp(p,b)}}function pf(o,u,p,b){if(Ut)o.memoizedProps!==b&&Qa(u);else if(vr){var w=o.stateNode,C=o.memoizedProps;if((o=oh(o,u))||C!==b){var k=Sn.current;C=nc(w,p,C,b,!o,null),C===w?u.stateNode=w:(Ju(C,p,b,k)&&Qa(u),u.stateNode=C,o?Uu(C,u,!1,!1):Qa(u))}else u.stateNode=w}}function mf(o,u,p){if(Vn(u,p)){if(o.flags|=16777216,!jf(u,p))if(wf())o.flags|=8192;else throw ri=da,If}else o.flags&=-16777217}function Og(o,u){if(gp(u)){if(o.flags|=16777216,!es(u))if(wf())o.flags|=8192;else throw ri=da,If}else o.flags&=-16777217}function vf(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?H():536870912,o.lanes|=u,_i|=u)}function ku(o,u){if(!Vt)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Mn(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(u)for(var w=o.child;w!==null;)p|=w.lanes|w.childLanes,b|=w.subtreeFlags&65011712,b|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)p|=w.lanes|w.childLanes,b|=w.subtreeFlags,b|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=b,o.childLanes=p,u}function jv(o,u,p){var b=u.pendingProps;switch(_e(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(u),null;case 1:return Mn(u),null;case 3:return p=u.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),u.memoizedState.cache!==b&&(u.flags|=2048),nt(Wt),ze(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(jt(u)?Qa(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ya())),uh(o,u),Mn(u),null;case 26:if(La){p=u.type;var w=u.memoizedState;return o===null?(Qa(u),w!==null?(Mn(u),Og(u,w)):(Mn(u),mf(u,p,b))):w?w!==o.memoizedState?(Qa(u),Mn(u),Og(u,w)):(Mn(u),u.flags&=-16777217):(Ut?o.memoizedProps!==b&&Qa(u):pf(o,u,p,b),Mn(u),mf(u,p,b)),null}case 27:if(zt){if(Ve(u),p=Gs.current,w=u.type,o!==null&&u.stateNode!=null)Ut?o.memoizedProps!==b&&Qa(u):pf(o,u,w,b);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Mn(u),null}o=Sn.current,jt(u)?wt(u,o):(o=lc(w,b,p,o,!0),u.stateNode=o,Qa(u))}return Mn(u),null}case 5:if(Ve(u),p=u.type,o!==null&&u.stateNode!=null)pf(o,u,p,b);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Mn(u),null}o=Sn.current,jt(u)?wt(u,o):(w=on(p,b,Gs.current,o,u),Uu(w,u,!1,!1),u.stateNode=w,Ju(w,p,b,o)&&Qa(u))}return Mn(u),mf(u,u.type,u.pendingProps),null;case 6:if(o&&u.stateNode!=null)p=o.memoizedProps,Ut?p!==b&&Qa(u):vr&&(p!==b?(u.stateNode=Us(b,Gs.current,Sn.current,u),Qa(u)):u.stateNode=o.stateNode);else{if(typeof b!="string"&&u.stateNode===null)throw Error(r(166));if(o=Gs.current,p=Sn.current,jt(u)){if(!ei)throw Error(r(176));if(o=u.stateNode,p=u.memoizedProps,b=null,w=Dn,w!==null)switch(w.tag){case 27:case 5:b=w.memoizedProps}ic(o,p,u,b)||st(u)}else u.stateNode=Us(b,o,p,u)}return Mn(u),null;case 13:if(b=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=jt(u),b!==null&&b.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(!ei)throw Error(r(344));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));Gh(w,u)}else Yt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Mn(u),w=!1}else w=Ya(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Zr(u),u):(Zr(u),null)}if(Zr(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=b!==null,o=o!==null&&o.memoizedState!==null,p){b=u.child,w=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(w=b.alternate.memoizedState.cachePool.pool);var C=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(C=b.memoizedState.cachePool.pool),C!==w&&(b.flags|=2048)}return p!==o&&p&&(u.child.flags|=8192),vf(u,u.updateQueue),Mn(u),null;case 4:return ze(),uh(o,u),o===null&&Pg(u.stateNode.containerInfo),Mn(u),null;case 10:return nt(u.type),Mn(u),null;case 19:if(E(gt),w=u.memoizedState,w===null)return Mn(u),null;if(b=(u.flags&128)!==0,C=w.rendering,C===null)if(b)ku(w,!1);else{if(jn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(C=sf(o),C!==null){for(u.flags|=128,ku(w,!1),o=C.updateQueue,u.updateQueue=o,vf(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)qn(p,o),p=p.sibling;return A(gt,gt.current&1|2),u.child}o=o.sibling}w.tail!==null&&un()>Io&&(u.flags|=128,b=!0,ku(w,!1),u.lanes=4194304)}else{if(!b)if(o=sf(C),o!==null){if(u.flags|=128,b=!0,o=o.updateQueue,u.updateQueue=o,vf(u,o),ku(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Vt)return Mn(u),null}else 2*un()-w.renderingStartTime>Io&&p!==536870912&&(u.flags|=128,b=!0,ku(w,!1),u.lanes=4194304);w.isBackwards?(C.sibling=u.child,u.child=C):(o=w.last,o!==null?o.sibling=C:u.child=C,w.last=C)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=un(),u.sibling=null,o=gt.current,A(gt,b?o&1|2:o&1),u):(Mn(u),null);case 22:case 23:return Zr(u),tn(),b=u.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(u.flags|=8192):b&&(u.flags|=8192),b?(p&536870912)!==0&&(u.flags&128)===0&&(Mn(u),u.subtreeFlags&6&&(u.flags|=8192)):Mn(u),p=u.updateQueue,p!==null&&vf(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==p&&(u.flags|=2048),o!==null&&E(Tn),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),nt(Wt),Mn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function di(o,u){switch(_e(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return nt(Wt),ze(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ve(u),null;case 13:if(Zr(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Yt()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return E(gt),null;case 4:return ze(),null;case 10:return nt(u.type),null;case 22:case 23:return Zr(u),tn(),o!==null&&E(Tn),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return nt(Wt),null;case 25:return null;default:return null}}function So(o,u){switch(_e(u),u.tag){case 3:nt(Wt),ze();break;case 26:case 27:case 5:Ve(u);break;case 4:ze();break;case 13:Zr(u);break;case 19:E(gt);break;case 10:nt(u.type);break;case 22:case 23:Zr(u),tn(),o!==null&&E(Tn);break;case 24:nt(Wt)}}function xo(o,u){try{var p=u.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&o)===o){b=void 0;var C=p.create,k=p.inst;b=C(),k.destroy=b}p=p.next}while(p!==w)}}catch(I){Jt(u,u.return,I)}}function Xr(o,u,p){try{var b=u.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var C=w.next;b=C;do{if((b.tag&o)===o){var k=b.inst,I=k.destroy;if(I!==void 0){k.destroy=void 0,w=u;var te=p,Ae=I;try{Ae()}catch(De){Jt(w,te,De)}}}b=b.next}while(b!==C)}}catch(De){Jt(u,u.return,De)}}function ch(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{gn(u,p)}catch(b){Jt(o,o.return,b)}}}function fh(o,u,p){p.props=xl(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(b){Jt(o,u,b)}}function Cl(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var b=Mo(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof p=="function"?o.refCleanup=p(b):p.current=b}}catch(w){Jt(o,u,w)}}function lr(o,u){var p=o.ref,b=o.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(w){Jt(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(w){Jt(o,u,w)}else p.current=null}function Tl(o){var u=o.type,p=o.memoizedProps,b=o.stateNode;try{Dh(b,u,p,o)}catch(w){Jt(o,o.return,w)}}function Lu(o,u,p){try{Ig(o.stateNode,o.type,p,u,o)}catch(b){Jt(o,o.return,b)}}function wo(o){return o.tag===5||o.tag===3||(La?o.tag===26:!1)||(zt?o.tag===27&&Hl(o.type):!1)||o.tag===4}function Pu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wo(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(zt&&o.tag===27&&Hl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yf(o,u,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?Fg(p,o,u):Zg(p,o);else if(b!==4&&(zt&&b===27&&Hl(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(yf(o,u,p),o=o.sibling;o!==null;)yf(o,u,p),o=o.sibling}function or(o,u,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?Kg(p,o,u):Yg(p,o);else if(b!==4&&(zt&&b===27&&Hl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(or(o,u,p),o=o.sibling;o!==null;)or(o,u,p),o=o.sibling}function Al(o,u,p){o=o.containerInfo;try{Uh(o,p)}catch(b){Jt(u,u.return,b)}}function bf(o){var u=o.stateNode,p=o.memoizedProps;try{Xh(o.type,p,u,o)}catch(b){Jt(o,o.return,b)}}function Ng(o,u){for(zs(o.containerInfo),Rt=u;Rt!==null;)if(o=Rt,u=o.child,(o.subtreeFlags&1024)!==0&&u!==null)u.return=o,Rt=u;else for(;Rt!==null;){o=Rt;var p=o.alternate;switch(u=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&p!==null){u=void 0;var b=o,w=p.memoizedProps;p=p.memoizedState;var C=b.stateNode;try{var k=xl(b.type,w,b.elementType===b.type);u=C.getSnapshotBeforeUpdate(k,p),C.__reactInternalSnapshotBeforeUpdate=u}catch(I){Jt(b,b.return,I)}}break;case 3:(u&1024)!==0&&Ut&&Uf(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=o.sibling,u!==null){u.return=o.return,Rt=u;break}Rt=o.return}}function Es(o,u,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Ir(o,p),b&4&&xo(5,p);break;case 1:if(Ir(o,p),b&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(k){Jt(p,p.return,k)}else{var w=xl(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(k){Jt(p,p.return,k)}}b&64&&ch(p),b&512&&Cl(p,p.return);break;case 3:if(Ir(o,p),b&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=Mo(p.child.stateNode);break;case 1:u=p.child.stateNode}try{gn(o,u)}catch(k){Jt(p,p.return,k)}}break;case 27:zt&&u===null&&b&4&&bf(p);case 26:case 5:Ir(o,p),u===null&&b&4&&Tl(p),b&512&&Cl(p,p.return);break;case 12:Ir(o,p);break;case 13:Ir(o,p),b&4&&Mg(o,p),b&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=Ca.bind(null,p),Ph(o,p))));break;case 22:if(b=p.memoizedState!==null||Ra,!b){u=u!==null&&u.memoizedState!==null||yn,w=Ra;var C=yn;Ra=b,(yn=u)&&!C?Kn(o,p,(p.subtreeFlags&8772)!==0):Ir(o,p),Ra=w,yn=C}break;case 30:break;default:Ir(o,p)}}function dh(o){var u=o.alternate;u!==null&&(o.alternate=null,dh(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&ti(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Ei(o,u,p){for(p=p.child;p!==null;)_f(o,u,p),p=p.sibling}function _f(o,u,p){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(Ls,p)}catch{}switch(p.tag){case 26:if(La){yn||lr(p,u),Ei(o,u,p),p.memoizedState?Yh(p.memoizedState):p.stateNode&&pi(p.stateNode);break}case 27:if(zt){yn||lr(p,u);var b=hn,w=Xn;Hl(p.type)&&(hn=p.stateNode,Xn=!1),Ei(o,u,p),Bf(p.stateNode),hn=b,Xn=w;break}case 5:yn||lr(p,u);case 6:if(Ut){if(b=hn,w=Xn,hn=null,Ei(o,u,p),hn=b,Xn=w,hn!==null)if(Xn)try{$g(hn,p.stateNode)}catch(C){Jt(p,u,C)}else try{Qg(hn,p.stateNode)}catch(C){Jt(p,u,C)}}else Ei(o,u,p);break;case 18:Ut&&hn!==null&&(Xn?hp(hn,p.stateNode):Pf(hn,p.stateNode));break;case 4:Ut?(b=hn,w=Xn,hn=p.stateNode.containerInfo,Xn=!0,Ei(o,u,p),hn=b,Xn=w):(vr&&Al(p.stateNode,p,jh()),Ei(o,u,p));break;case 0:case 11:case 14:case 15:yn||Xr(2,p,u),yn||Xr(4,p,u),Ei(o,u,p);break;case 1:yn||(lr(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"&&fh(p,u,b)),Ei(o,u,p);break;case 21:Ei(o,u,p);break;case 22:yn=(b=yn)||p.memoizedState!==null,Ei(o,u,p),yn=b;break;default:Ei(o,u,p)}}function Mg(o,u){if(ei&&u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{dp(o)}catch(p){Jt(u,u.return,p)}}function zv(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Er),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Er),u;default:throw Error(r(435,o.tag))}}function hh(o,u){var p=zv(o);u.forEach(function(b){var w=Rf.bind(null,o,b);p.has(b)||(p.add(b),b.then(w,w))})}function Sa(o,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var w=p[b],C=o,k=u;if(Ut){var I=k;e:for(;I!==null;){switch(I.tag){case 27:if(zt){if(Hl(I.type)){hn=I.stateNode,Xn=!1;break e}break}case 5:hn=I.stateNode,Xn=!1;break e;case 3:case 4:hn=I.stateNode.containerInfo,Xn=!0;break e}I=I.return}if(hn===null)throw Error(r(160));_f(C,k,w),hn=null,Xn=!1}else _f(C,k,w);C=w.alternate,C!==null&&(C.return=null),w.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)gh(u,o),u=u.sibling}function gh(o,u){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Sa(u,o),xa(o),b&4&&(Xr(3,o,o.return),xo(3,o),Xr(5,o,o.return));break;case 1:Sa(u,o),xa(o),b&512&&(yn||p===null||lr(p,p.return)),b&64&&Ra&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:if(La){var w=bi;if(Sa(u,o),xa(o),b&512&&(yn||p===null||lr(p,p.return)),b&4){b=p!==null?p.memoizedState:null;var C=o.memoizedState;p===null?C===null?o.stateNode===null?o.stateNode=ko(w,o.type,o.memoizedProps,o):Zh(w,o.type,o.stateNode):o.stateNode=Vh(w,C,o.memoizedProps):b!==C?(b===null?p.stateNode!==null&&pi(p.stateNode):Yh(b),C===null?Zh(w,o.type,o.stateNode):Vh(w,C,o.memoizedProps)):C===null&&o.stateNode!==null&&Lu(o,o.memoizedProps,p.memoizedProps)}break}case 27:if(zt){Sa(u,o),xa(o),b&512&&(yn||p===null||lr(p,p.return)),p!==null&&b&4&&Lu(o,o.memoizedProps,p.memoizedProps);break}case 5:if(Sa(u,o),xa(o),b&512&&(yn||p===null||lr(p,p.return)),Ut){if(o.flags&32){w=o.stateNode;try{Jg(w)}catch(De){Jt(o,o.return,De)}}b&4&&o.stateNode!=null&&(w=o.memoizedProps,Lu(o,w,p!==null?p.memoizedProps:w)),b&1024&&(yc=!0)}break;case 6:if(Sa(u,o),xa(o),b&4&&Ut){if(o.stateNode===null)throw Error(r(162));b=o.memoizedProps,p=p!==null?p.memoizedProps:b,w=o.stateNode;try{Xg(w,p,b)}catch(De){Jt(o,o.return,De)}}break;case 3:if(La?(ks(),w=bi,bi=Bl(u.containerInfo),Sa(u,o),bi=w):Sa(u,o),xa(o),b&4){if(Ut&&ei&&p!==null&&p.memoizedState.isDehydrated)try{fp(u.containerInfo)}catch(De){Jt(o,o.return,De)}if(vr){b=u.containerInfo,p=u.pendingChildren;try{Uh(b,p)}catch(De){Jt(o,o.return,De)}}}yc&&(yc=!1,Ci(o));break;case 4:La?(p=bi,bi=Bl(o.stateNode.containerInfo),Sa(u,o),xa(o),bi=p):(Sa(u,o),xa(o)),b&4&&vr&&Al(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Sa(u,o),xa(o);break;case 13:Sa(u,o),xa(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Ff=un()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,hh(o,b)));break;case 22:w=o.memoizedState!==null;var k=p!==null&&p.memoizedState!==null,I=Ra,te=yn;if(Ra=I||w,yn=te||k,Sa(u,o),yn=te,Ra=I,xa(o),b&8192&&(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(p===null||k||Ra||yn||ea(o)),Ut)){e:if(p=null,Ut)for(u=o;;){if(u.tag===5||La&&u.tag===26){if(p===null){k=p=u;try{C=k.stateNode,w?Wg(C):zf(k.stateNode,k.memoizedProps)}catch(De){Jt(k,k.return,De)}}}else if(u.tag===6){if(p===null){k=u;try{var Ae=k.stateNode;w?zo(Ae):ep(Ae,k.memoizedProps)}catch(De){Jt(k,k.return,De)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}b&4&&(b=o.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,hh(o,p))));break;case 19:Sa(u,o),xa(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,hh(o,b)));break;case 30:break;case 21:break;default:Sa(u,o),xa(o)}}function xa(o){var u=o.flags;if(u&2){try{if(Ut){for(var p,b=o.return;b!==null;){if(wo(b)){p=b;break}b=b.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:if(zt){var w=p.stateNode,C=Pu(o);or(o,C,w);break}case 5:var k=p.stateNode;p.flags&32&&(Jg(k),p.flags&=-33);var I=Pu(o);or(o,I,k);break;case 3:case 4:var te=p.stateNode.containerInfo,Ae=Pu(o);yf(o,Ae,te);break;default:throw Error(r(161))}}}catch(De){Jt(o,o.return,De)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function Ci(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;Ci(u),u.tag===5&&u.flags&1024&&Oh(u.stateNode),o=o.sibling}}function Ir(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Es(o,u.alternate,u),u=u.sibling}function ea(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Xr(4,u,u.return),ea(u);break;case 1:lr(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&fh(u,u.return,p),ea(u);break;case 27:zt&&Bf(u.stateNode);case 26:case 5:lr(u,u.return),ea(u);break;case 22:u.memoizedState===null&&ea(u);break;case 30:ea(u);break;default:ea(u)}o=o.sibling}}function Kn(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var b=u.alternate,w=o,C=u,k=C.flags;switch(C.tag){case 0:case 11:case 15:Kn(w,C,p),xo(4,C);break;case 1:if(Kn(w,C,p),b=C,w=b.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ae){Jt(b,b.return,Ae)}if(b=C,w=b.updateQueue,w!==null){var I=b.stateNode;try{var te=w.shared.hiddenCallbacks;if(te!==null)for(w.shared.hiddenCallbacks=null,w=0;w<te.length;w++)$t(te[w],I)}catch(Ae){Jt(b,b.return,Ae)}}p&&k&64&&ch(C),Cl(C,C.return);break;case 27:zt&&bf(C);case 26:case 5:Kn(w,C,p),p&&b===null&&k&4&&Tl(C),Cl(C,C.return);break;case 12:Kn(w,C,p);break;case 13:Kn(w,C,p),p&&k&4&&Mg(w,C);break;case 22:C.memoizedState===null&&Kn(w,C,p),Cl(C,C.return);break;case 30:break;default:Kn(w,C,p)}u=u.sibling}}function Cs(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&qe(p))}function Bu(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&qe(o))}function hi(o,u,p,b){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Hu(o,u,p,b),u=u.sibling}function Hu(o,u,p,b){var w=u.flags;switch(u.tag){case 0:case 11:case 15:hi(o,u,p,b),w&2048&&xo(9,u);break;case 1:hi(o,u,p,b);break;case 3:hi(o,u,p,b),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&qe(o)));break;case 12:if(w&2048){hi(o,u,p,b),o=u.stateNode;try{var C=u.memoizedProps,k=C.id,I=C.onPostCommit;typeof I=="function"&&I(k,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(te){Jt(u,u.return,te)}}else hi(o,u,p,b);break;case 13:hi(o,u,p,b);break;case 23:break;case 22:C=u.stateNode,k=u.alternate,u.memoizedState!==null?C._visibility&2?hi(o,u,p,b):ur(o,u):C._visibility&2?hi(o,u,p,b):(C._visibility|=2,Ts(o,u,p,b,(u.subtreeFlags&10256)!==0)),w&2048&&Cs(k,u);break;case 24:hi(o,u,p,b),w&2048&&Bu(u.alternate,u);break;default:hi(o,u,p,b)}}function Ts(o,u,p,b,w){for(w=w&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var C=o,k=u,I=p,te=b,Ae=k.flags;switch(k.tag){case 0:case 11:case 15:Ts(C,k,I,te,w),xo(8,k);break;case 23:break;case 22:var De=k.stateNode;k.memoizedState!==null?De._visibility&2?Ts(C,k,I,te,w):ur(C,k):(De._visibility|=2,Ts(C,k,I,te,w)),w&&Ae&2048&&Cs(k.alternate,k);break;case 24:Ts(C,k,I,te,w),w&&Ae&2048&&Bu(k.alternate,k);break;default:Ts(C,k,I,te,w)}u=u.sibling}}function ur(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,b=u,w=b.flags;switch(b.tag){case 22:ur(p,b),w&2048&&Cs(b.alternate,b);break;case 24:ur(p,b),w&2048&&Bu(b.alternate,b);break;default:ur(p,b)}u=u.sibling}}function As(o){if(o.subtreeFlags&ha)for(o=o.child;o!==null;)Gu(o),o=o.sibling}function Gu(o){switch(o.tag){case 26:As(o),o.flags&ha&&(o.memoizedState!==null?ts(bi,o.memoizedState,o.memoizedProps):tc(o.type,o.memoizedProps));break;case 5:As(o),o.flags&ha&&tc(o.type,o.memoizedProps);break;case 3:case 4:if(La){var u=bi;bi=Bl(o.stateNode.containerInfo),As(o),bi=u}else As(o);break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=ha,ha=16777216,As(o),ha=u):As(o));break;default:As(o)}}function Rl(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function qu(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var b=u[p];Rt=b,cr(b,o)}Rl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$a(o),o=o.sibling}function $a(o){switch(o.tag){case 0:case 11:case 15:qu(o),o.flags&2048&&Xr(9,o,o.return);break;case 3:qu(o);break;case 12:qu(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Eo(o)):qu(o);break;default:qu(o)}}function Eo(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var b=u[p];Rt=b,cr(b,o)}Rl(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Xr(8,u,u.return),Eo(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Eo(u));break;default:Eo(u)}o=o.sibling}}function cr(o,u){for(;Rt!==null;){var p=Rt;switch(p.tag){case 0:case 11:case 15:Xr(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:qe(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Rt=b;else e:for(p=o;Rt!==null;){b=Rt;var w=b.sibling,C=b.return;if(dh(b),b===p){Rt=null;break e}if(w!==null){w.return=C,Rt=w;break e}Rt=C}}}function Sf(o){var u=Lg(o);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(r(364));return u}if(o=Hg(o),o===null)throw Error(r(362));return o.stateNode.current}function Co(o,u){var p=o.tag;switch(u.$$typeof){case Xs:if(o.type===u.value)return!0;break;case ga:e:{for(u=u.value,o=[o,0],p=0;p<o.length;){var b=o[p++],w=b.tag,C=o[p++],k=u[C];if(w!==5&&w!==26&&w!==27||!jo(b)){for(;k!=null&&Co(b,k);)C++,k=u[C];if(C===u.length){u=!0;break e}else for(b=b.child;b!==null;)o.push(b,C),b=b.sibling}}u=!1}return u;case Zo:if((p===5||p===26||p===27)&&Mh(o.stateNode,u.value))return!0;break;case Zl:if((p===5||p===6||p===26||p===27)&&(o=qg(o),o!==null&&0<=o.indexOf(u.value)))return!0;break;case Xo:if((p===5||p===26||p===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Kr(o){switch(o.$$typeof){case Xs:return"<"+(_(o.value)||"Unknown")+">";case ga:return":has("+(Kr(o)||"")+")";case Zo:return'[role="'+o.value+'"]';case Zl:return'"'+o.value+'"';case Xo:return'[data-testname="'+o.value+'"]';default:throw Error(r(365))}}function xf(o,u){var p=[];o=[o,0];for(var b=0;b<o.length;){var w=o[b++],C=w.tag,k=o[b++],I=u[k];if(C!==5&&C!==26&&C!==27||!jo(w)){for(;I!=null&&Co(w,I);)k++,I=u[k];if(k===u.length)p.push(w);else for(w=w.child;w!==null;)o.push(w,k),w=w.sibling}}return p}function Vu(o,u){if(!Do)throw Error(r(363));o=Sf(o),o=xf(o,u),u=[],o=Array.from(o);for(var p=0;p<o.length;){var b=o[p++],w=b.tag;if(w===5||w===26||w===27)jo(b)||u.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return u}function ta(){if((ot&2)!==0&&Ot!==0)return Ot&-Ot;if(lt.T!==null){var o=mn;return o!==0?o:Xa()}return Th()}function Ol(){Mi===0&&(Mi=(Ot&536870912)===0||Vt?P():536870912);var o=Ni.current;return o!==null&&(o.flags|=32),Mi}function wa(o,u,p){(o===Xt&&(en===2||en===9)||o.cancelPendingCommit!==null)&&(Ai(o,0),Ja(o,Ot,Mi,!1)),Y(o,p),((ot&2)===0||o!==Xt)&&(o===Xt&&((ot&2)===0&&(Fs|=p),jn===4&&Ja(o,Ot,Mi,!1)),Fe(o))}function Yu(o,u,p){if((ot&6)!==0)throw Error(r(327));var b=!p&&(u&124)===0&&(u&o.expiredLanes)===0||D(o,u),w=b?dr(o,u):Zt(o,u,!0),C=b;do{if(w===0){Cr&&!b&&Ja(o,u,0,!1);break}else{if(p=o.current.alternate,C&&!Ti(p)){w=Zt(o,u,!1),C=!1;continue}if(w===2){if(C=u,o.errorRecoveryDisabledLanes&C)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){u=k;e:{var I=o;w=Qs;var te=ei&&I.current.memoizedState.isDehydrated;if(te&&(Ai(I,k).flags|=256),k=Zt(I,k,!1),k!==2){if(bc&&!te){I.errorRecoveryDisabledLanes|=C,Fs|=C,w=4;break e}C=Oa,Oa=w,C!==null&&(Oa===null?Oa=C:Oa.push.apply(Oa,C))}w=k}if(C=!1,w!==2)continue}}if(w===1){Ai(o,0),Ja(o,u,0,!0);break}e:{switch(b=o,C=w,C){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Ja(b,u,Mi,!ls);break e;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Ff+300-un(),10<w)){if(Ja(b,u,Mi,!ls),j(b,0,!0)!==0)break e;b.timeoutHandle=Df(gi.bind(null,b,p,Oa,_c,$s,u,Mi,Fs,_i,ls,C,2,-0,0),w);break e}gi(b,p,Oa,_c,$s,u,Mi,Fs,_i,ls,C,0,-0,0)}}break}while(!0);Fe(o)}function gi(o,u,p,b,w,C,k,I,te,Ae,De,Ge,Ye,xt){if(o.timeoutHandle=Oi,Ge=u.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(ec(),Gu(u),Ge=Rh(),Ge!==null)){o.cancelPendingCommit=Ge(yh.bind(null,o,u,C,p,b,w,k,I,te,De,1,Ye,xt)),Ja(o,C,k,!Ae);return}yh(o,u,C,p,b,w,k,I,te)}function Ti(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var w=p[b],C=w.getSnapshot;w=w.value;try{if(!mi(C(),w))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ja(o,u,p,b){u&=~Kf,u&=~Fs,o.suspendedLanes|=u,o.pingedLanes&=~u,b&&(o.warmLanes|=u),b=o.expirationTimes;for(var w=u;0<w;){var C=31-ai(w),k=1<<C;b[C]=-1,w&=~k}p!==0&&ue(o,p,u)}function fr(){return(ot&6)===0?(bt(0),!1):!0}function Yi(){if(_t!==null){if(en===0)var o=_t.return;else o=_t,Ta=Fi=null,_a(o),xr=null,Vo=0,o=_t;for(;o!==null;)So(o.alternate,o),o=o.return;_t=null}}function Ai(o,u){var p=o.timeoutHandle;p!==Oi&&(o.timeoutHandle=Oi,Wu(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Yi(),Xt=o,_t=p=Fr(o.current,null),Ot=u,en=0,qa=null,ls=!1,Cr=D(o,u),bc=!1,_i=Mi=Kf=Fs=In=jn=0,Oa=Qs=null,$s=!1,(u&8)!==0&&(u|=u&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=u;0<b;){var w=31-ai(b),C=1<<w;u|=o[w],b&=~C}return Pn=u,pl(),p}function ph(o,u){Et=null,lt.H=Zs,u===Go||u===dn?(u=Br(),en=3):u===If?(u=Br(),en=4):en=u===Ht?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,qa=u,_t===null&&(jn=1,of(o,X(u,o.current)))}function wf(){var o=Ni.current;return o===null?!0:(Ot&4194048)===Ot?wr===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?o===wr:!1}function Ef(){var o=lt.H;return lt.H=Zs,o===null?Zs:o}function Ea(){var o=lt.A;return lt.A=Yo,o}function Cn(){jn=4,ls||(Ot&4194048)!==Ot&&Ni.current!==null||(Cr=!0),(In&134217727)===0&&(Fs&134217727)===0||Xt===null||Ja(Xt,Ot,Mi,!1)}function Zt(o,u,p){var b=ot;ot|=2;var w=Ef(),C=Ea();(Xt!==o||Ot!==u)&&(_c=null,Ai(o,u)),u=!1;var k=jn;e:do try{if(en!==0&&_t!==null){var I=_t,te=qa;switch(en){case 8:Yi(),k=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(u=!0);var Ae=en;if(en=0,qa=null,Ml(o,I,te,Ae),p&&Cr){k=0;break e}break;default:Ae=en,en=0,qa=null,Ml(o,I,te,Ae)}}Nl(),k=jn;break}catch(De){ph(o,De)}while(!0);return u&&o.shellSuspendCounter++,Ta=Fi=null,ot=b,lt.H=w,lt.A=C,_t===null&&(Xt=null,Ot=0,pl()),k}function Nl(){for(;_t!==null;)Rs(_t)}function dr(o,u){var p=ot;ot|=2;var b=Ef(),w=Ea();Xt!==o||Ot!==u?(_c=null,Io=un()+500,Ai(o,u)):Cr=D(o,u);e:do try{if(en!==0&&_t!==null){u=_t;var C=qa;t:switch(en){case 1:en=0,qa=null,Ml(o,u,C,1);break;case 2:case 9:if(Ic(C)){en=0,qa=null,vh(u);break}u=function(){en!==2&&en!==9||Xt!==o||(en=7),Fe(o)},C.then(u,u);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:Ic(C)?(en=0,qa=null,vh(u)):(en=0,qa=null,Ml(o,u,C,7));break;case 5:var k=null;switch(_t.tag){case 26:k=_t.memoizedState;case 5:case 27:var I=_t,te=I.type,Ae=I.pendingProps;if(k?es(k):jf(te,Ae)){en=0,qa=null;var De=I.sibling;if(De!==null)_t=De;else{var Ge=I.return;Ge!==null?(_t=Ge,Os(Ge)):_t=null}break t}}en=0,qa=null,Ml(o,u,C,5);break;case 6:en=0,qa=null,Ml(o,u,C,6);break;case 8:Yi(),jn=6;break e;default:throw Error(r(462))}}mh();break}catch(Ye){ph(o,Ye)}while(!0);return Ta=Fi=null,lt.H=b,lt.A=w,ot=p,_t!==null?0:(Xt=null,Ot=0,pl(),jn)}function mh(){for(;_t!==null&&!Hv();)Rs(_t)}function Rs(o){var u=zu(o.alternate,o,Pn);o.memoizedProps=o.pendingProps,u===null?Os(o):_t=u}function vh(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=Ag(p,u,u.pendingProps,u.type,void 0,Ot);break;case 11:u=Ag(p,u,u.pendingProps,u.type.render,u.ref,Ot);break;case 5:_a(u);default:So(p,u),u=_t=qn(u,Pn),u=zu(p,u,Pn)}o.memoizedProps=o.pendingProps,u===null?Os(o):_t=u}function Ml(o,u,p,b){Ta=Fi=null,_a(u),xr=null,Vo=0;var w=u.return;try{if(Mv(o,w,u,p,Ot)){jn=1,of(o,X(p,o.current)),_t=null;return}}catch(C){if(w!==null)throw _t=w,C;jn=1,of(o,X(p,o.current)),_t=null;return}u.flags&32768?(Vt||b===1?o=!0:Cr||(Ot&536870912)!==0?o=!1:(ls=o=!0,(b===2||b===9||b===3||b===6)&&(b=Ni.current,b!==null&&b.tag===13&&(b.flags|=16384))),To(u,o)):Os(u)}function Os(o){var u=o;do{if((u.flags&32768)!==0){To(u,ls);return}o=u.return;var p=jv(u.alternate,u,Pn);if(p!==null){_t=p;return}if(u=u.sibling,u!==null){_t=u;return}_t=u=o}while(u!==null);jn===0&&(jn=5)}function To(o,u){do{var p=di(o.alternate,o);if(p!==null){p.flags&=32767,_t=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){_t=o;return}_t=o=p}while(o!==null);jn=6,_t=null}function yh(o,u,p,b,w,C,k,I,te){o.cancelPendingCommit=null;do Ri();while(Fn!==0);if((ot&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(C=u.lanes|u.childLanes,C|=$h,ie(o,p,C,k,I,te),o===Xt&&(_t=Xt=null,Ot=0),Ko=u,Js=o,Fo=p,Qf=C,$f=w,Xl=b,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Dg(qf,function(){return gr(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||b){b=lt.T,lt.T=null,w=Xi(),na(2),k=ot,ot|=4;try{Ng(o,u,p)}finally{ot=k,na(w),lt.T=b}}Fn=1,Ao(),Cf(),Ns()}}function Ao(){if(Fn===1){Fn=0;var o=Js,u=Ko,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=lt.T,lt.T=null;var b=Xi();na(2);var w=ot;ot|=4;try{gh(u,o),At(o.containerInfo)}finally{ot=w,na(b),lt.T=p}}o.current=u,Fn=2}}function Cf(){if(Fn===2){Fn=0;var o=Js,u=Ko,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=lt.T,lt.T=null;var b=Xi();na(2);var w=ot;ot|=4;try{Es(o,u.alternate,u)}finally{ot=w,na(b),lt.T=p}}Fn=3}}function Ns(){if(Fn===4||Fn===3){Fn=0,mp();var o=Js,u=Ko,p=Fo,b=Xl;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Fn=5:(Fn=0,Ko=Js=null,hr(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Tr=null),ve(p),u=u.stateNode,Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(Ls,u,void 0,(u.current.flags&128)===128)}catch{}if(b!==null){u=lt.T,w=Xi(),na(2),lt.T=null;try{for(var C=o.onRecoverableError,k=0;k<b.length;k++){var I=b[k];C(I.value,{componentStack:I.stack})}}finally{lt.T=u,na(w)}}(Fo&3)!==0&&Ri(),Fe(o),w=o.pendingLanes,(p&4194090)!==0&&(w&42)!==0?o===Jf?Ws++:(Ws=0,Jf=o):Ws=0,bt(0)}}function hr(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,qe(u)))}function Ri(o){return Ao(),Cf(),Ns(),gr()}function gr(){if(Fn!==5)return!1;var o=Js,u=Qf;Qf=0;var p=ve(Fo),b=32>p?32:p;p=lt.T;var w=Xi();try{na(b),lt.T=null,b=$f,$f=null;var C=Js,k=Fo;if(Fn=0,Ko=Js=null,Fo=0,(ot&6)!==0)throw Error(r(331));var I=ot;if(ot|=4,$a(C.current),Hu(C,C.current,k,b),ot=I,bt(0,!1),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(Ls,C)}catch{}return!0}finally{na(w),lt.T=p,hr(o,u)}}function Tf(o,u,p){u=X(p,u),u=uf(o.stateNode,u,2),o=Ie(o,u,2),o!==null&&(Y(o,2),Fe(o))}function Jt(o,u,p){if(o.tag===3)Tf(o,o,p);else for(;u!==null;){if(u.tag===3){Tf(u,o,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Tr===null||!Tr.has(b))){o=X(p,o),p=_g(2),b=Ie(u,p,2),b!==null&&(Sg(p,b,u,o),Y(b,2),Fe(b));break}}u=u.return}}function Dl(o,u,p){var b=o.pingCache;if(b===null){b=o.pingCache=new Ks;var w=new Set;b.set(u,w)}else w=b.get(u),w===void 0&&(w=new Set,b.set(u,w));w.has(p)||(bc=!0,w.add(p),o=Af.bind(null,o,u,p),u.then(o,o))}function Af(o,u,p){var b=o.pingCache;b!==null&&b.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Xt===o&&(Ot&p)===p&&(jn===4||jn===3&&(Ot&62914560)===Ot&&300>un()-Ff?(ot&2)===0&&Ai(o,0):Kf|=p,_i===Ot&&(_i=0)),Fe(o)}function Ms(o,u){u===0&&(u=H()),o=le(o,u),o!==null&&(Y(o,u),Fe(o))}function Ca(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),Ms(o,p)}function Rf(o,u){var p=0;switch(o.tag){case 13:var b=o.stateNode,w=o.memoizedState;w!==null&&(p=w.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(u),Ms(o,p)}function Dg(o,u){return uc(o,u)}function Uv(o,u,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fr(o,u){var p=o.alternate;return p===null?(p=n(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function qn(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Ro(o,u,p,b,w,C){var k=0;if(b=o,typeof o=="function")bh(o)&&(k=1);else if(typeof o=="string")k=La&&zt?rc(o,p,Sn.current)?26:Ih(o)?27:5:La?rc(o,p,Sn.current)?26:5:zt&&Ih(o)?27:5;else e:switch(o){case Pl:return o=n(31,p,u,w),o.elementType=Pl,o.lanes=C,o;case Ll:return Zi(p.children,w,C,u);case Xu:k=8,w|=24;break;case Nf:return o=n(12,p,u,w|2),o.elementType=Nf,o.lanes=C,o;case Ku:return o=n(13,p,u,w),o.elementType=Ku,o.lanes=C,o;case Fu:return o=n(19,p,u,w),o.elementType=Fu,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Iu:case $r:k=10;break e;case xh:k=9;break e;case pr:k=11;break e;case mr:k=14;break e;case ka:k=16,b=null;break e}k=29,p=Error(r(130,o===null?"null":typeof o,"")),b=null}return u=n(k,p,u,w),u.elementType=o,u.type=b,u.lanes=C,u}function Zi(o,u,p,b){return o=n(7,o,b,u),o.lanes=p,o}function jl(o,u,p){return o=n(6,o,null,u),o.lanes=p,o}function Zu(o,u,p){return u=n(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function Oo(o,u,p,b,w,C,k,I){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oi,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=b,this.onUncaughtError=w,this.onCaughtError=C,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function zl(o,u,p,b,w,C,k,I,te,Ae,De,Ge){return o=new Oo(o,u,p,k,I,te,Ae,Ge),u=1,C===!0&&(u|=24),C=n(3,null,null,u),o.current=C,C.stateNode=o,u=Me(),u.refCount++,o.pooledCache=u,u.refCount++,C.memoizedState={element:b,isDehydrated:p,cache:u},Qe(C),o}function jg(o){return o?(o=Gl,o):Gl}function _h(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?g(o):null,o===null?null:Mo(o.stateNode)}function zg(o,u,p,b,w,C){w=jg(w),b.context===null?b.context=w:b.pendingContext=w,b=Ze(u),b.payload={element:p},C=C===void 0?null:C,C!==null&&(b.callback=C),p=Ie(o,b,u),p!==null&&(wa(p,o,u),tt(p,o,u))}function Sh(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function Qr(o,u){Sh(o,u),(o=o.alternate)&&Sh(o,u)}var Tt={},Of=Wm(),Wa=i2(),Ul=Object.assign,Ug=Symbol.for("react.element"),kl=Symbol.for("react.transitional.element"),Ds=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),Iu=Symbol.for("react.provider"),xh=Symbol.for("react.consumer"),$r=Symbol.for("react.context"),pr=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),mr=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),Pl=Symbol.for("react.activity"),wh=Symbol.for("react.memo_cache_sentinel"),Mf=Symbol.iterator,Qu=Symbol.for("react.client.reference"),js=Array.isArray,lt=Of.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kg=e.rendererVersion,No=e.rendererPackageName,$u=e.extraDevToolsConfig,Mo=e.getPublicInstance,Eh=e.getRootHostContext,Ch=e.getChildHostContext,zs=e.prepareForCommit,At=e.resetAfterCommit,on=e.createInstance;e.cloneMutableInstance;var kn=e.appendInitialChild,Ju=e.finalizeInitialChildren,Jr=e.shouldSetTextContent,Us=e.createTextInstance;e.cloneMutableTextInstance;var Df=e.scheduleTimeout,Wu=e.cancelTimeout,Oi=e.noTimeout,Wr=e.isPrimaryRenderer;e.warnsIfNotActing;var Ut=e.supportsMutation,vr=e.supportsPersistence,ei=e.supportsHydration,Lg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Pg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var na=e.setCurrentUpdatePriority,Xi=e.getCurrentUpdatePriority,Th=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Ah=e.shouldAttemptEagerTransition,ti=e.detachDeletedInstance;e.requestPostPaintCallback;var Vn=e.maySuspendCommit,jf=e.preloadInstance,ec=e.startSuspendingCommit,tc=e.suspendInstance;e.suspendOnActiveViewTransition;var Rh=e.waitForCommitToBeReady,ni=e.NotPendingTransition,yr=e.HostTransitionContext,Oh=e.resetFormInstance;e.bindToConsole;var Nh=e.supportsMicrotasks,Bg=e.scheduleMicrotask,Do=e.supportsTestSelectors,Hg=e.findFiberRoot,Gg=e.getBoundingRect,qg=e.getTextContent,jo=e.isHiddenSubtree,Mh=e.matchAccessibilityRole,Vg=e.setFocusIfFocusable,kv=e.setupIntersectionObserver,Yg=e.appendChild,Zg=e.appendChildToContainer,Xg=e.commitTextUpdate,Dh=e.commitMount,Ig=e.commitUpdate,Kg=e.insertBefore,Fg=e.insertInContainerBefore,Qg=e.removeChild,$g=e.removeChildFromContainer,Jg=e.resetTextContent,Wg=e.hideInstance,zo=e.hideTextInstance,zf=e.unhideInstance,ep=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var Uf=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var nc=e.cloneInstance,jh=e.createContainerChildSet,zh=e.appendChildToContainerChildSet,tp=e.finalizeContainerChildren,Uh=e.replaceContainerChildren,kh=e.cloneHiddenInstance,Lh=e.cloneHiddenTextInstance,ac=e.isSuspenseInstancePending,kf=e.isSuspenseInstanceFallback,np=e.getSuspenseInstanceFallbackErrorDetails,Ph=e.registerSuspenseInstanceRetry,ap=e.canHydrateFormStateMarker,ip=e.isFormStateMarkerMatching,rp=e.getNextHydratableSibling,Bh=e.getNextHydratableSiblingAfterSingleton,sp=e.getFirstHydratableChild,lp=e.getFirstHydratableChildWithinContainer,Hh=e.getFirstHydratableChildWithinSuspenseInstance,op=e.getFirstHydratableChildWithinSingleton,up=e.canHydrateInstance,Lv=e.canHydrateTextInstance,Pv=e.canHydrateSuspenseInstance,cp=e.hydrateInstance,ic=e.hydrateTextInstance,Gh=e.hydrateSuspenseInstance,Lf=e.getNextHydratableInstanceAfterSuspenseInstance,fp=e.commitHydratedContainer,dp=e.commitHydratedSuspenseInstance,Pf=e.clearSuspenseBoundary,hp=e.clearSuspenseBoundaryFromContainer,qh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Bv=e.validateHydratableInstance,Uo=e.validateHydratableTextInstance,La=e.supportsResources,rc=e.isHostHoistableType,Bl=e.getHoistableRoot,sc=e.getResource,Vh=e.acquireResource,Yh=e.releaseResource,ko=e.hydrateHoistable,Zh=e.mountHoistable,pi=e.unmountHoistable,br=e.createHoistableInstance,ks=e.prepareToCommitHoistables,gp=e.mayResourceSuspendCommit,es=e.preloadResource,ts=e.suspendResource,zt=e.supportsSingletons,lc=e.resolveSingletonInstance,Xh=e.acquireSingletonInstance,Bf=e.releaseSingletonInstance,Ih=e.isHostSingletonType,Hl=e.isSingletonScope,ns=[],as=-1,Gl={},ai=Math.clz32?Math.clz32:R,pp=Math.log,Hf=Math.LN2,oc=256,Lo=4194304,uc=Wa.unstable_scheduleCallback,Gf=Wa.unstable_cancelCallback,Hv=Wa.unstable_shouldYield,mp=Wa.unstable_requestPaint,un=Wa.unstable_now,aa=Wa.unstable_ImmediatePriority,vp=Wa.unstable_UserBlockingPriority,qf=Wa.unstable_NormalPriority,yp=Wa.unstable_IdlePriority,bp=Wa.log,_p=Wa.unstable_setDisableYieldValue,Ls=null,Pa=null,Vf,Kh,Yf=!1,Zf=new WeakMap,Ps=[],Bs=0,cc=null,Po=0,Ba=[],ii=0,Hs=null,Ii=1,_r="",Sn=S(null),ql=S(null),Gs=S(null),fc=S(null),Dn=null,Yn=null,Vt=!1,Ki=null,Qt=!1,Fh=Error(r(519)),mi=typeof Object.is=="function"?Object.is:ba,dc=S(null),Fi=null,Ta=null,Sp=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,b){o.push(b)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},xp=Wa.unstable_scheduleCallback,hc=Wa.unstable_NormalPriority,Wt={$$typeof:$r,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},gc=null,qs=null,Xf=!1,Bo=!1,pc=!1,is=0,Ho=null,Qi=0,mn=0,Vs=null,Qh=lt.S;lt.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&kr(o,u),Qh!==null&&Qh(o,u)};var Tn=S(null),Gv=Object.prototype.hasOwnProperty,Go=Error(r(460)),If=Error(r(474)),dn=Error(r(542)),da={then:function(){}},ri=null,vi=[],Vl=0,$h=0,Sr=!1,Ha=!1,Aa=S(null),mc=S(0),Zn=0,Et=null,Bt=null,vn=null,$i=!1,Ys=!1,rs=!1,yi=0,qo=0,Ji=null,vc=0,Zs={readContext:de,use:pn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},Yl={readContext:de,use:pn,useCallback:function(o,u){return ut().memoizedState=[o,u===void 0?null:u],o},useContext:de,useEffect:Jd,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,Ru(4194308,4,mo.bind(null,u,o),p)},useLayoutEffect:function(o,u){return Ru(4194308,4,o,u)},useInsertionEffect:function(o,u){Ru(4,2,o,u)},useMemo:function(o,u){var p=ut();u=u===void 0?null:u;var b=o();if(rs){pe(!0);try{o()}finally{pe(!1)}}return p.memoizedState=[b,u],b},useReducer:function(o,u,p){var b=ut();if(p!==void 0){var w=p(u);if(rs){pe(!0);try{p(u)}finally{pe(!1)}}}else w=u;return b.memoizedState=b.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},b.queue=o,o=o.dispatch=th.bind(null,Et,o),[b.memoizedState,o]},useRef:function(o){var u=ut();return o={current:o},u.memoizedState=o},useState:function(o){o=Qc(o);var u=o.queue,p=nf.bind(null,Et,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:Ou,useDeferredValue:function(o,u){var p=ut();return vo(p,o,u)},useTransition:function(){var o=Qc(!1);return o=eh.bind(null,Et,o.queue,!0,!1),ut().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var b=Et,w=ut();if(Vt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Xt===null)throw Error(r(349));(Ot&124)!==0||Xd(b,u,p)}w.memoizedState=p;var C={value:p,getSnapshot:u};return w.queue=C,Jd(cg.bind(null,b,C,o),[o]),b.flags|=2048,Ss(9,Hr(),Au.bind(null,b,C,p,u),null),p},useId:function(){var o=ut(),u=Xt.identifierPrefix;if(Vt){var p=_r,b=Ii;p=(b&~(1<<32-ai(b)-1)).toString(32)+p,u=""+u+"R"+p,p=yi++,0<p&&(u+="H"+p.toString(32)),u+=""}else p=vc++,u=""+u+"r"+p.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:qr,useFormState:Jc,useActionState:Jc,useOptimistic:function(o){var u=ut();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=bo.bind(null,Et,!0,p),p.dispatch=u,[o,u]},useMemoCache:_s,useCacheRefresh:function(){return ut().memoizedState=Nv.bind(null,Et)}},Jh={readContext:de,use:pn,useCallback:Nu,useContext:de,useEffect:po,useImperativeHandle:Gr,useInsertionEffect:sr,useLayoutEffect:tf,useMemo:Wd,useReducer:ca,useRef:bl,useState:function(){return ca(ui)},useDebugValue:Ou,useDeferredValue:function(o,u){var p=Mt();return Mu(p,Bt.memoizedState,o,u)},useTransition:function(){var o=ca(ui)[0],u=Mt().memoizedState;return[typeof o=="boolean"?o:za(o),u]},useSyncExternalStore:Tu,useId:Du,useHostTransitionStatus:qr,useFormState:fg,useActionState:fg,useOptimistic:function(o,u){var p=Mt();return $c(p,Bt,o,u)},useMemoCache:_s,useCacheRefresh:yo},wp={readContext:de,use:pn,useCallback:Nu,useContext:de,useEffect:po,useImperativeHandle:Gr,useInsertionEffect:sr,useLayoutEffect:tf,useMemo:Wd,useReducer:Zd,useRef:bl,useState:function(){return Zd(ui)},useDebugValue:Ou,useDeferredValue:function(o,u){var p=Mt();return Bt===null?vo(p,o,u):Mu(p,Bt.memoizedState,o,u)},useTransition:function(){var o=Zd(ui)[0],u=Mt().memoizedState;return[typeof o=="boolean"?o:za(o),u]},useSyncExternalStore:Tu,useId:Du,useHostTransitionStatus:qr,useFormState:ef,useActionState:ef,useOptimistic:function(o,u){var p=Mt();return Bt!==null?$c(p,Bt,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:_s,useCacheRefresh:yo},xr=null,Vo=0,ss=mg(!0),Wh=mg(!1),Ni=S(null),wr=null,gt=S(0),cn={enqueueSetState:function(o,u,p){o=o._reactInternals;var b=ta(),w=Ze(b);w.payload=u,p!=null&&(w.callback=p),u=Ie(o,w,b),u!==null&&(wa(u,o,b),tt(u,o,b))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var b=ta(),w=Ze(b);w.tag=1,w.payload=u,p!=null&&(w.callback=p),u=Ie(o,w,b),u!==null&&(wa(u,o,b),tt(u,o,b))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=ta(),b=Ze(p);b.tag=2,u!=null&&(b.callback=u),u=Ie(o,b,p),u!==null&&(wa(u,o,p),tt(u,o,p))}},Dt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ht=Error(r(461)),pt=!1,Ga={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Ra=!1,yn=!1,yc=!1,Er=typeof WeakSet=="function"?WeakSet:Set,Rt=null,hn=null,Xn=!1,bi=null,ha=8192,Yo={getCacheForType:function(o){var u=de(Wt),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p}},Xs=0,ga=1,Zo=2,Xo=3,Zl=4;if(typeof Symbol=="function"&&Symbol.for){var Is=Symbol.for;Xs=Is("selector.component"),ga=Is("selector.has_pseudo_class"),Zo=Is("selector.role"),Xo=Is("selector.test_id"),Zl=Is("selector.text")}var Ks=typeof WeakMap=="function"?WeakMap:Map,ot=0,Xt=null,_t=null,Ot=0,en=0,qa=null,ls=!1,Cr=!1,bc=!1,Pn=0,jn=0,In=0,Fs=0,Kf=0,Mi=0,_i=0,Qs=null,Oa=null,$s=!1,Ff=0,Io=1/0,_c=null,Tr=null,Fn=0,Js=null,Ko=null,Fo=0,Qf=0,$f=null,Xl=null,Ws=0,Jf=null;return Tt.attemptContinuousHydration=function(o){if(o.tag===13){var u=le(o,67108864);u!==null&&wa(u,o,67108864),Qr(o,67108864)}},Tt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var u=ta();u=Te(u);var p=le(o,u);p!==null&&wa(p,o,u),Qr(o,u)}},Tt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var u=O(o.pendingLanes);if(u!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;u;){var p=1<<31-ai(u);o.entanglements[1]|=p,u&=~p}Fe(o),(ot&6)===0&&(Io=un()+500,bt(0))}}break;case 13:u=le(o,2),u!==null&&wa(u,o,2),fr(),Qr(o,2)}},Tt.batchedUpdates=function(o,u){return o(u)},Tt.createComponentSelector=function(o){return{$$typeof:Xs,value:o}},Tt.createContainer=function(o,u,p,b,w,C,k,I,te,Ae){return zl(o,u,!1,null,p,b,C,k,I,te,Ae,null)},Tt.createHasPseudoClassSelector=function(o){return{$$typeof:ga,value:o}},Tt.createHydrationContainer=function(o,u,p,b,w,C,k,I,te,Ae,De,Ge,Ye){return o=zl(p,b,!0,o,w,C,I,te,Ae,De,Ge,Ye),o.context=jg(null),p=o.current,b=ta(),b=Te(b),w=Ze(b),w.callback=u??null,Ie(p,w,b),u=b,o.current.lanes=u,Y(o,u),Fe(o),o},Tt.createPortal=function(o,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:b==null?null:""+b,children:o,containerInfo:u,implementation:p}},Tt.createRoleSelector=function(o){return{$$typeof:Zo,value:o}},Tt.createTestNameSelector=function(o){return{$$typeof:Xo,value:o}},Tt.createTextSelector=function(o){return{$$typeof:Zl,value:o}},Tt.defaultOnCaughtError=function(o){console.error(o)},Tt.defaultOnRecoverableError=function(o){Dt(o)},Tt.defaultOnUncaughtError=function(o){Dt(o)},Tt.deferredUpdates=function(o){var u=lt.T,p=Xi();try{return na(32),lt.T=null,o()}finally{na(p),lt.T=u}},Tt.discreteUpdates=function(o,u,p,b,w){var C=lt.T,k=Xi();try{return na(2),lt.T=null,o(u,p,b,w)}finally{na(k),lt.T=C,ot===0&&(Io=un()+500)}},Tt.findAllNodes=Vu,Tt.findBoundingRects=function(o,u){if(!Do)throw Error(r(363));u=Vu(o,u),o=[];for(var p=0;p<u.length;p++)o.push(Gg(u[p]));for(u=o.length-1;0<u;u--){p=o[u];for(var b=p.x,w=b+p.width,C=p.y,k=C+p.height,I=u-1;0<=I;I--)if(u!==I){var te=o[I],Ae=te.x,De=Ae+te.width,Ge=te.y,Ye=Ge+te.height;if(b>=Ae&&C>=Ge&&w<=De&&k<=Ye){o.splice(u,1);break}else if(b!==Ae||p.width!==te.width||Ye<C||Ge>k){if(!(C!==Ge||p.height!==te.height||De<b||Ae>w)){Ae>b&&(te.width+=Ae-b,te.x=b),De<w&&(te.width=w-Ae),o.splice(u,1);break}}else{Ge>C&&(te.height+=Ge-C,te.y=C),Ye<k&&(te.height=k-Ge),o.splice(u,1);break}}}return o},Tt.findHostInstance=_h,Tt.findHostInstanceWithNoPortals=function(o){return o=d(o),o=o!==null?m(o):null,o===null?null:Mo(o.stateNode)},Tt.findHostInstanceWithWarning=function(o){return _h(o)},Tt.flushPassiveEffects=Ri,Tt.flushSyncFromReconciler=function(o){var u=ot;ot|=1;var p=lt.T,b=Xi();try{if(na(2),lt.T=null,o)return o()}finally{na(b),lt.T=p,ot=u,(ot&6)===0&&bt(0)}},Tt.flushSyncWork=fr,Tt.focusWithin=function(o,u){if(!Do)throw Error(r(363));for(o=Sf(o),u=xf(o,u),u=Array.from(u),o=0;o<u.length;){var p=u[o++],b=p.tag;if(!jo(p)){if((b===5||b===26||b===27)&&Vg(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},Tt.getFindAllNodesFailureDescription=function(o,u){if(!Do)throw Error(r(363));var p=0,b=[];o=[Sf(o),0];for(var w=0;w<o.length;){var C=o[w++],k=C.tag,I=o[w++],te=u[I];if((k!==5&&k!==26&&k!==27||!jo(C))&&(Co(C,te)&&(b.push(Kr(te)),I++,I>p&&(p=I)),I<u.length))for(C=C.child;C!==null;)o.push(C,I),C=C.sibling}if(p<u.length){for(o=[];p<u.length;p++)o.push(Kr(u[p]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Tt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Mo(o.child.stateNode);default:return o.child.stateNode}},Tt.injectIntoDevTools=function(){var o={bundleType:0,version:kg,rendererPackageName:No,currentDispatcherRef:lt,reconcilerVersion:"19.1.0"};if($u!==null&&(o.rendererConfig=$u),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)o=!0;else{try{Ls=u.inject(o),Pa=u}catch{}o=!!u.checkDCE}}return o},Tt.isAlreadyRendering=function(){return(ot&6)!==0},Tt.observeVisibleRects=function(o,u,p,b){if(!Do)throw Error(r(363));o=Vu(o,u);var w=kv(o,p,b).disconnect;return{disconnect:function(){w()}}},Tt.shouldError=function(){return null},Tt.shouldSuspend=function(){return!1},Tt.startHostTransition=function(o,u,p,b){if(o.tag!==5)throw Error(r(476));var w=Ua(o).queue;eh(o,w,u,ni,p===null?a:function(){var C=Ua(o).next.queue;return Vr(o,C,{},ta()),p(b)})},Tt.updateContainer=function(o,u,p,b){var w=u.current,C=ta();return zg(w,C,o,u,p,b),C},Tt.updateContainerSync=function(o,u,p,b){return zg(u.current,2,o,u,p,b),2},Tt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(q1)),q1.exports}var A4;function FR(){return A4||(A4=1,G1.exports=KR()),G1.exports}var QR=FR();const $R=Jm(QR);var V1={exports:{}},Kl={};var R4;function JR(){return R4||(R4=1,Kl.ConcurrentRoot=1,Kl.ContinuousEventPriority=8,Kl.DefaultEventPriority=32,Kl.DiscreteEventPriority=2,Kl.IdleEventPriority=268435456,Kl.LegacyRoot=0,Kl.NoEventPriority=0),Kl}var O4;function WR(){return O4||(O4=1,V1.exports=JR()),V1.exports}var ov=WR();const N4={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let M4=!1,D4=!1;const Pm=".react-konva-event",eO=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,tO=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,nO={};function uv(t,e,n=nO){if(!M4&&"zIndex"in e&&(console.warn(tO),M4=!0),!D4&&e.draggable){var a=e.x!==void 0||e.y!==void 0,r=e.onDragEnd||e.onDragMove;a&&!r&&(console.warn(eO),D4=!0)}for(var l in n)if(!N4[l]){var c=l.slice(0,2)==="on",d=n[l]!==e[l];if(c&&d){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),t.off(g,n[l])}var m=!e.hasOwnProperty(l);m&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},S=!1;const E={};for(var l in e)if(!N4[l]){var c=l.slice(0,2)==="on",A=n[l]!==e[l];if(c&&A){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(E[g]=e[l])}!c&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(S=!0,_[l]=e[l])}S&&(t.setAttrs(_),xu(t));for(var g in E)t.off(g+Pm),t.on(g+Pm,E[g])}function xu(t){if(!Be.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var Y1=i2();const RS={},aO={};Ld.Node.prototype._applyProps=uv;let OS=ov.DefaultEventPriority;function iO(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),xu(t)}function rO(t,e,n){let a=Ld[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Ld.Group);const r={},l={};for(var c in e)if(c!=="ref"){var d=c.slice(0,2)==="on";d?l[c]=e[c]:r[c]=e[c]}const g=new a(r);return uv(g,l),g}function sO(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function lO(t,e,n){return!1}function oO(t){return t}function uO(){return null}function cO(){return null}function fO(t,e,n,a){return aO}function dO(){}function hO(t){}function gO(t,e){return!1}function pO(){return RS}function mO(){return RS}const vO=setTimeout,yO=clearTimeout,bO=!0,_O=t=>{t()},SO=-1;function xO(t,e){return!1}const wO=!1,EO=!1,CO=!0,TO=!1,AO=!1;function RO(t,e){e.parent===t?e.moveToTop():t.add(e),xu(t)}function OO(t,e){e.parent===t?e.moveToTop():t.add(e),xu(t)}function NS(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),xu(t)}function NO(t,e,n){NS(t,e,n)}function MO(t,e){e.destroy(),e.off(Pm),xu(t)}function DO(t,e){e.destroy(),e.off(Pm),xu(t)}function jO(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function zO(t,e,n){}function UO(t,e,n,a){uv(t,a,n)}function kO(t){t.hide(),xu(t)}function LO(t){}function PO(t,e){(e.visible==null||e.visible)&&t.show()}function BO(t,e){}function HO(t){}function GO(){}function qO(){return ov.DefaultEventPriority}function VO(){}function YO(){return null}function ZO(t){OS=t}function XO(){return OS}function IO(){return ov.DiscreteEventPriority}function KO(){return!1}function FO(){}function QO(){return!1}function $O(){return!0}function JO(){}function WO(){}function eN(){return null}const tN=null;function nN(){}const aN=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:tN,appendChild:RO,appendChildToContainer:OO,appendInitialChild:iO,cancelTimeout:yO,clearContainer:HO,commitMount:zO,commitTextUpdate:jO,commitUpdate:UO,createInstance:rO,createTextInstance:sO,detachDeletedInstance:GO,finalizeInitialChildren:lO,getChildHostContext:mO,getCurrentEventPriority:qO,getCurrentUpdatePriority:XO,getInstanceFromScope:YO,getPublicInstance:oO,getRootHostContext:pO,hideInstance:kO,hideTextInstance:LO,idlePriority:Y1.unstable_IdlePriority,insertBefore:NS,insertInContainerBefore:NO,isPrimaryRenderer:wO,maySuspendCommit:QO,noTimeout:SO,now:Y1.unstable_now,preloadInstance:$O,prepareForCommit:uO,preparePortalMount:cO,prepareScopeUpdate:VO,prepareUpdate:fO,removeChild:MO,removeChildFromContainer:DO,requestPostPaintCallback:FO,resetAfterCommit:dO,resetFormInstance:nN,resetTextContent:hO,resolveUpdatePriority:IO,run:Y1.unstable_runWithPriority,scheduleMicrotask:_O,scheduleTimeout:vO,setCurrentUpdatePriority:ZO,shouldAttemptEagerTransition:KO,shouldDeprioritizeSubtree:gO,shouldSetTextContent:xO,startSuspendingCommit:JO,supportsHydration:AO,supportsMicrotasks:bO,supportsMutation:CO,supportsPersistence:TO,suspendInstance:WO,unhideInstance:PO,unhideTextInstance:BO,waitForCommitToBeReady:eN,warnsIfNotActing:EO},Symbol.toStringTag,{value:"Module"}));function MS(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const r=MS(a,e,n);if(r)return r;a=a.sibling}}function DS(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const T2=DS(N.createContext(null));class jS extends N.Component{render(){return N.createElement(T2.Provider,{value:this._reactInternals},this.props.children)}}function iN(){const t=N.useContext(T2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=MS(n,!1,r=>{let l=r.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const rN=Symbol.for("react.context"),sN=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===rN;function lN(){const t=iN(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;sN(a)&&a!==T2&&!e.has(a)&&e.set(a,N.use(DS(a))),n=n.return}return e}function oN(){const t=lN();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(jS,{...e})),[t])}if(at.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function uN(t){const e=at.useRef({});return at.useLayoutEffect(()=>{e.current=t}),at.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const cN=()=>{const t=at.useRef(0);return at.useMemo(()=>{t.current++},[]),t.current>1},fN=t=>{const e=at.useRef(null),n=at.useRef(null),a=at.useRef(null),r=uN(t),l=oN(),c=at.useRef(!1),d=m=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(m):v.current=m)},g=cN();return at.useLayoutEffect(()=>c.current&&g?()=>{c.current=!1,d(null),Ed.updateContainer(null,a.current,null),n.current.destroy()}:(c.current=!0,n.current=new Ld.Stage({width:t.width,height:t.height,container:e.current}),d(n.current),a.current=Ed.createContainer(n.current,ov.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Ed.updateContainer(at.createElement(l,{},t.children),a.current,null,()=>{}),()=>{g||(d(null),Ed.updateContainer(null,a.current,null),n.current.destroy())}),[]),at.useLayoutEffect(()=>{d(n.current),uv(n.current,t,r),Ed.updateContainer(at.createElement(l,{},t.children),a.current,null)}),at.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},im="Layer",Or="Group",eo="Rect",zS="Circle",dN="Line",il="Text",hN="Path",gN="Arrow",pN="Transformer",Ed=$R(aN);Ed.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:at.version,rendererPackageName:"react-konva"});const mN=at.forwardRef((t,e)=>at.createElement(jS,{},at.createElement(fN,{...t,forwardedRef:e})));function j4(t,e,n,a){t.forEach(r=>{if(!e.current||!n.current)return;const l=n.current.findOne(`#${r.from}`)||e.current.findOne(`#${r.from}`),c=n.current.findOne(`#${r.to}`)||e.current.findOne(`#${r.to}`),d=a.current?.findOne(`#${r.id}`),g=e.current.findOne(`#${r.from.replace(/^group-/,"")}`)||n.current.findOne(`#${r.from.replace(/^group-/,"")}`),m=e.current.findOne(`#${r.to.replace(/^group-/,"")}`)||n.current.findOne(`#${r.to.replace(/^group-/,"")}`);if(!l||!c||!d||!g||!m)return;const v=c.x()-l.x(),_=c.y()-l.y(),S=Math.sqrt(v*v+_*_),E=v/S,A=_/S,R=Math.min(30,S/5-1),O=g.width()*(l.attrs.scalingX??1),j=g.height()*(l.attrs.scalingY??1),D=m.width()*(c.attrs.scalingX??1),z=m.height()*(c.attrs.scalingY??1);d.points([l.x()+O/2+E*(O/2+R),l.y()+j/2+A*(j/2+R),c.x()+D/2-E*(D/2+R),c.y()+z/2-A*(z/2+R)])})}const vN=(t,e,n,a)=>{const r=e.x()-t.x(),l=e.y()-t.y(),c=Math.sqrt(r*r+l*l),d=r/c,g=l/c,m=Math.min(30,c/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),S=a.width()*(e.attrs.scalingX??1),E=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+d*(v/2+m),t.y()+_/2+g*(_/2+m),e.x()+S/2-d*(S/2+m),e.y()+E/2-g*(E/2+m)]},yN=({connector:t,mainLayer:e})=>{const[n,a]=N.useState([]);return N.useEffect(()=>{const r=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),c=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),d=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!r||!l||!c||!d)return;const g=vN(r,l,c,d);a(g)},[e,t]),T.jsx(gN,{id:t.id,points:n,fill:"black",stroke:"black"})},bN=({connectors:t,mainLayer:e})=>T.jsx(T.Fragment,{children:t.map(n=>T.jsx(yN,{connector:n,mainLayer:e}))});function z4(t,e,n){if(e==="eraser")return;t.target.moveTo(n.current)}function U4(t,e,n,a){if(a==="eraser")return;const l=t.target.getStage()?.getPointerPosition(),c=e.current?.getIntersection(l);!n.current&&c?(n.current=c,c.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&c&&n.current!==c?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),c.fire("dragenter",{evt:t.evt},!0),n.current=c):n.current&&!c&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function Z1(t,e,n,a,r){if(n==="eraser")return;const l=t.target,d=l.getStage()?.getPointerPosition(),g=e.current?.getIntersection(d);g&&!g.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0),l.moveTo(e.current),a.current=null;const m=t.target.id();r(v=>{const _=[...v],S=_.findIndex(E=>"group-"+E.id===m);if(S!==-1&&_[S].behavior==="node")_[S]={..._[S],x:t.target.x(),y:t.target.y()};else if(S!==-1&&_[S].shape==="line"){const E=t.target,A=E.x(),R=E.y();_[S]={..._[S],points:_[S].points.map((O,j)=>j%2===0?O+A:O+R)},E.x(0),E.y(0)}return _})}const _N=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,collapseChild:c,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_})=>{const[S,E]=N.useState(!1),A=v(t.color);return T.jsxs(Or,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:l!=="eraser",onDragStart:n,onDragMove:a,onDragEnd:r,onTransformEnd:m,onMouseEnter:()=>{l==="hand"&&E(!0)},onMouseLeave:()=>{l==="hand"&&E(!1)},onClick:()=>{d(t.id),l==="hand"&&g(t)},children:[T.jsxs(Or,{visible:!t.isCollapsed,children:[T.jsx(eo,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:A,strokeWidth:2.5,shadowForStrokeEnabled:!1}),T.jsx(il,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.7,listening:!1}),T.jsx(il,{text:t.dueDate,x:0,y:t.height-35,width:t.width,height:16,fontFamily:"Inter",fontSize:12,fontStyle:"light",padding:5,align:"right",fill:"blue",opacity:.8,listening:!1}),T.jsxs(Or,{children:[T.jsx(eo,{fill:"#efb100",width:100,height:30,x:10,y:t.height-40,cornerRadius:10}),T.jsx(il,{text:t.status,width:100,height:30,fontFamily:"Inter",align:"left",fill:"white",x:17,y:t.height-42,padding:10})]}),S&&T.jsx(Or,{x:t.width+5,y:t.height/2,children:T.jsx(zS,{radius:16,fill:"blue",onClick:R=>{R.cancelBubble=!0,_(t)}})})]}),T.jsxs(Or,{children:[T.jsx(eo,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),T.jsx(eo,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),T.jsx(il,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),T.jsx(il,{x:t.width*.9,y:5,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"right",verticalAlign:"top",onClick:R=>{l!=="eraser"&&(t.isCollapsed?c(t,!0):c(t,!1),R.cancelBubble=!0,e(j=>j.map(D=>D.shape==="rect"&&D.id===t.id?{...D,isCollapsed:!D.isCollapsed}:D)))}})]})]},"key-"+t.id)},SN=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,collapseChild:c,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_})=>T.jsx(T.Fragment,{children:t.map(S=>T.jsx(_N,{rect:S,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,onTransformEnd:m,tool:l,collapseChild:c,handleEraserClick:d,onShapeClick:g,getBorder:v,onAddTodo:_},"key-"+S.id))});function xN(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,r=a?.getPointerPosition();if(!r||!a)return;const l=a.scaleX(),c={x:(r.x-a.x())/l,y:(r.y-a.y())/l},d=e.evt.deltaY>0?-1:1,g=1.05,m=d>0?Math.min(l*g,5):Math.max(l/g,.1);a.scale({x:m,y:m});const v={x:r.x-c.x*m,y:r.y-c.y*m};a.position(v),n(Math.round(m*100))}function wN(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('/cursor.svg') 20 20, auto";case"draw":return"crosshair";default:return"default"}}const EN=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,onTransformEnd:c,handleEraserClick:d})=>{const[g,m]=N.useState(!1),v="#FDF6B2",_=t.color,S=new Date(t.dueDate),E=S.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),A=new Date,R=S.getTime()-A.getTime(),O=Math.ceil(R/(1e3*60*60*24)),j=Math.floor(O/7),D=Math.floor(O/30),z=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:D>=1?{statusColor:"#2b7fff",statusText:`${D} Month${D>1?"s":""} left`,statusTextColor:"white"}:j>=1?{statusColor:"#2b7fff",statusText:`${j} Week${j>1?"s":""} left`,statusTextColor:"white"}:O>=2?{statusColor:"#2b7fff",statusText:`${O} Day${O>1?"s":""} left`,statusTextColor:"white"}:O===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:O===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:P,statusText:H,statusTextColor:L}=z(),Y=ie=>{e(ue=>ue.map(me=>me.id===ie&&me.shape==="todo"?{...me,completed:!me.completed}:me))};return T.jsx(Or,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&m(!0)},onMouseLeave:()=>{l==="hand"&&m(!1)},draggable:l!="eraser",onDragStart:n,onDragMove:a,onDragEnd:r,onTransformEnd:c,onClick:()=>{d(t.id)},children:T.jsxs(Or,{visible:!t.isCollapsed,children:[T.jsx(eo,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:_,strokeWidth:1,shadowForStrokeEnabled:!1}),T.jsxs(Or,{children:[T.jsx(eo,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),T.jsxs(Or,{children:[T.jsx(il,{x:60,y:8,text:t.title,fontSize:20,fontStyle:"bold"}),T.jsx(il,{x:60,y:32,text:E}),T.jsxs(Or,{children:[T.jsx(il,{x:60,y:54,text:"Assigned: "+t.assignee}),T.jsxs(Or,{x:280,y:50,children:[T.jsx(eo,{width:110,height:18,fill:P,cornerRadius:[4,4,4,4]}),T.jsx(il,{x:0,y:3,width:110,height:18,text:H,fill:L,align:"center",fontStyle:"bold",fontSize:12})]})]}),(g||t.completed)&&T.jsxs(Or,{x:26,y:36,children:[T.jsx(zS,{radius:16,fill:v,stroke:_,strokeWidth:1.5,onClick:()=>Y(t.id)}),t.completed&&T.jsx(hN,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},CN=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,handleEraserClick:c,onTransformEnd:d,getBorder:g})=>T.jsx(T.Fragment,{children:t.map(m=>T.jsx(EN,{todo:m,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,handleEraserClick:c,onTransformEnd:d,getBorder:g},"key-"+m.id))});function ag(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function TN(t,e,n,a,r){if(e!=="draw")return;const l=ag(t);if(!l)return;r(!0);const c={shape:"line",behavior:"decor",color:"black",id:"line-"+Date.now().toString(),points:[l.x,l.y],stroke:n,strokeWidth:4,scaleX:1,scaleY:1};a(d=>[...d,c])}function AN(t,e,n,a){if(!a||e!=="draw")return;const r=ag(t);r&&n(l=>{if(l.length===0)return l;const c=l[l.length-1];if(c.shape!=="line")return l;const d={...c,points:[...c.points,r.x,r.y]};return[...l.slice(0,-1),d]})}function RN(t,e){t&&e(!1)}const ON=({lines:t,onDragEnd:e,onTransformEnd:n})=>T.jsx(T.Fragment,{children:t.map(a=>T.jsx(dN,{id:"group-"+a.id,scaleX:a.scaleX,scaleY:a.scaleY,points:a.points,stroke:a.stroke,strokeWidth:a.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:!0,onDragEnd:e,onTransformEnd:n},a.id))}),NN=20;function MN(t){t(!0)}function DN(t,e,n){for(let a=0;a<t.length-2;a+=2){const r=t[a],l=t[a+1],c=t[a+2],d=t[a+3];if(jN(e.x,e.y,r,l,c,d)<n)return!0}return!1}function jN(t,e,n,a,r,l){const c=r-n,d=l-a,g=c*c+d*d;if(g===0)return Math.hypot(t-n,e-a);let m=((t-n)*c+(e-a)*d)/g;m=Math.max(0,Math.min(1,m));const v=n+m*c,_=a+m*d;return Math.hypot(t-v,e-_)}function zN(t,e,n,a){if(e!=="eraser"||!a)return;const r=ag(t.current);r&&n(l=>l.filter(c=>c.shape==="line"?!DN(c.points,r,NN):!0))}function UN(t){t(!1)}function kN(t,e,n,a,r,l,c,d){return t<r&&n<r||t>c&&n>c||e<l&&a<l||e>d&&a>d?!1:!!(t>=r&&t<=c&&e>=l&&e<=d||n>=r&&n<=c&&a>=l&&a<=d||rm(t,e,n,a,r,l,c,l)||rm(t,e,n,a,c,l,c,d)||rm(t,e,n,a,c,d,r,d)||rm(t,e,n,a,r,d,r,l))}function rm(t,e,n,a,r,l,c,d){function g(m,v,_,S,E,A){return(A-v)*(_-m)>(S-v)*(E-m)}return g(t,e,r,l,c,d)!==g(n,a,r,l,c,d)&&g(t,e,n,a,r,l)!==g(t,e,n,a,c,d)}function LN(t,e){const n=e.x,a=e.y,r=e.x+e.width,l=e.y+e.height;for(let c=0;c<t.length-2;c+=2){const d=t[c],g=t[c+1],m=t[c+2],v=t[c+3];if(kN(d,g,m,v,n,a,r,l))return!0}return!1}const PN=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const r=ag(e.current);r&&a({visible:!0,x1:r.x,y1:r.y,x2:r.x,y2:r.y})},BN=(t,e,n,a)=>{if(!e.current)return;const r=ag(t.current);r&&a({...n,x2:r.x,y2:r.y})},HN=(t,e,n,a,r,l,c)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const d={x:Math.min(e.x1,e.x2)+c.x,y:Math.min(e.y1,e.y2)+c.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},g=l.current?.getStage(),m=r.filter(v=>{if(v.shape==="line"){const A=v.points.map((R,O)=>O%2===0?R+c.x:R+c.y);return LN(A,d)}if(!l.current)return;const _=l.current.findOne(`#${v.id}`);if(!_)return;const S=_.getClientRect({relativeTo:g});if(S.x+=c.x,S.y+=c.y,!!S)return Yy.Util.haveIntersection(d,S)});a(m.map(v=>v.id))},GN=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const r=t.target.findAncestor(".shape",!0);if(!r||!r.hasName("shape"))return;const l=r.attrs.shapeId;if(!l)return;const c=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,d=n.includes(l);!c&&!d?a([l]):c&&d?a(n.filter(g=>g!==l)):c&&!d&&a([...n,l])},X1=(t,e)=>{const n=t.target.id(),a=t.target;e(r=>{const l=[...r],c=l.findIndex(d=>"group-"+d.id===n);return c!==-1&&l[c].behavior==="node"&&(l[c]={...l[c],x:a.x(),y:a.y(),scaleX:a.scaleX(),scaleY:a.scaleY()}),l})},qN=({texts:t})=>T.jsx(T.Fragment,{children:t.map(e=>T.jsx(il,{id:e.id,x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY,fontSize:e.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"justify",ellipsis:!0,lineHeight:1.25,text:e.text,draggable:!0}))}),VN="1234567890",YN=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:r,zoom:l,connectors:c=[],setConnectors:d,addConnector:g,strokeColor:m="#000",onShapeClick:v,onAddTodo:_,stageCoor:S,setStageCoor:E})=>{const A=N.useRef(null),R=N.useRef(null),O=N.useRef(null),j=N.useRef(null),D=N.useRef(null),[z,P]=N.useState(!1),[H,L]=N.useState([]),[Y,ie]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),ue=N.useRef(!1),me=N.useRef(null),Te=N.useRef(null);N.useEffect(()=>{if(!A.current)return;t.forEach(X=>{if(X.behavior!=="node")return;const W=A.current?.findOne(`#group-${X.id}`),B=A.current?.findOne(`#${X.id}`),ne=t.find(_e=>_e.id===B.id());!W||!B||!ne||(W.off("drop"),W.off("dragenter"),W.off("dragleave"),W.on("dragenter",_e=>{const be=_e.source;if(!be||W===be||B.fill()==="green"||ne.shape==="todo"||X.shape!=="todo"&&X.children.includes(be.id())||X.parents.includes(be.id()))return;const ze=t.find(it=>"group-"+it.id===be.id());ze?.behavior!=="node"||ze?.parents!==""||B.fill("#b9f8cf")}),W.on("dragmove",_e=>{const be=_e.source;!be||W===be||B.fill()==="#b9f8cf"||B.fill("#b9f8cf")}),W.on("dragleave",_e=>{const be=_e.source;W!==be&&B.fill("white")}),W.on("drop",_e=>{const be=_e.source;if(X.behavior!=="node"||X.shape!=="todo"&&X.children.includes(be.id())||!be||X.parents.includes(be.id()))return;const ze=t.find(jt=>"group-"+jt.id===be.id());if(ze?.behavior!=="node"||ze?.parents!==""||ne.shape==="todo")return;B.fill("white");const it=W.x()-be.x(),Ve=W.y()-be.y(),st=Math.sqrt(it*it+Ve*Ve),wt=it/st,Nn=Ve/st;e(jt=>jt.map(Yt=>Yt.behavior==="node"&&"group-"+Yt.id===_e.source.id()?{...Yt,parents:W.id(),x:Yt.x+-100*wt,y:Yt.y+-100*Nn}:Yt.behavior==="node"&&Yt.shape!="todo"&&"group-"+Yt.id===W.id()?{...Yt,children:[...Yt.children,_e.source.id()]}:Yt)),g(_e.source,W)}))});function F(X){switch(X.key){case"1":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break}}return window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)}}),N.useEffect(()=>{if(H.length&&me.current){const F=H.map(X=>D.current?.findOne(`#group-${X}`)).filter(Boolean);me.current.nodes(F),requestAnimationFrame(()=>{const X=Te.current;if(!X||!D.current||!me.current)return;const W=me.current.width()/D.current.scaleX(),B=me.current.height()/D.current.scaleY(),ne=(me.current.x()-S.x)/D.current.scaleX(),_e=(me.current.y()-S.y)/D.current.scaleY();X.show(),X.x(ne),X.y(_e),X.width(W),X.height(B),X.scaleX(1),X.scaleY(1);const be=me.current.nodes();me.current.nodes([...be,X])})}else me.current&&(me.current.nodes([]),Te.current?.hide());n!=="select"&&(me.current?.nodes([]),Te.current?.hide())},[H,n,S]),N.useEffect(()=>{n!=="select"&&L([])},[n]);const ve=F=>{if(F.behavior!=="node")return;const X=t.find(B=>"group-"+B.id===F.parents),W=A.current?.findOne(`#${F.parents}`);return!W||!X?!1:W.getChildren()[0].visible()},pe=(F,X)=>{F.behavior!=="node"||F.shape==="todo"||F.children.length!==0&&F.children.forEach(W=>{const B=t.find(ze=>"group-"+ze.id===W);if(!B)return;const ne=A.current?.findOne(`#${W}`);if(!ne)return;ne.visible(X);const _e=c.find(ze=>{if(ze.from===W)return ze});if(!_e)return;const be=j.current?.findOne(`#${_e.id}`);be&&(be.visible(X),ve(B)&&pe(B,X))})},ye=F=>{const X=t.find(W=>W.id===F);X?.behavior!=="node"||X?.shape==="todo"||X?.children.forEach(W=>{const B=t.find(ne=>"group-"+ne.id===W);!B||B.behavior!=="node"||(B.parents="")})},Se=F=>{n==="eraser"&&(c.forEach(X=>{(X.to==="group-"+F||X.from==="group-"+F)&&d(W=>W.filter(B=>B.id!==X.id))}),ye(F),e(X=>X.filter(W=>W.id!==F)))},G=F=>{let X;return F==="#ff2056"?X="#f6339a":F==="#2b7fff"?X="#00a6f4":F==="#00bc7d"?X="#00c951":F==="#ad46ff"?X="#8e51ff":F==="#ff6900"&&(X="#fd9a00"),X};return T.jsx(T.Fragment,{children:T.jsxs(mN,{width:window.innerWidth,height:window.innerHeight,x:S.x,y:S.y,ref:D,draggable:n==="hand",onWheel:F=>{xN(D,F,r),D.current&&E({x:D.current.x(),y:D.current.y()})},onPointerDown:F=>{n==="draw"&&TN(D.current,n,m,e,P),n==="eraser"&&MN(P),n==="select"&&PN(F,D,ue,ie)},onPointerMove:()=>{n==="draw"&&AN(D.current,n,e,z),n==="eraser"&&zN(D,n,e,z),n==="select"&&BN(D,ue,Y,ie)},onPointerUp:()=>{n==="draw"&&RN(z,P),n==="eraser"&&UN(P),n==="select"&&HN(ue,Y,ie,L,t,A,S)},onClick:F=>{n==="select"&&GN(F,Y,H,L)},scaleX:l/100,scaleY:l/100,style:{cursor:wN(n)},onDragEnd:()=>{D.current&&E({x:D.current.x(),y:D.current.y()})},children:[T.jsx(im,{ref:j,children:T.jsx(bN,{connectors:c,mainLayer:A})}),T.jsxs(im,{ref:A,children:[T.jsx(eo,{id:VN,ref:Te,fill:"transparent",draggable:!0,temporary:!0}),T.jsx(ON,{lines:t.filter(F=>F.shape==="line"),onDragEnd:F=>{Z1(F,A,n,R,e)},onTransformEnd:F=>{X1(F,e)}}),T.jsx(qN,{texts:t.filter(F=>F.shape==="text")}),T.jsx(SN,{shapes:t.filter(F=>F.shape==="rect"),setShapes:e,onDragStart:F=>z4(F,n,O),onDragMove:F=>{U4(F,A,R,n),j4(c,A,O,j)},onDragEnd:F=>{Z1(F,A,n,R,e)},onTransformEnd:F=>{X1(F,e)},tool:n,collapseChild:pe,handleEraserClick:Se,onShapeClick:v,getBorder:G,onAddTodo:_}),T.jsx(CN,{todos:t.filter(F=>F.shape==="todo"),setShapes:e,tool:n,onDragStart:F=>z4(F,n,O),onDragMove:F=>{U4(F,A,R,n),j4(c,A,O,j)},onDragEnd:F=>{Z1(F,A,n,R,e)},onTransformEnd:F=>{X1(F,e)},handleEraserClick:Se,getBorder:G})]}),T.jsx(im,{ref:O}),T.jsxs(im,{children:[T.jsx(pN,{ref:me,boundBoxFunc:(F,X)=>X.width<5||X.height<5?F:X}),Y.visible&&T.jsx(eo,{x:Math.min(Y.x1,Y.x2),y:Math.min(Y.y1,Y.y2),width:Math.abs(Y.x2-Y.x1),height:Math.abs(Y.y2-Y.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function ZN({title:t,onClick:e}){return T.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[T.jsx("span",{children:T.jsx(cT,{})}),T.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function XN({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",r=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return T.jsx("button",{type:"button",className:`${a} ${r}`,onClick:e,children:t})}var ig=t=>t.type==="checkbox",Nc=t=>t instanceof Date,Li=t=>t==null;const US=t=>typeof t=="object";var oa=t=>!Li(t)&&!Array.isArray(t)&&US(t)&&!Nc(t),IN=t=>oa(t)&&t.target?ig(t.target)?t.target.checked:t.target.value:t,KN=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,FN=(t,e)=>t.has(KN(e)),QN=t=>{const e=t.constructor&&t.constructor.prototype;return oa(e)&&e.hasOwnProperty("isPrototypeOf")},A2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Da(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(A2&&(t instanceof Blob||a))&&(n||oa(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!QN(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Da(t[r]));else return t;return e}var cv=t=>/^\w*$/.test(t),$n=t=>t===void 0,R2=t=>Array.isArray(t)?t.filter(Boolean):[],O2=t=>R2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{if(!e||!oa(t))return n;const a=(cv(e)?[e]:O2(e)).reduce((r,l)=>Li(r)?r:r[l],t);return $n(a)||a===t?$n(t[e])?n:t[e]:a},al=t=>typeof t=="boolean",xn=(t,e,n)=>{let a=-1;const r=cv(e)?[e]:O2(e),l=r.length,c=l-1;for(;++a<l;){const d=r[a];let g=n;if(a!==c){const m=t[d];g=oa(m)||Array.isArray(m)?m:isNaN(+r[a+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=g,t=t[d]}};const k4={BLUR:"blur",FOCUS_OUT:"focusout"},ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$N=at.createContext(null);$N.displayName="HookFormContext";var JN=(t,e,n,a=!0)=>{const r={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(r,l,{get:()=>{const c=l;return e._proxyFormState[c]!==ds.all&&(e._proxyFormState[c]=!a||ds.all),t[c]}});return r};const WN=typeof window<"u"?at.useLayoutEffect:at.useEffect;var ar=t=>typeof t=="string",eM=(t,e,n,a,r)=>ar(t)?(a&&e.watch.add(t),Je(n,t,r)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),Je(n,l))):(a&&(e.watchAll=!0),n),Zy=t=>Li(t)||!US(t);function du(t,e,n=new WeakSet){if(Zy(t)||Zy(e))return t===e;if(Nc(t)&&Nc(e))return t.getTime()===e.getTime();const a=Object.keys(t),r=Object.keys(e);if(a.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const c=t[l];if(!r.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Nc(c)&&Nc(d)||oa(c)&&oa(d)||Array.isArray(c)&&Array.isArray(d)?!du(c,d,n):c!==d)return!1}}return!0}var N2=(t,e,n,a,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:r||!0}}:{},k0=t=>Array.isArray(t)?t:[t],L4=()=>{let t=[];return{get observers(){return t},next:r=>{for(const l of t)l.next&&l.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(l=>l!==r)}}),unsubscribe:()=>{t=[]}}};function kS(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const r=t[a],l=e[a];if(r&&oa(r)&&l){const c=kS(r,l);oa(c)&&(n[a]=c)}else t[a]&&(n[a]=l)}return n}var ki=t=>oa(t)&&!Object.keys(t).length,M2=t=>t.type==="file",hs=t=>typeof t=="function",Bm=t=>{if(!A2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},LS=t=>t.type==="select-multiple",D2=t=>t.type==="radio",tM=t=>D2(t)||ig(t),I1=t=>Bm(t)&&t.isConnected;function nM(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=$n(t)?a++:t[e[a++]];return t}function aM(t){for(const e in t)if(t.hasOwnProperty(e)&&!$n(t[e]))return!1;return!0}function ia(t,e){const n=Array.isArray(e)?e:cv(e)?[e]:O2(e),a=n.length===1?t:nM(t,n),r=n.length-1,l=n[r];return a&&delete a[l],r!==0&&(oa(a)&&ki(a)||Array.isArray(a)&&aM(a))&&ia(t,n.slice(0,-1)),t}var iM=t=>{for(const e in t)if(hs(t[e]))return!0;return!1};function PS(t){return Array.isArray(t)||oa(t)&&!iM(t)}function Xy(t,e={}){for(const n in t)PS(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Xy(t[n],e[n])):$n(t[n])||(e[n]=!0);return e}function Cd(t,e,n){n||(n=Xy(e));for(const a in t)PS(t[a])?$n(e)||Zy(n[a])?n[a]=Xy(t[a],Array.isArray(t[a])?[]:{}):Cd(t[a],Li(e)?{}:e[a],n[a]):n[a]=!du(t[a],e[a]);return n}const P4={value:!1,isValid:!1},B4={value:!0,isValid:!0};var BS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$n(t[0].attributes.value)?$n(t[0].value)||t[0].value===""?B4:{value:t[0].value,isValid:!0}:B4:P4}return P4},HS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>$n(t)?t:e?t===""?NaN:t&&+t:n&&ar(t)?new Date(t):a?a(t):t;const H4={isValid:!1,value:null};var GS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,H4):H4;function G4(t){const e=t.ref;return M2(e)?e.files:D2(e)?GS(t.refs).value:LS(e)?[...e.selectedOptions].map(({value:n})=>n):ig(e)?BS(t.refs).value:HS($n(e.value)?t.ref.value:e.value,t)}var rM=(t,e,n,a)=>{const r={};for(const l of t){const c=Je(e,l);c&&xn(r,l,c._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:a}},Hm=t=>t instanceof RegExp,_0=t=>$n(t)?t:Hm(t)?t.source:oa(t)?Hm(t.value)?t.value.source:t.value:t,q4=t=>({isOnSubmit:!t||t===ds.onSubmit,isOnBlur:t===ds.onBlur,isOnChange:t===ds.onChange,isOnAll:t===ds.all,isOnTouch:t===ds.onTouched});const V4="AsyncFunction";var sM=t=>!!t&&!!t.validate&&!!(hs(t.validate)&&t.validate.constructor.name===V4||oa(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===V4)),lM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Y4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const L0=(t,e,n,a)=>{for(const r of n||Object.keys(t)){const l=Je(t,r);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],r)&&!a)return!0;if(c.ref&&e(c.ref,c.name)&&!a)return!0;if(L0(d,e))break}else if(oa(d)&&L0(d,e))break}}};function Z4(t,e,n){const a=Je(t,n);if(a||cv(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const l=r.join("."),c=Je(e,l),d=Je(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};r.pop()}return{name:n}}var oM=(t,e,n,a)=>{n(t);const{name:r,...l}=t;return ki(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!a||ds.all))},uM=(t,e,n)=>!t||!e||t===e||k0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),cM=(t,e,n,a,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?a.isOnBlur:r.isOnBlur)?!t:(n?a.isOnChange:r.isOnChange)?t:!0,fM=(t,e)=>!R2(Je(t,e)).length&&ia(t,e),dM=(t,e,n)=>{const a=k0(Je(t,n));return xn(a,"root",e[n]),xn(t,n,a),t};function X4(t,e,n="validate"){if(ar(t)||Array.isArray(t)&&t.every(ar)||al(t)&&!t)return{type:n,message:ar(t)?t:"",ref:e}}var vd=t=>oa(t)&&!Hm(t)?t:{value:t,message:""},I4=async(t,e,n,a,r,l)=>{const{ref:c,refs:d,required:g,maxLength:m,minLength:v,min:_,max:S,pattern:E,validate:A,name:R,valueAsNumber:O,mount:j}=t._f,D=Je(n,R);if(!j||e.has(R))return{};const z=d?d[0]:c,P=ve=>{r&&z.reportValidity&&(z.setCustomValidity(al(ve)?"":ve||""),z.reportValidity())},H={},L=D2(c),Y=ig(c),ie=L||Y,ue=(O||M2(c))&&$n(c.value)&&$n(D)||Bm(c)&&c.value===""||D===""||Array.isArray(D)&&!D.length,me=N2.bind(null,R,a,H),Te=(ve,pe,ye,Se=Fl.maxLength,G=Fl.minLength)=>{const F=ve?pe:ye;H[R]={type:ve?Se:G,message:F,ref:c,...me(ve?Se:G,F)}};if(l?!Array.isArray(D)||!D.length:g&&(!ie&&(ue||Li(D))||al(D)&&!D||Y&&!BS(d).isValid||L&&!GS(d).isValid)){const{value:ve,message:pe}=ar(g)?{value:!!g,message:g}:vd(g);if(ve&&(H[R]={type:Fl.required,message:pe,ref:z,...me(Fl.required,pe)},!a))return P(pe),H}if(!ue&&(!Li(_)||!Li(S))){let ve,pe;const ye=vd(S),Se=vd(_);if(!Li(D)&&!isNaN(D)){const G=c.valueAsNumber||D&&+D;Li(ye.value)||(ve=G>ye.value),Li(Se.value)||(pe=G<Se.value)}else{const G=c.valueAsDate||new Date(D),F=B=>new Date(new Date().toDateString()+" "+B),X=c.type=="time",W=c.type=="week";ar(ye.value)&&D&&(ve=X?F(D)>F(ye.value):W?D>ye.value:G>new Date(ye.value)),ar(Se.value)&&D&&(pe=X?F(D)<F(Se.value):W?D<Se.value:G<new Date(Se.value))}if((ve||pe)&&(Te(!!ve,ye.message,Se.message,Fl.max,Fl.min),!a))return P(H[R].message),H}if((m||v)&&!ue&&(ar(D)||l&&Array.isArray(D))){const ve=vd(m),pe=vd(v),ye=!Li(ve.value)&&D.length>+ve.value,Se=!Li(pe.value)&&D.length<+pe.value;if((ye||Se)&&(Te(ye,ve.message,pe.message),!a))return P(H[R].message),H}if(E&&!ue&&ar(D)){const{value:ve,message:pe}=vd(E);if(Hm(ve)&&!D.match(ve)&&(H[R]={type:Fl.pattern,message:pe,ref:c,...me(Fl.pattern,pe)},!a))return P(pe),H}if(A){if(hs(A)){const ve=await A(D,n),pe=X4(ve,z);if(pe&&(H[R]={...pe,...me(Fl.validate,pe.message)},!a))return P(pe.message),H}else if(oa(A)){let ve={};for(const pe in A){if(!ki(ve)&&!a)break;const ye=X4(await A[pe](D,n),z,pe);ye&&(ve={...ye,...me(pe,ye.message)},P(ye.message),a&&(H[R]=ve))}if(!ki(ve)&&(H[R]={ref:z,...ve},!a))return H}}return P(!0),H};const hM={mode:ds.onSubmit,reValidateMode:ds.onChange,shouldFocusError:!0};function gM(t={}){let e={...hM,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:hs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},r=oa(e.defaultValues)||oa(e.values)?Da(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Da(r),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const S={array:L4(),state:L4()},E=e.criteriaMode===ds.all,A=Z=>re=>{clearTimeout(m),m=setTimeout(Z,re)},R=async Z=>{if(!e.disabled&&(v.isValid||_.isValid||Z)){const re=e.resolver?ki((await Y()).errors):await ue(a,!0);re!==n.isValid&&S.state.next({isValid:re})}},O=(Z,re)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((Z||Array.from(d.mount)).forEach(de=>{de&&(re?xn(n.validatingFields,de,re):ia(n.validatingFields,de))}),S.state.next({validatingFields:n.validatingFields,isValidating:!ki(n.validatingFields)}))},j=(Z,re=[],de,Pe,ke=!0,Me=!0)=>{if(Pe&&de&&!e.disabled){if(c.action=!0,Me&&Array.isArray(Je(a,Z))){const qe=de(Je(a,Z),Pe.argA,Pe.argB);ke&&xn(a,Z,qe)}if(Me&&Array.isArray(Je(n.errors,Z))){const qe=de(Je(n.errors,Z),Pe.argA,Pe.argB);ke&&xn(n.errors,Z,qe),fM(n.errors,Z)}if((v.touchedFields||_.touchedFields)&&Me&&Array.isArray(Je(n.touchedFields,Z))){const qe=de(Je(n.touchedFields,Z),Pe.argA,Pe.argB);ke&&xn(n.touchedFields,Z,qe)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Cd(r,l)),S.state.next({name:Z,isDirty:Te(Z,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xn(l,Z,re)},D=(Z,re)=>{xn(n.errors,Z,re),S.state.next({errors:n.errors})},z=Z=>{n.errors=Z,S.state.next({errors:n.errors,isValid:!1})},P=(Z,re,de,Pe)=>{const ke=Je(a,Z);if(ke){const Me=Je(l,Z,$n(de)?Je(r,Z):de);$n(Me)||Pe&&Pe.defaultChecked||re?xn(l,Z,re?Me:G4(ke._f)):ye(Z,Me),c.mount&&R()}},H=(Z,re,de,Pe,ke)=>{let Me=!1,qe=!1;const Fe={name:Z};if(!e.disabled){if(!de||Pe){(v.isDirty||_.isDirty)&&(qe=n.isDirty,n.isDirty=Fe.isDirty=Te(),Me=qe!==Fe.isDirty);const bt=du(Je(r,Z),re);qe=!!Je(n.dirtyFields,Z),bt?ia(n.dirtyFields,Z):xn(n.dirtyFields,Z,!0),Fe.dirtyFields=n.dirtyFields,Me=Me||(v.dirtyFields||_.dirtyFields)&&qe!==!bt}if(de){const bt=Je(n.touchedFields,Z);bt||(xn(n.touchedFields,Z,de),Fe.touchedFields=n.touchedFields,Me=Me||(v.touchedFields||_.touchedFields)&&bt!==de)}Me&&ke&&S.state.next(Fe)}return Me?Fe:{}},L=(Z,re,de,Pe)=>{const ke=Je(n.errors,Z),Me=(v.isValid||_.isValid)&&al(re)&&n.isValid!==re;if(e.delayError&&de?(g=A(()=>D(Z,de)),g(e.delayError)):(clearTimeout(m),g=null,de?xn(n.errors,Z,de):ia(n.errors,Z)),(de?!du(ke,de):ke)||!ki(Pe)||Me){const qe={...Pe,...Me&&al(re)?{isValid:re}:{},errors:n.errors,name:Z};n={...n,...qe},S.state.next(qe)}},Y=async Z=>{O(Z,!0);const re=await e.resolver(l,e.context,rM(Z||d.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(Z),re},ie=async Z=>{const{errors:re}=await Y(Z);if(Z)for(const de of Z){const Pe=Je(re,de);Pe?xn(n.errors,de,Pe):ia(n.errors,de)}else n.errors=re;return re},ue=async(Z,re,de={valid:!0})=>{for(const Pe in Z){const ke=Z[Pe];if(ke){const{_f:Me,...qe}=ke;if(Me){const Fe=d.array.has(Me.name),bt=ke._f&&sM(ke._f);bt&&v.validatingFields&&O([Me.name],!0);const an=await I4(ke,d.disabled,l,E,e.shouldUseNativeValidation&&!re,Fe);if(bt&&v.validatingFields&&O([Me.name]),an[Me.name]&&(de.valid=!1,re))break;!re&&(Je(an,Me.name)?Fe?dM(n.errors,an,Me.name):xn(n.errors,Me.name,an[Me.name]):ia(n.errors,Me.name))}!ki(qe)&&await ue(qe,re,de)}}return de.valid},me=()=>{for(const Z of d.unMount){const re=Je(a,Z);re&&(re._f.refs?re._f.refs.every(de=>!I1(de)):!I1(re._f.ref))&&st(Z)}d.unMount=new Set},Te=(Z,re)=>!e.disabled&&(Z&&re&&xn(l,Z,re),!du(B(),r)),ve=(Z,re,de)=>eM(Z,d,{...c.mount?l:$n(re)?r:ar(Z)?{[Z]:re}:re},de,re),pe=Z=>R2(Je(c.mount?l:r,Z,e.shouldUnregister?Je(r,Z,[]):[])),ye=(Z,re,de={})=>{const Pe=Je(a,Z);let ke=re;if(Pe){const Me=Pe._f;Me&&(!Me.disabled&&xn(l,Z,HS(re,Me)),ke=Bm(Me.ref)&&Li(re)?"":re,LS(Me.ref)?[...Me.ref.options].forEach(qe=>qe.selected=ke.includes(qe.value)):Me.refs?ig(Me.ref)?Me.refs.forEach(qe=>{(!qe.defaultChecked||!qe.disabled)&&(Array.isArray(ke)?qe.checked=!!ke.find(Fe=>Fe===qe.value):qe.checked=ke===qe.value||!!ke)}):Me.refs.forEach(qe=>qe.checked=qe.value===ke):M2(Me.ref)?Me.ref.value="":(Me.ref.value=ke,Me.ref.type||S.state.next({name:Z,values:Da(l)})))}(de.shouldDirty||de.shouldTouch)&&H(Z,ke,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&W(Z)},Se=(Z,re,de)=>{for(const Pe in re){if(!re.hasOwnProperty(Pe))return;const ke=re[Pe],Me=Z+"."+Pe,qe=Je(a,Me);(d.array.has(Z)||oa(ke)||qe&&!qe._f)&&!Nc(ke)?Se(Me,ke,de):ye(Me,ke,de)}},G=(Z,re,de={})=>{const Pe=Je(a,Z),ke=d.array.has(Z),Me=Da(re);xn(l,Z,Me),ke?(S.array.next({name:Z,values:Da(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&de.shouldDirty&&S.state.next({name:Z,dirtyFields:Cd(r,l),isDirty:Te(Z,Me)})):Pe&&!Pe._f&&!Li(Me)?Se(Z,Me,de):ye(Z,Me,de),Y4(Z,d)&&S.state.next({...n,name:Z}),S.state.next({name:c.mount?Z:void 0,values:Da(l)})},F=async Z=>{c.mount=!0;const re=Z.target;let de=re.name,Pe=!0;const ke=Je(a,de),Me=bt=>{Pe=Number.isNaN(bt)||Nc(bt)&&isNaN(bt.getTime())||du(bt,Je(l,de,bt))},qe=q4(e.mode),Fe=q4(e.reValidateMode);if(ke){let bt,an;const Bi=re.type?G4(ke._f):IN(Z),oi=Z.type===k4.BLUR||Z.type===k4.FOCUS_OUT,Za=!lM(ke._f)&&!e.resolver&&!Je(n.errors,de)&&!ke._f.deps||cM(oi,Je(n.touchedFields,de),n.isSubmitted,Fe,qe),xi=Y4(de,d,oi);xn(l,de,Bi),oi?(!re||!re.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(Z),g&&g(0)):ke._f.onChange&&ke._f.onChange(Z);const Hi=H(de,Bi,oi),Xa=!ki(Hi)||xi;if(!oi&&S.state.next({name:de,type:Z.type,values:Da(l)}),Za)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?oi&&R():oi||R()),Xa&&S.state.next({name:de,...xi?{}:Hi});if(!oi&&xi&&S.state.next({...n}),e.resolver){const{errors:kr}=await Y([de]);if(Me(Bi),Pe){const Gi=Z4(n.errors,a,de),Lr=Z4(kr,a,Gi.name||de);bt=Lr.error,de=Lr.name,an=ki(kr)}}else O([de],!0),bt=(await I4(ke,d.disabled,l,E,e.shouldUseNativeValidation))[de],O([de]),Me(Bi),Pe&&(bt?an=!1:(v.isValid||_.isValid)&&(an=await ue(a,!0)));Pe&&(ke._f.deps&&(!Array.isArray(ke._f.deps)||ke._f.deps.length>0)&&W(ke._f.deps),L(de,an,bt,Hi))}},X=(Z,re)=>{if(Je(n.errors,re)&&Z.focus)return Z.focus(),1},W=async(Z,re={})=>{let de,Pe;const ke=k0(Z);if(e.resolver){const Me=await ie($n(Z)?Z:ke);de=ki(Me),Pe=Z?!ke.some(qe=>Je(Me,qe)):de}else Z?(Pe=(await Promise.all(ke.map(async Me=>{const qe=Je(a,Me);return await ue(qe&&qe._f?{[Me]:qe}:qe)}))).every(Boolean),!(!Pe&&!n.isValid)&&R()):Pe=de=await ue(a);return S.state.next({...!ar(Z)||(v.isValid||_.isValid)&&de!==n.isValid?{}:{name:Z},...e.resolver||!Z?{isValid:de}:{},errors:n.errors}),re.shouldFocus&&!Pe&&L0(a,X,Z?ke:d.mount),Pe},B=(Z,re)=>{let de={...c.mount?l:r};return re&&(de=kS(re.dirtyFields?n.dirtyFields:n.touchedFields,de)),$n(Z)?de:ar(Z)?Je(de,Z):Z.map(Pe=>Je(de,Pe))},ne=(Z,re)=>({invalid:!!Je((re||n).errors,Z),isDirty:!!Je((re||n).dirtyFields,Z),error:Je((re||n).errors,Z),isValidating:!!Je(n.validatingFields,Z),isTouched:!!Je((re||n).touchedFields,Z)}),_e=Z=>{Z&&k0(Z).forEach(re=>ia(n.errors,re)),S.state.next({errors:Z?n.errors:{}})},be=(Z,re,de)=>{const Pe=(Je(a,Z,{_f:{}})._f||{}).ref,ke=Je(n.errors,Z)||{},{ref:Me,message:qe,type:Fe,...bt}=ke;xn(n.errors,Z,{...bt,...re,ref:Pe}),S.state.next({name:Z,errors:n.errors,isValid:!1}),de&&de.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},ze=(Z,re)=>hs(Z)?S.state.subscribe({next:de=>"values"in de&&Z(ve(void 0,re),de)}):ve(Z,re,!0),it=Z=>S.state.subscribe({next:re=>{uM(Z.name,re.name,Z.exact)&&oM(re,Z.formState||v,fn,Z.reRenderRoot)&&Z.callback({values:{...l},...n,...re,defaultValues:r})}}).unsubscribe,Ve=Z=>(c.mount=!0,_={..._,...Z.formState},it({...Z,formState:_})),st=(Z,re={})=>{for(const de of Z?k0(Z):d.mount)d.mount.delete(de),d.array.delete(de),re.keepValue||(ia(a,de),ia(l,de)),!re.keepError&&ia(n.errors,de),!re.keepDirty&&ia(n.dirtyFields,de),!re.keepTouched&&ia(n.touchedFields,de),!re.keepIsValidating&&ia(n.validatingFields,de),!e.shouldUnregister&&!re.keepDefaultValue&&ia(r,de);S.state.next({values:Da(l)}),S.state.next({...n,...re.keepDirty?{isDirty:Te()}:{}}),!re.keepIsValid&&R()},wt=({disabled:Z,name:re})=>{(al(Z)&&c.mount||Z||d.disabled.has(re))&&(Z?d.disabled.add(re):d.disabled.delete(re))},Nn=(Z,re={})=>{let de=Je(a,Z);const Pe=al(re.disabled)||al(e.disabled);return xn(a,Z,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:Z}},name:Z,mount:!0,...re}}),d.mount.add(Z),de?wt({disabled:al(re.disabled)?re.disabled:e.disabled,name:Z}):P(Z,!0,re.value),{...Pe?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:_0(re.min),max:_0(re.max),minLength:_0(re.minLength),maxLength:_0(re.maxLength),pattern:_0(re.pattern)}:{},name:Z,onChange:F,onBlur:F,ref:ke=>{if(ke){Nn(Z,re),de=Je(a,Z);const Me=$n(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,qe=tM(Me),Fe=de._f.refs||[];if(qe?Fe.find(bt=>bt===Me):Me===de._f.ref)return;xn(a,Z,{_f:{...de._f,...qe?{refs:[...Fe.filter(I1),Me,...Array.isArray(Je(r,Z))?[{}]:[]],ref:{type:Me.type,name:Z}}:{ref:Me}}}),P(Z,!1,void 0,Me)}else de=Je(a,Z,{}),de._f&&(de._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(FN(d.array,Z)&&c.action)&&d.unMount.add(Z)}}},jt=()=>e.shouldFocusError&&L0(a,X,d.mount),Yt=Z=>{al(Z)&&(S.state.next({disabled:Z}),L0(a,(re,de)=>{const Pe=Je(a,de);Pe&&(re.disabled=Pe._f.disabled||Z,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(ke=>{ke.disabled=Pe._f.disabled||Z}))},0,!1))},Ya=(Z,re)=>async de=>{let Pe;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let ke=Da(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:Me,values:qe}=await Y();n.errors=Me,ke=Da(qe)}else await ue(a);if(d.disabled.size)for(const Me of d.disabled)ia(ke,Me);if(ia(n.errors,"root"),ki(n.errors)){S.state.next({errors:{}});try{await Z(ke,de)}catch(Me){Pe=Me}}else re&&await re({...n.errors},de),jt(),setTimeout(jt);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ki(n.errors)&&!Pe,submitCount:n.submitCount+1,errors:n.errors}),Pe)throw Pe},Wn=(Z,re={})=>{Je(a,Z)&&($n(re.defaultValue)?G(Z,Da(Je(r,Z))):(G(Z,re.defaultValue),xn(r,Z,Da(re.defaultValue))),re.keepTouched||ia(n.touchedFields,Z),re.keepDirty||(ia(n.dirtyFields,Z),n.isDirty=re.defaultValue?Te(Z,Da(Je(r,Z))):Te()),re.keepError||(ia(n.errors,Z),v.isValid&&R()),S.state.next({...n}))},ba=(Z,re={})=>{const de=Z?Da(Z):r,Pe=Da(de),ke=ki(Z),Me=ke?r:Pe;if(re.keepDefaultValues||(r=de),!re.keepValues){if(re.keepDirtyValues){const qe=new Set([...d.mount,...Object.keys(Cd(r,l))]);for(const Fe of Array.from(qe))Je(n.dirtyFields,Fe)?xn(Me,Fe,Je(l,Fe)):G(Fe,Je(Me,Fe))}else{if(A2&&$n(Z))for(const qe of d.mount){const Fe=Je(a,qe);if(Fe&&Fe._f){const bt=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Bm(bt)){const an=bt.closest("form");if(an){an.reset();break}}}}if(re.keepFieldsRef)for(const qe of d.mount)G(qe,Je(Me,qe));else a={}}l=e.shouldUnregister?re.keepDefaultValues?Da(r):{}:Da(Me),S.array.next({values:{...Me}}),S.state.next({values:{...Me}})}d={mount:re.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!re.keepIsValid||!!re.keepDirtyValues,c.watch=!!e.shouldUnregister,S.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:ke?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!du(Z,r)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ke?{}:re.keepDirtyValues?re.keepDefaultValues&&l?Cd(r,l):n.dirtyFields:re.keepDefaultValues&&Z?Cd(r,Z):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},He=(Z,re)=>ba(hs(Z)?Z(l):Z,re),nt=(Z,re={})=>{const de=Je(a,Z),Pe=de&&de._f;if(Pe){const ke=Pe.refs?Pe.refs[0]:Pe.ref;ke.focus&&(ke.focus(),re.shouldSelect&&hs(ke.select)&&ke.select())}},fn=Z=>{n={...n,...Z}},li={control:{register:Nn,unregister:st,getFieldState:ne,handleSubmit:Ya,setError:be,_subscribe:it,_runSchema:Y,_focusError:jt,_getWatch:ve,_getDirty:Te,_setValid:R,_setFieldArray:j,_setDisabledField:wt,_setErrors:z,_getFieldArray:pe,_reset:ba,_resetDefaultValues:()=>hs(e.defaultValues)&&e.defaultValues().then(Z=>{He(Z,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:me,_disableForm:Yt,_subjects:S,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return c},set _state(Z){c=Z},get _defaultValues(){return r},get _names(){return d},set _names(Z){d=Z},get _formState(){return n},get _options(){return e},set _options(Z){e={...e,...Z}}},subscribe:Ve,trigger:W,register:Nn,handleSubmit:Ya,watch:ze,setValue:G,getValues:B,reset:He,resetField:Wn,clearErrors:_e,unregister:st,setError:be,setFocus:nt,getFieldState:ne};return{...li,formControl:li}}function qS(t={}){const e=at.useRef(void 0),n=at.useRef(void 0),[a,r]=at.useState({isDirty:!1,isValidating:!1,isLoading:hs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:hs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!hs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=gM(t);e.current={...d,formState:a}}const l=e.current.control;return l._options=t,WN(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>r({...l._formState}),reRenderRoot:!0});return r(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),at.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),at.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),at.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),at.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),at.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==a.isDirty&&l._subjects.state.next({isDirty:c})}},[l,a.isDirty]),at.useEffect(()=>{t.values&&!du(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,r(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),at.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=JN(a,l),e.current}const K4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=Je(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Iy=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?K4(a.ref,n,t):a&&a.refs&&a.refs.forEach(r=>K4(r,n,t))}},F4=(t,e)=>{e.shouldUseNativeValidation&&Iy(t,e);const n={};for(const a in t){const r=Je(e.fields,a),l=Object.assign(t[a]||{},{ref:r&&r.ref});if(pM(e.names||Object.keys(t),a)){const c=Object.assign({},Je(n,a));xn(c,"root",l),xn(n,a,c)}else xn(n,a,l)}return n},pM=(t,e)=>{const n=Q4(e);return t.some(a=>Q4(a).match(`^${n}\\.\\d+`))};function Q4(t){return t.replace(/\]|\[/g,"")}function Re(t,e,n){function a(d,g){var m;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(m=d._zod).traits??(m.traits=new Set),d._zod.traits.add(t),e(d,g);for(const v in c.prototype)v in d||Object.defineProperty(d,v,{value:c.prototype[v].bind(d)});d._zod.constr=c,d._zod.def=g}const r=n?.Parent??Object;class l extends r{}Object.defineProperty(l,"name",{value:t});function c(d){var g;const m=n?.Parent?new l:this;a(m,d),(g=m._zod).deferred??(g.deferred=[]);for(const v of m._zod.deferred)v();return m}return Object.defineProperty(c,"init",{value:a}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Nd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class VS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const YS={};function Mc(t){return YS}function mM(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,r])=>e.indexOf(+a)===-1).map(([a,r])=>r)}function Ky(t,e){return typeof e=="bigint"?e.toString():e}function j2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function z2(t){return t==null}function U2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const $4=Symbol("evaluating");function On(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==$4)return a===void 0&&(a=$4,a=n()),a},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function Vc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Yc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function J4(t){return JSON.stringify(t)}const ZS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Gm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const vM=j2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Y0(t){if(Gm(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Gm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function XS(t){return Y0(t)?{...t}:Array.isArray(t)?[...t]:t}const yM=new Set(["string","number","symbol"]);function fv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wu(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function vt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function bM(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function _M(t,e){const n=t._zod.def,a=Yc(t._zod.def,{get shape(){const r={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(r[l]=n.shape[l])}return Vc(this,"shape",r),r},checks:[]});return wu(t,a)}function SM(t,e){const n=t._zod.def,a=Yc(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete r[l]}return Vc(this,"shape",r),r},checks:[]});return wu(t,a)}function xM(t,e){if(!Y0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Yc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Vc(this,"shape",l),l},checks:[]});return wu(t,r)}function wM(t,e){if(!Y0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Vc(this,"shape",a),a},checks:t._zod.def.checks};return wu(t,n)}function EM(t,e){const n=Yc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Vc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return wu(t,n)}function CM(t,e,n){const a=Yc(e._zod.def,{get shape(){const r=e._zod.def.shape,l={...r};if(n)for(const c in n){if(!(c in r))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=t?new t({type:"optional",innerType:r[c]}):r[c])}else for(const c in r)l[c]=t?new t({type:"optional",innerType:r[c]}):r[c];return Vc(this,"shape",l),l},checks:[]});return wu(e,a)}function TM(t,e,n){const a=Yc(e._zod.def,{get shape(){const r=e._zod.def.shape,l={...r};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new t({type:"nonoptional",innerType:r[c]}))}else for(const c in r)l[c]=new t({type:"nonoptional",innerType:r[c]});return Vc(this,"shape",l),l},checks:[]});return wu(e,a)}function Ad(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function IS(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function sm(t){return typeof t=="string"?t:t?.message}function Dc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const r=sm(t.inst?._zod.def?.error?.(t))??sm(e?.error?.(t))??sm(n.customError?.(t))??sm(n.localeError?.(t))??"Invalid input";a.message=r}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function k2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Z0(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const KS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Ky,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},L2=Re("$ZodError",KS),dv=Re("$ZodError",KS,{Parent:Error});function AM(t,e=n=>n.message){const n={},a=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:n}}function RM(t,e=n=>n.message){const n={_errors:[]},a=r=>{for(const l of r.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>a({issues:c}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let c=n,d=0;for(;d<l.path.length;){const g=l.path[d];d===l.path.length-1?(c[g]=c[g]||{_errors:[]},c[g]._errors.push(e(l))):c[g]=c[g]||{_errors:[]},c=c[g],d++}}};return a(t),n}const hv=t=>(e,n,a,r)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new Nd;if(c.issues.length){const d=new(r?.Err??t)(c.issues.map(g=>Dc(g,l,Mc())));throw ZS(d,r?.callee),d}return c.value},OM=hv(dv),gv=t=>async(e,n,a,r)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(r?.Err??t)(c.issues.map(g=>Dc(g,l,Mc())));throw ZS(d,r?.callee),d}return c.value},NM=gv(dv),pv=t=>(e,n,a)=>{const r=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},r);if(l instanceof Promise)throw new Nd;return l.issues.length?{success:!1,error:new(t??L2)(l.issues.map(c=>Dc(c,r,Mc())))}:{success:!0,data:l.value}},MM=pv(dv),mv=t=>async(e,n,a)=>{const r=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},r);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(c=>Dc(c,r,Mc())))}:{success:!0,data:l.value}},DM=mv(dv),jM=t=>(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return hv(t)(e,n,r)},zM=t=>(e,n,a)=>hv(t)(e,n,a),UM=t=>async(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return gv(t)(e,n,r)},kM=t=>async(e,n,a)=>gv(t)(e,n,a),LM=t=>(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return pv(t)(e,n,r)},PM=t=>(e,n,a)=>pv(t)(e,n,a),BM=t=>async(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return mv(t)(e,n,r)},HM=t=>async(e,n,a)=>mv(t)(e,n,a),GM=/^[cC][^\s-]{8,}$/,qM=/^[0-9a-z]+$/,VM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,YM=/^[0-9a-vA-V]{20}$/,ZM=/^[A-Za-z0-9]{27}$/,XM=/^[a-zA-Z0-9_-]{21}$/,IM=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,KM=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,W4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,FM=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,QM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function $M(){return new RegExp(QM,"u")}const JM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,eD=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nD=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,FS=/^[A-Za-z0-9_-]*$/,aD=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,iD=/^\+(?:[0-9]){6,14}[0-9]$/,QS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",rD=new RegExp(`^${QS}$`);function $S(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function sD(t){return new RegExp(`^${$S(t)}$`)}function lD(t){const e=$S({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${QS}T(?:${a})$`)}const oD=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},uD=/^(?:true|false)$/i,cD=/^[^A-Z]*$/,fD=/^[^a-z]*$/,dl=Re("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),dD=Re("$ZodCheckMaxLength",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const r=a.value;return!z2(r)&&r.length!==void 0}),t._zod.onattach.push(a=>{const r=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const r=a.value;if(r.length<=e.maximum)return;const c=k2(r);a.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),hD=Re("$ZodCheckMinLength",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const r=a.value;return!z2(r)&&r.length!==void 0}),t._zod.onattach.push(a=>{const r=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const r=a.value;if(r.length>=e.minimum)return;const c=k2(r);a.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),gD=Re("$ZodCheckLengthEquals",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const r=a.value;return!z2(r)&&r.length!==void 0}),t._zod.onattach.push(a=>{const r=a._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=a=>{const r=a.value,l=r.length;if(l===e.length)return;const c=k2(r),d=l>e.length;a.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),vv=Re("$ZodCheckStringFormat",(t,e)=>{var n,a;dl.init(t,e),t._zod.onattach.push(r=>{const l=r._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),pD=Re("$ZodCheckRegex",(t,e)=>{vv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),mD=Re("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=cD),vv.init(t,e)}),vD=Re("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=fD),vv.init(t,e)}),yD=Re("$ZodCheckIncludes",(t,e)=>{dl.init(t,e);const n=fv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(r=>{const l=r._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),bD=Re("$ZodCheckStartsWith",(t,e)=>{dl.init(t,e);const n=new RegExp(`^${fv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const r=a._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),_D=Re("$ZodCheckEndsWith",(t,e)=>{dl.init(t,e);const n=new RegExp(`.*${fv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const r=a._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),SD=Re("$ZodCheckOverwrite",(t,e)=>{dl.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class xD{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(c=>c),r=Math.min(...a.map(c=>c.length-c.trimStart().length)),l=a.map(c=>c.slice(r)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const e=Function,n=this?.args,r=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,r.join(`
`))}}const wD={major:4,minor:1,patch:12},ua=Re("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=wD;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const r of a)for(const l of r._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const r=(c,d,g)=>{let m=Ad(c),v;for(const _ of d){if(_._zod.def.when){if(!_._zod.def.when(c))continue}else if(m)continue;const S=c.issues.length,E=_._zod.check(c);if(E instanceof Promise&&g?.async===!1)throw new Nd;if(v||E instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await E,c.issues.length!==S&&(m||(m=Ad(c,S)))});else{if(c.issues.length===S)continue;m||(m=Ad(c,S))}}return v?v.then(()=>c):c},l=(c,d,g)=>{if(Ad(c))return c.aborted=!0,c;const m=r(d,a,g);if(m instanceof Promise){if(g.async===!1)throw new Nd;return m.then(v=>t._zod.parse(v,g))}return t._zod.parse(m,g)};t._zod.run=(c,d)=>{if(d.skipChecks)return t._zod.parse(c,d);if(d.direction==="backward"){const m=t._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return m instanceof Promise?m.then(v=>l(v,c,d)):l(m,c,d)}const g=t._zod.parse(c,d);if(g instanceof Promise){if(d.async===!1)throw new Nd;return g.then(m=>r(m,a,d))}return r(g,a,d)}}t["~standard"]={validate:r=>{try{const l=MM(t,r);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return DM(t,r).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),P2=Re("$ZodString",(t,e)=>{ua.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??oD(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Ln=Re("$ZodStringFormat",(t,e)=>{vv.init(t,e),P2.init(t,e)}),ED=Re("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=KM),Ln.init(t,e)}),CD=Re("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=W4(a))}else e.pattern??(e.pattern=W4());Ln.init(t,e)}),TD=Re("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=FM),Ln.init(t,e)}),AD=Re("$ZodURL",(t,e)=>{Ln.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),r=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:aD.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),RD=Re("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=$M()),Ln.init(t,e)}),OD=Re("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=XM),Ln.init(t,e)}),ND=Re("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=GM),Ln.init(t,e)}),MD=Re("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=qM),Ln.init(t,e)}),DD=Re("$ZodULID",(t,e)=>{e.pattern??(e.pattern=VM),Ln.init(t,e)}),jD=Re("$ZodXID",(t,e)=>{e.pattern??(e.pattern=YM),Ln.init(t,e)}),zD=Re("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=ZM),Ln.init(t,e)}),UD=Re("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=lD(e)),Ln.init(t,e)}),kD=Re("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=rD),Ln.init(t,e)}),LD=Re("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=sD(e)),Ln.init(t,e)}),PD=Re("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=IM),Ln.init(t,e)}),BD=Re("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=JM),Ln.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),HD=Re("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=WM),Ln.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),GD=Re("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=eD),Ln.init(t,e)}),qD=Re("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=tD),Ln.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[r,l]=a;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function JS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const VD=Re("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=nD),Ln.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{JS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function YD(t){if(!FS.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return JS(n)}const ZD=Re("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=FS),Ln.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{YD(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),XD=Re("$ZodE164",(t,e)=>{e.pattern??(e.pattern=iD),Ln.init(t,e)});function ID(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const r=JSON.parse(atob(a));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const KD=Re("$ZodJWT",(t,e)=>{Ln.init(t,e),t._zod.check=n=>{ID(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),FD=Re("$ZodBoolean",(t,e)=>{ua.init(t,e),t._zod.pattern=uD,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),QD=Re("$ZodUnknown",(t,e)=>{ua.init(t,e),t._zod.parse=n=>n}),$D=Re("$ZodNever",(t,e)=>{ua.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function e5(t,e,n){t.issues.length&&e.issues.push(...IS(n,t.issues)),e.value[n]=t.value}const JD=Re("$ZodArray",(t,e)=>{ua.init(t,e),t._zod.parse=(n,a)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const l=[];for(let c=0;c<r.length;c++){const d=r[c],g=e.element._zod.run({value:d,issues:[]},a);g instanceof Promise?l.push(g.then(m=>e5(m,n,c))):e5(g,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function qm(t,e,n,a){t.issues.length&&e.issues.push(...IS(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function WS(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=bM(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function e6(t,e,n,a,r,l){const c=[],d=r.keySet,g=r.catchall._zod,m=g.def.type;for(const v of Object.keys(e)){if(d.has(v))continue;if(m==="never"){c.push(v);continue}const _=g.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(S=>qm(S,n,v,e))):qm(_,n,v,e)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const WD=Re("$ZodObject",(t,e)=>{if(ua.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const g={...d};return Object.defineProperty(e,"shape",{value:g}),g}})}const a=j2(()=>WS(e));On(t._zod,"propValues",()=>{const d=e.shape,g={};for(const m in d){const v=d[m]._zod;if(v.values){g[m]??(g[m]=new Set);for(const _ of v.values)g[m].add(_)}}return g});const r=Gm,l=e.catchall;let c;t._zod.parse=(d,g)=>{c??(c=a.value);const m=d.value;if(!r(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),d;d.value={};const v=[],_=c.shape;for(const S of c.keys){const A=_[S]._zod.run({value:m[S],issues:[]},g);A instanceof Promise?v.push(A.then(R=>qm(R,d,S,m))):qm(A,d,S,m)}return l?e6(v,m,d,g,a.value,t):v.length?Promise.all(v).then(()=>d):d}}),ej=Re("$ZodObjectJIT",(t,e)=>{WD.init(t,e);const n=t._zod.parse,a=j2(()=>WS(e)),r=S=>{const E=new xD(["shape","payload","ctx"]),A=a.value,R=z=>{const P=J4(z);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};E.write("const input = payload.value;");const O=Object.create(null);let j=0;for(const z of A.keys)O[z]=`key_${j++}`;E.write("const newResult = {};");for(const z of A.keys){const P=O[z],H=J4(z);E.write(`const ${P} = ${R(z)};`),E.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${P}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const D=E.compile();return(z,P)=>D(S,z,P)};let l;const c=Gm,d=!YS.jitless,m=d&&vM.value,v=e.catchall;let _;t._zod.parse=(S,E)=>{_??(_=a.value);const A=S.value;return c(A)?d&&m&&E?.async===!1&&E.jitless!==!0?(l||(l=r(e.shape)),S=l(S,E),v?e6([],A,S,E,_,t):S):n(S,E):(S.issues.push({expected:"object",code:"invalid_type",input:A,inst:t}),S)}});function t5(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const r=t.filter(l=>!Ad(l));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(c=>Dc(c,a,Mc())))}),e)}const tj=Re("$ZodUnion",(t,e)=>{ua.init(t,e),On(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),On(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),On(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),On(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${r.map(l=>U2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(r,l)=>{if(n)return a(r,l);let c=!1;const d=[];for(const g of e.options){const m=g._zod.run({value:r.value,issues:[]},l);if(m instanceof Promise)d.push(m),c=!0;else{if(m.issues.length===0)return m;d.push(m)}}return c?Promise.all(d).then(g=>t5(g,r,t,l)):t5(d,r,t,l)}}),nj=Re("$ZodIntersection",(t,e)=>{ua.init(t,e),t._zod.parse=(n,a)=>{const r=n.value,l=e.left._zod.run({value:r,issues:[]},a),c=e.right._zod.run({value:r,issues:[]},a);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([g,m])=>n5(n,g,m)):n5(n,l,c)}});function Fy(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Y0(t)&&Y0(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),r={...t,...e};for(const l of a){const c=Fy(t[l],e[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};r[l]=c.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const r=t[a],l=e[a],c=Fy(r,l);if(!c.valid)return{valid:!1,mergeErrorPath:[a,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function n5(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Ad(t))return t;const a=Fy(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const aj=Re("$ZodEnum",(t,e)=>{ua.init(t,e);const n=mM(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(r=>yM.has(typeof r)).map(r=>typeof r=="string"?fv(r):r.toString()).join("|")})$`),t._zod.parse=(r,l)=>{const c=r.value;return a.has(c)||r.issues.push({code:"invalid_value",values:n,input:c,inst:t}),r}}),ij=Re("$ZodTransform",(t,e)=>{ua.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new VS(t.constructor.name);const r=e.transform(n.value,n);if(a.async)return(r instanceof Promise?r:Promise.resolve(r)).then(c=>(n.value=c,n));if(r instanceof Promise)throw new Nd;return n.value=r,n}});function a5(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const rj=Re("$ZodOptional",(t,e)=>{ua.init(t,e),t._zod.optin="optional",t._zod.optout="optional",On(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),On(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${U2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>a5(l,n.value)):a5(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),sj=Re("$ZodNullable",(t,e)=>{ua.init(t,e),On(t._zod,"optin",()=>e.innerType._zod.optin),On(t._zod,"optout",()=>e.innerType._zod.optout),On(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${U2(n.source)}|null)$`):void 0}),On(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),lj=Re("$ZodDefault",(t,e)=>{ua.init(t,e),t._zod.optin="optional",On(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>i5(l,e)):i5(r,e)}});function i5(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const oj=Re("$ZodPrefault",(t,e)=>{ua.init(t,e),t._zod.optin="optional",On(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),uj=Re("$ZodNonOptional",(t,e)=>{ua.init(t,e),On(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>r5(l,t)):r5(r,t)}});function r5(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const cj=Re("$ZodCatch",(t,e)=>{ua.init(t,e),On(t._zod,"optin",()=>e.innerType._zod.optin),On(t._zod,"optout",()=>e.innerType._zod.optout),On(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(c=>Dc(c,a,Mc()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(l=>Dc(l,a,Mc()))},input:n.value}),n.issues=[]),n)}}),fj=Re("$ZodPipe",(t,e)=>{ua.init(t,e),On(t._zod,"values",()=>e.in._zod.values),On(t._zod,"optin",()=>e.in._zod.optin),On(t._zod,"optout",()=>e.out._zod.optout),On(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(c=>lm(c,e.in,a)):lm(l,e.in,a)}const r=e.in._zod.run(n,a);return r instanceof Promise?r.then(l=>lm(l,e.out,a)):lm(r,e.out,a)}});function lm(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const dj=Re("$ZodReadonly",(t,e)=>{ua.init(t,e),On(t._zod,"propValues",()=>e.innerType._zod.propValues),On(t._zod,"values",()=>e.innerType._zod.values),On(t._zod,"optin",()=>e.innerType._zod.optin),On(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(s5):s5(r)}});function s5(t){return t.value=Object.freeze(t.value),t}const hj=Re("$ZodCustom",(t,e)=>{dl.init(t,e),ua.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,r=e.fn(a);if(r instanceof Promise)return r.then(l=>l5(l,n,a,t));l5(r,n,a,t)}});function l5(t,e,n,a){if(!t){const r={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(r.params=a._zod.def.params),e.issues.push(Z0(r))}}class gj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const r={...a,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function pj(){return new gj}const om=pj();function mj(t,e){return new t({type:"string",...vt(e)})}function vj(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...vt(e)})}function o5(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...vt(e)})}function yj(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...vt(e)})}function bj(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...vt(e)})}function _j(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...vt(e)})}function Sj(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...vt(e)})}function xj(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...vt(e)})}function wj(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...vt(e)})}function Ej(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...vt(e)})}function Cj(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...vt(e)})}function Tj(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...vt(e)})}function Aj(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...vt(e)})}function Rj(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...vt(e)})}function Oj(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...vt(e)})}function Nj(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...vt(e)})}function Mj(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...vt(e)})}function Dj(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...vt(e)})}function jj(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...vt(e)})}function zj(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...vt(e)})}function Uj(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...vt(e)})}function kj(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...vt(e)})}function Lj(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...vt(e)})}function Pj(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...vt(e)})}function Bj(t,e){return new t({type:"string",format:"date",check:"string_format",...vt(e)})}function Hj(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...vt(e)})}function Gj(t,e){return new t({type:"string",format:"duration",check:"string_format",...vt(e)})}function qj(t,e){return new t({type:"boolean",...vt(e)})}function Vj(t){return new t({type:"unknown"})}function Yj(t,e){return new t({type:"never",...vt(e)})}function t6(t,e){return new dD({check:"max_length",...vt(e),maximum:t})}function Vm(t,e){return new hD({check:"min_length",...vt(e),minimum:t})}function n6(t,e){return new gD({check:"length_equals",...vt(e),length:t})}function Zj(t,e){return new pD({check:"string_format",format:"regex",...vt(e),pattern:t})}function Xj(t){return new mD({check:"string_format",format:"lowercase",...vt(t)})}function Ij(t){return new vD({check:"string_format",format:"uppercase",...vt(t)})}function Kj(t,e){return new yD({check:"string_format",format:"includes",...vt(e),includes:t})}function Fj(t,e){return new bD({check:"string_format",format:"starts_with",...vt(e),prefix:t})}function Qj(t,e){return new _D({check:"string_format",format:"ends_with",...vt(e),suffix:t})}function rg(t){return new SD({check:"overwrite",tx:t})}function $j(t){return rg(e=>e.normalize(t))}function Jj(){return rg(t=>t.trim())}function Wj(){return rg(t=>t.toLowerCase())}function ez(){return rg(t=>t.toUpperCase())}function tz(t,e,n){return new t({type:"array",element:e,...vt(n)})}function nz(t,e,n){return new t({type:"custom",check:"custom",fn:e,...vt(n)})}function az(t){const e=iz(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(Z0(a,n.value,e._zod.def));else{const r=a;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(Z0(r))}},t(n.value,n)));return e}function iz(t,e){const n=new dl({check:"custom",...vt(e)});return n._zod.check=t,n}function u5(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function rz(t,e){for(var n={};t.length;){var a=t[0],r=a.code,l=a.message,c=a.path.join(".");if(!n[c])if("unionErrors"in a){var d=a.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:r};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var g=n[c].types,m=g&&g[a.code];n[c]=N2(c,e,n,r,m?[].concat(m,a.message):a.message)}t.shift()}return n}function sz(t,e){for(var n={};t.length;){var a=t[0],r=a.code,l=a.message,c=a.path.join(".");if(!n[c])if(a.code==="invalid_union"&&a.errors.length>0){var d=a.errors[0][0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:r};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var g=n[c].types,m=g&&g[a.code];n[c]=N2(c,e,n,r,m?[].concat(m,a.message):a.message)}t.shift()}return n}function a6(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,r,l){try{return Promise.resolve(u5(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(c){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):c}})},function(c){if((function(d){return Array.isArray(d?.issues)})(c))return{values:{},errors:F4(rz(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,r,l){try{return Promise.resolve(u5(function(){return Promise.resolve((n.mode==="sync"?OM:NM)(t,a,e)).then(function(c){return l.shouldUseNativeValidation&&Iy({},l),{errors:{},values:n.raw?Object.assign({},a):c}})},function(c){if((function(d){return d instanceof L2})(c))return{values:{},errors:F4(sz(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const lz=Re("ZodISODateTime",(t,e)=>{UD.init(t,e),Hn.init(t,e)});function oz(t){return Pj(lz,t)}const uz=Re("ZodISODate",(t,e)=>{kD.init(t,e),Hn.init(t,e)});function cz(t){return Bj(uz,t)}const fz=Re("ZodISOTime",(t,e)=>{LD.init(t,e),Hn.init(t,e)});function dz(t){return Hj(fz,t)}const hz=Re("ZodISODuration",(t,e)=>{PD.init(t,e),Hn.init(t,e)});function gz(t){return Gj(hz,t)}const pz=(t,e)=>{L2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>RM(t,n)},flatten:{value:n=>AM(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Ky,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Ky,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ur=Re("ZodError",pz,{Parent:Error}),mz=hv(Ur),vz=gv(Ur),yz=pv(Ur),bz=mv(Ur),_z=jM(Ur),Sz=zM(Ur),xz=UM(Ur),wz=kM(Ur),Ez=LM(Ur),Cz=PM(Ur),Tz=BM(Ur),Az=HM(Ur),ya=Re("ZodType",(t,e)=>(ua.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Yc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>wu(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>mz(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>yz(t,n,a),t.parseAsync=async(n,a)=>vz(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>bz(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>_z(t,n,a),t.decode=(n,a)=>Sz(t,n,a),t.encodeAsync=async(n,a)=>xz(t,n,a),t.decodeAsync=async(n,a)=>wz(t,n,a),t.safeEncode=(n,a)=>Ez(t,n,a),t.safeDecode=(n,a)=>Cz(t,n,a),t.safeEncodeAsync=async(n,a)=>Tz(t,n,a),t.safeDecodeAsync=async(n,a)=>Az(t,n,a),t.refine=(n,a)=>t.check(bU(n,a)),t.superRefine=n=>t.check(_U(n)),t.overwrite=n=>t.check(rg(n)),t.optional=()=>d5(t),t.nullable=()=>h5(t),t.nullish=()=>d5(h5(t)),t.nonoptional=n=>dU(t,n),t.array=()=>Jz(t),t.or=n=>tU([t,n]),t.and=n=>aU(t,n),t.transform=n=>g5(t,sU(n)),t.default=n=>uU(t,n),t.prefault=n=>fU(t,n),t.catch=n=>gU(t,n),t.pipe=n=>g5(t,n),t.readonly=()=>vU(t),t.describe=n=>{const a=t.clone();return om.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return om.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return om.get(t);const a=t.clone();return om.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),i6=Re("_ZodString",(t,e)=>{P2.init(t,e),ya.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(Zj(...a)),t.includes=(...a)=>t.check(Kj(...a)),t.startsWith=(...a)=>t.check(Fj(...a)),t.endsWith=(...a)=>t.check(Qj(...a)),t.min=(...a)=>t.check(Vm(...a)),t.max=(...a)=>t.check(t6(...a)),t.length=(...a)=>t.check(n6(...a)),t.nonempty=(...a)=>t.check(Vm(1,...a)),t.lowercase=a=>t.check(Xj(a)),t.uppercase=a=>t.check(Ij(a)),t.trim=()=>t.check(Jj()),t.normalize=(...a)=>t.check($j(...a)),t.toLowerCase=()=>t.check(Wj()),t.toUpperCase=()=>t.check(ez())}),Rz=Re("ZodString",(t,e)=>{P2.init(t,e),i6.init(t,e),t.email=n=>t.check(vj(Oz,n)),t.url=n=>t.check(xj(Nz,n)),t.jwt=n=>t.check(Lj(Zz,n)),t.emoji=n=>t.check(wj(Mz,n)),t.guid=n=>t.check(o5(c5,n)),t.uuid=n=>t.check(yj(um,n)),t.uuidv4=n=>t.check(bj(um,n)),t.uuidv6=n=>t.check(_j(um,n)),t.uuidv7=n=>t.check(Sj(um,n)),t.nanoid=n=>t.check(Ej(Dz,n)),t.guid=n=>t.check(o5(c5,n)),t.cuid=n=>t.check(Cj(jz,n)),t.cuid2=n=>t.check(Tj(zz,n)),t.ulid=n=>t.check(Aj(Uz,n)),t.base64=n=>t.check(zj(qz,n)),t.base64url=n=>t.check(Uj(Vz,n)),t.xid=n=>t.check(Rj(kz,n)),t.ksuid=n=>t.check(Oj(Lz,n)),t.ipv4=n=>t.check(Nj(Pz,n)),t.ipv6=n=>t.check(Mj(Bz,n)),t.cidrv4=n=>t.check(Dj(Hz,n)),t.cidrv6=n=>t.check(jj(Gz,n)),t.e164=n=>t.check(kj(Yz,n)),t.datetime=n=>t.check(oz(n)),t.date=n=>t.check(cz(n)),t.time=n=>t.check(dz(n)),t.duration=n=>t.check(gz(n))});function Wl(t){return mj(Rz,t)}const Hn=Re("ZodStringFormat",(t,e)=>{Ln.init(t,e),i6.init(t,e)}),Oz=Re("ZodEmail",(t,e)=>{TD.init(t,e),Hn.init(t,e)}),c5=Re("ZodGUID",(t,e)=>{ED.init(t,e),Hn.init(t,e)}),um=Re("ZodUUID",(t,e)=>{CD.init(t,e),Hn.init(t,e)}),Nz=Re("ZodURL",(t,e)=>{AD.init(t,e),Hn.init(t,e)}),Mz=Re("ZodEmoji",(t,e)=>{RD.init(t,e),Hn.init(t,e)}),Dz=Re("ZodNanoID",(t,e)=>{OD.init(t,e),Hn.init(t,e)}),jz=Re("ZodCUID",(t,e)=>{ND.init(t,e),Hn.init(t,e)}),zz=Re("ZodCUID2",(t,e)=>{MD.init(t,e),Hn.init(t,e)}),Uz=Re("ZodULID",(t,e)=>{DD.init(t,e),Hn.init(t,e)}),kz=Re("ZodXID",(t,e)=>{jD.init(t,e),Hn.init(t,e)}),Lz=Re("ZodKSUID",(t,e)=>{zD.init(t,e),Hn.init(t,e)}),Pz=Re("ZodIPv4",(t,e)=>{BD.init(t,e),Hn.init(t,e)}),Bz=Re("ZodIPv6",(t,e)=>{HD.init(t,e),Hn.init(t,e)}),Hz=Re("ZodCIDRv4",(t,e)=>{GD.init(t,e),Hn.init(t,e)}),Gz=Re("ZodCIDRv6",(t,e)=>{qD.init(t,e),Hn.init(t,e)}),qz=Re("ZodBase64",(t,e)=>{VD.init(t,e),Hn.init(t,e)}),Vz=Re("ZodBase64URL",(t,e)=>{ZD.init(t,e),Hn.init(t,e)}),Yz=Re("ZodE164",(t,e)=>{XD.init(t,e),Hn.init(t,e)}),Zz=Re("ZodJWT",(t,e)=>{KD.init(t,e),Hn.init(t,e)}),Xz=Re("ZodBoolean",(t,e)=>{FD.init(t,e),ya.init(t,e)});function Iz(t){return qj(Xz,t)}const Kz=Re("ZodUnknown",(t,e)=>{QD.init(t,e),ya.init(t,e)});function f5(){return Vj(Kz)}const Fz=Re("ZodNever",(t,e)=>{$D.init(t,e),ya.init(t,e)});function Qz(t){return Yj(Fz,t)}const $z=Re("ZodArray",(t,e)=>{JD.init(t,e),ya.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(Vm(n,a)),t.nonempty=n=>t.check(Vm(1,n)),t.max=(n,a)=>t.check(t6(n,a)),t.length=(n,a)=>t.check(n6(n,a)),t.unwrap=()=>t.element});function Jz(t,e){return tz($z,t,e)}const Wz=Re("ZodObject",(t,e)=>{ej.init(t,e),ya.init(t,e),On(t,"shape",()=>e.shape),t.keyof=()=>iU(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:f5()}),t.loose=()=>t.clone({...t._zod.def,catchall:f5()}),t.strict=()=>t.clone({...t._zod.def,catchall:Qz()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>xM(t,n),t.safeExtend=n=>wM(t,n),t.merge=n=>EM(t,n),t.pick=n=>_M(t,n),t.omit=n=>SM(t,n),t.partial=(...n)=>CM(s6,t,n[0]),t.required=(...n)=>TM(l6,t,n[0])});function r6(t,e){const n={type:"object",shape:t??{},...vt(e)};return new Wz(n)}const eU=Re("ZodUnion",(t,e)=>{tj.init(t,e),ya.init(t,e),t.options=e.options});function tU(t,e){return new eU({type:"union",options:t,...vt(e)})}const nU=Re("ZodIntersection",(t,e)=>{nj.init(t,e),ya.init(t,e)});function aU(t,e){return new nU({type:"intersection",left:t,right:e})}const Qy=Re("ZodEnum",(t,e)=>{aj.init(t,e),ya.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,r)=>{const l={};for(const c of a)if(n.has(c))l[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Qy({...e,checks:[],...vt(r),entries:l})},t.exclude=(a,r)=>{const l={...e.entries};for(const c of a)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Qy({...e,checks:[],...vt(r),entries:l})}});function iU(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new Qy({type:"enum",entries:n,...vt(e)})}const rU=Re("ZodTransform",(t,e)=>{ij.init(t,e),ya.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new VS(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Z0(l,n.value,e));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(Z0(c))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(l=>(n.value=l,n)):(n.value=r,n)}});function sU(t){return new rU({type:"transform",transform:t})}const s6=Re("ZodOptional",(t,e)=>{rj.init(t,e),ya.init(t,e),t.unwrap=()=>t._zod.def.innerType});function d5(t){return new s6({type:"optional",innerType:t})}const lU=Re("ZodNullable",(t,e)=>{sj.init(t,e),ya.init(t,e),t.unwrap=()=>t._zod.def.innerType});function h5(t){return new lU({type:"nullable",innerType:t})}const oU=Re("ZodDefault",(t,e)=>{lj.init(t,e),ya.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function uU(t,e){return new oU({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():XS(e)}})}const cU=Re("ZodPrefault",(t,e)=>{oj.init(t,e),ya.init(t,e),t.unwrap=()=>t._zod.def.innerType});function fU(t,e){return new cU({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():XS(e)}})}const l6=Re("ZodNonOptional",(t,e)=>{uj.init(t,e),ya.init(t,e),t.unwrap=()=>t._zod.def.innerType});function dU(t,e){return new l6({type:"nonoptional",innerType:t,...vt(e)})}const hU=Re("ZodCatch",(t,e)=>{cj.init(t,e),ya.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function gU(t,e){return new hU({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const pU=Re("ZodPipe",(t,e)=>{fj.init(t,e),ya.init(t,e),t.in=e.in,t.out=e.out});function g5(t,e){return new pU({type:"pipe",in:t,out:e})}const mU=Re("ZodReadonly",(t,e)=>{dj.init(t,e),ya.init(t,e),t.unwrap=()=>t._zod.def.innerType});function vU(t){return new mU({type:"readonly",innerType:t})}const yU=Re("ZodCustom",(t,e)=>{hj.init(t,e),ya.init(t,e)});function bU(t,e={}){return nz(yU,t,e)}function _U(t){return az(t)}const SU=r6({title:Wl().min(3,"Title must be at least 3 characters").max(50,"Title must be at most 50 characters"),description:Wl().min(10,"Description must be at least 10 characters").max(100,"Description must be at most 100 characters"),color:Wl(),date:Wl(),time:Wl()});function xU({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:c,handleSubmit:d,setError:g,formState:{errors:m,isSubmitting:v}}=qS({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:a6(SU)}),[_,S]=N.useState("#ff2056"),E=async A=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,A):t(A),n()}catch(R){g("root",{message:"This Task already exists!: "+R})}};return T.jsxs("div",{children:[T.jsx("div",{className:"absolute h-full w-full bg-black opacity-50 backdrop z-99"}),T.jsxs("div",{className:"absolute bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-10 py-10 inset-0 flex flex-col justify-between w-150 h-fit max-h-200  items-start border-px rounded-lg shadow-2xl z-100",children:[T.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),T.jsxs("form",{onSubmit:d(E),className:"w-full h-full",children:[T.jsxs("div",{className:"mb-2 flex flex-row items-end justify-between h-15  w-full",children:[T.jsx("input",{...c("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-3xl h-full p-2 font-bold rounded-lg"}),m.title&&T.jsx("div",{className:"text-red-500",children:m.title?.message}),T.jsx("button",{onClick:n,className:"hover:cursor-pointer p-2 h-full",children:"X"})]}),T.jsxs("div",{className:"mb-8 flex flex-col gap-5 w-full items-start",children:[T.jsxs("div",{className:"inline-flex gap-2",children:[T.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:T.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),T.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),T.jsx("textarea",{...c("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs ml-8 w-[calc(100%-2rem)] items-start h-25 resize-none"}),m.description&&T.jsx("div",{className:"text-red-500",children:m.description?.message})]}),T.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),T.jsxs("div",{className:"flex flex-row flex-auto gap-10 w-full mt-5 mb-5",children:[T.jsxs("div",{className:"mb-5 flex flex-col gap-1 w-full",children:[T.jsx("label",{className:"text-lg font-semibold",children:"Date"}),T.jsx("input",{...c("date"),type:"date",name:"date",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer"})]}),T.jsxs("div",{className:"mb-5 flex flex-col gap-1",children:[T.jsx("label",{className:"text-lg font-semibold",children:"Due Time"}),T.jsx("input",{...c("time"),type:"time",name:"time",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer"})]}),T.jsxs("div",{className:"mb-5 flex flex-col gap-1",children:[T.jsx("label",{className:"text-lg font-semibold",children:"Color"}),T.jsxs("select",{...c("color"),onChange:A=>S(A.target.value),name:"color",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer",children:[T.jsx("option",{value:"#ff2056",children:"Red"}),T.jsx("option",{value:"#2b7fff",children:"Blue"}),T.jsx("option",{value:"#00bc7d",children:"Green"}),T.jsx("option",{value:"#ad46ff",children:"Purple"}),T.jsx("option",{value:"#ff6900",children:"Orange"})]})]})]}),T.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[T.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),T.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),m.root&&T.jsx("div",{className:"text-red-500",children:m.root?.message})]})]})]})}const wU=r6({title:Wl().min(3,"Title must be at least 3 characters").max(50,"Title must be at most 50 characters"),assignee:Wl(),date:Wl(),completed:Iz(),color:Wl()});function EU({onAddTodo:t,parent:e,onCloseForm:n}){const r=new Date().toISOString().split("T")[0],{register:l,handleSubmit:c,setError:d,formState:{isSubmitting:g}}=qS({defaultValues:{title:"My Newest Todo",assignee:"Guest",date:r,completed:!1},resolver:a6(wU)}),[m,v]=N.useState(e?.color??"#ff2056"),_=async S=>{try{await new Promise(E=>setTimeout(E,500)),t(S,e),n()}catch(E){d("root",{message:"This Todo already exists!: "+E})}};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute h-full w-full bg-black opacity-50 backdrop z-99"}),T.jsxs("div",{className:"absolute bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-10 py-10 inset-0 flex flex-row justify-between w-150 h-fit max-h-200  items-start border-px rounded-lg shadow-2xl z-100",children:[T.jsx("div",{className:"absolute top-0 left-0 rounded-l-lg w-8 h-full",style:{backgroundColor:m}}),T.jsxs("form",{onSubmit:c(_),className:"w-full h-full",children:[T.jsx("div",{className:"mb-1 flex w-full h-fit",children:T.jsx("input",{...l("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),T.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[T.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),T.jsx("div",{className:"w-full h-full flex items-center justify-center hover:bg-gray-300 px-2 rounded-md ",children:T.jsx("span",{className:"text-sm text-start  w-full ",children:e?e.title:"Not Assigned"})})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[T.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),T.jsx("input",{...l("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[T.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),T.jsxs("select",{...l("assignee"),name:"assignee",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[T.jsx("option",{value:"Guest",children:"Guest"}),T.jsx("option",{value:"User1",children:"User1"}),T.jsx("option",{value:"User2",children:"User2"}),T.jsx("option",{value:"User3",children:"User3"}),T.jsx("option",{value:"User4",children:"User4"})]})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[T.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),T.jsxs("select",{...l("color"),value:m,onChange:S=>v(S.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[T.jsx("option",{value:"#ff2056",children:"Red"}),T.jsx("option",{value:"#2b7fff",children:"Blue"}),T.jsx("option",{value:"#00bc7d",children:"Green"}),T.jsx("option",{value:"#ad46ff",children:"Purple"}),T.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[T.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),T.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:T.jsx("input",{...l("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),T.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[T.jsx("button",{className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:n,children:T.jsx("span",{className:"text-sm",children:"Cancel"})}),T.jsx("button",{type:"submit",disabled:g,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:g?T.jsx("span",{className:"text-sm",children:"Loading..."}):T.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}function p5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yv(...t){return e=>{let n=!1;const a=t.map(r=>{const l=p5(r,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let r=0;r<a.length;r++){const l=a[r];typeof l=="function"?l():p5(t[r],null)}}}}function ma(...t){return N.useCallback(yv(...t),t)}function X0(t){const e=CU(t),n=N.forwardRef((a,r)=>{const{children:l,...c}=a,d=N.Children.toArray(l),g=d.find(AU);if(g){const m=g.props.children,v=d.map(_=>_===g?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:_);return T.jsx(e,{...c,ref:r,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return T.jsx(e,{...c,ref:r,children:l})});return n.displayName=`${t}.Slot`,n}function CU(t){const e=N.forwardRef((n,a)=>{const{children:r,...l}=n;if(N.isValidElement(r)){const c=OU(r),d=RU(l,r.props);return r.type!==N.Fragment&&(d.ref=a?yv(a,c):c),N.cloneElement(r,d)}return N.Children.count(r)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var o6=Symbol("radix.slottable");function TU(t){const e=({children:n})=>T.jsx(T.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=o6,e}function AU(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===o6}function RU(t,e){const n={...e};for(const a in e){const r=t[a],l=e[a];/^on[A-Z]/.test(a)?r&&l?n[a]=(...d)=>{const g=l(...d);return r(...d),g}:r&&(n[a]=r):a==="style"?n[a]={...r,...l}:a==="className"&&(n[a]=[r,l].filter(Boolean).join(" "))}return{...t,...n}}function OU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wn=NU.reduce((t,e)=>{const n=X0(`Primitive.${e}`),a=N.forwardRef((r,l)=>{const{asChild:c,...d}=r,g=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(g,{...d,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function u6(t,e){t&&av.flushSync(()=>t.dispatchEvent(e))}function MU(t,e){const n=N.createContext(e),a=l=>{const{children:c,...d}=l,g=N.useMemo(()=>d,Object.values(d));return T.jsx(n.Provider,{value:g,children:c})};a.displayName=t+"Provider";function r(l){const c=N.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,r]}function uo(t,e=[]){let n=[];function a(l,c){const d=N.createContext(c),g=n.length;n=[...n,c];const m=_=>{const{scope:S,children:E,...A}=_,R=S?.[t]?.[g]||d,O=N.useMemo(()=>A,Object.values(A));return T.jsx(R.Provider,{value:O,children:E})};m.displayName=l+"Provider";function v(_,S){const E=S?.[t]?.[g]||d,A=N.useContext(E);if(A)return A;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[m,v]}const r=()=>{const l=n.map(c=>N.createContext(c));return function(d){const g=d?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...d,[t]:g}}),[d,g])}};return r.scopeName=t,[a,DU(r,...e)]}function DU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const c=a.reduce((d,{useScope:g,scopeName:m})=>{const _=g(l)[`__scope${m}`];return{...d,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function c6(t){const e=t+"CollectionProvider",[n,a]=uo(e),[r,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=R=>{const{scope:O,children:j}=R,D=at.useRef(null),z=at.useRef(new Map).current;return T.jsx(r,{scope:O,itemMap:z,collectionRef:D,children:j})};c.displayName=e;const d=t+"CollectionSlot",g=X0(d),m=at.forwardRef((R,O)=>{const{scope:j,children:D}=R,z=l(d,j),P=ma(O,z.collectionRef);return T.jsx(g,{ref:P,children:D})});m.displayName=d;const v=t+"CollectionItemSlot",_="data-radix-collection-item",S=X0(v),E=at.forwardRef((R,O)=>{const{scope:j,children:D,...z}=R,P=at.useRef(null),H=ma(O,P),L=l(v,j);return at.useEffect(()=>(L.itemMap.set(P,{ref:P,...z}),()=>void L.itemMap.delete(P))),T.jsx(S,{[_]:"",ref:H,children:D})});E.displayName=v;function A(R){const O=l(t+"CollectionConsumer",R);return at.useCallback(()=>{const D=O.collectionRef.current;if(!D)return[];const z=Array.from(D.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((L,Y)=>z.indexOf(L.ref.current)-z.indexOf(Y.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:c,Slot:m,ItemSlot:E},A,a]}function Ct(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}var gu=globalThis?.document?N.useLayoutEffect:()=>{},jU=I5[" useInsertionEffect ".trim().toString()]||gu;function Gd({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[r,l,c]=zU({defaultProp:e,onChange:n}),d=t!==void 0,g=d?t:r;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==d&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,a])}const m=N.useCallback(v=>{if(d){const _=UU(v)?v(t):v;_!==t&&c.current?.(_)}else l(v)},[d,t,l,c]);return[g,m]}function zU({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),r=N.useRef(n),l=N.useRef(e);return jU(()=>{l.current=e},[e]),N.useEffect(()=>{r.current!==n&&(l.current?.(n),r.current=n)},[n,r]),[n,a,l]}function UU(t){return typeof t=="function"}function kU(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var Eu=t=>{const{present:e,children:n}=t,a=LU(e),r=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=ma(a.ref,PU(r));return typeof n=="function"||a.isPresent?N.cloneElement(r,{ref:l}):null};Eu.displayName="Presence";function LU(t){const[e,n]=N.useState(),a=N.useRef(null),r=N.useRef(t),l=N.useRef("none"),c=t?"mounted":"unmounted",[d,g]=kU(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const m=cm(a.current);l.current=d==="mounted"?m:"none"},[d]),gu(()=>{const m=a.current,v=r.current;if(v!==t){const S=l.current,E=cm(m);t?g("MOUNT"):E==="none"||m?.display==="none"?g("UNMOUNT"):g(v&&S!==E?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,g]),gu(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,_=E=>{const R=cm(a.current).includes(CSS.escape(E.animationName));if(E.target===e&&R&&(g("ANIMATION_END"),!r.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},S=E=>{E.target===e&&(l.current=cm(a.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(m=>{a.current=m?getComputedStyle(m):null,n(m)},[])}}function cm(t){return t?.animationName||"none"}function PU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var BU=I5[" useId ".trim().toString()]||(()=>{}),HU=0;function Md(t){const[e,n]=N.useState(BU());return gu(()=>{n(a=>a??String(HU++))},[t]),t||(e?`radix-${e}`:"")}var GU=N.createContext(void 0);function bv(t){const e=N.useContext(GU);return t||e||"ltr"}function to(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function qU(t,e=globalThis?.document){const n=to(t);N.useEffect(()=>{const a=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var VU="DismissableLayer",$y="dismissableLayer.update",YU="dismissableLayer.pointerDownOutside",ZU="dismissableLayer.focusOutside",m5,f6=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B2=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...g}=t,m=N.useContext(f6),[v,_]=N.useState(null),S=v?.ownerDocument??globalThis?.document,[,E]=N.useState({}),A=ma(e,Y=>_(Y)),R=Array.from(m.layers),[O]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=R.indexOf(O),D=v?R.indexOf(v):-1,z=m.layersWithOutsidePointerEventsDisabled.size>0,P=D>=j,H=KU(Y=>{const ie=Y.target,ue=[...m.branches].some(me=>me.contains(ie));!P||ue||(r?.(Y),c?.(Y),Y.defaultPrevented||d?.())},S),L=FU(Y=>{const ie=Y.target;[...m.branches].some(me=>me.contains(ie))||(l?.(Y),c?.(Y),Y.defaultPrevented||d?.())},S);return qU(Y=>{D===m.layers.size-1&&(a?.(Y),!Y.defaultPrevented&&d&&(Y.preventDefault(),d()))},S),N.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(m5=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),v5(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=m5)}},[v,S,n,m]),N.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),v5())},[v,m]),N.useEffect(()=>{const Y=()=>E({});return document.addEventListener($y,Y),()=>document.removeEventListener($y,Y)},[]),T.jsx(wn.div,{...g,ref:A,style:{pointerEvents:z?P?"auto":"none":void 0,...t.style},onFocusCapture:Ct(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ct(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ct(t.onPointerDownCapture,H.onPointerDownCapture)})});B2.displayName=VU;var XU="DismissableLayerBranch",IU=N.forwardRef((t,e)=>{const n=N.useContext(f6),a=N.useRef(null),r=ma(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),T.jsx(wn.div,{...t,ref:r})});IU.displayName=XU;function KU(t,e=globalThis?.document){const n=to(t),a=N.useRef(!1),r=N.useRef(()=>{});return N.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let g=function(){d6(YU,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=g,e.addEventListener("click",r.current,{once:!0})):g()}else e.removeEventListener("click",r.current);a.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function FU(t,e=globalThis?.document){const n=to(t),a=N.useRef(!1);return N.useEffect(()=>{const r=l=>{l.target&&!a.current&&d6(ZU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function v5(){const t=new CustomEvent($y);document.dispatchEvent(t)}function d6(t,e,n,{discrete:a}){const r=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),a?u6(r,l):r.dispatchEvent(l)}var K1="focusScope.autoFocusOnMount",F1="focusScope.autoFocusOnUnmount",y5={bubbles:!1,cancelable:!0},QU="FocusScope",H2=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...c}=t,[d,g]=N.useState(null),m=to(r),v=to(l),_=N.useRef(null),S=ma(e,R=>g(R)),E=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(E.paused||!d)return;const P=z.target;d.contains(P)?_.current=P:lu(_.current,{select:!0})},O=function(z){if(E.paused||!d)return;const P=z.relatedTarget;P!==null&&(d.contains(P)||lu(_.current,{select:!0}))},j=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&lu(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const D=new MutationObserver(j);return d&&D.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),D.disconnect()}}},[a,d,E.paused]),N.useEffect(()=>{if(d){_5.add(E);const R=document.activeElement;if(!d.contains(R)){const j=new CustomEvent(K1,y5);d.addEventListener(K1,m),d.dispatchEvent(j),j.defaultPrevented||($U(nk(h6(d)),{select:!0}),document.activeElement===R&&lu(d))}return()=>{d.removeEventListener(K1,m),setTimeout(()=>{const j=new CustomEvent(F1,y5);d.addEventListener(F1,v),d.dispatchEvent(j),j.defaultPrevented||lu(R??document.body,{select:!0}),d.removeEventListener(F1,v),_5.remove(E)},0)}}},[d,m,v,E]);const A=N.useCallback(R=>{if(!n&&!a||E.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,j=document.activeElement;if(O&&j){const D=R.currentTarget,[z,P]=JU(D);z&&P?!R.shiftKey&&j===P?(R.preventDefault(),n&&lu(z,{select:!0})):R.shiftKey&&j===z&&(R.preventDefault(),n&&lu(P,{select:!0})):j===D&&R.preventDefault()}},[n,a,E.paused]);return T.jsx(wn.div,{tabIndex:-1,...c,ref:S,onKeyDown:A})});H2.displayName=QU;function $U(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(lu(a,{select:e}),document.activeElement!==n)return}function JU(t){const e=h6(t),n=b5(e,t),a=b5(e.reverse(),t);return[n,a]}function h6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function b5(t,e){for(const n of t)if(!WU(n,{upTo:e}))return n}function WU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ek(t){return t instanceof HTMLInputElement&&"select"in t}function lu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ek(t)&&e&&t.select()}}var _5=tk();function tk(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=S5(t,e),t.unshift(e)},remove(e){t=S5(t,e),t[0]?.resume()}}}function S5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function nk(t){return t.filter(e=>e.tagName!=="A")}var ak="Portal",G2=N.forwardRef((t,e)=>{const{container:n,...a}=t,[r,l]=N.useState(!1);gu(()=>l(!0),[]);const c=n||r&&globalThis?.document?.body;return c?O9.createPortal(T.jsx(wn.div,{...a,ref:e}),c):null});G2.displayName=ak;var Q1=0;function g6(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??x5()),document.body.insertAdjacentElement("beforeend",t[1]??x5()),Q1++,()=>{Q1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Q1--}},[])}function x5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rl=function(){return rl=Object.assign||function(e){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},rl.apply(this,arguments)};function p6(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n}function ik(t,e,n){if(n||arguments.length===2)for(var a=0,r=e.length,l;a<r;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Em="right-scroll-bar-position",Cm="width-before-scroll-bar",rk="with-scroll-bars-hidden",sk="--removed-body-scroll-bar-size";function $1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lk(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=e,n.facade}var ok=typeof window<"u"?N.useLayoutEffect:N.useEffect,w5=new WeakMap;function uk(t,e){var n=lk(null,function(a){return t.forEach(function(r){return $1(r,a)})});return ok(function(){var a=w5.get(n);if(a){var r=new Set(a),l=new Set(t),c=n.current;r.forEach(function(d){l.has(d)||$1(d,null)}),l.forEach(function(d){r.has(d)||$1(d,c)})}w5.set(n,t)},[t]),n}function ck(t){return t}function fk(t,e){e===void 0&&(e=ck);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,a);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(a=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){a=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var g=function(){var v=c;c=[],v.forEach(l)},m=function(){return Promise.resolve().then(g)};m(),n={push:function(v){c.push(v),m()},filter:function(v){return c=c.filter(v),n}}}};return r}function dk(t){t===void 0&&(t={});var e=fk(null);return e.options=rl({async:!0,ssr:!1},t),e}var m6=function(t){var e=t.sideCar,n=p6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,rl({},n))};m6.isSideCarExport=!0;function hk(t,e){return t.useMedium(e),m6}var v6=dk(),J1=function(){},_v=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:J1,onWheelCapture:J1,onTouchMoveCapture:J1}),r=a[0],l=a[1],c=t.forwardProps,d=t.children,g=t.className,m=t.removeScrollBar,v=t.enabled,_=t.shards,S=t.sideCar,E=t.noRelative,A=t.noIsolation,R=t.inert,O=t.allowPinchZoom,j=t.as,D=j===void 0?"div":j,z=t.gapMode,P=p6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=S,L=uk([n,e]),Y=rl(rl({},P),r);return N.createElement(N.Fragment,null,v&&N.createElement(H,{sideCar:v6,removeScrollBar:m,shards:_,noRelative:E,noIsolation:A,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),c?N.cloneElement(N.Children.only(d),rl(rl({},Y),{ref:L})):N.createElement(D,rl({},Y,{className:g,ref:L}),d))});_v.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_v.classNames={fullWidth:Cm,zeroRight:Em};var gk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pk(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gk();return e&&t.setAttribute("nonce",e),t}function mk(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vk(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yk=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pk())&&(mk(e,n),vk(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bk=function(){var t=yk();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},y6=function(){var t=bk(),e=function(n){var a=n.styles,r=n.dynamic;return t(a,r),null};return e},_k={left:0,top:0,right:0,gap:0},W1=function(t){return parseInt(t||"",10)||0},Sk=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[W1(n),W1(a),W1(r)]},xk=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _k;var e=Sk(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},wk=y6(),Dd="data-scroll-locked",Ek=function(t,e,n,a){var r=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rk,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Em,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Cm,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Em," .").concat(Em,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(sk,": ").concat(d,`px;
  }
`)},E5=function(){var t=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(t)?t:0},Ck=function(){N.useEffect(function(){return document.body.setAttribute(Dd,(E5()+1).toString()),function(){var t=E5()-1;t<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,t.toString())}},[])},Tk=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,r=a===void 0?"margin":a;Ck();var l=N.useMemo(function(){return xk(r)},[r]);return N.createElement(wk,{styles:Ek(l,!e,r,n?"":"!important")})},Jy=!1;if(typeof window<"u")try{var fm=Object.defineProperty({},"passive",{get:function(){return Jy=!0,!0}});window.addEventListener("test",fm,fm),window.removeEventListener("test",fm,fm)}catch{Jy=!1}var yd=Jy?{passive:!1}:!1,Ak=function(t){return t.tagName==="TEXTAREA"},b6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ak(t)&&n[e]==="visible")},Rk=function(t){return b6(t,"overflowY")},Ok=function(t){return b6(t,"overflowX")},C5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=_6(t,a);if(r){var l=S6(t,a),c=l[1],d=l[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Nk=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},Mk=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},_6=function(t,e){return t==="v"?Rk(e):Ok(e)},S6=function(t,e){return t==="v"?Nk(e):Mk(e)},Dk=function(t,e){return t==="h"&&e==="rtl"?-1:1},jk=function(t,e,n,a,r){var l=Dk(t,window.getComputedStyle(e).direction),c=l*a,d=n.target,g=e.contains(d),m=!1,v=c>0,_=0,S=0;do{if(!d)break;var E=S6(t,d),A=E[0],R=E[1],O=E[2],j=R-O-l*A;(A||j)&&_6(t,d)&&(_+=j,S+=A);var D=d.parentNode;d=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!g&&d!==document.body||g&&(e.contains(d)||e===d));return(v&&Math.abs(_)<1||!v&&Math.abs(S)<1)&&(m=!0),m},dm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},T5=function(t){return[t.deltaX,t.deltaY]},A5=function(t){return t&&"current"in t?t.current:t},zk=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Uk=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},kk=0,bd=[];function Lk(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),r=N.useState(kk++)[0],l=N.useState(y6)[0],c=N.useRef(t);N.useEffect(function(){c.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var R=ik([t.lockRef.current],(t.shards||[]).map(A5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var d=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var j=dm(R),D=n.current,z="deltaX"in R?R.deltaX:D[0]-j[0],P="deltaY"in R?R.deltaY:D[1]-j[1],H,L=R.target,Y=Math.abs(z)>Math.abs(P)?"h":"v";if("touches"in R&&Y==="h"&&L.type==="range")return!1;var ie=C5(Y,L);if(!ie)return!0;if(ie?H=Y:(H=Y==="v"?"h":"v",ie=C5(Y,L)),!ie)return!1;if(!a.current&&"changedTouches"in R&&(z||P)&&(a.current=H),!H)return!0;var ue=a.current||H;return jk(ue,O,R,ue==="h"?z:P)},[]),g=N.useCallback(function(R){var O=R;if(!(!bd.length||bd[bd.length-1]!==l)){var j="deltaY"in O?T5(O):dm(O),D=e.current.filter(function(H){return H.name===O.type&&(H.target===O.target||O.target===H.shadowParent)&&zk(H.delta,j)})[0];if(D&&D.should){O.cancelable&&O.preventDefault();return}if(!D){var z=(c.current.shards||[]).map(A5).filter(Boolean).filter(function(H){return H.contains(O.target)}),P=z.length>0?d(O,z[0]):!c.current.noIsolation;P&&O.cancelable&&O.preventDefault()}}},[]),m=N.useCallback(function(R,O,j,D){var z={name:R,delta:O,target:j,should:D,shadowParent:Pk(j)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(P){return P!==z})},1)},[]),v=N.useCallback(function(R){n.current=dm(R),a.current=void 0},[]),_=N.useCallback(function(R){m(R.type,T5(R),R.target,d(R,t.lockRef.current))},[]),S=N.useCallback(function(R){m(R.type,dm(R),R.target,d(R,t.lockRef.current))},[]);N.useEffect(function(){return bd.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",g,yd),document.addEventListener("touchmove",g,yd),document.addEventListener("touchstart",v,yd),function(){bd=bd.filter(function(R){return R!==l}),document.removeEventListener("wheel",g,yd),document.removeEventListener("touchmove",g,yd),document.removeEventListener("touchstart",v,yd)}},[]);var E=t.removeScrollBar,A=t.inert;return N.createElement(N.Fragment,null,A?N.createElement(l,{styles:Uk(r)}):null,E?N.createElement(Tk,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Pk(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Bk=hk(v6,Lk);var q2=N.forwardRef(function(t,e){return N.createElement(_v,rl({},t,{ref:e,sideCar:Bk}))});q2.classNames=_v.classNames;var Hk=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_d=new WeakMap,hm=new WeakMap,gm={},ey=0,x6=function(t){return t&&(t.host||x6(t.parentNode))},Gk=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=x6(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},qk=function(t,e,n,a){var r=Gk(e,Array.isArray(t)?t:[t]);gm[n]||(gm[n]=new WeakMap);var l=gm[n],c=[],d=new Set,g=new Set(r),m=function(_){!_||d.has(_)||(d.add(_),m(_.parentNode))};r.forEach(m);var v=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(S){if(d.has(S))v(S);else try{var E=S.getAttribute(a),A=E!==null&&E!=="false",R=(_d.get(S)||0)+1,O=(l.get(S)||0)+1;_d.set(S,R),l.set(S,O),c.push(S),R===1&&A&&hm.set(S,!0),O===1&&S.setAttribute(n,"true"),A||S.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",S,j)}})};return v(e),d.clear(),ey++,function(){c.forEach(function(_){var S=_d.get(_)-1,E=l.get(_)-1;_d.set(_,S),l.set(_,E),S||(hm.has(_)||_.removeAttribute(a),hm.delete(_)),E||_.removeAttribute(n)}),ey--,ey||(_d=new WeakMap,_d=new WeakMap,hm=new WeakMap,gm={})}},w6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),r=Hk(t);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),qk(a,r,n,"aria-hidden")):function(){return null}},Sv="Dialog",[E6,C6]=uo(Sv),[Vk,vs]=E6(Sv),T6=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:r,onOpenChange:l,modal:c=!0}=t,d=N.useRef(null),g=N.useRef(null),[m,v]=Gd({prop:a,defaultProp:r??!1,onChange:l,caller:Sv});return T.jsx(Vk,{scope:e,triggerRef:d,contentRef:g,contentId:Md(),titleId:Md(),descriptionId:Md(),open:m,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:c,children:n})};T6.displayName=Sv;var A6="DialogTrigger",R6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(A6,n),l=ma(e,r.triggerRef);return T.jsx(wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Z2(r.open),...a,ref:l,onClick:Ct(t.onClick,r.onOpenToggle)})});R6.displayName=A6;var V2="DialogPortal",[Yk,O6]=E6(V2,{forceMount:void 0}),N6=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:r}=t,l=vs(V2,e);return T.jsx(Yk,{scope:e,forceMount:n,children:N.Children.map(a,c=>T.jsx(Eu,{present:n||l.open,children:T.jsx(G2,{asChild:!0,container:r,children:c})}))})};N6.displayName=V2;var Ym="DialogOverlay",M6=N.forwardRef((t,e)=>{const n=O6(Ym,t.__scopeDialog),{forceMount:a=n.forceMount,...r}=t,l=vs(Ym,t.__scopeDialog);return l.modal?T.jsx(Eu,{present:a||l.open,children:T.jsx(Xk,{...r,ref:e})}):null});M6.displayName=Ym;var Zk=X0("DialogOverlay.RemoveScroll"),Xk=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(Ym,n);return T.jsx(q2,{as:Zk,allowPinchZoom:!0,shards:[r.contentRef],children:T.jsx(wn.div,{"data-state":Z2(r.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),jc="DialogContent",D6=N.forwardRef((t,e)=>{const n=O6(jc,t.__scopeDialog),{forceMount:a=n.forceMount,...r}=t,l=vs(jc,t.__scopeDialog);return T.jsx(Eu,{present:a||l.open,children:l.modal?T.jsx(Ik,{...r,ref:e}):T.jsx(Kk,{...r,ref:e})})});D6.displayName=jc;var Ik=N.forwardRef((t,e)=>{const n=vs(jc,t.__scopeDialog),a=N.useRef(null),r=ma(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return w6(l)},[]),T.jsx(j6,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ct(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Ct(t.onFocusOutside,l=>l.preventDefault())})}),Kk=N.forwardRef((t,e)=>{const n=vs(jc,t.__scopeDialog),a=N.useRef(!1),r=N.useRef(!1);return T.jsx(j6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),j6=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,...c}=t,d=vs(jc,n),g=N.useRef(null),m=ma(e,g);return g6(),T.jsxs(T.Fragment,{children:[T.jsx(H2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:l,children:T.jsx(B2,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Z2(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(Qk,{titleId:d.titleId}),T.jsx(Jk,{contentRef:g,descriptionId:d.descriptionId})]})]})}),Y2="DialogTitle",z6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(Y2,n);return T.jsx(wn.h2,{id:r.titleId,...a,ref:e})});z6.displayName=Y2;var U6="DialogDescription",k6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(U6,n);return T.jsx(wn.p,{id:r.descriptionId,...a,ref:e})});k6.displayName=U6;var L6="DialogClose",P6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(L6,n);return T.jsx(wn.button,{type:"button",...a,ref:e,onClick:Ct(t.onClick,()=>r.onOpenChange(!1))})});P6.displayName=L6;function Z2(t){return t?"open":"closed"}var B6="DialogTitleWarning",[Fk,H6]=MU(B6,{contentName:jc,titleName:Y2,docsSlug:"dialog"}),Qk=({titleId:t})=>{const e=H6(B6),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$k="DialogDescriptionWarning",Jk=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${H6($k).contentName}}.`;return N.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},Wk=T6,eL=R6,tL=N6,nL=M6,aL=D6,iL=z6,rL=k6,G6=P6,q6="AlertDialog",[sL]=uo(q6,[C6]),co=C6(),V6=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return T.jsx(Wk,{...a,...n,modal:!0})};V6.displayName=q6;var lL="AlertDialogTrigger",Y6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=co(n);return T.jsx(eL,{...r,...a,ref:e})});Y6.displayName=lL;var oL="AlertDialogPortal",Z6=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return T.jsx(tL,{...a,...n})};Z6.displayName=oL;var uL="AlertDialogOverlay",X6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=co(n);return T.jsx(nL,{...r,...a,ref:e})});X6.displayName=uL;var jd="AlertDialogContent",[cL,fL]=sL(jd),dL=TU("AlertDialogContent"),I6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...r}=t,l=co(n),c=N.useRef(null),d=ma(e,c),g=N.useRef(null);return T.jsx(Fk,{contentName:jd,titleName:K6,docsSlug:"alert-dialog",children:T.jsx(cL,{scope:n,cancelRef:g,children:T.jsxs(aL,{role:"alertdialog",...l,...r,ref:d,onOpenAutoFocus:Ct(r.onOpenAutoFocus,m=>{m.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[T.jsx(dL,{children:a}),T.jsx(gL,{contentRef:c})]})})})});I6.displayName=jd;var K6="AlertDialogTitle",F6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=co(n);return T.jsx(iL,{...r,...a,ref:e})});F6.displayName=K6;var Q6="AlertDialogDescription",$6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=co(n);return T.jsx(rL,{...r,...a,ref:e})});$6.displayName=Q6;var hL="AlertDialogAction",J6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=co(n);return T.jsx(G6,{...r,...a,ref:e})});J6.displayName=hL;var W6="AlertDialogCancel",ex=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:r}=fL(W6,n),l=co(n),c=ma(e,r);return T.jsx(G6,{...l,...a,ref:c})});ex.displayName=W6;var gL=({contentRef:t})=>{const e=`\`${jd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jd}\` by passing a \`${Q6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ty=V6,ny=Y6,ay=Z6,iy=X6,ry=I6,R5=J6,sy=ex,ly=F6,oy=$6;function pL(t){const[e,n]=N.useState(void 0);return gu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let c,d;if("borderBoxSize"in l){const g=l.borderBoxSize,m=Array.isArray(g)?g[0]:g;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const mL=["top","right","bottom","left"],pu=Math.min,tr=Math.max,Zm=Math.round,pm=Math.floor,ol=t=>({x:t,y:t}),vL={left:"right",right:"left",bottom:"top",top:"bottom"},yL={start:"end",end:"start"};function Wy(t,e,n){return tr(t,pu(e,n))}function no(t,e){return typeof t=="function"?t(e):t}function ao(t){return t.split("-")[0]}function qd(t){return t.split("-")[1]}function X2(t){return t==="x"?"y":"x"}function I2(t){return t==="y"?"height":"width"}const bL=new Set(["top","bottom"]);function sl(t){return bL.has(ao(t))?"y":"x"}function K2(t){return X2(sl(t))}function _L(t,e,n){n===void 0&&(n=!1);const a=qd(t),r=K2(t),l=I2(r);let c=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Xm(c)),[c,Xm(c)]}function SL(t){const e=Xm(t);return[e2(t),e,e2(e)]}function e2(t){return t.replace(/start|end/g,e=>yL[e])}const O5=["left","right"],N5=["right","left"],xL=["top","bottom"],wL=["bottom","top"];function EL(t,e,n){switch(t){case"top":case"bottom":return n?e?N5:O5:e?O5:N5;case"left":case"right":return e?xL:wL;default:return[]}}function CL(t,e,n,a){const r=qd(t);let l=EL(ao(t),n==="start",a);return r&&(l=l.map(c=>c+"-"+r),e&&(l=l.concat(l.map(e2)))),l}function Xm(t){return t.replace(/left|right|bottom|top/g,e=>vL[e])}function TL(t){return{top:0,right:0,bottom:0,left:0,...t}}function tx(t){return typeof t!="number"?TL(t):{top:t,right:t,bottom:t,left:t}}function Im(t){const{x:e,y:n,width:a,height:r}=t;return{width:a,height:r,top:n,left:e,right:e+a,bottom:n+r,x:e,y:n}}function M5(t,e,n){let{reference:a,floating:r}=t;const l=sl(e),c=K2(e),d=I2(c),g=ao(e),m=l==="y",v=a.x+a.width/2-r.width/2,_=a.y+a.height/2-r.height/2,S=a[d]/2-r[d]/2;let E;switch(g){case"top":E={x:v,y:a.y-r.height};break;case"bottom":E={x:v,y:a.y+a.height};break;case"right":E={x:a.x+a.width,y:_};break;case"left":E={x:a.x-r.width,y:_};break;default:E={x:a.x,y:a.y}}switch(qd(e)){case"start":E[c]-=S*(n&&m?-1:1);break;case"end":E[c]+=S*(n&&m?-1:1);break}return E}const AL=async(t,e,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),g=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:r}),{x:v,y:_}=M5(m,a,g),S=a,E={},A=0;for(let R=0;R<d.length;R++){const{name:O,fn:j}=d[R],{x:D,y:z,data:P,reset:H}=await j({x:v,y:_,initialPlacement:a,placement:S,strategy:r,middlewareData:E,rects:m,platform:c,elements:{reference:t,floating:e}});v=D??v,_=z??_,E={...E,[O]:{...E[O],...P}},H&&A<=50&&(A++,typeof H=="object"&&(H.placement&&(S=H.placement),H.rects&&(m=H.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:r}):H.rects),{x:v,y:_}=M5(m,S,g)),R=-1)}return{x:v,y:_,placement:S,strategy:r,middlewareData:E}};async function I0(t,e){var n;e===void 0&&(e={});const{x:a,y:r,platform:l,rects:c,elements:d,strategy:g}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:S=!1,padding:E=0}=no(e,t),A=tx(E),O=d[S?_==="floating"?"reference":"floating":_],j=Im(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:g})),D=_==="floating"?{x:a,y:r,width:c.floating.width,height:c.floating.height}:c.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),P=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},H=Im(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:z,strategy:g}):D);return{top:(j.top-H.top+A.top)/P.y,bottom:(H.bottom-j.bottom+A.bottom)/P.y,left:(j.left-H.left+A.left)/P.x,right:(H.right-j.right+A.right)/P.x}}const RL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:r,rects:l,platform:c,elements:d,middlewareData:g}=e,{element:m,padding:v=0}=no(t,e)||{};if(m==null)return{};const _=tx(v),S={x:n,y:a},E=K2(r),A=I2(E),R=await c.getDimensions(m),O=E==="y",j=O?"top":"left",D=O?"bottom":"right",z=O?"clientHeight":"clientWidth",P=l.reference[A]+l.reference[E]-S[E]-l.floating[A],H=S[E]-l.reference[E],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let Y=L?L[z]:0;(!Y||!await(c.isElement==null?void 0:c.isElement(L)))&&(Y=d.floating[z]||l.floating[A]);const ie=P/2-H/2,ue=Y/2-R[A]/2-1,me=pu(_[j],ue),Te=pu(_[D],ue),ve=me,pe=Y-R[A]-Te,ye=Y/2-R[A]/2+ie,Se=Wy(ve,ye,pe),G=!g.arrow&&qd(r)!=null&&ye!==Se&&l.reference[A]/2-(ye<ve?me:Te)-R[A]/2<0,F=G?ye<ve?ye-ve:ye-pe:0;return{[E]:S[E]+F,data:{[E]:Se,centerOffset:ye-Se-F,...G&&{alignmentOffset:F}},reset:G}}}),OL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:r,middlewareData:l,rects:c,initialPlacement:d,platform:g,elements:m}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...O}=no(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const j=ao(r),D=sl(d),z=ao(d)===d,P=await(g.isRTL==null?void 0:g.isRTL(m.floating)),H=S||(z||!R?[Xm(d)]:SL(d)),L=A!=="none";!S&&L&&H.push(...CL(d,R,A,P));const Y=[d,...H],ie=await I0(e,O),ue=[];let me=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&ue.push(ie[j]),_){const ye=_L(r,c,P);ue.push(ie[ye[0]],ie[ye[1]])}if(me=[...me,{placement:r,overflows:ue}],!ue.every(ye=>ye<=0)){var Te,ve;const ye=(((Te=l.flip)==null?void 0:Te.index)||0)+1,Se=Y[ye];if(Se&&(!(_==="alignment"?D!==sl(Se):!1)||me.every(X=>sl(X.placement)===D?X.overflows[0]>0:!0)))return{data:{index:ye,overflows:me},reset:{placement:Se}};let G=(ve=me.filter(F=>F.overflows[0]<=0).sort((F,X)=>F.overflows[1]-X.overflows[1])[0])==null?void 0:ve.placement;if(!G)switch(E){case"bestFit":{var pe;const F=(pe=me.filter(X=>{if(L){const W=sl(X.placement);return W===D||W==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(W=>W>0).reduce((W,B)=>W+B,0)]).sort((X,W)=>X[1]-W[1])[0])==null?void 0:pe[0];F&&(G=F);break}case"initialPlacement":G=d;break}if(r!==G)return{reset:{placement:G}}}return{}}}};function D5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j5(t){return mL.some(e=>t[e]>=0)}const NL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...r}=no(t,e);switch(a){case"referenceHidden":{const l=await I0(e,{...r,elementContext:"reference"}),c=D5(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:j5(c)}}}case"escaped":{const l=await I0(e,{...r,altBoundary:!0}),c=D5(l,n.floating);return{data:{escapedOffsets:c,escaped:j5(c)}}}default:return{}}}}},nx=new Set(["left","top"]);async function ML(t,e){const{placement:n,platform:a,elements:r}=t,l=await(a.isRTL==null?void 0:a.isRTL(r.floating)),c=ao(n),d=qd(n),g=sl(n)==="y",m=nx.has(c)?-1:1,v=l&&g?-1:1,_=no(e,t);let{mainAxis:S,crossAxis:E,alignmentAxis:A}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof A=="number"&&(E=d==="end"?A*-1:A),g?{x:E*v,y:S*m}:{x:S*m,y:E*v}}const DL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:r,y:l,placement:c,middlewareData:d}=e,g=await ML(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:r+g.x,y:l+g.y,data:{...g,placement:c}}}}},jL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:r}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:O=>{let{x:j,y:D}=O;return{x:j,y:D}}},...g}=no(t,e),m={x:n,y:a},v=await I0(e,g),_=sl(ao(r)),S=X2(_);let E=m[S],A=m[_];if(l){const O=S==="y"?"top":"left",j=S==="y"?"bottom":"right",D=E+v[O],z=E-v[j];E=Wy(D,E,z)}if(c){const O=_==="y"?"top":"left",j=_==="y"?"bottom":"right",D=A+v[O],z=A-v[j];A=Wy(D,A,z)}const R=d.fn({...e,[S]:E,[_]:A});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[S]:l,[_]:c}}}}}},zL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:r,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:g=!0,crossAxis:m=!0}=no(t,e),v={x:n,y:a},_=sl(r),S=X2(_);let E=v[S],A=v[_];const R=no(d,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(g){const z=S==="y"?"height":"width",P=l.reference[S]-l.floating[z]+O.mainAxis,H=l.reference[S]+l.reference[z]-O.mainAxis;E<P?E=P:E>H&&(E=H)}if(m){var j,D;const z=S==="y"?"width":"height",P=nx.has(ao(r)),H=l.reference[_]-l.floating[z]+(P&&((j=c.offset)==null?void 0:j[_])||0)+(P?0:O.crossAxis),L=l.reference[_]+l.reference[z]+(P?0:((D=c.offset)==null?void 0:D[_])||0)-(P?O.crossAxis:0);A<H?A=H:A>L&&(A=L)}return{[S]:E,[_]:A}}}},UL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:r,rects:l,platform:c,elements:d}=e,{apply:g=()=>{},...m}=no(t,e),v=await I0(e,m),_=ao(r),S=qd(r),E=sl(r)==="y",{width:A,height:R}=l.floating;let O,j;_==="top"||_==="bottom"?(O=_,j=S===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(j=_,O=S==="end"?"top":"bottom");const D=R-v.top-v.bottom,z=A-v.left-v.right,P=pu(R-v[O],D),H=pu(A-v[j],z),L=!e.middlewareData.shift;let Y=P,ie=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(ie=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(Y=D),L&&!S){const me=tr(v.left,0),Te=tr(v.right,0),ve=tr(v.top,0),pe=tr(v.bottom,0);E?ie=A-2*(me!==0||Te!==0?me+Te:tr(v.left,v.right)):Y=R-2*(ve!==0||pe!==0?ve+pe:tr(v.top,v.bottom))}await g({...e,availableWidth:ie,availableHeight:Y});const ue=await c.getDimensions(d.floating);return A!==ue.width||R!==ue.height?{reset:{rects:!0}}:{}}}};function xv(){return typeof window<"u"}function Vd(t){return ax(t)?(t.nodeName||"").toLowerCase():"#document"}function rr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hl(t){var e;return(e=(ax(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ax(t){return xv()?t instanceof Node||t instanceof rr(t).Node:!1}function gs(t){return xv()?t instanceof Element||t instanceof rr(t).Element:!1}function ul(t){return xv()?t instanceof HTMLElement||t instanceof rr(t).HTMLElement:!1}function z5(t){return!xv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rr(t).ShadowRoot}const kL=new Set(["inline","contents"]);function sg(t){const{overflow:e,overflowX:n,overflowY:a,display:r}=ps(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!kL.has(r)}const LL=new Set(["table","td","th"]);function PL(t){return LL.has(Vd(t))}const BL=[":popover-open",":modal"];function wv(t){return BL.some(e=>{try{return t.matches(e)}catch{return!1}})}const HL=["transform","translate","scale","rotate","perspective"],GL=["transform","translate","scale","rotate","perspective","filter"],qL=["paint","layout","strict","content"];function F2(t){const e=Q2(),n=gs(t)?ps(t):t;return HL.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||GL.some(a=>(n.willChange||"").includes(a))||qL.some(a=>(n.contain||"").includes(a))}function VL(t){let e=mu(t);for(;ul(e)&&!Pd(e);){if(F2(e))return e;if(wv(e))return null;e=mu(e)}return null}function Q2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YL=new Set(["html","body","#document"]);function Pd(t){return YL.has(Vd(t))}function ps(t){return rr(t).getComputedStyle(t)}function Ev(t){return gs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mu(t){if(Vd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||z5(t)&&t.host||hl(t);return z5(e)?e.host:e}function ix(t){const e=mu(t);return Pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ul(e)&&sg(e)?e:ix(e)}function K0(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=ix(t),l=r===((a=t.ownerDocument)==null?void 0:a.body),c=rr(r);if(l){const d=t2(c);return e.concat(c,c.visualViewport||[],sg(r)?r:[],d&&n?K0(d):[])}return e.concat(r,K0(r,[],n))}function t2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rx(t){const e=ps(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const r=ul(t),l=r?t.offsetWidth:n,c=r?t.offsetHeight:a,d=Zm(n)!==l||Zm(a)!==c;return d&&(n=l,a=c),{width:n,height:a,$:d}}function $2(t){return gs(t)?t:t.contextElement}function zd(t){const e=$2(t);if(!ul(e))return ol(1);const n=e.getBoundingClientRect(),{width:a,height:r,$:l}=rx(e);let c=(l?Zm(n.width):n.width)/a,d=(l?Zm(n.height):n.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const ZL=ol(0);function sx(t){const e=rr(t);return!Q2()||!e.visualViewport?ZL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rr(t)?!1:e}function zc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),l=$2(t);let c=ol(1);e&&(a?gs(a)&&(c=zd(a)):c=zd(t));const d=XL(l,n,a)?sx(l):ol(0);let g=(r.left+d.x)/c.x,m=(r.top+d.y)/c.y,v=r.width/c.x,_=r.height/c.y;if(l){const S=rr(l),E=a&&gs(a)?rr(a):a;let A=S,R=t2(A);for(;R&&a&&E!==A;){const O=zd(R),j=R.getBoundingClientRect(),D=ps(R),z=j.left+(R.clientLeft+parseFloat(D.paddingLeft))*O.x,P=j.top+(R.clientTop+parseFloat(D.paddingTop))*O.y;g*=O.x,m*=O.y,v*=O.x,_*=O.y,g+=z,m+=P,A=rr(R),R=t2(A)}}return Im({width:v,height:_,x:g,y:m})}function Cv(t,e){const n=Ev(t).scrollLeft;return e?e.left+n:zc(hl(t)).left+n}function lx(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Cv(t,n),r=n.top+e.scrollTop;return{x:a,y:r}}function IL(t){let{elements:e,rect:n,offsetParent:a,strategy:r}=t;const l=r==="fixed",c=hl(a),d=e?wv(e.floating):!1;if(a===c||d&&l)return n;let g={scrollLeft:0,scrollTop:0},m=ol(1);const v=ol(0),_=ul(a);if((_||!_&&!l)&&((Vd(a)!=="body"||sg(c))&&(g=Ev(a)),ul(a))){const E=zc(a);m=zd(a),v.x=E.x+a.clientLeft,v.y=E.y+a.clientTop}const S=c&&!_&&!l?lx(c,g):ol(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-g.scrollLeft*m.x+v.x+S.x,y:n.y*m.y-g.scrollTop*m.y+v.y+S.y}}function KL(t){return Array.from(t.getClientRects())}function FL(t){const e=hl(t),n=Ev(t),a=t.ownerDocument.body,r=tr(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=tr(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let c=-n.scrollLeft+Cv(t);const d=-n.scrollTop;return ps(a).direction==="rtl"&&(c+=tr(e.clientWidth,a.clientWidth)-r),{width:r,height:l,x:c,y:d}}const U5=25;function QL(t,e){const n=rr(t),a=hl(t),r=n.visualViewport;let l=a.clientWidth,c=a.clientHeight,d=0,g=0;if(r){l=r.width,c=r.height;const v=Q2();(!v||v&&e==="fixed")&&(d=r.offsetLeft,g=r.offsetTop)}const m=Cv(a);if(m<=0){const v=a.ownerDocument,_=v.body,S=getComputedStyle(_),E=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,A=Math.abs(a.clientWidth-_.clientWidth-E);A<=U5&&(l-=A)}else m<=U5&&(l+=m);return{width:l,height:c,x:d,y:g}}const $L=new Set(["absolute","fixed"]);function JL(t,e){const n=zc(t,!0,e==="fixed"),a=n.top+t.clientTop,r=n.left+t.clientLeft,l=ul(t)?zd(t):ol(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,g=r*l.x,m=a*l.y;return{width:c,height:d,x:g,y:m}}function k5(t,e,n){let a;if(e==="viewport")a=QL(t,n);else if(e==="document")a=FL(hl(t));else if(gs(e))a=JL(e,n);else{const r=sx(t);a={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Im(a)}function ox(t,e){const n=mu(t);return n===e||!gs(n)||Pd(n)?!1:ps(n).position==="fixed"||ox(n,e)}function WL(t,e){const n=e.get(t);if(n)return n;let a=K0(t,[],!1).filter(d=>gs(d)&&Vd(d)!=="body"),r=null;const l=ps(t).position==="fixed";let c=l?mu(t):t;for(;gs(c)&&!Pd(c);){const d=ps(c),g=F2(c);!g&&d.position==="fixed"&&(r=null),(l?!g&&!r:!g&&d.position==="static"&&!!r&&$L.has(r.position)||sg(c)&&!g&&ox(t,c))?a=a.filter(v=>v!==c):r=d,c=mu(c)}return e.set(t,a),a}function eP(t){let{element:e,boundary:n,rootBoundary:a,strategy:r}=t;const c=[...n==="clippingAncestors"?wv(e)?[]:WL(e,this._c):[].concat(n),a],d=c[0],g=c.reduce((m,v)=>{const _=k5(e,v,r);return m.top=tr(_.top,m.top),m.right=pu(_.right,m.right),m.bottom=pu(_.bottom,m.bottom),m.left=tr(_.left,m.left),m},k5(e,d,r));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function tP(t){const{width:e,height:n}=rx(t);return{width:e,height:n}}function nP(t,e,n){const a=ul(e),r=hl(e),l=n==="fixed",c=zc(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const g=ol(0);function m(){g.x=Cv(r)}if(a||!a&&!l)if((Vd(e)!=="body"||sg(r))&&(d=Ev(e)),a){const E=zc(e,!0,l,e);g.x=E.x+e.clientLeft,g.y=E.y+e.clientTop}else r&&m();l&&!a&&r&&m();const v=r&&!a&&!l?lx(r,d):ol(0),_=c.left+d.scrollLeft-g.x-v.x,S=c.top+d.scrollTop-g.y-v.y;return{x:_,y:S,width:c.width,height:c.height}}function uy(t){return ps(t).position==="static"}function L5(t,e){if(!ul(t)||ps(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hl(t)===n&&(n=n.ownerDocument.body),n}function ux(t,e){const n=rr(t);if(wv(t))return n;if(!ul(t)){let r=mu(t);for(;r&&!Pd(r);){if(gs(r)&&!uy(r))return r;r=mu(r)}return n}let a=L5(t,e);for(;a&&PL(a)&&uy(a);)a=L5(a,e);return a&&Pd(a)&&uy(a)&&!F2(a)?n:a||VL(t)||n}const aP=async function(t){const e=this.getOffsetParent||ux,n=this.getDimensions,a=await n(t.floating);return{reference:nP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function iP(t){return ps(t).direction==="rtl"}const rP={convertOffsetParentRelativeRectToViewportRelativeRect:IL,getDocumentElement:hl,getClippingRect:eP,getOffsetParent:ux,getElementRects:aP,getClientRects:KL,getDimensions:tP,getScale:zd,isElement:gs,isRTL:iP};function cx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sP(t,e){let n=null,a;const r=hl(t);function l(){var d;clearTimeout(a),(d=n)==null||d.disconnect(),n=null}function c(d,g){d===void 0&&(d=!1),g===void 0&&(g=1),l();const m=t.getBoundingClientRect(),{left:v,top:_,width:S,height:E}=m;if(d||e(),!S||!E)return;const A=pm(_),R=pm(r.clientWidth-(v+S)),O=pm(r.clientHeight-(_+E)),j=pm(v),z={rootMargin:-A+"px "+-R+"px "+-O+"px "+-j+"px",threshold:tr(0,pu(1,g))||1};let P=!0;function H(L){const Y=L[0].intersectionRatio;if(Y!==g){if(!P)return c();Y?c(!1,Y):a=setTimeout(()=>{c(!1,1e-7)},1e3)}Y===1&&!cx(m,t.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(H,{...z,root:r.ownerDocument})}catch{n=new IntersectionObserver(H,z)}n.observe(t)}return c(!0),l}function lP(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,m=$2(t),v=r||l?[...m?K0(m):[],...K0(e)]:[];v.forEach(j=>{r&&j.addEventListener("scroll",n,{passive:!0}),l&&j.addEventListener("resize",n)});const _=m&&d?sP(m,n):null;let S=-1,E=null;c&&(E=new ResizeObserver(j=>{let[D]=j;D&&D.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var z;(z=E)==null||z.observe(e)})),n()}),m&&!g&&E.observe(m),E.observe(e));let A,R=g?zc(t):null;g&&O();function O(){const j=zc(t);R&&!cx(R,j)&&n(),R=j,A=requestAnimationFrame(O)}return n(),()=>{var j;v.forEach(D=>{r&&D.removeEventListener("scroll",n),l&&D.removeEventListener("resize",n)}),_?.(),(j=E)==null||j.disconnect(),E=null,g&&cancelAnimationFrame(A)}}const oP=DL,uP=jL,cP=OL,fP=UL,dP=NL,P5=RL,hP=zL,gP=(t,e,n)=>{const a=new Map,r={platform:rP,...n},l={...r.platform,_c:a};return AL(t,e,{...r,platform:l})};var pP=typeof document<"u",mP=function(){},Tm=pP?N.useLayoutEffect:mP;function Km(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!Km(t[a],e[a]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,r[a]))return!1;for(a=n;a--!==0;){const l=r[a];if(!(l==="_owner"&&t.$$typeof)&&!Km(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function fx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B5(t,e){const n=fx(t);return Math.round(e*n)/n}function cy(t){const e=N.useRef(t);return Tm(()=>{e.current=t}),e}function vP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:g,open:m}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,E]=N.useState(a);Km(S,a)||E(a);const[A,R]=N.useState(null),[O,j]=N.useState(null),D=N.useCallback(X=>{X!==L.current&&(L.current=X,R(X))},[]),z=N.useCallback(X=>{X!==Y.current&&(Y.current=X,j(X))},[]),P=l||A,H=c||O,L=N.useRef(null),Y=N.useRef(null),ie=N.useRef(v),ue=g!=null,me=cy(g),Te=cy(r),ve=cy(m),pe=N.useCallback(()=>{if(!L.current||!Y.current)return;const X={placement:e,strategy:n,middleware:S};Te.current&&(X.platform=Te.current),gP(L.current,Y.current,X).then(W=>{const B={...W,isPositioned:ve.current!==!1};ye.current&&!Km(ie.current,B)&&(ie.current=B,av.flushSync(()=>{_(B)}))})},[S,e,n,Te,ve]);Tm(()=>{m===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,_(X=>({...X,isPositioned:!1})))},[m]);const ye=N.useRef(!1);Tm(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Tm(()=>{if(P&&(L.current=P),H&&(Y.current=H),P&&H){if(me.current)return me.current(P,H,pe);pe()}},[P,H,pe,me,ue]);const Se=N.useMemo(()=>({reference:L,floating:Y,setReference:D,setFloating:z}),[D,z]),G=N.useMemo(()=>({reference:P,floating:H}),[P,H]),F=N.useMemo(()=>{const X={position:n,left:0,top:0};if(!G.floating)return X;const W=B5(G.floating,v.x),B=B5(G.floating,v.y);return d?{...X,transform:"translate("+W+"px, "+B+"px)",...fx(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:B}},[n,d,G.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:pe,refs:Se,elements:G,floatingStyles:F}),[v,pe,Se,G,F])}const yP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:r}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?P5({element:a.current,padding:r}).fn(n):{}:a?P5({element:a,padding:r}).fn(n):{}}}},bP=(t,e)=>({...oP(t),options:[t,e]}),_P=(t,e)=>({...uP(t),options:[t,e]}),SP=(t,e)=>({...hP(t),options:[t,e]}),xP=(t,e)=>({...cP(t),options:[t,e]}),wP=(t,e)=>({...fP(t),options:[t,e]}),EP=(t,e)=>({...dP(t),options:[t,e]}),CP=(t,e)=>({...yP(t),options:[t,e]});var TP="Arrow",dx=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:r=5,...l}=t;return T.jsx(wn.svg,{...l,ref:e,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});dx.displayName=TP;var AP=dx,J2="Popper",[hx,gx]=uo(J2),[RP,px]=hx(J2),mx=t=>{const{__scopePopper:e,children:n}=t,[a,r]=N.useState(null);return T.jsx(RP,{scope:e,anchor:a,onAnchorChange:r,children:n})};mx.displayName=J2;var vx="PopperAnchor",yx=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...r}=t,l=px(vx,n),c=N.useRef(null),d=ma(e,c),g=N.useRef(null);return N.useEffect(()=>{const m=g.current;g.current=a?.current||c.current,m!==g.current&&l.onAnchorChange(g.current)}),a?null:T.jsx(wn.div,{...r,ref:d})});yx.displayName=vx;var W2="PopperContent",[OP,NP]=hx(W2),bx=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:r=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:A,...R}=t,O=px(W2,n),[j,D]=N.useState(null),z=ma(e,st=>D(st)),[P,H]=N.useState(null),L=pL(P),Y=L?.width??0,ie=L?.height??0,ue=a+(l!=="center"?"-"+l:""),me=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Te=Array.isArray(m)?m:[m],ve=Te.length>0,pe={padding:me,boundary:Te.filter(DP),altBoundary:ve},{refs:ye,floatingStyles:Se,placement:G,isPositioned:F,middlewareData:X}=vP({strategy:"fixed",placement:ue,whileElementsMounted:(...st)=>lP(...st,{animationFrame:E==="always"}),elements:{reference:O.anchor},middleware:[bP({mainAxis:r+ie,alignmentAxis:c}),g&&_P({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?SP():void 0,...pe}),g&&xP({...pe}),wP({...pe,apply:({elements:st,rects:wt,availableWidth:Nn,availableHeight:jt})=>{const{width:Yt,height:Ya}=wt.reference,Wn=st.floating.style;Wn.setProperty("--radix-popper-available-width",`${Nn}px`),Wn.setProperty("--radix-popper-available-height",`${jt}px`),Wn.setProperty("--radix-popper-anchor-width",`${Yt}px`),Wn.setProperty("--radix-popper-anchor-height",`${Ya}px`)}}),P&&CP({element:P,padding:d}),jP({arrowWidth:Y,arrowHeight:ie}),S&&EP({strategy:"referenceHidden",...pe})]}),[W,B]=xx(G),ne=to(A);gu(()=>{F&&ne?.()},[F,ne]);const _e=X.arrow?.x,be=X.arrow?.y,ze=X.arrow?.centerOffset!==0,[it,Ve]=N.useState();return gu(()=>{j&&Ve(window.getComputedStyle(j).zIndex)},[j]),T.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:F?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:it,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:T.jsx(OP,{scope:n,placedSide:W,onArrowChange:H,arrowX:_e,arrowY:be,shouldHideArrow:ze,children:T.jsx(wn.div,{"data-side":W,"data-align":B,...R,ref:z,style:{...R.style,animation:F?void 0:"none"}})})})});bx.displayName=W2;var _x="PopperArrow",MP={top:"bottom",right:"left",bottom:"top",left:"right"},Sx=N.forwardRef(function(e,n){const{__scopePopper:a,...r}=e,l=NP(_x,a),c=MP[l.placedSide];return T.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:T.jsx(AP,{...r,ref:n,style:{...r.style,display:"block"}})})});Sx.displayName=_x;function DP(t){return t!==null}var jP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:r}=e,c=r.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,g=c?0:t.arrowHeight,[m,v]=xx(n),_={start:"0%",center:"50%",end:"100%"}[v],S=(r.arrow?.x??0)+d/2,E=(r.arrow?.y??0)+g/2;let A="",R="";return m==="bottom"?(A=c?_:`${S}px`,R=`${-g}px`):m==="top"?(A=c?_:`${S}px`,R=`${a.floating.height+g}px`):m==="right"?(A=`${-g}px`,R=c?_:`${E}px`):m==="left"&&(A=`${a.floating.width+g}px`,R=c?_:`${E}px`),{data:{x:A,y:R}}}});function xx(t){const[e,n="center"]=t.split("-");return[e,n]}var zP=mx,UP=yx,kP=bx,LP=Sx,fy="rovingFocusGroup.onEntryFocus",PP={bubbles:!1,cancelable:!0},lg="RovingFocusGroup",[n2,wx,BP]=c6(lg),[HP,Yd]=uo(lg,[BP]),[GP,qP]=HP(lg),Ex=N.forwardRef((t,e)=>T.jsx(n2.Provider,{scope:t.__scopeRovingFocusGroup,children:T.jsx(n2.Slot,{scope:t.__scopeRovingFocusGroup,children:T.jsx(VP,{...t,ref:e})})}));Ex.displayName=lg;var VP=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:r=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,..._}=t,S=N.useRef(null),E=ma(e,S),A=bv(l),[R,O]=Gd({prop:c,defaultProp:d??null,onChange:g,caller:lg}),[j,D]=N.useState(!1),z=to(m),P=wx(n),H=N.useRef(!1),[L,Y]=N.useState(0);return N.useEffect(()=>{const ie=S.current;if(ie)return ie.addEventListener(fy,z),()=>ie.removeEventListener(fy,z)},[z]),T.jsx(GP,{scope:n,orientation:a,dir:A,loop:r,currentTabStopId:R,onItemFocus:N.useCallback(ie=>O(ie),[O]),onItemShiftTab:N.useCallback(()=>D(!0),[]),onFocusableItemAdd:N.useCallback(()=>Y(ie=>ie+1),[]),onFocusableItemRemove:N.useCallback(()=>Y(ie=>ie-1),[]),children:T.jsx(wn.div,{tabIndex:j||L===0?-1:0,"data-orientation":a,..._,ref:E,style:{outline:"none",...t.style},onMouseDown:Ct(t.onMouseDown,()=>{H.current=!0}),onFocus:Ct(t.onFocus,ie=>{const ue=!H.current;if(ie.target===ie.currentTarget&&ue&&!j){const me=new CustomEvent(fy,PP);if(ie.currentTarget.dispatchEvent(me),!me.defaultPrevented){const Te=P().filter(G=>G.focusable),ve=Te.find(G=>G.active),pe=Te.find(G=>G.id===R),Se=[ve,pe,...Te].filter(Boolean).map(G=>G.ref.current);Ax(Se,v)}}H.current=!1}),onBlur:Ct(t.onBlur,()=>D(!1))})})}),Cx="RovingFocusGroupItem",Tx=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:r=!1,tabStopId:l,children:c,...d}=t,g=Md(),m=l||g,v=qP(Cx,n),_=v.currentTabStopId===m,S=wx(n),{onFocusableItemAdd:E,onFocusableItemRemove:A,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return E(),()=>A()},[a,E,A]),T.jsx(n2.ItemSlot,{scope:n,id:m,focusable:a,active:r,children:T.jsx(wn.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:Ct(t.onMouseDown,O=>{a?v.onItemFocus(m):O.preventDefault()}),onFocus:Ct(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:Ct(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const j=XP(O,v.orientation,v.dir);if(j!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=S().filter(P=>P.focusable).map(P=>P.ref.current);if(j==="last")z.reverse();else if(j==="prev"||j==="next"){j==="prev"&&z.reverse();const P=z.indexOf(O.currentTarget);z=v.loop?IP(z,P+1):z.slice(P+1)}setTimeout(()=>Ax(z))}}),children:typeof c=="function"?c({isCurrentTabStop:_,hasTabStop:R!=null}):c})})});Tx.displayName=Cx;var YP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function XP(t,e,n){const a=ZP(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return YP[a]}function Ax(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function IP(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var eb=Ex,Tv=Tx,a2=["Enter"," "],KP=["ArrowDown","PageUp","Home"],Rx=["ArrowUp","PageDown","End"],FP=[...KP,...Rx],QP={ltr:[...a2,"ArrowRight"],rtl:[...a2,"ArrowLeft"]},$P={ltr:["ArrowLeft"],rtl:["ArrowRight"]},og="Menu",[F0,JP,WP]=c6(og),[Zc,Ox]=uo(og,[WP,gx,Yd]),Av=gx(),Nx=Yd(),[eB,Xc]=Zc(og),[tB,ug]=Zc(og),Mx=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:r,onOpenChange:l,modal:c=!0}=t,d=Av(e),[g,m]=N.useState(null),v=N.useRef(!1),_=to(l),S=bv(r);return N.useEffect(()=>{const E=()=>{v.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>v.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),T.jsx(zP,{...d,children:T.jsx(eB,{scope:e,open:n,onOpenChange:_,content:g,onContentChange:m,children:T.jsx(tB,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:S,modal:c,children:a})})})};Mx.displayName=og;var nB="MenuAnchor",tb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,r=Av(n);return T.jsx(UP,{...r,...a,ref:e})});tb.displayName=nB;var nb="MenuPortal",[aB,Dx]=Zc(nb,{forceMount:void 0}),jx=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:r}=t,l=Xc(nb,e);return T.jsx(aB,{scope:e,forceMount:n,children:T.jsx(Eu,{present:n||l.open,children:T.jsx(G2,{asChild:!0,container:r,children:a})})})};jx.displayName=nb;var Dr="MenuContent",[iB,ab]=Zc(Dr),zx=N.forwardRef((t,e)=>{const n=Dx(Dr,t.__scopeMenu),{forceMount:a=n.forceMount,...r}=t,l=Xc(Dr,t.__scopeMenu),c=ug(Dr,t.__scopeMenu);return T.jsx(F0.Provider,{scope:t.__scopeMenu,children:T.jsx(Eu,{present:a||l.open,children:T.jsx(F0.Slot,{scope:t.__scopeMenu,children:c.modal?T.jsx(rB,{...r,ref:e}):T.jsx(sB,{...r,ref:e})})})})}),rB=N.forwardRef((t,e)=>{const n=Xc(Dr,t.__scopeMenu),a=N.useRef(null),r=ma(e,a);return N.useEffect(()=>{const l=a.current;if(l)return w6(l)},[]),T.jsx(ib,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ct(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),sB=N.forwardRef((t,e)=>{const n=Xc(Dr,t.__scopeMenu);return T.jsx(ib,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),lB=X0("MenuContent.ScrollLock"),ib=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:E,disableOutsideScroll:A,...R}=t,O=Xc(Dr,n),j=ug(Dr,n),D=Av(n),z=Nx(n),P=JP(n),[H,L]=N.useState(null),Y=N.useRef(null),ie=ma(e,Y,O.onContentChange),ue=N.useRef(0),me=N.useRef(""),Te=N.useRef(0),ve=N.useRef(null),pe=N.useRef("right"),ye=N.useRef(0),Se=A?q2:N.Fragment,G=A?{as:lB,allowPinchZoom:!0}:void 0,F=W=>{const B=me.current+W,ne=P().filter(st=>!st.disabled),_e=document.activeElement,be=ne.find(st=>st.ref.current===_e)?.textValue,ze=ne.map(st=>st.textValue),it=bB(ze,B,be),Ve=ne.find(st=>st.textValue===it)?.ref.current;(function st(wt){me.current=wt,window.clearTimeout(ue.current),wt!==""&&(ue.current=window.setTimeout(()=>st(""),1e3))})(B),Ve&&setTimeout(()=>Ve.focus())};N.useEffect(()=>()=>window.clearTimeout(ue.current),[]),g6();const X=N.useCallback(W=>pe.current===ve.current?.side&&SB(W,ve.current?.area),[]);return T.jsx(iB,{scope:n,searchRef:me,onItemEnter:N.useCallback(W=>{X(W)&&W.preventDefault()},[X]),onItemLeave:N.useCallback(W=>{X(W)||(Y.current?.focus(),L(null))},[X]),onTriggerLeave:N.useCallback(W=>{X(W)&&W.preventDefault()},[X]),pointerGraceTimerRef:Te,onPointerGraceIntentChange:N.useCallback(W=>{ve.current=W},[]),children:T.jsx(Se,{...G,children:T.jsx(H2,{asChild:!0,trapped:r,onMountAutoFocus:Ct(l,W=>{W.preventDefault(),Y.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:T.jsx(B2,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:E,children:T.jsx(eb,{asChild:!0,...z,dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:H,onCurrentTabStopIdChange:L,onEntryFocus:Ct(g,W=>{j.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:T.jsx(kP,{role:"menu","aria-orientation":"vertical","data-state":Qx(O.open),"data-radix-menu-content":"",dir:j.dir,...D,...R,ref:ie,style:{outline:"none",...R.style},onKeyDown:Ct(R.onKeyDown,W=>{const ne=W.target.closest("[data-radix-menu-content]")===W.currentTarget,_e=W.ctrlKey||W.altKey||W.metaKey,be=W.key.length===1;ne&&(W.key==="Tab"&&W.preventDefault(),!_e&&be&&F(W.key));const ze=Y.current;if(W.target!==ze||!FP.includes(W.key))return;W.preventDefault();const Ve=P().filter(st=>!st.disabled).map(st=>st.ref.current);Rx.includes(W.key)&&Ve.reverse(),vB(Ve)}),onBlur:Ct(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(ue.current),me.current="")}),onPointerMove:Ct(t.onPointerMove,Q0(W=>{const B=W.target,ne=ye.current!==W.clientX;if(W.currentTarget.contains(B)&&ne){const _e=W.clientX>ye.current?"right":"left";pe.current=_e,ye.current=W.clientX}}))})})})})})})});zx.displayName=Dr;var oB="MenuGroup",rb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return T.jsx(wn.div,{role:"group",...a,ref:e})});rb.displayName=oB;var uB="MenuLabel",Ux=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return T.jsx(wn.div,{...a,ref:e})});Ux.displayName=uB;var Fm="MenuItem",H5="menu.itemSelect",Rv=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...r}=t,l=N.useRef(null),c=ug(Fm,t.__scopeMenu),d=ab(Fm,t.__scopeMenu),g=ma(e,l),m=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const S=new CustomEvent(H5,{bubbles:!0,cancelable:!0});_.addEventListener(H5,E=>a?.(E),{once:!0}),u6(_,S),S.defaultPrevented?m.current=!1:c.onClose()}};return T.jsx(kx,{...r,ref:g,disabled:n,onClick:Ct(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),m.current=!0},onPointerUp:Ct(t.onPointerUp,_=>{m.current||_.currentTarget?.click()}),onKeyDown:Ct(t.onKeyDown,_=>{const S=d.searchRef.current!=="";n||S&&_.key===" "||a2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});Rv.displayName=Fm;var kx=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:r,...l}=t,c=ab(Fm,n),d=Nx(n),g=N.useRef(null),m=ma(e,g),[v,_]=N.useState(!1),[S,E]=N.useState("");return N.useEffect(()=>{const A=g.current;A&&E((A.textContent??"").trim())},[l.children]),T.jsx(F0.ItemSlot,{scope:n,disabled:a,textValue:r??S,children:T.jsx(Tv,{asChild:!0,...d,focusable:!a,children:T.jsx(wn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:m,onPointerMove:Ct(t.onPointerMove,Q0(A=>{a?c.onItemLeave(A):(c.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ct(t.onPointerLeave,Q0(A=>c.onItemLeave(A))),onFocus:Ct(t.onFocus,()=>_(!0)),onBlur:Ct(t.onBlur,()=>_(!1))})})})}),cB="MenuCheckboxItem",Lx=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...r}=t;return T.jsx(qx,{scope:t.__scopeMenu,checked:n,children:T.jsx(Rv,{role:"menuitemcheckbox","aria-checked":Qm(n)?"mixed":n,...r,ref:e,"data-state":lb(n),onSelect:Ct(r.onSelect,()=>a?.(Qm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Lx.displayName=cB;var Px="MenuRadioGroup",[fB,dB]=Zc(Px,{value:void 0,onValueChange:()=>{}}),Bx=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...r}=t,l=to(a);return T.jsx(fB,{scope:t.__scopeMenu,value:n,onValueChange:l,children:T.jsx(rb,{...r,ref:e})})});Bx.displayName=Px;var Hx="MenuRadioItem",Gx=N.forwardRef((t,e)=>{const{value:n,...a}=t,r=dB(Hx,t.__scopeMenu),l=n===r.value;return T.jsx(qx,{scope:t.__scopeMenu,checked:l,children:T.jsx(Rv,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":lb(l),onSelect:Ct(a.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Gx.displayName=Hx;var sb="MenuItemIndicator",[qx,hB]=Zc(sb,{checked:!1}),Vx=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...r}=t,l=hB(sb,n);return T.jsx(Eu,{present:a||Qm(l.checked)||l.checked===!0,children:T.jsx(wn.span,{...r,ref:e,"data-state":lb(l.checked)})})});Vx.displayName=sb;var gB="MenuSeparator",Yx=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return T.jsx(wn.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});Yx.displayName=gB;var pB="MenuArrow",Zx=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,r=Av(n);return T.jsx(LP,{...r,...a,ref:e})});Zx.displayName=pB;var mB="MenuSub",[KH,Xx]=Zc(mB),R0="MenuSubTrigger",Ix=N.forwardRef((t,e)=>{const n=Xc(R0,t.__scopeMenu),a=ug(R0,t.__scopeMenu),r=Xx(R0,t.__scopeMenu),l=ab(R0,t.__scopeMenu),c=N.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:g}=l,m={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=d.current;return()=>{window.clearTimeout(_),g(null)}},[d,g]),T.jsx(tb,{asChild:!0,...m,children:T.jsx(kx,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Qx(n.open),...t,ref:yv(e,r.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ct(t.onPointerMove,Q0(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Ct(t.onPointerLeave,Q0(_=>{v();const S=n.content?.getBoundingClientRect();if(S){const E=n.content?.dataset.side,A=E==="right",R=A?-5:5,O=S[A?"left":"right"],j=S[A?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:S.top},{x:j,y:S.top},{x:j,y:S.bottom},{x:O,y:S.bottom}],side:E}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ct(t.onKeyDown,_=>{const S=l.searchRef.current!=="";t.disabled||S&&_.key===" "||QP[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});Ix.displayName=R0;var Kx="MenuSubContent",Fx=N.forwardRef((t,e)=>{const n=Dx(Dr,t.__scopeMenu),{forceMount:a=n.forceMount,...r}=t,l=Xc(Dr,t.__scopeMenu),c=ug(Dr,t.__scopeMenu),d=Xx(Kx,t.__scopeMenu),g=N.useRef(null),m=ma(e,g);return T.jsx(F0.Provider,{scope:t.__scopeMenu,children:T.jsx(Eu,{present:a||l.open,children:T.jsx(F0.Slot,{scope:t.__scopeMenu,children:T.jsx(ib,{id:d.contentId,"aria-labelledby":d.triggerId,...r,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{c.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ct(t.onFocusOutside,v=>{v.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ct(t.onEscapeKeyDown,v=>{c.onClose(),v.preventDefault()}),onKeyDown:Ct(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),S=$P[c.dir].includes(v.key);_&&S&&(l.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});Fx.displayName=Kx;function Qx(t){return t?"open":"closed"}function Qm(t){return t==="indeterminate"}function lb(t){return Qm(t)?"indeterminate":t?"checked":"unchecked"}function vB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function yB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function bB(t,e,n){const r=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=yB(t,Math.max(l,0));r.length===1&&(c=c.filter(m=>m!==n));const g=c.find(m=>m.toLowerCase().startsWith(r.toLowerCase()));return g!==n?g:void 0}function _B(t,e){const{x:n,y:a}=t;let r=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],g=e[c],m=d.x,v=d.y,_=g.x,S=g.y;v>a!=S>a&&n<(_-m)*(a-v)/(S-v)+m&&(r=!r)}return r}function SB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return _B(n,e)}function Q0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var xB=Mx,wB=tb,EB=jx,CB=zx,TB=rb,AB=Ux,RB=Rv,OB=Lx,NB=Bx,MB=Gx,DB=Vx,jB=Yx,zB=Zx,UB=Ix,kB=Fx,Ov="DropdownMenu",[LB]=uo(Ov,[Ox]),Si=Ox(),[PB,$x]=LB(Ov),Jx=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:r,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,g=Si(e),m=N.useRef(null),[v,_]=Gd({prop:r,defaultProp:l??!1,onChange:c,caller:Ov});return T.jsx(PB,{scope:e,triggerId:Md(),triggerRef:m,contentId:Md(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(S=>!S),[_]),modal:d,children:T.jsx(xB,{...g,open:v,onOpenChange:_,dir:a,modal:d,children:n})})};Jx.displayName=Ov;var Wx="DropdownMenuTrigger",ew=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...r}=t,l=$x(Wx,n),c=Si(n);return T.jsx(wB,{asChild:!0,...c,children:T.jsx(wn.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...r,ref:yv(e,l.triggerRef),onPointerDown:Ct(t.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ct(t.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});ew.displayName=Wx;var BB="DropdownMenuPortal",tw=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Si(e);return T.jsx(EB,{...a,...n})};tw.displayName=BB;var nw="DropdownMenuContent",aw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=$x(nw,n),l=Si(n),c=N.useRef(!1);return T.jsx(CB,{id:r.contentId,"aria-labelledby":r.triggerId,...l,...a,ref:e,onCloseAutoFocus:Ct(t.onCloseAutoFocus,d=>{c.current||r.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ct(t.onInteractOutside,d=>{const g=d.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,v=g.button===2||m;(!r.modal||v)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aw.displayName=nw;var HB="DropdownMenuGroup",GB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(TB,{...r,...a,ref:e})});GB.displayName=HB;var qB="DropdownMenuLabel",iw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(AB,{...r,...a,ref:e})});iw.displayName=qB;var VB="DropdownMenuItem",rw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(RB,{...r,...a,ref:e})});rw.displayName=VB;var YB="DropdownMenuCheckboxItem",ZB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(OB,{...r,...a,ref:e})});ZB.displayName=YB;var XB="DropdownMenuRadioGroup",IB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(NB,{...r,...a,ref:e})});IB.displayName=XB;var KB="DropdownMenuRadioItem",FB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(MB,{...r,...a,ref:e})});FB.displayName=KB;var QB="DropdownMenuItemIndicator",$B=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(DB,{...r,...a,ref:e})});$B.displayName=QB;var JB="DropdownMenuSeparator",sw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(jB,{...r,...a,ref:e})});sw.displayName=JB;var WB="DropdownMenuArrow",lw=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(zB,{...r,...a,ref:e})});lw.displayName=WB;var eH="DropdownMenuSubTrigger",tH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(UB,{...r,...a,ref:e})});tH.displayName=eH;var nH="DropdownMenuSubContent",aH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Si(n);return T.jsx(kB,{...r,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aH.displayName=nH;var dy=Jx,hy=ew,gy=tw,py=aw,iH=iw,tl=rw,mm=sw,rH=lw,sH="Separator",G5="horizontal",lH=["horizontal","vertical"],ow=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=G5,...r}=t,l=oH(a)?a:G5,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return T.jsx(wn.div,{"data-orientation":l,...d,...r,ref:e})});ow.displayName=sH;function oH(t){return lH.includes(t)}var uH=ow,uw="Toggle",cw=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:r,...l}=t,[c,d]=Gd({prop:n,onChange:r,defaultProp:a??!1,caller:uw});return T.jsx(wn.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Ct(t.onClick,()=>{t.disabled||d(!c)})})});cw.displayName=uw;var Cu="ToggleGroup",[fw,dw]=uo(Cu,[Yd]),hw=Yd(),ob=at.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const r=a;return T.jsx(cH,{...r,ref:e})}if(n==="multiple"){const r=a;return T.jsx(fH,{...r,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Cu}\``)});ob.displayName=Cu;var[gw,pw]=fw(Cu),cH=at.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...l}=t,[c,d]=Gd({prop:n,defaultProp:a??"",onChange:r,caller:Cu});return T.jsx(gw,{scope:t.__scopeToggleGroup,type:"single",value:at.useMemo(()=>c?[c]:[],[c]),onItemActivate:d,onItemDeactivate:at.useCallback(()=>d(""),[d]),children:T.jsx(mw,{...l,ref:e})})}),fH=at.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...l}=t,[c,d]=Gd({prop:n,defaultProp:a??[],onChange:r,caller:Cu}),g=at.useCallback(v=>d((_=[])=>[..._,v]),[d]),m=at.useCallback(v=>d((_=[])=>_.filter(S=>S!==v)),[d]);return T.jsx(gw,{scope:t.__scopeToggleGroup,type:"multiple",value:c,onItemActivate:g,onItemDeactivate:m,children:T.jsx(mw,{...l,ref:e})})});ob.displayName=Cu;var[dH,hH]=fw(Cu),mw=at.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:r=!0,orientation:l,dir:c,loop:d=!0,...g}=t,m=hw(n),v=bv(c),_={role:"group",dir:v,...g};return T.jsx(dH,{scope:n,rovingFocus:r,disabled:a,children:r?T.jsx(eb,{asChild:!0,...m,orientation:l,dir:v,loop:d,children:T.jsx(wn.div,{..._,ref:e})}):T.jsx(wn.div,{..._,ref:e})})}),$m="ToggleGroupItem",vw=at.forwardRef((t,e)=>{const n=pw($m,t.__scopeToggleGroup),a=hH($m,t.__scopeToggleGroup),r=hw(t.__scopeToggleGroup),l=n.value.includes(t.value),c=a.disabled||t.disabled,d={...t,pressed:l,disabled:c},g=at.useRef(null);return a.rovingFocus?T.jsx(Tv,{asChild:!0,...r,focusable:!c,active:l,ref:g,children:T.jsx(q5,{...d,ref:e})}):T.jsx(q5,{...d,ref:e})});vw.displayName=$m;var q5=at.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...r}=t,l=pw($m,n),c={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},d=l.type==="single"?c:void 0;return T.jsx(cw,{...d,...r,ref:e,onPressedChange:g=>{g?l.onItemActivate(a):l.onItemDeactivate(a)}})}),gH=ob,pH=vw,ub="Toolbar",[mH]=uo(ub,[Yd,dw]),cb=Yd(),yw=dw(),[vH,bw]=mH(ub),_w=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:r,loop:l=!0,...c}=t,d=cb(n),g=bv(r);return T.jsx(vH,{scope:n,orientation:a,dir:g,children:T.jsx(eb,{asChild:!0,...d,orientation:a,dir:g,loop:l,children:T.jsx(wn.div,{role:"toolbar","aria-orientation":a,dir:g,...c,ref:e})})})});_w.displayName=ub;var Sw="ToolbarSeparator",xw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=bw(Sw,n);return T.jsx(uH,{orientation:r.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});xw.displayName=Sw;var yH="ToolbarButton",ww=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=cb(n);return T.jsx(Tv,{asChild:!0,...r,focusable:!t.disabled,children:T.jsx(wn.button,{type:"button",...a,ref:e})})});ww.displayName=yH;var bH="ToolbarLink",_H=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=cb(n);return T.jsx(Tv,{asChild:!0,...r,focusable:!0,children:T.jsx(wn.a,{...a,ref:e,onKeyDown:Ct(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});_H.displayName=bH;var Ew="ToolbarToggleGroup",Cw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=bw(Ew,n),l=yw(n);return T.jsx(gH,{"data-orientation":r.orientation,dir:r.dir,...l,...a,ref:e,rovingFocus:!1})});Cw.displayName=Ew;var SH="ToolbarToggleItem",Tw=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=yw(n),l={__scopeToolbar:t.__scopeToolbar};return T.jsx(ww,{asChild:!0,...l,children:T.jsx(pH,{...r,...a,ref:e})})});Tw.displayName=SH;var xH=_w,V5=xw,my=Cw,au=Tw;function wH({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:r,onEraserClick:l,setTool:c}){return T.jsxs(xH,{className:"flex w-100 max-w-100 rounded-lg bg-white border-2 border-zinc-300 shadow-sm p-2 justify-center",children:[T.jsxs(my,{type:"single",children:[T.jsx(au,{value:"task",children:T.jsxs("div",{className:"add-shape group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",onClick:t,children:[T.jsx(Z3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task"})]})}),T.jsx(au,{value:"todo",children:T.jsxs("div",{className:"add-shape group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",onClick:()=>e(),children:[T.jsx(fT,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do"})]})})]}),T.jsx(V5,{className:"w-px my-3 mx-2 bg-black"}),T.jsxs(my,{type:"single",children:[T.jsx(au,{value:"annotate",children:T.jsxs("div",{onClick:()=>r(),className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(Y3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]})}),T.jsx(au,{value:"image",children:T.jsxs("div",{className:"add-image group relative border-none inline-flex flex-col items-center justify-center w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(K3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Image"})]})})]}),T.jsx(V5,{className:"w-px my-3 mx-2 bg-black"}),T.jsxs(my,{type:"single",onValueChange:d=>{d&&c(d)},children:[T.jsx(au,{value:"hand",children:T.jsxs("div",{className:"pan-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(X3,{className:"-rotate-[45deg] text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Pan Canvas"})]})}),T.jsx(au,{value:"select",onClick:a,children:T.jsxs("div",{className:"select-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(uT,{className:"-rotate-[45deg] text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select"})]})}),T.jsx(au,{value:"draw",className:"relative group",onClick:n,children:T.jsxs("div",{className:"draw-canvas flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none [data-state=on]:bg-violet-200 [data-state=on]:text-purple-700 disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(I3,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw"})]})}),T.jsx(au,{value:"eraser",onClick:l,children:T.jsxs("div",{className:"add-shape group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none [&[data-state='on']]:bg-blue-500 [data-state=on]:text-purple-700 disabled:pointer-events-auto disabled:opacity-50",children:[T.jsx(Q3,{className:"text-xl",style:{strokeWidth:.5}}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Delete Task"})]})})]})]})}async function Aw(t){const{data:e,error:n}=await la.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;console.log("canvas id doesnt exist");const{data:a,error:r}=await la.from("canvas").insert({owner_id:t,viewport_x:0,viewport_y:0,viewport_zoom:100}).select("canvas_id").single();return r?(console.error("Error creating canvas:",r),null):a.canvas_id}async function EH(t,e){try{const{data:n,error:a}=await la.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`,viewport_x:0,viewport_y:0,viewport_zoom:100}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function Y5(t){try{const{data:e,error:n}=await la.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function vm(t,e){try{await new Promise(l=>{const c=indexedDB.open("CanvasDB"),d={local_canvas:"local",canvasData:t,updatedAt:Date.now()},g={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};c.onsuccess=()=>{const v=c.result.transaction(["Canvas","Viewport"],"readwrite"),_=v.objectStore("Canvas"),S=v.objectStore("Viewport");_.put(d),S.put(g),v.oncomplete=()=>l(!0),v.onerror=()=>l(!0)},c.onerror=()=>l(!0)});const{data:n}=await la.auth.getUser(),a=n?.user;if(!a)return{success:!0};let r=e;if(!r&&(r=await Aw(a.id),!r))return{success:!1,error:"Failed to get canvas"};if(t.shapes.length>0){await la.from("shapes").delete().eq("canvas_id",r);const l=t.shapes.map(m=>({canvas_id:r,shape_data:m})),c=t.connectors.map(m=>({canvas_id:r,shape_data:m})),d=[...l,...c],{error:g}=await la.from("shapes").insert(d);if(g)return{success:!1,error:g.message}}else await la.from("shapes").delete().eq("canvas_id",r);return{success:!0,canvasId:r}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}async function Z5(t){try{const{data:{user:e}}=await la.auth.getUser();if(!e)return new Promise(S=>{const E=indexedDB.open("CanvasDB");E.onsuccess=()=>{const R=E.result.transaction(["Canvas","Viewport"],"readonly"),j=R.objectStore("Canvas").get("local"),z=R.objectStore("Viewport").get("local");j.onerror=()=>S({success:!1,error:"Failed to get canvas data"}),z.onerror=()=>S({success:!1,error:"Failed to get canvas viewport"}),R.oncomplete=()=>{const P=j.result,H=z.result;if(!P){S({success:!1,error:"No offline canvas found"});return}H&&(P.canvasData.viewport=H),S({success:!0,data:P.canvasData,canvasId:P.local_canvas})}}});const n=indexedDB.open("CanvasDB");let a={x:0,y:0,scale:1};n.onsuccess=()=>{const E=n.result.transaction("Viewport","readonly"),R=E.objectStore("Viewport").get("local");E.oncomplete=()=>{const O=R.result;O&&(a=O)}};let r=t;if(!r&&(r=await Aw(e.id),!r))return{success:!1,error:"Failed to get or create canvas"};const{data:l,error:c}=await la.from("shapes").select("shape_data").eq("canvas_id",r);if(c)return{success:!1,error:c.message};const d=l.filter(S=>S.shape_data.shape==="rect").map(S=>S.shape_data),g=l.filter(S=>S.shape_data.shape==="line").map(S=>S.shape_data),m=l.filter(S=>S.shape_data.shape==="connector").map(S=>S.shape_data),v=l.filter(S=>S.shape_data.shape==="todo").map(S=>S.shape_data);return console.log("lines to load:",g),{success:!0,data:{shapes:[...d,...g,...v],connectors:m,viewport:a},canvasId:r}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function CH(t){try{const{data:{user:e}}=await la.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await la.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function TH(){try{const{data:{user:t}}=await la.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await la.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}const AH=async()=>{let t,e,n=1;return new Promise(a=>{t=indexedDB.open("CanvasDB",2),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||(console.log("create object store"),e.createObjectStore("Canvas",{keyPath:"local_canvas"})),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"})},t.onsuccess=()=>{e=t.result,n=e.version,console.log("version: ",n),a(!0)},t.onerror=()=>{a(!1)}})},RH=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await AH()?console.log("IndexedDB Initialized (first time)"):console.error("InitDb - Something went wrong")),console.log("IndexedDB initailized")},[])});function OH(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function NH(){const{init:t}=RH(),{session:e}=H3(),[n,a]=N.useState([]),[r,l]=N.useState(100),[c,d]=N.useState({x:0,y:0}),[g,m]=N.useState(!1),[v,_]=N.useState(!1),[S,E]=N.useState([]),[A,R]=N.useState([]),[O,j]=N.useState("hand"),[D,z]=N.useState("#000000"),P=tv(),[H,L]=N.useState(null),[Y,ie]=N.useState(null),[ue,me]=N.useState(!1),[Te,ve]=N.useState(null),[pe,ye]=N.useState(null),[Se,G]=N.useState([]);OH({shapes:S,connectors:A},600,()=>vm({shapes:S,connectors:A,viewport:{x:c.x,y:c.y,scale:r/100}},pe)),N.useEffect(()=>{let He=!0;return(async()=>{await t();const nt=await Z5(null);if(!He||(nt.success?(E(nt.data.shapes),ye(nt.canvasId),R(nt.data.connectors),d({x:nt.data.viewport.x,y:nt.data.viewport.y}),l(Math.round(nt.data.viewport.scale*100)),console.log("canvas id: ",nt.canvasId)):console.error("Failed to load canvas:",nt.error),!e))return;const fn=await Y5(e.user.id);if(!He)return;fn.success?G(fn.canvases||[]):console.error("Failed to load canvas list:",fn.error);const Gn=await TH();He&&(Gn.success?ve(Gn.data.avatar_url):console.error("Failed to load user profile:",Gn.error))})(),()=>{He=!1}},[t,e]);const F=He=>{ie(He),_(!0)},X=()=>{_(!1)},W=He=>{L(He),m(!0)},B=()=>{L(null),m(!1)},ne=(He,nt)=>{const fn=new Date(He.date).toISOString(),Gn={id:"todo-"+Date.now().toString(),x:nt?nt.x+600:100,y:nt?nt.y:100,color:nt?nt.color:He.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:He.title,description:"",dueDate:fn,completed:He.completed,assignee:He.assignee,status:"Something",parents:nt?nt.id:""};E([...S,Gn]),nt&&(E(li=>li.map(Z=>Z.shape==="rect"&&Z.id===nt.id?{...Z,children:[...Z.children,"group-"+Gn.id]}:Z)),be(Gn,nt))},_e=He=>{j("hand");const nt={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:100,y:100,width:300,height:200,color:He.color,title:He.title,description:He.description,dueDate:He.date,status:"In Progress",isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};E([...S,nt])},be=(He,nt)=>{const fn=He instanceof Yy.Node?He.id():"group-"+He.id,Gn=nt instanceof Yy.Node?nt.id():"group-"+nt.id;R([...A,{shape:"connector",id:"connector-"+Date.now().toString(),from:fn,to:Gn}])},ze=()=>{const He={id:"text-"+Date.now().toString(),x:100,y:100,fontSize:20,text:"Placeholder Text",shape:"text",behavior:"decor",scaleX:1,scaleY:1};E([...S,He])},it=(He,nt)=>{E(fn=>fn.map(Gn=>Gn.id===He.id?{...Gn,title:nt.title,description:nt.description,color:nt.color,dueDate:nt.date}:Gn))},Ve=()=>{j(O==="draw"?"hand":"draw")},st=()=>{j(O==="eraser"?"hand":"eraser")},wt=()=>{j(O==="select"?"hand":"select")},Nn=async()=>{E([]),R([]);const He=await CH(pe);He.success||console.error("Failed to delete canvas from supabase",He.error)},jt=async()=>{me(!0);try{await la.auth.signOut(),await new Promise(He=>setTimeout(He,2e3))}catch{}finally{me(!1)}},Yt=async()=>{me(!0);try{await vm({shapes:S,connectors:A,viewport:{x:c.x,y:c.y,scale:r/100}},pe||null)}catch{}finally{me(!1)}},Ya=async He=>{me(!0);try{pe&&He&&He!==pe&&await vm({shapes:S,connectors:A,viewport:{x:c.x,y:c.y,scale:r/100}},pe);const nt=await Z5(He||null);nt.success?(E(nt.data.shapes),R(nt.data.connectors),ye(nt.canvasId)):console.error("Load failed:",nt.error)}catch(nt){console.error("Load error:",nt)}finally{me(!1)}},Wn=async()=>{if(!e){console.warn("No session");return}me(!0);try{pe&&await vm({shapes:S,connectors:A,viewport:{x:c.x,y:c.y,scale:r/100}},pe);const He=await EH(e.user.id,`Canvas ${Se.length+1}`);if(He.success&&He.canvasId){E([]),ye(He.canvasId);const nt=await Y5(e.user.id);nt.success&&G(nt.canvases||[])}else console.error("Create failed:",He.error)}catch(He){console.error("Create canvas error:",He)}finally{me(!1)}},ba=async He=>{He!==pe&&await Ya(He)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative w-full h-screen overflow-hidden ",children:[T.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[T.jsx("div",{className:"more-options ",children:T.jsxs(dy,{children:[T.jsx(hy,{asChild:!0,children:T.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:T.jsx(oT,{})})}),T.jsx(gy,{children:T.jsxs(py,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white",children:[T.jsx(tl,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:T.jsxs("div",{className:"flex items-center gap-2",onClick:Yt,children:[T.jsx($_,{}),"Save"]})}),T.jsx(tl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:He=>He.preventDefault(),children:T.jsxs(ty,{children:[T.jsx(ny,{asChild:!0,children:T.jsxs("div",{className:"flex items-center gap-2 w-full",children:[T.jsx(Q_,{}),"My Canvases (",Se.length,")"]})}),T.jsxs(ay,{children:[T.jsx(iy,{className:"fixed bg-black opacity-50 inset-0 z-100"}),T.jsxs(ry,{className:"bg-white min-w-md max-w-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-6 rounded-lg z-101 max-h-96 overflow-y-auto",children:[T.jsxs(ly,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[T.jsx(Q_,{}),"My Canvases"]}),T.jsx(oy,{className:"my-4",children:T.jsx("div",{className:"grid grid-cols-1 gap-3",children:Se.length===0?T.jsx("p",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):Se.map(He=>T.jsxs("div",{onClick:()=>{ba(He.canvas_id)},className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-all
                                        ${pe===He.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx($_,{className:"w-5 h-5 text-blue-600"}),T.jsxs("div",{children:[T.jsx("span",{className:"font-medium text-gray-800",children:He.canvas_name||"Untitled"}),He.created_at&&T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(He.created_at).toLocaleDateString()]})]})]}),pe===He.canvas_id&&T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Current"}),T.jsx(hT,{className:"w-5 h-5 text-blue-600"})]})]},He.canvas_id))})}),T.jsx("div",{className:"flex justify-end mt-6",children:T.jsx(sy,{asChild:!0,children:T.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),T.jsx(tl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(mT,{}),"Export PDF"]})}),T.jsx(mm,{}),T.jsx(tl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:T.jsxs("div",{className:"flex items-center gap-2",onClick:Wn,children:[T.jsx(yT,{}),T.jsx("span",{children:ue?"Creating":"New Canvas"})]})}),T.jsx(tl,{onSelect:He=>He.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:T.jsxs(ty,{children:[T.jsx(ny,{asChild:!0,children:T.jsxs("button",{className:"flex items-center gap-2",children:[T.jsx(F3,{}),"Clear Canvas"]})}),T.jsxs(ay,{children:[T.jsx(iy,{className:"fixed bg-black opacity-50 inset-0 z-100"}),T.jsxs(ry,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[T.jsx(ly,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),T.jsx(oy,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),T.jsxs("div",{className:"flex justify-end gap-4",children:[T.jsx(sy,{asChild:!0,children:T.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),T.jsx(R5,{asChild:!0,children:T.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:Nn,children:"Yes, clear canvas"})})]})]})]})]})}),T.jsx(mm,{className:"h-[2px] my-2 bg-gray-500"}),T.jsx(iH,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),T.jsx(tl,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:"Change Color Here"})]})})]})}),T.jsx("div",{className:"tool-bar-tab absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:T.jsx(wH,{onShapeClick:()=>W(null),onTodoClick:()=>F(null),onTextClick:ze,onEraserClick:st,onClearClick:Nn,onDrawClick:Ve,onSelectClick:wt,onColorSelect:z,isActive:O==="eraser"||O==="draw",tool:O,setTool:j})}),T.jsxs("div",{className:"user-account",children:[T.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&T.jsx("div",{children:T.jsxs(dy,{children:[T.jsx(hy,{asChild:!0,children:T.jsx("button",{children:T.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[T.jsx(m0,{className:"text-lg"}),T.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[T.jsx("span",{className:"text-xs",children:"Manage Account"}),T.jsx(gT,{className:"text-xs"})]})]})})}),T.jsx(gy,{children:T.jsxs(py,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[T.jsx("div",{children:Te?T.jsx("img",{src:Te,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):T.jsx(m0,{className:"text-3xl text-blue-500"})}),T.jsxs("div",{className:"flex flex-col items-center justify-center",children:[T.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name}),T.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),T.jsx(mm,{className:"h-[2px] my-2 bg-gray-500"}),T.jsx(tl,{onSelect:He=>He.preventDefault(),children:T.jsxs(ty,{children:[T.jsx(ny,{asChild:!0,children:T.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[T.jsx(M1,{}),T.jsx("span",{children:"Sign Out"})]})}),T.jsxs(ay,{children:[T.jsx(iy,{className:"fixed bg-black opacity-50 inset-0 z-100"}),T.jsxs(ry,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[T.jsx(ly,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),T.jsx(oy,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),T.jsxs("div",{className:"flex justify-end gap-4",children:[T.jsx(sy,{asChild:!0,children:T.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),T.jsx(R5,{asChild:!0,children:T.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await jt()},children:[T.jsx(M1,{}),"Sign Out"]})})]})]})]})]})}),T.jsx(rH,{className:"fill-purple-100"})]})})]})}),ue&&T.jsx("div",{children:T.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:T.jsxs("div",{role:"status",children:[T.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&T.jsx(XN,{title:"Sign In",onClick:async()=>{P("/signin")}}),!e&&T.jsx(ZN,{title:"Create Account",onClick:()=>P("/create-acc")})]}),T.jsxs("div",{className:"account-mobile flex lg:hidden",children:[T.jsxs(dy,{children:[T.jsx(hy,{asChild:!0,children:T.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:T.jsx(m0,{})})}),T.jsx(gy,{children:T.jsxs(py,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&T.jsxs("div",{children:[T.jsx(tl,{children:T.jsxs("div",{onClick:async()=>{P("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[T.jsx(vT,{}),T.jsx("span",{children:"Sign In"})]})}),T.jsx(tl,{children:T.jsxs("div",{onClick:()=>P("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[T.jsx(m0,{}),T.jsx("span",{children:"Create Account"})]})})]}),e&&T.jsxs("div",{children:[T.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[T.jsx("div",{className:"pb-2",children:Te?T.jsx("img",{src:Te,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):T.jsx(m0,{className:"text-2xl"})}),T.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[T.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),T.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),T.jsx(mm,{className:"h-px my-2 bg-gray-500"}),T.jsx(tl,{children:T.jsxs("div",{onClick:async()=>{await jt()},className:"inline-flex items-center justify-start gap-2 ",children:[T.jsx(M1,{className:"text-sm font-semibold"}),T.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),ue&&T.jsx("div",{children:T.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:T.jsxs("div",{role:"status",children:[T.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),T.jsx("div",{className:"absolute toolbar-mob flex sm:hidden z-100 w-full justify-center p-2 bottom-4",children:T.jsx(wT,{onShapeClick:W,onEraserClick:st,onClearClick:Nn,onDrawClick:Ve,onColorSelect:z,isActive:O==="eraser"||O==="draw"})}),T.jsx("div",{className:"account-buttons absolute flex flex-row top-1.5 right-0 gap-2 m-4 z-51"}),T.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 w-xs rounded-md shadow-md/15 shadow-gray-600"}),T.jsxs("div",{className:"absolute bottom-4 left-4  items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit hidden sm:inline-flex",children:[T.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-l-lg",onClick:()=>l(Math.max(r-10,10)),children:T.jsx(_T,{})}),T.jsxs("button",{onClick:()=>l(100),className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[r,"%",T.jsx("span",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),T.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-r-lg h-full",onClick:()=>l(Math.min(r+10,500)),children:T.jsx(bT,{})})]}),T.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:T.jsxs("button",{className:"absolute bottom-4 right-4 items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 hover:cursor-pointer group",children:[T.jsx(dT,{}),T.jsx("span",{className:"absolute right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"RectUp Form"})]})}),v&&T.jsx(EU,{parent:Y,onAddTodo:ne,onCloseForm:X}),g&&T.jsx(xU,{onAddTask:_e,onUpdateTask:it,onCloseForm:B,initialData:H}),T.jsx(YN,{shapes:S,setShapes:E,tool:O,setTool:j,setZoomValue:l,zoom:r,connectors:A,addConnector:be,setConnectors:R,strokeColor:D,onShapeClick:W,onAddTodo:F,stageCoor:c,setStageCoor:d})]}),T.jsx("ul",{children:n.map(He=>T.jsx("li",{children:He.name},He.name))})]})}const MH=v9([{path:"/",element:T.jsx(NH,{})},{path:"/signin",element:T.jsx(ST,{})},{path:"/create-acc",element:T.jsx(xT,{})}]);_8.createRoot(document.getElementById("root")).render(T.jsx(eT,{children:T.jsx(N9,{router:MH})}));
