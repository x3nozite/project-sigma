function x8(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function $0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var T1={exports:{}},f0={};var Wb;function C8(){if(Wb)return f0;Wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return f0.Fragment=e,f0.jsx=n,f0.jsxs=n,f0}var Jb;function T8(){return Jb||(Jb=1,T1.exports=C8()),T1.exports}var T=T8(),A1={exports:{}},d0={},R1={exports:{}},O1={};var e_;function A8(){return e_||(e_=1,(function(t){function e(B,le){var Q=B.length;B.push(le);e:for(;0<Q;){var pe=Q-1>>>1,G=B[pe];if(0<i(G,le))B[pe]=le,B[Q]=G,Q=pe;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var le=B[0],Q=B.pop();if(Q!==le){B[0]=Q;e:for(var pe=0,G=B.length,ne=G>>>1;pe<ne;){var Ce=2*(pe+1)-1,Te=B[Ce],Ye=Ce+1,be=B[Ye];if(0>i(Te,Q))Ye<G&&0>i(be,Te)?(B[pe]=be,B[Ye]=Q,pe=Ye):(B[pe]=Te,B[Ce]=Q,pe=Ce);else if(Ye<G&&0>i(be,Q))B[pe]=be,B[Ye]=Q,pe=Ye;else break e}}return le}function i(B,le){var Q=B.sortIndex-le.sortIndex;return Q!==0?Q:B.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var g=[],m=[],v=1,_=null,S=3,E=!1,C=!1,R=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var le=n(m);le!==null;){if(le.callback===null)a(m);else if(le.startTime<=B)a(m),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(m)}}function H(B){if(R=!1,P(B),!C)if(n(g)!==null)C=!0,k||(k=!0,de());else{var le=n(m);le!==null&&Se(H,le.startTime-B)}}var k=!1,Y=-1,F=5,oe=-1;function _e(){return O?!0:!(t.unstable_now()-oe<F)}function we(){if(O=!1,k){var B=t.unstable_now();oe=B;var le=!0;try{e:{C=!1,R&&(R=!1,j(Y),Y=-1),E=!0;var Q=S;try{t:{for(P(B),_=n(g);_!==null&&!(_.expirationTime>B&&_e());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,S=_.priorityLevel;var G=pe(_.expirationTime<=B);if(B=t.unstable_now(),typeof G=="function"){_.callback=G,P(B),le=!0;break t}_===n(g)&&a(g),P(B)}else a(g);_=n(g)}if(_!==null)le=!0;else{var ne=n(m);ne!==null&&Se(H,ne.startTime-B),le=!1}}break e}finally{_=null,S=Q,E=!1}le=void 0}}finally{le?de():k=!1}}}var de;if(typeof z=="function")de=function(){z(we)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ve=he.port2;he.port1.onmessage=we,de=function(){ve.postMessage(null)}}else de=function(){M(we,0)};function Se(B,le){Y=M(function(){B(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(B){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var Q=S;S=le;try{return B()}finally{S=Q}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(B,le){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=S;S=B;try{return le()}finally{S=Q}},t.unstable_scheduleCallback=function(B,le,Q){var pe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?pe+Q:pe):Q=pe,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Q+G,B={id:v++,callback:le,priorityLevel:B,startTime:Q,expirationTime:G,sortIndex:-1},Q>pe?(B.sortIndex=Q,e(m,B),n(g)===null&&B===n(m)&&(R?(j(Y),Y=-1):R=!0,Se(H,Q-pe))):(B.sortIndex=G,e(g,B),C||E||(C=!0,k||(k=!0,de()))),B},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(B){var le=S;return function(){var Q=S;S=le;try{return B.apply(this,arguments)}finally{S=Q}}}})(O1)),O1}var t_;function d2(){return t_||(t_=1,R1.exports=A8()),R1.exports}var N1={exports:{}},zt={};var n_;function R8(){if(n_)return zt;n_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function O(G,ne,Ce){this.props=G,this.context=ne,this.refs=R,this.updater=Ce||E}O.prototype.isReactComponent={},O.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=O.prototype;function j(G,ne,Ce){this.props=G,this.context=ne,this.refs=R,this.updater=Ce||E}var z=j.prototype=new M;z.constructor=j,C(z,O.prototype),z.isPureReactComponent=!0;var P=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function Y(G,ne,Ce,Te,Ye,be){return Ce=be.ref,{$$typeof:t,type:G,key:ne,ref:Ce!==void 0?Ce:null,props:be}}function F(G,ne){return Y(G.type,ne,void 0,void 0,void 0,G.props)}function oe(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function _e(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ce){return ne[Ce]})}var we=/\/+/g;function de(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?_e(""+G.key):ne.toString(36)}function he(){}function ve(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(he,he):(G.status="pending",G.then(function(ne){G.status==="pending"&&(G.status="fulfilled",G.value=ne)},function(ne){G.status==="pending"&&(G.status="rejected",G.reason=ne)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Se(G,ne,Ce,Te,Ye){var be=typeof G;(be==="undefined"||be==="boolean")&&(G=null);var ye=!1;if(G===null)ye=!0;else switch(be){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(G.$$typeof){case t:case e:ye=!0;break;case v:return ye=G._init,Se(ye(G._payload),ne,Ce,Te,Ye)}}if(ye)return Ye=Ye(G),ye=Te===""?"."+de(G,0):Te,P(Ye)?(Ce="",ye!=null&&(Ce=ye.replace(we,"$&/")+"/"),Se(Ye,ne,Ce,"",function(Ot){return Ot})):Ye!=null&&(oe(Ye)&&(Ye=F(Ye,Ce+(Ye.key==null||G&&G.key===Ye.key?"":(""+Ye.key).replace(we,"$&/")+"/")+ye)),ne.push(Ye)),1;ye=0;var ke=Te===""?".":Te+":";if(P(G))for(var Xe=0;Xe<G.length;Xe++)Te=G[Xe],be=ke+de(Te,Xe),ye+=Se(Te,ne,Ce,be,Ye);else if(Xe=S(G),typeof Xe=="function")for(G=Xe.call(G),Xe=0;!(Te=G.next()).done;)Te=Te.value,be=ke+de(Te,Xe++),ye+=Se(Te,ne,Ce,be,Ye);else if(be==="object"){if(typeof G.then=="function")return Se(ve(G),ne,Ce,Te,Ye);throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ye}function B(G,ne,Ce){if(G==null)return G;var Te=[],Ye=0;return Se(G,Te,"","",function(be){return ne.call(Ce,be,Ye++)}),Te}function le(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(Ce){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ce)},function(Ce){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ce)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var Q=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function pe(){}return zt.Children={map:B,forEach:function(G,ne,Ce){B(G,function(){ne.apply(this,arguments)},Ce)},count:function(G){var ne=0;return B(G,function(){ne++}),ne},toArray:function(G){return B(G,function(ne){return ne})||[]},only:function(G){if(!oe(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},zt.Component=O,zt.Fragment=n,zt.Profiler=i,zt.PureComponent=j,zt.StrictMode=a,zt.Suspense=g,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,zt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return H.H.useMemoCache(G)}},zt.cache=function(G){return function(){return G.apply(null,arguments)}},zt.cloneElement=function(G,ne,Ce){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Te=C({},G.props),Ye=G.key,be=void 0;if(ne!=null)for(ye in ne.ref!==void 0&&(be=void 0),ne.key!==void 0&&(Ye=""+ne.key),ne)!k.call(ne,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ne.ref===void 0||(Te[ye]=ne[ye]);var ye=arguments.length-2;if(ye===1)Te.children=Ce;else if(1<ye){for(var ke=Array(ye),Xe=0;Xe<ye;Xe++)ke[Xe]=arguments[Xe+2];Te.children=ke}return Y(G.type,Ye,void 0,void 0,be,Te)},zt.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},zt.createElement=function(G,ne,Ce){var Te,Ye={},be=null;if(ne!=null)for(Te in ne.key!==void 0&&(be=""+ne.key),ne)k.call(ne,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ye[Te]=ne[Te]);var ye=arguments.length-2;if(ye===1)Ye.children=Ce;else if(1<ye){for(var ke=Array(ye),Xe=0;Xe<ye;Xe++)ke[Xe]=arguments[Xe+2];Ye.children=ke}if(G&&G.defaultProps)for(Te in ye=G.defaultProps,ye)Ye[Te]===void 0&&(Ye[Te]=ye[Te]);return Y(G,be,void 0,void 0,null,Ye)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(G){return{$$typeof:d,render:G}},zt.isValidElement=oe,zt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:le}},zt.memo=function(G,ne){return{$$typeof:m,type:G,compare:ne===void 0?null:ne}},zt.startTransition=function(G){var ne=H.T,Ce={};H.T=Ce;try{var Te=G(),Ye=H.S;Ye!==null&&Ye(Ce,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(pe,Q)}catch(be){Q(be)}finally{H.T=ne}},zt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},zt.use=function(G){return H.H.use(G)},zt.useActionState=function(G,ne,Ce){return H.H.useActionState(G,ne,Ce)},zt.useCallback=function(G,ne){return H.H.useCallback(G,ne)},zt.useContext=function(G){return H.H.useContext(G)},zt.useDebugValue=function(){},zt.useDeferredValue=function(G,ne){return H.H.useDeferredValue(G,ne)},zt.useEffect=function(G,ne,Ce){var Te=H.H;if(typeof Ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Te.useEffect(G,ne)},zt.useId=function(){return H.H.useId()},zt.useImperativeHandle=function(G,ne,Ce){return H.H.useImperativeHandle(G,ne,Ce)},zt.useInsertionEffect=function(G,ne){return H.H.useInsertionEffect(G,ne)},zt.useLayoutEffect=function(G,ne){return H.H.useLayoutEffect(G,ne)},zt.useMemo=function(G,ne){return H.H.useMemo(G,ne)},zt.useOptimistic=function(G,ne){return H.H.useOptimistic(G,ne)},zt.useReducer=function(G,ne,Ce){return H.H.useReducer(G,ne,Ce)},zt.useRef=function(G){return H.H.useRef(G)},zt.useState=function(G){return H.H.useState(G)},zt.useSyncExternalStore=function(G,ne,Ce){return H.H.useSyncExternalStore(G,ne,Ce)},zt.useTransition=function(){return H.H.useTransition()},zt.version="19.1.1",zt}var a_;function W0(){return a_||(a_=1,N1.exports=R8()),N1.exports}var M1={exports:{}},hr={};var r_;function O8(){if(r_)return hr;r_=1;var t=W0();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hr.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,v)},hr.flushSync=function(g){var m=u.T,v=a.p;try{if(u.T=null,a.p=2,g)return g()}finally{u.T=m,a.p=v,a.d.f()}},hr.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},hr.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},hr.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hr.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},hr.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hr.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},hr.requestFormReset=function(g){a.d.r(g)},hr.unstable_batchedUpdates=function(g,m){return g(m)},hr.useFormState=function(g,m,v){return u.H.useFormState(g,m,v)},hr.useFormStatus=function(){return u.H.useHostTransitionStatus()},hr.version="19.1.1",hr}var i_;function n3(){if(i_)return M1.exports;i_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M1.exports=O8(),M1.exports}var s_;function N8(){if(s_)return d0;s_=1;var t=d2(),e=W0(),n=n3();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,f=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(f=s.return),r=s.return;while(r)}return s.tag===3?f:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(a(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var f=r,h=s;;){var y=f.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){f=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===f)return d(y),r;if(w===h)return d(y),s;w=w.sibling}throw Error(a(188))}if(f.return!==h.return)f=y,h=w;else{for(var D=!1,U=y.child;U;){if(U===f){D=!0,f=y,h=w;break}if(U===h){D=!0,h=y,f=w;break}U=U.sibling}if(!D){for(U=w.child;U;){if(U===f){D=!0,f=w,h=y;break}if(U===h){D=!0,h=w,f=y;break}U=U.sibling}if(!D)throw Error(a(189))}}if(f.alternate!==h)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=we&&r[we]||r["@@iterator"],typeof r=="function"?r:null)}var he=Symbol.for("react.client.reference");function ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===he?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case k:return"SuspenseList";case oe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case z:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case P:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return s=r.displayName||null,s!==null?s:ve(r.type)||"Memo";case F:s=r._payload,r=r._init;try{return ve(r(s))}catch{}}return null}var Se=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},pe=[],G=-1;function ne(r){return{current:r}}function Ce(r){0>G||(r.current=pe[G],pe[G]=null,G--)}function Te(r,s){G++,pe[G]=r.current,r.current=s}var Ye=ne(null),be=ne(null),ye=ne(null),ke=ne(null);function Xe(r,s){switch(Te(ye,s),Te(be,r),Te(Ye,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Tb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Tb(s),r=Ab(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ce(Ye),Te(Ye,r)}function Ot(){Ce(Ye),Ce(be),Ce(ye)}function ot(r){r.memoizedState!==null&&Te(ke,r);var s=Ye.current,f=Ab(s,r.type);s!==f&&(Te(be,r),Te(Ye,f))}function St(r){be.current===r&&(Ce(Ye),Ce(be)),ke.current===r&&(Ce(ke),s0._currentValue=Q)}var mn=Object.prototype.hasOwnProperty,Nn=t.unstable_scheduleCallback,fn=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,Ha=t.unstable_requestPaint,ea=t.unstable_now,Bi=t.unstable_getCurrentPriorityLevel,Wa=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,ae=t.unstable_NormalPriority,ce=t.unstable_LowPriority,Ge=t.unstable_IdlePriority,Pe=t.log,Ue=t.unstable_setDisableYieldValue,Ze=null,We=null;function bt(r){if(typeof Pe=="function"&&Ue(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ze,r)}catch{}}var en=Math.clz32?Math.clz32:pa,gr=Math.log,Ca=Math.LN2;function pa(r){return r>>>=0,r===0?32:31-(gr(r)/Ca|0)|0}var Ja=256,Ne=4194304;function De(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Wt(r,s,f){var h=r.pendingLanes;if(h===0)return 0;var y=0,w=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var U=h&134217727;return U!==0?(h=U&~w,h!==0?y=De(h):(D&=U,D!==0?y=De(D):f||(f=U&~r,f!==0&&(y=De(f))))):(U=h&~w,U!==0?y=De(U):D!==0?y=De(D):f||(f=h&~r,f!==0&&(y=De(f)))),y===0?0:s!==0&&s!==y&&(s&w)===0&&(w=y&-y,f=s&-s,w>=f||w===32&&(f&4194048)!==0)?s:y}function xt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function on(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(){var r=Ja;return Ja<<=1,(Ja&4194048)===0&&(Ja=256),r}function Hi(){var r=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),r}function fo(r){for(var s=[],f=0;31>f;f++)s.push(r);return s}function Yr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xc(r,s,f,h,y,w){var D=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var U=r.entanglements,V=r.expirationTimes,se=r.hiddenUpdates;for(f=D&~f;0<f;){var xe=31-en(f),Ae=1<<xe;U[xe]=0,V[xe]=-1;var fe=se[xe];if(fe!==null)for(se[xe]=null,xe=0;xe<fe.length;xe++){var ge=fe[xe];ge!==null&&(ge.lane&=-536870913)}f&=~Ae}h!==0&&Ss(r,h,0),w!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=w&~(D&~s))}function Ss(r,s,f){r.pendingLanes|=s,r.suspendedLanes&=~s;var h=31-en(s);r.entangledLanes|=s,r.entanglements[h]=r.entanglements[h]|1073741824|f&4194090}function ws(r,s){var f=r.entangledLanes|=s;for(r=r.entanglements;f;){var h=31-en(f),y=1<<h;y&s|r[h]&s&&(r[h]|=s),f&=~y}}function Gi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ho(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function pl(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Ib(r.type))}function I(r,s){var f=le.p;try{return le.p=r,s()}finally{le.p=f}}var J=Math.random().toString(36).slice(2),ie="__reactFiber$"+J,Re="__reactProps$"+J,Be="__reactContainer$"+J,tt="__reactEvents$"+J,it="__reactListeners$"+J,Fe="__reactHandles$"+J,Je="__reactResources$"+J,st="__reactMarker$"+J;function rt(r){delete r[ie],delete r[Re],delete r[tt],delete r[it],delete r[Fe]}function Qe(r){var s=r[ie];if(s)return s;for(var f=r.parentNode;f;){if(s=f[Be]||f[ie]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(r=Mb(r);r!==null;){if(f=r[ie])return f;r=Mb(r)}return s}r=f,f=r.parentNode}return null}function wt(r){if(r=r[ie]||r[Be]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function tn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function bn(r){var s=r[Je];return s||(s=r[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(r){r[st]=!0}var dn=new Set,sn={};function Gt(r,s){er(r,s),er(r+"Capture",s)}function er(r,s){for(sn[r]=s,r=0;r<s.length;r++)dn.add(s[r])}var Rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tr={},ml={};function vl(r){return mn.call(ml,r)?!0:mn.call(tr,r)?!1:Rr.test(r)?ml[r]=!0:(tr[r]=!0,!1)}function nr(r,s,f){if(vl(s))if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+f)}}function Zr(r,s,f){if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+f)}}function Ta(r,s,f,h){if(h===null)r.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(s,f,""+h)}}var ft,Ut;function Ga(r){if(ft===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);ft=s&&s[1]||"",Ut=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+r+Ut}var qa=!1;function _n(r,s){if(!r||qa)return"";qa=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ge){var fe=ge}Reflect.construct(r,[],Ae)}else{try{Ae.call()}catch(ge){fe=ge}r.call(Ae.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(Ae=r())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),D=w[0],U=w[1];if(D&&U){var V=D.split(`
`),se=U.split(`
`);for(y=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;y<se.length&&!se[y].includes("DetermineComponentFrameRoot");)y++;if(h===V.length||y===se.length)for(h=V.length-1,y=se.length-1;1<=h&&0<=y&&V[h]!==se[y];)y--;for(;1<=h&&0<=y;h--,y--)if(V[h]!==se[y]){if(h!==1||y!==1)do if(h--,y--,0>y||V[h]!==se[y]){var xe=`
`+V[h].replace(" at new "," at ");return r.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",r.displayName)),xe}while(1<=h&&0<=y);break}}}finally{qa=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?Ga(f):""}function xs(r){switch(r.tag){case 26:case 27:case 5:return Ga(r.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return _n(r.type,!1);case 11:return _n(r.type.render,!1);case 1:return _n(r.type,!0);case 31:return Ga("Activity");default:return""}}function pr(r){try{var s="";do s+=xs(r),r=r.return;while(r);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ma(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zd(r){var s=Kc(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,w=f.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){h=""+D,w.call(this,D)}}),Object.defineProperty(r,s,{enumerable:f.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Cu(r){r._valueTracker||(r._valueTracker=Zd(r))}function Id(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var f=s.getValue(),h="";return r&&(h=Kc(r)?r.checked?"true":"false":r.value),r=h,r!==f?(s.setValue(r),!0):!1}function Tu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var hg=/[\n"\\]/g;function mr(r){return r.replace(hg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fc(r,s,f,h,y,w,D,U){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),s!=null?D==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ma(s)):r.value!==""+ma(s)&&(r.value=""+ma(s)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),s!=null?$c(r,D,ma(s)):f!=null?$c(r,D,ma(f)):h!=null&&r.removeAttribute("value"),y==null&&w!=null&&(r.defaultChecked=!!w),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.name=""+ma(U):r.removeAttribute("name")}function Qc(r,s,f,h,y,w,D,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),s!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||s!=null))return;f=f!=null?""+ma(f):"",s=s!=null?""+ma(s):f,U||s===r.value||(r.value=s),r.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=U?r.checked:!!h,r.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function $c(r,s,f){s==="number"&&Tu(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function go(r,s,f,h){if(r=r.options,s){s={};for(var y=0;y<f.length;y++)s["$"+f[y]]=!0;for(f=0;f<r.length;f++)y=s.hasOwnProperty("$"+r[f].value),r[f].selected!==y&&(r[f].selected=y),y&&h&&(r[f].defaultSelected=!0)}else{for(f=""+ma(f),s=null,y=0;y<r.length;y++){if(r[y].value===f){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Xd(r,s,f){if(s!=null&&(s=""+ma(s),s!==r.value&&(r.value=s),f==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=f!=null?""+ma(f):""}function Kd(r,s,f,h){if(s==null){if(h!=null){if(f!=null)throw Error(a(92));if(Se(h)){if(1<h.length)throw Error(a(93));h=h[0]}f=h}f==null&&(f=""),s=f}f=ma(s),r.defaultValue=f,h=r.textContent,h===f&&h!==""&&h!==null&&(r.value=h)}function yl(r,s){if(s){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=s;return}}r.textContent=s}var Fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qd(r,s,f){var h=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?h?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":h?r.setProperty(s,f):typeof f!="number"||f===0||Fd.has(s)?s==="float"?r.cssFloat=f:r[s]=(""+f).trim():r[s]=f+"px"}function $d(r,s,f){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,f!=null){for(var h in f)!f.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&f[y]!==h&&Qd(r,y,h)}else for(var w in s)s.hasOwnProperty(w)&&Qd(r,w,s[w])}function Wc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(r){return pg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ef=null;function Es(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qi=null,bl=null;function Au(r){var s=wt(r);if(s&&(r=s.stateNode)){var f=r[Re]||null;e:switch(r=s.stateNode,s.type){case"input":if(Fc(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+mr(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var h=f[s];if(h!==r&&h.form===r.form){var y=h[Re]||null;if(!y)throw Error(a(90));Fc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<f.length;s++)h=f[s],h.form===r.form&&Id(h)}break e;case"textarea":Xd(r,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&go(r,!!f.multiple,s,!1)}}}var _l=!1;function Wd(r,s,f){if(_l)return r(s,f);_l=!0;try{var h=r(s);return h}finally{if(_l=!1,(qi!==null||bl!==null)&&(Js(),qi&&(s=qi,r=bl,bl=qi=null,Au(s),r)))for(s=0;s<r.length;s++)Au(r[s])}}function po(r,s){var f=r.stateNode;if(f===null)return null;var h=f[Re]||null;if(h===null)return null;f=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=!1;if(ci)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){tf=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{tf=!1}var Vi=null,Ru=null,Ou=null;function Jd(){if(Ou)return Ou;var r,s=Ru,f=s.length,h,y="value"in Vi?Vi.value:Vi.textContent,w=y.length;for(r=0;r<f&&s[r]===y[r];r++);var D=f-r;for(h=1;h<=D&&s[f-h]===y[w-h];h++);return Ou=y.slice(r,1<h?1-h:void 0)}function vo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Nu(){return!0}function eh(){return!1}function Va(r){function s(f,h,y,w,D){this._reactName=f,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(f=r[U],this[U]=f?f(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Nu:eh,this.isPropagationStopped=eh,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=Va(Yi),yo=v({},Yi,{view:0,detail:0}),Yv=Va(yo),th,nf,Zi,bo=v({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zi&&(Zi&&r.type==="mousemove"?(th=r.screenX-Zi.screenX,nf=r.screenY-Zi.screenY):nf=th=0,Zi=r),th)},movementY:function(r){return"movementY"in r?r.movementY:nf}}),Du=Va(bo),mg=v({},bo,{dataTransfer:0}),vg=Va(mg),af=v({},yo,{relatedTarget:0}),Sl=Va(af),rf=v({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),yg=Va(rf),bg=v({},Yi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cs=Va(bg),_g=v({},Yi,{data:0}),Ii=Va(_g),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sg(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nh[r])?!!s[r]:!1}function lf(){return Sg}var wl=v({},yo,{key:function(r){if(r.key){var s=Xi[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(r){return r.type==="keypress"?vo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),of=Va(wl),wg=v({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=Va(wg),xg=v({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),Eg=Va(xg),Zv=v({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=Va(Zv),Cg=v({},bo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Tg=Va(Cg),Ag=v({},Yi,{newState:0,oldState:0}),Rg=Va(Ag),Og=[9,13,27,32],_o=ci&&"CompositionEvent"in window,xl=null;ci&&"documentMode"in document&&(xl=document.documentMode);var Ng=ci&&"TextEvent"in window&&!xl,ah=ci&&(!_o||xl&&8<xl&&11>=xl),rh=" ",cf=!1;function ff(r,s){switch(r){case"keyup":return Og.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ts=!1;function df(r,s){switch(r){case"compositionend":return ih(s);case"keypress":return s.which!==32?null:(cf=!0,rh);case"textInput":return r=s.data,r===rh&&cf?null:r;default:return null}}function sh(r,s){if(Ts)return r==="compositionend"||!_o&&ff(r,s)?(r=Jd(),Ou=Ru=Vi=null,Ts=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ah&&s.locale!=="ko"?null:s.data;default:return null}}var Mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Mg[r.type]:s==="textarea"}function lh(r,s,f,h){qi?bl?bl.push(h):bl=[h]:qi=h,s=Rp(s,"onChange"),0<s.length&&(f=new Mu("onChange","change",null,f,h),r.push({event:f,listeners:s}))}var vr=null,El=null;function Iv(r){Sb(r,0)}function ju(r){var s=tn(r);if(Id(s))return r}function ar(r,s){if(r==="change")return s}var oh=!1;if(ci){var zu;if(ci){var gf="oninput"in document;if(!gf){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),gf=typeof uh.oninput=="function"}zu=gf}else zu=!1;oh=zu&&(!document.documentMode||9<document.documentMode)}function pf(){vr&&(vr.detachEvent("onpropertychange",mf),El=vr=null)}function mf(r){if(r.propertyName==="value"&&ju(El)){var s=[];lh(s,El,r,Es(r)),Wd(Iv,s)}}function Dg(r,s,f){r==="focusin"?(pf(),vr=s,El=f,vr.attachEvent("onpropertychange",mf)):r==="focusout"&&pf()}function vf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ju(El)}function Uu(r,s){if(r==="click")return ju(s)}function Ln(r,s){if(r==="input"||r==="change")return ju(s)}function Xv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var yr=typeof Object.is=="function"?Object.is:Xv;function So(r,s){if(yr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var f=Object.keys(r),h=Object.keys(s);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var y=f[h];if(!mn.call(s,y)||!yr(r[y],s[y]))return!1}return!0}function wo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ki(r,s){var f=wo(r);r=0;for(var h;f;){if(f.nodeType===3){if(h=r+f.textContent.length,r<=s&&h>=s)return{node:f,offset:s-r};r=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=wo(f)}}function ch(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ch(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function fh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Tu(r.document);s instanceof r.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)r=s.contentWindow;else break;s=Tu(r.document)}return s}function Cl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var fi=ci&&"documentMode"in document&&11>=document.documentMode,Tl=null,ku=null,xo=null,Lu=!1;function yf(r,s,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Lu||Tl==null||Tl!==Tu(h)||(h=Tl,"selectionStart"in h&&Cl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xo&&So(xo,h)||(xo=h,h=Rp(ku,"onSelect"),0<h.length&&(s=new Mu("onSelect","select",null,s,f),r.push({event:s,listeners:h}),s.target=Tl)))}function di(r,s){var f={};return f[r.toLowerCase()]=s.toLowerCase(),f["Webkit"+r]="webkit"+s,f["Moz"+r]="moz"+s,f}var Al={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},bf={},jg={};ci&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function As(r){if(bf[r])return bf[r];if(!Al[r])return r;var s=Al[r],f;for(f in s)if(s.hasOwnProperty(f)&&f in jg)return bf[r]=s[f];return r}var dh=As("animationend"),Or=As("animationiteration"),_f=As("animationstart"),zg=As("transitionrun"),Kv=As("transitionstart"),hh=As("transitioncancel"),Aa=As("transitionend"),gh=new Map,Ra="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ra.push("scrollEnd");function Nr(r,s){gh.set(r,s),Gt(s,[r])}var Fi=new WeakMap;function sa(r,s){if(typeof r=="object"&&r!==null){var f=Fi.get(r);return f!==void 0?f:(s={value:r,source:s,stack:pr(s)},Fi.set(r,s),s)}return{value:r,source:s,stack:pr(s)}}var ta=[],Rs=0,Pu=0;function br(){for(var r=Rs,s=Pu=Rs=0;s<r;){var f=ta[s];ta[s++]=null;var h=ta[s];ta[s++]=null;var y=ta[s];ta[s++]=null;var w=ta[s];if(ta[s++]=null,h!==null&&y!==null){var D=h.pending;D===null?y.next=y:(y.next=D.next,D.next=y),h.pending=y}w!==0&&Ns(f,y,w)}}function Bu(r,s,f,h){ta[Rs++]=r,ta[Rs++]=s,ta[Rs++]=f,ta[Rs++]=h,Pu|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Os(r,s,f,h){return Bu(r,s,f,h),Hu(r)}function hi(r,s){return Bu(r,null,null,s),Hu(r)}function Ns(r,s,f){r.lanes|=f;var h=r.alternate;h!==null&&(h.lanes|=f);for(var y=!1,w=r.return;w!==null;)w.childLanes|=f,h=w.alternate,h!==null&&(h.childLanes|=f),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(y=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,y&&s!==null&&(y=31-en(f),r=w.hiddenUpdates,h=r[y],h===null?r[y]=[s]:h.push(s),s.lane=f|536870912),w):null}function Hu(r){if(50<Oi)throw Oi=0,yc=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Rl={};function Gu(r,s,f,h){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,s,f,h){return new Gu(r,s,f,h)}function Eo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gi(r,s){var f=r.alternate;return f===null?(f=rr(r.tag,s,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=s,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,s=r.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function Sf(r,s){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,s=f.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Co(r,s,f,h,y,w){var D=0;if(h=r,typeof r=="function")Eo(r)&&(D=1);else if(typeof r=="string")D=c8(r,f,Ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case oe:return r=rr(31,f,s,y),r.elementType=oe,r.lanes=w,r;case C:return Qi(f.children,y,w,s);case R:D=8,y|=24;break;case O:return r=rr(12,f,s,y|2),r.elementType=O,r.lanes=w,r;case H:return r=rr(13,f,s,y),r.elementType=H,r.lanes=w,r;case k:return r=rr(19,f,s,y),r.elementType=k,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case z:D=10;break e;case j:D=9;break e;case P:D=11;break e;case Y:D=14;break e;case F:D=16,h=null;break e}D=29,f=Error(a(130,r===null?"null":typeof r,"")),h=null}return s=rr(D,f,s,y),s.elementType=r,s.type=h,s.lanes=w,s}function Qi(r,s,f,h){return r=rr(7,r,h,s),r.lanes=f,r}function wf(r,s,f){return r=rr(6,r,null,s),r.lanes=f,r}function qu(r,s,f){return s=rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=f,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var la=[],Ol=0,Oa=null,Vu=0,_r=[],Mr=0,ir=null,pi=1,Ir="";function Dr(r,s){la[Ol++]=Vu,la[Ol++]=Oa,Oa=r,Vu=s}function ph(r,s,f){_r[Mr++]=pi,_r[Mr++]=Ir,_r[Mr++]=ir,ir=r;var h=pi;r=Ir;var y=32-en(h)-1;h&=~(1<<y),f+=1;var w=32-en(s)+y;if(30<w){var D=y-y%5;w=(h&(1<<D)-1).toString(32),h>>=D,y-=D,pi=1<<32-en(s)+y|f<<y|h,Ir=w+r}else pi=1<<w|f<<y|h,Ir=r}function xf(r){r.return!==null&&(Dr(r,1),ph(r,1,0))}function Ef(r){for(;r===Oa;)Oa=la[--Ol],la[Ol]=null,Vu=la[--Ol],la[Ol]=null;for(;r===ir;)ir=_r[--Mr],_r[Mr]=null,Ir=_r[--Mr],_r[Mr]=null,pi=_r[--Mr],_r[Mr]=null}var Na=null,Mn=null,Xt=!1,Nl=null,mi=!1,mh=Error(a(519));function Ms(r){var s=Error(a(418,""));throw Ao(sa(s,r)),mh}function vh(r){var s=r.stateNode,f=r.type,h=r.memoizedProps;switch(s[ie]=r,s[Re]=h,f){case"dialog":Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":case"embed":Yt("load",s);break;case"video":case"audio":for(f=0;f<e0.length;f++)Yt(e0[f],s);break;case"source":Yt("error",s);break;case"img":case"image":case"link":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"input":Yt("invalid",s),Qc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Cu(s);break;case"select":Yt("invalid",s);break;case"textarea":Yt("invalid",s),Kd(s,h.value,h.defaultValue,h.children),Cu(s)}f=h.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||h.suppressHydrationWarning===!0||Cb(s.textContent,f)?(h.popover!=null&&(Yt("beforetoggle",s),Yt("toggle",s)),h.onScroll!=null&&Yt("scroll",s),h.onScrollEnd!=null&&Yt("scrollend",s),h.onClick!=null&&(s.onclick=Op),s=!0):s=!1,s||Ms(r)}function Ml(r){for(Na=r.return;Na;)switch(Na.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:Na=Na.return}}function Ds(r){if(r!==Na)return!1;if(!Xt)return Ml(r),Xt=!0,!1;var s=r.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||d1(r.type,r.memoizedProps)),f=!f),f&&Mn&&Ms(r),Ml(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(f=r.data,f==="/$"){if(s===0){Mn=fs(r.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++;r=r.nextSibling}Mn=null}}else s===27?(s=Mn,Qo(r.type)?(r=m1,m1=null,Mn=r):Mn=s):Mn=Na?fs(r.stateNode.nextSibling):null;return!0}function To(){Mn=Na=null,Xt=!1}function yh(){var r=Nl;return r!==null&&(_a===null?_a=r:_a.push.apply(_a,r),Nl=null),r}function Ao(r){Nl===null?Nl=[r]:Nl.push(r)}var Cf=ne(null),js=null,vi=null;function jr(r,s,f){Te(Cf,s._currentValue),s._currentValue=f}function yi(r){r._currentValue=Cf.current,Ce(Cf)}function Tf(r,s,f){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===f)break;r=r.return}}function nn(r,s,f,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var w=y.dependencies;if(w!==null){var D=y.child;w=w.firstContext;e:for(;w!==null;){var U=w;w=y;for(var V=0;V<s.length;V++)if(U.context===s[V]){w.lanes|=f,U=w.alternate,U!==null&&(U.lanes|=f),Tf(w.return,f,r),h||(D=null);break e}w=U.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=f,w=D.alternate,w!==null&&(w.lanes|=f),Tf(D,f,r),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===r){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function Dl(r,s,f,h){r=null;for(var y=s,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var U=y.type;yr(y.pendingProps.value,D.value)||(r!==null?r.push(U):r=[U])}}else if(y===ke.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(s0):r=[s0])}y=y.return}r!==null&&nn(s,r,f,h),s.flags|=262144}function Af(r){for(r=r.firstContext;r!==null;){if(!yr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function zs(r){js=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ma(r){return Ug(js,r)}function Rf(r,s){return js===null&&zs(r),Ug(r,s)}function Ug(r,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},vi===null){if(r===null)throw Error(a(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return f}var Fv=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(f,h){r.push(h)}};this.abort=function(){s.aborted=!0,r.forEach(function(f){return f()})}},bh=t.unstable_scheduleCallback,$i=t.unstable_NormalPriority,Kn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new Fv,data:new Map,refCount:0}}function Xr(r){r.refCount--,r.refCount===0&&bh($i,function(){r.controller.abort()})}var jl=null,Yu=0,Oo=0,zl=null;function kg(r,s){if(jl===null){var f=jl=[];Yu=0,Oo=a1(),zl={status:"pending",value:void 0,then:function(h){f.push(h)}}}return Yu++,s.then(_h,_h),s}function _h(){if(--Yu===0&&jl!==null){zl!==null&&(zl.status="fulfilled");var r=jl;jl=null,Oo=0,zl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Lg(r,s){var f=[],h={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return r.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<f.length;y++)(0,f[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),h}var Sh=B.S;B.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&kg(r,s),Sh!==null&&Sh(r,s)};var Wi=ne(null);function Nt(){var r=Wi.current;return r!==null?r:pn.pooledCache}function Of(r,s){s===null?Te(Wi,Wi.current):Te(Wi,s.pool)}function sr(){var r=Nt();return r===null?null:{parent:Kn._currentValue,pool:r}}var Ul=Error(a(460)),Pg=Error(a(474)),kl=Error(a(542)),Us={then:function(){}};function Ll(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Zu(){}function Nf(r,s,f){switch(f=r[f],f===void 0?r.push(s):f!==s&&(s.then(Zu,Zu),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ji(r),r;default:if(typeof s.status=="string")s.then(Zu,Zu);else{if(r=pn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ji(r),r}throw Iu=s,Ul}}var Iu=null;function wh(){if(Iu===null)throw Error(a(459));var r=Iu;return Iu=null,r}function Ji(r){if(r===Ul||r===kl)throw Error(a(483))}var bi=!1;function Xu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ku(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _i(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ya(r,s,f){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(mt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Hu(r),Ns(r,null,f),s}return Bu(r,h,s,f),Hu(r)}function Pl(r,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var h=s.lanes;h&=r.pendingLanes,f|=h,s.lanes=f,ws(r,f)}}function xh(r,s){var f=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var y=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?y=w=D:w=w.next=D,f=f.next}while(f!==null);w===null?y=w=s:w=w.next=s}else y=w=s;f={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=s:r.next=s,f.lastBaseUpdate=s}var Mf=!1;function Fu(){if(Mf){var r=zl;if(r!==null)throw r}}function ks(r,s,f,h){Mf=!1;var y=r.updateQueue;bi=!1;var w=y.firstBaseUpdate,D=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var V=U,se=V.next;V.next=null,D===null?w=se:D.next=se,D=V;var xe=r.alternate;xe!==null&&(xe=xe.updateQueue,U=xe.lastBaseUpdate,U!==D&&(U===null?xe.firstBaseUpdate=se:U.next=se,xe.lastBaseUpdate=V))}if(w!==null){var Ae=y.baseState;D=0,xe=se=V=null,U=w;do{var fe=U.lane&-536870913,ge=fe!==U.lane;if(ge?(Vt&fe)===fe:(h&fe)===fe){fe!==0&&fe===Oo&&(Mf=!0),xe!==null&&(xe=xe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var yt=r,ht=U;fe=s;var Cn=f;switch(ht.tag){case 1:if(yt=ht.payload,typeof yt=="function"){Ae=yt.call(Cn,Ae,fe);break e}Ae=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ht.payload,fe=typeof yt=="function"?yt.call(Cn,Ae,fe):yt,fe==null)break e;Ae=v({},Ae,fe);break e;case 2:bi=!0}}fe=U.callback,fe!==null&&(r.flags|=64,ge&&(r.flags|=8192),ge=y.callbacks,ge===null?y.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},xe===null?(se=xe=ge,V=Ae):xe=xe.next=ge,D|=fe;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;ge=U,U=ge.next,ge.next=null,y.lastBaseUpdate=ge,y.shared.pending=null}}while(!0);xe===null&&(V=Ae),y.baseState=V,y.firstBaseUpdate=se,y.lastBaseUpdate=xe,w===null&&(y.shared.lanes=0),yn|=D,r.lanes=D,r.memoizedState=Ae}}function ut(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function Bg(r,s){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)ut(f[r],s)}var No=ne(null),Qu=ne(0);function Mo(r,s){r=Ri,Te(Qu,r),Te(No,s),Ri=r|s.baseLanes}function Eh(){Te(Qu,Ri),Te(No,No.current)}function Ch(){Ri=Qu.current,Ce(No),Ce(Qu)}var Ls=0,Mt=null,hn=null,qn=null,$u=!1,es=!1,Ps=!1,Df=0,Wu=0,zr=null,ts=0;function Pt(){throw Error(a(321))}function Si(r,s){if(s===null)return!1;for(var f=0;f<s.length&&f<r.length;f++)if(!yr(r[f],s[f]))return!1;return!0}function lr(r,s,f,h,y,w){return Ls=w,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?mp:qh,Ps=!1,w=f(h,y),Ps=!1,es&&(w=Gg(s,f,h,y)),Hg(r),w}function Hg(r){B.H=Pf;var s=hn!==null&&hn.next!==null;if(Ls=0,qn=hn=Mt=null,$u=!1,Wu=0,zr=null,s)throw Error(a(300));r===null||gn||(r=r.dependencies,r!==null&&Af(r)&&(gn=!0))}function Gg(r,s,f,h){Mt=r;var y=0;do{if(es&&(zr=null),Wu=0,es=!1,25<=y)throw Error(a(301));if(y+=1,qn=hn=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=Jv,w=s(f,h)}while(es);return w}function oa(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?Ju(s):s,r=r.useState()[0],(hn!==null?hn.memoizedState:null)!==r&&(Mt.flags|=1024),s}function Kr(){var r=Df!==0;return Df=0,r}function Th(r,s,f){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f}function Ah(r){if($u){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$u=!1}Ls=0,qn=hn=Mt=null,es=!1,Wu=Df=0,zr=null}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Mt.memoizedState=qn=r:qn=qn.next=r,qn}function Fn(){if(hn===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=hn.next;var s=qn===null?Mt.memoizedState:qn.next;if(s!==null)qn=s,hn=r;else{if(r===null)throw Mt.alternate===null?Error(a(467)):Error(a(310));hn=r,r={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},qn===null?Mt.memoizedState=qn=r:qn=qn.next=r}return qn}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(r){var s=Wu;return Wu+=1,zr===null&&(zr=[]),r=Nf(zr,r,s),s=Mt,(qn===null?s.memoizedState:qn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?mp:qh),r}function ec(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ju(r);if(r.$$typeof===z)return Ma(r)}throw Error(a(438,String(r)))}function Rh(r){var s=null,f=Mt.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var h=Mt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=jf(),Mt.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(r),h=0;h<r;h++)f[h]=_e;return s.index++,f}function ur(r,s){return typeof s=="function"?s(r):s}function wi(r){var s=Fn();return Oh(s,hn,r)}function Oh(r,s,f){var h=r.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=f;var y=r.baseQueue,w=h.pending;if(w!==null){if(y!==null){var D=y.next;y.next=w.next,w.next=D}s.baseQueue=y=w,h.pending=null}if(w=r.baseState,y===null)r.memoizedState=w;else{s=y.next;var U=D=null,V=null,se=s,xe=!1;do{var Ae=se.lane&-536870913;if(Ae!==se.lane?(Vt&Ae)===Ae:(Ls&Ae)===Ae){var fe=se.revertLane;if(fe===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ae===Oo&&(xe=!0);else if((Ls&fe)===fe){se=se.next,fe===Oo&&(xe=!0);continue}else Ae={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(U=V=Ae,D=w):V=V.next=Ae,Mt.lanes|=fe,yn|=fe;Ae=se.action,Ps&&f(w,Ae),w=se.hasEagerState?se.eagerState:f(w,Ae)}else fe={lane:Ae,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(U=V=fe,D=w):V=V.next=fe,Mt.lanes|=Ae,yn|=Ae;se=se.next}while(se!==null&&se!==s);if(V===null?D=w:V.next=U,!yr(w,r.memoizedState)&&(gn=!0,xe&&(f=zl,f!==null)))throw f;r.memoizedState=w,r.baseState=D,r.baseQueue=V,h.lastRenderedState=w}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Nh(r){var s=Fn(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=r;var h=f.dispatch,y=f.pending,w=s.memoizedState;if(y!==null){f.pending=null;var D=y=y.next;do w=r(w,D.action),D=D.next;while(D!==y);yr(w,s.memoizedState)||(gn=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),f.lastRenderedState=w}return[w,h]}function qg(r,s,f){var h=Mt,y=Fn(),w=Xt;if(w){if(f===void 0)throw Error(a(407));f=f()}else f=s();var D=!yr((hn||y).memoizedState,f);D&&(y.memoizedState=f,gn=!0),y=y.queue;var U=Yg.bind(null,h,y,r);if(tc(2048,8,U,[r]),y.getSnapshot!==s||D||qn!==null&&qn.memoizedState.tag&1){if(h.flags|=2048,zo(9,zf(),Vg.bind(null,h,y,f,s),null),pn===null)throw Error(a(349));w||(Ls&124)!==0||Do(h,s,f)}return f}function Do(r,s,f){r.flags|=16384,r={getSnapshot:s,value:f},s=Mt.updateQueue,s===null?(s=jf(),Mt.updateQueue=s,s.stores=[r]):(f=s.stores,f===null?s.stores=[r]:f.push(r))}function Vg(r,s,f,h){s.value=f,s.getSnapshot=h,Zg(s)&&jo(r)}function Yg(r,s,f){return f(function(){Zg(s)&&jo(r)})}function Zg(r){var s=r.getSnapshot;r=r.value;try{var f=s();return!yr(r,f)}catch{return!0}}function jo(r){var s=hi(r,2);s!==null&&Jn(s,r,2)}function Mh(r){var s=or();if(typeof r=="function"){var f=r;if(r=f(),Ps){bt(!0);try{f()}finally{bt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:r},s}function Ig(r,s,f,h){return r.baseState=f,Oh(r,hn,typeof h=="function"?h:ur)}function Qv(r,s,f,h,y){if(Lf(r))throw Error(a(485));if(r=s.action,r!==null){var w={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){w.listeners.push(D)}};B.T!==null?f(!0):w.isTransition=!1,h(w),f=s.pending,f===null?(w.next=s.pending=w,Xg(s,w)):(w.next=f.next,s.pending=f.next=w)}}function Xg(r,s){var f=s.action,h=s.payload,y=r.state;if(s.isTransition){var w=B.T,D={};B.T=D;try{var U=f(y,h),V=B.S;V!==null&&V(D,U),Kg(r,s,U)}catch(se){Dh(r,s,se)}finally{B.T=w}}else try{w=f(y,h),Kg(r,s,w)}catch(se){Dh(r,s,se)}}function Kg(r,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(h){Fg(r,s,h)},function(h){return Dh(r,s,h)}):Fg(r,s,f)}function Fg(r,s,f){s.status="fulfilled",s.value=f,Qg(s),r.state=f,s=r.pending,s!==null&&(f=s.next,f===s?r.pending=null:(f=f.next,s.next=f,Xg(r,f)))}function Dh(r,s,f){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=f,Qg(s),s=s.next;while(s!==h)}r.action=null}function Qg(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function $g(r,s){return s}function Wg(r,s){if(Xt){var f=pn.formState;if(f!==null){e:{var h=Mt;if(Xt){if(Mn){t:{for(var y=Mn,w=mi;y.nodeType!==8;){if(!w){y=null;break t}if(y=fs(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Mn=fs(y.nextSibling),h=y.data==="F!";break e}}Ms(h)}h=!1}h&&(s=f[0])}}return f=or(),f.memoizedState=f.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:s},f.queue=h,f=hp.bind(null,Mt,h),h.dispatch=f,h=Mh(!1),w=Gh.bind(null,Mt,!1,h.queue),h=or(),y={state:s,dispatch:null,action:r,pending:null},h.queue=y,f=Qv.bind(null,Mt,y,w,f),y.dispatch=f,h.memoizedState=r,[s,f,!1]}function Jg(r){var s=Fn();return ep(s,hn,r)}function ep(r,s,f){if(s=Oh(r,s,$g)[0],r=wi(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ju(s)}catch(D){throw D===Ul?kl:D}else h=s;s=Fn();var y=s.queue,w=y.dispatch;return f!==s.memoizedState&&(Mt.flags|=2048,zo(9,zf(),tp.bind(null,y,f),null)),[h,w,r]}function tp(r,s){r.action=s}function np(r){var s=Fn(),f=hn;if(f!==null)return ep(s,f,r);Fn(),s=s.memoizedState,f=Fn();var h=f.queue.dispatch;return f.memoizedState=r,[s,h,!1]}function zo(r,s,f,h){return r={tag:r,create:f,deps:h,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=jf(),Mt.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=r.next=r:(h=f.next,f.next=r,r.next=h,s.lastEffect=r),r}function zf(){return{destroy:void 0,resource:void 0}}function ap(){return Fn().memoizedState}function Uf(r,s,f,h){var y=or();h=h===void 0?null:h,Mt.flags|=r,y.memoizedState=zo(1|s,zf(),f,h)}function tc(r,s,f,h){var y=Fn();h=h===void 0?null:h;var w=y.memoizedState.inst;hn!==null&&h!==null&&Si(h,hn.memoizedState.deps)?y.memoizedState=zo(s,w,f,h):(Mt.flags|=r,y.memoizedState=zo(1|s,w,f,h))}function jh(r,s){Uf(8390656,8,r,s)}function zh(r,s){tc(2048,8,r,s)}function rp(r,s){return tc(4,2,r,s)}function Uh(r,s){return tc(4,4,r,s)}function kh(r,s){if(typeof s=="function"){r=r();var f=s(r);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lh(r,s,f){f=f!=null?f.concat([r]):null,tc(4,4,kh.bind(null,s,r),f)}function nc(){}function kf(r,s){var f=Fn();s=s===void 0?null:s;var h=f.memoizedState;return s!==null&&Si(s,h[1])?h[0]:(f.memoizedState=[r,s],r)}function ip(r,s){var f=Fn();s=s===void 0?null:s;var h=f.memoizedState;if(s!==null&&Si(s,h[1]))return h[0];if(h=r(),Ps){bt(!0);try{r()}finally{bt(!1)}}return f.memoizedState=[h,s],h}function Ph(r,s,f){return f===void 0||(Ls&1073741824)!==0?r.memoizedState=s:(r.memoizedState=f,r=Bn(),Mt.lanes|=r,yn|=r,f)}function sp(r,s,f,h){return yr(f,s)?f:No.current!==null?(r=Ph(r,f,h),yr(r,s)||(gn=!0),r):(Ls&42)===0?(gn=!0,r.memoizedState=f):(r=Bn(),Mt.lanes|=r,yn|=r,s)}function lp(r,s,f,h,y){var w=le.p;le.p=w!==0&&8>w?w:8;var D=B.T,U={};B.T=U,Gh(r,!1,s,f);try{var V=y(),se=B.S;if(se!==null&&se(U,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var xe=Lg(V,h);ac(r,s,xe,Yn(r))}else ac(r,s,h,Yn(r))}catch(Ae){ac(r,s,{then:function(){},status:"rejected",reason:Ae},Yn())}finally{le.p=w,B.T=D}}function op(){}function Bh(r,s,f,h){if(r.tag!==5)throw Error(a(476));var y=up(r).queue;lp(r,y,s,Q,f===null?op:function(){return cp(r),f(h)})}function up(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:Q},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:f},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function cp(r){var s=up(r).next.queue;ac(r,s,{},Yn())}function Hh(){return Ma(s0)}function fp(){return Fn().memoizedState}function dp(){return Fn().memoizedState}function $v(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var f=Yn();r=_i(f);var h=Ya(s,r,f);h!==null&&(Jn(h,s,f),Pl(h,s,f)),s={cache:Ro()},r.payload=s;return}s=s.return}}function Wv(r,s,f){var h=Yn();f={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Lf(r)?gp(s,f):(f=Os(r,s,f,h),f!==null&&(Jn(f,r,h),pp(f,s,h)))}function hp(r,s,f){var h=Yn();ac(r,s,f,h)}function ac(r,s,f,h){var y={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Lf(r))gp(s,y);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var D=s.lastRenderedState,U=w(D,f);if(y.hasEagerState=!0,y.eagerState=U,yr(U,D))return Bu(r,s,y,0),pn===null&&br(),!1}catch{}finally{}if(f=Os(r,s,y,h),f!==null)return Jn(f,r,h),pp(f,s,h),!0}return!1}function Gh(r,s,f,h){if(h={lane:2,revertLane:a1(),action:h,hasEagerState:!1,eagerState:null,next:null},Lf(r)){if(s)throw Error(a(479))}else s=Os(r,f,h,2),s!==null&&Jn(s,r,2)}function Lf(r){var s=r.alternate;return r===Mt||s!==null&&s===Mt}function gp(r,s){es=$u=!0;var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}function pp(r,s,f){if((f&4194048)!==0){var h=s.lanes;h&=r.pendingLanes,f|=h,s.lanes=f,ws(r,f)}}var Pf={readContext:Ma,use:ec,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},mp={readContext:Ma,use:ec,useCallback:function(r,s){return or().memoizedState=[r,s===void 0?null:s],r},useContext:Ma,useEffect:jh,useImperativeHandle:function(r,s,f){f=f!=null?f.concat([r]):null,Uf(4194308,4,kh.bind(null,s,r),f)},useLayoutEffect:function(r,s){return Uf(4194308,4,r,s)},useInsertionEffect:function(r,s){Uf(4,2,r,s)},useMemo:function(r,s){var f=or();s=s===void 0?null:s;var h=r();if(Ps){bt(!0);try{r()}finally{bt(!1)}}return f.memoizedState=[h,s],h},useReducer:function(r,s,f){var h=or();if(f!==void 0){var y=f(s);if(Ps){bt(!0);try{f(s)}finally{bt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=Wv.bind(null,Mt,r),[h.memoizedState,r]},useRef:function(r){var s=or();return r={current:r},s.memoizedState=r},useState:function(r){r=Mh(r);var s=r.queue,f=hp.bind(null,Mt,s);return s.dispatch=f,[r.memoizedState,f]},useDebugValue:nc,useDeferredValue:function(r,s){var f=or();return Ph(f,r,s)},useTransition:function(){var r=Mh(!1);return r=lp.bind(null,Mt,r.queue,!0,!1),or().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,f){var h=Mt,y=or();if(Xt){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),pn===null)throw Error(a(349));(Vt&124)!==0||Do(h,s,f)}y.memoizedState=f;var w={value:f,getSnapshot:s};return y.queue=w,jh(Yg.bind(null,h,w,r),[r]),h.flags|=2048,zo(9,zf(),Vg.bind(null,h,w,f,s),null),f},useId:function(){var r=or(),s=pn.identifierPrefix;if(Xt){var f=Ir,h=pi;f=(h&~(1<<32-en(h)-1)).toString(32)+f,s=""+s+"R"+f,f=Df++,0<f&&(s+="H"+f.toString(32)),s+=""}else f=ts++,s=""+s+"r"+f.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Hh,useFormState:Wg,useActionState:Wg,useOptimistic:function(r){var s=or();s.memoizedState=s.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Gh.bind(null,Mt,!0,f),f.dispatch=s,[r,s]},useMemoCache:Rh,useCacheRefresh:function(){return or().memoizedState=$v.bind(null,Mt)}},qh={readContext:Ma,use:ec,useCallback:kf,useContext:Ma,useEffect:zh,useImperativeHandle:Lh,useInsertionEffect:rp,useLayoutEffect:Uh,useMemo:ip,useReducer:wi,useRef:ap,useState:function(){return wi(ur)},useDebugValue:nc,useDeferredValue:function(r,s){var f=Fn();return sp(f,hn.memoizedState,r,s)},useTransition:function(){var r=wi(ur)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:Ju(r),s]},useSyncExternalStore:qg,useId:fp,useHostTransitionStatus:Hh,useFormState:Jg,useActionState:Jg,useOptimistic:function(r,s){var f=Fn();return Ig(f,hn,r,s)},useMemoCache:Rh,useCacheRefresh:dp},Jv={readContext:Ma,use:ec,useCallback:kf,useContext:Ma,useEffect:zh,useImperativeHandle:Lh,useInsertionEffect:rp,useLayoutEffect:Uh,useMemo:ip,useReducer:Nh,useRef:ap,useState:function(){return Nh(ur)},useDebugValue:nc,useDeferredValue:function(r,s){var f=Fn();return hn===null?Ph(f,r,s):sp(f,hn.memoizedState,r,s)},useTransition:function(){var r=Nh(ur)[0],s=Fn().memoizedState;return[typeof r=="boolean"?r:Ju(r),s]},useSyncExternalStore:qg,useId:fp,useHostTransitionStatus:Hh,useFormState:np,useActionState:np,useOptimistic:function(r,s){var f=Fn();return hn!==null?Ig(f,hn,r,s):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:dp},Uo=null,Za=0;function rc(r){var s=Za;return Za+=1,Uo===null&&(Uo=[]),Nf(Uo,r,s)}function Bl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ic(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Vh(r){var s=r._init;return s(r._payload)}function Yh(r){function s(W,K){if(r){var re=W.deletions;re===null?(W.deletions=[K],W.flags|=16):re.push(K)}}function f(W,K){if(!r)return null;for(;K!==null;)s(W,K),K=K.sibling;return null}function h(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function y(W,K){return W=gi(W,K),W.index=0,W.sibling=null,W}function w(W,K,re){return W.index=re,r?(re=W.alternate,re!==null?(re=re.index,re<K?(W.flags|=67108866,K):re):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function D(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function U(W,K,re,Ee){return K===null||K.tag!==6?(K=wf(re,W.mode,Ee),K.return=W,K):(K=y(K,re),K.return=W,K)}function V(W,K,re,Ee){var nt=re.type;return nt===C?xe(W,K,re.props.children,Ee,re.key):K!==null&&(K.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===F&&Vh(nt)===K.type)?(K=y(K,re.props),Bl(K,re),K.return=W,K):(K=Co(re.type,re.key,re.props,null,W.mode,Ee),Bl(K,re),K.return=W,K)}function se(W,K,re,Ee){return K===null||K.tag!==4||K.stateNode.containerInfo!==re.containerInfo||K.stateNode.implementation!==re.implementation?(K=qu(re,W.mode,Ee),K.return=W,K):(K=y(K,re.children||[]),K.return=W,K)}function xe(W,K,re,Ee,nt){return K===null||K.tag!==7?(K=Qi(re,W.mode,Ee,nt),K.return=W,K):(K=y(K,re),K.return=W,K)}function Ae(W,K,re){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=wf(""+K,W.mode,re),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return re=Co(K.type,K.key,K.props,null,W.mode,re),Bl(re,K),re.return=W,re;case E:return K=qu(K,W.mode,re),K.return=W,K;case F:var Ee=K._init;return K=Ee(K._payload),Ae(W,K,re)}if(Se(K)||de(K))return K=Qi(K,W.mode,re,null),K.return=W,K;if(typeof K.then=="function")return Ae(W,rc(K),re);if(K.$$typeof===z)return Ae(W,Rf(W,K),re);ic(W,K)}return null}function fe(W,K,re,Ee){var nt=K!==null?K.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return nt!==null?null:U(W,K,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return re.key===nt?V(W,K,re,Ee):null;case E:return re.key===nt?se(W,K,re,Ee):null;case F:return nt=re._init,re=nt(re._payload),fe(W,K,re,Ee)}if(Se(re)||de(re))return nt!==null?null:xe(W,K,re,Ee,null);if(typeof re.then=="function")return fe(W,K,rc(re),Ee);if(re.$$typeof===z)return fe(W,K,Rf(W,re),Ee);ic(W,re)}return null}function ge(W,K,re,Ee,nt){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return W=W.get(re)||null,U(K,W,""+Ee,nt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case S:return W=W.get(Ee.key===null?re:Ee.key)||null,V(K,W,Ee,nt);case E:return W=W.get(Ee.key===null?re:Ee.key)||null,se(K,W,Ee,nt);case F:var Bt=Ee._init;return Ee=Bt(Ee._payload),ge(W,K,re,Ee,nt)}if(Se(Ee)||de(Ee))return W=W.get(re)||null,xe(K,W,Ee,nt,null);if(typeof Ee.then=="function")return ge(W,K,re,rc(Ee),nt);if(Ee.$$typeof===z)return ge(W,K,re,Rf(K,Ee),nt);ic(K,Ee)}return null}function yt(W,K,re,Ee){for(var nt=null,Bt=null,lt=K,pt=K=0,ka=null;lt!==null&&pt<re.length;pt++){lt.index>pt?(ka=lt,lt=null):ka=lt.sibling;var ln=fe(W,lt,re[pt],Ee);if(ln===null){lt===null&&(lt=ka);break}r&&lt&&ln.alternate===null&&s(W,lt),K=w(ln,K,pt),Bt===null?nt=ln:Bt.sibling=ln,Bt=ln,lt=ka}if(pt===re.length)return f(W,lt),Xt&&Dr(W,pt),nt;if(lt===null){for(;pt<re.length;pt++)lt=Ae(W,re[pt],Ee),lt!==null&&(K=w(lt,K,pt),Bt===null?nt=lt:Bt.sibling=lt,Bt=lt);return Xt&&Dr(W,pt),nt}for(lt=h(lt);pt<re.length;pt++)ka=ge(lt,W,pt,re[pt],Ee),ka!==null&&(r&&ka.alternate!==null&&lt.delete(ka.key===null?pt:ka.key),K=w(ka,K,pt),Bt===null?nt=ka:Bt.sibling=ka,Bt=ka);return r&&lt.forEach(function(tu){return s(W,tu)}),Xt&&Dr(W,pt),nt}function ht(W,K,re,Ee){if(re==null)throw Error(a(151));for(var nt=null,Bt=null,lt=K,pt=K=0,ka=null,ln=re.next();lt!==null&&!ln.done;pt++,ln=re.next()){lt.index>pt?(ka=lt,lt=null):ka=lt.sibling;var tu=fe(W,lt,ln.value,Ee);if(tu===null){lt===null&&(lt=ka);break}r&&lt&&tu.alternate===null&&s(W,lt),K=w(tu,K,pt),Bt===null?nt=tu:Bt.sibling=tu,Bt=tu,lt=ka}if(ln.done)return f(W,lt),Xt&&Dr(W,pt),nt;if(lt===null){for(;!ln.done;pt++,ln=re.next())ln=Ae(W,ln.value,Ee),ln!==null&&(K=w(ln,K,pt),Bt===null?nt=ln:Bt.sibling=ln,Bt=ln);return Xt&&Dr(W,pt),nt}for(lt=h(lt);!ln.done;pt++,ln=re.next())ln=ge(lt,W,pt,ln.value,Ee),ln!==null&&(r&&ln.alternate!==null&&lt.delete(ln.key===null?pt:ln.key),K=w(ln,K,pt),Bt===null?nt=ln:Bt.sibling=ln,Bt=ln);return r&&lt.forEach(function(w8){return s(W,w8)}),Xt&&Dr(W,pt),nt}function Cn(W,K,re,Ee){if(typeof re=="object"&&re!==null&&re.type===C&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case S:e:{for(var nt=re.key;K!==null;){if(K.key===nt){if(nt=re.type,nt===C){if(K.tag===7){f(W,K.sibling),Ee=y(K,re.props.children),Ee.return=W,W=Ee;break e}}else if(K.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===F&&Vh(nt)===K.type){f(W,K.sibling),Ee=y(K,re.props),Bl(Ee,re),Ee.return=W,W=Ee;break e}f(W,K);break}else s(W,K);K=K.sibling}re.type===C?(Ee=Qi(re.props.children,W.mode,Ee,re.key),Ee.return=W,W=Ee):(Ee=Co(re.type,re.key,re.props,null,W.mode,Ee),Bl(Ee,re),Ee.return=W,W=Ee)}return D(W);case E:e:{for(nt=re.key;K!==null;){if(K.key===nt)if(K.tag===4&&K.stateNode.containerInfo===re.containerInfo&&K.stateNode.implementation===re.implementation){f(W,K.sibling),Ee=y(K,re.children||[]),Ee.return=W,W=Ee;break e}else{f(W,K);break}else s(W,K);K=K.sibling}Ee=qu(re,W.mode,Ee),Ee.return=W,W=Ee}return D(W);case F:return nt=re._init,re=nt(re._payload),Cn(W,K,re,Ee)}if(Se(re))return yt(W,K,re,Ee);if(de(re)){if(nt=de(re),typeof nt!="function")throw Error(a(150));return re=nt.call(re),ht(W,K,re,Ee)}if(typeof re.then=="function")return Cn(W,K,rc(re),Ee);if(re.$$typeof===z)return Cn(W,K,Rf(W,re),Ee);ic(W,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,K!==null&&K.tag===6?(f(W,K.sibling),Ee=y(K,re),Ee.return=W,W=Ee):(f(W,K),Ee=wf(re,W.mode,Ee),Ee.return=W,W=Ee),D(W)):f(W,K)}return function(W,K,re,Ee){try{Za=0;var nt=Cn(W,K,re,Ee);return Uo=null,nt}catch(lt){if(lt===Ul||lt===kl)throw lt;var Bt=rr(29,lt,null,W.mode);return Bt.lanes=Ee,Bt.return=W,Bt}finally{}}}var ko=Yh(!0),Zh=Yh(!1),Sr=ne(null),xi=null;function Bs(r){var s=r.alternate;Te(Lt,Lt.current&1),Te(Sr,r),xi===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(xi=r)}function vp(r){if(r.tag===22){if(Te(Lt,Lt.current),Te(Sr,r),xi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(xi=r)}}else ns()}function ns(){Te(Lt,Lt.current),Te(Sr,Sr.current)}function as(r){Ce(Sr),xi===r&&(xi=null),Ce(Lt)}var Lt=ne(0);function sc(r){for(var s=r;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||p1(f)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ih(r,s,f,h){s=r.memoizedState,f=f(h,s),f=f==null?s:v({},s,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Bf={enqueueSetState:function(r,s,f){r=r._reactInternals;var h=Yn(),y=_i(h);y.payload=s,f!=null&&(y.callback=f),s=Ya(r,y,h),s!==null&&(Jn(s,r,h),Pl(s,r,h))},enqueueReplaceState:function(r,s,f){r=r._reactInternals;var h=Yn(),y=_i(h);y.tag=1,y.payload=s,f!=null&&(y.callback=f),s=Ya(r,y,h),s!==null&&(Jn(s,r,h),Pl(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var f=Yn(),h=_i(f);h.tag=2,s!=null&&(h.callback=s),s=Ya(r,h,f),s!==null&&(Jn(s,r,f),Pl(s,r,f))}};function Xh(r,s,f,h,y,w,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,D):s.prototype&&s.prototype.isPureReactComponent?!So(f,h)||!So(y,w):!0}function Hl(r,s,f,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,h),s.state!==r&&Bf.enqueueReplaceState(s,s.state,null)}function rs(r,s){var f=s;if("ref"in s){f={};for(var h in s)h!=="ref"&&(f[h]=s[h])}if(r=r.defaultProps){f===s&&(f=v({},f));for(var y in r)f[y]===void 0&&(f[y]=r[y])}return f}var is=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Gl(r){is(r)}function cr(r){console.error(r)}function yp(r){is(r)}function Hf(r,s){try{var f=r.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function lc(r,s,f){try{var h=r.onCaughtError;h(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Lo(r,s,f){return f=_i(f),f.tag=3,f.payload={element:null},f.callback=function(){Hf(r,s)},f}function oc(r){return r=_i(r),r.tag=3,r}function Gf(r,s,f,h){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;r.payload=function(){return y(w)},r.callback=function(){lc(s,f,h)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){lc(s,f,h),typeof y!="function"&&($s===null?$s=new Set([this]):$s.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function e1(r,s,f,h,y){if(f.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=f.alternate,s!==null&&Dl(s,f,y,!0),f=Sr.current,f!==null){switch(f.tag){case 13:return xi===null?Ni():f.alternate===null&&Dt===0&&(Dt=3),f.flags&=-257,f.flags|=65536,f.lanes=y,h===Us?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([h]):s.add(h),Oe(r,h,y)),!1;case 22:return f.flags|=65536,h===Us?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([h]):f.add(h)),Oe(r,h,y)),!1}throw Error(a(435,f.tag))}return Oe(r,h,y),Ni(),!1}if(Xt)return s=Sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==mh&&(r=Error(a(422),{cause:h}),Ao(sa(r,f)))):(h!==mh&&(s=Error(a(423),{cause:h}),Ao(sa(s,f))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=sa(h,f),y=Lo(r.stateNode,h,y),xh(r,y),Dt!==4&&(Dt=2)),!1;var w=Error(a(520),{cause:h});if(w=sa(w,f),Fs===null?Fs=[w]:Fs.push(w),Dt!==4&&(Dt=2),s===null)return!0;h=sa(h,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,r=y&-y,f.lanes|=r,r=Lo(f.stateNode,h,r),xh(f,r),!1;case 1:if(s=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($s===null||!$s.has(w))))return f.flags|=65536,y&=-y,f.lanes|=y,y=oc(y),Gf(y,r,f,h),xh(f,y),!1}f=f.return}while(f!==null);return!1}var bp=Error(a(461)),gn=!1;function ua(r,s,f,h){s.child=r===null?Zh(s,null,f,h):ko(s,r.child,f,h)}function _p(r,s,f,h,y){f=f.render;var w=s.ref;if("ref"in h){var D={};for(var U in h)U!=="ref"&&(D[U]=h[U])}else D=h;return zs(s),h=lr(r,s,f,D,w,y),U=Kr(),r!==null&&!gn?(Th(r,s,y),Tn(r,s,y)):(Xt&&U&&xf(s),s.flags|=1,ua(r,s,h,y),s.child)}function qf(r,s,f,h,y){if(r===null){var w=f.type;return typeof w=="function"&&!Eo(w)&&w.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=w,Sp(r,s,w,h,y)):(r=Co(f.type,null,h,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(w=r.child,!ql(r,y)){var D=w.memoizedProps;if(f=f.compare,f=f!==null?f:So,f(D,h)&&r.ref===s.ref)return Tn(r,s,y)}return s.flags|=1,r=gi(w,h),r.ref=s.ref,r.return=s,s.child=r}function Sp(r,s,f,h,y){if(r!==null){var w=r.memoizedProps;if(So(w,h)&&r.ref===s.ref)if(gn=!1,s.pendingProps=h=w,ql(r,y))(r.flags&131072)!==0&&(gn=!0);else return s.lanes=r.lanes,Tn(r,s,y)}return Ia(r,s,f,h,y)}function wp(r,s,f){var h=s.pendingProps,y=h.children,w=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=w!==null?w.baseLanes|f:f,r!==null){for(y=s.child=r.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;s.childLanes=w&~h}else s.childLanes=0,s.child=null;return xp(r,s,h,f)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Of(s,w!==null?w.cachePool:null),w!==null?Mo(s,w):Eh(),vp(s);else return s.lanes=s.childLanes=536870912,xp(r,s,w!==null?w.baseLanes|f:f,f)}else w!==null?(Of(s,w.cachePool),Mo(s,w),ns(),s.memoizedState=null):(r!==null&&Of(s,null),Eh(),ns());return ua(r,s,y,f),s.child}function xp(r,s,f,h){var y=Nt();return y=y===null?null:{parent:Kn._currentValue,pool:y},s.memoizedState={baseLanes:f,cachePool:y},r!==null&&Of(s,null),Eh(),vp(s),r!==null&&Dl(r,s,h,!0),null}function Hs(r,s){var f=s.ref;if(f===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(a(284));(r===null||r.ref!==f)&&(s.flags|=4194816)}}function Ia(r,s,f,h,y){return zs(s),f=lr(r,s,f,h,void 0,y),h=Kr(),r!==null&&!gn?(Th(r,s,y),Tn(r,s,y)):(Xt&&h&&xf(s),s.flags|=1,ua(r,s,f,y),s.child)}function Vf(r,s,f,h,y,w){return zs(s),s.updateQueue=null,f=Gg(s,h,f,y),Hg(r),h=Kr(),r!==null&&!gn?(Th(r,s,w),Tn(r,s,w)):(Xt&&h&&xf(s),s.flags|=1,ua(r,s,f,w),s.child)}function Kh(r,s,f,h,y){if(zs(s),s.stateNode===null){var w=Rl,D=f.contextType;typeof D=="object"&&D!==null&&(w=Ma(D)),w=new f(h,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Bf,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=h,w.state=s.memoizedState,w.refs={},Xu(s),D=f.contextType,w.context=typeof D=="object"&&D!==null?Ma(D):Rl,w.state=s.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(Ih(s,f,D,h),w.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(D=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),D!==w.state&&Bf.enqueueReplaceState(w,w.state,null),ks(s,h,w,y),Fu(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(r===null){w=s.stateNode;var U=s.memoizedProps,V=rs(f,U);w.props=V;var se=w.context,xe=f.contextType;D=Rl,typeof xe=="object"&&xe!==null&&(D=Ma(xe));var Ae=f.getDerivedStateFromProps;xe=typeof Ae=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,xe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||se!==D)&&Hl(s,w,h,D),bi=!1;var fe=s.memoizedState;w.state=fe,ks(s,h,w,y),Fu(),se=s.memoizedState,U||fe!==se||bi?(typeof Ae=="function"&&(Ih(s,f,Ae,h),se=s.memoizedState),(V=bi||Xh(s,f,V,h,fe,se,D))?(xe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=se),w.props=h,w.state=se,w.context=D,h=V):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Ku(r,s),D=s.memoizedProps,xe=rs(f,D),w.props=xe,Ae=s.pendingProps,fe=w.context,se=f.contextType,V=Rl,typeof se=="object"&&se!==null&&(V=Ma(se)),U=f.getDerivedStateFromProps,(se=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==Ae||fe!==V)&&Hl(s,w,h,V),bi=!1,fe=s.memoizedState,w.state=fe,ks(s,h,w,y),Fu();var ge=s.memoizedState;D!==Ae||fe!==ge||bi||r!==null&&r.dependencies!==null&&Af(r.dependencies)?(typeof U=="function"&&(Ih(s,f,U,h),ge=s.memoizedState),(xe=bi||Xh(s,f,xe,h,fe,ge,V)||r!==null&&r.dependencies!==null&&Af(r.dependencies))?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ge,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ge,V)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ge),w.props=h,w.state=ge,w.context=V,h=xe):(typeof w.componentDidUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(s.flags|=1024),h=!1)}return w=h,Hs(r,s),h=(s.flags&128)!==0,w||h?(w=s.stateNode,f=h&&typeof f.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,r!==null&&h?(s.child=ko(s,r.child,null,y),s.child=ko(s,null,f,y)):ua(r,s,f,y),s.memoizedState=w.state,r=s.child):r=Tn(r,s,y),r}function Yf(r,s,f,h){return To(),s.flags|=256,ua(r,s,f,h),s.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gs(r){return{baseLanes:r,cachePool:sr()}}function qs(r,s,f){return r=r!==null?r.childLanes&~f:0,s&&(r|=ba),r}function uc(r,s,f){var h=s.pendingProps,y=!1,w=(s.flags&128)!==0,D;if((D=w)||(D=r!==null&&r.memoizedState===null?!1:(Lt.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xt){if(y?Bs(s):ns(),Xt){var U=Mn,V;if(V=U){e:{for(V=U,U=mi;V.nodeType!==8;){if(!U){U=null;break e}if(V=fs(V.nextSibling),V===null){U=null;break e}}U=V}U!==null?(s.memoizedState={dehydrated:U,treeContext:ir!==null?{id:pi,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},V=rr(18,null,null,0),V.stateNode=U,V.return=s,s.child=V,Na=s,Mn=null,V=!0):V=!1}V||Ms(s)}if(U=s.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return p1(U)?s.lanes=32:s.lanes=536870912,null;as(s)}return U=h.children,h=h.fallback,y?(ns(),y=s.mode,U=Xa({mode:"hidden",children:U},y),h=Qi(h,y,f,null),U.return=s,h.return=s,U.sibling=h,s.child=U,y=s.child,y.memoizedState=Gs(f),y.childLanes=qs(r,D,f),s.memoizedState=Zf,h):(Bs(s),Po(s,U))}if(V=r.memoizedState,V!==null&&(U=V.dehydrated,U!==null)){if(w)s.flags&256?(Bs(s),s.flags&=-257,s=fr(r,s,f)):s.memoizedState!==null?(ns(),s.child=r.child,s.flags|=128,s=null):(ns(),y=h.fallback,U=s.mode,h=Xa({mode:"visible",children:h.children},U),y=Qi(y,U,f,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,ko(s,r.child,null,f),h=s.child,h.memoizedState=Gs(f),h.childLanes=qs(r,D,f),s.memoizedState=Zf,s=y);else if(Bs(s),p1(U)){if(D=U.nextSibling&&U.nextSibling.dataset,D)var se=D.dgst;D=se,h=Error(a(419)),h.stack="",h.digest=D,Ao({value:h,source:null,stack:null}),s=fr(r,s,f)}else if(gn||Dl(r,s,f,!1),D=(f&r.childLanes)!==0,gn||D){if(D=pn,D!==null&&(h=f&-f,h=(h&42)!==0?1:Gi(h),h=(h&(D.suspendedLanes|f))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,hi(r,h),Jn(D,r,h),bp;U.data==="$?"||Ni(),s=fr(r,s,f)}else U.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,Mn=fs(U.nextSibling),Na=s,Xt=!0,Nl=null,mi=!1,r!==null&&(_r[Mr++]=pi,_r[Mr++]=Ir,_r[Mr++]=ir,pi=r.id,Ir=r.overflow,ir=s),s=Po(s,h.children),s.flags|=4096);return s}return y?(ns(),y=h.fallback,U=s.mode,V=r.child,se=V.sibling,h=gi(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,se!==null?y=gi(se,y):(y=Qi(y,U,f,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,U=r.child.memoizedState,U===null?U=Gs(f):(V=U.cachePool,V!==null?(se=Kn._currentValue,V=V.parent!==se?{parent:se,pool:se}:V):V=sr(),U={baseLanes:U.baseLanes|f,cachePool:V}),y.memoizedState=U,y.childLanes=qs(r,D,f),s.memoizedState=Zf,h):(Bs(s),f=r.child,r=f.sibling,f=gi(f,{mode:"visible",children:h.children}),f.return=s,f.sibling=null,r!==null&&(D=s.deletions,D===null?(s.deletions=[r],s.flags|=16):D.push(r)),s.child=f,s.memoizedState=null,f)}function Po(r,s){return s=Xa({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Xa(r,s){return r=rr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function fr(r,s,f){return ko(s,r.child,null,f),r=Po(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Vs(r,s,f){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Tf(r.return,s,f)}function Fr(r,s,f,h,y){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=f,w.tailMode=y)}function Ei(r,s,f){var h=s.pendingProps,y=h.revealOrder,w=h.tail;if(ua(r,s,h.children,f),h=Lt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vs(r,f,s);else if(r.tag===19)Vs(r,f,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(Te(Lt,h),y){case"forwards":for(f=s.child,y=null;f!==null;)r=f.alternate,r!==null&&sc(r)===null&&(y=f),f=f.sibling;f=y,f===null?(y=s.child,s.child=null):(y=f.sibling,f.sibling=null),Fr(s,!1,y,f,w);break;case"backwards":for(f=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&sc(r)===null){s.child=y;break}r=y.sibling,y.sibling=f,f=y,y=r}Fr(s,!0,f,null,w);break;case"together":Fr(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tn(r,s,f){if(r!==null&&(s.dependencies=r.dependencies),yn|=s.lanes,(f&s.childLanes)===0)if(r!==null){if(Dl(r,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,f=gi(r,r.pendingProps),s.child=f,f.return=s;r.sibling!==null;)r=r.sibling,f=f.sibling=gi(r,r.pendingProps),f.return=s;f.sibling=null}return s.child}function ql(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Af(r)))}function Ys(r,s,f){switch(s.tag){case 3:Xe(s,s.stateNode.containerInfo),jr(s,Kn,r.memoizedState.cache),To();break;case 27:case 5:ot(s);break;case 4:Xe(s,s.stateNode.containerInfo);break;case 10:jr(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Bs(s),s.flags|=128,null):(f&s.child.childLanes)!==0?uc(r,s,f):(Bs(s),r=Tn(r,s,f),r!==null?r.sibling:null);Bs(s);break;case 19:var y=(r.flags&128)!==0;if(h=(f&s.childLanes)!==0,h||(Dl(r,s,f,!1),h=(f&s.childLanes)!==0),y){if(h)return Ei(r,s,f);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Te(Lt,Lt.current),h)break;return null;case 22:case 23:return s.lanes=0,wp(r,s,f);case 24:jr(s,Kn,r.memoizedState.cache)}return Tn(r,s,f)}function cc(r,s,f){if(r!==null)if(r.memoizedProps!==s.pendingProps)gn=!0;else{if(!ql(r,f)&&(s.flags&128)===0)return gn=!1,Ys(r,s,f);gn=(r.flags&131072)!==0}else gn=!1,Xt&&(s.flags&1048576)!==0&&ph(s,Vu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var h=s.elementType,y=h._init;if(h=y(h._payload),s.type=h,typeof h=="function")Eo(h)?(r=rs(h,r),s.tag=1,s=Kh(null,s,h,r,f)):(s.tag=0,s=Ia(null,s,h,r,f));else{if(h!=null){if(y=h.$$typeof,y===P){s.tag=11,s=_p(null,s,h,r,f);break e}else if(y===Y){s.tag=14,s=qf(null,s,h,r,f);break e}}throw s=ve(h)||h,Error(a(306,s,""))}}return s;case 0:return Ia(r,s,s.type,s.pendingProps,f);case 1:return h=s.type,y=rs(h,s.pendingProps),Kh(r,s,h,y,f);case 3:e:{if(Xe(s,s.stateNode.containerInfo),r===null)throw Error(a(387));h=s.pendingProps;var w=s.memoizedState;y=w.element,Ku(r,s),ks(s,h,null,f);var D=s.memoizedState;if(h=D.cache,jr(s,Kn,h),h!==w.cache&&nn(s,[Kn],f,!0),Fu(),h=D.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=Yf(r,s,h,f);break e}else if(h!==y){y=sa(Error(a(424)),s),Ao(y),s=Yf(r,s,h,f);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mn=fs(r.firstChild),Na=s,Xt=!0,Nl=null,mi=!0,f=Zh(s,null,h,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(To(),h===y){s=Tn(r,s,f);break e}ua(r,s,h,f)}s=s.child}return s;case 26:return Hs(r,s),r===null?(f=Ub(s.type,null,s.pendingProps,null))?s.memoizedState=f:Xt||(f=s.type,r=s.pendingProps,h=Np(ye.current).createElement(f),h[ie]=s,h[Re]=r,$a(h,f,r),Ht(h),s.stateNode=h):s.memoizedState=Ub(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ot(s),r===null&&Xt&&(h=s.stateNode=Db(s.type,s.pendingProps,ye.current),Na=s,mi=!0,y=Mn,Qo(s.type)?(m1=y,Mn=fs(h.firstChild)):Mn=y),ua(r,s,s.pendingProps.children,f),Hs(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xt&&((y=h=Mn)&&(h=$x(h,s.type,s.pendingProps,mi),h!==null?(s.stateNode=h,Na=s,Mn=fs(h.firstChild),mi=!1,y=!0):y=!1),y||Ms(s)),ot(s),y=s.type,w=s.pendingProps,D=r!==null?r.memoizedProps:null,h=w.children,d1(y,w)?h=null:D!==null&&d1(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=lr(r,s,oa,null,null,f),s0._currentValue=y),Hs(r,s),ua(r,s,h,f),s.child;case 6:return r===null&&Xt&&((r=f=Mn)&&(f=Wx(f,s.pendingProps,mi),f!==null?(s.stateNode=f,Na=s,Mn=null,r=!0):r=!1),r||Ms(s)),null;case 13:return uc(r,s,f);case 4:return Xe(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ko(s,null,h,f):ua(r,s,h,f),s.child;case 11:return _p(r,s,s.type,s.pendingProps,f);case 7:return ua(r,s,s.pendingProps,f),s.child;case 8:return ua(r,s,s.pendingProps.children,f),s.child;case 12:return ua(r,s,s.pendingProps.children,f),s.child;case 10:return h=s.pendingProps,jr(s,s.type,h.value),ua(r,s,h.children,f),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,zs(s),y=Ma(y),h=h(y),s.flags|=1,ua(r,s,h,f),s.child;case 14:return qf(r,s,s.type,s.pendingProps,f);case 15:return Sp(r,s,s.type,s.pendingProps,f);case 19:return Ei(r,s,f);case 31:return h=s.pendingProps,f=s.mode,h={mode:h.mode,children:h.children},r===null?(f=Xa(h,f),f.ref=s.ref,s.child=f,f.return=s,s=f):(f=gi(r.child,h),f.ref=s.ref,s.child=f,f.return=s,s=f),s;case 22:return wp(r,s,f);case 24:return zs(s),h=Ma(Kn),r===null?(y=Nt(),y===null&&(y=pn,w=Ro(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=f),y=w),s.memoizedState={parent:h,cache:y},Xu(s),jr(s,Kn,y)):((r.lanes&f)!==0&&(Ku(r,s),ks(s,null,null,f),Fu()),y=r.memoizedState,w=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),jr(s,Kn,h)):(h=w.cache,jr(s,Kn,h),h!==y.cache&&nn(s,[Kn],f,!0))),ua(r,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Pn(r){r.flags|=4}function Qn(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Hb(s)){if(s=Sr.current,s!==null&&((Vt&4194048)===Vt?xi!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||s!==xi))throw Iu=Us,Pg;r.flags|=8192}}function It(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Hi():536870912,r.lanes|=s,Yo|=s)}function Qr(r,s){if(!Xt)switch(r.tailMode){case"hidden":s=r.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,f=0,h=0;if(s)for(var y=r.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=f,s}function Fh(r,s,f){var h=s.pendingProps;switch(Ef(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return f=s.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),yi(Kn),Ot(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Ds(s)?Pn(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yh())),Jt(s),null;case 26:return f=s.memoizedState,r===null?(Pn(s),f!==null?(Jt(s),Qn(s,f)):(Jt(s),s.flags&=-16777217)):f?f!==r.memoizedState?(Pn(s),Jt(s),Qn(s,f)):(Jt(s),s.flags&=-16777217):(r.memoizedProps!==h&&Pn(s),Jt(s),s.flags&=-16777217),null;case 27:St(s),f=ye.current;var y=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Pn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Jt(s),null}r=Ye.current,Ds(s)?vh(s):(r=Db(y,h,f),s.stateNode=r,Pn(s))}return Jt(s),null;case 5:if(St(s),f=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Pn(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Jt(s),null}if(r=Ye.current,Ds(s))vh(s);else{switch(y=Np(ye.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(f,{is:h.is}):y.createElement(f)}}r[ie]=s,r[Re]=h;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=r;e:switch($a(r,f,h),f){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Pn(s)}}return Jt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==h&&Pn(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(r=ye.current,Ds(s)){if(r=s.stateNode,f=s.memoizedProps,h=null,y=Na,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[ie]=s,r=!!(r.nodeValue===f||h!==null&&h.suppressHydrationWarning===!0||Cb(r.nodeValue,f)),r||Ms(s)}else r=Np(r).createTextNode(h),r[ie]=s,s.stateNode=r}return Jt(s),null;case 13:if(h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Ds(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[ie]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),y=!1}else y=yh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(as(s),s):(as(s),null)}if(as(s),(s.flags&128)!==0)return s.lanes=f,s;if(f=h!==null,r=r!==null&&r.memoizedState!==null,f){h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)}return f!==r&&f&&(s.child.flags|=8192),It(s,s.updateQueue),Jt(s),null;case 4:return Ot(),r===null&&l1(s.stateNode.containerInfo),Jt(s),null;case 10:return yi(s.type),Jt(s),null;case 19:if(Ce(Lt),y=s.memoizedState,y===null)return Jt(s),null;if(h=(s.flags&128)!==0,w=y.rendering,w===null)if(h)Qr(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=sc(r),w!==null){for(s.flags|=128,Qr(y,!1),r=w.updateQueue,s.updateQueue=r,It(s,r),s.subtreeFlags=0,r=f,f=s.child;f!==null;)Sf(f,r),f=f.sibling;return Te(Lt,Lt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ea()>Zl&&(s.flags|=128,h=!0,Qr(y,!1),s.lanes=4194304)}else{if(!h)if(r=sc(w),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,It(s,r),Qr(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Xt)return Jt(s),null}else 2*ea()-y.renderingStartTime>Zl&&f!==536870912&&(s.flags|=128,h=!0,Qr(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(r=y.last,r!==null?r.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ea(),s.sibling=null,r=Lt.current,Te(Lt,h?r&1|2:r&1),s):(Jt(s),null);case 22:case 23:return as(s),Ch(),h=s.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(f&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),f=s.updateQueue,f!==null&&It(s,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048),r!==null&&Ce(Wi),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),yi(Kn),Jt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function wr(r,s){switch(Ef(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return yi(Kn),Ot(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return St(s),null;case 13:if(as(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ce(Lt),null;case 4:return Ot(),null;case 10:return yi(s.type),null;case 22:case 23:return as(s),Ch(),r!==null&&Ce(Wi),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return yi(Kn),null;case 25:return null;default:return null}}function fc(r,s){switch(Ef(s),s.tag){case 3:yi(Kn),Ot();break;case 26:case 27:case 5:St(s);break;case 4:Ot();break;case 13:as(s);break;case 19:Ce(Lt);break;case 10:yi(s.type);break;case 22:case 23:as(s),Ch(),r!==null&&Ce(Wi);break;case 24:yi(Kn)}}function $r(r,s){try{var f=s.updateQueue,h=f!==null?f.lastEffect:null;if(h!==null){var y=h.next;f=y;do{if((f.tag&r)===r){h=void 0;var w=f.create,D=f.inst;h=w(),D.destroy=h}f=f.next}while(f!==y)}}catch(U){ee(s,s.return,U)}}function Da(r,s,f){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&r)===r){var D=h.inst,U=D.destroy;if(U!==void 0){D.destroy=void 0,y=s;var V=f,se=U;try{se()}catch(xe){ee(y,V,xe)}}}h=h.next}while(h!==w)}}catch(xe){ee(s,s.return,xe)}}function Ep(r){var s=r.updateQueue;if(s!==null){var f=r.stateNode;try{Bg(s,f)}catch(h){ee(r,r.return,h)}}}function Cp(r,s,f){f.props=rs(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(h){ee(r,s,h)}}function dc(r,s){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof f=="function"?r.refCleanup=f(h):f.current=h}}catch(y){ee(r,s,y)}}function an(r,s){var f=r.ref,h=r.refCleanup;if(f!==null)if(typeof h=="function")try{h()}catch(y){ee(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){ee(r,s,y)}else f.current=null}function hc(r){var s=r.type,f=r.memoizedProps,h=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&h.focus();break e;case"img":f.src?h.src=f.src:f.srcSet&&(h.srcset=f.srcSet)}}catch(y){ee(r,r.return,y)}}function Zs(r,s,f){try{var h=r.stateNode;Ix(h,r.type,f,s),h[Re]=s}catch(y){ee(r,r.return,y)}}function If(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Qo(r.type)||r.tag===4}function Bo(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||If(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Qo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gc(r,s,f){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(r),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Op));else if(h!==4&&(h===27&&Qo(r.type)&&(f=r.stateNode,s=null),r=r.child,r!==null))for(gc(r,s,f),r=r.sibling;r!==null;)gc(r,s,f),r=r.sibling}function ss(r,s,f){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?f.insertBefore(r,s):f.appendChild(r);else if(h!==4&&(h===27&&Qo(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(ss(r,s,f),r=r.sibling;r!==null;)ss(r,s,f),r=r.sibling}function Ho(r){var s=r.stateNode,f=r.memoizedProps;try{for(var h=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);$a(s,h,f),s[ie]=r,s[Re]=f}catch(w){ee(r,r.return,w)}}var Wr=!1,Sn=!1,Is=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function t1(r,s){if(r=r.containerInfo,c1=kp,r=fh(r),Cl(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var D=0,U=-1,V=-1,se=0,xe=0,Ae=r,fe=null;t:for(;;){for(var ge;Ae!==f||y!==0&&Ae.nodeType!==3||(U=D+y),Ae!==w||h!==0&&Ae.nodeType!==3||(V=D+h),Ae.nodeType===3&&(D+=Ae.nodeValue.length),(ge=Ae.firstChild)!==null;)fe=Ae,Ae=ge;for(;;){if(Ae===r)break t;if(fe===f&&++se===y&&(U=D),fe===w&&++xe===h&&(V=D),(ge=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=ge}f=U===-1||V===-1?null:{start:U,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for(f1={focusedElem:r,selectionRange:f},kp=!1,Dn=s;Dn!==null;)if(s=Dn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Dn=r;else for(;Dn!==null;){switch(s=Dn,w=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,f=s,y=w.memoizedProps,w=w.memoizedState,h=f.stateNode;try{var yt=rs(f.type,y,f.elementType===f.type);r=h.getSnapshotBeforeUpdate(yt,w),h.__reactInternalSnapshotBeforeUpdate=r}catch(ht){ee(f,f.return,ht)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,f=r.nodeType,f===9)g1(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":g1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Dn=r;break}Dn=s.return}}function Go(r,s,f){var h=f.flags;switch(f.tag){case 0:case 11:case 15:qt(r,f),h&4&&$r(5,f);break;case 1:if(qt(r,f),h&4)if(r=f.stateNode,s===null)try{r.componentDidMount()}catch(D){ee(f,f.return,D)}else{var y=rs(f.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){ee(f,f.return,D)}}h&64&&Ep(f),h&512&&dc(f,f.return);break;case 3:if(qt(r,f),h&64&&(r=f.updateQueue,r!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{Bg(r,s)}catch(D){ee(f,f.return,D)}}break;case 27:s===null&&h&4&&Ho(f);case 26:case 5:qt(r,f),s===null&&h&4&&hc(f),h&512&&dc(f,f.return);break;case 12:qt(r,f);break;case 13:qt(r,f),h&4&&Vl(r,f),h&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=Ke.bind(null,f),Jx(r,f))));break;case 22:if(h=f.memoizedState!==null||Wr,!h){s=s!==null&&s.memoizedState!==null||Sn,y=Wr;var w=Sn;Wr=h,(Sn=s)&&!w?Jr(r,f,(f.subtreeFlags&8772)!==0):qt(r,f),Wr=y,Sn=w}break;case 30:break;default:qt(r,f)}}function Xf(r){var s=r.alternate;s!==null&&(r.alternate=null,Xf(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&rt(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vn=null,ya=!1;function dr(r,s,f){for(f=f.child;f!==null;)xr(r,s,f),f=f.sibling}function xr(r,s,f){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ze,f)}catch{}switch(f.tag){case 26:Sn||an(f,s),dr(r,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Sn||an(f,s);var h=vn,y=ya;Qo(f.type)&&(vn=f.stateNode,ya=!1),dr(r,s,f),n0(f.stateNode),vn=h,ya=y;break;case 5:Sn||an(f,s);case 6:if(h=vn,y=ya,vn=null,dr(r,s,f),vn=h,ya=y,vn!==null)if(ya)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(f.stateNode)}catch(w){ee(f,s,w)}else try{vn.removeChild(f.stateNode)}catch(w){ee(f,s,w)}break;case 18:vn!==null&&(ya?(r=vn,Nb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),c0(r)):Nb(vn,f.stateNode));break;case 4:h=vn,y=ya,vn=f.stateNode.containerInfo,ya=!0,dr(r,s,f),vn=h,ya=y;break;case 0:case 11:case 14:case 15:Sn||Da(2,f,s),Sn||Da(4,f,s),dr(r,s,f);break;case 1:Sn||(an(f,s),h=f.stateNode,typeof h.componentWillUnmount=="function"&&Cp(f,s,h)),dr(r,s,f);break;case 21:dr(r,s,f);break;case 22:Sn=(h=Sn)||f.memoizedState!==null,dr(r,s,f),Sn=h;break;default:dr(r,s,f)}}function Vl(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{c0(r)}catch(f){ee(s,s.return,f)}}function $h(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Qh),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Qh),s;default:throw Error(a(435,r.tag))}}function Ci(r,s){var f=$h(r);s.forEach(function(h){var y=Tt.bind(null,r,h);f.has(h)||(f.add(h),h.then(y,y))})}function Ka(r,s){var f=s.deletions;if(f!==null)for(var h=0;h<f.length;h++){var y=f[h],w=r,D=s,U=D;e:for(;U!==null;){switch(U.tag){case 27:if(Qo(U.type)){vn=U.stateNode,ya=!1;break e}break;case 5:vn=U.stateNode,ya=!1;break e;case 3:case 4:vn=U.stateNode.containerInfo,ya=!0;break e}U=U.return}if(vn===null)throw Error(a(160));xr(w,D,y),vn=null,ya=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)pc(s,r),s=s.sibling}var ja=null;function pc(r,s){var f=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ka(s,r),$n(r),h&4&&(Da(3,r,r.return),$r(3,r),Da(5,r,r.return));break;case 1:Ka(s,r),$n(r),h&512&&(Sn||f===null||an(f,f.return)),h&64&&Wr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?h:f.concat(h))));break;case 26:var y=ja;if(Ka(s,r),$n(r),h&512&&(Sn||f===null||an(f,f.return)),h&4){var w=f!==null?f.memoizedState:null;if(h=r.memoizedState,f===null)if(h===null)if(r.stateNode===null){e:{h=r.type,f=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[st]||w[ie]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),$a(w,h,f),w[ie]=r,Ht(w),h=w;break e;case"link":var D=Pb("link","href",y).get(h+(f.href||""));if(D){for(var U=0;U<D.length;U++)if(w=D[U],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(U,1);break t}}w=y.createElement(h),$a(w,h,f),y.head.appendChild(w);break;case"meta":if(D=Pb("meta","content",y).get(h+(f.content||""))){for(U=0;U<D.length;U++)if(w=D[U],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(U,1);break t}}w=y.createElement(h),$a(w,h,f),y.head.appendChild(w);break;default:throw Error(a(468,h))}w[ie]=r,Ht(w),h=w}r.stateNode=h}else Bb(y,r.type,r.stateNode);else r.stateNode=Lb(y,h,r.memoizedProps);else w!==h?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,h===null?Bb(y,r.type,r.stateNode):Lb(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Zs(r,r.memoizedProps,f.memoizedProps)}break;case 27:Ka(s,r),$n(r),h&512&&(Sn||f===null||an(f,f.return)),f!==null&&h&4&&Zs(r,r.memoizedProps,f.memoizedProps);break;case 5:if(Ka(s,r),$n(r),h&512&&(Sn||f===null||an(f,f.return)),r.flags&32){y=r.stateNode;try{yl(y,"")}catch(ge){ee(r,r.return,ge)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Zs(r,y,f!==null?f.memoizedProps:y)),h&1024&&(Is=!0);break;case 6:if(Ka(s,r),$n(r),h&4){if(r.stateNode===null)throw Error(a(162));h=r.memoizedProps,f=r.stateNode;try{f.nodeValue=h}catch(ge){ee(r,r.return,ge)}}break;case 3:if(jp=null,y=ja,ja=Mp(s.containerInfo),Ka(s,r),ja=y,$n(r),h&4&&f!==null&&f.memoizedState.isDehydrated)try{c0(s.containerInfo)}catch(ge){ee(r,r.return,ge)}Is&&(Is=!1,At(r));break;case 4:h=ja,ja=Mp(r.stateNode.containerInfo),Ka(s,r),$n(r),ja=h;break;case 12:Ka(s,r),$n(r);break;case 13:Ka(s,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Io=ea()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ci(r,h)));break;case 22:y=r.memoizedState!==null;var V=f!==null&&f.memoizedState!==null,se=Wr,xe=Sn;if(Wr=se||y,Sn=xe||V,Ka(s,r),Sn=xe,Wr=se,$n(r),h&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(f===null||V||Wr||Sn||wn(r)),f=null,s=r;;){if(s.tag===5||s.tag===26){if(f===null){V=f=s;try{if(w=V.stateNode,y)D=w.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{U=V.stateNode;var Ae=V.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;U.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(ge){ee(V,V.return,ge)}}}else if(s.tag===6){if(f===null){V=s;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(ge){ee(V,V.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=r.updateQueue,h!==null&&(f=h.retryQueue,f!==null&&(h.retryQueue=null,Ci(r,f))));break;case 19:Ka(s,r),$n(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Ci(r,h)));break;case 30:break;case 21:break;default:Ka(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{for(var f,h=r.return;h!==null;){if(If(h)){f=h;break}h=h.return}if(f==null)throw Error(a(160));switch(f.tag){case 27:var y=f.stateNode,w=Bo(r);ss(r,w,y);break;case 5:var D=f.stateNode;f.flags&32&&(yl(D,""),f.flags&=-33);var U=Bo(r);ss(r,U,D);break;case 3:case 4:var V=f.stateNode.containerInfo,se=Bo(r);gc(r,se,V);break;default:throw Error(a(161))}}catch(xe){ee(r,r.return,xe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function At(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;At(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function qt(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Go(r,s.alternate,s),s=s.sibling}function wn(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return),wn(s);break;case 1:an(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&Cp(s,s.return,f),wn(s);break;case 27:n0(s.stateNode);case 26:case 5:an(s,s.return),wn(s);break;case 22:s.memoizedState===null&&wn(s);break;case 30:wn(s);break;default:wn(s)}r=r.sibling}}function Jr(r,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=r,w=s,D=w.flags;switch(w.tag){case 0:case 11:case 15:Jr(y,w,f),$r(4,w);break;case 1:if(Jr(y,w,f),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(se){ee(h,h.return,se)}if(h=w,y=h.updateQueue,y!==null){var U=h.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)ut(V[y],U)}catch(se){ee(h,h.return,se)}}f&&D&64&&Ep(w),dc(w,w.return);break;case 27:Ho(w);case 26:case 5:Jr(y,w,f),f&&h===null&&D&4&&hc(w),dc(w,w.return);break;case 12:Jr(y,w,f);break;case 13:Jr(y,w,f),f&&D&4&&Vl(y,w);break;case 22:w.memoizedState===null&&Jr(y,w,f),dc(w,w.return);break;case 30:break;default:Jr(y,w,f)}s=s.sibling}}function Xs(r,s){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&Xr(f))}function ls(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Xr(r))}function Er(r,s,f,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qo(r,s,f,h),s=s.sibling}function qo(r,s,f,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Er(r,s,f,h),y&2048&&$r(9,s);break;case 1:Er(r,s,f,h);break;case 3:Er(r,s,f,h),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Xr(r)));break;case 12:if(y&2048){Er(r,s,f,h),r=s.stateNode;try{var w=s.memoizedProps,D=w.id,U=w.onPostCommit;typeof U=="function"&&U(D,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){ee(s,s.return,V)}}else Er(r,s,f,h);break;case 13:Er(r,s,f,h);break;case 23:break;case 22:w=s.stateNode,D=s.alternate,s.memoizedState!==null?w._visibility&2?Er(r,s,f,h):mc(r,s):w._visibility&2?Er(r,s,f,h):(w._visibility|=2,ei(r,s,f,h,(s.subtreeFlags&10256)!==0)),y&2048&&Xs(D,s);break;case 24:Er(r,s,f,h),y&2048&&ls(s.alternate,s);break;default:Er(r,s,f,h)}}function ei(r,s,f,h,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var w=r,D=s,U=f,V=h,se=D.flags;switch(D.tag){case 0:case 11:case 15:ei(w,D,U,V,y),$r(8,D);break;case 23:break;case 22:var xe=D.stateNode;D.memoizedState!==null?xe._visibility&2?ei(w,D,U,V,y):mc(w,D):(xe._visibility|=2,ei(w,D,U,V,y)),y&&se&2048&&Xs(D.alternate,D);break;case 24:ei(w,D,U,V,y),y&&se&2048&&ls(D.alternate,D);break;default:ei(w,D,U,V,y)}s=s.sibling}}function mc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=r,h=s,y=h.flags;switch(h.tag){case 22:mc(f,h),y&2048&&Xs(h.alternate,h);break;case 24:mc(f,h),y&2048&&ls(h.alternate,h);break;default:mc(f,h)}s=s.sibling}}var Ks=8192;function Yl(r){if(r.subtreeFlags&Ks)for(r=r.child;r!==null;)Wh(r),r=r.sibling}function Wh(r){switch(r.tag){case 26:Yl(r),r.flags&Ks&&r.memoizedState!==null&&d8(ja,r.memoizedState,r.memoizedProps);break;case 5:Yl(r);break;case 3:case 4:var s=ja;ja=Mp(r.stateNode.containerInfo),Yl(r),ja=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ks,Ks=16777216,Yl(r),Ks=s):Yl(r));break;default:Yl(r)}}function Tp(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ti(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];Dn=h,Jh(h,r)}Tp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vo(r),r=r.sibling}function Vo(r){switch(r.tag){case 0:case 11:case 15:Ti(r),r.flags&2048&&Da(9,r,r.return);break;case 3:Ti(r);break;case 12:Ti(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,os(r)):Ti(r);break;default:Ti(r)}}function os(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];Dn=h,Jh(h,r)}Tp(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Da(8,s,s.return),os(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,os(s));break;default:os(s)}r=r.sibling}}function Jh(r,s){for(;Dn!==null;){var f=Dn;switch(f.tag){case 0:case 11:case 15:Da(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var h=f.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Xr(f.memoizedState.cache)}if(h=f.child,h!==null)h.return=f,Dn=h;else e:for(f=r;Dn!==null;){h=Dn;var y=h.sibling,w=h.return;if(Xf(h),h===f){Dn=null;break e}if(y!==null){y.return=w,Dn=y;break e}Dn=w}}}var Ur={getCacheForType:function(r){var s=Ma(Kn),f=s.data.get(r);return f===void 0&&(f=r(),s.data.set(r,f)),f}},Ai=typeof WeakMap=="function"?WeakMap:Map,mt=0,pn=null,kt=null,Vt=0,vt=0,Fa=null,za=!1,xn=!1,vc=!1,Ri=0,Dt=0,yn=0,Wn=0,Cr=0,ba=0,Yo=0,Fs=null,_a=null,Zo=!1,Io=0,Zl=1/0,Qs=null,$s=null,ct=0,Kt=null,Et=null,jt=0,rn=0,Qa=null,us=null,Oi=0,yc=null;function Yn(){if((mt&2)!==0&&Vt!==0)return Vt&-Vt;if(B.T!==null){var r=Oo;return r!==0?r:a1()}return pl()}function Bn(){ba===0&&(ba=(Vt&536870912)===0||Xt?Gn():536870912);var r=Sr.current;return r!==null&&(r.flags|=32),ba}function Jn(r,s,f){(r===pn&&(vt===2||vt===9)||r.cancelPendingCommit!==null)&&(el(r,0),Tr(r,Vt,ba,!1)),Yr(r,f),((mt&2)===0||r!==pn)&&(r===pn&&((mt&2)===0&&(Wn|=f),Dt===4&&Tr(r,Vt,ba,!1)),et(r))}function Ws(r,s,f){if((mt&6)!==0)throw Error(a(327));var h=!f&&(s&124)===0&&(s&r.expiredLanes)===0||xt(r,s),y=h?Ko(r,s):na(r,s,!0),w=h;do{if(y===0){xn&&!h&&Tr(r,s,0,!1);break}else{if(f=r.current.alternate,w&&!kr(f)){y=na(r,s,!1),w=!1;continue}if(y===2){if(w=s,r.errorRecoveryDisabledLanes&w)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var U=r;y=Fs;var V=U.current.memoizedState.isDehydrated;if(V&&(el(U,D).flags|=256),D=na(U,D,!1),D!==2){if(vc&&!V){U.errorRecoveryDisabledLanes|=w,Wn|=w,y=4;break e}w=_a,_a=y,w!==null&&(_a===null?_a=w:_a.push.apply(_a,w))}y=D}if(w=!1,y!==2)continue}}if(y===1){el(r,0),Tr(r,s,0,!0);break}e:{switch(h=r,w=y,w){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Tr(h,s,ba,!za);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Io+300-ea(),10<y)){if(Tr(h,s,ba,!za),Wt(h,0,!0)!==0)break e;h.timeoutHandle=Rb(Kf.bind(null,h,f,_a,Qs,Zo,s,ba,Wn,Yo,za,w,2,-0,0),y);break e}Kf(h,f,_a,Qs,Zo,s,ba,Wn,Yo,za,w,0,-0,0)}}break}while(!0);et(r)}function Kf(r,s,f,h,y,w,D,U,V,se,xe,Ae,fe,ge){if(r.timeoutHandle=-1,Ae=s.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(i0={stylesheets:null,count:0,unsuspend:f8},Wh(s),Ae=h8(),Ae!==null)){r.cancelPendingCommit=Ae(o.bind(null,r,s,w,f,h,y,D,U,V,xe,1,fe,ge)),Tr(r,w,D,!se);return}o(r,s,w,f,h,y,D,U,V)}function kr(r){for(var s=r;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var h=0;h<f.length;h++){var y=f[h],w=y.getSnapshot;y=y.value;try{if(!yr(w(),y))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Tr(r,s,f,h){s&=~Cr,s&=~Wn,r.suspendedLanes|=s,r.pingedLanes&=~s,h&&(r.warmLanes|=s),h=r.expirationTimes;for(var y=s;0<y;){var w=31-en(y),D=1<<w;h[w]=-1,y&=~D}f!==0&&Ss(r,f,s)}function Js(){return(mt&6)===0?(un(0),!1):!0}function Ua(){if(kt!==null){if(vt===0)var r=kt.return;else r=kt,vi=js=null,Ah(r),Uo=null,Za=0,r=kt;for(;r!==null;)fc(r.alternate,r),r=r.return;kt=null}}function el(r,s){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,Kx(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Ua(),pn=r,kt=f=gi(r.current,null),Vt=s,vt=0,Fa=null,za=!1,xn=xt(r,s),vc=!1,Yo=ba=Cr=Wn=yn=Dt=0,_a=Fs=null,Zo=!1,(s&8)!==0&&(s|=s&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=s;0<h;){var y=31-en(h),w=1<<y;s|=r[y],h&=~w}return Ri=s,br(),f}function Ff(r,s){Mt=null,B.H=Pf,s===Ul||s===kl?(s=wh(),vt=3):s===Pg?(s=wh(),vt=4):vt=s===bp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fa=s,kt===null&&(Dt=1,Hf(r,sa(s,r.current)))}function Xo(){var r=B.H;return B.H=Pf,r===null?Pf:r}function bc(){var r=B.A;return B.A=Ur,r}function Ni(){Dt=4,za||(Vt&4194048)!==Vt&&Sr.current!==null||(xn=!0),(yn&134217727)===0&&(Wn&134217727)===0||pn===null||Tr(pn,Vt,ba,!1)}function na(r,s,f){var h=mt;mt|=2;var y=Xo(),w=bc();(pn!==r||Vt!==s)&&(Qs=null,el(r,s)),s=!1;var D=Dt;e:do try{if(vt!==0&&kt!==null){var U=kt,V=Fa;switch(vt){case 8:Ua(),D=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(s=!0);var se=vt;if(vt=0,Fa=null,Il(r,U,V,se),f&&xn){D=0;break e}break;default:se=vt,vt=0,Fa=null,Il(r,U,V,se)}}tl(),D=Dt;break}catch(xe){Ff(r,xe)}while(!0);return s&&r.shellSuspendCounter++,vi=js=null,mt=h,B.H=y,B.A=w,kt===null&&(pn=null,Vt=0,br()),D}function tl(){for(;kt!==null;)Qf(kt)}function Ko(r,s){var f=mt;mt|=2;var h=Xo(),y=bc();pn!==r||Vt!==s?(Qs=null,Zl=ea()+500,el(r,s)):xn=xt(r,s);e:do try{if(vt!==0&&kt!==null){s=kt;var w=Fa;t:switch(vt){case 1:vt=0,Fa=null,Il(r,s,w,1);break;case 2:case 9:if(Ll(w)){vt=0,Fa=null,$f(s);break}s=function(){vt!==2&&vt!==9||pn!==r||(vt=7),et(r)},w.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Ll(w)?(vt=0,Fa=null,$f(s)):(vt=0,Fa=null,Il(r,s,w,7));break;case 5:var D=null;switch(kt.tag){case 26:D=kt.memoizedState;case 5:case 27:var U=kt;if(!D||Hb(D)){vt=0,Fa=null;var V=U.sibling;if(V!==null)kt=V;else{var se=U.return;se!==null?(kt=se,nl(se)):kt=null}break t}}vt=0,Fa=null,Il(r,s,w,5);break;case 6:vt=0,Fa=null,Il(r,s,w,6);break;case 8:Ua(),Dt=6;break e;default:throw Error(a(462))}}Fo();break}catch(xe){Ff(r,xe)}while(!0);return vi=js=null,B.H=h,B.A=y,mt=f,kt!==null?0:(pn=null,Vt=0,br(),Dt)}function Fo(){for(;kt!==null&&!Ba();)Qf(kt)}function Qf(r){var s=cc(r.alternate,r,Ri);r.memoizedProps=r.pendingProps,s===null?nl(r):kt=s}function $f(r){var s=r,f=s.alternate;switch(s.tag){case 15:case 0:s=Vf(f,s,s.pendingProps,s.type,void 0,Vt);break;case 11:s=Vf(f,s,s.pendingProps,s.type.render,s.ref,Vt);break;case 5:Ah(s);default:fc(f,s),s=kt=Sf(s,Ri),s=cc(f,s,Ri)}r.memoizedProps=r.pendingProps,s===null?nl(r):kt=s}function Il(r,s,f,h){vi=js=null,Ah(s),Uo=null,Za=0;var y=s.return;try{if(e1(r,y,s,f,Vt)){Dt=1,Hf(r,sa(f,r.current)),kt=null;return}}catch(w){if(y!==null)throw kt=y,w;Dt=1,Hf(r,sa(f,r.current)),kt=null;return}s.flags&32768?(Xt||h===1?r=!0:xn||(Vt&536870912)!==0?r=!1:(za=r=!0,(h===2||h===9||h===3||h===6)&&(h=Sr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Wf(s,r)):nl(s)}function nl(r){var s=r;do{if((s.flags&32768)!==0){Wf(s,za);return}r=s.return;var f=Fh(s.alternate,s,Ri);if(f!==null){kt=f;return}if(s=s.sibling,s!==null){kt=s;return}kt=s=r}while(s!==null);Dt===0&&(Dt=5)}function Wf(r,s){do{var f=wr(r.alternate,r);if(f!==null){f.flags&=32767,kt=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(r=r.sibling,r!==null)){kt=r;return}kt=r=f}while(r!==null);Dt=6,kt=null}function o(r,s,f,h,y,w,D,U,V){r.cancelPendingCommit=null;do A();while(ct!==0);if((mt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(w=s.lanes|s.childLanes,w|=Pu,Xc(r,f,w,D,U,V),r===pn&&(kt=pn=null,Vt=0),Et=s,Kt=r,jt=f,rn=w,Qa=y,us=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Lr(ae,function(){return L(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,y=le.p,le.p=2,D=mt,mt|=4;try{t1(r,s,f)}finally{mt=D,le.p=y,B.T=h}}ct=1,c(),p(),b()}}function c(){if(ct===1){ct=0;var r=Kt,s=Et,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var h=le.p;le.p=2;var y=mt;mt|=4;try{pc(s,r);var w=f1,D=fh(r.containerInfo),U=w.focusedElem,V=w.selectionRange;if(D!==U&&U&&U.ownerDocument&&ch(U.ownerDocument.documentElement,U)){if(V!==null&&Cl(U)){var se=V.start,xe=V.end;if(xe===void 0&&(xe=se),"selectionStart"in U)U.selectionStart=se,U.selectionEnd=Math.min(xe,U.value.length);else{var Ae=U.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),yt=U.textContent.length,ht=Math.min(V.start,yt),Cn=V.end===void 0?ht:Math.min(V.end,yt);!ge.extend&&ht>Cn&&(D=Cn,Cn=ht,ht=D);var W=Ki(U,ht),K=Ki(U,Cn);if(W&&K&&(ge.rangeCount!==1||ge.anchorNode!==W.node||ge.anchorOffset!==W.offset||ge.focusNode!==K.node||ge.focusOffset!==K.offset)){var re=Ae.createRange();re.setStart(W.node,W.offset),ge.removeAllRanges(),ht>Cn?(ge.addRange(re),ge.extend(K.node,K.offset)):(re.setEnd(K.node,K.offset),ge.addRange(re))}}}}for(Ae=[],ge=U;ge=ge.parentNode;)ge.nodeType===1&&Ae.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ae.length;U++){var Ee=Ae[U];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}kp=!!c1,f1=c1=null}finally{mt=y,le.p=h,B.T=f}}r.current=s,ct=2}}function p(){if(ct===2){ct=0;var r=Kt,s=Et,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var h=le.p;le.p=2;var y=mt;mt|=4;try{Go(r,s.alternate,s)}finally{mt=y,le.p=h,B.T=f}}ct=3}}function b(){if(ct===4||ct===3){ct=0,Ha();var r=Kt,s=Et,f=jt,h=us;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ct=5:(ct=0,Et=Kt=null,x(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&($s=null),ho(f),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ze,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,y=le.p,le.p=2,B.T=null;try{for(var w=r.onRecoverableError,D=0;D<h.length;D++){var U=h[D];w(U.value,{componentStack:U.stack})}}finally{B.T=s,le.p=y}}(jt&3)!==0&&A(),et(r),y=r.pendingLanes,(f&4194090)!==0&&(y&42)!==0?r===yc?Oi++:(Oi=0,yc=r):Oi=0,un(0)}}function x(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Xr(s)))}function A(r){return c(),p(),b(),L()}function L(){if(ct!==5)return!1;var r=Kt,s=rn;rn=0;var f=ho(jt),h=B.T,y=le.p;try{le.p=32>f?32:f,B.T=null,f=Qa,Qa=null;var w=Kt,D=jt;if(ct=0,Et=Kt=null,jt=0,(mt&6)!==0)throw Error(a(331));var U=mt;if(mt|=4,Vo(w.current),qo(w,w.current,D,f),mt=U,un(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ze,w)}catch{}return!0}finally{le.p=y,B.T=h,x(r,s)}}function Z(r,s,f){s=sa(f,s),s=Lo(r.stateNode,s,2),r=Ya(r,s,2),r!==null&&(Yr(r,2),et(r))}function ee(r,s,f){if(r.tag===3)Z(r,r,f);else for(;s!==null;){if(s.tag===3){Z(s,r,f);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($s===null||!$s.has(h))){r=sa(f,r),f=oc(2),h=Ya(s,f,2),h!==null&&(Gf(f,h,s,r),Yr(h,2),et(h));break}}s=s.return}}function Oe(r,s,f){var h=r.pingCache;if(h===null){h=r.pingCache=new Ai;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(f)||(vc=!0,y.add(f),r=Le.bind(null,r,s,f),s.then(r,r))}function Le(r,s,f){var h=r.pingCache;h!==null&&h.delete(s),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,pn===r&&(Vt&f)===f&&(Dt===4||Dt===3&&(Vt&62914560)===Vt&&300>ea()-Io?(mt&2)===0&&el(r,0):Cr|=f,Yo===Vt&&(Yo=0)),et(r)}function Ie(r,s){s===0&&(s=Hi()),r=hi(r,s),r!==null&&(Yr(r,s),et(r))}function Ke(r){var s=r.memoizedState,f=0;s!==null&&(f=s.retryLane),Ie(r,f)}function Tt(r,s){var f=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(f=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),Ie(r,f)}function Lr(r,s){return Nn(r,s)}var al=null,Pr=null,ue=!1,$=!1,me=!1,je=0;function et(r){r!==Pr&&r.next===null&&(Pr===null?al=Pr=r:Pr=Pr.next=r),$=!0,ue||(ue=!0,n1())}function un(r,s){if(!me&&$){me=!0;do for(var f=!1,h=al;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var D=h.suspendedLanes,U=h.pingedLanes;w=(1<<31-en(42|r)+1)-1,w&=y&~(D&~U),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,cs(h,w))}else w=Vt,w=Wt(h,h===pn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||xt(h,w)||(f=!0,cs(h,w));h=h.next}while(f);me=!1}}function gt(){Ft()}function Ft(){$=ue=!1;var r=0;je!==0&&(Xx()&&(r=je),je=0);for(var s=ea(),f=null,h=al;h!==null;){var y=h.next,w=aa(h,s);w===0?(h.next=null,f===null?al=y:f.next=y,y===null&&(Pr=f)):(f=h,(r!==0||(w&3)!==0)&&($=!0)),h=y}un(r)}function aa(r,s){for(var f=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var D=31-en(w),U=1<<D,V=y[D];V===-1?((U&f)===0||(U&h)!==0)&&(y[D]=on(U,s)):V<=s&&(r.expiredLanes|=U),w&=~U}if(s=pn,f=Vt,f=Wt(r,r===s?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,f===0||r===s&&(vt===2||vt===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&fn(h),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||xt(r,f)){if(s=f&-f,s===r.callbackPriority)return s;switch(h!==null&&fn(h),ho(f)){case 2:case 8:f=X;break;case 32:f=ae;break;case 268435456:f=Ge;break;default:f=ae}return h=Qt.bind(null,r),f=Nn(f,h),r.callbackPriority=s,r.callbackNode=f,s}return h!==null&&h!==null&&fn(h),r.callbackPriority=2,r.callbackNode=null,2}function Qt(r,s){if(ct!==0&&ct!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(A()&&r.callbackNode!==f)return null;var h=Vt;return h=Wt(r,r===pn?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(Ws(r,h,s),aa(r,ea()),r.callbackNode!=null&&r.callbackNode===f?Qt.bind(null,r):null)}function cs(r,s){if(A())return null;Ws(r,s,!0)}function n1(){Fx(function(){(mt&6)!==0?Nn(Wa,gt):Ft()})}function a1(){return je===0&&(je=Gn()),je}function bb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Jc(""+r)}function _b(r,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,r.id&&f.setAttribute("form",r.id),s.parentNode.insertBefore(f,s),r=new FormData(r),f.parentNode.removeChild(f),r}function Hx(r,s,f,h,y){if(s==="submit"&&f&&f.stateNode===y){var w=bb((y[Re]||null).action),D=h.submitter;D&&(s=(s=D[Re]||null)?bb(s.formAction):D.getAttribute("formAction"),s!==null&&(w=s,D=null));var U=new Mu("action","action",null,h,y);r.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(je!==0){var V=D?_b(y,D):new FormData(y);Bh(f,{pending:!0,data:V,method:y.method,action:w},null,V)}}else typeof w=="function"&&(U.preventDefault(),V=D?_b(y,D):new FormData(y),Bh(f,{pending:!0,data:V,method:y.method,action:w},w,V))},currentTarget:y}]})}}for(var r1=0;r1<Ra.length;r1++){var i1=Ra[r1],Gx=i1.toLowerCase(),qx=i1[0].toUpperCase()+i1.slice(1);Nr(Gx,"on"+qx)}Nr(dh,"onAnimationEnd"),Nr(Or,"onAnimationIteration"),Nr(_f,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(zg,"onTransitionRun"),Nr(Kv,"onTransitionStart"),Nr(hh,"onTransitionCancel"),Nr(Aa,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var e0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(e0));function Sb(r,s){s=(s&4)!==0;for(var f=0;f<r.length;f++){var h=r[f],y=h.event;h=h.listeners;e:{var w=void 0;if(s)for(var D=h.length-1;0<=D;D--){var U=h[D],V=U.instance,se=U.currentTarget;if(U=U.listener,V!==w&&y.isPropagationStopped())break e;w=U,y.currentTarget=se;try{w(y)}catch(xe){is(xe)}y.currentTarget=null,w=V}else for(D=0;D<h.length;D++){if(U=h[D],V=U.instance,se=U.currentTarget,U=U.listener,V!==w&&y.isPropagationStopped())break e;w=U,y.currentTarget=se;try{w(y)}catch(xe){is(xe)}y.currentTarget=null,w=V}}}}function Yt(r,s){var f=s[tt];f===void 0&&(f=s[tt]=new Set);var h=r+"__bubble";f.has(h)||(wb(s,r,2,!1),f.add(h))}function s1(r,s,f){var h=0;s&&(h|=4),wb(f,r,h,s)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function l1(r){if(!r[Ap]){r[Ap]=!0,dn.forEach(function(f){f!=="selectionchange"&&(Vx.has(f)||s1(f,!1,r),s1(f,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ap]||(s[Ap]=!0,s1("selectionchange",!1,s))}}function wb(r,s,f,h){switch(Ib(s)){case 2:var y=m8;break;case 8:y=v8;break;default:y=S1}f=y.bind(null,s,f,r),y=void 0,!tf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(s,f,{capture:!0,passive:y}):r.addEventListener(s,f,!0):y!==void 0?r.addEventListener(s,f,{passive:y}):r.addEventListener(s,f,!1)}function o1(r,s,f,h,y){var w=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var U=h.stateNode.containerInfo;if(U===y)break;if(D===4)for(D=h.return;D!==null;){var V=D.tag;if((V===3||V===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;U!==null;){if(D=Qe(U),D===null)return;if(V=D.tag,V===5||V===6||V===26||V===27){h=w=D;continue e}U=U.parentNode}}h=h.return}Wd(function(){var se=w,xe=Es(f),Ae=[];e:{var fe=gh.get(r);if(fe!==void 0){var ge=Mu,yt=r;switch(r){case"keypress":if(vo(f)===0)break e;case"keydown":case"keyup":ge=of;break;case"focusin":yt="focus",ge=Sl;break;case"focusout":yt="blur",ge=Sl;break;case"beforeblur":case"afterblur":ge=Sl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Eg;break;case dh:case Or:case _f:ge=yg;break;case Aa:ge=va;break;case"scroll":case"scrollend":ge=Yv;break;case"wheel":ge=Tg;break;case"copy":case"cut":case"paste":ge=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=uf;break;case"toggle":case"beforetoggle":ge=Rg}var ht=(s&4)!==0,Cn=!ht&&(r==="scroll"||r==="scrollend"),W=ht?fe!==null?fe+"Capture":null:fe;ht=[];for(var K=se,re;K!==null;){var Ee=K;if(re=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||re===null||W===null||(Ee=po(K,W),Ee!=null&&ht.push(t0(K,Ee,re))),Cn)break;K=K.return}0<ht.length&&(fe=new ge(fe,yt,null,f,xe),Ae.push({event:fe,listeners:ht}))}}if((s&7)===0){e:{if(fe=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",fe&&f!==ef&&(yt=f.relatedTarget||f.fromElement)&&(Qe(yt)||yt[Be]))break e;if((ge||fe)&&(fe=xe.window===xe?xe:(fe=xe.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(yt=f.relatedTarget||f.toElement,ge=se,yt=yt?Qe(yt):null,yt!==null&&(Cn=l(yt),ht=yt.tag,yt!==Cn||ht!==5&&ht!==27&&ht!==6)&&(yt=null)):(ge=null,yt=se),ge!==yt)){if(ht=Du,Ee="onMouseLeave",W="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(ht=uf,Ee="onPointerLeave",W="onPointerEnter",K="pointer"),Cn=ge==null?fe:tn(ge),re=yt==null?fe:tn(yt),fe=new ht(Ee,K+"leave",ge,f,xe),fe.target=Cn,fe.relatedTarget=re,Ee=null,Qe(xe)===se&&(ht=new ht(W,K+"enter",yt,f,xe),ht.target=re,ht.relatedTarget=Cn,Ee=ht),Cn=Ee,ge&&yt)t:{for(ht=ge,W=yt,K=0,re=ht;re;re=Jf(re))K++;for(re=0,Ee=W;Ee;Ee=Jf(Ee))re++;for(;0<K-re;)ht=Jf(ht),K--;for(;0<re-K;)W=Jf(W),re--;for(;K--;){if(ht===W||W!==null&&ht===W.alternate)break t;ht=Jf(ht),W=Jf(W)}ht=null}else ht=null;ge!==null&&xb(Ae,fe,ge,ht,!1),yt!==null&&Cn!==null&&xb(Ae,Cn,yt,ht,!0)}}e:{if(fe=se?tn(se):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var nt=ar;else if(hf(fe))if(oh)nt=Ln;else{nt=vf;var Bt=Dg}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?se&&Wc(se.elementType)&&(nt=ar):nt=Uu;if(nt&&(nt=nt(r,se))){lh(Ae,nt,f,xe);break e}Bt&&Bt(r,fe,se),r==="focusout"&&se&&fe.type==="number"&&se.memoizedProps.value!=null&&$c(fe,"number",fe.value)}switch(Bt=se?tn(se):window,r){case"focusin":(hf(Bt)||Bt.contentEditable==="true")&&(Tl=Bt,ku=se,xo=null);break;case"focusout":xo=ku=Tl=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,yf(Ae,f,xe);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":yf(Ae,f,xe)}var lt;if(_o)e:{switch(r){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ts?ff(r,f)&&(pt="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(pt="onCompositionStart");pt&&(ah&&f.locale!=="ko"&&(Ts||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ts&&(lt=Jd()):(Vi=xe,Ru="value"in Vi?Vi.value:Vi.textContent,Ts=!0)),Bt=Rp(se,pt),0<Bt.length&&(pt=new Ii(pt,r,null,f,xe),Ae.push({event:pt,listeners:Bt}),lt?pt.data=lt:(lt=ih(f),lt!==null&&(pt.data=lt)))),(lt=Ng?df(r,f):sh(r,f))&&(pt=Rp(se,"onBeforeInput"),0<pt.length&&(Bt=new Ii("onBeforeInput","beforeinput",null,f,xe),Ae.push({event:Bt,listeners:pt}),Bt.data=lt)),Hx(Ae,r,se,f,xe)}Sb(Ae,s)})}function t0(r,s,f){return{instance:r,listener:s,currentTarget:f}}function Rp(r,s){for(var f=s+"Capture",h=[];r!==null;){var y=r,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=po(r,f),y!=null&&h.unshift(t0(r,y,w)),y=po(r,s),y!=null&&h.push(t0(r,y,w))),r.tag===3)return h;r=r.return}return[]}function Jf(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function xb(r,s,f,h,y){for(var w=s._reactName,D=[];f!==null&&f!==h;){var U=f,V=U.alternate,se=U.stateNode;if(U=U.tag,V!==null&&V===h)break;U!==5&&U!==26&&U!==27||se===null||(V=se,y?(se=po(f,w),se!=null&&D.unshift(t0(f,se,V))):y||(se=po(f,w),se!=null&&D.push(t0(f,se,V)))),f=f.return}D.length!==0&&r.push({event:s,listeners:D})}var Yx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function Eb(r){return(typeof r=="string"?r:""+r).replace(Yx,`
`).replace(Zx,"")}function Cb(r,s){return s=Eb(s),Eb(r)===s}function Op(){}function En(r,s,f,h,y,w){switch(f){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||yl(r,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&yl(r,""+h);break;case"className":Zr(r,"class",h);break;case"tabIndex":Zr(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(r,f,h);break;case"style":$d(r,h,w);break;case"data":if(s!=="object"){Zr(r,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||f!=="href")){r.removeAttribute(f);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(f);break}h=Jc(""+h),r.setAttribute(f,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(s!=="input"&&En(r,s,"name",y.name,y,null),En(r,s,"formEncType",y.formEncType,y,null),En(r,s,"formMethod",y.formMethod,y,null),En(r,s,"formTarget",y.formTarget,y,null)):(En(r,s,"encType",y.encType,y,null),En(r,s,"method",y.method,y,null),En(r,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(f);break}h=Jc(""+h),r.setAttribute(f,h);break;case"onClick":h!=null&&(r.onclick=Op);break;case"onScroll":h!=null&&Yt("scroll",r);break;case"onScrollEnd":h!=null&&Yt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=f}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}f=Jc(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(f,""+h):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":h===!0?r.setAttribute(f,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(f,h):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(f,h):r.removeAttribute(f);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(f):r.setAttribute(f,h);break;case"popover":Yt("beforetoggle",r),Yt("toggle",r),nr(r,"popover",h);break;case"xlinkActuate":Ta(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ta(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ta(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ta(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ta(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ta(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ta(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":nr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=gg.get(f)||f,nr(r,f,h))}}function u1(r,s,f,h,y,w){switch(f){case"style":$d(r,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=f}}break;case"children":typeof h=="string"?yl(r,h):(typeof h=="number"||typeof h=="bigint")&&yl(r,""+h);break;case"onScroll":h!=null&&Yt("scroll",r);break;case"onScrollEnd":h!=null&&Yt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Op);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sn.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),s=f.slice(2,y?f.length-7:void 0),w=r[Re]||null,w=w!=null?w[f]:null,typeof w=="function"&&r.removeEventListener(s,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(s,h,y);break e}f in r?r[f]=h:h===!0?r.setAttribute(f,""):nr(r,f,h)}}}function $a(r,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",r),Yt("load",r);var h=!1,y=!1,w;for(w in f)if(f.hasOwnProperty(w)){var D=f[w];if(D!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:En(r,s,w,D,f,null)}}y&&En(r,s,"srcSet",f.srcSet,f,null),h&&En(r,s,"src",f.src,f,null);return;case"input":Yt("invalid",r);var U=w=D=y=null,V=null,se=null;for(h in f)if(f.hasOwnProperty(h)){var xe=f[h];if(xe!=null)switch(h){case"name":y=xe;break;case"type":D=xe;break;case"checked":V=xe;break;case"defaultChecked":se=xe;break;case"value":w=xe;break;case"defaultValue":U=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,s));break;default:En(r,s,h,xe,f,null)}}Qc(r,w,U,V,se,D,y,!1),Cu(r);return;case"select":Yt("invalid",r),h=D=w=null;for(y in f)if(f.hasOwnProperty(y)&&(U=f[y],U!=null))switch(y){case"value":w=U;break;case"defaultValue":D=U;break;case"multiple":h=U;default:En(r,s,y,U,f,null)}s=w,f=D,r.multiple=!!h,s!=null?go(r,!!h,s,!1):f!=null&&go(r,!!h,f,!0);return;case"textarea":Yt("invalid",r),w=y=h=null;for(D in f)if(f.hasOwnProperty(D)&&(U=f[D],U!=null))switch(D){case"value":h=U;break;case"defaultValue":y=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:En(r,s,D,U,f,null)}Kd(r,h,y,w),Cu(r);return;case"option":for(V in f)if(f.hasOwnProperty(V)&&(h=f[V],h!=null))switch(V){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:En(r,s,V,h,f,null)}return;case"dialog":Yt("beforetoggle",r),Yt("toggle",r),Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":Yt("load",r);break;case"video":case"audio":for(h=0;h<e0.length;h++)Yt(e0[h],r);break;case"image":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"embed":case"source":case"link":Yt("error",r),Yt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in f)if(f.hasOwnProperty(se)&&(h=f[se],h!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:En(r,s,se,h,f,null)}return;default:if(Wc(s)){for(xe in f)f.hasOwnProperty(xe)&&(h=f[xe],h!==void 0&&u1(r,s,xe,h,f,void 0));return}}for(U in f)f.hasOwnProperty(U)&&(h=f[U],h!=null&&En(r,s,U,h,f,null))}function Ix(r,s,f,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,D=null,U=null,V=null,se=null,xe=null;for(ge in f){var Ae=f[ge];if(f.hasOwnProperty(ge)&&Ae!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":V=Ae;default:h.hasOwnProperty(ge)||En(r,s,ge,null,h,Ae)}}for(var fe in h){var ge=h[fe];if(Ae=f[fe],h.hasOwnProperty(fe)&&(ge!=null||Ae!=null))switch(fe){case"type":w=ge;break;case"name":y=ge;break;case"checked":se=ge;break;case"defaultChecked":xe=ge;break;case"value":D=ge;break;case"defaultValue":U=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,s));break;default:ge!==Ae&&En(r,s,fe,ge,h,Ae)}}Fc(r,D,U,V,se,xe,w,y);return;case"select":ge=D=U=fe=null;for(w in f)if(V=f[w],f.hasOwnProperty(w)&&V!=null)switch(w){case"value":break;case"multiple":ge=V;default:h.hasOwnProperty(w)||En(r,s,w,null,h,V)}for(y in h)if(w=h[y],V=f[y],h.hasOwnProperty(y)&&(w!=null||V!=null))switch(y){case"value":fe=w;break;case"defaultValue":U=w;break;case"multiple":D=w;default:w!==V&&En(r,s,y,w,h,V)}s=U,f=D,h=ge,fe!=null?go(r,!!f,fe,!1):!!h!=!!f&&(s!=null?go(r,!!f,s,!0):go(r,!!f,f?[]:"",!1));return;case"textarea":ge=fe=null;for(U in f)if(y=f[U],f.hasOwnProperty(U)&&y!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:En(r,s,U,null,h,y)}for(D in h)if(y=h[D],w=f[D],h.hasOwnProperty(D)&&(y!=null||w!=null))switch(D){case"value":fe=y;break;case"defaultValue":ge=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==w&&En(r,s,D,y,h,w)}Xd(r,fe,ge);return;case"option":for(var yt in f)if(fe=f[yt],f.hasOwnProperty(yt)&&fe!=null&&!h.hasOwnProperty(yt))switch(yt){case"selected":r.selected=!1;break;default:En(r,s,yt,null,h,fe)}for(V in h)if(fe=h[V],ge=f[V],h.hasOwnProperty(V)&&fe!==ge&&(fe!=null||ge!=null))switch(V){case"selected":r.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:En(r,s,V,fe,h,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in f)fe=f[ht],f.hasOwnProperty(ht)&&fe!=null&&!h.hasOwnProperty(ht)&&En(r,s,ht,null,h,fe);for(se in h)if(fe=h[se],ge=f[se],h.hasOwnProperty(se)&&fe!==ge&&(fe!=null||ge!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,s));break;default:En(r,s,se,fe,h,ge)}return;default:if(Wc(s)){for(var Cn in f)fe=f[Cn],f.hasOwnProperty(Cn)&&fe!==void 0&&!h.hasOwnProperty(Cn)&&u1(r,s,Cn,void 0,h,fe);for(xe in h)fe=h[xe],ge=f[xe],!h.hasOwnProperty(xe)||fe===ge||fe===void 0&&ge===void 0||u1(r,s,xe,fe,h,ge);return}}for(var W in f)fe=f[W],f.hasOwnProperty(W)&&fe!=null&&!h.hasOwnProperty(W)&&En(r,s,W,null,h,fe);for(Ae in h)fe=h[Ae],ge=f[Ae],!h.hasOwnProperty(Ae)||fe===ge||fe==null&&ge==null||En(r,s,Ae,fe,h,ge)}var c1=null,f1=null;function Np(r){return r.nodeType===9?r:r.ownerDocument}function Tb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ab(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function d1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var h1=null;function Xx(){var r=window.event;return r&&r.type==="popstate"?r===h1?!1:(h1=r,!0):(h1=null,!1)}var Rb=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(r){return Ob.resolve(null).then(r).catch(Qx)}:Rb;function Qx(r){setTimeout(function(){throw r})}function Qo(r){return r==="head"}function Nb(r,s){var f=s,h=0,y=0;do{var w=f.nextSibling;if(r.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<h&&8>h){f=h;var D=r.ownerDocument;if(f&1&&n0(D.documentElement),f&2&&n0(D.body),f&4)for(f=D.head,n0(f),D=f.firstChild;D;){var U=D.nextSibling,V=D.nodeName;D[st]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=U}}if(y===0){r.removeChild(w),c0(s);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:h=f.charCodeAt(0)-48;else h=0;f=w}while(f);c0(s)}function g1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":g1(f),rt(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function $x(r,s,f,h){for(;r.nodeType===1;){var y=f;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[st])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=fs(r.nextSibling),r===null)break}return null}function Wx(r,s,f){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=fs(r.nextSibling),r===null))return null;return r}function p1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Jx(r,s){var f=r.ownerDocument;if(r.data!=="$?"||f.readyState==="complete")s();else{var h=function(){s(),f.removeEventListener("DOMContentLoaded",h)};f.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function fs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var m1=null;function Mb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return r;s--}else f==="/$"&&s++}r=r.previousSibling}return null}function Db(r,s,f){switch(s=Np(f),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function n0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);rt(r)}var Mi=new Map,jb=new Set;function Mp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Xl=le.d;le.d={f:e8,r:t8,D:n8,C:a8,L:r8,m:i8,X:l8,S:s8,M:o8};function e8(){var r=Xl.f(),s=Js();return r||s}function t8(r){var s=wt(r);s!==null&&s.tag===5&&s.type==="form"?cp(s):Xl.r(r)}var ed=typeof document>"u"?null:document;function zb(r,s,f){var h=ed;if(h&&typeof s=="string"&&s){var y=mr(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),jb.has(y)||(jb.add(y),r={rel:r,crossOrigin:f,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),$a(s,"link",r),Ht(s),h.head.appendChild(s)))}}function n8(r){Xl.D(r),zb("dns-prefetch",r,null)}function a8(r,s){Xl.C(r,s),zb("preconnect",r,s)}function r8(r,s,f){Xl.L(r,s,f);var h=ed;if(h&&r&&s){var y='link[rel="preload"][as="'+mr(s)+'"]';s==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+mr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+mr(f.imageSizes)+'"]')):y+='[href="'+mr(r)+'"]';var w=y;switch(s){case"style":w=td(r);break;case"script":w=nd(r)}Mi.has(w)||(r=v({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:r,as:s},f),Mi.set(w,r),h.querySelector(y)!==null||s==="style"&&h.querySelector(a0(w))||s==="script"&&h.querySelector(r0(w))||(s=h.createElement("link"),$a(s,"link",r),Ht(s),h.head.appendChild(s)))}}function i8(r,s){Xl.m(r,s);var f=ed;if(f&&r){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+mr(h)+'"][href="'+mr(r)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=nd(r)}if(!Mi.has(w)&&(r=v({rel:"modulepreload",href:r},s),Mi.set(w,r),f.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(r0(w)))return}h=f.createElement("link"),$a(h,"link",r),Ht(h),f.head.appendChild(h)}}}function s8(r,s,f){Xl.S(r,s,f);var h=ed;if(h&&r){var y=bn(h).hoistableStyles,w=td(r);s=s||"default";var D=y.get(w);if(!D){var U={loading:0,preload:null};if(D=h.querySelector(a0(w)))U.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},f),(f=Mi.get(w))&&v1(r,f);var V=D=h.createElement("link");Ht(V),$a(V,"link",r),V._p=new Promise(function(se,xe){V.onload=se,V.onerror=xe}),V.addEventListener("load",function(){U.loading|=1}),V.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Dp(D,s,h)}D={type:"stylesheet",instance:D,count:1,state:U},y.set(w,D)}}}function l8(r,s){Xl.X(r,s);var f=ed;if(f&&r){var h=bn(f).hoistableScripts,y=nd(r),w=h.get(y);w||(w=f.querySelector(r0(y)),w||(r=v({src:r,async:!0},s),(s=Mi.get(y))&&y1(r,s),w=f.createElement("script"),Ht(w),$a(w,"link",r),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function o8(r,s){Xl.M(r,s);var f=ed;if(f&&r){var h=bn(f).hoistableScripts,y=nd(r),w=h.get(y);w||(w=f.querySelector(r0(y)),w||(r=v({src:r,async:!0,type:"module"},s),(s=Mi.get(y))&&y1(r,s),w=f.createElement("script"),Ht(w),$a(w,"link",r),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function Ub(r,s,f,h){var y=(y=ye.current)?Mp(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=td(f.href),f=bn(y).hoistableStyles,h=f.get(s),h||(h={type:"style",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=td(f.href);var w=bn(y).hoistableStyles,D=w.get(r);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,D),(w=y.querySelector(a0(r)))&&!w._p&&(D.instance=w,D.state.loading=5),Mi.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Mi.set(r,f),w||u8(y,r,f,D.state))),s&&h===null)throw Error(a(528,""));return D}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nd(f),f=bn(y).hoistableScripts,h=f.get(s),h||(h={type:"script",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function td(r){return'href="'+mr(r)+'"'}function a0(r){return'link[rel="stylesheet"]['+r+"]"}function kb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function u8(r,s,f,h){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=r.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),$a(s,"link",f),Ht(s),r.head.appendChild(s))}function nd(r){return'[src="'+mr(r)+'"]'}function r0(r){return"script[async]"+r}function Lb(r,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var h=r.querySelector('style[data-href~="'+mr(f.href)+'"]');if(h)return s.instance=h,Ht(h),h;var y=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Ht(h),$a(h,"style",y),Dp(h,f.precedence,r),s.instance=h;case"stylesheet":y=td(f.href);var w=r.querySelector(a0(y));if(w)return s.state.loading|=4,s.instance=w,Ht(w),w;h=kb(f),(y=Mi.get(y))&&v1(h,y),w=(r.ownerDocument||r).createElement("link"),Ht(w);var D=w;return D._p=new Promise(function(U,V){D.onload=U,D.onerror=V}),$a(w,"link",h),s.state.loading|=4,Dp(w,f.precedence,r),s.instance=w;case"script":return w=nd(f.src),(y=r.querySelector(r0(w)))?(s.instance=y,Ht(y),y):(h=f,(y=Mi.get(w))&&(h=v({},f),y1(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),Ht(y),$a(y,"link",h),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Dp(h,f.precedence,r));return s.instance}function Dp(r,s,f){for(var h=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,D=0;D<h.length;D++){var U=h[D];if(U.dataset.precedence===s)w=U;else if(w!==y)break}w?w.parentNode.insertBefore(r,w.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(r,s.firstChild))}function v1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function y1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var jp=null;function Pb(r,s,f){if(jp===null){var h=new Map,y=jp=new Map;y.set(f,h)}else y=jp,h=y.get(f),h||(h=new Map,y.set(f,h));if(h.has(r))return h;for(h.set(r,null),f=f.getElementsByTagName(r),y=0;y<f.length;y++){var w=f[y];if(!(w[st]||w[ie]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var D=w.getAttribute(s)||"";D=r+D;var U=h.get(D);U?U.push(w):h.set(D,[w])}}return h}function Bb(r,s,f){r=r.ownerDocument||r,r.head.insertBefore(f,s==="title"?r.querySelector("head > title"):null)}function c8(r,s,f){if(f===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Hb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var i0=null;function f8(){}function d8(r,s,f){if(i0===null)throw Error(a(475));var h=i0;if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=td(f.href),w=r.querySelector(a0(y));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=zp.bind(h),r.then(h,h)),s.state.loading|=4,s.instance=w,Ht(w);return}w=r.ownerDocument||r,f=kb(f),(y=Mi.get(y))&&v1(f,y),w=w.createElement("link"),Ht(w);var D=w;D._p=new Promise(function(U,V){D.onload=U,D.onerror=V}),$a(w,"link",f),s.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=zp.bind(h),r.addEventListener("load",s),r.addEventListener("error",s))}}function h8(){if(i0===null)throw Error(a(475));var r=i0;return r.stylesheets&&r.count===0&&b1(r,r.stylesheets),0<r.count?function(s){var f=setTimeout(function(){if(r.stylesheets&&b1(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(f)}}:null}function zp(){if(this.count--,this.count===0){if(this.stylesheets)b1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Up=null;function b1(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Up=new Map,s.forEach(g8,r),Up=null,zp.call(r))}function g8(r,s){if(!(s.state.loading&4)){var f=Up.get(r);if(f)var h=f.get(null);else{f=new Map,Up.set(r,f);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var D=y[w];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),h=D)}h&&f.set(null,h)}y=s.instance,D=y.getAttribute("data-precedence"),w=f.get(D)||h,w===h&&f.set(null,y),f.set(D,y),this.count++,h=zp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var s0={$$typeof:z,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function p8(r,s,f,h,y,w,D,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.hiddenUpdates=fo(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Gb(r,s,f,h,y,w,D,U,V,se,xe,Ae){return r=new p8(r,s,f,D,U,V,se,Ae),s=1,w===!0&&(s|=24),w=rr(3,null,null,s),r.current=w,w.stateNode=r,s=Ro(),s.refCount++,r.pooledCache=s,s.refCount++,w.memoizedState={element:h,isDehydrated:f,cache:s},Xu(w),r}function qb(r){return r?(r=Rl,r):Rl}function Vb(r,s,f,h,y,w){y=qb(y),h.context===null?h.context=y:h.pendingContext=y,h=_i(s),h.payload={element:f},w=w===void 0?null:w,w!==null&&(h.callback=w),f=Ya(r,h,s),f!==null&&(Jn(f,r,s),Pl(f,r,s))}function Yb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<s?f:s}}function _1(r,s){Yb(r,s),(r=r.alternate)&&Yb(r,s)}function Zb(r){if(r.tag===13){var s=hi(r,67108864);s!==null&&Jn(s,r,67108864),_1(r,67108864)}}var kp=!0;function m8(r,s,f,h){var y=B.T;B.T=null;var w=le.p;try{le.p=2,S1(r,s,f,h)}finally{le.p=w,B.T=y}}function v8(r,s,f,h){var y=B.T;B.T=null;var w=le.p;try{le.p=8,S1(r,s,f,h)}finally{le.p=w,B.T=y}}function S1(r,s,f,h){if(kp){var y=w1(h);if(y===null)o1(r,s,h,Lp,f),Xb(r,h);else if(b8(y,r,s,f,h))h.stopPropagation();else if(Xb(r,h),s&4&&-1<y8.indexOf(r)){for(;y!==null;){var w=wt(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var D=De(w.pendingLanes);if(D!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;D;){var V=1<<31-en(D);U.entanglements[1]|=V,D&=~V}et(w),(mt&6)===0&&(Zl=ea()+500,un(0))}}break;case 13:U=hi(w,2),U!==null&&Jn(U,w,2),Js(),_1(w,2)}if(w=w1(h),w===null&&o1(r,s,h,Lp,f),w===y)break;y=w}y!==null&&h.stopPropagation()}else o1(r,s,h,null,f)}}function w1(r){return r=Es(r),x1(r)}var Lp=null;function x1(r){if(Lp=null,r=Qe(r),r!==null){var s=l(r);if(s===null)r=null;else{var f=s.tag;if(f===13){if(r=u(s),r!==null)return r;r=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Lp=r,null}function Ib(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bi()){case Wa:return 2;case X:return 8;case ae:case ce:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var E1=!1,$o=null,Wo=null,Jo=null,l0=new Map,o0=new Map,eu=[],y8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xb(r,s){switch(r){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":l0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":o0.delete(s.pointerId)}}function u0(r,s,f,h,y,w){return r===null||r.nativeEvent!==w?(r={blockedOn:s,domEventName:f,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},s!==null&&(s=wt(s),s!==null&&Zb(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function b8(r,s,f,h,y){switch(s){case"focusin":return $o=u0($o,r,s,f,h,y),!0;case"dragenter":return Wo=u0(Wo,r,s,f,h,y),!0;case"mouseover":return Jo=u0(Jo,r,s,f,h,y),!0;case"pointerover":var w=y.pointerId;return l0.set(w,u0(l0.get(w)||null,r,s,f,h,y)),!0;case"gotpointercapture":return w=y.pointerId,o0.set(w,u0(o0.get(w)||null,r,s,f,h,y)),!0}return!1}function Kb(r){var s=Qe(r.target);if(s!==null){var f=l(s);if(f!==null){if(s=f.tag,s===13){if(s=u(f),s!==null){r.blockedOn=s,I(r.priority,function(){if(f.tag===13){var h=Yn();h=Gi(h);var y=hi(f,h);y!==null&&Jn(y,f,h),_1(f,h)}});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pp(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var f=w1(r.nativeEvent);if(f===null){f=r.nativeEvent;var h=new f.constructor(f.type,f);ef=h,f.target.dispatchEvent(h),ef=null}else return s=wt(f),s!==null&&Zb(s),r.blockedOn=f,!1;s.shift()}return!0}function Fb(r,s,f){Pp(r)&&f.delete(s)}function _8(){E1=!1,$o!==null&&Pp($o)&&($o=null),Wo!==null&&Pp(Wo)&&(Wo=null),Jo!==null&&Pp(Jo)&&(Jo=null),l0.forEach(Fb),o0.forEach(Fb)}function Bp(r,s){r.blockedOn===s&&(r.blockedOn=null,E1||(E1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_8)))}var Hp=null;function Qb(r){Hp!==r&&(Hp=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hp===r&&(Hp=null);for(var s=0;s<r.length;s+=3){var f=r[s],h=r[s+1],y=r[s+2];if(typeof h!="function"){if(x1(h||f)===null)continue;break}var w=wt(f);w!==null&&(r.splice(s,3),s-=3,Bh(w,{pending:!0,data:y,method:f.method,action:h},h,y))}}))}function c0(r){function s(V){return Bp(V,r)}$o!==null&&Bp($o,r),Wo!==null&&Bp(Wo,r),Jo!==null&&Bp(Jo,r),l0.forEach(s),o0.forEach(s);for(var f=0;f<eu.length;f++){var h=eu[f];h.blockedOn===r&&(h.blockedOn=null)}for(;0<eu.length&&(f=eu[0],f.blockedOn===null);)Kb(f),f.blockedOn===null&&eu.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(h=0;h<f.length;h+=3){var y=f[h],w=f[h+1],D=y[Re]||null;if(typeof w=="function")D||Qb(f);else if(D){var U=null;if(w&&w.hasAttribute("formAction")){if(y=w,D=w[Re]||null)U=D.formAction;else if(x1(y)!==null)continue}else U=D.action;typeof U=="function"?f[h+1]=U:(f.splice(h,3),h-=3),Qb(f)}}}function C1(r){this._internalRoot=r}Gp.prototype.render=C1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var f=s.current,h=Yn();Vb(f,h,r,s,null,null)},Gp.prototype.unmount=C1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Vb(r.current,2,null,r,null,null),Js(),s[Be]=null}};function Gp(r){this._internalRoot=r}Gp.prototype.unstable_scheduleHydration=function(r){if(r){var s=pl();r={blockedOn:null,target:r,priority:s};for(var f=0;f<eu.length&&s!==0&&s<eu[f].priority;f++);eu.splice(f,0,r),f===0&&Kb(r)}};var $b=e.version;if($b!=="19.1.1")throw Error(a(527,$b,"19.1.1"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var S8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{Ze=qp.inject(S8),We=qp}catch{}}return d0.createRoot=function(r,s){if(!i(r))throw Error(a(299));var f=!1,h="",y=Gl,w=cr,D=yp,U=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(U=s.unstable_transitionCallbacks)),s=Gb(r,1,!1,null,null,f,h,y,w,D,U,null),r[Be]=s.current,l1(r),new C1(s)},d0.hydrateRoot=function(r,s,f){if(!i(r))throw Error(a(299));var h=!1,y="",w=Gl,D=cr,U=yp,V=null,se=null;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(U=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(V=f.unstable_transitionCallbacks),f.formState!==void 0&&(se=f.formState)),s=Gb(r,1,!0,s,f??null,h,y,w,D,U,V,se),s.context=qb(null),f=s.current,h=Yn(),h=Gi(h),y=_i(h),y.callback=null,Ya(f,y,h),f=h,s.current.lanes=f,Yr(s,f),et(s),r[Be]=s.current,l1(r),new Gp(s)},d0.version="19.1.1",d0}var l_;function M8(){if(l_)return A1.exports;l_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A1.exports=N8(),A1.exports}var a3=M8();const D8=$0(a3);var N=W0();const $e=$0(N),r3=x8({__proto__:null,default:$e},[N]);var i3=t=>{throw TypeError(t)},j8=(t,e,n)=>e.has(t)||i3("Cannot "+n),D1=(t,e,n)=>(j8(t,e,"read from private field"),n?n.call(t):e.get(t)),z8=(t,e,n)=>e.has(t)?i3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),o_="popstate";function U8(t={}){function e(i,l){let{pathname:u="/",search:d="",hash:g=""}=ro(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),P0("",{pathname:u,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let g=i.location.href,m=g.indexOf("#");d=m===-1?g:g.slice(0,m)}return d+"#"+(typeof l=="string"?l:du(l))}function a(i,l){ia(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return L8(e,n,a,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ia(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k8(){return Math.random().toString(36).substring(2,10)}function u_(t,e){return{usr:t.state,key:t.key,idx:e}}function P0(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:n,key:e&&e.key||a||k8()}}function du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function L8(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,d="POP",g=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function _(){d="POP";let O=v(),M=O==null?null:O-m;m=O,g&&g({action:d,location:R.location,delta:M})}function S(O,M){d="PUSH";let j=P0(R.location,O,M);n&&n(j,O),m=v()+1;let z=u_(j,m),P=R.createHref(j);try{u.pushState(z,"",P)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(P)}l&&g&&g({action:d,location:R.location,delta:1})}function E(O,M){d="REPLACE";let j=P0(R.location,O,M);n&&n(j,O),m=v();let z=u_(j,m),P=R.createHref(j);u.replaceState(z,"",P),l&&g&&g({action:d,location:R.location,delta:0})}function C(O){return s3(O)}let R={get action(){return d},get location(){return t(i,u)},listen(O){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(o_,_),g=O,()=>{i.removeEventListener(o_,_),g=null}},createHref(O){return e(i,O)},createURL:C,encodeLocation(O){let M=C(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:E,go(O){return u.go(O)}};return R}function s3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:du(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var S0,c_=class{constructor(t){if(z8(this,S0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(D1(this,S0).has(t))return D1(this,S0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){D1(this,S0).set(t,e)}};S0=new WeakMap;var P8=new Set(["lazy","caseSensitive","path","id","index","children"]);function B8(t){return P8.has(t)}var H8=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function G8(t){return H8.has(t)}function q8(t){return t.index===!0}function B0(t,e,n=[],a={},i=!1){return t.map((l,u)=>{let d=[...n,String(u)],g=typeof l.id=="string"?l.id:d.join("-");if(Zt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Zt(i||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),q8(l)){let m={...l,...e(l),id:g};return a[g]=m,m}else{let m={...l,...e(l),id:g,children:void 0};return a[g]=m,l.children&&(m.children=B0(l.children,e,d,a,i)),m}})}function lu(t,e,n="/"){return Dm(t,e,n,!1)}function Dm(t,e,n,a){let i=typeof e=="string"?ro(e):e,l=ki(i.pathname||"/",n);if(l==null)return null;let u=l3(t);Y8(u);let d=null;for(let g=0;d==null&&g<u.length;++g){let m=tE(l);d=J8(u[g],m,a)}return d}function V8(t,e){let{route:n,pathname:a,params:i}=t;return{id:n.id,pathname:a,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function l3(t,e=[],n=[],a="",i=!1){let l=(u,d,g=i,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;Zt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=ol([a,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(Zt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),l3(u.children,e,S,_,g)),!(u.path==null&&!u.index)&&e.push({path:_,score:$8(_,u.index),routesMeta:S})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let g of o3(u.path))l(u,d,!0,g)}),e}function o3(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=o3(a.join("/")),d=[];return d.push(...u.map(g=>g===""?l:[l,g].join("/"))),i&&d.push(...u),d.map(g=>t.startsWith("/")&&g===""?"/":g)}function Y8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W8(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Z8=/^:[\w-]+$/,I8=3,X8=2,K8=1,F8=10,Q8=-2,f_=t=>t==="*";function $8(t,e){let n=t.split("/"),a=n.length;return n.some(f_)&&(a+=Q8),e&&(a+=X8),n.filter(i=>!f_(i)).reduce((i,l)=>i+(Z8.test(l)?I8:l===""?K8:F8),a)}function W8(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function J8(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let d=0;d<a.length;++d){let g=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Gm({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},v),S=g.route;if(!_&&m&&n&&!a[a.length-1].route.index&&(_=Gm({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:ol([l,_.pathname]),pathnameBase:iE(ol([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=ol([l,_.pathnameBase]))}return u}function Gm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=eE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:_},S)=>{if(v==="*"){let C=d[S]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const E=d[S];return _&&!E?m[v]=void 0:m[v]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function eE(t,e=!1,n=!0){ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,g)=>(a.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function tE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ia(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function nE({basename:t,pathname:e}){return e==="/"?t:ol([t,e])}function aE(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?ro(t):t;return{pathname:n?n.startsWith("/")?n:rE(n,e):e,search:sE(a),hash:lE(i)}}function rE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function j1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h2(t){let e=u3(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function g2(t,e,n,a=!1){let i;typeof t=="string"?i=ro(t):(i={...t},Zt(!i.pathname||!i.pathname.includes("?"),j1("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),j1("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),j1("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),_-=1;i.pathname=S.join("/")}d=_>=0?e[_]:"/"}let g=aE(i,d),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||v)&&(g.pathname+="/"),g}var ol=t=>t.join("/").replace(/\/\/+/g,"/"),iE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qm=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function H0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var c3=["POST","PUT","PATCH","DELETE"],oE=new Set(c3),uE=["GET",...c3],cE=new Set(uE),fE=new Set([301,302,303,307,308]),dE=new Set([307,308]),z1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},h0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p2=t=>gE.test(t),pE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),f3="remix-router-transitions",d3=Symbol("ResetLoaderData");function mE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Zt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],i=t.mapRouteProperties||pE,l={},u=B0(t.routes,i,void 0,l),d,g=t.basename||"/";g.startsWith("/")||(g=`/${g}`);let m=t.dataStrategy||SE,v={...t.future},_=null,S=new Set,E=null,C=null,R=null,O=t.hydrationData!=null,M=lu(u,t.history.location,g),j=!1,z=null,P;if(M==null&&!t.patchRoutesOnNavigation){let I=Di(404,{pathname:t.history.location.pathname}),{matches:J,route:ie}=Vp(u);P=!0,M=J,z={[ie.id]:I}}else if(M&&!t.hydrationData&&ws(M,u,t.history.location.pathname).active&&(M=null),M)if(M.some(I=>I.route.lazy))P=!1;else if(!M.some(I=>m2(I.route)))P=!0;else{let I=t.hydrationData?t.hydrationData.loaderData:null,J=t.hydrationData?t.hydrationData.errors:null;if(J){let ie=M.findIndex(Re=>J[Re.route.id]!==void 0);P=M.slice(0,ie+1).every(Re=>!Ty(Re.route,I,J))}else P=M.every(ie=>!Ty(ie.route,I,J))}else{P=!1,M=[];let I=ws(null,u,t.history.location.pathname);I.active&&I.matches&&(j=!0,M=I.matches)}let H,k={historyAction:t.history.action,location:t.history.location,matches:M,initialized:P,navigation:z1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},Y="POP",F=!1,oe,_e=!1,we=new Map,de=null,he=!1,ve=!1,Se=new Set,B=new Map,le=0,Q=-1,pe=new Map,G=new Set,ne=new Map,Ce=new Map,Te=new Set,Ye=new Map,be,ye=null;function ke(){if(_=t.history.listen(({action:I,location:J,delta:ie})=>{if(be){be(),be=void 0;return}ia(Ye.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Re=Gn({currentLocation:k.location,nextLocation:J,historyAction:I});if(Re&&ie!=null){let Be=new Promise(tt=>{be=tt});t.history.go(ie*-1),on(Re,{state:"blocked",location:J,proceed(){on(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),Be.then(()=>t.history.go(ie))},reset(){let tt=new Map(k.blockers);tt.set(Re,h0),ot({blockers:tt})}});return}return fn(I,J)}),n){kE(e,we);let I=()=>LE(e,we);e.addEventListener("pagehide",I),de=()=>e.removeEventListener("pagehide",I)}return k.initialized||fn("POP",k.location,{initialHydration:!0}),H}function Xe(){_&&_(),de&&de(),S.clear(),oe&&oe.abort(),k.fetchers.forEach((I,J)=>gr(J)),k.blockers.forEach((I,J)=>xt(J))}function Ot(I){return S.add(I),()=>S.delete(I)}function ot(I,J={}){I.matches&&(I.matches=I.matches.map(Be=>{let tt=l[Be.route.id],it=Be.route;return it.element!==tt.element||it.errorElement!==tt.errorElement||it.hydrateFallbackElement!==tt.hydrateFallbackElement?{...Be,route:tt}:Be})),k={...k,...I};let ie=[],Re=[];k.fetchers.forEach((Be,tt)=>{Be.state==="idle"&&(Te.has(tt)?ie.push(tt):Re.push(tt))}),Te.forEach(Be=>{!k.fetchers.has(Be)&&!B.has(Be)&&ie.push(Be)}),[...S].forEach(Be=>Be(k,{deletedFetchers:ie,viewTransitionOpts:J.viewTransitionOpts,flushSync:J.flushSync===!0})),ie.forEach(Be=>gr(Be)),Re.forEach(Be=>k.fetchers.delete(Be))}function St(I,J,{flushSync:ie}={}){let Re=k.actionData!=null&&k.navigation.formMethod!=null&&Vr(k.navigation.formMethod)&&k.navigation.state==="loading"&&I.state?._isRedirect!==!0,Be;J.actionData?Object.keys(J.actionData).length>0?Be=J.actionData:Be=null:Re?Be=k.actionData:Be=null;let tt=J.loaderData?S_(k.loaderData,J.loaderData,J.matches||[],J.errors):k.loaderData,it=k.blockers;it.size>0&&(it=new Map(it),it.forEach((rt,Qe)=>it.set(Qe,h0)));let Fe=he?!1:Ss(I,J.matches||k.matches),Je=F===!0||k.navigation.formMethod!=null&&Vr(k.navigation.formMethod)&&I.state?._isRedirect!==!0;d&&(u=d,d=void 0),he||Y==="POP"||(Y==="PUSH"?t.history.push(I,I.state):Y==="REPLACE"&&t.history.replace(I,I.state));let st;if(Y==="POP"){let rt=we.get(k.location.pathname);rt&&rt.has(I.pathname)?st={currentLocation:k.location,nextLocation:I}:we.has(I.pathname)&&(st={currentLocation:I,nextLocation:k.location})}else if(_e){let rt=we.get(k.location.pathname);rt?rt.add(I.pathname):(rt=new Set([I.pathname]),we.set(k.location.pathname,rt)),st={currentLocation:k.location,nextLocation:I}}ot({...J,actionData:Be,loaderData:tt,historyAction:Y,location:I,initialized:!0,navigation:z1,revalidation:"idle",restoreScrollPosition:Fe,preventScrollReset:Je,blockers:it},{viewTransitionOpts:st,flushSync:ie===!0}),Y="POP",F=!1,_e=!1,he=!1,ve=!1,ye?.resolve(),ye=null}async function mn(I,J){if(typeof I=="number"){t.history.go(I);return}let ie=Cy(k.location,k.matches,g,I,J?.fromRouteId,J?.relative),{path:Re,submission:Be,error:tt}=d_(!1,ie,J),it=k.location,Fe=P0(k.location,Re,J&&J.state);Fe={...Fe,...t.history.encodeLocation(Fe)};let Je=J&&J.replace!=null?J.replace:void 0,st="PUSH";Je===!0?st="REPLACE":Je===!1||Be!=null&&Vr(Be.formMethod)&&Be.formAction===k.location.pathname+k.location.search&&(st="REPLACE");let rt=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,Qe=(J&&J.flushSync)===!0,wt=Gn({currentLocation:it,nextLocation:Fe,historyAction:st});if(wt){on(wt,{state:"blocked",location:Fe,proceed(){on(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),mn(I,J)},reset(){let tn=new Map(k.blockers);tn.set(wt,h0),ot({blockers:tn})}});return}await fn(st,Fe,{submission:Be,pendingError:tt,preventScrollReset:rt,replace:J&&J.replace,enableViewTransition:J&&J.viewTransition,flushSync:Qe})}function Nn(){ye||(ye=PE()),Ue(),ot({revalidation:"loading"});let I=ye.promise;return k.navigation.state==="submitting"?I:k.navigation.state==="idle"?(fn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),I):(fn(Y||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:_e===!0}),I)}async function fn(I,J,ie){oe&&oe.abort(),oe=null,Y=I,he=(ie&&ie.startUninterruptedRevalidation)===!0,Xc(k.location,k.matches),F=(ie&&ie.preventScrollReset)===!0,_e=(ie&&ie.enableViewTransition)===!0;let Re=d||u,Be=ie&&ie.overrideNavigation,tt=ie?.initialHydration&&k.matches&&k.matches.length>0&&!j?k.matches:lu(Re,J,g),it=(ie&&ie.flushSync)===!0;if(tt&&k.initialized&&!ve&&OE(k.location,J)&&!(ie&&ie.submission&&Vr(ie.submission.formMethod))){St(J,{matches:tt},{flushSync:it});return}let Fe=ws(tt,Re,J.pathname);if(Fe.active&&Fe.matches&&(tt=Fe.matches),!tt){let{error:Ht,notFoundMatches:dn,route:sn}=Hi(J.pathname);St(J,{matches:dn,loaderData:{},errors:{[sn.id]:Ht}},{flushSync:it});return}oe=new AbortController;let Je=Sd(t.history,J,oe.signal,ie&&ie.submission),st=t.getContext?await t.getContext():new c_,rt;if(ie&&ie.pendingError)rt=[ou(tt).route.id,{type:"error",error:ie.pendingError}];else if(ie&&ie.submission&&Vr(ie.submission.formMethod)){let Ht=await Ba(Je,J,ie.submission,tt,st,Fe.active,ie&&ie.initialHydration===!0,{replace:ie.replace,flushSync:it});if(Ht.shortCircuited)return;if(Ht.pendingActionResult){let[dn,sn]=Ht.pendingActionResult;if(ni(sn)&&H0(sn.error)&&sn.error.status===404){oe=null,St(J,{matches:Ht.matches,loaderData:{},errors:{[dn]:sn.error}});return}}tt=Ht.matches||tt,rt=Ht.pendingActionResult,Be=U1(J,ie.submission),it=!1,Fe.active=!1,Je=Sd(t.history,Je.url,Je.signal)}let{shortCircuited:Qe,matches:wt,loaderData:tn,errors:bn}=await Ha(Je,J,tt,st,Fe.active,Be,ie&&ie.submission,ie&&ie.fetcherSubmission,ie&&ie.replace,ie&&ie.initialHydration===!0,it,rt);Qe||(oe=null,St(J,{matches:wt||tt,...w_(rt),loaderData:tn,errors:bn}))}async function Ba(I,J,ie,Re,Be,tt,it,Fe={}){Ue();let Je=zE(J,ie);if(ot({navigation:Je},{flushSync:Fe.flushSync===!0}),tt){let Qe=await Gi(Re,J.pathname,I.signal);if(Qe.type==="aborted")return{shortCircuited:!0};if(Qe.type==="error"){if(Qe.partialMatches.length===0){let{matches:tn,route:bn}=Vp(u);return{matches:tn,pendingActionResult:[bn.id,{type:"error",error:Qe.error}]}}let wt=ou(Qe.partialMatches).route.id;return{matches:Qe.partialMatches,pendingActionResult:[wt,{type:"error",error:Qe.error}]}}else if(Qe.matches)Re=Qe.matches;else{let{notFoundMatches:wt,error:tn,route:bn}=Hi(J.pathname);return{matches:wt,pendingActionResult:[bn.id,{type:"error",error:tn}]}}}let st,rt=jm(Re,J);if(!rt.route.action&&!rt.route.lazy)st={type:"error",error:Di(405,{method:I.method,pathname:J.pathname,routeId:rt.route.id})};else{let Qe=Rd(i,l,I,Re,rt,it?[]:a,Be),wt=await Ge(I,Qe,Be,null);if(st=wt[rt.route.id],!st){for(let tn of Re)if(wt[tn.route.id]){st=wt[tn.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if(Ac(st)){let Qe;return Fe&&Fe.replace!=null?Qe=Fe.replace:Qe=y_(st.response.headers.get("Location"),new URL(I.url),g)===k.location.pathname+k.location.search,await ce(I,st,!0,{submission:ie,replace:Qe}),{shortCircuited:!0}}if(ni(st)){let Qe=ou(Re,rt.route.id);return(Fe&&Fe.replace)!==!0&&(Y="PUSH"),{matches:Re,pendingActionResult:[Qe.route.id,st,rt.route.id]}}return{matches:Re,pendingActionResult:[rt.route.id,st]}}async function Ha(I,J,ie,Re,Be,tt,it,Fe,Je,st,rt,Qe){let wt=tt||U1(J,it),tn=it||Fe||E_(wt),bn=!he&&!st;if(Be){if(bn){let Ut=ea(Qe);ot({navigation:wt,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:rt})}let ft=await Gi(ie,J.pathname,I.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Ga,route:qa}=Vp(u);return{matches:Ga,loaderData:{},errors:{[qa.id]:ft.error}}}let Ut=ou(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Ut]:ft.error}}}else if(ft.matches)ie=ft.matches;else{let{error:Ut,notFoundMatches:Ga,route:qa}=Hi(J.pathname);return{matches:Ga,loaderData:{},errors:{[qa.id]:Ut}}}}let Ht=d||u,{dsMatches:dn,revalidatingFetchers:sn}=h_(I,Re,i,l,t.history,k,ie,tn,J,st?[]:a,st===!0,ve,Se,Te,ne,G,Ht,g,t.patchRoutesOnNavigation!=null,Qe);if(Q=++le,!t.dataStrategy&&!dn.some(ft=>ft.shouldLoad)&&!dn.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&sn.length===0){let ft=Ne();return St(J,{matches:ie,loaderData:{},errors:Qe&&ni(Qe[1])?{[Qe[0]]:Qe[1].error}:null,...w_(Qe),...ft?{fetchers:new Map(k.fetchers)}:{}},{flushSync:rt}),{shortCircuited:!0}}if(bn){let ft={};if(!Be){ft.navigation=wt;let Ut=ea(Qe);Ut!==void 0&&(ft.actionData=Ut)}sn.length>0&&(ft.fetchers=Bi(sn)),ot(ft,{flushSync:rt})}sn.forEach(ft=>{pa(ft.key),ft.controller&&B.set(ft.key,ft.controller)});let Gt=()=>sn.forEach(ft=>pa(ft.key));oe&&oe.signal.addEventListener("abort",Gt);let{loaderResults:er,fetcherResults:Rr}=await Pe(dn,sn,I,Re);if(I.signal.aborted)return{shortCircuited:!0};oe&&oe.signal.removeEventListener("abort",Gt),sn.forEach(ft=>B.delete(ft.key));let tr=Yp(er);if(tr)return await ce(I,tr.result,!0,{replace:Je}),{shortCircuited:!0};if(tr=Yp(Rr),tr)return G.add(tr.key),await ce(I,tr.result,!0,{replace:Je}),{shortCircuited:!0};let{loaderData:ml,errors:vl}=__(k,ie,er,Qe,sn,Rr);st&&k.errors&&(vl={...k.errors,...vl});let nr=Ne(),Zr=De(Q),Ta=nr||Zr||sn.length>0;return{matches:ie,loaderData:ml,errors:vl,...Ta?{fetchers:new Map(k.fetchers)}:{}}}function ea(I){if(I&&!ni(I[1]))return{[I[0]]:I[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Bi(I){return I.forEach(J=>{let ie=k.fetchers.get(J.key),Re=g0(void 0,ie?ie.data:void 0);k.fetchers.set(J.key,Re)}),new Map(k.fetchers)}async function Wa(I,J,ie,Re){pa(I);let Be=(Re&&Re.flushSync)===!0,tt=d||u,it=Cy(k.location,k.matches,g,ie,J,Re?.relative),Fe=lu(tt,it,g),Je=ws(Fe,tt,it);if(Je.active&&Je.matches&&(Fe=Je.matches),!Fe){We(I,J,Di(404,{pathname:it}),{flushSync:Be});return}let{path:st,submission:rt,error:Qe}=d_(!0,it,Re);if(Qe){We(I,J,Qe,{flushSync:Be});return}let wt=t.getContext?await t.getContext():new c_,tn=(Re&&Re.preventScrollReset)===!0;if(rt&&Vr(rt.formMethod)){await X(I,J,st,Fe,wt,Je.active,Be,tn,rt);return}ne.set(I,{routeId:J,path:st}),await ae(I,J,st,Fe,wt,Je.active,Be,tn,rt)}async function X(I,J,ie,Re,Be,tt,it,Fe,Je){Ue(),ne.delete(I);let st=k.fetchers.get(I);Ze(I,UE(Je,st),{flushSync:it});let rt=new AbortController,Qe=Sd(t.history,ie,rt.signal,Je);if(tt){let _n=await Gi(Re,new URL(Qe.url).pathname,Qe.signal,I);if(_n.type==="aborted")return;if(_n.type==="error"){We(I,J,_n.error,{flushSync:it});return}else if(_n.matches)Re=_n.matches;else{We(I,J,Di(404,{pathname:ie}),{flushSync:it});return}}let wt=jm(Re,ie);if(!wt.route.action&&!wt.route.lazy){let _n=Di(405,{method:Je.formMethod,pathname:ie,routeId:J});We(I,J,_n,{flushSync:it});return}B.set(I,rt);let tn=le,bn=Rd(i,l,Qe,Re,wt,a,Be),dn=(await Ge(Qe,bn,Be,I))[wt.route.id];if(Qe.signal.aborted){B.get(I)===rt&&B.delete(I);return}if(Te.has(I)){if(Ac(dn)||ni(dn)){Ze(I,$l(void 0));return}}else{if(Ac(dn))if(B.delete(I),Q>tn){Ze(I,$l(void 0));return}else return G.add(I),Ze(I,g0(Je)),ce(Qe,dn,!1,{fetcherSubmission:Je,preventScrollReset:Fe});if(ni(dn)){We(I,J,dn.error);return}}let sn=k.navigation.location||k.location,Gt=Sd(t.history,sn,rt.signal),er=d||u,Rr=k.navigation.state!=="idle"?lu(er,k.navigation.location,g):k.matches;Zt(Rr,"Didn't find any matches after fetcher action");let tr=++le;pe.set(I,tr);let ml=g0(Je,dn.data);k.fetchers.set(I,ml);let{dsMatches:vl,revalidatingFetchers:nr}=h_(Gt,Be,i,l,t.history,k,Rr,Je,sn,a,!1,ve,Se,Te,ne,G,er,g,t.patchRoutesOnNavigation!=null,[wt.route.id,dn]);nr.filter(_n=>_n.key!==I).forEach(_n=>{let xs=_n.key,pr=k.fetchers.get(xs),ma=g0(void 0,pr?pr.data:void 0);k.fetchers.set(xs,ma),pa(xs),_n.controller&&B.set(xs,_n.controller)}),ot({fetchers:new Map(k.fetchers)});let Zr=()=>nr.forEach(_n=>pa(_n.key));rt.signal.addEventListener("abort",Zr);let{loaderResults:Ta,fetcherResults:ft}=await Pe(vl,nr,Gt,Be);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",Zr),pe.delete(I),B.delete(I),nr.forEach(_n=>B.delete(_n.key)),k.fetchers.has(I)){let _n=$l(dn.data);k.fetchers.set(I,_n)}let Ut=Yp(Ta);if(Ut)return ce(Gt,Ut.result,!1,{preventScrollReset:Fe});if(Ut=Yp(ft),Ut)return G.add(Ut.key),ce(Gt,Ut.result,!1,{preventScrollReset:Fe});let{loaderData:Ga,errors:qa}=__(k,Rr,Ta,void 0,nr,ft);De(tr),k.navigation.state==="loading"&&tr>Q?(Zt(Y,"Expected pending action"),oe&&oe.abort(),St(k.navigation.location,{matches:Rr,loaderData:Ga,errors:qa,fetchers:new Map(k.fetchers)})):(ot({errors:qa,loaderData:S_(k.loaderData,Ga,Rr,qa),fetchers:new Map(k.fetchers)}),ve=!1)}async function ae(I,J,ie,Re,Be,tt,it,Fe,Je){let st=k.fetchers.get(I);Ze(I,g0(Je,st?st.data:void 0),{flushSync:it});let rt=new AbortController,Qe=Sd(t.history,ie,rt.signal);if(tt){let sn=await Gi(Re,new URL(Qe.url).pathname,Qe.signal,I);if(sn.type==="aborted")return;if(sn.type==="error"){We(I,J,sn.error,{flushSync:it});return}else if(sn.matches)Re=sn.matches;else{We(I,J,Di(404,{pathname:ie}),{flushSync:it});return}}let wt=jm(Re,ie);B.set(I,rt);let tn=le,bn=Rd(i,l,Qe,Re,wt,a,Be),dn=(await Ge(Qe,bn,Be,I))[wt.route.id];if(B.get(I)===rt&&B.delete(I),!Qe.signal.aborted){if(Te.has(I)){Ze(I,$l(void 0));return}if(Ac(dn))if(Q>tn){Ze(I,$l(void 0));return}else{G.add(I),await ce(Qe,dn,!1,{preventScrollReset:Fe});return}if(ni(dn)){We(I,J,dn.error);return}Ze(I,$l(dn.data))}}async function ce(I,J,ie,{submission:Re,fetcherSubmission:Be,preventScrollReset:tt,replace:it}={}){J.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let Fe=J.response.headers.get("Location");Zt(Fe,"Expected a Location header on the redirect Response"),Fe=y_(Fe,new URL(I.url),g);let Je=P0(k.location,Fe,{_isRedirect:!0});if(n){let bn=!1;if(J.response.headers.has("X-Remix-Reload-Document"))bn=!0;else if(p2(Fe)){const Ht=s3(Fe,!0);bn=Ht.origin!==e.location.origin||ki(Ht.pathname,g)==null}if(bn){it?e.location.replace(Fe):e.location.assign(Fe);return}}oe=null;let st=it===!0||J.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:rt,formAction:Qe,formEncType:wt}=k.navigation;!Re&&!Be&&rt&&Qe&&wt&&(Re=E_(k.navigation));let tn=Re||Be;if(dE.has(J.response.status)&&tn&&Vr(tn.formMethod))await fn(st,Je,{submission:{...tn,formAction:Fe},preventScrollReset:tt||F,enableViewTransition:ie?_e:void 0});else{let bn=U1(Je,Re);await fn(st,Je,{overrideNavigation:bn,fetcherSubmission:Be,preventScrollReset:tt||F,enableViewTransition:ie?_e:void 0})}}async function Ge(I,J,ie,Re){let Be,tt={};try{Be=await xE(m,I,J,Re,ie,!1)}catch(it){return J.filter(Fe=>Fe.shouldLoad).forEach(Fe=>{tt[Fe.route.id]={type:"error",error:it}}),tt}if(I.signal.aborted)return tt;for(let[it,Fe]of Object.entries(Be))if(DE(Fe)){let Je=Fe.result;tt[it]={type:"redirect",response:AE(Je,I,it,J,g)}}else tt[it]=await TE(Fe);return tt}async function Pe(I,J,ie,Re){let Be=Ge(ie,I,Re,null),tt=Promise.all(J.map(async Je=>{if(Je.matches&&Je.match&&Je.request&&Je.controller){let rt=(await Ge(Je.request,Je.matches,Re,Je.key))[Je.match.route.id];return{[Je.key]:rt}}else return Promise.resolve({[Je.key]:{type:"error",error:Di(404,{pathname:Je.path})}})})),it=await Be,Fe=(await tt).reduce((Je,st)=>Object.assign(Je,st),{});return{loaderResults:it,fetcherResults:Fe}}function Ue(){ve=!0,ne.forEach((I,J)=>{B.has(J)&&Se.add(J),pa(J)})}function Ze(I,J,ie={}){k.fetchers.set(I,J),ot({fetchers:new Map(k.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function We(I,J,ie,Re={}){let Be=ou(k.matches,J);gr(I),ot({errors:{[Be.route.id]:ie},fetchers:new Map(k.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function bt(I){return Ce.set(I,(Ce.get(I)||0)+1),Te.has(I)&&Te.delete(I),k.fetchers.get(I)||hE}function en(I,J){pa(I,J?.reason),Ze(I,$l(null))}function gr(I){let J=k.fetchers.get(I);B.has(I)&&!(J&&J.state==="loading"&&pe.has(I))&&pa(I),ne.delete(I),pe.delete(I),G.delete(I),Te.delete(I),Se.delete(I),k.fetchers.delete(I)}function Ca(I){let J=(Ce.get(I)||0)-1;J<=0?(Ce.delete(I),Te.add(I)):Ce.set(I,J),ot({fetchers:new Map(k.fetchers)})}function pa(I,J){let ie=B.get(I);ie&&(ie.abort(J),B.delete(I))}function Ja(I){for(let J of I){let ie=bt(J),Re=$l(ie.data);k.fetchers.set(J,Re)}}function Ne(){let I=[],J=!1;for(let ie of G){let Re=k.fetchers.get(ie);Zt(Re,`Expected fetcher: ${ie}`),Re.state==="loading"&&(G.delete(ie),I.push(ie),J=!0)}return Ja(I),J}function De(I){let J=[];for(let[ie,Re]of pe)if(Re<I){let Be=k.fetchers.get(ie);Zt(Be,`Expected fetcher: ${ie}`),Be.state==="loading"&&(pa(ie),pe.delete(ie),J.push(ie))}return Ja(J),J.length>0}function Wt(I,J){let ie=k.blockers.get(I)||h0;return Ye.get(I)!==J&&Ye.set(I,J),ie}function xt(I){k.blockers.delete(I),Ye.delete(I)}function on(I,J){let ie=k.blockers.get(I)||h0;Zt(ie.state==="unblocked"&&J.state==="blocked"||ie.state==="blocked"&&J.state==="blocked"||ie.state==="blocked"&&J.state==="proceeding"||ie.state==="blocked"&&J.state==="unblocked"||ie.state==="proceeding"&&J.state==="unblocked",`Invalid blocker state transition: ${ie.state} -> ${J.state}`);let Re=new Map(k.blockers);Re.set(I,J),ot({blockers:Re})}function Gn({currentLocation:I,nextLocation:J,historyAction:ie}){if(Ye.size===0)return;Ye.size>1&&ia(!1,"A router only supports one blocker at a time");let Re=Array.from(Ye.entries()),[Be,tt]=Re[Re.length-1],it=k.blockers.get(Be);if(!(it&&it.state==="proceeding")&&tt({currentLocation:I,nextLocation:J,historyAction:ie}))return Be}function Hi(I){let J=Di(404,{pathname:I}),ie=d||u,{matches:Re,route:Be}=Vp(ie);return{notFoundMatches:Re,route:Be,error:J}}function fo(I,J,ie){if(E=I,R=J,C=ie||null,!O&&k.navigation===z1){O=!0;let Re=Ss(k.location,k.matches);Re!=null&&ot({restoreScrollPosition:Re})}return()=>{E=null,R=null,C=null}}function Yr(I,J){return C&&C(I,J.map(Re=>V8(Re,k.loaderData)))||I.key}function Xc(I,J){if(E&&R){let ie=Yr(I,J);E[ie]=R()}}function Ss(I,J){if(E){let ie=Yr(I,J),Re=E[ie];if(typeof Re=="number")return Re}return null}function ws(I,J,ie){if(t.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:Dm(J,ie,g,!0)}}else return{active:!0,matches:Dm(J,ie,g,!0)||[]};return{active:!1,matches:null}}async function Gi(I,J,ie,Re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:I};let Be=I;for(;;){let tt=d==null,it=d||u,Fe=l;try{await t.patchRoutesOnNavigation({signal:ie,path:J,matches:Be,fetcherKey:Re,patch:(rt,Qe)=>{ie.aborted||g_(rt,Qe,it,Fe,i,!1)}})}catch(rt){return{type:"error",error:rt,partialMatches:Be}}finally{tt&&!ie.aborted&&(u=[...u])}if(ie.aborted)return{type:"aborted"};let Je=lu(it,J,g);if(Je)return{type:"success",matches:Je};let st=Dm(it,J,g,!0);if(!st||Be.length===st.length&&Be.every((rt,Qe)=>rt.route.id===st[Qe].route.id))return{type:"success",matches:null};Be=st}}function ho(I){l={},d=B0(I,i,void 0,l)}function pl(I,J,ie=!1){let Re=d==null;g_(I,J,d||u,l,i,ie),Re&&(u=[...u],ot({}))}return H={get basename(){return g},get future(){return v},get state(){return k},get routes(){return u},get window(){return e},initialize:ke,subscribe:Ot,enableScrollRestoration:fo,navigate:mn,fetch:Wa,revalidate:Nn,createHref:I=>t.history.createHref(I),encodeLocation:I=>t.history.encodeLocation(I),getFetcher:bt,resetFetcher:en,deleteFetcher:Ca,dispose:Xe,getBlocker:Wt,deleteBlocker:xt,patchRoutes:pl,_internalFetchControllers:B,_internalSetRoutes:ho,_internalSetStateDoNotUseOrYouWillBreakYourApp(I){ot(I)}},H}function vE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Cy(t,e,n,a,i,l){let u,d;if(i){u=[];for(let m of e)if(u.push(m),m.route.id===i){d=m;break}}else u=e,d=e[e.length-1];let g=g2(a||".",h2(u),ki(t.pathname,n)||t.pathname,l==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&d){let m=v2(g.search);if(d.route.index&&!m)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(g.search),_=v.getAll("index");v.delete("index"),_.filter(E=>E).forEach(E=>v.append("index",E));let S=v.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=nE({basename:n,pathname:g.pathname})),du(g)}function d_(t,e,n){if(!n||!vE(n))return{path:e};if(n.formMethod&&!jE(n.formMethod))return{path:e,error:Di(405,{method:n.formMethod})};let a=()=>({path:e,error:Di(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=y3(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Vr(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[E,C])=>`${S}${E}=${C}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Vr(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Zt(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=Ry(n.formData),g=n.formData;else if(n.body instanceof FormData)d=Ry(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=b_(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=b_(d)}catch{return a()}let m={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Vr(m.formMethod))return{path:e,submission:m};let v=ro(e);return t&&v.search&&v2(v.search)&&d.append("index",""),v.search=`?${d}`,{path:du(v),submission:m}}function h_(t,e,n,a,i,l,u,d,g,m,v,_,S,E,C,R,O,M,j,z){let P=z?ni(z[1])?z[1].error:z[1].data:void 0,H=i.createURL(l.location),k=i.createURL(g),Y;if(v&&l.errors){let he=Object.keys(l.errors)[0];Y=u.findIndex(ve=>ve.route.id===he)}else if(z&&ni(z[1])){let he=z[0];Y=u.findIndex(ve=>ve.route.id===he)-1}let F=z?z[1].statusCode:void 0,oe=F&&F>=400,_e={currentUrl:H,currentParams:l.matches[0]?.params||{},nextUrl:k,nextParams:u[0].params,...d,actionResult:P,actionStatus:F},we=u.map((he,ve)=>{let{route:Se}=he,B=null;if(Y!=null&&ve>Y?B=!1:Se.lazy?B=!0:m2(Se)?v?B=Ty(Se,l.loaderData,l.errors):yE(l.loaderData,l.matches[ve],he)&&(B=!0):B=!1,B!==null)return Ay(n,a,t,he,m,e,B);let le=oe?!1:_||H.pathname+H.search===k.pathname+k.search||H.search!==k.search||bE(l.matches[ve],he),Q={..._e,defaultShouldRevalidate:le},pe=Vm(he,Q);return Ay(n,a,t,he,m,e,pe,Q)}),de=[];return C.forEach((he,ve)=>{if(v||!u.some(Ce=>Ce.route.id===he.routeId)||E.has(ve))return;let Se=l.fetchers.get(ve),B=Se&&Se.state!=="idle"&&Se.data===void 0,le=lu(O,he.path,M);if(!le){if(j&&B)return;de.push({key:ve,routeId:he.routeId,path:he.path,matches:null,match:null,request:null,controller:null});return}if(R.has(ve))return;let Q=jm(le,he.path),pe=new AbortController,G=Sd(i,he.path,pe.signal),ne=null;if(S.has(ve))S.delete(ve),ne=Rd(n,a,G,le,Q,m,e);else if(B)_&&(ne=Rd(n,a,G,le,Q,m,e));else{let Ce={..._e,defaultShouldRevalidate:oe?!1:_};Vm(Q,Ce)&&(ne=Rd(n,a,G,le,Q,m,e,Ce))}ne&&de.push({key:ve,routeId:he.routeId,path:he.path,matches:ne,match:Q,request:G,controller:pe})}),{dsMatches:we,revalidatingFetchers:de}}function m2(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Ty(t,e,n){if(t.lazy)return!0;if(!m2(t))return!1;let a=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!a&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!i}function yE(t,e,n){let a=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return a||i}function bE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Vm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function g_(t,e,n,a,i,l){let u;if(t){let m=a[t];Zt(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),u=m.children}else u=n;let d=[],g=[];if(e.forEach(m=>{let v=u.find(_=>h3(m,_));v?g.push({existingRoute:v,newRoute:m}):d.push(m)}),d.length>0){let m=B0(d,i,[t||"_","patch",String(u?.length||"0")],a);u.push(...m)}if(l&&g.length>0)for(let m=0;m<g.length;m++){let{existingRoute:v,newRoute:_}=g[m],S=v,[E]=B0([_],i,[],{},!0);Object.assign(S,{element:E.element?E.element:S.element,errorElement:E.errorElement?E.errorElement:S.errorElement,hydrateFallbackElement:E.hydrateFallbackElement?E.hydrateFallbackElement:S.hydrateFallbackElement})}}function h3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(i=>h3(n,i))):!1}var p_=new WeakMap,g3=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let i=n[e.id];if(Zt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let u=p_.get(i);u||(u={},p_.set(i,u));let d=u[t];if(d)return d;let g=(async()=>{let m=B8(t),_=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)ia(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)ia(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(i,{[t]:S}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(S=>S===void 0)&&(i.lazy=void 0))})();return u[t]=g,g},m_=new WeakMap;function _E(t,e,n,a,i){let l=n[t.id];if(Zt(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=m_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{Zt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),E={};for(let C in S){let R=S[C];if(R===void 0)continue;let O=G8(C),j=l[C]!==void 0&&C!=="hasErrorBoundary";O?ia(!O,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?ia(!j,`Route "${l.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):E[C]=R}Object.assign(l,E),Object.assign(l,{...a(l),lazy:void 0})})();return m_.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),d=[],g;for(let v of u){if(i&&i.includes(v))continue;let _=g3({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(d.push(_),v===e&&(g=_))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:g}}async function v_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function SE(t){return t.matches.some(e=>e.route.middleware)?p3(t,()=>v_(t)):v_(t)}function p3(t,e){return wE(t,e,a=>a,NE,n);function n(a,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:a}}));{let{matches:u}=t,d=Math.min(Math.max(u.findIndex(m=>m.route.id===i),0),Math.max(u.findIndex(m=>m.unstable_shouldCallHandler()),0)),g=ou(u,u[d].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:a}})}}}async function wE(t,e,n,a,i){let{matches:l,request:u,params:d,context:g}=t,m=l.flatMap(_=>_.route.middleware?_.route.middleware.map(S=>[_.route.id,S]):[]);return await m3({request:u,params:d,context:g},m,e,n,a,i)}async function m3(t,e,n,a,i,l,u=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let g=e[u];if(!g)return await n();let[m,v]=g,_,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await m3(t,e,n,a,i,l,u+1)},_.value}catch(E){return _={value:await l(E,m,_)},_.value}};try{let E=await v(t,S),C=E!=null?a(E):void 0;return i(C)?C:_?C??_.value:(_={value:await S()},_.value)}catch(E){return await l(E,m,_)}}function v3(t,e,n,a,i){let l=g3({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),u=_E(a.route,Vr(n.method)?"action":"loader",e,t,i);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Ay(t,e,n,a,i,l,u,d=null){let g=!1,m=v3(t,e,n,a,i);return{...a,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return g=!0,d?typeof v=="boolean"?Vm(a,{...d,defaultShouldRevalidate:v}):Vm(a,d):u},resolve(v){let{lazy:_,loader:S,middleware:E}=a.route,C=g||u||v&&!Vr(n.method)&&(_||S),R=E&&E.length>0&&!S&&!_;return C&&!R?EE({request:n,match:a,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Rd(t,e,n,a,i,l,u,d=null){return a.map(g=>g.route.id!==i.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:v3(t,e,n,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ay(t,e,n,g,l,u,!0,d))}async function xE(t,e,n,a,i,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:i,matches:n},g=await t({...u,fetcherKey:a,runClientMiddleware:m=>{let v=u;return p3(v,()=>m({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return g}async function EE({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let u,d,g=Vr(t.method),m=g?"action":"loader",v=_=>{let S,E=new Promise((O,M)=>S=M);d=()=>S(),t.signal.addEventListener("abort",d);let C=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(M=>C(M)):C())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,E])};try{let _=g?e.route.action:e.route.loader;if(n||a)if(_){let S,[E]=await Promise.all([v(_).catch(C=>{S=C}),n,a]);if(S!==void 0)throw S;u=E}else{await n;let S=g?e.route.action:e.route.loader;if(S)[u]=await Promise.all([v(S),a]);else if(m==="action"){let E=new URL(t.url),C=E.pathname+E.search;throw Di(405,{method:t.method,pathname:C,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await v(_);else{let S=new URL(t.url),E=S.pathname+S.search;throw Di(404,{pathname:E})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function CE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function TE(t){let{result:e,type:n}=t;if(b3(e)){let a;try{a=await CE(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new qm(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?x_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qm(e.init?.status||500,void 0,e.data),statusCode:H0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:H0(e)?e.status:void 0}:x_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function AE(t,e,n,a,i){let l=t.headers.get("Location");if(Zt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!p2(l)){let u=a.slice(0,a.findIndex(d=>d.route.id===n)+1);l=Cy(new URL(e.url),u,i,l),t.headers.set("Location",l)}return t}function y_(t,e,n){if(p2(t)){let a=t,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=ki(i.pathname,n)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return t}function Sd(t,e,n,a){let i=t.createURL(y3(e)).toString(),l={signal:n};if(a&&Vr(a.formMethod)){let{formMethod:u,formEncType:d}=a;l.method=u.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=Ry(a.formData):l.body=a.formData}return new Request(i,l)}function Ry(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function b_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function RE(t,e,n,a=!1,i=!1){let l={},u=null,d,g=!1,m={},v=n&&ni(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,E=e[S];if(Zt(!Ac(E),"Cannot handle redirect results in processLoaderData"),ni(E)){let C=E.error;if(v!==void 0&&(C=v,v=void 0),u=u||{},i)u[S]=C;else{let R=ou(t,S);u[R.route.id]==null&&(u[R.route.id]=C)}a||(l[S]=d3),g||(g=!0,d=H0(E.error)?E.error.status:500),E.headers&&(m[S]=E.headers)}else l[S]=E.data,E.statusCode&&E.statusCode!==200&&!g&&(d=E.statusCode),E.headers&&(m[S]=E.headers)}),v!==void 0&&n&&(u={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:d||200,loaderHeaders:m}}function __(t,e,n,a,i,l){let{loaderData:u,errors:d}=RE(e,n,a);return i.filter(g=>!g.matches||g.matches.some(m=>m.shouldLoad)).forEach(g=>{let{key:m,match:v,controller:_}=g;if(_&&_.signal.aborted)return;let S=l[m];if(Zt(S,"Did not find corresponding fetcher result"),ni(S)){let E=ou(t.matches,v?.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:S.error}),t.fetchers.delete(m)}else if(Ac(S))Zt(!1,"Unhandled fetcher revalidation redirect");else{let E=$l(S.data);t.fetchers.set(m,E)}}),{loaderData:u,errors:d}}function S_(t,e,n,a){let i=Object.entries(e).filter(([,l])=>l!==d3).reduce((l,[u,d])=>(l[u]=d,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(i[u]=t[u]),a&&a.hasOwnProperty(u))break}return i}function w_(t){return t?ni(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ou(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function Vp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Di(t,{pathname:e,routeId:n,method:a,type:i,message:l}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&e&&n?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",a&&e&&n?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new qm(t||500,u,new Error(d),!0)}function Yp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,i]=e[n];if(Ac(i))return{key:a,result:i}}}function y3(t){let e=typeof t=="string"?ro(t):t;return du({...e,hash:""})}function OE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function NE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&ME(n))}function ME(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function DE(t){return b3(t.result)&&fE.has(t.result.status)}function ni(t){return t.type==="error"}function Ac(t){return(t&&t.type)==="redirect"}function x_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function b3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function jE(t){return cE.has(t.toUpperCase())}function Vr(t){return oE.has(t.toUpperCase())}function v2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jm(t,e){let n=typeof e=="string"?ro(e).search:e.search;if(t[t.length-1].route.index&&v2(n||""))return t[t.length-1];let a=u3(t);return a[a.length-1]}function E_(t){let{formMethod:e,formAction:n,formEncType:a,text:i,formData:l,json:u}=t;if(!(!e||!n||!a)){if(i!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function U1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function g0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function UE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function $l(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function kE(t,e){try{let n=t.sessionStorage.getItem(f3);if(n){let a=JSON.parse(n);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function LE(t,e){if(e.size>0){let n={};for(let[a,i]of e)n[a]=[...i];try{t.sessionStorage.setItem(f3,JSON.stringify(n))}catch(a){ia(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function PE(){let t,e,n=new Promise((a,i)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Uc=N.createContext(null);Uc.displayName="DataRouter";var J0=N.createContext(null);J0.displayName="DataRouterState";N.createContext(!1);var y2=N.createContext({isTransitioning:!1});y2.displayName="ViewTransition";var _3=N.createContext(new Map);_3.displayName="Fetchers";var BE=N.createContext(null);BE.displayName="Await";var fl=N.createContext(null);fl.displayName="Navigation";var dv=N.createContext(null);dv.displayName="Location";var io=N.createContext({outlet:null,matches:[],isDataRoute:!1});io.displayName="Route";var b2=N.createContext(null);b2.displayName="RouteError";function HE(t,{relative:e}={}){Zt(eg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(fl),{hash:i,pathname:l,search:u}=tg(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ol([n,l])),a.createHref({pathname:d,search:u,hash:i})}function eg(){return N.useContext(dv)!=null}function kc(){return Zt(eg(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(dv).location}var S3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w3(t){N.useContext(fl).static||N.useLayoutEffect(t)}function hv(){let{isDataRoute:t}=N.useContext(io);return t?JE():GE()}function GE(){Zt(eg(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Uc),{basename:e,navigator:n}=N.useContext(fl),{matches:a}=N.useContext(io),{pathname:i}=kc(),l=JSON.stringify(h2(a)),u=N.useRef(!1);return w3(()=>{u.current=!0}),N.useCallback((g,m={})=>{if(ia(u.current,S3),!u.current)return;if(typeof g=="number"){n.go(g);return}let v=g2(g,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ol([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,i,t])}N.createContext(null);function tg(t,{relative:e}={}){let{matches:n}=N.useContext(io),{pathname:a}=kc(),i=JSON.stringify(h2(n));return N.useMemo(()=>g2(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function qE(t,e,n,a,i){Zt(eg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(fl),{matches:u}=N.useContext(io),d=u[u.length-1],g=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let j=_&&_.path||"";x3(m,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=kc(),E;E=S;let C=E.pathname||"/",R=C;if(v!=="/"){let j=v.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=lu(t,{pathname:R});return ia(_||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ia(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),XE(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:ol([v,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:ol([v,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,a,i)}function VE(){let t=WE(),e=H0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,u)}var YE=N.createElement(VE,null),ZE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(io.Provider,{value:this.props.routeContext},N.createElement(b2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IE({routeContext:t,match:e,children:n}){let a=N.useContext(Uc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(io.Provider,{value:t},n)}function XE(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Zt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,g=-1;if(n)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=m),v.route.id){let{loaderData:_,errors:S}=n,E=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||E){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let S,E=!1,C=null,R=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||YE,d&&(g<0&&_===0?(x3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):g===_&&(E=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),M=()=>{let j;return S?j=C:E?j=R:v.route.Component?j=N.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=m,N.createElement(IE,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?N.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):M()},null)}function _2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(t){let e=N.useContext(Uc);return Zt(e,_2(t)),e}function FE(t){let e=N.useContext(J0);return Zt(e,_2(t)),e}function QE(t){let e=N.useContext(io);return Zt(e,_2(t)),e}function S2(t){let e=QE(t),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $E(){return S2("useRouteId")}function WE(){let t=N.useContext(b2),e=FE("useRouteError"),n=S2("useRouteError");return t!==void 0?t:e.errors?.[n]}function JE(){let{router:t}=KE("useNavigate"),e=S2("useNavigate"),n=N.useRef(!1);return w3(()=>{n.current=!0}),N.useCallback(async(i,l={})=>{ia(n.current,S3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var C_={};function x3(t,e,n){!e&&!C_[t]&&(C_[t]=!0,ia(!1,n))}var T_={};function A_(t,e){!t&&!T_[e]&&(T_[e]=!0,console.warn(e))}function e9(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ia(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ia(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ia(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var t9=["HydrateFallback","hydrateFallbackElement"],n9=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function a9({router:t,flushSync:e,unstable_onError:n}){let[a,i]=N.useState(t.state),[l,u]=N.useState(),[d,g]=N.useState({isTransitioning:!1}),[m,v]=N.useState(),[_,S]=N.useState(),[E,C]=N.useState(),R=N.useRef(new Map),O=N.useCallback(H=>{i(k=>(H.errors&&n&&Object.entries(H.errors).forEach(([Y,F])=>{k.errors?.[Y]!==F&&n(F)}),H))},[n]),M=N.useCallback((H,{deletedFetchers:k,flushSync:Y,viewTransitionOpts:F})=>{H.fetchers.forEach((_e,we)=>{_e.data!==void 0&&R.current.set(we,_e.data)}),k.forEach(_e=>R.current.delete(_e)),A_(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let oe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(A_(F==null||oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!oe){e&&Y?e(()=>O(H)):N.startTransition(()=>O(H));return}if(e&&Y){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let _e=t.window.document.startViewTransition(()=>{e(()=>O(H))});_e.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})})}),e(()=>S(_e));return}_?(m&&m.resolve(),_.skipTransition(),C({state:H,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(H),g({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,e,_,m,O]);N.useLayoutEffect(()=>t.subscribe(M),[t,M]),N.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new n9)},[d]),N.useEffect(()=>{if(m&&l&&t.window){let H=l,k=m.promise,Y=t.window.document.startViewTransition(async()=>{N.startTransition(()=>O(H)),await k});Y.finished.finally(()=>{v(void 0),S(void 0),u(void 0),g({isTransitioning:!1})}),S(Y)}},[l,m,t.window,O]),N.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,_,a.location,l]),N.useEffect(()=>{!d.isTransitioning&&E&&(u(E.state),g({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),C(void 0))},[d.isTransitioning,E]);let j=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,k,Y)=>t.navigate(H,{state:k,preventScrollReset:Y?.preventScrollReset}),replace:(H,k,Y)=>t.navigate(H,{replace:!0,state:k,preventScrollReset:Y?.preventScrollReset})}),[t]),z=t.basename||"/",P=N.useMemo(()=>({router:t,navigator:j,static:!1,basename:z,unstable_onError:n}),[t,j,z,n]);return N.createElement(N.Fragment,null,N.createElement(Uc.Provider,{value:P},N.createElement(J0.Provider,{value:a},N.createElement(_3.Provider,{value:R.current},N.createElement(y2.Provider,{value:d},N.createElement(s9,{basename:z,location:a.location,navigationType:a.historyAction,navigator:j},N.createElement(r9,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var r9=N.memo(i9);function i9({routes:t,future:e,state:n,unstable_onError:a}){return qE(t,void 0,n,a,e)}function s9({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){Zt(!eg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=ro(n));let{pathname:g="/",search:m="",hash:v="",state:_=null,key:S="default"}=n,E=N.useMemo(()=>{let C=ki(g,u);return C==null?null:{location:{pathname:C,search:m,hash:v,state:_,key:S},navigationType:a}},[u,g,m,v,_,S,a]);return ia(E!=null,`<Router basename="${u}"> is not able to match the URL "${g}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:N.createElement(fl.Provider,{value:d},N.createElement(dv.Provider,{children:e,value:E}))}var zm="get",Um="application/x-www-form-urlencoded";function gv(t){return t!=null&&typeof t.tagName=="string"}function l9(t){return gv(t)&&t.tagName.toLowerCase()==="button"}function o9(t){return gv(t)&&t.tagName.toLowerCase()==="form"}function u9(t){return gv(t)&&t.tagName.toLowerCase()==="input"}function c9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f9(t,e){return t.button===0&&(!e||e==="_self")&&!c9(t)}var Zp=null;function d9(){if(Zp===null)try{new FormData(document.createElement("form"),0),Zp=!1}catch{Zp=!0}return Zp}var h9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k1(t){return t!=null&&!h9.has(t)?(ia(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Um}"`),null):t}function g9(t,e){let n,a,i,l,u;if(o9(t)){let d=t.getAttribute("action");a=d?ki(d,e):null,n=t.getAttribute("method")||zm,i=k1(t.getAttribute("enctype"))||Um,l=new FormData(t)}else if(l9(t)||u9(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||d.getAttribute("action");if(a=g?ki(g,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||zm,i=k1(t.getAttribute("formenctype"))||k1(d.getAttribute("enctype"))||Um,l=new FormData(d,t),!d9()){let{name:m,type:v,value:_}=t;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,_)}}else{if(gv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zm,a=null,i=Um,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function w2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p9(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function m9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function y9(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await m9(l,n);return u.links?u.links():[]}return[]}));return w9(a.flat(1).filter(v9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function R_(t,e,n,a,i,l){let u=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,d=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,m)=>u(g,m)||d(g,m)):l==="data"?e.filter((g,m)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,m)||d(g,m))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function b9(t,e,{includeHydrateFallback:n}={}){return _9(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function _9(t){return[...new Set(t)]}function S9(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function w9(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(S9(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function E3(){let t=N.useContext(Uc);return w2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function x9(){let t=N.useContext(J0);return w2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var x2=N.createContext(void 0);x2.displayName="FrameworkContext";function C3(){let t=N.useContext(x2);return w2(t,"You must render this element inside a <HydratedRouter> element"),t}function E9(t,e){let n=N.useContext(x2),[a,i]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=M=>{M.forEach(j=>{u(j.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let E=()=>{i(!0)},C=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:p0(d,E),onBlur:p0(g,C),onMouseEnter:p0(m,E),onMouseLeave:p0(v,C),onTouchStart:p0(_,E)}]:[!1,S,{}]}function p0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function C9({page:t,...e}){let{router:n}=E3(),a=N.useMemo(()=>lu(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?N.createElement(A9,{page:t,matches:a,...e}):null}function T9(t){let{manifest:e,routeModules:n}=C3(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return y9(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function A9({page:t,matches:e,...n}){let a=kc(),{manifest:i,routeModules:l}=C3(),{basename:u}=E3(),{loaderData:d,matches:g}=x9(),m=N.useMemo(()=>R_(t,e,g,i,a,"data"),[t,e,g,i,a]),v=N.useMemo(()=>R_(t,e,g,i,a,"assets"),[t,e,g,i,a]),_=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let C=new Set,R=!1;if(e.forEach(M=>{let j=i.routes[M.route.id];!j||!j.hasLoader||(!m.some(z=>z.route.id===M.route.id)&&M.route.id in d&&l[M.route.id]?.shouldRevalidate||j.hasClientLoader?R=!0:C.add(M.route.id))}),C.size===0)return[];let O=p9(t,u,"data");return R&&C.size>0&&O.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[u,d,a,i,m,e,t,l]),S=N.useMemo(()=>b9(v,i),[v,i]),E=T9(v);return N.createElement(N.Fragment,null,_.map(C=>N.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),S.map(C=>N.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),E.map(({key:C,link:R})=>N.createElement("link",{key:C,nonce:n.nonce,...R})))}function R9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T3&&(window.__reactRouterVersion="7.9.4")}catch{}function O9(t,e){return mE({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:U8({window:e?.window}),hydrationData:N9(),routes:t,mapRouteProperties:e9,hydrationRouteProperties:t9,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function N9(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:M9(t.errors)}),t}function M9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")n[a]=new qm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let u=new l(i.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(i.message);l.stack="",n[a]=l}}else n[a]=i;return n}var A3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R3=N.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:d,target:g,to:m,preventScrollReset:v,viewTransition:_,...S},E){let{basename:C}=N.useContext(fl),R=typeof m=="string"&&A3.test(m),O,M=!1;if(typeof m=="string"&&R&&(O=m,T3))try{let oe=new URL(window.location.href),_e=m.startsWith("//")?new URL(oe.protocol+m):new URL(m),we=ki(_e.pathname,C);_e.origin===oe.origin&&we!=null?m=we+_e.search+_e.hash:M=!0}catch{ia(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=HE(m,{relative:i}),[z,P,H]=E9(a,S),k=U9(m,{replace:u,state:d,target:g,preventScrollReset:v,relative:i,viewTransition:_});function Y(oe){e&&e(oe),oe.defaultPrevented||k(oe)}let F=N.createElement("a",{...S,...H,href:O||j,onClick:M||l?e:Y,ref:R9(E,P),target:g,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?N.createElement(N.Fragment,null,F,N.createElement(C9,{page:j})):F});R3.displayName="Link";var D9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:d,children:g,...m},v){let _=tg(u,{relative:m.relative}),S=kc(),E=N.useContext(J0),{navigator:C,basename:R}=N.useContext(fl),O=E!=null&&H9(_)&&d===!0,M=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,j=S.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(j=j.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=ki(z,R)||z);const P=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=j===M||!i&&j.startsWith(M)&&j.charAt(P)==="/",k=z!=null&&(z===M||!i&&z.startsWith(M)&&z.charAt(M.length)==="/"),Y={isActive:H,isPending:k,isTransitioning:O},F=H?e:void 0,oe;typeof a=="function"?oe=a(Y):oe=[a,H?"active":null,k?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let _e=typeof l=="function"?l(Y):l;return N.createElement(R3,{...m,"aria-current":F,className:oe,ref:v,style:_e,to:u,viewTransition:d},typeof g=="function"?g(Y):g)});D9.displayName="NavLink";var j9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=zm,action:d,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:_,...S},E)=>{let C=P9(),R=B9(d,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&A3.test(d),j=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let P=z.nativeEvent.submitter,H=P?.getAttribute("formmethod")||u;C(P||z.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:E,method:O,action:R,onSubmit:a?g:j,...S,"data-discover":!M&&t==="render"?"true":void 0})});j9.displayName="Form";function z9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O3(t){let e=N.useContext(Uc);return Zt(e,z9(t)),e}function U9(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let d=hv(),g=kc(),m=tg(t,{relative:l});return N.useCallback(v=>{if(f9(v,e)){v.preventDefault();let _=n!==void 0?n:du(g)===du(m);d(t,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[g,d,m,n,a,e,t,i,l,u])}var k9=0,L9=()=>`__${String(++k9)}__`;function P9(){let{router:t}=O3("useSubmit"),{basename:e}=N.useContext(fl),n=$E();return N.useCallback(async(a,i={})=>{let{action:l,method:u,encType:d,formData:g,body:m}=g9(a,e);if(i.navigate===!1){let v=i.fetcherKey||L9();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:m,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:g,body:m,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function B9(t,{relative:e}={}){let{basename:n}=N.useContext(fl),a=N.useContext(io);Zt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...tg(t||".",{relative:e})},u=kc();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ol([n,l.pathname])),du(l)}function H9(t,{relative:e}={}){let n=N.useContext(y2);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=O3("useViewTransitionState"),i=tg(t,{relative:e});if(!n.isTransitioning)return!1;let l=ki(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=ki(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Gm(i.pathname,u)!=null||Gm(i.pathname,l)!=null}var ng=n3();const G9=$0(ng);function q9(t){return N.createElement(a9,{flushSync:ng.flushSync,...t})}const V9="modulepreload",Y9=function(t){return"/rect-up/"+t},O_={},ag=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");i=m(n.map(v=>{if(v=Y9(v),v in O_)return;O_[v]=!0;const _=v.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":V9,_||(E.as="script"),E.crossOrigin="",E.href=v,g&&E.setAttribute("nonce",g),document.head.appendChild(E),_)return new Promise((C,R)=>{E.addEventListener("load",C),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return i.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},Z9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ag(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class E2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class N_ extends E2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class M_ extends E2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class D_ extends E2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Oy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Oy||(Oy={}));var I9=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class X9{constructor(e,{headers:n={},customFetch:a,region:i=Oy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Z9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return I9(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:l,method:u,body:d,signal:g}=a;let m={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let S;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(m["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(m["Content-Type"]="application/json",S=JSON.stringify(d)));const E=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:g}).catch(M=>{throw M.name==="AbortError"?M:new N_(M)}),C=E.headers.get("x-relay-error");if(C&&C==="true")throw new M_(E);if(!E.ok)throw new D_(E);let R=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield E.json():R==="application/octet-stream"?O=yield E.blob():R==="text/event-stream"?O=E:R==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new N_(l)}:{data:null,error:l,response:l instanceof D_||l instanceof M_?l.context:void 0}}})}}var La={},ad={},rd={},id={},sd={},ld={},K9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ud=K9();const F9=Ud.fetch,N3=Ud.fetch.bind(Ud),M3=Ud.Headers,Q9=Ud.Request,$9=Ud.Response,Bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:M3,Request:Q9,Response:$9,default:N3,fetch:F9},Symbol.toStringTag,{value:"Module"})),W9=E8(Bd);var Ip={},j_;function D3(){if(j_)return Ip;j_=1,Object.defineProperty(Ip,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ip.default=t,Ip}var z_;function j3(){if(z_)return ld;z_=1;var t=ld&&ld.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ld,"__esModule",{value:!0});const e=t(W9),n=t(D3());class a{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let g=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,_,S,E;let C=null,R=null,O=null,M=m.status,j=m.statusText;if(m.ok){if(this.method!=="HEAD"){const k=await m.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=k:R=JSON.parse(k))}const P=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),H=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");P&&H&&H.length>1&&(O=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(C={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,M=406,j="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const P=await m.text();try{C=JSON.parse(P),Array.isArray(C)&&m.status===404&&(R=[],C=null,M=200,j="OK")}catch{m.status===404&&P===""?(M=204,j="No Content"):C={message:P}}if(C&&this.isMaybeSingle&&(!((E=C?.details)===null||E===void 0)&&E.includes("0 rows"))&&(C=null,M=200,j="OK"),C&&this.shouldThrowOnError)throw new n.default(C)}return{error:C,data:R,count:O,status:M,statusText:j}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,_,S;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return ld.default=a,ld}var U_;function z3(){if(U_)return sd;U_=1;var t=sd&&sd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sd,"__esModule",{value:!0});const e=t(j3());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:g=d}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:d=u}={}){const g=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:g=!1,format:m="text"}={}){var v;const _=[i?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return sd.default=n,sd}var k_;function C2(){if(k_)return id;k_=1;var t=id&&id.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(id,"__esModule",{value:!0});const e=t(z3());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${g}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return id.default=n,id}var L_;function U3(){if(L_)return rd;L_=1;var t=rd&&rd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rd,"__esModule",{value:!0});const e=t(C2());class n{constructor(i,{headers:l={},schema:u,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(i,l){const{head:u=!1,count:d}=l??{},g=u?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(_=>/\s/.test(_)&&!m?"":(_==='"'&&(m=!m),_)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var d;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const _=i.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(_.length>0){const S=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return rd.default=n,rd}var P_;function J9(){if(P_)return ad;P_=1;var t=ad&&ad.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ad,"__esModule",{value:!0});const e=t(U3()),n=t(C2());class a{constructor(l,{headers:u={},schema:d,fetch:g}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=g}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:g=!1,count:m}={}){var v;let _;const S=new URL(`${this.url}/rpc/${l}`);let E;d||g?(_=d?"HEAD":"GET",Object.entries(u).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(_="POST",E=u);const C=new Headers(this.headers);return m&&C.set("Prefer",`count=${m}`),new n.default({method:_,url:S,headers:C,schema:this.schemaName,body:E,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ad.default=a,ad}var B_;function e7(){if(B_)return La;B_=1;var t=La&&La.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(La,"__esModule",{value:!0}),La.PostgrestError=La.PostgrestBuilder=La.PostgrestTransformBuilder=La.PostgrestFilterBuilder=La.PostgrestQueryBuilder=La.PostgrestClient=void 0;const e=t(J9());La.PostgrestClient=e.default;const n=t(U3());La.PostgrestQueryBuilder=n.default;const a=t(C2());La.PostgrestFilterBuilder=a.default;const i=t(z3());La.PostgrestTransformBuilder=i.default;const l=t(j3());La.PostgrestBuilder=l.default;const u=t(D3());return La.PostgrestError=u.default,La.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},La}var t7=e7();const n7=$0(t7),{PostgrestClient:a7,PostgrestQueryBuilder:nG,PostgrestFilterBuilder:aG,PostgrestTransformBuilder:rG,PostgrestBuilder:iG,PostgrestError:sG}=n7;class r7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const i7="2.75.0",s7=`realtime-js/${i7}`,l7="1.0.0",Ny=1e4,o7=1e3,u7=100;var O0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(O0||(O0={}));var Sa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Sa||(Sa={}));var hs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(hs||(hs={}));var My;(function(t){t.websocket="websocket"})(My||(My={}));var Cc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Cc||(Cc={}));class c7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=a.decode(e.slice(u,u+i));u=u+i;const g=a.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:g,payload:m}}}class k3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jn||(jn={}));const H_=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=f7(u,t,e,i),l),{}):{}},f7=(t,e,n,a)=>{const i=e.find(d=>d.name===t),l=i?.type,u=n[t];return l&&!a.includes(l)?L3(l,u):Dy(u)},L3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return p7(e,n)}switch(t){case jn.bool:return d7(e);case jn.float4:case jn.float8:case jn.int2:case jn.int4:case jn.int8:case jn.numeric:case jn.oid:return h7(e);case jn.json:case jn.jsonb:return g7(e);case jn.timestamp:return m7(e);case jn.abstime:case jn.date:case jn.daterange:case jn.int4range:case jn.int8range:case jn.money:case jn.reltime:case jn.text:case jn.time:case jn.timestamptz:case jn.timetz:case jn.tsrange:case jn.tstzrange:return Dy(e);default:return Dy(e)}},Dy=t=>t,d7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},h7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},g7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},p7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>L3(e,d))}return t},m7=t=>typeof t=="string"?t.replace(" ","T"):t,P3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class L1{constructor(e,n,a={},i=Ny){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var G_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(G_||(G_={}));class N0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=N0.syncState(this.state,i,l,u),this.pendingDiffs.forEach(g=>{this.state=N0.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=N0.syncDiff(this.state,i,l,u),d())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const l=this.cloneDeep(e),u=this.transformState(n),d={},g={};return this.map(l,(m,v)=>{u[m]||(g[m]=v)}),this.map(u,(m,v)=>{const _=l[m];if(_){const S=v.map(O=>O.presence_ref),E=_.map(O=>O.presence_ref),C=v.filter(O=>E.indexOf(O.presence_ref)<0),R=_.filter(O=>S.indexOf(O.presence_ref)<0);C.length>0&&(d[m]=C),R.length>0&&(g[m]=R)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:g},a,i)}static syncDiff(e,n,a,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,g)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(g),v.length>0){const _=e[d].map(E=>E.presence_ref),S=v.filter(E=>_.indexOf(E.presence_ref)<0);e[d].unshift(...S)}a(d,v,g)}),this.map(u,(d,g)=>{let m=e[d];if(!m)return;const v=g.map(_=>_.presence_ref);m=m.filter(_=>v.indexOf(_.presence_ref)<0),e[d]=m,i(d,m,g),m.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(q_||(q_={}));var M0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(M0||(M0={}));var Jl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jl||(Jl={}));class T2{constructor(e,n={config:{}},a){var i,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Sa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new L1(this,hs.join,this.params,this.timeout),this.rejoinTimer=new k3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sa.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hs.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new N0(this),this.broadcastEndpointURL=P3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Sa.closed){const{config:{broadcast:u,presence:d,private:g}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(E=>E.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[M0.PRESENCE]&&this.bindings[M0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e?.(Jl.CHANNEL_ERROR,E)),this._onClose(()=>e?.(Jl.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket.setAuth(),E===void 0){e?.(Jl.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(C=R?.length)!==null&&C!==void 0?C:0,M=[];for(let j=0;j<O;j++){const z=R[j],{filter:{event:P,schema:H,table:k,filter:Y}}=z,F=E&&E[j];if(F&&F.event===P&&F.schema===H&&F.table===k&&F.filter===Y)M.push(Object.assign(Object.assign({},z),{id:F.id}));else{this.unsubscribe(),this.state=Sa.errored,e?.(Jl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(Jl.SUBSCRIBED);return}}).receive("error",E=>{this.state=Sa.errored,e?.(Jl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e?.(Jl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Sa.joined&&e===M0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,g;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Sa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new L1(this,hs.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new L1(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>u7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,l;const u=e.toLocaleLowerCase(),{close:d,error:g,leave:m,join:v}=hs;if(a&&[d,g,m,v].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(E=>{var C,R,O;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((O=(R=E.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(E=>E.callback(S,a)):(l=this.bindings[u])===null||l===void 0||l.filter(E=>{var C,R,O,M,j,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const P=E.id,H=(C=E.filter)===null||C===void 0?void 0:C.event;return P&&((R=n.ids)===null||R===void 0?void 0:R.includes(P))&&(H==="*"||H?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const P=(j=(M=E?.filter)===null||M===void 0?void 0:M.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof S=="object"&&"ids"in S){const C=S.data,{schema:R,table:O,commit_timestamp:M,type:j,errors:z}=C;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:M,eventType:j,new:{},old:{},errors:z}),this._getPayloadRecords(C))}E.callback(S,a)})}_isClosed(){return this.state===Sa.closed}_isJoined(){return this.state===Sa.joined}_isJoining(){return this.state===Sa.joining}_isLeaving(){return this.state===Sa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&T2.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hs.close,{},e)}_onError(e){this._on(hs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=H_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=H_(e.columns,e.old_record)),n}}const P1=()=>{},Xp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v7=[1e3,2e3,5e3,1e4],y7=1e4,b7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _7{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ny,this.transport=null,this.heartbeatIntervalMs=Xp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=P1,this.ref=0,this.reconnectTimer=null,this.logger=P1,this.conn=null,this.sendBuffer=[],this.serializer=new c7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...u)=>ag(async()=>{const{default:d}=await Promise.resolve().then(()=>Bd);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${My.websocket}`,this.httpEndpoint=P3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:l7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case O0.connecting:return Cc.Connecting;case O0.open:return Cc.Open;case O0.closing:return Cc.Closing;default:return Cc.Closed}}isConnected(){return this.connectionState()===Cc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new T2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${n} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(o7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=n,d=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([b7],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:s7};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(hs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new k3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,l,u,d,g,m,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Ny,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Xp.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:P1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>v7[_-1]||y7),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,S)=>S(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class A2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function da(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class S7 extends A2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jy extends A2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var w7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const B3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ag(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},x7=()=>w7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ag(()=>Promise.resolve().then(()=>Bd),void 0)).Response:Response}),zy=t=>{if(Array.isArray(t))return t.map(n=>zy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=zy(a)}),e},E7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Lc=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const B1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C7=(t,e,n)=>Lc(void 0,void 0,void 0,function*(){const a=yield x7();t instanceof a&&!n?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new S7(B1(i),l,u))}).catch(i=>{e(new jy(B1(i),i))}):e(new jy(B1(t),t))}),T7=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(E7(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function rg(t,e,n,a,i,l){return Lc(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,T7(e,a,i,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>C7(g,d,a))})})}function Ym(t,e,n,a){return Lc(this,void 0,void 0,function*(){return rg(t,"GET",e,n,a)})}function rl(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return rg(t,"POST",e,a,i,n)})}function Uy(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return rg(t,"PUT",e,a,i,n)})}function A7(t,e,n,a){return Lc(this,void 0,void 0,function*(){return rg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function H3(t,e,n,a,i){return Lc(this,void 0,void 0,function*(){return rg(t,"DELETE",e,a,i,n)})}var R7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class O7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return R7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}}var N7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class M7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new O7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return N7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}}var Br=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const D7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class j7{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=B3(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return Br(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},V_),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),_=yield(e=="PUT"?Uy:rl)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(da(l))return{data:null,error:l};throw l}})}upload(e,n,a){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return Br(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:V_.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",m.cacheControl)):(g=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const _=yield Uy(this.fetch,d.toString(),g,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(da(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return Br(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const l=yield rl(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new A2("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}update(e,n,a){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Br(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}copy(e,n,a){return Br(this,void 0,void 0,function*(){try{return{data:{path:(yield rl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return Br(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield rl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return Br(this,void 0,void 0,function*(){try{const i=yield rl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),g=()=>Ym(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new M7(g,this.shouldThrowOnError)}info(e){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Ym(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}exists(e){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield A7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a)&&a instanceof jy){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const d=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&i.push(g);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return Br(this,void 0,void 0,function*(){try{return{data:yield H3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}list(e,n,a){return Br(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},D7),n),{prefix:e||""});return{data:yield rl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}listV2(e,n){return Br(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield rl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const z7="2.75.0",U7={"X-Client-Info":`storage-js/${z7}`};var od=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class k7{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},U7),n),this.fetch=B3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return od(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(da(e))return{data:null,error:e};throw e}})}getBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}createBucket(e){return od(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield rl(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(da(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return od(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(da(a))return{data:null,error:a};throw a}})}emptyBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}deleteBucket(e){return od(this,void 0,void 0,function*(){try{return{data:yield H3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(da(n))return{data:null,error:n};throw n}})}}class L7 extends k7{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new j7(this.url,this.headers,e,this.fetch)}}const P7="2.75.0";let w0="";typeof Deno<"u"?w0="deno":typeof document<"u"?w0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?w0="react-native":w0="node";const B7={"X-Client-Info":`supabase-js-${w0}/${P7}`},H7={headers:B7},G7={schema:"public"},q7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V7={};var Y7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const Z7=t=>{let e;return t?e=t:typeof fetch>"u"?e=N3:e=fetch,(...n)=>e(...n)},I7=()=>typeof Headers>"u"?M3:Headers,X7=(t,e,n)=>{const a=Z7(n),i=I7();return(l,u)=>Y7(void 0,void 0,void 0,function*(){var d;const g=(d=yield e())!==null&&d!==void 0?d:t;let m=new i(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},u),{headers:m}))})};var K7=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};function F7(t){return t.endsWith("/")?t:t+"/"}function Q7(t,e){var n,a;const{db:i,auth:l,realtime:u,global:d}=t,{db:g,auth:m,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),d),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>K7(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function $7(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const G3="2.75.0",wd=30*1e3,ky=3,H1=ky*wd,W7="http://localhost:9999",J7="supabase.auth.token",eC={"X-Client-Info":`gotrue-js/${G3}`},Ly="X-Supabase-Api-Version",q3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nC=600*1e3;class G0 extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aC extends G0{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function rC(t){return dt(t)&&t.name==="AuthApiError"}class Tc extends G0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class mu extends G0{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class au extends mu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iC(t){return dt(t)&&t.name==="AuthSessionMissingError"}class ud extends mu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kp extends mu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fp extends mu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sC(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Y_ extends mu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Py extends mu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function G1(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class Z_ extends mu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class By extends mu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I_=` 	
\r=`.split(""),lC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<I_.length;e+=1)t[I_[e].charCodeAt(0)]=-2;for(let e=0;e<Zm.length;e+=1)t[Zm[e].charCodeAt(0)]=e;return t})();function X_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Zm[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Zm[a]),e.queuedBits-=6}}function V3(t,e,n){const a=lC[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function K_(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{cC(u,a,n)};for(let u=0;u<t.length;u+=1)V3(t.charCodeAt(u),i,l);return e.join("")}function oC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uC(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}oC(a,e)}}function cC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Od(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)V3(t.charCodeAt(i),n,a);return new Uint8Array(e)}function fC(t){const e=[];return uC(t,n=>e.push(n)),new Uint8Array(e)}function Rc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>X_(i,n,a)),X_(null,n,a),e.join("")}function dC(t){return Math.round(Date.now()/1e3)+t}function hC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",_c={tested:!1,writable:!1},Y3=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_c.tested)return _c.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_c.tested=!0,_c.writable=!0}catch{_c.tested=!0,_c.writable=!1}return _c.writable};function gC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const Z3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ag(async()=>{const{default:a}=await Promise.resolve().then(()=>Bd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},pC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xd=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Sc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nu=async(t,e)=>{await t.removeItem(e)};class pv{constructor(){this.promise=new pv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pv.promiseConstructor=Promise;function q1(t){const e=t.split(".");if(e.length!==3)throw new By("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!tC.test(e[a]))throw new By("JWT not in base64url format");return{header:JSON.parse(K_(e[0])),payload:JSON.parse(K_(e[1])),signature:Od(e[2]),raw:{header:e[0],payload:e[1]}}}async function mC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vC(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function yC(t){return("0"+t.toString(16)).substr(-2)}function bC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,yC).join("")}async function _C(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function SC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await _C(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cd(t,e,n=!1){const a=bC();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await xd(t,`${e}-code-verifier`,i);const l=await SC(a);return[l,a===l?"plain":"s256"]}const wC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xC(t){const e=t.headers.get(Ly);if(!e||!e.match(wC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function CC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fd(t){if(!TC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function V1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F_(t){return JSON.parse(JSON.stringify(t))}var AC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const Ec=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RC=[502,503,504];async function Q_(t){var e;if(!pC(t))throw new Py(Ec(t),0);if(RC.includes(t.status))throw new Py(Ec(t),t.status);let n;try{n=await t.json()}catch(l){throw new Tc(Ec(l),l)}let a;const i=xC(t);if(i&&i.getTime()>=q3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Z_(Ec(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new au}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Z_(Ec(n),t.status,n.weak_password.reasons);throw new aC(Ec(n),t.status||500,a)}const OC=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function Ct(t,e,n,a){var i;const l=Object.assign({},a?.headers);l[Ly]||(l[Ly]=q3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await NC(t,e,n+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function NC(t,e,n,a,i,l){const u=OC(e,a,i,l);let d;try{d=await t(n,Object.assign({},u))}catch(g){throw console.error(g),new Py(Ec(g),0)}if(d.ok||await Q_(d),a?.noResolveJson)return d;try{return await d.json()}catch(g){await Q_(g)}}function ds(t){var e;let n=null;jC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=dC(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function $_(t){const e=ds(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function uu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MC(t){return{data:t,error:null}}function DC(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l}=t,u=AC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:l},g=Object.assign({},u);return{data:{properties:d,user:g},error:null}}function W_(t){return t}function jC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Y1=["global","local","others"];var zC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class UC{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=Z3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Y1[0]){if(Y1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Y1.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:uu})}catch(a){if(dt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=zC(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DC,redirectTo:n?.redirectTo})}catch(n){if(dt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:uu})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,l,u,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:W_});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(C.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(dt(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){fd(e);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:uu})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fd(e);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:uu})}catch(a){if(dt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){fd(e);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:uu})}catch(a){if(dt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){fd(e.userId);try{const{data:n,error:a}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fd(e.userId),fd(e.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,l,u,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:W_});if(v.error)throw v.error;const _=await v.json(),S=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(C.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(dt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}}function J_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const dd={debug:!!(globalThis&&Y3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kC extends I3{}async function LC(t,e,n){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),dd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dd.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function PC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function X3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BC(t){return parseInt(t,16)}function HC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function GC(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:g,resources:m,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=X3(t.address),C=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${C} wants you to sign in with your Ethereum account:
${E}

${R}`;let M=`URI: ${_}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),d&&(M+=`
Not Before: ${d.toISOString()}`),g&&(M+=`
Request ID: ${g}`),m){let j=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);j+=`
- ${z}`}M+=j}return`${O}
${M}`}class fa extends Error{constructor({message:e,code:n,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Im extends fa{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function qC({error:t,options:e}){var n,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new fa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new fa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new fa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new fa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(F3(u)){if(l.rp.id!==u)return new fa({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new fa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function VC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(F3(a)){if(n.rpId!==a)return new fa({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var K3=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};class YC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZC=new YC;function IC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=K3(t,["challenge","user","excludeCredentials"]),l=Od(e).buffer,u=Object.assign(Object.assign({},n),{id:Od(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];d.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:Od(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function XC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=K3(t,["challenge","allowCredentials"]),i=Od(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Od(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function KC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rc(new Uint8Array(i.authenticatorData)),clientDataJSON:Rc(new Uint8Array(i.clientDataJSON)),signature:Rc(new Uint8Array(i.signature)),userHandle:i.userHandle?Rc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function F3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function e4(){var t,e;return!!(ti()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Im("Browser returned unexpected credential type",e)}:{data:null,error:new Im("Empty credential response",e)}}catch(e){return{data:null,error:qC({error:e,options:t})}}}async function $C(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Im("Browser returned unexpected credential type",e)}:{data:null,error:new Im("Empty credential response",e)}}catch(e){return{data:null,error:VC({error:e,options:t})}}}const WC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},JC={userVerification:"preferred",hints:["security-key"]};function Xm(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const d=a[l];e(d)?a[l]=Xm(d,u):a[l]=Xm(u)}else a[l]=u}return a}function eT(t,e){return Xm(WC,t,e||{})}function tT(t,e){return Xm(JC,t,e||{})}class nT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const g=i??ZC.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=eT(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await QC({publicKey:m,signal:g});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const m=tT(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await $C(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:g}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return dt(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!n)return{data:null,error:new G0("rpId is required for WebAuthn authentication")};try{if(!e4())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:d};const{webauthn:g}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:a,credential_response:g.credential_response}})}catch(u){return dt(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!n)return{data:null,error:new G0("rpId is required for WebAuthn registration")};try{if(!e4())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:g,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:l});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(u){return dt(u)?{data:null,error:u}:{data:null,error:new Tc("Unexpected error in register",u)}}}}PC();const aT={url:W7,storageKey:J7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t4(t,e,n){return await n()}const hd={};class q0{get jwks(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=q0.nextInstanceID,q0.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},aT),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new UC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Z3(i.fetch),this.lock=i.lock||t4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ti()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=LC:this.lock=t4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nT(this)},this.persistSession?(i.storage?this.storage=i.storage:Y3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=J_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=J_(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gC(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),ti()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),sC(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return dt(n)?{error:n}:{error:new Tc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ds}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const g=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(dt(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,i;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await cd(this.storage,this.storageKey)),l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:E,code_challenge_method:C},xform:ds})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:ds})}else throw new Kp("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const g=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(dt(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:$_})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:$_})}else throw new Kp("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ud}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,l,u,d,g,m,v,_,S;let E,C;if("message"in e)E=e.message,C=e.signature;else{const{chain:R,wallet:O,statement:M,options:j}=e;let z;if(ti())if(typeof O=="object")z=O;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")z=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const P=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),H=await z.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=X3(H[0]);let Y=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Y){const oe=await z.request({method:"eth_chainId"});Y=BC(oe)}const F={domain:P.host,address:k,statement:M,uri:P.href,version:"1",chainId:Y,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=GC(F),C=await z.request({method:"personal_sign",params:[HC(E),k]})}try{const{data:R,error:O}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ds});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new ud}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(dt(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,i,l,u,d,g,m,v,_,S,E;let C,R;if("message"in e)C=e.message,R=e.signature;else{const{chain:O,wallet:M,statement:j,options:z}=e;let P;if(ti())if(typeof M=="object")P=M;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))P=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=M}const H=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const k=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),j?{statement:j}:null));let Y;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")Y=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)Y=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)C=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),R=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${H.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((d=z?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const k=await P.signMessage(new TextEncoder().encode(C),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=k}}try{const{data:O,error:M}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Rc(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:ds});if(M)throw M;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new ud}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:M})}catch(O){if(dt(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:l,error:u}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ds});if(await nu(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ud}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(dt(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:l,nonce:u}=e,d=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ds}),{data:g,error:m}=d;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ud}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,l,u;try{if("email"in e){const{email:d,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await cd(this.storage,this.storageKey));const{error:_}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:d,options:g}=e,{data:m,error:v}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(u=g?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Kp("You must provide either an email or phone number.")}catch(d){if(dt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,a;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:ds});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,m=u.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await cd(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:MC})}catch(l){if(dt(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new au;const{error:i}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:d}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Kp("You must provide either an email or phone number and a type")}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<H1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Sc(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=V1()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,m,v)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:uu}):await this._useSession(async n=>{var a,i,l;const{data:u,error:d}=n;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new au}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:uu})})}catch(n){if(dt(n))return iC(n)&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new au;const u=i.session;let d=null,g=null;this.flowType==="pkce"&&e.email!=null&&([d,g]=await cd(this.storage,this.storageKey));const{data:m,error:v}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:g}),jwt:u.access_token,xform:uu});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(dt(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new au;const n=Date.now()/1e3;let a=n,i=!0,l=null;const{payload:u}=q1(e.access_token);if(u.exp&&(a=u.exp,i=a<=n),i){const{data:d,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(dt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new au;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ti())throw new Fp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Y_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Y_("No code detected.");const{data:j,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:d,expires_at:g,token_type:m}=e;if(!l||!d||!u||!m)throw new Fp("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(d);let S=v+_;g&&(S=parseInt(g));const E=S-v;E*1e3<=wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const C=S-_;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,S,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,S,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const M={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:_,expires_at:S,refresh_token:u,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(a){if(dt(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{error:l};const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(rC(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=hC(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await cd(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(dt(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async l=>{var u,d,g,m,v;const{data:_,error:S}=l;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return ti()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(dt(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:d,token:g,access_token:m,nonce:v}=e,_=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ds}),{data:S,error:E}=_;return E?{data:{user:null,session:null},error:E}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new ud}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:E})}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)throw u;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await vC(async i=>(i>0&&await mC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ds})),(i,l)=>{const u=200*Math.pow(2,i);return l&&G1(l)&&Date.now()+u-a<wd})}catch(a){if(this._debug(n,"error",a),dt(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),ti()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Sc(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await xd(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:V1()}else if(i&&!i.user&&!i.user){const u=await Sc(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await nu(this.storage,this.storageKey+"-user"),await xd(this.storage,this.storageKey,i)):i.user=V1()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<H1;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${H1}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),G1(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new au;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pv;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new au;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),dt(l)){const u={data:null,error:l};return G1(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await xd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=F_(i);await xd(this.storage,this.storageKey,l)}else{const i=F_(n);await xd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await nu(this.storage,this.storageKey),await nu(this.storage,this.storageKey+"-code-verifier"),await nu(this.storage,this.storageKey+"-user"),this.userStorage&&await nu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wd}ms, refresh threshold is ${ky} ticks`),i<=ky&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await cd(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;return l?{data:null,error:l}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&g.type==="totp"&&(!((i=g?.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KC(e.webauthn.credential_response):FC(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:g}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(n){if(dt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:l}=n;if(l)return{data:null,error:l};const u=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:IC(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:XC(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(dt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=q1(i.access_token);let d=null;u.aal&&(d=u.aal);let g=d;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=u.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+nC>i)return a;const{data:l,error:u}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:E,error:C}=await this.getSession();if(C||!E.session)return{data:null,error:C};a=E.session.access_token}const{header:i,payload:l,signature:u,raw:{header:d,payload:g}}=q1(a);n?.allowExpired||EC(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:E}=await this.getUser(a);if(E)throw E;return{data:{claims:l,header:i,signature:u},error:null}}const v=CC(i.alg),_=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,fC(`${d}.${g}`)))throw new By("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}}}q0.nextInstanceID=0;const rT=q0;class iT extends rT{constructor(e){super(e)}}var sT=function(t,e,n,a){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(_){u(_)}}function g(v){try{m(a.throw(v))}catch(_){u(_)}}function m(v){v.done?l(v.value):i(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class lT{constructor(e,n,a){var i,l,u;this.supabaseUrl=e,this.supabaseKey=n;const d=$7(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const g=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:G7,realtime:V7,auth:Object.assign(Object.assign({},q7),{storageKey:g}),global:H7},v=Q7(a??{},m);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=X7(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new a7(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new L7(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new X9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return sT(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,storageKey:u,flowType:d,lock:g,debug:m},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iT({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:l,flowType:d,lock:g,debug:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oT=(t,e,n)=>new lT(t,e,n);function uT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cT="https://ptwlzqcuyndjswcwgndp.supabase.co",fT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",kn=oT(cT,fT),Km="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var Q3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n4=$e.createContext&&$e.createContext(Q3),dT=["attr","size","title"];function hT(t,e){if(t==null)return{};var n=gT(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function gT(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Fm.apply(this,arguments)}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(a){pT(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function pT(t,e,n){return e=mT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mT(t){var e=vT(t,"string");return typeof e=="symbol"?e:e+""}function vT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $3(t){return t&&t.map((e,n)=>$e.createElement(e.tag,Qm({key:n},e.attr),$3(e.child)))}function Zn(t){return e=>$e.createElement(yT,Fm({attr:Qm({},t.attr)},e),$3(t.child))}function yT(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=hT(t,dT),d=i||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),$e.createElement("svg",Fm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:g,style:Qm(Qm({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&$e.createElement("title",null,l),t.children)};return n4!==void 0?$e.createElement(n4.Consumer,null,n=>e(n)):e(Q3)}function W3(t){return Zn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function bT(t){return Zn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function m0(t){return Zn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function _T(t){return Zn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function ST(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function wT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function xT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},child:[]}]})(t)}function ET(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function CT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function TT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function AT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function RT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},child:[]}]})(t)}function r4(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function i4(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function OT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function NT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function Z1(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function J3(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function MT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function s4(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function DT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function jT(t){return Zn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function Me(t,e,n){function a(d,g){var m;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(m=d._zod).traits??(m.traits=new Set),d._zod.traits.add(t),e(d,g);for(const v in u.prototype)v in d||Object.defineProperty(d,v,{value:u.prototype[v].bind(d)});d._zod.constr=u,d._zod.def=g}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:t});function u(d){var g;const m=n?.Parent?new l:this;a(m,d),(g=m._zod).deferred??(g.deferred=[]);for(const v of m._zod.deferred)v();return m}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class Nd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class eS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const tS={};function Mc(t){return tS}function zT(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,i])=>e.indexOf(+a)===-1).map(([a,i])=>i)}function Hy(t,e){return typeof e=="bigint"?e.toString():e}function R2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function O2(t){return t==null}function N2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const l4=Symbol("evaluating");function Un(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==l4)return a===void 0&&(a=l4,a=n()),a},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Pc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Bc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function o4(t){return JSON.stringify(t)}const nS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function $m(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const UT=R2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function V0(t){if($m(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!($m(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function aS(t){return V0(t)?{...t}:Array.isArray(t)?[...t]:t}const kT=new Set(["string","number","symbol"]);function mv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vu(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function _t(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function LT(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function PT(t,e){const n=t._zod.def,a=Bc(t._zod.def,{get shape(){const i={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(i[l]=n.shape[l])}return Pc(this,"shape",i),i},checks:[]});return vu(t,a)}function BT(t,e){const n=t._zod.def,a=Bc(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete i[l]}return Pc(this,"shape",i),i},checks:[]});return vu(t,a)}function HT(t,e){if(!V0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Bc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Pc(this,"shape",l),l},checks:[]});return vu(t,i)}function GT(t,e){if(!V0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return Pc(this,"shape",a),a},checks:t._zod.def.checks};return vu(t,n)}function qT(t,e){const n=Bc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return Pc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return vu(t,n)}function VT(t,e,n){const a=Bc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)l[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return Pc(this,"shape",l),l},checks:[]});return vu(e,a)}function YT(t,e,n){const a=Bc(e._zod.def,{get shape(){const i=e._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new t({type:"nonoptional",innerType:i[u]});return Pc(this,"shape",l),l},checks:[]});return vu(e,a)}function Td(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function rS(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function Qp(t){return typeof t=="string"?t:t?.message}function Dc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const i=Qp(t.inst?._zod.def?.error?.(t))??Qp(e?.error?.(t))??Qp(n.customError?.(t))??Qp(n.localeError?.(t))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function M2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Y0(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const iS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Hy,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},D2=Me("$ZodError",iS),vv=Me("$ZodError",iS,{Parent:Error});function ZT(t,e=n=>n.message){const n={},a=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):a.push(e(i));return{formErrors:a,fieldErrors:n}}function IT(t,e=n=>n.message){const n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,d=0;for(;d<l.path.length;){const g=l.path[d];d===l.path.length-1?(u[g]=u[g]||{_errors:[]},u[g]._errors.push(e(l))):u[g]=u[g]||{_errors:[]},u=u[g],d++}}};return a(t),n}const yv=t=>(e,n,a,i)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new Nd;if(u.issues.length){const d=new(i?.Err??t)(u.issues.map(g=>Dc(g,l,Mc())));throw nS(d,i?.callee),d}return u.value},XT=yv(vv),bv=t=>async(e,n,a,i)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new(i?.Err??t)(u.issues.map(g=>Dc(g,l,Mc())));throw nS(d,i?.callee),d}return u.value},KT=bv(vv),_v=t=>(e,n,a)=>{const i=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new Nd;return l.issues.length?{success:!1,error:new(t??D2)(l.issues.map(u=>Dc(u,i,Mc())))}:{success:!0,data:l.value}},FT=_v(vv),Sv=t=>async(e,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>Dc(u,i,Mc())))}:{success:!0,data:l.value}},QT=Sv(vv),$T=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return yv(t)(e,n,i)},WT=t=>(e,n,a)=>yv(t)(e,n,a),JT=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return bv(t)(e,n,i)},eA=t=>async(e,n,a)=>bv(t)(e,n,a),tA=t=>(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return _v(t)(e,n,i)},nA=t=>(e,n,a)=>_v(t)(e,n,a),aA=t=>async(e,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Sv(t)(e,n,i)},rA=t=>async(e,n,a)=>Sv(t)(e,n,a),iA=/^[cC][^\s-]{8,}$/,sA=/^[0-9a-z]+$/,lA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,oA=/^[0-9a-vA-V]{20}$/,uA=/^[A-Za-z0-9]{27}$/,cA=/^[a-zA-Z0-9_-]{21}$/,fA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,dA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,u4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,hA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,gA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function pA(){return new RegExp(gA,"u")}const mA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,yA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_A=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,sS=/^[A-Za-z0-9_-]*$/,SA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,wA=/^\+(?:[0-9]){6,14}[0-9]$/,lS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xA=new RegExp(`^${lS}$`);function oS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function EA(t){return new RegExp(`^${oS(t)}$`)}function CA(t){const e=oS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${lS}T(?:${a})$`)}const TA=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},AA=/^(?:true|false)$/i,RA=/^[^A-Z]*$/,OA=/^[^a-z]*$/,dl=Me("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),NA=Me("$ZodCheckMaxLength",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const i=a.value;if(i.length<=e.maximum)return;const u=M2(i);a.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),MA=Me("$ZodCheckMinLength",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const i=a.value;if(i.length>=e.minimum)return;const u=M2(i);a.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),DA=Me("$ZodCheckLengthEquals",(t,e)=>{var n;dl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const i=a.value;return!O2(i)&&i.length!==void 0}),t._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=a=>{const i=a.value,l=i.length;if(l===e.length)return;const u=M2(i),d=l>e.length;a.issues.push({origin:u,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),wv=Me("$ZodCheckStringFormat",(t,e)=>{var n,a;dl.init(t,e),t._zod.onattach.push(i=>{const l=i._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),jA=Me("$ZodCheckRegex",(t,e)=>{wv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),zA=Me("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=RA),wv.init(t,e)}),UA=Me("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=OA),wv.init(t,e)}),kA=Me("$ZodCheckIncludes",(t,e)=>{dl.init(t,e);const n=mv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),LA=Me("$ZodCheckStartsWith",(t,e)=>{dl.init(t,e);const n=new RegExp(`^${mv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),PA=Me("$ZodCheckEndsWith",(t,e)=>{dl.init(t,e);const n=new RegExp(`.*${mv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),BA=Me("$ZodCheckOverwrite",(t,e)=>{dl.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class HA{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),l=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,i.join(`
`))}}const GA={major:4,minor:1,patch:12},ga=Me("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=GA;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const i of a)for(const l of i._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,d,g)=>{let m=Td(u),v;for(const _ of d){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(m)continue;const S=u.issues.length,E=_._zod.check(u);if(E instanceof Promise&&g?.async===!1)throw new Nd;if(v||E instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await E,u.issues.length!==S&&(m||(m=Td(u,S)))});else{if(u.issues.length===S)continue;m||(m=Td(u,S))}}return v?v.then(()=>u):u},l=(u,d,g)=>{if(Td(u))return u.aborted=!0,u;const m=i(d,a,g);if(m instanceof Promise){if(g.async===!1)throw new Nd;return m.then(v=>t._zod.parse(v,g))}return t._zod.parse(m,g)};t._zod.run=(u,d)=>{if(d.skipChecks)return t._zod.parse(u,d);if(d.direction==="backward"){const m=t._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return m instanceof Promise?m.then(v=>l(v,u,d)):l(m,u,d)}const g=t._zod.parse(u,d);if(g instanceof Promise){if(d.async===!1)throw new Nd;return g.then(m=>i(m,a,d))}return i(g,a,d)}}t["~standard"]={validate:i=>{try{const l=FT(t,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return QT(t,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),j2=Me("$ZodString",(t,e)=>{ga.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??TA(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Vn=Me("$ZodStringFormat",(t,e)=>{wv.init(t,e),j2.init(t,e)}),qA=Me("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=dA),Vn.init(t,e)}),VA=Me("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=u4(a))}else e.pattern??(e.pattern=u4());Vn.init(t,e)}),YA=Me("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=hA),Vn.init(t,e)}),ZA=Me("$ZodURL",(t,e)=>{Vn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:SA.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),IA=Me("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=pA()),Vn.init(t,e)}),XA=Me("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=cA),Vn.init(t,e)}),KA=Me("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=iA),Vn.init(t,e)}),FA=Me("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=sA),Vn.init(t,e)}),QA=Me("$ZodULID",(t,e)=>{e.pattern??(e.pattern=lA),Vn.init(t,e)}),$A=Me("$ZodXID",(t,e)=>{e.pattern??(e.pattern=oA),Vn.init(t,e)}),WA=Me("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=uA),Vn.init(t,e)}),JA=Me("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=CA(e)),Vn.init(t,e)}),eR=Me("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=xA),Vn.init(t,e)}),tR=Me("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=EA(e)),Vn.init(t,e)}),nR=Me("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=fA),Vn.init(t,e)}),aR=Me("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=mA),Vn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),rR=Me("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=vA),Vn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),iR=Me("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=yA),Vn.init(t,e)}),sR=Me("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=bA),Vn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,l]=a;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function uS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const lR=Me("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=_A),Vn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{uS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function oR(t){if(!sS.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return uS(n)}const uR=Me("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=sS),Vn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{oR(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),cR=Me("$ZodE164",(t,e)=>{e.pattern??(e.pattern=wA),Vn.init(t,e)});function fR(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const dR=Me("$ZodJWT",(t,e)=>{Vn.init(t,e),t._zod.check=n=>{fR(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),hR=Me("$ZodBoolean",(t,e)=>{ga.init(t,e),t._zod.pattern=AA,t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),gR=Me("$ZodUnknown",(t,e)=>{ga.init(t,e),t._zod.parse=n=>n}),pR=Me("$ZodNever",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function c4(t,e,n){t.issues.length&&e.issues.push(...rS(n,t.issues)),e.value[n]=t.value}const mR=Me("$ZodArray",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const d=i[u],g=e.element._zod.run({value:d,issues:[]},a);g instanceof Promise?l.push(g.then(m=>c4(m,n,u))):c4(g,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function Wm(t,e,n,a){t.issues.length&&e.issues.push(...rS(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function cS(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=LT(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function fS(t,e,n,a,i,l){const u=[],d=i.keySet,g=i.catchall._zod,m=g.def.type;for(const v of Object.keys(e)){if(d.has(v))continue;if(m==="never"){u.push(v);continue}const _=g.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(S=>Wm(S,n,v,e))):Wm(_,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const vR=Me("$ZodObject",(t,e)=>{if(ga.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const g={...d};return Object.defineProperty(e,"shape",{value:g}),g}})}const a=R2(()=>cS(e));Un(t._zod,"propValues",()=>{const d=e.shape,g={};for(const m in d){const v=d[m]._zod;if(v.values){g[m]??(g[m]=new Set);for(const _ of v.values)g[m].add(_)}}return g});const i=$m,l=e.catchall;let u;t._zod.parse=(d,g)=>{u??(u=a.value);const m=d.value;if(!i(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),d;d.value={};const v=[],_=u.shape;for(const S of u.keys){const C=_[S]._zod.run({value:m[S],issues:[]},g);C instanceof Promise?v.push(C.then(R=>Wm(R,d,S,m))):Wm(C,d,S,m)}return l?fS(v,m,d,g,a.value,t):v.length?Promise.all(v).then(()=>d):d}}),yR=Me("$ZodObjectJIT",(t,e)=>{vR.init(t,e);const n=t._zod.parse,a=R2(()=>cS(e)),i=S=>{const E=new HA(["shape","payload","ctx"]),C=a.value,R=z=>{const P=o4(z);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};E.write("const input = payload.value;");const O=Object.create(null);let M=0;for(const z of C.keys)O[z]=`key_${M++}`;E.write("const newResult = {};");for(const z of C.keys){const P=O[z],H=o4(z);E.write(`const ${P} = ${R(z)};`),E.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${P}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const j=E.compile();return(z,P)=>j(S,z,P)};let l;const u=$m,d=!tS.jitless,m=d&&UT.value,v=e.catchall;let _;t._zod.parse=(S,E)=>{_??(_=a.value);const C=S.value;return u(C)?d&&m&&E?.async===!1&&E.jitless!==!0?(l||(l=i(e.shape)),S=l(S,E),v?fS([],C,S,E,_,t):S):n(S,E):(S.issues.push({expected:"object",code:"invalid_type",input:C,inst:t}),S)}});function f4(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const i=t.filter(l=>!Td(l));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>Dc(u,a,Mc())))}),e)}const bR=Me("$ZodUnion",(t,e)=>{ga.init(t,e),Un(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Un(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Un(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Un(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>N2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(i,l)=>{if(n)return a(i,l);let u=!1;const d=[];for(const g of e.options){const m=g._zod.run({value:i.value,issues:[]},l);if(m instanceof Promise)d.push(m),u=!0;else{if(m.issues.length===0)return m;d.push(m)}}return u?Promise.all(d).then(g=>f4(g,i,t,l)):f4(d,i,t,l)}}),_R=Me("$ZodIntersection",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{const i=n.value,l=e.left._zod.run({value:i,issues:[]},a),u=e.right._zod.run({value:i,issues:[]},a);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([g,m])=>d4(n,g,m)):d4(n,l,u)}});function Gy(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(V0(t)&&V0(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const u=Gy(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],u=Gy(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function d4(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Td(t))return t;const a=Gy(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const SR=Me("$ZodEnum",(t,e)=>{ga.init(t,e);const n=zT(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(i=>kT.has(typeof i)).map(i=>typeof i=="string"?mv(i):i.toString()).join("|")})$`),t._zod.parse=(i,l)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:t}),i}}),wR=Me("$ZodTransform",(t,e)=>{ga.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new eS(t.constructor.name);const i=e.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new Nd;return n.value=i,n}});function h4(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const xR=Me("$ZodOptional",(t,e)=>{ga.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Un(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Un(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>h4(l,n.value)):h4(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),ER=Me("$ZodNullable",(t,e)=>{ga.init(t,e),Un(t._zod,"optin",()=>e.innerType._zod.optin),Un(t._zod,"optout",()=>e.innerType._zod.optout),Un(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${N2(n.source)}|null)$`):void 0}),Un(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),CR=Me("$ZodDefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",Un(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>g4(l,e)):g4(i,e)}});function g4(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const TR=Me("$ZodPrefault",(t,e)=>{ga.init(t,e),t._zod.optin="optional",Un(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),AR=Me("$ZodNonOptional",(t,e)=>{ga.init(t,e),Un(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>p4(l,t)):p4(i,t)}});function p4(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const RR=Me("$ZodCatch",(t,e)=>{ga.init(t,e),Un(t._zod,"optin",()=>e.innerType._zod.optin),Un(t._zod,"optout",()=>e.innerType._zod.optout),Un(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>Dc(u,a,Mc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>Dc(l,a,Mc()))},input:n.value}),n.issues=[]),n)}}),OR=Me("$ZodPipe",(t,e)=>{ga.init(t,e),Un(t._zod,"values",()=>e.in._zod.values),Un(t._zod,"optin",()=>e.in._zod.optin),Un(t._zod,"optout",()=>e.out._zod.optout),Un(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(u=>$p(u,e.in,a)):$p(l,e.in,a)}const i=e.in._zod.run(n,a);return i instanceof Promise?i.then(l=>$p(l,e.out,a)):$p(i,e.out,a)}});function $p(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const NR=Me("$ZodReadonly",(t,e)=>{ga.init(t,e),Un(t._zod,"propValues",()=>e.innerType._zod.propValues),Un(t._zod,"values",()=>e.innerType._zod.values),Un(t._zod,"optin",()=>e.innerType._zod.optin),Un(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const i=e.innerType._zod.run(n,a);return i instanceof Promise?i.then(m4):m4(i)}});function m4(t){return t.value=Object.freeze(t.value),t}const MR=Me("$ZodCustom",(t,e)=>{dl.init(t,e),ga.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,i=e.fn(a);if(i instanceof Promise)return i.then(l=>v4(l,n,a,t));v4(i,n,a,t)}});function v4(t,e,n,a){if(!t){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),e.issues.push(Y0(i))}}class DR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function jR(){return new DR}const Wp=jR();function zR(t,e){return new t({type:"string",..._t(e)})}function dS(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,..._t(e)})}function y4(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,..._t(e)})}function UR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,..._t(e)})}function kR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",..._t(e)})}function LR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",..._t(e)})}function PR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",..._t(e)})}function BR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,..._t(e)})}function HR(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,..._t(e)})}function GR(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,..._t(e)})}function qR(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,..._t(e)})}function VR(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,..._t(e)})}function YR(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,..._t(e)})}function ZR(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,..._t(e)})}function IR(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,..._t(e)})}function XR(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,..._t(e)})}function KR(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,..._t(e)})}function FR(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,..._t(e)})}function QR(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,..._t(e)})}function $R(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,..._t(e)})}function WR(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,..._t(e)})}function JR(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,..._t(e)})}function eO(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,..._t(e)})}function tO(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,..._t(e)})}function nO(t,e){return new t({type:"string",format:"date",check:"string_format",..._t(e)})}function aO(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,..._t(e)})}function rO(t,e){return new t({type:"string",format:"duration",check:"string_format",..._t(e)})}function iO(t,e){return new t({type:"boolean",..._t(e)})}function sO(t){return new t({type:"unknown"})}function lO(t,e){return new t({type:"never",..._t(e)})}function hS(t,e){return new NA({check:"max_length",..._t(e),maximum:t})}function Jm(t,e){return new MA({check:"min_length",..._t(e),minimum:t})}function gS(t,e){return new DA({check:"length_equals",..._t(e),length:t})}function oO(t,e){return new jA({check:"string_format",format:"regex",..._t(e),pattern:t})}function uO(t){return new zA({check:"string_format",format:"lowercase",..._t(t)})}function cO(t){return new UA({check:"string_format",format:"uppercase",..._t(t)})}function fO(t,e){return new kA({check:"string_format",format:"includes",..._t(e),includes:t})}function dO(t,e){return new LA({check:"string_format",format:"starts_with",..._t(e),prefix:t})}function hO(t,e){return new PA({check:"string_format",format:"ends_with",..._t(e),suffix:t})}function ig(t){return new BA({check:"overwrite",tx:t})}function gO(t){return ig(e=>e.normalize(t))}function pO(){return ig(t=>t.trim())}function mO(){return ig(t=>t.toLowerCase())}function vO(){return ig(t=>t.toUpperCase())}function yO(t,e,n){return new t({type:"array",element:e,..._t(n)})}function bO(t,e,n){return new t({type:"custom",check:"custom",fn:e,..._t(n)})}function _O(t){const e=SO(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(Y0(a,n.value,e._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(Y0(i))}},t(n.value,n)));return e}function SO(t,e){const n=new dl({check:"custom",..._t(e)});return n._zod.check=t,n}const wO=Me("ZodISODateTime",(t,e)=>{JA.init(t,e),In.init(t,e)});function xO(t){return tO(wO,t)}const EO=Me("ZodISODate",(t,e)=>{eR.init(t,e),In.init(t,e)});function CO(t){return nO(EO,t)}const TO=Me("ZodISOTime",(t,e)=>{tR.init(t,e),In.init(t,e)});function AO(t){return aO(TO,t)}const RO=Me("ZodISODuration",(t,e)=>{nR.init(t,e),In.init(t,e)});function OO(t){return rO(RO,t)}const NO=(t,e)=>{D2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>IT(t,n)},flatten:{value:n=>ZT(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Hy,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Hy,2)}},isEmpty:{get(){return t.issues.length===0}}})},Li=Me("ZodError",NO,{Parent:Error}),MO=yv(Li),DO=bv(Li),jO=_v(Li),zO=Sv(Li),UO=$T(Li),kO=WT(Li),LO=JT(Li),PO=eA(Li),BO=tA(Li),HO=nA(Li),GO=aA(Li),qO=rA(Li),xa=Me("ZodType",(t,e)=>(ga.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Bc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>vu(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>MO(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>jO(t,n,a),t.parseAsync=async(n,a)=>DO(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>zO(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>UO(t,n,a),t.decode=(n,a)=>kO(t,n,a),t.encodeAsync=async(n,a)=>LO(t,n,a),t.decodeAsync=async(n,a)=>PO(t,n,a),t.safeEncode=(n,a)=>BO(t,n,a),t.safeDecode=(n,a)=>HO(t,n,a),t.safeEncodeAsync=async(n,a)=>GO(t,n,a),t.safeDecodeAsync=async(n,a)=>qO(t,n,a),t.refine=(n,a)=>t.check(jN(n,a)),t.superRefine=n=>t.check(zN(n)),t.overwrite=n=>t.check(ig(n)),t.optional=()=>S4(t),t.nullable=()=>w4(t),t.nullish=()=>S4(w4(t)),t.nonoptional=n=>TN(t,n),t.array=()=>dN(t),t.or=n=>pN([t,n]),t.and=n=>vN(t,n),t.transform=n=>x4(t,_N(n)),t.default=n=>xN(t,n),t.prefault=n=>CN(t,n),t.catch=n=>RN(t,n),t.pipe=n=>x4(t,n),t.readonly=()=>MN(t),t.describe=n=>{const a=t.clone();return Wp.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return Wp.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Wp.get(t);const a=t.clone();return Wp.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),pS=Me("_ZodString",(t,e)=>{j2.init(t,e),xa.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(oO(...a)),t.includes=(...a)=>t.check(fO(...a)),t.startsWith=(...a)=>t.check(dO(...a)),t.endsWith=(...a)=>t.check(hO(...a)),t.min=(...a)=>t.check(Jm(...a)),t.max=(...a)=>t.check(hS(...a)),t.length=(...a)=>t.check(gS(...a)),t.nonempty=(...a)=>t.check(Jm(1,...a)),t.lowercase=a=>t.check(uO(a)),t.uppercase=a=>t.check(cO(a)),t.trim=()=>t.check(pO()),t.normalize=(...a)=>t.check(gO(...a)),t.toLowerCase=()=>t.check(mO()),t.toUpperCase=()=>t.check(vO())}),VO=Me("ZodString",(t,e)=>{j2.init(t,e),pS.init(t,e),t.email=n=>t.check(dS(mS,n)),t.url=n=>t.check(BR(YO,n)),t.jwt=n=>t.check(eO(iN,n)),t.emoji=n=>t.check(HR(ZO,n)),t.guid=n=>t.check(y4(b4,n)),t.uuid=n=>t.check(UR(Jp,n)),t.uuidv4=n=>t.check(kR(Jp,n)),t.uuidv6=n=>t.check(LR(Jp,n)),t.uuidv7=n=>t.check(PR(Jp,n)),t.nanoid=n=>t.check(GR(IO,n)),t.guid=n=>t.check(y4(b4,n)),t.cuid=n=>t.check(qR(XO,n)),t.cuid2=n=>t.check(VR(KO,n)),t.ulid=n=>t.check(YR(FO,n)),t.base64=n=>t.check($R(nN,n)),t.base64url=n=>t.check(WR(aN,n)),t.xid=n=>t.check(ZR(QO,n)),t.ksuid=n=>t.check(IR($O,n)),t.ipv4=n=>t.check(XR(WO,n)),t.ipv6=n=>t.check(KR(JO,n)),t.cidrv4=n=>t.check(FR(eN,n)),t.cidrv6=n=>t.check(QR(tN,n)),t.e164=n=>t.check(JR(rN,n)),t.datetime=n=>t.check(xO(n)),t.date=n=>t.check(CO(n)),t.time=n=>t.check(AO(n)),t.duration=n=>t.check(OO(n))});function ii(t){return zR(VO,t)}const In=Me("ZodStringFormat",(t,e)=>{Vn.init(t,e),pS.init(t,e)}),mS=Me("ZodEmail",(t,e)=>{YA.init(t,e),In.init(t,e)});function vS(t){return dS(mS,t)}const b4=Me("ZodGUID",(t,e)=>{qA.init(t,e),In.init(t,e)}),Jp=Me("ZodUUID",(t,e)=>{VA.init(t,e),In.init(t,e)}),YO=Me("ZodURL",(t,e)=>{ZA.init(t,e),In.init(t,e)}),ZO=Me("ZodEmoji",(t,e)=>{IA.init(t,e),In.init(t,e)}),IO=Me("ZodNanoID",(t,e)=>{XA.init(t,e),In.init(t,e)}),XO=Me("ZodCUID",(t,e)=>{KA.init(t,e),In.init(t,e)}),KO=Me("ZodCUID2",(t,e)=>{FA.init(t,e),In.init(t,e)}),FO=Me("ZodULID",(t,e)=>{QA.init(t,e),In.init(t,e)}),QO=Me("ZodXID",(t,e)=>{$A.init(t,e),In.init(t,e)}),$O=Me("ZodKSUID",(t,e)=>{WA.init(t,e),In.init(t,e)}),WO=Me("ZodIPv4",(t,e)=>{aR.init(t,e),In.init(t,e)}),JO=Me("ZodIPv6",(t,e)=>{rR.init(t,e),In.init(t,e)}),eN=Me("ZodCIDRv4",(t,e)=>{iR.init(t,e),In.init(t,e)}),tN=Me("ZodCIDRv6",(t,e)=>{sR.init(t,e),In.init(t,e)}),nN=Me("ZodBase64",(t,e)=>{lR.init(t,e),In.init(t,e)}),aN=Me("ZodBase64URL",(t,e)=>{uR.init(t,e),In.init(t,e)}),rN=Me("ZodE164",(t,e)=>{cR.init(t,e),In.init(t,e)}),iN=Me("ZodJWT",(t,e)=>{dR.init(t,e),In.init(t,e)}),sN=Me("ZodBoolean",(t,e)=>{hR.init(t,e),xa.init(t,e)});function lN(t){return iO(sN,t)}const oN=Me("ZodUnknown",(t,e)=>{gR.init(t,e),xa.init(t,e)});function _4(){return sO(oN)}const uN=Me("ZodNever",(t,e)=>{pR.init(t,e),xa.init(t,e)});function cN(t){return lO(uN,t)}const fN=Me("ZodArray",(t,e)=>{mR.init(t,e),xa.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(Jm(n,a)),t.nonempty=n=>t.check(Jm(1,n)),t.max=(n,a)=>t.check(hS(n,a)),t.length=(n,a)=>t.check(gS(n,a)),t.unwrap=()=>t.element});function dN(t,e){return yO(fN,t,e)}const hN=Me("ZodObject",(t,e)=>{yR.init(t,e),xa.init(t,e),Un(t,"shape",()=>e.shape),t.keyof=()=>yN(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:_4()}),t.loose=()=>t.clone({...t._zod.def,catchall:_4()}),t.strict=()=>t.clone({...t._zod.def,catchall:cN()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>HT(t,n),t.safeExtend=n=>GT(t,n),t.merge=n=>qT(t,n),t.pick=n=>PT(t,n),t.omit=n=>BT(t,n),t.partial=(...n)=>VT(yS,t,n[0]),t.required=(...n)=>YT(bS,t,n[0])});function xv(t,e){const n={type:"object",shape:t??{},..._t(e)};return new hN(n)}const gN=Me("ZodUnion",(t,e)=>{bR.init(t,e),xa.init(t,e),t.options=e.options});function pN(t,e){return new gN({type:"union",options:t,..._t(e)})}const mN=Me("ZodIntersection",(t,e)=>{_R.init(t,e),xa.init(t,e)});function vN(t,e){return new mN({type:"intersection",left:t,right:e})}const qy=Me("ZodEnum",(t,e)=>{SR.init(t,e),xa.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,i)=>{const l={};for(const u of a)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new qy({...e,checks:[],..._t(i),entries:l})},t.exclude=(a,i)=>{const l={...e.entries};for(const u of a)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new qy({...e,checks:[],..._t(i),entries:l})}});function yN(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new qy({type:"enum",entries:n,..._t(e)})}const bN=Me("ZodTransform",(t,e)=>{wR.init(t,e),xa.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new eS(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Y0(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(Y0(u))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function _N(t){return new bN({type:"transform",transform:t})}const yS=Me("ZodOptional",(t,e)=>{xR.init(t,e),xa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function S4(t){return new yS({type:"optional",innerType:t})}const SN=Me("ZodNullable",(t,e)=>{ER.init(t,e),xa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function w4(t){return new SN({type:"nullable",innerType:t})}const wN=Me("ZodDefault",(t,e)=>{CR.init(t,e),xa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function xN(t,e){return new wN({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():aS(e)}})}const EN=Me("ZodPrefault",(t,e)=>{TR.init(t,e),xa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function CN(t,e){return new EN({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():aS(e)}})}const bS=Me("ZodNonOptional",(t,e)=>{AR.init(t,e),xa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function TN(t,e){return new bS({type:"nonoptional",innerType:t,..._t(e)})}const AN=Me("ZodCatch",(t,e)=>{RR.init(t,e),xa.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function RN(t,e){return new AN({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const ON=Me("ZodPipe",(t,e)=>{OR.init(t,e),xa.init(t,e),t.in=e.in,t.out=e.out});function x4(t,e){return new ON({type:"pipe",in:t,out:e})}const NN=Me("ZodReadonly",(t,e)=>{NR.init(t,e),xa.init(t,e),t.unwrap=()=>t._zod.def.innerType});function MN(t){return new NN({type:"readonly",innerType:t})}const DN=Me("ZodCustom",(t,e)=>{MR.init(t,e),xa.init(t,e)});function jN(t,e={}){return bO(DN,t,e)}function zN(t){return _O(t)}var sg=t=>t.type==="checkbox",Oc=t=>t instanceof Date,qr=t=>t==null;const _S=t=>typeof t=="object";var ha=t=>!qr(t)&&!Array.isArray(t)&&_S(t)&&!Oc(t),UN=t=>ha(t)&&t.target?sg(t.target)?t.target.checked:t.target.value:t,kN=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,LN=(t,e)=>t.has(kN(e)),PN=t=>{const e=t.constructor&&t.constructor.prototype;return ha(e)&&e.hasOwnProperty("isPrototypeOf")},z2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pa(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(z2&&(t instanceof Blob||a))&&(n||ha(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!PN(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Pa(t[i]));else return t;return e}var Ev=t=>/^\w*$/.test(t),ra=t=>t===void 0,U2=t=>Array.isArray(t)?t.filter(Boolean):[],k2=t=>U2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),at=(t,e,n)=>{if(!e||!ha(t))return n;const a=(Ev(e)?[e]:k2(e)).reduce((i,l)=>qr(i)?i:i[l],t);return ra(a)||a===t?ra(t[e])?n:t[e]:a},il=t=>typeof t=="boolean",An=(t,e,n)=>{let a=-1;const i=Ev(e)?[e]:k2(e),l=i.length,u=l-1;for(;++a<l;){const d=i[a];let g=n;if(a!==u){const m=t[d];g=ha(m)||Array.isArray(m)?m:isNaN(+i[a+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=g,t=t[d]}};const E4={BLUR:"blur",FOCUS_OUT:"focusout"},ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},BN=$e.createContext(null);BN.displayName="HookFormContext";var HN=(t,e,n,a=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const u=l;return e._proxyFormState[u]!==ps.all&&(e._proxyFormState[u]=!a||ps.all),t[u]}});return i};const GN=typeof window<"u"?$e.useLayoutEffect:$e.useEffect;var si=t=>typeof t=="string",qN=(t,e,n,a,i)=>si(t)?(a&&e.watch.add(t),at(n,t,i)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),at(n,l))):(a&&(e.watchAll=!0),n),Vy=t=>qr(t)||!_S(t);function cu(t,e,n=new WeakSet){if(Vy(t)||Vy(e))return t===e;if(Oc(t)&&Oc(e))return t.getTime()===e.getTime();const a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const u=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Oc(u)&&Oc(d)||ha(u)&&ha(d)||Array.isArray(u)&&Array.isArray(d)?!cu(u,d,n):u!==d)return!1}}return!0}var L2=(t,e,n,a,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:i||!0}}:{},D0=t=>Array.isArray(t)?t:[t],C4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function SS(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const i=t[a],l=e[a];if(i&&ha(i)&&l){const u=SS(i,l);ha(u)&&(n[a]=u)}else t[a]&&(n[a]=l)}return n}var Gr=t=>ha(t)&&!Object.keys(t).length,P2=t=>t.type==="file",ms=t=>typeof t=="function",ev=t=>{if(!z2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wS=t=>t.type==="select-multiple",B2=t=>t.type==="radio",VN=t=>B2(t)||sg(t),I1=t=>ev(t)&&t.isConnected;function YN(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=ra(t)?a++:t[e[a++]];return t}function ZN(t){for(const e in t)if(t.hasOwnProperty(e)&&!ra(t[e]))return!1;return!0}function ca(t,e){const n=Array.isArray(e)?e:Ev(e)?[e]:k2(e),a=n.length===1?t:YN(t,n),i=n.length-1,l=n[i];return a&&delete a[l],i!==0&&(ha(a)&&Gr(a)||Array.isArray(a)&&ZN(a))&&ca(t,n.slice(0,-1)),t}var IN=t=>{for(const e in t)if(ms(t[e]))return!0;return!1};function xS(t){return Array.isArray(t)||ha(t)&&!IN(t)}function Yy(t,e={}){for(const n in t)xS(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Yy(t[n],e[n])):ra(t[n])||(e[n]=!0);return e}function Ed(t,e,n){n||(n=Yy(e));for(const a in t)xS(t[a])?ra(e)||Vy(n[a])?n[a]=Yy(t[a],Array.isArray(t[a])?[]:{}):Ed(t[a],qr(e)?{}:e[a],n[a]):n[a]=!cu(t[a],e[a]);return n}const T4={value:!1,isValid:!1},A4={value:!0,isValid:!0};var ES=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ra(t[0].attributes.value)?ra(t[0].value)||t[0].value===""?A4:{value:t[0].value,isValid:!0}:A4:T4}return T4},CS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>ra(t)?t:e?t===""?NaN:t&&+t:n&&si(t)?new Date(t):a?a(t):t;const R4={isValid:!1,value:null};var TS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,R4):R4;function O4(t){const e=t.ref;return P2(e)?e.files:B2(e)?TS(t.refs).value:wS(e)?[...e.selectedOptions].map(({value:n})=>n):sg(e)?ES(t.refs).value:CS(ra(e.value)?t.ref.value:e.value,t)}var XN=(t,e,n,a)=>{const i={};for(const l of t){const u=at(e,l);u&&An(i,l,u._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:a}},tv=t=>t instanceof RegExp,v0=t=>ra(t)?t:tv(t)?t.source:ha(t)?tv(t.value)?t.value.source:t.value:t,N4=t=>({isOnSubmit:!t||t===ps.onSubmit,isOnBlur:t===ps.onBlur,isOnChange:t===ps.onChange,isOnAll:t===ps.all,isOnTouch:t===ps.onTouched});const M4="AsyncFunction";var KN=t=>!!t&&!!t.validate&&!!(ms(t.validate)&&t.validate.constructor.name===M4||ha(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===M4)),FN=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),D4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const j0=(t,e,n,a)=>{for(const i of n||Object.keys(t)){const l=at(t,i);if(l){const{_f:u,...d}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],i)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if(j0(d,e))break}else if(ha(d)&&j0(d,e))break}}};function j4(t,e,n){const a=at(t,n);if(a||Ev(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const l=i.join("."),u=at(e,l),d=at(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};i.pop()}return{name:n}}var QN=(t,e,n,a)=>{n(t);const{name:i,...l}=t;return Gr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||ps.all))},$N=(t,e,n)=>!t||!e||t===e||D0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),WN=(t,e,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?a.isOnBlur:i.isOnBlur)?!t:(n?a.isOnChange:i.isOnChange)?t:!0,JN=(t,e)=>!U2(at(t,e)).length&&ca(t,e),eM=(t,e,n)=>{const a=D0(at(t,n));return An(a,"root",e[n]),An(t,n,a),t};function z4(t,e,n="validate"){if(si(t)||Array.isArray(t)&&t.every(si)||il(t)&&!t)return{type:n,message:si(t)?t:"",ref:e}}var gd=t=>ha(t)&&!tv(t)?t:{value:t,message:""},U4=async(t,e,n,a,i,l)=>{const{ref:u,refs:d,required:g,maxLength:m,minLength:v,min:_,max:S,pattern:E,validate:C,name:R,valueAsNumber:O,mount:M}=t._f,j=at(n,R);if(!M||e.has(R))return{};const z=d?d[0]:u,P=de=>{i&&z.reportValidity&&(z.setCustomValidity(il(de)?"":de||""),z.reportValidity())},H={},k=B2(u),Y=sg(u),F=k||Y,oe=(O||P2(u))&&ra(u.value)&&ra(j)||ev(u)&&u.value===""||j===""||Array.isArray(j)&&!j.length,_e=L2.bind(null,R,a,H),we=(de,he,ve,Se=Kl.maxLength,B=Kl.minLength)=>{const le=de?he:ve;H[R]={type:de?Se:B,message:le,ref:u,..._e(de?Se:B,le)}};if(l?!Array.isArray(j)||!j.length:g&&(!F&&(oe||qr(j))||il(j)&&!j||Y&&!ES(d).isValid||k&&!TS(d).isValid)){const{value:de,message:he}=si(g)?{value:!!g,message:g}:gd(g);if(de&&(H[R]={type:Kl.required,message:he,ref:z,..._e(Kl.required,he)},!a))return P(he),H}if(!oe&&(!qr(_)||!qr(S))){let de,he;const ve=gd(S),Se=gd(_);if(!qr(j)&&!isNaN(j)){const B=u.valueAsNumber||j&&+j;qr(ve.value)||(de=B>ve.value),qr(Se.value)||(he=B<Se.value)}else{const B=u.valueAsDate||new Date(j),le=G=>new Date(new Date().toDateString()+" "+G),Q=u.type=="time",pe=u.type=="week";si(ve.value)&&j&&(de=Q?le(j)>le(ve.value):pe?j>ve.value:B>new Date(ve.value)),si(Se.value)&&j&&(he=Q?le(j)<le(Se.value):pe?j<Se.value:B<new Date(Se.value))}if((de||he)&&(we(!!de,ve.message,Se.message,Kl.max,Kl.min),!a))return P(H[R].message),H}if((m||v)&&!oe&&(si(j)||l&&Array.isArray(j))){const de=gd(m),he=gd(v),ve=!qr(de.value)&&j.length>+de.value,Se=!qr(he.value)&&j.length<+he.value;if((ve||Se)&&(we(ve,de.message,he.message),!a))return P(H[R].message),H}if(E&&!oe&&si(j)){const{value:de,message:he}=gd(E);if(tv(de)&&!j.match(de)&&(H[R]={type:Kl.pattern,message:he,ref:u,..._e(Kl.pattern,he)},!a))return P(he),H}if(C){if(ms(C)){const de=await C(j,n),he=z4(de,z);if(he&&(H[R]={...he,..._e(Kl.validate,he.message)},!a))return P(he.message),H}else if(ha(C)){let de={};for(const he in C){if(!Gr(de)&&!a)break;const ve=z4(await C[he](j,n),z,he);ve&&(de={...ve,..._e(he,ve.message)},P(ve.message),a&&(H[R]=de))}if(!Gr(de)&&(H[R]={ref:z,...de},!a))return H}}return P(!0),H};const tM={mode:ps.onSubmit,reValidateMode:ps.onChange,shouldFocusError:!0};function nM(t={}){let e={...tM,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ms(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=ha(e.defaultValues)||ha(e.values)?Pa(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Pa(i),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const S={array:C4(),state:C4()},E=e.criteriaMode===ps.all,C=X=>ae=>{clearTimeout(m),m=setTimeout(X,ae)},R=async X=>{if(!e.disabled&&(v.isValid||_.isValid||X)){const ae=e.resolver?Gr((await Y()).errors):await oe(a,!0);ae!==n.isValid&&S.state.next({isValid:ae})}},O=(X,ae)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((X||Array.from(d.mount)).forEach(ce=>{ce&&(ae?An(n.validatingFields,ce,ae):ca(n.validatingFields,ce))}),S.state.next({validatingFields:n.validatingFields,isValidating:!Gr(n.validatingFields)}))},M=(X,ae=[],ce,Ge,Pe=!0,Ue=!0)=>{if(Ge&&ce&&!e.disabled){if(u.action=!0,Ue&&Array.isArray(at(a,X))){const Ze=ce(at(a,X),Ge.argA,Ge.argB);Pe&&An(a,X,Ze)}if(Ue&&Array.isArray(at(n.errors,X))){const Ze=ce(at(n.errors,X),Ge.argA,Ge.argB);Pe&&An(n.errors,X,Ze),JN(n.errors,X)}if((v.touchedFields||_.touchedFields)&&Ue&&Array.isArray(at(n.touchedFields,X))){const Ze=ce(at(n.touchedFields,X),Ge.argA,Ge.argB);Pe&&An(n.touchedFields,X,Ze)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Ed(i,l)),S.state.next({name:X,isDirty:we(X,ae),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else An(l,X,ae)},j=(X,ae)=>{An(n.errors,X,ae),S.state.next({errors:n.errors})},z=X=>{n.errors=X,S.state.next({errors:n.errors,isValid:!1})},P=(X,ae,ce,Ge)=>{const Pe=at(a,X);if(Pe){const Ue=at(l,X,ra(ce)?at(i,X):ce);ra(Ue)||Ge&&Ge.defaultChecked||ae?An(l,X,ae?Ue:O4(Pe._f)):ve(X,Ue),u.mount&&R()}},H=(X,ae,ce,Ge,Pe)=>{let Ue=!1,Ze=!1;const We={name:X};if(!e.disabled){if(!ce||Ge){(v.isDirty||_.isDirty)&&(Ze=n.isDirty,n.isDirty=We.isDirty=we(),Ue=Ze!==We.isDirty);const bt=cu(at(i,X),ae);Ze=!!at(n.dirtyFields,X),bt?ca(n.dirtyFields,X):An(n.dirtyFields,X,!0),We.dirtyFields=n.dirtyFields,Ue=Ue||(v.dirtyFields||_.dirtyFields)&&Ze!==!bt}if(ce){const bt=at(n.touchedFields,X);bt||(An(n.touchedFields,X,ce),We.touchedFields=n.touchedFields,Ue=Ue||(v.touchedFields||_.touchedFields)&&bt!==ce)}Ue&&Pe&&S.state.next(We)}return Ue?We:{}},k=(X,ae,ce,Ge)=>{const Pe=at(n.errors,X),Ue=(v.isValid||_.isValid)&&il(ae)&&n.isValid!==ae;if(e.delayError&&ce?(g=C(()=>j(X,ce)),g(e.delayError)):(clearTimeout(m),g=null,ce?An(n.errors,X,ce):ca(n.errors,X)),(ce?!cu(Pe,ce):Pe)||!Gr(Ge)||Ue){const Ze={...Ge,...Ue&&il(ae)?{isValid:ae}:{},errors:n.errors,name:X};n={...n,...Ze},S.state.next(Ze)}},Y=async X=>{O(X,!0);const ae=await e.resolver(l,e.context,XN(X||d.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(X),ae},F=async X=>{const{errors:ae}=await Y(X);if(X)for(const ce of X){const Ge=at(ae,ce);Ge?An(n.errors,ce,Ge):ca(n.errors,ce)}else n.errors=ae;return ae},oe=async(X,ae,ce={valid:!0})=>{for(const Ge in X){const Pe=X[Ge];if(Pe){const{_f:Ue,...Ze}=Pe;if(Ue){const We=d.array.has(Ue.name),bt=Pe._f&&KN(Pe._f);bt&&v.validatingFields&&O([Ue.name],!0);const en=await U4(Pe,d.disabled,l,E,e.shouldUseNativeValidation&&!ae,We);if(bt&&v.validatingFields&&O([Ue.name]),en[Ue.name]&&(ce.valid=!1,ae))break;!ae&&(at(en,Ue.name)?We?eM(n.errors,en,Ue.name):An(n.errors,Ue.name,en[Ue.name]):ca(n.errors,Ue.name))}!Gr(Ze)&&await oe(Ze,ae,ce)}}return ce.valid},_e=()=>{for(const X of d.unMount){const ae=at(a,X);ae&&(ae._f.refs?ae._f.refs.every(ce=>!I1(ce)):!I1(ae._f.ref))&&ke(X)}d.unMount=new Set},we=(X,ae)=>!e.disabled&&(X&&ae&&An(l,X,ae),!cu(G(),i)),de=(X,ae,ce)=>qN(X,d,{...u.mount?l:ra(ae)?i:si(X)?{[X]:ae}:ae},ce,ae),he=X=>U2(at(u.mount?l:i,X,e.shouldUnregister?at(i,X,[]):[])),ve=(X,ae,ce={})=>{const Ge=at(a,X);let Pe=ae;if(Ge){const Ue=Ge._f;Ue&&(!Ue.disabled&&An(l,X,CS(ae,Ue)),Pe=ev(Ue.ref)&&qr(ae)?"":ae,wS(Ue.ref)?[...Ue.ref.options].forEach(Ze=>Ze.selected=Pe.includes(Ze.value)):Ue.refs?sg(Ue.ref)?Ue.refs.forEach(Ze=>{(!Ze.defaultChecked||!Ze.disabled)&&(Array.isArray(Pe)?Ze.checked=!!Pe.find(We=>We===Ze.value):Ze.checked=Pe===Ze.value||!!Pe)}):Ue.refs.forEach(Ze=>Ze.checked=Ze.value===Pe):P2(Ue.ref)?Ue.ref.value="":(Ue.ref.value=Pe,Ue.ref.type||S.state.next({name:X,values:Pa(l)})))}(ce.shouldDirty||ce.shouldTouch)&&H(X,Pe,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&pe(X)},Se=(X,ae,ce)=>{for(const Ge in ae){if(!ae.hasOwnProperty(Ge))return;const Pe=ae[Ge],Ue=X+"."+Ge,Ze=at(a,Ue);(d.array.has(X)||ha(Pe)||Ze&&!Ze._f)&&!Oc(Pe)?Se(Ue,Pe,ce):ve(Ue,Pe,ce)}},B=(X,ae,ce={})=>{const Ge=at(a,X),Pe=d.array.has(X),Ue=Pa(ae);An(l,X,Ue),Pe?(S.array.next({name:X,values:Pa(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&ce.shouldDirty&&S.state.next({name:X,dirtyFields:Ed(i,l),isDirty:we(X,Ue)})):Ge&&!Ge._f&&!qr(Ue)?Se(X,Ue,ce):ve(X,Ue,ce),D4(X,d)&&S.state.next({...n,name:X}),S.state.next({name:u.mount?X:void 0,values:Pa(l)})},le=async X=>{u.mount=!0;const ae=X.target;let ce=ae.name,Ge=!0;const Pe=at(a,ce),Ue=bt=>{Ge=Number.isNaN(bt)||Oc(bt)&&isNaN(bt.getTime())||cu(bt,at(l,ce,bt))},Ze=N4(e.mode),We=N4(e.reValidateMode);if(Pe){let bt,en;const gr=ae.type?O4(Pe._f):UN(X),Ca=X.type===E4.BLUR||X.type===E4.FOCUS_OUT,pa=!FN(Pe._f)&&!e.resolver&&!at(n.errors,ce)&&!Pe._f.deps||WN(Ca,at(n.touchedFields,ce),n.isSubmitted,We,Ze),Ja=D4(ce,d,Ca);An(l,ce,gr),Ca?(!ae||!ae.readOnly)&&(Pe._f.onBlur&&Pe._f.onBlur(X),g&&g(0)):Pe._f.onChange&&Pe._f.onChange(X);const Ne=H(ce,gr,Ca),De=!Gr(Ne)||Ja;if(!Ca&&S.state.next({name:ce,type:X.type,values:Pa(l)}),pa)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?Ca&&R():Ca||R()),De&&S.state.next({name:ce,...Ja?{}:Ne});if(!Ca&&Ja&&S.state.next({...n}),e.resolver){const{errors:Wt}=await Y([ce]);if(Ue(gr),Ge){const xt=j4(n.errors,a,ce),on=j4(Wt,a,xt.name||ce);bt=on.error,ce=on.name,en=Gr(Wt)}}else O([ce],!0),bt=(await U4(Pe,d.disabled,l,E,e.shouldUseNativeValidation))[ce],O([ce]),Ue(gr),Ge&&(bt?en=!1:(v.isValid||_.isValid)&&(en=await oe(a,!0)));Ge&&(Pe._f.deps&&(!Array.isArray(Pe._f.deps)||Pe._f.deps.length>0)&&pe(Pe._f.deps),k(ce,en,bt,Ne))}},Q=(X,ae)=>{if(at(n.errors,ae)&&X.focus)return X.focus(),1},pe=async(X,ae={})=>{let ce,Ge;const Pe=D0(X);if(e.resolver){const Ue=await F(ra(X)?X:Pe);ce=Gr(Ue),Ge=X?!Pe.some(Ze=>at(Ue,Ze)):ce}else X?(Ge=(await Promise.all(Pe.map(async Ue=>{const Ze=at(a,Ue);return await oe(Ze&&Ze._f?{[Ue]:Ze}:Ze)}))).every(Boolean),!(!Ge&&!n.isValid)&&R()):Ge=ce=await oe(a);return S.state.next({...!si(X)||(v.isValid||_.isValid)&&ce!==n.isValid?{}:{name:X},...e.resolver||!X?{isValid:ce}:{},errors:n.errors}),ae.shouldFocus&&!Ge&&j0(a,Q,X?Pe:d.mount),Ge},G=(X,ae)=>{let ce={...u.mount?l:i};return ae&&(ce=SS(ae.dirtyFields?n.dirtyFields:n.touchedFields,ce)),ra(X)?ce:si(X)?at(ce,X):X.map(Ge=>at(ce,Ge))},ne=(X,ae)=>({invalid:!!at((ae||n).errors,X),isDirty:!!at((ae||n).dirtyFields,X),error:at((ae||n).errors,X),isValidating:!!at(n.validatingFields,X),isTouched:!!at((ae||n).touchedFields,X)}),Ce=X=>{X&&D0(X).forEach(ae=>ca(n.errors,ae)),S.state.next({errors:X?n.errors:{}})},Te=(X,ae,ce)=>{const Ge=(at(a,X,{_f:{}})._f||{}).ref,Pe=at(n.errors,X)||{},{ref:Ue,message:Ze,type:We,...bt}=Pe;An(n.errors,X,{...bt,...ae,ref:Ge}),S.state.next({name:X,errors:n.errors,isValid:!1}),ce&&ce.shouldFocus&&Ge&&Ge.focus&&Ge.focus()},Ye=(X,ae)=>ms(X)?S.state.subscribe({next:ce=>"values"in ce&&X(de(void 0,ae),ce)}):de(X,ae,!0),be=X=>S.state.subscribe({next:ae=>{$N(X.name,ae.name,X.exact)&&QN(ae,X.formState||v,ea,X.reRenderRoot)&&X.callback({values:{...l},...n,...ae,defaultValues:i})}}).unsubscribe,ye=X=>(u.mount=!0,_={..._,...X.formState},be({...X,formState:_})),ke=(X,ae={})=>{for(const ce of X?D0(X):d.mount)d.mount.delete(ce),d.array.delete(ce),ae.keepValue||(ca(a,ce),ca(l,ce)),!ae.keepError&&ca(n.errors,ce),!ae.keepDirty&&ca(n.dirtyFields,ce),!ae.keepTouched&&ca(n.touchedFields,ce),!ae.keepIsValidating&&ca(n.validatingFields,ce),!e.shouldUnregister&&!ae.keepDefaultValue&&ca(i,ce);S.state.next({values:Pa(l)}),S.state.next({...n,...ae.keepDirty?{isDirty:we()}:{}}),!ae.keepIsValid&&R()},Xe=({disabled:X,name:ae})=>{(il(X)&&u.mount||X||d.disabled.has(ae))&&(X?d.disabled.add(ae):d.disabled.delete(ae))},Ot=(X,ae={})=>{let ce=at(a,X);const Ge=il(ae.disabled)||il(e.disabled);return An(a,X,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:X}},name:X,mount:!0,...ae}}),d.mount.add(X),ce?Xe({disabled:il(ae.disabled)?ae.disabled:e.disabled,name:X}):P(X,!0,ae.value),{...Ge?{disabled:ae.disabled||e.disabled}:{},...e.progressive?{required:!!ae.required,min:v0(ae.min),max:v0(ae.max),minLength:v0(ae.minLength),maxLength:v0(ae.maxLength),pattern:v0(ae.pattern)}:{},name:X,onChange:le,onBlur:le,ref:Pe=>{if(Pe){Ot(X,ae),ce=at(a,X);const Ue=ra(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,Ze=VN(Ue),We=ce._f.refs||[];if(Ze?We.find(bt=>bt===Ue):Ue===ce._f.ref)return;An(a,X,{_f:{...ce._f,...Ze?{refs:[...We.filter(I1),Ue,...Array.isArray(at(i,X))?[{}]:[]],ref:{type:Ue.type,name:X}}:{ref:Ue}}}),P(X,!1,void 0,Ue)}else ce=at(a,X,{}),ce._f&&(ce._f.mount=!1),(e.shouldUnregister||ae.shouldUnregister)&&!(LN(d.array,X)&&u.action)&&d.unMount.add(X)}}},ot=()=>e.shouldFocusError&&j0(a,Q,d.mount),St=X=>{il(X)&&(S.state.next({disabled:X}),j0(a,(ae,ce)=>{const Ge=at(a,ce);Ge&&(ae.disabled=Ge._f.disabled||X,Array.isArray(Ge._f.refs)&&Ge._f.refs.forEach(Pe=>{Pe.disabled=Ge._f.disabled||X}))},0,!1))},mn=(X,ae)=>async ce=>{let Ge;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let Pe=Pa(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:Ue,values:Ze}=await Y();n.errors=Ue,Pe=Pa(Ze)}else await oe(a);if(d.disabled.size)for(const Ue of d.disabled)ca(Pe,Ue);if(ca(n.errors,"root"),Gr(n.errors)){S.state.next({errors:{}});try{await X(Pe,ce)}catch(Ue){Ge=Ue}}else ae&&await ae({...n.errors},ce),ot(),setTimeout(ot);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gr(n.errors)&&!Ge,submitCount:n.submitCount+1,errors:n.errors}),Ge)throw Ge},Nn=(X,ae={})=>{at(a,X)&&(ra(ae.defaultValue)?B(X,Pa(at(i,X))):(B(X,ae.defaultValue),An(i,X,Pa(ae.defaultValue))),ae.keepTouched||ca(n.touchedFields,X),ae.keepDirty||(ca(n.dirtyFields,X),n.isDirty=ae.defaultValue?we(X,Pa(at(i,X))):we()),ae.keepError||(ca(n.errors,X),v.isValid&&R()),S.state.next({...n}))},fn=(X,ae={})=>{const ce=X?Pa(X):i,Ge=Pa(ce),Pe=Gr(X),Ue=Pe?i:Ge;if(ae.keepDefaultValues||(i=ce),!ae.keepValues){if(ae.keepDirtyValues){const Ze=new Set([...d.mount,...Object.keys(Ed(i,l))]);for(const We of Array.from(Ze))at(n.dirtyFields,We)?An(Ue,We,at(l,We)):B(We,at(Ue,We))}else{if(z2&&ra(X))for(const Ze of d.mount){const We=at(a,Ze);if(We&&We._f){const bt=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(ev(bt)){const en=bt.closest("form");if(en){en.reset();break}}}}if(ae.keepFieldsRef)for(const Ze of d.mount)B(Ze,at(Ue,Ze));else a={}}l=e.shouldUnregister?ae.keepDefaultValues?Pa(i):{}:Pa(Ue),S.array.next({values:{...Ue}}),S.state.next({values:{...Ue}})}d={mount:ae.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,u.watch=!!e.shouldUnregister,S.state.next({submitCount:ae.keepSubmitCount?n.submitCount:0,isDirty:Pe?!1:ae.keepDirty?n.isDirty:!!(ae.keepDefaultValues&&!cu(X,i)),isSubmitted:ae.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Pe?{}:ae.keepDirtyValues?ae.keepDefaultValues&&l?Ed(i,l):n.dirtyFields:ae.keepDefaultValues&&X?Ed(i,X):ae.keepDirty?n.dirtyFields:{},touchedFields:ae.keepTouched?n.touchedFields:{},errors:ae.keepErrors?n.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ba=(X,ae)=>fn(ms(X)?X(l):X,ae),Ha=(X,ae={})=>{const ce=at(a,X),Ge=ce&&ce._f;if(Ge){const Pe=Ge.refs?Ge.refs[0]:Ge.ref;Pe.focus&&(Pe.focus(),ae.shouldSelect&&ms(Pe.select)&&Pe.select())}},ea=X=>{n={...n,...X}},Wa={control:{register:Ot,unregister:ke,getFieldState:ne,handleSubmit:mn,setError:Te,_subscribe:be,_runSchema:Y,_focusError:ot,_getWatch:de,_getDirty:we,_setValid:R,_setFieldArray:M,_setDisabledField:Xe,_setErrors:z,_getFieldArray:he,_reset:fn,_resetDefaultValues:()=>ms(e.defaultValues)&&e.defaultValues().then(X=>{Ba(X,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:_e,_disableForm:St,_subjects:S,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(X){u=X},get _defaultValues(){return i},get _names(){return d},set _names(X){d=X},get _formState(){return n},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:ye,trigger:pe,register:Ot,handleSubmit:mn,watch:Ye,setValue:B,getValues:G,reset:Ba,resetField:Nn,clearErrors:Ce,unregister:ke,setError:Te,setFocus:Ha,getFieldState:ne};return{...Wa,formControl:Wa}}function Cv(t={}){const e=$e.useRef(void 0),n=$e.useRef(void 0),[a,i]=$e.useState({isDirty:!1,isValidating:!1,isLoading:ms(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ms(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!ms(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...d}=nM(t);e.current={...d,formState:a}}const l=e.current.control;return l._options=t,GN(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(d=>({...d,isReady:!0})),l._formState.isReady=!0,u},[l]),$e.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),$e.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),$e.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),$e.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),$e.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),$e.useEffect(()=>{t.values&&!cu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,i(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),$e.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=HN(a,l),e.current}const k4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=at(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Zy=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?k4(a.ref,n,t):a&&a.refs&&a.refs.forEach(i=>k4(i,n,t))}},L4=(t,e)=>{e.shouldUseNativeValidation&&Zy(t,e);const n={};for(const a in t){const i=at(e.fields,a),l=Object.assign(t[a]||{},{ref:i&&i.ref});if(aM(e.names||Object.keys(t),a)){const u=Object.assign({},at(n,a));An(u,"root",l),An(n,a,u)}else An(n,a,l)}return n},aM=(t,e)=>{const n=P4(e);return t.some(a=>P4(a).match(`^${n}\\.\\d+`))};function P4(t){return t.replace(/\]|\[/g,"")}function B4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function rM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if("unionErrors"in a){var d=a.unionErrors[0].errors[0];n[u]={message:d.message,type:d.code}}else n[u]={message:l,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,m=g&&g[a.code];n[u]=L2(u,e,n,i,m?[].concat(m,a.message):a.message)}t.shift()}return n}function iM(t,e){for(var n={};t.length;){var a=t[0],i=a.code,l=a.message,u=a.path.join(".");if(!n[u])if(a.code==="invalid_union"&&a.errors.length>0){var d=a.errors[0][0];n[u]={message:d.message,type:d.code}}else n[u]={message:l,type:i};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var g=n[u].types,m=g&&g[a.code];n[u]=L2(u,e,n,i,m?[].concat(m,a.message):a.message)}t.shift()}return n}function Tv(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,i,l){try{return Promise.resolve(B4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(u){return l.shouldUseNativeValidation&&Zy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(d){return Array.isArray(d?.issues)})(u))return{values:{},errors:L4(rM(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,i,l){try{return Promise.resolve(B4(function(){return Promise.resolve((n.mode==="sync"?XT:KT)(t,a,e)).then(function(u){return l.shouldUseNativeValidation&&Zy({},l),{errors:{},values:n.raw?Object.assign({},a):u}})},function(u){if((function(d){return d instanceof D2})(u))return{values:{},errors:L4(iM(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}async function AS(t){const{data:e}=await kn.from("users").select("id").eq("email",t).maybeSingle();return!!e}async function sM(t){const{data:e}=await kn.from("users").select("id").eq("username",t).maybeSingle();return!!e}const lM=xv({email:vS("invalid email"),password:ii("Password Required")});function oM(){const t=hv(),{register:e,handleSubmit:n,setError:a,formState:{errors:i,isSubmitting:l}}=Cv({resolver:Tv(lM)}),u=async g=>{g.preventDefault();try{const{data:m,error:v}=await kn.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://x3nozite.github.io/rect-up/"}});if(v){console.error("cant handle oauth:",v);return}}catch(m){console.error("cant sign in with google: ",m)}},d=async g=>{try{const{email:m,password:v}=g;if(!await AS(m)){a("email",{message:"Email is not yet registered!"});return}const{error:S}=await kn.auth.signInWithPassword({email:m,password:v});if(S){alert(S.message);return}alert("login successful!"),t("/")}catch(m){a("root",{message:"Error! "+m}),alert("Error sign in!: "+m)}};return T.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[T.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>t("/"),children:[T.jsx(W3,{className:"text-lg"}),T.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),T.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[T.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),T.jsxs("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:[" ","The all in one task management app"]})]}),T.jsx("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:T.jsx("img",{src:Km,alt:"",className:"object-cover w-full h-full"})}),T.jsxs("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:[T.jsx("div",{className:"lognav flex flex-col w-full items-center justify-center",children:T.jsxs("div",{className:"my-company flex flex-col text-center  lg:flex",children:[T.jsx("span",{className:"text-3xl/12 font-bold",children:"RectUp"}),T.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})}),T.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[T.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[T.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),T.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),T.jsx("div",{className:"main-form ",children:T.jsxs("form",{className:"flex flex-col justify-between",onSubmit:n(d),children:[T.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[T.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),T.jsx("input",{...e("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),i.email&&T.jsx("div",{className:"text-red-500",children:i.email?.message})]}),T.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[T.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[T.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),T.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",children:"Forgot Password?"})]}),T.jsx("input",{...e("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs"}),i.password&&T.jsx("div",{className:"text-red-500",children:i.password?.message})]}),T.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[T.jsx("div",{className:"flex justify-center items-center w-full",children:T.jsx("button",{type:"submit",disabled:l,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:l?"Loading...":"Continue with email"})}),T.jsx("div",{className:"flex justify-center items-center w-full",children:T.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),T.jsxs("button",{onClick:u,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[T.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})})]})]}),T.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center",children:T.jsx("img",{src:Km,alt:"",className:"object-cover w-full h-full"})})]})}const uM=xv({username:ii().min(1,"Username is required"),email:vS("Email is required"),password:ii("Password is required").min(8,"Password at least 8 characters long"),confirmPassword:ii()}).superRefine(async({confirmPassword:t,password:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Password must match",path:["confirmPassword"]})});function cM(){const{register:t,handleSubmit:e,setError:n,formState:{errors:a,isSubmitting:i}}=Cv({resolver:Tv(uM),mode:"onSubmit"}),l=hv(),u=async d=>{try{const{username:g,email:m,password:v}=d,_=await AS(m),S=await sM(g);if(_){n("email",{message:"Email already exists"});return}if(S){n("username",{message:"Username already exists!"});return}const{error:E}=await kn.auth.signUp({email:m,password:v,options:{data:{username:g}}});if(E){n("root",{message:E.message}),alert("Error creating account: "+E.message);return}alert("Account created successfully, please verify email"),l("/signin")}catch(g){n("root",{message:"Error!"+g}),alert("Error creating account: "+g)}};return T.jsxs("div",{className:"main-container w-full h-screen flex flex-col lg:grid lg:grid-cols-3 items-center",children:[T.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg shadow hover:cursor-pointer",onClick:()=>l("/"),children:[T.jsx(W3,{className:"text-lg"}),T.jsx("span",{className:"font-medium text-sm",children:"Go Back"})]}),T.jsxs("div",{className:"absolute top-24 sm:top-16 left-1/2 -translate-x-1/2 z-40 flex flex-col items-center text-white text-center lg:hidden",children:[T.jsx("span",{className:"text-3xl/12 font-bold drop-shadow-lg",children:"RectUp"}),T.jsx("span",{className:"text-lg font-medium opacity-90 drop-shadow-md",children:"The all in one task management app"})]}),T.jsxs("div",{className:"image-column w-full h-[50vh] sm:h-[40vh] bg-gray-200 flex lg:hidden relative",children:[T.jsx("img",{src:Km,alt:"",className:"object-cover w-full h-full"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),T.jsx("div",{className:"form-column h-full w-full px-6 sm:px-10 lg:px-40 pb-10 lg:pb-40 pt-10 lg:pt-20 bg-white flex flex-col items-center justify-center gap-4 lg:col-span-2",children:T.jsxs("div",{className:"form-container w-full max-w-md bg-white p-5 rounded-lg",children:[T.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[T.jsx("span",{className:"text-3xl/10 font-bold",children:"Create Account"}),T.jsx("span",{className:"text-md opacity-70",children:"Join us! Enter your details below."})]}),T.jsx("div",{className:"main-form",children:T.jsxs("form",{onSubmit:e(u),className:"flex flex-col justify-between",autoComplete:"off",children:[T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Username"}),T.jsx("input",{...t("username"),type:"text",placeholder:"Your Username",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-username"}),a.username&&T.jsx("div",{className:"text-red-500",children:a.username?.message})]}),T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Email"}),T.jsx("input",{...t("email"),type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-email"}),a.email&&T.jsx("div",{className:"text-red-500",children:a.email?.message})]}),T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Password"}),T.jsx("input",{...t("password"),type:"password",placeholder:"Your Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-password"}),a.password&&T.jsx("div",{className:"text-red-500",children:a.password?.message})]}),T.jsxs("div",{className:"mb-6 flex flex-col gap-y-2",children:[T.jsx("label",{className:"font-bold",children:"Confirm Password"}),T.jsx("input",{...t("confirmPassword"),type:"password",placeholder:"Re-enter Password",className:"border border-gray-300 rounded-lg p-2 shadow-xs",autoComplete:"new-confirmPassword"}),a.confirmPassword&&T.jsx("div",{className:"text-red-500",children:a.confirmPassword?.message})]}),T.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[T.jsx("button",{type:"submit",disabled:i,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:bg-blue-700",children:i?"Loading...":"Create Account"}),T.jsx("button",{onClick:()=>l("/signin"),className:"w-full px-5 py-2 rounded-lg border font-medium hover:bg-gray-100",children:"Already have an account?"})]}),a.root&&T.jsx("div",{className:"text-red-500",children:a.root.message})]})})]})}),T.jsx("div",{className:"image-column bg-gray-200 h-full hidden lg:flex justify-center items-center relative",children:T.jsx("img",{src:Km,alt:"",className:"object-cover w-full h-full"})})]})}const fM=Math.PI/180;function dM(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Nc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ve={_global:Nc,version:"10.0.2",isBrowser:dM(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ve.angleDeg?t*fM:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ve.DD.isDragging},isTransforming(){var t,e;return(e=(t=Ve.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Ve.DD.node},releaseCanvasOnDestroy:!0,document:Nc.document,_injectGlobal(t){typeof Nc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Nc.Konva=t}},Xn=t=>{Ve[t.prototype.getClassName()]=t};Ve._injectGlobal(Ve);const hM=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,H4=()=>{if(typeof document>"u")throw new Error(hM)};class li{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new li(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,u=this.m[0]*-a+this.m[2]*n,d=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=l,this.m[2]=u,this.m[3]=d,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,u=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=l,this.m[3]=u,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],u=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],d=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=d,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,l=this.m[0]*e,u=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),d=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=l,this.m[4]=u,this.m[5]=d,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],l=this.m[4],u=this.m[5],d=e*i-n*a,g={x:l,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const m=Math.sqrt(e*e+n*n);g.rotation=n>0?Math.acos(e/m):-Math.acos(e/m),g.scaleX=m,g.scaleY=d/m,g.skewX=(e*a+n*i)/d,g.skewY=0}else if(a!=0||i!=0){const m=Math.sqrt(a*a+i*i);g.rotation=Math.PI/2-(i>0?Math.acos(-a/m):-Math.acos(a/m)),g.scaleX=d/m,g.scaleY=m,g.skewX=0,g.skewY=(e*a+n*i)/d}return g.rotation=te._getRotation(g.rotation),g}}const gM="[object Array]",pM="[object Number]",mM="[object String]",vM="[object Boolean]",yM=Math.PI/180,bM=180/Math.PI,X1="#",_M="",SM="0",wM="Konva warning: ",G4="Konva error: ",xM="rgb(",K1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},EM=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let em=[];const CM=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},te={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===gM},_isNumber(t){return Object.prototype.toString.call(t)===pM&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===mM},_isBoolean(t){return Object.prototype.toString.call(t)===vM},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){em.push(t),em.length===1&&CM(function(){const e=em;em=[],e.forEach(function(n){n()})})},createCanvasElement(){H4();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return H4(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=te.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(X1,_M);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=SM+t;return X1+t},getRGB(t){let e;return t in K1?(e=K1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===X1?this._hexToRgb(t.substring(1)):t.substr(0,4)===xM?(e=EM.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",te._namedColorToRBA(t)||te._hex3ColorToRGBA(t)||te._hex4ColorToRGBA(t)||te._hex6ColorToRGBA(t)||te._hex8ColorToRGBA(t)||te._rgbColorToRGBA(t)||te._rgbaColorToRGBA(t)||te._hslColorToRGBA(t)},_namedColorToRBA(t){const e=K1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,l=Number(n[2])/100;let u,d,g;if(i===0)return g=l*255,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};l<.5?u=l*(1+i):u=l+i-l*i;const m=2*l-u,v=[0,0,0];for(let _=0;_<3;_++)d=a+1/3*-(_-1),d<0&&d++,d>1&&d--,6*d<1?g=m+(u-m)*6*d:2*d<1?g=u:3*d<2?g=m+(u-m)*(2/3-d)*6:g=m,v[_]=g*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*yM},radToDeg(t){return t*bM},_degToRad(t){return te.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),te.degToRad(t)},_radToDeg(t){return te.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),te.radToDeg(t)},_getRotation(t){return Ve.angleDeg?te.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(G4+t)},error(t){console.error(G4+t)},warn(t){Ve.showWarnings&&console.warn(wM+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,l){let u,d,g;const m=(t-n)*(t-n)+(e-a)*(e-a);if(m==0)u=t,d=e,g=(i-n)*(i-n)+(l-a)*(l-a);else{const v=((i-t)*(n-t)+(l-e)*(a-e))/m;v<0?(u=t,d=e,g=(t-i)*(t-i)+(e-l)*(e-l)):v>1?(u=n,d=a,g=(n-i)*(n-i)+(a-l)*(a-l)):(u=t+v*(n-t),d=e+v*(a-e),g=(u-i)*(u-i)+(d-l)*(d-l))}return[u,d,g]},_getProjectionToLine(t,e,n){const a=te.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(l,u){if(!n&&u===e.length-1)return;const d=e[(u+1)%e.length],g=te._getProjectionToSegment(l.x,l.y,d.x,d.y,t.x,t.y),m=g[0],v=g[1],_=g[2];_<i&&(a.x=m,a.y=v,i=_)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const u=e;e=t,t=u}for(let u=0;u<t.length;u+=2)a.push({x:t[u],y:t[u+1]});for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const l=[];return i.forEach(function(u){const d=te._getProjectionToLine(u,a,n);l.push(d.x),l.push(d.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||te._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(te._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Ve.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let u=0,d=0,g=0,m=0;typeof a=="number"?u=d=g=m=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),d=Math.min(a[1]||0,e/2,n/2),m=Math.min(a[2]||0,e/2,n/2),g=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+u,l),t.lineTo(i+e-d,l),t.arc(i+e-d,l+d,d,Math.PI*3/2,0,!1),t.lineTo(i+e,l+n-m),t.arc(i+e-m,l+n-m,m,0,Math.PI/2,!1),t.lineTo(i+g,l+n),t.arc(i+g,l+n-g,g,Math.PI/2,Math.PI,!1),t.lineTo(i,l+u),t.arc(i+u,l+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let l=0;l<n;l++){const u=e[(l-1+n)%n],d=e[l],g=e[(l+1)%n],m={x:d.x-u.x,y:d.y-u.y},v={x:g.x-d.x,y:g.y-d.y},_=Math.hypot(m.x,m.y),S=Math.hypot(v.x,v.y);let E;typeof i=="number"?E=i:E=l<i.length?i[l]:0,E=a*Math.cos(Math.PI/n)*Math.min(1,E/a*2);const R={x:m.x/_,y:m.y/_},O={x:v.x/S,y:v.y/S},M={x:d.x-R.x*E,y:d.y-R.y*E},j={x:d.x+O.x*E,y:d.y+O.y*E};l===0?t.moveTo(M.x,M.y):t.lineTo(M.x,M.y),t.arcTo(d.x,d.y,j.x,j.y,E)}}};function TM(t){const e=[],n=t.length,a=te;for(let i=0;i<n;i++){let l=t[i];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const q4=",",AM="(",RM=")",OM="([",NM="])",MM=";",DM="()",jM="=",V4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],zM=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],UM=100;let tm=null;function Y4(){if(tm!==null)return tm;try{const e=te.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(tm=!1,!1)}catch{return tm=!1,!1}}class Av{constructor(e){this.canvas=e,Ve.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,l="",u,d,g,m;for(u=0;u<i;u++)d=a[u],g=d.method,g?(m=d.args,l+=g,e?l+=DM:te._isArray(m[0])?l+=OM+m.join(q4)+NM:(n&&(m=m.map(v=>typeof v=="number"?Math.floor(v):v)),l+=AM+m.join(q4)+RM)):(l+=d.property,e||(l+=jM+d.val)),l+=MM;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=UM&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,l,u){this._context.arc(e,n,a,i,l,u)}arcTo(e,n,a,i,l){this._context.arcTo(e,n,a,i,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,l,u){this._context.bezierCurveTo(e,n,a,i,l,u)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,l,u){return this._context.createRadialGradient(e,n,a,i,l,u)}drawImage(e,n,a,i,l,u,d,g,m){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,i,l):v.length===9&&_.drawImage(e,n,a,i,l,u,d,g,m)}ellipse(e,n,a,i,l,u,d,g){this._context.ellipse(e,n,a,i,l,u,d,g)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,l){this._context.roundRect(e,n,a,i,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,l,u){this._context.setTransform(e,n,a,i,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,l,u){this._context.transform(e,n,a,i,l,u)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=V4.length,a=this.setAttr,i,l;const u=function(d){let g=e[d],m;e[d]=function(){return l=TM(Array.prototype.slice.call(arguments,0)),m=g.apply(e,arguments),e._trace({method:d,args:l}),m}};for(i=0;i<n;i++)u(V4[i]);e.setAttr=function(){a.apply(e,arguments);const d=arguments[0];let g=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:d,val:g})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}zM.forEach(function(t){Object.defineProperty(Av.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class kM extends Av{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let u=0;u<i.length;u+=2)l.addColorStop(i[u],i[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,d=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},g=e.getAbsoluteScale(),m=this.canvas.getPixelRatio(),v=g.x*m,_=g.y*m;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",d.x*v),this.setAttr("shadowOffsetY",d.y*_)}}class LM extends Av{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let nm;function PM(){if(nm)return nm;const t=te.createCanvasElement(),e=t.getContext("2d");return nm=(function(){const n=Ve._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),te.releaseCanvas(t),nm}class H2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||Ve.pixelRatio||PM();this.pixelRatio=a,this._canvas=te.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return te.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class fu extends H2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new kM(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function Z4(){const t=te.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function I4(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let X4=!1;function BM(){return I4()&&Z4()&&!X4&&(X4=!0,te.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),I4()&&Z4()}class G2 extends H2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new LM(this),this.setSize(e.width,e.height),BM()}}const cn={get isDragging(){let t=!1;return cn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return cn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];cn._dragElements.forEach((n,a)=>{const{node:i}=n,l=i.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=te._getFirstPointerId(t));const u=l._changedPointerPositions.find(d=>d.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const d=i.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<d||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];cn._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(d=>d.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(cn.justDragged=!0,Ve._mouseListenClick=!1,Ve._touchListenClick=!1,Ve._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof Ve.Stage&&n.node;u&&e.indexOf(u)===-1&&e.push(u)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){cn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&cn._dragElements.delete(n)})}};Ve.isBrowser&&(window.addEventListener("mouseup",cn._endDragBefore,!0),window.addEventListener("touchend",cn._endDragBefore,!0),window.addEventListener("touchcancel",cn._endDragBefore,!0),window.addEventListener("mousemove",cn._drag),window.addEventListener("touchmove",cn._drag),window.addEventListener("mouseup",cn._endDragAfter,!1),window.addEventListener("touchend",cn._endDragAfter,!1),window.addEventListener("touchcancel",cn._endDragAfter,!1));function yu(t){return te._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||te._isBoolean(t)?t:Object.prototype.toString.call(t)}function RS(t){return t>255?255:t<0?0:Math.round(t)}function He(){if(Ve.isUnminified)return function(t,e){return te._isNumber(t)||te.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Rv(t){if(Ve.isUnminified)return function(e,n){let a=te._isNumber(e),i=te._isArray(e)&&e.length==t;return!a&&!i&&te.warn(yu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function q2(){if(Ve.isUnminified)return function(t,e){return te._isNumber(t)||t==="auto"||te.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Hc(){if(Ve.isUnminified)return function(t,e){return te._isString(t)||te.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function OS(){if(Ve.isUnminified)return function(t,e){const n=te._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||te.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function HM(){if(Ve.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(te._isArray(t)?t.forEach(function(a){te._isNumber(a)||te.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):te.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function bs(){if(Ve.isUnminified)return function(t,e){return t===!0||t===!1||te.warn(yu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function GM(t){if(Ve.isUnminified)return function(e,n){return e==null||te.isObject(e)||te.warn(yu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const y0="get",b0="set",q={addGetterSetter(t,e,n,a,i){q.addGetter(t,e,n),q.addSetter(t,e,a,i),q.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=y0+te._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=b0+te._capitalize(e);t.prototype[i]||q.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=b0+te._capitalize(e);t.prototype[i]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const l=n.length,u=te._capitalize,d=y0+u(e),g=b0+u(e);t.prototype[d]=function(){const v={};for(let _=0;_<l;_++){const S=n[_];v[S]=this.getAttr(e+u(S))}return v};const m=GM(n);t.prototype[g]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),m&&m.call(this,v,e);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(e+u(S),v[S]);return v||n.forEach(S=>{this._setAttr(e+u(S),void 0)}),this._fireChangeEvent(e,_,v),i&&i.call(this),this},q.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=te._capitalize(e),a=b0+n,i=y0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){te.error("Adding deprecated "+e);const i=y0+te._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){te.error(l);const u=this.attrs[e];return u===void 0?n:u},q.addSetter(t,e,a,function(){te.error(l)}),q.addOverloadedGetterSetter(t,e)},backCompat(t,e){te.each(e,function(n,a){const i=t.prototype[a],l=y0+te._capitalize(n),u=b0+te._capitalize(n);function d(){i.apply(this,arguments),te.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=d,t.prototype[l]=d,t.prototype[u]=d})},afterSetFilter(){this._filterUpToDate=!1}};function qM(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const l=parseFloat(i.replace("px",""));return function(u){this.blurRadius(l*.5);const d=Ve.Filters;d&&d.Blur&&d.Blur.call(this,u)}}case"brightness":{const l=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(u){this.brightness(l);const d=Ve.Filters;d&&d.Brightness&&d.Brightness.call(this,u)}}case"contrast":{const l=parseFloat(i);return function(u){const d=100*(Math.sqrt(l)-1);this.contrast(d);const g=Ve.Filters;g&&g.Contrast&&g.Contrast.call(this,u)}}case"grayscale":return function(l){const u=Ve.Filters;u&&u.Grayscale&&u.Grayscale.call(this,l)};case"sepia":return function(l){const u=Ve.Filters;u&&u.Sepia&&u.Sepia.call(this,l)};case"invert":return function(l){const u=Ve.Filters;u&&u.Invert&&u.Invert.call(this,l)};default:te.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const km="absoluteOpacity",am="allEventListeners",Wl="absoluteTransform",K4="absoluteScale",wc="canvas",VM="Change",YM="children",ZM="konva",Iy="listening",IM="mouseenter",XM="mouseleave",KM="pointerenter",FM="pointerleave",QM="touchenter",$M="touchleave",F4="set",Q4="Shape",Lm=" ",$4="stage",ru="transform",WM="Stage",Xy="visible",JM=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Lm);let eD=1,qe=class Ky{constructor(e){this._id=eD++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ru||e===Wl)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===ru||e===Wl)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(l=>l+"Change.konva").join(Lm);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(wc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Wl&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(wc)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(wc);te.releaseCanvas(e,n,a,i),this._cache.delete(wc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),u=n.pixelRatio,d=n.x===void 0?Math.floor(a.x):n.x,g=n.y===void 0?Math.floor(a.y):n.y,m=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!i||!l){te.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(a.x)-d)>.5?1:0,E=Math.abs(Math.round(a.y)-g)>.5?1:0;i+=m*2+S,l+=m*2+E,d-=m,g-=m;const C=new fu({pixelRatio:u,width:i,height:l}),R=new fu({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),O=new G2({pixelRatio:_,width:i,height:l}),M=C.getContext(),j=O.getContext(),z=new fu({width:C.width/C.pixelRatio+Math.abs(d),height:C.height/C.pixelRatio+Math.abs(g),pixelRatio:C.pixelRatio}),P=z.getContext();return O.isCache=!0,C.isCache=!0,this._cache.delete(wc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(C.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),M.save(),j.save(),P.save(),M.translate(-d,-g),j.translate(-d,-g),P.translate(-d,-g),z.x=d,z.y=g,this._isUnderCache=!0,this._clearSelfAndDescendantCache(km),this._clearSelfAndDescendantCache(K4),this.drawScene(C,this,z),this.drawHit(O,this),this._isUnderCache=!1,M.restore(),j.restore(),v&&(M.save(),M.beginPath(),M.rect(0,0,i,l),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),this._cache.set(wc,{scene:C,filter:R,hit:O,buffer:z,x:d,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(wc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,l=1/0,u=-1/0,d=-1/0;const g=this.getAbsoluteTransform(n);return a.forEach(function(m){const v=g.point(m);i===void 0&&(i=u=v.x,l=d=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),d=Math.max(d,v.y)}),{x:i,y:l,width:u-i,height:d-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,l=i.getContext(),u,d,g,m;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let v=!0;for(let S=0;S<e.length;S++)if(typeof e[S]=="string"&&Y4(),typeof e[S]!="string"||!Y4()){v=!1;break}const _=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const S=e.join(" ");return l.save(),l.setAttr("filter",S),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,i}try{for(u=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),d=l.getImageData(0,0,i.getWidth(),i.getHeight()),g=0;g<u;g++)m=e[g],typeof m=="string"&&(m=qM(m)),m.call(this,d),l.putImageData(d,0,0)}catch(S){te.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(am),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(Lm);for(let i=0;i<a.length;i++){const u=a[i].split("."),d=u[0],g=u[1]||"";this.eventListeners[d]||(this.eventListeners[d]=[]),this.eventListeners[d].push({name:g,handler:n})}return this}off(e,n){let a=(e||"").split(Lm),i=a.length,l,u,d,g,m,v;if(this._cache&&this._cache.delete(am),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<i;l++)if(d=a[l],g=d.split("."),m=g[0],v=g[1],m)this.eventListeners[m]&&this._off(m,v,n);else for(u in this.eventListeners)this._off(u,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(l){const u=l.target.findAncestors(n,!0,i);for(let d=0;d<u.length;d++)l=te.cloneObject(l),l.currentTarget=u[d],a.call(u[d],l)})}remove(){return this.isDragging()&&this.stopDrag(),cn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Wl),this._clearSelfAndDescendantCache(km),this._clearSelfAndDescendantCache(K4),this._clearSelfAndDescendantCache($4),this._clearSelfAndDescendantCache(Xy),this._clearSelfAndDescendantCache(Iy)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+te._capitalize(e);return te._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==YM&&(a=F4+te._capitalize(n),te._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Iy,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(Xy,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;cn._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===a)&&(i=!0)});const l=!n&&!Ve.hitOnDragEnabled&&(i||Ve.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,l,u,d;function g(v){for(i=[],l=v.length,u=0;u<l;u++)d=v[u],a++,d.nodeType!==Q4&&(i=i.concat(d.getChildren().slice())),d._id===n._id&&(u=l);i.length>0&&i[0].getDepth()<=e&&g(i)}const m=this.getStage();return n.nodeType!==WM&&m&&g(m.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ru),this._clearSelfAndDescendantCache(Wl)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),l=new li,u=this.offset();return l.m=i.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(ru);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(ru),this._clearSelfAndDescendantCache(Wl),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),l=this.y();return n!==void 0&&(i+=n),a!==void 0&&(l+=a),this.setPosition({x:i,y:l}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),l,u;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(l=a.length,u=0;u<l;u++)e(a[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return te.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return te.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return te.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return te.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return te.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&te.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(km,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,l,u;const d={attrs:{},className:this.getClassName()};for(n in e)a=e[n],u=te.isObject(a)&&!te._isPlainObject(a)&&!te._isArray(a),!u&&(i=typeof this[n]=="function"&&this[n],delete e[n],l=i?i.call(this):null,e[n]=a,l!==a&&(d.attrs[n]=a));return te._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let l=this.parent;for(;l;){if(l===a)return i;l._isMatch(e)&&i.push(l),l=l.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,l;for(i=0;i<a;i++)if(l=n[i],te.isValidSelector(l)||(te.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),te.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),te.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache($4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Wl,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new li,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(Wl)||new li,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;n.translate(i-u,l-d)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ru,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(ru)||new li;a.reset();const i=this.x(),l=this.y(),u=Ve.getAngle(this.rotation()),d=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,m=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(i!==0||l!==0)&&a.translate(i,l),u!==0&&a.rotate(u),(m!==0||v!==0)&&a.skew(m,v),(d!==1||g!==1)&&a.scale(d,g),(_!==0||S!==0)&&a.translate(-1*_,-1*S),a.dirty=!1,a}clone(e){let n=te.cloneObject(this.attrs),a,i,l,u,d;for(a in e)n[a]=e[a];const g=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],l=i.length,u=0;u<l;u++)d=i[u],d.name.indexOf(ZM)<0&&(g.eventListeners[a]||(g.eventListeners[a]=[]),g.eventListeners[a].push(d));return g}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),u=e.pixelRatio||1,d=new fu({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:u}),g=d.getContext(),m=new fu({width:d.width/d.pixelRatio+Math.abs(i),height:d.height/d.pixelRatio+Math.abs(l),pixelRatio:d.pixelRatio});return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(i||l)&&g.translate(-1*i,-1*l),this.drawScene(d,void 0,m),g.restore(),d}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,te._urlToImage(this.toDataURL(e),function(l){n(l),i?.(l)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),i?.(l)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ve.dragDistance}_off(e,n,a){let i=this.eventListeners[e],l,u,d;for(l=0;l<i.length;l++)if(u=i[l].name,d=i[l].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!a||a===d)){if(i.splice(l,1),i.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+VM,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[F4+te._capitalize(e)];return te._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ve.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!te.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===Q4&&(n.target=this);const i=[IM,XM,KM,FM,QM,$M];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const u=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const l=(n=this._cache.get(am))!==null&&n!==void 0?n:{};let u=l?.[e];if(u===void 0){u=[];let d=Object.getPrototypeOf(this);for(;d;){const g=(i=(a=d.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];u.push(...g),d=Object.getPrototypeOf(d)}l[e]=u,this._cache.set(am,l)}return u}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let l=0;l<i.length;l++)i[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||i;cn._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-i.x,y:l.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){cn._dragElements.has(this._id)||this._createDragElement(e);const a=cn._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,i,e);u?i=u:te.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=cn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),cn._endDragBefore(e),cn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=cn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ve.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;cn._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=cn._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&cn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return te.haveIntersection(a,this.getClientRect())}static create(e,n){return te._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=Ky.prototype.getClassName.call(e),i=e.children,l,u,d;n&&(e.attrs.container=n),Ve[a]||(te.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const g=Ve[a];if(l=new g(e.attrs),i)for(u=i.length,d=0;d<u;d++)l.add(Ky._createNode(i[d]));return l}};qe.prototype.nodeType="Node";qe.prototype._attrsAffectingSize=[];qe.prototype.eventListeners={};qe.prototype.on.call(qe.prototype,JM,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ru),this._clearSelfAndDescendantCache(Wl)});qe.prototype.on.call(qe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Xy)});qe.prototype.on.call(qe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Iy)});qe.prototype.on.call(qe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(km)});const On=q.addGetterSetter;On(qe,"zIndex");On(qe,"absolutePosition");On(qe,"position");On(qe,"x",0,He());On(qe,"y",0,He());On(qe,"globalCompositeOperation","source-over",Hc());On(qe,"opacity",1,He());On(qe,"name","",Hc());On(qe,"id","",Hc());On(qe,"rotation",0,He());q.addComponentsGetterSetter(qe,"scale",["x","y"]);On(qe,"scaleX",1,He());On(qe,"scaleY",1,He());q.addComponentsGetterSetter(qe,"skew",["x","y"]);On(qe,"skewX",0,He());On(qe,"skewY",0,He());q.addComponentsGetterSetter(qe,"offset",["x","y"]);On(qe,"offsetX",0,He());On(qe,"offsetY",0,He());On(qe,"dragDistance",void 0,He());On(qe,"width",0,He());On(qe,"height",0,He());On(qe,"listening",!0,bs());On(qe,"preventDefault",!0,bs());On(qe,"filters",void 0,function(t){return this._filterUpToDate=!1,t});On(qe,"visible",!0,bs());On(qe,"transformsEnabled","all",Hc());On(qe,"size");On(qe,"dragBoundFunc");On(qe,"draggable",!1,bs());q.backCompat(qe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class oi extends qe{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const l=i._isMatch(e);return l&&a.push(i),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=qe.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=qe.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas(),u=l&&l.getContext(),d=this._getCanvasCache(),g=d&&d.scene,m=l&&l.isCache;if(!this.isVisible()&&!m)return this;if(g){u.save();const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,l=i&&i.getContext(),u=this._getCanvasCache();if(u&&u.hit){l.save();const g=this.getAbsoluteTransform(n).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var l;const u=n&&n.getContext(),d=this.clipWidth(),g=this.clipHeight(),m=this.clipFunc(),v=typeof d=="number"&&typeof g=="number"||m,_=a===this;if(v){u.save();const E=this.getAbsoluteTransform(a);let C=E.getMatrix();u.transform(C[0],C[1],C[2],C[3],C[4],C[5]),u.beginPath();let R;if(m)R=m.call(this,u,this);else{const O=this.clipX(),M=this.clipY();u.rect(O||0,M||0,d,g)}u.clip.apply(u,R),C=E.copy().invert().getMatrix(),u.transform(C[0],C[1],C[2],C[3],C[4],C[5])}const S=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(E){E[e](n,a,i)}),S&&u.restore(),v&&u.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let l,u,d,g,m={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(E){if(!E.visible())return;const C=E.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});C.width===0&&C.height===0||(l===void 0?(l=C.x,u=C.y,d=C.x+C.width,g=C.y+C.height):(l=Math.min(l,C.x),u=Math.min(u,C.y),d=Math.max(d,C.x+C.width),g=Math.max(g,C.y+C.height)))});const _=this.find("Shape");let S=!1;for(let E=0;E<_.length;E++)if(_[E]._isVisible(this)){S=!0;break}return S&&l!==void 0?m={x:l,y:u,width:d-l,height:g-u}:m={x:0,y:0,width:0,height:0},a?m:this._transformedRect(m,i)}}q.addComponentsGetterSetter(oi,"clip",["x","y","width","height"]);q.addGetterSetter(oi,"clipX",void 0,He());q.addGetterSetter(oi,"clipY",void 0,He());q.addGetterSetter(oi,"clipWidth",void 0,He());q.addGetterSetter(oi,"clipHeight",void 0,He());q.addGetterSetter(oi,"clipFunc");const Z0=new Map,NS=Ve._global.PointerEvent!==void 0;function F1(t){return Z0.get(t)}function V2(t){return{evt:t,pointerId:t.pointerId}}function MS(t,e){return Z0.get(t)===e}function DS(t,e){z0(t),e.getStage()&&(Z0.set(t,e),NS&&e._fire("gotpointercapture",V2(new PointerEvent("gotpointercapture"))))}function z0(t,e){const n=Z0.get(t);if(!n)return;const a=n.getStage();a&&a.content,Z0.delete(t),NS&&n._fire("lostpointercapture",V2(new PointerEvent("lostpointercapture")))}const tD="Stage",nD="string",W4="px",aD="mouseout",jS="mouseleave",zS="mouseover",US="mouseenter",kS="mousemove",LS="mousedown",PS="mouseup",x0="pointermove",E0="pointerdown",Ad="pointerup",C0="pointercancel",rD="lostpointercapture",rm="pointerout",T0="pointerleave",im="pointerover",sm="pointerenter",Fy="contextmenu",BS="touchstart",HS="touchend",GS="touchmove",qS="touchcancel",Qy="wheel",iD=5,sD=[[US,"_pointerenter"],[LS,"_pointerdown"],[kS,"_pointermove"],[PS,"_pointerup"],[jS,"_pointerleave"],[BS,"_pointerdown"],[GS,"_pointermove"],[HS,"_pointerup"],[qS,"_pointercancel"],[zS,"_pointerover"],[Qy,"_wheel"],[Fy,"_contextmenu"],[E0,"_pointerdown"],[x0,"_pointermove"],[Ad,"_pointerup"],[C0,"_pointercancel"],[T0,"_pointerleave"],[rD,"_lostpointercapture"]],Q1={mouse:{[rm]:aD,[T0]:jS,[im]:zS,[sm]:US,[x0]:kS,[E0]:LS,[Ad]:PS,[C0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[rm]:"touchout",[T0]:"touchleave",[im]:"touchover",[sm]:"touchenter",[x0]:GS,[E0]:BS,[Ad]:HS,[C0]:qS,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[rm]:rm,[T0]:T0,[im]:im,[sm]:sm,[x0]:x0,[E0]:E0,[Ad]:Ad,[C0]:C0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},A0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",pd=t=>{const e=A0(t);if(e==="pointer")return Ve.pointerEventsEnabled&&Q1.pointer;if(e==="touch")return Q1.touch;if(e==="mouse")return Q1.mouse};function J4(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&te.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const lD="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",U0=[];let Ov=class extends oi{constructor(e){super(J4(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),U0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{J4(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||te.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===nD){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),oi.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&te._isInDocument(e)&&this.container().removeChild(e);const n=U0.indexOf(this);return n>-1&&U0.splice(n,1),te.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(te.warn(lD),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new fu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(l){if(!l.isVisible())return;const u=l._toKonvaCanvas(e);a.drawImage(u._canvas,e.x,e.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let l=i;l>=0;l--){const u=n[l].getIntersection(e);if(u)return u}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+W4,this.content.style.height=n+W4),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>iD&&te.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Ve.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return MS(e,this)}setPointerCapture(e){DS(e,this)}releaseCapture(e){z0(e)}getLayers(){return this.children}_bindContentEvents(){Ve.isBrowser&&sD.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=pd(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=pd(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=pd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),l=!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled;i&&l?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=pd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(l=>{const u=this.getIntersection(l);if(cn.justDragged=!1,Ve["_"+a+"ListenClick"]=!0,!u||!u.isListening()){this[a+"ClickStartShape"]=void 0;return}Ve.capturePointerEventsEnabled&&u.setPointerCapture(l.id),this[a+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),i=!0;const d=e.type.indexOf("touch")>=0;u.preventDefault()&&e.cancelable&&d&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=pd(e.type),a=A0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Ve.isDragging()&&cn.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled))return;const u={};let d=!1;const g=this._getTargetShape(a);this._changedPointerPositions.forEach(m=>{const v=F1(m.id)||this.getIntersection(m),_=m.id,S={evt:e,pointerId:_},E=g!==v;if(E&&g&&(g._fireAndBubble(n.pointerout,{...S},v),g._fireAndBubble(n.pointerleave,{...S},v)),v){if(u[v._id])return;u[v._id]=!0}v&&v.isListening()?(d=!0,E&&(v._fireAndBubble(n.pointerover,{...S},g),v._fireAndBubble(n.pointerenter,{...S},g),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...S})):g&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),d||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=pd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],u={};let d=!1;this._changedPointerPositions.forEach(g=>{const m=F1(g.id)||this.getIntersection(g);if(m){if(m.releaseCapture(g.id),u[m._id])return;u[m._id]=!0}const v=g.id,_={evt:e,pointerId:v};let S=!1;Ve["_"+a+"InDblClickWindow"]?(S=!0,clearTimeout(this[a+"DblTimeout"])):cn.justDragged||(Ve["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Ve["_"+a+"InDblClickWindow"]=!1},Ve.dblClickWindow),m&&m.isListening()?(d=!0,this[a+"ClickEndShape"]=m,m._fireAndBubble(n.pointerup,{..._}),Ve["_"+a+"ListenClick"]&&i&&i===m&&(m._fireAndBubble(n.pointerclick,{..._}),S&&l&&l===m&&m._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,d||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d=!0),Ve["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),S&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),d||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ve["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Fy,{evt:e}):this._fire(Fy,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Qy,{evt:e}):this._fire(Qy,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=F1(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Ad,V2(e)),z0(e.pointerId)}_lostpointercapture(e){z0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:te._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:te._getFirstPointerId(e)}])}_setPointerPosition(e){te.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new fu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new G2({pixelRatio:1,width:this.width(),height:this.height()}),!Ve.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return te.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Ov.prototype.nodeType=tD;Xn(Ov);q.addGetterSetter(Ov,"container");Ve.isBrowser&&document.addEventListener("visibilitychange",()=>{U0.forEach(t=>{t.batchDraw()})});const VS="hasShadow",YS="shadowRGBA",ZS="patternImage",IS="linearGradient",XS="radialGradient";let lm;function $1(){return lm||(lm=te.createCanvasElement().getContext("2d"),lm)}const k0={};function oD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function uD(t){t.stroke()}function cD(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function fD(t){t.stroke()}function dD(){this._clearCache(VS)}function hD(){this._clearCache(YS)}function gD(){this._clearCache(ZS)}function pD(){this._clearCache(IS)}function mD(){this._clearCache(XS)}class ze extends qe{constructor(e){super(e);let n;for(;n=te.getRandomColor(),!(n&&!(n in k0)););this.colorKey=n,k0[n]=this}getContext(){return te.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return te.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(VS,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(ZS,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=$1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new li;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Ve.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(IS,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=$1(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}_getRadialGradient(){return this._getCache(XS,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=$1(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let u=0;u<e.length;u+=2)l.addColorStop(e[u],e[u+1]);return l}}getShadowRGBA(){return this._getCache(YS,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=te.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return qe.prototype.destroy.call(this),delete k0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),l=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(i&&l&&u)return!0;const d=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(i&&l&&d&&g)}setStrokeHitEnabled(e){te.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),g=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,m=u.width+g,v=u.height+g,_=!e.skipShadow&&this.hasShadow(),S=_?this.shadowOffsetX():0,E=_?this.shadowOffsetY():0,C=m+Math.abs(S),R=v+Math.abs(E),O=_&&this.shadowBlur()||0,M=C+O*2,j=R+O*2,z={width:M,height:j,x:-(g/2+O)+Math.min(S,0)+u.x,y:-(g/2+O)+Math.min(E,0)+u.y};return i?z:this._transformedRect(z,l)}drawScene(e,n,a){const i=this.getLayer(),l=e||i.getCanvas(),u=l.getContext(),d=this._getCanvasCache(),g=this.getSceneFunc(),m=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(d){u.save();const S=this.getAbsoluteTransform(n).getMatrix();return u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!g)return this;if(u.save(),this._useBufferCanvas()){v=this.getStage();const S=a||v.bufferCanvas,E=S.getContext();E.clear(),E.save(),E._applyLineJoin(this),E._applyMiterLimit(this);const C=this.getAbsoluteTransform(n).getMatrix();E.transform(C[0],C[1],C[2],C[3],C[4],C[5]),g.call(this,E,this),E.restore();const R=S.pixelRatio;m&&u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(S._canvas,S.x||0,S.y||0,S.width/R,S.height/R)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!_){const S=this.getAbsoluteTransform(n).getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}m&&u._applyShadow(this),g.call(this,u,this)}return u.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),l=e||i.hitCanvas,u=l&&l.getContext(),d=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),m=g&&g.hit;if(this.colorKey||te.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),m){u.save();const _=this.getAbsoluteTransform(n).getMatrix();return u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!d)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return d.call(this,u,this),u.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,l=i.getContext(),u=i.getWidth(),d=i.getHeight();l.clear(),l.drawImage(a._canvas,0,0,u,d);try{const g=l.getImageData(0,0,u,d),m=g.data,v=m.length,_=te._hexToRgb(this.colorKey);for(let S=0;S<v;S+=4)m[S+3]>e?(m[S]=_.r,m[S+1]=_.g,m[S+2]=_.b,m[S+3]=255):m[S+3]=0;l.putImageData(g,0,0)}catch(g){te.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return MS(e,this)}setPointerCapture(e){DS(e,this)}releaseCapture(e){z0(e)}}ze.prototype._fillFunc=oD;ze.prototype._strokeFunc=uD;ze.prototype._fillFuncHit=cD;ze.prototype._strokeFuncHit=fD;ze.prototype._centroid=!1;ze.prototype.nodeType="Shape";Xn(ze);ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",dD);ze.prototype.on.call(ze.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",hD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",gD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",pD);ze.prototype.on.call(ze.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",mD);q.addGetterSetter(ze,"stroke",void 0,OS());q.addGetterSetter(ze,"strokeWidth",2,He());q.addGetterSetter(ze,"fillAfterStrokeEnabled",!1);q.addGetterSetter(ze,"hitStrokeWidth","auto",q2());q.addGetterSetter(ze,"strokeHitEnabled",!0,bs());q.addGetterSetter(ze,"perfectDrawEnabled",!0,bs());q.addGetterSetter(ze,"shadowForStrokeEnabled",!0,bs());q.addGetterSetter(ze,"lineJoin");q.addGetterSetter(ze,"lineCap");q.addGetterSetter(ze,"miterLimit");q.addGetterSetter(ze,"sceneFunc");q.addGetterSetter(ze,"hitFunc");q.addGetterSetter(ze,"dash");q.addGetterSetter(ze,"dashOffset",0,He());q.addGetterSetter(ze,"shadowColor",void 0,Hc());q.addGetterSetter(ze,"shadowBlur",0,He());q.addGetterSetter(ze,"shadowOpacity",1,He());q.addComponentsGetterSetter(ze,"shadowOffset",["x","y"]);q.addGetterSetter(ze,"shadowOffsetX",0,He());q.addGetterSetter(ze,"shadowOffsetY",0,He());q.addGetterSetter(ze,"fillPatternImage");q.addGetterSetter(ze,"fill",void 0,OS());q.addGetterSetter(ze,"fillPatternX",0,He());q.addGetterSetter(ze,"fillPatternY",0,He());q.addGetterSetter(ze,"fillLinearGradientColorStops");q.addGetterSetter(ze,"strokeLinearGradientColorStops");q.addGetterSetter(ze,"fillRadialGradientStartRadius",0);q.addGetterSetter(ze,"fillRadialGradientEndRadius",0);q.addGetterSetter(ze,"fillRadialGradientColorStops");q.addGetterSetter(ze,"fillPatternRepeat","repeat");q.addGetterSetter(ze,"fillEnabled",!0);q.addGetterSetter(ze,"strokeEnabled",!0);q.addGetterSetter(ze,"shadowEnabled",!0);q.addGetterSetter(ze,"dashEnabled",!0);q.addGetterSetter(ze,"strokeScaleEnabled",!0);q.addGetterSetter(ze,"fillPriority","color");q.addComponentsGetterSetter(ze,"fillPatternOffset",["x","y"]);q.addGetterSetter(ze,"fillPatternOffsetX",0,He());q.addGetterSetter(ze,"fillPatternOffsetY",0,He());q.addComponentsGetterSetter(ze,"fillPatternScale",["x","y"]);q.addGetterSetter(ze,"fillPatternScaleX",1,He());q.addGetterSetter(ze,"fillPatternScaleY",1,He());q.addComponentsGetterSetter(ze,"fillLinearGradientStartPoint",["x","y"]);q.addComponentsGetterSetter(ze,"strokeLinearGradientStartPoint",["x","y"]);q.addGetterSetter(ze,"fillLinearGradientStartPointX",0);q.addGetterSetter(ze,"strokeLinearGradientStartPointX",0);q.addGetterSetter(ze,"fillLinearGradientStartPointY",0);q.addGetterSetter(ze,"strokeLinearGradientStartPointY",0);q.addComponentsGetterSetter(ze,"fillLinearGradientEndPoint",["x","y"]);q.addComponentsGetterSetter(ze,"strokeLinearGradientEndPoint",["x","y"]);q.addGetterSetter(ze,"fillLinearGradientEndPointX",0);q.addGetterSetter(ze,"strokeLinearGradientEndPointX",0);q.addGetterSetter(ze,"fillLinearGradientEndPointY",0);q.addGetterSetter(ze,"strokeLinearGradientEndPointY",0);q.addComponentsGetterSetter(ze,"fillRadialGradientStartPoint",["x","y"]);q.addGetterSetter(ze,"fillRadialGradientStartPointX",0);q.addGetterSetter(ze,"fillRadialGradientStartPointY",0);q.addComponentsGetterSetter(ze,"fillRadialGradientEndPoint",["x","y"]);q.addGetterSetter(ze,"fillRadialGradientEndPointX",0);q.addGetterSetter(ze,"fillRadialGradientEndPointY",0);q.addGetterSetter(ze,"fillPatternRotation",0);q.addGetterSetter(ze,"fillRule",void 0,Hc());q.backCompat(ze,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const vD="#",yD="beforeDraw",bD="draw",KS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],_D=KS.length;let Gc=class extends oi{constructor(e){super(e),this.canvas=new fu,this.hitCanvas=new G2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){qe.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!qe.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(qe.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(qe.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return qe.prototype.remove.call(this),e&&e.parentNode&&te._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&te.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),qe.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){te.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){te.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,te.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<_D;i++){const l=KS[i],u=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),d=u.shape;if(d)return d;if(a=!!u.antialiased,!u.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const l=te._rgbToHex(a[0],a[1],a[2]),u=k0[vD+l];return u?{shape:u}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),l=e||i&&i.getCanvas();return this._fire(yD,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),oi.prototype.drawScene.call(this,l,n,a),this._fire(bD,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),oi.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){te.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return te.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return te.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Gc.prototype.nodeType="Layer";Xn(Gc);q.addGetterSetter(Gc,"imageSmoothingEnabled",!0);q.addGetterSetter(Gc,"clearBeforeDraw",!0);q.addGetterSetter(Gc,"hitGraphEnabled",!0,bs());class Y2 extends Gc{constructor(e){super(e),this.listening(!1),te.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Y2.prototype.nodeType="FastLayer";Xn(Y2);let kd=class extends oi{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&te.throw("You may only add groups and shapes to groups.")}};kd.prototype.nodeType="Group";Xn(kd);const W1=(function(){return Nc.performance&&Nc.performance.now?function(){return Nc.performance.now()}:function(){return new Date().getTime()}})();class ji{constructor(e,n){this.id=ji.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:W1(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=ji.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=W1(),ji._addAnimation(this),this}stop(){return ji._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let l=0;l<i;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],l=i.layers,u=i.func;i._updateFrameObject(W1());const d=l.length;let g;if(u?g=u.call(i,i.frame)!==!1:g=!0,!!g)for(let m=0;m<d;m++){const v=l[m];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=ji;e.animations.length?(e._runFrames(),te.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,te.requestAnimFrame(this._animationLoop))}}ji.animations=[];ji.animIdCounter=0;ji.animRunning=!1;const SD={node:1,duration:1,easing:1,onFinish:1,yoyo:1},wD=1,e5=2,t5=3,n5=["fill","stroke","shadowColor"];let xD=0;class ED{constructor(e,n,a,i,l,u,d){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=e5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=t5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===e5?this.setTime(e):this.state===t5&&this.setTime(this.duration-e)}pause(){this.state=wD,this.fire("onPause")}getTimer(){return new Date().getTime()}}class zn{constructor(e){const n=this,a=e.node,i=a._id,l=e.easing||L0.Linear,u=!!e.yoyo;let d,g;typeof e.duration>"u"?d=.3:e.duration===0?d=.001:d=e.duration,this.node=a,this._id=xD++;const m=a.getLayer()||(a instanceof Ve.Stage?a.getLayers():null);m||te.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ji(function(){n.tween.onEnterFrame()},m),this.tween=new ED(g,function(v){n._tweenFunc(v)},l,0,1,d*1e3,u),this._addListeners(),zn.attrs[i]||(zn.attrs[i]={}),zn.attrs[i][this._id]||(zn.attrs[i][this._id]={}),zn.tweens[i]||(zn.tweens[i]={});for(g in e)SD[g]===void 0&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let l,u,d,g,m;const v=zn.tweens[i][e];v&&delete zn.attrs[i][v][e];let _=a.getAttr(e);if(te._isArray(n))if(l=[],u=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(g=_,_=te._prepareArrayForTween(_,n,a.closed())):(d=n,n=te._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let S=0;S<u;S++)if(S%2===0)l.push(n[S]-_[S]);else{const E=te.colorToRGBA(_[S]);m=te.colorToRGBA(n[S]),_[S]=E,l.push({r:m.r-E.r,g:m.g-E.g,b:m.b-E.b,a:m.a-E.a})}else for(let S=0;S<u;S++)l.push(n[S]-_[S]);else n5.indexOf(e)!==-1?(_=te.colorToRGBA(_),m=te.colorToRGBA(n),l={r:m.r-_.r,g:m.g-_.g,b:m.b-_.b,a:m.a-_.a}):l=n-_;zn.attrs[i][this._id][e]={start:_,diff:l,end:n,trueEnd:d,trueStart:g},zn.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=zn.attrs[n._id][this._id];let i,l,u,d,g,m,v,_;for(i in a){if(l=a[i],u=l.start,d=l.diff,_=l.end,te._isArray(u))if(g=[],v=Math.max(u.length,_.length),i.indexOf("fill")===0)for(m=0;m<v;m++)m%2===0?g.push((u[m]||0)+d[m]*e):g.push("rgba("+Math.round(u[m].r+d[m].r*e)+","+Math.round(u[m].g+d[m].g*e)+","+Math.round(u[m].b+d[m].b*e)+","+(u[m].a+d[m].a*e)+")");else for(m=0;m<v;m++)g.push((u[m]||0)+d[m]*e);else n5.indexOf(i)!==-1?g="rgba("+Math.round(u.r+d.r*e)+","+Math.round(u.g+d.g*e)+","+Math.round(u.b+d.b*e)+","+(u.a+d.a*e)+")":g=u+d*e;n.setAttr(i,g)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=zn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=zn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=zn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete zn.tweens[e][i];delete zn.attrs[e][n],zn.tweens[e]&&(Object.keys(zn.tweens[e]).length===0&&delete zn.tweens[e],Object.keys(zn.attrs[e]).length===0&&delete zn.attrs[e])}}zn.attrs={};zn.tweens={};qe.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new zn(t).play()};const L0={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-u)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,i,l){let u=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,u=l/4):u=l/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-u)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-L0.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?L0.BounceEaseIn(t*2,0,n,a)*.5+e:L0.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},Ld=te._assign(Ve,{Util:te,Transform:li,Node:qe,Container:oi,Stage:Ov,stages:U0,Layer:Gc,FastLayer:Y2,Group:kd,DD:cn,Shape:ze,shapes:k0,Animation:ji,Tween:zn,Easings:L0,Context:Av,Canvas:H2});class so extends ze{_sceneFunc(e){const n=Ve.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=Ve.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(i,Math.PI)),u=1,d=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),g=Math.sin(Math.min(i,Math.PI/2)),m=l*(l>0?e:n),v=u*n,_=d*(d>0?e:n),S=g*(g>0?n:e);return{x:m,y:a?-1*S:_,width:v-m,height:S-_}}}so.prototype._centroid=!0;so.prototype.className="Arc";so.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Xn(so);q.addGetterSetter(so,"innerRadius",0,He());q.addGetterSetter(so,"outerRadius",0,He());q.addGetterSetter(so,"angle",0,He());q.addGetterSetter(so,"clockwise",!1,bs());function $y(t,e,n,a,i,l,u){const d=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),g=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-a,2)),m=u*d/(d+g),v=u*g/(d+g),_=n-m*(i-t),S=a-m*(l-e),E=n+v*(i-t),C=a+v*(l-e);return[_,S,E,C]}function a5(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const l=$y(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[i]),a.push(t[i+1]),a.push(l[2]),a.push(l[3]))}return a}let lo=class extends ze{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),l=this.closed(),u=this.bezier();if(!a)return;let d=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const g=this.getTensionPoints(),m=g.length;for(d=l?0:4,l||e.quadraticCurveTo(g[0],g[1],g[2],g[3]);d<m-2;)e.bezierCurveTo(g[d++],g[d++],g[d++],g[d++],g[d++],g[d++]);l||e.quadraticCurveTo(g[m-2],g[m-1],n[a-2],n[a-1])}else if(u)for(d=2;d<a;)e.bezierCurveTo(n[d++],n[d++],n[d++],n[d++],n[d++],n[d++]);else for(d=2;d<a;d+=2)e.lineTo(n[d],n[d+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():a5(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=$y(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=$y(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),u=a5(e,a);return[i[2],i[3]].concat(u).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],l=e[1],u,d;for(let g=0;g<e.length/2;g++)u=e[g*2],d=e[g*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,d),l=Math.max(l,d);return{x:n,y:i,width:a-n,height:l-i}}};lo.prototype.className="Line";lo.prototype._attrsAffectingSize=["points","bezier","tension"];Xn(lo);q.addGetterSetter(lo,"closed",!1);q.addGetterSetter(lo,"bezier",!1);q.addGetterSetter(lo,"tension",0,He());q.addGetterSetter(lo,"points",[],HM());const CD=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],TD=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],AD=[[1],[1,1],[1,2,1],[1,3,3,1]],r5=(t,e,n)=>{let a,i;const u=n/2;a=0;for(let d=0;d<20;d++)i=u*CD[20][d]+u,a+=TD[20][d]*RD(t,e,i);return u*a},i5=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],u=2*e[1]-2*e[0],d=4*(a*a+i*i),g=4*(a*l+i*u),m=l*l+u*u;if(d===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=g/(2*d),_=m/d,S=n+v,E=_-v*v,C=S*S+E>0?Math.sqrt(S*S+E):0,R=v*v+E>0?Math.sqrt(v*v+E):0,O=v+Math.sqrt(v*v+E)!==0?E*Math.log(Math.abs((S+C)/(v+R))):0;return Math.sqrt(d)/2*(S*C-v*R+O)};function RD(t,e,n){const a=Wy(1,n,t),i=Wy(1,n,e),l=a*a+i*i;return Math.sqrt(l)}const Wy=(t,e,n)=>{const a=n.length-1;let i,l;if(a===0)return 0;if(t===0){l=0;for(let u=0;u<=a;u++)l+=AD[a][u]*Math.pow(1-e,a-u)*Math.pow(e,u)*n[u];return l}else{i=new Array(a);for(let u=0;u<a;u++)i[u]=a*(n[u+1]-n[u]);return Wy(t-1,e,i)}},s5=(t,e,n)=>{let a=1,i=t/e,l=(t-n(i))/e,u=0;for(;a>.001;){const d=n(i+l),g=Math.abs(t-d)/e;if(g<a)a=g,i+=l;else{const m=n(i-l),v=Math.abs(t-m)/e;v<a?(a=v,i-=l):l/=2}if(u++,u>500)break}return i};let zi=class Hr extends ze{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Hr.parsePathData(this.data()),this.pathLength=Hr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const l=n[i].command,u=n[i].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const d=u[0],g=u[1],m=u[2],v=u[3],_=u[4],S=u[5],E=u[6],C=u[7],R=m>v?m:v,O=m>v?1:m/v,M=m>v?v/m:1;e.translate(d,g),e.rotate(E),e.scale(O,M),e.arc(0,0,R,_,_+S,1-C),e.scale(1/O,1/M),e.rotate(-E),e.translate(-d,-g);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(g){if(g.command==="A"){const m=g.points[4],v=g.points[5],_=g.points[4]+v;let S=Math.PI/180;if(Math.abs(m-_)<S&&(S=Math.abs(m-_)),v<0)for(let E=m-S;E>_;E-=S){const C=Hr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],E,0);e.push(C.x,C.y)}else for(let E=m+S;E<_;E+=S){const C=Hr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],E,0);e.push(C.x,C.y)}}else if(g.command==="C")for(let m=0;m<=1;m+=.01){const v=Hr.getPointOnCubicBezier(m,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(v.x,v.y)}else e=e.concat(g.points)});let n=e[0],a=e[0],i=e[1],l=e[1],u,d;for(let g=0;g<e.length/2;g++)u=e[g*2],d=e[g*2+1],isNaN(u)||(n=Math.min(n,u),a=Math.max(a,u)),isNaN(d)||(i=Math.min(i,d),l=Math.max(l,d));return{x:n,y:i,width:a-n,height:l-i}}getLength(){return this.pathLength}getPointAtLength(e){return Hr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,l=n.length;if(!l)return null;for(;i<l&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===l)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const u=n[i],d=u.points;switch(u.command){case"L":return Hr.getPointOnLine(e,u.start.x,u.start.y,d[0],d[1]);case"C":return Hr.getPointOnCubicBezier(s5(e,Hr.getPathLength(n),R=>r5([u.start.x,d[0],d[2],d[4]],[u.start.y,d[1],d[3],d[5]],R)),u.start.x,u.start.y,d[0],d[1],d[2],d[3],d[4],d[5]);case"Q":return Hr.getPointOnQuadraticBezier(s5(e,Hr.getPathLength(n),R=>i5([u.start.x,d[0],d[2]],[u.start.y,d[1],d[3]],R)),u.start.x,u.start.y,d[0],d[1],d[2],d[3]);case"A":const g=d[0],m=d[1],v=d[2],_=d[3],S=d[5],E=d[6];let C=d[4];return C+=S*e/u.pathLength,Hr.getPointOnEllipticalArc(g,m,v,_,C,E)}return null}static getPointOnLine(e,n,a,i,l,u,d){u=u??n,d=d??a;const g=this.getLineLength(n,a,i,l);if(g<1e-10)return{x:n,y:a};if(i===n)return{x:u,y:d+(l>a?e:-e)};const m=(l-a)/(i-n),v=Math.sqrt(e*e/(1+m*m))*(i<n?-1:1),_=m*v;if(Math.abs(d-a-m*(u-n))<1e-10)return{x:u+v,y:d+_};const S=((u-n)*(i-n)+(d-a)*(l-a))/(g*g),E=n+S*(i-n),C=a+S*(l-a),R=this.getLineLength(u,d,E,C),O=Math.sqrt(e*e-R*R),M=Math.sqrt(O*O/(1+m*m))*(i<n?-1:1),j=m*M;return{x:E+M,y:C+j}}static getPointOnCubicBezier(e,n,a,i,l,u,d,g,m){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function E(O){return(1-O)*(1-O)*(1-O)}const C=g*v(e)+u*_(e)+i*S(e)+n*E(e),R=m*v(e)+d*_(e)+l*S(e)+a*E(e);return{x:C,y:R}}static getPointOnQuadraticBezier(e,n,a,i,l,u,d){function g(E){return E*E}function m(E){return 2*E*(1-E)}function v(E){return(1-E)*(1-E)}const _=u*g(e)+i*m(e)+n*v(e),S=d*g(e)+l*m(e)+a*v(e);return{x:_,y:S}}static getPointOnEllipticalArc(e,n,a,i,l,u){const d=Math.cos(u),g=Math.sin(u),m={x:a*Math.cos(l),y:i*Math.sin(l)};return{x:e+(m.x*d-m.y*g),y:n+(m.x*g+m.y*d)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const i=n.split("|"),l=[],u=[];let d=0,g=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<i.length;_++){let S=i[_],E=S.charAt(0);for(S=S.slice(1),u.length=0;v=m.exec(S);)u.push(v[0]);let C=[],R=E==="A"||E==="a"?0:-1;for(let O=0,M=u.length;O<M;O++){const j=u[O];if(j==="00"){C.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(j)){C.push(parseInt(j[0],10)),C.push(parseInt(j[1],10)),C.push(parseFloat(j.slice(2))),R+=3,R>=7&&(R-=7);continue}if(j==="11"||j==="10"||j==="01"){C.push(parseInt(j[0],10)),C.push(parseInt(j[1],10)),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){C.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(j)){C.push(parseInt(j[0],10)),C.push(parseFloat(j.slice(1))),R+=2,R>=7&&(R-=7);continue}if(j==="0"||j==="1"){C.push(parseInt(j,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(j);isNaN(z)?C.push(0):C.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(j);isNaN(z)?C.push(0):C.push(z)}}for(;C.length>0&&!isNaN(C[0]);){let O="",M=[];const j=d,z=g;let P,H,k,Y,F,oe,_e,we,de,he;switch(E){case"l":d+=C.shift(),g+=C.shift(),O="L",M.push(d,g);break;case"L":d=C.shift(),g=C.shift(),M.push(d,g);break;case"m":const ve=C.shift(),Se=C.shift();if(d+=ve,g+=Se,O="M",l.length>2&&l[l.length-1].command==="z"){for(let B=l.length-2;B>=0;B--)if(l[B].command==="M"){d=l[B].points[0]+ve,g=l[B].points[1]+Se;break}}M.push(d,g),E="l";break;case"M":d=C.shift(),g=C.shift(),O="M",M.push(d,g),E="L";break;case"h":d+=C.shift(),O="L",M.push(d,g);break;case"H":d=C.shift(),O="L",M.push(d,g);break;case"v":g+=C.shift(),O="L",M.push(d,g);break;case"V":g=C.shift(),O="L",M.push(d,g);break;case"C":M.push(C.shift(),C.shift(),C.shift(),C.shift()),d=C.shift(),g=C.shift(),M.push(d,g);break;case"c":M.push(d+C.shift(),g+C.shift(),d+C.shift(),g+C.shift()),d+=C.shift(),g+=C.shift(),O="C",M.push(d,g);break;case"S":H=d,k=g,P=l[l.length-1],P.command==="C"&&(H=d+(d-P.points[2]),k=g+(g-P.points[3])),M.push(H,k,C.shift(),C.shift()),d=C.shift(),g=C.shift(),O="C",M.push(d,g);break;case"s":H=d,k=g,P=l[l.length-1],P.command==="C"&&(H=d+(d-P.points[2]),k=g+(g-P.points[3])),M.push(H,k,d+C.shift(),g+C.shift()),d+=C.shift(),g+=C.shift(),O="C",M.push(d,g);break;case"Q":M.push(C.shift(),C.shift()),d=C.shift(),g=C.shift(),M.push(d,g);break;case"q":M.push(d+C.shift(),g+C.shift()),d+=C.shift(),g+=C.shift(),O="Q",M.push(d,g);break;case"T":H=d,k=g,P=l[l.length-1],P.command==="Q"&&(H=d+(d-P.points[0]),k=g+(g-P.points[1])),d=C.shift(),g=C.shift(),O="Q",M.push(H,k,d,g);break;case"t":H=d,k=g,P=l[l.length-1],P.command==="Q"&&(H=d+(d-P.points[0]),k=g+(g-P.points[1])),d+=C.shift(),g+=C.shift(),O="Q",M.push(H,k,d,g);break;case"A":Y=C.shift(),F=C.shift(),oe=C.shift(),_e=C.shift(),we=C.shift(),de=d,he=g,d=C.shift(),g=C.shift(),O="A",M=this.convertEndpointToCenterParameterization(de,he,d,g,_e,we,Y,F,oe);break;case"a":Y=C.shift(),F=C.shift(),oe=C.shift(),_e=C.shift(),we=C.shift(),de=d,he=g,d+=C.shift(),g+=C.shift(),O="A",M=this.convertEndpointToCenterParameterization(de,he,d,g,_e,we,Y,F,oe);break}l.push({command:O||E,points:M,start:{x:j,y:z},pathLength:this.calcLength(j,z,O||E,M)})}(E==="z"||E==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,i){let l,u,d,g;const m=Hr;switch(a){case"L":return m.getLineLength(e,n,i[0],i[1]);case"C":return r5([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return i5([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":l=0;const v=i[4],_=i[5],S=i[4]+_;let E=Math.PI/180;if(Math.abs(v-S)<E&&(E=Math.abs(v-S)),u=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),_<0)for(g=v-E;g>S;g-=E)d=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=m.getLineLength(u.x,u.y,d.x,d.y),u=d;else for(g=v+E;g<S;g+=E)d=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],g,0),l+=m.getLineLength(u.x,u.y,d.x,d.y),u=d;return d=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],S,0),l+=m.getLineLength(u.x,u.y,d.x,d.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,i,l,u,d,g,m){const v=m*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-i)/2,S=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-i)/2,E=_*_/(d*d)+S*S/(g*g);E>1&&(d*=Math.sqrt(E),g*=Math.sqrt(E));let C=Math.sqrt((d*d*(g*g)-d*d*(S*S)-g*g*(_*_))/(d*d*(S*S)+g*g*(_*_)));l===u&&(C*=-1),isNaN(C)&&(C=0);const R=C*d*S/g,O=C*-g*_/d,M=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,j=(n+i)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(_e){return Math.sqrt(_e[0]*_e[0]+_e[1]*_e[1])},P=function(_e,we){return(_e[0]*we[0]+_e[1]*we[1])/(z(_e)*z(we))},H=function(_e,we){return(_e[0]*we[1]<_e[1]*we[0]?-1:1)*Math.acos(P(_e,we))},k=H([1,0],[(_-R)/d,(S-O)/g]),Y=[(_-R)/d,(S-O)/g],F=[(-1*_-R)/d,(-1*S-O)/g];let oe=H(Y,F);return P(Y,F)<=-1&&(oe=Math.PI),P(Y,F)>=1&&(oe=0),u===0&&oe>0&&(oe=oe-2*Math.PI),u===1&&oe<0&&(oe=oe+2*Math.PI),[M,j,d,g,k,oe,v,u]}};zi.prototype.className="Path";zi.prototype._attrsAffectingSize=["data"];Xn(zi);q.addGetterSetter(zi,"data");let qc=class extends lo{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const l=this.tension()!==0&&a.length>4;l&&(i=this.getTensionPoints());const u=this.pointerLength(),d=a.length;let g,m;if(l){const S=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[d-2],a[d-1]],E=zi.calcLength(i[i.length-4],i[i.length-3],"C",S),C=zi.getPointOnQuadraticBezier(Math.min(1,1-u/E),S[0],S[1],S[2],S[3],S[4],S[5]);g=a[d-2]-C.x,m=a[d-1]-C.y}else g=a[d-2]-a[d-4],m=a[d-1]-a[d-3];const v=(Math.atan2(m,g)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[d-2],a[d-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(g=(i[0]+i[2])/2-a[0],m=(i[1]+i[3])/2-a[1]):(g=a[2]-a[0],m=a[3]-a[1]),e.rotate((Math.atan2(-m,-g)+n)%n),e.moveTo(0,0),e.lineTo(-u,_/2),e.lineTo(-u,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};qc.prototype.className="Arrow";Xn(qc);q.addGetterSetter(qc,"pointerLength",10,He());q.addGetterSetter(qc,"pointerWidth",10,He());q.addGetterSetter(qc,"pointerAtBeginning",!1);q.addGetterSetter(qc,"pointerAtEnding",!0);let Hd=class extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Hd.prototype._centroid=!0;Hd.prototype.className="Circle";Hd.prototype._attrsAffectingSize=["radius"];Xn(Hd);q.addGetterSetter(Hd,"radius",0,He());class bu extends ze{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}bu.prototype.className="Ellipse";bu.prototype._centroid=!0;bu.prototype._attrsAffectingSize=["radiusX","radiusY"];Xn(bu);q.addComponentsGetterSetter(bu,"radius",["x","y"]);q.addGetterSetter(bu,"radiusX",0,He());q.addGetterSetter(bu,"radiusY",0,He());class Pi extends ze{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),l=this.attrs.image;let u;if(l){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;d&&g?u=[l,this.cropX(),this.cropY(),d,g,0,0,n,a]:u=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?te.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(i&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?te.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const i=te.createImageElement();i.onload=function(){const l=new Pi({image:i});n(l)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}}Pi.prototype.className="Image";Xn(Pi);q.addGetterSetter(Pi,"cornerRadius",0,Rv(4));q.addGetterSetter(Pi,"image");q.addComponentsGetterSetter(Pi,"crop",["x","y","width","height"]);q.addGetterSetter(Pi,"cropX",0,He());q.addGetterSetter(Pi,"cropY",0,He());q.addGetterSetter(Pi,"cropWidth",0,He());q.addGetterSetter(Pi,"cropHeight",0,He());const FS=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],OD="Change.konva",ND="none",Jy="up",e2="right",t2="down",n2="left",MD=FS.length;let Z2=class extends kd{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<MD;a++)e.on(FS[a]+OD,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,l,u,d,g,m;if(e&&n){switch(a=e.width(),i=e.height(),l=n.pointerDirection(),u=n.pointerWidth(),m=n.pointerHeight(),d=0,g=0,l){case Jy:d=a/2,g=-1*m;break;case e2:d=a+u,g=i/2;break;case t2:d=a/2,g=i+m;break;case n2:d=-1*u,g=i/2;break}n.setAttrs({x:-1*d,y:-1*g,width:a,height:i}),e.setAttrs({x:-1*d,y:-1*g})}}};Z2.prototype.className="Label";Xn(Z2);class Vc extends ze{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),d=this.cornerRadius();let g=0,m=0,v=0,_=0;typeof d=="number"?g=m=v=_=Math.min(d,n/2,a/2):(g=Math.min(d[0]||0,n/2,a/2),m=Math.min(d[1]||0,n/2,a/2),_=Math.min(d[2]||0,n/2,a/2),v=Math.min(d[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(g,0),i===Jy&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*u),e.lineTo((n+l)/2,0)),e.lineTo(n-m,0),e.arc(n-m,m,m,Math.PI*3/2,0,!1),i===e2&&(e.lineTo(n,(a-u)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+u)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),i===t2&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+u),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),i===n2&&(e.lineTo(0,(a+u)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-u)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),d=this.height();return l===Jy?(n-=i,d+=i):l===t2?d+=i:l===n2?(e-=a*1.5,u+=a):l===e2&&(u+=a*1.5),{x:e,y:n,width:u,height:d}}}Vc.prototype.className="Tag";Xn(Vc);q.addGetterSetter(Vc,"pointerDirection",ND);q.addGetterSetter(Vc,"pointerWidth",0,He());q.addGetterSetter(Vc,"pointerHeight",0,He());q.addGetterSetter(Vc,"cornerRadius",0,Rv(4));let lg=class extends ze{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?te.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};lg.prototype.className="Rect";Xn(lg);q.addGetterSetter(lg,"cornerRadius",0,Rv(4));class _u extends ze{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)te.drawRoundedPolygonPath(e,n,i,a,l);else{e.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)e.lineTo(n[u].x,n[u].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,l=e[0].y;return e.forEach(u=>{n=Math.min(n,u.x),a=Math.max(a,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y)}),{x:n,y:i,width:a-n,height:l-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}_u.prototype.className="RegularPolygon";_u.prototype._centroid=!0;_u.prototype._attrsAffectingSize=["radius"];Xn(_u);q.addGetterSetter(_u,"radius",0,He());q.addGetterSetter(_u,"sides",0,He());q.addGetterSetter(_u,"cornerRadius",0,Rv(4));const l5=Math.PI*2;class Yc extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,l5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),l5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Yc.prototype.className="Ring";Yc.prototype._centroid=!0;Yc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(Yc);q.addGetterSetter(Yc,"innerRadius",0,He());q.addGetterSetter(Yc,"outerRadius",0,He());class hl extends ze{constructor(e){super(e),this._updated=!0,this.anim=new ji(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),d=l[i+0],g=l[i+1],m=l[i+2],v=l[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,m,v),e.closePath(),e.fillStrokeShape(this)),_)if(u){const S=u[n],E=a*2;e.drawImage(_,d,g,m,v,S[E+0],S[E+1],m,v)}else e.drawImage(_,d,g,m,v,0,0,m,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,l=this.animations()[n],u=this.frameOffsets(),d=l[i+2],g=l[i+3];if(e.beginPath(),u){const m=u[n],v=a*2;e.rect(m[v+0],m[v+1],d,g)}else e.rect(0,0,d,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],l=i.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}hl.prototype.className="Sprite";Xn(hl);q.addGetterSetter(hl,"animation");q.addGetterSetter(hl,"animations");q.addGetterSetter(hl,"frameOffsets");q.addGetterSetter(hl,"image");q.addGetterSetter(hl,"frameIndex",0,He());q.addGetterSetter(hl,"frameRate",17,He());q.backCompat(hl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Su extends ze{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<i*2;l++){const u=l%2===0?a:n,d=u*Math.sin(l*Math.PI/i),g=-1*u*Math.cos(l*Math.PI/i);e.lineTo(d,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Su.prototype.className="Star";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Xn(Su);q.addGetterSetter(Su,"numPoints",5,He());q.addGetterSetter(Su,"innerRadius",0,He());q.addGetterSetter(Su,"outerRadius",0,He());function iu(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=i[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const md="auto",DD="center",QS="inherit",vd="justify",jD="Change.konva",zD="2d",o5="-",$S="left",UD="text",kD="Text",LD="top",PD="bottom",u5="middle",WS="normal",BD="px ",om=" ",HD="right",c5="rtl",GD="word",qD="char",f5="none",J1="",JS=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],VD=JS.length;function YD(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let um;function ey(){return um||(um=te.createCanvasElement().getContext(zD),um)}function ZD(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function ID(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function XD(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Hn=class extends ze{constructor(e){super(XD(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<VD;n++)this.on(JS[n]+jD,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,l=i.length;if(!this.text())return;let u=this.padding(),d=this.fontSize(),g=this.lineHeight()*d,m=this.verticalAlign(),v=this.direction(),_=0,S=this.align(),E=this.getWidth(),C=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),M=this.textDecoration(),j=M.indexOf("underline")!==-1,z=M.indexOf("line-through")!==-1,P;v=v===QS?e.direction:v;let H=g/2,k=u5;if(!Ve.legacyTextRendering){const Y=this.measureSize("M");k="alphabetic";const F=(n=Y.fontBoundingBoxAscent)!==null&&n!==void 0?n:Y.actualBoundingBoxAscent,oe=(a=Y.fontBoundingBoxDescent)!==null&&a!==void 0?a:Y.actualBoundingBoxDescent;H=(F-oe)/2+g/2}for(v===c5&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",k),e.setAttr("textAlign",$S),m===u5?_=(this.getHeight()-l*g-u*2)/2:m===PD&&(_=this.getHeight()-l*g-u*2),e.translate(u,_+u),P=0;P<l;P++){let Y=0,F=0;const oe=i[P],_e=oe.text,we=oe.width,de=oe.lastInParagraph;if(e.save(),S===HD?Y+=E-we-u*2:S===DD&&(Y+=(E-we-u*2)/2),j){e.save(),e.beginPath();const he=Ve.legacyTextRendering?Math.round(d/2):Math.round(d/4),ve=Y,Se=H+F+he;e.moveTo(ve,Se);const B=S===vd&&!de?E-u*2:we;e.lineTo(ve+Math.round(B),Se),e.lineWidth=d/15;const le=this._getLinearGradient();e.strokeStyle=le||O,e.stroke(),e.restore()}if(v!==c5&&(C!==0||S===vd||R)){const he=_e.split(" ").length-1,ve=iu(_e);for(let Se=0;Se<ve.length;Se++){const B=ve[Se];if(B===" "&&!de&&S===vd&&(Y+=(E-u*2-we)/he),this._partialTextX=Y,this._partialTextY=H+F,this._partialText=B,R){e.save();const Q=i.slice(0,P).reduce((G,ne)=>G+iu(ne.text).length,0),pe=Se+Q;R({char:B,index:pe,x:Y,y:H+F,lineIndex:P,column:Se,isLastInLine:de,width:this.measureSize(B).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),Y+=this.measureSize(B).width+C}}else C!==0&&e.setAttr("letterSpacing",`${C}px`),this._partialTextX=Y,this._partialTextY=H+F,this._partialText=_e,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const he=Ve.legacyTextRendering?0:-Math.round(d/4),ve=S===vd?0:Y;e.moveTo(ve,H+F+he);const Se=S===vd&&!de?E-u*2:we;e.lineTo(ve+Math.round(Se),H+F+he),e.lineWidth=d/15;const B=this._getLinearGradient();e.strokeStyle=B||O,e.stroke(),e.restore()}e.restore(),l>1&&(H+=g)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=te._isString(e)?e:e==null?"":e+"";return this._setAttr(UD,n),this}getWidth(){return this.attrs.width===md||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===md||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return te.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,l,u,d,g,m,v,_,S;let E=ey(),C=this.fontSize(),R;E.save(),E.font=this._getContextFont(),R=E.measureText(e),E.restore();const O=C/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(u=R.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(d=R.emHeightAscent)!==null&&d!==void 0?d:100*O,emHeightDescent:(g=R.emHeightDescent)!==null&&g!==void 0?g:-20*O,fontBoundingBoxAscent:(m=R.fontBoundingBoxAscent)!==null&&m!==void 0?m:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:C}}_getContextFont(){return this.fontStyle()+om+this.fontVariant()+om+(this.fontSize()+BD)+YD(this.fontFamily())}_addTextLine(e){this.align()===vd&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return ey().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,l=this.attrs.width,u=this.attrs.height,d=l!==md&&l!==void 0,g=u!==md&&u!==void 0,m=this.padding(),v=l-m*2,_=u-m*2,S=0,E=this.wrap(),C=E!==f5,R=E!==qD&&C,O=this.ellipsis();this.textArr=[],ey().font=this._getContextFont();const M=O?this._getTextWidth(J1):0;for(let j=0,z=e.length;j<z;++j){let P=e[j],H=this._getTextWidth(P);if(d&&H>v)for(;P.length>0;){let k=0,Y=iu(P).length,F="",oe=0;for(;k<Y;){const _e=k+Y>>>1,we=iu(P),de=we.slice(0,_e+1).join(""),he=this._getTextWidth(de);(O&&g&&S+i>_?he+M:he)<=v?(k=_e+1,F=de,oe=he):Y=_e}if(F){if(R){const de=iu(P),he=iu(F),ve=de[he.length],Se=ve===om||ve===o5;let B;if(Se&&oe<=v)B=he.length;else{const le=he.lastIndexOf(om),Q=he.lastIndexOf(o5);B=Math.max(le,Q)+1}B>0&&(k=B,F=de.slice(0,k).join(""),oe=this._getTextWidth(F))}if(F=F.trimRight(),this._addTextLine(F),a=Math.max(a,oe),S+=i,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(P=iu(P).slice(k).join("").trimLeft(),P.length>0&&(H=this._getTextWidth(P),H<=v)){this._addTextLine(P),S+=i,a=Math.max(a,H);break}}else break}else this._addTextLine(P),S+=i,a=Math.max(a,H),this._shouldHandleEllipsis(S)&&j<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&S+i>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,l=i!==md&&i!==void 0,u=this.padding(),d=i-u*2;return!(this.wrap()!==f5)||l&&e+a>d}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==md&&e!==void 0,a=this.padding(),i=e-a*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!l||(n&&(this._getTextWidth(u.text+J1)<i||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+J1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Hn.prototype._fillFunc=ZD;Hn.prototype._strokeFunc=ID;Hn.prototype.className=kD;Hn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Xn(Hn);q.overWriteSetter(Hn,"width",q2());q.overWriteSetter(Hn,"height",q2());q.addGetterSetter(Hn,"direction",QS);q.addGetterSetter(Hn,"fontFamily","Arial");q.addGetterSetter(Hn,"fontSize",12,He());q.addGetterSetter(Hn,"fontStyle",WS);q.addGetterSetter(Hn,"fontVariant",WS);q.addGetterSetter(Hn,"padding",0,He());q.addGetterSetter(Hn,"align",$S);q.addGetterSetter(Hn,"verticalAlign",LD);q.addGetterSetter(Hn,"lineHeight",1,He());q.addGetterSetter(Hn,"wrap",GD);q.addGetterSetter(Hn,"ellipsis",!1,bs());q.addGetterSetter(Hn,"letterSpacing",0,He());q.addGetterSetter(Hn,"text","",Hc());q.addGetterSetter(Hn,"textDecoration","");q.addGetterSetter(Hn,"charRenderFunc",void 0);const KD="",e6="normal";function t6(t){t.fillText(this.partialText,0,0)}function n6(t){t.strokeText(this.partialText,0,0)}class Ea extends ze{constructor(e){super(e),this.dummyCanvas=te.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return zi.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:zi.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=zi.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let u=0;u<l.length;u++){e.save();const d=l[u].p0;e.translate(d.x,d.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),n==="underline"&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return te.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Hn.prototype.setText.call(this,e)}_getContextFont(){return Hn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=iu(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),u=this.align(),d=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let m=0;u==="center"&&(m=Math.max(0,this.pathLength/2-g/2)),u==="right"&&(m=Math.max(0,this.pathLength-g));let v=m;for(let _=0;_<n.length;_++){const S=this._getPointAtLength(v);if(!S)return;const E=n[_].char;let C=n[_].width+l;if(E===" "&&u==="justify"){const P=this.text().split(" ").length-1;C+=(this.pathLength-g)/P}const R=this._getPointAtLength(v+C);if(!R)return;const O=zi.getLineLength(S.x,S.y,R.x,R.y);let M=0;if(d)try{M=d(n[_-1].char,E)*this.fontSize()}catch{M=0}S.x+=M,R.x+=M,this.textWidth+=M;const j=zi.getPointOnLine(M+O/2,S.x,S.y,R.x,R.y),z=Math.atan2(R.y-S.y,R.x-S.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:e[_],rotation:z,p0:S,p1:R}),v+=C}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(m){e.push(m.p0.x),e.push(m.p0.y),e.push(m.p1.x),e.push(m.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,l=e[1]||0,u,d;for(let m=0;m<e.length/2;m++)u=e[m*2],d=e[m*2+1],n=Math.min(n,u),a=Math.max(a,u),i=Math.min(i,d),l=Math.max(l,d);const g=this.fontSize();return{x:n-g/2,y:i-g/2,width:a-n+g,height:l-i+g}}destroy(){return te.releaseCanvas(this.dummyCanvas),super.destroy()}}Ea.prototype._fillFunc=t6;Ea.prototype._strokeFunc=n6;Ea.prototype._fillFuncHit=t6;Ea.prototype._strokeFuncHit=n6;Ea.prototype.className="TextPath";Ea.prototype._attrsAffectingSize=["text","fontSize","data"];Xn(Ea);q.addGetterSetter(Ea,"data");q.addGetterSetter(Ea,"fontFamily","Arial");q.addGetterSetter(Ea,"fontSize",12,He());q.addGetterSetter(Ea,"fontStyle",e6);q.addGetterSetter(Ea,"align","left");q.addGetterSetter(Ea,"letterSpacing",0,He());q.addGetterSetter(Ea,"textBaseline","middle");q.addGetterSetter(Ea,"fontVariant",e6);q.addGetterSetter(Ea,"text",KD);q.addGetterSetter(Ea,"textDecoration","");q.addGetterSetter(Ea,"kerningFunc",void 0);const a6="tr-konva",FD=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${a6}`).join(" "),d5="nodesRect",QD=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],$D={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},WD="ontouchstart"in Ve._global;function JD(t,e,n){if(t==="rotater")return n;e+=te.degToRad($D[t]||0);const a=(te.radToDeg(e)%360+360)%360;return te._inRange(a,315+22.5,360)||te._inRange(a,0,22.5)?"ns-resize":te._inRange(a,45-22.5,45+22.5)?"nesw-resize":te._inRange(a,90-22.5,90+22.5)?"ew-resize":te._inRange(a,135-22.5,135+22.5)?"nwse-resize":te._inRange(a,180-22.5,180+22.5)?"ns-resize":te._inRange(a,225-22.5,225+22.5)?"nesw-resize":te._inRange(a,270-22.5,270+22.5)?"ew-resize":te._inRange(a,315-22.5,315+22.5)?"nwse-resize":(te.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const nv=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function ej(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function r6(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function tj(t,e){const n=ej(t);return r6(t,e,n)}function nj(t,e,n){let a=e;for(let i=0;i<t.length;i++){const l=Ve.getAngle(t[i]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(a=l)}return a}let a2=0,$t=class extends kd{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(FD,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return te.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return a6+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(te.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const u=i._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");i.on(u,l)}i.on(QD.map(u=>u+`.${this._getEventNamespace()}`).join(" "),l),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),l=i.x-n.x,u=i.y-n.y;this.nodes().forEach(d=>{if(d===e||d.isDragging())return;const g=d.getAbsolutePosition();d.setAbsolutePosition({x:g.x+l,y:g.y+u}),d.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(d5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(d5,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),u=e.getAbsolutePosition(a),d=i.x*l.x-e.offsetX()*l.x,g=i.y*l.y-e.offsetY()*l.y,m=(Ve.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+d*Math.cos(m)+g*Math.sin(-m),y:u.y+g*Math.cos(m)+d*Math.sin(m),width:i.width*l.x,height:i.height*l.y,rotation:m};return r6(v,-Ve.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(m=>{const v=m.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],S=m.getAbsoluteTransform();_.forEach(function(E){const C=S.point(E);n.push(C)})});const a=new li;a.rotate(-Ve.getAngle(this.rotation()));let i=1/0,l=1/0,u=-1/0,d=-1/0;n.forEach(function(m){const v=a.point(m);i===void 0&&(i=u=v.x,l=d=v.y),i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),d=Math.max(d,v.y)}),a.invert();const g=a.point({x:i,y:l});return{x:g.x,y:g.y,width:u-i,height:d-l,rotation:Ve.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),nv.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new lg({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:WD?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Ve.getAngle(this.rotation()),l=this.rotateAnchorCursor(),u=JD(e,i,l);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new ze({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),l=i.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*te._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=e.target.getAbsolutePosition(),d=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-u.x,y:d.y-u.y},a2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){let n,a,i;const l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const d=u.getPointerPosition();let g={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const m=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(m,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(m.x===v.x&&m.y===v.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=l.x()-j.width/2,a=-l.y()+j.height/2;let z=Math.atan2(-a,n)+Math.PI/2;j.height<0&&(z-=Math.PI);const H=Ve.getAngle(this.rotation())+z,k=Ve.getAngle(this.rotationSnapTolerance()),F=nj(this.rotationSnaps(),H,k)-j.rotation,oe=tj(j,F);this._fitNodesInto(oe,e);return}const _=this.shiftBehavior();let S;_==="inverted"?S=this.keepRatio()&&!e.shiftKey:_==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let E=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const j=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-left").x()>j.x?-1:1,P=this.findOne(".top-left").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(S){const j=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(j.y-l.y(),2));const z=this.findOne(".top-right").x()<j.x?-1:1,P=this.findOne(".top-right").y()>j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-a)}var C=l.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(S){const j=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(j.x-l.x(),2)+Math.pow(l.y()-j.y,2));const z=j.x<l.x()?-1:1,P=l.y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,l.x(j.x-n),l.y(j.y+a)}C=l.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(S){const j=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(l.x()-j.x,2)+Math.pow(l.y()-j.y,2));const z=this.findOne(".bottom-right").x()<j.x?-1:1,P=this.findOne(".bottom-right").y()<j.y?-1:1;n=i*this.cos*z,a=i*this.sin*P,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(E=this.centeredScaling()||e.altKey,E){const j=this.findOne(".top-left"),z=this.findOne(".bottom-right"),P=j.x(),H=j.y(),k=this.getWidth()-z.x(),Y=this.getHeight()-z.y();z.move({x:-P,y:-H}),j.move({x:k,y:Y})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:M,rotation:Ve.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();a2--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var l;i._fire("transformend",{evt:e,target:i}),(l=i.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if(te._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(te._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const l=new li;if(l.rotate(Ve.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=l.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=l.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:te.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,d=new li;d.translate(a.x,a.y),d.rotate(a.rotation),d.scale(a.width/u,a.height/u);const g=new li,m=e.width/u,v=e.height/u;this.flipEnabled()===!1?(g.translate(e.x,e.y),g.rotate(e.rotation),g.translate(e.width<0?e.width:0,e.height<0?e.height:0),g.scale(Math.abs(m),Math.abs(v))):(g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(m,v));const _=g.multiply(d.invert());this._nodes.forEach(S=>{var E;if(!S.getStage())return;const C=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new li;O.multiply(C.copy().invert()).multiply(_).multiply(C).multiply(R);const M=O.decompose();S.setAttrs(M),(E=S.getLayer())===null||E===void 0||E.batchDraw()}),this.rotation(te._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(te._getRotation(n.rotation));const a=n.width,i=n.height,l=this.enabledAnchors(),u=this.resizeEnabled(),d=this.padding(),g=this.anchorSize(),m=this.find("._anchor");m.forEach(_=>{_.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+d,offsetY:g/2+d,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:g/2+d,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:g/2-d,offsetY:g/2+d,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:g/2+d,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:g/2-d,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:g/2+d,offsetY:g/2-d,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:g/2-d,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:g/2-d,offsetY:g/2-d,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*te._sign(i)-d,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&m.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),kd.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return qe.prototype.toObject.call(this)}clone(e){return qe.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};$t.isTransforming=()=>a2>0;function aj(t){return t instanceof Array||te.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){nv.indexOf(e)===-1&&te.warn("Unknown anchor name: "+e+". Available names are: "+nv.join(", "))}),t||[]}$t.prototype.className="Transformer";Xn($t);q.addGetterSetter($t,"enabledAnchors",nv,aj);q.addGetterSetter($t,"flipEnabled",!0,bs());q.addGetterSetter($t,"resizeEnabled",!0);q.addGetterSetter($t,"anchorSize",10,He());q.addGetterSetter($t,"rotateEnabled",!0);q.addGetterSetter($t,"rotateLineVisible",!0);q.addGetterSetter($t,"rotationSnaps",[]);q.addGetterSetter($t,"rotateAnchorOffset",50,He());q.addGetterSetter($t,"rotateAnchorCursor","crosshair");q.addGetterSetter($t,"rotationSnapTolerance",5,He());q.addGetterSetter($t,"borderEnabled",!0);q.addGetterSetter($t,"anchorStroke","rgb(0, 161, 255)");q.addGetterSetter($t,"anchorStrokeWidth",1,He());q.addGetterSetter($t,"anchorFill","white");q.addGetterSetter($t,"anchorCornerRadius",0,He());q.addGetterSetter($t,"borderStroke","rgb(0, 161, 255)");q.addGetterSetter($t,"borderStrokeWidth",1,He());q.addGetterSetter($t,"borderDash");q.addGetterSetter($t,"keepRatio",!0);q.addGetterSetter($t,"shiftBehavior","default");q.addGetterSetter($t,"centeredScaling",!1);q.addGetterSetter($t,"ignoreStroke",!1);q.addGetterSetter($t,"padding",0,He());q.addGetterSetter($t,"nodes");q.addGetterSetter($t,"node");q.addGetterSetter($t,"boundBoxFunc");q.addGetterSetter($t,"anchorDragBoundFunc");q.addGetterSetter($t,"anchorStyleFunc");q.addGetterSetter($t,"shouldOverdrawWholeArea",!1);q.addGetterSetter($t,"useSingleNodeRotation",!0);q.backCompat($t,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class oo extends ze{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Ve.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}oo.prototype.className="Wedge";oo.prototype._centroid=!0;oo.prototype._attrsAffectingSize=["radius"];Xn(oo);q.addGetterSetter(oo,"radius",0,He());q.addGetterSetter(oo,"angle",0,He());q.addGetterSetter(oo,"clockwise",!1);q.backCompat(oo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function h5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const rj=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],ij=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function sj(t,e){const n=t.data,a=t.width,i=t.height;let l,u,d,g,m,v,_,S,E,C,R,O,M,j,z,P,H,k,Y,F;const oe=e+e+1,_e=a-1,we=i-1,de=e+1,he=de*(de+1)/2,ve=new h5,Se=rj[e],B=ij[e];let le=null,Q=ve,pe=null,G=null;for(let ne=1;ne<oe;ne++)Q=Q.next=new h5,ne===de&&(le=Q);Q.next=ve,d=u=0;for(let ne=0;ne<i;ne++){O=M=j=z=g=m=v=_=0,S=de*(P=n[u]),E=de*(H=n[u+1]),C=de*(k=n[u+2]),R=de*(Y=n[u+3]),g+=he*P,m+=he*H,v+=he*k,_+=he*Y,Q=ve;for(let Ce=0;Ce<de;Ce++)Q.r=P,Q.g=H,Q.b=k,Q.a=Y,Q=Q.next;for(let Ce=1;Ce<de;Ce++)l=u+((_e<Ce?_e:Ce)<<2),g+=(Q.r=P=n[l])*(F=de-Ce),m+=(Q.g=H=n[l+1])*F,v+=(Q.b=k=n[l+2])*F,_+=(Q.a=Y=n[l+3])*F,O+=P,M+=H,j+=k,z+=Y,Q=Q.next;pe=ve,G=le;for(let Ce=0;Ce<a;Ce++)n[u+3]=Y=_*Se>>B,Y!==0?(Y=255/Y,n[u]=(g*Se>>B)*Y,n[u+1]=(m*Se>>B)*Y,n[u+2]=(v*Se>>B)*Y):n[u]=n[u+1]=n[u+2]=0,g-=S,m-=E,v-=C,_-=R,S-=pe.r,E-=pe.g,C-=pe.b,R-=pe.a,l=d+((l=Ce+e+1)<_e?l:_e)<<2,O+=pe.r=n[l],M+=pe.g=n[l+1],j+=pe.b=n[l+2],z+=pe.a=n[l+3],g+=O,m+=M,v+=j,_+=z,pe=pe.next,S+=P=G.r,E+=H=G.g,C+=k=G.b,R+=Y=G.a,O-=P,M-=H,j-=k,z-=Y,G=G.next,u+=4;d+=a}for(let ne=0;ne<a;ne++){M=j=z=O=m=v=_=g=0,u=ne<<2,S=de*(P=n[u]),E=de*(H=n[u+1]),C=de*(k=n[u+2]),R=de*(Y=n[u+3]),g+=he*P,m+=he*H,v+=he*k,_+=he*Y,Q=ve;for(let Te=0;Te<de;Te++)Q.r=P,Q.g=H,Q.b=k,Q.a=Y,Q=Q.next;let Ce=a;for(let Te=1;Te<=e;Te++)u=Ce+ne<<2,g+=(Q.r=P=n[u])*(F=de-Te),m+=(Q.g=H=n[u+1])*F,v+=(Q.b=k=n[u+2])*F,_+=(Q.a=Y=n[u+3])*F,O+=P,M+=H,j+=k,z+=Y,Q=Q.next,Te<we&&(Ce+=a);u=ne,pe=ve,G=le;for(let Te=0;Te<i;Te++)l=u<<2,n[l+3]=Y=_*Se>>B,Y>0?(Y=255/Y,n[l]=(g*Se>>B)*Y,n[l+1]=(m*Se>>B)*Y,n[l+2]=(v*Se>>B)*Y):n[l]=n[l+1]=n[l+2]=0,g-=S,m-=E,v-=C,_-=R,S-=pe.r,E-=pe.g,C-=pe.b,R-=pe.a,l=ne+((l=Te+de)<we?l:we)*a<<2,g+=O+=pe.r=n[l],m+=M+=pe.g=n[l+1],v+=j+=pe.b=n[l+2],_+=z+=pe.a=n[l+3],pe=pe.next,S+=P=G.r,E+=H=G.g,C+=k=G.b,R+=Y=G.a,O-=P,M-=H,j-=k,z-=Y,G=G.next,u+=a}}const lj=function(e){const n=Math.round(this.blurRadius());n>0&&sj(e,n)};q.addGetterSetter(qe,"blurRadius",0,He(),q.afterSetFilter);const oj=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};q.addGetterSetter(qe,"brightness",0,He(),q.afterSetFilter);const uj=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},cj=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,l=150,u=150;for(let d=0;d<a;d+=4)i=n[d],l=n[d+1],u=n[d+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,n[d]=i,n[d+1]=l,n[d+2]=u};q.addGetterSetter(qe,"contrast",0,He(),q.afterSetFilter);const fj=function(t){var e,n,a,i,l,u,d,g,m;const v=t.data,_=t.width,S=t.height,E=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),C=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),O=(d={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&d!==void 0?d:315,M=!!((m=(g=this.embossBlend)===null||g===void 0?void 0:g.call(this))!==null&&m!==void 0&&m),j=E*10,z=C*255,P=O*Math.PI/180,H=Math.cos(P),k=Math.sin(P),Y=128/1020*j,F=new Uint8ClampedArray(v),oe=new Float32Array(_*S);for(let ve=0,Se=0;Se<v.length;Se+=4,ve++)oe[ve]=.2126*F[Se]+.7152*F[Se+1]+.0722*F[Se+2];const _e=[-1,0,1,-2,0,2,-1,0,1],we=[-1,-2,-1,0,0,0,1,2,1],de=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],he=ve=>ve<0?0:ve>255?255:ve;for(let ve=1;ve<S-1;ve++)for(let Se=1;Se<_-1;Se++){const B=ve*_+Se;let le=0,Q=0;le+=oe[B+de[0]]*_e[0],Q+=oe[B+de[0]]*we[0],le+=oe[B+de[1]]*_e[1],Q+=oe[B+de[1]]*we[1],le+=oe[B+de[2]]*_e[2],Q+=oe[B+de[2]]*we[2],le+=oe[B+de[3]]*_e[3],Q+=oe[B+de[3]]*we[3],le+=oe[B+de[5]]*_e[5],Q+=oe[B+de[5]]*we[5],le+=oe[B+de[6]]*_e[6],Q+=oe[B+de[6]]*we[6],le+=oe[B+de[7]]*_e[7],Q+=oe[B+de[7]]*we[7],le+=oe[B+de[8]]*_e[8],Q+=oe[B+de[8]]*we[8];const pe=H*le+k*Q,G=he(z+pe*Y),ne=B*4;if(M){const Ce=G-z;v[ne]=he(F[ne]+Ce),v[ne+1]=he(F[ne+1]+Ce),v[ne+2]=he(F[ne+2]+Ce),v[ne+3]=F[ne+3]}else v[ne]=v[ne+1]=v[ne+2]=G,v[ne+3]=F[ne+3]}for(let ve=0;ve<_;ve++){let Se=ve*4,B=((S-1)*_+ve)*4;v[Se]=F[Se],v[Se+1]=F[Se+1],v[Se+2]=F[Se+2],v[Se+3]=F[Se+3],v[B]=F[B],v[B+1]=F[B+1],v[B+2]=F[B+2],v[B+3]=F[B+3]}for(let ve=1;ve<S-1;ve++){let Se=ve*_*4,B=(ve*_+(_-1))*4;v[Se]=F[Se],v[Se+1]=F[Se+1],v[Se+2]=F[Se+2],v[Se+3]=F[Se+3],v[B]=F[B],v[B+1]=F[B+1],v[B+2]=F[B+2],v[B+3]=F[B+3]}return t};q.addGetterSetter(qe,"embossStrength",.5,He(),q.afterSetFilter);q.addGetterSetter(qe,"embossWhiteLevel",.5,He(),q.afterSetFilter);q.addGetterSetter(qe,"embossDirection","top-left",void 0,q.afterSetFilter);q.addGetterSetter(qe,"embossBlend",!1,void 0,q.afterSetFilter);function ty(t,e,n,a,i){const l=n-e,u=i-a;if(l===0)return a+u/2;if(u===0)return a;let d=(t-e)/l;return d=u*d+a,d}const dj=function(t){const e=t.data,n=e.length;let a=e[0],i=a,l,u=e[1],d=u,g,m=e[2],v=m,_;const S=this.enhance();if(S===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>i&&(i=l),g=e[z+1],g<u?u=g:g>d&&(d=g),_=e[z+2],_<m?m=_:_>v&&(v=_);i===a&&(i=255,a=0),d===u&&(d=255,u=0),v===m&&(v=255,m=0);let E,C,R,O,M,j;if(S>0)E=i+S*(255-i),C=a-S*(a-0),R=d+S*(255-d),O=u-S*(u-0),M=v+S*(255-v),j=m-S*(m-0);else{const z=(i+a)*.5;E=i+S*(i-z),C=a+S*(a-z);const P=(d+u)*.5;R=d+S*(d-P),O=u+S*(u-P);const H=(v+m)*.5;M=v+S*(v-H),j=m+S*(m-H)}for(let z=0;z<n;z+=4)e[z+0]=ty(e[z+0],a,i,C,E),e[z+1]=ty(e[z+1],u,d,O,R),e[z+2]=ty(e[z+2],m,v,j,M)};q.addGetterSetter(qe,"enhance",0,He(),q.afterSetFilter);const hj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};q.addGetterSetter(qe,"hue",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"saturation",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"luminance",0,He(),q.afterSetFilter);const gj=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,d=a*i*Math.cos(l*Math.PI/180),g=a*i*Math.sin(l*Math.PI/180),m=.299*a+.701*d+.167*g,v=.587*a-.587*d+.33*g,_=.114*a-.114*d-.497*g,S=.299*a-.299*d-.328*g,E=.587*a+.413*d+.035*g,C=.114*a-.114*d+.293*g,R=.299*a-.3*d+1.25*g,O=.587*a-.586*d-1.05*g,M=.114*a+.886*d-.2*g;let j,z,P,H;for(let k=0;k<n;k+=4)j=e[k+0],z=e[k+1],P=e[k+2],H=e[k+3],e[k+0]=m*j+v*z+_*P+u,e[k+1]=S*j+E*z+C*P+u,e[k+2]=R*j+O*z+M*P+u,e[k+3]=H},pj=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=a*i*Math.cos(l*Math.PI/180),d=a*i*Math.sin(l*Math.PI/180),g=.299*a+.701*u+.167*d,m=.587*a-.587*u+.33*d,v=.114*a-.114*u-.497*d,_=.299*a-.299*u-.328*d,S=.587*a+.413*u+.035*d,E=.114*a-.114*u+.293*d,C=.299*a-.3*u+1.25*d,R=.587*a-.586*u-1.05*d,O=.114*a+.886*u-.2*d;for(let M=0;M<n;M+=4){const j=e[M+0],z=e[M+1],P=e[M+2],H=e[M+3];e[M+0]=g*j+m*z+v*P,e[M+1]=_*j+S*z+E*P,e[M+2]=C*j+R*z+O*P,e[M+3]=H}};q.addGetterSetter(qe,"hue",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"saturation",0,He(),q.afterSetFilter);q.addGetterSetter(qe,"value",0,He(),q.afterSetFilter);const mj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},vj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=u-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const E=u,C=l,R=360/C*Math.PI/180;for(let O=0;O<C;O+=1){const M=Math.sin(O*R),j=Math.cos(O*R);for(let z=0;z<E;z+=1){v=Math.floor(d+m*z/E*j),_=Math.floor(g+m*z/E*M);let P=(_*l+v)*4;const H=a[P+0],k=a[P+1],Y=a[P+2],F=a[P+3];P=(O+z*l)*4,i[P+0]=H,i[P+1]=k,i[P+2]=Y,i[P+3]=F}}},yj=function(t,e,n){const a=t.data,i=e.data,l=t.width,u=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||u/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=u-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const E=u,C=l,R=0;let O,M;for(v=0;v<l;v+=1)for(_=0;_<u;_+=1){const j=v-d,z=_-g,P=Math.sqrt(j*j+z*z)*E/m;let H=(Math.atan2(z,j)*180/Math.PI+360+R)%360;H=H*C/360,O=Math.floor(H),M=Math.floor(P);let k=(M*l+O)*4;const Y=a[k+0],F=a[k+1],oe=a[k+2],_e=a[k+3];k=(_*l+v)*4,i[k+0]=Y,i[k+1]=F,i[k+2]=oe,i[k+3]=_e}},bj=function(t){const e=t.width,n=t.height;let a,i,l,u,d,g,m,v,_,S,E=Math.round(this.kaleidoscopePower());const C=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(C%360)/360);if(E<1)return;const O=te.createCanvasElement();O.width=e,O.height=n;const M=O.getContext("2d").getImageData(0,0,e,n);te.releaseCanvas(O),vj(t,M,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,E);for(;j<=8;)j=j*2,E-=1;j=Math.ceil(j);let z=j,P=0,H=z,k=1;for(R+j>e&&(P=z,H=0,k=-1),i=0;i<n;i+=1)for(a=P;a!==H;a+=k)l=Math.round(a+R)%e,_=(e*i+l)*4,d=M.data[_+0],g=M.data[_+1],m=M.data[_+2],v=M.data[_+3],S=(e*i+a)*4,M.data[S+0]=d,M.data[S+1]=g,M.data[S+2]=m,M.data[S+3]=v;for(i=0;i<n;i+=1)for(z=Math.floor(j),u=0;u<E;u+=1){for(a=0;a<z+1;a+=1)_=(e*i+a)*4,d=M.data[_+0],g=M.data[_+1],m=M.data[_+2],v=M.data[_+3],S=(e*i+z*2-a-1)*4,M.data[S+0]=d,M.data[S+1]=g,M.data[S+2]=m,M.data[S+3]=v;z*=2}yj(M,t,{})};q.addGetterSetter(qe,"kaleidoscopePower",2,He(),q.afterSetFilter);q.addGetterSetter(qe,"kaleidoscopeAngle",0,He(),q.afterSetFilter);function cm(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function _0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function _j(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Sj(t,e){const n=cm(t,0,0),a=cm(t,t.width-1,0),i=cm(t,0,t.height-1),l=cm(t,t.width-1,t.height-1),u=e||10;if(_0(n,a)<u&&_0(a,l)<u&&_0(l,i)<u&&_0(i,n)<u){const d=_j([a,n,l,i]),g=[];for(let m=0;m<t.width*t.height;m++){const v=_0(d,[t.data[m*4],t.data[m*4+1],t.data[m*4+2]]);g[m]=v<u?0:255}return g}}function wj(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function xj(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const E=d+_-l,C=g+S-l;if(E>=0&&E<n&&C>=0&&C<e){const R=E*e+C,O=a[_*i+S];v+=t[R]*O}}u[m]=v===2040?255:0}return u}function Ej(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const E=d+_-l,C=g+S-l;if(E>=0&&E<n&&C>=0&&C<e){const R=E*e+C,O=a[_*i+S];v+=t[R]*O}}u[m]=v>=1020?255:0}return u}function Cj(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),l=Math.floor(i/2),u=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<i;_++)for(let S=0;S<i;S++){const E=d+_-l,C=g+S-l;if(E>=0&&E<n&&C>=0&&C<e){const R=E*e+C,O=a[_*i+S];v+=t[R]*O}}u[m]=v}return u}const Tj=function(t){const e=this.threshold();let n=Sj(t,e);return n&&(n=xj(n,t.width,t.height),n=Ej(n,t.width,t.height),n=Cj(n,t.width,t.height),wj(t,n)),t};q.addGetterSetter(qe,"threshold",0,He(),q.afterSetFilter);const Aj=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let l=0;l<a;l+=4)n[l+0]+=i-2*i*Math.random(),n[l+1]+=i-2*i*Math.random(),n[l+2]+=i-2*i*Math.random()};q.addGetterSetter(qe,"noise",.2,He(),q.afterSetFilter);const Rj=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),l=Math.ceil(a/e),u=t.data;if(e<=0){te.error("pixelSize value can not be <= 0");return}for(let d=0;d<i;d+=1)for(let g=0;g<l;g+=1){let m=0,v=0,_=0,S=0;const E=d*e,C=E+e,R=g*e,O=R+e;let M=0;for(let j=E;j<C;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const P=(n*z+j)*4;m+=u[P+0],v+=u[P+1],_+=u[P+2],S+=u[P+3],M+=1}m=m/M,v=v/M,_=_/M,S=S/M;for(let j=E;j<C;j+=1)if(!(j>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const P=(n*z+j)*4;u[P+0]=m,u[P+1]=v,u[P+2]=_,u[P+3]=S}}};q.addGetterSetter(qe,"pixelSize",8,He(),q.afterSetFilter);const Oj=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/i)*i};q.addGetterSetter(qe,"levels",.5,He(),q.afterSetFilter);const Nj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue();for(let u=0;u<n;u+=4){const d=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255;e[u]=d*a,e[u+1]=d*i,e[u+2]=d*l,e[u+3]=e[u+3]}};q.addGetterSetter(qe,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"blue",0,RS,q.afterSetFilter);const Mj=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),l=this.blue(),u=this.alpha();for(let d=0;d<n;d+=4){const g=1-u;e[d]=a*u+e[d]*g,e[d+1]=i*u+e[d+1]*g,e[d+2]=l*u+e[d+2]*g}};q.addGetterSetter(qe,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(qe,"blue",0,RS,q.afterSetFilter);q.addGetterSetter(qe,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Dj=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],l=e[a+1],u=e[a+2];e[a+0]=Math.min(255,i*.393+l*.769+u*.189),e[a+1]=Math.min(255,i*.349+l*.686+u*.168),e[a+2]=Math.min(255,i*.272+l*.534+u*.131)}},jj=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],l=n[a+1],u=n[a+2];.2126*i+.7152*l+.0722*u>=128&&(n[a]=255-i,n[a+1]=255-l,n[a+2]=255-u)}return t},zj=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};q.addGetterSetter(qe,"threshold",.5,He(),q.afterSetFilter);const r2=Ld.Util._assign(Ld,{Arc:so,Arrow:qc,Circle:Hd,Ellipse:bu,Image:Pi,Label:Z2,Tag:Vc,Line:lo,Path:zi,Rect:lg,RegularPolygon:_u,Ring:Yc,Sprite:hl,Star:Su,Text:Hn,TextPath:Ea,Transformer:$t,Wedge:oo,Filters:{Blur:lj,Brightness:uj,Brighten:oj,Contrast:cj,Emboss:fj,Enhance:dj,Grayscale:hj,HSL:gj,HSV:pj,Invert:mj,Kaleidoscope:bj,Mask:Tj,Noise:Aj,Pixelate:Rj,Posterize:Oj,RGB:Nj,RGBA:Mj,Sepia:Dj,Solarize:jj,Threshold:zj}});var ny={exports:{}},ay={exports:{}};var g5;function Uj(){return g5||(g5=1,(function(t){t.exports=function(e){function n(o,c,p,b){return new Fv(o,c,p,b)}function a(){}function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function u(o){if(l(o)!==o)throw Error(i(188))}function d(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(i(188));return c!==o?null:o}for(var p=o,b=c;;){var x=p.return;if(x===null)break;var A=x.alternate;if(A===null){if(b=x.return,b!==null){p=b;continue}break}if(x.child===A.child){for(A=x.child;A;){if(A===p)return u(x),o;if(A===b)return u(x),c;A=A.sibling}throw Error(i(188))}if(p.return!==b.return)p=x,b=A;else{for(var L=!1,Z=x.child;Z;){if(Z===p){L=!0,p=x,b=A;break}if(Z===b){L=!0,b=x,p=A;break}Z=Z.sibling}if(!L){for(Z=A.child;Z;){if(Z===p){L=!0,p=A,b=x;break}if(Z===b){L=!0,b=A,p=x;break}Z=Z.sibling}if(!L)throw Error(i(189))}}if(p.alternate!==b)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=m(o),c!==null))return c;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Mf&&o[Mf]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Fu?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ll:return"Fragment";case Nf:return"Profiler";case Zu:return"StrictMode";case Xu:return"Suspense";case Ku:return"SuspenseList";case Pl:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Us:return"Portal";case Ji:return(o.displayName||"Context")+".Provider";case wh:return(o._context.displayName||"Context")+".Consumer";case bi:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case _i:return c=o.displayName||null,c!==null?c:_(o.type)||"Memo";case Ya:c=o._payload,o=o._init;try{return _(o(c))}catch{}}return null}function S(o){return{current:o}}function E(o){0>is||(o.current=rs[is],rs[is]=null,is--)}function C(o,c){is++,rs[is]=o.current,o.current=c}function R(o){return o>>>=0,o===0?32:31-(yp(o)/Hf|0)|0}function O(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function M(o,c,p){var b=o.pendingLanes;if(b===0)return 0;var x=0,A=o.suspendedLanes,L=o.pingedLanes;o=o.warmLanes;var Z=b&134217727;return Z!==0?(b=Z&~A,b!==0?x=O(b):(L&=Z,L!==0?x=O(L):p||(p=Z&~o,p!==0&&(x=O(p))))):(Z=b&~A,Z!==0?x=O(Z):L!==0?x=O(L):p||(p=b&~o,p!==0&&(x=O(p)))),x===0?0:c!==0&&c!==x&&(c&A)===0&&(A=x&-x,p=c&-c,A>=p||A===32&&(p&4194048)!==0)?c:x}function j(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function z(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var o=lc;return lc<<=1,(lc&4194048)===0&&(lc=256),o}function H(){var o=Lo;return Lo<<=1,(Lo&62914560)===0&&(Lo=4194304),o}function k(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Y(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function F(o,c,p,b,x,A){var L=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var Z=o.entanglements,ee=o.expirationTimes,Oe=o.hiddenUpdates;for(p=L&~p;0<p;){var Le=31-cr(p),Ie=1<<Le;Z[Le]=0,ee[Le]=-1;var Ke=Oe[Le];if(Ke!==null)for(Oe[Le]=null,Le=0;Le<Ke.length;Le++){var Tt=Ke[Le];Tt!==null&&(Tt.lane&=-536870913)}p&=~Ie}b!==0&&oe(o,b,0),A!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=A&~(L&~c))}function oe(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var b=31-cr(c);o.entangledLanes|=c,o.entanglements[b]=o.entanglements[b]|1073741824|p&4194090}function _e(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var b=31-cr(p),x=1<<b;x&c|o[b]&c&&(o[b]|=c),p&=~x}}function we(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function de(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function he(o){if(typeof wp=="function"&&xp(o),Ia&&typeof Ia.setStrictMode=="function")try{Ia.setStrictMode(Hs,o)}catch{}}function ve(o){if(Vf===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Vf=c&&c[1]||"",Kh=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vf+o+Kh}function Se(o,c){if(!o||Yf)return"";Yf=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(Tt){var Ke=Tt}Reflect.construct(o,[],Ie)}else{try{Ie.call()}catch(Tt){Ke=Tt}o.call(Ie.prototype)}}else{try{throw Error()}catch(Tt){Ke=Tt}(Ie=o())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(Tt){if(Tt&&Ke&&typeof Tt.stack=="string")return[Tt.stack,Ke.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=b.DetermineComponentFrameRoot(),L=A[0],Z=A[1];if(L&&Z){var ee=L.split(`
`),Oe=Z.split(`
`);for(x=b=0;b<ee.length&&!ee[b].includes("DetermineComponentFrameRoot");)b++;for(;x<Oe.length&&!Oe[x].includes("DetermineComponentFrameRoot");)x++;if(b===ee.length||x===Oe.length)for(b=ee.length-1,x=Oe.length-1;1<=b&&0<=x&&ee[b]!==Oe[x];)x--;for(;1<=b&&0<=x;b--,x--)if(ee[b]!==Oe[x]){if(b!==1||x!==1)do if(b--,x--,0>x||ee[b]!==Oe[x]){var Le=`
`+ee[b].replace(" at new "," at ");return o.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",o.displayName)),Le}while(1<=b&&0<=x);break}}}finally{Yf=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?ve(p):""}function B(o){switch(o.tag){case 26:case 27:case 5:return ve(o.type);case 16:return ve("Lazy");case 13:return ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Se(o.type,!1);case 11:return Se(o.type.render,!1);case 1:return Se(o.type,!0);case 31:return ve("Activity");default:return""}}function le(o){try{var c="";do c+=B(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Q(o,c){if(typeof o=="object"&&o!==null){var p=Zf.get(o);return p!==void 0?p:(c={value:o,source:c,stack:le(c)},Zf.set(o,c),c)}return{value:o,source:c,stack:le(c)}}function pe(o,c){Gs[qs++]=Po,Gs[qs++]=uc,uc=o,Po=c}function G(o,c,p){Xa[fr++]=Fr,Xa[fr++]=Ei,Xa[fr++]=Vs,Vs=o;var b=Fr;o=Ei;var x=32-cr(b)-1;b&=~(1<<x),p+=1;var A=32-cr(c)+x;if(30<A){var L=x-x%5;A=(b&(1<<L)-1).toString(32),b>>=L,x-=L,Fr=1<<32-cr(c)+x|p<<x|b,Ei=A+o}else Fr=1<<A|p<<x|b,Ei=o}function ne(o){o.return!==null&&(pe(o,1),G(o,1,0))}function Ce(o){for(;o===uc;)uc=Gs[--qs],Gs[qs]=null,Po=Gs[--qs],Gs[qs]=null;for(;o===Vs;)Vs=Xa[--fr],Xa[fr]=null,Ei=Xa[--fr],Xa[fr]=null,Fr=Xa[--fr],Xa[fr]=null}function Te(o,c){C(Ys,c),C(ql,o),C(Tn,null),o=Eh(c),E(Tn),C(Tn,o)}function Ye(){E(Tn),E(ql),E(Ys)}function be(o){o.memoizedState!==null&&C(cc,o);var c=Tn.current,p=Ch(c,o.type);c!==p&&(C(ql,o),C(Tn,p))}function ye(o){ql.current===o&&(E(Tn),E(ql)),cc.current===o&&(E(cc),ts?wi._currentValue=ur:wi._currentValue2=ur)}function ke(o){var c=Error(i(418,""));throw Nn(Q(c,o)),Fh}function Xe(o,c){if(!lr)throw Error(i(175));hp(o.stateNode,o.type,o.memoizedProps,c,o)||ke(o)}function Ot(o){for(Pn=o.return;Pn;)switch(Pn.tag){case 5:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:Pn=Pn.return}}function ot(o){if(!lr||o!==Pn)return!1;if(!It)return Ot(o),It=!0,!1;var c=o.tag;if(Lt?c!==3&&c!==27&&(c!==5||qh(o.type)&&!es(o.type,o.memoizedProps))&&Qn&&ke(o):c!==3&&(c!==5||qh(o.type)&&!es(o.type,o.memoizedProps))&&Qn&&ke(o),Ot(o),c===13){if(!lr)throw Error(i(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Qn=Lf(o)}else Qn=Lt&&c===27?Bh(o.type,Qn):Pn?op(o.stateNode):null;return!0}function St(){lr&&(Qn=Pn=null,It=!1)}function mn(){var o=Qr;return o!==null&&(Ua===null?Ua=o:Ua.push.apply(Ua,o),Qr=null),o}function Nn(o){Qr===null?Qr=[o]:Qr.push(o)}function fn(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function Ba(o,c,p){ts?(C(fc,c._currentValue),c._currentValue=p):(C(fc,c._currentValue2),c._currentValue2=p)}function Ha(o){var c=fc.current;ts?o._currentValue=c:o._currentValue2=c,E(fc)}function ea(o,c,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===p)break;o=o.return}}function Bi(o,c,p,b){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var A=x.dependencies;if(A!==null){var L=x.child;A=A.firstContext;e:for(;A!==null;){var Z=A;A=x;for(var ee=0;ee<c.length;ee++)if(Z.context===c[ee]){A.lanes|=p,Z=A.alternate,Z!==null&&(Z.lanes|=p),ea(A.return,p,o),b||(L=null);break e}A=Z.next}}else if(x.tag===18){if(L=x.return,L===null)throw Error(i(341));L.lanes|=p,A=L.alternate,A!==null&&(A.lanes|=p),ea(L,p,o),L=null}else L=x.child;if(L!==null)L.return=x;else for(L=x;L!==null;){if(L===o){L=null;break}if(x=L.sibling,x!==null){x.return=L.return,L=x;break}L=L.return}x=L}}function Wa(o,c,p,b){o=null;for(var x=c,A=!1;x!==null;){if(!A){if((x.flags&524288)!==0)A=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var L=x.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var Z=x.type;wr(x.pendingProps.value,L.value)||(o!==null?o.push(Z):o=[Z])}}else if(x===cc.current){if(L=x.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(wi):o=[wi])}x=x.return}o!==null&&Bi(c,o,p,b),c.flags|=262144}function X(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!wr(ts?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function ae(o){$r=o,Da=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ce(o){return Pe($r,o)}function Ge(o,c){return $r===null&&ae(o),Pe(o,c)}function Pe(o,c){var p=ts?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:p,next:null},Da===null){if(o===null)throw Error(i(308));Da=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Da=Da.next=c;return p}function Ue(){return{controller:new Ep,data:new Map,refCount:0}}function Ze(o){o.refCount--,o.refCount===0&&Cp(dc,function(){o.controller.abort()})}function We(o){o!==Zs&&o.next===null&&(Zs===null?hc=Zs=o:Zs=Zs.next=o),Bo=!0,If||(If=!0,Ne())}function bt(o,c){if(!gc&&Bo){gc=!0;do for(var p=!1,b=hc;b!==null;){if(o!==0){var x=b.pendingLanes;if(x===0)var A=0;else{var L=b.suspendedLanes,Z=b.pingedLanes;A=(1<<31-cr(42|o)+1)-1,A&=x&~(L&~Z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,Ja(b,A))}else A=jt,A=M(b,b===Kt?A:0,b.cancelPendingCommit!==null||b.timeoutHandle!==zr),(A&3)===0||j(b,A)||(p=!0,Ja(b,A));b=b.next}while(p);gc=!1}}function en(){gr()}function gr(){Bo=If=!1;var o=0;ss!==0&&(Ah()&&(o=ss),ss=0);for(var c=gn(),p=null,b=hc;b!==null;){var x=b.next,A=Ca(b,c);A===0?(b.next=null,p===null?hc=x:p.next=x,x===null&&(Zs=p)):(p=b,(o!==0||(A&3)!==0)&&(Bo=!0)),b=x}bt(o)}function Ca(o,c){for(var p=o.suspendedLanes,b=o.pingedLanes,x=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var L=31-cr(A),Z=1<<L,ee=x[L];ee===-1?((Z&p)===0||(Z&b)!==0)&&(x[L]=z(Z,c)):ee<=c&&(o.expiredLanes|=Z),A&=~Z}if(c=Kt,p=jt,p=M(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==zr),b=o.callbackNode,p===0||o===c&&(rn===2||rn===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&Gf(b),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||j(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(b!==null&&Gf(b),de(p)){case 2:case 8:p=_p;break;case 32:p=qf;break;case 268435456:p=Sp;break;default:p=qf}return b=pa.bind(null,o),p=oc(p,b),o.callbackPriority=c,o.callbackNode=p,c}return b!==null&&b!==null&&Gf(b),o.callbackPriority=2,o.callbackNode=null,2}function pa(o,c){if(na!==0&&na!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(jr()&&o.callbackNode!==p)return null;var b=jt;return b=M(o,o===Kt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==zr),b===0?null:(Vu(o,b,c),Ca(o,gn()),o.callbackNode!=null&&o.callbackNode===p?pa.bind(null,o):null)}function Ja(o,c){if(jr())return null;Vu(o,c,!0)}function Ne(){Nh?qg(function(){(ct&6)!==0?oc(ua,en):gr()}):oc(ua,en)}function De(){return ss===0&&(ss=P()),ss}function Wt(o,c){if(Ho===null){var p=Ho=[];Wr=0,Sn=De(),Is={status:"pending",value:void 0,then:function(b){p.push(b)}}}return Wr++,c.then(xt,xt),c}function xt(){if(--Wr===0&&Ho!==null){Is!==null&&(Is.status="fulfilled");var o=Ho;Ho=null,Sn=0,Is=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function on(o,c){var p=[],b={status:"pending",value:null,reason:null,then:function(x){p.push(x)}};return o.then(function(){b.status="fulfilled",b.value=c;for(var x=0;x<p.length;x++)(0,p[x])(c)},function(x){for(b.status="rejected",b.reason=x,x=0;x<p.length;x++)(0,p[x])(void 0)}),b}function Gn(){var o=Dn.current;return o!==null?o:Kt.pooledCache}function Hi(o,c){c===null?C(Dn,Dn.current):C(Dn,c.pool)}function fo(){var o=Gn();return o===null?null:{parent:ts?an._currentValue:an._currentValue2,pool:o}}function Yr(o,c){if(wr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),b=Object.keys(c);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var x=p[b];if(!t1.call(c,x)||!wr(o[x],c[x]))return!1}return!0}function Xc(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ss(){}function ws(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Ss,Ss),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ho(o),o;default:if(typeof c.status=="string")c.then(Ss,Ss);else{if(o=Kt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(b){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=b}},function(b){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ho(o),o}throw dr=c,Go}}function Gi(){if(dr===null)throw Error(i(459));var o=dr;return dr=null,o}function ho(o){if(o===Go||o===vn)throw Error(i(483))}function pl(){for(var o=Vl,c=$h=Vl=0;c<o;){var p=xr[c];xr[c++]=null;var b=xr[c];xr[c++]=null;var x=xr[c];xr[c++]=null;var A=xr[c];if(xr[c++]=null,b!==null&&x!==null){var L=b.pending;L===null?x.next=x:(x.next=L.next,L.next=x),b.pending=x}A!==0&&Re(p,x,A)}}function I(o,c,p,b){xr[Vl++]=o,xr[Vl++]=c,xr[Vl++]=p,xr[Vl++]=b,$h|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function J(o,c,p,b){return I(o,c,p,b),Be(o)}function ie(o,c){return I(o,null,null,c),Be(o)}function Re(o,c,p){o.lanes|=p;var b=o.alternate;b!==null&&(b.lanes|=p);for(var x=!1,A=o.return;A!==null;)A.childLanes|=p,b=A.alternate,b!==null&&(b.childLanes|=p),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(x=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,x&&c!==null&&(x=31-cr(p),o=A.hiddenUpdates,b=o[x],b===null?o[x]=[c]:b.push(c),c.lane=p|536870912),A):null}function Be(o){if(50<nl)throw nl=0,Wf=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function tt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function it(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Fe(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Je(o,c,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(ct&2)!==0){var x=b.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),b.pending=c,c=Be(o),Re(o,null,p),c}return I(o,b,c,p),Be(o)}function st(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,_e(o,p)}}function rt(o,c){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var x=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var L={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?x=A=L:A=A.next=L,p=p.next}while(p!==null);A===null?x=A=c:A=A.next=c}else x=A=c;p={baseState:b.baseState,firstBaseUpdate:x,lastBaseUpdate:A,shared:b.shared,callbacks:b.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Qe(){if(Ka){var o=Is;if(o!==null)throw o}}function wt(o,c,p,b){Ka=!1;var x=o.updateQueue;Ci=!1;var A=x.firstBaseUpdate,L=x.lastBaseUpdate,Z=x.shared.pending;if(Z!==null){x.shared.pending=null;var ee=Z,Oe=ee.next;ee.next=null,L===null?A=Oe:L.next=Oe,L=ee;var Le=o.alternate;Le!==null&&(Le=Le.updateQueue,Z=Le.lastBaseUpdate,Z!==L&&(Z===null?Le.firstBaseUpdate=Oe:Z.next=Oe,Le.lastBaseUpdate=ee))}if(A!==null){var Ie=x.baseState;L=0,Le=Oe=ee=null,Z=A;do{var Ke=Z.lane&-536870913,Tt=Ke!==Z.lane;if(Tt?(jt&Ke)===Ke:(b&Ke)===Ke){Ke!==0&&Ke===Sn&&(Ka=!0),Le!==null&&(Le=Le.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Lr=o,al=Z;Ke=c;var Pr=p;switch(al.tag){case 1:if(Lr=al.payload,typeof Lr=="function"){Ie=Lr.call(Pr,Ie,Ke);break e}Ie=Lr;break e;case 3:Lr.flags=Lr.flags&-65537|128;case 0:if(Lr=al.payload,Ke=typeof Lr=="function"?Lr.call(Pr,Ie,Ke):Lr,Ke==null)break e;Ie=Ul({},Ie,Ke);break e;case 2:Ci=!0}}Ke=Z.callback,Ke!==null&&(o.flags|=64,Tt&&(o.flags|=8192),Tt=x.callbacks,Tt===null?x.callbacks=[Ke]:Tt.push(Ke))}else Tt={lane:Ke,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Le===null?(Oe=Le=Tt,ee=Ie):Le=Le.next=Tt,L|=Ke;if(Z=Z.next,Z===null){if(Z=x.shared.pending,Z===null)break;Tt=Z,Z=Tt.next,Tt.next=null,x.lastBaseUpdate=Tt,x.shared.pending=null}}while(!0);Le===null&&(ee=Ie),x.baseState=ee,x.firstBaseUpdate=Oe,x.lastBaseUpdate=Le,A===null&&(x.shared.lanes=0),Jn|=L,o.lanes=L,o.memoizedState=Ie}}function tn(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function bn(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)tn(p[o],c)}function Ht(o,c){o=Yn,C(pc,o),C(ja,c),Yn=o|c.baseLanes}function dn(){C(pc,Yn),C(ja,ja.current)}function sn(){Yn=pc.current,E(ja),E(pc)}function Gt(){throw Error(i(321))}function er(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!wr(o[p],c[p]))return!1;return!0}function Rr(o,c,p,b,x,A){return $n=A,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ut.H=o===null||o.memoizedState===null?Yl:Wh,ls=!1,A=p(b,x),ls=!1,Xs&&(A=ml(c,p,b,x)),tr(o),A}function tr(o){ut.H=Ks;var c=qt!==null&&qt.next!==null;if($n=0,wn=qt=At=null,Jr=!1,qo=0,ei=null,c)throw Error(i(300));o===null||vt||(o=o.dependencies,o!==null&&X(o)&&(vt=!0))}function ml(o,c,p,b){At=o;var x=0;do{if(Xs&&(ei=null),qo=0,Xs=!1,25<=x)throw Error(i(301));if(x+=1,wn=qt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ut.H=Tp,A=c(p,b)}while(Xs);return A}function vl(){var o=ut.H,c=o.useState()[0];return c=typeof c.then=="function"?qa(c):c,o=o.useState()[0],(qt!==null?qt.memoizedState:null)!==o&&(At.flags|=1024),c}function nr(){var o=Er!==0;return Er=0,o}function Zr(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Ta(o){if(Jr){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Jr=!1}$n=0,wn=qt=At=null,Xs=!1,qo=Er=0,ei=null}function ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?At.memoizedState=wn=o:wn=wn.next=o,wn}function Ut(){if(qt===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=qt.next;var c=wn===null?At.memoizedState:wn.next;if(c!==null)wn=c,qt=o;else{if(o===null)throw At.alternate===null?Error(i(467)):Error(i(310));qt=o,o={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},wn===null?At.memoizedState=wn=o:wn=wn.next=o}return wn}function Ga(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(o){var c=qo;return qo+=1,ei===null&&(ei=[]),o=ws(ei,o,c),c=At,(wn===null?c.memoizedState:wn.next)===null&&(c=c.alternate,ut.H=c===null||c.memoizedState===null?Yl:Wh),o}function _n(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return qa(o);if(o.$$typeof===Ji)return ce(o)}throw Error(i(438,String(o)))}function xs(o){var c=null,p=At.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var b=At.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Ga(),At.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),b=0;b<o;b++)p[b]=xh;return c.index++,p}function pr(o,c){return typeof c=="function"?c(o):c}function ma(o){var c=Ut();return Kc(c,qt,o)}function Kc(o,c,p){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=p;var x=o.baseQueue,A=b.pending;if(A!==null){if(x!==null){var L=x.next;x.next=A.next,A.next=L}c.baseQueue=x=A,b.pending=null}if(A=o.baseState,x===null)o.memoizedState=A;else{c=x.next;var Z=L=null,ee=null,Oe=c,Le=!1;do{var Ie=Oe.lane&-536870913;if(Ie!==Oe.lane?(jt&Ie)===Ie:($n&Ie)===Ie){var Ke=Oe.revertLane;if(Ke===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ie===Sn&&(Le=!0);else if(($n&Ke)===Ke){Oe=Oe.next,Ke===Sn&&(Le=!0);continue}else Ie={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ee===null?(Z=ee=Ie,L=A):ee=ee.next=Ie,At.lanes|=Ke,Jn|=Ke;Ie=Oe.action,ls&&p(A,Ie),A=Oe.hasEagerState?Oe.eagerState:p(A,Ie)}else Ke={lane:Ie,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ee===null?(Z=ee=Ke,L=A):ee=ee.next=Ke,At.lanes|=Ie,Jn|=Ie;Oe=Oe.next}while(Oe!==null&&Oe!==c);if(ee===null?L=A:ee.next=Z,!wr(A,o.memoizedState)&&(vt=!0,Le&&(p=Is,p!==null)))throw p;o.memoizedState=A,o.baseState=L,o.baseQueue=ee,b.lastRenderedState=A}return x===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function Zd(o){var c=Ut(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=o;var b=p.dispatch,x=p.pending,A=c.memoizedState;if(x!==null){p.pending=null;var L=x=x.next;do A=o(A,L.action),L=L.next;while(L!==x);wr(A,c.memoizedState)||(vt=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),p.lastRenderedState=A}return[A,b]}function Cu(o,c,p){var b=At,x=Ut(),A=It;if(A){if(p===void 0)throw Error(i(407));p=p()}else p=c();var L=!wr((qt||x).memoizedState,p);L&&(x.memoizedState=p,vt=!0),x=x.queue;var Z=hg.bind(null,b,x,o);if(_l(2048,8,Z,[o]),x.getSnapshot!==c||L||wn!==null&&wn.memoizedState.tag&1){if(b.flags|=2048,Es(9,qi(),Tu.bind(null,b,x,p,c),null),Kt===null)throw Error(i(349));A||($n&124)!==0||Id(b,c,p)}return p}function Id(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=At.updateQueue,c===null?(c=Ga(),At.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Tu(o,c,p,b){c.value=p,c.getSnapshot=b,mr(c)&&Fc(o)}function hg(o,c,p){return p(function(){mr(c)&&Fc(o)})}function mr(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!wr(o,p)}catch{return!0}}function Fc(o){var c=ie(o,2);c!==null&&Oa(c,o,2)}function Qc(o){var c=ft();if(typeof o=="function"){var p=o;if(o=p(),ls){he(!0);try{p()}finally{he(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:o},c}function $c(o,c,p,b){return o.baseState=p,Kc(o,qt,typeof b=="function"?b:pr)}function go(o,c,p,b,x){if(Du(o))throw Error(i(485));if(o=c.action,o!==null){var A={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){A.listeners.push(L)}};ut.T!==null?p(!0):A.isTransition=!1,b(A),p=c.pending,p===null?(A.next=c.pending=A,Xd(c,A)):(A.next=p.next,c.pending=p.next=A)}}function Xd(o,c){var p=c.action,b=c.payload,x=o.state;if(c.isTransition){var A=ut.T,L={};ut.T=L;try{var Z=p(x,b),ee=ut.S;ee!==null&&ee(L,Z),Kd(o,c,Z)}catch(Oe){Fd(o,c,Oe)}finally{ut.T=A}}else try{A=p(x,b),Kd(o,c,A)}catch(Oe){Fd(o,c,Oe)}}function Kd(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){yl(o,c,b)},function(b){return Fd(o,c,b)}):yl(o,c,p)}function yl(o,c,p){c.status="fulfilled",c.value=p,Qd(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,Xd(o,p)))}function Fd(o,c,p){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=p,Qd(c),c=c.next;while(c!==b)}o.action=null}function Qd(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function $d(o,c){return c}function Wc(o,c){if(It){var p=Kt.formState;if(p!==null){e:{var b=At;if(It){if(Qn){var x=sp(Qn,Jt);if(x){Qn=op(x),b=lp(x);break e}}ke(b)}b=!1}b&&(c=p[0])}}p=ft(),p.memoizedState=p.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:c},p.queue=b,p=nf.bind(null,At,b),b.dispatch=p,b=Qc(!1);var A=bo.bind(null,At,!1,b.queue);return b=ft(),x={state:c,dispatch:null,action:o,pending:null},b.queue=x,p=go.bind(null,At,x,A,p),x.dispatch=p,b.memoizedState=o,[c,p,!1]}function gg(o){var c=Ut();return pg(c,qt,o)}function pg(o,c,p){if(c=Kc(o,c,$d)[0],o=ma(pr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=qa(c)}catch(L){throw L===Go?vn:L}else b=c;c=Ut();var x=c.queue,A=x.dispatch;return p!==c.memoizedState&&(At.flags|=2048,Es(9,qi(),Jc.bind(null,x,p),null)),[b,A,o]}function Jc(o,c){o.action=c}function ef(o){var c=Ut(),p=qt;if(p!==null)return pg(c,p,o);Ut(),c=c.memoizedState,p=Ut();var b=p.queue.dispatch;return p.memoizedState=o,[c,b,!1]}function Es(o,c,p,b){return o={tag:o,create:p,deps:b,inst:c,next:null},c=At.updateQueue,c===null&&(c=Ga(),At.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,c.lastEffect=o),o}function qi(){return{destroy:void 0,resource:void 0}}function bl(){return Ut().memoizedState}function Au(o,c,p,b){var x=ft();b=b===void 0?null:b,At.flags|=o,x.memoizedState=Es(1|c,qi(),p,b)}function _l(o,c,p,b){var x=Ut();b=b===void 0?null:b;var A=x.memoizedState.inst;qt!==null&&b!==null&&er(b,qt.memoizedState.deps)?x.memoizedState=Es(c,A,p,b):(At.flags|=o,x.memoizedState=Es(1|c,A,p,b))}function Wd(o,c){Au(8390656,8,o,c)}function po(o,c){_l(2048,8,o,c)}function ci(o,c){return _l(4,2,o,c)}function tf(o,c){return _l(4,4,o,c)}function mo(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Vi(o,c,p){p=p!=null?p.concat([o]):null,_l(4,4,mo.bind(null,c,o),p)}function Ru(){}function Ou(o,c){var p=Ut();c=c===void 0?null:c;var b=p.memoizedState;return c!==null&&er(c,b[1])?b[0]:(p.memoizedState=[o,c],o)}function Jd(o,c){var p=Ut();c=c===void 0?null:c;var b=p.memoizedState;if(c!==null&&er(c,b[1]))return b[0];if(b=o(),ls){he(!0);try{o()}finally{he(!1)}}return p.memoizedState=[b,c],b}function vo(o,c,p){return p===void 0||($n&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=Ol(),At.lanes|=o,Jn|=o,p)}function Nu(o,c,p,b){return wr(p,c)?p:ja.current!==null?(o=vo(o,p,b),wr(o,c)||(vt=!0),o):($n&42)===0?(vt=!0,o.memoizedState=p):(o=Ol(),At.lanes|=o,Jn|=o,c)}function eh(o,c,p,b,x){var A=Kr();oa(A!==0&&8>A?A:8);var L=ut.T,Z={};ut.T=Z,bo(o,!1,c,p);try{var ee=x(),Oe=ut.S;if(Oe!==null&&Oe(Z,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Le=on(ee,b);Zi(o,c,Le,la(o))}else Zi(o,c,b,la(o))}catch(Ie){Zi(o,c,{then:function(){},status:"rejected",reason:Ie},la())}finally{oa(A),ut.T=L}}function Va(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ur,baseState:ur,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:ur},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Yi(){return ce(wi)}function Mu(){return Ut().memoizedState}function yo(){return Ut().memoizedState}function Yv(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=la();o=Fe(p);var b=Je(c,o,p);b!==null&&(Oa(b,c,p),st(b,c,p)),c={cache:Ue()},o.payload=c;return}c=c.return}}function th(o,c,p){var b=la();p={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Du(o)?mg(c,p):(p=J(o,c,p,b),p!==null&&(Oa(p,o,b),vg(p,c,b)))}function nf(o,c,p){var b=la();Zi(o,c,p,b)}function Zi(o,c,p,b){var x={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Du(o))mg(c,x);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var L=c.lastRenderedState,Z=A(L,p);if(x.hasEagerState=!0,x.eagerState=Z,wr(Z,L))return I(o,c,x,0),Kt===null&&pl(),!1}catch{}finally{}if(p=J(o,c,x,b),p!==null)return Oa(p,o,b),vg(p,c,b),!0}return!1}function bo(o,c,p,b){if(b={lane:2,revertLane:De(),action:b,hasEagerState:!1,eagerState:null,next:null},Du(o)){if(c)throw Error(i(479))}else c=J(o,p,b,2),c!==null&&Oa(c,o,2)}function Du(o){var c=o.alternate;return o===At||c!==null&&c===At}function mg(o,c){Xs=Jr=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function vg(o,c,p){if((p&4194048)!==0){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,_e(o,p)}}function af(o){var c=Vo;return Vo+=1,Ti===null&&(Ti=[]),ws(Ti,o,c)}function Sl(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function rf(o,c){throw c.$$typeof===Pg?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function yg(o){var c=o._init;return c(o._payload)}function bg(o){function c(ue,$){if(o){var me=ue.deletions;me===null?(ue.deletions=[$],ue.flags|=16):me.push($)}}function p(ue,$){if(!o)return null;for(;$!==null;)c(ue,$),$=$.sibling;return null}function b(ue){for(var $=new Map;ue!==null;)ue.key!==null?$.set(ue.key,ue):$.set(ue.index,ue),ue=ue.sibling;return $}function x(ue,$){return ue=$i(ue,$),ue.index=0,ue.sibling=null,ue}function A(ue,$,me){return ue.index=me,o?(me=ue.alternate,me!==null?(me=me.index,me<$?(ue.flags|=67108866,$):me):(ue.flags|=67108866,$)):(ue.flags|=1048576,$)}function L(ue){return o&&ue.alternate===null&&(ue.flags|=67108866),ue}function Z(ue,$,me,je){return $===null||$.tag!==6?($=jl(me,ue.mode,je),$.return=ue,$):($=x($,me),$.return=ue,$)}function ee(ue,$,me,je){var et=me.type;return et===Ll?Le(ue,$,me.props.children,je,me.key):$!==null&&($.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ya&&yg(et)===$.type)?($=x($,me.props),Sl($,me),$.return=ue,$):($=Ro(me.type,me.key,me.props,null,ue.mode,je),Sl($,me),$.return=ue,$)}function Oe(ue,$,me,je){return $===null||$.tag!==4||$.stateNode.containerInfo!==me.containerInfo||$.stateNode.implementation!==me.implementation?($=Yu(me,ue.mode,je),$.return=ue,$):($=x($,me.children||[]),$.return=ue,$)}function Le(ue,$,me,je,et){return $===null||$.tag!==7?($=Xr(me,ue.mode,je,et),$.return=ue,$):($=x($,me),$.return=ue,$)}function Ie(ue,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=jl(""+$,ue.mode,me),$.return=ue,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case kl:return me=Ro($.type,$.key,$.props,null,ue.mode,me),Sl(me,$),me.return=ue,me;case Us:return $=Yu($,ue.mode,me),$.return=ue,$;case Ya:var je=$._init;return $=je($._payload),Ie(ue,$,me)}if(ks($)||v($))return $=Xr($,ue.mode,me,null),$.return=ue,$;if(typeof $.then=="function")return Ie(ue,af($),me);if($.$$typeof===Ji)return Ie(ue,Ge(ue,$),me);rf(ue,$)}return null}function Ke(ue,$,me,je){var et=$!==null?$.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return et!==null?null:Z(ue,$,""+me,je);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case kl:return me.key===et?ee(ue,$,me,je):null;case Us:return me.key===et?Oe(ue,$,me,je):null;case Ya:return et=me._init,me=et(me._payload),Ke(ue,$,me,je)}if(ks(me)||v(me))return et!==null?null:Le(ue,$,me,je,null);if(typeof me.then=="function")return Ke(ue,$,af(me),je);if(me.$$typeof===Ji)return Ke(ue,$,Ge(ue,me),je);rf(ue,me)}return null}function Tt(ue,$,me,je,et){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ue=ue.get(me)||null,Z($,ue,""+je,et);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case kl:return ue=ue.get(je.key===null?me:je.key)||null,ee($,ue,je,et);case Us:return ue=ue.get(je.key===null?me:je.key)||null,Oe($,ue,je,et);case Ya:var un=je._init;return je=un(je._payload),Tt(ue,$,me,je,et)}if(ks(je)||v(je))return ue=ue.get(me)||null,Le($,ue,je,et,null);if(typeof je.then=="function")return Tt(ue,$,me,af(je),et);if(je.$$typeof===Ji)return Tt(ue,$,me,Ge($,je),et);rf($,je)}return null}function Lr(ue,$,me,je){for(var et=null,un=null,gt=$,Ft=$=0,aa=null;gt!==null&&Ft<me.length;Ft++){gt.index>Ft?(aa=gt,gt=null):aa=gt.sibling;var Qt=Ke(ue,gt,me[Ft],je);if(Qt===null){gt===null&&(gt=aa);break}o&&gt&&Qt.alternate===null&&c(ue,gt),$=A(Qt,$,Ft),un===null?et=Qt:un.sibling=Qt,un=Qt,gt=aa}if(Ft===me.length)return p(ue,gt),It&&pe(ue,Ft),et;if(gt===null){for(;Ft<me.length;Ft++)gt=Ie(ue,me[Ft],je),gt!==null&&($=A(gt,$,Ft),un===null?et=gt:un.sibling=gt,un=gt);return It&&pe(ue,Ft),et}for(gt=b(gt);Ft<me.length;Ft++)aa=Tt(gt,ue,Ft,me[Ft],je),aa!==null&&(o&&aa.alternate!==null&&gt.delete(aa.key===null?Ft:aa.key),$=A(aa,$,Ft),un===null?et=aa:un.sibling=aa,un=aa);return o&&gt.forEach(function(cs){return c(ue,cs)}),It&&pe(ue,Ft),et}function al(ue,$,me,je){if(me==null)throw Error(i(151));for(var et=null,un=null,gt=$,Ft=$=0,aa=null,Qt=me.next();gt!==null&&!Qt.done;Ft++,Qt=me.next()){gt.index>Ft?(aa=gt,gt=null):aa=gt.sibling;var cs=Ke(ue,gt,Qt.value,je);if(cs===null){gt===null&&(gt=aa);break}o&&gt&&cs.alternate===null&&c(ue,gt),$=A(cs,$,Ft),un===null?et=cs:un.sibling=cs,un=cs,gt=aa}if(Qt.done)return p(ue,gt),It&&pe(ue,Ft),et;if(gt===null){for(;!Qt.done;Ft++,Qt=me.next())Qt=Ie(ue,Qt.value,je),Qt!==null&&($=A(Qt,$,Ft),un===null?et=Qt:un.sibling=Qt,un=Qt);return It&&pe(ue,Ft),et}for(gt=b(gt);!Qt.done;Ft++,Qt=me.next())Qt=Tt(gt,ue,Ft,Qt.value,je),Qt!==null&&(o&&Qt.alternate!==null&&gt.delete(Qt.key===null?Ft:Qt.key),$=A(Qt,$,Ft),un===null?et=Qt:un.sibling=Qt,un=Qt);return o&&gt.forEach(function(n1){return c(ue,n1)}),It&&pe(ue,Ft),et}function Pr(ue,$,me,je){if(typeof me=="object"&&me!==null&&me.type===Ll&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case kl:e:{for(var et=me.key;$!==null;){if($.key===et){if(et=me.type,et===Ll){if($.tag===7){p(ue,$.sibling),je=x($,me.props.children),je.return=ue,ue=je;break e}}else if($.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ya&&yg(et)===$.type){p(ue,$.sibling),je=x($,me.props),Sl(je,me),je.return=ue,ue=je;break e}p(ue,$);break}else c(ue,$);$=$.sibling}me.type===Ll?(je=Xr(me.props.children,ue.mode,je,me.key),je.return=ue,ue=je):(je=Ro(me.type,me.key,me.props,null,ue.mode,je),Sl(je,me),je.return=ue,ue=je)}return L(ue);case Us:e:{for(et=me.key;$!==null;){if($.key===et)if($.tag===4&&$.stateNode.containerInfo===me.containerInfo&&$.stateNode.implementation===me.implementation){p(ue,$.sibling),je=x($,me.children||[]),je.return=ue,ue=je;break e}else{p(ue,$);break}else c(ue,$);$=$.sibling}je=Yu(me,ue.mode,je),je.return=ue,ue=je}return L(ue);case Ya:return et=me._init,me=et(me._payload),Pr(ue,$,me,je)}if(ks(me))return Lr(ue,$,me,je);if(v(me)){if(et=v(me),typeof et!="function")throw Error(i(150));return me=et.call(me),al(ue,$,me,je)}if(typeof me.then=="function")return Pr(ue,$,af(me),je);if(me.$$typeof===Ji)return Pr(ue,$,Ge(ue,me),je);rf(ue,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,$!==null&&$.tag===6?(p(ue,$.sibling),je=x($,me),je.return=ue,ue=je):(p(ue,$),je=jl(me,ue.mode,je),je.return=ue,ue=je),L(ue)):p(ue,$)}return function(ue,$,me,je){try{Vo=0;var et=Pr(ue,$,me,je);return Ti=null,et}catch(gt){if(gt===Go||gt===vn)throw gt;var un=n(29,gt,null,ue.mode);return un.lanes=je,un.return=ue,un}finally{}}}function Cs(o){var c=o.alternate;C(mt,mt.current&1),C(Ur,o),Ai===null&&(c===null||ja.current!==null||c.memoizedState!==null)&&(Ai=o)}function _g(o){if(o.tag===22){if(C(mt,mt.current),C(Ur,o),Ai===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ai=o)}}else Ii()}function Ii(){C(mt,mt.current),C(Ur,Ur.current)}function Xi(o){E(Ur),Ai===o&&(Ai=null),E(mt)}function sf(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||nc(p)||kf(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function nh(o,c,p,b){c=o.memoizedState,p=p(b,c),p=p==null?c:Ul({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}function Sg(o,c,p,b,x,A,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,A,L):c.prototype&&c.prototype.isPureReactComponent?!Yr(p,b)||!Yr(x,A):!0}function lf(o,c,p,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,b),c.state!==o&&pn.enqueueReplaceState(c,c.state,null)}function wl(o,c){var p=c;if("ref"in c){p={};for(var b in c)b!=="ref"&&(p[b]=c[b])}if(o=o.defaultProps){p===c&&(p=Ul({},p));for(var x in o)p[x]===void 0&&(p[x]=o[x])}return p}function of(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function wg(o,c,p){try{var b=o.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function uf(o,c,p){return p=Fe(p),p.tag=3,p.payload={element:null},p.callback=function(){of(o,c)},p}function xg(o){return o=Fe(o),o.tag=3,o}function Eg(o,c,p,b){var x=p.type.getDerivedStateFromError;if(typeof x=="function"){var A=b.value;o.payload=function(){return x(A)},o.callback=function(){wg(c,p,b)}}var L=p.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(o.callback=function(){wg(c,p,b),typeof x!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var Z=b.stack;this.componentDidCatch(b.value,{componentStack:Z!==null?Z:""})})}function Zv(o,c,p,b,x){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=p.alternate,c!==null&&Wa(c,p,x,!0),p=Ur.current,p!==null){switch(p.tag){case 13:return Ai===null?Mn():p.alternate===null&&Bn===0&&(Bn=3),p.flags&=-257,p.flags|=65536,p.lanes=x,b===ya?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([b]):c.add(b),Dl(o,b,x)),!1;case 22:return p.flags|=65536,b===ya?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([b]):p.add(b)),Dl(o,b,x)),!1}throw Error(i(435,p.tag))}return Dl(o,b,x),Mn(),!1}if(It)return c=Ur.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,b!==Fh&&(o=Error(i(422),{cause:b}),Nn(Q(o,p)))):(b!==Fh&&(c=Error(i(423),{cause:b}),Nn(Q(c,p))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,b=Q(b,p),x=uf(o.stateNode,b,x),rt(o,x),Bn!==4&&(Bn=2)),!1;var A=Error(i(520),{cause:b});if(A=Q(A,p),Js===null?Js=[A]:Js.push(A),Bn!==4&&(Bn=2),c===null)return!0;b=Q(b,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=x&-x,p.lanes|=o,o=uf(p.stateNode,b,o),rt(p,o),!1;case 1:if(c=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ni===null||!Ni.has(A))))return p.flags|=65536,x&=-x,p.lanes|=x,x=xg(x),Eg(x,o,p,b),rt(p,x),!1}p=p.return}while(p!==null);return!1}function va(o,c,p,b){c.child=o===null?Jh(c,null,p,b):os(c,o.child,p,b)}function Cg(o,c,p,b,x){p=p.render;var A=c.ref;if("ref"in b){var L={};for(var Z in b)Z!=="ref"&&(L[Z]=b[Z])}else L=b;return ae(c),b=Rr(o,c,p,L,A,x),Z=nr(),o!==null&&!vt?(Zr(o,c,x),vr(o,c,x)):(It&&Z&&ne(c),c.flags|=1,va(o,c,b,x),c.child)}function Tg(o,c,p,b,x){if(o===null){var A=p.type;return typeof A=="function"&&!bh(A)&&A.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=A,Ag(o,c,A,b,x)):(o=Ro(p.type,null,b,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!El(o,x)){var L=A.memoizedProps;if(p=p.compare,p=p!==null?p:Yr,p(L,b)&&o.ref===c.ref)return vr(o,c,x)}return c.flags|=1,o=$i(A,b),o.ref=c.ref,o.return=c,c.child=o}function Ag(o,c,p,b,x){if(o!==null){var A=o.memoizedProps;if(Yr(A,b)&&o.ref===c.ref)if(vt=!1,c.pendingProps=b=A,El(o,x))(o.flags&131072)!==0&&(vt=!0);else return c.lanes=o.lanes,vr(o,c,x)}return xl(o,c,p,b,x)}function Rg(o,c,p){var b=c.pendingProps,x=b.children,A=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=A!==null?A.baseLanes|p:p,o!==null){for(x=c.child=o.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;c.childLanes=A&~b}else c.childLanes=0,c.child=null;return Og(o,c,b,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Hi(c,A!==null?A.cachePool:null),A!==null?Ht(c,A):dn(),_g(c);else return c.lanes=c.childLanes=536870912,Og(o,c,A!==null?A.baseLanes|p:p,p)}else A!==null?(Hi(c,A.cachePool),Ht(c,A),Ii(),c.memoizedState=null):(o!==null&&Hi(c,null),dn(),Ii());return va(o,c,x,p),c.child}function Og(o,c,p,b){var x=Gn();return x=x===null?null:{parent:ts?an._currentValue:an._currentValue2,pool:x},c.memoizedState={baseLanes:p,cachePool:x},o!==null&&Hi(c,null),dn(),_g(c),o!==null&&Wa(o,c,b,!0),null}function _o(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function xl(o,c,p,b,x){return ae(c),p=Rr(o,c,p,b,void 0,x),b=nr(),o!==null&&!vt?(Zr(o,c,x),vr(o,c,x)):(It&&b&&ne(c),c.flags|=1,va(o,c,p,x),c.child)}function Ng(o,c,p,b,x,A){return ae(c),c.updateQueue=null,p=ml(c,b,p,x),tr(o),b=nr(),o!==null&&!vt?(Zr(o,c,A),vr(o,c,A)):(It&&b&&ne(c),c.flags|=1,va(o,c,p,A),c.child)}function ah(o,c,p,b,x){if(ae(c),c.stateNode===null){var A=Gl,L=p.contextType;typeof L=="object"&&L!==null&&(A=ce(L)),A=new p(b,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=pn,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=b,A.state=c.memoizedState,A.refs={},tt(c),L=p.contextType,A.context=typeof L=="object"&&L!==null?ce(L):Gl,A.state=c.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(nh(c,p,L,b),A.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(L=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),L!==A.state&&pn.enqueueReplaceState(A,A.state,null),wt(c,b,A,x),Qe(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(o===null){A=c.stateNode;var Z=c.memoizedProps,ee=wl(p,Z);A.props=ee;var Oe=A.context,Le=p.contextType;L=Gl,typeof Le=="object"&&Le!==null&&(L=ce(Le));var Ie=p.getDerivedStateFromProps;Le=typeof Ie=="function"||typeof A.getSnapshotBeforeUpdate=="function",Z=c.pendingProps!==Z,Le||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Z||Oe!==L)&&lf(c,A,b,L),Ci=!1;var Ke=c.memoizedState;A.state=Ke,wt(c,b,A,x),Qe(),Oe=c.memoizedState,Z||Ke!==Oe||Ci?(typeof Ie=="function"&&(nh(c,p,Ie,b),Oe=c.memoizedState),(ee=Ci||Sg(c,p,ee,b,Ke,Oe,L))?(Le||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=Oe),A.props=b,A.state=Oe,A.context=L,b=ee):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{A=c.stateNode,it(o,c),L=c.memoizedProps,Le=wl(p,L),A.props=Le,Ie=c.pendingProps,Ke=A.context,Oe=p.contextType,ee=Gl,typeof Oe=="object"&&Oe!==null&&(ee=ce(Oe)),Z=p.getDerivedStateFromProps,(Oe=typeof Z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L!==Ie||Ke!==ee)&&lf(c,A,b,ee),Ci=!1,Ke=c.memoizedState,A.state=Ke,wt(c,b,A,x),Qe();var Tt=c.memoizedState;L!==Ie||Ke!==Tt||Ci||o!==null&&o.dependencies!==null&&X(o.dependencies)?(typeof Z=="function"&&(nh(c,p,Z,b),Tt=c.memoizedState),(Le=Ci||Sg(c,p,Le,b,Ke,Tt,ee)||o!==null&&o.dependencies!==null&&X(o.dependencies))?(Oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(b,Tt,ee),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(b,Tt,ee)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||L===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=Tt),A.props=b,A.state=Tt,A.context=ee,b=Le):(typeof A.componentDidUpdate!="function"||L===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Ke===o.memoizedState||(c.flags|=1024),b=!1)}return A=b,_o(o,c),b=(c.flags&128)!==0,A||b?(A=c.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&b?(c.child=os(c,o.child,null,x),c.child=os(c,null,p,x)):va(o,c,p,x),c.memoizedState=A.state,o=c.child):o=vr(o,c,x),o}function rh(o,c,p,b){return St(),c.flags|=256,va(o,c,p,b),c.child}function cf(o){return{baseLanes:o,cachePool:fo()}}function ff(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=kr),o}function ih(o,c,p){var b=c.pendingProps,x=!1,A=(c.flags&128)!==0,L;if((L=A)||(L=o!==null&&o.memoizedState===null?!1:(mt.current&2)!==0),L&&(x=!0,c.flags&=-129),L=(c.flags&32)!==0,c.flags&=-33,o===null){if(It){if(x?Cs(c):Ii(),It){var Z=Qn,ee;(ee=Z)&&(Z=Wv(Z,Jt),Z!==null?(c.memoizedState={dehydrated:Z,treeContext:Vs!==null?{id:Fr,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},ee=n(18,null,null,0),ee.stateNode=Z,ee.return=c,c.child=ee,Pn=c,Qn=null,ee=!0):ee=!1),ee||ke(c)}if(Z=c.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return kf(Z)?c.lanes=32:c.lanes=536870912,null;Xi(c)}return Z=b.children,b=b.fallback,x?(Ii(),x=c.mode,Z=df({mode:"hidden",children:Z},x),b=Xr(b,x,p,null),Z.return=c,b.return=c,Z.sibling=b,c.child=Z,x=c.child,x.memoizedState=cf(p),x.childLanes=ff(o,L,p),c.memoizedState=Fa,b):(Cs(c),Ts(c,Z))}if(ee=o.memoizedState,ee!==null&&(Z=ee.dehydrated,Z!==null)){if(A)c.flags&256?(Cs(c),c.flags&=-257,c=sh(o,c,p)):c.memoizedState!==null?(Ii(),c.child=o.child,c.flags|=128,c=null):(Ii(),x=b.fallback,Z=c.mode,b=df({mode:"visible",children:b.children},Z),x=Xr(x,Z,p,null),x.flags|=2,b.return=c,x.return=c,b.sibling=x,c.child=b,os(c,o.child,null,p),b=c.child,b.memoizedState=cf(p),b.childLanes=ff(o,L,p),c.memoizedState=Fa,c=x);else if(Cs(c),kf(Z))L=ip(Z).digest,b=Error(i(419)),b.stack="",b.digest=L,Nn({value:b,source:null,stack:null}),c=sh(o,c,p);else if(vt||Wa(o,c,p,!1),L=(p&o.childLanes)!==0,vt||L){if(L=Kt,L!==null&&(b=p&-p,b=(b&42)!==0?1:we(b),b=(b&(L.suspendedLanes|p))!==0?0:b,b!==0&&b!==ee.retryLane))throw ee.retryLane=b,ie(o,b),Oa(L,o,b),Vt;nc(Z)||Mn(),c=sh(o,c,p)}else nc(Z)?(c.flags|=192,c.child=o.child,c=null):(o=ee.treeContext,lr&&(Qn=Hh(Z),Pn=c,It=!0,Qr=null,Jt=!1,o!==null&&(Xa[fr++]=Fr,Xa[fr++]=Ei,Xa[fr++]=Vs,Fr=o.id,Ei=o.overflow,Vs=c)),c=Ts(c,b.children),c.flags|=4096);return c}return x?(Ii(),x=b.fallback,Z=c.mode,ee=o.child,A=ee.sibling,b=$i(ee,{mode:"hidden",children:b.children}),b.subtreeFlags=ee.subtreeFlags&65011712,A!==null?x=$i(A,x):(x=Xr(x,Z,p,null),x.flags|=2),x.return=c,b.return=c,b.sibling=x,c.child=b,b=x,x=c.child,Z=o.child.memoizedState,Z===null?Z=cf(p):(ee=Z.cachePool,ee!==null?(A=ts?an._currentValue:an._currentValue2,ee=ee.parent!==A?{parent:A,pool:A}:ee):ee=fo(),Z={baseLanes:Z.baseLanes|p,cachePool:ee}),x.memoizedState=Z,x.childLanes=ff(o,L,p),c.memoizedState=Fa,b):(Cs(c),p=o.child,o=p.sibling,p=$i(p,{mode:"visible",children:b.children}),p.return=c,p.sibling=null,o!==null&&(L=c.deletions,L===null?(c.deletions=[o],c.flags|=16):L.push(o)),c.child=p,c.memoizedState=null,p)}function Ts(o,c){return c=df({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function df(o,c){return o=n(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function sh(o,c,p){return os(c,o.child,null,p),o=Ts(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Mg(o,c,p){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),ea(o.return,c,p)}function hf(o,c,p,b,x){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:x}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=b,A.tail=p,A.tailMode=x)}function lh(o,c,p){var b=c.pendingProps,x=b.revealOrder,A=b.tail;if(va(o,c,b.children,p),b=mt.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Mg(o,p,c);else if(o.tag===19)Mg(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(C(mt,b),x){case"forwards":for(p=c.child,x=null;p!==null;)o=p.alternate,o!==null&&sf(o)===null&&(x=p),p=p.sibling;p=x,p===null?(x=c.child,c.child=null):(x=p.sibling,p.sibling=null),hf(c,!1,x,p,A);break;case"backwards":for(p=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&sf(o)===null){c.child=x;break}o=x.sibling,x.sibling=p,p=x,x=o}hf(c,!0,p,null,A);break;case"together":hf(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function vr(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),Jn|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(Wa(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,p=$i(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=$i(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function El(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&X(o)))}function Iv(o,c,p){switch(c.tag){case 3:Te(c,c.stateNode.containerInfo),Ba(c,an,o.memoizedState.cache),St();break;case 27:case 5:be(c);break;case 4:Te(c,c.stateNode.containerInfo);break;case 10:Ba(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Cs(c),c.flags|=128,null):(p&c.child.childLanes)!==0?ih(o,c,p):(Cs(c),o=vr(o,c,p),o!==null?o.sibling:null);Cs(c);break;case 19:var x=(o.flags&128)!==0;if(b=(p&c.childLanes)!==0,b||(Wa(o,c,p,!1),b=(p&c.childLanes)!==0),x){if(b)return lh(o,c,p);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),C(mt,mt.current),b)break;return null;case 22:case 23:return c.lanes=0,Rg(o,c,p);case 24:Ba(c,an,o.memoizedState.cache)}return vr(o,c,p)}function ju(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)vt=!0;else{if(!El(o,p)&&(c.flags&128)===0)return vt=!1,Iv(o,c,p);vt=(o.flags&131072)!==0}else vt=!1,It&&(c.flags&1048576)!==0&&G(c,Po,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var b=c.elementType,x=b._init;if(b=x(b._payload),c.type=b,typeof b=="function")bh(b)?(o=wl(b,o),c.tag=1,c=ah(null,c,b,o,p)):(c.tag=0,c=xl(null,c,b,o,p));else{if(b!=null){if(x=b.$$typeof,x===bi){c.tag=11,c=Cg(null,c,b,o,p);break e}else if(x===_i){c.tag=14,c=Tg(null,c,b,o,p);break e}}throw c=_(b)||b,Error(i(306,c,""))}}return c;case 0:return xl(o,c,c.type,c.pendingProps,p);case 1:return b=c.type,x=wl(b,c.pendingProps),ah(o,c,b,x,p);case 3:e:{if(Te(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var A=c.pendingProps;x=c.memoizedState,b=x.element,it(o,c),wt(c,A,null,p);var L=c.memoizedState;if(A=L.cache,Ba(c,an,A),A!==x.cache&&Bi(c,[an],p,!0),Qe(),A=L.element,lr&&x.isDehydrated)if(x={element:A,isDehydrated:!1,cache:L.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=rh(o,c,A,p);break e}else if(A!==b){b=Q(Error(i(424)),c),Nn(b),c=rh(o,c,A,p);break e}else for(lr&&(Qn=cp(c.stateNode.containerInfo),Pn=c,It=!0,Qr=null,Jt=!0),p=Jh(c,null,A,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(St(),A===b){c=vr(o,c,p);break e}va(o,c,A,p)}c=c.child}return c;case 26:if(Za)return _o(o,c),o===null?(p=ic(c.type,null,c.pendingProps,null))?c.memoizedState=p:It||(c.stateNode=xi(c.type,c.pendingProps,Ys.current,c)):c.memoizedState=ic(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(Lt)return be(c),o===null&&Lt&&It&&(b=c.stateNode=sc(c.type,c.pendingProps,Ys.current,Tn.current,!1),Pn=c,Jt=!0,Qn=fp(c.type,b,Qn)),va(o,c,c.pendingProps.children,p),_o(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&It&&(Jv(c.type,c.pendingProps,Tn.current),(x=b=Qn)&&(b=dp(b,c.type,c.pendingProps,Jt),b!==null?(c.stateNode=b,Pn=c,Qn=up(b),Jt=!1,x=!0):x=!1),x||ke(c)),be(c),x=c.type,A=c.pendingProps,L=o!==null?o.memoizedProps:null,b=A.children,es(x,A)?b=null:L!==null&&es(x,L)&&(c.flags|=32),c.memoizedState!==null&&(x=Rr(o,c,vl,null,null,p),ts?wi._currentValue=x:wi._currentValue2=x),_o(o,c),va(o,c,b,p),c.child;case 6:return o===null&&It&&(Uo(c.pendingProps,Tn.current),(o=p=Qn)&&(p=$v(p,c.pendingProps,Jt),p!==null?(c.stateNode=p,Pn=c,Qn=null,o=!0):o=!1),o||ke(c)),null;case 13:return ih(o,c,p);case 4:return Te(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=os(c,null,b,p):va(o,c,b,p),c.child;case 11:return Cg(o,c,c.type,c.pendingProps,p);case 7:return va(o,c,c.pendingProps,p),c.child;case 8:return va(o,c,c.pendingProps.children,p),c.child;case 12:return va(o,c,c.pendingProps.children,p),c.child;case 10:return b=c.pendingProps,Ba(c,c.type,b.value),va(o,c,b.children,p),c.child;case 9:return x=c.type._context,b=c.pendingProps.children,ae(c),x=ce(x),b=b(x),c.flags|=1,va(o,c,b,p),c.child;case 14:return Tg(o,c,c.type,c.pendingProps,p);case 15:return Ag(o,c,c.type,c.pendingProps,p);case 19:return lh(o,c,p);case 31:return b=c.pendingProps,p=c.mode,b={mode:b.mode,children:b.children},o===null?(p=df(b,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=$i(o.child,b),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Rg(o,c,p);case 24:return ae(c),b=ce(an),o===null?(x=Gn(),x===null&&(x=Kt,A=Ue(),x.pooledCache=A,A.refCount++,A!==null&&(x.pooledCacheLanes|=p),x=A),c.memoizedState={parent:b,cache:x},tt(c),Ba(c,an,x)):((o.lanes&p)!==0&&(it(o,c),wt(c,null,null,p),Qe()),x=o.memoizedState,A=c.memoizedState,x.parent!==b?(x={parent:b,cache:b},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Ba(c,an,b)):(b=A.cache,Ba(c,an,b),b!==x.cache&&Bi(c,[an],p,!0))),va(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function ar(o){o.flags|=4}function oh(o,c){if(o!==null&&o.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(o=c.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function zu(o,c,p,b){if(Pt)for(p=c.child;p!==null;){if(p.tag===5||p.tag===6)qn(o,p.stateNode);else if(!(p.tag===4||Lt&&p.tag===27)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else if(Si)for(var x=c.child;x!==null;){if(x.tag===5){var A=x.stateNode;p&&b&&(A=kh(A,x.type,x.memoizedProps)),qn(o,A)}else if(x.tag===6)A=x.stateNode,p&&b&&(A=Lh(A,x.memoizedProps)),qn(o,A);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)A=x.child,A!==null&&(A.return=x),zu(o,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}}function gf(o,c,p,b){var x=!1;if(Si)for(var A=c.child;A!==null;){if(A.tag===5){var L=A.stateNode;p&&b&&(L=kh(L,A.type,A.memoizedProps)),zh(o,L)}else if(A.tag===6)L=A.stateNode,p&&b&&(L=Lh(L,A.memoizedProps)),zh(o,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)x=A.child,x!==null&&(x.return=A),gf(o,A,!0,!0),x=!0;else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return x;A=A.return}A.sibling.return=A.return,A=A.sibling}return x}function uh(o,c){if(Si&&oh(o,c)){o=c.stateNode;var p=o.containerInfo,b=jh();gf(b,c,!1,!1),o.pendingChildren=b,ar(c),rp(p,b)}}function pf(o,c,p,b){if(Pt)o.memoizedProps!==b&&ar(c);else if(Si){var x=o.stateNode,A=o.memoizedProps;if((o=oh(o,c))||A!==b){var L=Tn.current;A=tc(x,p,A,b,!o,null),A===x?c.stateNode=x:($u(A,p,b,L)&&ar(c),c.stateNode=A,o?zu(A,c,!1,!1):ar(c))}else c.stateNode=x}}function mf(o,c,p){if(Fn(c,p)){if(o.flags|=16777216,!jf(c,p))if(xf())o.flags|=8192;else throw dr=ya,Xf}else o.flags&=-16777217}function Dg(o,c){if(vp(c)){if(o.flags|=16777216,!ns(c))if(xf())o.flags|=8192;else throw dr=ya,Xf}else o.flags&=-16777217}function vf(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?H():536870912,o.lanes|=c,Tr|=c)}function Uu(o,c){if(!It)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Ln(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(c)for(var x=o.child;x!==null;)p|=x.lanes|x.childLanes,b|=x.subtreeFlags&65011712,b|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)p|=x.lanes|x.childLanes,b|=x.subtreeFlags,b|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=b,o.childLanes=p,c}function Xv(o,c,p){var b=c.pendingProps;switch(Ce(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(c),null;case 1:return Ln(c),null;case 3:return p=c.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),Ha(an),Ye(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(ot(c)?ar(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,mn())),uh(o,c),Ln(c),null;case 26:if(Za){p=c.type;var x=c.memoizedState;return o===null?(ar(c),x!==null?(Ln(c),Dg(c,x)):(Ln(c),mf(c,p,b))):x?x!==o.memoizedState?(ar(c),Ln(c),Dg(c,x)):(Ln(c),c.flags&=-16777217):(Pt?o.memoizedProps!==b&&ar(c):pf(o,c,p,b),Ln(c),mf(c,p,b)),null}case 27:if(Lt){if(ye(c),p=Ys.current,x=c.type,o!==null&&c.stateNode!=null)Pt?o.memoizedProps!==b&&ar(c):pf(o,c,x,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Ln(c),null}o=Tn.current,ot(c)?Xe(c,o):(o=sc(x,b,p,o,!0),c.stateNode=o,ar(c))}return Ln(c),null}case 5:if(ye(c),p=c.type,o!==null&&c.stateNode!=null)pf(o,c,p,b);else{if(!b){if(c.stateNode===null)throw Error(i(166));return Ln(c),null}o=Tn.current,ot(c)?Xe(c,o):(x=hn(p,b,Ys.current,o,c),zu(x,c,!1,!1),c.stateNode=x,$u(x,p,b,o)&&ar(c))}return Ln(c),mf(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)p=o.memoizedProps,Pt?p!==b&&ar(c):Si&&(p!==b?(c.stateNode=Ps(b,Ys.current,Tn.current,c),ar(c)):c.stateNode=o.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(o=Ys.current,p=Tn.current,ot(c)){if(!lr)throw Error(i(176));if(o=c.stateNode,p=c.memoizedProps,b=null,x=Pn,x!==null)switch(x.tag){case 27:case 5:b=x.memoizedProps}ac(o,p,c,b)||ke(c)}else c.stateNode=Ps(b,o,p,c)}return Ln(c),null;case 13:if(b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=ot(c),b!==null&&b.dehydrated!==null){if(o===null){if(!x)throw Error(i(318));if(!lr)throw Error(i(344));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));Gh(x,c)}else St(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ln(c),x=!1}else x=mn(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(Xi(c),c):(Xi(c),null)}if(Xi(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=b!==null,o=o!==null&&o.memoizedState!==null,p){b=c.child,x=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(x=b.alternate.memoizedState.cachePool.pool);var A=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==x&&(b.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),vf(c,c.updateQueue),Ln(c),null;case 4:return Ye(),uh(o,c),o===null&&Gg(c.stateNode.containerInfo),Ln(c),null;case 10:return Ha(c.type),Ln(c),null;case 19:if(E(mt),x=c.memoizedState,x===null)return Ln(c),null;if(b=(c.flags&128)!==0,A=x.rendering,A===null)if(b)Uu(x,!1);else{if(Bn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=sf(o),A!==null){for(c.flags|=128,Uu(x,!1),o=A.updateQueue,c.updateQueue=o,vf(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)Kn(p,o),p=p.sibling;return C(mt,mt.current&1|2),c.child}o=o.sibling}x.tail!==null&&gn()>Xo&&(c.flags|=128,b=!0,Uu(x,!1),c.lanes=4194304)}else{if(!b)if(o=sf(A),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,vf(c,o),Uu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!It)return Ln(c),null}else 2*gn()-x.renderingStartTime>Xo&&p!==536870912&&(c.flags|=128,b=!0,Uu(x,!1),c.lanes=4194304);x.isBackwards?(A.sibling=c.child,c.child=A):(o=x.last,o!==null?o.sibling=A:c.child=A,x.last=A)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=gn(),c.sibling=null,o=mt.current,C(mt,b?o&1|2:o&1),c):(Ln(c),null);case 22:case 23:return Xi(c),sn(),b=c.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(p&536870912)!==0&&(c.flags&128)===0&&(Ln(c),c.subtreeFlags&6&&(c.flags|=8192)):Ln(c),p=c.updateQueue,p!==null&&vf(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048),o!==null&&E(Dn),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Ha(an),Ln(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function yr(o,c){switch(Ce(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ha(an),Ye(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ye(c),null;case 13:if(Xi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));St()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return E(mt),null;case 4:return Ye(),null;case 10:return Ha(c.type),null;case 22:case 23:return Xi(c),sn(),o!==null&&E(Dn),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ha(an),null;case 25:return null;default:return null}}function So(o,c){switch(Ce(c),c.tag){case 3:Ha(an),Ye();break;case 26:case 27:case 5:ye(c);break;case 4:Ye();break;case 13:Xi(c);break;case 19:E(mt);break;case 10:Ha(c.type);break;case 22:case 23:Xi(c),sn(),o!==null&&E(Dn);break;case 24:Ha(an)}}function wo(o,c){try{var p=c.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var x=b.next;p=x;do{if((p.tag&o)===o){b=void 0;var A=p.create,L=p.inst;b=A(),L.destroy=b}p=p.next}while(p!==x)}}catch(Z){nn(c,c.return,Z)}}function Ki(o,c,p){try{var b=c.updateQueue,x=b!==null?b.lastEffect:null;if(x!==null){var A=x.next;b=A;do{if((b.tag&o)===o){var L=b.inst,Z=L.destroy;if(Z!==void 0){L.destroy=void 0,x=c;var ee=p,Oe=Z;try{Oe()}catch(Le){nn(x,ee,Le)}}}b=b.next}while(b!==A)}}catch(Le){nn(c,c.return,Le)}}function ch(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{bn(c,p)}catch(b){nn(o,o.return,b)}}}function fh(o,c,p){p.props=wl(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(b){nn(o,c,b)}}function Cl(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var b=Mo(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof p=="function"?o.refCleanup=p(b):p.current=b}}catch(x){nn(o,c,x)}}function fi(o,c){var p=o.ref,b=o.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(x){nn(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(x){nn(o,c,x)}else p.current=null}function Tl(o){var c=o.type,p=o.memoizedProps,b=o.stateNode;try{Dh(b,c,p,o)}catch(x){nn(o,o.return,x)}}function ku(o,c,p){try{Qg(o.stateNode,o.type,p,c,o)}catch(b){nn(o,o.return,b)}}function xo(o){return o.tag===5||o.tag===3||(Za?o.tag===26:!1)||(Lt?o.tag===27&&Hl(o.type):!1)||o.tag===4}function Lu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||xo(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(Lt&&o.tag===27&&Hl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yf(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?Wg(p,o,c):Kg(p,o);else if(b!==4&&(Lt&&b===27&&Hl(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(yf(o,c,p),o=o.sibling;o!==null;)yf(o,c,p),o=o.sibling}function di(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?$g(p,o,c):Xg(p,o);else if(b!==4&&(Lt&&b===27&&Hl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(di(o,c,p),o=o.sibling;o!==null;)di(o,c,p),o=o.sibling}function Al(o,c,p){o=o.containerInfo;try{Uh(o,p)}catch(b){nn(c,c.return,b)}}function bf(o){var c=o.stateNode,p=o.memoizedProps;try{Ih(o.type,p,c,o)}catch(b){nn(o,o.return,b)}}function jg(o,c){for(Ls(o.containerInfo),Dt=c;Dt!==null;)if(o=Dt,c=o.child,(o.subtreeFlags&1024)!==0&&c!==null)c.return=o,Dt=c;else for(;Dt!==null;){o=Dt;var p=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&p!==null){c=void 0;var b=o,x=p.memoizedProps;p=p.memoizedState;var A=b.stateNode;try{var L=wl(b.type,x,b.elementType===b.type);c=A.getSnapshotBeforeUpdate(L,p),A.__reactInternalSnapshotBeforeUpdate=c}catch(Z){nn(b,b.return,Z)}}break;case 3:(c&1024)!==0&&Pt&&Uf(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=o.sibling,c!==null){c.return=o.return,Dt=c;break}Dt=o.return}}function As(o,c,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Fi(o,p),b&4&&wo(5,p);break;case 1:if(Fi(o,p),b&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(L){nn(p,p.return,L)}else{var x=wl(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(L){nn(p,p.return,L)}}b&64&&ch(p),b&512&&Cl(p,p.return);break;case 3:if(Fi(o,p),b&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=Mo(p.child.stateNode);break;case 1:c=p.child.stateNode}try{bn(o,c)}catch(L){nn(p,p.return,L)}}break;case 27:Lt&&c===null&&b&4&&bf(p);case 26:case 5:Fi(o,p),c===null&&b&4&&Tl(p),b&512&&Cl(p,p.return);break;case 12:Fi(o,p);break;case 13:Fi(o,p),b&4&&zg(o,p),b&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=Ma.bind(null,p),Ph(o,p))));break;case 22:if(b=p.memoizedState!==null||za,!b){c=c!==null&&c.memoizedState!==null||xn,x=za;var A=xn;za=b,(xn=c)&&!A?ta(o,p,(p.subtreeFlags&8772)!==0):Fi(o,p),za=x,xn=A}break;case 30:break;default:Fi(o,p)}}function dh(o){var c=o.alternate;c!==null&&(o.alternate=null,dh(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&or(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Or(o,c,p){for(p=p.child;p!==null;)_f(o,c,p),p=p.sibling}function _f(o,c,p){if(Ia&&typeof Ia.onCommitFiberUnmount=="function")try{Ia.onCommitFiberUnmount(Hs,p)}catch{}switch(p.tag){case 26:if(Za){xn||fi(p,c),Or(o,c,p),p.memoizedState?Yh(p.memoizedState):p.stateNode&&Sr(p.stateNode);break}case 27:if(Lt){xn||fi(p,c);var b=yn,x=Wn;Hl(p.type)&&(yn=p.stateNode,Wn=!1),Or(o,c,p),Bf(p.stateNode),yn=b,Wn=x;break}case 5:xn||fi(p,c);case 6:if(Pt){if(b=yn,x=Wn,yn=null,Or(o,c,p),yn=b,Wn=x,yn!==null)if(Wn)try{ep(yn,p.stateNode)}catch(A){nn(p,c,A)}else try{Jg(yn,p.stateNode)}catch(A){nn(p,c,A)}}else Or(o,c,p);break;case 18:Pt&&yn!==null&&(Wn?mp(yn,p.stateNode):Pf(yn,p.stateNode));break;case 4:Pt?(b=yn,x=Wn,yn=p.stateNode.containerInfo,Wn=!0,Or(o,c,p),yn=b,Wn=x):(Si&&Al(p.stateNode,p,jh()),Or(o,c,p));break;case 0:case 11:case 14:case 15:xn||Ki(2,p,c),xn||Ki(4,p,c),Or(o,c,p);break;case 1:xn||(fi(p,c),b=p.stateNode,typeof b.componentWillUnmount=="function"&&fh(p,c,b)),Or(o,c,p);break;case 21:Or(o,c,p);break;case 22:xn=(b=xn)||p.memoizedState!==null,Or(o,c,p),xn=b;break;default:Or(o,c,p)}}function zg(o,c){if(lr&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{pp(o)}catch(p){nn(c,c.return,p)}}function Kv(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Ri),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Ri),c;default:throw Error(i(435,o.tag))}}function hh(o,c){var p=Kv(o);c.forEach(function(b){var x=Rf.bind(null,o,b);p.has(b)||(p.add(b),b.then(x,x))})}function Aa(o,c){var p=c.deletions;if(p!==null)for(var b=0;b<p.length;b++){var x=p[b],A=o,L=c;if(Pt){var Z=L;e:for(;Z!==null;){switch(Z.tag){case 27:if(Lt){if(Hl(Z.type)){yn=Z.stateNode,Wn=!1;break e}break}case 5:yn=Z.stateNode,Wn=!1;break e;case 3:case 4:yn=Z.stateNode.containerInfo,Wn=!0;break e}Z=Z.return}if(yn===null)throw Error(i(160));_f(A,L,x),yn=null,Wn=!1}else _f(A,L,x);A=x.alternate,A!==null&&(A.return=null),x.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)gh(c,o),c=c.sibling}function gh(o,c){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Aa(c,o),Ra(o),b&4&&(Ki(3,o,o.return),wo(3,o),Ki(5,o,o.return));break;case 1:Aa(c,o),Ra(o),b&512&&(xn||p===null||fi(p,p.return)),b&64&&za&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:if(Za){var x=Cr;if(Aa(c,o),Ra(o),b&512&&(xn||p===null||fi(p,p.return)),b&4){b=p!==null?p.memoizedState:null;var A=o.memoizedState;p===null?A===null?o.stateNode===null?o.stateNode=ko(x,o.type,o.memoizedProps,o):Zh(x,o.type,o.stateNode):o.stateNode=Vh(x,A,o.memoizedProps):b!==A?(b===null?p.stateNode!==null&&Sr(p.stateNode):Yh(b),A===null?Zh(x,o.type,o.stateNode):Vh(x,A,o.memoizedProps)):A===null&&o.stateNode!==null&&ku(o,o.memoizedProps,p.memoizedProps)}break}case 27:if(Lt){Aa(c,o),Ra(o),b&512&&(xn||p===null||fi(p,p.return)),p!==null&&b&4&&ku(o,o.memoizedProps,p.memoizedProps);break}case 5:if(Aa(c,o),Ra(o),b&512&&(xn||p===null||fi(p,p.return)),Pt){if(o.flags&32){x=o.stateNode;try{tp(x)}catch(Le){nn(o,o.return,Le)}}b&4&&o.stateNode!=null&&(x=o.memoizedProps,ku(o,x,p!==null?p.memoizedProps:x)),b&1024&&(vc=!0)}break;case 6:if(Aa(c,o),Ra(o),b&4&&Pt){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,p=p!==null?p.memoizedProps:b,x=o.stateNode;try{Fg(x,p,b)}catch(Le){nn(o,o.return,Le)}}break;case 3:if(Za?(Bs(),x=Cr,Cr=Bl(c.containerInfo),Aa(c,o),Cr=x):Aa(c,o),Ra(o),b&4){if(Pt&&lr&&p!==null&&p.memoizedState.isDehydrated)try{gp(c.containerInfo)}catch(Le){nn(o,o.return,Le)}if(Si){b=c.containerInfo,p=c.pendingChildren;try{Uh(b,p)}catch(Le){nn(o,o.return,Le)}}}vc&&(vc=!1,Nr(o));break;case 4:Za?(p=Cr,Cr=Bl(o.stateNode.containerInfo),Aa(c,o),Ra(o),Cr=p):(Aa(c,o),Ra(o)),b&4&&Si&&Al(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:Aa(c,o),Ra(o);break;case 13:Aa(c,o),Ra(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Ff=gn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,hh(o,b)));break;case 22:x=o.memoizedState!==null;var L=p!==null&&p.memoizedState!==null,Z=za,ee=xn;if(za=Z||x,xn=ee||L,Aa(c,o),xn=ee,za=Z,Ra(o),b&8192&&(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(p===null||L||za||xn||sa(o)),Pt)){e:if(p=null,Pt)for(c=o;;){if(c.tag===5||Za&&c.tag===26){if(p===null){L=p=c;try{A=L.stateNode,x?np(A):zf(L.stateNode,L.memoizedProps)}catch(Le){nn(L,L.return,Le)}}}else if(c.tag===6){if(p===null){L=c;try{var Oe=L.stateNode;x?zo(Oe):ap(Oe,L.memoizedProps)}catch(Le){nn(L,L.return,Le)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=o.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,hh(o,p))));break;case 19:Aa(c,o),Ra(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,hh(o,b)));break;case 30:break;case 21:break;default:Aa(c,o),Ra(o)}}function Ra(o){var c=o.flags;if(c&2){try{if(Pt){for(var p,b=o.return;b!==null;){if(xo(b)){p=b;break}b=b.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:if(Lt){var x=p.stateNode,A=Lu(o);di(o,A,x);break}case 5:var L=p.stateNode;p.flags&32&&(tp(L),p.flags&=-33);var Z=Lu(o);di(o,Z,L);break;case 3:case 4:var ee=p.stateNode.containerInfo,Oe=Lu(o);yf(o,Oe,ee);break;default:throw Error(i(161))}}}catch(Le){nn(o,o.return,Le)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Nr(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Nr(c),c.tag===5&&c.flags&1024&&Oh(c.stateNode),o=o.sibling}}function Fi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)As(o,c.alternate,c),c=c.sibling}function sa(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ki(4,c,c.return),sa(c);break;case 1:fi(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&fh(c,c.return,p),sa(c);break;case 27:Lt&&Bf(c.stateNode);case 26:case 5:fi(c,c.return),sa(c);break;case 22:c.memoizedState===null&&sa(c);break;case 30:sa(c);break;default:sa(c)}o=o.sibling}}function ta(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,x=o,A=c,L=A.flags;switch(A.tag){case 0:case 11:case 15:ta(x,A,p),wo(4,A);break;case 1:if(ta(x,A,p),b=A,x=b.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Oe){nn(b,b.return,Oe)}if(b=A,x=b.updateQueue,x!==null){var Z=b.stateNode;try{var ee=x.shared.hiddenCallbacks;if(ee!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ee.length;x++)tn(ee[x],Z)}catch(Oe){nn(b,b.return,Oe)}}p&&L&64&&ch(A),Cl(A,A.return);break;case 27:Lt&&bf(A);case 26:case 5:ta(x,A,p),p&&b===null&&L&4&&Tl(A),Cl(A,A.return);break;case 12:ta(x,A,p);break;case 13:ta(x,A,p),p&&L&4&&zg(x,A);break;case 22:A.memoizedState===null&&ta(x,A,p),Cl(A,A.return);break;case 30:break;default:ta(x,A,p)}c=c.sibling}}function Rs(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ze(p))}function Pu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ze(o))}function br(o,c,p,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Bu(o,c,p,b),c=c.sibling}function Bu(o,c,p,b){var x=c.flags;switch(c.tag){case 0:case 11:case 15:br(o,c,p,b),x&2048&&wo(9,c);break;case 1:br(o,c,p,b);break;case 3:br(o,c,p,b),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ze(o)));break;case 12:if(x&2048){br(o,c,p,b),o=c.stateNode;try{var A=c.memoizedProps,L=A.id,Z=A.onPostCommit;typeof Z=="function"&&Z(L,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ee){nn(c,c.return,ee)}}else br(o,c,p,b);break;case 13:br(o,c,p,b);break;case 23:break;case 22:A=c.stateNode,L=c.alternate,c.memoizedState!==null?A._visibility&2?br(o,c,p,b):hi(o,c):A._visibility&2?br(o,c,p,b):(A._visibility|=2,Os(o,c,p,b,(c.subtreeFlags&10256)!==0)),x&2048&&Rs(L,c);break;case 24:br(o,c,p,b),x&2048&&Pu(c.alternate,c);break;default:br(o,c,p,b)}}function Os(o,c,p,b,x){for(x=x&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,L=c,Z=p,ee=b,Oe=L.flags;switch(L.tag){case 0:case 11:case 15:Os(A,L,Z,ee,x),wo(8,L);break;case 23:break;case 22:var Le=L.stateNode;L.memoizedState!==null?Le._visibility&2?Os(A,L,Z,ee,x):hi(A,L):(Le._visibility|=2,Os(A,L,Z,ee,x)),x&&Oe&2048&&Rs(L.alternate,L);break;case 24:Os(A,L,Z,ee,x),x&&Oe&2048&&Pu(L.alternate,L);break;default:Os(A,L,Z,ee,x)}c=c.sibling}}function hi(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,b=c,x=b.flags;switch(b.tag){case 22:hi(p,b),x&2048&&Rs(b.alternate,b);break;case 24:hi(p,b),x&2048&&Pu(b.alternate,b);break;default:hi(p,b)}c=c.sibling}}function Ns(o){if(o.subtreeFlags&ba)for(o=o.child;o!==null;)Hu(o),o=o.sibling}function Hu(o){switch(o.tag){case 26:Ns(o),o.flags&ba&&(o.memoizedState!==null?as(Cr,o.memoizedState,o.memoizedProps):ec(o.type,o.memoizedProps));break;case 5:Ns(o),o.flags&ba&&ec(o.type,o.memoizedProps);break;case 3:case 4:if(Za){var c=Cr;Cr=Bl(o.stateNode.containerInfo),Ns(o),Cr=c}else Ns(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ba,ba=16777216,Ns(o),ba=c):Ns(o));break;default:Ns(o)}}function Rl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Gu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Dt=b,gi(b,o)}Rl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)rr(o),o=o.sibling}function rr(o){switch(o.tag){case 0:case 11:case 15:Gu(o),o.flags&2048&&Ki(9,o,o.return);break;case 3:Gu(o);break;case 12:Gu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Eo(o)):Gu(o);break;default:Gu(o)}}function Eo(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];Dt=b,gi(b,o)}Rl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ki(8,c,c.return),Eo(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Eo(c));break;default:Eo(c)}o=o.sibling}}function gi(o,c){for(;Dt!==null;){var p=Dt;switch(p.tag){case 0:case 11:case 15:Ki(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ze(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Dt=b;else e:for(p=o;Dt!==null;){b=Dt;var x=b.sibling,A=b.return;if(dh(b),b===p){Dt=null;break e}if(x!==null){x.return=A,Dt=x;break e}Dt=A}}}function Sf(o){var c=Hg(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(i(364));return c}if(o=Vg(o),o===null)throw Error(i(362));return o.stateNode.current}function Co(o,c){var p=o.tag;switch(c.$$typeof){case Fs:if(o.type===c.value)return!0;break;case _a:e:{for(c=c.value,o=[o,0],p=0;p<o.length;){var b=o[p++],x=b.tag,A=o[p++],L=c[A];if(x!==5&&x!==26&&x!==27||!jo(b)){for(;L!=null&&Co(b,L);)A++,L=c[A];if(A===c.length){c=!0;break e}else for(b=b.child;b!==null;)o.push(b,A),b=b.sibling}}c=!1}return c;case Zo:if((p===5||p===26||p===27)&&Mh(o.stateNode,c.value))return!0;break;case Zl:if((p===5||p===6||p===26||p===27)&&(o=Zg(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case Io:if((p===5||p===26||p===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Qi(o){switch(o.$$typeof){case Fs:return"<"+(_(o.value)||"Unknown")+">";case _a:return":has("+(Qi(o)||"")+")";case Zo:return'[role="'+o.value+'"]';case Zl:return'"'+o.value+'"';case Io:return'[data-testname="'+o.value+'"]';default:throw Error(i(365))}}function wf(o,c){var p=[];o=[o,0];for(var b=0;b<o.length;){var x=o[b++],A=x.tag,L=o[b++],Z=c[L];if(A!==5&&A!==26&&A!==27||!jo(x)){for(;Z!=null&&Co(x,Z);)L++,Z=c[L];if(L===c.length)p.push(x);else for(x=x.child;x!==null;)o.push(x,L),x=x.sibling}}return p}function qu(o,c){if(!Do)throw Error(i(363));o=Sf(o),o=wf(o,c),c=[],o=Array.from(o);for(var p=0;p<o.length;){var b=o[p++],x=b.tag;if(x===5||x===26||x===27)jo(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return c}function la(){if((ct&2)!==0&&jt!==0)return jt&-jt;if(ut.T!==null){var o=Sn;return o!==0?o:De()}return Th()}function Ol(){kr===0&&(kr=(jt&536870912)===0||It?P():536870912);var o=Ur.current;return o!==null&&(o.flags|=32),kr}function Oa(o,c,p){(o===Kt&&(rn===2||rn===9)||o.cancelPendingCommit!==null)&&(Dr(o,0),ir(o,jt,kr,!1)),Y(o,p),((ct&2)===0||o!==Kt)&&(o===Kt&&((ct&2)===0&&(Ws|=p),Bn===4&&ir(o,jt,kr,!1)),We(o))}function Vu(o,c,p){if((ct&6)!==0)throw Error(i(327));var b=!p&&(c&124)===0&&(c&o.expiredLanes)===0||j(o,c),x=b?mi(o,c):Xt(o,c,!0),A=b;do{if(x===0){Oi&&!b&&ir(o,c,0,!1);break}else{if(p=o.current.alternate,A&&!Mr(p)){x=Xt(o,c,!1),A=!1;continue}if(x===2){if(A=c,o.errorRecoveryDisabledLanes&A)var L=0;else L=o.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){c=L;e:{var Z=o;x=Js;var ee=lr&&Z.current.memoizedState.isDehydrated;if(ee&&(Dr(Z,L).flags|=256),L=Xt(Z,L,!1),L!==2){if(yc&&!ee){Z.errorRecoveryDisabledLanes|=A,Ws|=A,x=4;break e}A=Ua,Ua=x,A!==null&&(Ua===null?Ua=A:Ua.push.apply(Ua,A))}x=L}if(A=!1,x!==2)continue}}if(x===1){Dr(o,0),ir(o,c,0,!0);break}e:{switch(b=o,A=x,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:ir(b,c,kr,!us);break e;case 2:Ua=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(x=Ff+300-gn(),10<x)){if(ir(b,c,kr,!us),M(b,0,!0)!==0)break e;b.timeoutHandle=Df(_r.bind(null,b,p,Ua,bc,el,c,kr,Ws,Tr,us,A,2,-0,0),x);break e}_r(b,p,Ua,bc,el,c,kr,Ws,Tr,us,A,0,-0,0)}}break}while(!0);We(o)}function _r(o,c,p,b,x,A,L,Z,ee,Oe,Le,Ie,Ke,Tt){if(o.timeoutHandle=zr,Ie=c.subtreeFlags,(Ie&8192||(Ie&16785408)===16785408)&&(Ju(),Hu(c),Ie=Rh(),Ie!==null)){o.cancelPendingCommit=Ie(yh.bind(null,o,c,A,p,b,x,L,Z,ee,Le,1,Ke,Tt)),ir(o,A,L,!Oe);return}yh(o,c,A,p,b,x,L,Z,ee)}function Mr(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var x=p[b],A=x.getSnapshot;x=x.value;try{if(!wr(A(),x))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ir(o,c,p,b){c&=~Kf,c&=~Ws,o.suspendedLanes|=c,o.pingedLanes&=~c,b&&(o.warmLanes|=c),b=o.expirationTimes;for(var x=c;0<x;){var A=31-cr(x),L=1<<A;b[A]=-1,x&=~L}p!==0&&oe(o,p,c)}function pi(){return(ct&6)===0?(bt(0),!1):!0}function Ir(){if(Et!==null){if(rn===0)var o=Et.return;else o=Et,Da=$r=null,Ta(o),Ti=null,Vo=0,o=Et;for(;o!==null;)So(o.alternate,o),o=o.return;Et=null}}function Dr(o,c){var p=o.timeoutHandle;p!==zr&&(o.timeoutHandle=zr,Wu(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Ir(),Kt=o,Et=p=$i(o.current,null),jt=c,rn=0,Qa=null,us=!1,Oi=j(o,c),yc=!1,Tr=kr=Kf=Ws=Jn=Bn=0,Ua=Js=null,el=!1,(c&8)!==0&&(c|=c&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=c;0<b;){var x=31-cr(b),A=1<<x;c|=o[x],b&=~A}return Yn=c,pl(),p}function ph(o,c){At=null,ut.H=Ks,c===Go||c===vn?(c=Gi(),rn=3):c===Xf?(c=Gi(),rn=4):rn=c===Vt?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Qa=c,Et===null&&(Bn=1,of(o,Q(c,o.current)))}function xf(){var o=Ur.current;return o===null?!0:(jt&4194048)===jt?Ai===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Ai:!1}function Ef(){var o=ut.H;return ut.H=Ks,o===null?Ks:o}function Na(){var o=ut.A;return ut.A=Yo,o}function Mn(){Bn=4,us||(jt&4194048)!==jt&&Ur.current!==null||(Oi=!0),(Jn&134217727)===0&&(Ws&134217727)===0||Kt===null||ir(Kt,jt,kr,!1)}function Xt(o,c,p){var b=ct;ct|=2;var x=Ef(),A=Na();(Kt!==o||jt!==c)&&(bc=null,Dr(o,c)),c=!1;var L=Bn;e:do try{if(rn!==0&&Et!==null){var Z=Et,ee=Qa;switch(rn){case 8:Ir(),L=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(c=!0);var Oe=rn;if(rn=0,Qa=null,Ml(o,Z,ee,Oe),p&&Oi){L=0;break e}break;default:Oe=rn,rn=0,Qa=null,Ml(o,Z,ee,Oe)}}Nl(),L=Bn;break}catch(Le){ph(o,Le)}while(!0);return c&&o.shellSuspendCounter++,Da=$r=null,ct=b,ut.H=x,ut.A=A,Et===null&&(Kt=null,jt=0,pl()),L}function Nl(){for(;Et!==null;)Ms(Et)}function mi(o,c){var p=ct;ct|=2;var b=Ef(),x=Na();Kt!==o||jt!==c?(bc=null,Xo=gn()+500,Dr(o,c)):Oi=j(o,c);e:do try{if(rn!==0&&Et!==null){c=Et;var A=Qa;t:switch(rn){case 1:rn=0,Qa=null,Ml(o,c,A,1);break;case 2:case 9:if(Xc(A)){rn=0,Qa=null,vh(c);break}c=function(){rn!==2&&rn!==9||Kt!==o||(rn=7),We(o)},A.then(c,c);break e;case 3:rn=7;break e;case 4:rn=5;break e;case 7:Xc(A)?(rn=0,Qa=null,vh(c)):(rn=0,Qa=null,Ml(o,c,A,7));break;case 5:var L=null;switch(Et.tag){case 26:L=Et.memoizedState;case 5:case 27:var Z=Et,ee=Z.type,Oe=Z.pendingProps;if(L?ns(L):jf(ee,Oe)){rn=0,Qa=null;var Le=Z.sibling;if(Le!==null)Et=Le;else{var Ie=Z.return;Ie!==null?(Et=Ie,Ds(Ie)):Et=null}break t}}rn=0,Qa=null,Ml(o,c,A,5);break;case 6:rn=0,Qa=null,Ml(o,c,A,6);break;case 8:Ir(),Bn=6;break e;default:throw Error(i(462))}}mh();break}catch(Ke){ph(o,Ke)}while(!0);return Da=$r=null,ut.H=b,ut.A=x,ct=p,Et!==null?0:(Kt=null,jt=0,pl(),Bn)}function mh(){for(;Et!==null&&!e1();)Ms(Et)}function Ms(o){var c=ju(o.alternate,o,Yn);o.memoizedProps=o.pendingProps,c===null?Ds(o):Et=c}function vh(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=Ng(p,c,c.pendingProps,c.type,void 0,jt);break;case 11:c=Ng(p,c,c.pendingProps,c.type.render,c.ref,jt);break;case 5:Ta(c);default:So(p,c),c=Et=Kn(c,Yn),c=ju(p,c,Yn)}o.memoizedProps=o.pendingProps,c===null?Ds(o):Et=c}function Ml(o,c,p,b){Da=$r=null,Ta(c),Ti=null,Vo=0;var x=c.return;try{if(Zv(o,x,c,p,jt)){Bn=1,of(o,Q(p,o.current)),Et=null;return}}catch(A){if(x!==null)throw Et=x,A;Bn=1,of(o,Q(p,o.current)),Et=null;return}c.flags&32768?(It||b===1?o=!0:Oi||(jt&536870912)!==0?o=!1:(us=o=!0,(b===2||b===9||b===3||b===6)&&(b=Ur.current,b!==null&&b.tag===13&&(b.flags|=16384))),To(c,o)):Ds(c)}function Ds(o){var c=o;do{if((c.flags&32768)!==0){To(c,us);return}o=c.return;var p=Xv(c.alternate,c,Yn);if(p!==null){Et=p;return}if(c=c.sibling,c!==null){Et=c;return}Et=c=o}while(c!==null);Bn===0&&(Bn=5)}function To(o,c){do{var p=yr(o.alternate,o);if(p!==null){p.flags&=32767,Et=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Et=o;return}Et=o=p}while(o!==null);Bn=6,Et=null}function yh(o,c,p,b,x,A,L,Z,ee){o.cancelPendingCommit=null;do jr();while(na!==0);if((ct&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=$h,F(o,p,A,L,Z,ee),o===Kt&&(Et=Kt=null,jt=0),Ko=c,tl=o,Fo=p,Qf=A,$f=x,Il=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Ug(qf,function(){return yi(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=ut.T,ut.T=null,x=Kr(),oa(2),L=ct,ct|=4;try{jg(o,c,p)}finally{ct=L,oa(x),ut.T=b}}na=1,Ao(),Cf(),js()}}function Ao(){if(na===1){na=0;var o=tl,c=Ko,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ut.T,ut.T=null;var b=Kr();oa(2);var x=ct;ct|=4;try{gh(c,o),Mt(o.containerInfo)}finally{ct=x,oa(b),ut.T=p}}o.current=c,na=2}}function Cf(){if(na===2){na=0;var o=tl,c=Ko,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ut.T,ut.T=null;var b=Kr();oa(2);var x=ct;ct|=4;try{As(o,c.alternate,c)}finally{ct=x,oa(b),ut.T=p}}na=3}}function js(){if(na===4||na===3){na=0,bp();var o=tl,c=Ko,p=Fo,b=Il;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?na=5:(na=0,Ko=tl=null,vi(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(Ni=null),de(p),c=c.stateNode,Ia&&typeof Ia.onCommitFiberRoot=="function")try{Ia.onCommitFiberRoot(Hs,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=ut.T,x=Kr(),oa(2),ut.T=null;try{for(var A=o.onRecoverableError,L=0;L<b.length;L++){var Z=b[L];A(Z.value,{componentStack:Z.stack})}}finally{ut.T=c,oa(x)}}(Fo&3)!==0&&jr(),We(o),x=o.pendingLanes,(p&4194090)!==0&&(x&42)!==0?o===Wf?nl++:(nl=0,Wf=o):nl=0,bt(0)}}function vi(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ze(c)))}function jr(o){return Ao(),Cf(),js(),yi()}function yi(){if(na!==5)return!1;var o=tl,c=Qf;Qf=0;var p=de(Fo),b=32>p?32:p;p=ut.T;var x=Kr();try{oa(b),ut.T=null,b=$f,$f=null;var A=tl,L=Fo;if(na=0,Ko=tl=null,Fo=0,(ct&6)!==0)throw Error(i(331));var Z=ct;if(ct|=4,rr(A.current),Bu(A,A.current,L,b),ct=Z,bt(0,!1),Ia&&typeof Ia.onPostCommitFiberRoot=="function")try{Ia.onPostCommitFiberRoot(Hs,A)}catch{}return!0}finally{oa(x),ut.T=p,vi(o,c)}}function Tf(o,c,p){c=Q(p,c),c=uf(o.stateNode,c,2),o=Je(o,c,2),o!==null&&(Y(o,2),We(o))}function nn(o,c,p){if(o.tag===3)Tf(o,o,p);else for(;c!==null;){if(c.tag===3){Tf(c,o,p);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ni===null||!Ni.has(b))){o=Q(p,o),p=xg(2),b=Je(c,p,2),b!==null&&(Eg(p,b,c,o),Y(b,2),We(b));break}}c=c.return}}function Dl(o,c,p){var b=o.pingCache;if(b===null){b=o.pingCache=new $s;var x=new Set;b.set(c,x)}else x=b.get(c),x===void 0&&(x=new Set,b.set(c,x));x.has(p)||(yc=!0,x.add(p),o=Af.bind(null,o,c,p),c.then(o,o))}function Af(o,c,p){var b=o.pingCache;b!==null&&b.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Kt===o&&(jt&p)===p&&(Bn===4||Bn===3&&(jt&62914560)===jt&&300>gn()-Ff?(ct&2)===0&&Dr(o,0):Kf|=p,Tr===jt&&(Tr=0)),We(o)}function zs(o,c){c===0&&(c=H()),o=ie(o,c),o!==null&&(Y(o,c),We(o))}function Ma(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),zs(o,p)}function Rf(o,c){var p=0;switch(o.tag){case 13:var b=o.stateNode,x=o.memoizedState;x!==null&&(p=x.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),zs(o,p)}function Ug(o,c){return oc(o,c)}function Fv(o,c,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $i(o,c){var p=o.alternate;return p===null?(p=n(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Kn(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Ro(o,c,p,b,x,A){var L=0;if(b=o,typeof o=="function")bh(o)&&(L=1);else if(typeof o=="string")L=Za&&Lt?rc(o,p,Tn.current)?26:Xh(o)?27:5:Za?rc(o,p,Tn.current)?26:5:Lt&&Xh(o)?27:5;else e:switch(o){case Pl:return o=n(31,p,c,x),o.elementType=Pl,o.lanes=A,o;case Ll:return Xr(p.children,x,A,c);case Zu:L=8,x|=24;break;case Nf:return o=n(12,p,c,x|2),o.elementType=Nf,o.lanes=A,o;case Xu:return o=n(13,p,c,x),o.elementType=Xu,o.lanes=A,o;case Ku:return o=n(19,p,c,x),o.elementType=Ku,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Iu:case Ji:L=10;break e;case wh:L=9;break e;case bi:L=11;break e;case _i:L=14;break e;case Ya:L=16,b=null;break e}L=29,p=Error(i(130,o===null?"null":typeof o,"")),b=null}return c=n(L,p,c,x),c.elementType=o,c.type=b,c.lanes=A,c}function Xr(o,c,p,b){return o=n(7,o,b,c),o.lanes=p,o}function jl(o,c,p){return o=n(6,o,null,c),o.lanes=p,o}function Yu(o,c,p){return c=n(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function Oo(o,c,p,b,x,A,L,Z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=zr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=b,this.onUncaughtError=x,this.onCaughtError=A,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function zl(o,c,p,b,x,A,L,Z,ee,Oe,Le,Ie){return o=new Oo(o,c,p,L,Z,ee,Oe,Ie),c=1,A===!0&&(c|=24),A=n(3,null,null,c),o.current=A,A.stateNode=o,c=Ue(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:b,isDehydrated:p,cache:c},tt(A),o}function kg(o){return o?(o=Gl,o):Gl}function _h(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(c),o=o!==null?g(o):null,o===null?null:Mo(o.stateNode)}function Lg(o,c,p,b,x,A){x=kg(x),b.context===null?b.context=x:b.pendingContext=x,b=Fe(c),b.payload={element:p},A=A===void 0?null:A,A!==null&&(b.callback=A),p=Je(o,b,c),p!==null&&(Oa(p,o,c),st(p,o,c))}function Sh(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function Wi(o,c){Sh(o,c),(o=o.alternate)&&Sh(o,c)}var Nt={},Of=W0(),sr=d2(),Ul=Object.assign,Pg=Symbol.for("react.element"),kl=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),Iu=Symbol.for("react.provider"),wh=Symbol.for("react.consumer"),Ji=Symbol.for("react.context"),bi=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),_i=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),Pl=Symbol.for("react.activity"),xh=Symbol.for("react.memo_cache_sentinel"),Mf=Symbol.iterator,Fu=Symbol.for("react.client.reference"),ks=Array.isArray,ut=Of.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bg=e.rendererVersion,No=e.rendererPackageName,Qu=e.extraDevToolsConfig,Mo=e.getPublicInstance,Eh=e.getRootHostContext,Ch=e.getChildHostContext,Ls=e.prepareForCommit,Mt=e.resetAfterCommit,hn=e.createInstance;e.cloneMutableInstance;var qn=e.appendInitialChild,$u=e.finalizeInitialChildren,es=e.shouldSetTextContent,Ps=e.createTextInstance;e.cloneMutableTextInstance;var Df=e.scheduleTimeout,Wu=e.cancelTimeout,zr=e.noTimeout,ts=e.isPrimaryRenderer;e.warnsIfNotActing;var Pt=e.supportsMutation,Si=e.supportsPersistence,lr=e.supportsHydration,Hg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Gg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var oa=e.setCurrentUpdatePriority,Kr=e.getCurrentUpdatePriority,Th=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Ah=e.shouldAttemptEagerTransition,or=e.detachDeletedInstance;e.requestPostPaintCallback;var Fn=e.maySuspendCommit,jf=e.preloadInstance,Ju=e.startSuspendingCommit,ec=e.suspendInstance;e.suspendOnActiveViewTransition;var Rh=e.waitForCommitToBeReady,ur=e.NotPendingTransition,wi=e.HostTransitionContext,Oh=e.resetFormInstance;e.bindToConsole;var Nh=e.supportsMicrotasks,qg=e.scheduleMicrotask,Do=e.supportsTestSelectors,Vg=e.findFiberRoot,Yg=e.getBoundingRect,Zg=e.getTextContent,jo=e.isHiddenSubtree,Mh=e.matchAccessibilityRole,Ig=e.setFocusIfFocusable,Qv=e.setupIntersectionObserver,Xg=e.appendChild,Kg=e.appendChildToContainer,Fg=e.commitTextUpdate,Dh=e.commitMount,Qg=e.commitUpdate,$g=e.insertBefore,Wg=e.insertInContainerBefore,Jg=e.removeChild,ep=e.removeChildFromContainer,tp=e.resetTextContent,np=e.hideInstance,zo=e.hideTextInstance,zf=e.unhideInstance,ap=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var Uf=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var tc=e.cloneInstance,jh=e.createContainerChildSet,zh=e.appendChildToContainerChildSet,rp=e.finalizeContainerChildren,Uh=e.replaceContainerChildren,kh=e.cloneHiddenInstance,Lh=e.cloneHiddenTextInstance,nc=e.isSuspenseInstancePending,kf=e.isSuspenseInstanceFallback,ip=e.getSuspenseInstanceFallbackErrorDetails,Ph=e.registerSuspenseInstanceRetry,sp=e.canHydrateFormStateMarker,lp=e.isFormStateMarkerMatching,op=e.getNextHydratableSibling,Bh=e.getNextHydratableSiblingAfterSingleton,up=e.getFirstHydratableChild,cp=e.getFirstHydratableChildWithinContainer,Hh=e.getFirstHydratableChildWithinSuspenseInstance,fp=e.getFirstHydratableChildWithinSingleton,dp=e.canHydrateInstance,$v=e.canHydrateTextInstance,Wv=e.canHydrateSuspenseInstance,hp=e.hydrateInstance,ac=e.hydrateTextInstance,Gh=e.hydrateSuspenseInstance,Lf=e.getNextHydratableInstanceAfterSuspenseInstance,gp=e.commitHydratedContainer,pp=e.commitHydratedSuspenseInstance,Pf=e.clearSuspenseBoundary,mp=e.clearSuspenseBoundaryFromContainer,qh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Jv=e.validateHydratableInstance,Uo=e.validateHydratableTextInstance,Za=e.supportsResources,rc=e.isHostHoistableType,Bl=e.getHoistableRoot,ic=e.getResource,Vh=e.acquireResource,Yh=e.releaseResource,ko=e.hydrateHoistable,Zh=e.mountHoistable,Sr=e.unmountHoistable,xi=e.createHoistableInstance,Bs=e.prepareToCommitHoistables,vp=e.mayResourceSuspendCommit,ns=e.preloadResource,as=e.suspendResource,Lt=e.supportsSingletons,sc=e.resolveSingletonInstance,Ih=e.acquireSingletonInstance,Bf=e.releaseSingletonInstance,Xh=e.isHostSingletonType,Hl=e.isSingletonScope,rs=[],is=-1,Gl={},cr=Math.clz32?Math.clz32:R,yp=Math.log,Hf=Math.LN2,lc=256,Lo=4194304,oc=sr.unstable_scheduleCallback,Gf=sr.unstable_cancelCallback,e1=sr.unstable_shouldYield,bp=sr.unstable_requestPaint,gn=sr.unstable_now,ua=sr.unstable_ImmediatePriority,_p=sr.unstable_UserBlockingPriority,qf=sr.unstable_NormalPriority,Sp=sr.unstable_IdlePriority,wp=sr.log,xp=sr.unstable_setDisableYieldValue,Hs=null,Ia=null,Vf,Kh,Yf=!1,Zf=new WeakMap,Gs=[],qs=0,uc=null,Po=0,Xa=[],fr=0,Vs=null,Fr=1,Ei="",Tn=S(null),ql=S(null),Ys=S(null),cc=S(null),Pn=null,Qn=null,It=!1,Qr=null,Jt=!1,Fh=Error(i(519)),wr=typeof Object.is=="function"?Object.is:fn,fc=S(null),$r=null,Da=null,Ep=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,b){o.push(b)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},Cp=sr.unstable_scheduleCallback,dc=sr.unstable_NormalPriority,an={$$typeof:Ji,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},hc=null,Zs=null,If=!1,Bo=!1,gc=!1,ss=0,Ho=null,Wr=0,Sn=0,Is=null,Qh=ut.S;ut.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Wt(o,c),Qh!==null&&Qh(o,c)};var Dn=S(null),t1=Object.prototype.hasOwnProperty,Go=Error(i(460)),Xf=Error(i(474)),vn=Error(i(542)),ya={then:function(){}},dr=null,xr=[],Vl=0,$h=0,Ci=!1,Ka=!1,ja=S(null),pc=S(0),$n=0,At=null,qt=null,wn=null,Jr=!1,Xs=!1,ls=!1,Er=0,qo=0,ei=null,mc=0,Ks={readContext:ce,use:_n,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Yl={readContext:ce,use:_n,useCallback:function(o,c){return ft().memoizedState=[o,c===void 0?null:c],o},useContext:ce,useEffect:Wd,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Au(4194308,4,mo.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Au(4194308,4,o,c)},useInsertionEffect:function(o,c){Au(4,2,o,c)},useMemo:function(o,c){var p=ft();c=c===void 0?null:c;var b=o();if(ls){he(!0);try{o()}finally{he(!1)}}return p.memoizedState=[b,c],b},useReducer:function(o,c,p){var b=ft();if(p!==void 0){var x=p(c);if(ls){he(!0);try{p(c)}finally{he(!1)}}}else x=c;return b.memoizedState=b.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},b.queue=o,o=o.dispatch=th.bind(null,At,o),[b.memoizedState,o]},useRef:function(o){var c=ft();return o={current:o},c.memoizedState=o},useState:function(o){o=Qc(o);var c=o.queue,p=nf.bind(null,At,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Ru,useDeferredValue:function(o,c){var p=ft();return vo(p,o,c)},useTransition:function(){var o=Qc(!1);return o=eh.bind(null,At,o.queue,!0,!1),ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var b=At,x=ft();if(It){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),Kt===null)throw Error(i(349));(jt&124)!==0||Id(b,c,p)}x.memoizedState=p;var A={value:p,getSnapshot:c};return x.queue=A,Wd(hg.bind(null,b,A,o),[o]),b.flags|=2048,Es(9,qi(),Tu.bind(null,b,A,p,c),null),p},useId:function(){var o=ft(),c=Kt.identifierPrefix;if(It){var p=Ei,b=Fr;p=(b&~(1<<32-cr(b)-1)).toString(32)+p,c=""+c+"R"+p,p=Er++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=mc++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Yi,useFormState:Wc,useActionState:Wc,useOptimistic:function(o){var c=ft();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=bo.bind(null,At,!0,p),p.dispatch=c,[o,c]},useMemoCache:xs,useCacheRefresh:function(){return ft().memoizedState=Yv.bind(null,At)}},Wh={readContext:ce,use:_n,useCallback:Ou,useContext:ce,useEffect:po,useImperativeHandle:Vi,useInsertionEffect:ci,useLayoutEffect:tf,useMemo:Jd,useReducer:ma,useRef:bl,useState:function(){return ma(pr)},useDebugValue:Ru,useDeferredValue:function(o,c){var p=Ut();return Nu(p,qt.memoizedState,o,c)},useTransition:function(){var o=ma(pr)[0],c=Ut().memoizedState;return[typeof o=="boolean"?o:qa(o),c]},useSyncExternalStore:Cu,useId:Mu,useHostTransitionStatus:Yi,useFormState:gg,useActionState:gg,useOptimistic:function(o,c){var p=Ut();return $c(p,qt,o,c)},useMemoCache:xs,useCacheRefresh:yo},Tp={readContext:ce,use:_n,useCallback:Ou,useContext:ce,useEffect:po,useImperativeHandle:Vi,useInsertionEffect:ci,useLayoutEffect:tf,useMemo:Jd,useReducer:Zd,useRef:bl,useState:function(){return Zd(pr)},useDebugValue:Ru,useDeferredValue:function(o,c){var p=Ut();return qt===null?vo(p,o,c):Nu(p,qt.memoizedState,o,c)},useTransition:function(){var o=Zd(pr)[0],c=Ut().memoizedState;return[typeof o=="boolean"?o:qa(o),c]},useSyncExternalStore:Cu,useId:Mu,useHostTransitionStatus:Yi,useFormState:ef,useActionState:ef,useOptimistic:function(o,c){var p=Ut();return qt!==null?$c(p,qt,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:xs,useCacheRefresh:yo},Ti=null,Vo=0,os=bg(!0),Jh=bg(!1),Ur=S(null),Ai=null,mt=S(0),pn={enqueueSetState:function(o,c,p){o=o._reactInternals;var b=la(),x=Fe(b);x.payload=c,p!=null&&(x.callback=p),c=Je(o,x,b),c!==null&&(Oa(c,o,b),st(c,o,b))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var b=la(),x=Fe(b);x.tag=1,x.payload=c,p!=null&&(x.callback=p),c=Je(o,x,b),c!==null&&(Oa(c,o,b),st(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=la(),b=Fe(p);b.tag=2,c!=null&&(b.callback=c),c=Je(o,b,p),c!==null&&(Oa(c,o,p),st(c,o,p))}},kt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Vt=Error(i(461)),vt=!1,Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},za=!1,xn=!1,vc=!1,Ri=typeof WeakSet=="function"?WeakSet:Set,Dt=null,yn=null,Wn=!1,Cr=null,ba=8192,Yo={getCacheForType:function(o){var c=ce(an),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},Fs=0,_a=1,Zo=2,Io=3,Zl=4;if(typeof Symbol=="function"&&Symbol.for){var Qs=Symbol.for;Fs=Qs("selector.component"),_a=Qs("selector.has_pseudo_class"),Zo=Qs("selector.role"),Io=Qs("selector.test_id"),Zl=Qs("selector.text")}var $s=typeof WeakMap=="function"?WeakMap:Map,ct=0,Kt=null,Et=null,jt=0,rn=0,Qa=null,us=!1,Oi=!1,yc=!1,Yn=0,Bn=0,Jn=0,Ws=0,Kf=0,kr=0,Tr=0,Js=null,Ua=null,el=!1,Ff=0,Xo=1/0,bc=null,Ni=null,na=0,tl=null,Ko=null,Fo=0,Qf=0,$f=null,Il=null,nl=0,Wf=null;return Nt.attemptContinuousHydration=function(o){if(o.tag===13){var c=ie(o,67108864);c!==null&&Oa(c,o,67108864),Wi(o,67108864)}},Nt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=la();c=we(c);var p=ie(o,c);p!==null&&Oa(p,o,c),Wi(o,c)}},Nt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=O(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var p=1<<31-cr(c);o.entanglements[1]|=p,c&=~p}We(o),(ct&6)===0&&(Xo=gn()+500,bt(0))}}break;case 13:c=ie(o,2),c!==null&&Oa(c,o,2),pi(),Wi(o,2)}},Nt.batchedUpdates=function(o,c){return o(c)},Nt.createComponentSelector=function(o){return{$$typeof:Fs,value:o}},Nt.createContainer=function(o,c,p,b,x,A,L,Z,ee,Oe){return zl(o,c,!1,null,p,b,A,L,Z,ee,Oe,null)},Nt.createHasPseudoClassSelector=function(o){return{$$typeof:_a,value:o}},Nt.createHydrationContainer=function(o,c,p,b,x,A,L,Z,ee,Oe,Le,Ie,Ke){return o=zl(p,b,!0,o,x,A,Z,ee,Oe,Le,Ie,Ke),o.context=kg(null),p=o.current,b=la(),b=we(b),x=Fe(b),x.callback=c??null,Je(p,x,b),c=b,o.current.lanes=c,Y(o,c),We(o),o},Nt.createPortal=function(o,c,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:b==null?null:""+b,children:o,containerInfo:c,implementation:p}},Nt.createRoleSelector=function(o){return{$$typeof:Zo,value:o}},Nt.createTestNameSelector=function(o){return{$$typeof:Io,value:o}},Nt.createTextSelector=function(o){return{$$typeof:Zl,value:o}},Nt.defaultOnCaughtError=function(o){console.error(o)},Nt.defaultOnRecoverableError=function(o){kt(o)},Nt.defaultOnUncaughtError=function(o){kt(o)},Nt.deferredUpdates=function(o){var c=ut.T,p=Kr();try{return oa(32),ut.T=null,o()}finally{oa(p),ut.T=c}},Nt.discreteUpdates=function(o,c,p,b,x){var A=ut.T,L=Kr();try{return oa(2),ut.T=null,o(c,p,b,x)}finally{oa(L),ut.T=A,ct===0&&(Xo=gn()+500)}},Nt.findAllNodes=qu,Nt.findBoundingRects=function(o,c){if(!Do)throw Error(i(363));c=qu(o,c),o=[];for(var p=0;p<c.length;p++)o.push(Yg(c[p]));for(c=o.length-1;0<c;c--){p=o[c];for(var b=p.x,x=b+p.width,A=p.y,L=A+p.height,Z=c-1;0<=Z;Z--)if(c!==Z){var ee=o[Z],Oe=ee.x,Le=Oe+ee.width,Ie=ee.y,Ke=Ie+ee.height;if(b>=Oe&&A>=Ie&&x<=Le&&L<=Ke){o.splice(c,1);break}else if(b!==Oe||p.width!==ee.width||Ke<A||Ie>L){if(!(A!==Ie||p.height!==ee.height||Le<b||Oe>x)){Oe>b&&(ee.width+=Oe-b,ee.x=b),Le<x&&(ee.width=x-Oe),o.splice(c,1);break}}else{Ie>A&&(ee.height+=Ie-A,ee.y=A),Ke<L&&(ee.height=L-Ie),o.splice(c,1);break}}}return o},Nt.findHostInstance=_h,Nt.findHostInstanceWithNoPortals=function(o){return o=d(o),o=o!==null?m(o):null,o===null?null:Mo(o.stateNode)},Nt.findHostInstanceWithWarning=function(o){return _h(o)},Nt.flushPassiveEffects=jr,Nt.flushSyncFromReconciler=function(o){var c=ct;ct|=1;var p=ut.T,b=Kr();try{if(oa(2),ut.T=null,o)return o()}finally{oa(b),ut.T=p,ct=c,(ct&6)===0&&bt(0)}},Nt.flushSyncWork=pi,Nt.focusWithin=function(o,c){if(!Do)throw Error(i(363));for(o=Sf(o),c=wf(o,c),c=Array.from(c),o=0;o<c.length;){var p=c[o++],b=p.tag;if(!jo(p)){if((b===5||b===26||b===27)&&Ig(p.stateNode))return!0;for(p=p.child;p!==null;)c.push(p),p=p.sibling}}return!1},Nt.getFindAllNodesFailureDescription=function(o,c){if(!Do)throw Error(i(363));var p=0,b=[];o=[Sf(o),0];for(var x=0;x<o.length;){var A=o[x++],L=A.tag,Z=o[x++],ee=c[Z];if((L!==5&&L!==26&&L!==27||!jo(A))&&(Co(A,ee)&&(b.push(Qi(ee)),Z++,Z>p&&(p=Z)),Z<c.length))for(A=A.child;A!==null;)o.push(A,Z),A=A.sibling}if(p<c.length){for(o=[];p<c.length;p++)o.push(Qi(c[p]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Nt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Mo(o.child.stateNode);default:return o.child.stateNode}},Nt.injectIntoDevTools=function(){var o={bundleType:0,version:Bg,rendererPackageName:No,currentDispatcherRef:ut,reconcilerVersion:"19.1.0"};if(Qu!==null&&(o.rendererConfig=Qu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{Hs=c.inject(o),Ia=c}catch{}o=!!c.checkDCE}}return o},Nt.isAlreadyRendering=function(){return(ct&6)!==0},Nt.observeVisibleRects=function(o,c,p,b){if(!Do)throw Error(i(363));o=qu(o,c);var x=Qv(o,p,b).disconnect;return{disconnect:function(){x()}}},Nt.shouldError=function(){return null},Nt.shouldSuspend=function(){return!1},Nt.startHostTransition=function(o,c,p,b){if(o.tag!==5)throw Error(i(476));var x=Va(o).queue;eh(o,x,c,ur,p===null?a:function(){var A=Va(o).next.queue;return Zi(o,A,{},la()),p(b)})},Nt.updateContainer=function(o,c,p,b){var x=c.current,A=la();return Lg(x,A,o,c,p,b),A},Nt.updateContainerSync=function(o,c,p,b){return Lg(c.current,2,o,c,p,b),2},Nt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(ay)),ay.exports}var p5;function kj(){return p5||(p5=1,ny.exports=Uj()),ny.exports}var Lj=kj();const Pj=$0(Lj);var ry={exports:{}},Fl={};var m5;function Bj(){return m5||(m5=1,Fl.ConcurrentRoot=1,Fl.ContinuousEventPriority=8,Fl.DefaultEventPriority=32,Fl.DiscreteEventPriority=2,Fl.IdleEventPriority=268435456,Fl.LegacyRoot=0,Fl.NoEventPriority=0),Fl}var v5;function Hj(){return v5||(v5=1,ry.exports=Bj()),ry.exports}var Nv=Hj();const y5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let b5=!1,_5=!1;const av=".react-konva-event",Gj=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,qj=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Vj={};function Mv(t,e,n=Vj){if(!b5&&"zIndex"in e&&(console.warn(qj),b5=!0),!_5&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn(Gj),_5=!0)}for(var l in n)if(!y5[l]){var u=l.slice(0,2)==="on",d=n[l]!==e[l];if(u&&d){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),t.off(g,n[l])}var m=!e.hasOwnProperty(l);m&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},S=!1;const E={};for(var l in e)if(!y5[l]){var u=l.slice(0,2)==="on",C=n[l]!==e[l];if(u&&C){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(E[g]=e[l])}!u&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(S=!0,_[l]=e[l])}S&&(t.setAttrs(_),wu(t));for(var g in E)t.off(g+av),t.on(g+av,E[g])}function wu(t){if(!Ve.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var iy=d2();const i6={},Yj={};Ld.Node.prototype._applyProps=Mv;let s6=Nv.DefaultEventPriority;function Zj(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),wu(t)}function Ij(t,e,n){let a=Ld[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Ld.Group);const i={},l={};for(var u in e)if(u!=="ref"){var d=u.slice(0,2)==="on";d?l[u]=e[u]:i[u]=e[u]}const g=new a(i);return Mv(g,l),g}function Xj(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function Kj(t,e,n){return!1}function Fj(t){return t}function Qj(){return null}function $j(){return null}function Wj(t,e,n,a){return Yj}function Jj(){}function ez(t){}function tz(t,e){return!1}function nz(){return i6}function az(){return i6}const rz=setTimeout,iz=clearTimeout,sz=!0,lz=t=>{t()},oz=-1;function uz(t,e){return!1}const cz=!1,fz=!1,dz=!0,hz=!1,gz=!1;function pz(t,e){e.parent===t?e.moveToTop():t.add(e),wu(t)}function mz(t,e){e.parent===t?e.moveToTop():t.add(e),wu(t)}function l6(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),wu(t)}function vz(t,e,n){l6(t,e,n)}function yz(t,e){e.destroy(),e.off(av),wu(t)}function bz(t,e){e.destroy(),e.off(av),wu(t)}function _z(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Sz(t,e,n){}function wz(t,e,n,a){Mv(t,a,n)}function xz(t){t.hide(),wu(t)}function Ez(t){}function Cz(t,e){(e.visible==null||e.visible)&&t.show()}function Tz(t,e){}function Az(t){}function Rz(){}function Oz(){return Nv.DefaultEventPriority}function Nz(){}function Mz(){return null}function Dz(t){s6=t}function jz(){return s6}function zz(){return Nv.DiscreteEventPriority}function Uz(){return!1}function kz(){}function Lz(){return!1}function Pz(){return!0}function Bz(){}function Hz(){}function Gz(){return null}const qz=null;function Vz(){}const Yz=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:qz,appendChild:pz,appendChildToContainer:mz,appendInitialChild:Zj,cancelTimeout:iz,clearContainer:Az,commitMount:Sz,commitTextUpdate:_z,commitUpdate:wz,createInstance:Ij,createTextInstance:Xj,detachDeletedInstance:Rz,finalizeInitialChildren:Kj,getChildHostContext:az,getCurrentEventPriority:Oz,getCurrentUpdatePriority:jz,getInstanceFromScope:Mz,getPublicInstance:Fj,getRootHostContext:nz,hideInstance:xz,hideTextInstance:Ez,idlePriority:iy.unstable_IdlePriority,insertBefore:l6,insertInContainerBefore:vz,isPrimaryRenderer:cz,maySuspendCommit:Lz,noTimeout:oz,now:iy.unstable_now,preloadInstance:Pz,prepareForCommit:Qj,preparePortalMount:$j,prepareScopeUpdate:Nz,prepareUpdate:Wj,removeChild:yz,removeChildFromContainer:bz,requestPostPaintCallback:kz,resetAfterCommit:Jj,resetFormInstance:Vz,resetTextContent:ez,resolveUpdatePriority:zz,run:iy.unstable_runWithPriority,scheduleMicrotask:lz,scheduleTimeout:rz,setCurrentUpdatePriority:Dz,shouldAttemptEagerTransition:Uz,shouldDeprioritizeSubtree:tz,shouldSetTextContent:uz,startSuspendingCommit:Bz,supportsHydration:gz,supportsMicrotasks:sz,supportsMutation:dz,supportsPersistence:hz,suspendInstance:Hz,unhideInstance:Cz,unhideTextInstance:Tz,waitForCommitToBeReady:Gz,warnsIfNotActing:fz},Symbol.toStringTag,{value:"Module"}));function o6(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=o6(a,e,n);if(i)return i;a=a.sibling}}function u6(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const I2=u6(N.createContext(null));class c6 extends N.Component{render(){return N.createElement(I2.Provider,{value:this._reactInternals},this.props.children)}}function Zz(){const t=N.useContext(I2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=o6(n,!1,i=>{let l=i.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const Iz=Symbol.for("react.context"),Xz=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Iz;function Kz(){const t=Zz(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;Xz(a)&&a!==I2&&!e.has(a)&&e.set(a,N.use(u6(a))),n=n.return}return e}function f6(){const t=Kz();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>N.createElement(e,null,N.createElement(n.Provider,{...a,value:t.get(n)})),e=>N.createElement(c6,{...e})),[t])}if($e.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function Fz(t){const e=$e.useRef({});return $e.useLayoutEffect(()=>{e.current=t}),$e.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const Qz=()=>{const t=$e.useRef(0);return $e.useMemo(()=>{t.current++},[]),t.current>1},$z=t=>{const e=$e.useRef(null),n=$e.useRef(null),a=$e.useRef(null),i=Fz(t),l=f6(),u=$e.useRef(!1),d=m=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(m):v.current=m)},g=Qz();return $e.useLayoutEffect(()=>u.current&&g?()=>{u.current=!1,d(null),Cd.updateContainer(null,a.current,null),n.current.destroy()}:(u.current=!0,n.current=new Ld.Stage({width:t.width,height:t.height,container:e.current}),d(n.current),a.current=Cd.createContainer(n.current,Nv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Cd.updateContainer($e.createElement(l,{},t.children),a.current,null,()=>{}),()=>{g||(d(null),Cd.updateContainer(null,a.current,null),n.current.destroy())}),[]),$e.useLayoutEffect(()=>{d(n.current),Mv(n.current,t,i),Cd.updateContainer($e.createElement(l,{},t.children),a.current,null)}),$e.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},fm="Layer",ai="Group",eo="Rect",d6="Circle",Wz="Line",gs="Text",Jz="Path",eU="Arrow",tU="Transformer",Cd=Pj(Yz);Cd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:$e.version,rendererPackageName:"react-konva"});const nU=$e.forwardRef((t,e)=>$e.createElement(c6,{},$e.createElement($z,{...t,forwardedRef:e})));function sy(t,e,n,a){t.forEach(i=>{if(!e.current||!n.current)return;const l=n.current.findOne(`#${i.from}`)||e.current.findOne(`#${i.from}`),u=n.current.findOne(`#${i.to}`)||e.current.findOne(`#${i.to}`),d=a.current?.findOne(`#${i.id}`),g=e.current.findOne(`#${i.from.replace(/^group-/,"")}`)||n.current.findOne(`#${i.from.replace(/^group-/,"")}`),m=e.current.findOne(`#${i.to.replace(/^group-/,"")}`)||n.current.findOne(`#${i.to.replace(/^group-/,"")}`);if(!l||!u||!d||!g||!m)return;const v=u.x()-l.x(),_=u.y()-l.y(),S=Math.sqrt(v*v+_*_),E=v/S,C=_/S,R=Math.min(30,S/5-1),O=g.width()*(l.attrs.scalingX??1),M=g.height()*(l.attrs.scalingY??1),j=m.width()*(u.attrs.scalingX??1),z=m.height()*(u.attrs.scalingY??1);d.points([l.x()+O/2+E*(O/2+R),l.y()+M/2+C*(M/2+R),u.x()+j/2-E*(j/2+R),u.y()+z/2-C*(z/2+R)])})}const aU=(t,e,n,a)=>{const i=e.x()-t.x(),l=e.y()-t.y(),u=Math.sqrt(i*i+l*l),d=i/u,g=l/u,m=Math.min(30,u/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),S=a.width()*(e.attrs.scalingX??1),E=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+d*(v/2+m),t.y()+_/2+g*(_/2+m),e.x()+S/2-d*(S/2+m),e.y()+E/2-g*(E/2+m)]},rU=({connector:t,mainLayer:e})=>{const[n,a]=N.useState([]);return N.useEffect(()=>{const i=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),u=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),d=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!i||!l||!u||!d)return;const g=aU(i,l,u,d);a(g)},[e,t]),T.jsx(eU,{id:t.id,points:n,fill:"black",stroke:"black"})},iU=({connectors:t,mainLayer:e})=>T.jsx(T.Fragment,{children:t.map(n=>T.jsx(rU,{connector:n,mainLayer:e}))});function S5(t,e,n){if(e==="eraser")return;t.target.moveTo(n.current)}function w5(t,e,n,a){if(a==="eraser")return;const l=t.target.getStage()?.getPointerPosition(),u=e.current?.getIntersection(l);!n.current&&u?(n.current=u,u.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&u&&n.current!==u?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),u.fire("dragenter",{evt:t.evt},!0),n.current=u):n.current&&!u&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function dm(t,e,n,a,i,l,u,d){if(n==="eraser")return;const g=t.target,v=g.getStage()?.getPointerPosition(),_=e.current?.getIntersection(v);_&&!_.getAttr("temporary")&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0);const S=l.find(R=>"group-"+R.id===g.id());g.moveTo(e.current),a.current=null;const E=t.target.id();i(R=>{const O=[...R],M=O.findIndex(j=>"group-"+j.id===E);if(M!==-1){if(O[M].shape!=="line")O[M]={...O[M],x:t.target.x(),y:t.target.y()};else if(O[M].shape==="line"){const j=t.target,z=j.x(),P=j.y();O[M]={...O[M],points:O[M].points.map((H,k)=>k%2===0?H+z:H+P)},j.x(0),j.y(0)}}return O});let C;S&&(S.shape==="line"?C={...S,points:S.points.map((R,O)=>O%2===0?R+t.target.x():R+t.target.y())}:C={...S,x:t.target.x(),y:t.target.y()}),S&&C&&u({action:"update",before:S,after:C,id:d||void 0})}const sU=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:E})=>{const C=E(t,S),R=C.completed+C.not_completed;C.completed===R?t.completed=!0:t.completed=!1;const O=()=>R===0?{completeColor:"purple",completeText:"No Task Yet"}:C.completed===0?{completeColor:"#ff2056",completeText:"Not Started"}:C.completed===R?{completeColor:"#00bc7d",completeText:"Completed"}:{completeColor:"#ff6900",completeText:"In Progress"},{completeColor:M,completeText:j}=O(),[z,P]=N.useState(!1),H=v(t.color),Y=new Date(t.dueDate).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," ");return T.jsxs(ai,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:l!=="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:m,onMouseEnter:()=>{l==="hand"&&P(!0)},onMouseLeave:()=>{l==="hand"&&P(!1)},onClick:()=>{d(t.id)},onDblClick:()=>{l==="hand"&&g(t)},children:[T.jsxs(ai,{visible:!t.isCollapsed,children:[T.jsx(eo,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:H,strokeWidth:2.5,shadowForStrokeEnabled:!1}),T.jsx(gs,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.6,listening:!1}),T.jsx(gs,{text:Y,x:-12,y:t.height-30,width:t.width,fontFamily:"Inter",fontSize:10,align:"right",fill:"black",opacity:.8,listening:!1}),T.jsxs(ai,{children:[T.jsx(eo,{fill:M,width:100,height:30,x:10,y:t.height-40,cornerRadius:10}),T.jsx(gs,{text:j,width:100,height:30,fontFamily:"Inter",align:"center",fill:"white",fontStyle:"bold",x:10,y:t.height-42,padding:10})]}),z&&T.jsxs(ai,{x:t.width+5,y:t.height/2,onClick:F=>{F.cancelBubble=!0,_(t,null)},children:[T.jsx(d6,{radius:16,fill:"white",stroke:t.color}),T.jsx(gs,{x:-8,y:-13.5,text:"+",fill:"black",fontSize:24,fontFamily:"Inter",align:"left"})]})]}),T.jsxs(ai,{children:[T.jsx(eo,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),T.jsx(eo,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),T.jsx(gs,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),T.jsx(gs,{x:t.width*.9,y:5,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"right",verticalAlign:"top",onClick:F=>{l!=="eraser"&&(t.isCollapsed?u(t,!0):u(t,!1),F.cancelBubble=!0,e(_e=>_e.map(we=>we.shape==="rect"&&we.id===t.id?{...we,isCollapsed:!we.isCollapsed}:we)))}})]})]},"key-"+t.id)},lU=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,collapseChild:u,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,onAddTodo:_,allShapes:S,getChildCounts:E})=>T.jsx(T.Fragment,{children:t.map(C=>T.jsx(sU,{rect:C,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:m,tool:l,collapseChild:u,handleEraserClick:d,onShapeClick:g,getBorder:v,onAddTodo:_,global_shape:S,getChildCounts:E},"key-"+C.id))});function oU(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,i=a?.getPointerPosition();if(!i||!a)return;const l=a.scaleX(),u={x:(i.x-a.x())/l,y:(i.y-a.y())/l},d=e.evt.deltaY>0?-1:1,g=1.05,m=d>0?Math.min(l*g,5):Math.max(l/g,.1);a.scale({x:m,y:m});const v={x:i.x-u.x*m,y:i.y-u.y*m};a.position(v),n(Math.round(m*100))}function uU(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('./cursor.svg') 16 16, auto";case"draw":return"crosshair";default:return"default"}}const cU=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,onTransformEnd:u,handleEraserClick:d,onTodoClick:g,shapes:m})=>{const[v,_]=N.useState(!1),S="#FDF6B2",E=t.color,C=new Date(t.dueDate),R=C.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),O=new Date,M=C.getTime()-O.getTime(),j=Math.ceil(M/(1e3*60*60*24)),z=Math.floor(j/7),P=Math.floor(j/30),H=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:P>=1?{statusColor:"#2b7fff",statusText:`${P} Month${P>1?"s":""} left`,statusTextColor:"white"}:z>=1?{statusColor:"#2b7fff",statusText:`${z} Week${z>1?"s":""} left`,statusTextColor:"white"}:j>=2?{statusColor:"#2b7fff",statusText:`${j} Day${j>1?"s":""} left`,statusTextColor:"white"}:j===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:j===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:k,statusText:Y,statusTextColor:F}=H(),oe=_e=>{e(we=>we.map(de=>de.id===_e&&de.shape==="todo"?{...de,completed:!de.completed}:de))};return T.jsx(ai,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&_(!0)},onMouseLeave:()=>{l==="hand"&&_(!1)},draggable:l!="eraser",onDragStart:n,onDragMove:a,onDragEnd:i,onTransformEnd:u,onClick:()=>{d(t.id)},onDblClick:()=>{if(l==="hand"){if(!m)return;let _e=null;if(t.parents){const we=m.find(de=>"group-"+de.id===t.parents);we&&we?.shape==="rect"&&(_e=we)}g(_e,t)}},children:T.jsxs(ai,{visible:!t.isCollapsed,children:[T.jsx(eo,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:E,strokeWidth:1,shadowForStrokeEnabled:!1}),T.jsxs(ai,{children:[T.jsx(eo,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),T.jsxs(ai,{children:[T.jsx(gs,{x:60,y:8,text:t.title,ellipsis:!0,width:t.width-70,height:30,fontSize:20,fontStyle:"bold"}),T.jsx(gs,{x:60,y:32,text:R}),T.jsxs(ai,{children:[T.jsx(gs,{x:60,y:54,text:"Assigned: "+t.assignee}),T.jsxs(ai,{x:280,y:50,children:[T.jsx(eo,{width:110,height:18,fill:k,cornerRadius:[4,4,4,4]}),T.jsx(gs,{x:0,y:3,width:110,height:18,text:Y,fill:F,align:"center",fontStyle:"bold",fontSize:12})]})]}),(v||t.completed)&&T.jsxs(ai,{x:26,y:36,children:[T.jsx(d6,{radius:16,fill:S,stroke:E,strokeWidth:1.5,onClick:()=>oe(t.id)}),t.completed&&T.jsx(Jz,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},fU=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:d,getBorder:g,onTodoClick:m,shapes:v})=>T.jsx(T.Fragment,{children:t.map(_=>T.jsx(cU,{todo:_,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:i,tool:l,handleEraserClick:u,onTransformEnd:d,getBorder:g,onTodoClick:m,shapes:v},"key-"+_.id))});function og(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function dU(t,e,n,a,i){if(e!=="draw")return;const l=og(t);if(!l)return;i(!0);const u={shape:"line",behavior:"decor",color:"black",id:"line-"+Date.now().toString(),points:[l.x,l.y],stroke:n,strokeWidth:4,scaleX:1,scaleY:1};a(d=>[...d,u])}function hU(t,e,n,a){if(!a||e!=="draw")return;const i=og(t);i&&n(l=>{if(l.length===0)return l;const u=l[l.length-1];if(u.shape!=="line")return l;const d={...u,points:[...u.points,i.x,i.y]};return[...l.slice(0,-1),d]})}function gU(t,e){t&&e(!1)}const pU=({lines:t,onDragEnd:e,onTransformEnd:n})=>T.jsx(T.Fragment,{children:t.map(a=>T.jsx(Wz,{id:"group-"+a.id,scaleX:a.scaleX,scaleY:a.scaleY,points:a.points,stroke:a.stroke,strokeWidth:a.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:!0,onDragEnd:e,onTransformEnd:n},a.id))}),x5=20;function mU(t){t(!0)}function E5(t,e,n){for(let a=0;a<t.length-2;a+=2){const i=t[a],l=t[a+1],u=t[a+2],d=t[a+3];if(vU(e.x,e.y,i,l,u,d)<n)return!0}return!1}function vU(t,e,n,a,i,l){const u=i-n,d=l-a,g=u*u+d*d;if(g===0)return Math.hypot(t-n,e-a);let m=((t-n)*u+(e-a)*d)/g;m=Math.max(0,Math.min(1,m));const v=n+m*u,_=a+m*d;return Math.hypot(t-v,e-_)}function yU(t,e,n,a,i,l){if(e!=="eraser"||!a)return;const u=og(t.current);if(!u)return;const d=i.filter(g=>g.shape==="line"&&E5(g.points,u,x5));d.length!==0&&(l({action:"delete",before:d[0],after:d[0]}),n(g=>g.filter(m=>m.shape==="line"?!E5(m.points,u,x5):!0)))}function bU(t){t(!1)}function _U(t,e,n,a,i,l,u,d){return t<i&&n<i||t>u&&n>u||e<l&&a<l||e>d&&a>d?!1:!!(t>=i&&t<=u&&e>=l&&e<=d||n>=i&&n<=u&&a>=l&&a<=d||hm(t,e,n,a,i,l,u,l)||hm(t,e,n,a,u,l,u,d)||hm(t,e,n,a,u,d,i,d)||hm(t,e,n,a,i,d,i,l))}function hm(t,e,n,a,i,l,u,d){function g(m,v,_,S,E,C){return(C-v)*(_-m)>(S-v)*(E-m)}return g(t,e,i,l,u,d)!==g(n,a,i,l,u,d)&&g(t,e,n,a,i,l)!==g(t,e,n,a,u,d)}function SU(t,e){const n=e.x,a=e.y,i=e.x+e.width,l=e.y+e.height;for(let u=0;u<t.length-2;u+=2){const d=t[u],g=t[u+1],m=t[u+2],v=t[u+3];if(_U(d,g,m,v,n,a,i,l))return!0}return!1}const wU=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const i=og(e.current);i&&a({visible:!0,x1:i.x,y1:i.y,x2:i.x,y2:i.y})},xU=(t,e,n,a)=>{if(!e.current)return;const i=og(t.current);i&&a({...n,x2:i.x,y2:i.y})},EU=(t,e,n,a,i,l,u)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const d={x:Math.min(e.x1,e.x2)+u.x,y:Math.min(e.y1,e.y2)+u.y,width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},g=l.current?.getStage(),m=i.filter(v=>{if(v.shape==="line"){const C=v.points.map((R,O)=>O%2===0?R+u.x:R+u.y);return SU(C,d)}if(!l.current)return;const _=l.current.findOne(`#group-${v.id}`);if(!_)return;const S=_.getClientRect({relativeTo:g});if(S.x+=u.x,S.y+=u.y,!!S)return r2.Util.haveIntersection(d,S)});a(m.map(v=>v.id))},CU=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const i=t.target.findAncestor(".shape",!0);if(!i||!i.hasName("shape"))return;const l=i.attrs.shapeId;if(!l)return;const u=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,d=n.includes(l);!u&&!d?a([l]):u&&d?a(n.filter(g=>g!==l)):u&&!d&&a([...n,l])},gm=(t,e,n,a,i)=>{const l=t.target.id(),u=t.target,d=n.find(m=>"group-"+m.id===l);e(m=>{const v=[...m],_=v.findIndex(S=>"group-"+S.id===l);return _!==-1&&v[_].behavior==="node"?v[_]={...v[_],x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()}:_!==-1&&v[_].shape,v});const g=n.find(m=>"group-"+m.id===l);if(g){const m={...g,x:u.x(),y:u.y(),scaleX:u.scaleX(),scaleY:u.scaleY()};d&&m&&a({action:"update",before:d,after:m,id:i||void 0})}},TU=({initialText:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:d,setEditingRef:g,editingRef:m})=>{const v=N.useRef(null),_=N.useCallback(()=>{d==="hand"&&(l(!0),g(v.current))},[l,d,g]),S=N.useCallback(()=>{const E=v.current;if(!E)return;const C=E.getStage()?.findOne("#transformer");if(!C)return;const R=C?.getActiveAnchor();if(R==="middle-right"||R==="middle-left"){const O=E.width()*E.scaleX();E.setAttrs({width:O,scaleX:1}),i(M=>M.map(j=>j.id===t.id?{...j,width:O}:j));return}if(R){const O=E.fontSize()*E.scaleY(),M=E.width()*E.scaleX();E.setAttrs({width:M,fontSize:O,scaleX:1,scaleY:1}),i(j=>j.map(z=>z.id===t.id?{...z,fontSize:O,width:M}:z));return}},[t.id,i]);return T.jsx(T.Fragment,{children:T.jsx(gs,{ref:v,id:"group-"+t.id,shapeId:t.id,name:"shape",x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,fontSize:t.fontSize,fontFamily:"Inter",fontStyle:"normal",fill:"black",align:"left",lineHeight:1,text:t.text,draggable:!0,onClick:()=>e(t.id),onDragEnd:n,onTransform:S,onTransformEnd:a,onDblClick:_,onDblTap:_,visible:!(u&&m&&m?.id()==="group-"+t.id)},"key-"+t.id)})};var AU=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n};const RU=t=>{const e=window.getComputedStyle(t).position;return!(e==="absolute"||e==="relative")};function OU(t=()=>{}){const e=$e.useRef(t);return e.current=t,$e.useCallback((...n)=>e.current.apply(null,n),[])}const NU=({children:t,groupProps:e,divProps:n,transform:a,transformFunc:i,parentNodeFunc:l})=>{const u=f6(),d=$e.useRef(null),[g]=$e.useState(()=>document.createElement("div")),m=$e.useMemo(()=>D8.createRoot(g),[g]),v=a??!0,_=OU(()=>{if(v&&d.current){let O=d.current.getAbsoluteTransform().decompose();i&&(O=i(O)),g.style.position="absolute",g.style.zIndex="10",g.style.top="0px",g.style.left="0px",g.style.transform=`translate(${O.x}px, ${O.y}px) rotate(${O.rotation}deg) scaleX(${O.scaleX}) scaleY(${O.scaleY})`,g.style.transformOrigin="top left"}else g.style.position="",g.style.zIndex="",g.style.top="",g.style.left="",g.style.transform="",g.style.transformOrigin="";const S=n||{},{style:E}=S,C=AU(S,["style"]);Object.assign(g.style,E),Object.assign(g,C)});return $e.useLayoutEffect(()=>{var S;const E=d.current;if(!E)return;const C=l?l({stage:E.getStage()}):(S=E.getStage())===null||S===void 0?void 0:S.container();if(C)return C.appendChild(g),v&&RU(C)&&(C.style.position="relative"),E.on("absoluteTransformChange",_),_(),()=>{var R;E.off("absoluteTransformChange",_),(R=g.parentNode)===null||R===void 0||R.removeChild(g)}},[v,l]),$e.useLayoutEffect(()=>{_()},[n,i]),$e.useLayoutEffect(()=>{queueMicrotask(()=>{ng.flushSync(()=>{m.render($e.createElement(u,null,t))})})}),$e.useLayoutEffect(()=>()=>{setTimeout(()=>{m.unmount()})},[]),$e.createElement(ai,Object.assign({ref:d},e))};var ly,C5;function MU(){if(C5)return ly;C5=1;var t=W0();return ly=function(n,a,i){const l=t.useRef("loading"),u=t.useRef(),[d,g]=t.useState(0),m=t.useRef(),v=t.useRef(),_=t.useRef();return(m.current!==n||v.current!==a||_.current!==i)&&(l.current="loading",u.current=void 0,m.current=n,v.current=a,_.current=i),t.useLayoutEffect(function(){if(!n)return;var S=document.createElement("img");function E(){S.decode().catch(()=>{}).finally(()=>{l.current="loaded",u.current=S,g(Math.random())})}function C(){l.current="failed",u.current=void 0,g(Math.random())}return S.addEventListener("load",E),S.addEventListener("error",C),a&&(S.crossOrigin=a),i&&(S.referrerPolicy=i),S.src=n,function(){S.removeEventListener("load",E),S.removeEventListener("error",C)}},[n,a,i]),[u.current,l.current]},ly}MU();const DU=({textNode:t,onClose:e,onChange:n})=>{const a=N.useRef(null);return N.useEffect(()=>{if(!a.current)return;const i=a.current,l=t.position(),u={x:l.x,y:l.y};i.style.position="absolute",i.value=t.text(),i.style.top=`${u.y}px`,i.style.left=`${u.x}px`,i.style.width=`${t.width()-t.padding()*2}px`,i.style.height=`${t.height()}px`,console.log(t.height()),i.style.fontSize=`${t.fontSize()}px`,i.style.border="1px solid #ccc",i.style.borderRadius="4px",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="none",i.style.outline="none",i.style.resize="none",i.style.lineHeight=String(t.lineHeight()),i.style.fontFamily=t.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=t.align(),i.style.boxSizing="border-box";const d=t.rotation();let g="";d&&(g+=`rotateZ(${d}deg)`),i.style.transform=g,i.focus();const m=S=>{S.target!==i&&(n(i.value),e())},v=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),n(i.value),e()),S.key==="Escape"&&e()},_=()=>{i.style.width=`${t.width()-t.padding()*2}px`,i.style.height="auto",i.style.height=`${i.scrollHeight+t.fontSize()}px`};return i.addEventListener("keydown",v),i.addEventListener("input",_),setTimeout(()=>{window.addEventListener("click",m)}),()=>{i.removeEventListener("keydown",v),i.removeEventListener("input",_),window.removeEventListener("click",m)}},[t,n,e]),T.jsx("textarea",{ref:a,style:{minHeight:"1em",position:"absolute"}})},jU=t=>T.jsx(NU,{children:T.jsx(DU,{...t})}),zU=({texts:t,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:d})=>{const[g,m]=N.useState(null),v=N.useCallback(_=>{g&&(_===""&&i(S=>S.filter(E=>"group-"+E.id!==g.id())),i(S=>S.map(E=>"group-"+E.id===g.id()?{...E,text:_}:E)))},[i,g]);return T.jsxs(T.Fragment,{children:[t.map(_=>T.jsx(TU,{initialText:_,onEraserClick:e,onDragEnd:n,onTransformEnd:a,setShapes:i,setIsEditingText:l,isEditingText:u,tool:d,editingRef:g,setEditingRef:m})),u&&g&&T.jsx(jU,{textNode:g,onChange:v,onClose:()=>{l(!1)}})]})},h6=(t,e)=>{if(!t.children)return{completed:0,not_completed:0};let n=0,a=0;return t.children.forEach(i=>{const l=e.find(u=>"group-"+u.id===i);if(l&&l.behavior==="node"&&(l.shape==="todo"&&(l.completed?n++:a++),l.shape==="rect")){const u=h6(l,e);n+=u.completed,a+=u.not_completed}}),{completed:n,not_completed:a}},g6=N.createContext(null);function p6(){const t=N.useContext(g6);if(!t)throw new Error("useUndo must be used inside a <UndoRedoProvider>");return t}const UU="1234567890",kU=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:i,zoom:l,connectors:u=[],setConnectors:d,addConnector:g,strokeColor:m="#000",onShapeClick:v,onAddTodo:_,stageCoor:S,setStageCoor:E,isFormOpen:C})=>{const R=N.useRef(null),O=N.useRef(null),M=N.useRef(null),j=N.useRef(null),z=N.useRef(null),[P,H]=N.useState(!1),[k,Y]=N.useState([]),[F,oe]=N.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),_e=N.useRef(!1),we=N.useRef(null),de=N.useRef(null),{pushUndo:he,undo:ve,redo:Se}=p6(),B=N.useRef(null),[le,Q]=N.useState(!1);N.useEffect(()=>{if(!R.current)return;t.forEach(ye=>{if(ye.behavior!=="node")return;const ke=R.current?.findOne(`#group-${ye.id}`),Xe=R.current?.findOne(`#${ye.id}`),Ot=t.find(ot=>ot.id===Xe.id());!ke||!Xe||!Ot||(ke.off("drop"),ke.off("dragenter"),ke.off("dragleave"),ke.on("dragenter",ot=>{const St=ot.source;if(!St||ke===St||Xe.fill()==="green"||Ot.shape==="todo"||ye.shape!=="todo"&&ye.children.includes(St.id())||ye.parents.includes(St.id()))return;const mn=t.find(Nn=>"group-"+Nn.id===St.id());mn?.behavior!=="node"||mn?.parents!==""||Xe.fill("#b9f8cf")}),ke.on("dragmove",ot=>{const St=ot.source;!St||ke===St||Xe.fill()==="#b9f8cf"||Xe.fill("#b9f8cf")}),ke.on("dragleave",ot=>{const St=ot.source;ke!==St&&Xe.fill("white")}),ke.on("drop",ot=>{const St=ot.source;if(ye.behavior!=="node"||ye.shape!=="todo"&&ye.children.includes(St.id())||!St||ye.parents.includes(St.id()))return;const mn=t.find(Nn=>"group-"+Nn.id===St.id());mn?.behavior!=="node"||mn?.parents!==""||Ot.shape==="todo"||(Xe.fill("white"),e(Nn=>Nn.map(fn=>fn.behavior==="node"&&"group-"+fn.id===ot.source.id()?{...fn,parents:ke.id()}:fn.behavior==="node"&&fn.shape!="todo"&&"group-"+fn.id===ke.id()?{...fn,children:[...fn.children,ot.source.id()]}:fn)),g(ot.source,ke))}))});function be(ye){if(!(C||le)){if(ye.ctrlKey&&!ye.shiftKey&&ye.key==="z"){ve(e,d);return}if(ye.ctrlKey&&ye.shiftKey&&ye.key.toLowerCase()==="z"){Se(e,d);return}switch(ye.key){case"1":a("hand");break;case"z":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"x":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"c":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"v":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break;case"q":v(null);break;case"w":_(null,null);break}}}return window.addEventListener("keydown",be),()=>{window.removeEventListener("keydown",be)}}),N.useEffect(()=>{if(k.length&&we.current){const be=k.map(ye=>z.current?.findOne(`#group-${ye}`)).filter(Boolean);we.current.nodes(be),B.current=crypto.randomUUID(),be.forEach(ye=>{console.log(ye.id())}),requestAnimationFrame(()=>{const ye=de.current;if(!ye||!z.current||!we.current)return;const ke=we.current.width()/z.current.scaleX(),Xe=we.current.height()/z.current.scaleY(),Ot=(we.current.x()-S.x)/z.current.scaleX(),ot=(we.current.y()-S.y)/z.current.scaleY();ye.show(),ye.x(Ot),ye.y(ot),ye.width(ke),ye.height(Xe),ye.scaleX(1),ye.scaleY(1);const St=we.current.nodes();we.current.nodes([...St,ye])})}else if(we.current){we.current.nodes([]);const be=de.current;B.current=null,be?.hide()}if(n!=="select"){we.current?.nodes([]);const be=de.current;B.current=null,be?.hide()}},[k,n,S]),N.useEffect(()=>{n!=="select"&&Y([])},[n]),N.useEffect(()=>{sy(u,R,M,j)},[t,u]),N.useEffect(()=>{const be=()=>{const ye=z.current;ye&&(ye.width(window.innerWidth),ye.height(window.innerHeight),ye.draw())};return window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]);const pe=be=>{if(be.behavior!=="node")return;const ye=t.find(Xe=>"group-"+Xe.id===be.parents),ke=R.current?.findOne(`#${be.parents}`);return!ke||!ye?!1:ke.getChildren()[0].visible()},G=(be,ye)=>{be.behavior!=="node"||be.shape==="todo"||be.children.length!==0&&be.children.forEach(ke=>{const Xe=t.find(mn=>"group-"+mn.id===ke);if(!Xe)return;const Ot=R.current?.findOne(`#${ke}`);if(!Ot)return;Ot.visible(ye);const ot=u.find(mn=>{if(mn.from===ke)return mn});if(!ot)return;const St=j.current?.findOne(`#${ot.id}`);St&&(St.visible(ye),pe(Xe)&&G(Xe,ye))})},ne=be=>{const ye=t.find(ke=>ke.id===be);ye?.behavior!=="node"||ye?.shape==="todo"||ye?.children.forEach(ke=>{const Xe=t.find(Ot=>"group-"+Ot.id===ke);!Xe||Xe.behavior!=="node"||(Xe.parents="")})},Ce=be=>{e(ye=>ye.map(ke=>ke.shape==="rect"&&ke.children.includes(be)?{...ke,children:ke.children.filter(Xe=>Xe!=="group-"+be)}:ke))},Te=be=>{if(n==="eraser"){const ye=crypto.randomUUID();u.forEach(Xe=>{if(Xe.to==="group-"+be||Xe.from==="group-"+be){const Ot={...Xe};he({id:ye,before:Ot,after:Ot,action:"delete"}),d(ot=>ot.filter(St=>St.id!==Xe.id))}});const ke=t.find(Xe=>Xe.id===be);ke&&he({id:ye,before:{...ke},after:{...ke},action:"delete"}),ne(be),Ce(be),e(Xe=>Xe.filter(Ot=>Ot.id!==be))}},Ye=be=>{let ye;return be==="#ff2056"?ye="#f6339a":be==="#2b7fff"?ye="#00a6f4":be==="#00bc7d"?ye="#00c951":be==="#ad46ff"?ye="#8e51ff":be==="#ff6900"&&(ye="#fd9a00"),ye};return T.jsx(T.Fragment,{children:T.jsxs(nU,{width:window.innerWidth,height:window.innerHeight,x:S.x,y:S.y,ref:z,draggable:n==="hand",onWheel:be=>{oU(z,be,i),z.current&&E({x:z.current.x(),y:z.current.y()})},onPointerDown:be=>{n==="draw"&&dU(z.current,n,m,e,H),n==="eraser"&&mU(H),n==="select"&&wU(be,z,_e,oe)},onPointerMove:()=>{n==="draw"&&hU(z.current,n,e,P),n==="eraser"&&yU(z,n,e,P,t,he),n==="select"&&xU(z,_e,F,oe)},onPointerUp:()=>{n==="draw"&&(gU(P,H),he({action:"add",before:t[t.length-1],after:t[t.length-1]})),n==="eraser"&&bU(H),n==="select"&&EU(_e,F,oe,Y,t,R,S)},onClick:be=>{n==="select"&&CU(be,F,k,Y)},scaleX:l/100,scaleY:l/100,style:{cursor:uU(n)},onDragEnd:()=>{z.current&&E({x:z.current.x(),y:z.current.y()})},children:[T.jsx(fm,{ref:j,children:T.jsx(iU,{connectors:u,mainLayer:R})}),T.jsxs(fm,{ref:R,children:[T.jsx(eo,{id:UU,ref:de,fill:"transparent",draggable:!0,temporary:!0}),T.jsx(pU,{lines:t.filter(be=>be.shape==="line"),onDragEnd:be=>{dm(be,R,n,O,e,t,he,B.current)},onTransformEnd:be=>{gm(be,e,t,he,B.current)}}),T.jsx(zU,{texts:t.filter(be=>be.shape==="text"),onEraserClick:Te,onDragEnd:be=>{dm(be,R,n,O,e,t,he,B.current)},onTransformEnd:be=>{gm(be,e,t,he,B.current)},setShapes:e,isEditingText:le,setIsEditingText:Q,tool:n}),T.jsx(lU,{shapes:t.filter(be=>be.shape==="rect"),allShapes:t,setShapes:e,onDragStart:be=>S5(be,n,M),onDragMove:be=>{w5(be,R,O,n),sy(u,R,M,j)},onDragEnd:be=>{dm(be,R,n,O,e,t,he,B.current)},onTransformEnd:be=>{gm(be,e,t,he,B.current)},tool:n,collapseChild:G,handleEraserClick:Te,onShapeClick:v,getBorder:Ye,onAddTodo:_,getChildCounts:h6}),T.jsx(fU,{todos:t.filter(be=>be.shape==="todo"),setShapes:e,tool:n,onDragStart:be=>S5(be,n,M),onDragMove:be=>{w5(be,R,O,n),sy(u,R,M,j)},onDragEnd:be=>{dm(be,R,n,O,e,t,he,B.current)},onTransformEnd:be=>{gm(be,e,t,he,B.current)},handleEraserClick:Te,getBorder:Ye,onTodoClick:_,shapes:t})]}),T.jsx(fm,{ref:M}),T.jsxs(fm,{children:[T.jsx(tU,{ref:we,id:"transformer",enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right"],boundBoxFunc:(be,ye)=>ye.width<5||ye.height<5?be:ye}),F.visible&&T.jsx(eo,{x:Math.min(F.x1,F.x2),y:Math.min(F.y1,F.y2),width:Math.abs(F.x2-F.x1),height:Math.abs(F.y2-F.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};function LU({title:t,onClick:e}){return T.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[T.jsx("span",{children:T.jsx(_T,{})}),T.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function PU({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",i=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return T.jsx("button",{type:"button",className:`${a} ${i}`,onClick:e,children:t})}const BU=xv({title:ii(),description:ii(),color:ii(),date:ii(),time:ii()});function HU({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const l=new Date().toISOString().split("T")[0],{register:u,handleSubmit:d,setError:g,formState:{errors:m,isSubmitting:v}}=Cv({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11",color:a.color}:{title:"My New Subject",date:l,time:"06:07"},resolver:Tv(BU)}),[_,S]=N.useState("#ff2056"),E=async C=>{try{await new Promise(R=>setTimeout(R,500)),a?e(a,C):t(C),n()}catch(R){g("root",{message:"This Task already exists!: "+R})}};return N.useEffect(()=>{const C=R=>{R.key==="Escape"&&n()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[n]),T.jsxs("div",{children:[T.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-40"}),T.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90%] max-w-sm sm:max-w-lg
    max-h-[90vh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-col justify-between items-start
    rounded-lg shadow-2xl z-50
  `,children:[T.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:_}}),T.jsxs("form",{onSubmit:d(E),className:"w-full h-full",children:[T.jsxs("div",{className:"mb-2 flex flex-row items-end justify-between h-15  w-full",children:[T.jsx("input",{...u("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-3xl h-full p-2 font-bold rounded-lg"}),m.title&&T.jsx("div",{className:"text-red-500",children:m.title?.message}),T.jsx("button",{onClick:n,className:"hover:cursor-pointer p-2 h-full",children:"X"})]}),T.jsxs("div",{className:"mb-8 flex flex-col gap-5 w-full items-start",children:[T.jsxs("div",{className:"inline-flex gap-2",children:[T.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:T.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),T.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),T.jsx("textarea",{...u("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs ml-8 w-[calc(100%-2rem)] items-start h-25 resize-none"}),m.description&&T.jsx("div",{className:"text-red-500",children:m.description?.message})]}),T.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),T.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 w-full mt-5 mb-5",children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-lg font-semibold",children:"Date"}),T.jsx("input",{...u("date"),type:"date",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs"})]}),T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-lg font-semibold",children:"Due Time"}),T.jsx("input",{...u("time"),type:"time",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs"})]}),T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-lg font-semibold",children:"Color"}),T.jsxs("select",{...u("color"),onChange:C=>S(C.target.value),className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs",children:[T.jsx("option",{value:"#ff2056",children:"Red"}),T.jsx("option",{value:"#2b7fff",children:"Blue"}),T.jsx("option",{value:"#00bc7d",children:"Green"}),T.jsx("option",{value:"#ad46ff",children:"Purple"}),T.jsx("option",{value:"#ff6900",children:"Orange"})]})]})]}),T.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[T.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),T.jsx("button",{type:"submit",disabled:v,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:v?"Loading...":"Create New Task"})]}),m.root&&T.jsx("div",{className:"text-red-500",children:m.root?.message})]})]})]})}const GU=xv({title:ii(),assignee:ii(),date:ii(),completed:lN(),color:ii()});function qU({onAddTodo:t,onUpdateTodo:e,parent:n,onCloseForm:a,initialTodo:i}){const l=i&&i.behavior==="node"&&i.shape==="todo";let u;l?u=new Date(i.dueDate).toISOString().split("T")[0]:u=new Date().toISOString().split("T")[0];const{register:d,handleSubmit:g,setError:m,formState:{isSubmitting:v}}=Cv({defaultValues:l?{title:i.title,assignee:i.assignee,date:u,completed:i.completed,color:i.color}:{title:"My Newest Todo",assignee:"Guest",date:u,completed:!1,color:n?.color},resolver:Tv(GU)}),[_,S]=N.useState(l?i.color:n?.color??"#ff2056"),E=async C=>{try{await new Promise(R=>setTimeout(R,500)),l?e(i,C):(console.log("init: "+i),t(C,n)),a()}catch(R){m("root",{message:"This Todo already exists!: "+R})}};return N.useEffect(()=>{const C=R=>{R.key==="Escape"&&a()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[a]),T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-40"}),T.jsxs("div",{className:`
    fixed bg-white
    top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
    w-[90%] max-w-sm sm:max-w-md
    h-fit max-h-[90vh]
    px-4 py-4 sm:px-8 sm:py-6
    flex flex-row justify-between items-start
    rounded-lg shadow-2xl z-50
  `,children:[T.jsx("div",{className:"absolute top-0 bottom-0 left-0 rounded-l-lg w-2 sm:w-3",style:{backgroundColor:_}}),T.jsxs("form",{onSubmit:g(E),className:"w-full h-full",children:[T.jsx("div",{className:"mb-1 flex w-full h-fit",children:T.jsx("input",{...d("title"),type:"text",id:"title",placeholder:"New To-Do",size:12,className:"text-2xl w-full h-full p-2 font-bold rounded-lg focus:outline-none "})}),T.jsxs("div",{className:"mb-2 flex flex-col gap-1 w-full",children:[T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[T.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Subject"}),T.jsx("div",{className:"w-full h-full font-medium flex items-center justify-center px-2 rounded-md bg-red-200 ",style:{backgroundColor:n?n.color:"#d1d5dc",color:n?"#ffffff":"#000000"},children:T.jsx("span",{className:"text-sm text-start  w-full ",children:n?n.title:"Not Assigned"})})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center ",children:[T.jsx("label",{className:"text-sm px-2.5 py-2 text-start rounded-md",children:"Due Date"}),T.jsx("input",{...d("date"),type:"date",className:"w-full h-full hover:bg-gray-300 px-2 rounded-md text-sm"})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[T.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Assignee"}),T.jsxs("select",{...d("assignee"),name:"assignee",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[T.jsx("option",{value:"Guest",children:"Guest"}),T.jsx("option",{value:"User1",children:"User1"}),T.jsx("option",{value:"User2",children:"User2"}),T.jsx("option",{value:"User3",children:"User3"}),T.jsx("option",{value:"User4",children:"User4"})]})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[T.jsx("label",{className:"text-sm px-2.5 py-2  text-start rounded-md",children:"Color"}),T.jsxs("select",{...d("color"),value:_,onChange:C=>S(C.target.value),name:"color",className:"hover:bg-gray-300 w-full h-full px-2 rounded-md text-sm",children:[T.jsx("option",{value:"#ff2056",children:"Red"}),T.jsx("option",{value:"#2b7fff",children:"Blue"}),T.jsx("option",{value:"#00bc7d",children:"Green"}),T.jsx("option",{value:"#ad46ff",children:"Purple"}),T.jsx("option",{value:"#ff6900",children:"Orange"})]})]}),T.jsxs("div",{className:"w-full grid grid-cols-[6rem_1fr] gap-2 items-center",children:[T.jsx("label",{className:"text-sm px-2.5 py-2  rounded-md text-start",children:"Status"}),T.jsx("label",{className:"flex items-center w-full h-full px-2 hover:bg-gray-300 rounded-md",children:T.jsx("input",{...d("completed"),type:"checkbox",className:"w-4 h-4 rounded-xs bg-neutral-secondary-medium"})})]})]}),T.jsxs("div",{className:"flex flex-row w-full justify-start gap-5 items-center h-fit",children:[T.jsx("button",{className:"py-1 px-2 bg-red-200 border-2 rounded-md border-red-300",onClick:a,children:T.jsx("span",{className:"text-sm",children:"Cancel"})}),T.jsx("button",{type:"submit",disabled:v,className:"py-1 px-2 bg-orange-200 border-2 rounded-md border-orange-300",children:v?T.jsx("span",{className:"text-sm",children:"Loading..."}):T.jsx("span",{className:"text-sm",children:"Submit"})})]})]})]})]})}const m6=N.createContext(null);function VU({children:t}){const[e,n]=N.useState(null);return N.useEffect(()=>{kn.auth.getSession().then(({data:{session:i}})=>{n(i)});const{data:{subscription:a}}=kn.auth.onAuthStateChange((i,l)=>{n(l)});return()=>a.unsubscribe()},[]),T.jsx(m6.Provider,{value:{session:e,setSession:n},children:t})}function YU(){const t=N.useContext(m6);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}function T5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dv(...t){return e=>{let n=!1;const a=t.map(i=>{const l=T5(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():T5(t[i],null)}}}}function wa(...t){return N.useCallback(Dv(...t),t)}function I0(t){const e=ZU(t),n=N.forwardRef((a,i)=>{const{children:l,...u}=a,d=N.Children.toArray(l),g=d.find(XU);if(g){const m=g.props.children,v=d.map(_=>_===g?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:_);return T.jsx(e,{...u,ref:i,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return T.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function ZU(t){const e=N.forwardRef((n,a)=>{const{children:i,...l}=n;if(N.isValidElement(i)){const u=FU(i),d=KU(l,i.props);return i.type!==N.Fragment&&(d.ref=a?Dv(a,u):u),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var v6=Symbol("radix.slottable");function IU(t){const e=({children:n})=>T.jsx(T.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=v6,e}function XU(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===v6}function KU(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...d)=>{const g=l(...d);return i(...d),g}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function FU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var QU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rn=QU.reduce((t,e)=>{const n=I0(`Primitive.${e}`),a=N.forwardRef((i,l)=>{const{asChild:u,...d}=i,g=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(g,{...d,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function y6(t,e){t&&ng.flushSync(()=>t.dispatchEvent(e))}function $U(t,e){const n=N.createContext(e),a=l=>{const{children:u,...d}=l,g=N.useMemo(()=>d,Object.values(d));return T.jsx(n.Provider,{value:g,children:u})};a.displayName=t+"Provider";function i(l){const u=N.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function uo(t,e=[]){let n=[];function a(l,u){const d=N.createContext(u),g=n.length;n=[...n,u];const m=_=>{const{scope:S,children:E,...C}=_,R=S?.[t]?.[g]||d,O=N.useMemo(()=>C,Object.values(C));return T.jsx(R.Provider,{value:O,children:E})};m.displayName=l+"Provider";function v(_,S){const E=S?.[t]?.[g]||d,C=N.useContext(E);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[m,v]}const i=()=>{const l=n.map(u=>N.createContext(u));return function(d){const g=d?.[t]||l;return N.useMemo(()=>({[`__scope${t}`]:{...d,[t]:g}}),[d,g])}};return i.scopeName=t,[a,WU(i,...e)]}function WU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((d,{useScope:g,scopeName:m})=>{const _=g(l)[`__scope${m}`];return{...d,..._}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function b6(t){const e=t+"CollectionProvider",[n,a]=uo(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:O,children:M}=R,j=$e.useRef(null),z=$e.useRef(new Map).current;return T.jsx(i,{scope:O,itemMap:z,collectionRef:j,children:M})};u.displayName=e;const d=t+"CollectionSlot",g=I0(d),m=$e.forwardRef((R,O)=>{const{scope:M,children:j}=R,z=l(d,M),P=wa(O,z.collectionRef);return T.jsx(g,{ref:P,children:j})});m.displayName=d;const v=t+"CollectionItemSlot",_="data-radix-collection-item",S=I0(v),E=$e.forwardRef((R,O)=>{const{scope:M,children:j,...z}=R,P=$e.useRef(null),H=wa(O,P),k=l(v,M);return $e.useEffect(()=>(k.itemMap.set(P,{ref:P,...z}),()=>void k.itemMap.delete(P))),T.jsx(S,{[_]:"",ref:H,children:j})});E.displayName=v;function C(R){const O=l(t+"CollectionConsumer",R);return $e.useCallback(()=>{const j=O.collectionRef.current;if(!j)return[];const z=Array.from(j.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((k,Y)=>z.indexOf(k.ref.current)-z.indexOf(Y.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:u,Slot:m,ItemSlot:E},C,a]}function Rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var hu=globalThis?.document?N.useLayoutEffect:()=>{},JU=r3[" useInsertionEffect ".trim().toString()]||hu;function Gd({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,l,u]=ek({defaultProp:e,onChange:n}),d=t!==void 0,g=d?t:i;{const v=N.useRef(t!==void 0);N.useEffect(()=>{const _=v.current;_!==d&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,a])}const m=N.useCallback(v=>{if(d){const _=tk(v)?v(t):v;_!==t&&u.current?.(_)}else l(v)},[d,t,l,u]);return[g,m]}function ek({defaultProp:t,onChange:e}){const[n,a]=N.useState(t),i=N.useRef(n),l=N.useRef(e);return JU(()=>{l.current=e},[e]),N.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,a,l]}function tk(t){return typeof t=="function"}function nk(t,e){return N.useReducer((n,a)=>e[n][a]??n,t)}var xu=t=>{const{present:e,children:n}=t,a=ak(e),i=typeof n=="function"?n({present:a.isPresent}):N.Children.only(n),l=wa(a.ref,rk(i));return typeof n=="function"||a.isPresent?N.cloneElement(i,{ref:l}):null};xu.displayName="Presence";function ak(t){const[e,n]=N.useState(),a=N.useRef(null),i=N.useRef(t),l=N.useRef("none"),u=t?"mounted":"unmounted",[d,g]=nk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const m=pm(a.current);l.current=d==="mounted"?m:"none"},[d]),hu(()=>{const m=a.current,v=i.current;if(v!==t){const S=l.current,E=pm(m);t?g("MOUNT"):E==="none"||m?.display==="none"?g("UNMOUNT"):g(v&&S!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,g]),hu(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,_=E=>{const R=pm(a.current).includes(CSS.escape(E.animationName));if(E.target===e&&R&&(g("ANIMATION_END"),!i.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},S=E=>{E.target===e&&(l.current=pm(a.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(m=>{a.current=m?getComputedStyle(m):null,n(m)},[])}}function pm(t){return t?.animationName||"none"}function rk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ik=r3[" useId ".trim().toString()]||(()=>{}),sk=0;function Md(t){const[e,n]=N.useState(ik());return hu(()=>{n(a=>a??String(sk++))},[t]),t||(e?`radix-${e}`:"")}var lk=N.createContext(void 0);function jv(t){const e=N.useContext(lk);return t||e||"ltr"}function to(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function ok(t,e=globalThis?.document){const n=to(t);N.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var uk="DismissableLayer",i2="dismissableLayer.update",ck="dismissableLayer.pointerDownOutside",fk="dismissableLayer.focusOutside",A5,_6=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),X2=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...g}=t,m=N.useContext(_6),[v,_]=N.useState(null),S=v?.ownerDocument??globalThis?.document,[,E]=N.useState({}),C=wa(e,Y=>_(Y)),R=Array.from(m.layers),[O]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=R.indexOf(O),j=v?R.indexOf(v):-1,z=m.layersWithOutsidePointerEventsDisabled.size>0,P=j>=M,H=gk(Y=>{const F=Y.target,oe=[...m.branches].some(_e=>_e.contains(F));!P||oe||(i?.(Y),u?.(Y),Y.defaultPrevented||d?.())},S),k=pk(Y=>{const F=Y.target;[...m.branches].some(_e=>_e.contains(F))||(l?.(Y),u?.(Y),Y.defaultPrevented||d?.())},S);return ok(Y=>{j===m.layers.size-1&&(a?.(Y),!Y.defaultPrevented&&d&&(Y.preventDefault(),d()))},S),N.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(A5=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),R5(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=A5)}},[v,S,n,m]),N.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),R5())},[v,m]),N.useEffect(()=>{const Y=()=>E({});return document.addEventListener(i2,Y),()=>document.removeEventListener(i2,Y)},[]),T.jsx(Rn.div,{...g,ref:C,style:{pointerEvents:z?P?"auto":"none":void 0,...t.style},onFocusCapture:Rt(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Rt(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Rt(t.onPointerDownCapture,H.onPointerDownCapture)})});X2.displayName=uk;var dk="DismissableLayerBranch",hk=N.forwardRef((t,e)=>{const n=N.useContext(_6),a=N.useRef(null),i=wa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),T.jsx(Rn.div,{...t,ref:i})});hk.displayName=dk;function gk(t,e=globalThis?.document){const n=to(t),a=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let g=function(){S6(ck,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=g,e.addEventListener("click",i.current,{once:!0})):g()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function pk(t,e=globalThis?.document){const n=to(t),a=N.useRef(!1);return N.useEffect(()=>{const i=l=>{l.target&&!a.current&&S6(fk,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function R5(){const t=new CustomEvent(i2);document.dispatchEvent(t)}function S6(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?y6(i,l):i.dispatchEvent(l)}var oy="focusScope.autoFocusOnMount",uy="focusScope.autoFocusOnUnmount",O5={bubbles:!1,cancelable:!0},mk="FocusScope",K2=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[d,g]=N.useState(null),m=to(i),v=to(l),_=N.useRef(null),S=wa(e,R=>g(R)),E=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(a){let R=function(z){if(E.paused||!d)return;const P=z.target;d.contains(P)?_.current=P:su(_.current,{select:!0})},O=function(z){if(E.paused||!d)return;const P=z.relatedTarget;P!==null&&(d.contains(P)||su(_.current,{select:!0}))},M=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&su(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const j=new MutationObserver(M);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),j.disconnect()}}},[a,d,E.paused]),N.useEffect(()=>{if(d){M5.add(E);const R=document.activeElement;if(!d.contains(R)){const M=new CustomEvent(oy,O5);d.addEventListener(oy,m),d.dispatchEvent(M),M.defaultPrevented||(vk(wk(w6(d)),{select:!0}),document.activeElement===R&&su(d))}return()=>{d.removeEventListener(oy,m),setTimeout(()=>{const M=new CustomEvent(uy,O5);d.addEventListener(uy,v),d.dispatchEvent(M),M.defaultPrevented||su(R??document.body,{select:!0}),d.removeEventListener(uy,v),M5.remove(E)},0)}}},[d,m,v,E]);const C=N.useCallback(R=>{if(!n&&!a||E.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,M=document.activeElement;if(O&&M){const j=R.currentTarget,[z,P]=yk(j);z&&P?!R.shiftKey&&M===P?(R.preventDefault(),n&&su(z,{select:!0})):R.shiftKey&&M===z&&(R.preventDefault(),n&&su(P,{select:!0})):M===j&&R.preventDefault()}},[n,a,E.paused]);return T.jsx(Rn.div,{tabIndex:-1,...u,ref:S,onKeyDown:C})});K2.displayName=mk;function vk(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(su(a,{select:e}),document.activeElement!==n)return}function yk(t){const e=w6(t),n=N5(e,t),a=N5(e.reverse(),t);return[n,a]}function w6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function N5(t,e){for(const n of t)if(!bk(n,{upTo:e}))return n}function bk(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _k(t){return t instanceof HTMLInputElement&&"select"in t}function su(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_k(t)&&e&&t.select()}}var M5=Sk();function Sk(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=D5(t,e),t.unshift(e)},remove(e){t=D5(t,e),t[0]?.resume()}}}function D5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function wk(t){return t.filter(e=>e.tagName!=="A")}var xk="Portal",F2=N.forwardRef((t,e)=>{const{container:n,...a}=t,[i,l]=N.useState(!1);hu(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?G9.createPortal(T.jsx(Rn.div,{...a,ref:e}),u):null});F2.displayName=xk;var cy=0;function x6(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??j5()),document.body.insertAdjacentElement("beforeend",t[1]??j5()),cy++,()=>{cy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cy--}},[])}function j5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sl=function(){return sl=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},sl.apply(this,arguments)};function E6(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function Ek(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Pm="right-scroll-bar-position",Bm="width-before-scroll-bar",Ck="with-scroll-bars-hidden",Tk="--removed-body-scroll-bar-size";function fy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ak(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var Rk=typeof window<"u"?N.useLayoutEffect:N.useEffect,z5=new WeakMap;function Ok(t,e){var n=Ak(null,function(a){return t.forEach(function(i){return fy(i,a)})});return Rk(function(){var a=z5.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(d){l.has(d)||fy(d,null)}),l.forEach(function(d){i.has(d)||fy(d,u)})}z5.set(n,t)},[t]),n}function Nk(t){return t}function Mk(t,e){e===void 0&&(e=Nk);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var g=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(g)};m(),n={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),n}}}};return i}function Dk(t){t===void 0&&(t={});var e=Mk(null);return e.options=sl({async:!0,ssr:!1},t),e}var C6=function(t){var e=t.sideCar,n=E6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return N.createElement(a,sl({},n))};C6.isSideCarExport=!0;function jk(t,e){return t.useMedium(e),C6}var T6=Dk(),dy=function(){},zv=N.forwardRef(function(t,e){var n=N.useRef(null),a=N.useState({onScrollCapture:dy,onWheelCapture:dy,onTouchMoveCapture:dy}),i=a[0],l=a[1],u=t.forwardProps,d=t.children,g=t.className,m=t.removeScrollBar,v=t.enabled,_=t.shards,S=t.sideCar,E=t.noRelative,C=t.noIsolation,R=t.inert,O=t.allowPinchZoom,M=t.as,j=M===void 0?"div":M,z=t.gapMode,P=E6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=S,k=Ok([n,e]),Y=sl(sl({},P),i);return N.createElement(N.Fragment,null,v&&N.createElement(H,{sideCar:T6,removeScrollBar:m,shards:_,noRelative:E,noIsolation:C,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),u?N.cloneElement(N.Children.only(d),sl(sl({},Y),{ref:k})):N.createElement(j,sl({},Y,{className:g,ref:k}),d))});zv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zv.classNames={fullWidth:Bm,zeroRight:Pm};var zk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uk(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zk();return e&&t.setAttribute("nonce",e),t}function kk(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lk(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Pk=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Uk())&&(kk(e,n),Lk(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bk=function(){var t=Pk();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},A6=function(){var t=Bk(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},Hk={left:0,top:0,right:0,gap:0},hy=function(t){return parseInt(t||"",10)||0},Gk=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[hy(n),hy(a),hy(i)]},qk=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Hk;var e=Gk(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},Vk=A6(),Dd="data-scroll-locked",Yk=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ck,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pm,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Bm,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Pm," .").concat(Pm,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Bm," .").concat(Bm,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(Tk,": ").concat(d,`px;
  }
`)},U5=function(){var t=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(t)?t:0},Zk=function(){N.useEffect(function(){return document.body.setAttribute(Dd,(U5()+1).toString()),function(){var t=U5()-1;t<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,t.toString())}},[])},Ik=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;Zk();var l=N.useMemo(function(){return qk(i)},[i]);return N.createElement(Vk,{styles:Yk(l,!e,i,n?"":"!important")})},s2=!1;if(typeof window<"u")try{var mm=Object.defineProperty({},"passive",{get:function(){return s2=!0,!0}});window.addEventListener("test",mm,mm),window.removeEventListener("test",mm,mm)}catch{s2=!1}var yd=s2?{passive:!1}:!1,Xk=function(t){return t.tagName==="TEXTAREA"},R6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xk(t)&&n[e]==="visible")},Kk=function(t){return R6(t,"overflowY")},Fk=function(t){return R6(t,"overflowX")},k5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=O6(t,a);if(i){var l=N6(t,a),u=l[1],d=l[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Qk=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},$k=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},O6=function(t,e){return t==="v"?Kk(e):Fk(e)},N6=function(t,e){return t==="v"?Qk(e):$k(e)},Wk=function(t,e){return t==="h"&&e==="rtl"?-1:1},Jk=function(t,e,n,a,i){var l=Wk(t,window.getComputedStyle(e).direction),u=l*a,d=n.target,g=e.contains(d),m=!1,v=u>0,_=0,S=0;do{if(!d)break;var E=N6(t,d),C=E[0],R=E[1],O=E[2],M=R-O-l*C;(C||M)&&O6(t,d)&&(_+=M,S+=C);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!g&&d!==document.body||g&&(e.contains(d)||e===d));return(v&&Math.abs(_)<1||!v&&Math.abs(S)<1)&&(m=!0),m},vm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},L5=function(t){return[t.deltaX,t.deltaY]},P5=function(t){return t&&"current"in t?t.current:t},eL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nL=0,bd=[];function aL(t){var e=N.useRef([]),n=N.useRef([0,0]),a=N.useRef(),i=N.useState(nL++)[0],l=N.useState(A6)[0],u=N.useRef(t);N.useEffect(function(){u.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var R=Ek([t.lockRef.current],(t.shards||[]).map(P5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=N.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var M=vm(R),j=n.current,z="deltaX"in R?R.deltaX:j[0]-M[0],P="deltaY"in R?R.deltaY:j[1]-M[1],H,k=R.target,Y=Math.abs(z)>Math.abs(P)?"h":"v";if("touches"in R&&Y==="h"&&k.type==="range")return!1;var F=k5(Y,k);if(!F)return!0;if(F?H=Y:(H=Y==="v"?"h":"v",F=k5(Y,k)),!F)return!1;if(!a.current&&"changedTouches"in R&&(z||P)&&(a.current=H),!H)return!0;var oe=a.current||H;return Jk(oe,O,R,oe==="h"?z:P)},[]),g=N.useCallback(function(R){var O=R;if(!(!bd.length||bd[bd.length-1]!==l)){var M="deltaY"in O?L5(O):vm(O),j=e.current.filter(function(H){return H.name===O.type&&(H.target===O.target||O.target===H.shadowParent)&&eL(H.delta,M)})[0];if(j&&j.should){O.cancelable&&O.preventDefault();return}if(!j){var z=(u.current.shards||[]).map(P5).filter(Boolean).filter(function(H){return H.contains(O.target)}),P=z.length>0?d(O,z[0]):!u.current.noIsolation;P&&O.cancelable&&O.preventDefault()}}},[]),m=N.useCallback(function(R,O,M,j){var z={name:R,delta:O,target:M,should:j,shadowParent:rL(M)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(P){return P!==z})},1)},[]),v=N.useCallback(function(R){n.current=vm(R),a.current=void 0},[]),_=N.useCallback(function(R){m(R.type,L5(R),R.target,d(R,t.lockRef.current))},[]),S=N.useCallback(function(R){m(R.type,vm(R),R.target,d(R,t.lockRef.current))},[]);N.useEffect(function(){return bd.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",g,yd),document.addEventListener("touchmove",g,yd),document.addEventListener("touchstart",v,yd),function(){bd=bd.filter(function(R){return R!==l}),document.removeEventListener("wheel",g,yd),document.removeEventListener("touchmove",g,yd),document.removeEventListener("touchstart",v,yd)}},[]);var E=t.removeScrollBar,C=t.inert;return N.createElement(N.Fragment,null,C?N.createElement(l,{styles:tL(i)}):null,E?N.createElement(Ik,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function rL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iL=jk(T6,aL);var Q2=N.forwardRef(function(t,e){return N.createElement(zv,sl({},t,{ref:e,sideCar:iL}))});Q2.classNames=zv.classNames;var sL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_d=new WeakMap,ym=new WeakMap,bm={},gy=0,M6=function(t){return t&&(t.host||M6(t.parentNode))},lL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=M6(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},oL=function(t,e,n,a){var i=lL(e,Array.isArray(t)?t:[t]);bm[n]||(bm[n]=new WeakMap);var l=bm[n],u=[],d=new Set,g=new Set(i),m=function(_){!_||d.has(_)||(d.add(_),m(_.parentNode))};i.forEach(m);var v=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(S){if(d.has(S))v(S);else try{var E=S.getAttribute(a),C=E!==null&&E!=="false",R=(_d.get(S)||0)+1,O=(l.get(S)||0)+1;_d.set(S,R),l.set(S,O),u.push(S),R===1&&C&&ym.set(S,!0),O===1&&S.setAttribute(n,"true"),C||S.setAttribute(a,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return v(e),d.clear(),gy++,function(){u.forEach(function(_){var S=_d.get(_)-1,E=l.get(_)-1;_d.set(_,S),l.set(_,E),S||(ym.has(_)||_.removeAttribute(a),ym.delete(_)),E||_.removeAttribute(n)}),gy--,gy||(_d=new WeakMap,_d=new WeakMap,ym=new WeakMap,bm={})}},D6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=sL(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),oL(a,i,n,"aria-hidden")):function(){return null}},Uv="Dialog",[j6,z6]=uo(Uv),[uL,_s]=j6(Uv),U6=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,d=N.useRef(null),g=N.useRef(null),[m,v]=Gd({prop:a,defaultProp:i??!1,onChange:l,caller:Uv});return T.jsx(uL,{scope:e,triggerRef:d,contentRef:g,contentId:Md(),titleId:Md(),descriptionId:Md(),open:m,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(_=>!_),[v]),modal:u,children:n})};U6.displayName=Uv;var k6="DialogTrigger",L6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(k6,n),l=wa(e,i.triggerRef);return T.jsx(Rn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":J2(i.open),...a,ref:l,onClick:Rt(t.onClick,i.onOpenToggle)})});L6.displayName=k6;var $2="DialogPortal",[cL,P6]=j6($2,{forceMount:void 0}),B6=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=_s($2,e);return T.jsx(cL,{scope:e,forceMount:n,children:N.Children.map(a,u=>T.jsx(xu,{present:n||l.open,children:T.jsx(F2,{asChild:!0,container:i,children:u})}))})};B6.displayName=$2;var rv="DialogOverlay",H6=N.forwardRef((t,e)=>{const n=P6(rv,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=_s(rv,t.__scopeDialog);return l.modal?T.jsx(xu,{present:a||l.open,children:T.jsx(dL,{...i,ref:e})}):null});H6.displayName=rv;var fL=I0("DialogOverlay.RemoveScroll"),dL=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(rv,n);return T.jsx(Q2,{as:fL,allowPinchZoom:!0,shards:[i.contentRef],children:T.jsx(Rn.div,{"data-state":J2(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),jc="DialogContent",G6=N.forwardRef((t,e)=>{const n=P6(jc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=_s(jc,t.__scopeDialog);return T.jsx(xu,{present:a||l.open,children:l.modal?T.jsx(hL,{...i,ref:e}):T.jsx(gL,{...i,ref:e})})});G6.displayName=jc;var hL=N.forwardRef((t,e)=>{const n=_s(jc,t.__scopeDialog),a=N.useRef(null),i=wa(e,n.contentRef,a);return N.useEffect(()=>{const l=a.current;if(l)return D6(l)},[]),T.jsx(q6,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rt(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Rt(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Rt(t.onFocusOutside,l=>l.preventDefault())})}),gL=N.forwardRef((t,e)=>{const n=_s(jc,t.__scopeDialog),a=N.useRef(!1),i=N.useRef(!1);return T.jsx(q6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),q6=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,d=_s(jc,n),g=N.useRef(null),m=wa(e,g);return x6(),T.jsxs(T.Fragment,{children:[T.jsx(K2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:T.jsx(X2,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":J2(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(mL,{titleId:d.titleId}),T.jsx(yL,{contentRef:g,descriptionId:d.descriptionId})]})]})}),W2="DialogTitle",V6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(W2,n);return T.jsx(Rn.h2,{id:i.titleId,...a,ref:e})});V6.displayName=W2;var Y6="DialogDescription",Z6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(Y6,n);return T.jsx(Rn.p,{id:i.descriptionId,...a,ref:e})});Z6.displayName=Y6;var I6="DialogClose",X6=N.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=_s(I6,n);return T.jsx(Rn.button,{type:"button",...a,ref:e,onClick:Rt(t.onClick,()=>i.onOpenChange(!1))})});X6.displayName=I6;function J2(t){return t?"open":"closed"}var K6="DialogTitleWarning",[pL,F6]=$U(K6,{contentName:jc,titleName:W2,docsSlug:"dialog"}),mL=({titleId:t})=>{const e=F6(K6),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vL="DialogDescriptionWarning",yL=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F6(vL).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},bL=U6,_L=L6,SL=B6,wL=H6,xL=G6,EL=V6,CL=Z6,Q6=X6,$6="AlertDialog",[TL]=uo($6,[z6]),co=z6(),W6=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return T.jsx(bL,{...a,...n,modal:!0})};W6.displayName=$6;var AL="AlertDialogTrigger",J6=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return T.jsx(_L,{...i,...a,ref:e})});J6.displayName=AL;var RL="AlertDialogPortal",ew=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return T.jsx(SL,{...a,...n})};ew.displayName=RL;var OL="AlertDialogOverlay",tw=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return T.jsx(wL,{...i,...a,ref:e})});tw.displayName=OL;var jd="AlertDialogContent",[NL,ML]=TL(jd),DL=IU("AlertDialogContent"),nw=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,l=co(n),u=N.useRef(null),d=wa(e,u),g=N.useRef(null);return T.jsx(pL,{contentName:jd,titleName:aw,docsSlug:"alert-dialog",children:T.jsx(NL,{scope:n,cancelRef:g,children:T.jsxs(xL,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:Rt(i.onOpenAutoFocus,m=>{m.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[T.jsx(DL,{children:a}),T.jsx(zL,{contentRef:u})]})})})});nw.displayName=jd;var aw="AlertDialogTitle",rw=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return T.jsx(EL,{...i,...a,ref:e})});rw.displayName=aw;var iw="AlertDialogDescription",sw=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return T.jsx(CL,{...i,...a,ref:e})});sw.displayName=iw;var jL="AlertDialogAction",lw=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return T.jsx(Q6,{...i,...a,ref:e})});lw.displayName=jL;var ow="AlertDialogCancel",uw=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=ML(ow,n),l=co(n),u=wa(e,i);return T.jsx(Q6,{...l,...a,ref:u})});uw.displayName=ow;var zL=({contentRef:t})=>{const e=`\`${jd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jd}\` by passing a \`${iw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},_m=W6,py=J6,Sm=ew,wm=tw,xm=nw,my=lw,Em=uw,Cm=rw,Tm=sw;function UL(t){const[e,n]=N.useState(void 0);return hu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,d;if("borderBoxSize"in l){const g=l.borderBoxSize,m=Array.isArray(g)?g[0]:g;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const kL=["top","right","bottom","left"],gu=Math.min,ri=Math.max,iv=Math.round,Am=Math.floor,ul=t=>({x:t,y:t}),LL={left:"right",right:"left",bottom:"top",top:"bottom"},PL={start:"end",end:"start"};function l2(t,e,n){return ri(t,gu(e,n))}function no(t,e){return typeof t=="function"?t(e):t}function ao(t){return t.split("-")[0]}function qd(t){return t.split("-")[1]}function eb(t){return t==="x"?"y":"x"}function tb(t){return t==="y"?"height":"width"}const BL=new Set(["top","bottom"]);function ll(t){return BL.has(ao(t))?"y":"x"}function nb(t){return eb(ll(t))}function HL(t,e,n){n===void 0&&(n=!1);const a=qd(t),i=nb(t),l=tb(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=sv(u)),[u,sv(u)]}function GL(t){const e=sv(t);return[o2(t),e,o2(e)]}function o2(t){return t.replace(/start|end/g,e=>PL[e])}const B5=["left","right"],H5=["right","left"],qL=["top","bottom"],VL=["bottom","top"];function YL(t,e,n){switch(t){case"top":case"bottom":return n?e?H5:B5:e?B5:H5;case"left":case"right":return e?qL:VL;default:return[]}}function ZL(t,e,n,a){const i=qd(t);let l=YL(ao(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(o2)))),l}function sv(t){return t.replace(/left|right|bottom|top/g,e=>LL[e])}function IL(t){return{top:0,right:0,bottom:0,left:0,...t}}function cw(t){return typeof t!="number"?IL(t):{top:t,right:t,bottom:t,left:t}}function lv(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function G5(t,e,n){let{reference:a,floating:i}=t;const l=ll(e),u=nb(e),d=tb(u),g=ao(e),m=l==="y",v=a.x+a.width/2-i.width/2,_=a.y+a.height/2-i.height/2,S=a[d]/2-i[d]/2;let E;switch(g){case"top":E={x:v,y:a.y-i.height};break;case"bottom":E={x:v,y:a.y+a.height};break;case"right":E={x:a.x+a.width,y:_};break;case"left":E={x:a.x-i.width,y:_};break;default:E={x:a.x,y:a.y}}switch(qd(e)){case"start":E[u]-=S*(n&&m?-1:1);break;case"end":E[u]+=S*(n&&m?-1:1);break}return E}const XL=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:_}=G5(m,a,g),S=a,E={},C=0;for(let R=0;R<d.length;R++){const{name:O,fn:M}=d[R],{x:j,y:z,data:P,reset:H}=await M({x:v,y:_,initialPlacement:a,placement:S,strategy:i,middlewareData:E,rects:m,platform:u,elements:{reference:t,floating:e}});v=j??v,_=z??_,E={...E,[O]:{...E[O],...P}},H&&C<=50&&(C++,typeof H=="object"&&(H.placement&&(S=H.placement),H.rects&&(m=H.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:v,y:_}=G5(m,S,g)),R=-1)}return{x:v,y:_,placement:S,strategy:i,middlewareData:E}};async function X0(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:d,strategy:g}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:S=!1,padding:E=0}=no(e,t),C=cw(E),O=d[S?_==="floating"?"reference":"floating":_],M=lv(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:g})),j=_==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),P=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},H=lv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:z,strategy:g}):j);return{top:(M.top-H.top+C.top)/P.y,bottom:(H.bottom-M.bottom+C.bottom)/P.y,left:(M.left-H.left+C.left)/P.x,right:(H.right-M.right+C.right)/P.x}}const KL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:d,middlewareData:g}=e,{element:m,padding:v=0}=no(t,e)||{};if(m==null)return{};const _=cw(v),S={x:n,y:a},E=nb(i),C=tb(E),R=await u.getDimensions(m),O=E==="y",M=O?"top":"left",j=O?"bottom":"right",z=O?"clientHeight":"clientWidth",P=l.reference[C]+l.reference[E]-S[E]-l.floating[C],H=S[E]-l.reference[E],k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let Y=k?k[z]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(k)))&&(Y=d.floating[z]||l.floating[C]);const F=P/2-H/2,oe=Y/2-R[C]/2-1,_e=gu(_[M],oe),we=gu(_[j],oe),de=_e,he=Y-R[C]-we,ve=Y/2-R[C]/2+F,Se=l2(de,ve,he),B=!g.arrow&&qd(i)!=null&&ve!==Se&&l.reference[C]/2-(ve<de?_e:we)-R[C]/2<0,le=B?ve<de?ve-de:ve-he:0;return{[E]:S[E]+le,data:{[E]:Se,centerOffset:ve-Se-le,...B&&{alignmentOffset:le}},reset:B}}}),FL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:d,platform:g,elements:m}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:R=!0,...O}=no(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const M=ao(i),j=ll(d),z=ao(d)===d,P=await(g.isRTL==null?void 0:g.isRTL(m.floating)),H=S||(z||!R?[sv(d)]:GL(d)),k=C!=="none";!S&&k&&H.push(...ZL(d,R,C,P));const Y=[d,...H],F=await X0(e,O),oe=[];let _e=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&oe.push(F[M]),_){const ve=HL(i,u,P);oe.push(F[ve[0]],F[ve[1]])}if(_e=[..._e,{placement:i,overflows:oe}],!oe.every(ve=>ve<=0)){var we,de;const ve=(((we=l.flip)==null?void 0:we.index)||0)+1,Se=Y[ve];if(Se&&(!(_==="alignment"?j!==ll(Se):!1)||_e.every(Q=>ll(Q.placement)===j?Q.overflows[0]>0:!0)))return{data:{index:ve,overflows:_e},reset:{placement:Se}};let B=(de=_e.filter(le=>le.overflows[0]<=0).sort((le,Q)=>le.overflows[1]-Q.overflows[1])[0])==null?void 0:de.placement;if(!B)switch(E){case"bestFit":{var he;const le=(he=_e.filter(Q=>{if(k){const pe=ll(Q.placement);return pe===j||pe==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(pe=>pe>0).reduce((pe,G)=>pe+G,0)]).sort((Q,pe)=>Q[1]-pe[1])[0])==null?void 0:he[0];le&&(B=le);break}case"initialPlacement":B=d;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function q5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function V5(t){return kL.some(e=>t[e]>=0)}const QL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=no(t,e);switch(a){case"referenceHidden":{const l=await X0(e,{...i,elementContext:"reference"}),u=q5(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:V5(u)}}}case"escaped":{const l=await X0(e,{...i,altBoundary:!0}),u=q5(l,n.floating);return{data:{escapedOffsets:u,escaped:V5(u)}}}default:return{}}}}},fw=new Set(["left","top"]);async function $L(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=ao(n),d=qd(n),g=ll(n)==="y",m=fw.has(u)?-1:1,v=l&&g?-1:1,_=no(e,t);let{mainAxis:S,crossAxis:E,alignmentAxis:C}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof C=="number"&&(E=d==="end"?C*-1:C),g?{x:E*v,y:S*m}:{x:S*m,y:E*v}}const WL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:d}=e,g=await $L(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:i+g.x,y:l+g.y,data:{...g,placement:u}}}}},JL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:O=>{let{x:M,y:j}=O;return{x:M,y:j}}},...g}=no(t,e),m={x:n,y:a},v=await X0(e,g),_=ll(ao(i)),S=eb(_);let E=m[S],C=m[_];if(l){const O=S==="y"?"top":"left",M=S==="y"?"bottom":"right",j=E+v[O],z=E-v[M];E=l2(j,E,z)}if(u){const O=_==="y"?"top":"left",M=_==="y"?"bottom":"right",j=C+v[O],z=C-v[M];C=l2(j,C,z)}const R=d.fn({...e,[S]:E,[_]:C});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[S]:l,[_]:u}}}}}},eP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:g=!0,crossAxis:m=!0}=no(t,e),v={x:n,y:a},_=ll(i),S=eb(_);let E=v[S],C=v[_];const R=no(d,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(g){const z=S==="y"?"height":"width",P=l.reference[S]-l.floating[z]+O.mainAxis,H=l.reference[S]+l.reference[z]-O.mainAxis;E<P?E=P:E>H&&(E=H)}if(m){var M,j;const z=S==="y"?"width":"height",P=fw.has(ao(i)),H=l.reference[_]-l.floating[z]+(P&&((M=u.offset)==null?void 0:M[_])||0)+(P?0:O.crossAxis),k=l.reference[_]+l.reference[z]+(P?0:((j=u.offset)==null?void 0:j[_])||0)-(P?O.crossAxis:0);C<H?C=H:C>k&&(C=k)}return{[S]:E,[_]:C}}}},tP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:d}=e,{apply:g=()=>{},...m}=no(t,e),v=await X0(e,m),_=ao(i),S=qd(i),E=ll(i)==="y",{width:C,height:R}=l.floating;let O,M;_==="top"||_==="bottom"?(O=_,M=S===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(M=_,O=S==="end"?"top":"bottom");const j=R-v.top-v.bottom,z=C-v.left-v.right,P=gu(R-v[O],j),H=gu(C-v[M],z),k=!e.middlewareData.shift;let Y=P,F=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(Y=j),k&&!S){const _e=ri(v.left,0),we=ri(v.right,0),de=ri(v.top,0),he=ri(v.bottom,0);E?F=C-2*(_e!==0||we!==0?_e+we:ri(v.left,v.right)):Y=R-2*(de!==0||he!==0?de+he:ri(v.top,v.bottom))}await g({...e,availableWidth:F,availableHeight:Y});const oe=await u.getDimensions(d.floating);return C!==oe.width||R!==oe.height?{reset:{rects:!0}}:{}}}};function kv(){return typeof window<"u"}function Vd(t){return dw(t)?(t.nodeName||"").toLowerCase():"#document"}function ui(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gl(t){var e;return(e=(dw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dw(t){return kv()?t instanceof Node||t instanceof ui(t).Node:!1}function vs(t){return kv()?t instanceof Element||t instanceof ui(t).Element:!1}function cl(t){return kv()?t instanceof HTMLElement||t instanceof ui(t).HTMLElement:!1}function Y5(t){return!kv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ui(t).ShadowRoot}const nP=new Set(["inline","contents"]);function ug(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!nP.has(i)}const aP=new Set(["table","td","th"]);function rP(t){return aP.has(Vd(t))}const iP=[":popover-open",":modal"];function Lv(t){return iP.some(e=>{try{return t.matches(e)}catch{return!1}})}const sP=["transform","translate","scale","rotate","perspective"],lP=["transform","translate","scale","rotate","perspective","filter"],oP=["paint","layout","strict","content"];function ab(t){const e=rb(),n=vs(t)?ys(t):t;return sP.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||lP.some(a=>(n.willChange||"").includes(a))||oP.some(a=>(n.contain||"").includes(a))}function uP(t){let e=pu(t);for(;cl(e)&&!Pd(e);){if(ab(e))return e;if(Lv(e))return null;e=pu(e)}return null}function rb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cP=new Set(["html","body","#document"]);function Pd(t){return cP.has(Vd(t))}function ys(t){return ui(t).getComputedStyle(t)}function Pv(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pu(t){if(Vd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Y5(t)&&t.host||gl(t);return Y5(e)?e.host:e}function hw(t){const e=pu(t);return Pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:cl(e)&&ug(e)?e:hw(e)}function K0(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=hw(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=ui(i);if(l){const d=u2(u);return e.concat(u,u.visualViewport||[],ug(i)?i:[],d&&n?K0(d):[])}return e.concat(i,K0(i,[],n))}function u2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gw(t){const e=ys(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=cl(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,d=iv(n)!==l||iv(a)!==u;return d&&(n=l,a=u),{width:n,height:a,$:d}}function ib(t){return vs(t)?t:t.contextElement}function zd(t){const e=ib(t);if(!cl(e))return ul(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=gw(e);let u=(l?iv(n.width):n.width)/a,d=(l?iv(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const fP=ul(0);function pw(t){const e=ui(t);return!rb()||!e.visualViewport?fP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ui(t)?!1:e}function zc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=ib(t);let u=ul(1);e&&(a?vs(a)&&(u=zd(a)):u=zd(t));const d=dP(l,n,a)?pw(l):ul(0);let g=(i.left+d.x)/u.x,m=(i.top+d.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(l){const S=ui(l),E=a&&vs(a)?ui(a):a;let C=S,R=u2(C);for(;R&&a&&E!==C;){const O=zd(R),M=R.getBoundingClientRect(),j=ys(R),z=M.left+(R.clientLeft+parseFloat(j.paddingLeft))*O.x,P=M.top+(R.clientTop+parseFloat(j.paddingTop))*O.y;g*=O.x,m*=O.y,v*=O.x,_*=O.y,g+=z,m+=P,C=ui(R),R=u2(C)}}return lv({width:v,height:_,x:g,y:m})}function Bv(t,e){const n=Pv(t).scrollLeft;return e?e.left+n:zc(gl(t)).left+n}function mw(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Bv(t,n),i=n.top+e.scrollTop;return{x:a,y:i}}function hP(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=gl(a),d=e?Lv(e.floating):!1;if(a===u||d&&l)return n;let g={scrollLeft:0,scrollTop:0},m=ul(1);const v=ul(0),_=cl(a);if((_||!_&&!l)&&((Vd(a)!=="body"||ug(u))&&(g=Pv(a)),cl(a))){const E=zc(a);m=zd(a),v.x=E.x+a.clientLeft,v.y=E.y+a.clientTop}const S=u&&!_&&!l?mw(u,g):ul(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-g.scrollLeft*m.x+v.x+S.x,y:n.y*m.y-g.scrollTop*m.y+v.y+S.y}}function gP(t){return Array.from(t.getClientRects())}function pP(t){const e=gl(t),n=Pv(t),a=t.ownerDocument.body,i=ri(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=ri(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Bv(t);const d=-n.scrollTop;return ys(a).direction==="rtl"&&(u+=ri(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:d}}const Z5=25;function mP(t,e){const n=ui(t),a=gl(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,d=0,g=0;if(i){l=i.width,u=i.height;const v=rb();(!v||v&&e==="fixed")&&(d=i.offsetLeft,g=i.offsetTop)}const m=Bv(a);if(m<=0){const v=a.ownerDocument,_=v.body,S=getComputedStyle(_),E=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,C=Math.abs(a.clientWidth-_.clientWidth-E);C<=Z5&&(l-=C)}else m<=Z5&&(l+=m);return{width:l,height:u,x:d,y:g}}const vP=new Set(["absolute","fixed"]);function yP(t,e){const n=zc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=cl(t)?zd(t):ul(1),u=t.clientWidth*l.x,d=t.clientHeight*l.y,g=i*l.x,m=a*l.y;return{width:u,height:d,x:g,y:m}}function I5(t,e,n){let a;if(e==="viewport")a=mP(t,n);else if(e==="document")a=pP(gl(t));else if(vs(e))a=yP(e,n);else{const i=pw(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return lv(a)}function vw(t,e){const n=pu(t);return n===e||!vs(n)||Pd(n)?!1:ys(n).position==="fixed"||vw(n,e)}function bP(t,e){const n=e.get(t);if(n)return n;let a=K0(t,[],!1).filter(d=>vs(d)&&Vd(d)!=="body"),i=null;const l=ys(t).position==="fixed";let u=l?pu(t):t;for(;vs(u)&&!Pd(u);){const d=ys(u),g=ab(u);!g&&d.position==="fixed"&&(i=null),(l?!g&&!i:!g&&d.position==="static"&&!!i&&vP.has(i.position)||ug(u)&&!g&&vw(t,u))?a=a.filter(v=>v!==u):i=d,u=pu(u)}return e.set(t,a),a}function _P(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Lv(e)?[]:bP(e,this._c):[].concat(n),a],d=u[0],g=u.reduce((m,v)=>{const _=I5(e,v,i);return m.top=ri(_.top,m.top),m.right=gu(_.right,m.right),m.bottom=gu(_.bottom,m.bottom),m.left=ri(_.left,m.left),m},I5(e,d,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function SP(t){const{width:e,height:n}=gw(t);return{width:e,height:n}}function wP(t,e,n){const a=cl(e),i=gl(e),l=n==="fixed",u=zc(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const g=ul(0);function m(){g.x=Bv(i)}if(a||!a&&!l)if((Vd(e)!=="body"||ug(i))&&(d=Pv(e)),a){const E=zc(e,!0,l,e);g.x=E.x+e.clientLeft,g.y=E.y+e.clientTop}else i&&m();l&&!a&&i&&m();const v=i&&!a&&!l?mw(i,d):ul(0),_=u.left+d.scrollLeft-g.x-v.x,S=u.top+d.scrollTop-g.y-v.y;return{x:_,y:S,width:u.width,height:u.height}}function vy(t){return ys(t).position==="static"}function X5(t,e){if(!cl(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gl(t)===n&&(n=n.ownerDocument.body),n}function yw(t,e){const n=ui(t);if(Lv(t))return n;if(!cl(t)){let i=pu(t);for(;i&&!Pd(i);){if(vs(i)&&!vy(i))return i;i=pu(i)}return n}let a=X5(t,e);for(;a&&rP(a)&&vy(a);)a=X5(a,e);return a&&Pd(a)&&vy(a)&&!ab(a)?n:a||uP(t)||n}const xP=async function(t){const e=this.getOffsetParent||yw,n=this.getDimensions,a=await n(t.floating);return{reference:wP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function EP(t){return ys(t).direction==="rtl"}const CP={convertOffsetParentRelativeRectToViewportRelativeRect:hP,getDocumentElement:gl,getClippingRect:_P,getOffsetParent:yw,getElementRects:xP,getClientRects:gP,getDimensions:SP,getScale:zd,isElement:vs,isRTL:EP};function bw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TP(t,e){let n=null,a;const i=gl(t);function l(){var d;clearTimeout(a),(d=n)==null||d.disconnect(),n=null}function u(d,g){d===void 0&&(d=!1),g===void 0&&(g=1),l();const m=t.getBoundingClientRect(),{left:v,top:_,width:S,height:E}=m;if(d||e(),!S||!E)return;const C=Am(_),R=Am(i.clientWidth-(v+S)),O=Am(i.clientHeight-(_+E)),M=Am(v),z={rootMargin:-C+"px "+-R+"px "+-O+"px "+-M+"px",threshold:ri(0,gu(1,g))||1};let P=!0;function H(k){const Y=k[0].intersectionRatio;if(Y!==g){if(!P)return u();Y?u(!1,Y):a=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!bw(m,t.getBoundingClientRect())&&u(),P=!1}try{n=new IntersectionObserver(H,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,z)}n.observe(t)}return u(!0),l}function AP(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,m=ib(t),v=i||l?[...m?K0(m):[],...K0(e)]:[];v.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const _=m&&d?TP(m,n):null;let S=-1,E=null;u&&(E=new ResizeObserver(M=>{let[j]=M;j&&j.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var z;(z=E)==null||z.observe(e)})),n()}),m&&!g&&E.observe(m),E.observe(e));let C,R=g?zc(t):null;g&&O();function O(){const M=zc(t);R&&!bw(R,M)&&n(),R=M,C=requestAnimationFrame(O)}return n(),()=>{var M;v.forEach(j=>{i&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),_?.(),(M=E)==null||M.disconnect(),E=null,g&&cancelAnimationFrame(C)}}const RP=WL,OP=JL,NP=FL,MP=tP,DP=QL,K5=KL,jP=eP,zP=(t,e,n)=>{const a=new Map,i={platform:CP,...n},l={...i.platform,_c:a};return XL(t,e,{...i,platform:l})};var UP=typeof document<"u",kP=function(){},Hm=UP?N.useLayoutEffect:kP;function ov(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!ov(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!ov(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function _w(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F5(t,e){const n=_w(t);return Math.round(e*n)/n}function yy(t){const e=N.useRef(t);return Hm(()=>{e.current=t}),e}function LP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:g,open:m}=t,[v,_]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,E]=N.useState(a);ov(S,a)||E(a);const[C,R]=N.useState(null),[O,M]=N.useState(null),j=N.useCallback(Q=>{Q!==k.current&&(k.current=Q,R(Q))},[]),z=N.useCallback(Q=>{Q!==Y.current&&(Y.current=Q,M(Q))},[]),P=l||C,H=u||O,k=N.useRef(null),Y=N.useRef(null),F=N.useRef(v),oe=g!=null,_e=yy(g),we=yy(i),de=yy(m),he=N.useCallback(()=>{if(!k.current||!Y.current)return;const Q={placement:e,strategy:n,middleware:S};we.current&&(Q.platform=we.current),zP(k.current,Y.current,Q).then(pe=>{const G={...pe,isPositioned:de.current!==!1};ve.current&&!ov(F.current,G)&&(F.current=G,ng.flushSync(()=>{_(G)}))})},[S,e,n,we,de]);Hm(()=>{m===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,_(Q=>({...Q,isPositioned:!1})))},[m]);const ve=N.useRef(!1);Hm(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Hm(()=>{if(P&&(k.current=P),H&&(Y.current=H),P&&H){if(_e.current)return _e.current(P,H,he);he()}},[P,H,he,_e,oe]);const Se=N.useMemo(()=>({reference:k,floating:Y,setReference:j,setFloating:z}),[j,z]),B=N.useMemo(()=>({reference:P,floating:H}),[P,H]),le=N.useMemo(()=>{const Q={position:n,left:0,top:0};if(!B.floating)return Q;const pe=F5(B.floating,v.x),G=F5(B.floating,v.y);return d?{...Q,transform:"translate("+pe+"px, "+G+"px)",..._w(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:G}},[n,d,B.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:he,refs:Se,elements:B,floatingStyles:le}),[v,he,Se,B,le])}const PP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?K5({element:a.current,padding:i}).fn(n):{}:a?K5({element:a,padding:i}).fn(n):{}}}},BP=(t,e)=>({...RP(t),options:[t,e]}),HP=(t,e)=>({...OP(t),options:[t,e]}),GP=(t,e)=>({...jP(t),options:[t,e]}),qP=(t,e)=>({...NP(t),options:[t,e]}),VP=(t,e)=>({...MP(t),options:[t,e]}),YP=(t,e)=>({...DP(t),options:[t,e]}),ZP=(t,e)=>({...PP(t),options:[t,e]});var IP="Arrow",Sw=N.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return T.jsx(Rn.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sw.displayName=IP;var XP=Sw,sb="Popper",[ww,xw]=uo(sb),[KP,Ew]=ww(sb),Cw=t=>{const{__scopePopper:e,children:n}=t,[a,i]=N.useState(null);return T.jsx(KP,{scope:e,anchor:a,onAnchorChange:i,children:n})};Cw.displayName=sb;var Tw="PopperAnchor",Aw=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=Ew(Tw,n),u=N.useRef(null),d=wa(e,u),g=N.useRef(null);return N.useEffect(()=>{const m=g.current;g.current=a?.current||u.current,m!==g.current&&l.onAnchorChange(g.current)}),a?null:T.jsx(Rn.div,{...i,ref:d})});Aw.displayName=Tw;var lb="PopperContent",[FP,QP]=ww(lb),Rw=N.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:C,...R}=t,O=Ew(lb,n),[M,j]=N.useState(null),z=wa(e,ke=>j(ke)),[P,H]=N.useState(null),k=UL(P),Y=k?.width??0,F=k?.height??0,oe=a+(l!=="center"?"-"+l:""),_e=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},we=Array.isArray(m)?m:[m],de=we.length>0,he={padding:_e,boundary:we.filter(WP),altBoundary:de},{refs:ve,floatingStyles:Se,placement:B,isPositioned:le,middlewareData:Q}=LP({strategy:"fixed",placement:oe,whileElementsMounted:(...ke)=>AP(...ke,{animationFrame:E==="always"}),elements:{reference:O.anchor},middleware:[BP({mainAxis:i+F,alignmentAxis:u}),g&&HP({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?GP():void 0,...he}),g&&qP({...he}),VP({...he,apply:({elements:ke,rects:Xe,availableWidth:Ot,availableHeight:ot})=>{const{width:St,height:mn}=Xe.reference,Nn=ke.floating.style;Nn.setProperty("--radix-popper-available-width",`${Ot}px`),Nn.setProperty("--radix-popper-available-height",`${ot}px`),Nn.setProperty("--radix-popper-anchor-width",`${St}px`),Nn.setProperty("--radix-popper-anchor-height",`${mn}px`)}}),P&&ZP({element:P,padding:d}),JP({arrowWidth:Y,arrowHeight:F}),S&&YP({strategy:"referenceHidden",...he})]}),[pe,G]=Mw(B),ne=to(C);hu(()=>{le&&ne?.()},[le,ne]);const Ce=Q.arrow?.x,Te=Q.arrow?.y,Ye=Q.arrow?.centerOffset!==0,[be,ye]=N.useState();return hu(()=>{M&&ye(window.getComputedStyle(M).zIndex)},[M]),T.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:le?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:T.jsx(FP,{scope:n,placedSide:pe,onArrowChange:H,arrowX:Ce,arrowY:Te,shouldHideArrow:Ye,children:T.jsx(Rn.div,{"data-side":pe,"data-align":G,...R,ref:z,style:{...R.style,animation:le?void 0:"none"}})})})});Rw.displayName=lb;var Ow="PopperArrow",$P={top:"bottom",right:"left",bottom:"top",left:"right"},Nw=N.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=QP(Ow,a),u=$P[l.placedSide];return T.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:T.jsx(XP,{...i,ref:n,style:{...i.style,display:"block"}})})});Nw.displayName=Ow;function WP(t){return t!==null}var JP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,g=u?0:t.arrowHeight,[m,v]=Mw(n),_={start:"0%",center:"50%",end:"100%"}[v],S=(i.arrow?.x??0)+d/2,E=(i.arrow?.y??0)+g/2;let C="",R="";return m==="bottom"?(C=u?_:`${S}px`,R=`${-g}px`):m==="top"?(C=u?_:`${S}px`,R=`${a.floating.height+g}px`):m==="right"?(C=`${-g}px`,R=u?_:`${E}px`):m==="left"&&(C=`${a.floating.width+g}px`,R=u?_:`${E}px`),{data:{x:C,y:R}}}});function Mw(t){const[e,n="center"]=t.split("-");return[e,n]}var eB=Cw,tB=Aw,nB=Rw,aB=Nw,by="rovingFocusGroup.onEntryFocus",rB={bubbles:!1,cancelable:!0},cg="RovingFocusGroup",[c2,Dw,iB]=b6(cg),[sB,Yd]=uo(cg,[iB]),[lB,oB]=sB(cg),jw=N.forwardRef((t,e)=>T.jsx(c2.Provider,{scope:t.__scopeRovingFocusGroup,children:T.jsx(c2.Slot,{scope:t.__scopeRovingFocusGroup,children:T.jsx(uB,{...t,ref:e})})}));jw.displayName=cg;var uB=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,..._}=t,S=N.useRef(null),E=wa(e,S),C=jv(l),[R,O]=Gd({prop:u,defaultProp:d??null,onChange:g,caller:cg}),[M,j]=N.useState(!1),z=to(m),P=Dw(n),H=N.useRef(!1),[k,Y]=N.useState(0);return N.useEffect(()=>{const F=S.current;if(F)return F.addEventListener(by,z),()=>F.removeEventListener(by,z)},[z]),T.jsx(lB,{scope:n,orientation:a,dir:C,loop:i,currentTabStopId:R,onItemFocus:N.useCallback(F=>O(F),[O]),onItemShiftTab:N.useCallback(()=>j(!0),[]),onFocusableItemAdd:N.useCallback(()=>Y(F=>F+1),[]),onFocusableItemRemove:N.useCallback(()=>Y(F=>F-1),[]),children:T.jsx(Rn.div,{tabIndex:M||k===0?-1:0,"data-orientation":a,..._,ref:E,style:{outline:"none",...t.style},onMouseDown:Rt(t.onMouseDown,()=>{H.current=!0}),onFocus:Rt(t.onFocus,F=>{const oe=!H.current;if(F.target===F.currentTarget&&oe&&!M){const _e=new CustomEvent(by,rB);if(F.currentTarget.dispatchEvent(_e),!_e.defaultPrevented){const we=P().filter(B=>B.focusable),de=we.find(B=>B.active),he=we.find(B=>B.id===R),Se=[de,he,...we].filter(Boolean).map(B=>B.ref.current);kw(Se,v)}}H.current=!1}),onBlur:Rt(t.onBlur,()=>j(!1))})})}),zw="RovingFocusGroupItem",Uw=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...d}=t,g=Md(),m=l||g,v=oB(zw,n),_=v.currentTabStopId===m,S=Dw(n),{onFocusableItemAdd:E,onFocusableItemRemove:C,currentTabStopId:R}=v;return N.useEffect(()=>{if(a)return E(),()=>C()},[a,E,C]),T.jsx(c2.ItemSlot,{scope:n,id:m,focusable:a,active:i,children:T.jsx(Rn.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:Rt(t.onMouseDown,O=>{a?v.onItemFocus(m):O.preventDefault()}),onFocus:Rt(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:Rt(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const M=dB(O,v.orientation,v.dir);if(M!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=S().filter(P=>P.focusable).map(P=>P.ref.current);if(M==="last")z.reverse();else if(M==="prev"||M==="next"){M==="prev"&&z.reverse();const P=z.indexOf(O.currentTarget);z=v.loop?hB(z,P+1):z.slice(P+1)}setTimeout(()=>kw(z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:R!=null}):u})})});Uw.displayName=zw;var cB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dB(t,e,n){const a=fB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return cB[a]}function kw(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function hB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var ob=jw,Hv=Uw,f2=["Enter"," "],gB=["ArrowDown","PageUp","Home"],Lw=["ArrowUp","PageDown","End"],pB=[...gB,...Lw],mB={ltr:[...f2,"ArrowRight"],rtl:[...f2,"ArrowLeft"]},vB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fg="Menu",[F0,yB,bB]=b6(fg),[Zc,Pw]=uo(fg,[bB,xw,Yd]),Gv=xw(),Bw=Yd(),[_B,Ic]=Zc(fg),[SB,dg]=Zc(fg),Hw=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=t,d=Gv(e),[g,m]=N.useState(null),v=N.useRef(!1),_=to(l),S=jv(i);return N.useEffect(()=>{const E=()=>{v.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>v.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),T.jsx(eB,{...d,children:T.jsx(_B,{scope:e,open:n,onOpenChange:_,content:g,onContentChange:m,children:T.jsx(SB,{scope:e,onClose:N.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:S,modal:u,children:a})})})};Hw.displayName=fg;var wB="MenuAnchor",ub=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Gv(n);return T.jsx(tB,{...i,...a,ref:e})});ub.displayName=wB;var cb="MenuPortal",[xB,Gw]=Zc(cb,{forceMount:void 0}),qw=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,l=Ic(cb,e);return T.jsx(xB,{scope:e,forceMount:n,children:T.jsx(xu,{present:n||l.open,children:T.jsx(F2,{asChild:!0,container:i,children:a})})})};qw.displayName=cb;var Ui="MenuContent",[EB,fb]=Zc(Ui),Vw=N.forwardRef((t,e)=>{const n=Gw(Ui,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Ic(Ui,t.__scopeMenu),u=dg(Ui,t.__scopeMenu);return T.jsx(F0.Provider,{scope:t.__scopeMenu,children:T.jsx(xu,{present:a||l.open,children:T.jsx(F0.Slot,{scope:t.__scopeMenu,children:u.modal?T.jsx(CB,{...i,ref:e}):T.jsx(TB,{...i,ref:e})})})})}),CB=N.forwardRef((t,e)=>{const n=Ic(Ui,t.__scopeMenu),a=N.useRef(null),i=wa(e,a);return N.useEffect(()=>{const l=a.current;if(l)return D6(l)},[]),T.jsx(db,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Rt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),TB=N.forwardRef((t,e)=>{const n=Ic(Ui,t.__scopeMenu);return T.jsx(db,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AB=I0("MenuContent.ScrollLock"),db=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:E,disableOutsideScroll:C,...R}=t,O=Ic(Ui,n),M=dg(Ui,n),j=Gv(n),z=Bw(n),P=yB(n),[H,k]=N.useState(null),Y=N.useRef(null),F=wa(e,Y,O.onContentChange),oe=N.useRef(0),_e=N.useRef(""),we=N.useRef(0),de=N.useRef(null),he=N.useRef("right"),ve=N.useRef(0),Se=C?Q2:N.Fragment,B=C?{as:AB,allowPinchZoom:!0}:void 0,le=pe=>{const G=_e.current+pe,ne=P().filter(ke=>!ke.disabled),Ce=document.activeElement,Te=ne.find(ke=>ke.ref.current===Ce)?.textValue,Ye=ne.map(ke=>ke.textValue),be=BB(Ye,G,Te),ye=ne.find(ke=>ke.textValue===be)?.ref.current;(function ke(Xe){_e.current=Xe,window.clearTimeout(oe.current),Xe!==""&&(oe.current=window.setTimeout(()=>ke(""),1e3))})(G),ye&&setTimeout(()=>ye.focus())};N.useEffect(()=>()=>window.clearTimeout(oe.current),[]),x6();const Q=N.useCallback(pe=>he.current===de.current?.side&&GB(pe,de.current?.area),[]);return T.jsx(EB,{scope:n,searchRef:_e,onItemEnter:N.useCallback(pe=>{Q(pe)&&pe.preventDefault()},[Q]),onItemLeave:N.useCallback(pe=>{Q(pe)||(Y.current?.focus(),k(null))},[Q]),onTriggerLeave:N.useCallback(pe=>{Q(pe)&&pe.preventDefault()},[Q]),pointerGraceTimerRef:we,onPointerGraceIntentChange:N.useCallback(pe=>{de.current=pe},[]),children:T.jsx(Se,{...B,children:T.jsx(K2,{asChild:!0,trapped:i,onMountAutoFocus:Rt(l,pe=>{pe.preventDefault(),Y.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:T.jsx(X2,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:E,children:T.jsx(ob,{asChild:!0,...z,dir:M.dir,orientation:"vertical",loop:a,currentTabStopId:H,onCurrentTabStopIdChange:k,onEntryFocus:Rt(g,pe=>{M.isUsingKeyboardRef.current||pe.preventDefault()}),preventScrollOnEntryFocus:!0,children:T.jsx(nB,{role:"menu","aria-orientation":"vertical","data-state":ix(O.open),"data-radix-menu-content":"",dir:M.dir,...j,...R,ref:F,style:{outline:"none",...R.style},onKeyDown:Rt(R.onKeyDown,pe=>{const ne=pe.target.closest("[data-radix-menu-content]")===pe.currentTarget,Ce=pe.ctrlKey||pe.altKey||pe.metaKey,Te=pe.key.length===1;ne&&(pe.key==="Tab"&&pe.preventDefault(),!Ce&&Te&&le(pe.key));const Ye=Y.current;if(pe.target!==Ye||!pB.includes(pe.key))return;pe.preventDefault();const ye=P().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);Lw.includes(pe.key)&&ye.reverse(),LB(ye)}),onBlur:Rt(t.onBlur,pe=>{pe.currentTarget.contains(pe.target)||(window.clearTimeout(oe.current),_e.current="")}),onPointerMove:Rt(t.onPointerMove,Q0(pe=>{const G=pe.target,ne=ve.current!==pe.clientX;if(pe.currentTarget.contains(G)&&ne){const Ce=pe.clientX>ve.current?"right":"left";he.current=Ce,ve.current=pe.clientX}}))})})})})})})});Vw.displayName=Ui;var RB="MenuGroup",hb=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return T.jsx(Rn.div,{role:"group",...a,ref:e})});hb.displayName=RB;var OB="MenuLabel",Yw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return T.jsx(Rn.div,{...a,ref:e})});Yw.displayName=OB;var uv="MenuItem",Q5="menu.itemSelect",qv=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,l=N.useRef(null),u=dg(uv,t.__scopeMenu),d=fb(uv,t.__scopeMenu),g=wa(e,l),m=N.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const S=new CustomEvent(Q5,{bubbles:!0,cancelable:!0});_.addEventListener(Q5,E=>a?.(E),{once:!0}),y6(_,S),S.defaultPrevented?m.current=!1:u.onClose()}};return T.jsx(Zw,{...i,ref:g,disabled:n,onClick:Rt(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),m.current=!0},onPointerUp:Rt(t.onPointerUp,_=>{m.current||_.currentTarget?.click()}),onKeyDown:Rt(t.onKeyDown,_=>{const S=d.searchRef.current!=="";n||S&&_.key===" "||f2.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});qv.displayName=uv;var Zw=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...l}=t,u=fb(uv,n),d=Bw(n),g=N.useRef(null),m=wa(e,g),[v,_]=N.useState(!1),[S,E]=N.useState("");return N.useEffect(()=>{const C=g.current;C&&E((C.textContent??"").trim())},[l.children]),T.jsx(F0.ItemSlot,{scope:n,disabled:a,textValue:i??S,children:T.jsx(Hv,{asChild:!0,...d,focusable:!a,children:T.jsx(Rn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:m,onPointerMove:Rt(t.onPointerMove,Q0(C=>{a?u.onItemLeave(C):(u.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Rt(t.onPointerLeave,Q0(C=>u.onItemLeave(C))),onFocus:Rt(t.onFocus,()=>_(!0)),onBlur:Rt(t.onBlur,()=>_(!1))})})})}),NB="MenuCheckboxItem",Iw=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return T.jsx($w,{scope:t.__scopeMenu,checked:n,children:T.jsx(qv,{role:"menuitemcheckbox","aria-checked":cv(n)?"mixed":n,...i,ref:e,"data-state":pb(n),onSelect:Rt(i.onSelect,()=>a?.(cv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Iw.displayName=NB;var Xw="MenuRadioGroup",[MB,DB]=Zc(Xw,{value:void 0,onValueChange:()=>{}}),Kw=N.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,l=to(a);return T.jsx(MB,{scope:t.__scopeMenu,value:n,onValueChange:l,children:T.jsx(hb,{...i,ref:e})})});Kw.displayName=Xw;var Fw="MenuRadioItem",Qw=N.forwardRef((t,e)=>{const{value:n,...a}=t,i=DB(Fw,t.__scopeMenu),l=n===i.value;return T.jsx($w,{scope:t.__scopeMenu,checked:l,children:T.jsx(qv,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":pb(l),onSelect:Rt(a.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Qw.displayName=Fw;var gb="MenuItemIndicator",[$w,jB]=Zc(gb,{checked:!1}),Ww=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,l=jB(gb,n);return T.jsx(xu,{present:a||cv(l.checked)||l.checked===!0,children:T.jsx(Rn.span,{...i,ref:e,"data-state":pb(l.checked)})})});Ww.displayName=gb;var zB="MenuSeparator",Jw=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return T.jsx(Rn.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});Jw.displayName=zB;var UB="MenuArrow",ex=N.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=Gv(n);return T.jsx(aB,{...i,...a,ref:e})});ex.displayName=UB;var kB="MenuSub",[vG,tx]=Zc(kB),R0="MenuSubTrigger",nx=N.forwardRef((t,e)=>{const n=Ic(R0,t.__scopeMenu),a=dg(R0,t.__scopeMenu),i=tx(R0,t.__scopeMenu),l=fb(R0,t.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:g}=l,m={__scopeMenu:t.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const _=d.current;return()=>{window.clearTimeout(_),g(null)}},[d,g]),T.jsx(ub,{asChild:!0,...m,children:T.jsx(Zw,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ix(n.open),...t,ref:Dv(e,i.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Rt(t.onPointerMove,Q0(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Rt(t.onPointerLeave,Q0(_=>{v();const S=n.content?.getBoundingClientRect();if(S){const E=n.content?.dataset.side,C=E==="right",R=C?-5:5,O=S[C?"left":"right"],M=S[C?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x:O,y:S.bottom}],side:E}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Rt(t.onKeyDown,_=>{const S=l.searchRef.current!=="";t.disabled||S&&_.key===" "||mB[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});nx.displayName=R0;var ax="MenuSubContent",rx=N.forwardRef((t,e)=>{const n=Gw(Ui,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,l=Ic(Ui,t.__scopeMenu),u=dg(Ui,t.__scopeMenu),d=tx(ax,t.__scopeMenu),g=N.useRef(null),m=wa(e,g);return T.jsx(F0.Provider,{scope:t.__scopeMenu,children:T.jsx(xu,{present:a||l.open,children:T.jsx(F0.Slot,{scope:t.__scopeMenu,children:T.jsx(db,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Rt(t.onFocusOutside,v=>{v.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Rt(t.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Rt(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),S=vB[u.dir].includes(v.key);_&&S&&(l.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});rx.displayName=ax;function ix(t){return t?"open":"closed"}function cv(t){return t==="indeterminate"}function pb(t){return cv(t)?"indeterminate":t?"checked":"unchecked"}function LB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function PB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function BB(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=PB(t,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const g=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return g!==n?g:void 0}function HB(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const d=e[l],g=e[u],m=d.x,v=d.y,_=g.x,S=g.y;v>a!=S>a&&n<(_-m)*(a-v)/(S-v)+m&&(i=!i)}return i}function GB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return HB(n,e)}function Q0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var qB=Hw,VB=ub,YB=qw,ZB=Vw,IB=hb,XB=Yw,KB=qv,FB=Iw,QB=Kw,$B=Qw,WB=Ww,JB=Jw,eH=ex,tH=nx,nH=rx,Vv="DropdownMenu",[aH]=uo(Vv,[Pw]),Ar=Pw(),[rH,sx]=aH(Vv),lx=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:d=!0}=t,g=Ar(e),m=N.useRef(null),[v,_]=Gd({prop:i,defaultProp:l??!1,onChange:u,caller:Vv});return T.jsx(rH,{scope:e,triggerId:Md(),triggerRef:m,contentId:Md(),open:v,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(S=>!S),[_]),modal:d,children:T.jsx(qB,{...g,open:v,onOpenChange:_,dir:a,modal:d,children:n})})};lx.displayName=Vv;var ox="DropdownMenuTrigger",ux=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,l=sx(ox,n),u=Ar(n);return T.jsx(VB,{asChild:!0,...u,children:T.jsx(Rn.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:Dv(e,l.triggerRef),onPointerDown:Rt(t.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Rt(t.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});ux.displayName=ox;var iH="DropdownMenuPortal",cx=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Ar(e);return T.jsx(YB,{...a,...n})};cx.displayName=iH;var fx="DropdownMenuContent",dx=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=sx(fx,n),l=Ar(n),u=N.useRef(!1);return T.jsx(ZB,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:e,onCloseAutoFocus:Rt(t.onCloseAutoFocus,d=>{u.current||i.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Rt(t.onInteractOutside,d=>{const g=d.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,v=g.button===2||m;(!i.modal||v)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dx.displayName=fx;var sH="DropdownMenuGroup",lH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(IB,{...i,...a,ref:e})});lH.displayName=sH;var oH="DropdownMenuLabel",hx=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(XB,{...i,...a,ref:e})});hx.displayName=oH;var uH="DropdownMenuItem",gx=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(KB,{...i,...a,ref:e})});gx.displayName=uH;var cH="DropdownMenuCheckboxItem",fH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(FB,{...i,...a,ref:e})});fH.displayName=cH;var dH="DropdownMenuRadioGroup",px=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(QB,{...i,...a,ref:e})});px.displayName=dH;var hH="DropdownMenuRadioItem",mx=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx($B,{...i,...a,ref:e})});mx.displayName=hH;var gH="DropdownMenuItemIndicator",vx=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(WB,{...i,...a,ref:e})});vx.displayName=gH;var pH="DropdownMenuSeparator",yx=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(JB,{...i,...a,ref:e})});yx.displayName=pH;var mH="DropdownMenuArrow",bx=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(eH,{...i,...a,ref:e})});bx.displayName=mH;var vH="DropdownMenuSubTrigger",yH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(tH,{...i,...a,ref:e})});yH.displayName=vH;var bH="DropdownMenuSubContent",_H=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=Ar(n);return T.jsx(nH,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_H.displayName=bH;var _y=lx,Sy=ux,wy=cx,xy=dx,SH=hx,Ql=gx,wH=px,Rm=mx,Ey=vx,Om=yx,xH=bx,EH="Separator",$5="horizontal",CH=["horizontal","vertical"],_x=N.forwardRef((t,e)=>{const{decorative:n,orientation:a=$5,...i}=t,l=TH(a)?a:$5,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return T.jsx(Rn.div,{"data-orientation":l,...d,...i,ref:e})});_x.displayName=EH;function TH(t){return CH.includes(t)}var AH=_x,Sx="Toggle",wx=N.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:i,...l}=t,[u,d]=Gd({prop:n,onChange:i,defaultProp:a??!1,caller:Sx});return T.jsx(Rn.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Rt(t.onClick,()=>{t.disabled||d(!u)})})});wx.displayName=Sx;var Eu="ToggleGroup",[xx,Ex]=uo(Eu,[Yd]),Cx=Yd(),mb=$e.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const i=a;return T.jsx(RH,{...i,ref:e})}if(n==="multiple"){const i=a;return T.jsx(OH,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Eu}\``)});mb.displayName=Eu;var[Tx,Ax]=xx(Eu),RH=$e.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,d]=Gd({prop:n,defaultProp:a??"",onChange:i,caller:Eu});return T.jsx(Tx,{scope:t.__scopeToggleGroup,type:"single",value:$e.useMemo(()=>u?[u]:[],[u]),onItemActivate:d,onItemDeactivate:$e.useCallback(()=>d(""),[d]),children:T.jsx(Rx,{...l,ref:e})})}),OH=$e.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:i=()=>{},...l}=t,[u,d]=Gd({prop:n,defaultProp:a??[],onChange:i,caller:Eu}),g=$e.useCallback(v=>d((_=[])=>[..._,v]),[d]),m=$e.useCallback(v=>d((_=[])=>_.filter(S=>S!==v)),[d]);return T.jsx(Tx,{scope:t.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:g,onItemDeactivate:m,children:T.jsx(Rx,{...l,ref:e})})});mb.displayName=Eu;var[NH,MH]=xx(Eu),Rx=$e.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:i=!0,orientation:l,dir:u,loop:d=!0,...g}=t,m=Cx(n),v=jv(u),_={role:"group",dir:v,...g};return T.jsx(NH,{scope:n,rovingFocus:i,disabled:a,children:i?T.jsx(ob,{asChild:!0,...m,orientation:l,dir:v,loop:d,children:T.jsx(Rn.div,{..._,ref:e})}):T.jsx(Rn.div,{..._,ref:e})})}),fv="ToggleGroupItem",Ox=$e.forwardRef((t,e)=>{const n=Ax(fv,t.__scopeToggleGroup),a=MH(fv,t.__scopeToggleGroup),i=Cx(t.__scopeToggleGroup),l=n.value.includes(t.value),u=a.disabled||t.disabled,d={...t,pressed:l,disabled:u},g=$e.useRef(null);return a.rovingFocus?T.jsx(Hv,{asChild:!0,...i,focusable:!u,active:l,ref:g,children:T.jsx(W5,{...d,ref:e})}):T.jsx(W5,{...d,ref:e})});Ox.displayName=fv;var W5=$e.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...i}=t,l=Ax(fv,n),u={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},d=l.type==="single"?u:void 0;return T.jsx(wx,{...d,...i,ref:e,onPressedChange:g=>{g?l.onItemActivate(a):l.onItemDeactivate(a)}})}),DH=mb,jH=Ox,vb="Toolbar",[zH]=uo(vb,[Yd,Ex]),yb=Yd(),Nx=Ex(),[UH,Mx]=zH(vb),Dx=N.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:i,loop:l=!0,...u}=t,d=yb(n),g=jv(i);return T.jsx(UH,{scope:n,orientation:a,dir:g,children:T.jsx(ob,{asChild:!0,...d,orientation:a,dir:g,loop:l,children:T.jsx(Rn.div,{role:"toolbar","aria-orientation":a,dir:g,...u,ref:e})})})});Dx.displayName=vb;var jx="ToolbarSeparator",zx=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Mx(jx,n);return T.jsx(AH,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});zx.displayName=jx;var kH="ToolbarButton",Ux=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=yb(n);return T.jsx(Hv,{asChild:!0,...i,focusable:!t.disabled,children:T.jsx(Rn.button,{type:"button",...a,ref:e})})});Ux.displayName=kH;var LH="ToolbarLink",PH=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=yb(n);return T.jsx(Hv,{asChild:!0,...i,focusable:!0,children:T.jsx(Rn.a,{...a,ref:e,onKeyDown:Rt(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});PH.displayName=LH;var kx="ToolbarToggleGroup",Lx=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Mx(kx,n),l=Nx(n);return T.jsx(DH,{"data-orientation":i.orientation,dir:i.dir,...l,...a,ref:e,rovingFocus:!1})});Lx.displayName=kx;var BH="ToolbarToggleItem",Px=N.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,i=Nx(n),l={__scopeToolbar:t.__scopeToolbar};return T.jsx(Ux,{asChild:!0,...l,children:T.jsx(jH,{...i,...a,ref:e})})});Px.displayName=BH;var HH=Dx,GH=zx,J5=Lx,xc=Px;function qH(t){return Zn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function e3({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onTextClick:i,onEraserClick:l,tool:u,setTool:d}){return T.jsxs(HH,{className:"flex w-100 max-w-100 rounded-lg bg-white border-2 border-zinc-300 shadow-sm p-2 justify-center max-sm:gap-1 ",children:[T.jsxs(J5,{type:"single",children:[T.jsx(xc,{value:"task",children:T.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:t,children:[T.jsx(TT,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task  Q"}),T.jsx("span",{className:"hidden sm:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"Q"})]})}),T.jsx(xc,{value:"todo",children:T.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",onClick:()=>e(),children:[T.jsx(wT,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do  W"}),T.jsx("span",{className:"hidden sm:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"W"})]})}),T.jsx(xc,{value:"annotate",children:T.jsxs("div",{onClick:()=>i(),className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[T.jsx(ST,{className:"text-xl"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]})})]}),T.jsx(GH,{className:"w-px my-3 mx-2 bg-black"}),T.jsxs(J5,{type:"single",value:u,onValueChange:g=>{g&&d(g)},children:[T.jsx(xc,{value:"hand",className:"group",children:T.jsxs("div",{className:"pan-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[T.jsx(OT,{className:"-rotate-[45deg] text-xl group-data-[state=on]:stroke-blue-500"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Hand  1 or Z"}),T.jsx("span",{className:"hidden sm:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"1"})]})}),T.jsx(xc,{value:"select",className:"group",onClick:a,children:T.jsxs("div",{className:"select-canvas relative flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50  max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[T.jsx(AT,{className:"text-xl group-data-[state=on]:stroke-blue-500"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select  2 or X"}),T.jsx("span",{className:"hidden sm:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"2"})]})}),T.jsx(xc,{value:"draw",className:"group",onClick:n,children:T.jsxs("div",{className:"draw-canvas relative flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[T.jsx(J3,{className:"text-xl group-data-[state=on]:stroke-blue-500"}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw  3 or C"}),T.jsx("span",{className:"hidden sm:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-blue-500",children:"3"})]})}),T.jsx(xc,{value:"eraser",className:"group",onClick:l,children:T.jsxs("div",{className:"add-shape relative group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none  disabled:pointer-events-auto disabled:opacity-50 max-sm:w-8 max-sm:h-8 max-sm:p-[2px]",children:[T.jsx(qH,{className:"text-xl group-data-[state=on]:stroke-red-500 group-data-[state=on]:stroke-2",style:{strokeWidth:.5}}),T.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Eraser  4 or V"}),T.jsx("span",{className:"hidden sm:inline absolute text-xs right-0 bottom-0 font-bold text-gray-300 group-data-[state=on]:text-red-500",children:"4"})]})})]})]})}async function Bx(t){const{data:e,error:n}=await kn.from("canvas").select("canvas_id").order("updated_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;console.log("canvas id doesnt exist");const{data:a,error:i}=await kn.from("canvas").insert({owner_id:t}).select("canvas_id").single();return i?(console.error("Error creating canvas:",i),null):a.canvas_id}async function VH(t,e){try{const{data:n,error:a}=await kn.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function t3(t){try{const{data:e,error:n}=await kn.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function Nm(t,e){try{const{data:n}=await kn.auth.getUser(),a=n?.user;if(!a)return await new Promise(g=>{const m=indexedDB.open("CanvasDB"),v={local_canvas:"local",canvasData:t,updatedAt:Date.now()},_={canvas_viewport:"local",x:t.viewport.x,y:t.viewport.y,scale:t.viewport.scale,updatedAt:Date.now()};m.onsuccess=()=>{const E=m.result.transaction(["Canvas","Viewport"],"readwrite"),C=E.objectStore("Canvas"),R=E.objectStore("Viewport");C.put(v),R.put(_),E.oncomplete=()=>g(!0),E.onerror=()=>g(!0)},m.onerror=()=>g(!0)}),{success:!0,canvasId:"local"};if(!a)return{success:!0};let i=e;if(!i&&(i=await Bx(a.id),!i))return{success:!1,error:"Failed to get canvas"};if(!t||!t.shapes||!t.connectors)return console.warn("Skipping save - incomplete data"),{success:!0,canvasId:i};await kn.from("shapes").delete().eq("canvas_id",i);const l=t.shapes.map(g=>({canvas_id:i,shape_data:g})),u=t.connectors.map(g=>({canvas_id:i,shape_data:g})),d=[...l,...u];if(console.log("Saving to DB:",{shapes:l.length,connectors:u.length,total:d.length}),d.length>0){const{error:g}=await kn.from("shapes").insert(d);if(g)return console.error("Insert error:",g),{success:!1,error:g.message}}return{success:!0,canvasId:i}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}const YH=async()=>new Promise(t=>{const e=indexedDB.open("CanvasDB");e.onsuccess=()=>{const a=e.result.transaction("Viewport","readonly"),l=a.objectStore("Viewport").get("local");a.oncomplete=()=>{const u=l.result;t(u||{x:0,y:0,scale:1})}},e.onerror=()=>{t({x:0,y:0,scale:1})}});async function Mm(t){try{const{data:{user:e}}=await kn.auth.getUser(),n=await YH();if(!e)return new Promise(R=>{const O=indexedDB.open("CanvasDB");O.onsuccess=()=>{const j=O.result.transaction(["Canvas","Viewport"],"readonly"),P=j.objectStore("Canvas").get("local"),k=j.objectStore("Viewport").get("local");P.onerror=()=>R({success:!1,error:"Failed to get canvas data"}),k.onerror=()=>R({success:!1,error:"Failed to get canvas viewport"}),j.oncomplete=()=>{const Y=P.result,F=k.result;if(!Y){R({success:!1,error:"No offline canvas found"});return}F&&(Y.canvasData.viewport=F),R({success:!0,data:Y.canvasData,canvasId:Y.local_canvas})}}});let a=t;if(!a&&(a=await Bx(e.id),!a))return{success:!1,error:"Failed to get or create canvas"};const{data:i,error:l}=await kn.from("shapes").select("shape_data").eq("canvas_id",a);if(l)return{success:!1,error:l.message};const u=i.filter(R=>R.shape_data.shape==="rect").map(R=>R.shape_data),d=i.filter(R=>R.shape_data.shape==="line").map(R=>R.shape_data),g=i.filter(R=>R.shape_data.shape==="todo").map(R=>R.shape_data),m=i.filter(R=>R.shape_data.shape==="connector").map(R=>R.shape_data),v=[...u,...d,...g],_=Array.from(new Map(v.map(R=>[R.id,R])).values()),S=Array.from(new Map(m.map(R=>[R.id,R])).values()),E=new Set;_.forEach(R=>{E.add(R.id),E.add(`group-${R.id}`)});const C=S.filter(R=>{const O=E.has(R.from),M=E.has(R.to);return!O||!M?(console.warn("Removing orphaned connector:",{id:R.id,from:R.from,to:R.to,fromExists:O,toExists:M}),!1):!0});return console.log("Load complete:",{shapes:_.length,connectors:C.length,removed:S.length-C.length}),{success:!0,data:{shapes:_,connectors:C,viewport:n},canvasId:a}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function ZH(t){try{const{data:{user:e}}=await kn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await kn.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function IH(){try{const{data:{user:t}}=await kn.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await kn.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}async function XH(t,e){try{const{data:{user:n}}=await kn.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await kn.from("canvas").update({canvas_name:e,updated_at:new Date().toISOString()}).eq("canvas_id",t).eq("owner_id",n.id);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("updateCanvasName error:",n),{success:!1,error:String(n)}}}async function KH(t){try{const{data:{user:e}}=await kn.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await kn.from("shapes").delete().eq("canvas_id",t);if(n)return{success:!1,error:n.message};const{error:a}=await kn.from("canvas").delete().eq("canvas_id",t).eq("owner_id",e.id);return a?{success:!1,error:a.message}:{success:!0}}catch(e){return console.error("deleteCanvasById error:",e),{success:!1,error:String(e)}}}const FH=async()=>{let t,e,n=1;return new Promise(a=>{t=indexedDB.open("CanvasDB",2),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||(console.log("create object store"),e.createObjectStore("Canvas",{keyPath:"local_canvas"})),e.objectStoreNames.contains("Viewport")||e.createObjectStore("Viewport",{keyPath:"canvas_viewport"})},t.onsuccess=()=>{e=t.result,n=e.version,console.log("version: ",n),a(!0)},t.onerror=()=>{a(!1)}})},QH=()=>({init:N.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await FH()?console.log("IndexedDB Initialized (first time)"):console.error("InitDb - Something went wrong")),console.log("IndexedDB initailized")},[])});function $H(t,e,n){const a=N.useRef(void 0);N.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function WH(){const{init:t}=QH(),{session:e}=YU(),[n,a]=N.useState([]),[i,l]=N.useState(100),[u,d]=N.useState({x:0,y:0}),[g,m]=N.useState(!1),[v,_]=N.useState(!1),[S,E]=N.useState(!1),[C,R]=N.useState([]),[O,M]=N.useState([]),[j,z]=N.useState("hand"),[P,H]=N.useState("#000000"),k=hv(),[Y,F]=N.useState(null),[oe,_e]=N.useState(null),[we,de]=N.useState(null),[he,ve]=N.useState(!1),[Se,B]=N.useState(null),[le,Q]=N.useState(null),[pe,G]=N.useState([]),{pushUndo:ne}=p6(),[Ce,Te]=N.useState(!1),[Ye,be]=N.useState(""),[ye,ke]=N.useState(null),[Xe,Ot]=N.useState("");$H({shapes:C,connectors:O},1e3,()=>{!le||C.length===0||Nm({shapes:C,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},le)}),N.useEffect(()=>{let Ne=!0;return(async()=>{if(await t(),!e){const on=await Mm("local");if(!Ne)return;on.success?(R(on.data.shapes),M(on.data.connectors),d({x:on.data.viewport.x,y:on.data.viewport.y}),l(Math.round(on.data.viewport.scale*100)),Q("local")):(M([]),R([])),Q("local"),G([]);return}const De=await Mm(null);if(!Ne)return;De.success?(R(De.data.shapes),Q(De.canvasId),M(De.data.connectors),d({x:De.data.viewport.x,y:De.data.viewport.y}),l(Math.round(De.data.viewport.scale*100))):console.error("Failed to load canvas:",De.error);const Wt=await t3(e.user.id);if(!Ne)return;Wt.success?G(Wt.canvases||[]):console.error("Failed to load canvas list:",Wt.error);const xt=await IH();Ne&&(xt.success?B(xt.data.avatar_url):console.error("Failed to load user profile:",xt.error))})(),()=>{Ne=!1}},[t,e]);const[ot,St]=N.useState("#ffffff"),mn=(Ne,De)=>{de(Ne),_e(De),console.log(De),E(!0),_(!0)},Nn=()=>{de(null),_e(null),E(!1),_(!1)},fn=Ne=>{F(Ne),console.log("shape: "+Ne),m(!0),E(!0)},Ba=()=>{F(null),m(!1),E(!1)},Ha=(Ne,De)=>{const Wt=new Date(Ne.date).toISOString(),xt={id:"todo-"+Date.now().toString(),x:De?De.x+400:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:De?De.y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),color:Ne.color,isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:Ne.title,description:"",dueDate:Wt,completed:Ne.completed,assignee:Ne.assignee,status:"Something",parents:De?De.id:""};R([...C,xt]),De&&(R(on=>on.map(Gn=>Gn.shape==="rect"&&Gn.id===De.id?{...Gn,children:[...Gn.children,"group-"+xt.id]}:Gn)),Bi(xt,De,xt.id)),ne({before:xt,after:xt,action:"add",id:xt.id})},ea=Ne=>{z("hand");const De={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),width:300,height:200,color:Ne.color,title:Ne.title,description:Ne.description,dueDate:Ne.date,completed:!1,isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};R([...C,De]),ne({before:De,after:De,action:"add"})},Bi=(Ne,De,Wt)=>{const xt=Ne instanceof r2.Node?Ne.id():"group-"+Ne.id,on=De instanceof r2.Node?De.id():"group-"+De.id,Gn={shape:"connector",id:"connector-"+Date.now().toString(),from:xt,to:on};M([...O,Gn]),ne({before:Gn,after:Gn,action:"add",id:Wt||void 0})},Wa=()=>{const Ne={id:"text-"+Date.now().toString(),x:(u.x*-1+(window.innerWidth-200)/2)*(100/i),y:(u.y*-1+(window.innerHeight-200)/2)*(100/i),fontSize:20,text:"Insert your text here",shape:"text",behavior:"decor",scaleX:1,scaleY:1,width:200};R([...C,Ne]),ne({before:Ne,after:Ne,action:"add"})},X=(Ne,De)=>{R(Wt=>Wt.map(xt=>xt.id===Ne.id?{...xt,title:De.title,description:De.description,color:De.color,dueDate:De.date}:xt))},ae=(Ne,De)=>{R(Wt=>Wt.map(xt=>xt.id===Ne.id?{...xt,title:De.title,assignee:De.assignee,dueDate:De.date,completed:De.completed,color:De.color}:xt))},ce=()=>{z(j==="draw"?"hand":"draw")},Ge=()=>{z(j==="eraser"?"hand":"eraser")},Pe=()=>{z(j==="select"?"hand":"select")},Ue=()=>new Promise((Ne,De)=>{const Wt=indexedDB.open("CanvasDB");Wt.onsuccess=()=>{const on=Wt.result.transaction("Canvas","readwrite");on.objectStore("Canvas").clear(),on.oncomplete=()=>{console.log("IndexedDB shapes cleared"),Ne()},on.onerror=()=>{console.error("Failed to clear IndexedDB shapes"),De()}},Wt.onerror=()=>De()}),Ze=async()=>{if(R([]),M([]),le==="local")await Ue();else if(le){const Ne=await ZH(le);Ne.success||console.error("Failed to delete canvas from supabase",Ne.error)}},We=async()=>{ve(!0);try{await kn.auth.signOut();const Ne=await Mm("local");Ne.success?(R(Ne.data.shapes),M(Ne.data.connectors),d(Ne.data.viewport),l(Math.round(Ne.data.viewport.scale*100)),Q("local")):(R([]),M([]),Q(null)),await new Promise(De=>setTimeout(De,2e3))}catch{}finally{ve(!1)}},bt=async()=>{ve(!0);try{await Nm({shapes:C,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},le||null)}catch{}finally{ve(!1)}},en=async Ne=>{ve(!0);try{le&&Ne&&Ne!==le&&await Nm({shapes:C,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},le);const De=await Mm(Ne||null);De.success?(R(De.data.shapes),M(De.data.connectors),Q(De.canvasId)):console.error("Load failed:",De.error)}catch(De){console.error("Load error:",De)}finally{ve(!1)}},gr=async Ne=>{if(!e){console.warn("No session");return}ve(!0);try{le&&await Nm({shapes:C,connectors:O,viewport:{x:u.x,y:u.y,scale:i/100}},le);const De=await VH(e.user.id,Ne||`Canvas ${pe.length+1}`);if(De.success&&De.canvasId){R([]),M([]),Q(De.canvasId);const Wt=await t3(e.user.id);Wt.success&&G(Wt.canvases||[])}else console.error("Create failed:",De.error)}catch(De){console.error("Create canvas error:",De)}finally{ve(!1)}},Ca=async Ne=>{Ne!==le&&await en(Ne)},pa=async Ne=>{if(Xe.trim()){ve(!0);try{const De=await XH(Ne,Xe);De.success?(G(Wt=>Wt.map(xt=>xt.canvas_id===Ne?{...xt,canvas_name:Xe}:xt)),ke(null),Ot("")):console.error("Failed to update canvas name:",De.error)}catch(De){console.error("Error updating canvas name:",De)}finally{ve(!1)}}},Ja=async(Ne,De)=>{if(window.confirm(`Are you sure you want to delete "${De}"? This action cannot be undone.`)){ve(!0);try{const xt=await KH(Ne);if(xt.success){if(G(on=>on.filter(Gn=>Gn.canvas_id!==Ne)),le===Ne){const on=pe.filter(Gn=>Gn.canvas_id!==Ne);on.length>0?await Ca(on[0].canvas_id):(R([]),M([]),Q(null))}}else console.error("Failed to delete canvas:",xt.error)}catch(xt){console.error("Error deleting canvas:",xt)}finally{ve(!1)}}};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative w-full h-screen overflow-hidden ",children:[T.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[T.jsx("div",{className:"more-options ",children:T.jsxs(_y,{children:[T.jsx(Sy,{asChild:!0,children:T.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:T.jsx(bT,{})})}),T.jsx(wy,{children:T.jsxs(xy,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white",children:[T.jsx(Ql,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:T.jsxs("div",{className:"flex items-center gap-2",onClick:bt,children:[T.jsx(i4,{}),"Save"]})}),T.jsx(Ql,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onSelect:Ne=>Ne.preventDefault(),children:T.jsxs(_m,{children:[T.jsx(py,{asChild:!0,children:T.jsxs("div",{className:"flex items-center gap-2 w-full",children:[T.jsx(r4,{}),"My Canvases (",pe.length,")"]})}),T.jsxs(Sm,{children:[T.jsx(wm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),T.jsxs(xm,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-xl p-4 sm:p-6 rounded-lg z-101",children:[T.jsxs(Cm,{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[T.jsx(r4,{}),"My Canvases"]}),T.jsx(Tm,{asChild:!0,children:T.jsx("div",{className:"my-4",children:T.jsx("div",{className:"grid grid-cols-1 gap-3",children:pe.length===0?T.jsx("div",{className:"text-gray-500 text-center py-8",children:"No canvases yet. Create your first one!"}):pe.map(Ne=>T.jsxs("div",{className:`
                                        flex items-center justify-between p-4 rounded-lg border-2 
                                        transition-all
                                        ${le===Ne.canvas_id?"bg-blue-100 border-blue-400":"bg-gray-50 border-gray-200"}
                                      `,children:[T.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80",onClick:()=>{ye!==Ne.canvas_id&&Ca(Ne.canvas_id)},children:[T.jsx(i4,{className:"w-5 h-5 text-blue-600"}),T.jsxs("div",{className:"flex-1",children:[ye===Ne.canvas_id?T.jsx("input",{type:"text",value:Xe,onChange:De=>Ot(De.target.value),onKeyDown:De=>{De.key===" "&&De.stopPropagation(),De.key==="Enter"?pa(Ne.canvas_id):De.key==="Escape"&&(ke(null),Ot(""))},className:"font-medium text-gray-800 border-2 border-blue-400 rounded px-2 py-1 w-full",autoFocus:!0,onClick:De=>De.stopPropagation()}):T.jsx("span",{className:"font-medium text-gray-800",children:Ne.canvas_name||"Untitled"}),Ne.created_at&&T.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created:"," ",new Date(Ne.created_at).toLocaleDateString()]})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[le===Ne.canvas_id&&T.jsx("span",{className:"text-xs text-blue-600 font-medium mr-2",children:"Current"}),ye===Ne.canvas_id?T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:De=>{De.stopPropagation(),pa(Ne.canvas_id)},className:"p-2 hover:bg-green-100 rounded transition-colors",title:"Save",children:T.jsx(ET,{className:"w-4 h-4 text-green-600"})}),T.jsx("button",{onClick:De=>{De.stopPropagation(),ke(null),Ot("")},className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Cancel",children:""})]}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:De=>{De.stopPropagation(),ke(Ne.canvas_id),Ot(Ne.canvas_name||"")},className:"p-2 hover:bg-blue-100 rounded transition-colors",title:"Edit name",children:T.jsx(J3,{className:"w-4 h-4 text-blue-600"})}),T.jsx("button",{onClick:De=>{De.stopPropagation(),Ja(Ne.canvas_id,Ne.canvas_name)},className:"p-2 hover:bg-red-100 rounded transition-colors",title:"Delete canvas",children:T.jsx(s4,{className:"w-4 h-4 text-red-600"})})]})]})]},Ne.canvas_id))})})}),T.jsx("div",{className:"flex justify-end mt-6",children:T.jsx(Em,{asChild:!0,children:T.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})})]})]})]})}),T.jsx(Ql,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(RT,{}),"Export PDF"]})}),T.jsx(Om,{}),T.jsx(Ql,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:T.jsxs("div",{className:"flex items-center gap-2",onClick:()=>Te(!0),children:[T.jsx(MT,{}),T.jsx("span",{children:he?"Creating":"New Canvas"})]})}),T.jsx(Ql,{onSelect:Ne=>Ne.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:T.jsxs(_m,{children:[T.jsx(py,{asChild:!0,children:T.jsxs("button",{className:"flex items-center gap-2",children:[T.jsx(s4,{}),"Clear Canvas"]})}),T.jsxs(Sm,{children:[T.jsx(wm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),T.jsxs(xm,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] max-w-sm sm:max-w-md p-4 sm:p-6 rounded-lg z-101",children:[T.jsx(Cm,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),T.jsx(Tm,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),T.jsxs("div",{className:"flex justify-end gap-4",children:[T.jsx(Em,{asChild:!0,children:T.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),T.jsx(my,{asChild:!0,children:T.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:Ze,children:"Yes, clear canvas"})})]})]})]})]})}),T.jsx(Om,{className:"h-[2px] my-2 bg-gray-500"}),T.jsx(SH,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),T.jsx(wH,{value:ot,onValueChange:St,className:"py-1 pl-2 ",children:T.jsxs("div",{className:"flex flex-row gap-2 items-center justify-around",children:[T.jsx(Rm,{value:"#ffffff",className:"group",children:T.jsx("div",{className:"p-4 relative bg-white border-2 border-slate-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-slate-400"})}),T.jsxs(Rm,{value:"#fff7ed",className:"group",children:[T.jsx("div",{className:"p-4 bg-orange-50 border-orange-200 border-2 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-orange-400"}),T.jsx(Ey,{})]}),T.jsxs(Rm,{value:"#f5f3ff",className:"group",children:[T.jsx("div",{className:"p-4 bg-violet-50 border-2 border-indigo-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-violet-400"}),T.jsx(Ey,{})]}),T.jsxs(Rm,{value:"#f0fdfa",className:"group",children:[T.jsx("div",{className:"p-4 bg-teal-50 border-2 border-cyan-200 rounded-lg group-data-[state=checked]:ring-2 group-data-[state=checked]:ring-teal-400"}),T.jsx(Ey,{})]})]})})]})})]})}),T.jsx("div",{className:"tool-bar-tab absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:T.jsx(e3,{onShapeClick:()=>fn(null),onTodoClick:()=>mn(null,null),onTextClick:Wa,onEraserClick:Ge,onClearClick:Ze,onDrawClick:ce,onSelectClick:Pe,onColorSelect:H,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})}),T.jsxs("div",{className:"user-account",children:[T.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&T.jsx("div",{children:T.jsxs(_y,{children:[T.jsx(Sy,{asChild:!0,children:T.jsx("button",{children:T.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[T.jsx(m0,{className:"text-lg"}),T.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[T.jsx("span",{className:"text-xs",children:"Manage Account"}),T.jsx(CT,{className:"text-xs"})]})]})})}),T.jsx(wy,{children:T.jsxs(xy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[T.jsx("div",{children:Se?T.jsx("img",{src:Se,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):T.jsx(m0,{className:"text-3xl text-blue-500"})}),T.jsxs("div",{className:"flex flex-col items-center justify-center",children:[T.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name||e?.user.user_metadata.username}),T.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),T.jsx(Om,{className:"h-[2px] my-2 bg-gray-500"}),T.jsx(Ql,{onSelect:Ne=>Ne.preventDefault(),children:T.jsxs(_m,{children:[T.jsx(py,{asChild:!0,children:T.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[T.jsx(Z1,{}),T.jsx("span",{children:"Sign Out"})]})}),T.jsxs(Sm,{children:[T.jsx(wm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),T.jsxs(xm,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[T.jsx(Cm,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),T.jsx(Tm,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),T.jsxs("div",{className:"flex justify-end gap-4",children:[T.jsx(Em,{asChild:!0,children:T.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),T.jsx(my,{asChild:!0,children:T.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await We()},children:[T.jsx(Z1,{}),"Sign Out"]})})]})]})]})]})}),T.jsx(xH,{className:"fill-purple-100"})]})})]})}),he&&T.jsx("div",{children:T.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:T.jsxs("div",{role:"status",children:[T.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&T.jsx(PU,{title:"Sign In",onClick:async()=>{k("/signin")}}),!e&&T.jsx(LU,{title:"Create Account",onClick:()=>k("/create-acc")})]}),T.jsxs("div",{className:"account-mobile flex lg:hidden",children:[T.jsxs(_y,{children:[T.jsx(Sy,{asChild:!0,children:T.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:T.jsx(m0,{})})}),T.jsx(wy,{children:T.jsxs(xy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&T.jsxs("div",{children:[T.jsx(Ql,{children:T.jsxs("div",{onClick:async()=>{k("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[T.jsx(NT,{}),T.jsx("span",{children:"Sign In"})]})}),T.jsx(Ql,{children:T.jsxs("div",{onClick:()=>k("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[T.jsx(m0,{}),T.jsx("span",{children:"Create Account"})]})})]}),e&&T.jsxs("div",{children:[T.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[T.jsx("div",{className:"pb-2",children:Se?T.jsx("img",{src:Se,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):T.jsx(m0,{className:"text-2xl"})}),T.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[T.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),T.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),T.jsx(Om,{className:"h-px my-2 bg-gray-500"}),T.jsx(Ql,{children:T.jsxs("div",{onClick:async()=>{await We()},className:"inline-flex items-center justify-start gap-2 ",children:[T.jsx(Z1,{className:"text-sm font-semibold"}),T.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),he&&T.jsx("div",{children:T.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:T.jsxs("div",{role:"status",children:[T.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),T.jsx("div",{className:"absolute toolbar-mob flex sm:hidden z-100 w-full justify-center px-2 pb-4 bottom-0",children:T.jsx(e3,{onShapeClick:()=>fn(null),onTodoClick:()=>mn(null,null),onTextClick:Wa,onEraserClick:Ge,onClearClick:Ze,onDrawClick:ce,onSelectClick:Pe,onColorSelect:H,isActive:j==="eraser"||j==="draw",tool:j,setTool:z})}),T.jsx("div",{className:"account-buttons absolute flex flex-row top-1.5 right-0 gap-2 m-4 z-51"}),T.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 w-xs rounded-md shadow-md/15 shadow-gray-600"}),T.jsxs("div",{className:"absolute bottom-4 left-4  items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit hidden sm:inline-flex",children:[T.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-l-lg",onClick:()=>l(Math.max(i-10,10)),children:T.jsx(jT,{})}),T.jsxs("button",{onClick:()=>l(100),className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[i,"%",T.jsx("span",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),T.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-r-lg h-full",onClick:()=>l(Math.min(i+10,500)),children:T.jsx(DT,{})})]}),T.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:T.jsxs("button",{className:"absolute bottom-4 right-4 items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 hover:cursor-pointer group",children:[T.jsx(xT,{}),T.jsx("span",{className:"absolute right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"RectUp Form"})]})}),v&&T.jsx(qU,{parent:we,onUpdateTodo:ae,onAddTodo:Ha,onCloseForm:Nn,initialTodo:oe}),g&&T.jsx(HU,{onAddTask:ea,onUpdateTask:X,onCloseForm:Ba,initialData:Y}),T.jsx("div",{style:{background:ot},children:T.jsx(kU,{shapes:C,setShapes:R,tool:j,setTool:z,setZoomValue:l,zoom:i,connectors:O,addConnector:Bi,setConnectors:M,strokeColor:P,onShapeClick:fn,onAddTodo:mn,stageCoor:u,setStageCoor:d,isFormOpen:S})})]}),T.jsx("ul",{children:n.map(Ne=>T.jsx("li",{children:Ne.name},Ne.name))}),T.jsx(_m,{open:Ce,onOpenChange:Te,children:T.jsxs(Sm,{children:[T.jsx(wm,{className:"fixed bg-black opacity-50 inset-0 z-100"}),T.jsxs(xm,{className:"bg-white fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm sm:max-w-md lg:max-w-lg p-4 sm:p-5 rounded-lg z-101",children:[T.jsx(Cm,{className:"text-xl font-bold mb-2",children:"New Canvas"}),T.jsx(Tm,{className:"my-3 text-gray-700",children:"Enter a name for your new canvas."}),T.jsx("input",{autoFocus:!0,value:Ye,onChange:Ne=>be(Ne.target.value),placeholder:"Canvas name...",className:"w-full border border-gray-300 p-2 rounded-lg mb-4"}),T.jsxs("div",{className:"flex justify-end gap-4",children:[T.jsx(Em,{asChild:!0,children:T.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),T.jsx(my,{asChild:!0,children:T.jsx("button",{className:"bg-blue-200 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-500 hover:text-white",onClick:()=>{gr(Ye),be("")},children:"Create Canvas"})})]})]})]})})]})}const JH=O9([{path:"/",element:T.jsx(WH,{})},{path:"/signin",element:T.jsx(oM,{})},{path:"/create-acc",element:T.jsx(cM,{})}]);function eG({children:t}){const[e,n]=N.useState([]),[a,i]=N.useState([]);function l(g){n(m=>[...m,g]),i([])}function u(g,m){const v=e.at(-1);if(!v)return;let _,S=[];for(_=[...e],S=[];_.length>0;){const E=_.at(-1);if(!E)return;const C=E.before;if(E.action==="add")C.shape==="connector"?(g(O=>O.map(M=>M.shape==="todo"?{...M,parents:M.parents===C.to?"":M.parents}:M.shape!=="rect"?M:{...M,children:M.children.filter(j=>j!==C.from),parents:M.parents===C.to?"":M.parents})),m(O=>O.filter(M=>M.id!==C.id))):g(O=>O.filter(M=>M.id!==C.id));else if(E.action==="update"){if(C.shape==="connector")return;g(O=>O.map(M=>M.id===C.id?{...M,...C}:M))}else C.shape==="connector"?(m(O=>[...O,C]),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:"group-"+M.id===C.from?{...M,parents:C.to}:M.shape==="rect"&&"group-"+M.id===C.to?{...M,children:[...M.children,C.from]}:M))):g(O=>[...O,C]);S.push(E),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||!v.id||R.id!==v.id)break}n(_),i(E=>[...E,...S])}function d(g,m){const v=a.at(-1);if(!v)return;let _=[...a],S=[];for(S=[];_.length>0;){const E=_.at(-1);if(!E)break;const C=E.after;if(E.action==="add")C.shape==="connector"?(m(O=>[...O,C]),g(O=>O.map(M=>M.shape==="todo"?{...M,parents:"group-"+M.id===C.to?C.from:M.parents}:M.shape!=="rect"?M:{...M,children:"group-"+M.id===C.to?[...M.children,C.from]:M.children}))):g(O=>[...O,C]);else if(E.action==="update"){if(C.shape==="connector")return;g(O=>O.map(M=>M.id===C.id?{...M,...C}:M))}else E.action==="delete"&&(C.shape==="connector"?(m(O=>O.filter(M=>M.id!==C.id)),g(O=>O.map(M=>M.shape!=="rect"&&M.shape!=="todo"?M:M.shape==="rect"&&M.children.includes(C.to)?{...M,children:M.children.filter(j=>j!==C.to)}:M.parents===C.from?{...M,parents:""}:M))):g(O=>O.filter(M=>M.id!==C.id)));S.push(E),_=_.slice(0,-1);const R=_.at(-1);if(!R||!R.id||R.id!==v.id)break}i(_),n(E=>[...E,...S])}return T.jsx(g6.Provider,{value:{undoStack:e,redoStack:a,pushUndo:l,undo:u,redo:d},children:t})}a3.createRoot(document.getElementById("root")).render(T.jsx(VU,{children:T.jsx(eG,{children:T.jsx(q9,{router:JH})})}));
