function rx(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in t)){const l=Object.getOwnPropertyDescriptor(a,r);l&&Object.defineProperty(t,r,l.get?l:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function $m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){var r=!1;try{r=this instanceof a}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var r=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return t[a]}})}),n}var f1={exports:{}},c0={};var Ub;function lx(){if(Ub)return c0;Ub=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:t,type:a,key:c,ref:r!==void 0?r:null,props:l}}return c0.Fragment=e,c0.jsx=n,c0.jsxs=n,c0}var Lb;function ox(){return Lb||(Lb=1,f1.exports=lx()),f1.exports}var A=ox(),d1={exports:{}},Mt={};var kb;function ux(){if(kb)return Mt;kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(H,J,ve){this.props=H,this.context=J,this.refs=R,this.updater=ve||E}O.prototype.isReactComponent={},O.prototype.setState=function(H,J){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,J,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=O.prototype;function N(H,J,ve){this.props=H,this.context=J,this.refs=R,this.updater=ve||E}var z=N.prototype=new j;z.constructor=N,T(z,O.prototype),z.isPureReactComponent=!0;var B=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function K(H,J,ve,Se,He,it){return ve=it.ref,{$$typeof:t,type:H,key:J,ref:ve!==void 0?ve:null,props:it}}function $(H,J){return K(H.type,J,void 0,void 0,void 0,H.props)}function oe(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function be(H){var J={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return J[ve]})}var Re=/\/+/g;function pe(H,J){return typeof H=="object"&&H!==null&&H.key!=null?be(""+H.key):J.toString(36)}function ye(){}function me(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(ye,ye):(H.status="pending",H.then(function(J){H.status==="pending"&&(H.status="fulfilled",H.value=J)},function(J){H.status==="pending"&&(H.status="rejected",H.reason=J)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function _e(H,J,ve,Se,He){var it=typeof H;(it==="undefined"||it==="boolean")&&(H=null);var Ye=!1;if(H===null)Ye=!0;else switch(it){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(H.$$typeof){case t:case e:Ye=!0;break;case v:return Ye=H._init,_e(Ye(H._payload),J,ve,Se,He)}}if(Ye)return He=He(H),Ye=Se===""?"."+pe(H,0):Se,B(He)?(ve="",Ye!=null&&(ve=Ye.replace(Re,"$&/")+"/"),_e(He,J,ve,"",function(gt){return gt})):He!=null&&(oe(He)&&(He=$(He,ve+(He.key==null||H&&H.key===He.key?"":(""+He.key).replace(Re,"$&/")+"/")+Ye)),J.push(He)),1;Ye=0;var lt=Se===""?".":Se+":";if(B(H))for(var Me=0;Me<H.length;Me++)Se=H[Me],it=lt+pe(Se,Me),Ye+=_e(Se,J,ve,it,He);else if(Me=S(H),typeof Me=="function")for(H=Me.call(H),Me=0;!(Se=H.next()).done;)Se=Se.value,it=lt+pe(Se,Me++),Ye+=_e(Se,J,ve,it,He);else if(it==="object"){if(typeof H.then=="function")return _e(me(H),J,ve,Se,He);throw J=String(H),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function L(H,J,ve){if(H==null)return H;var Se=[],He=0;return _e(H,Se,"","",function(it){return J.call(ve,it,He++)}),Se}function Q(H){if(H._status===-1){var J=H._result;J=J(),J.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=J)}if(H._status===1)return H._result.default;throw H._result}var X=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function se(){}return Mt.Children={map:L,forEach:function(H,J,ve){L(H,function(){J.apply(this,arguments)},ve)},count:function(H){var J=0;return L(H,function(){J++}),J},toArray:function(H){return L(H,function(J){return J})||[]},only:function(H){if(!oe(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Mt.Component=O,Mt.Fragment=n,Mt.Profiler=r,Mt.PureComponent=N,Mt.StrictMode=a,Mt.Suspense=g,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return G.H.useMemoCache(H)}},Mt.cache=function(H){return function(){return H.apply(null,arguments)}},Mt.cloneElement=function(H,J,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Se=T({},H.props),He=H.key,it=void 0;if(J!=null)for(Ye in J.ref!==void 0&&(it=void 0),J.key!==void 0&&(He=""+J.key),J)!k.call(J,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&J.ref===void 0||(Se[Ye]=J[Ye]);var Ye=arguments.length-2;if(Ye===1)Se.children=ve;else if(1<Ye){for(var lt=Array(Ye),Me=0;Me<Ye;Me++)lt[Me]=arguments[Me+2];Se.children=lt}return K(H.type,He,void 0,void 0,it,Se)},Mt.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Mt.createElement=function(H,J,ve){var Se,He={},it=null;if(J!=null)for(Se in J.key!==void 0&&(it=""+J.key),J)k.call(J,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(He[Se]=J[Se]);var Ye=arguments.length-2;if(Ye===1)He.children=ve;else if(1<Ye){for(var lt=Array(Ye),Me=0;Me<Ye;Me++)lt[Me]=arguments[Me+2];He.children=lt}if(H&&H.defaultProps)for(Se in Ye=H.defaultProps,Ye)He[Se]===void 0&&(He[Se]=Ye[Se]);return K(H,it,void 0,void 0,null,He)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(H){return{$$typeof:d,render:H}},Mt.isValidElement=oe,Mt.lazy=function(H){return{$$typeof:v,_payload:{_status:-1,_result:H},_init:Q}},Mt.memo=function(H,J){return{$$typeof:m,type:H,compare:J===void 0?null:J}},Mt.startTransition=function(H){var J=G.T,ve={};G.T=ve;try{var Se=H(),He=G.S;He!==null&&He(ve,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(se,X)}catch(it){X(it)}finally{G.T=J}},Mt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Mt.use=function(H){return G.H.use(H)},Mt.useActionState=function(H,J,ve){return G.H.useActionState(H,J,ve)},Mt.useCallback=function(H,J){return G.H.useCallback(H,J)},Mt.useContext=function(H){return G.H.useContext(H)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(H,J){return G.H.useDeferredValue(H,J)},Mt.useEffect=function(H,J,ve){var Se=G.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(H,J)},Mt.useId=function(){return G.H.useId()},Mt.useImperativeHandle=function(H,J,ve){return G.H.useImperativeHandle(H,J,ve)},Mt.useInsertionEffect=function(H,J){return G.H.useInsertionEffect(H,J)},Mt.useLayoutEffect=function(H,J){return G.H.useLayoutEffect(H,J)},Mt.useMemo=function(H,J){return G.H.useMemo(H,J)},Mt.useOptimistic=function(H,J){return G.H.useOptimistic(H,J)},Mt.useReducer=function(H,J,ve){return G.H.useReducer(H,J,ve)},Mt.useRef=function(H){return G.H.useRef(H)},Mt.useState=function(H){return G.H.useState(H)},Mt.useSyncExternalStore=function(H,J,ve){return G.H.useSyncExternalStore(H,J,ve)},Mt.useTransition=function(){return G.H.useTransition()},Mt.version="19.1.1",Mt}var Pb;function Jm(){return Pb||(Pb=1,d1.exports=ux()),d1.exports}var M=Jm();const nt=$m(M),Y5=rx({__proto__:null,default:nt},[M]);var h1={exports:{}},f0={},g1={exports:{}},p1={};var Bb;function cx(){return Bb||(Bb=1,(function(t){function e(L,Q){var X=L.length;L.push(Q);e:for(;0<X;){var se=X-1>>>1,H=L[se];if(0<r(H,Q))L[se]=Q,L[X]=H,X=se;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var Q=L[0],X=L.pop();if(X!==Q){L[0]=X;e:for(var se=0,H=L.length,J=H>>>1;se<J;){var ve=2*(se+1)-1,Se=L[ve],He=ve+1,it=L[He];if(0>r(Se,X))He<H&&0>r(it,Se)?(L[se]=it,L[He]=X,se=He):(L[se]=Se,L[ve]=X,se=ve);else if(He<H&&0>r(it,X))L[se]=it,L[He]=X,se=He;else break e}}return Q}function r(L,Q){var X=L.sortIndex-Q.sortIndex;return X!==0?X:L.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var g=[],m=[],v=1,_=null,S=3,E=!1,T=!1,R=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function B(L){for(var Q=n(m);Q!==null;){if(Q.callback===null)a(m);else if(Q.startTime<=L)a(m),Q.sortIndex=Q.expirationTime,e(g,Q);else break;Q=n(m)}}function G(L){if(R=!1,B(L),!T)if(n(g)!==null)T=!0,k||(k=!0,pe());else{var Q=n(m);Q!==null&&_e(G,Q.startTime-L)}}var k=!1,K=-1,$=5,oe=-1;function be(){return O?!0:!(t.unstable_now()-oe<$)}function Re(){if(O=!1,k){var L=t.unstable_now();oe=L;var Q=!0;try{e:{T=!1,R&&(R=!1,N(K),K=-1),E=!0;var X=S;try{t:{for(B(L),_=n(g);_!==null&&!(_.expirationTime>L&&be());){var se=_.callback;if(typeof se=="function"){_.callback=null,S=_.priorityLevel;var H=se(_.expirationTime<=L);if(L=t.unstable_now(),typeof H=="function"){_.callback=H,B(L),Q=!0;break t}_===n(g)&&a(g),B(L)}else a(g);_=n(g)}if(_!==null)Q=!0;else{var J=n(m);J!==null&&_e(G,J.startTime-L),Q=!1}}break e}finally{_=null,S=X,E=!1}Q=void 0}}finally{Q?pe():k=!1}}}var pe;if(typeof z=="function")pe=function(){z(Re)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,me=ye.port2;ye.port1.onmessage=Re,pe=function(){me.postMessage(null)}}else pe=function(){j(Re,0)};function _e(L,Q){K=j(function(){L(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(L){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var X=S;S=Q;try{return L()}finally{S=X}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=S;S=L;try{return Q()}finally{S=X}},t.unstable_scheduleCallback=function(L,Q,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=X+H,L={id:v++,callback:Q,priorityLevel:L,startTime:X,expirationTime:H,sortIndex:-1},X>se?(L.sortIndex=X,e(m,L),n(g)===null&&L===n(m)&&(R?(N(K),K=-1):R=!0,_e(G,X-se))):(L.sortIndex=H,e(g,L),T||E||(T=!0,k||(k=!0,pe()))),L},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(L){var Q=S;return function(){var X=S;S=Q;try{return L.apply(this,arguments)}finally{S=X}}}})(p1)),p1}var Hb;function Fy(){return Hb||(Hb=1,g1.exports=cx()),g1.exports}var m1={exports:{}},ni={};var Gb;function fx(){if(Gb)return ni;Gb=1;var t=Jm();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ni.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,v)},ni.flushSync=function(g){var m=c.T,v=a.p;try{if(c.T=null,a.p=2,g)return g()}finally{c.T=m,a.p=v,a.d.f()}},ni.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},ni.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},ni.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ni.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},ni.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ni.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},ni.requestFormReset=function(g){a.d.r(g)},ni.unstable_batchedUpdates=function(g,m){return g(m)},ni.useFormState=function(g,m,v){return c.H.useFormState(g,m,v)},ni.useFormStatus=function(){return c.H.useHostTransitionStatus()},ni.version="19.1.1",ni}var qb;function Z5(){if(qb)return m1.exports;qb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m1.exports=fx(),m1.exports}var Vb;function dx(){if(Vb)return f0;Vb=1;var t=Fy(),e=Jm(),n=Z5();function a(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,f=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(f=s.return),i=s.return;while(i)}return s.tag===3?f:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(a(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(a(188));return s!==i?null:i}for(var f=i,h=s;;){var y=f.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){f=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===f)return d(y),i;if(w===h)return d(y),s;w=w.sibling}throw Error(a(188))}if(f.return!==h.return)f=y,h=w;else{for(var D=!1,U=y.child;U;){if(U===f){D=!0,f=y,h=w;break}if(U===h){D=!0,h=y,f=w;break}U=U.sibling}if(!D){for(U=w.child;U;){if(U===f){D=!0,f=w,h=y;break}if(U===h){D=!0,h=w,f=y;break}U=U.sibling}if(!D)throw Error(a(189))}}if(f.alternate!==h)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=Re&&i[Re]||i["@@iterator"],typeof i=="function"?i:null)}var ye=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ye?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case k:return"SuspenseList";case oe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case z:return(i.displayName||"Context")+".Provider";case N:return(i._context.displayName||"Context")+".Consumer";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:me(i.type)||"Memo";case $:s=i._payload,i=i._init;try{return me(i(s))}catch{}}return null}var _e=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},se=[],H=-1;function J(i){return{current:i}}function ve(i){0>H||(i.current=se[H],se[H]=null,H--)}function Se(i,s){H++,se[H]=i.current,i.current=s}var He=J(null),it=J(null),Ye=J(null),lt=J(null);function Me(i,s){switch(Se(Ye,s),Se(it,i),Se(He,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?ub(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=ub(s),i=cb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ve(He),Se(He,i)}function gt(){ve(He),ve(it),ve(Ye)}function ot(i){i.memoizedState!==null&&Se(lt,i);var s=He.current,f=cb(s,i.type);s!==f&&(Se(it,i),Se(He,f))}function un(i){it.current===i&&(ve(He),ve(it)),lt.current===i&&(ve(lt),r0._currentValue=X)}var bi=Object.prototype.hasOwnProperty,ga=t.unstable_scheduleCallback,Ha=t.unstable_cancelCallback,ai=t.unstable_shouldYield,ii=t.unstable_requestPaint,ia=t.unstable_now,oo=t.unstable_getCurrentPriorityLevel,ki=t.unstable_ImmediatePriority,I=t.unstable_UserBlockingPriority,ie=t.unstable_NormalPriority,de=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,Le=t.log,Ne=t.unstable_setDisableYieldValue,qe=null,Fe=null;function _t(i){if(typeof Le=="function"&&Ne(i),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(qe,i)}catch{}}var tn=Math.clz32?Math.clz32:Ga,Pi=Math.log,ri=Math.LN2;function Ga(i){return i>>>=0,i===0?32:31-(Pi(i)/ri|0)|0}var _i=256,Bi=4194304;function qa(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ur(i,s,f){var h=i.pendingLanes;if(h===0)return 0;var y=0,w=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var U=h&134217727;return U!==0?(h=U&~w,h!==0?y=qa(h):(D&=U,D!==0?y=qa(D):f||(f=U&~i,f!==0&&(y=qa(f))))):(U=h&~w,U!==0?y=qa(U):D!==0?y=qa(D):f||(f=h&~i,f!==0&&(y=qa(f)))),y===0?0:s!==0&&s!==y&&(s&w)===0&&(w=y&-y,f=s&-s,w>=f||w===32&&(f&4194048)!==0)?s:y}function Hi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Lr(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var i=_i;return _i<<=1,(_i&4194048)===0&&(_i=256),i}function kr(){var i=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),i}function uo(i){for(var s=[],f=0;31>f;f++)s.push(i);return s}function Gi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kc(i,s,f,h,y,w){var D=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var U=i.entanglements,V=i.expirationTimes,ue=i.hiddenUpdates;for(f=D&~f;0<f;){var we=31-tn(f),Ee=1<<we;U[we]=0,V[we]=-1;var fe=ue[we];if(fe!==null)for(ue[we]=null,we=0;we<fe.length;we++){var he=fe[we];he!==null&&(he.lane&=-536870913)}f&=~Ee}h!==0&&ys(i,h,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(D&~s))}function ys(i,s,f){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-tn(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|f&4194090}function bs(i,s){var f=i.entangledLanes|=s;for(i=i.entanglements;f;){var h=31-tn(f),y=1<<h;y&s|i[h]&s&&(i[h]|=s),f&=~y}}function Pr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function co(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hl(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:Ob(i.type))}function Z(i,s){var f=Q.p;try{return Q.p=i,s()}finally{Q.p=f}}var te=Math.random().toString(36).slice(2),le="__reactFiber$"+te,Ce="__reactProps$"+te,ze="__reactContainer$"+te,Qe="__reactEvents$"+te,et="__reactListeners$"+te,Ze="__reactHandles$"+te,Ie="__reactResources$"+te,tt="__reactMarker$"+te;function We(i){delete i[le],delete i[Ce],delete i[Qe],delete i[et],delete i[Ze]}function Ke(i){var s=i[le];if(s)return s;for(var f=i.parentNode;f;){if(s=f[ze]||f[le]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(i=gb(i);i!==null;){if(f=i[le])return f;i=gb(i)}return s}i=f,f=i.parentNode}return null}function yt(i){if(i=i[le]||i[ze]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ft(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(a(33))}function dn(i){var s=i[Ie];return s||(s=i[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(i){i[tt]=!0}var rn=new Set,Wt={};function kt(i,s){Va(i,s),Va(i+"Capture",s)}function Va(i,s){for(Wt[i]=s,i=0;i<s.length;i++)rn.add(s[i])}var Si=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ya={},gl={};function pl(i){return bi.call(gl,i)?!0:bi.call(Ya,i)?!1:Si.test(i)?gl[i]=!0:(Ya[i]=!0,!1)}function Za(i,s,f){if(pl(s))if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+f)}}function qi(i,s,f){if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+f)}}function pa(i,s,f,h){if(h===null)i.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(s,f,""+h)}}var ut,Dt;function Oa(i){if(ut===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);ut=s&&s[1]||"",Dt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+i+Dt}var Ma=!1;function hn(i,s){if(!i||Ma)return"";Ma=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(he){var fe=he}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(he){fe=he}i.call(Ee.prototype)}}else{try{throw Error()}catch(he){fe=he}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),D=w[0],U=w[1];if(D&&U){var V=D.split(`
`),ue=U.split(`
`);for(y=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(h===V.length||y===ue.length)for(h=V.length-1,y=ue.length-1;1<=h&&0<=y&&V[h]!==ue[y];)y--;for(;1<=h&&0<=y;h--,y--)if(V[h]!==ue[y]){if(h!==1||y!==1)do if(h--,y--,0>y||V[h]!==ue[y]){var we=`
`+V[h].replace(" at new "," at ");return i.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",i.displayName)),we}while(1<=h&&0<=y);break}}}finally{Ma=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Oa(f):""}function _s(i){switch(i.tag){case 26:case 27:case 5:return Oa(i.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 15:return hn(i.type,!1);case 11:return hn(i.type.render,!1);case 1:return hn(i.type,!0);case 31:return Oa("Activity");default:return""}}function si(i){try{var s="";do s+=_s(i),i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ra(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ic(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yd(i){var s=Ic(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,w=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(D){h=""+D,w.call(this,D)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Cu(i){i._valueTracker||(i._valueTracker=Yd(i))}function Zd(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var f=s.getValue(),h="";return i&&(h=Ic(i)?i.checked?"true":"false":i.value),i=h,i!==f?(s.setValue(i),!0):!1}function Tu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fg=/[\n"\\]/g;function li(i){return i.replace(fg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xc(i,s,f,h,y,w,D,U){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),s!=null?D==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ra(s)):i.value!==""+ra(s)&&(i.value=""+ra(s)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),s!=null?Qc(i,D,ra(s)):f!=null?Qc(i,D,ra(f)):h!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+ra(U):i.removeAttribute("name")}function Fc(i,s,f,h,y,w,D,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),s!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||s!=null))return;f=f!=null?""+ra(f):"",s=s!=null?""+ra(s):f,U||s===i.value||(i.value=s),i.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=U?i.checked:!!h,i.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function Qc(i,s,f){s==="number"&&Tu(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function fo(i,s,f,h){if(i=i.options,s){s={};for(var y=0;y<f.length;y++)s["$"+f[y]]=!0;for(f=0;f<i.length;f++)y=s.hasOwnProperty("$"+i[f].value),i[f].selected!==y&&(i[f].selected=y),y&&h&&(i[f].defaultSelected=!0)}else{for(f=""+ra(f),s=null,y=0;y<i.length;y++){if(i[y].value===f){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function Kd(i,s,f){if(s!=null&&(s=""+ra(s),s!==i.value&&(i.value=s),f==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=f!=null?""+ra(f):""}function Id(i,s,f,h){if(s==null){if(h!=null){if(f!=null)throw Error(a(92));if(_e(h)){if(1<h.length)throw Error(a(93));h=h[0]}f=h}f==null&&(f=""),s=f}f=ra(s),i.defaultValue=f,h=i.textContent,h===f&&h!==""&&h!==null&&(i.value=h)}function ml(i,s){if(s){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=s;return}}i.textContent=s}var Xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(i,s,f){var h=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,f):typeof f!="number"||f===0||Xd.has(s)?s==="float"?i.cssFloat=f:i[s]=(""+f).trim():i[s]=f+"px"}function Qd(i,s,f){if(s!=null&&typeof s!="object")throw Error(a(62));if(i=i.style,f!=null){for(var h in f)!f.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&f[y]!==h&&Fd(i,y,h)}else for(var w in s)s.hasOwnProperty(w)&&Fd(i,w,s[w])}function $c(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(i){return hg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wc=null;function Ss(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Br=null,vl=null;function Au(i){var s=yt(i);if(s&&(i=s.stateNode)){var f=i[Ce]||null;e:switch(i=s.stateNode,s.type){case"input":if(Xc(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+li(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var h=f[s];if(h!==i&&h.form===i.form){var y=h[Ce]||null;if(!y)throw Error(a(90));Xc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<f.length;s++)h=f[s],h.form===i.form&&Zd(h)}break e;case"textarea":Kd(i,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&fo(i,!!f.multiple,s,!1)}}}var yl=!1;function $d(i,s,f){if(yl)return i(s,f);yl=!0;try{var h=i(s);return h}finally{if(yl=!1,(Br!==null||vl!==null)&&(Qs(),Br&&(s=Br,i=vl,vl=Br=null,Au(s),i)))for(s=0;s<i.length;s++)Au(i[s])}}function ho(i,s){var f=i.stateNode;if(f===null)return null;var h=f[Ce]||null;if(h===null)return null;f=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=!1;if(rr)try{var go={};Object.defineProperty(go,"passive",{get:function(){ef=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{ef=!1}var Hr=null,Ru=null,Ou=null;function Jd(){if(Ou)return Ou;var i,s=Ru,f=s.length,h,y="value"in Hr?Hr.value:Hr.textContent,w=y.length;for(i=0;i<f&&s[i]===y[i];i++);var D=f-i;for(h=1;h<=D&&s[f-h]===y[w-h];h++);return Ou=y.slice(i,1<h?1-h:void 0)}function po(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Mu(){return!0}function Wd(){return!1}function Da(i){function s(f,h,y,w,D){this._reactName=f,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(f=i[U],this[U]=f?f(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Mu:Wd,this.isPropagationStopped=Wd,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),s}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Da(Gr),mo=v({},Gr,{view:0,detail:0}),Ov=Da(mo),eh,tf,qr,vo=v({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qr&&(qr&&i.type==="mousemove"?(eh=i.screenX-qr.screenX,tf=i.screenY-qr.screenY):tf=eh=0,qr=i),eh)},movementY:function(i){return"movementY"in i?i.movementY:tf}}),Nu=Da(vo),gg=v({},vo,{dataTransfer:0}),pg=Da(gg),nf=v({},mo,{relatedTarget:0}),bl=Da(nf),af=v({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),mg=Da(af),vg=v({},Gr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ws=Da(vg),yg=v({},Gr,{data:0}),Vr=Da(yg),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bg(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=th[i])?!!s[i]:!1}function sf(){return bg}var _l=v({},mo,{key:function(i){if(i.key){var s=Yr[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(i){return i.type==="keypress"?po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lf=Da(_l),_g=v({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Da(_g),Sg=v({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),wg=Da(Sg),Mv=v({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sa=Da(Mv),xg=v({},vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Eg=Da(xg),Cg=v({},Gr,{newState:0,oldState:0}),Tg=Da(Cg),Ag=[9,13,27,32],yo=rr&&"CompositionEvent"in window,Sl=null;rr&&"documentMode"in document&&(Sl=document.documentMode);var Rg=rr&&"TextEvent"in window&&!Sl,nh=rr&&(!yo||Sl&&8<Sl&&11>=Sl),ah=" ",uf=!1;function cf(i,s){switch(i){case"keyup":return Ag.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xs=!1;function ff(i,s){switch(i){case"compositionend":return ih(s);case"keypress":return s.which!==32?null:(uf=!0,ah);case"textInput":return i=s.data,i===ah&&uf?null:i;default:return null}}function rh(i,s){if(xs)return i==="compositionend"||!yo&&cf(i,s)?(i=Jd(),Ou=Ru=Hr=null,xs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nh&&s.locale!=="ko"?null:s.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Og[i.type]:s==="textarea"}function sh(i,s,f,h){Br?vl?vl.push(h):vl=[h]:Br=h,s=Tp(s,"onChange"),0<s.length&&(f=new Du("onChange","change",null,f,h),i.push({event:f,listeners:s}))}var oi=null,wl=null;function Dv(i){ib(i,0)}function ju(i){var s=Ft(i);if(Zd(s))return i}function Ka(i,s){if(i==="change")return s}var lh=!1;if(rr){var zu;if(rr){var hf="oninput"in document;if(!hf){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),hf=typeof oh.oninput=="function"}zu=hf}else zu=!1;lh=zu&&(!document.documentMode||9<document.documentMode)}function gf(){oi&&(oi.detachEvent("onpropertychange",pf),wl=oi=null)}function pf(i){if(i.propertyName==="value"&&ju(wl)){var s=[];sh(s,wl,i,Ss(i)),$d(Dv,s)}}function Mg(i,s,f){i==="focusin"?(gf(),oi=s,wl=f,oi.attachEvent("onpropertychange",pf)):i==="focusout"&&gf()}function mf(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ju(wl)}function Uu(i,s){if(i==="click")return ju(s)}function Rn(i,s){if(i==="input"||i==="change")return ju(s)}function Nv(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ui=typeof Object.is=="function"?Object.is:Nv;function bo(i,s){if(ui(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var f=Object.keys(i),h=Object.keys(s);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var y=f[h];if(!bi.call(s,y)||!ui(i[y],s[y]))return!1}return!0}function _o(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zr(i,s){var f=_o(i);i=0;for(var h;f;){if(f.nodeType===3){if(h=i+f.textContent.length,i<=s&&h>=s)return{node:f,offset:s-i};i=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=_o(f)}}function uh(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?uh(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ch(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Tu(i.document);s instanceof i.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)i=s.contentWindow;else break;s=Tu(i.document)}return s}function xl(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var sr=rr&&"documentMode"in document&&11>=document.documentMode,El=null,Lu=null,So=null,ku=!1;function vf(i,s,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ku||El==null||El!==Tu(h)||(h=El,"selectionStart"in h&&xl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),So&&bo(So,h)||(So=h,h=Tp(Lu,"onSelect"),0<h.length&&(s=new Du("onSelect","select",null,s,f),i.push({event:s,listeners:h}),s.target=El)))}function lr(i,s){var f={};return f[i.toLowerCase()]=s.toLowerCase(),f["Webkit"+i]="webkit"+s,f["Moz"+i]="moz"+s,f}var Cl={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},yf={},Dg={};rr&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Es(i){if(yf[i])return yf[i];if(!Cl[i])return i;var s=Cl[i],f;for(f in s)if(s.hasOwnProperty(f)&&f in Dg)return yf[i]=s[f];return i}var fh=Es("animationend"),wi=Es("animationiteration"),bf=Es("animationstart"),Ng=Es("transitionrun"),jv=Es("transitionstart"),dh=Es("transitioncancel"),ma=Es("transitionend"),hh=new Map,va="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");va.push("scrollEnd");function xi(i,s){hh.set(i,s),kt(s,[i])}var Kr=new WeakMap;function Fn(i,s){if(typeof i=="object"&&i!==null){var f=Kr.get(i);return f!==void 0?f:(s={value:i,source:s,stack:si(s)},Kr.set(i,s),s)}return{value:i,source:s,stack:si(s)}}var Yn=[],Cs=0,Pu=0;function ci(){for(var i=Cs,s=Pu=Cs=0;s<i;){var f=Yn[s];Yn[s++]=null;var h=Yn[s];Yn[s++]=null;var y=Yn[s];Yn[s++]=null;var w=Yn[s];if(Yn[s++]=null,h!==null&&y!==null){var D=h.pending;D===null?y.next=y:(y.next=D.next,D.next=y),h.pending=y}w!==0&&As(f,y,w)}}function Bu(i,s,f,h){Yn[Cs++]=i,Yn[Cs++]=s,Yn[Cs++]=f,Yn[Cs++]=h,Pu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Ts(i,s,f,h){return Bu(i,s,f,h),Hu(i)}function or(i,s){return Bu(i,null,null,s),Hu(i)}function As(i,s,f){i.lanes|=f;var h=i.alternate;h!==null&&(h.lanes|=f);for(var y=!1,w=i.return;w!==null;)w.childLanes|=f,h=w.alternate,h!==null&&(h.childLanes|=f),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&s!==null&&(y=31-tn(f),i=w.hiddenUpdates,h=i[y],h===null?i[y]=[s]:h.push(s),s.lane=f|536870912),w):null}function Hu(i){if(50<Er)throw Er=0,yc=null,Error(a(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Tl={};function Gu(i,s,f,h){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(i,s,f,h){return new Gu(i,s,f,h)}function wo(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ur(i,s){var f=i.alternate;return f===null?(f=Ia(i.tag,s,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=s,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,s=i.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function _f(i,s){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,s=f.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function xo(i,s,f,h,y,w){var D=0;if(h=i,typeof i=="function")wo(i)&&(D=1);else if(typeof i=="string")D=Kw(i,f,He.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case oe:return i=Ia(31,f,s,y),i.elementType=oe,i.lanes=w,i;case T:return Ir(f.children,y,w,s);case R:D=8,y|=24;break;case O:return i=Ia(12,f,s,y|2),i.elementType=O,i.lanes=w,i;case G:return i=Ia(13,f,s,y),i.elementType=G,i.lanes=w,i;case k:return i=Ia(19,f,s,y),i.elementType=k,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case z:D=10;break e;case N:D=9;break e;case B:D=11;break e;case K:D=14;break e;case $:D=16,h=null;break e}D=29,f=Error(a(130,i===null?"null":typeof i,"")),h=null}return s=Ia(D,f,s,y),s.elementType=i,s.type=h,s.lanes=w,s}function Ir(i,s,f,h){return i=Ia(7,i,h,s),i.lanes=f,i}function Sf(i,s,f){return i=Ia(6,i,null,s),i.lanes=f,i}function qu(i,s,f){return s=Ia(4,i.children!==null?i.children:[],i.key,s),s.lanes=f,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Qn=[],Al=0,ya=null,Vu=0,fi=[],Ei=0,Xa=null,cr=1,Vi="";function Ci(i,s){Qn[Al++]=Vu,Qn[Al++]=ya,ya=i,Vu=s}function gh(i,s,f){fi[Ei++]=cr,fi[Ei++]=Vi,fi[Ei++]=Xa,Xa=i;var h=cr;i=Vi;var y=32-tn(h)-1;h&=~(1<<y),f+=1;var w=32-tn(s)+y;if(30<w){var D=y-y%5;w=(h&(1<<D)-1).toString(32),h>>=D,y-=D,cr=1<<32-tn(s)+y|f<<y|h,Vi=w+i}else cr=1<<w|f<<y|h,Vi=i}function wf(i){i.return!==null&&(Ci(i,1),gh(i,1,0))}function xf(i){for(;i===ya;)ya=Qn[--Al],Qn[Al]=null,Vu=Qn[--Al],Qn[Al]=null;for(;i===Xa;)Xa=fi[--Ei],fi[Ei]=null,Vi=fi[--Ei],fi[Ei]=null,cr=fi[--Ei],fi[Ei]=null}var ba=null,xn=null,Vt=!1,Rl=null,fr=!1,ph=Error(a(519));function Rs(i){var s=Error(a(418,""));throw Co(Fn(s,i)),ph}function mh(i){var s=i.stateNode,f=i.type,h=i.memoizedProps;switch(s[le]=i,s[Ce]=h,f){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(f=0;f<Wh.length;f++)Ht(Wh[f],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),Fc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Cu(s);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),Id(s,h.value,h.defaultValue,h.children),Cu(s)}f=h.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||h.suppressHydrationWarning===!0||ob(s.textContent,f)?(h.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),h.onScroll!=null&&Ht("scroll",s),h.onScrollEnd!=null&&Ht("scrollend",s),h.onClick!=null&&(s.onclick=Ap),s=!0):s=!1,s||Rs(i)}function Ol(i){for(ba=i.return;ba;)switch(ba.tag){case 5:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:ba=ba.return}}function Os(i){if(i!==ba)return!1;if(!Vt)return Ol(i),Vt=!0,!1;var s=i.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||$v(i.type,i.memoizedProps)),f=!f),f&&xn&&Rs(i),Ol(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(f=i.data,f==="/$"){if(s===0){xn=os(i.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++;i=i.nextSibling}xn=null}}else s===27?(s=xn,Xo(i.type)?(i=t1,t1=null,xn=i):xn=s):xn=ba?os(i.stateNode.nextSibling):null;return!0}function Eo(){xn=ba=null,Vt=!1}function vh(){var i=Rl;return i!==null&&(ua===null?ua=i:ua.push.apply(ua,i),Rl=null),i}function Co(i){Rl===null?Rl=[i]:Rl.push(i)}var Ef=J(null),Ms=null,dr=null;function Ti(i,s,f){Se(Ef,s._currentValue),s._currentValue=f}function hr(i){i._currentValue=Ef.current,ve(Ef)}function Cf(i,s,f){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===f)break;i=i.return}}function Qt(i,s,f,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var D=y.child;w=w.firstContext;e:for(;w!==null;){var U=w;w=y;for(var V=0;V<s.length;V++)if(U.context===s[V]){w.lanes|=f,U=w.alternate,U!==null&&(U.lanes|=f),Cf(w.return,f,i),h||(D=null);break e}w=U.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(a(341));D.lanes|=f,w=D.alternate,w!==null&&(w.lanes|=f),Cf(D,f,i),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===i){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function Ml(i,s,f,h){i=null;for(var y=s,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var U=y.type;ui(y.pendingProps.value,D.value)||(i!==null?i.push(U):i=[U])}}else if(y===lt.current){if(D=y.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(r0):i=[r0])}y=y.return}i!==null&&Qt(s,i,f,h),s.flags|=262144}function Tf(i){for(i=i.firstContext;i!==null;){if(!ui(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ds(i){Ms=i,dr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _a(i){return jg(Ms,i)}function Af(i,s){return Ms===null&&Ds(i),jg(i,s)}function jg(i,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},dr===null){if(i===null)throw Error(a(308));dr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else dr=dr.next=s;return f}var zv=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(f,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(f){return f()})}},yh=t.unstable_scheduleCallback,Xr=t.unstable_NormalPriority,Pn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function To(){return{controller:new zv,data:new Map,refCount:0}}function Yi(i){i.refCount--,i.refCount===0&&yh(Xr,function(){i.controller.abort()})}var Dl=null,Yu=0,Ao=0,Nl=null;function zg(i,s){if(Dl===null){var f=Dl=[];Yu=0,Ao=qv(),Nl={status:"pending",value:void 0,then:function(h){f.push(h)}}}return Yu++,s.then(bh,bh),s}function bh(){if(--Yu===0&&Dl!==null){Nl!==null&&(Nl.status="fulfilled");var i=Dl;Dl=null,Ao=0,Nl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Ug(i,s){var f=[],h={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<f.length;y++)(0,f[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),h}var _h=L.S;L.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&zg(i,s),_h!==null&&_h(i,s)};var Fr=J(null);function Tt(){var i=Fr.current;return i!==null?i:on.pooledCache}function Rf(i,s){s===null?Se(Fr,Fr.current):Se(Fr,s.pool)}function Fa(){var i=Tt();return i===null?null:{parent:Pn._currentValue,pool:i}}var jl=Error(a(460)),Lg=Error(a(474)),zl=Error(a(542)),Ns={then:function(){}};function Ul(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Zu(){}function Of(i,s,f){switch(f=i[f],f===void 0?i.push(s):f!==s&&(s.then(Zu,Zu),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qr(i),i;default:if(typeof s.status=="string")s.then(Zu,Zu);else{if(i=on,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qr(i),i}throw Ku=s,jl}}var Ku=null;function Sh(){if(Ku===null)throw Error(a(459));var i=Ku;return Ku=null,i}function Qr(i){if(i===jl||i===zl)throw Error(a(483))}var gr=!1;function Iu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function pr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Na(i,s,f){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(pt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Hu(i),As(i,null,f),s}return Bu(i,h,s,f),Hu(i)}function Ll(i,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,f|=h,s.lanes=f,bs(i,f)}}function wh(i,s){var f=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var y=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?y=w=D:w=w.next=D,f=f.next}while(f!==null);w===null?y=w=s:w=w.next=s}else y=w=s;f={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=s:i.next=s,f.lastBaseUpdate=s}var Mf=!1;function Fu(){if(Mf){var i=Nl;if(i!==null)throw i}}function js(i,s,f,h){Mf=!1;var y=i.updateQueue;gr=!1;var w=y.firstBaseUpdate,D=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var V=U,ue=V.next;V.next=null,D===null?w=ue:D.next=ue,D=V;var we=i.alternate;we!==null&&(we=we.updateQueue,U=we.lastBaseUpdate,U!==D&&(U===null?we.firstBaseUpdate=ue:U.next=ue,we.lastBaseUpdate=V))}if(w!==null){var Ee=y.baseState;D=0,we=ue=V=null,U=w;do{var fe=U.lane&-536870913,he=fe!==U.lane;if(he?(Bt&fe)===fe:(h&fe)===fe){fe!==0&&fe===Ao&&(Mf=!0),we!==null&&(we=we.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var vt=i,ft=U;fe=s;var yn=f;switch(ft.tag){case 1:if(vt=ft.payload,typeof vt=="function"){Ee=vt.call(yn,Ee,fe);break e}Ee=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=ft.payload,fe=typeof vt=="function"?vt.call(yn,Ee,fe):vt,fe==null)break e;Ee=v({},Ee,fe);break e;case 2:gr=!0}}fe=U.callback,fe!==null&&(i.flags|=64,he&&(i.flags|=8192),he=y.callbacks,he===null?y.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},we===null?(ue=we=he,V=Ee):we=we.next=he,D|=fe;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;he=U,U=he.next,he.next=null,y.lastBaseUpdate=he,y.shared.pending=null}}while(!0);we===null&&(V=Ee),y.baseState=V,y.firstBaseUpdate=ue,y.lastBaseUpdate=we,w===null&&(y.shared.lanes=0),fn|=D,i.lanes=D,i.memoizedState=Ee}}function rt(i,s){if(typeof i!="function")throw Error(a(191,i));i.call(s)}function kg(i,s){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)rt(f[i],s)}var Ro=J(null),Qu=J(0);function Oo(i,s){i=xr,Se(Qu,i),Se(Ro,s),xr=i|s.baseLanes}function xh(){Se(Qu,xr),Se(Ro,Ro.current)}function Eh(){xr=Qu.current,ve(Ro),ve(Qu)}var zs=0,At=null,sn=null,jn=null,$u=!1,$r=!1,Us=!1,Df=0,Ju=0,Ai=null,Jr=0;function zt(){throw Error(a(321))}function mr(i,s){if(s===null)return!1;for(var f=0;f<s.length&&f<i.length;f++)if(!ui(i[f],s[f]))return!1;return!0}function Qa(i,s,f,h,y,w){return zs=w,At=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?gp:Gh,Us=!1,w=f(h,y),Us=!1,$r&&(w=Bg(s,f,h,y)),Pg(i),w}function Pg(i){L.H=kf;var s=sn!==null&&sn.next!==null;if(zs=0,jn=sn=At=null,$u=!1,Ju=0,Ai=null,s)throw Error(a(300));i===null||ln||(i=i.dependencies,i!==null&&Tf(i)&&(ln=!0))}function Bg(i,s,f,h){At=i;var y=0;do{if($r&&(Ai=null),Ju=0,$r=!1,25<=y)throw Error(a(301));if(y+=1,jn=sn=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}L.H=Pv,w=s(f,h)}while($r);return w}function $n(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?Wu(s):s,i=i.useState()[0],(sn!==null?sn.memoizedState:null)!==i&&(At.flags|=1024),s}function Zi(){var i=Df!==0;return Df=0,i}function Ch(i,s,f){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f}function Th(i){if($u){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}$u=!1}zs=0,jn=sn=At=null,$r=!1,Ju=Df=0,Ai=null}function $a(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?At.memoizedState=jn=i:jn=jn.next=i,jn}function Bn(){if(sn===null){var i=At.alternate;i=i!==null?i.memoizedState:null}else i=sn.next;var s=jn===null?At.memoizedState:jn.next;if(s!==null)jn=s,sn=i;else{if(i===null)throw At.alternate===null?Error(a(467)):Error(a(310));sn=i,i={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},jn===null?At.memoizedState=jn=i:jn=jn.next=i}return jn}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(i){var s=Ju;return Ju+=1,Ai===null&&(Ai=[]),i=Of(Ai,i,s),s=At,(jn===null?s.memoizedState:jn.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?gp:Gh),i}function ec(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wu(i);if(i.$$typeof===z)return _a(i)}throw Error(a(438,String(i)))}function Ah(i){var s=null,f=At.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var h=At.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=Nf(),At.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(i),h=0;h<i;h++)f[h]=be;return s.index++,f}function Ja(i,s){return typeof s=="function"?s(i):s}function vr(i){var s=Bn();return Rh(s,sn,i)}function Rh(i,s,f){var h=i.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=f;var y=i.baseQueue,w=h.pending;if(w!==null){if(y!==null){var D=y.next;y.next=w.next,w.next=D}s.baseQueue=y=w,h.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{s=y.next;var U=D=null,V=null,ue=s,we=!1;do{var Ee=ue.lane&-536870913;if(Ee!==ue.lane?(Bt&Ee)===Ee:(zs&Ee)===Ee){var fe=ue.revertLane;if(fe===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ee===Ao&&(we=!0);else if((zs&fe)===fe){ue=ue.next,fe===Ao&&(we=!0);continue}else Ee={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},V===null?(U=V=Ee,D=w):V=V.next=Ee,At.lanes|=fe,fn|=fe;Ee=ue.action,Us&&f(w,Ee),w=ue.hasEagerState?ue.eagerState:f(w,Ee)}else fe={lane:Ee,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},V===null?(U=V=fe,D=w):V=V.next=fe,At.lanes|=Ee,fn|=Ee;ue=ue.next}while(ue!==null&&ue!==s);if(V===null?D=w:V.next=U,!ui(w,i.memoizedState)&&(ln=!0,we&&(f=Nl,f!==null)))throw f;i.memoizedState=w,i.baseState=D,i.baseQueue=V,h.lastRenderedState=w}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Oh(i){var s=Bn(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=i;var h=f.dispatch,y=f.pending,w=s.memoizedState;if(y!==null){f.pending=null;var D=y=y.next;do w=i(w,D.action),D=D.next;while(D!==y);ui(w,s.memoizedState)||(ln=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),f.lastRenderedState=w}return[w,h]}function Hg(i,s,f){var h=At,y=Bn(),w=Vt;if(w){if(f===void 0)throw Error(a(407));f=f()}else f=s();var D=!ui((sn||y).memoizedState,f);D&&(y.memoizedState=f,ln=!0),y=y.queue;var U=qg.bind(null,h,y,i);if(tc(2048,8,U,[i]),y.getSnapshot!==s||D||jn!==null&&jn.memoizedState.tag&1){if(h.flags|=2048,No(9,jf(),Gg.bind(null,h,y,f,s),null),on===null)throw Error(a(349));w||(zs&124)!==0||Mo(h,s,f)}return f}function Mo(i,s,f){i.flags|=16384,i={getSnapshot:s,value:f},s=At.updateQueue,s===null?(s=Nf(),At.updateQueue=s,s.stores=[i]):(f=s.stores,f===null?s.stores=[i]:f.push(i))}function Gg(i,s,f,h){s.value=f,s.getSnapshot=h,Vg(s)&&Do(i)}function qg(i,s,f){return f(function(){Vg(s)&&Do(i)})}function Vg(i){var s=i.getSnapshot;i=i.value;try{var f=s();return!ui(i,f)}catch{return!0}}function Do(i){var s=or(i,2);s!==null&&Vn(s,i,2)}function Mh(i){var s=$a();if(typeof i=="function"){var f=i;if(i=f(),Us){_t(!0);try{f()}finally{_t(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:i},s}function Yg(i,s,f,h){return i.baseState=f,Rh(i,sn,typeof h=="function"?h:Ja)}function Uv(i,s,f,h,y){if(Lf(i))throw Error(a(485));if(i=s.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){w.listeners.push(D)}};L.T!==null?f(!0):w.isTransition=!1,h(w),f=s.pending,f===null?(w.next=s.pending=w,Zg(s,w)):(w.next=f.next,s.pending=f.next=w)}}function Zg(i,s){var f=s.action,h=s.payload,y=i.state;if(s.isTransition){var w=L.T,D={};L.T=D;try{var U=f(y,h),V=L.S;V!==null&&V(D,U),Kg(i,s,U)}catch(ue){Dh(i,s,ue)}finally{L.T=w}}else try{w=f(y,h),Kg(i,s,w)}catch(ue){Dh(i,s,ue)}}function Kg(i,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(h){Ig(i,s,h)},function(h){return Dh(i,s,h)}):Ig(i,s,f)}function Ig(i,s,f){s.status="fulfilled",s.value=f,Xg(s),i.state=f,s=i.pending,s!==null&&(f=s.next,f===s?i.pending=null:(f=f.next,s.next=f,Zg(i,f)))}function Dh(i,s,f){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=f,Xg(s),s=s.next;while(s!==h)}i.action=null}function Xg(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Fg(i,s){return s}function Qg(i,s){if(Vt){var f=on.formState;if(f!==null){e:{var h=At;if(Vt){if(xn){t:{for(var y=xn,w=fr;y.nodeType!==8;){if(!w){y=null;break t}if(y=os(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){xn=os(y.nextSibling),h=y.data==="F!";break e}}Rs(h)}h=!1}h&&(s=f[0])}}return f=$a(),f.memoizedState=f.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:s},f.queue=h,f=fp.bind(null,At,h),h.dispatch=f,h=Mh(!1),w=Hh.bind(null,At,!1,h.queue),h=$a(),y={state:s,dispatch:null,action:i,pending:null},h.queue=y,f=Uv.bind(null,At,y,w,f),y.dispatch=f,h.memoizedState=i,[s,f,!1]}function $g(i){var s=Bn();return Jg(s,sn,i)}function Jg(i,s,f){if(s=Rh(i,s,Fg)[0],i=vr(Ja)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Wu(s)}catch(D){throw D===jl?zl:D}else h=s;s=Bn();var y=s.queue,w=y.dispatch;return f!==s.memoizedState&&(At.flags|=2048,No(9,jf(),Wg.bind(null,y,f),null)),[h,w,i]}function Wg(i,s){i.action=s}function ep(i){var s=Bn(),f=sn;if(f!==null)return Jg(s,f,i);Bn(),s=s.memoizedState,f=Bn();var h=f.queue.dispatch;return f.memoizedState=i,[s,h,!1]}function No(i,s,f,h){return i={tag:i,create:f,deps:h,inst:s,next:null},s=At.updateQueue,s===null&&(s=Nf(),At.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=i.next=i:(h=f.next,f.next=i,i.next=h,s.lastEffect=i),i}function jf(){return{destroy:void 0,resource:void 0}}function tp(){return Bn().memoizedState}function zf(i,s,f,h){var y=$a();h=h===void 0?null:h,At.flags|=i,y.memoizedState=No(1|s,jf(),f,h)}function tc(i,s,f,h){var y=Bn();h=h===void 0?null:h;var w=y.memoizedState.inst;sn!==null&&h!==null&&mr(h,sn.memoizedState.deps)?y.memoizedState=No(s,w,f,h):(At.flags|=i,y.memoizedState=No(1|s,w,f,h))}function Nh(i,s){zf(8390656,8,i,s)}function jh(i,s){tc(2048,8,i,s)}function np(i,s){return tc(4,2,i,s)}function zh(i,s){return tc(4,4,i,s)}function Uh(i,s){if(typeof s=="function"){i=i();var f=s(i);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Lh(i,s,f){f=f!=null?f.concat([i]):null,tc(4,4,Uh.bind(null,s,i),f)}function nc(){}function Uf(i,s){var f=Bn();s=s===void 0?null:s;var h=f.memoizedState;return s!==null&&mr(s,h[1])?h[0]:(f.memoizedState=[i,s],i)}function ap(i,s){var f=Bn();s=s===void 0?null:s;var h=f.memoizedState;if(s!==null&&mr(s,h[1]))return h[0];if(h=i(),Us){_t(!0);try{i()}finally{_t(!1)}}return f.memoizedState=[h,s],h}function kh(i,s,f){return f===void 0||(zs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=f,i=Mn(),At.lanes|=i,fn|=i,f)}function ip(i,s,f,h){return ui(f,s)?f:Ro.current!==null?(i=kh(i,f,h),ui(i,s)||(ln=!0),i):(zs&42)===0?(ln=!0,i.memoizedState=f):(i=Mn(),At.lanes|=i,fn|=i,s)}function rp(i,s,f,h,y){var w=Q.p;Q.p=w!==0&&8>w?w:8;var D=L.T,U={};L.T=U,Hh(i,!1,s,f);try{var V=y(),ue=L.S;if(ue!==null&&ue(U,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var we=Ug(V,h);ac(i,s,we,Un(i))}else ac(i,s,h,Un(i))}catch(Ee){ac(i,s,{then:function(){},status:"rejected",reason:Ee},Un())}finally{Q.p=w,L.T=D}}function sp(){}function Ph(i,s,f,h){if(i.tag!==5)throw Error(a(476));var y=lp(i).queue;rp(i,y,s,X,f===null?sp:function(){return op(i),f(h)})}function lp(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:X},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:f},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function op(i){var s=lp(i).next.queue;ac(i,s,{},Un())}function Bh(){return _a(r0)}function up(){return Bn().memoizedState}function cp(){return Bn().memoizedState}function Lv(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var f=Un();i=pr(f);var h=Na(s,i,f);h!==null&&(Vn(h,s,f),Ll(h,s,f)),s={cache:To()},i.payload=s;return}s=s.return}}function kv(i,s,f){var h=Un();f={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Lf(i)?dp(s,f):(f=Ts(i,s,f,h),f!==null&&(Vn(f,i,h),hp(f,s,h)))}function fp(i,s,f){var h=Un();ac(i,s,f,h)}function ac(i,s,f,h){var y={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Lf(i))dp(s,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var D=s.lastRenderedState,U=w(D,f);if(y.hasEagerState=!0,y.eagerState=U,ui(U,D))return Bu(i,s,y,0),on===null&&ci(),!1}catch{}finally{}if(f=Ts(i,s,y,h),f!==null)return Vn(f,i,h),hp(f,s,h),!0}return!1}function Hh(i,s,f,h){if(h={lane:2,revertLane:qv(),action:h,hasEagerState:!1,eagerState:null,next:null},Lf(i)){if(s)throw Error(a(479))}else s=Ts(i,f,h,2),s!==null&&Vn(s,i,2)}function Lf(i){var s=i.alternate;return i===At||s!==null&&s===At}function dp(i,s){$r=$u=!0;var f=i.pending;f===null?s.next=s:(s.next=f.next,f.next=s),i.pending=s}function hp(i,s,f){if((f&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,f|=h,s.lanes=f,bs(i,f)}}var kf={readContext:_a,use:ec,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},gp={readContext:_a,use:ec,useCallback:function(i,s){return $a().memoizedState=[i,s===void 0?null:s],i},useContext:_a,useEffect:Nh,useImperativeHandle:function(i,s,f){f=f!=null?f.concat([i]):null,zf(4194308,4,Uh.bind(null,s,i),f)},useLayoutEffect:function(i,s){return zf(4194308,4,i,s)},useInsertionEffect:function(i,s){zf(4,2,i,s)},useMemo:function(i,s){var f=$a();s=s===void 0?null:s;var h=i();if(Us){_t(!0);try{i()}finally{_t(!1)}}return f.memoizedState=[h,s],h},useReducer:function(i,s,f){var h=$a();if(f!==void 0){var y=f(s);if(Us){_t(!0);try{f(s)}finally{_t(!1)}}}else y=s;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=kv.bind(null,At,i),[h.memoizedState,i]},useRef:function(i){var s=$a();return i={current:i},s.memoizedState=i},useState:function(i){i=Mh(i);var s=i.queue,f=fp.bind(null,At,s);return s.dispatch=f,[i.memoizedState,f]},useDebugValue:nc,useDeferredValue:function(i,s){var f=$a();return kh(f,i,s)},useTransition:function(){var i=Mh(!1);return i=rp.bind(null,At,i.queue,!0,!1),$a().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,f){var h=At,y=$a();if(Vt){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),on===null)throw Error(a(349));(Bt&124)!==0||Mo(h,s,f)}y.memoizedState=f;var w={value:f,getSnapshot:s};return y.queue=w,Nh(qg.bind(null,h,w,i),[i]),h.flags|=2048,No(9,jf(),Gg.bind(null,h,w,f,s),null),f},useId:function(){var i=$a(),s=on.identifierPrefix;if(Vt){var f=Vi,h=cr;f=(h&~(1<<32-tn(h)-1)).toString(32)+f,s=""+s+"R"+f,f=Df++,0<f&&(s+="H"+f.toString(32)),s+=""}else f=Jr++,s=""+s+"r"+f.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Bh,useFormState:Qg,useActionState:Qg,useOptimistic:function(i){var s=$a();s.memoizedState=s.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Hh.bind(null,At,!0,f),f.dispatch=s,[i,s]},useMemoCache:Ah,useCacheRefresh:function(){return $a().memoizedState=Lv.bind(null,At)}},Gh={readContext:_a,use:ec,useCallback:Uf,useContext:_a,useEffect:jh,useImperativeHandle:Lh,useInsertionEffect:np,useLayoutEffect:zh,useMemo:ap,useReducer:vr,useRef:tp,useState:function(){return vr(Ja)},useDebugValue:nc,useDeferredValue:function(i,s){var f=Bn();return ip(f,sn.memoizedState,i,s)},useTransition:function(){var i=vr(Ja)[0],s=Bn().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:Hg,useId:up,useHostTransitionStatus:Bh,useFormState:$g,useActionState:$g,useOptimistic:function(i,s){var f=Bn();return Yg(f,sn,i,s)},useMemoCache:Ah,useCacheRefresh:cp},Pv={readContext:_a,use:ec,useCallback:Uf,useContext:_a,useEffect:jh,useImperativeHandle:Lh,useInsertionEffect:np,useLayoutEffect:zh,useMemo:ap,useReducer:Oh,useRef:tp,useState:function(){return Oh(Ja)},useDebugValue:nc,useDeferredValue:function(i,s){var f=Bn();return sn===null?kh(f,i,s):ip(f,sn.memoizedState,i,s)},useTransition:function(){var i=Oh(Ja)[0],s=Bn().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:Hg,useId:up,useHostTransitionStatus:Bh,useFormState:ep,useActionState:ep,useOptimistic:function(i,s){var f=Bn();return sn!==null?Yg(f,sn,i,s):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:cp},jo=null,ja=0;function ic(i){var s=ja;return ja+=1,jo===null&&(jo=[]),Of(jo,i,s)}function kl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function rc(i,s){throw s.$$typeof===_?Error(a(525)):(i=Object.prototype.toString.call(s),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function qh(i){var s=i._init;return s(i._payload)}function Vh(i){function s(ee,F){if(i){var re=ee.deletions;re===null?(ee.deletions=[F],ee.flags|=16):re.push(F)}}function f(ee,F){if(!i)return null;for(;F!==null;)s(ee,F),F=F.sibling;return null}function h(ee){for(var F=new Map;ee!==null;)ee.key!==null?F.set(ee.key,ee):F.set(ee.index,ee),ee=ee.sibling;return F}function y(ee,F){return ee=ur(ee,F),ee.index=0,ee.sibling=null,ee}function w(ee,F,re){return ee.index=re,i?(re=ee.alternate,re!==null?(re=re.index,re<F?(ee.flags|=67108866,F):re):(ee.flags|=67108866,F)):(ee.flags|=1048576,F)}function D(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function U(ee,F,re,xe){return F===null||F.tag!==6?(F=Sf(re,ee.mode,xe),F.return=ee,F):(F=y(F,re),F.return=ee,F)}function V(ee,F,re,xe){var $e=re.type;return $e===T?we(ee,F,re.props.children,xe,re.key):F!==null&&(F.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===$&&qh($e)===F.type)?(F=y(F,re.props),kl(F,re),F.return=ee,F):(F=xo(re.type,re.key,re.props,null,ee.mode,xe),kl(F,re),F.return=ee,F)}function ue(ee,F,re,xe){return F===null||F.tag!==4||F.stateNode.containerInfo!==re.containerInfo||F.stateNode.implementation!==re.implementation?(F=qu(re,ee.mode,xe),F.return=ee,F):(F=y(F,re.children||[]),F.return=ee,F)}function we(ee,F,re,xe,$e){return F===null||F.tag!==7?(F=Ir(re,ee.mode,xe,$e),F.return=ee,F):(F=y(F,re),F.return=ee,F)}function Ee(ee,F,re){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Sf(""+F,ee.mode,re),F.return=ee,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return re=xo(F.type,F.key,F.props,null,ee.mode,re),kl(re,F),re.return=ee,re;case E:return F=qu(F,ee.mode,re),F.return=ee,F;case $:var xe=F._init;return F=xe(F._payload),Ee(ee,F,re)}if(_e(F)||pe(F))return F=Ir(F,ee.mode,re,null),F.return=ee,F;if(typeof F.then=="function")return Ee(ee,ic(F),re);if(F.$$typeof===z)return Ee(ee,Af(ee,F),re);rc(ee,F)}return null}function fe(ee,F,re,xe){var $e=F!==null?F.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return $e!==null?null:U(ee,F,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return re.key===$e?V(ee,F,re,xe):null;case E:return re.key===$e?ue(ee,F,re,xe):null;case $:return $e=re._init,re=$e(re._payload),fe(ee,F,re,xe)}if(_e(re)||pe(re))return $e!==null?null:we(ee,F,re,xe,null);if(typeof re.then=="function")return fe(ee,F,ic(re),xe);if(re.$$typeof===z)return fe(ee,F,Af(ee,re),xe);rc(ee,re)}return null}function he(ee,F,re,xe,$e){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ee=ee.get(re)||null,U(F,ee,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case S:return ee=ee.get(xe.key===null?re:xe.key)||null,V(F,ee,xe,$e);case E:return ee=ee.get(xe.key===null?re:xe.key)||null,ue(F,ee,xe,$e);case $:var Ut=xe._init;return xe=Ut(xe._payload),he(ee,F,re,xe,$e)}if(_e(xe)||pe(xe))return ee=ee.get(re)||null,we(F,ee,xe,$e,null);if(typeof xe.then=="function")return he(ee,F,re,ic(xe),$e);if(xe.$$typeof===z)return he(ee,F,re,Af(F,xe),$e);rc(F,xe)}return null}function vt(ee,F,re,xe){for(var $e=null,Ut=null,at=F,ht=F=0,Ca=null;at!==null&&ht<re.length;ht++){at.index>ht?(Ca=at,at=null):Ca=at.sibling;var en=fe(ee,at,re[ht],xe);if(en===null){at===null&&(at=Ca);break}i&&at&&en.alternate===null&&s(ee,at),F=w(en,F,ht),Ut===null?$e=en:Ut.sibling=en,Ut=en,at=Ca}if(ht===re.length)return f(ee,at),Vt&&Ci(ee,ht),$e;if(at===null){for(;ht<re.length;ht++)at=Ee(ee,re[ht],xe),at!==null&&(F=w(at,F,ht),Ut===null?$e=at:Ut.sibling=at,Ut=at);return Vt&&Ci(ee,ht),$e}for(at=h(at);ht<re.length;ht++)Ca=he(at,ee,ht,re[ht],xe),Ca!==null&&(i&&Ca.alternate!==null&&at.delete(Ca.key===null?ht:Ca.key),F=w(Ca,F,ht),Ut===null?$e=Ca:Ut.sibling=Ca,Ut=Ca);return i&&at.forEach(function(Wo){return s(ee,Wo)}),Vt&&Ci(ee,ht),$e}function ft(ee,F,re,xe){if(re==null)throw Error(a(151));for(var $e=null,Ut=null,at=F,ht=F=0,Ca=null,en=re.next();at!==null&&!en.done;ht++,en=re.next()){at.index>ht?(Ca=at,at=null):Ca=at.sibling;var Wo=fe(ee,at,en.value,xe);if(Wo===null){at===null&&(at=Ca);break}i&&at&&Wo.alternate===null&&s(ee,at),F=w(Wo,F,ht),Ut===null?$e=Wo:Ut.sibling=Wo,Ut=Wo,at=Ca}if(en.done)return f(ee,at),Vt&&Ci(ee,ht),$e;if(at===null){for(;!en.done;ht++,en=re.next())en=Ee(ee,en.value,xe),en!==null&&(F=w(en,F,ht),Ut===null?$e=en:Ut.sibling=en,Ut=en);return Vt&&Ci(ee,ht),$e}for(at=h(at);!en.done;ht++,en=re.next())en=he(at,ee,ht,en.value,xe),en!==null&&(i&&en.alternate!==null&&at.delete(en.key===null?ht:en.key),F=w(en,F,ht),Ut===null?$e=en:Ut.sibling=en,Ut=en);return i&&at.forEach(function(ix){return s(ee,ix)}),Vt&&Ci(ee,ht),$e}function yn(ee,F,re,xe){if(typeof re=="object"&&re!==null&&re.type===T&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case S:e:{for(var $e=re.key;F!==null;){if(F.key===$e){if($e=re.type,$e===T){if(F.tag===7){f(ee,F.sibling),xe=y(F,re.props.children),xe.return=ee,ee=xe;break e}}else if(F.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===$&&qh($e)===F.type){f(ee,F.sibling),xe=y(F,re.props),kl(xe,re),xe.return=ee,ee=xe;break e}f(ee,F);break}else s(ee,F);F=F.sibling}re.type===T?(xe=Ir(re.props.children,ee.mode,xe,re.key),xe.return=ee,ee=xe):(xe=xo(re.type,re.key,re.props,null,ee.mode,xe),kl(xe,re),xe.return=ee,ee=xe)}return D(ee);case E:e:{for($e=re.key;F!==null;){if(F.key===$e)if(F.tag===4&&F.stateNode.containerInfo===re.containerInfo&&F.stateNode.implementation===re.implementation){f(ee,F.sibling),xe=y(F,re.children||[]),xe.return=ee,ee=xe;break e}else{f(ee,F);break}else s(ee,F);F=F.sibling}xe=qu(re,ee.mode,xe),xe.return=ee,ee=xe}return D(ee);case $:return $e=re._init,re=$e(re._payload),yn(ee,F,re,xe)}if(_e(re))return vt(ee,F,re,xe);if(pe(re)){if($e=pe(re),typeof $e!="function")throw Error(a(150));return re=$e.call(re),ft(ee,F,re,xe)}if(typeof re.then=="function")return yn(ee,F,ic(re),xe);if(re.$$typeof===z)return yn(ee,F,Af(ee,re),xe);rc(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,F!==null&&F.tag===6?(f(ee,F.sibling),xe=y(F,re),xe.return=ee,ee=xe):(f(ee,F),xe=Sf(re,ee.mode,xe),xe.return=ee,ee=xe),D(ee)):f(ee,F)}return function(ee,F,re,xe){try{ja=0;var $e=yn(ee,F,re,xe);return jo=null,$e}catch(at){if(at===jl||at===zl)throw at;var Ut=Ia(29,at,null,ee.mode);return Ut.lanes=xe,Ut.return=ee,Ut}finally{}}}var zo=Vh(!0),Yh=Vh(!1),di=J(null),yr=null;function Ls(i){var s=i.alternate;Se(jt,jt.current&1),Se(di,i),yr===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(yr=i)}function pp(i){if(i.tag===22){if(Se(jt,jt.current),Se(di,i),yr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(yr=i)}}else Wr()}function Wr(){Se(jt,jt.current),Se(di,di.current)}function es(i){ve(di),yr===i&&(yr=null),ve(jt)}var jt=J(0);function sc(i){for(var s=i;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||e1(f)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Zh(i,s,f,h){s=i.memoizedState,f=f(h,s),f=f==null?s:v({},s,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Pf={enqueueSetState:function(i,s,f){i=i._reactInternals;var h=Un(),y=pr(h);y.payload=s,f!=null&&(y.callback=f),s=Na(i,y,h),s!==null&&(Vn(s,i,h),Ll(s,i,h))},enqueueReplaceState:function(i,s,f){i=i._reactInternals;var h=Un(),y=pr(h);y.tag=1,y.payload=s,f!=null&&(y.callback=f),s=Na(i,y,h),s!==null&&(Vn(s,i,h),Ll(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var f=Un(),h=pr(f);h.tag=2,s!=null&&(h.callback=s),s=Na(i,h,f),s!==null&&(Vn(s,i,f),Ll(s,i,f))}};function Kh(i,s,f,h,y,w,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,D):s.prototype&&s.prototype.isPureReactComponent?!bo(f,h)||!bo(y,w):!0}function Pl(i,s,f,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,h),s.state!==i&&Pf.enqueueReplaceState(s,s.state,null)}function ts(i,s){var f=s;if("ref"in s){f={};for(var h in s)h!=="ref"&&(f[h]=s[h])}if(i=i.defaultProps){f===s&&(f=v({},f));for(var y in i)f[y]===void 0&&(f[y]=i[y])}return f}var ns=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Bl(i){ns(i)}function Wa(i){console.error(i)}function mp(i){ns(i)}function Bf(i,s){try{var f=i.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function lc(i,s,f){try{var h=i.onCaughtError;h(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Uo(i,s,f){return f=pr(f),f.tag=3,f.payload={element:null},f.callback=function(){Bf(i,s)},f}function oc(i){return i=pr(i),i.tag=3,i}function Hf(i,s,f,h){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;i.payload=function(){return y(w)},i.callback=function(){lc(s,f,h)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){lc(s,f,h),typeof y!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function Bv(i,s,f,h,y){if(f.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=f.alternate,s!==null&&Ml(s,f,y,!0),f=di.current,f!==null){switch(f.tag){case 13:return yr===null?Cr():f.alternate===null&&Rt===0&&(Rt=3),f.flags&=-257,f.flags|=65536,f.lanes=y,h===Ns?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([h]):s.add(h),Te(i,h,y)),!1;case 22:return f.flags|=65536,h===Ns?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([h]):f.add(h)),Te(i,h,y)),!1}throw Error(a(435,f.tag))}return Te(i,h,y),Cr(),!1}if(Vt)return s=di.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==ph&&(i=Error(a(422),{cause:h}),Co(Fn(i,f)))):(h!==ph&&(s=Error(a(423),{cause:h}),Co(Fn(s,f))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Fn(h,f),y=Uo(i.stateNode,h,y),wh(i,y),Rt!==4&&(Rt=2)),!1;var w=Error(a(520),{cause:h});if(w=Fn(w,f),Ks===null?Ks=[w]:Ks.push(w),Rt!==4&&(Rt=2),s===null)return!0;h=Fn(h,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,i=y&-y,f.lanes|=i,i=Uo(f.stateNode,h,i),wh(f,i),!1;case 1:if(s=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xs===null||!Xs.has(w))))return f.flags|=65536,y&=-y,f.lanes|=y,y=oc(y),Hf(y,i,f,h),wh(f,y),!1}f=f.return}while(f!==null);return!1}var vp=Error(a(461)),ln=!1;function Jn(i,s,f,h){s.child=i===null?Yh(s,null,f,h):zo(s,i.child,f,h)}function yp(i,s,f,h,y){f=f.render;var w=s.ref;if("ref"in h){var D={};for(var U in h)U!=="ref"&&(D[U]=h[U])}else D=h;return Ds(s),h=Qa(i,s,f,D,w,y),U=Zi(),i!==null&&!ln?(Ch(i,s,y),bn(i,s,y)):(Vt&&U&&wf(s),s.flags|=1,Jn(i,s,h,y),s.child)}function Gf(i,s,f,h,y){if(i===null){var w=f.type;return typeof w=="function"&&!wo(w)&&w.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=w,bp(i,s,w,h,y)):(i=xo(f.type,null,h,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(w=i.child,!Hl(i,y)){var D=w.memoizedProps;if(f=f.compare,f=f!==null?f:bo,f(D,h)&&i.ref===s.ref)return bn(i,s,y)}return s.flags|=1,i=ur(w,h),i.ref=s.ref,i.return=s,s.child=i}function bp(i,s,f,h,y){if(i!==null){var w=i.memoizedProps;if(bo(w,h)&&i.ref===s.ref)if(ln=!1,s.pendingProps=h=w,Hl(i,y))(i.flags&131072)!==0&&(ln=!0);else return s.lanes=i.lanes,bn(i,s,y)}return za(i,s,f,h,y)}function _p(i,s,f){var h=s.pendingProps,y=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=w!==null?w.baseLanes|f:f,i!==null){for(y=s.child=i.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;s.childLanes=w&~h}else s.childLanes=0,s.child=null;return Sp(i,s,h,f)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rf(s,w!==null?w.cachePool:null),w!==null?Oo(s,w):xh(),pp(s);else return s.lanes=s.childLanes=536870912,Sp(i,s,w!==null?w.baseLanes|f:f,f)}else w!==null?(Rf(s,w.cachePool),Oo(s,w),Wr(),s.memoizedState=null):(i!==null&&Rf(s,null),xh(),Wr());return Jn(i,s,y,f),s.child}function Sp(i,s,f,h){var y=Tt();return y=y===null?null:{parent:Pn._currentValue,pool:y},s.memoizedState={baseLanes:f,cachePool:y},i!==null&&Rf(s,null),xh(),pp(s),i!==null&&Ml(i,s,h,!0),null}function ks(i,s){var f=s.ref;if(f===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(a(284));(i===null||i.ref!==f)&&(s.flags|=4194816)}}function za(i,s,f,h,y){return Ds(s),f=Qa(i,s,f,h,void 0,y),h=Zi(),i!==null&&!ln?(Ch(i,s,y),bn(i,s,y)):(Vt&&h&&wf(s),s.flags|=1,Jn(i,s,f,y),s.child)}function qf(i,s,f,h,y,w){return Ds(s),s.updateQueue=null,f=Bg(s,h,f,y),Pg(i),h=Zi(),i!==null&&!ln?(Ch(i,s,w),bn(i,s,w)):(Vt&&h&&wf(s),s.flags|=1,Jn(i,s,f,w),s.child)}function Ih(i,s,f,h,y){if(Ds(s),s.stateNode===null){var w=Tl,D=f.contextType;typeof D=="object"&&D!==null&&(w=_a(D)),w=new f(h,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Pf,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=h,w.state=s.memoizedState,w.refs={},Iu(s),D=f.contextType,w.context=typeof D=="object"&&D!==null?_a(D):Tl,w.state=s.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(Zh(s,f,D,h),w.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(D=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),D!==w.state&&Pf.enqueueReplaceState(w,w.state,null),js(s,h,w,y),Fu(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){w=s.stateNode;var U=s.memoizedProps,V=ts(f,U);w.props=V;var ue=w.context,we=f.contextType;D=Tl,typeof we=="object"&&we!==null&&(D=_a(we));var Ee=f.getDerivedStateFromProps;we=typeof Ee=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,we||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||ue!==D)&&Pl(s,w,h,D),gr=!1;var fe=s.memoizedState;w.state=fe,js(s,h,w,y),Fu(),ue=s.memoizedState,U||fe!==ue||gr?(typeof Ee=="function"&&(Zh(s,f,Ee,h),ue=s.memoizedState),(V=gr||Kh(s,f,V,h,fe,ue,D))?(we||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ue),w.props=h,w.state=ue,w.context=D,h=V):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Xu(i,s),D=s.memoizedProps,we=ts(f,D),w.props=we,Ee=s.pendingProps,fe=w.context,ue=f.contextType,V=Tl,typeof ue=="object"&&ue!==null&&(V=_a(ue)),U=f.getDerivedStateFromProps,(ue=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==Ee||fe!==V)&&Pl(s,w,h,V),gr=!1,fe=s.memoizedState,w.state=fe,js(s,h,w,y),Fu();var he=s.memoizedState;D!==Ee||fe!==he||gr||i!==null&&i.dependencies!==null&&Tf(i.dependencies)?(typeof U=="function"&&(Zh(s,f,U,h),he=s.memoizedState),(we=gr||Kh(s,f,we,h,fe,he,V)||i!==null&&i.dependencies!==null&&Tf(i.dependencies))?(ue||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,he,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,he,V)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||D===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),w.props=h,w.state=he,w.context=V,h=we):(typeof w.componentDidUpdate!="function"||D===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),h=!1)}return w=h,ks(i,s),h=(s.flags&128)!==0,w||h?(w=s.stateNode,f=h&&typeof f.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,i!==null&&h?(s.child=zo(s,i.child,null,y),s.child=zo(s,null,f,y)):Jn(i,s,f,y),s.memoizedState=w.state,i=s.child):i=bn(i,s,y),i}function Vf(i,s,f,h){return Eo(),s.flags|=256,Jn(i,s,f,h),s.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ps(i){return{baseLanes:i,cachePool:Fa()}}function Bs(i,s,f){return i=i!==null?i.childLanes&~f:0,s&&(i|=oa),i}function uc(i,s,f){var h=s.pendingProps,y=!1,w=(s.flags&128)!==0,D;if((D=w)||(D=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),D&&(y=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,i===null){if(Vt){if(y?Ls(s):Wr(),Vt){var U=xn,V;if(V=U){e:{for(V=U,U=fr;V.nodeType!==8;){if(!U){U=null;break e}if(V=os(V.nextSibling),V===null){U=null;break e}}U=V}U!==null?(s.memoizedState={dehydrated:U,treeContext:Xa!==null?{id:cr,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},V=Ia(18,null,null,0),V.stateNode=U,V.return=s,s.child=V,ba=s,xn=null,V=!0):V=!1}V||Rs(s)}if(U=s.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return e1(U)?s.lanes=32:s.lanes=536870912,null;es(s)}return U=h.children,h=h.fallback,y?(Wr(),y=s.mode,U=Ua({mode:"hidden",children:U},y),h=Ir(h,y,f,null),U.return=s,h.return=s,U.sibling=h,s.child=U,y=s.child,y.memoizedState=Ps(f),y.childLanes=Bs(i,D,f),s.memoizedState=Yf,h):(Ls(s),Lo(s,U))}if(V=i.memoizedState,V!==null&&(U=V.dehydrated,U!==null)){if(w)s.flags&256?(Ls(s),s.flags&=-257,s=ei(i,s,f)):s.memoizedState!==null?(Wr(),s.child=i.child,s.flags|=128,s=null):(Wr(),y=h.fallback,U=s.mode,h=Ua({mode:"visible",children:h.children},U),y=Ir(y,U,f,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,zo(s,i.child,null,f),h=s.child,h.memoizedState=Ps(f),h.childLanes=Bs(i,D,f),s.memoizedState=Yf,s=y);else if(Ls(s),e1(U)){if(D=U.nextSibling&&U.nextSibling.dataset,D)var ue=D.dgst;D=ue,h=Error(a(419)),h.stack="",h.digest=D,Co({value:h,source:null,stack:null}),s=ei(i,s,f)}else if(ln||Ml(i,s,f,!1),D=(f&i.childLanes)!==0,ln||D){if(D=on,D!==null&&(h=f&-f,h=(h&42)!==0?1:Pr(h),h=(h&(D.suspendedLanes|f))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,or(i,h),Vn(D,i,h),vp;U.data==="$?"||Cr(),s=ei(i,s,f)}else U.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,xn=os(U.nextSibling),ba=s,Vt=!0,Rl=null,fr=!1,i!==null&&(fi[Ei++]=cr,fi[Ei++]=Vi,fi[Ei++]=Xa,cr=i.id,Vi=i.overflow,Xa=s),s=Lo(s,h.children),s.flags|=4096);return s}return y?(Wr(),y=h.fallback,U=s.mode,V=i.child,ue=V.sibling,h=ur(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,ue!==null?y=ur(ue,y):(y=Ir(y,U,f,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,U=i.child.memoizedState,U===null?U=Ps(f):(V=U.cachePool,V!==null?(ue=Pn._currentValue,V=V.parent!==ue?{parent:ue,pool:ue}:V):V=Fa(),U={baseLanes:U.baseLanes|f,cachePool:V}),y.memoizedState=U,y.childLanes=Bs(i,D,f),s.memoizedState=Yf,h):(Ls(s),f=i.child,i=f.sibling,f=ur(f,{mode:"visible",children:h.children}),f.return=s,f.sibling=null,i!==null&&(D=s.deletions,D===null?(s.deletions=[i],s.flags|=16):D.push(i)),s.child=f,s.memoizedState=null,f)}function Lo(i,s){return s=Ua({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ua(i,s){return i=Ia(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ei(i,s,f){return zo(s,i.child,null,f),i=Lo(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Hs(i,s,f){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Cf(i.return,s,f)}function Ki(i,s,f,h,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=f,w.tailMode=y)}function br(i,s,f){var h=s.pendingProps,y=h.revealOrder,w=h.tail;if(Jn(i,s,h.children,f),h=jt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hs(i,f,s);else if(i.tag===19)Hs(i,f,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(Se(jt,h),y){case"forwards":for(f=s.child,y=null;f!==null;)i=f.alternate,i!==null&&sc(i)===null&&(y=f),f=f.sibling;f=y,f===null?(y=s.child,s.child=null):(y=f.sibling,f.sibling=null),Ki(s,!1,y,f,w);break;case"backwards":for(f=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&sc(i)===null){s.child=y;break}i=y.sibling,y.sibling=f,f=y,y=i}Ki(s,!0,f,null,w);break;case"together":Ki(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bn(i,s,f){if(i!==null&&(s.dependencies=i.dependencies),fn|=s.lanes,(f&s.childLanes)===0)if(i!==null){if(Ml(i,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(a(153));if(s.child!==null){for(i=s.child,f=ur(i,i.pendingProps),s.child=f,f.return=s;i.sibling!==null;)i=i.sibling,f=f.sibling=ur(i,i.pendingProps),f.return=s;f.sibling=null}return s.child}function Hl(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Tf(i)))}function Gs(i,s,f){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),Ti(s,Pn,i.memoizedState.cache),Eo();break;case 27:case 5:ot(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:Ti(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Ls(s),s.flags|=128,null):(f&s.child.childLanes)!==0?uc(i,s,f):(Ls(s),i=bn(i,s,f),i!==null?i.sibling:null);Ls(s);break;case 19:var y=(i.flags&128)!==0;if(h=(f&s.childLanes)!==0,h||(Ml(i,s,f,!1),h=(f&s.childLanes)!==0),y){if(h)return br(i,s,f);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Se(jt,jt.current),h)break;return null;case 22:case 23:return s.lanes=0,_p(i,s,f);case 24:Ti(s,Pn,i.memoizedState.cache)}return bn(i,s,f)}function cc(i,s,f){if(i!==null)if(i.memoizedProps!==s.pendingProps)ln=!0;else{if(!Hl(i,f)&&(s.flags&128)===0)return ln=!1,Gs(i,s,f);ln=(i.flags&131072)!==0}else ln=!1,Vt&&(s.flags&1048576)!==0&&gh(s,Vu,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,y=h._init;if(h=y(h._payload),s.type=h,typeof h=="function")wo(h)?(i=ts(h,i),s.tag=1,s=Ih(null,s,h,i,f)):(s.tag=0,s=za(null,s,h,i,f));else{if(h!=null){if(y=h.$$typeof,y===B){s.tag=11,s=yp(null,s,h,i,f);break e}else if(y===K){s.tag=14,s=Gf(null,s,h,i,f);break e}}throw s=me(h)||h,Error(a(306,s,""))}}return s;case 0:return za(i,s,s.type,s.pendingProps,f);case 1:return h=s.type,y=ts(h,s.pendingProps),Ih(i,s,h,y,f);case 3:e:{if(Me(s,s.stateNode.containerInfo),i===null)throw Error(a(387));h=s.pendingProps;var w=s.memoizedState;y=w.element,Xu(i,s),js(s,h,null,f);var D=s.memoizedState;if(h=D.cache,Ti(s,Pn,h),h!==w.cache&&Qt(s,[Pn],f,!0),Fu(),h=D.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=Vf(i,s,h,f);break e}else if(h!==y){y=Fn(Error(a(424)),s),Co(y),s=Vf(i,s,h,f);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xn=os(i.firstChild),ba=s,Vt=!0,Rl=null,fr=!0,f=Yh(s,null,h,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Eo(),h===y){s=bn(i,s,f);break e}Jn(i,s,h,f)}s=s.child}return s;case 26:return ks(i,s),i===null?(f=yb(s.type,null,s.pendingProps,null))?s.memoizedState=f:Vt||(f=s.type,i=s.pendingProps,h=Rp(Ye.current).createElement(f),h[le]=s,h[Ce]=i,Ba(h,f,i),Lt(h),s.stateNode=h):s.memoizedState=yb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ot(s),i===null&&Vt&&(h=s.stateNode=pb(s.type,s.pendingProps,Ye.current),ba=s,fr=!0,y=xn,Xo(s.type)?(t1=y,xn=os(h.firstChild)):xn=y),Jn(i,s,s.pendingProps.children,f),ks(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Vt&&((y=h=xn)&&(h=jw(h,s.type,s.pendingProps,fr),h!==null?(s.stateNode=h,ba=s,xn=os(h.firstChild),fr=!1,y=!0):y=!1),y||Rs(s)),ot(s),y=s.type,w=s.pendingProps,D=i!==null?i.memoizedProps:null,h=w.children,$v(y,w)?h=null:D!==null&&$v(y,D)&&(s.flags|=32),s.memoizedState!==null&&(y=Qa(i,s,$n,null,null,f),r0._currentValue=y),ks(i,s),Jn(i,s,h,f),s.child;case 6:return i===null&&Vt&&((i=f=xn)&&(f=zw(f,s.pendingProps,fr),f!==null?(s.stateNode=f,ba=s,xn=null,i=!0):i=!1),i||Rs(s)),null;case 13:return uc(i,s,f);case 4:return Me(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=zo(s,null,h,f):Jn(i,s,h,f),s.child;case 11:return yp(i,s,s.type,s.pendingProps,f);case 7:return Jn(i,s,s.pendingProps,f),s.child;case 8:return Jn(i,s,s.pendingProps.children,f),s.child;case 12:return Jn(i,s,s.pendingProps.children,f),s.child;case 10:return h=s.pendingProps,Ti(s,s.type,h.value),Jn(i,s,h.children,f),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Ds(s),y=_a(y),h=h(y),s.flags|=1,Jn(i,s,h,f),s.child;case 14:return Gf(i,s,s.type,s.pendingProps,f);case 15:return bp(i,s,s.type,s.pendingProps,f);case 19:return br(i,s,f);case 31:return h=s.pendingProps,f=s.mode,h={mode:h.mode,children:h.children},i===null?(f=Ua(h,f),f.ref=s.ref,s.child=f,f.return=s,s=f):(f=ur(i.child,h),f.ref=s.ref,s.child=f,f.return=s,s=f),s;case 22:return _p(i,s,f);case 24:return Ds(s),h=_a(Pn),i===null?(y=Tt(),y===null&&(y=on,w=To(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=f),y=w),s.memoizedState={parent:h,cache:y},Iu(s),Ti(s,Pn,y)):((i.lanes&f)!==0&&(Xu(i,s),js(s,null,null,f),Fu()),y=i.memoizedState,w=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ti(s,Pn,h)):(h=w.cache,Ti(s,Pn,h),h!==y.cache&&Qt(s,[Pn],f,!0))),Jn(i,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function On(i){i.flags|=4}function Hn(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xb(s)){if(s=di.current,s!==null&&((Bt&4194048)===Bt?yr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==yr))throw Ku=Ns,Lg;i.flags|=8192}}function qt(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?kr():536870912,i.lanes|=s,qo|=s)}function Ii(i,s){if(!Vt)switch(i.tailMode){case"hidden":s=i.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Xt(i){var s=i.alternate!==null&&i.alternate.child===i.child,f=0,h=0;if(s)for(var y=i.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=f,s}function Xh(i,s,f){var h=s.pendingProps;switch(xf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return Xt(s),null;case 3:return f=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),hr(Pn),gt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Os(s)?On(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vh())),Xt(s),null;case 26:return f=s.memoizedState,i===null?(On(s),f!==null?(Xt(s),Hn(s,f)):(Xt(s),s.flags&=-16777217)):f?f!==i.memoizedState?(On(s),Xt(s),Hn(s,f)):(Xt(s),s.flags&=-16777217):(i.memoizedProps!==h&&On(s),Xt(s),s.flags&=-16777217),null;case 27:un(s),f=Ye.current;var y=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&On(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Xt(s),null}i=He.current,Os(s)?mh(s):(i=pb(y,h,f),s.stateNode=i,On(s))}return Xt(s),null;case 5:if(un(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&On(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Xt(s),null}if(i=He.current,Os(s))mh(s);else{switch(y=Rp(Ye.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?y.createElement(f,{is:h.is}):y.createElement(f)}}i[le]=s,i[Ce]=h;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=i;e:switch(Ba(i,f,h),f){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&On(s)}}return Xt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&On(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(i=Ye.current,Os(s)){if(i=s.stateNode,f=s.memoizedProps,h=null,y=ba,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[le]=s,i=!!(i.nodeValue===f||h!==null&&h.suppressHydrationWarning===!0||ob(i.nodeValue,f)),i||Rs(s)}else i=Rp(i).createTextNode(h),i[le]=s,s.stateNode=i}return Xt(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Os(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[le]=s}else Eo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),y=!1}else y=vh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(es(s),s):(es(s),null)}if(es(s),(s.flags&128)!==0)return s.lanes=f,s;if(f=h!==null,i=i!==null&&i.memoizedState!==null,f){h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)}return f!==i&&f&&(s.child.flags|=8192),qt(s,s.updateQueue),Xt(s),null;case 4:return gt(),i===null&&Kv(s.stateNode.containerInfo),Xt(s),null;case 10:return hr(s.type),Xt(s),null;case 19:if(ve(jt),y=s.memoizedState,y===null)return Xt(s),null;if(h=(s.flags&128)!==0,w=y.rendering,w===null)if(h)Ii(y,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=sc(i),w!==null){for(s.flags|=128,Ii(y,!1),i=w.updateQueue,s.updateQueue=i,qt(s,i),s.subtreeFlags=0,i=f,f=s.child;f!==null;)_f(f,i),f=f.sibling;return Se(jt,jt.current&1|2),s.child}i=i.sibling}y.tail!==null&&ia()>Vl&&(s.flags|=128,h=!0,Ii(y,!1),s.lanes=4194304)}else{if(!h)if(i=sc(w),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,qt(s,i),Ii(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Vt)return Xt(s),null}else 2*ia()-y.renderingStartTime>Vl&&f!==536870912&&(s.flags|=128,h=!0,Ii(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(i=y.last,i!==null?i.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ia(),s.sibling=null,i=jt.current,Se(jt,h?i&1|2:i&1),s):(Xt(s),null);case 22:case 23:return es(s),Eh(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(f&536870912)!==0&&(s.flags&128)===0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),f=s.updateQueue,f!==null&&qt(s,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048),i!==null&&ve(Fr),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),hr(Pn),Xt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function hi(i,s){switch(xf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return hr(Pn),gt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return un(s),null;case 13:if(es(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Eo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ve(jt),null;case 4:return gt(),null;case 10:return hr(s.type),null;case 22:case 23:return es(s),Eh(),i!==null&&ve(Fr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return hr(Pn),null;case 25:return null;default:return null}}function fc(i,s){switch(xf(s),s.tag){case 3:hr(Pn),gt();break;case 26:case 27:case 5:un(s);break;case 4:gt();break;case 13:es(s);break;case 19:ve(jt);break;case 10:hr(s.type);break;case 22:case 23:es(s),Eh(),i!==null&&ve(Fr);break;case 24:hr(Pn)}}function Xi(i,s){try{var f=s.updateQueue,h=f!==null?f.lastEffect:null;if(h!==null){var y=h.next;f=y;do{if((f.tag&i)===i){h=void 0;var w=f.create,D=f.inst;h=w(),D.destroy=h}f=f.next}while(f!==y)}}catch(U){ne(s,s.return,U)}}function Sa(i,s,f){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&i)===i){var D=h.inst,U=D.destroy;if(U!==void 0){D.destroy=void 0,y=s;var V=f,ue=U;try{ue()}catch(we){ne(y,V,we)}}}h=h.next}while(h!==w)}}catch(we){ne(s,s.return,we)}}function wp(i){var s=i.updateQueue;if(s!==null){var f=i.stateNode;try{kg(s,f)}catch(h){ne(i,i.return,h)}}}function xp(i,s,f){f.props=ts(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(h){ne(i,s,h)}}function dc(i,s){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof f=="function"?i.refCleanup=f(h):f.current=h}}catch(y){ne(i,s,y)}}function $t(i,s){var f=i.ref,h=i.refCleanup;if(f!==null)if(typeof h=="function")try{h()}catch(y){ne(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){ne(i,s,y)}else f.current=null}function hc(i){var s=i.type,f=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&h.focus();break e;case"img":f.src?h.src=f.src:f.srcSet&&(h.srcset=f.srcSet)}}catch(y){ne(i,i.return,y)}}function qs(i,s,f){try{var h=i.stateNode;Rw(h,i.type,f,s),h[Ce]=s}catch(y){ne(i,i.return,y)}}function Zf(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xo(i.type)||i.tag===4}function ko(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Zf(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gc(i,s,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(i),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Ap));else if(h!==4&&(h===27&&Xo(i.type)&&(f=i.stateNode,s=null),i=i.child,i!==null))for(gc(i,s,f),i=i.sibling;i!==null;)gc(i,s,f),i=i.sibling}function as(i,s,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?f.insertBefore(i,s):f.appendChild(i);else if(h!==4&&(h===27&&Xo(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(as(i,s,f),i=i.sibling;i!==null;)as(i,s,f),i=i.sibling}function Po(i){var s=i.stateNode,f=i.memoizedProps;try{for(var h=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Ba(s,h,f),s[le]=i,s[Ce]=f}catch(w){ne(i,i.return,w)}}var Fi=!1,gn=!1,Vs=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,En=null;function Hv(i,s){if(i=i.containerInfo,Fv=zp,i=ch(i),xl(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var D=0,U=-1,V=-1,ue=0,we=0,Ee=i,fe=null;t:for(;;){for(var he;Ee!==f||y!==0&&Ee.nodeType!==3||(U=D+y),Ee!==w||h!==0&&Ee.nodeType!==3||(V=D+h),Ee.nodeType===3&&(D+=Ee.nodeValue.length),(he=Ee.firstChild)!==null;)fe=Ee,Ee=he;for(;;){if(Ee===i)break t;if(fe===f&&++ue===y&&(U=D),fe===w&&++we===h&&(V=D),(he=Ee.nextSibling)!==null)break;Ee=fe,fe=Ee.parentNode}Ee=he}f=U===-1||V===-1?null:{start:U,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for(Qv={focusedElem:i,selectionRange:f},zp=!1,En=s;En!==null;)if(s=En,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,En=i;else for(;En!==null;){switch(s=En,w=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,f=s,y=w.memoizedProps,w=w.memoizedState,h=f.stateNode;try{var vt=ts(f.type,y,f.elementType===f.type);i=h.getSnapshotBeforeUpdate(vt,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(ft){ne(f,f.return,ft)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,f=i.nodeType,f===9)Wv(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=s.sibling,i!==null){i.return=s.return,En=i;break}En=s.return}}function Bo(i,s,f){var h=f.flags;switch(f.tag){case 0:case 11:case 15:Pt(i,f),h&4&&Xi(5,f);break;case 1:if(Pt(i,f),h&4)if(i=f.stateNode,s===null)try{i.componentDidMount()}catch(D){ne(f,f.return,D)}else{var y=ts(f.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(D){ne(f,f.return,D)}}h&64&&wp(f),h&512&&dc(f,f.return);break;case 3:if(Pt(i,f),h&64&&(i=f.updateQueue,i!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{kg(i,s)}catch(D){ne(f,f.return,D)}}break;case 27:s===null&&h&4&&Po(f);case 26:case 5:Pt(i,f),s===null&&h&4&&hc(f),h&512&&dc(f,f.return);break;case 12:Pt(i,f);break;case 13:Pt(i,f),h&4&&Gl(i,f),h&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=Ve.bind(null,f),Uw(i,f))));break;case 22:if(h=f.memoizedState!==null||Fi,!h){s=s!==null&&s.memoizedState!==null||gn,y=Fi;var w=gn;Fi=h,(gn=s)&&!w?Qi(i,f,(f.subtreeFlags&8772)!==0):Pt(i,f),Fi=y,gn=w}break;case 30:break;default:Pt(i,f)}}function Kf(i){var s=i.alternate;s!==null&&(i.alternate=null,Kf(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&We(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var cn=null,la=!1;function ti(i,s,f){for(f=f.child;f!==null;)gi(i,s,f),f=f.sibling}function gi(i,s,f){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(qe,f)}catch{}switch(f.tag){case 26:gn||$t(f,s),ti(i,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:gn||$t(f,s);var h=cn,y=la;Xo(f.type)&&(cn=f.stateNode,la=!1),ti(i,s,f),t0(f.stateNode),cn=h,la=y;break;case 5:gn||$t(f,s);case 6:if(h=cn,y=la,cn=null,ti(i,s,f),cn=h,la=y,cn!==null)if(la)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(f.stateNode)}catch(w){ne(f,s,w)}else try{cn.removeChild(f.stateNode)}catch(w){ne(f,s,w)}break;case 18:cn!==null&&(la?(i=cn,hb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),u0(i)):hb(cn,f.stateNode));break;case 4:h=cn,y=la,cn=f.stateNode.containerInfo,la=!0,ti(i,s,f),cn=h,la=y;break;case 0:case 11:case 14:case 15:gn||Sa(2,f,s),gn||Sa(4,f,s),ti(i,s,f);break;case 1:gn||($t(f,s),h=f.stateNode,typeof h.componentWillUnmount=="function"&&xp(f,s,h)),ti(i,s,f);break;case 21:ti(i,s,f);break;case 22:gn=(h=gn)||f.memoizedState!==null,ti(i,s,f),gn=h;break;default:ti(i,s,f)}}function Gl(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{u0(i)}catch(f){ne(s,s.return,f)}}function Qh(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Fh),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Fh),s;default:throw Error(a(435,i.tag))}}function _r(i,s){var f=Qh(i);s.forEach(function(h){var y=xt.bind(null,i,h);f.has(h)||(f.add(h),h.then(y,y))})}function La(i,s){var f=s.deletions;if(f!==null)for(var h=0;h<f.length;h++){var y=f[h],w=i,D=s,U=D;e:for(;U!==null;){switch(U.tag){case 27:if(Xo(U.type)){cn=U.stateNode,la=!1;break e}break;case 5:cn=U.stateNode,la=!1;break e;case 3:case 4:cn=U.stateNode.containerInfo,la=!0;break e}U=U.return}if(cn===null)throw Error(a(160));gi(w,D,y),cn=null,la=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)pc(s,i),s=s.sibling}var wa=null;function pc(i,s){var f=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:La(s,i),Gn(i),h&4&&(Sa(3,i,i.return),Xi(3,i),Sa(5,i,i.return));break;case 1:La(s,i),Gn(i),h&512&&(gn||f===null||$t(f,f.return)),h&64&&Fi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?h:f.concat(h))));break;case 26:var y=wa;if(La(s,i),Gn(i),h&512&&(gn||f===null||$t(f,f.return)),h&4){var w=f!==null?f.memoizedState:null;if(h=i.memoizedState,f===null)if(h===null)if(i.stateNode===null){e:{h=i.type,f=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[tt]||w[le]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),Ba(w,h,f),w[le]=i,Lt(w),h=w;break e;case"link":var D=Sb("link","href",y).get(h+(f.href||""));if(D){for(var U=0;U<D.length;U++)if(w=D[U],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(U,1);break t}}w=y.createElement(h),Ba(w,h,f),y.head.appendChild(w);break;case"meta":if(D=Sb("meta","content",y).get(h+(f.content||""))){for(U=0;U<D.length;U++)if(w=D[U],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(U,1);break t}}w=y.createElement(h),Ba(w,h,f),y.head.appendChild(w);break;default:throw Error(a(468,h))}w[le]=i,Lt(w),h=w}i.stateNode=h}else wb(y,i.type,i.stateNode);else i.stateNode=_b(y,h,i.memoizedProps);else w!==h?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,h===null?wb(y,i.type,i.stateNode):_b(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&qs(i,i.memoizedProps,f.memoizedProps)}break;case 27:La(s,i),Gn(i),h&512&&(gn||f===null||$t(f,f.return)),f!==null&&h&4&&qs(i,i.memoizedProps,f.memoizedProps);break;case 5:if(La(s,i),Gn(i),h&512&&(gn||f===null||$t(f,f.return)),i.flags&32){y=i.stateNode;try{ml(y,"")}catch(he){ne(i,i.return,he)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,qs(i,y,f!==null?f.memoizedProps:y)),h&1024&&(Vs=!0);break;case 6:if(La(s,i),Gn(i),h&4){if(i.stateNode===null)throw Error(a(162));h=i.memoizedProps,f=i.stateNode;try{f.nodeValue=h}catch(he){ne(i,i.return,he)}}break;case 3:if(Dp=null,y=wa,wa=Op(s.containerInfo),La(s,i),wa=y,Gn(i),h&4&&f!==null&&f.memoizedState.isDehydrated)try{u0(s.containerInfo)}catch(he){ne(i,i.return,he)}Vs&&(Vs=!1,Et(i));break;case 4:h=wa,wa=Op(i.stateNode.containerInfo),La(s,i),Gn(i),wa=h;break;case 12:La(s,i),Gn(i);break;case 13:La(s,i),Gn(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Yo=ia()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_r(i,h)));break;case 22:y=i.memoizedState!==null;var V=f!==null&&f.memoizedState!==null,ue=Fi,we=gn;if(Fi=ue||y,gn=we||V,La(s,i),gn=we,Fi=ue,Gn(i),h&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(f===null||V||Fi||gn||pn(i)),f=null,s=i;;){if(s.tag===5||s.tag===26){if(f===null){V=f=s;try{if(w=V.stateNode,y)D=w.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{U=V.stateNode;var Ee=V.memoizedProps.style,fe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;U.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(he){ne(V,V.return,he)}}}else if(s.tag===6){if(f===null){V=s;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(he){ne(V,V.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(f=h.retryQueue,f!==null&&(h.retryQueue=null,_r(i,f))));break;case 19:La(s,i),Gn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_r(i,h)));break;case 30:break;case 21:break;default:La(s,i),Gn(i)}}function Gn(i){var s=i.flags;if(s&2){try{for(var f,h=i.return;h!==null;){if(Zf(h)){f=h;break}h=h.return}if(f==null)throw Error(a(160));switch(f.tag){case 27:var y=f.stateNode,w=ko(i);as(i,w,y);break;case 5:var D=f.stateNode;f.flags&32&&(ml(D,""),f.flags&=-33);var U=ko(i);as(i,U,D);break;case 3:case 4:var V=f.stateNode.containerInfo,ue=ko(i);gc(i,ue,V);break;default:throw Error(a(161))}}catch(we){ne(i,i.return,we)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Et(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Et(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Pt(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bo(i,s.alternate,s),s=s.sibling}function pn(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Sa(4,s,s.return),pn(s);break;case 1:$t(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&xp(s,s.return,f),pn(s);break;case 27:t0(s.stateNode);case 26:case 5:$t(s,s.return),pn(s);break;case 22:s.memoizedState===null&&pn(s);break;case 30:pn(s);break;default:pn(s)}i=i.sibling}}function Qi(i,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=i,w=s,D=w.flags;switch(w.tag){case 0:case 11:case 15:Qi(y,w,f),Xi(4,w);break;case 1:if(Qi(y,w,f),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){ne(h,h.return,ue)}if(h=w,y=h.updateQueue,y!==null){var U=h.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)rt(V[y],U)}catch(ue){ne(h,h.return,ue)}}f&&D&64&&wp(w),dc(w,w.return);break;case 27:Po(w);case 26:case 5:Qi(y,w,f),f&&h===null&&D&4&&hc(w),dc(w,w.return);break;case 12:Qi(y,w,f);break;case 13:Qi(y,w,f),f&&D&4&&Gl(y,w);break;case 22:w.memoizedState===null&&Qi(y,w,f),dc(w,w.return);break;case 30:break;default:Qi(y,w,f)}s=s.sibling}}function Ys(i,s){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Yi(f))}function is(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Yi(i))}function pi(i,s,f,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ho(i,s,f,h),s=s.sibling}function Ho(i,s,f,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:pi(i,s,f,h),y&2048&&Xi(9,s);break;case 1:pi(i,s,f,h);break;case 3:pi(i,s,f,h),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Yi(i)));break;case 12:if(y&2048){pi(i,s,f,h),i=s.stateNode;try{var w=s.memoizedProps,D=w.id,U=w.onPostCommit;typeof U=="function"&&U(D,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ne(s,s.return,V)}}else pi(i,s,f,h);break;case 13:pi(i,s,f,h);break;case 23:break;case 22:w=s.stateNode,D=s.alternate,s.memoizedState!==null?w._visibility&2?pi(i,s,f,h):mc(i,s):w._visibility&2?pi(i,s,f,h):(w._visibility|=2,$i(i,s,f,h,(s.subtreeFlags&10256)!==0)),y&2048&&Ys(D,s);break;case 24:pi(i,s,f,h),y&2048&&is(s.alternate,s);break;default:pi(i,s,f,h)}}function $i(i,s,f,h,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var w=i,D=s,U=f,V=h,ue=D.flags;switch(D.tag){case 0:case 11:case 15:$i(w,D,U,V,y),Xi(8,D);break;case 23:break;case 22:var we=D.stateNode;D.memoizedState!==null?we._visibility&2?$i(w,D,U,V,y):mc(w,D):(we._visibility|=2,$i(w,D,U,V,y)),y&&ue&2048&&Ys(D.alternate,D);break;case 24:$i(w,D,U,V,y),y&&ue&2048&&is(D.alternate,D);break;default:$i(w,D,U,V,y)}s=s.sibling}}function mc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=i,h=s,y=h.flags;switch(h.tag){case 22:mc(f,h),y&2048&&Ys(h.alternate,h);break;case 24:mc(f,h),y&2048&&is(h.alternate,h);break;default:mc(f,h)}s=s.sibling}}var Zs=8192;function ql(i){if(i.subtreeFlags&Zs)for(i=i.child;i!==null;)$h(i),i=i.sibling}function $h(i){switch(i.tag){case 26:ql(i),i.flags&Zs&&i.memoizedState!==null&&Xw(wa,i.memoizedState,i.memoizedProps);break;case 5:ql(i);break;case 3:case 4:var s=wa;wa=Op(i.stateNode.containerInfo),ql(i),wa=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Zs,Zs=16777216,ql(i),Zs=s):ql(i));break;default:ql(i)}}function Ep(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Sr(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];En=h,Jh(h,i)}Ep(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Go(i),i=i.sibling}function Go(i){switch(i.tag){case 0:case 11:case 15:Sr(i),i.flags&2048&&Sa(9,i,i.return);break;case 3:Sr(i);break;case 12:Sr(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rs(i)):Sr(i);break;default:Sr(i)}}function rs(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var h=s[f];En=h,Jh(h,i)}Ep(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Sa(8,s,s.return),rs(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,rs(s));break;default:rs(s)}i=i.sibling}}function Jh(i,s){for(;En!==null;){var f=En;switch(f.tag){case 0:case 11:case 15:Sa(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var h=f.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Yi(f.memoizedState.cache)}if(h=f.child,h!==null)h.return=f,En=h;else e:for(f=i;En!==null;){h=En;var y=h.sibling,w=h.return;if(Kf(h),h===f){En=null;break e}if(y!==null){y.return=w,En=y;break e}En=w}}}var Ri={getCacheForType:function(i){var s=_a(Pn),f=s.data.get(i);return f===void 0&&(f=i(),s.data.set(i,f)),f}},wr=typeof WeakMap=="function"?WeakMap:Map,pt=0,on=null,Nt=null,Bt=0,mt=0,ka=null,xa=!1,mn=!1,vc=!1,xr=0,Rt=0,fn=0,qn=0,mi=0,oa=0,qo=0,Ks=null,ua=null,Vo=!1,Yo=0,Vl=1/0,Is=null,Xs=null,st=0,Yt=null,St=null,Ot=0,Jt=0,Pa=null,ss=null,Er=0,yc=null;function Un(){if((pt&2)!==0&&Bt!==0)return Bt&-Bt;if(L.T!==null){var i=Ao;return i!==0?i:qv()}return hl()}function Mn(){oa===0&&(oa=(Bt&536870912)===0||Vt?dl():536870912);var i=di.current;return i!==null&&(i.flags|=32),oa}function Vn(i,s,f){(i===on&&(mt===2||mt===9)||i.cancelPendingCommit!==null)&&($s(i,0),vi(i,Bt,oa,!1)),Gi(i,f),((pt&2)===0||i!==on)&&(i===on&&((pt&2)===0&&(qn|=f),Rt===4&&vi(i,Bt,oa,!1)),Xe(i))}function Fs(i,s,f){if((pt&6)!==0)throw Error(a(327));var h=!f&&(s&124)===0&&(s&i.expiredLanes)===0||Hi(i,s),y=h?Ko(i,s):Zn(i,s,!0),w=h;do{if(y===0){mn&&!h&&vi(i,s,0,!1);break}else{if(f=i.current.alternate,w&&!Oi(f)){y=Zn(i,s,!1),w=!1;continue}if(y===2){if(w=s,i.errorRecoveryDisabledLanes&w)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var U=i;y=Ks;var V=U.current.memoizedState.isDehydrated;if(V&&($s(U,D).flags|=256),D=Zn(U,D,!1),D!==2){if(vc&&!V){U.errorRecoveryDisabledLanes|=w,qn|=w,y=4;break e}w=ua,ua=y,w!==null&&(ua===null?ua=w:ua.push.apply(ua,w))}y=D}if(w=!1,y!==2)continue}}if(y===1){$s(i,0),vi(i,s,0,!0);break}e:{switch(h=i,w=y,w){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:vi(h,s,oa,!xa);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(y=Yo+300-ia(),10<y)){if(vi(h,s,oa,!xa),Ur(h,0,!0)!==0)break e;h.timeoutHandle=fb(If.bind(null,h,f,ua,Is,Vo,s,oa,qn,qo,xa,w,2,-0,0),y);break e}If(h,f,ua,Is,Vo,s,oa,qn,qo,xa,w,0,-0,0)}}break}while(!0);Xe(i)}function If(i,s,f,h,y,w,D,U,V,ue,we,Ee,fe,he){if(i.timeoutHandle=-1,Ee=s.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(i0={stylesheets:null,count:0,unsuspend:Iw},$h(s),Ee=Fw(),Ee!==null)){i.cancelPendingCommit=Ee(o.bind(null,i,s,w,f,h,y,D,U,V,we,1,fe,he)),vi(i,w,D,!ue);return}o(i,s,w,f,h,y,D,U,V)}function Oi(i){for(var s=i;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var h=0;h<f.length;h++){var y=f[h],w=y.getSnapshot;y=y.value;try{if(!ui(w(),y))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vi(i,s,f,h){s&=~mi,s&=~qn,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var y=s;0<y;){var w=31-tn(y),D=1<<w;h[w]=-1,y&=~D}f!==0&&ys(i,f,s)}function Qs(){return(pt&6)===0?(nn(0),!1):!0}function Ea(){if(Nt!==null){if(mt===0)var i=Nt.return;else i=Nt,dr=Ms=null,Th(i),jo=null,ja=0,i=Nt;for(;i!==null;)fc(i.alternate,i),i=i.return;Nt=null}}function $s(i,s){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,Mw(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),Ea(),on=i,Nt=f=ur(i.current,null),Bt=s,mt=0,ka=null,xa=!1,mn=Hi(i,s),vc=!1,qo=oa=mi=qn=fn=Rt=0,ua=Ks=null,Vo=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var y=31-tn(h),w=1<<y;s|=i[y],h&=~w}return xr=s,ci(),f}function Xf(i,s){At=null,L.H=kf,s===jl||s===zl?(s=Sh(),mt=3):s===Lg?(s=Sh(),mt=4):mt=s===vp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ka=s,Nt===null&&(Rt=1,Bf(i,Fn(s,i.current)))}function Zo(){var i=L.H;return L.H=kf,i===null?kf:i}function bc(){var i=L.A;return L.A=Ri,i}function Cr(){Rt=4,xa||(Bt&4194048)!==Bt&&di.current!==null||(mn=!0),(fn&134217727)===0&&(qn&134217727)===0||on===null||vi(on,Bt,oa,!1)}function Zn(i,s,f){var h=pt;pt|=2;var y=Zo(),w=bc();(on!==i||Bt!==s)&&(Is=null,$s(i,s)),s=!1;var D=Rt;e:do try{if(mt!==0&&Nt!==null){var U=Nt,V=ka;switch(mt){case 8:Ea(),D=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(s=!0);var ue=mt;if(mt=0,ka=null,Yl(i,U,V,ue),f&&mn){D=0;break e}break;default:ue=mt,mt=0,ka=null,Yl(i,U,V,ue)}}Js(),D=Rt;break}catch(we){Xf(i,we)}while(!0);return s&&i.shellSuspendCounter++,dr=Ms=null,pt=h,L.H=y,L.A=w,Nt===null&&(on=null,Bt=0,ci()),D}function Js(){for(;Nt!==null;)Ff(Nt)}function Ko(i,s){var f=pt;pt|=2;var h=Zo(),y=bc();on!==i||Bt!==s?(Is=null,Vl=ia()+500,$s(i,s)):mn=Hi(i,s);e:do try{if(mt!==0&&Nt!==null){s=Nt;var w=ka;t:switch(mt){case 1:mt=0,ka=null,Yl(i,s,w,1);break;case 2:case 9:if(Ul(w)){mt=0,ka=null,Qf(s);break}s=function(){mt!==2&&mt!==9||on!==i||(mt=7),Xe(i)},w.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Ul(w)?(mt=0,ka=null,Qf(s)):(mt=0,ka=null,Yl(i,s,w,7));break;case 5:var D=null;switch(Nt.tag){case 26:D=Nt.memoizedState;case 5:case 27:var U=Nt;if(!D||xb(D)){mt=0,ka=null;var V=U.sibling;if(V!==null)Nt=V;else{var ue=U.return;ue!==null?(Nt=ue,Ws(ue)):Nt=null}break t}}mt=0,ka=null,Yl(i,s,w,5);break;case 6:mt=0,ka=null,Yl(i,s,w,6);break;case 8:Ea(),Rt=6;break e;default:throw Error(a(462))}}Io();break}catch(we){Xf(i,we)}while(!0);return dr=Ms=null,L.H=h,L.A=y,pt=f,Nt!==null?0:(on=null,Bt=0,ci(),Rt)}function Io(){for(;Nt!==null&&!ai();)Ff(Nt)}function Ff(i){var s=cc(i.alternate,i,xr);i.memoizedProps=i.pendingProps,s===null?Ws(i):Nt=s}function Qf(i){var s=i,f=s.alternate;switch(s.tag){case 15:case 0:s=qf(f,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=qf(f,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:Th(s);default:fc(f,s),s=Nt=_f(s,xr),s=cc(f,s,xr)}i.memoizedProps=i.pendingProps,s===null?Ws(i):Nt=s}function Yl(i,s,f,h){dr=Ms=null,Th(s),jo=null,ja=0;var y=s.return;try{if(Bv(i,y,s,f,Bt)){Rt=1,Bf(i,Fn(f,i.current)),Nt=null;return}}catch(w){if(y!==null)throw Nt=y,w;Rt=1,Bf(i,Fn(f,i.current)),Nt=null;return}s.flags&32768?(Vt||h===1?i=!0:mn||(Bt&536870912)!==0?i=!1:(xa=i=!0,(h===2||h===9||h===3||h===6)&&(h=di.current,h!==null&&h.tag===13&&(h.flags|=16384))),$f(s,i)):Ws(s)}function Ws(i){var s=i;do{if((s.flags&32768)!==0){$f(s,xa);return}i=s.return;var f=Xh(s.alternate,s,xr);if(f!==null){Nt=f;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);Rt===0&&(Rt=5)}function $f(i,s){do{var f=hi(i.alternate,i);if(f!==null){f.flags&=32767,Nt=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=f}while(i!==null);Rt=6,Nt=null}function o(i,s,f,h,y,w,D,U,V){i.cancelPendingCommit=null;do C();while(st!==0);if((pt&6)!==0)throw Error(a(327));if(s!==null){if(s===i.current)throw Error(a(177));if(w=s.lanes|s.childLanes,w|=Pu,Kc(i,f,w,D,U,V),i===on&&(Nt=on=null,Bt=0),St=s,Yt=i,Ot=f,Jt=w,Pa=y,ss=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Mi(ie,function(){return P(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=L.T,L.T=null,y=Q.p,Q.p=2,D=pt,pt|=4;try{Hv(i,s,f)}finally{pt=D,Q.p=y,L.T=h}}st=1,u(),p(),b()}}function u(){if(st===1){st=0;var i=Yt,s=St,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=L.T,L.T=null;var h=Q.p;Q.p=2;var y=pt;pt|=4;try{pc(s,i);var w=Qv,D=ch(i.containerInfo),U=w.focusedElem,V=w.selectionRange;if(D!==U&&U&&U.ownerDocument&&uh(U.ownerDocument.documentElement,U)){if(V!==null&&xl(U)){var ue=V.start,we=V.end;if(we===void 0&&(we=ue),"selectionStart"in U)U.selectionStart=ue,U.selectionEnd=Math.min(we,U.value.length);else{var Ee=U.ownerDocument||document,fe=Ee&&Ee.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),vt=U.textContent.length,ft=Math.min(V.start,vt),yn=V.end===void 0?ft:Math.min(V.end,vt);!he.extend&&ft>yn&&(D=yn,yn=ft,ft=D);var ee=Zr(U,ft),F=Zr(U,yn);if(ee&&F&&(he.rangeCount!==1||he.anchorNode!==ee.node||he.anchorOffset!==ee.offset||he.focusNode!==F.node||he.focusOffset!==F.offset)){var re=Ee.createRange();re.setStart(ee.node,ee.offset),he.removeAllRanges(),ft>yn?(he.addRange(re),he.extend(F.node,F.offset)):(re.setEnd(F.node,F.offset),he.addRange(re))}}}}for(Ee=[],he=U;he=he.parentNode;)he.nodeType===1&&Ee.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ee.length;U++){var xe=Ee[U];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}zp=!!Fv,Qv=Fv=null}finally{pt=y,Q.p=h,L.T=f}}i.current=s,st=2}}function p(){if(st===2){st=0;var i=Yt,s=St,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=L.T,L.T=null;var h=Q.p;Q.p=2;var y=pt;pt|=4;try{Bo(i,s.alternate,s)}finally{pt=y,Q.p=h,L.T=f}}st=3}}function b(){if(st===4||st===3){st=0,ii();var i=Yt,s=St,f=Ot,h=ss;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?st=5:(st=0,St=Yt=null,x(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Xs=null),co(f),s=s.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(qe,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=L.T,y=Q.p,Q.p=2,L.T=null;try{for(var w=i.onRecoverableError,D=0;D<h.length;D++){var U=h[D];w(U.value,{componentStack:U.stack})}}finally{L.T=s,Q.p=y}}(Ot&3)!==0&&C(),Xe(i),y=i.pendingLanes,(f&4194090)!==0&&(y&42)!==0?i===yc?Er++:(Er=0,yc=i):Er=0,nn(0)}}function x(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Yi(s)))}function C(i){return u(),p(),b(),P()}function P(){if(st!==5)return!1;var i=Yt,s=Jt;Jt=0;var f=co(Ot),h=L.T,y=Q.p;try{Q.p=32>f?32:f,L.T=null,f=Pa,Pa=null;var w=Yt,D=Ot;if(st=0,St=Yt=null,Ot=0,(pt&6)!==0)throw Error(a(331));var U=pt;if(pt|=4,Go(w.current),Ho(w,w.current,D,f),pt=U,nn(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(qe,w)}catch{}return!0}finally{Q.p=y,L.T=h,x(i,s)}}function Y(i,s,f){s=Fn(f,s),s=Uo(i.stateNode,s,2),i=Na(i,s,2),i!==null&&(Gi(i,2),Xe(i))}function ne(i,s,f){if(i.tag===3)Y(i,i,f);else for(;s!==null;){if(s.tag===3){Y(s,i,f);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Xs===null||!Xs.has(h))){i=Fn(f,i),f=oc(2),h=Na(s,f,2),h!==null&&(Hf(f,h,s,i),Gi(h,2),Xe(h));break}}s=s.return}}function Te(i,s,f){var h=i.pingCache;if(h===null){h=i.pingCache=new wr;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(f)||(vc=!0,y.add(f),i=je.bind(null,i,s,f),s.then(i,i))}function je(i,s,f){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,on===i&&(Bt&f)===f&&(Rt===4||Rt===3&&(Bt&62914560)===Bt&&300>ia()-Yo?(pt&2)===0&&$s(i,0):mi|=f,qo===Bt&&(qo=0)),Xe(i)}function Ge(i,s){s===0&&(s=kr()),i=or(i,s),i!==null&&(Gi(i,s),Xe(i))}function Ve(i){var s=i.memoizedState,f=0;s!==null&&(f=s.retryLane),Ge(i,f)}function xt(i,s){var f=0;switch(i.tag){case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(f=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),Ge(i,f)}function Mi(i,s){return ga(i,s)}var el=null,Di=null,ce=!1,W=!1,ge=!1,Oe=0;function Xe(i){i!==Di&&i.next===null&&(Di===null?el=Di=i:Di=Di.next=i),W=!0,ce||(ce=!0,Gv())}function nn(i,s){if(!ge&&W){ge=!0;do for(var f=!1,h=el;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var D=h.suspendedLanes,U=h.pingedLanes;w=(1<<31-tn(42|i)+1)-1,w&=y&~(D&~U),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,ls(h,w))}else w=Bt,w=Ur(h,h===on?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Hi(h,w)||(f=!0,ls(h,w));h=h.next}while(f);ge=!1}}function dt(){Zt()}function Zt(){W=ce=!1;var i=0;Oe!==0&&(Ow()&&(i=Oe),Oe=0);for(var s=ia(),f=null,h=el;h!==null;){var y=h.next,w=Kn(h,s);w===0?(h.next=null,f===null?el=y:f.next=y,y===null&&(Di=f)):(f=h,(i!==0||(w&3)!==0)&&(W=!0)),h=y}nn(i)}function Kn(i,s){for(var f=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var D=31-tn(w),U=1<<D,V=y[D];V===-1?((U&f)===0||(U&h)!==0)&&(y[D]=Lr(U,s)):V<=s&&(i.expiredLanes|=U),w&=~U}if(s=on,f=Bt,f=Ur(i,i===s?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,f===0||i===s&&(mt===2||mt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ha(h),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||Hi(i,f)){if(s=f&-f,s===i.callbackPriority)return s;switch(h!==null&&Ha(h),co(f)){case 2:case 8:f=I;break;case 32:f=ie;break;case 268435456:f=Pe;break;default:f=ie}return h=Kt.bind(null,i),f=ga(f,h),i.callbackPriority=s,i.callbackNode=f,s}return h!==null&&h!==null&&Ha(h),i.callbackPriority=2,i.callbackNode=null,2}function Kt(i,s){if(st!==0&&st!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(C()&&i.callbackNode!==f)return null;var h=Bt;return h=Ur(i,i===on?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Fs(i,h,s),Kn(i,ia()),i.callbackNode!=null&&i.callbackNode===f?Kt.bind(null,i):null)}function ls(i,s){if(C())return null;Fs(i,s,!0)}function Gv(){Dw(function(){(pt&6)!==0?ga(ki,dt):Zt()})}function qv(){return Oe===0&&(Oe=dl()),Oe}function nb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Jc(""+i)}function ab(i,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,i.id&&f.setAttribute("form",i.id),s.parentNode.insertBefore(f,s),i=new FormData(i),f.parentNode.removeChild(f),i}function ww(i,s,f,h,y){if(s==="submit"&&f&&f.stateNode===y){var w=nb((y[Ce]||null).action),D=h.submitter;D&&(s=(s=D[Ce]||null)?nb(s.formAction):D.getAttribute("formAction"),s!==null&&(w=s,D=null));var U=new Du("action","action",null,h,y);i.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Oe!==0){var V=D?ab(y,D):new FormData(y);Ph(f,{pending:!0,data:V,method:y.method,action:w},null,V)}}else typeof w=="function"&&(U.preventDefault(),V=D?ab(y,D):new FormData(y),Ph(f,{pending:!0,data:V,method:y.method,action:w},w,V))},currentTarget:y}]})}}for(var Vv=0;Vv<va.length;Vv++){var Yv=va[Vv],xw=Yv.toLowerCase(),Ew=Yv[0].toUpperCase()+Yv.slice(1);xi(xw,"on"+Ew)}xi(fh,"onAnimationEnd"),xi(wi,"onAnimationIteration"),xi(bf,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Ng,"onTransitionRun"),xi(jv,"onTransitionStart"),xi(dh,"onTransitionCancel"),xi(ma,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wh));function ib(i,s){s=(s&4)!==0;for(var f=0;f<i.length;f++){var h=i[f],y=h.event;h=h.listeners;e:{var w=void 0;if(s)for(var D=h.length-1;0<=D;D--){var U=h[D],V=U.instance,ue=U.currentTarget;if(U=U.listener,V!==w&&y.isPropagationStopped())break e;w=U,y.currentTarget=ue;try{w(y)}catch(we){ns(we)}y.currentTarget=null,w=V}else for(D=0;D<h.length;D++){if(U=h[D],V=U.instance,ue=U.currentTarget,U=U.listener,V!==w&&y.isPropagationStopped())break e;w=U,y.currentTarget=ue;try{w(y)}catch(we){ns(we)}y.currentTarget=null,w=V}}}}function Ht(i,s){var f=s[Qe];f===void 0&&(f=s[Qe]=new Set);var h=i+"__bubble";f.has(h)||(rb(s,i,2,!1),f.add(h))}function Zv(i,s,f){var h=0;s&&(h|=4),rb(f,i,h,s)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function Kv(i){if(!i[Cp]){i[Cp]=!0,rn.forEach(function(f){f!=="selectionchange"&&(Cw.has(f)||Zv(f,!1,i),Zv(f,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Cp]||(s[Cp]=!0,Zv("selectionchange",!1,s))}}function rb(i,s,f,h){switch(Ob(s)){case 2:var y=Jw;break;case 8:y=Ww;break;default:y=s1}f=y.bind(null,s,f,i),y=void 0,!ef||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(s,f,{capture:!0,passive:y}):i.addEventListener(s,f,!0):y!==void 0?i.addEventListener(s,f,{passive:y}):i.addEventListener(s,f,!1)}function Iv(i,s,f,h,y){var w=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var U=h.stateNode.containerInfo;if(U===y)break;if(D===4)for(D=h.return;D!==null;){var V=D.tag;if((V===3||V===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;U!==null;){if(D=Ke(U),D===null)return;if(V=D.tag,V===5||V===6||V===26||V===27){h=w=D;continue e}U=U.parentNode}}h=h.return}$d(function(){var ue=w,we=Ss(f),Ee=[];e:{var fe=hh.get(i);if(fe!==void 0){var he=Du,vt=i;switch(i){case"keypress":if(po(f)===0)break e;case"keydown":case"keyup":he=lf;break;case"focusin":vt="focus",he=bl;break;case"focusout":vt="blur",he=bl;break;case"beforeblur":case"afterblur":he=bl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=wg;break;case fh:case wi:case bf:he=mg;break;case ma:he=sa;break;case"scroll":case"scrollend":he=Ov;break;case"wheel":he=Eg;break;case"copy":case"cut":case"paste":he=ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=of;break;case"toggle":case"beforetoggle":he=Tg}var ft=(s&4)!==0,yn=!ft&&(i==="scroll"||i==="scrollend"),ee=ft?fe!==null?fe+"Capture":null:fe;ft=[];for(var F=ue,re;F!==null;){var xe=F;if(re=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||re===null||ee===null||(xe=ho(F,ee),xe!=null&&ft.push(e0(F,xe,re))),yn)break;F=F.return}0<ft.length&&(fe=new he(fe,vt,null,f,we),Ee.push({event:fe,listeners:ft}))}}if((s&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",fe&&f!==Wc&&(vt=f.relatedTarget||f.fromElement)&&(Ke(vt)||vt[ze]))break e;if((he||fe)&&(fe=we.window===we?we:(fe=we.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(vt=f.relatedTarget||f.toElement,he=ue,vt=vt?Ke(vt):null,vt!==null&&(yn=l(vt),ft=vt.tag,vt!==yn||ft!==5&&ft!==27&&ft!==6)&&(vt=null)):(he=null,vt=ue),he!==vt)){if(ft=Nu,xe="onMouseLeave",ee="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ft=of,xe="onPointerLeave",ee="onPointerEnter",F="pointer"),yn=he==null?fe:Ft(he),re=vt==null?fe:Ft(vt),fe=new ft(xe,F+"leave",he,f,we),fe.target=yn,fe.relatedTarget=re,xe=null,Ke(we)===ue&&(ft=new ft(ee,F+"enter",vt,f,we),ft.target=re,ft.relatedTarget=yn,xe=ft),yn=xe,he&&vt)t:{for(ft=he,ee=vt,F=0,re=ft;re;re=Jf(re))F++;for(re=0,xe=ee;xe;xe=Jf(xe))re++;for(;0<F-re;)ft=Jf(ft),F--;for(;0<re-F;)ee=Jf(ee),re--;for(;F--;){if(ft===ee||ee!==null&&ft===ee.alternate)break t;ft=Jf(ft),ee=Jf(ee)}ft=null}else ft=null;he!==null&&sb(Ee,fe,he,ft,!1),vt!==null&&yn!==null&&sb(Ee,yn,vt,ft,!0)}}e:{if(fe=ue?Ft(ue):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var $e=Ka;else if(df(fe))if(lh)$e=Rn;else{$e=mf;var Ut=Mg}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&$c(ue.elementType)&&($e=Ka):$e=Uu;if($e&&($e=$e(i,ue))){sh(Ee,$e,f,we);break e}Ut&&Ut(i,fe,ue),i==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&Qc(fe,"number",fe.value)}switch(Ut=ue?Ft(ue):window,i){case"focusin":(df(Ut)||Ut.contentEditable==="true")&&(El=Ut,Lu=ue,So=null);break;case"focusout":So=Lu=El=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,vf(Ee,f,we);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":vf(Ee,f,we)}var at;if(yo)e:{switch(i){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else xs?cf(i,f)&&(ht="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(ht="onCompositionStart");ht&&(nh&&f.locale!=="ko"&&(xs||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&xs&&(at=Jd()):(Hr=we,Ru="value"in Hr?Hr.value:Hr.textContent,xs=!0)),Ut=Tp(ue,ht),0<Ut.length&&(ht=new Vr(ht,i,null,f,we),Ee.push({event:ht,listeners:Ut}),at?ht.data=at:(at=ih(f),at!==null&&(ht.data=at)))),(at=Rg?ff(i,f):rh(i,f))&&(ht=Tp(ue,"onBeforeInput"),0<ht.length&&(Ut=new Vr("onBeforeInput","beforeinput",null,f,we),Ee.push({event:Ut,listeners:ht}),Ut.data=at)),ww(Ee,i,ue,f,we)}ib(Ee,s)})}function e0(i,s,f){return{instance:i,listener:s,currentTarget:f}}function Tp(i,s){for(var f=s+"Capture",h=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=ho(i,f),y!=null&&h.unshift(e0(i,y,w)),y=ho(i,s),y!=null&&h.push(e0(i,y,w))),i.tag===3)return h;i=i.return}return[]}function Jf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sb(i,s,f,h,y){for(var w=s._reactName,D=[];f!==null&&f!==h;){var U=f,V=U.alternate,ue=U.stateNode;if(U=U.tag,V!==null&&V===h)break;U!==5&&U!==26&&U!==27||ue===null||(V=ue,y?(ue=ho(f,w),ue!=null&&D.unshift(e0(f,ue,V))):y||(ue=ho(f,w),ue!=null&&D.push(e0(f,ue,V)))),f=f.return}D.length!==0&&i.push({event:s,listeners:D})}var Tw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function lb(i){return(typeof i=="string"?i:""+i).replace(Tw,`
`).replace(Aw,"")}function ob(i,s){return s=lb(s),lb(i)===s}function Ap(){}function vn(i,s,f,h,y,w){switch(f){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||ml(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&ml(i,""+h);break;case"className":qi(i,"class",h);break;case"tabIndex":qi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":qi(i,f,h);break;case"style":Qd(i,h,w);break;case"data":if(s!=="object"){qi(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||f!=="href")){i.removeAttribute(f);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=Jc(""+h),i.setAttribute(f,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(s!=="input"&&vn(i,s,"name",y.name,y,null),vn(i,s,"formEncType",y.formEncType,y,null),vn(i,s,"formMethod",y.formMethod,y,null),vn(i,s,"formTarget",y.formTarget,y,null)):(vn(i,s,"encType",y.encType,y,null),vn(i,s,"method",y.method,y,null),vn(i,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=Jc(""+h),i.setAttribute(f,h);break;case"onClick":h!=null&&(i.onclick=Ap);break;case"onScroll":h!=null&&Ht("scroll",i);break;case"onScrollEnd":h!=null&&Ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=f}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}f=Jc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""+h):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":h===!0?i.setAttribute(f,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,h):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(f,h):i.removeAttribute(f);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(f):i.setAttribute(f,h);break;case"popover":Ht("beforetoggle",i),Ht("toggle",i),Za(i,"popover",h);break;case"xlinkActuate":pa(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pa(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pa(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pa(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pa(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pa(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pa(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pa(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pa(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Za(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=dg.get(f)||f,Za(i,f,h))}}function Xv(i,s,f,h,y,w){switch(f){case"style":Qd(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=f}}break;case"children":typeof h=="string"?ml(i,h):(typeof h=="number"||typeof h=="bigint")&&ml(i,""+h);break;case"onScroll":h!=null&&Ht("scroll",i);break;case"onScrollEnd":h!=null&&Ht("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ap);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wt.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),s=f.slice(2,y?f.length-7:void 0),w=i[Ce]||null,w=w!=null?w[f]:null,typeof w=="function"&&i.removeEventListener(s,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(s,h,y);break e}f in i?i[f]=h:h===!0?i.setAttribute(f,""):Za(i,f,h)}}}function Ba(i,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",i),Ht("load",i);var h=!1,y=!1,w;for(w in f)if(f.hasOwnProperty(w)){var D=f[w];if(D!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:vn(i,s,w,D,f,null)}}y&&vn(i,s,"srcSet",f.srcSet,f,null),h&&vn(i,s,"src",f.src,f,null);return;case"input":Ht("invalid",i);var U=w=D=y=null,V=null,ue=null;for(h in f)if(f.hasOwnProperty(h)){var we=f[h];if(we!=null)switch(h){case"name":y=we;break;case"type":D=we;break;case"checked":V=we;break;case"defaultChecked":ue=we;break;case"value":w=we;break;case"defaultValue":U=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,s));break;default:vn(i,s,h,we,f,null)}}Fc(i,w,U,V,ue,D,y,!1),Cu(i);return;case"select":Ht("invalid",i),h=D=w=null;for(y in f)if(f.hasOwnProperty(y)&&(U=f[y],U!=null))switch(y){case"value":w=U;break;case"defaultValue":D=U;break;case"multiple":h=U;default:vn(i,s,y,U,f,null)}s=w,f=D,i.multiple=!!h,s!=null?fo(i,!!h,s,!1):f!=null&&fo(i,!!h,f,!0);return;case"textarea":Ht("invalid",i),w=y=h=null;for(D in f)if(f.hasOwnProperty(D)&&(U=f[D],U!=null))switch(D){case"value":h=U;break;case"defaultValue":y=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:vn(i,s,D,U,f,null)}Id(i,h,y,w),Cu(i);return;case"option":for(V in f)if(f.hasOwnProperty(V)&&(h=f[V],h!=null))switch(V){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:vn(i,s,V,h,f,null)}return;case"dialog":Ht("beforetoggle",i),Ht("toggle",i),Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":Ht("load",i);break;case"video":case"audio":for(h=0;h<Wh.length;h++)Ht(Wh[h],i);break;case"image":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"embed":case"source":case"link":Ht("error",i),Ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in f)if(f.hasOwnProperty(ue)&&(h=f[ue],h!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:vn(i,s,ue,h,f,null)}return;default:if($c(s)){for(we in f)f.hasOwnProperty(we)&&(h=f[we],h!==void 0&&Xv(i,s,we,h,f,void 0));return}}for(U in f)f.hasOwnProperty(U)&&(h=f[U],h!=null&&vn(i,s,U,h,f,null))}function Rw(i,s,f,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,D=null,U=null,V=null,ue=null,we=null;for(he in f){var Ee=f[he];if(f.hasOwnProperty(he)&&Ee!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":V=Ee;default:h.hasOwnProperty(he)||vn(i,s,he,null,h,Ee)}}for(var fe in h){var he=h[fe];if(Ee=f[fe],h.hasOwnProperty(fe)&&(he!=null||Ee!=null))switch(fe){case"type":w=he;break;case"name":y=he;break;case"checked":ue=he;break;case"defaultChecked":we=he;break;case"value":D=he;break;case"defaultValue":U=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,s));break;default:he!==Ee&&vn(i,s,fe,he,h,Ee)}}Xc(i,D,U,V,ue,we,w,y);return;case"select":he=D=U=fe=null;for(w in f)if(V=f[w],f.hasOwnProperty(w)&&V!=null)switch(w){case"value":break;case"multiple":he=V;default:h.hasOwnProperty(w)||vn(i,s,w,null,h,V)}for(y in h)if(w=h[y],V=f[y],h.hasOwnProperty(y)&&(w!=null||V!=null))switch(y){case"value":fe=w;break;case"defaultValue":U=w;break;case"multiple":D=w;default:w!==V&&vn(i,s,y,w,h,V)}s=U,f=D,h=he,fe!=null?fo(i,!!f,fe,!1):!!h!=!!f&&(s!=null?fo(i,!!f,s,!0):fo(i,!!f,f?[]:"",!1));return;case"textarea":he=fe=null;for(U in f)if(y=f[U],f.hasOwnProperty(U)&&y!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:vn(i,s,U,null,h,y)}for(D in h)if(y=h[D],w=f[D],h.hasOwnProperty(D)&&(y!=null||w!=null))switch(D){case"value":fe=y;break;case"defaultValue":he=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==w&&vn(i,s,D,y,h,w)}Kd(i,fe,he);return;case"option":for(var vt in f)if(fe=f[vt],f.hasOwnProperty(vt)&&fe!=null&&!h.hasOwnProperty(vt))switch(vt){case"selected":i.selected=!1;break;default:vn(i,s,vt,null,h,fe)}for(V in h)if(fe=h[V],he=f[V],h.hasOwnProperty(V)&&fe!==he&&(fe!=null||he!=null))switch(V){case"selected":i.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:vn(i,s,V,fe,h,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in f)fe=f[ft],f.hasOwnProperty(ft)&&fe!=null&&!h.hasOwnProperty(ft)&&vn(i,s,ft,null,h,fe);for(ue in h)if(fe=h[ue],he=f[ue],h.hasOwnProperty(ue)&&fe!==he&&(fe!=null||he!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,s));break;default:vn(i,s,ue,fe,h,he)}return;default:if($c(s)){for(var yn in f)fe=f[yn],f.hasOwnProperty(yn)&&fe!==void 0&&!h.hasOwnProperty(yn)&&Xv(i,s,yn,void 0,h,fe);for(we in h)fe=h[we],he=f[we],!h.hasOwnProperty(we)||fe===he||fe===void 0&&he===void 0||Xv(i,s,we,fe,h,he);return}}for(var ee in f)fe=f[ee],f.hasOwnProperty(ee)&&fe!=null&&!h.hasOwnProperty(ee)&&vn(i,s,ee,null,h,fe);for(Ee in h)fe=h[Ee],he=f[Ee],!h.hasOwnProperty(Ee)||fe===he||fe==null&&he==null||vn(i,s,Ee,fe,h,he)}var Fv=null,Qv=null;function Rp(i){return i.nodeType===9?i:i.ownerDocument}function ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function $v(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jv=null;function Ow(){var i=window.event;return i&&i.type==="popstate"?i===Jv?!1:(Jv=i,!0):(Jv=null,!1)}var fb=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,db=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof db<"u"?function(i){return db.resolve(null).then(i).catch(Nw)}:fb;function Nw(i){setTimeout(function(){throw i})}function Xo(i){return i==="head"}function hb(i,s){var f=s,h=0,y=0;do{var w=f.nextSibling;if(i.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<h&&8>h){f=h;var D=i.ownerDocument;if(f&1&&t0(D.documentElement),f&2&&t0(D.body),f&4)for(f=D.head,t0(f),D=f.firstChild;D;){var U=D.nextSibling,V=D.nodeName;D[tt]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=U}}if(y===0){i.removeChild(w),u0(s);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:h=f.charCodeAt(0)-48;else h=0;f=w}while(f);u0(s)}function Wv(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Wv(f),We(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function jw(i,s,f,h){for(;i.nodeType===1;){var y=f;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[tt])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=os(i.nextSibling),i===null)break}return null}function zw(i,s,f){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=os(i.nextSibling),i===null))return null;return i}function e1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Uw(i,s){var f=i.ownerDocument;if(i.data!=="$?"||f.readyState==="complete")s();else{var h=function(){s(),f.removeEventListener("DOMContentLoaded",h)};f.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function os(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var t1=null;function gb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return i;s--}else f==="/$"&&s++}i=i.previousSibling}return null}function pb(i,s,f){switch(s=Rp(f),i){case"html":if(i=s.documentElement,!i)throw Error(a(452));return i;case"head":if(i=s.head,!i)throw Error(a(453));return i;case"body":if(i=s.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function t0(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);We(i)}var Tr=new Map,mb=new Set;function Op(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zl=Q.d;Q.d={f:Lw,r:kw,D:Pw,C:Bw,L:Hw,m:Gw,X:Vw,S:qw,M:Yw};function Lw(){var i=Zl.f(),s=Qs();return i||s}function kw(i){var s=yt(i);s!==null&&s.tag===5&&s.type==="form"?op(s):Zl.r(i)}var Wf=typeof document>"u"?null:document;function vb(i,s,f){var h=Wf;if(h&&typeof s=="string"&&s){var y=li(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),mb.has(y)||(mb.add(y),i={rel:i,crossOrigin:f,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),Ba(s,"link",i),Lt(s),h.head.appendChild(s)))}}function Pw(i){Zl.D(i),vb("dns-prefetch",i,null)}function Bw(i,s){Zl.C(i,s),vb("preconnect",i,s)}function Hw(i,s,f){Zl.L(i,s,f);var h=Wf;if(h&&i&&s){var y='link[rel="preload"][as="'+li(s)+'"]';s==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+li(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+li(f.imageSizes)+'"]')):y+='[href="'+li(i)+'"]';var w=y;switch(s){case"style":w=ed(i);break;case"script":w=td(i)}Tr.has(w)||(i=v({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:i,as:s},f),Tr.set(w,i),h.querySelector(y)!==null||s==="style"&&h.querySelector(n0(w))||s==="script"&&h.querySelector(a0(w))||(s=h.createElement("link"),Ba(s,"link",i),Lt(s),h.head.appendChild(s)))}}function Gw(i,s){Zl.m(i,s);var f=Wf;if(f&&i){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+li(h)+'"][href="'+li(i)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=td(i)}if(!Tr.has(w)&&(i=v({rel:"modulepreload",href:i},s),Tr.set(w,i),f.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(a0(w)))return}h=f.createElement("link"),Ba(h,"link",i),Lt(h),f.head.appendChild(h)}}}function qw(i,s,f){Zl.S(i,s,f);var h=Wf;if(h&&i){var y=dn(h).hoistableStyles,w=ed(i);s=s||"default";var D=y.get(w);if(!D){var U={loading:0,preload:null};if(D=h.querySelector(n0(w)))U.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},f),(f=Tr.get(w))&&n1(i,f);var V=D=h.createElement("link");Lt(V),Ba(V,"link",i),V._p=new Promise(function(ue,we){V.onload=ue,V.onerror=we}),V.addEventListener("load",function(){U.loading|=1}),V.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Mp(D,s,h)}D={type:"stylesheet",instance:D,count:1,state:U},y.set(w,D)}}}function Vw(i,s){Zl.X(i,s);var f=Wf;if(f&&i){var h=dn(f).hoistableScripts,y=td(i),w=h.get(y);w||(w=f.querySelector(a0(y)),w||(i=v({src:i,async:!0},s),(s=Tr.get(y))&&a1(i,s),w=f.createElement("script"),Lt(w),Ba(w,"link",i),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function Yw(i,s){Zl.M(i,s);var f=Wf;if(f&&i){var h=dn(f).hoistableScripts,y=td(i),w=h.get(y);w||(w=f.querySelector(a0(y)),w||(i=v({src:i,async:!0,type:"module"},s),(s=Tr.get(y))&&a1(i,s),w=f.createElement("script"),Lt(w),Ba(w,"link",i),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function yb(i,s,f,h){var y=(y=Ye.current)?Op(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=ed(f.href),f=dn(y).hoistableStyles,h=f.get(s),h||(h={type:"style",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=ed(f.href);var w=dn(y).hoistableStyles,D=w.get(i);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,D),(w=y.querySelector(n0(i)))&&!w._p&&(D.instance=w,D.state.loading=5),Tr.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Tr.set(i,f),w||Zw(y,i,f,D.state))),s&&h===null)throw Error(a(528,""));return D}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=td(f),f=dn(y).hoistableScripts,h=f.get(s),h||(h={type:"script",instance:null,count:0,state:null},f.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function ed(i){return'href="'+li(i)+'"'}function n0(i){return'link[rel="stylesheet"]['+i+"]"}function bb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function Zw(i,s,f,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Ba(s,"link",f),Lt(s),i.head.appendChild(s))}function td(i){return'[src="'+li(i)+'"]'}function a0(i){return"script[async]"+i}function _b(i,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+li(f.href)+'"]');if(h)return s.instance=h,Lt(h),h;var y=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Lt(h),Ba(h,"style",y),Mp(h,f.precedence,i),s.instance=h;case"stylesheet":y=ed(f.href);var w=i.querySelector(n0(y));if(w)return s.state.loading|=4,s.instance=w,Lt(w),w;h=bb(f),(y=Tr.get(y))&&n1(h,y),w=(i.ownerDocument||i).createElement("link"),Lt(w);var D=w;return D._p=new Promise(function(U,V){D.onload=U,D.onerror=V}),Ba(w,"link",h),s.state.loading|=4,Mp(w,f.precedence,i),s.instance=w;case"script":return w=td(f.src),(y=i.querySelector(a0(w)))?(s.instance=y,Lt(y),y):(h=f,(y=Tr.get(w))&&(h=v({},f),a1(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),Lt(y),Ba(y,"link",h),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Mp(h,f.precedence,i));return s.instance}function Mp(i,s,f){for(var h=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,D=0;D<h.length;D++){var U=h[D];if(U.dataset.precedence===s)w=U;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(i,s.firstChild))}function n1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function a1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Dp=null;function Sb(i,s,f){if(Dp===null){var h=new Map,y=Dp=new Map;y.set(f,h)}else y=Dp,h=y.get(f),h||(h=new Map,y.set(f,h));if(h.has(i))return h;for(h.set(i,null),f=f.getElementsByTagName(i),y=0;y<f.length;y++){var w=f[y];if(!(w[tt]||w[le]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var D=w.getAttribute(s)||"";D=i+D;var U=h.get(D);U?U.push(w):h.set(D,[w])}}return h}function wb(i,s,f){i=i.ownerDocument||i,i.head.insertBefore(f,s==="title"?i.querySelector("head > title"):null)}function Kw(i,s,f){if(f===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var i0=null;function Iw(){}function Xw(i,s,f){if(i0===null)throw Error(a(475));var h=i0;if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=ed(f.href),w=i.querySelector(n0(y));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Np.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=w,Lt(w);return}w=i.ownerDocument||i,f=bb(f),(y=Tr.get(y))&&n1(f,y),w=w.createElement("link"),Lt(w);var D=w;D._p=new Promise(function(U,V){D.onload=U,D.onerror=V}),Ba(w,"link",f),s.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Np.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function Fw(){if(i0===null)throw Error(a(475));var i=i0;return i.stylesheets&&i.count===0&&i1(i,i.stylesheets),0<i.count?function(s){var f=setTimeout(function(){if(i.stylesheets&&i1(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(f)}}:null}function Np(){if(this.count--,this.count===0){if(this.stylesheets)i1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jp=null;function i1(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jp=new Map,s.forEach(Qw,i),jp=null,Np.call(i))}function Qw(i,s){if(!(s.state.loading&4)){var f=jp.get(i);if(f)var h=f.get(null);else{f=new Map,jp.set(i,f);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var D=y[w];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),h=D)}h&&f.set(null,h)}y=s.instance,D=y.getAttribute("data-precedence"),w=f.get(D)||h,w===h&&f.set(null,y),f.set(D,y),this.count++,h=Np.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var r0={$$typeof:z,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function $w(i,s,f,h,y,w,D,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Eb(i,s,f,h,y,w,D,U,V,ue,we,Ee){return i=new $w(i,s,f,D,U,V,ue,Ee),s=1,w===!0&&(s|=24),w=Ia(3,null,null,s),i.current=w,w.stateNode=i,s=To(),s.refCount++,i.pooledCache=s,s.refCount++,w.memoizedState={element:h,isDehydrated:f,cache:s},Iu(w),i}function Cb(i){return i?(i=Tl,i):Tl}function Tb(i,s,f,h,y,w){y=Cb(y),h.context===null?h.context=y:h.pendingContext=y,h=pr(s),h.payload={element:f},w=w===void 0?null:w,w!==null&&(h.callback=w),f=Na(i,h,s),f!==null&&(Vn(f,i,s),Ll(f,i,s))}function Ab(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<s?f:s}}function r1(i,s){Ab(i,s),(i=i.alternate)&&Ab(i,s)}function Rb(i){if(i.tag===13){var s=or(i,67108864);s!==null&&Vn(s,i,67108864),r1(i,67108864)}}var zp=!0;function Jw(i,s,f,h){var y=L.T;L.T=null;var w=Q.p;try{Q.p=2,s1(i,s,f,h)}finally{Q.p=w,L.T=y}}function Ww(i,s,f,h){var y=L.T;L.T=null;var w=Q.p;try{Q.p=8,s1(i,s,f,h)}finally{Q.p=w,L.T=y}}function s1(i,s,f,h){if(zp){var y=l1(h);if(y===null)Iv(i,s,h,Up,f),Mb(i,h);else if(tx(y,i,s,f,h))h.stopPropagation();else if(Mb(i,h),s&4&&-1<ex.indexOf(i)){for(;y!==null;){var w=yt(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var D=qa(w.pendingLanes);if(D!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;D;){var V=1<<31-tn(D);U.entanglements[1]|=V,D&=~V}Xe(w),(pt&6)===0&&(Vl=ia()+500,nn(0))}}break;case 13:U=or(w,2),U!==null&&Vn(U,w,2),Qs(),r1(w,2)}if(w=l1(h),w===null&&Iv(i,s,h,Up,f),w===y)break;y=w}y!==null&&h.stopPropagation()}else Iv(i,s,h,null,f)}}function l1(i){return i=Ss(i),o1(i)}var Up=null;function o1(i){if(Up=null,i=Ke(i),i!==null){var s=l(i);if(s===null)i=null;else{var f=s.tag;if(f===13){if(i=c(s),i!==null)return i;i=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Up=i,null}function Ob(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oo()){case ki:return 2;case I:return 8;case ie:case de:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var u1=!1,Fo=null,Qo=null,$o=null,s0=new Map,l0=new Map,Jo=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mb(i,s){switch(i){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":s0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":l0.delete(s.pointerId)}}function o0(i,s,f,h,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:s,domEventName:f,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},s!==null&&(s=yt(s),s!==null&&Rb(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function tx(i,s,f,h,y){switch(s){case"focusin":return Fo=o0(Fo,i,s,f,h,y),!0;case"dragenter":return Qo=o0(Qo,i,s,f,h,y),!0;case"mouseover":return $o=o0($o,i,s,f,h,y),!0;case"pointerover":var w=y.pointerId;return s0.set(w,o0(s0.get(w)||null,i,s,f,h,y)),!0;case"gotpointercapture":return w=y.pointerId,l0.set(w,o0(l0.get(w)||null,i,s,f,h,y)),!0}return!1}function Db(i){var s=Ke(i.target);if(s!==null){var f=l(s);if(f!==null){if(s=f.tag,s===13){if(s=c(f),s!==null){i.blockedOn=s,Z(i.priority,function(){if(f.tag===13){var h=Un();h=Pr(h);var y=or(f,h);y!==null&&Vn(y,f,h),r1(f,h)}});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var f=l1(i.nativeEvent);if(f===null){f=i.nativeEvent;var h=new f.constructor(f.type,f);Wc=h,f.target.dispatchEvent(h),Wc=null}else return s=yt(f),s!==null&&Rb(s),i.blockedOn=f,!1;s.shift()}return!0}function Nb(i,s,f){Lp(i)&&f.delete(s)}function nx(){u1=!1,Fo!==null&&Lp(Fo)&&(Fo=null),Qo!==null&&Lp(Qo)&&(Qo=null),$o!==null&&Lp($o)&&($o=null),s0.forEach(Nb),l0.forEach(Nb)}function kp(i,s){i.blockedOn===s&&(i.blockedOn=null,u1||(u1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nx)))}var Pp=null;function jb(i){Pp!==i&&(Pp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===i&&(Pp=null);for(var s=0;s<i.length;s+=3){var f=i[s],h=i[s+1],y=i[s+2];if(typeof h!="function"){if(o1(h||f)===null)continue;break}var w=yt(f);w!==null&&(i.splice(s,3),s-=3,Ph(w,{pending:!0,data:y,method:f.method,action:h},h,y))}}))}function u0(i){function s(V){return kp(V,i)}Fo!==null&&kp(Fo,i),Qo!==null&&kp(Qo,i),$o!==null&&kp($o,i),s0.forEach(s),l0.forEach(s);for(var f=0;f<Jo.length;f++){var h=Jo[f];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Jo.length&&(f=Jo[0],f.blockedOn===null);)Db(f),f.blockedOn===null&&Jo.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(h=0;h<f.length;h+=3){var y=f[h],w=f[h+1],D=y[Ce]||null;if(typeof w=="function")D||jb(f);else if(D){var U=null;if(w&&w.hasAttribute("formAction")){if(y=w,D=w[Ce]||null)U=D.formAction;else if(o1(y)!==null)continue}else U=D.action;typeof U=="function"?f[h+1]=U:(f.splice(h,3),h-=3),jb(f)}}}function c1(i){this._internalRoot=i}Bp.prototype.render=c1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(a(409));var f=s.current,h=Un();Tb(f,h,i,s,null,null)},Bp.prototype.unmount=c1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Tb(i.current,2,null,i,null,null),Qs(),s[ze]=null}};function Bp(i){this._internalRoot=i}Bp.prototype.unstable_scheduleHydration=function(i){if(i){var s=hl();i={blockedOn:null,target:i,priority:s};for(var f=0;f<Jo.length&&s!==0&&s<Jo[f].priority;f++);Jo.splice(f,0,i),f===0&&Db(i)}};var zb=e.version;if(zb!=="19.1.1")throw Error(a(527,zb,"19.1.1"));Q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=g(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var ax={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{qe=Hp.inject(ax),Fe=Hp}catch{}}return f0.createRoot=function(i,s){if(!r(i))throw Error(a(299));var f=!1,h="",y=Bl,w=Wa,D=mp,U=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(U=s.unstable_transitionCallbacks)),s=Eb(i,1,!1,null,null,f,h,y,w,D,U,null),i[ze]=s.current,Kv(i),new c1(s)},f0.hydrateRoot=function(i,s,f){if(!r(i))throw Error(a(299));var h=!1,y="",w=Bl,D=Wa,U=mp,V=null,ue=null;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(U=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(V=f.unstable_transitionCallbacks),f.formState!==void 0&&(ue=f.formState)),s=Eb(i,1,!0,s,f??null,h,y,w,D,U,V,ue),s.context=Cb(null),f=s.current,h=Un(),h=Pr(h),y=pr(h),y.callback=null,Na(f,y,h),f=h,s.current.lanes=f,Gi(s,f),Xe(s),i[ze]=s.current,Kv(i),new Bp(s)},f0.version="19.1.1",f0}var Yb;function hx(){if(Yb)return h1.exports;Yb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h1.exports=dx(),h1.exports}var gx=hx();var K5=t=>{throw TypeError(t)},px=(t,e,n)=>e.has(t)||K5("Cannot "+n),v1=(t,e,n)=>(px(t,e,"read from private field"),n?n.call(t):e.get(t)),mx=(t,e,n)=>e.has(t)?K5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Zb="popstate";function vx(t={}){function e(r,l){let{pathname:c="/",search:d="",hash:g=""}=to(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),B0("",{pathname:c,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){let c=r.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let g=r.location.href,m=g.indexOf("#");d=m===-1?g:g.slice(0,m)}return d+"#"+(typeof l=="string"?l:du(l))}function a(r,l){Xn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return bx(e,n,a,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yx(){return Math.random().toString(36).substring(2,10)}function Kb(t,e){return{usr:t.state,key:t.key,idx:e}}function B0(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||a||yx()}}function du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function bx(t,e,n,a={}){let{window:r=document.defaultView,v5Compat:l=!1}=a,c=r.history,d="POP",g=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let O=v(),j=O==null?null:O-m;m=O,g&&g({action:d,location:R.location,delta:j})}function S(O,j){d="PUSH";let N=B0(R.location,O,j);n&&n(N,O),m=v()+1;let z=Kb(N,m),B=R.createHref(N);try{c.pushState(z,"",B)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;r.location.assign(B)}l&&g&&g({action:d,location:R.location,delta:1})}function E(O,j){d="REPLACE";let N=B0(R.location,O,j);n&&n(N,O),m=v();let z=Kb(N,m),B=R.createHref(N);c.replaceState(z,"",B),l&&g&&g({action:d,location:R.location,delta:0})}function T(O){return I5(O)}let R={get action(){return d},get location(){return t(r,c)},listen(O){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(Zb,_),g=O,()=>{r.removeEventListener(Zb,_),g=null}},createHref(O){return e(r,O)},createURL:T,encodeLocation(O){let j=T(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:E,go(O){return c.go(O)}};return R}function I5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:du(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var S0,Ib=class{constructor(t){if(mx(this,S0,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(v1(this,S0).has(t))return v1(this,S0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){v1(this,S0).set(t,e)}};S0=new WeakMap;var _x=new Set(["lazy","caseSensitive","path","id","index","children"]);function Sx(t){return _x.has(t)}var wx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function xx(t){return wx.has(t)}function Ex(t){return t.index===!0}function H0(t,e,n=[],a={},r=!1){return t.map((l,c)=>{let d=[...n,String(c)],g=typeof l.id=="string"?l.id:d.join("-");if(Gt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Gt(r||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),Ex(l)){let m={...l,...e(l),id:g};return a[g]=m,m}else{let m={...l,...e(l),id:g,children:void 0};return a[g]=m,l.children&&(m.children=H0(l.children,e,d,a,r)),m}})}function su(t,e,n="/"){return ym(t,e,n,!1)}function ym(t,e,n,a){let r=typeof e=="string"?to(e):e,l=Nr(r.pathname||"/",n);if(l==null)return null;let c=X5(t);Tx(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let m=kx(l);d=Ux(c[g],m,a)}return d}function Cx(t,e){let{route:n,pathname:a,params:r}=t;return{id:n.id,pathname:a,params:r,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function X5(t,e=[],n=[],a="",r=!1){let l=(c,d,g=r,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;Gt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=rl([a,v.relativePath]),S=n.concat(v);c.children&&c.children.length>0&&(Gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),X5(c.children,e,S,_,g)),!(c.path==null&&!c.index)&&e.push({path:_,score:jx(_,c.index),routesMeta:S})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let g of F5(c.path))l(c,d,!0,g)}),e}function F5(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let c=F5(a.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),r&&d.push(...c),d.map(g=>t.startsWith("/")&&g===""?"/":g)}function Tx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zx(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Ax=/^:[\w-]+$/,Rx=3,Ox=2,Mx=1,Dx=10,Nx=-2,Xb=t=>t==="*";function jx(t,e){let n=t.split("/"),a=n.length;return n.some(Xb)&&(a+=Nx),e&&(a+=Ox),n.filter(r=>!Xb(r)).reduce((r,l)=>r+(Ax.test(l)?Rx:l===""?Mx:Dx),a)}function zx(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function Ux(t,e,n=!1){let{routesMeta:a}=t,r={},l="/",c=[];for(let d=0;d<a.length;++d){let g=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Am({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},v),S=g.route;if(!_&&m&&n&&!a[a.length-1].route.index&&(_=Am({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:rl([l,_.pathname]),pathnameBase:Gx(rl([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=rl([l,_.pathnameBase]))}return c}function Am(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=Lx(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:_},S)=>{if(v==="*"){let T=d[S]||"";c=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const E=d[S];return _&&!E?m[v]=void 0:m[v]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function Lx(t,e=!1,n=!0){Xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(a.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function kx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Nr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function Px({basename:t,pathname:e}){return e==="/"?t:rl([t,e])}function Bx(t,e="/"){let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:Hx(n,e):e,search:qx(a),hash:Vx(r)}}function Hx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function y1(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qy(t){let e=Q5(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function $y(t,e,n,a=!1){let r;typeof t=="string"?r=to(t):(r={...t},Gt(!r.pathname||!r.pathname.includes("?"),y1("?","pathname","search",r)),Gt(!r.pathname||!r.pathname.includes("#"),y1("#","pathname","hash",r)),Gt(!r.search||!r.search.includes("#"),y1("#","search","hash",r)));let l=t===""||r.pathname==="",c=l?"/":r.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!a&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;r.pathname=S.join("/")}d=_>=0?e[_]:"/"}let g=Bx(r,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||v)&&(g.pathname+="/"),g}var rl=t=>t.join("/").replace(/\/\/+/g,"/"),Gx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Rm=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function G0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $5=["POST","PUT","PATCH","DELETE"],Yx=new Set($5),Zx=["GET",...$5],Kx=new Set(Zx),Ix=new Set([301,302,303,307,308]),Xx=new Set([307,308]),b1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},d0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jy=t=>Qx.test(t),$x=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),J5="remix-router-transitions",W5=Symbol("ResetLoaderData");function Jx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Gt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=t.hydrationRouteProperties||[],r=t.mapRouteProperties||$x,l={},c=H0(t.routes,r,void 0,l),d,g=t.basename||"/";g.startsWith("/")||(g=`/${g}`);let m=t.dataStrategy||aE,v={...t.future},_=null,S=new Set,E=null,T=null,R=null,O=t.hydrationData!=null,j=su(c,t.history.location,g),N=!1,z=null,B;if(j==null&&!t.patchRoutesOnNavigation){let Z=Ar(404,{pathname:t.history.location.pathname}),{matches:te,route:le}=Gp(c);B=!0,j=te,z={[le.id]:Z}}else if(j&&!t.hydrationData&&bs(j,c,t.history.location.pathname).active&&(j=null),j)if(j.some(Z=>Z.route.lazy))B=!1;else if(!j.some(Z=>Wy(Z.route)))B=!0;else{let Z=t.hydrationData?t.hydrationData.loaderData:null,te=t.hydrationData?t.hydrationData.errors:null;if(te){let le=j.findIndex(Ce=>te[Ce.route.id]!==void 0);B=j.slice(0,le+1).every(Ce=>!uy(Ce.route,Z,te))}else B=j.every(le=>!uy(le.route,Z,te))}else{B=!1,j=[];let Z=bs(null,c,t.history.location.pathname);Z.active&&Z.matches&&(N=!0,j=Z.matches)}let G,k={historyAction:t.history.action,location:t.history.location,matches:j,initialized:B,navigation:b1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},K="POP",$=!1,oe,be=!1,Re=new Map,pe=null,ye=!1,me=!1,_e=new Set,L=new Map,Q=0,X=-1,se=new Map,H=new Set,J=new Map,ve=new Map,Se=new Set,He=new Map,it,Ye=null;function lt(){if(_=t.history.listen(({action:Z,location:te,delta:le})=>{if(it){it(),it=void 0;return}Xn(He.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=dl({currentLocation:k.location,nextLocation:te,historyAction:Z});if(Ce&&le!=null){let ze=new Promise(Qe=>{it=Qe});t.history.go(le*-1),Lr(Ce,{state:"blocked",location:te,proceed(){Lr(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),ze.then(()=>t.history.go(le))},reset(){let Qe=new Map(k.blockers);Qe.set(Ce,d0),ot({blockers:Qe})}});return}return Ha(Z,te)}),n){yE(e,Re);let Z=()=>bE(e,Re);e.addEventListener("pagehide",Z),pe=()=>e.removeEventListener("pagehide",Z)}return k.initialized||Ha("POP",k.location,{initialHydration:!0}),G}function Me(){_&&_(),pe&&pe(),S.clear(),oe&&oe.abort(),k.fetchers.forEach((Z,te)=>Pi(te)),k.blockers.forEach((Z,te)=>Hi(te))}function gt(Z){return S.add(Z),()=>S.delete(Z)}function ot(Z,te={}){Z.matches&&(Z.matches=Z.matches.map(ze=>{let Qe=l[ze.route.id],et=ze.route;return et.element!==Qe.element||et.errorElement!==Qe.errorElement||et.hydrateFallbackElement!==Qe.hydrateFallbackElement?{...ze,route:Qe}:ze})),k={...k,...Z};let le=[],Ce=[];k.fetchers.forEach((ze,Qe)=>{ze.state==="idle"&&(Se.has(Qe)?le.push(Qe):Ce.push(Qe))}),Se.forEach(ze=>{!k.fetchers.has(ze)&&!L.has(ze)&&le.push(ze)}),[...S].forEach(ze=>ze(k,{deletedFetchers:le,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),le.forEach(ze=>Pi(ze)),Ce.forEach(ze=>k.fetchers.delete(ze))}function un(Z,te,{flushSync:le}={}){let Ce=k.actionData!=null&&k.navigation.formMethod!=null&&Li(k.navigation.formMethod)&&k.navigation.state==="loading"&&Z.state?._isRedirect!==!0,ze;te.actionData?Object.keys(te.actionData).length>0?ze=te.actionData:ze=null:Ce?ze=k.actionData:ze=null;let Qe=te.loaderData?i_(k.loaderData,te.loaderData,te.matches||[],te.errors):k.loaderData,et=k.blockers;et.size>0&&(et=new Map(et),et.forEach((We,Ke)=>et.set(Ke,d0)));let Ze=ye?!1:ys(Z,te.matches||k.matches),Ie=$===!0||k.navigation.formMethod!=null&&Li(k.navigation.formMethod)&&Z.state?._isRedirect!==!0;d&&(c=d,d=void 0),ye||K==="POP"||(K==="PUSH"?t.history.push(Z,Z.state):K==="REPLACE"&&t.history.replace(Z,Z.state));let tt;if(K==="POP"){let We=Re.get(k.location.pathname);We&&We.has(Z.pathname)?tt={currentLocation:k.location,nextLocation:Z}:Re.has(Z.pathname)&&(tt={currentLocation:Z,nextLocation:k.location})}else if(be){let We=Re.get(k.location.pathname);We?We.add(Z.pathname):(We=new Set([Z.pathname]),Re.set(k.location.pathname,We)),tt={currentLocation:k.location,nextLocation:Z}}ot({...te,actionData:ze,loaderData:Qe,historyAction:K,location:Z,initialized:!0,navigation:b1,revalidation:"idle",restoreScrollPosition:Ze,preventScrollReset:Ie,blockers:et},{viewTransitionOpts:tt,flushSync:le===!0}),K="POP",$=!1,be=!1,ye=!1,me=!1,Ye?.resolve(),Ye=null}async function bi(Z,te){if(typeof Z=="number"){t.history.go(Z);return}let le=oy(k.location,k.matches,g,Z,te?.fromRouteId,te?.relative),{path:Ce,submission:ze,error:Qe}=Fb(!1,le,te),et=k.location,Ze=B0(k.location,Ce,te&&te.state);Ze={...Ze,...t.history.encodeLocation(Ze)};let Ie=te&&te.replace!=null?te.replace:void 0,tt="PUSH";Ie===!0?tt="REPLACE":Ie===!1||ze!=null&&Li(ze.formMethod)&&ze.formAction===k.location.pathname+k.location.search&&(tt="REPLACE");let We=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Ke=(te&&te.flushSync)===!0,yt=dl({currentLocation:et,nextLocation:Ze,historyAction:tt});if(yt){Lr(yt,{state:"blocked",location:Ze,proceed(){Lr(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),bi(Z,te)},reset(){let Ft=new Map(k.blockers);Ft.set(yt,d0),ot({blockers:Ft})}});return}await Ha(tt,Ze,{submission:ze,pendingError:Qe,preventScrollReset:We,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:Ke})}function ga(){Ye||(Ye=_E()),Ne(),ot({revalidation:"loading"});let Z=Ye.promise;return k.navigation.state==="submitting"?Z:k.navigation.state==="idle"?(Ha(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),Z):(Ha(K||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:be===!0}),Z)}async function Ha(Z,te,le){oe&&oe.abort(),oe=null,K=Z,ye=(le&&le.startUninterruptedRevalidation)===!0,Kc(k.location,k.matches),$=(le&&le.preventScrollReset)===!0,be=(le&&le.enableViewTransition)===!0;let Ce=d||c,ze=le&&le.overrideNavigation,Qe=le?.initialHydration&&k.matches&&k.matches.length>0&&!N?k.matches:su(Ce,te,g),et=(le&&le.flushSync)===!0;if(Qe&&k.initialized&&!me&&fE(k.location,te)&&!(le&&le.submission&&Li(le.submission.formMethod))){un(te,{matches:Qe},{flushSync:et});return}let Ze=bs(Qe,Ce,te.pathname);if(Ze.active&&Ze.matches&&(Qe=Ze.matches),!Qe){let{error:Lt,notFoundMatches:rn,route:Wt}=kr(te.pathname);un(te,{matches:rn,loaderData:{},errors:{[Wt.id]:Lt}},{flushSync:et});return}oe=new AbortController;let Ie=_d(t.history,te,oe.signal,le&&le.submission),tt=t.getContext?await t.getContext():new Ib,We;if(le&&le.pendingError)We=[lu(Qe).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&Li(le.submission.formMethod)){let Lt=await ai(Ie,te,le.submission,Qe,tt,Ze.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:et});if(Lt.shortCircuited)return;if(Lt.pendingActionResult){let[rn,Wt]=Lt.pendingActionResult;if(Wi(Wt)&&G0(Wt.error)&&Wt.error.status===404){oe=null,un(te,{matches:Lt.matches,loaderData:{},errors:{[rn]:Wt.error}});return}}Qe=Lt.matches||Qe,We=Lt.pendingActionResult,ze=_1(te,le.submission),et=!1,Ze.active=!1,Ie=_d(t.history,Ie.url,Ie.signal)}let{shortCircuited:Ke,matches:yt,loaderData:Ft,errors:dn}=await ii(Ie,te,Qe,tt,Ze.active,ze,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,et,We);Ke||(oe=null,un(te,{matches:yt||Qe,...r_(We),loaderData:Ft,errors:dn}))}async function ai(Z,te,le,Ce,ze,Qe,et,Ze={}){Ne();let Ie=mE(te,le);if(ot({navigation:Ie},{flushSync:Ze.flushSync===!0}),Qe){let Ke=await Pr(Ce,te.pathname,Z.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){if(Ke.partialMatches.length===0){let{matches:Ft,route:dn}=Gp(c);return{matches:Ft,pendingActionResult:[dn.id,{type:"error",error:Ke.error}]}}let yt=lu(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[yt,{type:"error",error:Ke.error}]}}else if(Ke.matches)Ce=Ke.matches;else{let{notFoundMatches:yt,error:Ft,route:dn}=kr(te.pathname);return{matches:yt,pendingActionResult:[dn.id,{type:"error",error:Ft}]}}}let tt,We=bm(Ce,te);if(!We.route.action&&!We.route.lazy)tt={type:"error",error:Ar(405,{method:Z.method,pathname:te.pathname,routeId:We.route.id})};else{let Ke=Ad(r,l,Z,Ce,We,et?[]:a,ze),yt=await Pe(Z,Ke,ze,null);if(tt=yt[We.route.id],!tt){for(let Ft of Ce)if(yt[Ft.route.id]){tt=yt[Ft.route.id];break}}if(Z.signal.aborted)return{shortCircuited:!0}}if(Tc(tt)){let Ke;return Ze&&Ze.replace!=null?Ke=Ze.replace:Ke=t_(tt.response.headers.get("Location"),new URL(Z.url),g)===k.location.pathname+k.location.search,await de(Z,tt,!0,{submission:le,replace:Ke}),{shortCircuited:!0}}if(Wi(tt)){let Ke=lu(Ce,We.route.id);return(Ze&&Ze.replace)!==!0&&(K="PUSH"),{matches:Ce,pendingActionResult:[Ke.route.id,tt,We.route.id]}}return{matches:Ce,pendingActionResult:[We.route.id,tt]}}async function ii(Z,te,le,Ce,ze,Qe,et,Ze,Ie,tt,We,Ke){let yt=Qe||_1(te,et),Ft=et||Ze||l_(yt),dn=!ye&&!tt;if(ze){if(dn){let Dt=ia(Ke);ot({navigation:yt,...Dt!==void 0?{actionData:Dt}:{}},{flushSync:We})}let ut=await Pr(le,te.pathname,Z.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){if(ut.partialMatches.length===0){let{matches:Oa,route:Ma}=Gp(c);return{matches:Oa,loaderData:{},errors:{[Ma.id]:ut.error}}}let Dt=lu(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Dt]:ut.error}}}else if(ut.matches)le=ut.matches;else{let{error:Dt,notFoundMatches:Oa,route:Ma}=kr(te.pathname);return{matches:Oa,loaderData:{},errors:{[Ma.id]:Dt}}}}let Lt=d||c,{dsMatches:rn,revalidatingFetchers:Wt}=Qb(Z,Ce,r,l,t.history,k,le,Ft,te,tt?[]:a,tt===!0,me,_e,Se,J,H,Lt,g,t.patchRoutesOnNavigation!=null,Ke);if(X=++Q,!t.dataStrategy&&!rn.some(ut=>ut.shouldLoad)&&!rn.some(ut=>ut.route.middleware&&ut.route.middleware.length>0)&&Wt.length===0){let ut=Bi();return un(te,{matches:le,loaderData:{},errors:Ke&&Wi(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...r_(Ke),...ut?{fetchers:new Map(k.fetchers)}:{}},{flushSync:We}),{shortCircuited:!0}}if(dn){let ut={};if(!ze){ut.navigation=yt;let Dt=ia(Ke);Dt!==void 0&&(ut.actionData=Dt)}Wt.length>0&&(ut.fetchers=oo(Wt)),ot(ut,{flushSync:We})}Wt.forEach(ut=>{Ga(ut.key),ut.controller&&L.set(ut.key,ut.controller)});let kt=()=>Wt.forEach(ut=>Ga(ut.key));oe&&oe.signal.addEventListener("abort",kt);let{loaderResults:Va,fetcherResults:Si}=await Le(rn,Wt,Z,Ce);if(Z.signal.aborted)return{shortCircuited:!0};oe&&oe.signal.removeEventListener("abort",kt),Wt.forEach(ut=>L.delete(ut.key));let Ya=qp(Va);if(Ya)return await de(Z,Ya.result,!0,{replace:Ie}),{shortCircuited:!0};if(Ya=qp(Si),Ya)return H.add(Ya.key),await de(Z,Ya.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:gl,errors:pl}=a_(k,le,Va,Ke,Wt,Si);tt&&k.errors&&(pl={...k.errors,...pl});let Za=Bi(),qi=qa(X),pa=Za||qi||Wt.length>0;return{matches:le,loaderData:gl,errors:pl,...pa?{fetchers:new Map(k.fetchers)}:{}}}function ia(Z){if(Z&&!Wi(Z[1]))return{[Z[0]]:Z[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function oo(Z){return Z.forEach(te=>{let le=k.fetchers.get(te.key),Ce=h0(void 0,le?le.data:void 0);k.fetchers.set(te.key,Ce)}),new Map(k.fetchers)}async function ki(Z,te,le,Ce){Ga(Z);let ze=(Ce&&Ce.flushSync)===!0,Qe=d||c,et=oy(k.location,k.matches,g,le,te,Ce?.relative),Ze=su(Qe,et,g),Ie=bs(Ze,Qe,et);if(Ie.active&&Ie.matches&&(Ze=Ie.matches),!Ze){Fe(Z,te,Ar(404,{pathname:et}),{flushSync:ze});return}let{path:tt,submission:We,error:Ke}=Fb(!0,et,Ce);if(Ke){Fe(Z,te,Ke,{flushSync:ze});return}let yt=t.getContext?await t.getContext():new Ib,Ft=(Ce&&Ce.preventScrollReset)===!0;if(We&&Li(We.formMethod)){await I(Z,te,tt,Ze,yt,Ie.active,ze,Ft,We);return}J.set(Z,{routeId:te,path:tt}),await ie(Z,te,tt,Ze,yt,Ie.active,ze,Ft,We)}async function I(Z,te,le,Ce,ze,Qe,et,Ze,Ie){Ne(),J.delete(Z);let tt=k.fetchers.get(Z);qe(Z,vE(Ie,tt),{flushSync:et});let We=new AbortController,Ke=_d(t.history,le,We.signal,Ie);if(Qe){let hn=await Pr(Ce,new URL(Ke.url).pathname,Ke.signal,Z);if(hn.type==="aborted")return;if(hn.type==="error"){Fe(Z,te,hn.error,{flushSync:et});return}else if(hn.matches)Ce=hn.matches;else{Fe(Z,te,Ar(404,{pathname:le}),{flushSync:et});return}}let yt=bm(Ce,le);if(!yt.route.action&&!yt.route.lazy){let hn=Ar(405,{method:Ie.formMethod,pathname:le,routeId:te});Fe(Z,te,hn,{flushSync:et});return}L.set(Z,We);let Ft=Q,dn=Ad(r,l,Ke,Ce,yt,a,ze),rn=(await Pe(Ke,dn,ze,Z))[yt.route.id];if(Ke.signal.aborted){L.get(Z)===We&&L.delete(Z);return}if(Se.has(Z)){if(Tc(rn)||Wi(rn)){qe(Z,Xl(void 0));return}}else{if(Tc(rn))if(L.delete(Z),X>Ft){qe(Z,Xl(void 0));return}else return H.add(Z),qe(Z,h0(Ie)),de(Ke,rn,!1,{fetcherSubmission:Ie,preventScrollReset:Ze});if(Wi(rn)){Fe(Z,te,rn.error);return}}let Wt=k.navigation.location||k.location,kt=_d(t.history,Wt,We.signal),Va=d||c,Si=k.navigation.state!=="idle"?su(Va,k.navigation.location,g):k.matches;Gt(Si,"Didn't find any matches after fetcher action");let Ya=++Q;se.set(Z,Ya);let gl=h0(Ie,rn.data);k.fetchers.set(Z,gl);let{dsMatches:pl,revalidatingFetchers:Za}=Qb(kt,ze,r,l,t.history,k,Si,Ie,Wt,a,!1,me,_e,Se,J,H,Va,g,t.patchRoutesOnNavigation!=null,[yt.route.id,rn]);Za.filter(hn=>hn.key!==Z).forEach(hn=>{let _s=hn.key,si=k.fetchers.get(_s),ra=h0(void 0,si?si.data:void 0);k.fetchers.set(_s,ra),Ga(_s),hn.controller&&L.set(_s,hn.controller)}),ot({fetchers:new Map(k.fetchers)});let qi=()=>Za.forEach(hn=>Ga(hn.key));We.signal.addEventListener("abort",qi);let{loaderResults:pa,fetcherResults:ut}=await Le(pl,Za,kt,ze);if(We.signal.aborted)return;if(We.signal.removeEventListener("abort",qi),se.delete(Z),L.delete(Z),Za.forEach(hn=>L.delete(hn.key)),k.fetchers.has(Z)){let hn=Xl(rn.data);k.fetchers.set(Z,hn)}let Dt=qp(pa);if(Dt)return de(kt,Dt.result,!1,{preventScrollReset:Ze});if(Dt=qp(ut),Dt)return H.add(Dt.key),de(kt,Dt.result,!1,{preventScrollReset:Ze});let{loaderData:Oa,errors:Ma}=a_(k,Si,pa,void 0,Za,ut);qa(Ya),k.navigation.state==="loading"&&Ya>X?(Gt(K,"Expected pending action"),oe&&oe.abort(),un(k.navigation.location,{matches:Si,loaderData:Oa,errors:Ma,fetchers:new Map(k.fetchers)})):(ot({errors:Ma,loaderData:i_(k.loaderData,Oa,Si,Ma),fetchers:new Map(k.fetchers)}),me=!1)}async function ie(Z,te,le,Ce,ze,Qe,et,Ze,Ie){let tt=k.fetchers.get(Z);qe(Z,h0(Ie,tt?tt.data:void 0),{flushSync:et});let We=new AbortController,Ke=_d(t.history,le,We.signal);if(Qe){let Wt=await Pr(Ce,new URL(Ke.url).pathname,Ke.signal,Z);if(Wt.type==="aborted")return;if(Wt.type==="error"){Fe(Z,te,Wt.error,{flushSync:et});return}else if(Wt.matches)Ce=Wt.matches;else{Fe(Z,te,Ar(404,{pathname:le}),{flushSync:et});return}}let yt=bm(Ce,le);L.set(Z,We);let Ft=Q,dn=Ad(r,l,Ke,Ce,yt,a,ze),rn=(await Pe(Ke,dn,ze,Z))[yt.route.id];if(L.get(Z)===We&&L.delete(Z),!Ke.signal.aborted){if(Se.has(Z)){qe(Z,Xl(void 0));return}if(Tc(rn))if(X>Ft){qe(Z,Xl(void 0));return}else{H.add(Z),await de(Ke,rn,!1,{preventScrollReset:Ze});return}if(Wi(rn)){Fe(Z,te,rn.error);return}qe(Z,Xl(rn.data))}}async function de(Z,te,le,{submission:Ce,fetcherSubmission:ze,preventScrollReset:Qe,replace:et}={}){te.response.headers.has("X-Remix-Revalidate")&&(me=!0);let Ze=te.response.headers.get("Location");Gt(Ze,"Expected a Location header on the redirect Response"),Ze=t_(Ze,new URL(Z.url),g);let Ie=B0(k.location,Ze,{_isRedirect:!0});if(n){let dn=!1;if(te.response.headers.has("X-Remix-Reload-Document"))dn=!0;else if(Jy(Ze)){const Lt=I5(Ze,!0);dn=Lt.origin!==e.location.origin||Nr(Lt.pathname,g)==null}if(dn){et?e.location.replace(Ze):e.location.assign(Ze);return}}oe=null;let tt=et===!0||te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:We,formAction:Ke,formEncType:yt}=k.navigation;!Ce&&!ze&&We&&Ke&&yt&&(Ce=l_(k.navigation));let Ft=Ce||ze;if(Xx.has(te.response.status)&&Ft&&Li(Ft.formMethod))await Ha(tt,Ie,{submission:{...Ft,formAction:Ze},preventScrollReset:Qe||$,enableViewTransition:le?be:void 0});else{let dn=_1(Ie,Ce);await Ha(tt,Ie,{overrideNavigation:dn,fetcherSubmission:ze,preventScrollReset:Qe||$,enableViewTransition:le?be:void 0})}}async function Pe(Z,te,le,Ce){let ze,Qe={};try{ze=await rE(m,Z,te,Ce,le,!1)}catch(et){return te.filter(Ze=>Ze.shouldLoad).forEach(Ze=>{Qe[Ze.route.id]={type:"error",error:et}}),Qe}if(Z.signal.aborted)return Qe;for(let[et,Ze]of Object.entries(ze))if(gE(Ze)){let Ie=Ze.result;Qe[et]={type:"redirect",response:uE(Ie,Z,et,te,g)}}else Qe[et]=await oE(Ze);return Qe}async function Le(Z,te,le,Ce){let ze=Pe(le,Z,Ce,null),Qe=Promise.all(te.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let We=(await Pe(Ie.request,Ie.matches,Ce,Ie.key))[Ie.match.route.id];return{[Ie.key]:We}}else return Promise.resolve({[Ie.key]:{type:"error",error:Ar(404,{pathname:Ie.path})}})})),et=await ze,Ze=(await Qe).reduce((Ie,tt)=>Object.assign(Ie,tt),{});return{loaderResults:et,fetcherResults:Ze}}function Ne(){me=!0,J.forEach((Z,te)=>{L.has(te)&&_e.add(te),Ga(te)})}function qe(Z,te,le={}){k.fetchers.set(Z,te),ot({fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Fe(Z,te,le,Ce={}){let ze=lu(k.matches,te);Pi(Z),ot({errors:{[ze.route.id]:le},fetchers:new Map(k.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function _t(Z){return ve.set(Z,(ve.get(Z)||0)+1),Se.has(Z)&&Se.delete(Z),k.fetchers.get(Z)||Fx}function tn(Z,te){Ga(Z,te?.reason),qe(Z,Xl(null))}function Pi(Z){let te=k.fetchers.get(Z);L.has(Z)&&!(te&&te.state==="loading"&&se.has(Z))&&Ga(Z),J.delete(Z),se.delete(Z),H.delete(Z),Se.delete(Z),_e.delete(Z),k.fetchers.delete(Z)}function ri(Z){let te=(ve.get(Z)||0)-1;te<=0?(ve.delete(Z),Se.add(Z)):ve.set(Z,te),ot({fetchers:new Map(k.fetchers)})}function Ga(Z,te){let le=L.get(Z);le&&(le.abort(te),L.delete(Z))}function _i(Z){for(let te of Z){let le=_t(te),Ce=Xl(le.data);k.fetchers.set(te,Ce)}}function Bi(){let Z=[],te=!1;for(let le of H){let Ce=k.fetchers.get(le);Gt(Ce,`Expected fetcher: ${le}`),Ce.state==="loading"&&(H.delete(le),Z.push(le),te=!0)}return _i(Z),te}function qa(Z){let te=[];for(let[le,Ce]of se)if(Ce<Z){let ze=k.fetchers.get(le);Gt(ze,`Expected fetcher: ${le}`),ze.state==="loading"&&(Ga(le),se.delete(le),te.push(le))}return _i(te),te.length>0}function Ur(Z,te){let le=k.blockers.get(Z)||d0;return He.get(Z)!==te&&He.set(Z,te),le}function Hi(Z){k.blockers.delete(Z),He.delete(Z)}function Lr(Z,te){let le=k.blockers.get(Z)||d0;Gt(le.state==="unblocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="proceeding"||le.state==="blocked"&&te.state==="unblocked"||le.state==="proceeding"&&te.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${te.state}`);let Ce=new Map(k.blockers);Ce.set(Z,te),ot({blockers:Ce})}function dl({currentLocation:Z,nextLocation:te,historyAction:le}){if(He.size===0)return;He.size>1&&Xn(!1,"A router only supports one blocker at a time");let Ce=Array.from(He.entries()),[ze,Qe]=Ce[Ce.length-1],et=k.blockers.get(ze);if(!(et&&et.state==="proceeding")&&Qe({currentLocation:Z,nextLocation:te,historyAction:le}))return ze}function kr(Z){let te=Ar(404,{pathname:Z}),le=d||c,{matches:Ce,route:ze}=Gp(le);return{notFoundMatches:Ce,route:ze,error:te}}function uo(Z,te,le){if(E=Z,R=te,T=le||null,!O&&k.navigation===b1){O=!0;let Ce=ys(k.location,k.matches);Ce!=null&&ot({restoreScrollPosition:Ce})}return()=>{E=null,R=null,T=null}}function Gi(Z,te){return T&&T(Z,te.map(Ce=>Cx(Ce,k.loaderData)))||Z.key}function Kc(Z,te){if(E&&R){let le=Gi(Z,te);E[le]=R()}}function ys(Z,te){if(E){let le=Gi(Z,te),Ce=E[le];if(typeof Ce=="number")return Ce}return null}function bs(Z,te,le){if(t.patchRoutesOnNavigation)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:ym(te,le,g,!0)}}else return{active:!0,matches:ym(te,le,g,!0)||[]};return{active:!1,matches:null}}async function Pr(Z,te,le,Ce){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Z};let ze=Z;for(;;){let Qe=d==null,et=d||c,Ze=l;try{await t.patchRoutesOnNavigation({signal:le,path:te,matches:ze,fetcherKey:Ce,patch:(We,Ke)=>{le.aborted||$b(We,Ke,et,Ze,r,!1)}})}catch(We){return{type:"error",error:We,partialMatches:ze}}finally{Qe&&!le.aborted&&(c=[...c])}if(le.aborted)return{type:"aborted"};let Ie=su(et,te,g);if(Ie)return{type:"success",matches:Ie};let tt=ym(et,te,g,!0);if(!tt||ze.length===tt.length&&ze.every((We,Ke)=>We.route.id===tt[Ke].route.id))return{type:"success",matches:null};ze=tt}}function co(Z){l={},d=H0(Z,r,void 0,l)}function hl(Z,te,le=!1){let Ce=d==null;$b(Z,te,d||c,l,r,le),Ce&&(c=[...c],ot({}))}return G={get basename(){return g},get future(){return v},get state(){return k},get routes(){return c},get window(){return e},initialize:lt,subscribe:gt,enableScrollRestoration:uo,navigate:bi,fetch:ki,revalidate:ga,createHref:Z=>t.history.createHref(Z),encodeLocation:Z=>t.history.encodeLocation(Z),getFetcher:_t,resetFetcher:tn,deleteFetcher:ri,dispose:Me,getBlocker:Ur,deleteBlocker:Hi,patchRoutes:hl,_internalFetchControllers:L,_internalSetRoutes:co,_internalSetStateDoNotUseOrYouWillBreakYourApp(Z){ot(Z)}},G}function Wx(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function oy(t,e,n,a,r,l){let c,d;if(r){c=[];for(let m of e)if(c.push(m),m.route.id===r){d=m;break}}else c=e,d=e[e.length-1];let g=$y(a||".",Qy(c),Nr(t.pathname,n)||t.pathname,l==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&d){let m=e2(g.search);if(d.route.index&&!m)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(g.search),_=v.getAll("index");v.delete("index"),_.filter(E=>E).forEach(E=>v.append("index",E));let S=v.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=Px({basename:n,pathname:g.pathname})),du(g)}function Fb(t,e,n){if(!n||!Wx(n))return{path:e};if(n.formMethod&&!pE(n.formMethod))return{path:e,error:Ar(405,{method:n.formMethod})};let a=()=>({path:e,error:Ar(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=r3(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Li(l))return a();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[E,T])=>`${S}${E}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Li(l))return a();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=fy(n.formData),g=n.formData;else if(n.body instanceof FormData)d=fy(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=n_(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=n_(d)}catch{return a()}let m={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Li(m.formMethod))return{path:e,submission:m};let v=to(e);return t&&v.search&&e2(v.search)&&d.append("index",""),v.search=`?${d}`,{path:du(v),submission:m}}function Qb(t,e,n,a,r,l,c,d,g,m,v,_,S,E,T,R,O,j,N,z){let B=z?Wi(z[1])?z[1].error:z[1].data:void 0,G=r.createURL(l.location),k=r.createURL(g),K;if(v&&l.errors){let ye=Object.keys(l.errors)[0];K=c.findIndex(me=>me.route.id===ye)}else if(z&&Wi(z[1])){let ye=z[0];K=c.findIndex(me=>me.route.id===ye)-1}let $=z?z[1].statusCode:void 0,oe=$&&$>=400,be={currentUrl:G,currentParams:l.matches[0]?.params||{},nextUrl:k,nextParams:c[0].params,...d,actionResult:B,actionStatus:$},Re=c.map((ye,me)=>{let{route:_e}=ye,L=null;if(K!=null&&me>K?L=!1:_e.lazy?L=!0:Wy(_e)?v?L=uy(_e,l.loaderData,l.errors):eE(l.loaderData,l.matches[me],ye)&&(L=!0):L=!1,L!==null)return cy(n,a,t,ye,m,e,L);let Q=oe?!1:_||G.pathname+G.search===k.pathname+k.search||G.search!==k.search||tE(l.matches[me],ye),X={...be,defaultShouldRevalidate:Q},se=Om(ye,X);return cy(n,a,t,ye,m,e,se,X)}),pe=[];return T.forEach((ye,me)=>{if(v||!c.some(ve=>ve.route.id===ye.routeId)||E.has(me))return;let _e=l.fetchers.get(me),L=_e&&_e.state!=="idle"&&_e.data===void 0,Q=su(O,ye.path,j);if(!Q){if(N&&L)return;pe.push({key:me,routeId:ye.routeId,path:ye.path,matches:null,match:null,request:null,controller:null});return}if(R.has(me))return;let X=bm(Q,ye.path),se=new AbortController,H=_d(r,ye.path,se.signal),J=null;if(S.has(me))S.delete(me),J=Ad(n,a,H,Q,X,m,e);else if(L)_&&(J=Ad(n,a,H,Q,X,m,e));else{let ve={...be,defaultShouldRevalidate:oe?!1:_};Om(X,ve)&&(J=Ad(n,a,H,Q,X,m,e,ve))}J&&pe.push({key:me,routeId:ye.routeId,path:ye.path,matches:J,match:X,request:H,controller:se})}),{dsMatches:Re,revalidatingFetchers:pe}}function Wy(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function uy(t,e,n){if(t.lazy)return!0;if(!Wy(t))return!1;let a=e!=null&&t.id in e,r=n!=null&&n[t.id]!==void 0;return!a&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!a&&!r}function eE(t,e,n){let a=!e||n.route.id!==e.route.id,r=!t.hasOwnProperty(n.route.id);return a||r}function tE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Om(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function $b(t,e,n,a,r,l){let c;if(t){let m=a[t];Gt(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),c=m.children}else c=n;let d=[],g=[];if(e.forEach(m=>{let v=c.find(_=>e3(m,_));v?g.push({existingRoute:v,newRoute:m}):d.push(m)}),d.length>0){let m=H0(d,r,[t||"_","patch",String(c?.length||"0")],a);c.push(...m)}if(l&&g.length>0)for(let m=0;m<g.length;m++){let{existingRoute:v,newRoute:_}=g[m],S=v,[E]=H0([_],r,[],{},!0);Object.assign(S,{element:E.element?E.element:S.element,errorElement:E.errorElement?E.errorElement:S.errorElement,hydrateFallbackElement:E.hydrateFallbackElement?E.hydrateFallbackElement:S.hydrateFallbackElement})}}function e3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,a)=>e.children?.some(r=>e3(n,r))):!1}var Jb=new WeakMap,t3=({key:t,route:e,manifest:n,mapRouteProperties:a})=>{let r=n[e.id];if(Gt(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let l=r.lazy[t];if(!l)return;let c=Jb.get(r);c||(c={},Jb.set(r,c));let d=c[t];if(d)return d;let g=(async()=>{let m=Sx(t),_=r[t]!==void 0&&t!=="hasErrorBoundary";if(m)Xn(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(_)Xn(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(r,{[t]:S}),Object.assign(r,a(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(S=>S===void 0)&&(r.lazy=void 0))})();return c[t]=g,g},Wb=new WeakMap;function nE(t,e,n,a,r){let l=n[t.id];if(Gt(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=Wb.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{Gt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),E={};for(let T in S){let R=S[T];if(R===void 0)continue;let O=xx(T),N=l[T]!==void 0&&T!=="hasErrorBoundary";O?Xn(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):N?Xn(!N,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):E[T]=R}Object.assign(l,E),Object.assign(l,{...a(l),lazy:void 0})})();return Wb.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(t.lazy),d=[],g;for(let v of c){if(r&&r.includes(v))continue;let _=t3({key:v,route:t,manifest:n,mapRouteProperties:a});_&&(d.push(_),v===e&&(g=_))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:g}}async function e_(t){let e=t.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,l)=>{n[e[l].route.id]=r}),n}async function aE(t){return t.matches.some(e=>e.route.middleware)?n3(t,()=>e_(t)):e_(t)}function n3(t,e){return iE(t,e,a=>a,dE,n);function n(a,r,l){if(l)return Promise.resolve(Object.assign(l.value,{[r]:{type:"error",result:a}}));{let{matches:c}=t,d=Math.min(Math.max(c.findIndex(m=>m.route.id===r),0),Math.max(c.findIndex(m=>m.unstable_shouldCallHandler()),0)),g=lu(c,c[d].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:a}})}}}async function iE(t,e,n,a,r){let{matches:l,request:c,params:d,context:g}=t,m=l.flatMap(_=>_.route.middleware?_.route.middleware.map(S=>[_.route.id,S]):[]);return await a3({request:c,params:d,context:g},m,e,n,a,r)}async function a3(t,e,n,a,r,l,c=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let g=e[c];if(!g)return await n();let[m,v]=g,_,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await a3(t,e,n,a,r,l,c+1)},_.value}catch(E){return _={value:await l(E,m,_)},_.value}};try{let E=await v(t,S),T=E!=null?a(E):void 0;return r(T)?T:_?T??_.value:(_={value:await S()},_.value)}catch(E){return await l(E,m,_)}}function i3(t,e,n,a,r){let l=t3({key:"middleware",route:a.route,manifest:e,mapRouteProperties:t}),c=nE(a.route,Li(n.method)?"action":"loader",e,t,r);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function cy(t,e,n,a,r,l,c,d=null){let g=!1,m=i3(t,e,n,a,r);return{...a,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return g=!0,d?typeof v=="boolean"?Om(a,{...d,defaultShouldRevalidate:v}):Om(a,d):c},resolve(v){let{lazy:_,loader:S,middleware:E}=a.route,T=g||c||v&&!Li(n.method)&&(_||S),R=E&&E.length>0&&!S&&!_;return T&&!R?sE({request:n,match:a,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Ad(t,e,n,a,r,l,c,d=null){return a.map(g=>g.route.id!==r.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:i3(t,e,n,g,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:cy(t,e,n,g,l,c,!0,d))}async function rE(t,e,n,a,r,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let c={request:e,params:n[0].params,context:r,matches:n},g=await t({...c,fetcherKey:a,runClientMiddleware:m=>{let v=c;return n3(v,()=>m({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return g}async function sE({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:r,scopedContext:l}){let c,d,g=Li(t.method),m=g?"action":"loader",v=_=>{let S,E=new Promise((O,j)=>S=j);d=()=>S(),t.signal.addEventListener("abort",d);let T=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(r?r(j=>T(j)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,E])};try{let _=g?e.route.action:e.route.loader;if(n||a)if(_){let S,[E]=await Promise.all([v(_).catch(T=>{S=T}),n,a]);if(S!==void 0)throw S;c=E}else{await n;let S=g?e.route.action:e.route.loader;if(S)[c]=await Promise.all([v(S),a]);else if(m==="action"){let E=new URL(t.url),T=E.pathname+E.search;throw Ar(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)c=await v(_);else{let S=new URL(t.url),E=S.pathname+S.search;throw Ar(404,{pathname:E})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function lE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function oE(t){let{result:e,type:n}=t;if(s3(e)){let a;try{a=await lE(e)}catch(r){return{type:"error",error:r}}return n==="error"?{type:"error",error:new Rm(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?s_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Rm(e.init?.status||500,void 0,e.data),statusCode:G0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:G0(e)?e.status:void 0}:s_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function uE(t,e,n,a,r){let l=t.headers.get("Location");if(Gt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jy(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===n)+1);l=oy(new URL(e.url),c,r,l),t.headers.set("Location",l)}return t}function t_(t,e,n){if(Jy(t)){let a=t,r=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=Nr(r.pathname,n)!=null;if(r.origin===e.origin&&l)return r.pathname+r.search+r.hash}return t}function _d(t,e,n,a){let r=t.createURL(r3(e)).toString(),l={signal:n};if(a&&Li(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=fy(a.formData):l.body=a.formData}return new Request(r,l)}function fy(t){let e=new URLSearchParams;for(let[n,a]of t.entries())e.append(n,typeof a=="string"?a:a.name);return e}function n_(t){let e=new FormData;for(let[n,a]of t.entries())e.append(n,a);return e}function cE(t,e,n,a=!1,r=!1){let l={},c=null,d,g=!1,m={},v=n&&Wi(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,E=e[S];if(Gt(!Tc(E),"Cannot handle redirect results in processLoaderData"),Wi(E)){let T=E.error;if(v!==void 0&&(T=v,v=void 0),c=c||{},r)c[S]=T;else{let R=lu(t,S);c[R.route.id]==null&&(c[R.route.id]=T)}a||(l[S]=W5),g||(g=!0,d=G0(E.error)?E.error.status:500),E.headers&&(m[S]=E.headers)}else l[S]=E.data,E.statusCode&&E.statusCode!==200&&!g&&(d=E.statusCode),E.headers&&(m[S]=E.headers)}),v!==void 0&&n&&(c={[n[0]]:v},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function a_(t,e,n,a,r,l){let{loaderData:c,errors:d}=cE(e,n,a);return r.filter(g=>!g.matches||g.matches.some(m=>m.shouldLoad)).forEach(g=>{let{key:m,match:v,controller:_}=g;if(_&&_.signal.aborted)return;let S=l[m];if(Gt(S,"Did not find corresponding fetcher result"),Wi(S)){let E=lu(t.matches,v?.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:S.error}),t.fetchers.delete(m)}else if(Tc(S))Gt(!1,"Unhandled fetcher revalidation redirect");else{let E=Xl(S.data);t.fetchers.set(m,E)}}),{loaderData:c,errors:d}}function i_(t,e,n,a){let r=Object.entries(e).filter(([,l])=>l!==W5).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(r[c]=t[c]),a&&a.hasOwnProperty(c))break}return r}function r_(t){return t?Wi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function lu(t,e){return(e?t.slice(0,t.findIndex(a=>a.route.id===e)+1):[...t]).reverse().find(a=>a.route.hasErrorBoundary===!0)||t[0]}function Gp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ar(t,{pathname:e,routeId:n,method:a,type:r,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",a&&e&&n?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",a&&e&&n?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Rm(t||500,c,new Error(d),!0)}function qp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[a,r]=e[n];if(Tc(r))return{key:a,result:r}}}function r3(t){let e=typeof t=="string"?to(t):t;return du({...e,hash:""})}function fE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function dE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&hE(n))}function hE(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function gE(t){return s3(t.result)&&Ix.has(t.result.status)}function Wi(t){return t.type==="error"}function Tc(t){return(t&&t.type)==="redirect"}function s_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function s3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function pE(t){return Kx.has(t.toUpperCase())}function Li(t){return Yx.has(t.toUpperCase())}function e2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function bm(t,e){let n=typeof e=="string"?to(e).search:e.search;if(t[t.length-1].route.index&&e2(n||""))return t[t.length-1];let a=Q5(t);return a[a.length-1]}function l_(t){let{formMethod:e,formAction:n,formEncType:a,text:r,formData:l,json:c}=t;if(!(!e||!n||!a)){if(r!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:r};if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:c,text:void 0}}}function _1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function h0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yE(t,e){try{let n=t.sessionStorage.getItem(J5);if(n){let a=JSON.parse(n);for(let[r,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(r,new Set(l||[]))}}catch{}}function bE(t,e){if(e.size>0){let n={};for(let[a,r]of e)n[a]=[...r];try{t.sessionStorage.setItem(J5,JSON.stringify(n))}catch(a){Xn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function _E(){let t,e,n=new Promise((a,r)=>{t=async l=>{a(l);try{await n}catch{}},e=async l=>{r(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var zc=M.createContext(null);zc.displayName="DataRouter";var J0=M.createContext(null);J0.displayName="DataRouterState";M.createContext(!1);var t2=M.createContext({isTransitioning:!1});t2.displayName="ViewTransition";var l3=M.createContext(new Map);l3.displayName="Fetchers";var SE=M.createContext(null);SE.displayName="Await";var ol=M.createContext(null);ol.displayName="Navigation";var Wm=M.createContext(null);Wm.displayName="Location";var no=M.createContext({outlet:null,matches:[],isDataRoute:!1});no.displayName="Route";var n2=M.createContext(null);n2.displayName="RouteError";function wE(t,{relative:e}={}){Gt(W0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=M.useContext(ol),{hash:r,pathname:l,search:c}=eg(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:rl([n,l])),a.createHref({pathname:d,search:c,hash:r})}function W0(){return M.useContext(Wm)!=null}function Uc(){return Gt(W0(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Wm).location}var o3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u3(t){M.useContext(ol).static||M.useLayoutEffect(t)}function ev(){let{isDataRoute:t}=M.useContext(no);return t?UE():xE()}function xE(){Gt(W0(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(zc),{basename:e,navigator:n}=M.useContext(ol),{matches:a}=M.useContext(no),{pathname:r}=Uc(),l=JSON.stringify(Qy(a)),c=M.useRef(!1);return u3(()=>{c.current=!0}),M.useCallback((g,m={})=>{if(Xn(c.current,o3),!c.current)return;if(typeof g=="number"){n.go(g);return}let v=$y(g,JSON.parse(l),r,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:rl([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,r,t])}M.createContext(null);function eg(t,{relative:e}={}){let{matches:n}=M.useContext(no),{pathname:a}=Uc(),r=JSON.stringify(Qy(n));return M.useMemo(()=>$y(t,JSON.parse(r),a,e==="path"),[t,r,a,e])}function EE(t,e,n,a,r){Gt(W0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(ol),{matches:c}=M.useContext(no),d=c[c.length-1],g=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let N=_&&_.path||"";c3(m,!_||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let S=Uc(),E;E=S;let T=E.pathname||"/",R=T;if(v!=="/"){let N=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let O=su(t,{pathname:R});return Xn(_||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Xn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),OE(O&&O.map(N=>Object.assign({},N,{params:Object.assign({},g,N.params),pathname:rl([v,l.encodeLocation?l.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:rl([v,l.encodeLocation?l.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,n,a,r)}function CE(){let t=zE(),e=G0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,c)}var TE=M.createElement(CE,null),AE=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(no.Provider,{value:this.props.routeContext},M.createElement(n2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RE({routeContext:t,match:e,children:n}){let a=M.useContext(zc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(no.Provider,{value:t},n)}function OE(t,e=[],n=null,a=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let m=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,g=-1;if(n)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=m),v.route.id){let{loaderData:_,errors:S}=n,E=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||E){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let S,E=!1,T=null,R=null;n&&(S=c&&v.route.id?c[v.route.id]:void 0,T=v.route.errorElement||TE,d&&(g<0&&_===0?(c3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):g===_&&(E=!0,R=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),j=()=>{let N;return S?N=T:E?N=R:v.route.Component?N=M.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=m,M.createElement(RE,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:N})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?M.createElement(AE,{location:n.location,revalidation:n.revalidation,component:T,error:S,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):j()},null)}function a2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ME(t){let e=M.useContext(zc);return Gt(e,a2(t)),e}function DE(t){let e=M.useContext(J0);return Gt(e,a2(t)),e}function NE(t){let e=M.useContext(no);return Gt(e,a2(t)),e}function i2(t){let e=NE(t),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jE(){return i2("useRouteId")}function zE(){let t=M.useContext(n2),e=DE("useRouteError"),n=i2("useRouteError");return t!==void 0?t:e.errors?.[n]}function UE(){let{router:t}=ME("useNavigate"),e=i2("useNavigate"),n=M.useRef(!1);return u3(()=>{n.current=!0}),M.useCallback(async(r,l={})=>{Xn(n.current,o3),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...l}))},[t,e])}var o_={};function c3(t,e,n){!e&&!o_[t]&&(o_[t]=!0,Xn(!1,n))}var u_={};function c_(t,e){!t&&!u_[e]&&(u_[e]=!0,console.warn(e))}function LE(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Xn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Xn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Xn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var kE=["HydrateFallback","hydrateFallbackElement"],PE=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function BE({router:t,flushSync:e,unstable_onError:n}){let[a,r]=M.useState(t.state),[l,c]=M.useState(),[d,g]=M.useState({isTransitioning:!1}),[m,v]=M.useState(),[_,S]=M.useState(),[E,T]=M.useState(),R=M.useRef(new Map),O=M.useCallback(G=>{r(k=>(G.errors&&n&&Object.entries(G.errors).forEach(([K,$])=>{k.errors?.[K]!==$&&n($)}),G))},[n]),j=M.useCallback((G,{deletedFetchers:k,flushSync:K,viewTransitionOpts:$})=>{G.fetchers.forEach((be,Re)=>{be.data!==void 0&&R.current.set(Re,be.data)}),k.forEach(be=>R.current.delete(be)),c_(K===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let oe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(c_($==null||oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!oe){e&&K?e(()=>O(G)):M.startTransition(()=>O(G));return}if(e&&K){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let be=t.window.document.startViewTransition(()=>{e(()=>O(G))});be.finished.finally(()=>{e(()=>{v(void 0),S(void 0),c(void 0),g({isTransitioning:!1})})}),e(()=>S(be));return}_?(m&&m.resolve(),_.skipTransition(),T({state:G,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(c(G),g({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,e,_,m,O]);M.useLayoutEffect(()=>t.subscribe(j),[t,j]),M.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new PE)},[d]),M.useEffect(()=>{if(m&&l&&t.window){let G=l,k=m.promise,K=t.window.document.startViewTransition(async()=>{M.startTransition(()=>O(G)),await k});K.finished.finally(()=>{v(void 0),S(void 0),c(void 0),g({isTransitioning:!1})}),S(K)}},[l,m,t.window,O]),M.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,_,a.location,l]),M.useEffect(()=>{!d.isTransitioning&&E&&(c(E.state),g({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),T(void 0))},[d.isTransitioning,E]);let N=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:G=>t.navigate(G),push:(G,k,K)=>t.navigate(G,{state:k,preventScrollReset:K?.preventScrollReset}),replace:(G,k,K)=>t.navigate(G,{replace:!0,state:k,preventScrollReset:K?.preventScrollReset})}),[t]),z=t.basename||"/",B=M.useMemo(()=>({router:t,navigator:N,static:!1,basename:z,unstable_onError:n}),[t,N,z,n]);return M.createElement(M.Fragment,null,M.createElement(zc.Provider,{value:B},M.createElement(J0.Provider,{value:a},M.createElement(l3.Provider,{value:R.current},M.createElement(t2.Provider,{value:d},M.createElement(qE,{basename:z,location:a.location,navigationType:a.historyAction,navigator:N},M.createElement(HE,{routes:t.routes,future:t.future,state:a,unstable_onError:n})))))),null)}var HE=M.memo(GE);function GE({routes:t,future:e,state:n,unstable_onError:a}){return EE(t,void 0,n,a,e)}function qE({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:r,static:l=!1}){Gt(!W0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof n=="string"&&(n=to(n));let{pathname:g="/",search:m="",hash:v="",state:_=null,key:S="default"}=n,E=M.useMemo(()=>{let T=Nr(g,c);return T==null?null:{location:{pathname:T,search:m,hash:v,state:_,key:S},navigationType:a}},[c,g,m,v,_,S,a]);return Xn(E!=null,`<Router basename="${c}"> is not able to match the URL "${g}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:M.createElement(ol.Provider,{value:d},M.createElement(Wm.Provider,{children:e,value:E}))}var _m="get",Sm="application/x-www-form-urlencoded";function tv(t){return t!=null&&typeof t.tagName=="string"}function VE(t){return tv(t)&&t.tagName.toLowerCase()==="button"}function YE(t){return tv(t)&&t.tagName.toLowerCase()==="form"}function ZE(t){return tv(t)&&t.tagName.toLowerCase()==="input"}function KE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IE(t,e){return t.button===0&&(!e||e==="_self")&&!KE(t)}var Vp=null;function XE(){if(Vp===null)try{new FormData(document.createElement("form"),0),Vp=!1}catch{Vp=!0}return Vp}var FE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function S1(t){return t!=null&&!FE.has(t)?(Xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sm}"`),null):t}function QE(t,e){let n,a,r,l,c;if(YE(t)){let d=t.getAttribute("action");a=d?Nr(d,e):null,n=t.getAttribute("method")||_m,r=S1(t.getAttribute("enctype"))||Sm,l=new FormData(t)}else if(VE(t)||ZE(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||d.getAttribute("action");if(a=g?Nr(g,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||_m,r=S1(t.getAttribute("formenctype"))||S1(d.getAttribute("enctype"))||Sm,l=new FormData(d,t),!XE()){let{name:m,type:v,value:_}=t;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,_)}}else{if(tv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_m,a=null,r=Sm,c=t}return l&&r==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function r2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $E(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Nr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function JE(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e9(t,e,n){let a=await Promise.all(t.map(async r=>{let l=e.routes[r.route.id];if(l){let c=await JE(l,n);return c.links?c.links():[]}return[]}));return i9(a.flat(1).filter(WE).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function f_(t,e,n,a,r,l){let c=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,d=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,m)=>c(g,m)||d(g,m)):l==="data"?e.filter((g,m)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,m)||d(g,m))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function t9(t,e,{includeHydrateFallback:n}={}){return n9(t.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function n9(t){return[...new Set(t)]}function a9(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function i9(t,e){let n=new Set;return new Set(e),t.reduce((a,r)=>{let l=JSON.stringify(a9(r));return n.has(l)||(n.add(l),a.push({key:l,link:r})),a},[])}function f3(){let t=M.useContext(zc);return r2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function r9(){let t=M.useContext(J0);return r2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var s2=M.createContext(void 0);s2.displayName="FrameworkContext";function d3(){let t=M.useContext(s2);return r2(t,"You must render this element inside a <HydratedRouter> element"),t}function s9(t,e){let n=M.useContext(s2),[a,r]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,S=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=j=>{j.forEach(N=>{c(N.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),M.useEffect(()=>{if(a){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[a]);let E=()=>{r(!0)},T=()=>{r(!1),c(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:g0(d,E),onBlur:g0(g,T),onMouseEnter:g0(m,E),onMouseLeave:g0(v,T),onTouchStart:g0(_,E)}]:[!1,S,{}]}function g0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function l9({page:t,...e}){let{router:n}=f3(),a=M.useMemo(()=>su(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?M.createElement(u9,{page:t,matches:a,...e}):null}function o9(t){let{manifest:e,routeModules:n}=d3(),[a,r]=M.useState([]);return M.useEffect(()=>{let l=!1;return e9(t,e,n).then(c=>{l||r(c)}),()=>{l=!0}},[t,e,n]),a}function u9({page:t,matches:e,...n}){let a=Uc(),{manifest:r,routeModules:l}=d3(),{basename:c}=f3(),{loaderData:d,matches:g}=r9(),m=M.useMemo(()=>f_(t,e,g,r,a,"data"),[t,e,g,r,a]),v=M.useMemo(()=>f_(t,e,g,r,a,"assets"),[t,e,g,r,a]),_=M.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(e.forEach(j=>{let N=r.routes[j.route.id];!N||!N.hasLoader||(!m.some(z=>z.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||N.hasClientLoader?R=!0:T.add(j.route.id))}),T.size===0)return[];let O=$E(t,c,"data");return R&&T.size>0&&O.searchParams.set("_routes",e.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[c,d,a,r,m,e,t,l]),S=M.useMemo(()=>t9(v,r),[v,r]),E=o9(v);return M.createElement(M.Fragment,null,_.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),E.map(({key:T,link:R})=>M.createElement("link",{key:T,nonce:n.nonce,...R})))}function c9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h3&&(window.__reactRouterVersion="7.9.4")}catch{}function f9(t,e){return Jx({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:vx({window:e?.window}),hydrationData:d9(),routes:t,mapRouteProperties:LE,hydrationRouteProperties:kE,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function d9(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:h9(t.errors)}),t}function h9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[a,r]of e)if(r&&r.__type==="RouteErrorResponse")n[a]=new Rm(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let l=window[r.__subType];if(typeof l=="function")try{let c=new l(r.message);c.stack="",n[a]=c}catch{}}if(n[a]==null){let l=new Error(r.message);l.stack="",n[a]=l}}else n[a]=r;return n}var g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p3=M.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:r,reloadDocument:l,replace:c,state:d,target:g,to:m,preventScrollReset:v,viewTransition:_,...S},E){let{basename:T}=M.useContext(ol),R=typeof m=="string"&&g3.test(m),O,j=!1;if(typeof m=="string"&&R&&(O=m,h3))try{let oe=new URL(window.location.href),be=m.startsWith("//")?new URL(oe.protocol+m):new URL(m),Re=Nr(be.pathname,T);be.origin===oe.origin&&Re!=null?m=Re+be.search+be.hash:j=!0}catch{Xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=wE(m,{relative:r}),[z,B,G]=s9(a,S),k=v9(m,{replace:c,state:d,target:g,preventScrollReset:v,relative:r,viewTransition:_});function K(oe){e&&e(oe),oe.defaultPrevented||k(oe)}let $=M.createElement("a",{...S,...G,href:O||N,onClick:j||l?e:K,ref:c9(E,B),target:g,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?M.createElement(M.Fragment,null,$,M.createElement(l9,{page:N})):$});p3.displayName="Link";var g9=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:r=!1,style:l,to:c,viewTransition:d,children:g,...m},v){let _=eg(c,{relative:m.relative}),S=Uc(),E=M.useContext(J0),{navigator:T,basename:R}=M.useContext(ol),O=E!=null&&w9(_)&&d===!0,j=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,N=S.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(N=N.toLowerCase(),z=z?z.toLowerCase():null,j=j.toLowerCase()),z&&R&&(z=Nr(z,R)||z);const B=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let G=N===j||!r&&N.startsWith(j)&&N.charAt(B)==="/",k=z!=null&&(z===j||!r&&z.startsWith(j)&&z.charAt(j.length)==="/"),K={isActive:G,isPending:k,isTransitioning:O},$=G?e:void 0,oe;typeof a=="function"?oe=a(K):oe=[a,G?"active":null,k?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let be=typeof l=="function"?l(K):l;return M.createElement(p3,{...m,"aria-current":$,className:oe,ref:v,style:be,to:c,viewTransition:d},typeof g=="function"?g(K):g)});g9.displayName="NavLink";var p9=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:r,state:l,method:c=_m,action:d,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:_,...S},E)=>{let T=_9(),R=S9(d,{relative:m}),O=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&g3.test(d),N=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let B=z.nativeEvent.submitter,G=B?.getAttribute("formmethod")||c;T(B||z.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:r,state:l,relative:m,preventScrollReset:v,viewTransition:_})};return M.createElement("form",{ref:E,method:O,action:R,onSubmit:a?g:N,...S,"data-discover":!j&&t==="render"?"true":void 0})});p9.displayName="Form";function m9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m3(t){let e=M.useContext(zc);return Gt(e,m9(t)),e}function v9(t,{target:e,replace:n,state:a,preventScrollReset:r,relative:l,viewTransition:c}={}){let d=ev(),g=Uc(),m=eg(t,{relative:l});return M.useCallback(v=>{if(IE(v,e)){v.preventDefault();let _=n!==void 0?n:du(g)===du(m);d(t,{replace:_,state:a,preventScrollReset:r,relative:l,viewTransition:c})}},[g,d,m,n,a,e,t,r,l,c])}var y9=0,b9=()=>`__${String(++y9)}__`;function _9(){let{router:t}=m3("useSubmit"),{basename:e}=M.useContext(ol),n=jE();return M.useCallback(async(a,r={})=>{let{action:l,method:c,encType:d,formData:g,body:m}=QE(a,e);if(r.navigate===!1){let v=r.fetcherKey||b9();await t.fetch(v,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:g,body:m,formMethod:r.method||c,formEncType:r.encType||d,flushSync:r.flushSync})}else await t.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:g,body:m,formMethod:r.method||c,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function S9(t,{relative:e}={}){let{basename:n}=M.useContext(ol),a=M.useContext(no);Gt(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),l={...eg(t||".",{relative:e})},c=Uc();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:rl([n,l.pathname])),du(l)}function w9(t,{relative:e}={}){let n=M.useContext(t2);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=m3("useViewTransitionState"),r=eg(t,{relative:e});if(!n.isTransitioning)return!1;let l=Nr(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Nr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Am(r.pathname,c)!=null||Am(r.pathname,l)!=null}var nv=Z5();const x9=$m(nv);function E9(t){return M.createElement(BE,{flushSync:nv.flushSync,...t})}const C9="modulepreload",T9=function(t){return"/rect-up/"+t},d_={},tg=function(e,n,a){let r=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");r=m(n.map(v=>{if(v=T9(v),v in d_)return;d_[v]=!0;const _=v.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":C9,_||(E.as="script"),E.crossOrigin="",E.href=v,g&&E.setAttribute("nonce",g),document.head.appendChild(E),_)return new Promise((T,R)=>{E.addEventListener("load",T),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return r.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},A9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tg(async()=>{const{default:a}=await Promise.resolve().then(()=>Pd);return{default:a}},[]).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class l2 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class h_ extends l2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class g_ extends l2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class p_ extends l2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dy||(dy={}));var R9=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class O9{constructor(e,{headers:n={},customFetch:a,region:r=dy.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=A9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return R9(this,arguments,void 0,function*(n,a={}){var r;try{const{headers:l,method:c,body:d,signal:g}=a;let m={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let S;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(m["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(m["Content-Type"]="application/json",S=JSON.stringify(d)));const E=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:g}).catch(j=>{throw j.name==="AbortError"?j:new h_(j)}),T=E.headers.get("x-relay-error");if(T&&T==="true")throw new g_(E);if(!E.ok)throw new p_(E);let R=((r=E.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield E.json():R==="application/octet-stream"?O=yield E.blob():R==="text/event-stream"?O=E:R==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new h_(l)}:{data:null,error:l,response:l instanceof p_||l instanceof g_?l.context:void 0}}})}}var Ta={},nd={},ad={},id={},rd={},sd={},M9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zd=M9();const D9=zd.fetch,v3=zd.fetch.bind(zd),y3=zd.Headers,N9=zd.Request,j9=zd.Response,Pd=Object.freeze(Object.defineProperty({__proto__:null,Headers:y3,Request:N9,Response:j9,default:v3,fetch:D9},Symbol.toStringTag,{value:"Module"})),z9=sx(Pd);var Yp={},m_;function b3(){if(m_)return Yp;m_=1,Object.defineProperty(Yp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yp.default=t,Yp}var v_;function _3(){if(v_)return sd;v_=1;var t=sd&&sd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sd,"__esModule",{value:!0});const e=t(z9),n=t(b3());class a{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let g=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,_,S,E;let T=null,R=null,O=null,j=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const k=await m.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=k:R=JSON.parse(k))}const B=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),G=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");B&&G&&G.length>1&&(O=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,O=null,j=406,N="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const B=await m.text();try{T=JSON.parse(B),Array.isArray(T)&&m.status===404&&(R=[],T=null,j=200,N="OK")}catch{m.status===404&&B===""?(j=204,N="No Content"):T={message:B}}if(T&&this.isMaybeSingle&&(!((E=T?.details)===null||E===void 0)&&E.includes("0 rows"))&&(T=null,j=200,N="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:R,count:O,status:j,statusText:N}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,_,S;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,c)}returns(){return this}overrideTypes(){return this}}return sd.default=a,sd}var y_;function S3(){if(y_)return rd;y_=1;var t=rd&&rd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rd,"__esModule",{value:!0});const e=t(_3());class n extends e.default{select(r){let l=!1;const c=(r??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:g=d}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${r}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${r}`),this}range(r,l,{foreignTable:c,referencedTable:d=c}={}){const g=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${r}`),this.url.searchParams.set(m,`${l-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:g=!1,format:m="text"}={}){var v;const _=[r?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return rd.default=n,rd}var b_;function o2(){if(b_)return id;b_=1;var t=id&&id.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(id,"__esModule",{value:!0});const e=t(S3());class n extends e.default{eq(r,l){return this.url.searchParams.append(r,`eq.${l}`),this}neq(r,l){return this.url.searchParams.append(r,`neq.${l}`),this}gt(r,l){return this.url.searchParams.append(r,`gt.${l}`),this}gte(r,l){return this.url.searchParams.append(r,`gte.${l}`),this}lt(r,l){return this.url.searchParams.append(r,`lt.${l}`),this}lte(r,l){return this.url.searchParams.append(r,`lte.${l}`),this}like(r,l){return this.url.searchParams.append(r,`like.${l}`),this}likeAllOf(r,l){return this.url.searchParams.append(r,`like(all).{${l.join(",")}}`),this}likeAnyOf(r,l){return this.url.searchParams.append(r,`like(any).{${l.join(",")}}`),this}ilike(r,l){return this.url.searchParams.append(r,`ilike.${l}`),this}ilikeAllOf(r,l){return this.url.searchParams.append(r,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(r,l){return this.url.searchParams.append(r,`ilike(any).{${l.join(",")}}`),this}is(r,l){return this.url.searchParams.append(r,`is.${l}`),this}in(r,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(r,`in.(${c})`),this}contains(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cs.{${l.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(l)}`),this}containedBy(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cd.{${l.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(l)}`),this}rangeGt(r,l){return this.url.searchParams.append(r,`sr.${l}`),this}rangeGte(r,l){return this.url.searchParams.append(r,`nxl.${l}`),this}rangeLt(r,l){return this.url.searchParams.append(r,`sl.${l}`),this}rangeLte(r,l){return this.url.searchParams.append(r,`nxr.${l}`),this}rangeAdjacent(r,l){return this.url.searchParams.append(r,`adj.${l}`),this}overlaps(r,l){return typeof l=="string"?this.url.searchParams.append(r,`ov.${l}`):this.url.searchParams.append(r,`ov.{${l.join(",")}}`),this}textSearch(r,l,{config:c,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(r,`${g}fts${m}.${l}`),this}match(r){return Object.entries(r).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(r,l,c){return this.url.searchParams.append(r,`not.${l}.${c}`),this}or(r,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${r})`),this}filter(r,l,c){return this.url.searchParams.append(r,`${l}.${c}`),this}}return id.default=n,id}var __;function w3(){if(__)return ad;__=1;var t=ad&&ad.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ad,"__esModule",{value:!0});const e=t(o2());class n{constructor(r,{headers:l={},schema:c,fetch:d}){this.url=r,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(r,l){const{head:c=!1,count:d}=l??{},g=c?"HEAD":"GET";let m=!1;const v=(r??"*").split("").map(_=>/\s/.test(_)&&!m?"":(_==='"'&&(m=!m),_)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:l,defaultToNull:c=!0}={}){var d;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(r,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const _=r.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(_.length>0){const S=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(r,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var l;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ad.default=n,ad}var S_;function U9(){if(S_)return nd;S_=1;var t=nd&&nd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nd,"__esModule",{value:!0});const e=t(w3()),n=t(o2());class a{constructor(l,{headers:c={},schema:d,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=g}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:g=!1,count:m}={}){var v;let _;const S=new URL(`${this.url}/rpc/${l}`);let E;d||g?(_=d?"HEAD":"GET",Object.entries(c).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{S.searchParams.append(R,O)})):(_="POST",E=c);const T=new Headers(this.headers);return m&&T.set("Prefer",`count=${m}`),new n.default({method:_,url:S,headers:T,schema:this.schemaName,body:E,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return nd.default=a,nd}var w_;function L9(){if(w_)return Ta;w_=1;var t=Ta&&Ta.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.PostgrestError=Ta.PostgrestBuilder=Ta.PostgrestTransformBuilder=Ta.PostgrestFilterBuilder=Ta.PostgrestQueryBuilder=Ta.PostgrestClient=void 0;const e=t(U9());Ta.PostgrestClient=e.default;const n=t(w3());Ta.PostgrestQueryBuilder=n.default;const a=t(o2());Ta.PostgrestFilterBuilder=a.default;const r=t(S3());Ta.PostgrestTransformBuilder=r.default;const l=t(_3());Ta.PostgrestBuilder=l.default;const c=t(b3());return Ta.PostgrestError=c.default,Ta.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ta}var k9=L9();const P9=$m(k9),{PostgrestClient:B9,PostgrestQueryBuilder:TH,PostgrestFilterBuilder:AH,PostgrestTransformBuilder:RH,PostgrestBuilder:OH,PostgrestError:MH}=P9;class H9{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const G9="2.75.0",q9=`realtime-js/${G9}`,V9="1.0.0",hy=1e4,Y9=1e3,Z9=100;var M0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(M0||(M0={}));var ca;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ca||(ca={}));var fs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fs||(fs={}));var gy;(function(t){t.websocket="websocket"})(gy||(gy={}));var Ec;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ec||(Ec={}));class K9{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const r=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=a.decode(e.slice(c,c+r));c=c+r;const g=a.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(a.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:g,payload:m}}}class x3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Cn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Cn||(Cn={}));const x_=(t,e,n={})=>{var a;const r=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=I9(c,t,e,r),l),{}):{}},I9=(t,e,n,a)=>{const r=e.find(d=>d.name===t),l=r?.type,c=n[t];return l&&!a.includes(l)?E3(l,c):py(c)},E3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $9(e,n)}switch(t){case Cn.bool:return X9(e);case Cn.float4:case Cn.float8:case Cn.int2:case Cn.int4:case Cn.int8:case Cn.numeric:case Cn.oid:return F9(e);case Cn.json:case Cn.jsonb:return Q9(e);case Cn.timestamp:return J9(e);case Cn.abstime:case Cn.date:case Cn.daterange:case Cn.int4range:case Cn.int8range:case Cn.money:case Cn.reltime:case Cn.text:case Cn.time:case Cn.timestamptz:case Cn.timetz:case Cn.tsrange:case Cn.tstzrange:return py(e);default:return py(e)}},py=t=>t,X9=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},F9=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q9=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$9=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>E3(e,d))}return t},J9=t=>typeof t=="string"?t.replace(" ","T"):t,C3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class w1{constructor(e,n,a={},r=hy){this.channel=e,this.event=n,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var E_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(E_||(E_={}));class D0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=D0.syncState(this.state,r,l,c),this.pendingDiffs.forEach(g=>{this.state=D0.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},r=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=D0.syncDiff(this.state,r,l,c),d())}),this.onJoin((r,l,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:l,newPresences:c})}),this.onLeave((r,l,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,r){const l=this.cloneDeep(e),c=this.transformState(n),d={},g={};return this.map(l,(m,v)=>{c[m]||(g[m]=v)}),this.map(c,(m,v)=>{const _=l[m];if(_){const S=v.map(O=>O.presence_ref),E=_.map(O=>O.presence_ref),T=v.filter(O=>E.indexOf(O.presence_ref)<0),R=_.filter(O=>S.indexOf(O.presence_ref)<0);T.length>0&&(d[m]=T),R.length>0&&(g[m]=R)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:g},a,r)}static syncDiff(e,n,a,r){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(l,(d,g)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(g),v.length>0){const _=e[d].map(E=>E.presence_ref),S=v.filter(E=>_.indexOf(E.presence_ref)<0);e[d].unshift(...S)}a(d,v,g)}),this.map(c,(d,g)=>{let m=e[d];if(!m)return;const v=g.map(_=>_.presence_ref);m=m.filter(_=>v.indexOf(_.presence_ref)<0),e[d]=m,r(d,m,g),m.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const r=e[a];return"metas"in r?n[a]=r.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(C_||(C_={}));var N0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(N0||(N0={}));var Ql;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ql||(Ql={}));class u2{constructor(e,n={config:{}},a){var r,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=ca.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new w1(this,fs.join,this.params,this.timeout),this.rejoinTimer=new x3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ca.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ca.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ca.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ca.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ca.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new D0(this),this.broadcastEndpointURL=C3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,r,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ca.closed){const{config:{broadcast:c,presence:d,private:g}}=this.params,m=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(E=>E.filter))!==null&&r!==void 0?r:[],v=!!this.bindings[N0.PRESENCE]&&this.bindings[N0.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e?.(Ql.CHANNEL_ERROR,E)),this._onClose(()=>e?.(Ql.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var T;if(this.socket.setAuth(),E===void 0){e?.(Ql.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(T=R?.length)!==null&&T!==void 0?T:0,j=[];for(let N=0;N<O;N++){const z=R[N],{filter:{event:B,schema:G,table:k,filter:K}}=z,$=E&&E[N];if($&&$.event===B&&$.schema===G&&$.table===k&&$.filter===K)j.push(Object.assign(Object.assign({},z),{id:$.id}));else{this.unsubscribe(),this.state=ca.errored,e?.(Ql.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Ql.SUBSCRIBED);return}}).receive("error",E=>{this.state=ca.errored,e?.(Ql.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ql.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===ca.joined&&e===N0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async send(e,n={}){var a,r;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=m.body)===null||r===void 0?void 0:r.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,g;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ca.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new w1(this,fs.leave,{},e),a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ca.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const r=new AbortController,l=setTimeout(()=>r.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(l),c}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new w1(this,e,n,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Z9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var r,l;const c=e.toLocaleLowerCase(),{close:d,error:g,leave:m,join:v}=fs;if(a&&[d,g,m,v].indexOf(c)>=0&&a!==this._joinRef())return;let S=this._onMessage(c,n,a);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(E=>{var T,R,O;return((T=E.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(R=E.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(E=>E.callback(S,a)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var T,R,O,j,N,z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const B=E.id,G=(T=E.filter)===null||T===void 0?void 0:T.event;return B&&((R=n.ids)===null||R===void 0?void 0:R.includes(B))&&(G==="*"||G?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const B=(N=(j=E?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return B==="*"||B===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:R,table:O,commit_timestamp:j,type:N,errors:z}=T;S=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:j,eventType:N,new:{},old:{},errors:z}),this._getPayloadRecords(T))}E.callback(S,a)})}_isClosed(){return this.state===ca.closed}_isJoined(){return this.state===ca.joined}_isJoining(){return this.state===ca.joining}_isLeaving(){return this.state===ca.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const r=e.toLocaleLowerCase(),l={type:r,filter:n,callback:a};return this.bindings[r]?this.bindings[r].push(l):this.bindings[r]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var l;return!(((l=r.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&u2.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fs.close,{},e)}_onError(e){this._on(fs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ca.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=x_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=x_(e.columns,e.old_record)),n}}const x1=()=>{},Zp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W9=[1e3,2e3,5e3,1e4],e7=1e4,t7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n7{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hy,this.transport=null,this.heartbeatIntervalMs=Zp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=x1,this.ref=0,this.reconnectTimer=null,this.logger=x1,this.conn=null,this.sendBuffer=[],this.serializer=new K9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let l;return r?l=r:typeof fetch>"u"?l=(...c)=>tg(async()=>{const{default:d}=await Promise.resolve().then(()=>Pd);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${gy.websocket}`,this.httpEndpoint=C3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H9.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V9}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case M0.connecting:return Ec.Connecting;case M0.open:return Ec.Open;case M0.closing:return Ec.Closing;default:return Ec.Closed}}isConnected(){return this.connectionState()===Ec.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,r=this.getChannels().find(l=>l.topic===a);if(r)return r;{const l=new u2(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:r,ref:l}=e,c=()=>{this.encode(e,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${n} ${a} (${l})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Y9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:r,payload:l,ref:c}=n,d=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${r} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(r,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${a}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([t7],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const r={access_token:n,version:q9};n&&a.updateJoinPayload(r),a.joinedOnce&&a._isJoined()&&a._push(fs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new x3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,r,l,c,d,g,m,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:hy,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Zp.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:x1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>W9[_-1]||e7),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,S)=>S(JSON.stringify(_))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class c2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ta(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class a7 extends c2{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class my extends c2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var i7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const T3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tg(async()=>{const{default:a}=await Promise.resolve().then(()=>Pd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},r7=()=>i7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tg(()=>Promise.resolve().then(()=>Pd),void 0)).Response:Response}),vy=t=>{if(Array.isArray(t))return t.map(n=>vy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const r=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[r]=vy(a)}),e},s7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Lc=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const E1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l7=(t,e,n)=>Lc(void 0,void 0,void 0,function*(){const a=yield r7();t instanceof a&&!n?.noResolveJson?t.json().then(r=>{const l=t.status||500,c=r?.statusCode||l+"";e(new a7(E1(r),l,c))}).catch(r=>{e(new my(E1(r),r))}):e(new my(E1(t),t))}),o7=(t,e,n,a)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!a?r:(s7(a)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(a)):r.body=a,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function ng(t,e,n,a,r,l){return Lc(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,o7(e,a,r,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>l7(g,d,a))})})}function Mm(t,e,n,a){return Lc(this,void 0,void 0,function*(){return ng(t,"GET",e,n,a)})}function tl(t,e,n,a,r){return Lc(this,void 0,void 0,function*(){return ng(t,"POST",e,a,r,n)})}function yy(t,e,n,a,r){return Lc(this,void 0,void 0,function*(){return ng(t,"PUT",e,a,r,n)})}function u7(t,e,n,a){return Lc(this,void 0,void 0,function*(){return ng(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function A3(t,e,n,a,r){return Lc(this,void 0,void 0,function*(){return ng(t,"DELETE",e,a,r,n)})}var c7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class f7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return c7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ta(e))return{data:null,error:e};throw e}})}}var d7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class h7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new f7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return d7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ta(e))return{data:null,error:e};throw e}})}}var Ni=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const g7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p7{constructor(e,n={},a,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=T3(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,r){return Ni(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},T_),r);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),r?.headers&&(d=Object.assign(Object.assign({},d),r.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),_=yield(e=="PUT"?yy:tl)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ta(l))return{data:null,error:l};throw l}})}upload(e,n,a){return Ni(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,r){return Ni(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:T_.upsert},r),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",m.cacheControl)):(g=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const _=yield yy(this.fetch,d.toString(),g,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ta(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return Ni(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const l=yield tl(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:r}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new c2("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ta(a))return{data:null,error:a};throw a}})}update(e,n,a){return Ni(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Ni(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}copy(e,n,a){return Ni(this,void 0,void 0,function*(){try{return{data:{path:(yield tl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,a){return Ni(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),l=yield tl(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,a){return Ni(this,void 0,void 0,function*(){try{const r=yield tl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),g=()=>Mm(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new h7(g,this.shouldThrowOnError)}info(e){return Ni(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Mm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ta(a))return{data:null,error:a};throw a}})}exists(e){return Ni(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield u7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ta(a)&&a instanceof my){const r=a.originalError;if([400,404].includes(r?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),r=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&r.push(l);const d=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&r.push(g);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return Ni(this,void 0,void 0,function*(){try{return{data:yield A3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}list(e,n,a){return Ni(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},g7),n),{prefix:e||""});return{data:yield tl(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}listV2(e,n){return Ni(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield tl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ta(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const m7="2.75.0",v7={"X-Client-Info":`storage-js/${m7}`};var ld=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class y7{constructor(e,n={},a,r){this.shouldThrowOnError=!1;const l=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},v7),n),this.fetch=T3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ld(this,void 0,void 0,function*(){try{return{data:yield Mm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ta(e))return{data:null,error:e};throw e}})}getBucket(e){return ld(this,void 0,void 0,function*(){try{return{data:yield Mm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}createBucket(e){return ld(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield tl(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ld(this,void 0,void 0,function*(){try{return{data:yield yy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ta(a))return{data:null,error:a};throw a}})}emptyBucket(e){return ld(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ld(this,void 0,void 0,function*(){try{return{data:yield A3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}}class b7 extends y7{constructor(e,n={},a,r){super(e,n,a,r)}from(e){return new p7(this.url,this.headers,e,this.fetch)}}const _7="2.75.0";let w0="";typeof Deno<"u"?w0="deno":typeof document<"u"?w0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?w0="react-native":w0="node";const S7={"X-Client-Info":`supabase-js-${w0}/${_7}`},w7={headers:S7},x7={schema:"public"},E7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C7={};var T7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};const A7=t=>{let e;return t?e=t:typeof fetch>"u"?e=v3:e=fetch,(...n)=>e(...n)},R7=()=>typeof Headers>"u"?y3:Headers,O7=(t,e,n)=>{const a=A7(n),r=R7();return(l,c)=>T7(void 0,void 0,void 0,function*(){var d;const g=(d=yield e())!==null&&d!==void 0?d:t;let m=new r(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},c),{headers:m}))})};var M7=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};function D7(t){return t.endsWith("/")?t:t+"/"}function N7(t,e){var n,a;const{db:r,auth:l,realtime:c,global:d}=t,{db:g,auth:m,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),r),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},_),d),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>M7(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function j7(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const R3="2.75.0",Sd=30*1e3,by=3,C1=by*Sd,z7="http://localhost:9999",U7="supabase.auth.token",L7={"X-Client-Info":`gotrue-js/${R3}`},_y="X-Supabase-Api-Version",O3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P7=600*1e3;class q0 extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class B7 extends q0{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function H7(t){return ct(t)&&t.name==="AuthApiError"}class Cc extends q0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class mu extends q0{constructor(e,n,a,r){super(e,a,r),this.name=n,this.status=a}}class nu extends mu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G7(t){return ct(t)&&t.name==="AuthSessionMissingError"}class od extends mu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kp extends mu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ip extends mu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q7(t){return ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class A_ extends mu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sy extends mu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function T1(t){return ct(t)&&t.name==="AuthRetryableFetchError"}class R_ extends mu{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class wy extends mu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O_=` 	
\r=`.split(""),V7=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<O_.length;e+=1)t[O_[e].charCodeAt(0)]=-2;for(let e=0;e<Dm.length;e+=1)t[Dm[e].charCodeAt(0)]=e;return t})();function M_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Dm[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Dm[a]),e.queuedBits-=6}}function M3(t,e,n){const a=V7[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function D_(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},l=c=>{K7(c,a,n)};for(let c=0;c<t.length;c+=1)M3(t.charCodeAt(c),r,l);return e.join("")}function Y7(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Z7(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Y7(a,e)}}function K7(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Rd(t){const e=[],n={queue:0,queuedBits:0},a=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)M3(t.charCodeAt(r),n,a);return new Uint8Array(e)}function I7(t){const e=[];return Z7(t,n=>e.push(n)),new Uint8Array(e)}function Ac(t){const e=[],n={queue:0,queuedBits:0},a=r=>{e.push(r)};return t.forEach(r=>M_(r,n,a)),M_(null,n,a),e.join("")}function X7(t){return Math.round(Date.now()/1e3)+t}function F7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ji=()=>typeof window<"u"&&typeof document<"u",_c={tested:!1,writable:!1},D3=()=>{if(!Ji())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_c.tested)return _c.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_c.tested=!0,_c.writable=!0}catch{_c.tested=!0,_c.writable=!1}return _c.writable};function Q7(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,l)=>{e[l]=r})}catch{}return n.searchParams.forEach((a,r)=>{e[r]=a}),e}const N3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tg(async()=>{const{default:a}=await Promise.resolve().then(()=>Pd);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},$7=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wd=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Sc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},eu=async(t,e)=>{await t.removeItem(e)};class av{constructor(){this.promise=new av.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}av.promiseConstructor=Promise;function A1(t){const e=t.split(".");if(e.length!==3)throw new wy("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!k7.test(e[a]))throw new wy("JWT not in base64url format");return{header:JSON.parse(D_(e[0])),payload:JSON.parse(D_(e[1])),signature:Rd(e[2]),raw:{header:e[0],payload:e[1]}}}async function J7(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function W7(t,e){return new Promise((a,r)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){a(c);return}}catch(c){if(!e(l,c)){r(c);return}}})()})}function eC(t){return("0"+t.toString(16)).substr(-2)}function tC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let r="";for(let l=0;l<56;l++)r+=n.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(e),Array.from(e,eC).join("")}async function nC(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(a);return Array.from(r).map(l=>String.fromCharCode(l)).join("")}async function aC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ud(t,e,n=!1){const a=tC();let r=a;n&&(r+="/PASSWORD_RECOVERY"),await wd(t,`${e}-code-verifier`,r);const l=await aC(a);return[l,a===l?"plain":"s256"]}const iC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rC(t){const e=t.headers.get(_y);if(!e||!e.match(iC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cd(t){if(!oC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function R1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N_(t){return JSON.parse(JSON.stringify(t))}var uC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};const xc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cC=[502,503,504];async function j_(t){var e;if(!$7(t))throw new Sy(xc(t),0);if(cC.includes(t.status))throw new Sy(xc(t),t.status);let n;try{n=await t.json()}catch(l){throw new Cc(xc(l),l)}let a;const r=rC(t);if(r&&r.getTime()>=O3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new R_(xc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new nu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new R_(xc(n),t.status,n.weak_password.reasons);throw new B7(xc(n),t.status||500,a)}const fC=(t,e,n,a)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),n))};async function wt(t,e,n,a){var r;const l=Object.assign({},a?.headers);l[_y]||(l[_y]=O3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(r=a?.query)!==null&&r!==void 0?r:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await dC(t,e,n+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function dC(t,e,n,a,r,l){const c=fC(e,a,r,l);let d;try{d=await t(n,Object.assign({},c))}catch(g){throw console.error(g),new Sy(xc(g),0)}if(d.ok||await j_(d),a?.noResolveJson)return d;try{return await d.json()}catch(g){await j_(g)}}function cs(t){var e;let n=null;pC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=X7(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function z_(t){const e=cs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ou(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hC(t){return{data:t,error:null}}function gC(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:r,verification_type:l}=t,c=uC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:a,redirect_to:r,verification_type:l},g=Object.assign({},c);return{data:{properties:d,user:g},error:null}}function U_(t){return t}function pC(t){return t.access_token&&t.refresh_token&&t.expires_in}const O1=["global","local","others"];var mC=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};class vC{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=N3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=O1[0]){if(O1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${O1.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ou})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=mC(e,["options"]),r=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(r.new_email=a?.newEmail,delete r.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:gC,redirectTo:n?.redirectTo})}catch(n){if(ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ou})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,r,l,c,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:U_});if(v.error)throw v.error;const _=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ct(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){cd(e);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ou})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){cd(e);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ou})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){cd(e);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ou})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){cd(e.userId);try{const{data:n,error:a}=await wt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:a}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){cd(e.userId),cd(e.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,r,l,c,d,g;try{const m={nextPage:null,lastPage:0,total:0},v=await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:U_});if(v.error)throw v.error;const _=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ct(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await wt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}}function L_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const fd={debug:!!(globalThis&&D3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yC extends j3{}async function bC(t,e,n){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),fd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fd.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function _C(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function z3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function SC(t){return parseInt(t,16)}function wC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function xC(t){var e;const{chainId:n,domain:a,expirationTime:r,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:g,resources:m,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=z3(t.address),T=v?`${v}://${a}`:a,R=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${E}

${R}`;let j=`URI: ${_}
Version: ${S}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(r&&(j+=`
Expiration Time: ${r.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),g&&(j+=`
Request ID: ${g}`),m){let N=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);N+=`
- ${z}`}j+=N}return`${O}
${j}`}class ea extends Error{constructor({message:e,code:n,cause:a,name:r}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=r??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Nm extends ea{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function EC({error:t,options:e}){var n,a,r;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ea({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ea({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ea({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ea({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ea({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ea({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ea({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ea({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(L3(c)){if(l.rp.id!==c)return new ea({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ea({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ea({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ea({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ea({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function CC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ea({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ea({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(L3(a)){if(n.rpId!==a)return new ea({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ea({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ea({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ea({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var U3=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};class TC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const AC=new TC;function RC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,r=U3(t,["challenge","user","excludeCredentials"]),l=Rd(e).buffer,c=Object.assign(Object.assign({},n),{id:Rd(n.id).buffer}),d=Object.assign(Object.assign({},r),{challenge:l,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];d.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:Rd(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function OC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=U3(t,["challenge","allowCredentials"]),r=Rd(e).buffer,l=Object.assign(Object.assign({},a),{challenge:r});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Rd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function MC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ac(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ac(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function DC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ac(new Uint8Array(r.authenticatorData)),clientDataJSON:Ac(new Uint8Array(r.clientDataJSON)),signature:Ac(new Uint8Array(r.signature)),userHandle:r.userHandle?Ac(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function L3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function k_(){var t,e;return!!(Ji()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function NC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nm("Browser returned unexpected credential type",e)}:{data:null,error:new Nm("Empty credential response",e)}}catch(e){return{data:null,error:EC({error:e,options:t})}}}async function jC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nm("Browser returned unexpected credential type",e)}:{data:null,error:new Nm("Empty credential response",e)}}catch(e){return{data:null,error:CC({error:e,options:t})}}}const zC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UC={userVerification:"preferred",hints:["security-key"]};function jm(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of t)if(r)for(const l in r){const c=r[l];if(c!==void 0)if(Array.isArray(c))a[l]=c;else if(n(c))a[l]=c;else if(e(c)){const d=a[l];e(d)?a[l]=jm(d,c):a[l]=jm(c)}else a[l]=c}return a}function LC(t,e){return jm(zC,t,e||{})}function kC(t,e){return jm(UC,t,e||{})}class PC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:r},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const g=r??AC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=LC(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:_}=await NC({publicKey:m,signal:g});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const m=kC(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:_}=await jC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:g}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Cc("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}},l){if(!n)return{data:null,error:new q0("rpId is required for WebAuthn authentication")};try{if(!k_())return{data:null,error:new Cc("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:r},{request:l});if(!c)return{data:null,error:d};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:a,credential_response:g.credential_response}})}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Cc("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r},l){if(!n)return{data:null,error:new q0("rpId is required for WebAuthn registration")};try{if(!k_())return{data:null,error:new Cc("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:g,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:r},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Cc("Unexpected error in register",c)}}}}_C();const BC={url:z7,storageKey:U7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P_(t,e,n){return await n()}const dd={};class V0{get jwks(){var e,n;return(n=(e=dd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){dd[this.storageKey]=Object.assign(Object.assign({},dd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=dd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){dd[this.storageKey]=Object.assign(Object.assign({},dd[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=V0.nextInstanceID,V0.nextInstanceID+=1,this.instanceID>0&&Ji()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},BC),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new vC({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=N3(r.fetch),this.lock=r.lock||P_,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ji()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=bC:this.lock=P_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PC(this)},this.persistSession?(r.storage?this.storage=r.storage:D3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=L_(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=L_(this.memoryStorage)),Ji()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Q7(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Ji()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),q7(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ct(n)?{error:n}:{error:new Cc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,r;try{const l=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:cs}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ct(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,a,r;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let E=null,T=null;this.flowType==="pkce"&&([E,T]=await ud(this.storage,this.storageKey)),l=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:_,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:E,code_challenge_method:T},xform:cs})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(r=S?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:cs})}else throw new Kp("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(ct(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:z_})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:z_})}else throw new Kp("You must provide either an email or phone number and a password");const{data:a,error:r}=n;return r?{data:{user:null,session:null},error:r}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new od}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,r,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,r,l,c,d,g,m,v,_,S;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:R,wallet:O,statement:j,options:N}=e;let z;if(Ji())if(typeof O=="object")z=O;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")z=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const B=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),G=await z.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=z3(G[0]);let K=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!K){const oe=await z.request({method:"eth_chainId"});K=SC(oe)}const $={domain:B.host,address:k,statement:j,uri:B.href,version:"1",chainId:K,nonce:(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=N?.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=xC($),T=await z.request({method:"personal_sign",params:[wC(E),k]})}try{const{data:R,error:O}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:cs});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new od}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ct(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var n,a,r,l,c,d,g,m,v,_,S,E;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:O,wallet:j,statement:N,options:z}=e;let B;if(Ji())if(typeof j=="object")B=j;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))B=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=j}const G=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const k=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),N?{statement:N}:null));let K;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")K=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)K=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)T=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),R=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${G.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(r=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((l=z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((c=z?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((d=z?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const k=await B.signMessage(new TextEncoder().encode(T),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=k}}try{const{data:O,error:j}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Ac(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:cs});if(j)throw j;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new od}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:j})}catch(O){if(ct(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(n??"").split("/");try{const{data:l,error:c}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:cs});if(await eu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new od}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:r??null}),error:c})}catch(l){if(ct(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:r,access_token:l,nonce:c}=e,d=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:cs}),{data:g,error:m}=d;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new od}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,r,l,c;try{if("email"in e){const{email:d,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ud(this.storage,this.storageKey));const{error:_}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:d,options:g}=e,{data:m,error:v}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Kp("You must provide either an email or phone number.")}catch(d){if(ct(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,a;try{let r,l;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:r,xform:cs});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,m=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(r){if(ct(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,a,r;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await ud(this.storage,this.storageKey)),await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:hC})}catch(l){if(ct(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new nu;const{error:r}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ct(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:r,options:l}=e,{error:c}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:a,type:r,options:l}=e,{data:c,error:d}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Kp("You must provide either an email or phone number and a type")}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<C1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await Sc(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=R1()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:e},error:null}}const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ou}):await this._useSession(async n=>{var a,r,l;const{data:c,error:d}=n;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nu}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0,xform:ou})})}catch(n){if(ct(n))return G7(n)&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:r,error:l}=a;if(l)throw l;if(!r.session)throw new nu;const c=r.session;let d=null,g=null;this.flowType==="pkce"&&e.email!=null&&([d,g]=await ud(this.storage,this.storageKey));const{data:m,error:v}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:g}),jwt:c.access_token,xform:ou});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(a){if(ct(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nu;const n=Date.now()/1e3;let a=n,r=!0,l=null;const{payload:c}=A1(e.access_token);if(c.exp&&(a=c.exp,r=a<=n),r){const{data:d,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new nu;const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ji())throw new Ip("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ip(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new A_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ip("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new A_("No code detected.");const{data:N,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:l,refresh_token:c,expires_in:d,expires_at:g,token_type:m}=e;if(!l||!d||!c||!m)throw new Ip("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(d);let S=v+_;g&&(S=parseInt(g));const E=S-v;E*1e3<=Sd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const T=S-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,v);const{data:R,error:O}=await this._getUser(l);if(O)throw O;const j={provider_token:a,provider_refresh_token:r,access_token:l,expires_in:_,expires_at:S,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(a){if(ct(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:r,error:l}=n;if(l)return{error:l};const c=(a=r.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(H7(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=F7(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,r;try{const{data:{session:l},error:c}=n;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await ud(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ct(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:r}=await this._useSession(async l=>{var c,d,g,m,v;const{data:_,error:S}=l;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(r)throw r;return Ji()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(ct(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:r,data:{session:l}}=n;if(r)throw r;const{options:c,provider:d,token:g,access_token:m,nonce:v}=e,_=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cs}),{data:S,error:E}=_;return E?{data:{user:null,session:null},error:E}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new od}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:E})}catch(r){if(ct(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,r;const{data:l,error:c}=n;if(c)throw c;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await W7(async r=>(r>0&&await J7(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cs})),(r,l)=>{const c=200*Math.pow(2,r);return l&&T1(l)&&Date.now()+c-a<Sd})}catch(a){if(this._debug(n,"error",a),ct(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),Ji()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await Sc(this.storage,this.storageKey);if(r&&this.userStorage){let c=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await wd(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c?.user)!==null&&e!==void 0?e:R1()}else if(r&&!r.user&&!r.user){const c=await Sc(this.storage,this.storageKey+"-user");c&&c?.user?(r.user=c.user,await eu(this.storage,this.storageKey+"-user"),await wd(this.storage,this.storageKey,r)):r.user=R1()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const l=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<C1;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${C1}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),T1(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(r.access_token);!d&&c?.user?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new nu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new av;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new nu;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(r,"error",l),ct(l)){const c={data:null,error:l};return T1(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,a=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await wd(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const l=N_(r);await wd(this.storage,this.storageKey,l)}else{const r=N_(n);await wd(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await eu(this.storage,this.storageKey),await eu(this.storage,this.storageKey+"-code-verifier"),await eu(this.storage,this.storageKey+"-user"),this.userStorage&&await eu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ji()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-e)/Sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Sd}ms, refresh threshold is ${by} ticks`),r<=by&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof j3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ji()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const r=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await ud(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);r.push(l.toString())}return a?.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:r,error:l}=n;return l?{data:null,error:l}:await wt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=r?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,r;const{data:l,error:c}=n;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&g.type==="totp"&&(!((r=g?.totp)===null||r===void 0)&&r.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?MC(e.webauthn.credential_response):DC(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:g}=await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=r?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(n){if(ct(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:l}=n;if(l)return{data:null,error:l};const c=await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=r?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:RC(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:OC(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(l),l.status==="verified"&&r[l.factor_type].push(l);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:r},error:l}=e;if(l)return{data:null,error:l};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=A1(r.access_token);let d=null;c.aal&&(d=c.aal);let g=d;((a=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=c.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(d=>d.kid===e);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+P7>r)return a;const{data:l,error:c}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=r,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:E,error:T}=await this.getSession();if(T||!E.session)return{data:null,error:T};a=E.session.access_token}const{header:r,payload:l,signature:c,raw:{header:d,payload:g}}=A1(a);n?.allowExpired||sC(l.exp);const m=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:E}=await this.getUser(a);if(E)throw E;return{data:{claims:l,header:r,signature:c},error:null}}const v=lC(r.alg),_=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,c,I7(`${d}.${g}`)))throw new wy("Invalid JWT signature");return{data:{claims:l,header:r,signature:c},error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}}}V0.nextInstanceID=0;const HC=V0;class GC extends HC{constructor(e){super(e)}}var qC=function(t,e,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(_){c(_)}}function g(v){try{m(a.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):r(v.value).then(d,g)}m((a=a.apply(t,e||[])).next())})};class VC{constructor(e,n,a){var r,l,c;this.supabaseUrl=e,this.supabaseKey=n;const d=j7(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const g=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:x7,realtime:C7,auth:Object.assign(Object.assign({},E7),{storageKey:g}),global:w7},v=N7(a??{},m);this.storageKey=(r=v.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=O7(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new B9(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new b7(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new O9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return qC(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:l,storageKey:c,flowType:d,lock:g,debug:m},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GC({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:l,flowType:d,lock:g,debug:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new n7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YC=(t,e,n)=>new VC(t,e,n);function ZC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KC="https://ptwlzqcuyndjswcwgndp.supabase.co",IC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0d2x6cWN1eW5kanN3Y3dnbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NzAwNzgsImV4cCI6MjA3NjI0NjA3OH0.iIQcHYWsAc27yUMIphWrNh4iPP8iOWrwNSwpch57fzE",na=YC(KC,IC),k3=M.createContext(null);function XC({children:t}){const[e,n]=M.useState(null);return M.useEffect(()=>{console.log("SessionContext mounted"),na.auth.getSession().then(({data:{session:r}})=>{console.log("initial session: ",r),n(r)});const{data:{subscription:a}}=na.auth.onAuthStateChange((r,l)=>{console.log("Auth state changed:",l),n(l)});return()=>a.unsubscribe()},[]),A.jsx(k3.Provider,{value:{session:e,setSession:n},children:t})}function P3(){const t=M.useContext(k3);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}const FC="/rect-up/assets/loginImage-C1ZbTTKZ.webp";var B3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B_=nt.createContext&&nt.createContext(B3),QC=["attr","size","title"];function $C(t,e){if(t==null)return{};var n=JC(t,e),a,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)a=l[r],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function JC(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},zm.apply(this,arguments)}function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(a){WC(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function WC(t,e,n){return e=eT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eT(t){var e=tT(t,"string");return typeof e=="symbol"?e:e+""}function tT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H3(t){return t&&t.map((e,n)=>nt.createElement(e.tag,Um({key:n},e.attr),H3(e.child)))}function Nn(t){return e=>nt.createElement(nT,zm({attr:Um({},t.attr)},e),H3(t.child))}function nT(t){var e=n=>{var{attr:a,size:r,title:l}=t,c=$C(t,QC),d=r||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),nt.createElement("svg",zm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:g,style:Um(Um({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&nt.createElement("title",null,l),t.children)};return B_!==void 0?nt.createElement(B_.Consumer,null,n=>e(n)):e(B3)}function aT(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function iT(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function rT(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function p0(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},child:[]}]})(t)}function sT(t){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}function G3(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function lT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function oT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},child:[]}]})(t)}function uT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function cT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function q3(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function fT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"},child:[]}]})(t)}function dT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},child:[]}]})(t)}function hT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},child:[]}]})(t)}function G_(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},child:[]}]})(t)}function V3(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"},child:[]}]})(t)}function gT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function M1(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function Y3(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function Z3(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(t)}function pT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function K3(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function mT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"},child:[]}]})(t)}function vT(t){return Nn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},child:[]}]})(t)}function yT(){const{session:t}=P3(),e=ev(),[n,a]=M.useState(""),[r,l]=M.useState(""),c=async g=>{g.preventDefault(),await na.auth.signInWithOAuth({provider:"google"})},d=async()=>{try{const{error:g}=await na.auth.signInWithPassword({email:n,password:r});if(g){alert(g.message);return}alert("Login successful!"),e("/")}catch(g){console.error(g),alert("Something went wrong!")}};return console.log(t),A.jsxs("div",{className:"main-container w-full h-screen grid grid-cols-3 items-center",children:[A.jsxs("div",{className:"form-column h-full w-full px-40 pb-40 pt-20 bg-white flex flex-col items-center justify-center gap-4 col-span-2",children:[A.jsxs("div",{className:"lognav flex flex-col w-full items-center justify-center",children:[A.jsxs("button",{onClick:()=>e("/"),className:"text-start w-full inline-flex items-center gap-2 hover:cursor-pointer hover:underline",children:[A.jsx(aT,{}),A.jsx("span",{children:"Go Back"})]}),A.jsxs("div",{className:"my-company flex flex-col text-center",children:[A.jsx("span",{className:"text-3xl/12 font-bold",children:"MyTudus"}),A.jsx("span",{className:"text-lg font-medium",children:"The all in one task management app"})]})]}),A.jsxs("div",{className:"form-container w-full bg-white p-5 rounded-lg",children:[A.jsxs("div",{className:"hero-text flex flex-col pb-5",children:[A.jsx("span",{className:"text-3xl/10 font-bold",children:"Sign In"}),A.jsx("span",{className:"text-md opacity-70",children:"Welcome back! Enter your details below."})]}),A.jsxs("div",{className:"main-form ",children:[A.jsxs("form",{action:"",className:"flex flex-col justify-between",children:[A.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[A.jsx("label",{htmlFor:"",className:"font-bold",children:"Email"}),A.jsx("input",{type:"email",name:"",id:"email",placeholder:"Your Email",className:"border border-gray-300  rounded-lg p-2 shadow-xs",onChange:g=>a(g.target.value)})]}),A.jsxs("div",{className:"mb-8 flex flex-col gap-y-2",children:[A.jsxs("div",{className:"flex flex-row w-full justify-between pr-2",children:[A.jsx("label",{htmlFor:"",className:"font-bold ",children:"Password"}),A.jsx("span",{className:"text-sm opacity-70 hover:cursor-pointer",children:"Forgot Password?"})]}),A.jsx("input",{type:"password",placeholder:"Your Password",className:"border border-gray-300  rounded-lg p-2 shadow-xs",onChange:g=>l(g.target.value)})]})]}),A.jsxs("div",{className:"userbuttons flex flex-col gap-5",children:[A.jsx("div",{className:"flex justify-center items-center w-full",children:A.jsx("button",{onClick:d,className:"w-full px-5 py-2.5 bg-blue-600 rounded-lg font-medium text-white hover:cursor-pointer hover:bg-blue-700",children:"Continue with email"})}),A.jsx("div",{className:"flex justify-center items-center w-full",children:A.jsx("span",{className:"text-lg font-light text-center",children:"Or continue with"})}),A.jsxs("button",{onClick:c,className:"w-full inline-flex rounded-lg font-medium px-5 py-2 text-center items-center justify-center gap-2 border hover:bg-gray-100 hover:cursor-pointer",children:[A.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",className:"w-5 h-5"}),"Sign in with Google"]})]})]})]})]}),A.jsx("div",{className:"image-column bg-gray-200 h-full flex justify-center items-center",children:A.jsx("img",{src:FC,alt:"",className:"object-cover w-full h-full"})})]})}function bT({title:t,onClick:e}){return A.jsxs("div",{className:"inline-flex gap-2 items-center text-white bg-purple-700 border-2 border-purple-700 hover:bg-purple-500 focus:ring-4 focus:ring-purple-300 px-3 py-2.5 mb-2 rounded-lg text-center hover:cursor-pointer",children:[A.jsx("span",{children:A.jsx(sT,{})}),A.jsx("button",{type:"button",className:"focus:outline-none whitespace-nowrap font-bold text-sm hidden md:inline",onClick:e,children:t})]})}function xy({title:t,onClick:e,variant:n="normal"}){const a="focus:outline-none whitespace-nowrap w-auto font-bold rounded-lg text-sm px-5 py-2.5 mb-2 transition hover:cursor-pointer",r=n==="invert"?"text-purple-100 bg-purple-700 border-2 border-purple-200 hover:bg-purple-800 focus:ring-purple-300 hover:cursor-pointer":"text-purple-700 bg-purple-100 border-2 border-purple-200 hover:bg-purple-200 focus:ring-purple-900 hover:cursor-pointer";return A.jsx("button",{type:"button",className:`${a} ${r}`,onClick:e,children:t})}function _T(){const t=ev(),[e,n]=M.useState(""),[a,r]=M.useState(""),[l,c]=M.useState(""),[d,g]=M.useState(""),m=async()=>{if(a!==l){alert("Passwords do not match!");return}try{const{error:v}=await na.auth.signUp({email:e,password:a,options:{data:{username:d}}});v?alert("Error creating account: "+v.message):(alert("Account created successfully, please verify your email"),t("/signin"))}catch(v){alert("Error creating account: "+v)}};return A.jsx("div",{className:"",children:A.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:A.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-8",children:[A.jsx("h2",{className:"text-2xl text-purple-700 font-bold mb-6 text-center",children:"Create Account"}),A.jsxs("form",{className:"space-y-5",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-purple-700 font-medium mb-1",htmlFor:"username",children:"Username"}),A.jsx("input",{type:"text",id:"username",value:d,onChange:v=>g(v.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your username"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-purple-700 font-medium mb-1",htmlFor:"email",children:"Email"}),A.jsx("input",{type:"email",id:"email",value:e,onChange:v=>n(v.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-purple-700 font-medium mb-1",htmlFor:"password",children:"Password"}),A.jsx("input",{type:"password",id:"password",value:a,onChange:v=>r(v.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-purple-700 font-medium mb-1",htmlFor:"confirm-password",children:"Confirm Password"}),A.jsx("input",{type:"password",id:"confirm-password",value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password"})]}),A.jsx("div",{className:"flex justify-center",children:A.jsx(xy,{title:"Sign In",variant:"invert",onClick:v=>{v.preventDefault(),m()}})})]}),A.jsx("div",{className:"mt-6 flex justify-center",children:A.jsx(xy,{title:"Back",onClick:()=>t("/")})})]})})})}function I3(t){return Nn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"},child:[]}]})(t)}function ST({onClearClick:t,onShapeClick:e,onDrawClick:n,onColorSelect:a,onEraserClick:r,isActive:l}){return A.jsxs("div",{className:"grid grid-cols-8 px-2 py-2 border-gray-200 justify-center items-center bg-white rounded-lg shadow-lg",children:[A.jsxs("button",{onClick:()=>e(null),className:"add-shape group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(q3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task"})]}),A.jsxs("button",{className:"pan-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(V3,{className:"-rotate-[45deg] text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Pan Canvas"})]}),A.jsxs("button",{className:"cursor-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(fT,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Selection"})]}),A.jsxs("div",{className:"relative group",children:[A.jsxs("button",{onClick:n,className:"draw-canvas flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(Y3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw"})]}),A.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:flex gap-1 bg-white p-2 rounded-md shadow-lg",children:["#000000","#ff3b30","#ff9500","#ffcc00","#34c759","#0a84ff","#5856d6"].map(c=>A.jsx("button",{onClick:()=>a?.(c),"aria-label":`Select ${c}`,className:"w-6 h-6 rounded-full border-2 border-gray-200 hover:border-gray-500 focus:border-gray-500",style:{background:c}},c))})]}),A.jsxs("button",{className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(G3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]}),A.jsxs("button",{className:"add-image group relative border-none inline-flex flex-col items-center justify-center w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(Z3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Image"})]}),A.jsxs("button",{onClick:r,className:`add-shape group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50 ${l?"bg-red-100 text-red-500":"text-gray-700 hover:bg-red-50"}`,children:[A.jsx(I3,{className:"text-xl",style:{strokeWidth:.5}}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Delete Task"})]}),A.jsxs("button",{onClick:t,className:"add-shape group flex flex-col justify-center items-center  rounded-r-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-red-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(K3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Clear Canvas"})]})]})}const wT=Math.PI/180;function xT(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Rc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Be={_global:Rc,version:"10.0.2",isBrowser:xT(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Be.angleDeg?t*wT:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Be.DD.isDragging},isTransforming(){var t,e;return(e=(t=Be.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Be.DD.node},releaseCanvasOnDestroy:!0,document:Rc.document,_injectGlobal(t){typeof Rc.Konva<"u"&&console.error("Severa Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Rc.Konva=t}},Ln=t=>{Be[t.prototype.getClassName()]=t};Be._injectGlobal(Be);const ET=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,q_=()=>{if(typeof document>"u")throw new Error(ET)};class tr{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new tr(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),r=this.m[0]*n+this.m[2]*a,l=this.m[1]*n+this.m[3]*a,c=this.m[0]*-a+this.m[2]*n,d=this.m[1]*-a+this.m[3]*n;return this.m[0]=r,this.m[1]=l,this.m[2]=c,this.m[3]=d,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,r=this.m[1]+this.m[3]*n,l=this.m[2]+this.m[0]*e,c=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=r,this.m[2]=l,this.m[3]=c,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],c=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],d=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=r,this.m[3]=l,this.m[4]=c,this.m[5]=d,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,r=-this.m[2]*e,l=this.m[0]*e,c=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),d=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=r,this.m[3]=l,this.m[4]=c,this.m[5]=d,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],r=this.m[3],l=this.m[4],c=this.m[5],d=e*r-n*a,g={x:l,y:c,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const m=Math.sqrt(e*e+n*n);g.rotation=n>0?Math.acos(e/m):-Math.acos(e/m),g.scaleX=m,g.scaleY=d/m,g.skewX=(e*a+n*r)/d,g.skewY=0}else if(a!=0||r!=0){const m=Math.sqrt(a*a+r*r);g.rotation=Math.PI/2-(r>0?Math.acos(-a/m):-Math.acos(a/m)),g.scaleX=d/m,g.scaleY=m,g.skewX=0,g.skewY=(e*a+n*r)/d}return g.rotation=ae._getRotation(g.rotation),g}}const CT="[object Array]",TT="[object Number]",AT="[object String]",RT="[object Boolean]",OT=Math.PI/180,MT=180/Math.PI,D1="#",DT="",NT="0",jT="Konva warning: ",V_="Konva error: ",zT="rgb(",N1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},UT=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Xp=[];const LT=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},ae={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===CT},_isNumber(t){return Object.prototype.toString.call(t)===TT&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===AT},_isBoolean(t){return Object.prototype.toString.call(t)===RT},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Xp.push(t),Xp.length===1&&LT(function(){const e=Xp;Xp=[],e.forEach(function(n){n()})})},createCanvasElement(){q_();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return q_(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=ae.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(D1,DT);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=NT+t;return D1+t},getRGB(t){let e;return t in N1?(e=N1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===D1?this._hexToRgb(t.substring(1)):t.substr(0,4)===zT?(e=UT.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",ae._namedColorToRBA(t)||ae._hex3ColorToRGBA(t)||ae._hex4ColorToRGBA(t)||ae._hex6ColorToRGBA(t)||ae._hex8ColorToRGBA(t)||ae._rgbColorToRGBA(t)||ae._rgbaColorToRGBA(t)||ae._hslColorToRGBA(t)},_namedColorToRBA(t){const e=N1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,r=Number(n[1])/100,l=Number(n[2])/100;let c,d,g;if(r===0)return g=l*255,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};l<.5?c=l*(1+r):c=l+r-l*r;const m=2*l-c,v=[0,0,0];for(let _=0;_<3;_++)d=a+1/3*-(_-1),d<0&&d++,d>1&&d--,6*d<1?g=m+(c-m)*6*d:2*d<1?g=c:3*d<2?g=m+(c-m)*(2/3-d)*6:g=m,v[_]=g*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*OT},radToDeg(t){return t*MT},_degToRad(t){return ae.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ae.degToRad(t)},_radToDeg(t){return ae.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ae.radToDeg(t)},_getRotation(t){return Be.angleDeg?ae.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(V_+t)},error(t){console.error(V_+t)},warn(t){Be.showWarnings&&console.warn(jT+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,r,l){let c,d,g;const m=(t-n)*(t-n)+(e-a)*(e-a);if(m==0)c=t,d=e,g=(r-n)*(r-n)+(l-a)*(l-a);else{const v=((r-t)*(n-t)+(l-e)*(a-e))/m;v<0?(c=t,d=e,g=(t-r)*(t-r)+(e-l)*(e-l)):v>1?(c=n,d=a,g=(n-r)*(n-r)+(a-l)*(a-l)):(c=t+v*(n-t),d=e+v*(a-e),g=(c-r)*(c-r)+(d-l)*(d-l))}return[c,d,g]},_getProjectionToLine(t,e,n){const a=ae.cloneObject(t);let r=Number.MAX_VALUE;return e.forEach(function(l,c){if(!n&&c===e.length-1)return;const d=e[(c+1)%e.length],g=ae._getProjectionToSegment(l.x,l.y,d.x,d.y,t.x,t.y),m=g[0],v=g[1],_=g[2];_<r&&(a.x=m,a.y=v,r=_)}),a},_prepareArrayForTween(t,e,n){const a=[],r=[];if(t.length>e.length){const c=e;e=t,t=c}for(let c=0;c<t.length;c+=2)a.push({x:t[c],y:t[c+1]});for(let c=0;c<e.length;c+=2)r.push({x:e[c],y:e[c+1]});const l=[];return r.forEach(function(c){const d=ae._getProjectionToLine(c,a,n);l.push(d.x),l.push(d.y)}),l},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||ae._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(ae._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Be.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let r=e<0?e:0,l=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let c=0,d=0,g=0,m=0;typeof a=="number"?c=d=g=m=Math.min(a,e/2,n/2):(c=Math.min(a[0]||0,e/2,n/2),d=Math.min(a[1]||0,e/2,n/2),m=Math.min(a[2]||0,e/2,n/2),g=Math.min(a[3]||0,e/2,n/2)),t.moveTo(r+c,l),t.lineTo(r+e-d,l),t.arc(r+e-d,l+d,d,Math.PI*3/2,0,!1),t.lineTo(r+e,l+n-m),t.arc(r+e-m,l+n-m,m,0,Math.PI/2,!1),t.lineTo(r+g,l+n),t.arc(r+g,l+n-g,g,Math.PI/2,Math.PI,!1),t.lineTo(r,l+c),t.arc(r+c,l+c,c,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,r){a=Math.abs(a);for(let l=0;l<n;l++){const c=e[(l-1+n)%n],d=e[l],g=e[(l+1)%n],m={x:d.x-c.x,y:d.y-c.y},v={x:g.x-d.x,y:g.y-d.y},_=Math.hypot(m.x,m.y),S=Math.hypot(v.x,v.y);let E;typeof r=="number"?E=r:E=l<r.length?r[l]:0,E=a*Math.cos(Math.PI/n)*Math.min(1,E/a*2);const R={x:m.x/_,y:m.y/_},O={x:v.x/S,y:v.y/S},j={x:d.x-R.x*E,y:d.y-R.y*E},N={x:d.x+O.x*E,y:d.y+O.y*E};l===0?t.moveTo(j.x,j.y):t.lineTo(j.x,j.y),t.arcTo(d.x,d.y,N.x,N.y,E)}}};function kT(t){const e=[],n=t.length,a=ae;for(let r=0;r<n;r++){let l=t[r];a._isNumber(l)?l=Math.round(l*1e3)/1e3:a._isString(l)||(l=l+""),e.push(l)}return e}const Y_=",",PT="(",BT=")",HT="([",GT="])",qT=";",VT="()",YT="=",Z_=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],ZT=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],KT=100;let Fp=null;function K_(){if(Fp!==null)return Fp;try{const e=ae.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Fp=!1,!1)}catch{return Fp=!1,!1}}class iv{constructor(e){this.canvas=e,Be.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,r=a.length,l="",c,d,g,m;for(c=0;c<r;c++)d=a[c],g=d.method,g?(m=d.args,l+=g,e?l+=VT:ae._isArray(m[0])?l+=HT+m.join(Y_)+GT:(n&&(m=m.map(v=>typeof v=="number"?Math.floor(v):v)),l+=PT+m.join(Y_)+BT)):(l+=d.property,e||(l+=YT+d.val)),l+=qT;return l}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=KT&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,r,l,c){this._context.arc(e,n,a,r,l,c)}arcTo(e,n,a,r,l){this._context.arcTo(e,n,a,r,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,r,l,c){this._context.bezierCurveTo(e,n,a,r,l,c)}clearRect(e,n,a,r){this._context.clearRect(e,n,a,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,r){return this._context.createLinearGradient(e,n,a,r)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,r,l,c){return this._context.createRadialGradient(e,n,a,r,l,c)}drawImage(e,n,a,r,l,c,d,g,m){const v=arguments,_=this._context;v.length===3?_.drawImage(e,n,a):v.length===5?_.drawImage(e,n,a,r,l):v.length===9&&_.drawImage(e,n,a,r,l,c,d,g,m)}ellipse(e,n,a,r,l,c,d,g){this._context.ellipse(e,n,a,r,l,c,d,g)}isPointInPath(e,n,a,r){return a?this._context.isPointInPath(a,e,n,r):this._context.isPointInPath(e,n,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,r){this._context.fillRect(e,n,a,r)}strokeRect(e,n,a,r){this._context.strokeRect(e,n,a,r)}fillText(e,n,a,r){r?this._context.fillText(e,n,a,r):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,r){return this._context.getImageData(e,n,a,r)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,r){this._context.rect(e,n,a,r)}roundRect(e,n,a,r,l){this._context.roundRect(e,n,a,r,l)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,r){this._context.quadraticCurveTo(e,n,a,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,r,l,c){this._context.setTransform(e,n,a,r,l,c)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,r){this._context.strokeText(e,n,a,r)}transform(e,n,a,r,l,c){this._context.transform(e,n,a,r,l,c)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Z_.length,a=this.setAttr,r,l;const c=function(d){let g=e[d],m;e[d]=function(){return l=kT(Array.prototype.slice.call(arguments,0)),m=g.apply(e,arguments),e._trace({method:d,args:l}),m}};for(r=0;r<n;r++)c(Z_[r]);e.setAttr=function(){a.apply(e,arguments);const d=arguments[0];let g=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:d,val:g})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}ZT.forEach(function(t){Object.defineProperty(iv.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class IT extends iv{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const r=e.getFillPatternImage();if(r&&a==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&a==="linear-gradient"){this._fillLinearGradient(e);return}const c=e.getFillRadialGradientColorStops();if(c&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):r?this._fillPattern(e):l?this._fillLinearGradient(e):c&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(n.x,n.y,a.x,a.y);if(r){for(let c=0;c<r.length;c+=2)l.addColorStop(r[c],r[c+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,r;const l=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",c=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,d=(r=e.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},g=e.getAbsoluteScale(),m=this.canvas.getPixelRatio(),v=g.x*m,_=g.y*m;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",c*Math.min(Math.abs(v),Math.abs(_))),this.setAttr("shadowOffsetX",d.x*v),this.setAttr("shadowOffsetY",d.y*_)}}class XT extends iv{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),r=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Qp;function FT(){if(Qp)return Qp;const t=ae.createCanvasElement(),e=t.getContext("2d");return Qp=(function(){const n=Be._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),ae.releaseCanvas(t),Qp}class f2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||Be.pixelRatio||FT();this.pixelRatio=a,this._canvas=ae.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(r){return ae.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class uu extends f2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new IT(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function I_(){const t=ae.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function X_(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let F_=!1;function QT(){return X_()&&I_()&&!F_&&(F_=!0,ae.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),X_()&&I_()}class d2 extends f2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new XT(this),this.setSize(e.width,e.height),QT()}}const an={get isDragging(){let t=!1;return an._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return an._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];an._dragElements.forEach((n,a)=>{const{node:r}=n,l=r.getStage();l.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=ae._getFirstPointerId(t));const c=l._changedPointerPositions.find(d=>d.id===n.pointerId);if(c){if(n.dragStatus!=="dragging"){const d=r.dragDistance();if(Math.max(Math.abs(c.x-n.startPointerPos.x),Math.abs(c.y-n.startPointerPos.y))<d||(r.startDrag({evt:t}),!r.isDragging()))return}r._setDragPosition(t,n),e.push(r)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];an._dragElements.forEach(n=>{const{node:a}=n,r=a.getStage();if(t&&r.setPointersPositions(t),!r._changedPointerPositions.find(d=>d.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(an.justDragged=!0,Be._mouseListenClick=!1,Be._touchListenClick=!1,Be._pointerListenClick=!1,n.dragStatus="stopped");const c=n.node.getLayer()||n.node instanceof Be.Stage&&n.node;c&&e.indexOf(c)===-1&&e.push(c)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){an._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&an._dragElements.delete(n)})}};Be.isBrowser&&(window.addEventListener("mouseup",an._endDragBefore,!0),window.addEventListener("touchend",an._endDragBefore,!0),window.addEventListener("touchcancel",an._endDragBefore,!0),window.addEventListener("mousemove",an._drag),window.addEventListener("touchmove",an._drag),window.addEventListener("mouseup",an._endDragAfter,!1),window.addEventListener("touchend",an._endDragAfter,!1),window.addEventListener("touchcancel",an._endDragAfter,!1));function vu(t){return ae._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ae._isBoolean(t)?t:Object.prototype.toString.call(t)}function X3(t){return t>255?255:t<0?0:Math.round(t)}function Ue(){if(Be.isUnminified)return function(t,e){return ae._isNumber(t)||ae.warn(vu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function rv(t){if(Be.isUnminified)return function(e,n){let a=ae._isNumber(e),r=ae._isArray(e)&&e.length==t;return!a&&!r&&ae.warn(vu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function h2(){if(Be.isUnminified)return function(t,e){return ae._isNumber(t)||t==="auto"||ae.warn(vu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function kc(){if(Be.isUnminified)return function(t,e){return ae._isString(t)||ae.warn(vu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function F3(){if(Be.isUnminified)return function(t,e){const n=ae._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||ae.warn(vu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function $T(){if(Be.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(ae._isArray(t)?t.forEach(function(a){ae._isNumber(a)||ae.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):ae.warn(vu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function ms(){if(Be.isUnminified)return function(t,e){return t===!0||t===!1||ae.warn(vu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function JT(t){if(Be.isUnminified)return function(e,n){return e==null||ae.isObject(e)||ae.warn(vu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const m0="get",v0="set",q={addGetterSetter(t,e,n,a,r){q.addGetter(t,e,n),q.addSetter(t,e,a,r),q.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=m0+ae._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const r=this.attrs[e];return r===void 0?n:r}},addSetter(t,e,n,a){const r=v0+ae._capitalize(e);t.prototype[r]||q.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const r=v0+ae._capitalize(e);t.prototype[r]=function(l){return n&&l!==void 0&&l!==null&&(l=n.call(this,l,e)),this._setAttr(e,l),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,r){const l=n.length,c=ae._capitalize,d=m0+c(e),g=v0+c(e);t.prototype[d]=function(){const v={};for(let _=0;_<l;_++){const S=n[_];v[S]=this.getAttr(e+c(S))}return v};const m=JT(n);t.prototype[g]=function(v){const _=this.attrs[e];a&&(v=a.call(this,v,e)),m&&m.call(this,v,e);for(const S in v)v.hasOwnProperty(S)&&this._setAttr(e+c(S),v[S]);return v||n.forEach(S=>{this._setAttr(e+c(S),void 0)}),this._fireChangeEvent(e,_,v),r&&r.call(this),this},q.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=ae._capitalize(e),a=v0+n,r=m0+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter(t,e,n,a){ae.error("Adding deprecated "+e);const r=m0+ae._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[r]=function(){ae.error(l);const c=this.attrs[e];return c===void 0?n:c},q.addSetter(t,e,a,function(){ae.error(l)}),q.addOverloadedGetterSetter(t,e)},backCompat(t,e){ae.each(e,function(n,a){const r=t.prototype[a],l=m0+ae._capitalize(n),c=v0+ae._capitalize(n);function d(){r.apply(this,arguments),ae.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=d,t.prototype[l]=d,t.prototype[c]=d})},afterSetFilter(){this._filterUpToDate=!1}};function WT(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,r]=n;switch(a){case"blur":{const l=parseFloat(r.replace("px",""));return function(c){this.blurRadius(l*.5);const d=Be.Filters;d&&d.Blur&&d.Blur.call(this,c)}}case"brightness":{const l=r.includes("%")?parseFloat(r)/100:parseFloat(r);return function(c){this.brightness(l);const d=Be.Filters;d&&d.Brightness&&d.Brightness.call(this,c)}}case"contrast":{const l=parseFloat(r);return function(c){const d=100*(Math.sqrt(l)-1);this.contrast(d);const g=Be.Filters;g&&g.Contrast&&g.Contrast.call(this,c)}}case"grayscale":return function(l){const c=Be.Filters;c&&c.Grayscale&&c.Grayscale.call(this,l)};case"sepia":return function(l){const c=Be.Filters;c&&c.Sepia&&c.Sepia.call(this,l)};case"invert":return function(l){const c=Be.Filters;c&&c.Invert&&c.Invert.call(this,l)};default:ae.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const wm="absoluteOpacity",$p="allEventListeners",Fl="absoluteTransform",Q_="absoluteScale",wc="canvas",eA="Change",tA="children",nA="konva",Ey="listening",aA="mouseenter",iA="mouseleave",rA="pointerenter",sA="pointerleave",lA="touchenter",oA="touchleave",$_="set",J_="Shape",xm=" ",W_="stage",au="transform",uA="Stage",Cy="visible",cA=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(xm);let fA=1,ke=class Ty{constructor(e){this._id=fA++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===au||e===Fl)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===au||e===Fl)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const r=n.map(l=>l+"Change.konva").join(xm);this.on(r,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(wc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Fl&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(wc)){const{scene:e,filter:n,hit:a,buffer:r}=this._cache.get(wc);ae.releaseCanvas(e,n,a,r),this._cache.delete(wc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(n.width||a.width),l=Math.ceil(n.height||a.height),c=n.pixelRatio,d=n.x===void 0?Math.floor(a.x):n.x,g=n.y===void 0?Math.floor(a.y):n.y,m=n.offset||0,v=n.drawBorder||!1,_=n.hitCanvasPixelRatio||1;if(!r||!l){ae.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(a.x)-d)>.5?1:0,E=Math.abs(Math.round(a.y)-g)>.5?1:0;r+=m*2+S,l+=m*2+E,d-=m,g-=m;const T=new uu({pixelRatio:c,width:r,height:l}),R=new uu({pixelRatio:c,width:0,height:0,willReadFrequently:!0}),O=new d2({pixelRatio:_,width:r,height:l}),j=T.getContext(),N=O.getContext(),z=new uu({width:T.width/T.pixelRatio+Math.abs(d),height:T.height/T.pixelRatio+Math.abs(g),pixelRatio:T.pixelRatio}),B=z.getContext();return O.isCache=!0,T.isCache=!0,this._cache.delete(wc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(T.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),j.save(),N.save(),B.save(),j.translate(-d,-g),N.translate(-d,-g),B.translate(-d,-g),z.x=d,z.y=g,this._isUnderCache=!0,this._clearSelfAndDescendantCache(wm),this._clearSelfAndDescendantCache(Q_),this.drawScene(T,this,z),this.drawHit(O,this),this._isUnderCache=!1,j.restore(),N.restore(),v&&(j.save(),j.beginPath(),j.rect(0,0,r,l),j.closePath(),j.setAttr("strokeStyle","red"),j.setAttr("lineWidth",5),j.stroke(),j.restore()),this._cache.set(wc,{scene:T,filter:R,hit:O,buffer:z,x:d,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(wc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,l=1/0,c=-1/0,d=-1/0;const g=this.getAbsoluteTransform(n);return a.forEach(function(m){const v=g.point(m);r===void 0&&(r=c=v.x,l=d=v.y),r=Math.min(r,v.x),l=Math.min(l,v.y),c=Math.max(c,v.x),d=Math.max(d,v.y)}),{x:r,y:l,width:c-r,height:d-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),r=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/r,a.height/r),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,r=n.filter,l=r.getContext(),c,d,g,m;if(!e||e.length===0)return a;if(this._filterUpToDate)return r;let v=!0;for(let S=0;S<e.length;S++)if(typeof e[S]=="string"&&K_(),typeof e[S]!="string"||!K_()){v=!1;break}const _=a.pixelRatio;if(r.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),v){const S=e.join(" ");return l.save(),l.setAttr("filter",S),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),l.restore(),this._filterUpToDate=!0,r}try{for(c=e.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/_,a.getHeight()/_),d=l.getImageData(0,0,r.getWidth(),r.getHeight()),g=0;g<c;g++)m=e[g],typeof m=="string"&&(m=WT(m)),m.call(this,d),l.putImageData(d,0,0)}catch(S){ae.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,r}on(e,n){if(this._cache&&this._cache.delete($p),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(xm);for(let r=0;r<a.length;r++){const c=a[r].split("."),d=c[0],g=c[1]||"";this.eventListeners[d]||(this.eventListeners[d]=[]),this.eventListeners[d].push({name:g,handler:n})}return this}off(e,n){let a=(e||"").split(xm),r=a.length,l,c,d,g,m,v;if(this._cache&&this._cache.delete($p),!e)for(c in this.eventListeners)this._off(c);for(l=0;l<r;l++)if(d=a[l],g=d.split("."),m=g[0],v=g[1],m)this.eventListeners[m]&&this._off(m,v,n);else for(c in this.eventListeners)this._off(c,v,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const r=this;this.on(e,function(l){const c=l.target.findAncestors(n,!0,r);for(let d=0;d<c.length;d++)l=ae.cloneObject(l),l.currentTarget=c[d],a.call(c[d],l)})}remove(){return this.isDragging()&&this.stopDrag(),an._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Fl),this._clearSelfAndDescendantCache(wm),this._clearSelfAndDescendantCache(Q_),this._clearSelfAndDescendantCache(W_),this._clearSelfAndDescendantCache(Cy),this._clearSelfAndDescendantCache(Ey)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+ae._capitalize(e);return ae._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==tA&&(a=$_+ae._capitalize(n),ae._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Ey,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(Cy,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let r=!1;an._dragElements.forEach(c=>{c.dragStatus==="dragging"&&(c.node.nodeType==="Stage"||c.node.getLayer()===a)&&(r=!0)});const l=!n&&!Be.hitOnDragEnabled&&(r||Be.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,r,l,c,d;function g(v){for(r=[],l=v.length,c=0;c<l;c++)d=v[c],a++,d.nodeType!==J_&&(r=r.concat(d.getChildren().slice())),d._id===n._id&&(c=l);r.length>0&&r[0].getDepth()<=e&&g(r)}const m=this.getStage();return n.nodeType!==uA&&m&&g(m.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(au),this._clearSelfAndDescendantCache(Fl)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),l=new tr,c=this.offset();return l.m=r.slice(),l.translate(c.x,c.y),l.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...r}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(au);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(au),this._clearSelfAndDescendantCache(Fl),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,r=this.x(),l=this.y();return n!==void 0&&(r+=n),a!==void 0&&(l+=a),this.setPosition({x:r,y:l}),this}_eachAncestorReverse(e,n){let a=[],r=this.getParent(),l,c;if(!(n&&n._id===this._id)){for(a.unshift(this);r&&(!n||r._id!==n._id);)a.unshift(r),r=r.parent;for(l=a.length,c=0;c<l;c++)e(a[c])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ae.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ae.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ae.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ae.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ae.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ae.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(wm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,r,l,c;const d={attrs:{},className:this.getClassName()};for(n in e)a=e[n],c=ae.isObject(a)&&!ae._isPlainObject(a)&&!ae._isArray(a),!c&&(r=typeof this[n]=="function"&&this[n],delete e[n],l=r?r.call(this):null,e[n]=a,l!==a&&(d.attrs[n]=a));return ae._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const r=[];n&&this._isMatch(e)&&r.push(this);let l=this.parent;for(;l;){if(l===a)return r;l._isMatch(e)&&r.push(l),l=l.parent}return r}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,r,l;for(r=0;r<a;r++)if(l=n[r],ae.isValidSelector(l)||(ae.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ae.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ae.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(W_,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Fl,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new tr,this._eachAncestorReverse(function(a){const r=a.transformsEnabled();r==="all"?n.multiply(a.getTransform()):r==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(Fl)||new tr,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const r=this.attrs.x||0,l=this.attrs.y||0,c=this.attrs.offsetX||0,d=this.attrs.offsetY||0;n.translate(r-c,l-d)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(au,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(au)||new tr;a.reset();const r=this.x(),l=this.y(),c=Be.getAngle(this.rotation()),d=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,m=this.attrs.skewX||0,v=this.attrs.skewY||0,_=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(r!==0||l!==0)&&a.translate(r,l),c!==0&&a.rotate(c),(m!==0||v!==0)&&a.skew(m,v),(d!==1||g!==1)&&a.scale(d,g),(_!==0||S!==0)&&a.translate(-1*_,-1*S),a.dirty=!1,a}clone(e){let n=ae.cloneObject(this.attrs),a,r,l,c,d;for(a in e)n[a]=e[a];const g=new this.constructor(n);for(a in this.eventListeners)for(r=this.eventListeners[a],l=r.length,c=0;c<l;c++)d=r[c],d.name.indexOf(nA)<0&&(g.eventListeners[a]||(g.eventListeners[a]=[]),g.eventListeners[a].push(d));return g}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),r=e.x!==void 0?e.x:Math.floor(n.x),l=e.y!==void 0?e.y:Math.floor(n.y),c=e.pixelRatio||1,d=new uu({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:c}),g=d.getContext(),m=new uu({width:d.width/d.pixelRatio+Math.abs(r),height:d.height/d.pixelRatio+Math.abs(l),pixelRatio:d.pixelRatio});return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(r||l)&&g.translate(-1*r,-1*l),this.drawScene(d,void 0,m),g.restore(),d}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(r),r}toImage(e){return new Promise((n,a)=>{try{const r=e?.callback;r&&delete e.callback,ae._urlToImage(this.toDataURL(e),function(l){n(l),r?.(l)})}catch(r){a(r)}})}toBlob(e){return new Promise((n,a)=>{try{const r=e?.callback;r&&delete e.callback,this.toCanvas(e).toBlob(l=>{n(l),r?.(l)},e?.mimeType,e?.quality)}catch(r){a(r)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Be.dragDistance}_off(e,n,a){let r=this.eventListeners[e],l,c,d;for(l=0;l<r.length;l++)if(c=r[l].name,d=r[l].handler,(c!=="konva"||n==="konva")&&(!n||c===n)&&(!a||a===d)){if(r.splice(l,1),r.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,n,a){this._fire(e+eA,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[$_+ae._capitalize(e)];return ae._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Be.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!ae.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let r;a!==void 0&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,r,a))}_fireAndBubble(e,n,a){n&&this.nodeType===J_&&(n.target=this);const r=[aA,iA,rA,sA,lA,oA];if(!(r.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const c=r.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!c&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,r;const l=(n=this._cache.get($p))!==null&&n!==void 0?n:{};let c=l?.[e];if(c===void 0){c=[];let d=Object.getPrototypeOf(this);for(;d;){const g=(r=(a=d.eventListeners)===null||a===void 0?void 0:a[e])!==null&&r!==void 0?r:[];c.push(...g),d=Object.getPrototypeOf(d)}l[e]=c,this._cache.set($p,l)}return c}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let l=0;l<a.length;l++)a[l].handler.call(this,n);const r=this.eventListeners[e];if(r)for(let l=0;l<r.length;l++)r[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),r=this.getAbsolutePosition();if(!a)return;const l=a._getPointerById(n)||a._changedPointerPositions[0]||r;an._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-r.x,y:l.y-r.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){an._dragElements.has(this._id)||this._createDragElement(e);const a=an._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let r={x:a.x-n.offset.x,y:a.y-n.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const c=l.call(this,r,e);c?r=c:ae.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const n=an._dragElements.get(this._id);n&&(n.dragStatus="stopped"),an._endDragBefore(e),an._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=an._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Be.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let r=!1;an._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(r=!0)}),r||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=an._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",r=n&&n.dragStatus==="ready";a?this.stopDrag():r&&an._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ae.haveIntersection(a,this.getClientRect())}static create(e,n){return ae._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=Ty.prototype.getClassName.call(e),r=e.children,l,c,d;n&&(e.attrs.container=n),Be[a]||(ae.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const g=Be[a];if(l=new g(e.attrs),r)for(c=r.length,d=0;d<c;d++)l.add(Ty._createNode(r[d]));return l}};ke.prototype.nodeType="Node";ke.prototype._attrsAffectingSize=[];ke.prototype.eventListeners={};ke.prototype.on.call(ke.prototype,cA,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(au),this._clearSelfAndDescendantCache(Fl)});ke.prototype.on.call(ke.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Cy)});ke.prototype.on.call(ke.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Ey)});ke.prototype.on.call(ke.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(wm)});const wn=q.addGetterSetter;wn(ke,"zIndex");wn(ke,"absolutePosition");wn(ke,"position");wn(ke,"x",0,Ue());wn(ke,"y",0,Ue());wn(ke,"globalCompositeOperation","source-over",kc());wn(ke,"opacity",1,Ue());wn(ke,"name","",kc());wn(ke,"id","",kc());wn(ke,"rotation",0,Ue());q.addComponentsGetterSetter(ke,"scale",["x","y"]);wn(ke,"scaleX",1,Ue());wn(ke,"scaleY",1,Ue());q.addComponentsGetterSetter(ke,"skew",["x","y"]);wn(ke,"skewX",0,Ue());wn(ke,"skewY",0,Ue());q.addComponentsGetterSetter(ke,"offset",["x","y"]);wn(ke,"offsetX",0,Ue());wn(ke,"offsetY",0,Ue());wn(ke,"dragDistance",void 0,Ue());wn(ke,"width",0,Ue());wn(ke,"height",0,Ue());wn(ke,"listening",!0,ms());wn(ke,"preventDefault",!0,ms());wn(ke,"filters",void 0,function(t){return this._filterUpToDate=!1,t});wn(ke,"visible",!0,ms());wn(ke,"transformsEnabled","all",kc());wn(ke,"size");wn(ke,"dragBoundFunc");wn(ke,"draggable",!1,ms());q.backCompat(ke,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ar extends ke{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(r=>{const l=r._isMatch(e);return l&&a.push(r),!!(l&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const r of a){if(n=e(r),n)return!0;if(r.hasChildren()&&(n=r._descendants(e),n))return!0}return!1}toObject(){const e=ke.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=ke.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const r=this.getLayer(),l=e||r&&r.getCanvas(),c=l&&l.getContext(),d=this._getCanvasCache(),g=d&&d.scene,m=l&&l.isCache;if(!this.isVisible()&&!m)return this;if(g){c.save();const v=this.getAbsoluteTransform(n).getMatrix();c.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",l,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),r=e||a&&a.hitCanvas,l=r&&r.getContext(),c=this._getCanvasCache();if(c&&c.hit){l.save();const g=this.getAbsoluteTransform(n).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",r,n);return this}_drawChildren(e,n,a,r){var l;const c=n&&n.getContext(),d=this.clipWidth(),g=this.clipHeight(),m=this.clipFunc(),v=typeof d=="number"&&typeof g=="number"||m,_=a===this;if(v){c.save();const E=this.getAbsoluteTransform(a);let T=E.getMatrix();c.transform(T[0],T[1],T[2],T[3],T[4],T[5]),c.beginPath();let R;if(m)R=m.call(this,c,this);else{const O=this.clipX(),j=this.clipY();c.rect(O||0,j||0,d,g)}c.clip.apply(c,R),T=E.copy().invert().getMatrix(),c.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const S=!_&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(c.save(),c._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(E){E[e](n,a,r)}),S&&c.restore(),v&&c.restore()}getClientRect(e={}){var n;const a=e.skipTransform,r=e.relativeTo;let l,c,d,g,m={x:1/0,y:1/0,width:0,height:0};const v=this;(n=this.children)===null||n===void 0||n.forEach(function(E){if(!E.visible())return;const T=E.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});T.width===0&&T.height===0||(l===void 0?(l=T.x,c=T.y,d=T.x+T.width,g=T.y+T.height):(l=Math.min(l,T.x),c=Math.min(c,T.y),d=Math.max(d,T.x+T.width),g=Math.max(g,T.y+T.height)))});const _=this.find("Shape");let S=!1;for(let E=0;E<_.length;E++)if(_[E]._isVisible(this)){S=!0;break}return S&&l!==void 0?m={x:l,y:c,width:d-l,height:g-c}:m={x:0,y:0,width:0,height:0},a?m:this._transformedRect(m,r)}}q.addComponentsGetterSetter(ar,"clip",["x","y","width","height"]);q.addGetterSetter(ar,"clipX",void 0,Ue());q.addGetterSetter(ar,"clipY",void 0,Ue());q.addGetterSetter(ar,"clipWidth",void 0,Ue());q.addGetterSetter(ar,"clipHeight",void 0,Ue());q.addGetterSetter(ar,"clipFunc");const Y0=new Map,Q3=Be._global.PointerEvent!==void 0;function j1(t){return Y0.get(t)}function g2(t){return{evt:t,pointerId:t.pointerId}}function $3(t,e){return Y0.get(t)===e}function J3(t,e){j0(t),e.getStage()&&(Y0.set(t,e),Q3&&e._fire("gotpointercapture",g2(new PointerEvent("gotpointercapture"))))}function j0(t,e){const n=Y0.get(t);if(!n)return;const a=n.getStage();a&&a.content,Y0.delete(t),Q3&&n._fire("lostpointercapture",g2(new PointerEvent("lostpointercapture")))}const dA="Stage",hA="string",e4="px",gA="mouseout",W3="mouseleave",eS="mouseover",tS="mouseenter",nS="mousemove",aS="mousedown",iS="mouseup",x0="pointermove",E0="pointerdown",Cd="pointerup",C0="pointercancel",pA="lostpointercapture",Jp="pointerout",T0="pointerleave",Wp="pointerover",em="pointerenter",Ay="contextmenu",rS="touchstart",sS="touchend",lS="touchmove",oS="touchcancel",Ry="wheel",mA=5,vA=[[tS,"_pointerenter"],[aS,"_pointerdown"],[nS,"_pointermove"],[iS,"_pointerup"],[W3,"_pointerleave"],[rS,"_pointerdown"],[lS,"_pointermove"],[sS,"_pointerup"],[oS,"_pointercancel"],[eS,"_pointerover"],[Ry,"_wheel"],[Ay,"_contextmenu"],[E0,"_pointerdown"],[x0,"_pointermove"],[Cd,"_pointerup"],[C0,"_pointercancel"],[T0,"_pointerleave"],[pA,"_lostpointercapture"]],z1={mouse:{[Jp]:gA,[T0]:W3,[Wp]:eS,[em]:tS,[x0]:nS,[E0]:aS,[Cd]:iS,[C0]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Jp]:"touchout",[T0]:"touchleave",[Wp]:"touchover",[em]:"touchenter",[x0]:lS,[E0]:rS,[Cd]:sS,[C0]:oS,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Jp]:Jp,[T0]:T0,[Wp]:Wp,[em]:em,[x0]:x0,[E0]:E0,[Cd]:Cd,[C0]:C0,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},A0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",hd=t=>{const e=A0(t);if(e==="pointer")return Be.pointerEventsEnabled&&z1.pointer;if(e==="touch")return z1.touch;if(e==="mouse")return z1.mouse};function t4(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ae.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const yA="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",z0=[];let sv=class extends ar{constructor(e){super(t4(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),z0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{t4(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||ae.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===hA){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),ar.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&ae._isInDocument(e)&&this.container().removeChild(e);const n=z0.indexOf(this);return n>-1&&z0.splice(n,1),ae.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ae.warn(yA),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new uu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,r=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),r.forEach(function(l){if(!l.isVisible())return;const c=l._toKonvaCanvas(e);a.drawImage(c._canvas,e.x,e.y,c.getWidth()/c.getPixelRatio(),c.getHeight()/c.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,r=a-1;for(let l=r;l>=0;l--){const c=n[l].getIntersection(e);if(c)return c}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+e4,this.content.style.height=n+e4),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);const a=this.children.length;return a>mA&&ae.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Be.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return $3(e,this)}setPointerCapture(e){J3(e,this)}releaseCapture(e){j0(e)}getLayers(){return this.children}_bindContentEvents(){Be.isBrowser&&vA.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=hd(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=hd(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=hd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const r=this._getTargetShape(a),l=!(Be.isDragging()||Be.isTransforming())||Be.hitOnDragEnabled;r&&l?(r._fireAndBubble(n.pointerout,{evt:e}),r._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):l&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=hd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);let r=!1;this._changedPointerPositions.forEach(l=>{const c=this.getIntersection(l);if(an.justDragged=!1,Be["_"+a+"ListenClick"]=!0,!c||!c.isListening()){this[a+"ClickStartShape"]=void 0;return}Be.capturePointerEventsEnabled&&c.setPointerCapture(l.id),this[a+"ClickStartShape"]=c,c._fireAndBubble(n.pointerdown,{evt:e,pointerId:l.id}),r=!0;const d=e.type.indexOf("touch")>=0;c.preventDefault()&&e.cancelable&&d&&e.preventDefault()}),r||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=hd(e.type),a=A0(e.type);if(!n)return;const r=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Be.isDragging()&&an.node.preventDefault()&&e.cancelable&&r&&e.preventDefault(),this.setPointersPositions(e),!(!(Be.isDragging()||Be.isTransforming())||Be.hitOnDragEnabled))return;const c={};let d=!1;const g=this._getTargetShape(a);this._changedPointerPositions.forEach(m=>{const v=j1(m.id)||this.getIntersection(m),_=m.id,S={evt:e,pointerId:_},E=g!==v;if(E&&g&&(g._fireAndBubble(n.pointerout,{...S},v),g._fireAndBubble(n.pointerleave,{...S},v)),v){if(c[v._id])return;c[v._id]=!0}v&&v.isListening()?(d=!0,E&&(v._fireAndBubble(n.pointerover,{...S},g),v._fireAndBubble(n.pointerenter,{...S},g),this[a+"targetShape"]=v),v._fireAndBubble(n.pointermove,{...S})):g&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:_}),this[a+"targetShape"]=null)}),d||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=hd(e.type),a=A0(e.type);if(!n)return;this.setPointersPositions(e);const r=this[a+"ClickStartShape"],l=this[a+"ClickEndShape"],c={};let d=!1;this._changedPointerPositions.forEach(g=>{const m=j1(g.id)||this.getIntersection(g);if(m){if(m.releaseCapture(g.id),c[m._id])return;c[m._id]=!0}const v=g.id,_={evt:e,pointerId:v};let S=!1;Be["_"+a+"InDblClickWindow"]?(S=!0,clearTimeout(this[a+"DblTimeout"])):an.justDragged||(Be["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Be["_"+a+"InDblClickWindow"]=!1},Be.dblClickWindow),m&&m.isListening()?(d=!0,this[a+"ClickEndShape"]=m,m._fireAndBubble(n.pointerup,{..._}),Be["_"+a+"ListenClick"]&&r&&r===m&&(m._fireAndBubble(n.pointerclick,{..._}),S&&l&&l===m&&m._fireAndBubble(n.pointerdblclick,{..._}))):(this[a+"ClickEndShape"]=null,d||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d=!0),Be["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),S&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),d||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Be["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Ay,{evt:e}):this._fire(Ay,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Ry,{evt:e}):this._fire(Ry,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=j1(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Cd,g2(e)),j0(e.pointerId)}_lostpointercapture(e){j0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,r=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-n.left)/n.scaleX,y:(l.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,r=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:r},this._pointerPositions=[{x:a,y:r,id:ae._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:r,id:ae._getFirstPointerId(e)}])}_setPointerPosition(e){ae.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new uu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new d2({pixelRatio:1,width:this.width(),height:this.height()}),!Be.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return ae.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};sv.prototype.nodeType=dA;Ln(sv);q.addGetterSetter(sv,"container");Be.isBrowser&&document.addEventListener("visibilitychange",()=>{z0.forEach(t=>{t.batchDraw()})});const uS="hasShadow",cS="shadowRGBA",fS="patternImage",dS="linearGradient",hS="radialGradient";let tm;function U1(){return tm||(tm=ae.createCanvasElement().getContext("2d"),tm)}const U0={};function bA(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function _A(t){t.stroke()}function SA(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function wA(t){t.stroke()}function xA(){this._clearCache(uS)}function EA(){this._clearCache(cS)}function CA(){this._clearCache(fS)}function TA(){this._clearCache(dS)}function AA(){this._clearCache(hS)}class De extends ke{constructor(e){super(e);let n;for(;n=ae.getRandomColor(),!(n&&!(n in U0)););this.colorKey=n,U0[n]=this}getContext(){return ae.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ae.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(uS,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(fS,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=U1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new tr;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Be.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const r=a.getMatrix(),l=typeof DOMMatrix>"u"?{a:r[0],b:r[1],c:r[2],d:r[3],e:r[4],f:r[5]}:new DOMMatrix(r);n.setTransform(l)}return n}}_getLinearGradient(){return this._getCache(dS,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=U1(),a=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),l=n.createLinearGradient(a.x,a.y,r.x,r.y);for(let c=0;c<e.length;c+=2)l.addColorStop(e[c],e[c+1]);return l}}_getRadialGradient(){return this._getCache(hS,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=U1(),a=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),l=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let c=0;c<e.length;c+=2)l.addColorStop(e[c],e[c+1]);return l}}getShadowRGBA(){return this._getCache(cS,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=ae.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return ke.prototype.destroy.call(this),delete U0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const r=e||this.hasFill(),l=this.hasStroke(),c=this.getAbsoluteOpacity()!==1;if(r&&l&&c)return!0;const d=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(r&&l&&d&&g)}setStrokeHitEnabled(e){ae.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const r=e.skipTransform,l=e.relativeTo||n&&this.getStage()||void 0,c=this.getSelfRect(),g=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,m=c.width+g,v=c.height+g,_=!e.skipShadow&&this.hasShadow(),S=_?this.shadowOffsetX():0,E=_?this.shadowOffsetY():0,T=m+Math.abs(S),R=v+Math.abs(E),O=_&&this.shadowBlur()||0,j=T+O*2,N=R+O*2,z={width:j,height:N,x:-(g/2+O)+Math.min(S,0)+c.x,y:-(g/2+O)+Math.min(E,0)+c.y};return r?z:this._transformedRect(z,l)}drawScene(e,n,a){const r=this.getLayer(),l=e||r.getCanvas(),c=l.getContext(),d=this._getCanvasCache(),g=this.getSceneFunc(),m=this.hasShadow();let v;const _=n===this;if(!this.isVisible()&&!_)return this;if(d){c.save();const S=this.getAbsoluteTransform(n).getMatrix();return c.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(c),c.restore(),this}if(!g)return this;if(c.save(),this._useBufferCanvas()){v=this.getStage();const S=a||v.bufferCanvas,E=S.getContext();E.clear(),E.save(),E._applyLineJoin(this),E._applyMiterLimit(this);const T=this.getAbsoluteTransform(n).getMatrix();E.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g.call(this,E,this),E.restore();const R=S.pixelRatio;m&&c._applyShadow(this),c._applyOpacity(this),c._applyGlobalCompositeOperation(this),c.drawImage(S._canvas,S.x||0,S.y||0,S.width/R,S.height/R)}else{if(c._applyLineJoin(this),c._applyMiterLimit(this),!_){const S=this.getAbsoluteTransform(n).getMatrix();c.transform(S[0],S[1],S[2],S[3],S[4],S[5]),c._applyOpacity(this),c._applyGlobalCompositeOperation(this)}m&&c._applyShadow(this),g.call(this,c,this)}return c.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const r=this.getLayer(),l=e||r.hitCanvas,c=l&&l.getContext(),d=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),m=g&&g.hit;if(this.colorKey||ae.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),m){c.save();const _=this.getAbsoluteTransform(n).getMatrix();return c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(c),c.restore(),this}if(!d)return this;if(c.save(),c._applyLineJoin(this),c._applyMiterLimit(this),!(this===n)){const _=this.getAbsoluteTransform(n).getMatrix();c.transform(_[0],_[1],_[2],_[3],_[4],_[5])}return d.call(this,c,this),c.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),r=n.hit,l=r.getContext(),c=r.getWidth(),d=r.getHeight();l.clear(),l.drawImage(a._canvas,0,0,c,d);try{const g=l.getImageData(0,0,c,d),m=g.data,v=m.length,_=ae._hexToRgb(this.colorKey);for(let S=0;S<v;S+=4)m[S+3]>e?(m[S]=_.r,m[S+1]=_.g,m[S+2]=_.b,m[S+3]=255):m[S+3]=0;l.putImageData(g,0,0)}catch(g){ae.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return $3(e,this)}setPointerCapture(e){J3(e,this)}releaseCapture(e){j0(e)}}De.prototype._fillFunc=bA;De.prototype._strokeFunc=_A;De.prototype._fillFuncHit=SA;De.prototype._strokeFuncHit=wA;De.prototype._centroid=!1;De.prototype.nodeType="Shape";Ln(De);De.prototype.eventListeners={};De.prototype.on.call(De.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",xA);De.prototype.on.call(De.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",EA);De.prototype.on.call(De.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",CA);De.prototype.on.call(De.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",TA);De.prototype.on.call(De.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",AA);q.addGetterSetter(De,"stroke",void 0,F3());q.addGetterSetter(De,"strokeWidth",2,Ue());q.addGetterSetter(De,"fillAfterStrokeEnabled",!1);q.addGetterSetter(De,"hitStrokeWidth","auto",h2());q.addGetterSetter(De,"strokeHitEnabled",!0,ms());q.addGetterSetter(De,"perfectDrawEnabled",!0,ms());q.addGetterSetter(De,"shadowForStrokeEnabled",!0,ms());q.addGetterSetter(De,"lineJoin");q.addGetterSetter(De,"lineCap");q.addGetterSetter(De,"miterLimit");q.addGetterSetter(De,"sceneFunc");q.addGetterSetter(De,"hitFunc");q.addGetterSetter(De,"dash");q.addGetterSetter(De,"dashOffset",0,Ue());q.addGetterSetter(De,"shadowColor",void 0,kc());q.addGetterSetter(De,"shadowBlur",0,Ue());q.addGetterSetter(De,"shadowOpacity",1,Ue());q.addComponentsGetterSetter(De,"shadowOffset",["x","y"]);q.addGetterSetter(De,"shadowOffsetX",0,Ue());q.addGetterSetter(De,"shadowOffsetY",0,Ue());q.addGetterSetter(De,"fillPatternImage");q.addGetterSetter(De,"fill",void 0,F3());q.addGetterSetter(De,"fillPatternX",0,Ue());q.addGetterSetter(De,"fillPatternY",0,Ue());q.addGetterSetter(De,"fillLinearGradientColorStops");q.addGetterSetter(De,"strokeLinearGradientColorStops");q.addGetterSetter(De,"fillRadialGradientStartRadius",0);q.addGetterSetter(De,"fillRadialGradientEndRadius",0);q.addGetterSetter(De,"fillRadialGradientColorStops");q.addGetterSetter(De,"fillPatternRepeat","repeat");q.addGetterSetter(De,"fillEnabled",!0);q.addGetterSetter(De,"strokeEnabled",!0);q.addGetterSetter(De,"shadowEnabled",!0);q.addGetterSetter(De,"dashEnabled",!0);q.addGetterSetter(De,"strokeScaleEnabled",!0);q.addGetterSetter(De,"fillPriority","color");q.addComponentsGetterSetter(De,"fillPatternOffset",["x","y"]);q.addGetterSetter(De,"fillPatternOffsetX",0,Ue());q.addGetterSetter(De,"fillPatternOffsetY",0,Ue());q.addComponentsGetterSetter(De,"fillPatternScale",["x","y"]);q.addGetterSetter(De,"fillPatternScaleX",1,Ue());q.addGetterSetter(De,"fillPatternScaleY",1,Ue());q.addComponentsGetterSetter(De,"fillLinearGradientStartPoint",["x","y"]);q.addComponentsGetterSetter(De,"strokeLinearGradientStartPoint",["x","y"]);q.addGetterSetter(De,"fillLinearGradientStartPointX",0);q.addGetterSetter(De,"strokeLinearGradientStartPointX",0);q.addGetterSetter(De,"fillLinearGradientStartPointY",0);q.addGetterSetter(De,"strokeLinearGradientStartPointY",0);q.addComponentsGetterSetter(De,"fillLinearGradientEndPoint",["x","y"]);q.addComponentsGetterSetter(De,"strokeLinearGradientEndPoint",["x","y"]);q.addGetterSetter(De,"fillLinearGradientEndPointX",0);q.addGetterSetter(De,"strokeLinearGradientEndPointX",0);q.addGetterSetter(De,"fillLinearGradientEndPointY",0);q.addGetterSetter(De,"strokeLinearGradientEndPointY",0);q.addComponentsGetterSetter(De,"fillRadialGradientStartPoint",["x","y"]);q.addGetterSetter(De,"fillRadialGradientStartPointX",0);q.addGetterSetter(De,"fillRadialGradientStartPointY",0);q.addComponentsGetterSetter(De,"fillRadialGradientEndPoint",["x","y"]);q.addGetterSetter(De,"fillRadialGradientEndPointX",0);q.addGetterSetter(De,"fillRadialGradientEndPointY",0);q.addGetterSetter(De,"fillPatternRotation",0);q.addGetterSetter(De,"fillRule",void 0,kc());q.backCompat(De,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const RA="#",OA="beforeDraw",MA="draw",gS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],DA=gS.length;let Pc=class extends ar{constructor(e){super(e),this.canvas=new uu,this.hitCanvas=new d2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){ke.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!ke.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(ke.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(ke.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return ke.prototype.remove.call(this),e&&e.parentNode&&ae._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ae.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),ke.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ae.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ae.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ae.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let r=0;r<DA;r++){const l=gS[r],c=this._getIntersection({x:e.x+l.x*n,y:e.y+l.y*n}),d=c.shape;if(d)return d;if(a=!!c.antialiased,!c.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,r=a[3];if(r===255){const l=ae._rgbToHex(a[0],a[1],a[2]),c=U0[RA+l];return c?{shape:c}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(e,n,a){const r=this.getLayer(),l=e||r&&r.getCanvas();return this._fire(OA,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),ar.prototype.drawScene.call(this,l,n,a),this._fire(MA,{node:this}),this}drawHit(e,n){const a=this.getLayer(),r=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),ar.prototype.drawHit.call(this,r,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ae.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ae.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return ae.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Pc.prototype.nodeType="Layer";Ln(Pc);q.addGetterSetter(Pc,"imageSmoothingEnabled",!0);q.addGetterSetter(Pc,"clearBeforeDraw",!0);q.addGetterSetter(Pc,"hitGraphEnabled",!0,ms());class p2 extends Pc{constructor(e){super(e),this.listening(!1),ae.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}p2.prototype.nodeType="FastLayer";Ln(p2);let Ud=class extends ar{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ae.throw("You may only add groups and shapes to groups.")}};Ud.prototype.nodeType="Group";Ln(Ud);const L1=(function(){return Rc.performance&&Rc.performance.now?function(){return Rc.performance.now()}:function(){return new Date().getTime()}})();class Or{constructor(e,n){this.id=Or.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:L1(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let r=0;r<a;r++)if(n[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Or.animations,a=n.length;for(let r=0;r<a;r++)if(n[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=L1(),Or._addAnimation(this),this}stop(){return Or._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,r=a.length;for(let l=0;l<r;l++)if(a[l].id===n){this.animations.splice(l,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const r=n[a],l=r.layers,c=r.func;r._updateFrameObject(L1());const d=l.length;let g;if(c?g=c.call(r,r.frame)!==!1:g=!0,!!g)for(let m=0;m<d;m++){const v=l[m];v._id!==void 0&&(e[v._id]=v)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=Or;e.animations.length?(e._runFrames(),ae.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ae.requestAnimFrame(this._animationLoop))}}Or.animations=[];Or.animIdCounter=0;Or.animRunning=!1;const NA={node:1,duration:1,easing:1,onFinish:1,yoyo:1},jA=1,n4=2,a4=3,i4=["fill","stroke","shadowColor"];let zA=0;class UA{constructor(e,n,a,r,l,c,d){this.prop=e,this.propFunc=n,this.begin=r,this._pos=r,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=l-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=n4,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=a4,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===n4?this.setTime(e):this.state===a4&&this.setTime(this.duration-e)}pause(){this.state=jA,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Tn{constructor(e){const n=this,a=e.node,r=a._id,l=e.easing||L0.Linear,c=!!e.yoyo;let d,g;typeof e.duration>"u"?d=.3:e.duration===0?d=.001:d=e.duration,this.node=a,this._id=zA++;const m=a.getLayer()||(a instanceof Be.Stage?a.getLayers():null);m||ae.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Or(function(){n.tween.onEnterFrame()},m),this.tween=new UA(g,function(v){n._tweenFunc(v)},l,0,1,d*1e3,c),this._addListeners(),Tn.attrs[r]||(Tn.attrs[r]={}),Tn.attrs[r][this._id]||(Tn.attrs[r][this._id]={}),Tn.tweens[r]||(Tn.tweens[r]={});for(g in e)NA[g]===void 0&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,r=a._id;let l,c,d,g,m;const v=Tn.tweens[r][e];v&&delete Tn.attrs[r][v][e];let _=a.getAttr(e);if(ae._isArray(n))if(l=[],c=Math.max(n.length,_.length),e==="points"&&n.length!==_.length&&(n.length>_.length?(g=_,_=ae._prepareArrayForTween(_,n,a.closed())):(d=n,n=ae._prepareArrayForTween(n,_,a.closed()))),e.indexOf("fill")===0)for(let S=0;S<c;S++)if(S%2===0)l.push(n[S]-_[S]);else{const E=ae.colorToRGBA(_[S]);m=ae.colorToRGBA(n[S]),_[S]=E,l.push({r:m.r-E.r,g:m.g-E.g,b:m.b-E.b,a:m.a-E.a})}else for(let S=0;S<c;S++)l.push(n[S]-_[S]);else i4.indexOf(e)!==-1?(_=ae.colorToRGBA(_),m=ae.colorToRGBA(n),l={r:m.r-_.r,g:m.g-_.g,b:m.b-_.b,a:m.a-_.a}):l=n-_;Tn.attrs[r][this._id][e]={start:_,diff:l,end:n,trueEnd:d,trueStart:g},Tn.tweens[r][e]=this._id}_tweenFunc(e){const n=this.node,a=Tn.attrs[n._id][this._id];let r,l,c,d,g,m,v,_;for(r in a){if(l=a[r],c=l.start,d=l.diff,_=l.end,ae._isArray(c))if(g=[],v=Math.max(c.length,_.length),r.indexOf("fill")===0)for(m=0;m<v;m++)m%2===0?g.push((c[m]||0)+d[m]*e):g.push("rgba("+Math.round(c[m].r+d[m].r*e)+","+Math.round(c[m].g+d[m].g*e)+","+Math.round(c[m].b+d[m].b*e)+","+(c[m].a+d[m].a*e)+")");else for(m=0;m<v;m++)g.push((c[m]||0)+d[m]*e);else i4.indexOf(r)!==-1?g="rgba("+Math.round(c.r+d.r*e)+","+Math.round(c.g+d.g*e)+","+Math.round(c.b+d.b*e)+","+(c.a+d.a*e)+")":g=c+d*e;n.setAttr(r,g)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Tn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Tn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=Tn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const r in a)delete Tn.tweens[e][r];delete Tn.attrs[e][n],Tn.tweens[e]&&(Object.keys(Tn.tweens[e]).length===0&&delete Tn.tweens[e],Object.keys(Tn.attrs[e]).length===0&&delete Tn.attrs[e])}}Tn.attrs={};Tn.tweens={};ke.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Tn(t).play()};const L0={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let r=1.70158;return(t/=a/2)<1?n/2*(t*t*(((r*=1.525)+1)*t-r))+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e},ElasticEaseIn(t,e,n,a,r,l){let c=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!r||r<Math.abs(n)?(r=n,c=l/4):c=l/(2*Math.PI)*Math.asin(n/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*a-c)*(2*Math.PI)/l))+e)},ElasticEaseOut(t,e,n,a,r,l){let c=0;return t===0?e:(t/=a)===1?e+n:(l||(l=a*.3),!r||r<Math.abs(n)?(r=n,c=l/4):c=l/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*a-c)*(2*Math.PI)/l)+n+e)},ElasticEaseInOut(t,e,n,a,r,l){let c=0;return t===0?e:(t/=a/2)===2?e+n:(l||(l=a*(.3*1.5)),!r||r<Math.abs(n)?(r=n,c=l/4):c=l/(2*Math.PI)*Math.asin(n/r),t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*a-c)*(2*Math.PI)/l))+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*a-c)*(2*Math.PI)/l)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-L0.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?L0.BounceEaseIn(t*2,0,n,a)*.5+e:L0.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},Ld=ae._assign(Be,{Util:ae,Transform:tr,Node:ke,Container:ar,Stage:sv,stages:z0,Layer:Pc,FastLayer:p2,Group:Ud,DD:an,Shape:De,shapes:U0,Animation:Or,Tween:Tn,Easings:L0,Context:iv,Canvas:f2});class ao extends De{_sceneFunc(e){const n=Be.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),r=Be.getAngle(a?360-this.angle():this.angle()),l=Math.cos(Math.min(r,Math.PI)),c=1,d=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),g=Math.sin(Math.min(r,Math.PI/2)),m=l*(l>0?e:n),v=c*n,_=d*(d>0?e:n),S=g*(g>0?n:e);return{x:m,y:a?-1*S:_,width:v-m,height:S-_}}}ao.prototype._centroid=!0;ao.prototype.className="Arc";ao.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Ln(ao);q.addGetterSetter(ao,"innerRadius",0,Ue());q.addGetterSetter(ao,"outerRadius",0,Ue());q.addGetterSetter(ao,"angle",0,Ue());q.addGetterSetter(ao,"clockwise",!1,ms());function Oy(t,e,n,a,r,l,c){const d=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),g=Math.sqrt(Math.pow(r-n,2)+Math.pow(l-a,2)),m=c*d/(d+g),v=c*g/(d+g),_=n-m*(r-t),S=a-m*(l-e),E=n+v*(r-t),T=a+v*(l-e);return[_,S,E,T]}function r4(t,e){const n=t.length,a=[];for(let r=2;r<n-2;r+=2){const l=Oy(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e);isNaN(l[0])||(a.push(l[0]),a.push(l[1]),a.push(t[r]),a.push(t[r+1]),a.push(l[2]),a.push(l[3]))}return a}let io=class extends De{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,r=this.tension(),l=this.closed(),c=this.bezier();if(!a)return;let d=0;if(e.beginPath(),e.moveTo(n[0],n[1]),r!==0&&a>4){const g=this.getTensionPoints(),m=g.length;for(d=l?0:4,l||e.quadraticCurveTo(g[0],g[1],g[2],g[3]);d<m-2;)e.bezierCurveTo(g[d++],g[d++],g[d++],g[d++],g[d++],g[d++]);l||e.quadraticCurveTo(g[m-2],g[m-1],n[a-2],n[a-1])}else if(c)for(d=2;d<a;)e.bezierCurveTo(n[d++],n[d++],n[d++],n[d++],n[d++],n[d++]);else for(d=2;d<a;d+=2)e.lineTo(n[d],n[d+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r4(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),r=Oy(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),l=Oy(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),c=r4(e,a);return[r[2],r[3]].concat(c).concat([l[0],l[1],e[n-2],e[n-1],l[2],l[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],r=e[1],l=e[1],c,d;for(let g=0;g<e.length/2;g++)c=e[g*2],d=e[g*2+1],n=Math.min(n,c),a=Math.max(a,c),r=Math.min(r,d),l=Math.max(l,d);return{x:n,y:r,width:a-n,height:l-r}}};io.prototype.className="Line";io.prototype._attrsAffectingSize=["points","bezier","tension"];Ln(io);q.addGetterSetter(io,"closed",!1);q.addGetterSetter(io,"bezier",!1);q.addGetterSetter(io,"tension",0,Ue());q.addGetterSetter(io,"points",[],$T());const LA=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],kA=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],PA=[[1],[1,1],[1,2,1],[1,3,3,1]],s4=(t,e,n)=>{let a,r;const c=n/2;a=0;for(let d=0;d<20;d++)r=c*LA[20][d]+c,a+=kA[20][d]*BA(t,e,r);return c*a},l4=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],r=e[0]-2*e[1]+e[2],l=2*t[1]-2*t[0],c=2*e[1]-2*e[0],d=4*(a*a+r*r),g=4*(a*l+r*c),m=l*l+c*c;if(d===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const v=g/(2*d),_=m/d,S=n+v,E=_-v*v,T=S*S+E>0?Math.sqrt(S*S+E):0,R=v*v+E>0?Math.sqrt(v*v+E):0,O=v+Math.sqrt(v*v+E)!==0?E*Math.log(Math.abs((S+T)/(v+R))):0;return Math.sqrt(d)/2*(S*T-v*R+O)};function BA(t,e,n){const a=My(1,n,t),r=My(1,n,e),l=a*a+r*r;return Math.sqrt(l)}const My=(t,e,n)=>{const a=n.length-1;let r,l;if(a===0)return 0;if(t===0){l=0;for(let c=0;c<=a;c++)l+=PA[a][c]*Math.pow(1-e,a-c)*Math.pow(e,c)*n[c];return l}else{r=new Array(a);for(let c=0;c<a;c++)r[c]=a*(n[c+1]-n[c]);return My(t-1,e,r)}},o4=(t,e,n)=>{let a=1,r=t/e,l=(t-n(r))/e,c=0;for(;a>.001;){const d=n(r+l),g=Math.abs(t-d)/e;if(g<a)a=g,r+=l;else{const m=n(r-l),v=Math.abs(t-m)/e;v<a?(a=v,r-=l):l/=2}if(c++,c>500)break}return r};let Mr=class ji extends De{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ji.parsePathData(this.data()),this.pathLength=ji.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let r=0;r<n.length;r++){const l=n[r].command,c=n[r].points;switch(l){case"L":e.lineTo(c[0],c[1]);break;case"M":e.moveTo(c[0],c[1]);break;case"C":e.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);break;case"Q":e.quadraticCurveTo(c[0],c[1],c[2],c[3]);break;case"A":const d=c[0],g=c[1],m=c[2],v=c[3],_=c[4],S=c[5],E=c[6],T=c[7],R=m>v?m:v,O=m>v?1:m/v,j=m>v?v/m:1;e.translate(d,g),e.rotate(E),e.scale(O,j),e.arc(0,0,R,_,_+S,1-T),e.scale(1/O,1/j),e.rotate(-E),e.translate(-d,-g);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(g){if(g.command==="A"){const m=g.points[4],v=g.points[5],_=g.points[4]+v;let S=Math.PI/180;if(Math.abs(m-_)<S&&(S=Math.abs(m-_)),v<0)for(let E=m-S;E>_;E-=S){const T=ji.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],E,0);e.push(T.x,T.y)}else for(let E=m+S;E<_;E+=S){const T=ji.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],E,0);e.push(T.x,T.y)}}else if(g.command==="C")for(let m=0;m<=1;m+=.01){const v=ji.getPointOnCubicBezier(m,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);e.push(v.x,v.y)}else e=e.concat(g.points)});let n=e[0],a=e[0],r=e[1],l=e[1],c,d;for(let g=0;g<e.length/2;g++)c=e[g*2],d=e[g*2+1],isNaN(c)||(n=Math.min(n,c),a=Math.max(a,c)),isNaN(d)||(r=Math.min(r,d),l=Math.max(l,d));return{x:n,y:r,width:a-n,height:l-r}}getLength(){return this.pathLength}getPointAtLength(e){return ji.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,r){return Math.sqrt((a-e)*(a-e)+(r-n)*(r-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,r=0,l=n.length;if(!l)return null;for(;r<l&&e>n[r].pathLength;)e-=n[r].pathLength,++r;if(r===l)return a=n[r-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[r].command==="M"?(a=n[r].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[r].start.x,y:n[r].start.y};const c=n[r],d=c.points;switch(c.command){case"L":return ji.getPointOnLine(e,c.start.x,c.start.y,d[0],d[1]);case"C":return ji.getPointOnCubicBezier(o4(e,ji.getPathLength(n),R=>s4([c.start.x,d[0],d[2],d[4]],[c.start.y,d[1],d[3],d[5]],R)),c.start.x,c.start.y,d[0],d[1],d[2],d[3],d[4],d[5]);case"Q":return ji.getPointOnQuadraticBezier(o4(e,ji.getPathLength(n),R=>l4([c.start.x,d[0],d[2]],[c.start.y,d[1],d[3]],R)),c.start.x,c.start.y,d[0],d[1],d[2],d[3]);case"A":const g=d[0],m=d[1],v=d[2],_=d[3],S=d[5],E=d[6];let T=d[4];return T+=S*e/c.pathLength,ji.getPointOnEllipticalArc(g,m,v,_,T,E)}return null}static getPointOnLine(e,n,a,r,l,c,d){c=c??n,d=d??a;const g=this.getLineLength(n,a,r,l);if(g<1e-10)return{x:n,y:a};if(r===n)return{x:c,y:d+(l>a?e:-e)};const m=(l-a)/(r-n),v=Math.sqrt(e*e/(1+m*m))*(r<n?-1:1),_=m*v;if(Math.abs(d-a-m*(c-n))<1e-10)return{x:c+v,y:d+_};const S=((c-n)*(r-n)+(d-a)*(l-a))/(g*g),E=n+S*(r-n),T=a+S*(l-a),R=this.getLineLength(c,d,E,T),O=Math.sqrt(e*e-R*R),j=Math.sqrt(O*O/(1+m*m))*(r<n?-1:1),N=m*j;return{x:E+j,y:T+N}}static getPointOnCubicBezier(e,n,a,r,l,c,d,g,m){function v(O){return O*O*O}function _(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function E(O){return(1-O)*(1-O)*(1-O)}const T=g*v(e)+c*_(e)+r*S(e)+n*E(e),R=m*v(e)+d*_(e)+l*S(e)+a*E(e);return{x:T,y:R}}static getPointOnQuadraticBezier(e,n,a,r,l,c,d){function g(E){return E*E}function m(E){return 2*E*(1-E)}function v(E){return(1-E)*(1-E)}const _=c*g(e)+r*m(e)+n*v(e),S=d*g(e)+l*m(e)+a*v(e);return{x:_,y:S}}static getPointOnEllipticalArc(e,n,a,r,l,c){const d=Math.cos(c),g=Math.sin(c),m={x:a*Math.cos(l),y:r*Math.sin(l)};return{x:e+(m.x*d-m.y*g),y:n+(m.x*g+m.y*d)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let _=0;_<a.length;_++)n=n.replace(new RegExp(a[_],"g"),"|"+a[_]);const r=n.split("|"),l=[],c=[];let d=0,g=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(let _=1;_<r.length;_++){let S=r[_],E=S.charAt(0);for(S=S.slice(1),c.length=0;v=m.exec(S);)c.push(v[0]);let T=[],R=E==="A"||E==="a"?0:-1;for(let O=0,j=c.length;O<j;O++){const N=c[O];if(N==="00"){T.push(0,0),R>=0&&(R+=2,R>=7&&(R-=7));continue}if(R>=0){if(R===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(N)){T.push(parseInt(N[0],10)),T.push(parseInt(N[1],10)),T.push(parseFloat(N.slice(2))),R+=3,R>=7&&(R-=7);continue}if(N==="11"||N==="10"||N==="01"){T.push(parseInt(N[0],10)),T.push(parseInt(N[1],10)),R+=2,R>=7&&(R-=7);continue}if(N==="0"||N==="1"){T.push(parseInt(N,10)),R+=1,R>=7&&(R-=7);continue}}else if(R===4){if(/^[01]\d+(?:\.\d+)?$/.test(N)){T.push(parseInt(N[0],10)),T.push(parseFloat(N.slice(1))),R+=2,R>=7&&(R-=7);continue}if(N==="0"||N==="1"){T.push(parseInt(N,10)),R+=1,R>=7&&(R-=7);continue}}const z=parseFloat(N);isNaN(z)?T.push(0):T.push(z),R+=1,R>=7&&(R-=7)}else{const z=parseFloat(N);isNaN(z)?T.push(0):T.push(z)}}for(;T.length>0&&!isNaN(T[0]);){let O="",j=[];const N=d,z=g;let B,G,k,K,$,oe,be,Re,pe,ye;switch(E){case"l":d+=T.shift(),g+=T.shift(),O="L",j.push(d,g);break;case"L":d=T.shift(),g=T.shift(),j.push(d,g);break;case"m":const me=T.shift(),_e=T.shift();if(d+=me,g+=_e,O="M",l.length>2&&l[l.length-1].command==="z"){for(let L=l.length-2;L>=0;L--)if(l[L].command==="M"){d=l[L].points[0]+me,g=l[L].points[1]+_e;break}}j.push(d,g),E="l";break;case"M":d=T.shift(),g=T.shift(),O="M",j.push(d,g),E="L";break;case"h":d+=T.shift(),O="L",j.push(d,g);break;case"H":d=T.shift(),O="L",j.push(d,g);break;case"v":g+=T.shift(),O="L",j.push(d,g);break;case"V":g=T.shift(),O="L",j.push(d,g);break;case"C":j.push(T.shift(),T.shift(),T.shift(),T.shift()),d=T.shift(),g=T.shift(),j.push(d,g);break;case"c":j.push(d+T.shift(),g+T.shift(),d+T.shift(),g+T.shift()),d+=T.shift(),g+=T.shift(),O="C",j.push(d,g);break;case"S":G=d,k=g,B=l[l.length-1],B.command==="C"&&(G=d+(d-B.points[2]),k=g+(g-B.points[3])),j.push(G,k,T.shift(),T.shift()),d=T.shift(),g=T.shift(),O="C",j.push(d,g);break;case"s":G=d,k=g,B=l[l.length-1],B.command==="C"&&(G=d+(d-B.points[2]),k=g+(g-B.points[3])),j.push(G,k,d+T.shift(),g+T.shift()),d+=T.shift(),g+=T.shift(),O="C",j.push(d,g);break;case"Q":j.push(T.shift(),T.shift()),d=T.shift(),g=T.shift(),j.push(d,g);break;case"q":j.push(d+T.shift(),g+T.shift()),d+=T.shift(),g+=T.shift(),O="Q",j.push(d,g);break;case"T":G=d,k=g,B=l[l.length-1],B.command==="Q"&&(G=d+(d-B.points[0]),k=g+(g-B.points[1])),d=T.shift(),g=T.shift(),O="Q",j.push(G,k,d,g);break;case"t":G=d,k=g,B=l[l.length-1],B.command==="Q"&&(G=d+(d-B.points[0]),k=g+(g-B.points[1])),d+=T.shift(),g+=T.shift(),O="Q",j.push(G,k,d,g);break;case"A":K=T.shift(),$=T.shift(),oe=T.shift(),be=T.shift(),Re=T.shift(),pe=d,ye=g,d=T.shift(),g=T.shift(),O="A",j=this.convertEndpointToCenterParameterization(pe,ye,d,g,be,Re,K,$,oe);break;case"a":K=T.shift(),$=T.shift(),oe=T.shift(),be=T.shift(),Re=T.shift(),pe=d,ye=g,d+=T.shift(),g+=T.shift(),O="A",j=this.convertEndpointToCenterParameterization(pe,ye,d,g,be,Re,K,$,oe);break}l.push({command:O||E,points:j,start:{x:N,y:z},pathLength:this.calcLength(N,z,O||E,j)})}(E==="z"||E==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,n,a,r){let l,c,d,g;const m=ji;switch(a){case"L":return m.getLineLength(e,n,r[0],r[1]);case"C":return s4([e,r[0],r[2],r[4]],[n,r[1],r[3],r[5]],1);case"Q":return l4([e,r[0],r[2]],[n,r[1],r[3]],1);case"A":l=0;const v=r[4],_=r[5],S=r[4]+_;let E=Math.PI/180;if(Math.abs(v-S)<E&&(E=Math.abs(v-S)),c=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],v,0),_<0)for(g=v-E;g>S;g-=E)d=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],g,0),l+=m.getLineLength(c.x,c.y,d.x,d.y),c=d;else for(g=v+E;g<S;g+=E)d=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],g,0),l+=m.getLineLength(c.x,c.y,d.x,d.y),c=d;return d=m.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],S,0),l+=m.getLineLength(c.x,c.y,d.x,d.y),l}return 0}static convertEndpointToCenterParameterization(e,n,a,r,l,c,d,g,m){const v=m*(Math.PI/180),_=Math.cos(v)*(e-a)/2+Math.sin(v)*(n-r)/2,S=-1*Math.sin(v)*(e-a)/2+Math.cos(v)*(n-r)/2,E=_*_/(d*d)+S*S/(g*g);E>1&&(d*=Math.sqrt(E),g*=Math.sqrt(E));let T=Math.sqrt((d*d*(g*g)-d*d*(S*S)-g*g*(_*_))/(d*d*(S*S)+g*g*(_*_)));l===c&&(T*=-1),isNaN(T)&&(T=0);const R=T*d*S/g,O=T*-g*_/d,j=(e+a)/2+Math.cos(v)*R-Math.sin(v)*O,N=(n+r)/2+Math.sin(v)*R+Math.cos(v)*O,z=function(be){return Math.sqrt(be[0]*be[0]+be[1]*be[1])},B=function(be,Re){return(be[0]*Re[0]+be[1]*Re[1])/(z(be)*z(Re))},G=function(be,Re){return(be[0]*Re[1]<be[1]*Re[0]?-1:1)*Math.acos(B(be,Re))},k=G([1,0],[(_-R)/d,(S-O)/g]),K=[(_-R)/d,(S-O)/g],$=[(-1*_-R)/d,(-1*S-O)/g];let oe=G(K,$);return B(K,$)<=-1&&(oe=Math.PI),B(K,$)>=1&&(oe=0),c===0&&oe>0&&(oe=oe-2*Math.PI),c===1&&oe<0&&(oe=oe+2*Math.PI),[j,N,d,g,k,oe,v,c]}};Mr.prototype.className="Path";Mr.prototype._attrsAffectingSize=["data"];Ln(Mr);q.addGetterSetter(Mr,"data");let Bc=class extends io{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let r=a;const l=this.tension()!==0&&a.length>4;l&&(r=this.getTensionPoints());const c=this.pointerLength(),d=a.length;let g,m;if(l){const S=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],a[d-2],a[d-1]],E=Mr.calcLength(r[r.length-4],r[r.length-3],"C",S),T=Mr.getPointOnQuadraticBezier(Math.min(1,1-c/E),S[0],S[1],S[2],S[3],S[4],S[5]);g=a[d-2]-T.x,m=a[d-1]-T.y}else g=a[d-2]-a[d-4],m=a[d-1]-a[d-3];const v=(Math.atan2(m,g)+n)%n,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[d-2],a[d-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-c,_/2),e.lineTo(-c,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),l?(g=(r[0]+r[2])/2-a[0],m=(r[1]+r[3])/2-a[1]):(g=a[2]-a[0],m=a[3]-a[1]),e.rotate((Math.atan2(-m,-g)+n)%n),e.moveTo(0,0),e.lineTo(-c,_/2),e.lineTo(-c,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Bc.prototype.className="Arrow";Ln(Bc);q.addGetterSetter(Bc,"pointerLength",10,Ue());q.addGetterSetter(Bc,"pointerWidth",10,Ue());q.addGetterSetter(Bc,"pointerAtBeginning",!1);q.addGetterSetter(Bc,"pointerAtEnding",!0);let Bd=class extends De{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Bd.prototype._centroid=!0;Bd.prototype.className="Circle";Bd.prototype._attrsAffectingSize=["radius"];Ln(Bd);q.addGetterSetter(Bd,"radius",0,Ue());class yu extends De{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}yu.prototype.className="Ellipse";yu.prototype._centroid=!0;yu.prototype._attrsAffectingSize=["radiusX","radiusY"];Ln(yu);q.addComponentsGetterSetter(yu,"radius",["x","y"]);q.addGetterSetter(yu,"radiusX",0,Ue());q.addGetterSetter(yu,"radiusY",0,Ue());class jr extends De{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),r=this.cornerRadius(),l=this.attrs.image;let c;if(l){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;d&&g?c=[l,this.cropX(),this.cropY(),d,g,0,0,n,a]:c=[l,0,0,n,a]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?ae.drawRoundedRectPath(e,n,a,r):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),l&&(r&&e.clip(),e.drawImage.apply(e,c))}_hitFunc(e){const n=this.width(),a=this.height(),r=this.cornerRadius();e.beginPath(),r?ae.drawRoundedRectPath(e,n,a,r):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,a=null){const r=ae.createImageElement();r.onload=function(){const l=new jr({image:r});n(l)},r.onerror=a,r.crossOrigin="Anonymous",r.src=e}}jr.prototype.className="Image";Ln(jr);q.addGetterSetter(jr,"cornerRadius",0,rv(4));q.addGetterSetter(jr,"image");q.addComponentsGetterSetter(jr,"crop",["x","y","width","height"]);q.addGetterSetter(jr,"cropX",0,Ue());q.addGetterSetter(jr,"cropY",0,Ue());q.addGetterSetter(jr,"cropWidth",0,Ue());q.addGetterSetter(jr,"cropHeight",0,Ue());const pS=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],HA="Change.konva",GA="none",Dy="up",Ny="right",jy="down",zy="left",qA=pS.length;let m2=class extends Ud{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const r=function(){n._sync()};for(a=0;a<qA;a++)e.on(pS[a]+HA,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,r,l,c,d,g,m;if(e&&n){switch(a=e.width(),r=e.height(),l=n.pointerDirection(),c=n.pointerWidth(),m=n.pointerHeight(),d=0,g=0,l){case Dy:d=a/2,g=-1*m;break;case Ny:d=a+c,g=r/2;break;case jy:d=a/2,g=r+m;break;case zy:d=-1*c,g=r/2;break}n.setAttrs({x:-1*d,y:-1*g,width:a,height:r}),e.setAttrs({x:-1*d,y:-1*g})}}};m2.prototype.className="Label";Ln(m2);class Hc extends De{_sceneFunc(e){const n=this.width(),a=this.height(),r=this.pointerDirection(),l=this.pointerWidth(),c=this.pointerHeight(),d=this.cornerRadius();let g=0,m=0,v=0,_=0;typeof d=="number"?g=m=v=_=Math.min(d,n/2,a/2):(g=Math.min(d[0]||0,n/2,a/2),m=Math.min(d[1]||0,n/2,a/2),_=Math.min(d[2]||0,n/2,a/2),v=Math.min(d[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(g,0),r===Dy&&(e.lineTo((n-l)/2,0),e.lineTo(n/2,-1*c),e.lineTo((n+l)/2,0)),e.lineTo(n-m,0),e.arc(n-m,m,m,Math.PI*3/2,0,!1),r===Ny&&(e.lineTo(n,(a-c)/2),e.lineTo(n+l,a/2),e.lineTo(n,(a+c)/2)),e.lineTo(n,a-_),e.arc(n-_,a-_,_,0,Math.PI/2,!1),r===jy&&(e.lineTo((n+l)/2,a),e.lineTo(n/2,a+c),e.lineTo((n-l)/2,a)),e.lineTo(v,a),e.arc(v,a-v,v,Math.PI/2,Math.PI,!1),r===zy&&(e.lineTo(0,(a+c)/2),e.lineTo(-1*l,a/2),e.lineTo(0,(a-c)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),r=this.pointerHeight(),l=this.pointerDirection(),c=this.width(),d=this.height();return l===Dy?(n-=r,d+=r):l===jy?d+=r:l===zy?(e-=a*1.5,c+=a):l===Ny&&(c+=a*1.5),{x:e,y:n,width:c,height:d}}}Hc.prototype.className="Tag";Ln(Hc);q.addGetterSetter(Hc,"pointerDirection",GA);q.addGetterSetter(Hc,"pointerWidth",0,Ue());q.addGetterSetter(Hc,"pointerHeight",0,Ue());q.addGetterSetter(Hc,"cornerRadius",0,rv(4));let ag=class extends De{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),r=this.height();e.beginPath(),n?ae.drawRoundedRectPath(e,a,r,n):e.rect(0,0,a,r),e.closePath(),e.fillStrokeShape(this)}};ag.prototype.className="Rect";Ln(ag);q.addGetterSetter(ag,"cornerRadius",0,rv(4));class bu extends De{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),r=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)ae.drawRoundedPolygonPath(e,n,r,a,l);else{e.moveTo(n[0].x,n[0].y);for(let c=1;c<n.length;c++)e.lineTo(n[c].x,n[c].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let r=0;r<e;r++)a.push({x:n*Math.sin(r*2*Math.PI/e),y:-1*n*Math.cos(r*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,r=e[0].x,l=e[0].y;return e.forEach(c=>{n=Math.min(n,c.x),a=Math.max(a,c.x),r=Math.min(r,c.y),l=Math.max(l,c.y)}),{x:n,y:r,width:a-n,height:l-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}bu.prototype.className="RegularPolygon";bu.prototype._centroid=!0;bu.prototype._attrsAffectingSize=["radius"];Ln(bu);q.addGetterSetter(bu,"radius",0,Ue());q.addGetterSetter(bu,"sides",0,Ue());q.addGetterSetter(bu,"cornerRadius",0,rv(4));const u4=Math.PI*2;class Gc extends De{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,u4,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),u4,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Gc.prototype.className="Ring";Gc.prototype._centroid=!0;Gc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ln(Gc);q.addGetterSetter(Gc,"innerRadius",0,Ue());q.addGetterSetter(Gc,"outerRadius",0,Ue());class ul extends De{constructor(e){super(e),this._updated=!0,this.anim=new Or(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),r=a*4,l=this.animations()[n],c=this.frameOffsets(),d=l[r+0],g=l[r+1],m=l[r+2],v=l[r+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,m,v),e.closePath(),e.fillStrokeShape(this)),_)if(c){const S=c[n],E=a*2;e.drawImage(_,d,g,m,v,S[E+0],S[E+1],m,v)}else e.drawImage(_,d,g,m,v,0,0,m,v)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),r=a*4,l=this.animations()[n],c=this.frameOffsets(),d=l[r+2],g=l[r+3];if(e.beginPath(),c){const m=c[n],v=a*2;e.rect(m[v+0],m[v+1],d,g)}else e.rect(0,0,d,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),r=a[n],l=r.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}ul.prototype.className="Sprite";Ln(ul);q.addGetterSetter(ul,"animation");q.addGetterSetter(ul,"animations");q.addGetterSetter(ul,"frameOffsets");q.addGetterSetter(ul,"image");q.addGetterSetter(ul,"frameIndex",0,Ue());q.addGetterSetter(ul,"frameRate",17,Ue());q.backCompat(ul,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class _u extends De{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let l=1;l<r*2;l++){const c=l%2===0?a:n,d=c*Math.sin(l*Math.PI/r),g=-1*c*Math.cos(l*Math.PI/r);e.lineTo(d,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}_u.prototype.className="Star";_u.prototype._centroid=!0;_u.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ln(_u);q.addGetterSetter(_u,"numPoints",5,Ue());q.addGetterSetter(_u,"innerRadius",0,Ue());q.addGetterSetter(_u,"outerRadius",0,Ue());function iu(t){return[...t].reduce((e,n,a,r)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const l=r[a+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(n+l),r[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(r[a+1]||""))?e.push(n+r[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const gd="auto",VA="center",mS="inherit",pd="justify",YA="Change.konva",ZA="2d",c4="-",vS="left",KA="text",IA="Text",XA="top",FA="bottom",f4="middle",yS="normal",QA="px ",nm=" ",$A="right",d4="rtl",JA="word",WA="char",h4="none",k1="",bS=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],eR=bS.length;function tR(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let am;function P1(){return am||(am=ae.createCanvasElement().getContext(ZA),am)}function nR(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function aR(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function iR(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Dn=class extends De{constructor(e){super(iR(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<eR;n++)this.on(bS[n]+YA,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const r=this.textArr,l=r.length;if(!this.text())return;let c=this.padding(),d=this.fontSize(),g=this.lineHeight()*d,m=this.verticalAlign(),v=this.direction(),_=0,S=this.align(),E=this.getWidth(),T=this.letterSpacing(),R=this.charRenderFunc(),O=this.fill(),j=this.textDecoration(),N=j.indexOf("underline")!==-1,z=j.indexOf("line-through")!==-1,B;v=v===mS?e.direction:v;let G=g/2,k=f4;if(!Be.legacyTextRendering){const K=this.measureSize("M");k="alphabetic";const $=(n=K.fontBoundingBoxAscent)!==null&&n!==void 0?n:K.actualBoundingBoxAscent,oe=(a=K.fontBoundingBoxDescent)!==null&&a!==void 0?a:K.actualBoundingBoxDescent;G=($-oe)/2+g/2}for(v===d4&&e.setAttr("direction",v),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",k),e.setAttr("textAlign",vS),m===f4?_=(this.getHeight()-l*g-c*2)/2:m===FA&&(_=this.getHeight()-l*g-c*2),e.translate(c,_+c),B=0;B<l;B++){let K=0,$=0;const oe=r[B],be=oe.text,Re=oe.width,pe=oe.lastInParagraph;if(e.save(),S===$A?K+=E-Re-c*2:S===VA&&(K+=(E-Re-c*2)/2),N){e.save(),e.beginPath();const ye=Be.legacyTextRendering?Math.round(d/2):Math.round(d/4),me=K,_e=G+$+ye;e.moveTo(me,_e);const L=S===pd&&!pe?E-c*2:Re;e.lineTo(me+Math.round(L),_e),e.lineWidth=d/15;const Q=this._getLinearGradient();e.strokeStyle=Q||O,e.stroke(),e.restore()}if(v!==d4&&(T!==0||S===pd||R)){const ye=be.split(" ").length-1,me=iu(be);for(let _e=0;_e<me.length;_e++){const L=me[_e];if(L===" "&&!pe&&S===pd&&(K+=(E-c*2-Re)/ye),this._partialTextX=K,this._partialTextY=G+$,this._partialText=L,R){e.save();const X=r.slice(0,B).reduce((H,J)=>H+iu(J.text).length,0),se=_e+X;R({char:L,index:se,x:K,y:G+$,lineIndex:B,column:_e,isLastInLine:pe,width:this.measureSize(L).width,context:e})}e.fillStrokeShape(this),R&&e.restore(),K+=this.measureSize(L).width+T}}else T!==0&&e.setAttr("letterSpacing",`${T}px`),this._partialTextX=K,this._partialTextY=G+$,this._partialText=be,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const ye=Be.legacyTextRendering?0:-Math.round(d/4),me=S===pd?0:K;e.moveTo(me,G+$+ye);const _e=S===pd&&!pe?E-c*2:Re;e.lineTo(me+Math.round(_e),G+$+ye),e.lineWidth=d/15;const L=this._getLinearGradient();e.strokeStyle=L||O,e.stroke(),e.restore()}e.restore(),l>1&&(G+=g)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=ae._isString(e)?e:e==null?"":e+"";return this._setAttr(KA,n),this}getWidth(){return this.attrs.width===gd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===gd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ae.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,r,l,c,d,g,m,v,_,S;let E=P1(),T=this.fontSize(),R;E.save(),E.font=this._getContextFont(),R=E.measureText(e),E.restore();const O=T/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(a=R.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(r=R.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*O,actualBoundingBoxRight:(l=R.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*O,alphabeticBaseline:(c=R.alphabeticBaseline)!==null&&c!==void 0?c:0,emHeightAscent:(d=R.emHeightAscent)!==null&&d!==void 0?d:100*O,emHeightDescent:(g=R.emHeightDescent)!==null&&g!==void 0?g:-20*O,fontBoundingBoxAscent:(m=R.fontBoundingBoxAscent)!==null&&m!==void 0?m:91*O,fontBoundingBoxDescent:(v=R.fontBoundingBoxDescent)!==null&&v!==void 0?v:21*O,hangingBaseline:(_=R.hangingBaseline)!==null&&_!==void 0?_:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:T}}_getContextFont(){return this.fontStyle()+nm+this.fontVariant()+nm+(this.fontSize()+QA)+tR(this.fontFamily())}_addTextLine(e){this.align()===pd&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return P1().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,r=this.lineHeight()*n,l=this.attrs.width,c=this.attrs.height,d=l!==gd&&l!==void 0,g=c!==gd&&c!==void 0,m=this.padding(),v=l-m*2,_=c-m*2,S=0,E=this.wrap(),T=E!==h4,R=E!==WA&&T,O=this.ellipsis();this.textArr=[],P1().font=this._getContextFont();const j=O?this._getTextWidth(k1):0;for(let N=0,z=e.length;N<z;++N){let B=e[N],G=this._getTextWidth(B);if(d&&G>v)for(;B.length>0;){let k=0,K=iu(B).length,$="",oe=0;for(;k<K;){const be=k+K>>>1,Re=iu(B),pe=Re.slice(0,be+1).join(""),ye=this._getTextWidth(pe);(O&&g&&S+r>_?ye+j:ye)<=v?(k=be+1,$=pe,oe=ye):K=be}if($){if(R){const pe=iu(B),ye=iu($),me=pe[ye.length],_e=me===nm||me===c4;let L;if(_e&&oe<=v)L=ye.length;else{const Q=ye.lastIndexOf(nm),X=ye.lastIndexOf(c4);L=Math.max(Q,X)+1}L>0&&(k=L,$=pe.slice(0,k).join(""),oe=this._getTextWidth($))}if($=$.trimRight(),this._addTextLine($),a=Math.max(a,oe),S+=r,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(B=iu(B).slice(k).join("").trimLeft(),B.length>0&&(G=this._getTextWidth(B),G<=v)){this._addTextLine(B),S+=r,a=Math.max(a,G);break}}else break}else this._addTextLine(B),S+=r,a=Math.max(a,G),this._shouldHandleEllipsis(S)&&N<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&S+r>_)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,r=this.attrs.height,l=r!==gd&&r!==void 0,c=this.padding(),d=r-c*2;return!(this.wrap()!==h4)||l&&e+a>d}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==gd&&e!==void 0,a=this.padding(),r=e-a*2,l=this.ellipsis(),c=this.textArr[this.textArr.length-1];!c||!l||(n&&(this._getTextWidth(c.text+k1)<r||(c.text=c.text.slice(0,c.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(c.text+k1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Dn.prototype._fillFunc=nR;Dn.prototype._strokeFunc=aR;Dn.prototype.className=IA;Dn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Ln(Dn);q.overWriteSetter(Dn,"width",h2());q.overWriteSetter(Dn,"height",h2());q.addGetterSetter(Dn,"direction",mS);q.addGetterSetter(Dn,"fontFamily","Arial");q.addGetterSetter(Dn,"fontSize",12,Ue());q.addGetterSetter(Dn,"fontStyle",yS);q.addGetterSetter(Dn,"fontVariant",yS);q.addGetterSetter(Dn,"padding",0,Ue());q.addGetterSetter(Dn,"align",vS);q.addGetterSetter(Dn,"verticalAlign",XA);q.addGetterSetter(Dn,"lineHeight",1,Ue());q.addGetterSetter(Dn,"wrap",JA);q.addGetterSetter(Dn,"ellipsis",!1,ms());q.addGetterSetter(Dn,"letterSpacing",0,Ue());q.addGetterSetter(Dn,"text","",kc());q.addGetterSetter(Dn,"textDecoration","");q.addGetterSetter(Dn,"charRenderFunc",void 0);const rR="",_S="normal";function SS(t){t.fillText(this.partialText,0,0)}function wS(t){t.strokeText(this.partialText,0,0)}class da extends De{constructor(e){super(e),this.dummyCanvas=ae.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Mr.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Mr.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Mr.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),r=this.fontSize(),l=this.glyphInfo;n==="underline"&&e.beginPath();for(let c=0;c<l.length;c++){e.save();const d=l[c].p0;e.translate(d.x,d.y),e.rotate(l[c].rotation),this.partialText=l[c].text,e.fillStrokeShape(this),n==="underline"&&(c===0&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=a,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const r=n[a].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ae.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Dn.prototype.setText.call(this,e)}_getContextFont(){return Dn.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const r=a.measureText(e);return a.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=iu(this.text()),n=[];let a=0;for(let _=0;_<e.length;_++)n.push({char:e[_],width:this._getTextSize(e[_]).width}),a+=n[_].width;const{height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),c=this.align(),d=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let m=0;c==="center"&&(m=Math.max(0,this.pathLength/2-g/2)),c==="right"&&(m=Math.max(0,this.pathLength-g));let v=m;for(let _=0;_<n.length;_++){const S=this._getPointAtLength(v);if(!S)return;const E=n[_].char;let T=n[_].width+l;if(E===" "&&c==="justify"){const B=this.text().split(" ").length-1;T+=(this.pathLength-g)/B}const R=this._getPointAtLength(v+T);if(!R)return;const O=Mr.getLineLength(S.x,S.y,R.x,R.y);let j=0;if(d)try{j=d(n[_-1].char,E)*this.fontSize()}catch{j=0}S.x+=j,R.x+=j,this.textWidth+=j;const N=Mr.getPointOnLine(j+O/2,S.x,S.y,R.x,R.y),z=Math.atan2(R.y-S.y,R.x-S.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:e[_],rotation:z,p0:S,p1:R}),v+=T}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(m){e.push(m.p0.x),e.push(m.p0.y),e.push(m.p1.x),e.push(m.p1.y)});let n=e[0]||0,a=e[0]||0,r=e[1]||0,l=e[1]||0,c,d;for(let m=0;m<e.length/2;m++)c=e[m*2],d=e[m*2+1],n=Math.min(n,c),a=Math.max(a,c),r=Math.min(r,d),l=Math.max(l,d);const g=this.fontSize();return{x:n-g/2,y:r-g/2,width:a-n+g,height:l-r+g}}destroy(){return ae.releaseCanvas(this.dummyCanvas),super.destroy()}}da.prototype._fillFunc=SS;da.prototype._strokeFunc=wS;da.prototype._fillFuncHit=SS;da.prototype._strokeFuncHit=wS;da.prototype.className="TextPath";da.prototype._attrsAffectingSize=["text","fontSize","data"];Ln(da);q.addGetterSetter(da,"data");q.addGetterSetter(da,"fontFamily","Arial");q.addGetterSetter(da,"fontSize",12,Ue());q.addGetterSetter(da,"fontStyle",_S);q.addGetterSetter(da,"align","left");q.addGetterSetter(da,"letterSpacing",0,Ue());q.addGetterSetter(da,"textBaseline","middle");q.addGetterSetter(da,"fontVariant",_S);q.addGetterSetter(da,"text",rR);q.addGetterSetter(da,"textDecoration","");q.addGetterSetter(da,"kerningFunc",void 0);const xS="tr-konva",sR=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${xS}`).join(" "),g4="nodesRect",lR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],oR={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},uR="ontouchstart"in Be._global;function cR(t,e,n){if(t==="rotater")return n;e+=ae.degToRad(oR[t]||0);const a=(ae.radToDeg(e)%360+360)%360;return ae._inRange(a,315+22.5,360)||ae._inRange(a,0,22.5)?"ns-resize":ae._inRange(a,45-22.5,45+22.5)?"nesw-resize":ae._inRange(a,90-22.5,90+22.5)?"ew-resize":ae._inRange(a,135-22.5,135+22.5)?"nwse-resize":ae._inRange(a,180-22.5,180+22.5)?"ns-resize":ae._inRange(a,225-22.5,225+22.5)?"nesw-resize":ae._inRange(a,270-22.5,270+22.5)?"ew-resize":ae._inRange(a,315-22.5,315+22.5)?"nwse-resize":(ae.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const Lm=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function fR(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function ES(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:r}}function dR(t,e){const n=fR(t);return ES(t,e,n)}function hR(t,e,n){let a=e;for(let r=0;r<t.length;r++){const l=Be.getAngle(t[r]),c=Math.abs(l-e)%(Math.PI*2);Math.min(c,Math.PI*2-c)<n&&(a=l)}return a}let Uy=0,It=class extends Ud{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(sR,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ae.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return xS+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(r=>r.isAncestorOf(this)?(ae.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(r._attrsAffectingSize.length){const c=r._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");r.on(c,l)}r.on(lR.map(c=>c+`.${this._getEventNamespace()}`).join(" "),l),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const r=e.getAbsolutePosition(),l=r.x-n.x,c=r.y-n.y;this.nodes().forEach(d=>{if(d===e||d.isDragging())return;const g=d.getAbsolutePosition();d.setAbsolutePosition({x:g.x+l,y:g.y+c}),d.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(g4),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(g4,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(a),c=e.getAbsolutePosition(a),d=r.x*l.x-e.offsetX()*l.x,g=r.y*l.y-e.offsetY()*l.y,m=(Be.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:c.x+d*Math.cos(m)+g*Math.sin(-m),y:c.y+g*Math.cos(m)+d*Math.sin(m),width:r.width*l.x,height:r.height*l.y,rotation:m};return ES(v,-Be.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(m=>{const v=m.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],S=m.getAbsoluteTransform();_.forEach(function(E){const T=S.point(E);n.push(T)})});const a=new tr;a.rotate(-Be.getAngle(this.rotation()));let r=1/0,l=1/0,c=-1/0,d=-1/0;n.forEach(function(m){const v=a.point(m);r===void 0&&(r=c=v.x,l=d=v.y),r=Math.min(r,v.x),l=Math.min(l,v.y),c=Math.max(c,v.x),d=Math.max(d,v.y)}),a.invert();const g=a.point({x:r,y:l});return{x:g.x,y:g.y,width:c-r,height:d-l,rotation:Be.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Lm.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new ag({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:uR?10:"auto"}),a=this;n.on("mousedown touchstart",function(r){a._handleMouseDown(r)}),n.on("dragstart",r=>{n.stopDrag(),r.cancelBubble=!0}),n.on("dragend",r=>{r.cancelBubble=!0}),n.on("mouseenter",()=>{const r=Be.getAngle(this.rotation()),l=this.rotateAnchorCursor(),c=cR(e,r,l);n.getStage().content&&(n.getStage().content.style.cursor=c),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new De({name:"back",width:0,height:0,sceneFunc(n,a){const r=a.getParent(),l=r.padding();n.beginPath(),n.rect(-l,-l,a.width()+l*2,a.height()+l*2),n.moveTo(a.width()/2,-l),r.rotateEnabled()&&r.rotateLineVisible()&&n.lineTo(a.width()/2,-r.rotateAnchorOffset()*ae._sign(a.height())-l),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();n.beginPath(),n.rect(-r,-r,a.width()+r*2,a.height()+r*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,r=n.height,l=Math.sqrt(Math.pow(a,2)+Math.pow(r,2));this.sin=Math.abs(r/l),this.cos=Math.abs(a/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const c=e.target.getAbsolutePosition(),d=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-c.x,y:d.y-c.y},Uy++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){let n,a,r;const l=this.findOne("."+this._movingAnchorName),c=l.getStage();c.setPointersPositions(e);const d=c.getPointerPosition();let g={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const m=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(m,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(m.x===v.x&&m.y===v.y)return;if(this._movingAnchorName==="rotater"){const N=this._getNodeRect();n=l.x()-N.width/2,a=-l.y()+N.height/2;let z=Math.atan2(-a,n)+Math.PI/2;N.height<0&&(z-=Math.PI);const G=Be.getAngle(this.rotation())+z,k=Be.getAngle(this.rotationSnapTolerance()),$=hR(this.rotationSnaps(),G,k)-N.rotation,oe=dR(N,$);this._fitNodesInto(oe,e);return}const _=this.shiftBehavior();let S;_==="inverted"?S=this.keepRatio()&&!e.shiftKey:_==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let E=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const N=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(N.x-l.x(),2)+Math.pow(N.y-l.y(),2));const z=this.findOne(".top-left").x()>N.x?-1:1,B=this.findOne(".top-left").y()>N.y?-1:1;n=r*this.cos*z,a=r*this.sin*B,this.findOne(".top-left").x(N.x-n),this.findOne(".top-left").y(N.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(S){const N=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(l.x()-N.x,2)+Math.pow(N.y-l.y(),2));const z=this.findOne(".top-right").x()<N.x?-1:1,B=this.findOne(".top-right").y()>N.y?-1:1;n=r*this.cos*z,a=r*this.sin*B,this.findOne(".top-right").x(N.x+n),this.findOne(".top-right").y(N.y-a)}var T=l.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(S){const N=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(N.x-l.x(),2)+Math.pow(l.y()-N.y,2));const z=N.x<l.x()?-1:1,B=l.y()<N.y?-1:1;n=r*this.cos*z,a=r*this.sin*B,l.x(N.x-n),l.y(N.y+a)}T=l.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(S){const N=E?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(l.x()-N.x,2)+Math.pow(l.y()-N.y,2));const z=this.findOne(".bottom-right").x()<N.x?-1:1,B=this.findOne(".bottom-right").y()<N.y?-1:1;n=r*this.cos*z,a=r*this.sin*B,this.findOne(".bottom-right").x(N.x+n),this.findOne(".bottom-right").y(N.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(E=this.centeredScaling()||e.altKey,E){const N=this.findOne(".top-left"),z=this.findOne(".bottom-right"),B=N.x(),G=N.y(),k=this.getWidth()-z.x(),K=this.getHeight()-z.y();z.move({x:-B,y:-G}),N.move({x:k,y:K})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,a=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),j=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:O,height:j,rotation:Be.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();Uy--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(r=>{var l;r._fire("transformend",{evt:e,target:r}),(l=r.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),r=1;if(ae._inRange(e.width,-this.padding()*2-r,r)){this.update();return}if(ae._inRange(e.height,-this.padding()*2-r,r)){this.update();return}const l=new tr;if(l.rotate(Be.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=l.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=l.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(a,e);S?e=S:ae.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const c=1e7,d=new tr;d.translate(a.x,a.y),d.rotate(a.rotation),d.scale(a.width/c,a.height/c);const g=new tr,m=e.width/c,v=e.height/c;this.flipEnabled()===!1?(g.translate(e.x,e.y),g.rotate(e.rotation),g.translate(e.width<0?e.width:0,e.height<0?e.height:0),g.scale(Math.abs(m),Math.abs(v))):(g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(m,v));const _=g.multiply(d.invert());this._nodes.forEach(S=>{var E;if(!S.getStage())return;const T=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new tr;O.multiply(T.copy().invert()).multiply(_).multiply(T).multiply(R);const j=O.decompose();S.setAttrs(j),(E=S.getLayer())===null||E===void 0||E.batchDraw()}),this.rotation(ae._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(ae._getRotation(n.rotation));const a=n.width,r=n.height,l=this.enabledAnchors(),c=this.resizeEnabled(),d=this.padding(),g=this.anchorSize(),m=this.find("._anchor");m.forEach(_=>{_.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+d,offsetY:g/2+d,visible:c&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:g/2+d,visible:c&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:g/2-d,offsetY:g/2+d,visible:c&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:g/2+d,visible:c&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:r/2,offsetX:g/2-d,visible:c&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:g/2+d,offsetY:g/2-d,visible:c&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:r,offsetY:g/2-d,visible:c&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:r,offsetX:g/2-d,offsetY:g/2-d,visible:c&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*ae._sign(r)-d,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(_=>_.draggable()),x:0,y:0});const v=this.anchorStyleFunc();v&&m.forEach(_=>{v(_)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Ud.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return ke.prototype.toObject.call(this)}clone(e){return ke.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};It.isTransforming=()=>Uy>0;function gR(t){return t instanceof Array||ae.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Lm.indexOf(e)===-1&&ae.warn("Unknown anchor name: "+e+". Available names are: "+Lm.join(", "))}),t||[]}It.prototype.className="Transformer";Ln(It);q.addGetterSetter(It,"enabledAnchors",Lm,gR);q.addGetterSetter(It,"flipEnabled",!0,ms());q.addGetterSetter(It,"resizeEnabled",!0);q.addGetterSetter(It,"anchorSize",10,Ue());q.addGetterSetter(It,"rotateEnabled",!0);q.addGetterSetter(It,"rotateLineVisible",!0);q.addGetterSetter(It,"rotationSnaps",[]);q.addGetterSetter(It,"rotateAnchorOffset",50,Ue());q.addGetterSetter(It,"rotateAnchorCursor","crosshair");q.addGetterSetter(It,"rotationSnapTolerance",5,Ue());q.addGetterSetter(It,"borderEnabled",!0);q.addGetterSetter(It,"anchorStroke","rgb(0, 161, 255)");q.addGetterSetter(It,"anchorStrokeWidth",1,Ue());q.addGetterSetter(It,"anchorFill","white");q.addGetterSetter(It,"anchorCornerRadius",0,Ue());q.addGetterSetter(It,"borderStroke","rgb(0, 161, 255)");q.addGetterSetter(It,"borderStrokeWidth",1,Ue());q.addGetterSetter(It,"borderDash");q.addGetterSetter(It,"keepRatio",!0);q.addGetterSetter(It,"shiftBehavior","default");q.addGetterSetter(It,"centeredScaling",!1);q.addGetterSetter(It,"ignoreStroke",!1);q.addGetterSetter(It,"padding",0,Ue());q.addGetterSetter(It,"nodes");q.addGetterSetter(It,"node");q.addGetterSetter(It,"boundBoxFunc");q.addGetterSetter(It,"anchorDragBoundFunc");q.addGetterSetter(It,"anchorStyleFunc");q.addGetterSetter(It,"shouldOverdrawWholeArea",!1);q.addGetterSetter(It,"useSingleNodeRotation",!0);q.backCompat(It,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ro extends De{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Be.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ro.prototype.className="Wedge";ro.prototype._centroid=!0;ro.prototype._attrsAffectingSize=["radius"];Ln(ro);q.addGetterSetter(ro,"radius",0,Ue());q.addGetterSetter(ro,"angle",0,Ue());q.addGetterSetter(ro,"clockwise",!1);q.backCompat(ro,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function p4(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const pR=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],mR=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function vR(t,e){const n=t.data,a=t.width,r=t.height;let l,c,d,g,m,v,_,S,E,T,R,O,j,N,z,B,G,k,K,$;const oe=e+e+1,be=a-1,Re=r-1,pe=e+1,ye=pe*(pe+1)/2,me=new p4,_e=pR[e],L=mR[e];let Q=null,X=me,se=null,H=null;for(let J=1;J<oe;J++)X=X.next=new p4,J===pe&&(Q=X);X.next=me,d=c=0;for(let J=0;J<r;J++){O=j=N=z=g=m=v=_=0,S=pe*(B=n[c]),E=pe*(G=n[c+1]),T=pe*(k=n[c+2]),R=pe*(K=n[c+3]),g+=ye*B,m+=ye*G,v+=ye*k,_+=ye*K,X=me;for(let ve=0;ve<pe;ve++)X.r=B,X.g=G,X.b=k,X.a=K,X=X.next;for(let ve=1;ve<pe;ve++)l=c+((be<ve?be:ve)<<2),g+=(X.r=B=n[l])*($=pe-ve),m+=(X.g=G=n[l+1])*$,v+=(X.b=k=n[l+2])*$,_+=(X.a=K=n[l+3])*$,O+=B,j+=G,N+=k,z+=K,X=X.next;se=me,H=Q;for(let ve=0;ve<a;ve++)n[c+3]=K=_*_e>>L,K!==0?(K=255/K,n[c]=(g*_e>>L)*K,n[c+1]=(m*_e>>L)*K,n[c+2]=(v*_e>>L)*K):n[c]=n[c+1]=n[c+2]=0,g-=S,m-=E,v-=T,_-=R,S-=se.r,E-=se.g,T-=se.b,R-=se.a,l=d+((l=ve+e+1)<be?l:be)<<2,O+=se.r=n[l],j+=se.g=n[l+1],N+=se.b=n[l+2],z+=se.a=n[l+3],g+=O,m+=j,v+=N,_+=z,se=se.next,S+=B=H.r,E+=G=H.g,T+=k=H.b,R+=K=H.a,O-=B,j-=G,N-=k,z-=K,H=H.next,c+=4;d+=a}for(let J=0;J<a;J++){j=N=z=O=m=v=_=g=0,c=J<<2,S=pe*(B=n[c]),E=pe*(G=n[c+1]),T=pe*(k=n[c+2]),R=pe*(K=n[c+3]),g+=ye*B,m+=ye*G,v+=ye*k,_+=ye*K,X=me;for(let Se=0;Se<pe;Se++)X.r=B,X.g=G,X.b=k,X.a=K,X=X.next;let ve=a;for(let Se=1;Se<=e;Se++)c=ve+J<<2,g+=(X.r=B=n[c])*($=pe-Se),m+=(X.g=G=n[c+1])*$,v+=(X.b=k=n[c+2])*$,_+=(X.a=K=n[c+3])*$,O+=B,j+=G,N+=k,z+=K,X=X.next,Se<Re&&(ve+=a);c=J,se=me,H=Q;for(let Se=0;Se<r;Se++)l=c<<2,n[l+3]=K=_*_e>>L,K>0?(K=255/K,n[l]=(g*_e>>L)*K,n[l+1]=(m*_e>>L)*K,n[l+2]=(v*_e>>L)*K):n[l]=n[l+1]=n[l+2]=0,g-=S,m-=E,v-=T,_-=R,S-=se.r,E-=se.g,T-=se.b,R-=se.a,l=J+((l=Se+pe)<Re?l:Re)*a<<2,g+=O+=se.r=n[l],m+=j+=se.g=n[l+1],v+=N+=se.b=n[l+2],_+=z+=se.a=n[l+3],se=se.next,S+=B=H.r,E+=G=H.g,T+=k=H.b,R+=K=H.a,O-=B,j-=G,N-=k,z-=K,H=H.next,c+=a}}const yR=function(e){const n=Math.round(this.blurRadius());n>0&&vR(e,n)};q.addGetterSetter(ke,"blurRadius",0,Ue(),q.afterSetFilter);const bR=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let r=0;r<a;r+=4)n[r]+=e,n[r+1]+=e,n[r+2]+=e};q.addGetterSetter(ke,"brightness",0,Ue(),q.afterSetFilter);const _R=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let r=0;r<a;r+=4)n[r]=Math.min(255,n[r]*e),n[r+1]=Math.min(255,n[r+1]*e),n[r+2]=Math.min(255,n[r+2]*e)},SR=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let r=150,l=150,c=150;for(let d=0;d<a;d+=4)r=n[d],l=n[d+1],c=n[d+2],r/=255,r-=.5,r*=e,r+=.5,r*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,c/=255,c-=.5,c*=e,c+=.5,c*=255,r=r<0?0:r>255?255:r,l=l<0?0:l>255?255:l,c=c<0?0:c>255?255:c,n[d]=r,n[d+1]=l,n[d+2]=c};q.addGetterSetter(ke,"contrast",0,Ue(),q.afterSetFilter);const wR=function(t){var e,n,a,r,l,c,d,g,m;const v=t.data,_=t.width,S=t.height,E=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),T=Math.min(1,Math.max(0,(r=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&r!==void 0?r:.5)),O=(d={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(c=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0?c:"top-left"])!==null&&d!==void 0?d:315,j=!!((m=(g=this.embossBlend)===null||g===void 0?void 0:g.call(this))!==null&&m!==void 0&&m),N=E*10,z=T*255,B=O*Math.PI/180,G=Math.cos(B),k=Math.sin(B),K=128/1020*N,$=new Uint8ClampedArray(v),oe=new Float32Array(_*S);for(let me=0,_e=0;_e<v.length;_e+=4,me++)oe[me]=.2126*$[_e]+.7152*$[_e+1]+.0722*$[_e+2];const be=[-1,0,1,-2,0,2,-1,0,1],Re=[-1,-2,-1,0,0,0,1,2,1],pe=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],ye=me=>me<0?0:me>255?255:me;for(let me=1;me<S-1;me++)for(let _e=1;_e<_-1;_e++){const L=me*_+_e;let Q=0,X=0;Q+=oe[L+pe[0]]*be[0],X+=oe[L+pe[0]]*Re[0],Q+=oe[L+pe[1]]*be[1],X+=oe[L+pe[1]]*Re[1],Q+=oe[L+pe[2]]*be[2],X+=oe[L+pe[2]]*Re[2],Q+=oe[L+pe[3]]*be[3],X+=oe[L+pe[3]]*Re[3],Q+=oe[L+pe[5]]*be[5],X+=oe[L+pe[5]]*Re[5],Q+=oe[L+pe[6]]*be[6],X+=oe[L+pe[6]]*Re[6],Q+=oe[L+pe[7]]*be[7],X+=oe[L+pe[7]]*Re[7],Q+=oe[L+pe[8]]*be[8],X+=oe[L+pe[8]]*Re[8];const se=G*Q+k*X,H=ye(z+se*K),J=L*4;if(j){const ve=H-z;v[J]=ye($[J]+ve),v[J+1]=ye($[J+1]+ve),v[J+2]=ye($[J+2]+ve),v[J+3]=$[J+3]}else v[J]=v[J+1]=v[J+2]=H,v[J+3]=$[J+3]}for(let me=0;me<_;me++){let _e=me*4,L=((S-1)*_+me)*4;v[_e]=$[_e],v[_e+1]=$[_e+1],v[_e+2]=$[_e+2],v[_e+3]=$[_e+3],v[L]=$[L],v[L+1]=$[L+1],v[L+2]=$[L+2],v[L+3]=$[L+3]}for(let me=1;me<S-1;me++){let _e=me*_*4,L=(me*_+(_-1))*4;v[_e]=$[_e],v[_e+1]=$[_e+1],v[_e+2]=$[_e+2],v[_e+3]=$[_e+3],v[L]=$[L],v[L+1]=$[L+1],v[L+2]=$[L+2],v[L+3]=$[L+3]}return t};q.addGetterSetter(ke,"embossStrength",.5,Ue(),q.afterSetFilter);q.addGetterSetter(ke,"embossWhiteLevel",.5,Ue(),q.afterSetFilter);q.addGetterSetter(ke,"embossDirection","top-left",void 0,q.afterSetFilter);q.addGetterSetter(ke,"embossBlend",!1,void 0,q.afterSetFilter);function B1(t,e,n,a,r){const l=n-e,c=r-a;if(l===0)return a+c/2;if(c===0)return a;let d=(t-e)/l;return d=c*d+a,d}const xR=function(t){const e=t.data,n=e.length;let a=e[0],r=a,l,c=e[1],d=c,g,m=e[2],v=m,_;const S=this.enhance();if(S===0)return;for(let z=0;z<n;z+=4)l=e[z+0],l<a?a=l:l>r&&(r=l),g=e[z+1],g<c?c=g:g>d&&(d=g),_=e[z+2],_<m?m=_:_>v&&(v=_);r===a&&(r=255,a=0),d===c&&(d=255,c=0),v===m&&(v=255,m=0);let E,T,R,O,j,N;if(S>0)E=r+S*(255-r),T=a-S*(a-0),R=d+S*(255-d),O=c-S*(c-0),j=v+S*(255-v),N=m-S*(m-0);else{const z=(r+a)*.5;E=r+S*(r-z),T=a+S*(a-z);const B=(d+c)*.5;R=d+S*(d-B),O=c+S*(c-B);const G=(v+m)*.5;j=v+S*(v-G),N=m+S*(m-G)}for(let z=0;z<n;z+=4)e[z+0]=B1(e[z+0],a,r,T,E),e[z+1]=B1(e[z+1],c,d,O,R),e[z+2]=B1(e[z+2],m,v,N,j)};q.addGetterSetter(ke,"enhance",0,Ue(),q.afterSetFilter);const ER=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const r=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=r,e[a+1]=r,e[a+2]=r}};q.addGetterSetter(ke,"hue",0,Ue(),q.afterSetFilter);q.addGetterSetter(ke,"saturation",0,Ue(),q.afterSetFilter);q.addGetterSetter(ke,"luminance",0,Ue(),q.afterSetFilter);const CR=function(t){const e=t.data,n=e.length,a=1,r=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=this.luminance()*127,d=a*r*Math.cos(l*Math.PI/180),g=a*r*Math.sin(l*Math.PI/180),m=.299*a+.701*d+.167*g,v=.587*a-.587*d+.33*g,_=.114*a-.114*d-.497*g,S=.299*a-.299*d-.328*g,E=.587*a+.413*d+.035*g,T=.114*a-.114*d+.293*g,R=.299*a-.3*d+1.25*g,O=.587*a-.586*d-1.05*g,j=.114*a+.886*d-.2*g;let N,z,B,G;for(let k=0;k<n;k+=4)N=e[k+0],z=e[k+1],B=e[k+2],G=e[k+3],e[k+0]=m*N+v*z+_*B+c,e[k+1]=S*N+E*z+T*B+c,e[k+2]=R*N+O*z+j*B+c,e[k+3]=G},TR=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=a*r*Math.cos(l*Math.PI/180),d=a*r*Math.sin(l*Math.PI/180),g=.299*a+.701*c+.167*d,m=.587*a-.587*c+.33*d,v=.114*a-.114*c-.497*d,_=.299*a-.299*c-.328*d,S=.587*a+.413*c+.035*d,E=.114*a-.114*c+.293*d,T=.299*a-.3*c+1.25*d,R=.587*a-.586*c-1.05*d,O=.114*a+.886*c-.2*d;for(let j=0;j<n;j+=4){const N=e[j+0],z=e[j+1],B=e[j+2],G=e[j+3];e[j+0]=g*N+m*z+v*B,e[j+1]=_*N+S*z+E*B,e[j+2]=T*N+R*z+O*B,e[j+3]=G}};q.addGetterSetter(ke,"hue",0,Ue(),q.afterSetFilter);q.addGetterSetter(ke,"saturation",0,Ue(),q.afterSetFilter);q.addGetterSetter(ke,"value",0,Ue(),q.afterSetFilter);const AR=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},RR=function(t,e,n){const a=t.data,r=e.data,l=t.width,c=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||c/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=c-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const E=c,T=l,R=360/T*Math.PI/180;for(let O=0;O<T;O+=1){const j=Math.sin(O*R),N=Math.cos(O*R);for(let z=0;z<E;z+=1){v=Math.floor(d+m*z/E*N),_=Math.floor(g+m*z/E*j);let B=(_*l+v)*4;const G=a[B+0],k=a[B+1],K=a[B+2],$=a[B+3];B=(O+z*l)*4,r[B+0]=G,r[B+1]=k,r[B+2]=K,r[B+3]=$}}},OR=function(t,e,n){const a=t.data,r=e.data,l=t.width,c=t.height,d=n.polarCenterX||l/2,g=n.polarCenterY||c/2;let m=Math.sqrt(d*d+g*g),v=l-d,_=c-g;const S=Math.sqrt(v*v+_*_);m=S>m?S:m;const E=c,T=l,R=0;let O,j;for(v=0;v<l;v+=1)for(_=0;_<c;_+=1){const N=v-d,z=_-g,B=Math.sqrt(N*N+z*z)*E/m;let G=(Math.atan2(z,N)*180/Math.PI+360+R)%360;G=G*T/360,O=Math.floor(G),j=Math.floor(B);let k=(j*l+O)*4;const K=a[k+0],$=a[k+1],oe=a[k+2],be=a[k+3];k=(_*l+v)*4,r[k+0]=K,r[k+1]=$,r[k+2]=oe,r[k+3]=be}},MR=function(t){const e=t.width,n=t.height;let a,r,l,c,d,g,m,v,_,S,E=Math.round(this.kaleidoscopePower());const T=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(T%360)/360);if(E<1)return;const O=ae.createCanvasElement();O.width=e,O.height=n;const j=O.getContext("2d").getImageData(0,0,e,n);ae.releaseCanvas(O),RR(t,j,{polarCenterX:e/2,polarCenterY:n/2});let N=e/Math.pow(2,E);for(;N<=8;)N=N*2,E-=1;N=Math.ceil(N);let z=N,B=0,G=z,k=1;for(R+N>e&&(B=z,G=0,k=-1),r=0;r<n;r+=1)for(a=B;a!==G;a+=k)l=Math.round(a+R)%e,_=(e*r+l)*4,d=j.data[_+0],g=j.data[_+1],m=j.data[_+2],v=j.data[_+3],S=(e*r+a)*4,j.data[S+0]=d,j.data[S+1]=g,j.data[S+2]=m,j.data[S+3]=v;for(r=0;r<n;r+=1)for(z=Math.floor(N),c=0;c<E;c+=1){for(a=0;a<z+1;a+=1)_=(e*r+a)*4,d=j.data[_+0],g=j.data[_+1],m=j.data[_+2],v=j.data[_+3],S=(e*r+z*2-a-1)*4,j.data[S+0]=d,j.data[S+1]=g,j.data[S+2]=m,j.data[S+3]=v;z*=2}OR(j,t,{})};q.addGetterSetter(ke,"kaleidoscopePower",2,Ue(),q.afterSetFilter);q.addGetterSetter(ke,"kaleidoscopeAngle",0,Ue(),q.afterSetFilter);function im(t,e,n){let a=(n*t.width+e)*4;const r=[];return r.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),r}function y0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function DR(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function NR(t,e){const n=im(t,0,0),a=im(t,t.width-1,0),r=im(t,0,t.height-1),l=im(t,t.width-1,t.height-1),c=e||10;if(y0(n,a)<c&&y0(a,l)<c&&y0(l,r)<c&&y0(r,n)<c){const d=DR([a,n,l,r]),g=[];for(let m=0;m<t.width*t.height;m++){const v=y0(d,[t.data[m*4],t.data[m*4+1],t.data[m*4+2]]);g[m]=v<c?0:255}return g}}function jR(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function zR(t,e,n){const a=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(a.length)),l=Math.floor(r/2),c=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<r;_++)for(let S=0;S<r;S++){const E=d+_-l,T=g+S-l;if(E>=0&&E<n&&T>=0&&T<e){const R=E*e+T,O=a[_*r+S];v+=t[R]*O}}c[m]=v===2040?255:0}return c}function UR(t,e,n){const a=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(a.length)),l=Math.floor(r/2),c=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<r;_++)for(let S=0;S<r;S++){const E=d+_-l,T=g+S-l;if(E>=0&&E<n&&T>=0&&T<e){const R=E*e+T,O=a[_*r+S];v+=t[R]*O}}c[m]=v>=1020?255:0}return c}function LR(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(a.length)),l=Math.floor(r/2),c=[];for(let d=0;d<n;d++)for(let g=0;g<e;g++){const m=d*e+g;let v=0;for(let _=0;_<r;_++)for(let S=0;S<r;S++){const E=d+_-l,T=g+S-l;if(E>=0&&E<n&&T>=0&&T<e){const R=E*e+T,O=a[_*r+S];v+=t[R]*O}}c[m]=v}return c}const kR=function(t){const e=this.threshold();let n=NR(t,e);return n&&(n=zR(n,t.width,t.height),n=UR(n,t.width,t.height),n=LR(n,t.width,t.height),jR(t,n)),t};q.addGetterSetter(ke,"threshold",0,Ue(),q.afterSetFilter);const PR=function(t){const e=this.noise()*255,n=t.data,a=n.length,r=e/2;for(let l=0;l<a;l+=4)n[l+0]+=r-2*r*Math.random(),n[l+1]+=r-2*r*Math.random(),n[l+2]+=r-2*r*Math.random()};q.addGetterSetter(ke,"noise",.2,Ue(),q.afterSetFilter);const BR=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,r=Math.ceil(n/e),l=Math.ceil(a/e),c=t.data;if(e<=0){ae.error("pixelSize value can not be <= 0");return}for(let d=0;d<r;d+=1)for(let g=0;g<l;g+=1){let m=0,v=0,_=0,S=0;const E=d*e,T=E+e,R=g*e,O=R+e;let j=0;for(let N=E;N<T;N+=1)if(!(N>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const B=(n*z+N)*4;m+=c[B+0],v+=c[B+1],_+=c[B+2],S+=c[B+3],j+=1}m=m/j,v=v/j,_=_/j,S=S/j;for(let N=E;N<T;N+=1)if(!(N>=n))for(let z=R;z<O;z+=1){if(z>=a)continue;const B=(n*z+N)*4;c[B+0]=m,c[B+1]=v,c[B+2]=_,c[B+3]=S}}};q.addGetterSetter(ke,"pixelSize",8,Ue(),q.afterSetFilter);const HR=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,r=255/e;for(let l=0;l<a;l+=1)n[l]=Math.floor(n[l]/r)*r};q.addGetterSetter(ke,"levels",.5,Ue(),q.afterSetFilter);const GR=function(t){const e=t.data,n=e.length,a=this.red(),r=this.green(),l=this.blue();for(let c=0;c<n;c+=4){const d=(.34*e[c]+.5*e[c+1]+.16*e[c+2])/255;e[c]=d*a,e[c+1]=d*r,e[c+2]=d*l,e[c+3]=e[c+3]}};q.addGetterSetter(ke,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(ke,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(ke,"blue",0,X3,q.afterSetFilter);const qR=function(t){const e=t.data,n=e.length,a=this.red(),r=this.green(),l=this.blue(),c=this.alpha();for(let d=0;d<n;d+=4){const g=1-c;e[d]=a*c+e[d]*g,e[d+1]=r*c+e[d+1]*g,e[d+2]=l*c+e[d+2]*g}};q.addGetterSetter(ke,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(ke,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});q.addGetterSetter(ke,"blue",0,X3,q.afterSetFilter);q.addGetterSetter(ke,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const VR=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const r=e[a+0],l=e[a+1],c=e[a+2];e[a+0]=Math.min(255,r*.393+l*.769+c*.189),e[a+1]=Math.min(255,r*.349+l*.686+c*.168),e[a+2]=Math.min(255,r*.272+l*.534+c*.131)}},YR=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const r=n[a],l=n[a+1],c=n[a+2];.2126*r+.7152*l+.0722*c>=128&&(n[a]=255-r,n[a+1]=255-l,n[a+2]=255-c)}return t},ZR=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let r=0;r<a;r+=1)n[r]=n[r]<e?0:255};q.addGetterSetter(ke,"threshold",.5,Ue(),q.afterSetFilter);const KR=Ld.Util._assign(Ld,{Arc:ao,Arrow:Bc,Circle:Bd,Ellipse:yu,Image:jr,Label:m2,Tag:Hc,Line:io,Path:Mr,Rect:ag,RegularPolygon:bu,Ring:Gc,Sprite:ul,Star:_u,Text:Dn,TextPath:da,Transformer:It,Wedge:ro,Filters:{Blur:yR,Brightness:_R,Brighten:bR,Contrast:SR,Emboss:wR,Enhance:xR,Grayscale:ER,HSL:CR,HSV:TR,Invert:AR,Kaleidoscope:MR,Mask:kR,Noise:PR,Pixelate:BR,Posterize:HR,RGB:GR,RGBA:qR,Sepia:VR,Solarize:YR,Threshold:ZR}});var H1={exports:{}},G1={exports:{}};var m4;function IR(){return m4||(m4=1,(function(t){t.exports=function(e){function n(o,u,p,b){return new zv(o,u,p,b)}function a(){}function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function c(o){if(l(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=l(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,b=u;;){var x=p.return;if(x===null)break;var C=x.alternate;if(C===null){if(b=x.return,b!==null){p=b;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===p)return c(x),o;if(C===b)return c(x),u;C=C.sibling}throw Error(r(188))}if(p.return!==b.return)p=x,b=C;else{for(var P=!1,Y=x.child;Y;){if(Y===p){P=!0,p=x,b=C;break}if(Y===b){P=!0,b=x,p=C;break}Y=Y.sibling}if(!P){for(Y=C.child;Y;){if(Y===p){P=!0,p=C,b=x;break}if(Y===b){P=!0,b=C,p=x;break}Y=Y.sibling}if(!P)throw Error(r(189))}}if(p.alternate!==b)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function g(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=g(o),u!==null)return u;o=o.sibling}return null}function m(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(u=m(o),u!==null))return u;o=o.sibling}return null}function v(o){return o===null||typeof o!="object"?null:(o=Mf&&o[Mf]||o["@@iterator"],typeof o=="function"?o:null)}function _(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Fu?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ul:return"Fragment";case Of:return"Profiler";case Zu:return"StrictMode";case Iu:return"Suspense";case Xu:return"SuspenseList";case Ll:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case Ns:return"Portal";case Qr:return(o.displayName||"Context")+".Provider";case Sh:return(o._context.displayName||"Context")+".Consumer";case gr:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case pr:return u=o.displayName||null,u!==null?u:_(o.type)||"Memo";case Na:u=o._payload,o=o._init;try{return _(o(u))}catch{}}return null}function S(o){return{current:o}}function E(o){0>ns||(o.current=ts[ns],ts[ns]=null,ns--)}function T(o,u){ns++,ts[ns]=o.current,o.current=u}function R(o){return o>>>=0,o===0?32:31-(mp(o)/Bf|0)|0}function O(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function j(o,u,p){var b=o.pendingLanes;if(b===0)return 0;var x=0,C=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var Y=b&134217727;return Y!==0?(b=Y&~C,b!==0?x=O(b):(P&=Y,P!==0?x=O(P):p||(p=Y&~o,p!==0&&(x=O(p))))):(Y=b&~C,Y!==0?x=O(Y):P!==0?x=O(P):p||(p=b&~o,p!==0&&(x=O(p)))),x===0?0:u!==0&&u!==x&&(u&C)===0&&(C=x&-x,p=u&-u,C>=p||C===32&&(p&4194048)!==0)?u:x}function N(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function z(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B(){var o=lc;return lc<<=1,(lc&4194048)===0&&(lc=256),o}function G(){var o=Uo;return Uo<<=1,(Uo&62914560)===0&&(Uo=4194304),o}function k(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function K(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $(o,u,p,b,x,C){var P=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var Y=o.entanglements,ne=o.expirationTimes,Te=o.hiddenUpdates;for(p=P&~p;0<p;){var je=31-Wa(p),Ge=1<<je;Y[je]=0,ne[je]=-1;var Ve=Te[je];if(Ve!==null)for(Te[je]=null,je=0;je<Ve.length;je++){var xt=Ve[je];xt!==null&&(xt.lane&=-536870913)}p&=~Ge}b!==0&&oe(o,b,0),C!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=C&~(P&~u))}function oe(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var b=31-Wa(u);o.entangledLanes|=u,o.entanglements[b]=o.entanglements[b]|1073741824|p&4194090}function be(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var b=31-Wa(p),x=1<<b;x&u|o[b]&u&&(o[b]|=u),p&=~x}}function Re(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function pe(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ye(o){if(typeof _p=="function"&&Sp(o),za&&typeof za.setStrictMode=="function")try{za.setStrictMode(ks,o)}catch{}}function me(o){if(qf===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);qf=u&&u[1]||"",Ih=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qf+o+Ih}function _e(o,u){if(!o||Vf)return"";Vf=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(u){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(xt){var Ve=xt}Reflect.construct(o,[],Ge)}else{try{Ge.call()}catch(xt){Ve=xt}o.call(Ge.prototype)}}else{try{throw Error()}catch(xt){Ve=xt}(Ge=o())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(xt){if(xt&&Ve&&typeof xt.stack=="string")return[xt.stack,Ve.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=b.DetermineComponentFrameRoot(),P=C[0],Y=C[1];if(P&&Y){var ne=P.split(`
`),Te=Y.split(`
`);for(x=b=0;b<ne.length&&!ne[b].includes("DetermineComponentFrameRoot");)b++;for(;x<Te.length&&!Te[x].includes("DetermineComponentFrameRoot");)x++;if(b===ne.length||x===Te.length)for(b=ne.length-1,x=Te.length-1;1<=b&&0<=x&&ne[b]!==Te[x];)x--;for(;1<=b&&0<=x;b--,x--)if(ne[b]!==Te[x]){if(b!==1||x!==1)do if(b--,x--,0>x||ne[b]!==Te[x]){var je=`
`+ne[b].replace(" at new "," at ");return o.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",o.displayName)),je}while(1<=b&&0<=x);break}}}finally{Vf=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?me(p):""}function L(o){switch(o.tag){case 26:case 27:case 5:return me(o.type);case 16:return me("Lazy");case 13:return me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return _e(o.type,!1);case 11:return _e(o.type.render,!1);case 1:return _e(o.type,!0);case 31:return me("Activity");default:return""}}function Q(o){try{var u="";do u+=L(o),o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function X(o,u){if(typeof o=="object"&&o!==null){var p=Yf.get(o);return p!==void 0?p:(u={value:o,source:u,stack:Q(u)},Yf.set(o,u),u)}return{value:o,source:u,stack:Q(u)}}function se(o,u){Ps[Bs++]=Lo,Ps[Bs++]=uc,uc=o,Lo=u}function H(o,u,p){Ua[ei++]=Ki,Ua[ei++]=br,Ua[ei++]=Hs,Hs=o;var b=Ki;o=br;var x=32-Wa(b)-1;b&=~(1<<x),p+=1;var C=32-Wa(u)+x;if(30<C){var P=x-x%5;C=(b&(1<<P)-1).toString(32),b>>=P,x-=P,Ki=1<<32-Wa(u)+x|p<<x|b,br=C+o}else Ki=1<<C|p<<x|b,br=o}function J(o){o.return!==null&&(se(o,1),H(o,1,0))}function ve(o){for(;o===uc;)uc=Ps[--Bs],Ps[Bs]=null,Lo=Ps[--Bs],Ps[Bs]=null;for(;o===Hs;)Hs=Ua[--ei],Ua[ei]=null,br=Ua[--ei],Ua[ei]=null,Ki=Ua[--ei],Ua[ei]=null}function Se(o,u){T(Gs,u),T(Hl,o),T(bn,null),o=xh(u),E(bn),T(bn,o)}function He(){E(bn),E(Hl),E(Gs)}function it(o){o.memoizedState!==null&&T(cc,o);var u=bn.current,p=Eh(u,o.type);u!==p&&(T(Hl,o),T(bn,p))}function Ye(o){Hl.current===o&&(E(bn),E(Hl)),cc.current===o&&(E(cc),Jr?vr._currentValue=Ja:vr._currentValue2=Ja)}function lt(o){var u=Error(r(418,""));throw ga(X(u,o)),Xh}function Me(o,u){if(!Qa)throw Error(r(175));fp(o.stateNode,o.type,o.memoizedProps,u,o)||lt(o)}function gt(o){for(On=o.return;On;)switch(On.tag){case 5:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:On=On.return}}function ot(o){if(!Qa||o!==On)return!1;if(!qt)return gt(o),qt=!0,!1;var u=o.tag;if(jt?u!==3&&u!==27&&(u!==5||Gh(o.type)&&!$r(o.type,o.memoizedProps))&&Hn&&lt(o):u!==3&&(u!==5||Gh(o.type)&&!$r(o.type,o.memoizedProps))&&Hn&&lt(o),gt(o),u===13){if(!Qa)throw Error(r(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Hn=Lf(o)}else Hn=jt&&u===27?Ph(o.type,Hn):On?sp(o.stateNode):null;return!0}function un(){Qa&&(Hn=On=null,qt=!1)}function bi(){var o=Ii;return o!==null&&(Ea===null?Ea=o:Ea.push.apply(Ea,o),Ii=null),o}function ga(o){Ii===null?Ii=[o]:Ii.push(o)}function Ha(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}function ai(o,u,p){Jr?(T(fc,u._currentValue),u._currentValue=p):(T(fc,u._currentValue2),u._currentValue2=p)}function ii(o){var u=fc.current;Jr?o._currentValue=u:o._currentValue2=u,E(fc)}function ia(o,u,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),o===p)break;o=o.return}}function oo(o,u,p,b){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var C=x.dependencies;if(C!==null){var P=x.child;C=C.firstContext;e:for(;C!==null;){var Y=C;C=x;for(var ne=0;ne<u.length;ne++)if(Y.context===u[ne]){C.lanes|=p,Y=C.alternate,Y!==null&&(Y.lanes|=p),ia(C.return,p,o),b||(P=null);break e}C=Y.next}}else if(x.tag===18){if(P=x.return,P===null)throw Error(r(341));P.lanes|=p,C=P.alternate,C!==null&&(C.lanes|=p),ia(P,p,o),P=null}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===o){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}}function ki(o,u,p,b){o=null;for(var x=u,C=!1;x!==null;){if(!C){if((x.flags&524288)!==0)C=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var P=x.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var Y=x.type;hi(x.pendingProps.value,P.value)||(o!==null?o.push(Y):o=[Y])}}else if(x===cc.current){if(P=x.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(vr):o=[vr])}x=x.return}o!==null&&oo(u,o,p,b),u.flags|=262144}function I(o){for(o=o.firstContext;o!==null;){var u=o.context;if(!hi(Jr?u._currentValue:u._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function ie(o){Xi=o,Sa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function de(o){return Le(Xi,o)}function Pe(o,u){return Xi===null&&ie(o),Le(o,u)}function Le(o,u){var p=Jr?u._currentValue:u._currentValue2;if(u={context:u,memoizedValue:p,next:null},Sa===null){if(o===null)throw Error(r(308));Sa=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Sa=Sa.next=u;return p}function Ne(){return{controller:new wp,data:new Map,refCount:0}}function qe(o){o.refCount--,o.refCount===0&&xp(dc,function(){o.controller.abort()})}function Fe(o){o!==qs&&o.next===null&&(qs===null?hc=qs=o:qs=qs.next=o),ko=!0,Zf||(Zf=!0,Bi())}function _t(o,u){if(!gc&&ko){gc=!0;do for(var p=!1,b=hc;b!==null;){if(o!==0){var x=b.pendingLanes;if(x===0)var C=0;else{var P=b.suspendedLanes,Y=b.pingedLanes;C=(1<<31-Wa(42|o)+1)-1,C&=x&~(P&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,_i(b,C))}else C=Ot,C=j(b,b===Yt?C:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Ai),(C&3)===0||N(b,C)||(p=!0,_i(b,C));b=b.next}while(p);gc=!1}}function tn(){Pi()}function Pi(){ko=Zf=!1;var o=0;as!==0&&(Th()&&(o=as),as=0);for(var u=ln(),p=null,b=hc;b!==null;){var x=b.next,C=ri(b,u);C===0?(b.next=null,p===null?hc=x:p.next=x,x===null&&(qs=p)):(p=b,(o!==0||(C&3)!==0)&&(ko=!0)),b=x}_t(o)}function ri(o,u){for(var p=o.suspendedLanes,b=o.pingedLanes,x=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var P=31-Wa(C),Y=1<<P,ne=x[P];ne===-1?((Y&p)===0||(Y&b)!==0)&&(x[P]=z(Y,u)):ne<=u&&(o.expiredLanes|=Y),C&=~Y}if(u=Yt,p=Ot,p=j(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Ai),b=o.callbackNode,p===0||o===u&&(Jt===2||Jt===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&Hf(b),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||N(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(b!==null&&Hf(b),pe(p)){case 2:case 8:p=yp;break;case 32:p=Gf;break;case 268435456:p=bp;break;default:p=Gf}return b=Ga.bind(null,o),p=oc(p,b),o.callbackPriority=u,o.callbackNode=p,u}return b!==null&&b!==null&&Hf(b),o.callbackPriority=2,o.callbackNode=null,2}function Ga(o,u){if(Zn!==0&&Zn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Ti()&&o.callbackNode!==p)return null;var b=Ot;return b=j(o,o===Yt?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==Ai),b===0?null:(Vu(o,b,u),ri(o,ln()),o.callbackNode!=null&&o.callbackNode===p?Ga.bind(null,o):null)}function _i(o,u){if(Ti())return null;Vu(o,u,!0)}function Bi(){Oh?Hg(function(){(st&6)!==0?oc(Jn,tn):Pi()}):oc(Jn,tn)}function qa(){return as===0&&(as=B()),as}function Ur(o,u){if(Po===null){var p=Po=[];Fi=0,gn=qa(),Vs={status:"pending",value:void 0,then:function(b){p.push(b)}}}return Fi++,u.then(Hi,Hi),u}function Hi(){if(--Fi===0&&Po!==null){Vs!==null&&(Vs.status="fulfilled");var o=Po;Po=null,gn=0,Vs=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Lr(o,u){var p=[],b={status:"pending",value:null,reason:null,then:function(x){p.push(x)}};return o.then(function(){b.status="fulfilled",b.value=u;for(var x=0;x<p.length;x++)(0,p[x])(u)},function(x){for(b.status="rejected",b.reason=x,x=0;x<p.length;x++)(0,p[x])(void 0)}),b}function dl(){var o=En.current;return o!==null?o:Yt.pooledCache}function kr(o,u){u===null?T(En,En.current):T(En,u.pool)}function uo(){var o=dl();return o===null?null:{parent:Jr?$t._currentValue:$t._currentValue2,pool:o}}function Gi(o,u){if(hi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var x=p[b];if(!Hv.call(u,x)||!hi(o[x],u[x]))return!1}return!0}function Kc(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ys(){}function bs(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(ys,ys),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,co(o),o;default:if(typeof u.status=="string")u.then(ys,ys);else{if(o=Yt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(b){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=b}},function(b){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=b}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,co(o),o}throw ti=u,Bo}}function Pr(){if(ti===null)throw Error(r(459));var o=ti;return ti=null,o}function co(o){if(o===Bo||o===cn)throw Error(r(483))}function hl(){for(var o=Gl,u=Qh=Gl=0;u<o;){var p=gi[u];gi[u++]=null;var b=gi[u];gi[u++]=null;var x=gi[u];gi[u++]=null;var C=gi[u];if(gi[u++]=null,b!==null&&x!==null){var P=b.pending;P===null?x.next=x:(x.next=P.next,P.next=x),b.pending=x}C!==0&&Ce(p,x,C)}}function Z(o,u,p,b){gi[Gl++]=o,gi[Gl++]=u,gi[Gl++]=p,gi[Gl++]=b,Qh|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function te(o,u,p,b){return Z(o,u,p,b),ze(o)}function le(o,u){return Z(o,null,null,u),ze(o)}function Ce(o,u,p){o.lanes|=p;var b=o.alternate;b!==null&&(b.lanes|=p);for(var x=!1,C=o.return;C!==null;)C.childLanes|=p,b=C.alternate,b!==null&&(b.childLanes|=p),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(x=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,x&&u!==null&&(x=31-Wa(p),o=C.hiddenUpdates,b=o[x],b===null?o[x]=[u]:b.push(u),u.lane=p|536870912),C):null}function ze(o){if(50<Ws)throw Ws=0,$f=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}function Qe(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function et(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ze(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ie(o,u,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(st&2)!==0){var x=b.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),b.pending=u,u=ze(o),Ce(o,null,p),u}return Z(o,b,u,p),ze(o)}function tt(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var b=u.lanes;b&=o.pendingLanes,p|=b,u.lanes=p,be(o,p)}}function We(o,u){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var x=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?x=C=P:C=C.next=P,p=p.next}while(p!==null);C===null?x=C=u:C=C.next=u}else x=C=u;p={baseState:b.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:b.shared,callbacks:b.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}function Ke(){if(La){var o=Vs;if(o!==null)throw o}}function yt(o,u,p,b){La=!1;var x=o.updateQueue;_r=!1;var C=x.firstBaseUpdate,P=x.lastBaseUpdate,Y=x.shared.pending;if(Y!==null){x.shared.pending=null;var ne=Y,Te=ne.next;ne.next=null,P===null?C=Te:P.next=Te,P=ne;var je=o.alternate;je!==null&&(je=je.updateQueue,Y=je.lastBaseUpdate,Y!==P&&(Y===null?je.firstBaseUpdate=Te:Y.next=Te,je.lastBaseUpdate=ne))}if(C!==null){var Ge=x.baseState;P=0,je=Te=ne=null,Y=C;do{var Ve=Y.lane&-536870913,xt=Ve!==Y.lane;if(xt?(Ot&Ve)===Ve:(b&Ve)===Ve){Ve!==0&&Ve===gn&&(La=!0),je!==null&&(je=je.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Mi=o,el=Y;Ve=u;var Di=p;switch(el.tag){case 1:if(Mi=el.payload,typeof Mi=="function"){Ge=Mi.call(Di,Ge,Ve);break e}Ge=Mi;break e;case 3:Mi.flags=Mi.flags&-65537|128;case 0:if(Mi=el.payload,Ve=typeof Mi=="function"?Mi.call(Di,Ge,Ve):Mi,Ve==null)break e;Ge=jl({},Ge,Ve);break e;case 2:_r=!0}}Ve=Y.callback,Ve!==null&&(o.flags|=64,xt&&(o.flags|=8192),xt=x.callbacks,xt===null?x.callbacks=[Ve]:xt.push(Ve))}else xt={lane:Ve,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},je===null?(Te=je=xt,ne=Ge):je=je.next=xt,P|=Ve;if(Y=Y.next,Y===null){if(Y=x.shared.pending,Y===null)break;xt=Y,Y=xt.next,xt.next=null,x.lastBaseUpdate=xt,x.shared.pending=null}}while(!0);je===null&&(ne=Ge),x.baseState=ne,x.firstBaseUpdate=Te,x.lastBaseUpdate=je,C===null&&(x.shared.lanes=0),Vn|=P,o.lanes=P,o.memoizedState=Ge}}function Ft(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function dn(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Ft(p[o],u)}function Lt(o,u){o=Un,T(pc,o),T(wa,u),Un=o|u.baseLanes}function rn(){T(pc,Un),T(wa,wa.current)}function Wt(){Un=pc.current,E(wa),E(pc)}function kt(){throw Error(r(321))}function Va(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!hi(o[p],u[p]))return!1;return!0}function Si(o,u,p,b,x,C){return Gn=C,Et=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,rt.H=o===null||o.memoizedState===null?ql:$h,is=!1,C=p(b,x),is=!1,Ys&&(C=gl(u,p,b,x)),Ya(o),C}function Ya(o){rt.H=Zs;var u=Pt!==null&&Pt.next!==null;if(Gn=0,pn=Pt=Et=null,Qi=!1,Ho=0,$i=null,u)throw Error(r(300));o===null||mt||(o=o.dependencies,o!==null&&I(o)&&(mt=!0))}function gl(o,u,p,b){Et=o;var x=0;do{if(Ys&&($i=null),Ho=0,Ys=!1,25<=x)throw Error(r(301));if(x+=1,pn=Pt=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}rt.H=Ep,C=u(p,b)}while(Ys);return C}function pl(){var o=rt.H,u=o.useState()[0];return u=typeof u.then=="function"?Ma(u):u,o=o.useState()[0],(Pt!==null?Pt.memoizedState:null)!==o&&(Et.flags|=1024),u}function Za(){var o=pi!==0;return pi=0,o}function qi(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function pa(o){if(Qi){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Qi=!1}Gn=0,pn=Pt=Et=null,Ys=!1,Ho=pi=0,$i=null}function ut(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Et.memoizedState=pn=o:pn=pn.next=o,pn}function Dt(){if(Pt===null){var o=Et.alternate;o=o!==null?o.memoizedState:null}else o=Pt.next;var u=pn===null?Et.memoizedState:pn.next;if(u!==null)pn=u,Pt=o;else{if(o===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Pt=o,o={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},pn===null?Et.memoizedState=pn=o:pn=pn.next=o}return pn}function Oa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ma(o){var u=Ho;return Ho+=1,$i===null&&($i=[]),o=bs($i,o,u),u=Et,(pn===null?u.memoizedState:pn.next)===null&&(u=u.alternate,rt.H=u===null||u.memoizedState===null?ql:$h),o}function hn(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ma(o);if(o.$$typeof===Qr)return de(o)}throw Error(r(438,String(o)))}function _s(o){var u=null,p=Et.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var b=Et.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(u={data:b.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Oa(),Et.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),b=0;b<o;b++)p[b]=wh;return u.index++,p}function si(o,u){return typeof u=="function"?u(o):u}function ra(o){var u=Dt();return Ic(u,Pt,o)}function Ic(o,u,p){var b=o.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=p;var x=o.baseQueue,C=b.pending;if(C!==null){if(x!==null){var P=x.next;x.next=C.next,C.next=P}u.baseQueue=x=C,b.pending=null}if(C=o.baseState,x===null)o.memoizedState=C;else{u=x.next;var Y=P=null,ne=null,Te=u,je=!1;do{var Ge=Te.lane&-536870913;if(Ge!==Te.lane?(Ot&Ge)===Ge:(Gn&Ge)===Ge){var Ve=Te.revertLane;if(Ve===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Ge===gn&&(je=!0);else if((Gn&Ve)===Ve){Te=Te.next,Ve===gn&&(je=!0);continue}else Ge={lane:0,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ne===null?(Y=ne=Ge,P=C):ne=ne.next=Ge,Et.lanes|=Ve,Vn|=Ve;Ge=Te.action,is&&p(C,Ge),C=Te.hasEagerState?Te.eagerState:p(C,Ge)}else Ve={lane:Ge,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ne===null?(Y=ne=Ve,P=C):ne=ne.next=Ve,Et.lanes|=Ge,Vn|=Ge;Te=Te.next}while(Te!==null&&Te!==u);if(ne===null?P=C:ne.next=Y,!hi(C,o.memoizedState)&&(mt=!0,je&&(p=Vs,p!==null)))throw p;o.memoizedState=C,o.baseState=P,o.baseQueue=ne,b.lastRenderedState=C}return x===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function Yd(o){var u=Dt(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var b=p.dispatch,x=p.pending,C=u.memoizedState;if(x!==null){p.pending=null;var P=x=x.next;do C=o(C,P.action),P=P.next;while(P!==x);hi(C,u.memoizedState)||(mt=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),p.lastRenderedState=C}return[C,b]}function Cu(o,u,p){var b=Et,x=Dt(),C=qt;if(C){if(p===void 0)throw Error(r(407));p=p()}else p=u();var P=!hi((Pt||x).memoizedState,p);P&&(x.memoizedState=p,mt=!0),x=x.queue;var Y=fg.bind(null,b,x,o);if(yl(2048,8,Y,[o]),x.getSnapshot!==u||P||pn!==null&&pn.memoizedState.tag&1){if(b.flags|=2048,Ss(9,Br(),Tu.bind(null,b,x,p,u),null),Yt===null)throw Error(r(349));C||(Gn&124)!==0||Zd(b,u,p)}return p}function Zd(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Et.updateQueue,u===null?(u=Oa(),Et.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Tu(o,u,p,b){u.value=p,u.getSnapshot=b,li(u)&&Xc(o)}function fg(o,u,p){return p(function(){li(u)&&Xc(o)})}function li(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!hi(o,p)}catch{return!0}}function Xc(o){var u=le(o,2);u!==null&&ya(u,o,2)}function Fc(o){var u=ut();if(typeof o=="function"){var p=o;if(o=p(),is){ye(!0);try{p()}finally{ye(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:o},u}function Qc(o,u,p,b){return o.baseState=p,Ic(o,Pt,typeof b=="function"?b:si)}function fo(o,u,p,b,x){if(Nu(o))throw Error(r(485));if(o=u.action,o!==null){var C={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};rt.T!==null?p(!0):C.isTransition=!1,b(C),p=u.pending,p===null?(C.next=u.pending=C,Kd(u,C)):(C.next=p.next,u.pending=p.next=C)}}function Kd(o,u){var p=u.action,b=u.payload,x=o.state;if(u.isTransition){var C=rt.T,P={};rt.T=P;try{var Y=p(x,b),ne=rt.S;ne!==null&&ne(P,Y),Id(o,u,Y)}catch(Te){Xd(o,u,Te)}finally{rt.T=C}}else try{C=p(x,b),Id(o,u,C)}catch(Te){Xd(o,u,Te)}}function Id(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){ml(o,u,b)},function(b){return Xd(o,u,b)}):ml(o,u,p)}function ml(o,u,p){u.status="fulfilled",u.value=p,Fd(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Kd(o,p)))}function Xd(o,u,p){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do u.status="rejected",u.reason=p,Fd(u),u=u.next;while(u!==b)}o.action=null}function Fd(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Qd(o,u){return u}function $c(o,u){if(qt){var p=Yt.formState;if(p!==null){e:{var b=Et;if(qt){if(Hn){var x=ip(Hn,Xt);if(x){Hn=sp(x),b=rp(x);break e}}lt(b)}b=!1}b&&(u=p[0])}}p=ut(),p.memoizedState=p.baseState=u,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:u},p.queue=b,p=tf.bind(null,Et,b),b.dispatch=p,b=Fc(!1);var C=vo.bind(null,Et,!1,b.queue);return b=ut(),x={state:u,dispatch:null,action:o,pending:null},b.queue=x,p=fo.bind(null,Et,x,C,p),x.dispatch=p,b.memoizedState=o,[u,p,!1]}function dg(o){var u=Dt();return hg(u,Pt,o)}function hg(o,u,p){if(u=Ic(o,u,Qd)[0],o=ra(si)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var b=Ma(u)}catch(P){throw P===Bo?cn:P}else b=u;u=Dt();var x=u.queue,C=x.dispatch;return p!==u.memoizedState&&(Et.flags|=2048,Ss(9,Br(),Jc.bind(null,x,p),null)),[b,C,o]}function Jc(o,u){o.action=u}function Wc(o){var u=Dt(),p=Pt;if(p!==null)return hg(u,p,o);Dt(),u=u.memoizedState,p=Dt();var b=p.queue.dispatch;return p.memoizedState=o,[u,b,!1]}function Ss(o,u,p,b){return o={tag:o,create:p,deps:b,inst:u,next:null},u=Et.updateQueue,u===null&&(u=Oa(),Et.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,u.lastEffect=o),o}function Br(){return{destroy:void 0,resource:void 0}}function vl(){return Dt().memoizedState}function Au(o,u,p,b){var x=ut();b=b===void 0?null:b,Et.flags|=o,x.memoizedState=Ss(1|u,Br(),p,b)}function yl(o,u,p,b){var x=Dt();b=b===void 0?null:b;var C=x.memoizedState.inst;Pt!==null&&b!==null&&Va(b,Pt.memoizedState.deps)?x.memoizedState=Ss(u,C,p,b):(Et.flags|=o,x.memoizedState=Ss(1|u,C,p,b))}function $d(o,u){Au(8390656,8,o,u)}function ho(o,u){yl(2048,8,o,u)}function rr(o,u){return yl(4,2,o,u)}function ef(o,u){return yl(4,4,o,u)}function go(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Hr(o,u,p){p=p!=null?p.concat([o]):null,yl(4,4,go.bind(null,u,o),p)}function Ru(){}function Ou(o,u){var p=Dt();u=u===void 0?null:u;var b=p.memoizedState;return u!==null&&Va(u,b[1])?b[0]:(p.memoizedState=[o,u],o)}function Jd(o,u){var p=Dt();u=u===void 0?null:u;var b=p.memoizedState;if(u!==null&&Va(u,b[1]))return b[0];if(b=o(),is){ye(!0);try{o()}finally{ye(!1)}}return p.memoizedState=[b,u],b}function po(o,u,p){return p===void 0||(Gn&1073741824)!==0?o.memoizedState=u:(o.memoizedState=p,o=Al(),Et.lanes|=o,Vn|=o,p)}function Mu(o,u,p,b){return hi(p,u)?p:wa.current!==null?(o=po(o,p,b),hi(o,u)||(mt=!0),o):(Gn&42)===0?(mt=!0,o.memoizedState=p):(o=Al(),Et.lanes|=o,Vn|=o,u)}function Wd(o,u,p,b,x){var C=Zi();$n(C!==0&&8>C?C:8);var P=rt.T,Y={};rt.T=Y,vo(o,!1,u,p);try{var ne=x(),Te=rt.S;if(Te!==null&&Te(Y,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var je=Lr(ne,b);qr(o,u,je,Qn(o))}else qr(o,u,b,Qn(o))}catch(Ge){qr(o,u,{then:function(){},status:"rejected",reason:Ge},Qn())}finally{$n(C),rt.T=P}}function Da(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:Ja,baseState:Ja,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:Ja},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Gr(){return de(vr)}function Du(){return Dt().memoizedState}function mo(){return Dt().memoizedState}function Ov(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=Qn();o=Ze(p);var b=Ie(u,o,p);b!==null&&(ya(b,u,p),tt(b,u,p)),u={cache:Ne()},o.payload=u;return}u=u.return}}function eh(o,u,p){var b=Qn();p={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Nu(o)?gg(u,p):(p=te(o,u,p,b),p!==null&&(ya(p,o,b),pg(p,u,b)))}function tf(o,u,p){var b=Qn();qr(o,u,p,b)}function qr(o,u,p,b){var x={lane:b,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Nu(o))gg(u,x);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var P=u.lastRenderedState,Y=C(P,p);if(x.hasEagerState=!0,x.eagerState=Y,hi(Y,P))return Z(o,u,x,0),Yt===null&&hl(),!1}catch{}finally{}if(p=te(o,u,x,b),p!==null)return ya(p,o,b),pg(p,u,b),!0}return!1}function vo(o,u,p,b){if(b={lane:2,revertLane:qa(),action:b,hasEagerState:!1,eagerState:null,next:null},Nu(o)){if(u)throw Error(r(479))}else u=te(o,p,b,2),u!==null&&ya(u,o,2)}function Nu(o){var u=o.alternate;return o===Et||u!==null&&u===Et}function gg(o,u){Ys=Qi=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function pg(o,u,p){if((p&4194048)!==0){var b=u.lanes;b&=o.pendingLanes,p|=b,u.lanes=p,be(o,p)}}function nf(o){var u=Go;return Go+=1,Sr===null&&(Sr=[]),bs(Sr,o,u)}function bl(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function af(o,u){throw u.$$typeof===Lg?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function mg(o){var u=o._init;return u(o._payload)}function vg(o){function u(ce,W){if(o){var ge=ce.deletions;ge===null?(ce.deletions=[W],ce.flags|=16):ge.push(W)}}function p(ce,W){if(!o)return null;for(;W!==null;)u(ce,W),W=W.sibling;return null}function b(ce){for(var W=new Map;ce!==null;)ce.key!==null?W.set(ce.key,ce):W.set(ce.index,ce),ce=ce.sibling;return W}function x(ce,W){return ce=Xr(ce,W),ce.index=0,ce.sibling=null,ce}function C(ce,W,ge){return ce.index=ge,o?(ge=ce.alternate,ge!==null?(ge=ge.index,ge<W?(ce.flags|=67108866,W):ge):(ce.flags|=67108866,W)):(ce.flags|=1048576,W)}function P(ce){return o&&ce.alternate===null&&(ce.flags|=67108866),ce}function Y(ce,W,ge,Oe){return W===null||W.tag!==6?(W=Dl(ge,ce.mode,Oe),W.return=ce,W):(W=x(W,ge),W.return=ce,W)}function ne(ce,W,ge,Oe){var Xe=ge.type;return Xe===Ul?je(ce,W,ge.props.children,Oe,ge.key):W!==null&&(W.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Na&&mg(Xe)===W.type)?(W=x(W,ge.props),bl(W,ge),W.return=ce,W):(W=To(ge.type,ge.key,ge.props,null,ce.mode,Oe),bl(W,ge),W.return=ce,W)}function Te(ce,W,ge,Oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ge.containerInfo||W.stateNode.implementation!==ge.implementation?(W=Yu(ge,ce.mode,Oe),W.return=ce,W):(W=x(W,ge.children||[]),W.return=ce,W)}function je(ce,W,ge,Oe,Xe){return W===null||W.tag!==7?(W=Yi(ge,ce.mode,Oe,Xe),W.return=ce,W):(W=x(W,ge),W.return=ce,W)}function Ge(ce,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Dl(""+W,ce.mode,ge),W.return=ce,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case zl:return ge=To(W.type,W.key,W.props,null,ce.mode,ge),bl(ge,W),ge.return=ce,ge;case Ns:return W=Yu(W,ce.mode,ge),W.return=ce,W;case Na:var Oe=W._init;return W=Oe(W._payload),Ge(ce,W,ge)}if(js(W)||v(W))return W=Yi(W,ce.mode,ge,null),W.return=ce,W;if(typeof W.then=="function")return Ge(ce,nf(W),ge);if(W.$$typeof===Qr)return Ge(ce,Pe(ce,W),ge);af(ce,W)}return null}function Ve(ce,W,ge,Oe){var Xe=W!==null?W.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Xe!==null?null:Y(ce,W,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case zl:return ge.key===Xe?ne(ce,W,ge,Oe):null;case Ns:return ge.key===Xe?Te(ce,W,ge,Oe):null;case Na:return Xe=ge._init,ge=Xe(ge._payload),Ve(ce,W,ge,Oe)}if(js(ge)||v(ge))return Xe!==null?null:je(ce,W,ge,Oe,null);if(typeof ge.then=="function")return Ve(ce,W,nf(ge),Oe);if(ge.$$typeof===Qr)return Ve(ce,W,Pe(ce,ge),Oe);af(ce,ge)}return null}function xt(ce,W,ge,Oe,Xe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ce=ce.get(ge)||null,Y(W,ce,""+Oe,Xe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case zl:return ce=ce.get(Oe.key===null?ge:Oe.key)||null,ne(W,ce,Oe,Xe);case Ns:return ce=ce.get(Oe.key===null?ge:Oe.key)||null,Te(W,ce,Oe,Xe);case Na:var nn=Oe._init;return Oe=nn(Oe._payload),xt(ce,W,ge,Oe,Xe)}if(js(Oe)||v(Oe))return ce=ce.get(ge)||null,je(W,ce,Oe,Xe,null);if(typeof Oe.then=="function")return xt(ce,W,ge,nf(Oe),Xe);if(Oe.$$typeof===Qr)return xt(ce,W,ge,Pe(W,Oe),Xe);af(W,Oe)}return null}function Mi(ce,W,ge,Oe){for(var Xe=null,nn=null,dt=W,Zt=W=0,Kn=null;dt!==null&&Zt<ge.length;Zt++){dt.index>Zt?(Kn=dt,dt=null):Kn=dt.sibling;var Kt=Ve(ce,dt,ge[Zt],Oe);if(Kt===null){dt===null&&(dt=Kn);break}o&&dt&&Kt.alternate===null&&u(ce,dt),W=C(Kt,W,Zt),nn===null?Xe=Kt:nn.sibling=Kt,nn=Kt,dt=Kn}if(Zt===ge.length)return p(ce,dt),qt&&se(ce,Zt),Xe;if(dt===null){for(;Zt<ge.length;Zt++)dt=Ge(ce,ge[Zt],Oe),dt!==null&&(W=C(dt,W,Zt),nn===null?Xe=dt:nn.sibling=dt,nn=dt);return qt&&se(ce,Zt),Xe}for(dt=b(dt);Zt<ge.length;Zt++)Kn=xt(dt,ce,Zt,ge[Zt],Oe),Kn!==null&&(o&&Kn.alternate!==null&&dt.delete(Kn.key===null?Zt:Kn.key),W=C(Kn,W,Zt),nn===null?Xe=Kn:nn.sibling=Kn,nn=Kn);return o&&dt.forEach(function(ls){return u(ce,ls)}),qt&&se(ce,Zt),Xe}function el(ce,W,ge,Oe){if(ge==null)throw Error(r(151));for(var Xe=null,nn=null,dt=W,Zt=W=0,Kn=null,Kt=ge.next();dt!==null&&!Kt.done;Zt++,Kt=ge.next()){dt.index>Zt?(Kn=dt,dt=null):Kn=dt.sibling;var ls=Ve(ce,dt,Kt.value,Oe);if(ls===null){dt===null&&(dt=Kn);break}o&&dt&&ls.alternate===null&&u(ce,dt),W=C(ls,W,Zt),nn===null?Xe=ls:nn.sibling=ls,nn=ls,dt=Kn}if(Kt.done)return p(ce,dt),qt&&se(ce,Zt),Xe;if(dt===null){for(;!Kt.done;Zt++,Kt=ge.next())Kt=Ge(ce,Kt.value,Oe),Kt!==null&&(W=C(Kt,W,Zt),nn===null?Xe=Kt:nn.sibling=Kt,nn=Kt);return qt&&se(ce,Zt),Xe}for(dt=b(dt);!Kt.done;Zt++,Kt=ge.next())Kt=xt(dt,ce,Zt,Kt.value,Oe),Kt!==null&&(o&&Kt.alternate!==null&&dt.delete(Kt.key===null?Zt:Kt.key),W=C(Kt,W,Zt),nn===null?Xe=Kt:nn.sibling=Kt,nn=Kt);return o&&dt.forEach(function(Gv){return u(ce,Gv)}),qt&&se(ce,Zt),Xe}function Di(ce,W,ge,Oe){if(typeof ge=="object"&&ge!==null&&ge.type===Ul&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case zl:e:{for(var Xe=ge.key;W!==null;){if(W.key===Xe){if(Xe=ge.type,Xe===Ul){if(W.tag===7){p(ce,W.sibling),Oe=x(W,ge.props.children),Oe.return=ce,ce=Oe;break e}}else if(W.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Na&&mg(Xe)===W.type){p(ce,W.sibling),Oe=x(W,ge.props),bl(Oe,ge),Oe.return=ce,ce=Oe;break e}p(ce,W);break}else u(ce,W);W=W.sibling}ge.type===Ul?(Oe=Yi(ge.props.children,ce.mode,Oe,ge.key),Oe.return=ce,ce=Oe):(Oe=To(ge.type,ge.key,ge.props,null,ce.mode,Oe),bl(Oe,ge),Oe.return=ce,ce=Oe)}return P(ce);case Ns:e:{for(Xe=ge.key;W!==null;){if(W.key===Xe)if(W.tag===4&&W.stateNode.containerInfo===ge.containerInfo&&W.stateNode.implementation===ge.implementation){p(ce,W.sibling),Oe=x(W,ge.children||[]),Oe.return=ce,ce=Oe;break e}else{p(ce,W);break}else u(ce,W);W=W.sibling}Oe=Yu(ge,ce.mode,Oe),Oe.return=ce,ce=Oe}return P(ce);case Na:return Xe=ge._init,ge=Xe(ge._payload),Di(ce,W,ge,Oe)}if(js(ge))return Mi(ce,W,ge,Oe);if(v(ge)){if(Xe=v(ge),typeof Xe!="function")throw Error(r(150));return ge=Xe.call(ge),el(ce,W,ge,Oe)}if(typeof ge.then=="function")return Di(ce,W,nf(ge),Oe);if(ge.$$typeof===Qr)return Di(ce,W,Pe(ce,ge),Oe);af(ce,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,W!==null&&W.tag===6?(p(ce,W.sibling),Oe=x(W,ge),Oe.return=ce,ce=Oe):(p(ce,W),Oe=Dl(ge,ce.mode,Oe),Oe.return=ce,ce=Oe),P(ce)):p(ce,W)}return function(ce,W,ge,Oe){try{Go=0;var Xe=Di(ce,W,ge,Oe);return Sr=null,Xe}catch(dt){if(dt===Bo||dt===cn)throw dt;var nn=n(29,dt,null,ce.mode);return nn.lanes=Oe,nn.return=ce,nn}finally{}}}function ws(o){var u=o.alternate;T(pt,pt.current&1),T(Ri,o),wr===null&&(u===null||wa.current!==null||u.memoizedState!==null)&&(wr=o)}function yg(o){if(o.tag===22){if(T(pt,pt.current),T(Ri,o),wr===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(wr=o)}}else Vr()}function Vr(){T(pt,pt.current),T(Ri,Ri.current)}function Yr(o){E(Ri),wr===o&&(wr=null),E(pt)}function rf(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||nc(p)||Uf(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function th(o,u,p,b){u=o.memoizedState,p=p(b,u),p=p==null?u:jl({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}function bg(o,u,p,b,x,C,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,C,P):u.prototype&&u.prototype.isPureReactComponent?!Gi(p,b)||!Gi(x,C):!0}function sf(o,u,p,b){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==o&&on.enqueueReplaceState(u,u.state,null)}function _l(o,u){var p=u;if("ref"in u){p={};for(var b in u)b!=="ref"&&(p[b]=u[b])}if(o=o.defaultProps){p===u&&(p=jl({},p));for(var x in o)p[x]===void 0&&(p[x]=o[x])}return p}function lf(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(b){setTimeout(function(){throw b})}}function _g(o,u,p){try{var b=o.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function of(o,u,p){return p=Ze(p),p.tag=3,p.payload={element:null},p.callback=function(){lf(o,u)},p}function Sg(o){return o=Ze(o),o.tag=3,o}function wg(o,u,p,b){var x=p.type.getDerivedStateFromError;if(typeof x=="function"){var C=b.value;o.payload=function(){return x(C)},o.callback=function(){_g(u,p,b)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){_g(u,p,b),typeof x!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var Y=b.stack;this.componentDidCatch(b.value,{componentStack:Y!==null?Y:""})})}function Mv(o,u,p,b,x){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(u=p.alternate,u!==null&&ki(u,p,x,!0),p=Ri.current,p!==null){switch(p.tag){case 13:return wr===null?xn():p.alternate===null&&Mn===0&&(Mn=3),p.flags&=-257,p.flags|=65536,p.lanes=x,b===la?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([b]):u.add(b),Ml(o,b,x)),!1;case 22:return p.flags|=65536,b===la?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([b]):p.add(b)),Ml(o,b,x)),!1}throw Error(r(435,p.tag))}return Ml(o,b,x),xn(),!1}if(qt)return u=Ri.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,b!==Xh&&(o=Error(r(422),{cause:b}),ga(X(o,p)))):(b!==Xh&&(u=Error(r(423),{cause:b}),ga(X(u,p))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,b=X(b,p),x=of(o.stateNode,b,x),We(o,x),Mn!==4&&(Mn=2)),!1;var C=Error(r(520),{cause:b});if(C=X(C,p),Qs===null?Qs=[C]:Qs.push(C),Mn!==4&&(Mn=2),u===null)return!0;b=X(b,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=x&-x,p.lanes|=o,o=of(p.stateNode,b,o),We(p,o),!1;case 1:if(u=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Cr===null||!Cr.has(C))))return p.flags|=65536,x&=-x,p.lanes|=x,x=Sg(x),wg(x,o,p,b),We(p,x),!1}p=p.return}while(p!==null);return!1}function sa(o,u,p,b){u.child=o===null?Jh(u,null,p,b):rs(u,o.child,p,b)}function xg(o,u,p,b,x){p=p.render;var C=u.ref;if("ref"in b){var P={};for(var Y in b)Y!=="ref"&&(P[Y]=b[Y])}else P=b;return ie(u),b=Si(o,u,p,P,C,x),Y=Za(),o!==null&&!mt?(qi(o,u,x),oi(o,u,x)):(qt&&Y&&J(u),u.flags|=1,sa(o,u,b,x),u.child)}function Eg(o,u,p,b,x){if(o===null){var C=p.type;return typeof C=="function"&&!yh(C)&&C.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=C,Cg(o,u,C,b,x)):(o=To(p.type,null,b,u,u.mode,x),o.ref=u.ref,o.return=u,u.child=o)}if(C=o.child,!wl(o,x)){var P=C.memoizedProps;if(p=p.compare,p=p!==null?p:Gi,p(P,b)&&o.ref===u.ref)return oi(o,u,x)}return u.flags|=1,o=Xr(C,b),o.ref=u.ref,o.return=u,u.child=o}function Cg(o,u,p,b,x){if(o!==null){var C=o.memoizedProps;if(Gi(C,b)&&o.ref===u.ref)if(mt=!1,u.pendingProps=b=C,wl(o,x))(o.flags&131072)!==0&&(mt=!0);else return u.lanes=o.lanes,oi(o,u,x)}return Sl(o,u,p,b,x)}function Tg(o,u,p){var b=u.pendingProps,x=b.children,C=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((u.flags&128)!==0){if(b=C!==null?C.baseLanes|p:p,o!==null){for(x=u.child=o.child,C=0;x!==null;)C=C|x.lanes|x.childLanes,x=x.sibling;u.childLanes=C&~b}else u.childLanes=0,u.child=null;return Ag(o,u,b,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&kr(u,C!==null?C.cachePool:null),C!==null?Lt(u,C):rn(),yg(u);else return u.lanes=u.childLanes=536870912,Ag(o,u,C!==null?C.baseLanes|p:p,p)}else C!==null?(kr(u,C.cachePool),Lt(u,C),Vr(),u.memoizedState=null):(o!==null&&kr(u,null),rn(),Vr());return sa(o,u,x,p),u.child}function Ag(o,u,p,b){var x=dl();return x=x===null?null:{parent:Jr?$t._currentValue:$t._currentValue2,pool:x},u.memoizedState={baseLanes:p,cachePool:x},o!==null&&kr(u,null),rn(),yg(u),o!==null&&ki(o,u,b,!0),null}function yo(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function Sl(o,u,p,b,x){return ie(u),p=Si(o,u,p,b,void 0,x),b=Za(),o!==null&&!mt?(qi(o,u,x),oi(o,u,x)):(qt&&b&&J(u),u.flags|=1,sa(o,u,p,x),u.child)}function Rg(o,u,p,b,x,C){return ie(u),u.updateQueue=null,p=gl(u,b,p,x),Ya(o),b=Za(),o!==null&&!mt?(qi(o,u,C),oi(o,u,C)):(qt&&b&&J(u),u.flags|=1,sa(o,u,p,C),u.child)}function nh(o,u,p,b,x){if(ie(u),u.stateNode===null){var C=Bl,P=p.contextType;typeof P=="object"&&P!==null&&(C=de(P)),C=new p(b,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=on,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=b,C.state=u.memoizedState,C.refs={},Qe(u),P=p.contextType,C.context=typeof P=="object"&&P!==null?de(P):Bl,C.state=u.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(th(u,p,P,b),C.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&on.enqueueReplaceState(C,C.state,null),yt(u,b,C,x),Ke(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),b=!0}else if(o===null){C=u.stateNode;var Y=u.memoizedProps,ne=_l(p,Y);C.props=ne;var Te=C.context,je=p.contextType;P=Bl,typeof je=="object"&&je!==null&&(P=de(je));var Ge=p.getDerivedStateFromProps;je=typeof Ge=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=u.pendingProps!==Y,je||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||Te!==P)&&sf(u,C,b,P),_r=!1;var Ve=u.memoizedState;C.state=Ve,yt(u,b,C,x),Ke(),Te=u.memoizedState,Y||Ve!==Te||_r?(typeof Ge=="function"&&(th(u,p,Ge,b),Te=u.memoizedState),(ne=_r||bg(u,p,ne,b,Ve,Te,P))?(je||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=Te),C.props=b,C.state=Te,C.context=P,b=ne):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{C=u.stateNode,et(o,u),P=u.memoizedProps,je=_l(p,P),C.props=je,Ge=u.pendingProps,Ve=C.context,Te=p.contextType,ne=Bl,typeof Te=="object"&&Te!==null&&(ne=de(Te)),Y=p.getDerivedStateFromProps,(Te=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==Ge||Ve!==ne)&&sf(u,C,b,ne),_r=!1,Ve=u.memoizedState,C.state=Ve,yt(u,b,C,x),Ke();var xt=u.memoizedState;P!==Ge||Ve!==xt||_r||o!==null&&o.dependencies!==null&&I(o.dependencies)?(typeof Y=="function"&&(th(u,p,Y,b),xt=u.memoizedState),(je=_r||bg(u,p,je,b,Ve,xt,ne)||o!==null&&o.dependencies!==null&&I(o.dependencies))?(Te||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(b,xt,ne),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(b,xt,ne)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=xt),C.props=b,C.state=xt,C.context=ne,b=je):(typeof C.componentDidUpdate!="function"||P===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=1024),b=!1)}return C=b,yo(o,u),b=(u.flags&128)!==0,C||b?(C=u.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,o!==null&&b?(u.child=rs(u,o.child,null,x),u.child=rs(u,null,p,x)):sa(o,u,p,x),u.memoizedState=C.state,o=u.child):o=oi(o,u,x),o}function ah(o,u,p,b){return un(),u.flags|=256,sa(o,u,p,b),u.child}function uf(o){return{baseLanes:o,cachePool:uo()}}function cf(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=Oi),o}function ih(o,u,p){var b=u.pendingProps,x=!1,C=(u.flags&128)!==0,P;if((P=C)||(P=o!==null&&o.memoizedState===null?!1:(pt.current&2)!==0),P&&(x=!0,u.flags&=-129),P=(u.flags&32)!==0,u.flags&=-33,o===null){if(qt){if(x?ws(u):Vr(),qt){var Y=Hn,ne;(ne=Y)&&(Y=kv(Y,Xt),Y!==null?(u.memoizedState={dehydrated:Y,treeContext:Hs!==null?{id:Ki,overflow:br}:null,retryLane:536870912,hydrationErrors:null},ne=n(18,null,null,0),ne.stateNode=Y,ne.return=u,u.child=ne,On=u,Hn=null,ne=!0):ne=!1),ne||lt(u)}if(Y=u.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return Uf(Y)?u.lanes=32:u.lanes=536870912,null;Yr(u)}return Y=b.children,b=b.fallback,x?(Vr(),x=u.mode,Y=ff({mode:"hidden",children:Y},x),b=Yi(b,x,p,null),Y.return=u,b.return=u,Y.sibling=b,u.child=Y,x=u.child,x.memoizedState=uf(p),x.childLanes=cf(o,P,p),u.memoizedState=ka,b):(ws(u),xs(u,Y))}if(ne=o.memoizedState,ne!==null&&(Y=ne.dehydrated,Y!==null)){if(C)u.flags&256?(ws(u),u.flags&=-257,u=rh(o,u,p)):u.memoizedState!==null?(Vr(),u.child=o.child,u.flags|=128,u=null):(Vr(),x=b.fallback,Y=u.mode,b=ff({mode:"visible",children:b.children},Y),x=Yi(x,Y,p,null),x.flags|=2,b.return=u,x.return=u,b.sibling=x,u.child=b,rs(u,o.child,null,p),b=u.child,b.memoizedState=uf(p),b.childLanes=cf(o,P,p),u.memoizedState=ka,u=x);else if(ws(u),Uf(Y))P=ap(Y).digest,b=Error(r(419)),b.stack="",b.digest=P,ga({value:b,source:null,stack:null}),u=rh(o,u,p);else if(mt||ki(o,u,p,!1),P=(p&o.childLanes)!==0,mt||P){if(P=Yt,P!==null&&(b=p&-p,b=(b&42)!==0?1:Re(b),b=(b&(P.suspendedLanes|p))!==0?0:b,b!==0&&b!==ne.retryLane))throw ne.retryLane=b,le(o,b),ya(P,o,b),Bt;nc(Y)||xn(),u=rh(o,u,p)}else nc(Y)?(u.flags|=192,u.child=o.child,u=null):(o=ne.treeContext,Qa&&(Hn=Bh(Y),On=u,qt=!0,Ii=null,Xt=!1,o!==null&&(Ua[ei++]=Ki,Ua[ei++]=br,Ua[ei++]=Hs,Ki=o.id,br=o.overflow,Hs=u)),u=xs(u,b.children),u.flags|=4096);return u}return x?(Vr(),x=b.fallback,Y=u.mode,ne=o.child,C=ne.sibling,b=Xr(ne,{mode:"hidden",children:b.children}),b.subtreeFlags=ne.subtreeFlags&65011712,C!==null?x=Xr(C,x):(x=Yi(x,Y,p,null),x.flags|=2),x.return=u,b.return=u,b.sibling=x,u.child=b,b=x,x=u.child,Y=o.child.memoizedState,Y===null?Y=uf(p):(ne=Y.cachePool,ne!==null?(C=Jr?$t._currentValue:$t._currentValue2,ne=ne.parent!==C?{parent:C,pool:C}:ne):ne=uo(),Y={baseLanes:Y.baseLanes|p,cachePool:ne}),x.memoizedState=Y,x.childLanes=cf(o,P,p),u.memoizedState=ka,b):(ws(u),p=o.child,o=p.sibling,p=Xr(p,{mode:"visible",children:b.children}),p.return=u,p.sibling=null,o!==null&&(P=u.deletions,P===null?(u.deletions=[o],u.flags|=16):P.push(o)),u.child=p,u.memoizedState=null,p)}function xs(o,u){return u=ff({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function ff(o,u){return o=n(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function rh(o,u,p){return rs(u,o.child,null,p),o=xs(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Og(o,u,p){o.lanes|=u;var b=o.alternate;b!==null&&(b.lanes|=u),ia(o.return,u,p)}function df(o,u,p,b,x){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:x}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=b,C.tail=p,C.tailMode=x)}function sh(o,u,p){var b=u.pendingProps,x=b.revealOrder,C=b.tail;if(sa(o,u,b.children,p),b=pt.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Og(o,p,u);else if(o.tag===19)Og(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch(T(pt,b),x){case"forwards":for(p=u.child,x=null;p!==null;)o=p.alternate,o!==null&&rf(o)===null&&(x=p),p=p.sibling;p=x,p===null?(x=u.child,u.child=null):(x=p.sibling,p.sibling=null),df(u,!1,x,p,C);break;case"backwards":for(p=null,x=u.child,u.child=null;x!==null;){if(o=x.alternate,o!==null&&rf(o)===null){u.child=x;break}o=x.sibling,x.sibling=p,p=x,x=o}df(u,!0,p,null,C);break;case"together":df(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function oi(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),Vn|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(ki(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=Xr(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Xr(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function wl(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&I(o)))}function Dv(o,u,p){switch(u.tag){case 3:Se(u,u.stateNode.containerInfo),ai(u,$t,o.memoizedState.cache),un();break;case 27:case 5:it(u);break;case 4:Se(u,u.stateNode.containerInfo);break;case 10:ai(u,u.type,u.memoizedProps.value);break;case 13:var b=u.memoizedState;if(b!==null)return b.dehydrated!==null?(ws(u),u.flags|=128,null):(p&u.child.childLanes)!==0?ih(o,u,p):(ws(u),o=oi(o,u,p),o!==null?o.sibling:null);ws(u);break;case 19:var x=(o.flags&128)!==0;if(b=(p&u.childLanes)!==0,b||(ki(o,u,p,!1),b=(p&u.childLanes)!==0),x){if(b)return sh(o,u,p);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),T(pt,pt.current),b)break;return null;case 22:case 23:return u.lanes=0,Tg(o,u,p);case 24:ai(u,$t,o.memoizedState.cache)}return oi(o,u,p)}function ju(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)mt=!0;else{if(!wl(o,p)&&(u.flags&128)===0)return mt=!1,Dv(o,u,p);mt=(o.flags&131072)!==0}else mt=!1,qt&&(u.flags&1048576)!==0&&H(u,Lo,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var b=u.elementType,x=b._init;if(b=x(b._payload),u.type=b,typeof b=="function")yh(b)?(o=_l(b,o),u.tag=1,u=nh(null,u,b,o,p)):(u.tag=0,u=Sl(null,u,b,o,p));else{if(b!=null){if(x=b.$$typeof,x===gr){u.tag=11,u=xg(null,u,b,o,p);break e}else if(x===pr){u.tag=14,u=Eg(null,u,b,o,p);break e}}throw u=_(b)||b,Error(r(306,u,""))}}return u;case 0:return Sl(o,u,u.type,u.pendingProps,p);case 1:return b=u.type,x=_l(b,u.pendingProps),nh(o,u,b,x,p);case 3:e:{if(Se(u,u.stateNode.containerInfo),o===null)throw Error(r(387));var C=u.pendingProps;x=u.memoizedState,b=x.element,et(o,u),yt(u,C,null,p);var P=u.memoizedState;if(C=P.cache,ai(u,$t,C),C!==x.cache&&oo(u,[$t],p,!0),Ke(),C=P.element,Qa&&x.isDehydrated)if(x={element:C,isDehydrated:!1,cache:P.cache},u.updateQueue.baseState=x,u.memoizedState=x,u.flags&256){u=ah(o,u,C,p);break e}else if(C!==b){b=X(Error(r(424)),u),ga(b),u=ah(o,u,C,p);break e}else for(Qa&&(Hn=op(u.stateNode.containerInfo),On=u,qt=!0,Ii=null,Xt=!0),p=Jh(u,null,C,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(un(),C===b){u=oi(o,u,p);break e}sa(o,u,C,p)}u=u.child}return u;case 26:if(ja)return yo(o,u),o===null?(p=rc(u.type,null,u.pendingProps,null))?u.memoizedState=p:qt||(u.stateNode=yr(u.type,u.pendingProps,Gs.current,u)):u.memoizedState=rc(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:if(jt)return it(u),o===null&&jt&&qt&&(b=u.stateNode=sc(u.type,u.pendingProps,Gs.current,bn.current,!1),On=u,Xt=!0,Hn=up(u.type,b,Hn)),sa(o,u,u.pendingProps.children,p),yo(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&qt&&(Pv(u.type,u.pendingProps,bn.current),(x=b=Hn)&&(b=cp(b,u.type,u.pendingProps,Xt),b!==null?(u.stateNode=b,On=u,Hn=lp(b),Xt=!1,x=!0):x=!1),x||lt(u)),it(u),x=u.type,C=u.pendingProps,P=o!==null?o.memoizedProps:null,b=C.children,$r(x,C)?b=null:P!==null&&$r(x,P)&&(u.flags|=32),u.memoizedState!==null&&(x=Si(o,u,pl,null,null,p),Jr?vr._currentValue=x:vr._currentValue2=x),yo(o,u),sa(o,u,b,p),u.child;case 6:return o===null&&qt&&(jo(u.pendingProps,bn.current),(o=p=Hn)&&(p=Lv(p,u.pendingProps,Xt),p!==null?(u.stateNode=p,On=u,Hn=null,o=!0):o=!1),o||lt(u)),null;case 13:return ih(o,u,p);case 4:return Se(u,u.stateNode.containerInfo),b=u.pendingProps,o===null?u.child=rs(u,null,b,p):sa(o,u,b,p),u.child;case 11:return xg(o,u,u.type,u.pendingProps,p);case 7:return sa(o,u,u.pendingProps,p),u.child;case 8:return sa(o,u,u.pendingProps.children,p),u.child;case 12:return sa(o,u,u.pendingProps.children,p),u.child;case 10:return b=u.pendingProps,ai(u,u.type,b.value),sa(o,u,b.children,p),u.child;case 9:return x=u.type._context,b=u.pendingProps.children,ie(u),x=de(x),b=b(x),u.flags|=1,sa(o,u,b,p),u.child;case 14:return Eg(o,u,u.type,u.pendingProps,p);case 15:return Cg(o,u,u.type,u.pendingProps,p);case 19:return sh(o,u,p);case 31:return b=u.pendingProps,p=u.mode,b={mode:b.mode,children:b.children},o===null?(p=ff(b,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=Xr(o.child,b),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return Tg(o,u,p);case 24:return ie(u),b=de($t),o===null?(x=dl(),x===null&&(x=Yt,C=Ne(),x.pooledCache=C,C.refCount++,C!==null&&(x.pooledCacheLanes|=p),x=C),u.memoizedState={parent:b,cache:x},Qe(u),ai(u,$t,x)):((o.lanes&p)!==0&&(et(o,u),yt(u,null,null,p),Ke()),x=o.memoizedState,C=u.memoizedState,x.parent!==b?(x={parent:b,cache:b},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),ai(u,$t,b)):(b=C.cache,ai(u,$t,b),b!==x.cache&&oo(u,[$t],p,!0))),sa(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Ka(o){o.flags|=4}function lh(o,u){if(o!==null&&o.child===u.child)return!1;if((u.flags&16)!==0)return!0;for(o=u.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function zu(o,u,p,b){if(zt)for(p=u.child;p!==null;){if(p.tag===5||p.tag===6)jn(o,p.stateNode);else if(!(p.tag===4||jt&&p.tag===27)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else if(mr)for(var x=u.child;x!==null;){if(x.tag===5){var C=x.stateNode;p&&b&&(C=Uh(C,x.type,x.memoizedProps)),jn(o,C)}else if(x.tag===6)C=x.stateNode,p&&b&&(C=Lh(C,x.memoizedProps)),jn(o,C);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)C=x.child,C!==null&&(C.return=x),zu(o,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}}function hf(o,u,p,b){var x=!1;if(mr)for(var C=u.child;C!==null;){if(C.tag===5){var P=C.stateNode;p&&b&&(P=Uh(P,C.type,C.memoizedProps)),jh(o,P)}else if(C.tag===6)P=C.stateNode,p&&b&&(P=Lh(P,C.memoizedProps)),jh(o,P);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)x=C.child,x!==null&&(x.return=C),hf(o,C,!0,!0),x=!0;else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===u)break;for(;C.sibling===null;){if(C.return===null||C.return===u)return x;C=C.return}C.sibling.return=C.return,C=C.sibling}return x}function oh(o,u){if(mr&&lh(o,u)){o=u.stateNode;var p=o.containerInfo,b=Nh();hf(b,u,!1,!1),o.pendingChildren=b,Ka(u),np(p,b)}}function gf(o,u,p,b){if(zt)o.memoizedProps!==b&&Ka(u);else if(mr){var x=o.stateNode,C=o.memoizedProps;if((o=lh(o,u))||C!==b){var P=bn.current;C=tc(x,p,C,b,!o,null),C===x?u.stateNode=x:($u(C,p,b,P)&&Ka(u),u.stateNode=C,o?zu(C,u,!1,!1):Ka(u))}else u.stateNode=x}}function pf(o,u,p){if(Bn(u,p)){if(o.flags|=16777216,!Nf(u,p))if(wf())o.flags|=8192;else throw ti=la,Kf}else o.flags&=-16777217}function Mg(o,u){if(pp(u)){if(o.flags|=16777216,!Wr(u))if(wf())o.flags|=8192;else throw ti=la,Kf}else o.flags&=-16777217}function mf(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?G():536870912,o.lanes|=u,vi|=u)}function Uu(o,u){if(!qt)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Rn(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(u)for(var x=o.child;x!==null;)p|=x.lanes|x.childLanes,b|=x.subtreeFlags&65011712,b|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)p|=x.lanes|x.childLanes,b|=x.subtreeFlags,b|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=b,o.childLanes=p,u}function Nv(o,u,p){var b=u.pendingProps;switch(ve(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(u),null;case 1:return Rn(u),null;case 3:return p=u.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),u.memoizedState.cache!==b&&(u.flags|=2048),ii($t),He(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(ot(u)?Ka(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,bi())),oh(o,u),Rn(u),null;case 26:if(ja){p=u.type;var x=u.memoizedState;return o===null?(Ka(u),x!==null?(Rn(u),Mg(u,x)):(Rn(u),pf(u,p,b))):x?x!==o.memoizedState?(Ka(u),Rn(u),Mg(u,x)):(Rn(u),u.flags&=-16777217):(zt?o.memoizedProps!==b&&Ka(u):gf(o,u,p,b),Rn(u),pf(u,p,b)),null}case 27:if(jt){if(Ye(u),p=Gs.current,x=u.type,o!==null&&u.stateNode!=null)zt?o.memoizedProps!==b&&Ka(u):gf(o,u,x,b);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Rn(u),null}o=bn.current,ot(u)?Me(u,o):(o=sc(x,b,p,o,!0),u.stateNode=o,Ka(u))}return Rn(u),null}case 5:if(Ye(u),p=u.type,o!==null&&u.stateNode!=null)gf(o,u,p,b);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Rn(u),null}o=bn.current,ot(u)?Me(u,o):(x=sn(p,b,Gs.current,o,u),zu(x,u,!1,!1),u.stateNode=x,$u(x,p,b,o)&&Ka(u))}return Rn(u),pf(u,u.type,u.pendingProps),null;case 6:if(o&&u.stateNode!=null)p=o.memoizedProps,zt?p!==b&&Ka(u):mr&&(p!==b?(u.stateNode=Us(b,Gs.current,bn.current,u),Ka(u)):u.stateNode=o.stateNode);else{if(typeof b!="string"&&u.stateNode===null)throw Error(r(166));if(o=Gs.current,p=bn.current,ot(u)){if(!Qa)throw Error(r(176));if(o=u.stateNode,p=u.memoizedProps,b=null,x=On,x!==null)switch(x.tag){case 27:case 5:b=x.memoizedProps}ac(o,p,u,b)||lt(u)}else u.stateNode=Us(b,o,p,u)}return Rn(u),null;case 13:if(b=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=ot(u),b!==null&&b.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(!Qa)throw Error(r(344));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));Hh(x,u)}else un(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Rn(u),x=!1}else x=bi(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(Yr(u),u):(Yr(u),null)}if(Yr(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=b!==null,o=o!==null&&o.memoizedState!==null,p){b=u.child,x=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(x=b.alternate.memoizedState.cachePool.pool);var C=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(C=b.memoizedState.cachePool.pool),C!==x&&(b.flags|=2048)}return p!==o&&p&&(u.child.flags|=8192),mf(u,u.updateQueue),Rn(u),null;case 4:return He(),oh(o,u),o===null&&Bg(u.stateNode.containerInfo),Rn(u),null;case 10:return ii(u.type),Rn(u),null;case 19:if(E(pt),x=u.memoizedState,x===null)return Rn(u),null;if(b=(u.flags&128)!==0,C=x.rendering,C===null)if(b)Uu(x,!1);else{if(Mn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(C=rf(o),C!==null){for(u.flags|=128,Uu(x,!1),o=C.updateQueue,u.updateQueue=o,mf(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)Pn(p,o),p=p.sibling;return T(pt,pt.current&1|2),u.child}o=o.sibling}x.tail!==null&&ln()>Zo&&(u.flags|=128,b=!0,Uu(x,!1),u.lanes=4194304)}else{if(!b)if(o=rf(C),o!==null){if(u.flags|=128,b=!0,o=o.updateQueue,u.updateQueue=o,mf(u,o),Uu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!qt)return Rn(u),null}else 2*ln()-x.renderingStartTime>Zo&&p!==536870912&&(u.flags|=128,b=!0,Uu(x,!1),u.lanes=4194304);x.isBackwards?(C.sibling=u.child,u.child=C):(o=x.last,o!==null?o.sibling=C:u.child=C,x.last=C)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=ln(),u.sibling=null,o=pt.current,T(pt,b?o&1|2:o&1),u):(Rn(u),null);case 22:case 23:return Yr(u),Wt(),b=u.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(u.flags|=8192):b&&(u.flags|=8192),b?(p&536870912)!==0&&(u.flags&128)===0&&(Rn(u),u.subtreeFlags&6&&(u.flags|=8192)):Rn(u),p=u.updateQueue,p!==null&&mf(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==p&&(u.flags|=2048),o!==null&&E(En),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),ii($t),Rn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function ui(o,u){switch(ve(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ii($t),He(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ye(u),null;case 13:if(Yr(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));un()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return E(pt),null;case 4:return He(),null;case 10:return ii(u.type),null;case 22:case 23:return Yr(u),Wt(),o!==null&&E(En),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return ii($t),null;case 25:return null;default:return null}}function bo(o,u){switch(ve(u),u.tag){case 3:ii($t),He();break;case 26:case 27:case 5:Ye(u);break;case 4:He();break;case 13:Yr(u);break;case 19:E(pt);break;case 10:ii(u.type);break;case 22:case 23:Yr(u),Wt(),o!==null&&E(En);break;case 24:ii($t)}}function _o(o,u){try{var p=u.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var x=b.next;p=x;do{if((p.tag&o)===o){b=void 0;var C=p.create,P=p.inst;b=C(),P.destroy=b}p=p.next}while(p!==x)}}catch(Y){Qt(u,u.return,Y)}}function Zr(o,u,p){try{var b=u.updateQueue,x=b!==null?b.lastEffect:null;if(x!==null){var C=x.next;b=C;do{if((b.tag&o)===o){var P=b.inst,Y=P.destroy;if(Y!==void 0){P.destroy=void 0,x=u;var ne=p,Te=Y;try{Te()}catch(je){Qt(x,ne,je)}}}b=b.next}while(b!==C)}}catch(je){Qt(u,u.return,je)}}function uh(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{dn(u,p)}catch(b){Qt(o,o.return,b)}}}function ch(o,u,p){p.props=_l(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(b){Qt(o,u,b)}}function xl(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var b=Oo(o.stateNode);break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof p=="function"?o.refCleanup=p(b):p.current=b}}catch(x){Qt(o,u,x)}}function sr(o,u){var p=o.ref,b=o.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(x){Qt(o,u,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(x){Qt(o,u,x)}else p.current=null}function El(o){var u=o.type,p=o.memoizedProps,b=o.stateNode;try{Dh(b,u,p,o)}catch(x){Qt(o,o.return,x)}}function Lu(o,u,p){try{Xg(o.stateNode,o.type,p,u,o)}catch(b){Qt(o,o.return,b)}}function So(o){return o.tag===5||o.tag===3||(ja?o.tag===26:!1)||(jt?o.tag===27&&Pl(o.type):!1)||o.tag===4}function ku(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||So(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(jt&&o.tag===27&&Pl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function vf(o,u,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?Qg(p,o,u):Kg(p,o);else if(b!==4&&(jt&&b===27&&Pl(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(vf(o,u,p),o=o.sibling;o!==null;)vf(o,u,p),o=o.sibling}function lr(o,u,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?Fg(p,o,u):Zg(p,o);else if(b!==4&&(jt&&b===27&&Pl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(lr(o,u,p),o=o.sibling;o!==null;)lr(o,u,p),o=o.sibling}function Cl(o,u,p){o=o.containerInfo;try{zh(o,p)}catch(b){Qt(u,u.return,b)}}function yf(o){var u=o.stateNode,p=o.memoizedProps;try{Zh(o.type,p,u,o)}catch(b){Qt(o,o.return,b)}}function Dg(o,u){for(zs(o.containerInfo),Rt=u;Rt!==null;)if(o=Rt,u=o.child,(o.subtreeFlags&1024)!==0&&u!==null)u.return=o,Rt=u;else for(;Rt!==null;){o=Rt;var p=o.alternate;switch(u=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&p!==null){u=void 0;var b=o,x=p.memoizedProps;p=p.memoizedState;var C=b.stateNode;try{var P=_l(b.type,x,b.elementType===b.type);u=C.getSnapshotBeforeUpdate(P,p),C.__reactInternalSnapshotBeforeUpdate=u}catch(Y){Qt(b,b.return,Y)}}break;case 3:(u&1024)!==0&&zt&&zf(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=o.sibling,u!==null){u.return=o.return,Rt=u;break}Rt=o.return}}function Es(o,u,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Kr(o,p),b&4&&_o(5,p);break;case 1:if(Kr(o,p),b&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(P){Qt(p,p.return,P)}else{var x=_l(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(x,u,o.__reactInternalSnapshotBeforeUpdate)}catch(P){Qt(p,p.return,P)}}b&64&&uh(p),b&512&&xl(p,p.return);break;case 3:if(Kr(o,p),b&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=Oo(p.child.stateNode);break;case 1:u=p.child.stateNode}try{dn(o,u)}catch(P){Qt(p,p.return,P)}}break;case 27:jt&&u===null&&b&4&&yf(p);case 26:case 5:Kr(o,p),u===null&&b&4&&El(p),b&512&&xl(p,p.return);break;case 12:Kr(o,p);break;case 13:Kr(o,p),b&4&&Ng(o,p),b&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=_a.bind(null,p),kh(o,p))));break;case 22:if(b=p.memoizedState!==null||xa,!b){u=u!==null&&u.memoizedState!==null||mn,x=xa;var C=mn;xa=b,(mn=u)&&!C?Yn(o,p,(p.subtreeFlags&8772)!==0):Kr(o,p),xa=x,mn=C}break;case 30:break;default:Kr(o,p)}}function fh(o){var u=o.alternate;u!==null&&(o.alternate=null,fh(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&$a(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function wi(o,u,p){for(p=p.child;p!==null;)bf(o,u,p),p=p.sibling}function bf(o,u,p){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(ks,p)}catch{}switch(p.tag){case 26:if(ja){mn||sr(p,u),wi(o,u,p),p.memoizedState?Vh(p.memoizedState):p.stateNode&&di(p.stateNode);break}case 27:if(jt){mn||sr(p,u);var b=fn,x=qn;Pl(p.type)&&(fn=p.stateNode,qn=!1),wi(o,u,p),Pf(p.stateNode),fn=b,qn=x;break}case 5:mn||sr(p,u);case 6:if(zt){if(b=fn,x=qn,fn=null,wi(o,u,p),fn=b,qn=x,fn!==null)if(qn)try{Jg(fn,p.stateNode)}catch(C){Qt(p,u,C)}else try{$g(fn,p.stateNode)}catch(C){Qt(p,u,C)}}else wi(o,u,p);break;case 18:zt&&fn!==null&&(qn?gp(fn,p.stateNode):kf(fn,p.stateNode));break;case 4:zt?(b=fn,x=qn,fn=p.stateNode.containerInfo,qn=!0,wi(o,u,p),fn=b,qn=x):(mr&&Cl(p.stateNode,p,Nh()),wi(o,u,p));break;case 0:case 11:case 14:case 15:mn||Zr(2,p,u),mn||Zr(4,p,u),wi(o,u,p);break;case 1:mn||(sr(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"&&ch(p,u,b)),wi(o,u,p);break;case 21:wi(o,u,p);break;case 22:mn=(b=mn)||p.memoizedState!==null,wi(o,u,p),mn=b;break;default:wi(o,u,p)}}function Ng(o,u){if(Qa&&u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hp(o)}catch(p){Qt(u,u.return,p)}}function jv(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new xr),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new xr),u;default:throw Error(r(435,o.tag))}}function dh(o,u){var p=jv(o);u.forEach(function(b){var x=Af.bind(null,o,b);p.has(b)||(p.add(b),b.then(x,x))})}function ma(o,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var x=p[b],C=o,P=u;if(zt){var Y=P;e:for(;Y!==null;){switch(Y.tag){case 27:if(jt){if(Pl(Y.type)){fn=Y.stateNode,qn=!1;break e}break}case 5:fn=Y.stateNode,qn=!1;break e;case 3:case 4:fn=Y.stateNode.containerInfo,qn=!0;break e}Y=Y.return}if(fn===null)throw Error(r(160));bf(C,P,x),fn=null,qn=!1}else bf(C,P,x);C=x.alternate,C!==null&&(C.return=null),x.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)hh(u,o),u=u.sibling}function hh(o,u){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ma(u,o),va(o),b&4&&(Zr(3,o,o.return),_o(3,o),Zr(5,o,o.return));break;case 1:ma(u,o),va(o),b&512&&(mn||p===null||sr(p,p.return)),b&64&&xa&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:if(ja){var x=mi;if(ma(u,o),va(o),b&512&&(mn||p===null||sr(p,p.return)),b&4){b=p!==null?p.memoizedState:null;var C=o.memoizedState;p===null?C===null?o.stateNode===null?o.stateNode=zo(x,o.type,o.memoizedProps,o):Yh(x,o.type,o.stateNode):o.stateNode=qh(x,C,o.memoizedProps):b!==C?(b===null?p.stateNode!==null&&di(p.stateNode):Vh(b),C===null?Yh(x,o.type,o.stateNode):qh(x,C,o.memoizedProps)):C===null&&o.stateNode!==null&&Lu(o,o.memoizedProps,p.memoizedProps)}break}case 27:if(jt){ma(u,o),va(o),b&512&&(mn||p===null||sr(p,p.return)),p!==null&&b&4&&Lu(o,o.memoizedProps,p.memoizedProps);break}case 5:if(ma(u,o),va(o),b&512&&(mn||p===null||sr(p,p.return)),zt){if(o.flags&32){x=o.stateNode;try{Wg(x)}catch(je){Qt(o,o.return,je)}}b&4&&o.stateNode!=null&&(x=o.memoizedProps,Lu(o,x,p!==null?p.memoizedProps:x)),b&1024&&(vc=!0)}break;case 6:if(ma(u,o),va(o),b&4&&zt){if(o.stateNode===null)throw Error(r(162));b=o.memoizedProps,p=p!==null?p.memoizedProps:b,x=o.stateNode;try{Ig(x,p,b)}catch(je){Qt(o,o.return,je)}}break;case 3:if(ja?(Ls(),x=mi,mi=kl(u.containerInfo),ma(u,o),mi=x):ma(u,o),va(o),b&4){if(zt&&Qa&&p!==null&&p.memoizedState.isDehydrated)try{dp(u.containerInfo)}catch(je){Qt(o,o.return,je)}if(mr){b=u.containerInfo,p=u.pendingChildren;try{zh(b,p)}catch(je){Qt(o,o.return,je)}}}vc&&(vc=!1,xi(o));break;case 4:ja?(p=mi,mi=kl(o.stateNode.containerInfo),ma(u,o),va(o),mi=p):(ma(u,o),va(o)),b&4&&mr&&Cl(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:ma(u,o),va(o);break;case 13:ma(u,o),va(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Xf=ln()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,dh(o,b)));break;case 22:x=o.memoizedState!==null;var P=p!==null&&p.memoizedState!==null,Y=xa,ne=mn;if(xa=Y||x,mn=ne||P,ma(u,o),mn=ne,xa=Y,va(o),b&8192&&(u=o.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(p===null||P||xa||mn||Fn(o)),zt)){e:if(p=null,zt)for(u=o;;){if(u.tag===5||ja&&u.tag===26){if(p===null){P=p=u;try{C=P.stateNode,x?ep(C):jf(P.stateNode,P.memoizedProps)}catch(je){Qt(P,P.return,je)}}}else if(u.tag===6){if(p===null){P=u;try{var Te=P.stateNode;x?No(Te):tp(Te,P.memoizedProps)}catch(je){Qt(P,P.return,je)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}b&4&&(b=o.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,dh(o,p))));break;case 19:ma(u,o),va(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,dh(o,b)));break;case 30:break;case 21:break;default:ma(u,o),va(o)}}function va(o){var u=o.flags;if(u&2){try{if(zt){for(var p,b=o.return;b!==null;){if(So(b)){p=b;break}b=b.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:if(jt){var x=p.stateNode,C=ku(o);lr(o,C,x);break}case 5:var P=p.stateNode;p.flags&32&&(Wg(P),p.flags&=-33);var Y=ku(o);lr(o,Y,P);break;case 3:case 4:var ne=p.stateNode.containerInfo,Te=ku(o);vf(o,Te,ne);break;default:throw Error(r(161))}}}catch(je){Qt(o,o.return,je)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function xi(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;xi(u),u.tag===5&&u.flags&1024&&Rh(u.stateNode),o=o.sibling}}function Kr(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Es(o,u.alternate,u),u=u.sibling}function Fn(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Zr(4,u,u.return),Fn(u);break;case 1:sr(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&ch(u,u.return,p),Fn(u);break;case 27:jt&&Pf(u.stateNode);case 26:case 5:sr(u,u.return),Fn(u);break;case 22:u.memoizedState===null&&Fn(u);break;case 30:Fn(u);break;default:Fn(u)}o=o.sibling}}function Yn(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var b=u.alternate,x=o,C=u,P=C.flags;switch(C.tag){case 0:case 11:case 15:Yn(x,C,p),_o(4,C);break;case 1:if(Yn(x,C,p),b=C,x=b.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Te){Qt(b,b.return,Te)}if(b=C,x=b.updateQueue,x!==null){var Y=b.stateNode;try{var ne=x.shared.hiddenCallbacks;if(ne!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ne.length;x++)Ft(ne[x],Y)}catch(Te){Qt(b,b.return,Te)}}p&&P&64&&uh(C),xl(C,C.return);break;case 27:jt&&yf(C);case 26:case 5:Yn(x,C,p),p&&b===null&&P&4&&El(C),xl(C,C.return);break;case 12:Yn(x,C,p);break;case 13:Yn(x,C,p),p&&P&4&&Ng(x,C);break;case 22:C.memoizedState===null&&Yn(x,C,p),xl(C,C.return);break;case 30:break;default:Yn(x,C,p)}u=u.sibling}}function Cs(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&qe(p))}function Pu(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&qe(o))}function ci(o,u,p,b){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Bu(o,u,p,b),u=u.sibling}function Bu(o,u,p,b){var x=u.flags;switch(u.tag){case 0:case 11:case 15:ci(o,u,p,b),x&2048&&_o(9,u);break;case 1:ci(o,u,p,b);break;case 3:ci(o,u,p,b),x&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&qe(o)));break;case 12:if(x&2048){ci(o,u,p,b),o=u.stateNode;try{var C=u.memoizedProps,P=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(P,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ne){Qt(u,u.return,ne)}}else ci(o,u,p,b);break;case 13:ci(o,u,p,b);break;case 23:break;case 22:C=u.stateNode,P=u.alternate,u.memoizedState!==null?C._visibility&2?ci(o,u,p,b):or(o,u):C._visibility&2?ci(o,u,p,b):(C._visibility|=2,Ts(o,u,p,b,(u.subtreeFlags&10256)!==0)),x&2048&&Cs(P,u);break;case 24:ci(o,u,p,b),x&2048&&Pu(u.alternate,u);break;default:ci(o,u,p,b)}}function Ts(o,u,p,b,x){for(x=x&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var C=o,P=u,Y=p,ne=b,Te=P.flags;switch(P.tag){case 0:case 11:case 15:Ts(C,P,Y,ne,x),_o(8,P);break;case 23:break;case 22:var je=P.stateNode;P.memoizedState!==null?je._visibility&2?Ts(C,P,Y,ne,x):or(C,P):(je._visibility|=2,Ts(C,P,Y,ne,x)),x&&Te&2048&&Cs(P.alternate,P);break;case 24:Ts(C,P,Y,ne,x),x&&Te&2048&&Pu(P.alternate,P);break;default:Ts(C,P,Y,ne,x)}u=u.sibling}}function or(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,b=u,x=b.flags;switch(b.tag){case 22:or(p,b),x&2048&&Cs(b.alternate,b);break;case 24:or(p,b),x&2048&&Pu(b.alternate,b);break;default:or(p,b)}u=u.sibling}}function As(o){if(o.subtreeFlags&oa)for(o=o.child;o!==null;)Hu(o),o=o.sibling}function Hu(o){switch(o.tag){case 26:As(o),o.flags&oa&&(o.memoizedState!==null?es(mi,o.memoizedState,o.memoizedProps):ec(o.type,o.memoizedProps));break;case 5:As(o),o.flags&oa&&ec(o.type,o.memoizedProps);break;case 3:case 4:if(ja){var u=mi;mi=kl(o.stateNode.containerInfo),As(o),mi=u}else As(o);break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=oa,oa=16777216,As(o),oa=u):As(o));break;default:As(o)}}function Tl(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Gu(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var b=u[p];Rt=b,ur(b,o)}Tl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ia(o),o=o.sibling}function Ia(o){switch(o.tag){case 0:case 11:case 15:Gu(o),o.flags&2048&&Zr(9,o,o.return);break;case 3:Gu(o);break;case 12:Gu(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,wo(o)):Gu(o);break;default:Gu(o)}}function wo(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var b=u[p];Rt=b,ur(b,o)}Tl(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Zr(8,u,u.return),wo(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,wo(u));break;default:wo(u)}o=o.sibling}}function ur(o,u){for(;Rt!==null;){var p=Rt;switch(p.tag){case 0:case 11:case 15:Zr(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:qe(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Rt=b;else e:for(p=o;Rt!==null;){b=Rt;var x=b.sibling,C=b.return;if(fh(b),b===p){Rt=null;break e}if(x!==null){x.return=C,Rt=x;break e}Rt=C}}}function _f(o){var u=Pg(o);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(r(364));return u}if(o=Gg(o),o===null)throw Error(r(362));return o.stateNode.current}function xo(o,u){var p=o.tag;switch(u.$$typeof){case Ks:if(o.type===u.value)return!0;break;case ua:e:{for(u=u.value,o=[o,0],p=0;p<o.length;){var b=o[p++],x=b.tag,C=o[p++],P=u[C];if(x!==5&&x!==26&&x!==27||!Do(b)){for(;P!=null&&xo(b,P);)C++,P=u[C];if(C===u.length){u=!0;break e}else for(b=b.child;b!==null;)o.push(b,C),b=b.sibling}}u=!1}return u;case Vo:if((p===5||p===26||p===27)&&Mh(o.stateNode,u.value))return!0;break;case Vl:if((p===5||p===6||p===26||p===27)&&(o=Vg(o),o!==null&&0<=o.indexOf(u.value)))return!0;break;case Yo:if((p===5||p===26||p===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Ir(o){switch(o.$$typeof){case Ks:return"<"+(_(o.value)||"Unknown")+">";case ua:return":has("+(Ir(o)||"")+")";case Vo:return'[role="'+o.value+'"]';case Vl:return'"'+o.value+'"';case Yo:return'[data-testname="'+o.value+'"]';default:throw Error(r(365))}}function Sf(o,u){var p=[];o=[o,0];for(var b=0;b<o.length;){var x=o[b++],C=x.tag,P=o[b++],Y=u[P];if(C!==5&&C!==26&&C!==27||!Do(x)){for(;Y!=null&&xo(x,Y);)P++,Y=u[P];if(P===u.length)p.push(x);else for(x=x.child;x!==null;)o.push(x,P),x=x.sibling}}return p}function qu(o,u){if(!Mo)throw Error(r(363));o=_f(o),o=Sf(o,u),u=[],o=Array.from(o);for(var p=0;p<o.length;){var b=o[p++],x=b.tag;if(x===5||x===26||x===27)Do(b)||u.push(b.stateNode);else for(b=b.child;b!==null;)o.push(b),b=b.sibling}return u}function Qn(){if((st&2)!==0&&Ot!==0)return Ot&-Ot;if(rt.T!==null){var o=gn;return o!==0?o:qa()}return Ch()}function Al(){Oi===0&&(Oi=(Ot&536870912)===0||qt?B():536870912);var o=Ri.current;return o!==null&&(o.flags|=32),Oi}function ya(o,u,p){(o===Yt&&(Jt===2||Jt===9)||o.cancelPendingCommit!==null)&&(Ci(o,0),Xa(o,Ot,Oi,!1)),K(o,p),((st&2)===0||o!==Yt)&&(o===Yt&&((st&2)===0&&(Fs|=p),Mn===4&&Xa(o,Ot,Oi,!1)),Fe(o))}function Vu(o,u,p){if((st&6)!==0)throw Error(r(327));var b=!p&&(u&124)===0&&(u&o.expiredLanes)===0||N(o,u),x=b?fr(o,u):Vt(o,u,!0),C=b;do{if(x===0){Er&&!b&&Xa(o,u,0,!1);break}else{if(p=o.current.alternate,C&&!Ei(p)){x=Vt(o,u,!1),C=!1;continue}if(x===2){if(C=u,o.errorRecoveryDisabledLanes&C)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){u=P;e:{var Y=o;x=Qs;var ne=Qa&&Y.current.memoizedState.isDehydrated;if(ne&&(Ci(Y,P).flags|=256),P=Vt(Y,P,!1),P!==2){if(yc&&!ne){Y.errorRecoveryDisabledLanes|=C,Fs|=C,x=4;break e}C=Ea,Ea=x,C!==null&&(Ea===null?Ea=C:Ea.push.apply(Ea,C))}x=P}if(C=!1,x!==2)continue}}if(x===1){Ci(o,0),Xa(o,u,0,!0);break}e:{switch(b=o,C=x,C){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Xa(b,u,Oi,!ss);break e;case 2:Ea=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(x=Xf+300-ln(),10<x)){if(Xa(b,u,Oi,!ss),j(b,0,!0)!==0)break e;b.timeoutHandle=Df(fi.bind(null,b,p,Ea,bc,$s,u,Oi,Fs,vi,ss,C,2,-0,0),x);break e}fi(b,p,Ea,bc,$s,u,Oi,Fs,vi,ss,C,0,-0,0)}}break}while(!0);Fe(o)}function fi(o,u,p,b,x,C,P,Y,ne,Te,je,Ge,Ve,xt){if(o.timeoutHandle=Ai,Ge=u.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(Wu(),Hu(u),Ge=Ah(),Ge!==null)){o.cancelPendingCommit=Ge(vh.bind(null,o,u,C,p,b,x,P,Y,ne,je,1,Ve,xt)),Xa(o,C,P,!Te);return}vh(o,u,C,p,b,x,P,Y,ne)}function Ei(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var x=p[b],C=x.getSnapshot;x=x.value;try{if(!hi(C(),x))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Xa(o,u,p,b){u&=~If,u&=~Fs,o.suspendedLanes|=u,o.pingedLanes&=~u,b&&(o.warmLanes|=u),b=o.expirationTimes;for(var x=u;0<x;){var C=31-Wa(x),P=1<<C;b[C]=-1,x&=~P}p!==0&&oe(o,p,u)}function cr(){return(st&6)===0?(_t(0),!1):!0}function Vi(){if(St!==null){if(Jt===0)var o=St.return;else o=St,Sa=Xi=null,pa(o),Sr=null,Go=0,o=St;for(;o!==null;)bo(o.alternate,o),o=o.return;St=null}}function Ci(o,u){var p=o.timeoutHandle;p!==Ai&&(o.timeoutHandle=Ai,Ju(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Vi(),Yt=o,St=p=Xr(o.current,null),Ot=u,Jt=0,Pa=null,ss=!1,Er=N(o,u),yc=!1,vi=Oi=If=Fs=Vn=Mn=0,Ea=Qs=null,$s=!1,(u&8)!==0&&(u|=u&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=u;0<b;){var x=31-Wa(b),C=1<<x;u|=o[x],b&=~C}return Un=u,hl(),p}function gh(o,u){Et=null,rt.H=Zs,u===Bo||u===cn?(u=Pr(),Jt=3):u===Kf?(u=Pr(),Jt=4):Jt=u===Bt?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Pa=u,St===null&&(Mn=1,lf(o,X(u,o.current)))}function wf(){var o=Ri.current;return o===null?!0:(Ot&4194048)===Ot?wr===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?o===wr:!1}function xf(){var o=rt.H;return rt.H=Zs,o===null?Zs:o}function ba(){var o=rt.A;return rt.A=qo,o}function xn(){Mn=4,ss||(Ot&4194048)!==Ot&&Ri.current!==null||(Er=!0),(Vn&134217727)===0&&(Fs&134217727)===0||Yt===null||Xa(Yt,Ot,Oi,!1)}function Vt(o,u,p){var b=st;st|=2;var x=xf(),C=ba();(Yt!==o||Ot!==u)&&(bc=null,Ci(o,u)),u=!1;var P=Mn;e:do try{if(Jt!==0&&St!==null){var Y=St,ne=Pa;switch(Jt){case 8:Vi(),P=6;break e;case 3:case 2:case 9:case 6:Ri.current===null&&(u=!0);var Te=Jt;if(Jt=0,Pa=null,Ol(o,Y,ne,Te),p&&Er){P=0;break e}break;default:Te=Jt,Jt=0,Pa=null,Ol(o,Y,ne,Te)}}Rl(),P=Mn;break}catch(je){gh(o,je)}while(!0);return u&&o.shellSuspendCounter++,Sa=Xi=null,st=b,rt.H=x,rt.A=C,St===null&&(Yt=null,Ot=0,hl()),P}function Rl(){for(;St!==null;)Rs(St)}function fr(o,u){var p=st;st|=2;var b=xf(),x=ba();Yt!==o||Ot!==u?(bc=null,Zo=ln()+500,Ci(o,u)):Er=N(o,u);e:do try{if(Jt!==0&&St!==null){u=St;var C=Pa;t:switch(Jt){case 1:Jt=0,Pa=null,Ol(o,u,C,1);break;case 2:case 9:if(Kc(C)){Jt=0,Pa=null,mh(u);break}u=function(){Jt!==2&&Jt!==9||Yt!==o||(Jt=7),Fe(o)},C.then(u,u);break e;case 3:Jt=7;break e;case 4:Jt=5;break e;case 7:Kc(C)?(Jt=0,Pa=null,mh(u)):(Jt=0,Pa=null,Ol(o,u,C,7));break;case 5:var P=null;switch(St.tag){case 26:P=St.memoizedState;case 5:case 27:var Y=St,ne=Y.type,Te=Y.pendingProps;if(P?Wr(P):Nf(ne,Te)){Jt=0,Pa=null;var je=Y.sibling;if(je!==null)St=je;else{var Ge=Y.return;Ge!==null?(St=Ge,Os(Ge)):St=null}break t}}Jt=0,Pa=null,Ol(o,u,C,5);break;case 6:Jt=0,Pa=null,Ol(o,u,C,6);break;case 8:Vi(),Mn=6;break e;default:throw Error(r(462))}}ph();break}catch(Ve){gh(o,Ve)}while(!0);return Sa=Xi=null,rt.H=b,rt.A=x,st=p,St!==null?0:(Yt=null,Ot=0,hl(),Mn)}function ph(){for(;St!==null&&!Bv();)Rs(St)}function Rs(o){var u=ju(o.alternate,o,Un);o.memoizedProps=o.pendingProps,u===null?Os(o):St=u}function mh(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=Rg(p,u,u.pendingProps,u.type,void 0,Ot);break;case 11:u=Rg(p,u,u.pendingProps,u.type.render,u.ref,Ot);break;case 5:pa(u);default:bo(p,u),u=St=Pn(u,Un),u=ju(p,u,Un)}o.memoizedProps=o.pendingProps,u===null?Os(o):St=u}function Ol(o,u,p,b){Sa=Xi=null,pa(u),Sr=null,Go=0;var x=u.return;try{if(Mv(o,x,u,p,Ot)){Mn=1,lf(o,X(p,o.current)),St=null;return}}catch(C){if(x!==null)throw St=x,C;Mn=1,lf(o,X(p,o.current)),St=null;return}u.flags&32768?(qt||b===1?o=!0:Er||(Ot&536870912)!==0?o=!1:(ss=o=!0,(b===2||b===9||b===3||b===6)&&(b=Ri.current,b!==null&&b.tag===13&&(b.flags|=16384))),Eo(u,o)):Os(u)}function Os(o){var u=o;do{if((u.flags&32768)!==0){Eo(u,ss);return}o=u.return;var p=Nv(u.alternate,u,Un);if(p!==null){St=p;return}if(u=u.sibling,u!==null){St=u;return}St=u=o}while(u!==null);Mn===0&&(Mn=5)}function Eo(o,u){do{var p=ui(o.alternate,o);if(p!==null){p.flags&=32767,St=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){St=o;return}St=o=p}while(o!==null);Mn=6,St=null}function vh(o,u,p,b,x,C,P,Y,ne){o.cancelPendingCommit=null;do Ti();while(Zn!==0);if((st&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(C=u.lanes|u.childLanes,C|=Qh,$(o,p,C,P,Y,ne),o===Yt&&(St=Yt=null,Ot=0),Ko=u,Js=o,Io=p,Ff=C,Qf=x,Yl=b,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,jg(Gf,function(){return hr(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||b){b=rt.T,rt.T=null,x=Zi(),$n(2),P=st,st|=4;try{Dg(o,u,p)}finally{st=P,$n(x),rt.T=b}}Zn=1,Co(),Ef(),Ms()}}function Co(){if(Zn===1){Zn=0;var o=Js,u=Ko,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=rt.T,rt.T=null;var b=Zi();$n(2);var x=st;st|=4;try{hh(u,o),At(o.containerInfo)}finally{st=x,$n(b),rt.T=p}}o.current=u,Zn=2}}function Ef(){if(Zn===2){Zn=0;var o=Js,u=Ko,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=rt.T,rt.T=null;var b=Zi();$n(2);var x=st;st|=4;try{Es(o,u.alternate,u)}finally{st=x,$n(b),rt.T=p}}Zn=3}}function Ms(){if(Zn===4||Zn===3){Zn=0,vp();var o=Js,u=Ko,p=Io,b=Yl;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Zn=5:(Zn=0,Ko=Js=null,dr(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(Cr=null),pe(p),u=u.stateNode,za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(ks,u,void 0,(u.current.flags&128)===128)}catch{}if(b!==null){u=rt.T,x=Zi(),$n(2),rt.T=null;try{for(var C=o.onRecoverableError,P=0;P<b.length;P++){var Y=b[P];C(Y.value,{componentStack:Y.stack})}}finally{rt.T=u,$n(x)}}(Io&3)!==0&&Ti(),Fe(o),x=o.pendingLanes,(p&4194090)!==0&&(x&42)!==0?o===$f?Ws++:(Ws=0,$f=o):Ws=0,_t(0)}}function dr(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,qe(u)))}function Ti(o){return Co(),Ef(),Ms(),hr()}function hr(){if(Zn!==5)return!1;var o=Js,u=Ff;Ff=0;var p=pe(Io),b=32>p?32:p;p=rt.T;var x=Zi();try{$n(b),rt.T=null,b=Qf,Qf=null;var C=Js,P=Io;if(Zn=0,Ko=Js=null,Io=0,(st&6)!==0)throw Error(r(331));var Y=st;if(st|=4,Ia(C.current),Bu(C,C.current,P,b),st=Y,_t(0,!1),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(ks,C)}catch{}return!0}finally{$n(x),rt.T=p,dr(o,u)}}function Cf(o,u,p){u=X(p,u),u=of(o.stateNode,u,2),o=Ie(o,u,2),o!==null&&(K(o,2),Fe(o))}function Qt(o,u,p){if(o.tag===3)Cf(o,o,p);else for(;u!==null;){if(u.tag===3){Cf(u,o,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Cr===null||!Cr.has(b))){o=X(p,o),p=Sg(2),b=Ie(u,p,2),b!==null&&(wg(p,b,u,o),K(b,2),Fe(b));break}}u=u.return}}function Ml(o,u,p){var b=o.pingCache;if(b===null){b=o.pingCache=new Xs;var x=new Set;b.set(u,x)}else x=b.get(u),x===void 0&&(x=new Set,b.set(u,x));x.has(p)||(yc=!0,x.add(p),o=Tf.bind(null,o,u,p),u.then(o,o))}function Tf(o,u,p){var b=o.pingCache;b!==null&&b.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Yt===o&&(Ot&p)===p&&(Mn===4||Mn===3&&(Ot&62914560)===Ot&&300>ln()-Xf?(st&2)===0&&Ci(o,0):If|=p,vi===Ot&&(vi=0)),Fe(o)}function Ds(o,u){u===0&&(u=G()),o=le(o,u),o!==null&&(K(o,u),Fe(o))}function _a(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),Ds(o,p)}function Af(o,u){var p=0;switch(o.tag){case 13:var b=o.stateNode,x=o.memoizedState;x!==null&&(p=x.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(u),Ds(o,p)}function jg(o,u){return oc(o,u)}function zv(o,u,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Xr(o,u){var p=o.alternate;return p===null?(p=n(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Pn(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function To(o,u,p,b,x,C){var P=0;if(b=o,typeof o=="function")yh(o)&&(P=1);else if(typeof o=="string")P=ja&&jt?ic(o,p,bn.current)?26:Kh(o)?27:5:ja?ic(o,p,bn.current)?26:5:jt&&Kh(o)?27:5;else e:switch(o){case Ll:return o=n(31,p,u,x),o.elementType=Ll,o.lanes=C,o;case Ul:return Yi(p.children,x,C,u);case Zu:P=8,x|=24;break;case Of:return o=n(12,p,u,x|2),o.elementType=Of,o.lanes=C,o;case Iu:return o=n(13,p,u,x),o.elementType=Iu,o.lanes=C,o;case Xu:return o=n(19,p,u,x),o.elementType=Xu,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ku:case Qr:P=10;break e;case Sh:P=9;break e;case gr:P=11;break e;case pr:P=14;break e;case Na:P=16,b=null;break e}P=29,p=Error(r(130,o===null?"null":typeof o,"")),b=null}return u=n(P,p,u,x),u.elementType=o,u.type=b,u.lanes=C,u}function Yi(o,u,p,b){return o=n(7,o,b,u),o.lanes=p,o}function Dl(o,u,p){return o=n(6,o,null,u),o.lanes=p,o}function Yu(o,u,p){return u=n(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function Ao(o,u,p,b,x,C,P,Y){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ai,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=b,this.onUncaughtError=x,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Nl(o,u,p,b,x,C,P,Y,ne,Te,je,Ge){return o=new Ao(o,u,p,P,Y,ne,Te,Ge),u=1,C===!0&&(u|=24),C=n(3,null,null,u),o.current=C,C.stateNode=o,u=Ne(),u.refCount++,o.pooledCache=u,u.refCount++,C.memoizedState={element:b,isDehydrated:p,cache:u},Qe(C),o}function zg(o){return o?(o=Bl,o):Bl}function bh(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?g(o):null,o===null?null:Oo(o.stateNode)}function Ug(o,u,p,b,x,C){x=zg(x),b.context===null?b.context=x:b.pendingContext=x,b=Ze(u),b.payload={element:p},C=C===void 0?null:C,C!==null&&(b.callback=C),p=Ie(o,b,u),p!==null&&(ya(p,o,u),tt(p,o,u))}function _h(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function Fr(o,u){_h(o,u),(o=o.alternate)&&_h(o,u)}var Tt={},Rf=Jm(),Fa=Fy(),jl=Object.assign,Lg=Symbol.for("react.element"),zl=Symbol.for("react.transitional.element"),Ns=Symbol.for("react.portal"),Ul=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),Ku=Symbol.for("react.provider"),Sh=Symbol.for("react.consumer"),Qr=Symbol.for("react.context"),gr=Symbol.for("react.forward_ref"),Iu=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),pr=Symbol.for("react.memo"),Na=Symbol.for("react.lazy"),Ll=Symbol.for("react.activity"),wh=Symbol.for("react.memo_cache_sentinel"),Mf=Symbol.iterator,Fu=Symbol.for("react.client.reference"),js=Array.isArray,rt=Rf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kg=e.rendererVersion,Ro=e.rendererPackageName,Qu=e.extraDevToolsConfig,Oo=e.getPublicInstance,xh=e.getRootHostContext,Eh=e.getChildHostContext,zs=e.prepareForCommit,At=e.resetAfterCommit,sn=e.createInstance;e.cloneMutableInstance;var jn=e.appendInitialChild,$u=e.finalizeInitialChildren,$r=e.shouldSetTextContent,Us=e.createTextInstance;e.cloneMutableTextInstance;var Df=e.scheduleTimeout,Ju=e.cancelTimeout,Ai=e.noTimeout,Jr=e.isPrimaryRenderer;e.warnsIfNotActing;var zt=e.supportsMutation,mr=e.supportsPersistence,Qa=e.supportsHydration,Pg=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Bg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var $n=e.setCurrentUpdatePriority,Zi=e.getCurrentUpdatePriority,Ch=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Th=e.shouldAttemptEagerTransition,$a=e.detachDeletedInstance;e.requestPostPaintCallback;var Bn=e.maySuspendCommit,Nf=e.preloadInstance,Wu=e.startSuspendingCommit,ec=e.suspendInstance;e.suspendOnActiveViewTransition;var Ah=e.waitForCommitToBeReady,Ja=e.NotPendingTransition,vr=e.HostTransitionContext,Rh=e.resetFormInstance;e.bindToConsole;var Oh=e.supportsMicrotasks,Hg=e.scheduleMicrotask,Mo=e.supportsTestSelectors,Gg=e.findFiberRoot,qg=e.getBoundingRect,Vg=e.getTextContent,Do=e.isHiddenSubtree,Mh=e.matchAccessibilityRole,Yg=e.setFocusIfFocusable,Uv=e.setupIntersectionObserver,Zg=e.appendChild,Kg=e.appendChildToContainer,Ig=e.commitTextUpdate,Dh=e.commitMount,Xg=e.commitUpdate,Fg=e.insertBefore,Qg=e.insertInContainerBefore,$g=e.removeChild,Jg=e.removeChildFromContainer,Wg=e.resetTextContent,ep=e.hideInstance,No=e.hideTextInstance,jf=e.unhideInstance,tp=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var zf=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var tc=e.cloneInstance,Nh=e.createContainerChildSet,jh=e.appendChildToContainerChildSet,np=e.finalizeContainerChildren,zh=e.replaceContainerChildren,Uh=e.cloneHiddenInstance,Lh=e.cloneHiddenTextInstance,nc=e.isSuspenseInstancePending,Uf=e.isSuspenseInstanceFallback,ap=e.getSuspenseInstanceFallbackErrorDetails,kh=e.registerSuspenseInstanceRetry,ip=e.canHydrateFormStateMarker,rp=e.isFormStateMarkerMatching,sp=e.getNextHydratableSibling,Ph=e.getNextHydratableSiblingAfterSingleton,lp=e.getFirstHydratableChild,op=e.getFirstHydratableChildWithinContainer,Bh=e.getFirstHydratableChildWithinSuspenseInstance,up=e.getFirstHydratableChildWithinSingleton,cp=e.canHydrateInstance,Lv=e.canHydrateTextInstance,kv=e.canHydrateSuspenseInstance,fp=e.hydrateInstance,ac=e.hydrateTextInstance,Hh=e.hydrateSuspenseInstance,Lf=e.getNextHydratableInstanceAfterSuspenseInstance,dp=e.commitHydratedContainer,hp=e.commitHydratedSuspenseInstance,kf=e.clearSuspenseBoundary,gp=e.clearSuspenseBoundaryFromContainer,Gh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Pv=e.validateHydratableInstance,jo=e.validateHydratableTextInstance,ja=e.supportsResources,ic=e.isHostHoistableType,kl=e.getHoistableRoot,rc=e.getResource,qh=e.acquireResource,Vh=e.releaseResource,zo=e.hydrateHoistable,Yh=e.mountHoistable,di=e.unmountHoistable,yr=e.createHoistableInstance,Ls=e.prepareToCommitHoistables,pp=e.mayResourceSuspendCommit,Wr=e.preloadResource,es=e.suspendResource,jt=e.supportsSingletons,sc=e.resolveSingletonInstance,Zh=e.acquireSingletonInstance,Pf=e.releaseSingletonInstance,Kh=e.isHostSingletonType,Pl=e.isSingletonScope,ts=[],ns=-1,Bl={},Wa=Math.clz32?Math.clz32:R,mp=Math.log,Bf=Math.LN2,lc=256,Uo=4194304,oc=Fa.unstable_scheduleCallback,Hf=Fa.unstable_cancelCallback,Bv=Fa.unstable_shouldYield,vp=Fa.unstable_requestPaint,ln=Fa.unstable_now,Jn=Fa.unstable_ImmediatePriority,yp=Fa.unstable_UserBlockingPriority,Gf=Fa.unstable_NormalPriority,bp=Fa.unstable_IdlePriority,_p=Fa.log,Sp=Fa.unstable_setDisableYieldValue,ks=null,za=null,qf,Ih,Vf=!1,Yf=new WeakMap,Ps=[],Bs=0,uc=null,Lo=0,Ua=[],ei=0,Hs=null,Ki=1,br="",bn=S(null),Hl=S(null),Gs=S(null),cc=S(null),On=null,Hn=null,qt=!1,Ii=null,Xt=!1,Xh=Error(r(519)),hi=typeof Object.is=="function"?Object.is:Ha,fc=S(null),Xi=null,Sa=null,wp=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,b){o.push(b)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},xp=Fa.unstable_scheduleCallback,dc=Fa.unstable_NormalPriority,$t={$$typeof:Qr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},hc=null,qs=null,Zf=!1,ko=!1,gc=!1,as=0,Po=null,Fi=0,gn=0,Vs=null,Fh=rt.S;rt.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Ur(o,u),Fh!==null&&Fh(o,u)};var En=S(null),Hv=Object.prototype.hasOwnProperty,Bo=Error(r(460)),Kf=Error(r(474)),cn=Error(r(542)),la={then:function(){}},ti=null,gi=[],Gl=0,Qh=0,_r=!1,La=!1,wa=S(null),pc=S(0),Gn=0,Et=null,Pt=null,pn=null,Qi=!1,Ys=!1,is=!1,pi=0,Ho=0,$i=null,mc=0,Zs={readContext:de,use:hn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},ql={readContext:de,use:hn,useCallback:function(o,u){return ut().memoizedState=[o,u===void 0?null:u],o},useContext:de,useEffect:$d,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,Au(4194308,4,go.bind(null,u,o),p)},useLayoutEffect:function(o,u){return Au(4194308,4,o,u)},useInsertionEffect:function(o,u){Au(4,2,o,u)},useMemo:function(o,u){var p=ut();u=u===void 0?null:u;var b=o();if(is){ye(!0);try{o()}finally{ye(!1)}}return p.memoizedState=[b,u],b},useReducer:function(o,u,p){var b=ut();if(p!==void 0){var x=p(u);if(is){ye(!0);try{p(u)}finally{ye(!1)}}}else x=u;return b.memoizedState=b.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},b.queue=o,o=o.dispatch=eh.bind(null,Et,o),[b.memoizedState,o]},useRef:function(o){var u=ut();return o={current:o},u.memoizedState=o},useState:function(o){o=Fc(o);var u=o.queue,p=tf.bind(null,Et,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:Ru,useDeferredValue:function(o,u){var p=ut();return po(p,o,u)},useTransition:function(){var o=Fc(!1);return o=Wd.bind(null,Et,o.queue,!0,!1),ut().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var b=Et,x=ut();if(qt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Yt===null)throw Error(r(349));(Ot&124)!==0||Zd(b,u,p)}x.memoizedState=p;var C={value:p,getSnapshot:u};return x.queue=C,$d(fg.bind(null,b,C,o),[o]),b.flags|=2048,Ss(9,Br(),Tu.bind(null,b,C,p,u),null),p},useId:function(){var o=ut(),u=Yt.identifierPrefix;if(qt){var p=br,b=Ki;p=(b&~(1<<32-Wa(b)-1)).toString(32)+p,u=""+u+"R"+p,p=pi++,0<p&&(u+="H"+p.toString(32)),u+=""}else p=mc++,u=""+u+"r"+p.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:Gr,useFormState:$c,useActionState:$c,useOptimistic:function(o){var u=ut();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=vo.bind(null,Et,!0,p),p.dispatch=u,[o,u]},useMemoCache:_s,useCacheRefresh:function(){return ut().memoizedState=Ov.bind(null,Et)}},$h={readContext:de,use:hn,useCallback:Ou,useContext:de,useEffect:ho,useImperativeHandle:Hr,useInsertionEffect:rr,useLayoutEffect:ef,useMemo:Jd,useReducer:ra,useRef:vl,useState:function(){return ra(si)},useDebugValue:Ru,useDeferredValue:function(o,u){var p=Dt();return Mu(p,Pt.memoizedState,o,u)},useTransition:function(){var o=ra(si)[0],u=Dt().memoizedState;return[typeof o=="boolean"?o:Ma(o),u]},useSyncExternalStore:Cu,useId:Du,useHostTransitionStatus:Gr,useFormState:dg,useActionState:dg,useOptimistic:function(o,u){var p=Dt();return Qc(p,Pt,o,u)},useMemoCache:_s,useCacheRefresh:mo},Ep={readContext:de,use:hn,useCallback:Ou,useContext:de,useEffect:ho,useImperativeHandle:Hr,useInsertionEffect:rr,useLayoutEffect:ef,useMemo:Jd,useReducer:Yd,useRef:vl,useState:function(){return Yd(si)},useDebugValue:Ru,useDeferredValue:function(o,u){var p=Dt();return Pt===null?po(p,o,u):Mu(p,Pt.memoizedState,o,u)},useTransition:function(){var o=Yd(si)[0],u=Dt().memoizedState;return[typeof o=="boolean"?o:Ma(o),u]},useSyncExternalStore:Cu,useId:Du,useHostTransitionStatus:Gr,useFormState:Wc,useActionState:Wc,useOptimistic:function(o,u){var p=Dt();return Pt!==null?Qc(p,Pt,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:_s,useCacheRefresh:mo},Sr=null,Go=0,rs=vg(!0),Jh=vg(!1),Ri=S(null),wr=null,pt=S(0),on={enqueueSetState:function(o,u,p){o=o._reactInternals;var b=Qn(),x=Ze(b);x.payload=u,p!=null&&(x.callback=p),u=Ie(o,x,b),u!==null&&(ya(u,o,b),tt(u,o,b))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var b=Qn(),x=Ze(b);x.tag=1,x.payload=u,p!=null&&(x.callback=p),u=Ie(o,x,b),u!==null&&(ya(u,o,b),tt(u,o,b))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Qn(),b=Ze(p);b.tag=2,u!=null&&(b.callback=u),u=Ie(o,b,p),u!==null&&(ya(u,o,p),tt(u,o,p))}},Nt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Bt=Error(r(461)),mt=!1,ka={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},xa=!1,mn=!1,vc=!1,xr=typeof WeakSet=="function"?WeakSet:Set,Rt=null,fn=null,qn=!1,mi=null,oa=8192,qo={getCacheForType:function(o){var u=de($t),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p}},Ks=0,ua=1,Vo=2,Yo=3,Vl=4;if(typeof Symbol=="function"&&Symbol.for){var Is=Symbol.for;Ks=Is("selector.component"),ua=Is("selector.has_pseudo_class"),Vo=Is("selector.role"),Yo=Is("selector.test_id"),Vl=Is("selector.text")}var Xs=typeof WeakMap=="function"?WeakMap:Map,st=0,Yt=null,St=null,Ot=0,Jt=0,Pa=null,ss=!1,Er=!1,yc=!1,Un=0,Mn=0,Vn=0,Fs=0,If=0,Oi=0,vi=0,Qs=null,Ea=null,$s=!1,Xf=0,Zo=1/0,bc=null,Cr=null,Zn=0,Js=null,Ko=null,Io=0,Ff=0,Qf=null,Yl=null,Ws=0,$f=null;return Tt.attemptContinuousHydration=function(o){if(o.tag===13){var u=le(o,67108864);u!==null&&ya(u,o,67108864),Fr(o,67108864)}},Tt.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var u=Qn();u=Re(u);var p=le(o,u);p!==null&&ya(p,o,u),Fr(o,u)}},Tt.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var u=O(o.pendingLanes);if(u!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;u;){var p=1<<31-Wa(u);o.entanglements[1]|=p,u&=~p}Fe(o),(st&6)===0&&(Zo=ln()+500,_t(0))}}break;case 13:u=le(o,2),u!==null&&ya(u,o,2),cr(),Fr(o,2)}},Tt.batchedUpdates=function(o,u){return o(u)},Tt.createComponentSelector=function(o){return{$$typeof:Ks,value:o}},Tt.createContainer=function(o,u,p,b,x,C,P,Y,ne,Te){return Nl(o,u,!1,null,p,b,C,P,Y,ne,Te,null)},Tt.createHasPseudoClassSelector=function(o){return{$$typeof:ua,value:o}},Tt.createHydrationContainer=function(o,u,p,b,x,C,P,Y,ne,Te,je,Ge,Ve){return o=Nl(p,b,!0,o,x,C,Y,ne,Te,je,Ge,Ve),o.context=zg(null),p=o.current,b=Qn(),b=Re(b),x=Ze(b),x.callback=u??null,Ie(p,x,b),u=b,o.current.lanes=u,K(o,u),Fe(o),o},Tt.createPortal=function(o,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:b==null?null:""+b,children:o,containerInfo:u,implementation:p}},Tt.createRoleSelector=function(o){return{$$typeof:Vo,value:o}},Tt.createTestNameSelector=function(o){return{$$typeof:Yo,value:o}},Tt.createTextSelector=function(o){return{$$typeof:Vl,value:o}},Tt.defaultOnCaughtError=function(o){console.error(o)},Tt.defaultOnRecoverableError=function(o){Nt(o)},Tt.defaultOnUncaughtError=function(o){Nt(o)},Tt.deferredUpdates=function(o){var u=rt.T,p=Zi();try{return $n(32),rt.T=null,o()}finally{$n(p),rt.T=u}},Tt.discreteUpdates=function(o,u,p,b,x){var C=rt.T,P=Zi();try{return $n(2),rt.T=null,o(u,p,b,x)}finally{$n(P),rt.T=C,st===0&&(Zo=ln()+500)}},Tt.findAllNodes=qu,Tt.findBoundingRects=function(o,u){if(!Mo)throw Error(r(363));u=qu(o,u),o=[];for(var p=0;p<u.length;p++)o.push(qg(u[p]));for(u=o.length-1;0<u;u--){p=o[u];for(var b=p.x,x=b+p.width,C=p.y,P=C+p.height,Y=u-1;0<=Y;Y--)if(u!==Y){var ne=o[Y],Te=ne.x,je=Te+ne.width,Ge=ne.y,Ve=Ge+ne.height;if(b>=Te&&C>=Ge&&x<=je&&P<=Ve){o.splice(u,1);break}else if(b!==Te||p.width!==ne.width||Ve<C||Ge>P){if(!(C!==Ge||p.height!==ne.height||je<b||Te>x)){Te>b&&(ne.width+=Te-b,ne.x=b),je<x&&(ne.width=x-Te),o.splice(u,1);break}}else{Ge>C&&(ne.height+=Ge-C,ne.y=C),Ve<P&&(ne.height=P-Ge),o.splice(u,1);break}}}return o},Tt.findHostInstance=bh,Tt.findHostInstanceWithNoPortals=function(o){return o=d(o),o=o!==null?m(o):null,o===null?null:Oo(o.stateNode)},Tt.findHostInstanceWithWarning=function(o){return bh(o)},Tt.flushPassiveEffects=Ti,Tt.flushSyncFromReconciler=function(o){var u=st;st|=1;var p=rt.T,b=Zi();try{if($n(2),rt.T=null,o)return o()}finally{$n(b),rt.T=p,st=u,(st&6)===0&&_t(0)}},Tt.flushSyncWork=cr,Tt.focusWithin=function(o,u){if(!Mo)throw Error(r(363));for(o=_f(o),u=Sf(o,u),u=Array.from(u),o=0;o<u.length;){var p=u[o++],b=p.tag;if(!Do(p)){if((b===5||b===26||b===27)&&Yg(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},Tt.getFindAllNodesFailureDescription=function(o,u){if(!Mo)throw Error(r(363));var p=0,b=[];o=[_f(o),0];for(var x=0;x<o.length;){var C=o[x++],P=C.tag,Y=o[x++],ne=u[Y];if((P!==5&&P!==26&&P!==27||!Do(C))&&(xo(C,ne)&&(b.push(Ir(ne)),Y++,Y>p&&(p=Y)),Y<u.length))for(C=C.child;C!==null;)o.push(C,Y),C=C.sibling}if(p<u.length){for(o=[];p<u.length;p++)o.push(Ir(u[p]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},Tt.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Oo(o.child.stateNode);default:return o.child.stateNode}},Tt.injectIntoDevTools=function(){var o={bundleType:0,version:kg,rendererPackageName:Ro,currentDispatcherRef:rt,reconcilerVersion:"19.1.0"};if(Qu!==null&&(o.rendererConfig=Qu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)o=!0;else{try{ks=u.inject(o),za=u}catch{}o=!!u.checkDCE}}return o},Tt.isAlreadyRendering=function(){return(st&6)!==0},Tt.observeVisibleRects=function(o,u,p,b){if(!Mo)throw Error(r(363));o=qu(o,u);var x=Uv(o,p,b).disconnect;return{disconnect:function(){x()}}},Tt.shouldError=function(){return null},Tt.shouldSuspend=function(){return!1},Tt.startHostTransition=function(o,u,p,b){if(o.tag!==5)throw Error(r(476));var x=Da(o).queue;Wd(o,x,u,Ja,p===null?a:function(){var C=Da(o).next.queue;return qr(o,C,{},Qn()),p(b)})},Tt.updateContainer=function(o,u,p,b){var x=u.current,C=Qn();return Ug(x,C,o,u,p,b),C},Tt.updateContainerSync=function(o,u,p,b){return Ug(u.current,2,o,u,p,b),2},Tt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(G1)),G1.exports}var v4;function XR(){return v4||(v4=1,H1.exports=IR()),H1.exports}var FR=XR();const QR=$m(FR);var q1={exports:{}},Kl={};var y4;function $R(){return y4||(y4=1,Kl.ConcurrentRoot=1,Kl.ContinuousEventPriority=8,Kl.DefaultEventPriority=32,Kl.DiscreteEventPriority=2,Kl.IdleEventPriority=268435456,Kl.LegacyRoot=0,Kl.NoEventPriority=0),Kl}var b4;function JR(){return b4||(b4=1,q1.exports=$R()),q1.exports}var lv=JR();const _4={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let S4=!1,w4=!1;const km=".react-konva-event",WR=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,eO=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,tO={};function ov(t,e,n=tO){if(!S4&&"zIndex"in e&&(console.warn(eO),S4=!0),!w4&&e.draggable){var a=e.x!==void 0||e.y!==void 0,r=e.onDragEnd||e.onDragMove;a&&!r&&(console.warn(WR),w4=!0)}for(var l in n)if(!_4[l]){var c=l.slice(0,2)==="on",d=n[l]!==e[l];if(c&&d){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),t.off(g,n[l])}var m=!e.hasOwnProperty(l);m&&t.setAttr(l,void 0)}var v=e._useStrictMode,_={},S=!1;const E={};for(var l in e)if(!_4[l]){var c=l.slice(0,2)==="on",T=n[l]!==e[l];if(c&&T){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(E[g]=e[l])}!c&&(e[l]!==n[l]||v&&e[l]!==t.getAttr(l))&&(S=!0,_[l]=e[l])}S&&(t.setAttrs(_),Su(t));for(var g in E)t.off(g+km),t.on(g+km,E[g])}function Su(t){if(!Be.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var V1=Fy();const CS={},nO={};Ld.Node.prototype._applyProps=ov;let TS=lv.DefaultEventPriority;function aO(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Su(t)}function iO(t,e,n){let a=Ld[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Ld.Group);const r={},l={};for(var c in e)if(c!=="ref"){var d=c.slice(0,2)==="on";d?l[c]=e[c]:r[c]=e[c]}const g=new a(r);return ov(g,l),g}function rO(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function sO(t,e,n){return!1}function lO(t){return t}function oO(){return null}function uO(){return null}function cO(t,e,n,a){return nO}function fO(){}function dO(t){}function hO(t,e){return!1}function gO(){return CS}function pO(){return CS}const mO=setTimeout,vO=clearTimeout,yO=!0,bO=t=>{t()},_O=-1;function SO(t,e){return!1}const wO=!1,xO=!1,EO=!0,CO=!1,TO=!1;function AO(t,e){e.parent===t?e.moveToTop():t.add(e),Su(t)}function RO(t,e){e.parent===t?e.moveToTop():t.add(e),Su(t)}function AS(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Su(t)}function OO(t,e,n){AS(t,e,n)}function MO(t,e){e.destroy(),e.off(km),Su(t)}function DO(t,e){e.destroy(),e.off(km),Su(t)}function NO(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function jO(t,e,n){}function zO(t,e,n,a){ov(t,a,n)}function UO(t){t.hide(),Su(t)}function LO(t){}function kO(t,e){(e.visible==null||e.visible)&&t.show()}function PO(t,e){}function BO(t){}function HO(){}function GO(){return lv.DefaultEventPriority}function qO(){}function VO(){return null}function YO(t){TS=t}function ZO(){return TS}function KO(){return lv.DiscreteEventPriority}function IO(){return!1}function XO(){}function FO(){return!1}function QO(){return!0}function $O(){}function JO(){}function WO(){return null}const eM=null;function tM(){}const nM=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:eM,appendChild:AO,appendChildToContainer:RO,appendInitialChild:aO,cancelTimeout:vO,clearContainer:BO,commitMount:jO,commitTextUpdate:NO,commitUpdate:zO,createInstance:iO,createTextInstance:rO,detachDeletedInstance:HO,finalizeInitialChildren:sO,getChildHostContext:pO,getCurrentEventPriority:GO,getCurrentUpdatePriority:ZO,getInstanceFromScope:VO,getPublicInstance:lO,getRootHostContext:gO,hideInstance:UO,hideTextInstance:LO,idlePriority:V1.unstable_IdlePriority,insertBefore:AS,insertInContainerBefore:OO,isPrimaryRenderer:wO,maySuspendCommit:FO,noTimeout:_O,now:V1.unstable_now,preloadInstance:QO,prepareForCommit:oO,preparePortalMount:uO,prepareScopeUpdate:qO,prepareUpdate:cO,removeChild:MO,removeChildFromContainer:DO,requestPostPaintCallback:XO,resetAfterCommit:fO,resetFormInstance:tM,resetTextContent:dO,resolveUpdatePriority:KO,run:V1.unstable_runWithPriority,scheduleMicrotask:bO,scheduleTimeout:mO,setCurrentUpdatePriority:YO,shouldAttemptEagerTransition:IO,shouldDeprioritizeSubtree:hO,shouldSetTextContent:SO,startSuspendingCommit:$O,supportsHydration:TO,supportsMicrotasks:yO,supportsMutation:EO,supportsPersistence:CO,suspendInstance:JO,unhideInstance:kO,unhideTextInstance:PO,waitForCommitToBeReady:WO,warnsIfNotActing:xO},Symbol.toStringTag,{value:"Module"}));function RS(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const r=RS(a,e,n);if(r)return r;a=a.sibling}}function OS(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const v2=OS(M.createContext(null));class MS extends M.Component{render(){return M.createElement(v2.Provider,{value:this._reactInternals},this.props.children)}}function aM(){const t=M.useContext(v2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=M.useId();return M.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=RS(n,!1,r=>{let l=r.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(a)return a}},[t,e])}const iM=Symbol.for("react.context"),rM=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===iM;function sM(){const t=aM(),[e]=M.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;rM(a)&&a!==v2&&!e.has(a)&&e.set(a,M.use(OS(a))),n=n.return}return e}function lM(){const t=sM();return M.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>M.createElement(e,null,M.createElement(n.Provider,{...a,value:t.get(n)})),e=>M.createElement(MS,{...e})),[t])}if(nt.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function oM(t){const e=nt.useRef({});return nt.useLayoutEffect(()=>{e.current=t}),nt.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const uM=()=>{const t=nt.useRef(0);return nt.useMemo(()=>{t.current++},[]),t.current>1},cM=t=>{const e=nt.useRef(null),n=nt.useRef(null),a=nt.useRef(null),r=oM(t),l=lM(),c=nt.useRef(!1),d=m=>{const{forwardedRef:v}=t;v&&(typeof v=="function"?v(m):v.current=m)},g=uM();return nt.useLayoutEffect(()=>c.current&&g?()=>{c.current=!1,d(null),xd.updateContainer(null,a.current,null),n.current.destroy()}:(c.current=!0,n.current=new Ld.Stage({width:t.width,height:t.height,container:e.current}),d(n.current),a.current=xd.createContainer(n.current,lv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),xd.updateContainer(nt.createElement(l,{},t.children),a.current,null,()=>{}),()=>{g||(d(null),xd.updateContainer(null,a.current,null),n.current.destroy())}),[]),nt.useLayoutEffect(()=>{d(n.current),ov(n.current,t,r),xd.updateContainer(nt.createElement(l,{},t.children),a.current,null)}),nt.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},R0="Layer",Rr="Group",fu="Rect",DS="Circle",fM="Line",$l="Text",dM="Path",hM="Arrow",gM="Transformer",xd=QR(nM);xd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:nt.version,rendererPackageName:"react-konva"});const pM=nt.forwardRef((t,e)=>nt.createElement(MS,{},nt.createElement(cM,{...t,forwardedRef:e})));function x4(t,e,n,a){t.forEach(r=>{if(!e.current||!n.current)return;const l=n.current.findOne(`#${r.from}`)||e.current.findOne(`#${r.from}`),c=n.current.findOne(`#${r.to}`)||e.current.findOne(`#${r.to}`),d=a.current?.findOne(`#${r.id}`),g=e.current.findOne(`#${r.from.replace(/^group-/,"")}`)||n.current.findOne(`#${r.from.replace(/^group-/,"")}`),m=e.current.findOne(`#${r.to.replace(/^group-/,"")}`)||n.current.findOne(`#${r.to.replace(/^group-/,"")}`);if(!l||!c||!d||!g||!m)return;const v=c.x()-l.x(),_=c.y()-l.y(),S=Math.sqrt(v*v+_*_),E=v/S,T=_/S,R=Math.min(30,S/5-1),O=g.width()*(l.attrs.scalingX??1),j=g.height()*(l.attrs.scalingY??1),N=m.width()*(c.attrs.scalingX??1),z=m.height()*(c.attrs.scalingY??1);d.points([l.x()+O/2+E*(O/2+R),l.y()+j/2+T*(j/2+R),c.x()+N/2-E*(N/2+R),c.y()+z/2-T*(z/2+R)])})}const mM=(t,e,n,a)=>{const r=e.x()-t.x(),l=e.y()-t.y(),c=Math.sqrt(r*r+l*l),d=r/c,g=l/c,m=Math.min(30,c/5-1),v=n.width()*(t.attrs.scalingX??1),_=n.height()*(t.attrs.scalingY??1),S=a.width()*(e.attrs.scalingX??1),E=a.height()*(e.attrs.scalingY??1);return[t.x()+v/2+d*(v/2+m),t.y()+_/2+g*(_/2+m),e.x()+S/2-d*(S/2+m),e.y()+E/2-g*(E/2+m)]},vM=({connector:t,mainLayer:e})=>{const[n,a]=M.useState([]);return M.useEffect(()=>{const r=e.current?.findOne(`#${t.from}`),l=e.current?.findOne(`#${t.to}`),c=e.current?.findOne(`#${t.from.replace(/^group-/,"")}`),d=e.current?.findOne(`#${t.to.replace(/^group-/,"")}`);if(!r||!l||!c||!d)return;const g=mM(r,l,c,d);a(g)},[e,t]),A.jsx(hM,{id:t.id,points:n,fill:"black",stroke:"black"})},yM=({connectors:t,mainLayer:e})=>A.jsx(A.Fragment,{children:t.map(n=>A.jsx(vM,{connector:n,mainLayer:e}))});function E4(t,e,n){if(e==="eraser")return;t.target.moveTo(n.current)}function C4(t,e,n,a){if(a==="eraser")return;const l=t.target.getStage()?.getPointerPosition(),c=e.current?.getIntersection(l);!n.current&&c?(n.current=c,c.fire("dragenter",{evt:t.evt,source:t.target},!0)):n.current&&c&&n.current!==c?(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),c.fire("dragenter",{evt:t.evt},!0),n.current=c):n.current&&!c&&(n.current.fire("dragleave",{evt:t.evt,source:t.target},!0),n.current=null)}function Y1(t,e,n,a,r){if(n==="eraser")return;const l=t.target,d=l.getStage()?.getPointerPosition();e.current?.getIntersection(d)&&a.current?.fire("drop",{evt:t.evt,source:t.target},!0),l.moveTo(e.current),a.current=null;const m=t.target.id();r(v=>{const _=[...v],S=_.findIndex(E=>"group-"+E.id===m);if(S!==-1&&_[S].behavior==="node")_[S]={..._[S],x:t.target.x(),y:t.target.y()};else if(S!==-1&&_[S].shape==="line"){const E=t.target,T=E.x(),R=E.y();_[S]={..._[S],points:_[S].points.map((O,j)=>j%2===0?O+T:O+R)},E.x(0),E.y(0)}return _})}function bM(t,e,n){t.target,t.target.getStage()}function _M(t,e,n){t.target,t.target.getStage()}const SM=({rect:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,collapseChild:c,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,addTodo:_})=>{const[S,E]=M.useState(!1),T=v(t.color);return A.jsxs(Rr,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaleY:t.scaleY??1,draggable:l!=="eraser",onDragStart:n,onDragMove:a,onDragEnd:r,onTransformEnd:m,onMouseEnter:()=>{l==="hand"&&E(!0)},onMouseLeave:()=>{l==="hand"&&E(!1)},onClick:()=>{d(t.id),l==="hand"&&g(t)},children:[A.jsxs(Rr,{visible:!t.isCollapsed,children:[A.jsx(fu,{className:"mainRect",id:t.id,width:Math.round(t.width),height:Math.round(t.height),fill:"white",shadowBlur:6,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},cornerRadius:[16,8,8,8],stroke:T,strokeWidth:2.5,shadowForStrokeEnabled:!1}),A.jsx($l,{x:0,y:50,text:t.description,fontSize:14,fontFamily:"Inter",fontStyle:"normal",fill:"gray",align:"justify",ellipsis:!0,lineHeight:1.25,padding:10,width:t.width,height:t.height*.7,listening:!1}),A.jsx($l,{text:t.dueDate,x:0,y:t.height-35,width:t.width,height:16,fontFamily:"Inter",fontSize:12,fontStyle:"light",padding:5,align:"right",fill:"blue",opacity:.8,listening:!1}),A.jsxs(Rr,{children:[A.jsx(fu,{fill:"#efb100",width:100,height:30,x:10,y:t.height-40,cornerRadius:10}),A.jsx($l,{text:t.status,width:100,height:30,fontFamily:"Inter",align:"left",fill:"white",x:17,y:t.height-42,padding:10})]}),S&&A.jsx(Rr,{x:t.width+5,y:t.height/2,children:A.jsx(DS,{radius:16,fill:"blue",onClick:R=>{R.cancelBubble=!0,_(t)}})})]}),A.jsxs(Rr,{children:[A.jsx(fu,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color,shadowBlur:10,shadowOpacity:.5,shadowColor:"black",shadowOffset:{x:0,y:4},visible:t.isCollapsed}),A.jsx(fu,{x:0,y:0,width:t.width,height:t.height*.25,cornerRadius:[16,4,4,4],fill:t.color}),A.jsx($l,{x:10,y:15,text:t.title,fontFamily:"Inter",fill:"white",fontStyle:"bold",fontSize:16}),A.jsx($l,{x:t.width*.9,y:5,fill:"white",text:t.isCollapsed?"+":"-",fontSize:32,align:"right",verticalAlign:"top",onClick:R=>{l!=="eraser"&&(t.isCollapsed?c(t,!0):c(t,!1),R.cancelBubble=!0,e(j=>j.map(N=>N.shape==="rect"&&N.id===t.id?{...N,isCollapsed:!N.isCollapsed}:N)))}})]})]},"key-"+t.id)},wM=({shapes:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,collapseChild:c,handleEraserClick:d,onShapeClick:g,onTransformEnd:m,getBorder:v,addTodo:_})=>A.jsx(A.Fragment,{children:t.map(S=>A.jsx(SM,{rect:S,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,onTransformEnd:m,tool:l,collapseChild:c,handleEraserClick:d,onShapeClick:g,getBorder:v,addTodo:_},"key-"+S.id))});function xM(t,e,n){if(!e.evt.ctrlKey)return;e.evt.preventDefault();const a=t.current,r=a?.getPointerPosition();if(!r||!a)return;const l=a.scaleX(),c={x:(r.x-a.x())/l,y:(r.y-a.y())/l},d=e.evt.deltaY>0?-1:1,g=1.05,m=d>0?Math.min(l*g,5):Math.max(l/g,.1);a.scale({x:m,y:m});const v={x:r.x-c.x*m,y:r.y-c.y*m};a.position(v),n(Math.round(m*100))}function EM(t){switch(t){case"hand":return"default";case"select":return"pointer";case"eraser":return"url('/cursor.svg') 20 20, auto";case"draw":return"crosshair";default:return"default"}}const CM=({todo:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,onTransformEnd:c,handleEraserClick:d})=>{const[g,m]=M.useState(!1),v="#FDF6B2",_=t.color,S=new Date(t.dueDate),E=S.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/, (?=\d{4})/," "),T=new Date,R=S.getTime()-T.getTime(),O=Math.ceil(R/(1e3*60*60*24)),j=Math.floor(O/7),N=Math.floor(O/30),z=()=>t.completed?{statusColor:"#00bc7d",statusText:"Completed",statusTextColor:"white"}:N>=1?{statusColor:"#2b7fff",statusText:`${N} Month${N>1?"s":""} left`,statusTextColor:"white"}:j>=1?{statusColor:"#2b7fff",statusText:`${j} Week${j>1?"s":""} left`,statusTextColor:"white"}:O>=2?{statusColor:"#2b7fff",statusText:`${O} Day${O>1?"s":""} left`,statusTextColor:"white"}:O===1?{statusColor:"#ff6900",statusText:"Due Tomorrow!!!",statusTextColor:"white"}:O===0?{statusColor:"#ff2056",statusText:"Due Today!!!",statusTextColor:"white"}:{statusColor:"purple",statusText:"Overdue",statusTextColor:"white"},{statusColor:B,statusText:G,statusTextColor:k}=z(),K=$=>{e(oe=>oe.map(be=>be.id===$&&be.shape==="todo"?{...be,completed:!be.completed}:be))};return A.jsx(Rr,{id:"group-"+t.id,shapeId:t.id,x:t.x,y:t.y,name:"shape",scalingX:t.scaleX??1,scalingY:t.scaleY??1,scaleX:t.scaleX??1,scaley:t.scaleY??1,onMouseEnter:()=>{l==="hand"&&m(!0)},onMouseLeave:()=>{l==="hand"&&m(!1)},draggable:l!="eraser",onDragStart:n,onDragMove:a,onDragEnd:r,onTransformEnd:c,onClick:()=>{d(t.id)},children:A.jsxs(Rr,{visible:!t.isCollapsed,children:[A.jsx(fu,{x:0,y:0,id:t.id,width:t.width,height:t.height,fill:"white",shadowBlur:4,shadowOpacity:.5,shadowColor:"black",cornerRadius:[8,8,8,8],stroke:_,strokeWidth:1,shadowForStrokeEnabled:!1}),A.jsxs(Rr,{children:[A.jsx(fu,{x:0,y:0,width:50,height:75,fill:t.color,cornerRadius:[8,0,0,8]}),A.jsxs(Rr,{children:[A.jsx($l,{x:60,y:8,text:t.title,fontSize:20,fontStyle:"bold"}),A.jsx($l,{x:60,y:32,text:E}),A.jsxs(Rr,{children:[A.jsx($l,{x:60,y:54,text:t.owner}),A.jsxs(Rr,{x:280,y:50,children:[A.jsx(fu,{width:110,height:18,fill:B,cornerRadius:[4,4,4,4]}),A.jsx($l,{x:0,y:3,width:110,height:18,text:G,fill:k,align:"center",fontStyle:"bold",fontSize:12})]})]}),(g||t.completed)&&A.jsxs(Rr,{x:26,y:36,children:[A.jsx(DS,{radius:16,fill:v,stroke:_,strokeWidth:1.5,onClick:()=>K(t.id)}),t.completed&&A.jsx(dM,{x:-7,y:-8,data:"M2 8 L6 12 L14 2",stroke:"green",strokeWidth:2})]})]})]})]})},"key-"+t.id)},TM=({todos:t,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,handleEraserClick:c,onTransformEnd:d,getBorder:g})=>A.jsx(A.Fragment,{children:t.map(m=>A.jsx(CM,{todo:m,setShapes:e,onDragStart:n,onDragMove:a,onDragEnd:r,tool:l,handleEraserClick:c,onTransformEnd:d,getBorder:g},"key-"+m.id))});function ig(t){if(!t)return null;const e=t.getPointerPosition();return e?t.getAbsoluteTransform().copy().invert().point(e):null}function AM(t,e,n,a,r,l){if(e!=="draw")return;const c=ig(t);if(!c)return;r(!0);const d={shape:"line",behavior:"decor",color:"black",id:"line-"+l.current,points:[c.x,c.y],stroke:n,strokeWidth:4};l.current++,a(g=>[...g,d])}function RM(t,e,n,a){if(!a||e!=="draw")return;const r=ig(t);r&&n(l=>{if(l.length===0)return l;const c=l[l.length-1];if(c.behavior!=="decor")return l;const d={...c,points:[...c.points,r.x,r.y]};return[...l.slice(0,-1),d]})}function OM(t,e){t&&e(!1)}const MM=M.forwardRef(({lines:t,onDragEnd:e,onTransformEnd:n},a)=>A.jsx(R0,{ref:a,children:t.map(r=>A.jsx(fM,{id:"group-"+r.id,points:r.points,stroke:r.stroke,strokeWidth:r.strokeWidth,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",draggable:!0,onDragEnd:e,onTransformEnd:n},r.id))})),DM=20;function NM(t){t(!0)}function jM(t,e,n){for(let a=0;a<t.length-2;a+=2){const r=t[a],l=t[a+1],c=t[a+2],d=t[a+3];if(zM(e.x,e.y,r,l,c,d)<n)return!0}return!1}function zM(t,e,n,a,r,l){const c=r-n,d=l-a,g=c*c+d*d;if(g===0)return Math.hypot(t-n,e-a);let m=((t-n)*c+(e-a)*d)/g;m=Math.max(0,Math.min(1,m));const v=n+m*c,_=a+m*d;return Math.hypot(t-v,e-_)}function UM(t,e,n,a){if(e!=="eraser"||!a)return;const r=ig(t.current);r&&n(l=>l.filter(c=>c.shape==="line"?!jM(c.points,r,DM):!0))}function LM(t){t(!1)}function kM(t,e,n,a,r,l,c,d){return t<r&&n<r||t>c&&n>c||e<l&&a<l||e>d&&a>d?!1:!!(t>=r&&t<=c&&e>=l&&e<=d||n>=r&&n<=c&&a>=l&&a<=d||rm(t,e,n,a,r,l,c,l)||rm(t,e,n,a,c,l,c,d)||rm(t,e,n,a,c,d,r,d)||rm(t,e,n,a,r,d,r,l))}function rm(t,e,n,a,r,l,c,d){function g(m,v,_,S,E,T){return(T-v)*(_-m)>(S-v)*(E-m)}return g(t,e,r,l,c,d)!==g(n,a,r,l,c,d)&&g(t,e,n,a,r,l)!==g(t,e,n,a,c,d)}function PM(t,e){const n=e.x,a=e.y,r=e.x+e.width,l=e.y+e.height;for(let c=0;c<t.length-2;c+=2){const d=t[c],g=t[c+1],m=t[c+2],v=t[c+3];if(kM(d,g,m,v,n,a,r,l))return!0}return!1}const BM=(t,e,n,a)=>{if(t.target!==t.target.getStage())return;n.current=!0;const r=ig(e.current);r&&a({visible:!0,x1:r.x,y1:r.y,x2:r.x,y2:r.y})},HM=(t,e,n,a)=>{if(!e.current)return;const r=ig(t.current);r&&a({...n,x2:r.x,y2:r.y})},GM=(t,e,n,a,r,l)=>{if(!t.current)return;t.current=!1,setTimeout(()=>{n({...e,visible:!1})});const c={x:Math.min(e.x1,e.x2),y:Math.min(e.y1,e.y2),width:Math.abs(e.x2-e.x1),height:Math.abs(e.y2-e.y1)},d=r.filter(g=>{if(g.shape==="line"){const _=g.points;return PM(_,c)}if(!l.current)return;const m=l.current.findOne(`#${g.id}`);if(!m)return;const v=m?.getClientRect();if(v)return KR.Util.haveIntersection(c,v)});a(d.map(g=>g.id))},qM=(t,e,n,a)=>{if(e.visible)return;if(t.target===t.target.getStage()){a([]);return}const r=t.target.findAncestor(".shape",!0);if(!r||!r.hasName("shape"))return;const l=r.attrs.shapeId;if(!l)return;const c=t.evt.shiftKey||t.evt.ctrlKey||t.evt.metaKey,d=n.includes(l);!c&&!d?a([l]):c&&d?a(n.filter(g=>g!==l)):c&&!d&&a([...n,l])},Z1=(t,e)=>{const n=t.target.id(),a=t.target;e(r=>{const l=[...r],c=l.findIndex(d=>"group-"+d.id===n);return c!==-1&&l[c].behavior==="node"&&(l[c]={...l[c],x:a.x(),y:a.y(),scaleX:a.scaleX(),scaleY:a.scaleY()}),l})},VM=({shapes:t=[],setShapes:e,tool:n,setTool:a,setZoomValue:r,zoom:l,connectors:c=[],setConnectors:d,strokeColor:g="#000",onShapeClick:m,addTodo:v})=>{const _=M.useRef(null),S=M.useRef(null),E=M.useRef(null),T=M.useRef(null),R=M.useRef(null),O=M.useRef(null),[j,N]=M.useState(!1),z=M.useRef(1),[B,G]=M.useState([]),[k,K]=M.useState({visible:!1,x1:0,x2:0,y1:0,y2:0}),$=M.useRef(!1),oe=M.useRef(null),be=(L,Q)=>{d([...c,{shape:"connector",id:"connector-"+Date.now().toString(),from:L.id(),to:Q.id()}])};M.useEffect(()=>{if(!_.current)return;if(t.forEach(Q=>{if(Q.behavior!=="node")return;const X=_.current?.findOne(`#group-${Q.id}`),se=_.current?.findOne(`#${Q.id}`),H=t.find(J=>J.id===se.id());!X||!se||!H||(X.off("drop"),X.off("dragenter"),X.off("dragleave"),X.on("dragenter",J=>{const ve=J.source;if(!ve||X===ve||se.fill()==="green"||H.shape==="todo"||Q.shape!=="todo"&&Q.children.includes(ve.id())||Q.parents.includes(ve.id()))return;const Se=t.find(He=>"group-"+He.id===ve.id());Se?.behavior!=="node"||Se?.parents!==""||se.fill("#b9f8cf")}),X.on("dragmove",J=>{const ve=J.source;!ve||X===ve||se.fill()==="#b9f8cf"||se.fill("#b9f8cf")}),X.on("dragleave",J=>{const ve=J.source;X!==ve&&se.fill("white")}),X.on("drop",J=>{const ve=J.source;if(Q.behavior!=="node"||Q.shape!=="todo"&&Q.children.includes(ve.id())||!ve||Q.parents.includes(ve.id()))return;const Se=t.find(gt=>"group-"+gt.id===ve.id());if(Se?.behavior!=="node"||Se?.parents!==""||H.shape==="todo")return;se.fill("white");const He=X.x()-ve.x(),it=X.y()-ve.y(),Ye=Math.sqrt(He*He+it*it),lt=He/Ye,Me=it/Ye;e(gt=>gt.map(ot=>ot.behavior==="node"&&"group-"+ot.id===J.source.id()?{...ot,parents:X.id(),x:ot.x+-100*lt,y:ot.y+-100*Me}:ot.behavior==="node"&&ot.shape!="todo"&&"group-"+ot.id===X.id()?{...ot,children:[...ot.children,J.source.id()]}:ot)),be(J.source,X)}))}),B.length&&oe.current){const Q=B.map(X=>O.current?.findOne(`#group-${X}`)).filter(Boolean);oe.current.nodes(Q)}else oe.current&&oe.current.nodes([]);function L(Q){switch(Q.key){case"1":a("hand");break;case"2":a(n==="select"?"hand":"select");break;case"3":a(n==="draw"?"hand":"draw");break;case"4":a(n==="eraser"?"hand":"eraser");break;case"p":a(n==="draw"?"hand":"draw");break}}return window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L)}});const Re=L=>{if(L.behavior!=="node")return;const Q=t.find(se=>"group-"+se.id===L.parents),X=_.current?.findOne(`#${L.parents}`);return!X||!Q?!1:X.getChildren()[0].visible()},pe=(L,Q)=>{L.behavior!=="node"||L.shape==="todo"||L.children.length!==0&&L.children.forEach(X=>{const se=t.find(Se=>"group-"+Se.id===X);if(!se)return;const H=_.current?.findOne(`#${X}`);if(!H)return;H.visible(Q);const J=c.find(Se=>{if(Se.from===X)return Se});if(!J)return;const ve=T.current?.findOne(`#${J.id}`);ve&&(ve.visible(Q),Re(se)&&pe(se,Q))})},ye=L=>{const Q=t.find(X=>X.id===L);Q?.behavior!=="node"||Q?.shape==="todo"||Q?.children.forEach(X=>{const se=t.find(H=>"group-"+H.id===X);!se||se.behavior!=="node"||(se.parents="")})},me=L=>{n==="eraser"&&(c.forEach(Q=>{(Q.to==="group-"+L||Q.from==="group-"+L)&&d(X=>X.filter(se=>se.id!==Q.id))}),ye(L),e(Q=>Q.filter(X=>X.id!==L)))},_e=L=>{let Q;return L==="#ff2056"?Q="#f6339a":L==="#2b7fff"?Q="#00a6f4":L==="#00bc7d"?Q="#00c951":L==="#ad46ff"?Q="#8e51ff":L==="#ff6900"&&(Q="#fd9a00"),Q};return A.jsx(A.Fragment,{children:A.jsxs(pM,{width:window.innerWidth,height:window.innerHeight,ref:O,draggable:n==="hand",onDragStart:L=>bM(L,_,T),onDragEnd:L=>_M(L,_,T),onWheel:L=>xM(O,L,r),onMouseDown:L=>{n==="draw"&&AM(O.current,n,g,e,N,z),n==="eraser"&&NM(N),n==="select"&&BM(L,O,$,K)},onMouseMove:()=>{n==="draw"&&RM(O.current,n,e,j),n==="eraser"&&UM(O,n,e,j),n==="select"&&HM(O,$,k,K)},onMouseUp:()=>{n==="draw"&&OM(j,N),n==="eraser"&&LM(N),n==="select"&&GM($,k,K,G,t,_)},onClick:L=>{n==="select"&&qM(L,k,B,G)},scaleX:l/100,scaleY:l/100,style:{cursor:EM(n)},children:[A.jsx(R0,{ref:T,children:A.jsx(yM,{connectors:c,mainLayer:_})}),A.jsx(MM,{lines:t.filter(L=>L.shape==="line"),ref:R,onDragEnd:L=>{Y1(L,_,n,S,e)},onTransformEnd:L=>{Z1(L,e)}}),A.jsxs(R0,{ref:_,children:[A.jsx(wM,{shapes:t.filter(L=>L.shape==="rect"),setShapes:e,onDragStart:L=>E4(L,n,E),onDragMove:L=>{C4(L,_,S,n),x4(c,_,E,T)},onDragEnd:L=>{Y1(L,_,n,S,e)},onTransformEnd:L=>{Z1(L,e)},tool:n,collapseChild:pe,handleEraserClick:me,onShapeClick:m,getBorder:_e,addTodo:v}),A.jsx(TM,{todos:t.filter(L=>L.shape==="todo"),setShapes:e,tool:n,onDragStart:L=>E4(L,n,E),onDragMove:L=>{C4(L,_,S,n),x4(c,_,E,T)},onDragEnd:L=>{Y1(L,_,n,S,e)},onTransformEnd:L=>{Z1(L,e)},handleEraserClick:me,getBorder:_e})]}),A.jsx(R0,{ref:E}),A.jsxs(R0,{children:[A.jsx(gM,{ref:oe,boundBoxFunc:(L,Q)=>Q.width<5||Q.height<5?L:Q}),k.visible&&A.jsx(fu,{x:Math.min(k.x1,k.x2),y:Math.min(k.y1,k.y2),width:Math.abs(k.x2-k.x1),height:Math.abs(k.y2-k.y1),fill:"rgba(0,0,255,0.15)",stroke:"rgba(70,70,120,0.2)",strokeWidth:2})]})]})})};var rg=t=>t.type==="checkbox",Oc=t=>t instanceof Date,Ui=t=>t==null;const NS=t=>typeof t=="object";var aa=t=>!Ui(t)&&!Array.isArray(t)&&NS(t)&&!Oc(t),YM=t=>aa(t)&&t.target?rg(t.target)?t.target.checked:t.target.value:t,ZM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,KM=(t,e)=>t.has(ZM(e)),IM=t=>{const e=t.constructor&&t.constructor.prototype;return aa(e)&&e.hasOwnProperty("isPrototypeOf")},y2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Aa(t){let e;const n=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(y2&&(t instanceof Blob||a))&&(n||aa(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!IM(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Aa(t[r]));else return t;return e}var uv=t=>/^\w*$/.test(t),In=t=>t===void 0,b2=t=>Array.isArray(t)?t.filter(Boolean):[],_2=t=>b2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{if(!e||!aa(t))return n;const a=(uv(e)?[e]:_2(e)).reduce((r,l)=>Ui(r)?r:r[l],t);return In(a)||a===t?In(t[e])?n:t[e]:a},nl=t=>typeof t=="boolean",_n=(t,e,n)=>{let a=-1;const r=uv(e)?[e]:_2(e),l=r.length,c=l-1;for(;++a<l;){const d=r[a];let g=n;if(a!==c){const m=t[d];g=aa(m)||Array.isArray(m)?m:isNaN(+r[a+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=g,t=t[d]}};const T4={BLUR:"blur",FOCUS_OUT:"focusout"},ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Il={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XM=nt.createContext(null);XM.displayName="HookFormContext";var FM=(t,e,n,a=!0)=>{const r={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(r,l,{get:()=>{const c=l;return e._proxyFormState[c]!==ds.all&&(e._proxyFormState[c]=!a||ds.all),t[c]}});return r};const QM=typeof window<"u"?nt.useLayoutEffect:nt.useEffect;var nr=t=>typeof t=="string",$M=(t,e,n,a,r)=>nr(t)?(a&&e.watch.add(t),Je(n,t,r)):Array.isArray(t)?t.map(l=>(a&&e.watch.add(l),Je(n,l))):(a&&(e.watchAll=!0),n),Ly=t=>Ui(t)||!NS(t);function cu(t,e,n=new WeakSet){if(Ly(t)||Ly(e))return t===e;if(Oc(t)&&Oc(e))return t.getTime()===e.getTime();const a=Object.keys(t),r=Object.keys(e);if(a.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of a){const c=t[l];if(!r.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Oc(c)&&Oc(d)||aa(c)&&aa(d)||Array.isArray(c)&&Array.isArray(d)?!cu(c,d,n):c!==d)return!1}}return!0}var S2=(t,e,n,a,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[a]:r||!0}}:{},k0=t=>Array.isArray(t)?t:[t],A4=()=>{let t=[];return{get observers(){return t},next:r=>{for(const l of t)l.next&&l.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(l=>l!==r)}}),unsubscribe:()=>{t=[]}}};function jS(t,e){const n={};for(const a in t)if(t.hasOwnProperty(a)){const r=t[a],l=e[a];if(r&&aa(r)&&l){const c=jS(r,l);aa(c)&&(n[a]=c)}else t[a]&&(n[a]=l)}return n}var zi=t=>aa(t)&&!Object.keys(t).length,w2=t=>t.type==="file",hs=t=>typeof t=="function",Pm=t=>{if(!y2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zS=t=>t.type==="select-multiple",x2=t=>t.type==="radio",JM=t=>x2(t)||rg(t),K1=t=>Pm(t)&&t.isConnected;function WM(t,e){const n=e.slice(0,-1).length;let a=0;for(;a<n;)t=In(t)?a++:t[e[a++]];return t}function eD(t){for(const e in t)if(t.hasOwnProperty(e)&&!In(t[e]))return!1;return!0}function Wn(t,e){const n=Array.isArray(e)?e:uv(e)?[e]:_2(e),a=n.length===1?t:WM(t,n),r=n.length-1,l=n[r];return a&&delete a[l],r!==0&&(aa(a)&&zi(a)||Array.isArray(a)&&eD(a))&&Wn(t,n.slice(0,-1)),t}var tD=t=>{for(const e in t)if(hs(t[e]))return!0;return!1};function US(t){return Array.isArray(t)||aa(t)&&!tD(t)}function ky(t,e={}){for(const n in t)US(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ky(t[n],e[n])):In(t[n])||(e[n]=!0);return e}function Ed(t,e,n){n||(n=ky(e));for(const a in t)US(t[a])?In(e)||Ly(n[a])?n[a]=ky(t[a],Array.isArray(t[a])?[]:{}):Ed(t[a],Ui(e)?{}:e[a],n[a]):n[a]=!cu(t[a],e[a]);return n}const R4={value:!1,isValid:!1},O4={value:!0,isValid:!0};var LS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!In(t[0].attributes.value)?In(t[0].value)||t[0].value===""?O4:{value:t[0].value,isValid:!0}:O4:R4}return R4},kS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:a})=>In(t)?t:e?t===""?NaN:t&&+t:n&&nr(t)?new Date(t):a?a(t):t;const M4={isValid:!1,value:null};var PS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,M4):M4;function D4(t){const e=t.ref;return w2(e)?e.files:x2(e)?PS(t.refs).value:zS(e)?[...e.selectedOptions].map(({value:n})=>n):rg(e)?LS(t.refs).value:kS(In(e.value)?t.ref.value:e.value,t)}var nD=(t,e,n,a)=>{const r={};for(const l of t){const c=Je(e,l);c&&_n(r,l,c._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:a}},Bm=t=>t instanceof RegExp,b0=t=>In(t)?t:Bm(t)?t.source:aa(t)?Bm(t.value)?t.value.source:t.value:t,N4=t=>({isOnSubmit:!t||t===ds.onSubmit,isOnBlur:t===ds.onBlur,isOnChange:t===ds.onChange,isOnAll:t===ds.all,isOnTouch:t===ds.onTouched});const j4="AsyncFunction";var aD=t=>!!t&&!!t.validate&&!!(hs(t.validate)&&t.validate.constructor.name===j4||aa(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===j4)),iD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),z4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const P0=(t,e,n,a)=>{for(const r of n||Object.keys(t)){const l=Je(t,r);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],r)&&!a)return!0;if(c.ref&&e(c.ref,c.name)&&!a)return!0;if(P0(d,e))break}else if(aa(d)&&P0(d,e))break}}};function U4(t,e,n){const a=Je(t,n);if(a||uv(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const l=r.join("."),c=Je(e,l),d=Je(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};r.pop()}return{name:n}}var rD=(t,e,n,a)=>{n(t);const{name:r,...l}=t;return zi(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!a||ds.all))},sD=(t,e,n)=>!t||!e||t===e||k0(t).some(a=>a&&(n?a===e:a.startsWith(e)||e.startsWith(a))),lD=(t,e,n,a,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?a.isOnBlur:r.isOnBlur)?!t:(n?a.isOnChange:r.isOnChange)?t:!0,oD=(t,e)=>!b2(Je(t,e)).length&&Wn(t,e),uD=(t,e,n)=>{const a=k0(Je(t,n));return _n(a,"root",e[n]),_n(t,n,a),t};function L4(t,e,n="validate"){if(nr(t)||Array.isArray(t)&&t.every(nr)||nl(t)&&!t)return{type:n,message:nr(t)?t:"",ref:e}}var md=t=>aa(t)&&!Bm(t)?t:{value:t,message:""},k4=async(t,e,n,a,r,l)=>{const{ref:c,refs:d,required:g,maxLength:m,minLength:v,min:_,max:S,pattern:E,validate:T,name:R,valueAsNumber:O,mount:j}=t._f,N=Je(n,R);if(!j||e.has(R))return{};const z=d?d[0]:c,B=pe=>{r&&z.reportValidity&&(z.setCustomValidity(nl(pe)?"":pe||""),z.reportValidity())},G={},k=x2(c),K=rg(c),$=k||K,oe=(O||w2(c))&&In(c.value)&&In(N)||Pm(c)&&c.value===""||N===""||Array.isArray(N)&&!N.length,be=S2.bind(null,R,a,G),Re=(pe,ye,me,_e=Il.maxLength,L=Il.minLength)=>{const Q=pe?ye:me;G[R]={type:pe?_e:L,message:Q,ref:c,...be(pe?_e:L,Q)}};if(l?!Array.isArray(N)||!N.length:g&&(!$&&(oe||Ui(N))||nl(N)&&!N||K&&!LS(d).isValid||k&&!PS(d).isValid)){const{value:pe,message:ye}=nr(g)?{value:!!g,message:g}:md(g);if(pe&&(G[R]={type:Il.required,message:ye,ref:z,...be(Il.required,ye)},!a))return B(ye),G}if(!oe&&(!Ui(_)||!Ui(S))){let pe,ye;const me=md(S),_e=md(_);if(!Ui(N)&&!isNaN(N)){const L=c.valueAsNumber||N&&+N;Ui(me.value)||(pe=L>me.value),Ui(_e.value)||(ye=L<_e.value)}else{const L=c.valueAsDate||new Date(N),Q=H=>new Date(new Date().toDateString()+" "+H),X=c.type=="time",se=c.type=="week";nr(me.value)&&N&&(pe=X?Q(N)>Q(me.value):se?N>me.value:L>new Date(me.value)),nr(_e.value)&&N&&(ye=X?Q(N)<Q(_e.value):se?N<_e.value:L<new Date(_e.value))}if((pe||ye)&&(Re(!!pe,me.message,_e.message,Il.max,Il.min),!a))return B(G[R].message),G}if((m||v)&&!oe&&(nr(N)||l&&Array.isArray(N))){const pe=md(m),ye=md(v),me=!Ui(pe.value)&&N.length>+pe.value,_e=!Ui(ye.value)&&N.length<+ye.value;if((me||_e)&&(Re(me,pe.message,ye.message),!a))return B(G[R].message),G}if(E&&!oe&&nr(N)){const{value:pe,message:ye}=md(E);if(Bm(pe)&&!N.match(pe)&&(G[R]={type:Il.pattern,message:ye,ref:c,...be(Il.pattern,ye)},!a))return B(ye),G}if(T){if(hs(T)){const pe=await T(N,n),ye=L4(pe,z);if(ye&&(G[R]={...ye,...be(Il.validate,ye.message)},!a))return B(ye.message),G}else if(aa(T)){let pe={};for(const ye in T){if(!zi(pe)&&!a)break;const me=L4(await T[ye](N,n),z,ye);me&&(pe={...me,...be(ye,me.message)},B(me.message),a&&(G[R]=pe))}if(!zi(pe)&&(G[R]={ref:z,...pe},!a))return G}}return B(!0),G};const cD={mode:ds.onSubmit,reValidateMode:ds.onChange,shouldFocusError:!0};function fD(t={}){let e={...cD,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:hs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},r=aa(e.defaultValues)||aa(e.values)?Aa(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Aa(r),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...v};const S={array:A4(),state:A4()},E=e.criteriaMode===ds.all,T=I=>ie=>{clearTimeout(m),m=setTimeout(I,ie)},R=async I=>{if(!e.disabled&&(v.isValid||_.isValid||I)){const ie=e.resolver?zi((await K()).errors):await oe(a,!0);ie!==n.isValid&&S.state.next({isValid:ie})}},O=(I,ie)=>{!e.disabled&&(v.isValidating||v.validatingFields||_.isValidating||_.validatingFields)&&((I||Array.from(d.mount)).forEach(de=>{de&&(ie?_n(n.validatingFields,de,ie):Wn(n.validatingFields,de))}),S.state.next({validatingFields:n.validatingFields,isValidating:!zi(n.validatingFields)}))},j=(I,ie=[],de,Pe,Le=!0,Ne=!0)=>{if(Pe&&de&&!e.disabled){if(c.action=!0,Ne&&Array.isArray(Je(a,I))){const qe=de(Je(a,I),Pe.argA,Pe.argB);Le&&_n(a,I,qe)}if(Ne&&Array.isArray(Je(n.errors,I))){const qe=de(Je(n.errors,I),Pe.argA,Pe.argB);Le&&_n(n.errors,I,qe),oD(n.errors,I)}if((v.touchedFields||_.touchedFields)&&Ne&&Array.isArray(Je(n.touchedFields,I))){const qe=de(Je(n.touchedFields,I),Pe.argA,Pe.argB);Le&&_n(n.touchedFields,I,qe)}(v.dirtyFields||_.dirtyFields)&&(n.dirtyFields=Ed(r,l)),S.state.next({name:I,isDirty:Re(I,ie),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _n(l,I,ie)},N=(I,ie)=>{_n(n.errors,I,ie),S.state.next({errors:n.errors})},z=I=>{n.errors=I,S.state.next({errors:n.errors,isValid:!1})},B=(I,ie,de,Pe)=>{const Le=Je(a,I);if(Le){const Ne=Je(l,I,In(de)?Je(r,I):de);In(Ne)||Pe&&Pe.defaultChecked||ie?_n(l,I,ie?Ne:D4(Le._f)):me(I,Ne),c.mount&&R()}},G=(I,ie,de,Pe,Le)=>{let Ne=!1,qe=!1;const Fe={name:I};if(!e.disabled){if(!de||Pe){(v.isDirty||_.isDirty)&&(qe=n.isDirty,n.isDirty=Fe.isDirty=Re(),Ne=qe!==Fe.isDirty);const _t=cu(Je(r,I),ie);qe=!!Je(n.dirtyFields,I),_t?Wn(n.dirtyFields,I):_n(n.dirtyFields,I,!0),Fe.dirtyFields=n.dirtyFields,Ne=Ne||(v.dirtyFields||_.dirtyFields)&&qe!==!_t}if(de){const _t=Je(n.touchedFields,I);_t||(_n(n.touchedFields,I,de),Fe.touchedFields=n.touchedFields,Ne=Ne||(v.touchedFields||_.touchedFields)&&_t!==de)}Ne&&Le&&S.state.next(Fe)}return Ne?Fe:{}},k=(I,ie,de,Pe)=>{const Le=Je(n.errors,I),Ne=(v.isValid||_.isValid)&&nl(ie)&&n.isValid!==ie;if(e.delayError&&de?(g=T(()=>N(I,de)),g(e.delayError)):(clearTimeout(m),g=null,de?_n(n.errors,I,de):Wn(n.errors,I)),(de?!cu(Le,de):Le)||!zi(Pe)||Ne){const qe={...Pe,...Ne&&nl(ie)?{isValid:ie}:{},errors:n.errors,name:I};n={...n,...qe},S.state.next(qe)}},K=async I=>{O(I,!0);const ie=await e.resolver(l,e.context,nD(I||d.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return O(I),ie},$=async I=>{const{errors:ie}=await K(I);if(I)for(const de of I){const Pe=Je(ie,de);Pe?_n(n.errors,de,Pe):Wn(n.errors,de)}else n.errors=ie;return ie},oe=async(I,ie,de={valid:!0})=>{for(const Pe in I){const Le=I[Pe];if(Le){const{_f:Ne,...qe}=Le;if(Ne){const Fe=d.array.has(Ne.name),_t=Le._f&&aD(Le._f);_t&&v.validatingFields&&O([Ne.name],!0);const tn=await k4(Le,d.disabled,l,E,e.shouldUseNativeValidation&&!ie,Fe);if(_t&&v.validatingFields&&O([Ne.name]),tn[Ne.name]&&(de.valid=!1,ie))break;!ie&&(Je(tn,Ne.name)?Fe?uD(n.errors,tn,Ne.name):_n(n.errors,Ne.name,tn[Ne.name]):Wn(n.errors,Ne.name))}!zi(qe)&&await oe(qe,ie,de)}}return de.valid},be=()=>{for(const I of d.unMount){const ie=Je(a,I);ie&&(ie._f.refs?ie._f.refs.every(de=>!K1(de)):!K1(ie._f.ref))&&lt(I)}d.unMount=new Set},Re=(I,ie)=>!e.disabled&&(I&&ie&&_n(l,I,ie),!cu(H(),r)),pe=(I,ie,de)=>$M(I,d,{...c.mount?l:In(ie)?r:nr(I)?{[I]:ie}:ie},de,ie),ye=I=>b2(Je(c.mount?l:r,I,e.shouldUnregister?Je(r,I,[]):[])),me=(I,ie,de={})=>{const Pe=Je(a,I);let Le=ie;if(Pe){const Ne=Pe._f;Ne&&(!Ne.disabled&&_n(l,I,kS(ie,Ne)),Le=Pm(Ne.ref)&&Ui(ie)?"":ie,zS(Ne.ref)?[...Ne.ref.options].forEach(qe=>qe.selected=Le.includes(qe.value)):Ne.refs?rg(Ne.ref)?Ne.refs.forEach(qe=>{(!qe.defaultChecked||!qe.disabled)&&(Array.isArray(Le)?qe.checked=!!Le.find(Fe=>Fe===qe.value):qe.checked=Le===qe.value||!!Le)}):Ne.refs.forEach(qe=>qe.checked=qe.value===Le):w2(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Le,Ne.ref.type||S.state.next({name:I,values:Aa(l)})))}(de.shouldDirty||de.shouldTouch)&&G(I,Le,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&se(I)},_e=(I,ie,de)=>{for(const Pe in ie){if(!ie.hasOwnProperty(Pe))return;const Le=ie[Pe],Ne=I+"."+Pe,qe=Je(a,Ne);(d.array.has(I)||aa(Le)||qe&&!qe._f)&&!Oc(Le)?_e(Ne,Le,de):me(Ne,Le,de)}},L=(I,ie,de={})=>{const Pe=Je(a,I),Le=d.array.has(I),Ne=Aa(ie);_n(l,I,Ne),Le?(S.array.next({name:I,values:Aa(l)}),(v.isDirty||v.dirtyFields||_.isDirty||_.dirtyFields)&&de.shouldDirty&&S.state.next({name:I,dirtyFields:Ed(r,l),isDirty:Re(I,Ne)})):Pe&&!Pe._f&&!Ui(Ne)?_e(I,Ne,de):me(I,Ne,de),z4(I,d)&&S.state.next({...n,name:I}),S.state.next({name:c.mount?I:void 0,values:Aa(l)})},Q=async I=>{c.mount=!0;const ie=I.target;let de=ie.name,Pe=!0;const Le=Je(a,de),Ne=_t=>{Pe=Number.isNaN(_t)||Oc(_t)&&isNaN(_t.getTime())||cu(_t,Je(l,de,_t))},qe=N4(e.mode),Fe=N4(e.reValidateMode);if(Le){let _t,tn;const Pi=ie.type?D4(Le._f):YM(I),ri=I.type===T4.BLUR||I.type===T4.FOCUS_OUT,Ga=!iD(Le._f)&&!e.resolver&&!Je(n.errors,de)&&!Le._f.deps||lD(ri,Je(n.touchedFields,de),n.isSubmitted,Fe,qe),_i=z4(de,d,ri);_n(l,de,Pi),ri?(!ie||!ie.readOnly)&&(Le._f.onBlur&&Le._f.onBlur(I),g&&g(0)):Le._f.onChange&&Le._f.onChange(I);const Bi=G(de,Pi,ri),qa=!zi(Bi)||_i;if(!ri&&S.state.next({name:de,type:I.type,values:Aa(l)}),Ga)return(v.isValid||_.isValid)&&(e.mode==="onBlur"?ri&&R():ri||R()),qa&&S.state.next({name:de,..._i?{}:Bi});if(!ri&&_i&&S.state.next({...n}),e.resolver){const{errors:Ur}=await K([de]);if(Ne(Pi),Pe){const Hi=U4(n.errors,a,de),Lr=U4(Ur,a,Hi.name||de);_t=Lr.error,de=Lr.name,tn=zi(Ur)}}else O([de],!0),_t=(await k4(Le,d.disabled,l,E,e.shouldUseNativeValidation))[de],O([de]),Ne(Pi),Pe&&(_t?tn=!1:(v.isValid||_.isValid)&&(tn=await oe(a,!0)));Pe&&(Le._f.deps&&(!Array.isArray(Le._f.deps)||Le._f.deps.length>0)&&se(Le._f.deps),k(de,tn,_t,Bi))}},X=(I,ie)=>{if(Je(n.errors,ie)&&I.focus)return I.focus(),1},se=async(I,ie={})=>{let de,Pe;const Le=k0(I);if(e.resolver){const Ne=await $(In(I)?I:Le);de=zi(Ne),Pe=I?!Le.some(qe=>Je(Ne,qe)):de}else I?(Pe=(await Promise.all(Le.map(async Ne=>{const qe=Je(a,Ne);return await oe(qe&&qe._f?{[Ne]:qe}:qe)}))).every(Boolean),!(!Pe&&!n.isValid)&&R()):Pe=de=await oe(a);return S.state.next({...!nr(I)||(v.isValid||_.isValid)&&de!==n.isValid?{}:{name:I},...e.resolver||!I?{isValid:de}:{},errors:n.errors}),ie.shouldFocus&&!Pe&&P0(a,X,I?Le:d.mount),Pe},H=(I,ie)=>{let de={...c.mount?l:r};return ie&&(de=jS(ie.dirtyFields?n.dirtyFields:n.touchedFields,de)),In(I)?de:nr(I)?Je(de,I):I.map(Pe=>Je(de,Pe))},J=(I,ie)=>({invalid:!!Je((ie||n).errors,I),isDirty:!!Je((ie||n).dirtyFields,I),error:Je((ie||n).errors,I),isValidating:!!Je(n.validatingFields,I),isTouched:!!Je((ie||n).touchedFields,I)}),ve=I=>{I&&k0(I).forEach(ie=>Wn(n.errors,ie)),S.state.next({errors:I?n.errors:{}})},Se=(I,ie,de)=>{const Pe=(Je(a,I,{_f:{}})._f||{}).ref,Le=Je(n.errors,I)||{},{ref:Ne,message:qe,type:Fe,..._t}=Le;_n(n.errors,I,{..._t,...ie,ref:Pe}),S.state.next({name:I,errors:n.errors,isValid:!1}),de&&de.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},He=(I,ie)=>hs(I)?S.state.subscribe({next:de=>"values"in de&&I(pe(void 0,ie),de)}):pe(I,ie,!0),it=I=>S.state.subscribe({next:ie=>{sD(I.name,ie.name,I.exact)&&rD(ie,I.formState||v,ia,I.reRenderRoot)&&I.callback({values:{...l},...n,...ie,defaultValues:r})}}).unsubscribe,Ye=I=>(c.mount=!0,_={..._,...I.formState},it({...I,formState:_})),lt=(I,ie={})=>{for(const de of I?k0(I):d.mount)d.mount.delete(de),d.array.delete(de),ie.keepValue||(Wn(a,de),Wn(l,de)),!ie.keepError&&Wn(n.errors,de),!ie.keepDirty&&Wn(n.dirtyFields,de),!ie.keepTouched&&Wn(n.touchedFields,de),!ie.keepIsValidating&&Wn(n.validatingFields,de),!e.shouldUnregister&&!ie.keepDefaultValue&&Wn(r,de);S.state.next({values:Aa(l)}),S.state.next({...n,...ie.keepDirty?{isDirty:Re()}:{}}),!ie.keepIsValid&&R()},Me=({disabled:I,name:ie})=>{(nl(I)&&c.mount||I||d.disabled.has(ie))&&(I?d.disabled.add(ie):d.disabled.delete(ie))},gt=(I,ie={})=>{let de=Je(a,I);const Pe=nl(ie.disabled)||nl(e.disabled);return _n(a,I,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:I}},name:I,mount:!0,...ie}}),d.mount.add(I),de?Me({disabled:nl(ie.disabled)?ie.disabled:e.disabled,name:I}):B(I,!0,ie.value),{...Pe?{disabled:ie.disabled||e.disabled}:{},...e.progressive?{required:!!ie.required,min:b0(ie.min),max:b0(ie.max),minLength:b0(ie.minLength),maxLength:b0(ie.maxLength),pattern:b0(ie.pattern)}:{},name:I,onChange:Q,onBlur:Q,ref:Le=>{if(Le){gt(I,ie),de=Je(a,I);const Ne=In(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,qe=JM(Ne),Fe=de._f.refs||[];if(qe?Fe.find(_t=>_t===Ne):Ne===de._f.ref)return;_n(a,I,{_f:{...de._f,...qe?{refs:[...Fe.filter(K1),Ne,...Array.isArray(Je(r,I))?[{}]:[]],ref:{type:Ne.type,name:I}}:{ref:Ne}}}),B(I,!1,void 0,Ne)}else de=Je(a,I,{}),de._f&&(de._f.mount=!1),(e.shouldUnregister||ie.shouldUnregister)&&!(KM(d.array,I)&&c.action)&&d.unMount.add(I)}}},ot=()=>e.shouldFocusError&&P0(a,X,d.mount),un=I=>{nl(I)&&(S.state.next({disabled:I}),P0(a,(ie,de)=>{const Pe=Je(a,de);Pe&&(ie.disabled=Pe._f.disabled||I,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(Le=>{Le.disabled=Pe._f.disabled||I}))},0,!1))},bi=(I,ie)=>async de=>{let Pe;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let Le=Aa(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:Ne,values:qe}=await K();n.errors=Ne,Le=Aa(qe)}else await oe(a);if(d.disabled.size)for(const Ne of d.disabled)Wn(Le,Ne);if(Wn(n.errors,"root"),zi(n.errors)){S.state.next({errors:{}});try{await I(Le,de)}catch(Ne){Pe=Ne}}else ie&&await ie({...n.errors},de),ot(),setTimeout(ot);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zi(n.errors)&&!Pe,submitCount:n.submitCount+1,errors:n.errors}),Pe)throw Pe},ga=(I,ie={})=>{Je(a,I)&&(In(ie.defaultValue)?L(I,Aa(Je(r,I))):(L(I,ie.defaultValue),_n(r,I,Aa(ie.defaultValue))),ie.keepTouched||Wn(n.touchedFields,I),ie.keepDirty||(Wn(n.dirtyFields,I),n.isDirty=ie.defaultValue?Re(I,Aa(Je(r,I))):Re()),ie.keepError||(Wn(n.errors,I),v.isValid&&R()),S.state.next({...n}))},Ha=(I,ie={})=>{const de=I?Aa(I):r,Pe=Aa(de),Le=zi(I),Ne=Le?r:Pe;if(ie.keepDefaultValues||(r=de),!ie.keepValues){if(ie.keepDirtyValues){const qe=new Set([...d.mount,...Object.keys(Ed(r,l))]);for(const Fe of Array.from(qe))Je(n.dirtyFields,Fe)?_n(Ne,Fe,Je(l,Fe)):L(Fe,Je(Ne,Fe))}else{if(y2&&In(I))for(const qe of d.mount){const Fe=Je(a,qe);if(Fe&&Fe._f){const _t=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Pm(_t)){const tn=_t.closest("form");if(tn){tn.reset();break}}}}if(ie.keepFieldsRef)for(const qe of d.mount)L(qe,Je(Ne,qe));else a={}}l=e.shouldUnregister?ie.keepDefaultValues?Aa(r):{}:Aa(Ne),S.array.next({values:{...Ne}}),S.state.next({values:{...Ne}})}d={mount:ie.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,c.watch=!!e.shouldUnregister,S.state.next({submitCount:ie.keepSubmitCount?n.submitCount:0,isDirty:Le?!1:ie.keepDirty?n.isDirty:!!(ie.keepDefaultValues&&!cu(I,r)),isSubmitted:ie.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Le?{}:ie.keepDirtyValues?ie.keepDefaultValues&&l?Ed(r,l):n.dirtyFields:ie.keepDefaultValues&&I?Ed(r,I):ie.keepDirty?n.dirtyFields:{},touchedFields:ie.keepTouched?n.touchedFields:{},errors:ie.keepErrors?n.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},ai=(I,ie)=>Ha(hs(I)?I(l):I,ie),ii=(I,ie={})=>{const de=Je(a,I),Pe=de&&de._f;if(Pe){const Le=Pe.refs?Pe.refs[0]:Pe.ref;Le.focus&&(Le.focus(),ie.shouldSelect&&hs(Le.select)&&Le.select())}},ia=I=>{n={...n,...I}},ki={control:{register:gt,unregister:lt,getFieldState:J,handleSubmit:bi,setError:Se,_subscribe:it,_runSchema:K,_focusError:ot,_getWatch:pe,_getDirty:Re,_setValid:R,_setFieldArray:j,_setDisabledField:Me,_setErrors:z,_getFieldArray:ye,_reset:Ha,_resetDefaultValues:()=>hs(e.defaultValues)&&e.defaultValues().then(I=>{ai(I,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:be,_disableForm:un,_subjects:S,_proxyFormState:v,get _fields(){return a},get _formValues(){return l},get _state(){return c},set _state(I){c=I},get _defaultValues(){return r},get _names(){return d},set _names(I){d=I},get _formState(){return n},get _options(){return e},set _options(I){e={...e,...I}}},subscribe:Ye,trigger:se,register:gt,handleSubmit:bi,watch:He,setValue:L,getValues:H,reset:ai,resetField:ga,clearErrors:ve,unregister:lt,setError:Se,setFocus:ii,getFieldState:J};return{...ki,formControl:ki}}function dD(t={}){const e=nt.useRef(void 0),n=nt.useRef(void 0),[a,r]=nt.useState({isDirty:!1,isValidating:!1,isLoading:hs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:hs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!hs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=fD(t);e.current={...d,formState:a}}const l=e.current.control;return l._options=t,QM(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>r({...l._formState}),reRenderRoot:!0});return r(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),nt.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),nt.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),nt.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),nt.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),nt.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==a.isDirty&&l._subjects.state.next({isDirty:c})}},[l,a.isDirty]),nt.useEffect(()=>{t.values&&!cu(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,r(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),nt.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=FM(a,l),e.current}const P4=(t,e,n)=>{if(t&&"reportValidity"in t){const a=Je(n,e);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Py=(t,e)=>{for(const n in e.fields){const a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?P4(a.ref,n,t):a&&a.refs&&a.refs.forEach(r=>P4(r,n,t))}},B4=(t,e)=>{e.shouldUseNativeValidation&&Py(t,e);const n={};for(const a in t){const r=Je(e.fields,a),l=Object.assign(t[a]||{},{ref:r&&r.ref});if(hD(e.names||Object.keys(t),a)){const c=Object.assign({},Je(n,a));_n(c,"root",l),_n(n,a,c)}else _n(n,a,l)}return n},hD=(t,e)=>{const n=H4(e);return t.some(a=>H4(a).match(`^${n}\\.\\d+`))};function H4(t){return t.replace(/\]|\[/g,"")}function Ae(t,e,n){function a(d,g){var m;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(m=d._zod).traits??(m.traits=new Set),d._zod.traits.add(t),e(d,g);for(const v in c.prototype)v in d||Object.defineProperty(d,v,{value:c.prototype[v].bind(d)});d._zod.constr=c,d._zod.def=g}const r=n?.Parent??Object;class l extends r{}Object.defineProperty(l,"name",{value:t});function c(d){var g;const m=n?.Parent?new l:this;a(m,d),(g=m._zod).deferred??(g.deferred=[]);for(const v of m._zod.deferred)v();return m}return Object.defineProperty(c,"init",{value:a}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Od extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class BS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const HS={};function Mc(t){return HS}function gD(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,r])=>e.indexOf(+a)===-1).map(([a,r])=>r)}function By(t,e){return typeof e=="bigint"?e.toString():e}function E2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function C2(t){return t==null}function T2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const G4=Symbol("evaluating");function An(t,e,n){let a;Object.defineProperty(t,e,{get(){if(a!==G4)return a===void 0&&(a=G4,a=n()),a},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function qc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Vc(...t){const e={};for(const n of t){const a=Object.getOwnPropertyDescriptors(n);Object.assign(e,a)}return Object.defineProperties({},e)}function q4(t){return JSON.stringify(t)}const GS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Hm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const pD=E2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Z0(t){if(Hm(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Hm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function qS(t){return Z0(t)?{...t}:Array.isArray(t)?[...t]:t}const mD=new Set(["string","number","symbol"]);function cv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wu(t,e,n){const a=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(a._zod.parent=t),a}function bt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function vD(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function yD(t,e){const n=t._zod.def,a=Vc(t._zod.def,{get shape(){const r={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(r[l]=n.shape[l])}return qc(this,"shape",r),r},checks:[]});return wu(t,a)}function bD(t,e){const n=t._zod.def,a=Vc(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete r[l]}return qc(this,"shape",r),r},checks:[]});return wu(t,a)}function _D(t,e){if(!Z0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Vc(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return qc(this,"shape",l),l},checks:[]});return wu(t,r)}function SD(t,e){if(!Z0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return qc(this,"shape",a),a},checks:t._zod.def.checks};return wu(t,n)}function wD(t,e){const n=Vc(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e._zod.def.shape};return qc(this,"shape",a),a},get catchall(){return e._zod.def.catchall},checks:[]});return wu(t,n)}function xD(t,e,n){const a=Vc(e._zod.def,{get shape(){const r=e._zod.def.shape,l={...r};if(n)for(const c in n){if(!(c in r))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=t?new t({type:"optional",innerType:r[c]}):r[c])}else for(const c in r)l[c]=t?new t({type:"optional",innerType:r[c]}):r[c];return qc(this,"shape",l),l},checks:[]});return wu(e,a)}function ED(t,e,n){const a=Vc(e._zod.def,{get shape(){const r=e._zod.def.shape,l={...r};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new t({type:"nonoptional",innerType:r[c]}))}else for(const c in r)l[c]=new t({type:"nonoptional",innerType:r[c]});return qc(this,"shape",l),l},checks:[]});return wu(e,a)}function Td(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function VS(t,e){return e.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(t),n})}function sm(t){return typeof t=="string"?t:t?.message}function Dc(t,e,n){const a={...t,path:t.path??[]};if(!t.message){const r=sm(t.inst?._zod.def?.error?.(t))??sm(e?.error?.(t))??sm(n.customError?.(t))??sm(n.localeError?.(t))??"Invalid input";a.message=r}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}function A2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function K0(...t){const[e,n,a]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:a}:{...e}}const YS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,By,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},R2=Ae("$ZodError",YS),fv=Ae("$ZodError",YS,{Parent:Error});function CD(t,e=n=>n.message){const n={},a=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:n}}function TD(t,e=n=>n.message){const n={_errors:[]},a=r=>{for(const l of r.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>a({issues:c}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let c=n,d=0;for(;d<l.path.length;){const g=l.path[d];d===l.path.length-1?(c[g]=c[g]||{_errors:[]},c[g]._errors.push(e(l))):c[g]=c[g]||{_errors:[]},c=c[g],d++}}};return a(t),n}const dv=t=>(e,n,a,r)=>{const l=a?Object.assign(a,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new Od;if(c.issues.length){const d=new(r?.Err??t)(c.issues.map(g=>Dc(g,l,Mc())));throw GS(d,r?.callee),d}return c.value},AD=dv(fv),hv=t=>async(e,n,a,r)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(r?.Err??t)(c.issues.map(g=>Dc(g,l,Mc())));throw GS(d,r?.callee),d}return c.value},RD=hv(fv),gv=t=>(e,n,a)=>{const r=a?{...a,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},r);if(l instanceof Promise)throw new Od;return l.issues.length?{success:!1,error:new(t??R2)(l.issues.map(c=>Dc(c,r,Mc())))}:{success:!0,data:l.value}},OD=gv(fv),pv=t=>async(e,n,a)=>{const r=a?Object.assign(a,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},r);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(c=>Dc(c,r,Mc())))}:{success:!0,data:l.value}},MD=pv(fv),DD=t=>(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return dv(t)(e,n,r)},ND=t=>(e,n,a)=>dv(t)(e,n,a),jD=t=>async(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return hv(t)(e,n,r)},zD=t=>async(e,n,a)=>hv(t)(e,n,a),UD=t=>(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return gv(t)(e,n,r)},LD=t=>(e,n,a)=>gv(t)(e,n,a),kD=t=>async(e,n,a)=>{const r=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return pv(t)(e,n,r)},PD=t=>async(e,n,a)=>pv(t)(e,n,a),BD=/^[cC][^\s-]{8,}$/,HD=/^[0-9a-z]+$/,GD=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,qD=/^[0-9a-vA-V]{20}$/,VD=/^[A-Za-z0-9]{27}$/,YD=/^[a-zA-Z0-9_-]{21}$/,ZD=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,KD=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,V4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,ID=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,XD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function FD(){return new RegExp(XD,"u")}const QD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$D=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,JD=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,WD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ZS=/^[A-Za-z0-9_-]*$/,tN=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,nN=/^\+(?:[0-9]){6,14}[0-9]$/,KS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",aN=new RegExp(`^${KS}$`);function IS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function iN(t){return new RegExp(`^${IS(t)}$`)}function rN(t){const e=IS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${e}(?:${n.join("|")})`;return new RegExp(`^${KS}T(?:${a})$`)}const sN=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},lN=/^[^A-Z]*$/,oN=/^[^a-z]*$/,cl=Ae("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),uN=Ae("$ZodCheckMaxLength",(t,e)=>{var n;cl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const r=a.value;return!C2(r)&&r.length!==void 0}),t._zod.onattach.push(a=>{const r=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const r=a.value;if(r.length<=e.maximum)return;const c=A2(r);a.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),cN=Ae("$ZodCheckMinLength",(t,e)=>{var n;cl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const r=a.value;return!C2(r)&&r.length!==void 0}),t._zod.onattach.push(a=>{const r=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const r=a.value;if(r.length>=e.minimum)return;const c=A2(r);a.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),fN=Ae("$ZodCheckLengthEquals",(t,e)=>{var n;cl.init(t,e),(n=t._zod.def).when??(n.when=a=>{const r=a.value;return!C2(r)&&r.length!==void 0}),t._zod.onattach.push(a=>{const r=a._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=a=>{const r=a.value,l=r.length;if(l===e.length)return;const c=A2(r),d=l>e.length;a.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),mv=Ae("$ZodCheckStringFormat",(t,e)=>{var n,a;cl.init(t,e),t._zod.onattach.push(r=>{const l=r._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),dN=Ae("$ZodCheckRegex",(t,e)=>{mv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),hN=Ae("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=lN),mv.init(t,e)}),gN=Ae("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=oN),mv.init(t,e)}),pN=Ae("$ZodCheckIncludes",(t,e)=>{cl.init(t,e);const n=cv(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=a,t._zod.onattach.push(r=>{const l=r._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(a)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),mN=Ae("$ZodCheckStartsWith",(t,e)=>{cl.init(t,e);const n=new RegExp(`^${cv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const r=a._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),vN=Ae("$ZodCheckEndsWith",(t,e)=>{cl.init(t,e);const n=new RegExp(`.*${cv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(a=>{const r=a._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),yN=Ae("$ZodCheckOverwrite",(t,e)=>{cl.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class bN{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(c=>c),r=Math.min(...a.map(c=>c.length-c.trimStart().length)),l=a.map(c=>c.slice(r)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const e=Function,n=this?.args,r=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,r.join(`
`))}}const _N={major:4,minor:1,patch:12},ha=Ae("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=_N;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const r of a)for(const l of r._zod.onattach)l(t);if(a.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const r=(c,d,g)=>{let m=Td(c),v;for(const _ of d){if(_._zod.def.when){if(!_._zod.def.when(c))continue}else if(m)continue;const S=c.issues.length,E=_._zod.check(c);if(E instanceof Promise&&g?.async===!1)throw new Od;if(v||E instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await E,c.issues.length!==S&&(m||(m=Td(c,S)))});else{if(c.issues.length===S)continue;m||(m=Td(c,S))}}return v?v.then(()=>c):c},l=(c,d,g)=>{if(Td(c))return c.aborted=!0,c;const m=r(d,a,g);if(m instanceof Promise){if(g.async===!1)throw new Od;return m.then(v=>t._zod.parse(v,g))}return t._zod.parse(m,g)};t._zod.run=(c,d)=>{if(d.skipChecks)return t._zod.parse(c,d);if(d.direction==="backward"){const m=t._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return m instanceof Promise?m.then(v=>l(v,c,d)):l(m,c,d)}const g=t._zod.parse(c,d);if(g instanceof Promise){if(d.async===!1)throw new Od;return g.then(m=>r(m,a,d))}return r(g,a,d)}}t["~standard"]={validate:r=>{try{const l=OD(t,r);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return MD(t,r).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),O2=Ae("$ZodString",(t,e)=>{ha.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??sN(t._zod.bag),t._zod.parse=(n,a)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),zn=Ae("$ZodStringFormat",(t,e)=>{mv.init(t,e),O2.init(t,e)}),SN=Ae("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=KD),zn.init(t,e)}),wN=Ae("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=V4(a))}else e.pattern??(e.pattern=V4());zn.init(t,e)}),xN=Ae("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=ID),zn.init(t,e)}),EN=Ae("$ZodURL",(t,e)=>{zn.init(t,e),t._zod.check=n=>{try{const a=n.value.trim(),r=new URL(a);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:tN.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),CN=Ae("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=FD()),zn.init(t,e)}),TN=Ae("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=YD),zn.init(t,e)}),AN=Ae("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=BD),zn.init(t,e)}),RN=Ae("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=HD),zn.init(t,e)}),ON=Ae("$ZodULID",(t,e)=>{e.pattern??(e.pattern=GD),zn.init(t,e)}),MN=Ae("$ZodXID",(t,e)=>{e.pattern??(e.pattern=qD),zn.init(t,e)}),DN=Ae("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=VD),zn.init(t,e)}),NN=Ae("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=rN(e)),zn.init(t,e)}),jN=Ae("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=aN),zn.init(t,e)}),zN=Ae("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=iN(e)),zn.init(t,e)}),UN=Ae("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=ZD),zn.init(t,e)}),LN=Ae("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=QD),zn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),kN=Ae("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=$D),zn.init(t,e),t._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),PN=Ae("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=JD),zn.init(t,e)}),BN=Ae("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=WD),zn.init(t,e),t._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[r,l]=a;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function XS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const HN=Ae("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=eN),zn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{XS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function GN(t){if(!ZS.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return XS(n)}const qN=Ae("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=ZS),zn.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{GN(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),VN=Ae("$ZodE164",(t,e)=>{e.pattern??(e.pattern=nN),zn.init(t,e)});function YN(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const r=JSON.parse(atob(a));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const ZN=Ae("$ZodJWT",(t,e)=>{zn.init(t,e),t._zod.check=n=>{YN(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),KN=Ae("$ZodUnknown",(t,e)=>{ha.init(t,e),t._zod.parse=n=>n}),IN=Ae("$ZodNever",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function Y4(t,e,n){t.issues.length&&e.issues.push(...VS(n,t.issues)),e.value[n]=t.value}const XN=Ae("$ZodArray",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const l=[];for(let c=0;c<r.length;c++){const d=r[c],g=e.element._zod.run({value:d,issues:[]},a);g instanceof Promise?l.push(g.then(m=>Y4(m,n,c))):Y4(g,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Gm(t,e,n,a){t.issues.length&&e.issues.push(...VS(n,t.issues)),t.value===void 0?n in a&&(e.value[n]=void 0):e.value[n]=t.value}function FS(t){const e=Object.keys(t.shape);for(const a of e)if(!t.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=vD(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function QS(t,e,n,a,r,l){const c=[],d=r.keySet,g=r.catchall._zod,m=g.def.type;for(const v of Object.keys(e)){if(d.has(v))continue;if(m==="never"){c.push(v);continue}const _=g.run({value:e[v],issues:[]},a);_ instanceof Promise?t.push(_.then(S=>Gm(S,n,v,e))):Gm(_,n,v,e)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const FN=Ae("$ZodObject",(t,e)=>{if(ha.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const g={...d};return Object.defineProperty(e,"shape",{value:g}),g}})}const a=E2(()=>FS(e));An(t._zod,"propValues",()=>{const d=e.shape,g={};for(const m in d){const v=d[m]._zod;if(v.values){g[m]??(g[m]=new Set);for(const _ of v.values)g[m].add(_)}}return g});const r=Hm,l=e.catchall;let c;t._zod.parse=(d,g)=>{c??(c=a.value);const m=d.value;if(!r(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),d;d.value={};const v=[],_=c.shape;for(const S of c.keys){const T=_[S]._zod.run({value:m[S],issues:[]},g);T instanceof Promise?v.push(T.then(R=>Gm(R,d,S,m))):Gm(T,d,S,m)}return l?QS(v,m,d,g,a.value,t):v.length?Promise.all(v).then(()=>d):d}}),QN=Ae("$ZodObjectJIT",(t,e)=>{FN.init(t,e);const n=t._zod.parse,a=E2(()=>FS(e)),r=S=>{const E=new bN(["shape","payload","ctx"]),T=a.value,R=z=>{const B=q4(z);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};E.write("const input = payload.value;");const O=Object.create(null);let j=0;for(const z of T.keys)O[z]=`key_${j++}`;E.write("const newResult = {};");for(const z of T.keys){const B=O[z],G=q4(z);E.write(`const ${B} = ${R(z)};`),E.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${G}, ...iss.path] : [${G}]
          })));
        }
        
        
        if (${B}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${B}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const N=E.compile();return(z,B)=>N(S,z,B)};let l;const c=Hm,d=!HS.jitless,m=d&&pD.value,v=e.catchall;let _;t._zod.parse=(S,E)=>{_??(_=a.value);const T=S.value;return c(T)?d&&m&&E?.async===!1&&E.jitless!==!0?(l||(l=r(e.shape)),S=l(S,E),v?QS([],T,S,E,_,t):S):n(S,E):(S.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),S)}});function Z4(t,e,n,a){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const r=t.filter(l=>!Td(l));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(c=>Dc(c,a,Mc())))}),e)}const $N=Ae("$ZodUnion",(t,e)=>{ha.init(t,e),An(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),An(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),An(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),An(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${r.map(l=>T2(l.source)).join("|")})$`)}});const n=e.options.length===1,a=e.options[0]._zod.run;t._zod.parse=(r,l)=>{if(n)return a(r,l);let c=!1;const d=[];for(const g of e.options){const m=g._zod.run({value:r.value,issues:[]},l);if(m instanceof Promise)d.push(m),c=!0;else{if(m.issues.length===0)return m;d.push(m)}}return c?Promise.all(d).then(g=>Z4(g,r,t,l)):Z4(d,r,t,l)}}),JN=Ae("$ZodIntersection",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>{const r=n.value,l=e.left._zod.run({value:r,issues:[]},a),c=e.right._zod.run({value:r,issues:[]},a);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([g,m])=>K4(n,g,m)):K4(n,l,c)}});function Hy(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Z0(t)&&Z0(e)){const n=Object.keys(e),a=Object.keys(t).filter(l=>n.indexOf(l)!==-1),r={...t,...e};for(const l of a){const c=Hy(t[l],e[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};r[l]=c.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<t.length;a++){const r=t[a],l=e[a],c=Hy(r,l);if(!c.valid)return{valid:!1,mergeErrorPath:[a,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function K4(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Td(t))return t;const a=Hy(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const WN=Ae("$ZodEnum",(t,e)=>{ha.init(t,e);const n=gD(e.entries),a=new Set(n);t._zod.values=a,t._zod.pattern=new RegExp(`^(${n.filter(r=>mD.has(typeof r)).map(r=>typeof r=="string"?cv(r):r.toString()).join("|")})$`),t._zod.parse=(r,l)=>{const c=r.value;return a.has(c)||r.issues.push({code:"invalid_value",values:n,input:c,inst:t}),r}}),ej=Ae("$ZodTransform",(t,e)=>{ha.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new BS(t.constructor.name);const r=e.transform(n.value,n);if(a.async)return(r instanceof Promise?r:Promise.resolve(r)).then(c=>(n.value=c,n));if(r instanceof Promise)throw new Od;return n.value=r,n}});function I4(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const tj=Ae("$ZodOptional",(t,e)=>{ha.init(t,e),t._zod.optin="optional",t._zod.optout="optional",An(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),An(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${T2(n.source)})?$`):void 0}),t._zod.parse=(n,a)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>I4(l,n.value)):I4(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,a)}}),nj=Ae("$ZodNullable",(t,e)=>{ha.init(t,e),An(t._zod,"optin",()=>e.innerType._zod.optin),An(t._zod,"optout",()=>e.innerType._zod.optout),An(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${T2(n.source)}|null)$`):void 0}),An(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,a)=>n.value===null?n:e.innerType._zod.run(n,a)}),aj=Ae("$ZodDefault",(t,e)=>{ha.init(t,e),t._zod.optin="optional",An(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>X4(l,e)):X4(r,e)}});function X4(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const ij=Ae("$ZodPrefault",(t,e)=>{ha.init(t,e),t._zod.optin="optional",An(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,a))}),rj=Ae("$ZodNonOptional",(t,e)=>{ha.init(t,e),An(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),t._zod.parse=(n,a)=>{const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>F4(l,t)):F4(r,t)}});function F4(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const sj=Ae("$ZodCatch",(t,e)=>{ha.init(t,e),An(t._zod,"optin",()=>e.innerType._zod.optin),An(t._zod,"optout",()=>e.innerType._zod.optout),An(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(c=>Dc(c,a,Mc()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(l=>Dc(l,a,Mc()))},input:n.value}),n.issues=[]),n)}}),lj=Ae("$ZodPipe",(t,e)=>{ha.init(t,e),An(t._zod,"values",()=>e.in._zod.values),An(t._zod,"optin",()=>e.in._zod.optin),An(t._zod,"optout",()=>e.out._zod.optout),An(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,a)=>{if(a.direction==="backward"){const l=e.out._zod.run(n,a);return l instanceof Promise?l.then(c=>lm(c,e.in,a)):lm(l,e.in,a)}const r=e.in._zod.run(n,a);return r instanceof Promise?r.then(l=>lm(l,e.out,a)):lm(r,e.out,a)}});function lm(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const oj=Ae("$ZodReadonly",(t,e)=>{ha.init(t,e),An(t._zod,"propValues",()=>e.innerType._zod.propValues),An(t._zod,"values",()=>e.innerType._zod.values),An(t._zod,"optin",()=>e.innerType._zod.optin),An(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,a)=>{if(a.direction==="backward")return e.innerType._zod.run(n,a);const r=e.innerType._zod.run(n,a);return r instanceof Promise?r.then(Q4):Q4(r)}});function Q4(t){return t.value=Object.freeze(t.value),t}const uj=Ae("$ZodCustom",(t,e)=>{cl.init(t,e),ha.init(t,e),t._zod.parse=(n,a)=>n,t._zod.check=n=>{const a=n.value,r=e.fn(a);if(r instanceof Promise)return r.then(l=>$4(l,n,a,t));$4(r,n,a,t)}});function $4(t,e,n,a){if(!t){const r={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(r.params=a._zod.def.params),e.issues.push(K0(r))}}class cj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const a=n[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const r={...a,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function fj(){return new cj}const om=fj();function dj(t,e){return new t({type:"string",...bt(e)})}function hj(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...bt(e)})}function J4(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...bt(e)})}function gj(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...bt(e)})}function pj(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...bt(e)})}function mj(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...bt(e)})}function vj(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...bt(e)})}function yj(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...bt(e)})}function bj(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...bt(e)})}function _j(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...bt(e)})}function Sj(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...bt(e)})}function wj(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...bt(e)})}function xj(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...bt(e)})}function Ej(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...bt(e)})}function Cj(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...bt(e)})}function Tj(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...bt(e)})}function Aj(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...bt(e)})}function Rj(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...bt(e)})}function Oj(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...bt(e)})}function Mj(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...bt(e)})}function Dj(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...bt(e)})}function Nj(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...bt(e)})}function jj(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...bt(e)})}function zj(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...bt(e)})}function Uj(t,e){return new t({type:"string",format:"date",check:"string_format",...bt(e)})}function Lj(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...bt(e)})}function kj(t,e){return new t({type:"string",format:"duration",check:"string_format",...bt(e)})}function Pj(t){return new t({type:"unknown"})}function Bj(t,e){return new t({type:"never",...bt(e)})}function $S(t,e){return new uN({check:"max_length",...bt(e),maximum:t})}function qm(t,e){return new cN({check:"min_length",...bt(e),minimum:t})}function JS(t,e){return new fN({check:"length_equals",...bt(e),length:t})}function Hj(t,e){return new dN({check:"string_format",format:"regex",...bt(e),pattern:t})}function Gj(t){return new hN({check:"string_format",format:"lowercase",...bt(t)})}function qj(t){return new gN({check:"string_format",format:"uppercase",...bt(t)})}function Vj(t,e){return new pN({check:"string_format",format:"includes",...bt(e),includes:t})}function Yj(t,e){return new mN({check:"string_format",format:"starts_with",...bt(e),prefix:t})}function Zj(t,e){return new vN({check:"string_format",format:"ends_with",...bt(e),suffix:t})}function sg(t){return new yN({check:"overwrite",tx:t})}function Kj(t){return sg(e=>e.normalize(t))}function Ij(){return sg(t=>t.trim())}function Xj(){return sg(t=>t.toLowerCase())}function Fj(){return sg(t=>t.toUpperCase())}function Qj(t,e,n){return new t({type:"array",element:e,...bt(n)})}function $j(t,e,n){return new t({type:"custom",check:"custom",fn:e,...bt(n)})}function Jj(t){const e=Wj(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(K0(a,n.value,e._zod.def));else{const r=a;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(K0(r))}},t(n.value,n)));return e}function Wj(t,e){const n=new cl({check:"custom",...bt(e)});return n._zod.check=t,n}function W4(t,e){try{var n=t()}catch(a){return e(a)}return n&&n.then?n.then(void 0,e):n}function ez(t,e){for(var n={};t.length;){var a=t[0],r=a.code,l=a.message,c=a.path.join(".");if(!n[c])if("unionErrors"in a){var d=a.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:r};if("unionErrors"in a&&a.unionErrors.forEach(function(v){return v.errors.forEach(function(_){return t.push(_)})}),e){var g=n[c].types,m=g&&g[a.code];n[c]=S2(c,e,n,r,m?[].concat(m,a.message):a.message)}t.shift()}return n}function tz(t,e){for(var n={};t.length;){var a=t[0],r=a.code,l=a.message,c=a.path.join(".");if(!n[c])if(a.code==="invalid_union"&&a.errors.length>0){var d=a.errors[0][0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:r};if(a.code==="invalid_union"&&a.errors.forEach(function(v){return v.forEach(function(_){return t.push(_)})}),e){var g=n[c].types,m=g&&g[a.code];n[c]=S2(c,e,n,r,m?[].concat(m,a.message):a.message)}t.shift()}return n}function nz(t,e,n){if(n===void 0&&(n={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(t))return function(a,r,l){try{return Promise.resolve(W4(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(c){return l.shouldUseNativeValidation&&Py({},l),{errors:{},values:n.raw?Object.assign({},a):c}})},function(c){if((function(d){return Array.isArray(d?.issues)})(c))return{values:{},errors:B4(ez(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(t))return function(a,r,l){try{return Promise.resolve(W4(function(){return Promise.resolve((n.mode==="sync"?AD:RD)(t,a,e)).then(function(c){return l.shouldUseNativeValidation&&Py({},l),{errors:{},values:n.raw?Object.assign({},a):c}})},function(c){if((function(d){return d instanceof R2})(c))return{values:{},errors:B4(tz(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const az=Ae("ZodISODateTime",(t,e)=>{NN.init(t,e),kn.init(t,e)});function iz(t){return zj(az,t)}const rz=Ae("ZodISODate",(t,e)=>{jN.init(t,e),kn.init(t,e)});function sz(t){return Uj(rz,t)}const lz=Ae("ZodISOTime",(t,e)=>{zN.init(t,e),kn.init(t,e)});function oz(t){return Lj(lz,t)}const uz=Ae("ZodISODuration",(t,e)=>{UN.init(t,e),kn.init(t,e)});function cz(t){return kj(uz,t)}const fz=(t,e)=>{R2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>TD(t,n)},flatten:{value:n=>CD(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,By,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,By,2)}},isEmpty:{get(){return t.issues.length===0}}})},zr=Ae("ZodError",fz,{Parent:Error}),dz=dv(zr),hz=hv(zr),gz=gv(zr),pz=pv(zr),mz=DD(zr),vz=ND(zr),yz=jD(zr),bz=zD(zr),_z=UD(zr),Sz=LD(zr),wz=kD(zr),xz=PD(zr),Ra=Ae("ZodType",(t,e)=>(ha.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Vc(e,{checks:[...e.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),t.clone=(n,a)=>wu(t,n,a),t.brand=()=>t,t.register=((n,a)=>(n.add(t,a),t)),t.parse=(n,a)=>dz(t,n,a,{callee:t.parse}),t.safeParse=(n,a)=>gz(t,n,a),t.parseAsync=async(n,a)=>hz(t,n,a,{callee:t.parseAsync}),t.safeParseAsync=async(n,a)=>pz(t,n,a),t.spa=t.safeParseAsync,t.encode=(n,a)=>mz(t,n,a),t.decode=(n,a)=>vz(t,n,a),t.encodeAsync=async(n,a)=>yz(t,n,a),t.decodeAsync=async(n,a)=>bz(t,n,a),t.safeEncode=(n,a)=>_z(t,n,a),t.safeDecode=(n,a)=>Sz(t,n,a),t.safeEncodeAsync=async(n,a)=>wz(t,n,a),t.safeDecodeAsync=async(n,a)=>xz(t,n,a),t.refine=(n,a)=>t.check(gU(n,a)),t.superRefine=n=>t.check(pU(n)),t.overwrite=n=>t.check(sg(n)),t.optional=()=>n5(t),t.nullable=()=>a5(t),t.nullish=()=>n5(a5(t)),t.nonoptional=n=>lU(t,n),t.array=()=>Kz(t),t.or=n=>Qz([t,n]),t.and=n=>Jz(t,n),t.transform=n=>i5(t,tU(n)),t.default=n=>iU(t,n),t.prefault=n=>sU(t,n),t.catch=n=>uU(t,n),t.pipe=n=>i5(t,n),t.readonly=()=>dU(t),t.describe=n=>{const a=t.clone();return om.add(a,{description:n}),a},Object.defineProperty(t,"description",{get(){return om.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return om.get(t);const a=t.clone();return om.add(a,n[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),WS=Ae("_ZodString",(t,e)=>{O2.init(t,e),Ra.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...a)=>t.check(Hj(...a)),t.includes=(...a)=>t.check(Vj(...a)),t.startsWith=(...a)=>t.check(Yj(...a)),t.endsWith=(...a)=>t.check(Zj(...a)),t.min=(...a)=>t.check(qm(...a)),t.max=(...a)=>t.check($S(...a)),t.length=(...a)=>t.check(JS(...a)),t.nonempty=(...a)=>t.check(qm(1,...a)),t.lowercase=a=>t.check(Gj(a)),t.uppercase=a=>t.check(qj(a)),t.trim=()=>t.check(Ij()),t.normalize=(...a)=>t.check(Kj(...a)),t.toLowerCase=()=>t.check(Xj()),t.toUpperCase=()=>t.check(Fj())}),Ez=Ae("ZodString",(t,e)=>{O2.init(t,e),WS.init(t,e),t.email=n=>t.check(hj(Cz,n)),t.url=n=>t.check(yj(Tz,n)),t.jwt=n=>t.check(jj(Gz,n)),t.emoji=n=>t.check(bj(Az,n)),t.guid=n=>t.check(J4(e5,n)),t.uuid=n=>t.check(gj(um,n)),t.uuidv4=n=>t.check(pj(um,n)),t.uuidv6=n=>t.check(mj(um,n)),t.uuidv7=n=>t.check(vj(um,n)),t.nanoid=n=>t.check(_j(Rz,n)),t.guid=n=>t.check(J4(e5,n)),t.cuid=n=>t.check(Sj(Oz,n)),t.cuid2=n=>t.check(wj(Mz,n)),t.ulid=n=>t.check(xj(Dz,n)),t.base64=n=>t.check(Mj(Pz,n)),t.base64url=n=>t.check(Dj(Bz,n)),t.xid=n=>t.check(Ej(Nz,n)),t.ksuid=n=>t.check(Cj(jz,n)),t.ipv4=n=>t.check(Tj(zz,n)),t.ipv6=n=>t.check(Aj(Uz,n)),t.cidrv4=n=>t.check(Rj(Lz,n)),t.cidrv6=n=>t.check(Oj(kz,n)),t.e164=n=>t.check(Nj(Hz,n)),t.datetime=n=>t.check(iz(n)),t.date=n=>t.check(sz(n)),t.time=n=>t.check(oz(n)),t.duration=n=>t.check(cz(n))});function _0(t){return dj(Ez,t)}const kn=Ae("ZodStringFormat",(t,e)=>{zn.init(t,e),WS.init(t,e)}),Cz=Ae("ZodEmail",(t,e)=>{xN.init(t,e),kn.init(t,e)}),e5=Ae("ZodGUID",(t,e)=>{SN.init(t,e),kn.init(t,e)}),um=Ae("ZodUUID",(t,e)=>{wN.init(t,e),kn.init(t,e)}),Tz=Ae("ZodURL",(t,e)=>{EN.init(t,e),kn.init(t,e)}),Az=Ae("ZodEmoji",(t,e)=>{CN.init(t,e),kn.init(t,e)}),Rz=Ae("ZodNanoID",(t,e)=>{TN.init(t,e),kn.init(t,e)}),Oz=Ae("ZodCUID",(t,e)=>{AN.init(t,e),kn.init(t,e)}),Mz=Ae("ZodCUID2",(t,e)=>{RN.init(t,e),kn.init(t,e)}),Dz=Ae("ZodULID",(t,e)=>{ON.init(t,e),kn.init(t,e)}),Nz=Ae("ZodXID",(t,e)=>{MN.init(t,e),kn.init(t,e)}),jz=Ae("ZodKSUID",(t,e)=>{DN.init(t,e),kn.init(t,e)}),zz=Ae("ZodIPv4",(t,e)=>{LN.init(t,e),kn.init(t,e)}),Uz=Ae("ZodIPv6",(t,e)=>{kN.init(t,e),kn.init(t,e)}),Lz=Ae("ZodCIDRv4",(t,e)=>{PN.init(t,e),kn.init(t,e)}),kz=Ae("ZodCIDRv6",(t,e)=>{BN.init(t,e),kn.init(t,e)}),Pz=Ae("ZodBase64",(t,e)=>{HN.init(t,e),kn.init(t,e)}),Bz=Ae("ZodBase64URL",(t,e)=>{qN.init(t,e),kn.init(t,e)}),Hz=Ae("ZodE164",(t,e)=>{VN.init(t,e),kn.init(t,e)}),Gz=Ae("ZodJWT",(t,e)=>{ZN.init(t,e),kn.init(t,e)}),qz=Ae("ZodUnknown",(t,e)=>{KN.init(t,e),Ra.init(t,e)});function t5(){return Pj(qz)}const Vz=Ae("ZodNever",(t,e)=>{IN.init(t,e),Ra.init(t,e)});function Yz(t){return Bj(Vz,t)}const Zz=Ae("ZodArray",(t,e)=>{XN.init(t,e),Ra.init(t,e),t.element=e.element,t.min=(n,a)=>t.check(qm(n,a)),t.nonempty=n=>t.check(qm(1,n)),t.max=(n,a)=>t.check($S(n,a)),t.length=(n,a)=>t.check(JS(n,a)),t.unwrap=()=>t.element});function Kz(t,e){return Qj(Zz,t,e)}const Iz=Ae("ZodObject",(t,e)=>{QN.init(t,e),Ra.init(t,e),An(t,"shape",()=>e.shape),t.keyof=()=>Wz(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:t5()}),t.loose=()=>t.clone({...t._zod.def,catchall:t5()}),t.strict=()=>t.clone({...t._zod.def,catchall:Yz()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>_D(t,n),t.safeExtend=n=>SD(t,n),t.merge=n=>wD(t,n),t.pick=n=>yD(t,n),t.omit=n=>bD(t,n),t.partial=(...n)=>xD(e6,t,n[0]),t.required=(...n)=>ED(t6,t,n[0])});function Xz(t,e){const n={type:"object",shape:t??{},...bt(e)};return new Iz(n)}const Fz=Ae("ZodUnion",(t,e)=>{$N.init(t,e),Ra.init(t,e),t.options=e.options});function Qz(t,e){return new Fz({type:"union",options:t,...bt(e)})}const $z=Ae("ZodIntersection",(t,e)=>{JN.init(t,e),Ra.init(t,e)});function Jz(t,e){return new $z({type:"intersection",left:t,right:e})}const Gy=Ae("ZodEnum",(t,e)=>{WN.init(t,e),Ra.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(a,r)=>{const l={};for(const c of a)if(n.has(c))l[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Gy({...e,checks:[],...bt(r),entries:l})},t.exclude=(a,r)=>{const l={...e.entries};for(const c of a)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Gy({...e,checks:[],...bt(r),entries:l})}});function Wz(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new Gy({type:"enum",entries:n,...bt(e)})}const eU=Ae("ZodTransform",(t,e)=>{ej.init(t,e),Ra.init(t,e),t._zod.parse=(n,a)=>{if(a.direction==="backward")throw new BS(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(K0(l,n.value,e));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(K0(c))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(l=>(n.value=l,n)):(n.value=r,n)}});function tU(t){return new eU({type:"transform",transform:t})}const e6=Ae("ZodOptional",(t,e)=>{tj.init(t,e),Ra.init(t,e),t.unwrap=()=>t._zod.def.innerType});function n5(t){return new e6({type:"optional",innerType:t})}const nU=Ae("ZodNullable",(t,e)=>{nj.init(t,e),Ra.init(t,e),t.unwrap=()=>t._zod.def.innerType});function a5(t){return new nU({type:"nullable",innerType:t})}const aU=Ae("ZodDefault",(t,e)=>{aj.init(t,e),Ra.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function iU(t,e){return new aU({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():qS(e)}})}const rU=Ae("ZodPrefault",(t,e)=>{ij.init(t,e),Ra.init(t,e),t.unwrap=()=>t._zod.def.innerType});function sU(t,e){return new rU({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():qS(e)}})}const t6=Ae("ZodNonOptional",(t,e)=>{rj.init(t,e),Ra.init(t,e),t.unwrap=()=>t._zod.def.innerType});function lU(t,e){return new t6({type:"nonoptional",innerType:t,...bt(e)})}const oU=Ae("ZodCatch",(t,e)=>{sj.init(t,e),Ra.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function uU(t,e){return new oU({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const cU=Ae("ZodPipe",(t,e)=>{lj.init(t,e),Ra.init(t,e),t.in=e.in,t.out=e.out});function i5(t,e){return new cU({type:"pipe",in:t,out:e})}const fU=Ae("ZodReadonly",(t,e)=>{oj.init(t,e),Ra.init(t,e),t.unwrap=()=>t._zod.def.innerType});function dU(t){return new fU({type:"readonly",innerType:t})}const hU=Ae("ZodCustom",(t,e)=>{uj.init(t,e),Ra.init(t,e)});function gU(t,e={}){return $j(hU,t,e)}function pU(t){return Jj(t)}const mU=Xz({title:_0().min(3,"Title must be at least 3 characters").max(50,"Title must be at most 50 characters"),description:_0().min(10,"Description must be at least 10 characters").max(100,"Description must be at most 100 characters"),color:_0(),date:_0(),time:_0()});function vU({onAddTask:t,onUpdateTask:e,onCloseForm:n,initialData:a}){const{register:r,handleSubmit:l,setError:c,formState:{errors:d,isSubmitting:g}}=dD({defaultValues:a&&a.behavior==="node"?{title:a.title,description:a.description,date:a.dueDate,time:"09:11"}:{title:"My New Subject",date:"2025-10-11",time:"06:07"},resolver:nz(mU)}),[m,v]=M.useState("#ff2056"),_=async S=>{try{await new Promise(E=>setTimeout(E,500)),a?e(a,S):t(S),n()}catch(E){c("root",{message:"This Task already exists!: "+E})}};return A.jsxs("div",{children:[A.jsx("div",{className:"absolute h-full w-full bg-black opacity-50 backdrop z-99"}),A.jsxs("div",{className:"absolute bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-10 py-10 inset-0 flex flex-col justify-between w-150 h-fit max-h-200  items-start border-px rounded-lg shadow-2xl z-100",children:[A.jsx("div",{className:"absolute top-0 left-0 rounded-t-lg w-full h-5 ",style:{backgroundColor:m}}),A.jsxs("form",{onSubmit:l(_),className:"w-full h-full",children:[A.jsxs("div",{className:"mb-2 flex flex-row items-end justify-between h-15  w-full",children:[A.jsx("input",{...r("title"),type:"text",id:"title",size:11,placeholder:"My New Subject",className:"text-3xl h-full p-2 font-bold rounded-lg"}),d.title&&A.jsx("div",{className:"text-red-500",children:d.title?.message}),A.jsx("button",{onClick:n,className:"hover:cursor-pointer p-2 h-full",children:"X"})]}),A.jsxs("div",{className:"mb-8 flex flex-col gap-5 w-full items-start",children:[A.jsxs("div",{className:"inline-flex gap-2",children:[A.jsx("svg",{className:"w-6 h-6 text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",children:A.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h10"})}),A.jsx("label",{className:"text-md font-semibold",children:"Description"})]}),A.jsx("textarea",{...r("description"),placeholder:"Add a detailed description for subject...",className:"border border-gray-300 bg-gray-50 rounded-lg p-2 shadow-xs ml-8 w-[calc(100%-2rem)] items-start h-25 resize-none"}),d.description&&A.jsx("div",{className:"text-red-500",children:d.description?.message})]}),A.jsx("hr",{className:"h-px w-full my-2 bg-gray-200 border-0"}),A.jsxs("div",{className:"flex flex-row flex-auto gap-10 w-full mt-5 mb-5",children:[A.jsxs("div",{className:"mb-5 flex flex-col gap-1 w-full",children:[A.jsx("label",{className:"text-lg font-semibold",children:"Date"}),A.jsx("input",{...r("date"),type:"date",name:"date",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer"})]}),A.jsxs("div",{className:"mb-5 flex flex-col gap-1",children:[A.jsx("label",{className:"text-lg font-semibold",children:"Due Time"}),A.jsx("input",{...r("time"),type:"time",name:"time",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer"})]}),A.jsxs("div",{className:"mb-5 flex flex-col gap-1",children:[A.jsx("label",{className:"text-lg font-semibold",children:"Color"}),A.jsxs("select",{...r("color"),onChange:S=>v(S.target.value),name:"color",className:"border border-gray-300 bg-gray-100 rounded-lg p-2 shadow-xs hover:cursor-pointer",children:[A.jsx("option",{value:"#ff2056",children:"Red"}),A.jsx("option",{value:"#2b7fff",children:"Blue"}),A.jsx("option",{value:"#00bc7d",children:"Green"}),A.jsx("option",{value:"#ad46ff",children:"Purple"}),A.jsx("option",{value:"#ff6900",children:"Orange"})]})]})]}),A.jsxs("div",{className:"flex flex-row justify-between gap-2 w-full h-full",children:[A.jsx("button",{className:"border py-2.5 px-5 h-fit border-red-500 font-medium text-red-500 bg-red-50 rounded-lg hover:bg-red-500 hover:text-white hover:cursor-pointer",onClick:n,children:"Cancel"}),A.jsx("button",{type:"submit",disabled:g,className:"py-2.5 px-5 h-fit text-md font-semibold rounded-lg text-white bg-amber-500 hover:bg-amber-600 hover:cursor-pointer",children:g?"Loading...":"Create New Task"})]}),d.root&&A.jsx("div",{className:"text-red-500",children:d.root?.message})]})]})]})}function r5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vv(...t){return e=>{let n=!1;const a=t.map(r=>{const l=r5(r,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let r=0;r<a.length;r++){const l=a[r];typeof l=="function"?l():r5(t[r],null)}}}}function fa(...t){return M.useCallback(vv(...t),t)}function I0(t){const e=yU(t),n=M.forwardRef((a,r)=>{const{children:l,...c}=a,d=M.Children.toArray(l),g=d.find(_U);if(g){const m=g.props.children,v=d.map(_=>_===g?M.Children.count(m)>1?M.Children.only(null):M.isValidElement(m)?m.props.children:null:_);return A.jsx(e,{...c,ref:r,children:M.isValidElement(m)?M.cloneElement(m,void 0,v):null})}return A.jsx(e,{...c,ref:r,children:l})});return n.displayName=`${t}.Slot`,n}function yU(t){const e=M.forwardRef((n,a)=>{const{children:r,...l}=n;if(M.isValidElement(r)){const c=wU(r),d=SU(l,r.props);return r.type!==M.Fragment&&(d.ref=a?vv(a,c):c),M.cloneElement(r,d)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var n6=Symbol("radix.slottable");function bU(t){const e=({children:n})=>A.jsx(A.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=n6,e}function _U(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===n6}function SU(t,e){const n={...e};for(const a in e){const r=t[a],l=e[a];/^on[A-Z]/.test(a)?r&&l?n[a]=(...d)=>{const g=l(...d);return r(...d),g}:r&&(n[a]=r):a==="style"?n[a]={...r,...l}:a==="className"&&(n[a]=[r,l].filter(Boolean).join(" "))}return{...t,...n}}function wU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sn=xU.reduce((t,e)=>{const n=I0(`Primitive.${e}`),a=M.forwardRef((r,l)=>{const{asChild:c,...d}=r,g=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(g,{...d,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function a6(t,e){t&&nv.flushSync(()=>t.dispatchEvent(e))}function EU(t,e){const n=M.createContext(e),a=l=>{const{children:c,...d}=l,g=M.useMemo(()=>d,Object.values(d));return A.jsx(n.Provider,{value:g,children:c})};a.displayName=t+"Provider";function r(l){const c=M.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,r]}function so(t,e=[]){let n=[];function a(l,c){const d=M.createContext(c),g=n.length;n=[...n,c];const m=_=>{const{scope:S,children:E,...T}=_,R=S?.[t]?.[g]||d,O=M.useMemo(()=>T,Object.values(T));return A.jsx(R.Provider,{value:O,children:E})};m.displayName=l+"Provider";function v(_,S){const E=S?.[t]?.[g]||d,T=M.useContext(E);if(T)return T;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[m,v]}const r=()=>{const l=n.map(c=>M.createContext(c));return function(d){const g=d?.[t]||l;return M.useMemo(()=>({[`__scope${t}`]:{...d,[t]:g}}),[d,g])}};return r.scopeName=t,[a,CU(r,...e)]}function CU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const c=a.reduce((d,{useScope:g,scopeName:m})=>{const _=g(l)[`__scope${m}`];return{...d,..._}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function i6(t){const e=t+"CollectionProvider",[n,a]=so(e),[r,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=R=>{const{scope:O,children:j}=R,N=nt.useRef(null),z=nt.useRef(new Map).current;return A.jsx(r,{scope:O,itemMap:z,collectionRef:N,children:j})};c.displayName=e;const d=t+"CollectionSlot",g=I0(d),m=nt.forwardRef((R,O)=>{const{scope:j,children:N}=R,z=l(d,j),B=fa(O,z.collectionRef);return A.jsx(g,{ref:B,children:N})});m.displayName=d;const v=t+"CollectionItemSlot",_="data-radix-collection-item",S=I0(v),E=nt.forwardRef((R,O)=>{const{scope:j,children:N,...z}=R,B=nt.useRef(null),G=fa(O,B),k=l(v,j);return nt.useEffect(()=>(k.itemMap.set(B,{ref:B,...z}),()=>void k.itemMap.delete(B))),A.jsx(S,{[_]:"",ref:G,children:N})});E.displayName=v;function T(R){const O=l(t+"CollectionConsumer",R);return nt.useCallback(()=>{const N=O.collectionRef.current;if(!N)return[];const z=Array.from(N.querySelectorAll(`[${_}]`));return Array.from(O.itemMap.values()).sort((k,K)=>z.indexOf(k.ref.current)-z.indexOf(K.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:c,Slot:m,ItemSlot:E},T,a]}function Ct(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}var hu=globalThis?.document?M.useLayoutEffect:()=>{},TU=Y5[" useInsertionEffect ".trim().toString()]||hu;function Hd({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[r,l,c]=AU({defaultProp:e,onChange:n}),d=t!==void 0,g=d?t:r;{const v=M.useRef(t!==void 0);M.useEffect(()=>{const _=v.current;_!==d&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,a])}const m=M.useCallback(v=>{if(d){const _=RU(v)?v(t):v;_!==t&&c.current?.(_)}else l(v)},[d,t,l,c]);return[g,m]}function AU({defaultProp:t,onChange:e}){const[n,a]=M.useState(t),r=M.useRef(n),l=M.useRef(e);return TU(()=>{l.current=e},[e]),M.useEffect(()=>{r.current!==n&&(l.current?.(n),r.current=n)},[n,r]),[n,a,l]}function RU(t){return typeof t=="function"}function OU(t,e){return M.useReducer((n,a)=>e[n][a]??n,t)}var xu=t=>{const{present:e,children:n}=t,a=MU(e),r=typeof n=="function"?n({present:a.isPresent}):M.Children.only(n),l=fa(a.ref,DU(r));return typeof n=="function"||a.isPresent?M.cloneElement(r,{ref:l}):null};xu.displayName="Presence";function MU(t){const[e,n]=M.useState(),a=M.useRef(null),r=M.useRef(t),l=M.useRef("none"),c=t?"mounted":"unmounted",[d,g]=OU(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const m=cm(a.current);l.current=d==="mounted"?m:"none"},[d]),hu(()=>{const m=a.current,v=r.current;if(v!==t){const S=l.current,E=cm(m);t?g("MOUNT"):E==="none"||m?.display==="none"?g("UNMOUNT"):g(v&&S!==E?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,g]),hu(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,_=E=>{const R=cm(a.current).includes(CSS.escape(E.animationName));if(E.target===e&&R&&(g("ANIMATION_END"),!r.current)){const O=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=O)})}},S=E=>{E.target===e&&(l.current=cm(a.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:M.useCallback(m=>{a.current=m?getComputedStyle(m):null,n(m)},[])}}function cm(t){return t?.animationName||"none"}function DU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NU=Y5[" useId ".trim().toString()]||(()=>{}),jU=0;function Md(t){const[e,n]=M.useState(NU());return hu(()=>{n(a=>a??String(jU++))},[t]),t||(e?`radix-${e}`:"")}var zU=M.createContext(void 0);function yv(t){const e=M.useContext(zU);return t||e||"ltr"}function Jl(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>e.current?.(...n),[])}function UU(t,e=globalThis?.document){const n=Jl(t);M.useEffect(()=>{const a=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var LU="DismissableLayer",qy="dismissableLayer.update",kU="dismissableLayer.pointerDownOutside",PU="dismissableLayer.focusOutside",s5,r6=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),M2=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...g}=t,m=M.useContext(r6),[v,_]=M.useState(null),S=v?.ownerDocument??globalThis?.document,[,E]=M.useState({}),T=fa(e,K=>_(K)),R=Array.from(m.layers),[O]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=R.indexOf(O),N=v?R.indexOf(v):-1,z=m.layersWithOutsidePointerEventsDisabled.size>0,B=N>=j,G=GU(K=>{const $=K.target,oe=[...m.branches].some(be=>be.contains($));!B||oe||(r?.(K),c?.(K),K.defaultPrevented||d?.())},S),k=qU(K=>{const $=K.target;[...m.branches].some(be=>be.contains($))||(l?.(K),c?.(K),K.defaultPrevented||d?.())},S);return UU(K=>{N===m.layers.size-1&&(a?.(K),!K.defaultPrevented&&d&&(K.preventDefault(),d()))},S),M.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(s5=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),l5(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=s5)}},[v,S,n,m]),M.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),l5())},[v,m]),M.useEffect(()=>{const K=()=>E({});return document.addEventListener(qy,K),()=>document.removeEventListener(qy,K)},[]),A.jsx(Sn.div,{...g,ref:T,style:{pointerEvents:z?B?"auto":"none":void 0,...t.style},onFocusCapture:Ct(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Ct(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ct(t.onPointerDownCapture,G.onPointerDownCapture)})});M2.displayName=LU;var BU="DismissableLayerBranch",HU=M.forwardRef((t,e)=>{const n=M.useContext(r6),a=M.useRef(null),r=fa(e,a);return M.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),A.jsx(Sn.div,{...t,ref:r})});HU.displayName=BU;function GU(t,e=globalThis?.document){const n=Jl(t),a=M.useRef(!1),r=M.useRef(()=>{});return M.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let g=function(){s6(kU,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=g,e.addEventListener("click",r.current,{once:!0})):g()}else e.removeEventListener("click",r.current);a.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function qU(t,e=globalThis?.document){const n=Jl(t),a=M.useRef(!1);return M.useEffect(()=>{const r=l=>{l.target&&!a.current&&s6(PU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function l5(){const t=new CustomEvent(qy);document.dispatchEvent(t)}function s6(t,e,n,{discrete:a}){const r=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),a?a6(r,l):r.dispatchEvent(l)}var I1="focusScope.autoFocusOnMount",X1="focusScope.autoFocusOnUnmount",o5={bubbles:!1,cancelable:!0},VU="FocusScope",D2=M.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...c}=t,[d,g]=M.useState(null),m=Jl(r),v=Jl(l),_=M.useRef(null),S=fa(e,R=>g(R)),E=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(a){let R=function(z){if(E.paused||!d)return;const B=z.target;d.contains(B)?_.current=B:ru(_.current,{select:!0})},O=function(z){if(E.paused||!d)return;const B=z.relatedTarget;B!==null&&(d.contains(B)||ru(_.current,{select:!0}))},j=function(z){if(document.activeElement===document.body)for(const G of z)G.removedNodes.length>0&&ru(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",O);const N=new MutationObserver(j);return d&&N.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",O),N.disconnect()}}},[a,d,E.paused]),M.useEffect(()=>{if(d){c5.add(E);const R=document.activeElement;if(!d.contains(R)){const j=new CustomEvent(I1,o5);d.addEventListener(I1,m),d.dispatchEvent(j),j.defaultPrevented||(YU(FU(l6(d)),{select:!0}),document.activeElement===R&&ru(d))}return()=>{d.removeEventListener(I1,m),setTimeout(()=>{const j=new CustomEvent(X1,o5);d.addEventListener(X1,v),d.dispatchEvent(j),j.defaultPrevented||ru(R??document.body,{select:!0}),d.removeEventListener(X1,v),c5.remove(E)},0)}}},[d,m,v,E]);const T=M.useCallback(R=>{if(!n&&!a||E.paused)return;const O=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,j=document.activeElement;if(O&&j){const N=R.currentTarget,[z,B]=ZU(N);z&&B?!R.shiftKey&&j===B?(R.preventDefault(),n&&ru(z,{select:!0})):R.shiftKey&&j===z&&(R.preventDefault(),n&&ru(B,{select:!0})):j===N&&R.preventDefault()}},[n,a,E.paused]);return A.jsx(Sn.div,{tabIndex:-1,...c,ref:S,onKeyDown:T})});D2.displayName=VU;function YU(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(ru(a,{select:e}),document.activeElement!==n)return}function ZU(t){const e=l6(t),n=u5(e,t),a=u5(e.reverse(),t);return[n,a]}function l6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function u5(t,e){for(const n of t)if(!KU(n,{upTo:e}))return n}function KU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function IU(t){return t instanceof HTMLInputElement&&"select"in t}function ru(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&IU(t)&&e&&t.select()}}var c5=XU();function XU(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=f5(t,e),t.unshift(e)},remove(e){t=f5(t,e),t[0]?.resume()}}}function f5(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function FU(t){return t.filter(e=>e.tagName!=="A")}var QU="Portal",N2=M.forwardRef((t,e)=>{const{container:n,...a}=t,[r,l]=M.useState(!1);hu(()=>l(!0),[]);const c=n||r&&globalThis?.document?.body;return c?x9.createPortal(A.jsx(Sn.div,{...a,ref:e}),c):null});N2.displayName=QU;var F1=0;function o6(){M.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??d5()),document.body.insertAdjacentElement("beforeend",t[1]??d5()),F1++,()=>{F1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),F1--}},[])}function d5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var al=function(){return al=Object.assign||function(e){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},al.apply(this,arguments)};function u6(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n}function $U(t,e,n){if(n||arguments.length===2)for(var a=0,r=e.length,l;a<r;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}var Em="right-scroll-bar-position",Cm="width-before-scroll-bar",JU="with-scroll-bars-hidden",WU="--removed-body-scroll-bar-size";function Q1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function eL(t,e){var n=M.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=e,n.facade}var tL=typeof window<"u"?M.useLayoutEffect:M.useEffect,h5=new WeakMap;function nL(t,e){var n=eL(null,function(a){return t.forEach(function(r){return Q1(r,a)})});return tL(function(){var a=h5.get(n);if(a){var r=new Set(a),l=new Set(t),c=n.current;r.forEach(function(d){l.has(d)||Q1(d,null)}),l.forEach(function(d){r.has(d)||Q1(d,c)})}h5.set(n,t)},[t]),n}function aL(t){return t}function iL(t,e){e===void 0&&(e=aL);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,a);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(a=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){a=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var g=function(){var v=c;c=[],v.forEach(l)},m=function(){return Promise.resolve().then(g)};m(),n={push:function(v){c.push(v),m()},filter:function(v){return c=c.filter(v),n}}}};return r}function rL(t){t===void 0&&(t={});var e=iL(null);return e.options=al({async:!0,ssr:!1},t),e}var c6=function(t){var e=t.sideCar,n=u6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return M.createElement(a,al({},n))};c6.isSideCarExport=!0;function sL(t,e){return t.useMedium(e),c6}var f6=rL(),$1=function(){},bv=M.forwardRef(function(t,e){var n=M.useRef(null),a=M.useState({onScrollCapture:$1,onWheelCapture:$1,onTouchMoveCapture:$1}),r=a[0],l=a[1],c=t.forwardProps,d=t.children,g=t.className,m=t.removeScrollBar,v=t.enabled,_=t.shards,S=t.sideCar,E=t.noRelative,T=t.noIsolation,R=t.inert,O=t.allowPinchZoom,j=t.as,N=j===void 0?"div":j,z=t.gapMode,B=u6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=S,k=nL([n,e]),K=al(al({},B),r);return M.createElement(M.Fragment,null,v&&M.createElement(G,{sideCar:f6,removeScrollBar:m,shards:_,noRelative:E,noIsolation:T,inert:R,setCallbacks:l,allowPinchZoom:!!O,lockRef:n,gapMode:z}),c?M.cloneElement(M.Children.only(d),al(al({},K),{ref:k})):M.createElement(N,al({},K,{className:g,ref:k}),d))});bv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bv.classNames={fullWidth:Cm,zeroRight:Em};var lL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=lL();return e&&t.setAttribute("nonce",e),t}function uL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var fL=function(){var t=0,e=null;return{add:function(n){t==0&&(e=oL())&&(uL(e,n),cL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dL=function(){var t=fL();return function(e,n){M.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},d6=function(){var t=dL(),e=function(n){var a=n.styles,r=n.dynamic;return t(a,r),null};return e},hL={left:0,top:0,right:0,gap:0},J1=function(t){return parseInt(t||"",10)||0},gL=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[J1(n),J1(a),J1(r)]},pL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return hL;var e=gL(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},mL=d6(),Dd="data-scroll-locked",vL=function(t,e,n,a){var r=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(JU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Em,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Cm,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Em," .").concat(Em,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(WU,": ").concat(d,`px;
  }
`)},g5=function(){var t=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(t)?t:0},yL=function(){M.useEffect(function(){return document.body.setAttribute(Dd,(g5()+1).toString()),function(){var t=g5()-1;t<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,t.toString())}},[])},bL=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,r=a===void 0?"margin":a;yL();var l=M.useMemo(function(){return pL(r)},[r]);return M.createElement(mL,{styles:vL(l,!e,r,n?"":"!important")})},Vy=!1;if(typeof window<"u")try{var fm=Object.defineProperty({},"passive",{get:function(){return Vy=!0,!0}});window.addEventListener("test",fm,fm),window.removeEventListener("test",fm,fm)}catch{Vy=!1}var vd=Vy?{passive:!1}:!1,_L=function(t){return t.tagName==="TEXTAREA"},h6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_L(t)&&n[e]==="visible")},SL=function(t){return h6(t,"overflowY")},wL=function(t){return h6(t,"overflowX")},p5=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=g6(t,a);if(r){var l=p6(t,a),c=l[1],d=l[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},xL=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},EL=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},g6=function(t,e){return t==="v"?SL(e):wL(e)},p6=function(t,e){return t==="v"?xL(e):EL(e)},CL=function(t,e){return t==="h"&&e==="rtl"?-1:1},TL=function(t,e,n,a,r){var l=CL(t,window.getComputedStyle(e).direction),c=l*a,d=n.target,g=e.contains(d),m=!1,v=c>0,_=0,S=0;do{if(!d)break;var E=p6(t,d),T=E[0],R=E[1],O=E[2],j=R-O-l*T;(T||j)&&g6(t,d)&&(_+=j,S+=T);var N=d.parentNode;d=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!g&&d!==document.body||g&&(e.contains(d)||e===d));return(v&&Math.abs(_)<1||!v&&Math.abs(S)<1)&&(m=!0),m},dm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m5=function(t){return[t.deltaX,t.deltaY]},v5=function(t){return t&&"current"in t?t.current:t},AL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},RL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OL=0,yd=[];function ML(t){var e=M.useRef([]),n=M.useRef([0,0]),a=M.useRef(),r=M.useState(OL++)[0],l=M.useState(d6)[0],c=M.useRef(t);M.useEffect(function(){c.current=t},[t]),M.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var R=$U([t.lockRef.current],(t.shards||[]).map(v5),!0).filter(Boolean);return R.forEach(function(O){return O.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),R.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var d=M.useCallback(function(R,O){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var j=dm(R),N=n.current,z="deltaX"in R?R.deltaX:N[0]-j[0],B="deltaY"in R?R.deltaY:N[1]-j[1],G,k=R.target,K=Math.abs(z)>Math.abs(B)?"h":"v";if("touches"in R&&K==="h"&&k.type==="range")return!1;var $=p5(K,k);if(!$)return!0;if($?G=K:(G=K==="v"?"h":"v",$=p5(K,k)),!$)return!1;if(!a.current&&"changedTouches"in R&&(z||B)&&(a.current=G),!G)return!0;var oe=a.current||G;return TL(oe,O,R,oe==="h"?z:B)},[]),g=M.useCallback(function(R){var O=R;if(!(!yd.length||yd[yd.length-1]!==l)){var j="deltaY"in O?m5(O):dm(O),N=e.current.filter(function(G){return G.name===O.type&&(G.target===O.target||O.target===G.shadowParent)&&AL(G.delta,j)})[0];if(N&&N.should){O.cancelable&&O.preventDefault();return}if(!N){var z=(c.current.shards||[]).map(v5).filter(Boolean).filter(function(G){return G.contains(O.target)}),B=z.length>0?d(O,z[0]):!c.current.noIsolation;B&&O.cancelable&&O.preventDefault()}}},[]),m=M.useCallback(function(R,O,j,N){var z={name:R,delta:O,target:j,should:N,shadowParent:DL(j)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(B){return B!==z})},1)},[]),v=M.useCallback(function(R){n.current=dm(R),a.current=void 0},[]),_=M.useCallback(function(R){m(R.type,m5(R),R.target,d(R,t.lockRef.current))},[]),S=M.useCallback(function(R){m(R.type,dm(R),R.target,d(R,t.lockRef.current))},[]);M.useEffect(function(){return yd.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",g,vd),document.addEventListener("touchmove",g,vd),document.addEventListener("touchstart",v,vd),function(){yd=yd.filter(function(R){return R!==l}),document.removeEventListener("wheel",g,vd),document.removeEventListener("touchmove",g,vd),document.removeEventListener("touchstart",v,vd)}},[]);var E=t.removeScrollBar,T=t.inert;return M.createElement(M.Fragment,null,T?M.createElement(l,{styles:RL(r)}):null,E?M.createElement(bL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function DL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NL=sL(f6,ML);var j2=M.forwardRef(function(t,e){return M.createElement(bv,al({},t,{ref:e,sideCar:NL}))});j2.classNames=bv.classNames;var jL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bd=new WeakMap,hm=new WeakMap,gm={},W1=0,m6=function(t){return t&&(t.host||m6(t.parentNode))},zL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=m6(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UL=function(t,e,n,a){var r=zL(e,Array.isArray(t)?t:[t]);gm[n]||(gm[n]=new WeakMap);var l=gm[n],c=[],d=new Set,g=new Set(r),m=function(_){!_||d.has(_)||(d.add(_),m(_.parentNode))};r.forEach(m);var v=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(S){if(d.has(S))v(S);else try{var E=S.getAttribute(a),T=E!==null&&E!=="false",R=(bd.get(S)||0)+1,O=(l.get(S)||0)+1;bd.set(S,R),l.set(S,O),c.push(S),R===1&&T&&hm.set(S,!0),O===1&&S.setAttribute(n,"true"),T||S.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",S,j)}})};return v(e),d.clear(),W1++,function(){c.forEach(function(_){var S=bd.get(_)-1,E=l.get(_)-1;bd.set(_,S),l.set(_,E),S||(hm.has(_)||_.removeAttribute(a),hm.delete(_)),E||_.removeAttribute(n)}),W1--,W1||(bd=new WeakMap,bd=new WeakMap,hm=new WeakMap,gm={})}},v6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),r=jL(t);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),UL(a,r,n,"aria-hidden")):function(){return null}},_v="Dialog",[y6,b6]=so(_v),[LL,vs]=y6(_v),_6=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:r,onOpenChange:l,modal:c=!0}=t,d=M.useRef(null),g=M.useRef(null),[m,v]=Hd({prop:a,defaultProp:r??!1,onChange:l,caller:_v});return A.jsx(LL,{scope:e,triggerRef:d,contentRef:g,contentId:Md(),titleId:Md(),descriptionId:Md(),open:m,onOpenChange:v,onOpenToggle:M.useCallback(()=>v(_=>!_),[v]),modal:c,children:n})};_6.displayName=_v;var S6="DialogTrigger",w6=M.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(S6,n),l=fa(e,r.triggerRef);return A.jsx(Sn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":L2(r.open),...a,ref:l,onClick:Ct(t.onClick,r.onOpenToggle)})});w6.displayName=S6;var z2="DialogPortal",[kL,x6]=y6(z2,{forceMount:void 0}),E6=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:r}=t,l=vs(z2,e);return A.jsx(kL,{scope:e,forceMount:n,children:M.Children.map(a,c=>A.jsx(xu,{present:n||l.open,children:A.jsx(N2,{asChild:!0,container:r,children:c})}))})};E6.displayName=z2;var Vm="DialogOverlay",C6=M.forwardRef((t,e)=>{const n=x6(Vm,t.__scopeDialog),{forceMount:a=n.forceMount,...r}=t,l=vs(Vm,t.__scopeDialog);return l.modal?A.jsx(xu,{present:a||l.open,children:A.jsx(BL,{...r,ref:e})}):null});C6.displayName=Vm;var PL=I0("DialogOverlay.RemoveScroll"),BL=M.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(Vm,n);return A.jsx(j2,{as:PL,allowPinchZoom:!0,shards:[r.contentRef],children:A.jsx(Sn.div,{"data-state":L2(r.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),Nc="DialogContent",T6=M.forwardRef((t,e)=>{const n=x6(Nc,t.__scopeDialog),{forceMount:a=n.forceMount,...r}=t,l=vs(Nc,t.__scopeDialog);return A.jsx(xu,{present:a||l.open,children:l.modal?A.jsx(HL,{...r,ref:e}):A.jsx(GL,{...r,ref:e})})});T6.displayName=Nc;var HL=M.forwardRef((t,e)=>{const n=vs(Nc,t.__scopeDialog),a=M.useRef(null),r=fa(e,n.contentRef,a);return M.useEffect(()=>{const l=a.current;if(l)return v6(l)},[]),A.jsx(A6,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ct(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Ct(t.onFocusOutside,l=>l.preventDefault())})}),GL=M.forwardRef((t,e)=>{const n=vs(Nc,t.__scopeDialog),a=M.useRef(!1),r=M.useRef(!1);return A.jsx(A6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),A6=M.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,...c}=t,d=vs(Nc,n),g=M.useRef(null),m=fa(e,g);return o6(),A.jsxs(A.Fragment,{children:[A.jsx(D2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:l,children:A.jsx(M2,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":L2(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(VL,{titleId:d.titleId}),A.jsx(ZL,{contentRef:g,descriptionId:d.descriptionId})]})]})}),U2="DialogTitle",R6=M.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(U2,n);return A.jsx(Sn.h2,{id:r.titleId,...a,ref:e})});R6.displayName=U2;var O6="DialogDescription",M6=M.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(O6,n);return A.jsx(Sn.p,{id:r.descriptionId,...a,ref:e})});M6.displayName=O6;var D6="DialogClose",N6=M.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=vs(D6,n);return A.jsx(Sn.button,{type:"button",...a,ref:e,onClick:Ct(t.onClick,()=>r.onOpenChange(!1))})});N6.displayName=D6;function L2(t){return t?"open":"closed"}var j6="DialogTitleWarning",[qL,z6]=EU(j6,{contentName:Nc,titleName:U2,docsSlug:"dialog"}),VL=({titleId:t})=>{const e=z6(j6),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return M.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},YL="DialogDescriptionWarning",ZL=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${z6(YL).contentName}}.`;return M.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},KL=_6,IL=w6,XL=E6,FL=C6,QL=T6,$L=R6,JL=M6,U6=N6,L6="AlertDialog",[WL]=so(L6,[b6]),lo=b6(),k6=t=>{const{__scopeAlertDialog:e,...n}=t,a=lo(e);return A.jsx(KL,{...a,...n,modal:!0})};k6.displayName=L6;var ek="AlertDialogTrigger",P6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=lo(n);return A.jsx(IL,{...r,...a,ref:e})});P6.displayName=ek;var tk="AlertDialogPortal",B6=t=>{const{__scopeAlertDialog:e,...n}=t,a=lo(e);return A.jsx(XL,{...a,...n})};B6.displayName=tk;var nk="AlertDialogOverlay",H6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=lo(n);return A.jsx(FL,{...r,...a,ref:e})});H6.displayName=nk;var Nd="AlertDialogContent",[ak,ik]=WL(Nd),rk=bU("AlertDialogContent"),G6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...r}=t,l=lo(n),c=M.useRef(null),d=fa(e,c),g=M.useRef(null);return A.jsx(qL,{contentName:Nd,titleName:q6,docsSlug:"alert-dialog",children:A.jsx(ak,{scope:n,cancelRef:g,children:A.jsxs(QL,{role:"alertdialog",...l,...r,ref:d,onOpenAutoFocus:Ct(r.onOpenAutoFocus,m=>{m.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[A.jsx(rk,{children:a}),A.jsx(lk,{contentRef:c})]})})})});G6.displayName=Nd;var q6="AlertDialogTitle",V6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=lo(n);return A.jsx($L,{...r,...a,ref:e})});V6.displayName=q6;var Y6="AlertDialogDescription",Z6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=lo(n);return A.jsx(JL,{...r,...a,ref:e})});Z6.displayName=Y6;var sk="AlertDialogAction",K6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,r=lo(n);return A.jsx(U6,{...r,...a,ref:e})});K6.displayName=sk;var I6="AlertDialogCancel",X6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:r}=ik(I6,n),l=lo(n),c=fa(e,r);return A.jsx(U6,{...l,...a,ref:c})});X6.displayName=I6;var lk=({contentRef:t})=>{const e=`\`${Nd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Nd}\` by passing a \`${Y6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Nd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return M.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},y5=k6,b5=P6,_5=B6,S5=H6,w5=G6,x5=K6,E5=X6,C5=V6,T5=Z6;function ok(t){const[e,n]=M.useState(void 0);return hu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let c,d;if("borderBoxSize"in l){const g=l.borderBoxSize,m=Array.isArray(g)?g[0]:g;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}const uk=["top","right","bottom","left"],gu=Math.min,er=Math.max,Ym=Math.round,pm=Math.floor,sl=t=>({x:t,y:t}),ck={left:"right",right:"left",bottom:"top",top:"bottom"},fk={start:"end",end:"start"};function Yy(t,e,n){return er(t,gu(e,n))}function Wl(t,e){return typeof t=="function"?t(e):t}function eo(t){return t.split("-")[0]}function Gd(t){return t.split("-")[1]}function k2(t){return t==="x"?"y":"x"}function P2(t){return t==="y"?"height":"width"}const dk=new Set(["top","bottom"]);function il(t){return dk.has(eo(t))?"y":"x"}function B2(t){return k2(il(t))}function hk(t,e,n){n===void 0&&(n=!1);const a=Gd(t),r=B2(t),l=P2(r);let c=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Zm(c)),[c,Zm(c)]}function gk(t){const e=Zm(t);return[Zy(t),e,Zy(e)]}function Zy(t){return t.replace(/start|end/g,e=>fk[e])}const A5=["left","right"],R5=["right","left"],pk=["top","bottom"],mk=["bottom","top"];function vk(t,e,n){switch(t){case"top":case"bottom":return n?e?R5:A5:e?A5:R5;case"left":case"right":return e?pk:mk;default:return[]}}function yk(t,e,n,a){const r=Gd(t);let l=vk(eo(t),n==="start",a);return r&&(l=l.map(c=>c+"-"+r),e&&(l=l.concat(l.map(Zy)))),l}function Zm(t){return t.replace(/left|right|bottom|top/g,e=>ck[e])}function bk(t){return{top:0,right:0,bottom:0,left:0,...t}}function F6(t){return typeof t!="number"?bk(t):{top:t,right:t,bottom:t,left:t}}function Km(t){const{x:e,y:n,width:a,height:r}=t;return{width:a,height:r,top:n,left:e,right:e+a,bottom:n+r,x:e,y:n}}function O5(t,e,n){let{reference:a,floating:r}=t;const l=il(e),c=B2(e),d=P2(c),g=eo(e),m=l==="y",v=a.x+a.width/2-r.width/2,_=a.y+a.height/2-r.height/2,S=a[d]/2-r[d]/2;let E;switch(g){case"top":E={x:v,y:a.y-r.height};break;case"bottom":E={x:v,y:a.y+a.height};break;case"right":E={x:a.x+a.width,y:_};break;case"left":E={x:a.x-r.width,y:_};break;default:E={x:a.x,y:a.y}}switch(Gd(e)){case"start":E[c]-=S*(n&&m?-1:1);break;case"end":E[c]+=S*(n&&m?-1:1);break}return E}const _k=async(t,e,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),g=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:r}),{x:v,y:_}=O5(m,a,g),S=a,E={},T=0;for(let R=0;R<d.length;R++){const{name:O,fn:j}=d[R],{x:N,y:z,data:B,reset:G}=await j({x:v,y:_,initialPlacement:a,placement:S,strategy:r,middlewareData:E,rects:m,platform:c,elements:{reference:t,floating:e}});v=N??v,_=z??_,E={...E,[O]:{...E[O],...B}},G&&T<=50&&(T++,typeof G=="object"&&(G.placement&&(S=G.placement),G.rects&&(m=G.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:r}):G.rects),{x:v,y:_}=O5(m,S,g)),R=-1)}return{x:v,y:_,placement:S,strategy:r,middlewareData:E}};async function X0(t,e){var n;e===void 0&&(e={});const{x:a,y:r,platform:l,rects:c,elements:d,strategy:g}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:S=!1,padding:E=0}=Wl(e,t),T=F6(E),O=d[S?_==="floating"?"reference":"floating":_],j=Km(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:g})),N=_==="floating"?{x:a,y:r,width:c.floating.width,height:c.floating.height}:c.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),B=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},G=Km(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:z,strategy:g}):N);return{top:(j.top-G.top+T.top)/B.y,bottom:(G.bottom-j.bottom+T.bottom)/B.y,left:(j.left-G.left+T.left)/B.x,right:(G.right-j.right+T.right)/B.x}}const Sk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:r,rects:l,platform:c,elements:d,middlewareData:g}=e,{element:m,padding:v=0}=Wl(t,e)||{};if(m==null)return{};const _=F6(v),S={x:n,y:a},E=B2(r),T=P2(E),R=await c.getDimensions(m),O=E==="y",j=O?"top":"left",N=O?"bottom":"right",z=O?"clientHeight":"clientWidth",B=l.reference[T]+l.reference[E]-S[E]-l.floating[T],G=S[E]-l.reference[E],k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let K=k?k[z]:0;(!K||!await(c.isElement==null?void 0:c.isElement(k)))&&(K=d.floating[z]||l.floating[T]);const $=B/2-G/2,oe=K/2-R[T]/2-1,be=gu(_[j],oe),Re=gu(_[N],oe),pe=be,ye=K-R[T]-Re,me=K/2-R[T]/2+$,_e=Yy(pe,me,ye),L=!g.arrow&&Gd(r)!=null&&me!==_e&&l.reference[T]/2-(me<pe?be:Re)-R[T]/2<0,Q=L?me<pe?me-pe:me-ye:0;return{[E]:S[E]+Q,data:{[E]:_e,centerOffset:me-_e-Q,...L&&{alignmentOffset:Q}},reset:L}}}),wk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:r,middlewareData:l,rects:c,initialPlacement:d,platform:g,elements:m}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:R=!0,...O}=Wl(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const j=eo(r),N=il(d),z=eo(d)===d,B=await(g.isRTL==null?void 0:g.isRTL(m.floating)),G=S||(z||!R?[Zm(d)]:gk(d)),k=T!=="none";!S&&k&&G.push(...yk(d,R,T,B));const K=[d,...G],$=await X0(e,O),oe=[];let be=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&oe.push($[j]),_){const me=hk(r,c,B);oe.push($[me[0]],$[me[1]])}if(be=[...be,{placement:r,overflows:oe}],!oe.every(me=>me<=0)){var Re,pe;const me=(((Re=l.flip)==null?void 0:Re.index)||0)+1,_e=K[me];if(_e&&(!(_==="alignment"?N!==il(_e):!1)||be.every(X=>il(X.placement)===N?X.overflows[0]>0:!0)))return{data:{index:me,overflows:be},reset:{placement:_e}};let L=(pe=be.filter(Q=>Q.overflows[0]<=0).sort((Q,X)=>Q.overflows[1]-X.overflows[1])[0])==null?void 0:pe.placement;if(!L)switch(E){case"bestFit":{var ye;const Q=(ye=be.filter(X=>{if(k){const se=il(X.placement);return se===N||se==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(se=>se>0).reduce((se,H)=>se+H,0)]).sort((X,se)=>X[1]-se[1])[0])==null?void 0:ye[0];Q&&(L=Q);break}case"initialPlacement":L=d;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function M5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function D5(t){return uk.some(e=>t[e]>=0)}const xk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...r}=Wl(t,e);switch(a){case"referenceHidden":{const l=await X0(e,{...r,elementContext:"reference"}),c=M5(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:D5(c)}}}case"escaped":{const l=await X0(e,{...r,altBoundary:!0}),c=M5(l,n.floating);return{data:{escapedOffsets:c,escaped:D5(c)}}}default:return{}}}}},Q6=new Set(["left","top"]);async function Ek(t,e){const{placement:n,platform:a,elements:r}=t,l=await(a.isRTL==null?void 0:a.isRTL(r.floating)),c=eo(n),d=Gd(n),g=il(n)==="y",m=Q6.has(c)?-1:1,v=l&&g?-1:1,_=Wl(e,t);let{mainAxis:S,crossAxis:E,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof T=="number"&&(E=d==="end"?T*-1:T),g?{x:E*v,y:S*m}:{x:S*m,y:E*v}}const Ck=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:r,y:l,placement:c,middlewareData:d}=e,g=await Ek(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:r+g.x,y:l+g.y,data:{...g,placement:c}}}}},Tk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:r}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:O=>{let{x:j,y:N}=O;return{x:j,y:N}}},...g}=Wl(t,e),m={x:n,y:a},v=await X0(e,g),_=il(eo(r)),S=k2(_);let E=m[S],T=m[_];if(l){const O=S==="y"?"top":"left",j=S==="y"?"bottom":"right",N=E+v[O],z=E-v[j];E=Yy(N,E,z)}if(c){const O=_==="y"?"top":"left",j=_==="y"?"bottom":"right",N=T+v[O],z=T-v[j];T=Yy(N,T,z)}const R=d.fn({...e,[S]:E,[_]:T});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[S]:l,[_]:c}}}}}},Ak=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:r,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:g=!0,crossAxis:m=!0}=Wl(t,e),v={x:n,y:a},_=il(r),S=k2(_);let E=v[S],T=v[_];const R=Wl(d,e),O=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(g){const z=S==="y"?"height":"width",B=l.reference[S]-l.floating[z]+O.mainAxis,G=l.reference[S]+l.reference[z]-O.mainAxis;E<B?E=B:E>G&&(E=G)}if(m){var j,N;const z=S==="y"?"width":"height",B=Q6.has(eo(r)),G=l.reference[_]-l.floating[z]+(B&&((j=c.offset)==null?void 0:j[_])||0)+(B?0:O.crossAxis),k=l.reference[_]+l.reference[z]+(B?0:((N=c.offset)==null?void 0:N[_])||0)-(B?O.crossAxis:0);T<G?T=G:T>k&&(T=k)}return{[S]:E,[_]:T}}}},Rk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:r,rects:l,platform:c,elements:d}=e,{apply:g=()=>{},...m}=Wl(t,e),v=await X0(e,m),_=eo(r),S=Gd(r),E=il(r)==="y",{width:T,height:R}=l.floating;let O,j;_==="top"||_==="bottom"?(O=_,j=S===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(j=_,O=S==="end"?"top":"bottom");const N=R-v.top-v.bottom,z=T-v.left-v.right,B=gu(R-v[O],N),G=gu(T-v[j],z),k=!e.middlewareData.shift;let K=B,$=G;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=z),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(K=N),k&&!S){const be=er(v.left,0),Re=er(v.right,0),pe=er(v.top,0),ye=er(v.bottom,0);E?$=T-2*(be!==0||Re!==0?be+Re:er(v.left,v.right)):K=R-2*(pe!==0||ye!==0?pe+ye:er(v.top,v.bottom))}await g({...e,availableWidth:$,availableHeight:K});const oe=await c.getDimensions(d.floating);return T!==oe.width||R!==oe.height?{reset:{rects:!0}}:{}}}};function Sv(){return typeof window<"u"}function qd(t){return $6(t)?(t.nodeName||"").toLowerCase():"#document"}function ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fl(t){var e;return(e=($6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $6(t){return Sv()?t instanceof Node||t instanceof ir(t).Node:!1}function gs(t){return Sv()?t instanceof Element||t instanceof ir(t).Element:!1}function ll(t){return Sv()?t instanceof HTMLElement||t instanceof ir(t).HTMLElement:!1}function N5(t){return!Sv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ir(t).ShadowRoot}const Ok=new Set(["inline","contents"]);function lg(t){const{overflow:e,overflowX:n,overflowY:a,display:r}=ps(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!Ok.has(r)}const Mk=new Set(["table","td","th"]);function Dk(t){return Mk.has(qd(t))}const Nk=[":popover-open",":modal"];function wv(t){return Nk.some(e=>{try{return t.matches(e)}catch{return!1}})}const jk=["transform","translate","scale","rotate","perspective"],zk=["transform","translate","scale","rotate","perspective","filter"],Uk=["paint","layout","strict","content"];function H2(t){const e=G2(),n=gs(t)?ps(t):t;return jk.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||zk.some(a=>(n.willChange||"").includes(a))||Uk.some(a=>(n.contain||"").includes(a))}function Lk(t){let e=pu(t);for(;ll(e)&&!kd(e);){if(H2(e))return e;if(wv(e))return null;e=pu(e)}return null}function G2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kk=new Set(["html","body","#document"]);function kd(t){return kk.has(qd(t))}function ps(t){return ir(t).getComputedStyle(t)}function xv(t){return gs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pu(t){if(qd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N5(t)&&t.host||fl(t);return N5(e)?e.host:e}function J6(t){const e=pu(t);return kd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ll(e)&&lg(e)?e:J6(e)}function F0(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=J6(t),l=r===((a=t.ownerDocument)==null?void 0:a.body),c=ir(r);if(l){const d=Ky(c);return e.concat(c,c.visualViewport||[],lg(r)?r:[],d&&n?F0(d):[])}return e.concat(r,F0(r,[],n))}function Ky(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function W6(t){const e=ps(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const r=ll(t),l=r?t.offsetWidth:n,c=r?t.offsetHeight:a,d=Ym(n)!==l||Ym(a)!==c;return d&&(n=l,a=c),{width:n,height:a,$:d}}function q2(t){return gs(t)?t:t.contextElement}function jd(t){const e=q2(t);if(!ll(e))return sl(1);const n=e.getBoundingClientRect(),{width:a,height:r,$:l}=W6(e);let c=(l?Ym(n.width):n.width)/a,d=(l?Ym(n.height):n.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const Pk=sl(0);function e8(t){const e=ir(t);return!G2()||!e.visualViewport?Pk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Bk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ir(t)?!1:e}function jc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),l=q2(t);let c=sl(1);e&&(a?gs(a)&&(c=jd(a)):c=jd(t));const d=Bk(l,n,a)?e8(l):sl(0);let g=(r.left+d.x)/c.x,m=(r.top+d.y)/c.y,v=r.width/c.x,_=r.height/c.y;if(l){const S=ir(l),E=a&&gs(a)?ir(a):a;let T=S,R=Ky(T);for(;R&&a&&E!==T;){const O=jd(R),j=R.getBoundingClientRect(),N=ps(R),z=j.left+(R.clientLeft+parseFloat(N.paddingLeft))*O.x,B=j.top+(R.clientTop+parseFloat(N.paddingTop))*O.y;g*=O.x,m*=O.y,v*=O.x,_*=O.y,g+=z,m+=B,T=ir(R),R=Ky(T)}}return Km({width:v,height:_,x:g,y:m})}function Ev(t,e){const n=xv(t).scrollLeft;return e?e.left+n:jc(fl(t)).left+n}function t8(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-Ev(t,n),r=n.top+e.scrollTop;return{x:a,y:r}}function Hk(t){let{elements:e,rect:n,offsetParent:a,strategy:r}=t;const l=r==="fixed",c=fl(a),d=e?wv(e.floating):!1;if(a===c||d&&l)return n;let g={scrollLeft:0,scrollTop:0},m=sl(1);const v=sl(0),_=ll(a);if((_||!_&&!l)&&((qd(a)!=="body"||lg(c))&&(g=xv(a)),ll(a))){const E=jc(a);m=jd(a),v.x=E.x+a.clientLeft,v.y=E.y+a.clientTop}const S=c&&!_&&!l?t8(c,g):sl(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-g.scrollLeft*m.x+v.x+S.x,y:n.y*m.y-g.scrollTop*m.y+v.y+S.y}}function Gk(t){return Array.from(t.getClientRects())}function qk(t){const e=fl(t),n=xv(t),a=t.ownerDocument.body,r=er(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=er(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let c=-n.scrollLeft+Ev(t);const d=-n.scrollTop;return ps(a).direction==="rtl"&&(c+=er(e.clientWidth,a.clientWidth)-r),{width:r,height:l,x:c,y:d}}const j5=25;function Vk(t,e){const n=ir(t),a=fl(t),r=n.visualViewport;let l=a.clientWidth,c=a.clientHeight,d=0,g=0;if(r){l=r.width,c=r.height;const v=G2();(!v||v&&e==="fixed")&&(d=r.offsetLeft,g=r.offsetTop)}const m=Ev(a);if(m<=0){const v=a.ownerDocument,_=v.body,S=getComputedStyle(_),E=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(a.clientWidth-_.clientWidth-E);T<=j5&&(l-=T)}else m<=j5&&(l+=m);return{width:l,height:c,x:d,y:g}}const Yk=new Set(["absolute","fixed"]);function Zk(t,e){const n=jc(t,!0,e==="fixed"),a=n.top+t.clientTop,r=n.left+t.clientLeft,l=ll(t)?jd(t):sl(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,g=r*l.x,m=a*l.y;return{width:c,height:d,x:g,y:m}}function z5(t,e,n){let a;if(e==="viewport")a=Vk(t,n);else if(e==="document")a=qk(fl(t));else if(gs(e))a=Zk(e,n);else{const r=e8(t);a={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Km(a)}function n8(t,e){const n=pu(t);return n===e||!gs(n)||kd(n)?!1:ps(n).position==="fixed"||n8(n,e)}function Kk(t,e){const n=e.get(t);if(n)return n;let a=F0(t,[],!1).filter(d=>gs(d)&&qd(d)!=="body"),r=null;const l=ps(t).position==="fixed";let c=l?pu(t):t;for(;gs(c)&&!kd(c);){const d=ps(c),g=H2(c);!g&&d.position==="fixed"&&(r=null),(l?!g&&!r:!g&&d.position==="static"&&!!r&&Yk.has(r.position)||lg(c)&&!g&&n8(t,c))?a=a.filter(v=>v!==c):r=d,c=pu(c)}return e.set(t,a),a}function Ik(t){let{element:e,boundary:n,rootBoundary:a,strategy:r}=t;const c=[...n==="clippingAncestors"?wv(e)?[]:Kk(e,this._c):[].concat(n),a],d=c[0],g=c.reduce((m,v)=>{const _=z5(e,v,r);return m.top=er(_.top,m.top),m.right=gu(_.right,m.right),m.bottom=gu(_.bottom,m.bottom),m.left=er(_.left,m.left),m},z5(e,d,r));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function Xk(t){const{width:e,height:n}=W6(t);return{width:e,height:n}}function Fk(t,e,n){const a=ll(e),r=fl(e),l=n==="fixed",c=jc(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const g=sl(0);function m(){g.x=Ev(r)}if(a||!a&&!l)if((qd(e)!=="body"||lg(r))&&(d=xv(e)),a){const E=jc(e,!0,l,e);g.x=E.x+e.clientLeft,g.y=E.y+e.clientTop}else r&&m();l&&!a&&r&&m();const v=r&&!a&&!l?t8(r,d):sl(0),_=c.left+d.scrollLeft-g.x-v.x,S=c.top+d.scrollTop-g.y-v.y;return{x:_,y:S,width:c.width,height:c.height}}function ey(t){return ps(t).position==="static"}function U5(t,e){if(!ll(t)||ps(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fl(t)===n&&(n=n.ownerDocument.body),n}function a8(t,e){const n=ir(t);if(wv(t))return n;if(!ll(t)){let r=pu(t);for(;r&&!kd(r);){if(gs(r)&&!ey(r))return r;r=pu(r)}return n}let a=U5(t,e);for(;a&&Dk(a)&&ey(a);)a=U5(a,e);return a&&kd(a)&&ey(a)&&!H2(a)?n:a||Lk(t)||n}const Qk=async function(t){const e=this.getOffsetParent||a8,n=this.getDimensions,a=await n(t.floating);return{reference:Fk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function $k(t){return ps(t).direction==="rtl"}const Jk={convertOffsetParentRelativeRectToViewportRelativeRect:Hk,getDocumentElement:fl,getClippingRect:Ik,getOffsetParent:a8,getElementRects:Qk,getClientRects:Gk,getDimensions:Xk,getScale:jd,isElement:gs,isRTL:$k};function i8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Wk(t,e){let n=null,a;const r=fl(t);function l(){var d;clearTimeout(a),(d=n)==null||d.disconnect(),n=null}function c(d,g){d===void 0&&(d=!1),g===void 0&&(g=1),l();const m=t.getBoundingClientRect(),{left:v,top:_,width:S,height:E}=m;if(d||e(),!S||!E)return;const T=pm(_),R=pm(r.clientWidth-(v+S)),O=pm(r.clientHeight-(_+E)),j=pm(v),z={rootMargin:-T+"px "+-R+"px "+-O+"px "+-j+"px",threshold:er(0,gu(1,g))||1};let B=!0;function G(k){const K=k[0].intersectionRatio;if(K!==g){if(!B)return c();K?c(!1,K):a=setTimeout(()=>{c(!1,1e-7)},1e3)}K===1&&!i8(m,t.getBoundingClientRect())&&c(),B=!1}try{n=new IntersectionObserver(G,{...z,root:r.ownerDocument})}catch{n=new IntersectionObserver(G,z)}n.observe(t)}return c(!0),l}function eP(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,m=q2(t),v=r||l?[...m?F0(m):[],...F0(e)]:[];v.forEach(j=>{r&&j.addEventListener("scroll",n,{passive:!0}),l&&j.addEventListener("resize",n)});const _=m&&d?Wk(m,n):null;let S=-1,E=null;c&&(E=new ResizeObserver(j=>{let[N]=j;N&&N.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var z;(z=E)==null||z.observe(e)})),n()}),m&&!g&&E.observe(m),E.observe(e));let T,R=g?jc(t):null;g&&O();function O(){const j=jc(t);R&&!i8(R,j)&&n(),R=j,T=requestAnimationFrame(O)}return n(),()=>{var j;v.forEach(N=>{r&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),_?.(),(j=E)==null||j.disconnect(),E=null,g&&cancelAnimationFrame(T)}}const tP=Ck,nP=Tk,aP=wk,iP=Rk,rP=xk,L5=Sk,sP=Ak,lP=(t,e,n)=>{const a=new Map,r={platform:Jk,...n},l={...r.platform,_c:a};return _k(t,e,{...r,platform:l})};var oP=typeof document<"u",uP=function(){},Tm=oP?M.useLayoutEffect:uP;function Im(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!Im(t[a],e[a]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,r[a]))return!1;for(a=n;a--!==0;){const l=r[a];if(!(l==="_owner"&&t.$$typeof)&&!Im(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function r8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function k5(t,e){const n=r8(t);return Math.round(e*n)/n}function ty(t){const e=M.useRef(t);return Tm(()=>{e.current=t}),e}function cP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:g,open:m}=t,[v,_]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,E]=M.useState(a);Im(S,a)||E(a);const[T,R]=M.useState(null),[O,j]=M.useState(null),N=M.useCallback(X=>{X!==k.current&&(k.current=X,R(X))},[]),z=M.useCallback(X=>{X!==K.current&&(K.current=X,j(X))},[]),B=l||T,G=c||O,k=M.useRef(null),K=M.useRef(null),$=M.useRef(v),oe=g!=null,be=ty(g),Re=ty(r),pe=ty(m),ye=M.useCallback(()=>{if(!k.current||!K.current)return;const X={placement:e,strategy:n,middleware:S};Re.current&&(X.platform=Re.current),lP(k.current,K.current,X).then(se=>{const H={...se,isPositioned:pe.current!==!1};me.current&&!Im($.current,H)&&($.current=H,nv.flushSync(()=>{_(H)}))})},[S,e,n,Re,pe]);Tm(()=>{m===!1&&$.current.isPositioned&&($.current.isPositioned=!1,_(X=>({...X,isPositioned:!1})))},[m]);const me=M.useRef(!1);Tm(()=>(me.current=!0,()=>{me.current=!1}),[]),Tm(()=>{if(B&&(k.current=B),G&&(K.current=G),B&&G){if(be.current)return be.current(B,G,ye);ye()}},[B,G,ye,be,oe]);const _e=M.useMemo(()=>({reference:k,floating:K,setReference:N,setFloating:z}),[N,z]),L=M.useMemo(()=>({reference:B,floating:G}),[B,G]),Q=M.useMemo(()=>{const X={position:n,left:0,top:0};if(!L.floating)return X;const se=k5(L.floating,v.x),H=k5(L.floating,v.y);return d?{...X,transform:"translate("+se+"px, "+H+"px)",...r8(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:H}},[n,d,L.floating,v.x,v.y]);return M.useMemo(()=>({...v,update:ye,refs:_e,elements:L,floatingStyles:Q}),[v,ye,_e,L,Q])}const fP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:r}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?L5({element:a.current,padding:r}).fn(n):{}:a?L5({element:a,padding:r}).fn(n):{}}}},dP=(t,e)=>({...tP(t),options:[t,e]}),hP=(t,e)=>({...nP(t),options:[t,e]}),gP=(t,e)=>({...sP(t),options:[t,e]}),pP=(t,e)=>({...aP(t),options:[t,e]}),mP=(t,e)=>({...iP(t),options:[t,e]}),vP=(t,e)=>({...rP(t),options:[t,e]}),yP=(t,e)=>({...fP(t),options:[t,e]});var bP="Arrow",s8=M.forwardRef((t,e)=>{const{children:n,width:a=10,height:r=5,...l}=t;return A.jsx(Sn.svg,{...l,ref:e,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});s8.displayName=bP;var _P=s8,V2="Popper",[l8,o8]=so(V2),[SP,u8]=l8(V2),c8=t=>{const{__scopePopper:e,children:n}=t,[a,r]=M.useState(null);return A.jsx(SP,{scope:e,anchor:a,onAnchorChange:r,children:n})};c8.displayName=V2;var f8="PopperAnchor",d8=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...r}=t,l=u8(f8,n),c=M.useRef(null),d=fa(e,c),g=M.useRef(null);return M.useEffect(()=>{const m=g.current;g.current=a?.current||c.current,m!==g.current&&l.onAnchorChange(g.current)}),a?null:A.jsx(Sn.div,{...r,ref:d})});d8.displayName=f8;var Y2="PopperContent",[wP,xP]=l8(Y2),h8=M.forwardRef((t,e)=>{const{__scopePopper:n,side:a="bottom",sideOffset:r=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:T,...R}=t,O=u8(Y2,n),[j,N]=M.useState(null),z=fa(e,lt=>N(lt)),[B,G]=M.useState(null),k=ok(B),K=k?.width??0,$=k?.height??0,oe=a+(l!=="center"?"-"+l:""),be=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Re=Array.isArray(m)?m:[m],pe=Re.length>0,ye={padding:be,boundary:Re.filter(CP),altBoundary:pe},{refs:me,floatingStyles:_e,placement:L,isPositioned:Q,middlewareData:X}=cP({strategy:"fixed",placement:oe,whileElementsMounted:(...lt)=>eP(...lt,{animationFrame:E==="always"}),elements:{reference:O.anchor},middleware:[dP({mainAxis:r+$,alignmentAxis:c}),g&&hP({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?gP():void 0,...ye}),g&&pP({...ye}),mP({...ye,apply:({elements:lt,rects:Me,availableWidth:gt,availableHeight:ot})=>{const{width:un,height:bi}=Me.reference,ga=lt.floating.style;ga.setProperty("--radix-popper-available-width",`${gt}px`),ga.setProperty("--radix-popper-available-height",`${ot}px`),ga.setProperty("--radix-popper-anchor-width",`${un}px`),ga.setProperty("--radix-popper-anchor-height",`${bi}px`)}}),B&&yP({element:B,padding:d}),TP({arrowWidth:K,arrowHeight:$}),S&&vP({strategy:"referenceHidden",...ye})]}),[se,H]=m8(L),J=Jl(T);hu(()=>{Q&&J?.()},[Q,J]);const ve=X.arrow?.x,Se=X.arrow?.y,He=X.arrow?.centerOffset!==0,[it,Ye]=M.useState();return hu(()=>{j&&Ye(window.getComputedStyle(j).zIndex)},[j]),A.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:Q?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:it,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:A.jsx(wP,{scope:n,placedSide:se,onArrowChange:G,arrowX:ve,arrowY:Se,shouldHideArrow:He,children:A.jsx(Sn.div,{"data-side":se,"data-align":H,...R,ref:z,style:{...R.style,animation:Q?void 0:"none"}})})})});h8.displayName=Y2;var g8="PopperArrow",EP={top:"bottom",right:"left",bottom:"top",left:"right"},p8=M.forwardRef(function(e,n){const{__scopePopper:a,...r}=e,l=xP(g8,a),c=EP[l.placedSide];return A.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:A.jsx(_P,{...r,ref:n,style:{...r.style,display:"block"}})})});p8.displayName=g8;function CP(t){return t!==null}var TP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:a,middlewareData:r}=e,c=r.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,g=c?0:t.arrowHeight,[m,v]=m8(n),_={start:"0%",center:"50%",end:"100%"}[v],S=(r.arrow?.x??0)+d/2,E=(r.arrow?.y??0)+g/2;let T="",R="";return m==="bottom"?(T=c?_:`${S}px`,R=`${-g}px`):m==="top"?(T=c?_:`${S}px`,R=`${a.floating.height+g}px`):m==="right"?(T=`${-g}px`,R=c?_:`${E}px`):m==="left"&&(T=`${a.floating.width+g}px`,R=c?_:`${E}px`),{data:{x:T,y:R}}}});function m8(t){const[e,n="center"]=t.split("-");return[e,n]}var AP=c8,RP=d8,OP=h8,MP=p8,ny="rovingFocusGroup.onEntryFocus",DP={bubbles:!1,cancelable:!0},og="RovingFocusGroup",[Iy,v8,NP]=i6(og),[jP,Vd]=so(og,[NP]),[zP,UP]=jP(og),y8=M.forwardRef((t,e)=>A.jsx(Iy.Provider,{scope:t.__scopeRovingFocusGroup,children:A.jsx(Iy.Slot,{scope:t.__scopeRovingFocusGroup,children:A.jsx(LP,{...t,ref:e})})}));y8.displayName=og;var LP=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:r=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,..._}=t,S=M.useRef(null),E=fa(e,S),T=yv(l),[R,O]=Hd({prop:c,defaultProp:d??null,onChange:g,caller:og}),[j,N]=M.useState(!1),z=Jl(m),B=v8(n),G=M.useRef(!1),[k,K]=M.useState(0);return M.useEffect(()=>{const $=S.current;if($)return $.addEventListener(ny,z),()=>$.removeEventListener(ny,z)},[z]),A.jsx(zP,{scope:n,orientation:a,dir:T,loop:r,currentTabStopId:R,onItemFocus:M.useCallback($=>O($),[O]),onItemShiftTab:M.useCallback(()=>N(!0),[]),onFocusableItemAdd:M.useCallback(()=>K($=>$+1),[]),onFocusableItemRemove:M.useCallback(()=>K($=>$-1),[]),children:A.jsx(Sn.div,{tabIndex:j||k===0?-1:0,"data-orientation":a,..._,ref:E,style:{outline:"none",...t.style},onMouseDown:Ct(t.onMouseDown,()=>{G.current=!0}),onFocus:Ct(t.onFocus,$=>{const oe=!G.current;if($.target===$.currentTarget&&oe&&!j){const be=new CustomEvent(ny,DP);if($.currentTarget.dispatchEvent(be),!be.defaultPrevented){const Re=B().filter(L=>L.focusable),pe=Re.find(L=>L.active),ye=Re.find(L=>L.id===R),_e=[pe,ye,...Re].filter(Boolean).map(L=>L.ref.current);S8(_e,v)}}G.current=!1}),onBlur:Ct(t.onBlur,()=>N(!1))})})}),b8="RovingFocusGroupItem",_8=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:r=!1,tabStopId:l,children:c,...d}=t,g=Md(),m=l||g,v=UP(b8,n),_=v.currentTabStopId===m,S=v8(n),{onFocusableItemAdd:E,onFocusableItemRemove:T,currentTabStopId:R}=v;return M.useEffect(()=>{if(a)return E(),()=>T()},[a,E,T]),A.jsx(Iy.ItemSlot,{scope:n,id:m,focusable:a,active:r,children:A.jsx(Sn.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:Ct(t.onMouseDown,O=>{a?v.onItemFocus(m):O.preventDefault()}),onFocus:Ct(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:Ct(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){v.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const j=BP(O,v.orientation,v.dir);if(j!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let z=S().filter(B=>B.focusable).map(B=>B.ref.current);if(j==="last")z.reverse();else if(j==="prev"||j==="next"){j==="prev"&&z.reverse();const B=z.indexOf(O.currentTarget);z=v.loop?HP(z,B+1):z.slice(B+1)}setTimeout(()=>S8(z))}}),children:typeof c=="function"?c({isCurrentTabStop:_,hasTabStop:R!=null}):c})})});_8.displayName=b8;var kP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function BP(t,e,n){const a=PP(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return kP[a]}function S8(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function HP(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var Z2=y8,Cv=_8,Xy=["Enter"," "],GP=["ArrowDown","PageUp","Home"],w8=["ArrowUp","PageDown","End"],qP=[...GP,...w8],VP={ltr:[...Xy,"ArrowRight"],rtl:[...Xy,"ArrowLeft"]},YP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ug="Menu",[Q0,ZP,KP]=i6(ug),[Yc,x8]=so(ug,[KP,o8,Vd]),Tv=o8(),E8=Vd(),[IP,Zc]=Yc(ug),[XP,cg]=Yc(ug),C8=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:r,onOpenChange:l,modal:c=!0}=t,d=Tv(e),[g,m]=M.useState(null),v=M.useRef(!1),_=Jl(l),S=yv(r);return M.useEffect(()=>{const E=()=>{v.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>v.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),A.jsx(AP,{...d,children:A.jsx(IP,{scope:e,open:n,onOpenChange:_,content:g,onContentChange:m,children:A.jsx(XP,{scope:e,onClose:M.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:v,dir:S,modal:c,children:a})})})};C8.displayName=ug;var FP="MenuAnchor",K2=M.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,r=Tv(n);return A.jsx(RP,{...r,...a,ref:e})});K2.displayName=FP;var I2="MenuPortal",[QP,T8]=Yc(I2,{forceMount:void 0}),A8=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:r}=t,l=Zc(I2,e);return A.jsx(QP,{scope:e,forceMount:n,children:A.jsx(xu,{present:n||l.open,children:A.jsx(N2,{asChild:!0,container:r,children:a})})})};A8.displayName=I2;var Dr="MenuContent",[$P,X2]=Yc(Dr),R8=M.forwardRef((t,e)=>{const n=T8(Dr,t.__scopeMenu),{forceMount:a=n.forceMount,...r}=t,l=Zc(Dr,t.__scopeMenu),c=cg(Dr,t.__scopeMenu);return A.jsx(Q0.Provider,{scope:t.__scopeMenu,children:A.jsx(xu,{present:a||l.open,children:A.jsx(Q0.Slot,{scope:t.__scopeMenu,children:c.modal?A.jsx(JP,{...r,ref:e}):A.jsx(WP,{...r,ref:e})})})})}),JP=M.forwardRef((t,e)=>{const n=Zc(Dr,t.__scopeMenu),a=M.useRef(null),r=fa(e,a);return M.useEffect(()=>{const l=a.current;if(l)return v6(l)},[]),A.jsx(F2,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ct(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),WP=M.forwardRef((t,e)=>{const n=Zc(Dr,t.__scopeMenu);return A.jsx(F2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),eB=I0("MenuContent.ScrollLock"),F2=M.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:g,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:E,disableOutsideScroll:T,...R}=t,O=Zc(Dr,n),j=cg(Dr,n),N=Tv(n),z=E8(n),B=ZP(n),[G,k]=M.useState(null),K=M.useRef(null),$=fa(e,K,O.onContentChange),oe=M.useRef(0),be=M.useRef(""),Re=M.useRef(0),pe=M.useRef(null),ye=M.useRef("right"),me=M.useRef(0),_e=T?j2:M.Fragment,L=T?{as:eB,allowPinchZoom:!0}:void 0,Q=se=>{const H=be.current+se,J=B().filter(lt=>!lt.disabled),ve=document.activeElement,Se=J.find(lt=>lt.ref.current===ve)?.textValue,He=J.map(lt=>lt.textValue),it=dB(He,H,Se),Ye=J.find(lt=>lt.textValue===it)?.ref.current;(function lt(Me){be.current=Me,window.clearTimeout(oe.current),Me!==""&&(oe.current=window.setTimeout(()=>lt(""),1e3))})(H),Ye&&setTimeout(()=>Ye.focus())};M.useEffect(()=>()=>window.clearTimeout(oe.current),[]),o6();const X=M.useCallback(se=>ye.current===pe.current?.side&&gB(se,pe.current?.area),[]);return A.jsx($P,{scope:n,searchRef:be,onItemEnter:M.useCallback(se=>{X(se)&&se.preventDefault()},[X]),onItemLeave:M.useCallback(se=>{X(se)||(K.current?.focus(),k(null))},[X]),onTriggerLeave:M.useCallback(se=>{X(se)&&se.preventDefault()},[X]),pointerGraceTimerRef:Re,onPointerGraceIntentChange:M.useCallback(se=>{pe.current=se},[]),children:A.jsx(_e,{...L,children:A.jsx(D2,{asChild:!0,trapped:r,onMountAutoFocus:Ct(l,se=>{se.preventDefault(),K.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:A.jsx(M2,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:_,onInteractOutside:S,onDismiss:E,children:A.jsx(Z2,{asChild:!0,...z,dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:G,onCurrentTabStopIdChange:k,onEntryFocus:Ct(g,se=>{j.isUsingKeyboardRef.current||se.preventDefault()}),preventScrollOnEntryFocus:!0,children:A.jsx(OP,{role:"menu","aria-orientation":"vertical","data-state":Y8(O.open),"data-radix-menu-content":"",dir:j.dir,...N,...R,ref:$,style:{outline:"none",...R.style},onKeyDown:Ct(R.onKeyDown,se=>{const J=se.target.closest("[data-radix-menu-content]")===se.currentTarget,ve=se.ctrlKey||se.altKey||se.metaKey,Se=se.key.length===1;J&&(se.key==="Tab"&&se.preventDefault(),!ve&&Se&&Q(se.key));const He=K.current;if(se.target!==He||!qP.includes(se.key))return;se.preventDefault();const Ye=B().filter(lt=>!lt.disabled).map(lt=>lt.ref.current);w8.includes(se.key)&&Ye.reverse(),cB(Ye)}),onBlur:Ct(t.onBlur,se=>{se.currentTarget.contains(se.target)||(window.clearTimeout(oe.current),be.current="")}),onPointerMove:Ct(t.onPointerMove,$0(se=>{const H=se.target,J=me.current!==se.clientX;if(se.currentTarget.contains(H)&&J){const ve=se.clientX>me.current?"right":"left";ye.current=ve,me.current=se.clientX}}))})})})})})})});R8.displayName=Dr;var tB="MenuGroup",Q2=M.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return A.jsx(Sn.div,{role:"group",...a,ref:e})});Q2.displayName=tB;var nB="MenuLabel",O8=M.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return A.jsx(Sn.div,{...a,ref:e})});O8.displayName=nB;var Xm="MenuItem",P5="menu.itemSelect",Av=M.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...r}=t,l=M.useRef(null),c=cg(Xm,t.__scopeMenu),d=X2(Xm,t.__scopeMenu),g=fa(e,l),m=M.useRef(!1),v=()=>{const _=l.current;if(!n&&_){const S=new CustomEvent(P5,{bubbles:!0,cancelable:!0});_.addEventListener(P5,E=>a?.(E),{once:!0}),a6(_,S),S.defaultPrevented?m.current=!1:c.onClose()}};return A.jsx(M8,{...r,ref:g,disabled:n,onClick:Ct(t.onClick,v),onPointerDown:_=>{t.onPointerDown?.(_),m.current=!0},onPointerUp:Ct(t.onPointerUp,_=>{m.current||_.currentTarget?.click()}),onKeyDown:Ct(t.onKeyDown,_=>{const S=d.searchRef.current!=="";n||S&&_.key===" "||Xy.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});Av.displayName=Xm;var M8=M.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:r,...l}=t,c=X2(Xm,n),d=E8(n),g=M.useRef(null),m=fa(e,g),[v,_]=M.useState(!1),[S,E]=M.useState("");return M.useEffect(()=>{const T=g.current;T&&E((T.textContent??"").trim())},[l.children]),A.jsx(Q0.ItemSlot,{scope:n,disabled:a,textValue:r??S,children:A.jsx(Cv,{asChild:!0,...d,focusable:!a,children:A.jsx(Sn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:m,onPointerMove:Ct(t.onPointerMove,$0(T=>{a?c.onItemLeave(T):(c.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ct(t.onPointerLeave,$0(T=>c.onItemLeave(T))),onFocus:Ct(t.onFocus,()=>_(!0)),onBlur:Ct(t.onBlur,()=>_(!1))})})})}),aB="MenuCheckboxItem",D8=M.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...r}=t;return A.jsx(L8,{scope:t.__scopeMenu,checked:n,children:A.jsx(Av,{role:"menuitemcheckbox","aria-checked":Fm(n)?"mixed":n,...r,ref:e,"data-state":J2(n),onSelect:Ct(r.onSelect,()=>a?.(Fm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});D8.displayName=aB;var N8="MenuRadioGroup",[iB,rB]=Yc(N8,{value:void 0,onValueChange:()=>{}}),j8=M.forwardRef((t,e)=>{const{value:n,onValueChange:a,...r}=t,l=Jl(a);return A.jsx(iB,{scope:t.__scopeMenu,value:n,onValueChange:l,children:A.jsx(Q2,{...r,ref:e})})});j8.displayName=N8;var z8="MenuRadioItem",U8=M.forwardRef((t,e)=>{const{value:n,...a}=t,r=rB(z8,t.__scopeMenu),l=n===r.value;return A.jsx(L8,{scope:t.__scopeMenu,checked:l,children:A.jsx(Av,{role:"menuitemradio","aria-checked":l,...a,ref:e,"data-state":J2(l),onSelect:Ct(a.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});U8.displayName=z8;var $2="MenuItemIndicator",[L8,sB]=Yc($2,{checked:!1}),k8=M.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...r}=t,l=sB($2,n);return A.jsx(xu,{present:a||Fm(l.checked)||l.checked===!0,children:A.jsx(Sn.span,{...r,ref:e,"data-state":J2(l.checked)})})});k8.displayName=$2;var lB="MenuSeparator",P8=M.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return A.jsx(Sn.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});P8.displayName=lB;var oB="MenuArrow",B8=M.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,r=Tv(n);return A.jsx(MP,{...r,...a,ref:e})});B8.displayName=oB;var uB="MenuSub",[GH,H8]=Yc(uB),O0="MenuSubTrigger",G8=M.forwardRef((t,e)=>{const n=Zc(O0,t.__scopeMenu),a=cg(O0,t.__scopeMenu),r=H8(O0,t.__scopeMenu),l=X2(O0,t.__scopeMenu),c=M.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:g}=l,m={__scopeMenu:t.__scopeMenu},v=M.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return M.useEffect(()=>v,[v]),M.useEffect(()=>{const _=d.current;return()=>{window.clearTimeout(_),g(null)}},[d,g]),A.jsx(K2,{asChild:!0,...m,children:A.jsx(M8,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Y8(n.open),...t,ref:vv(e,r.onTriggerChange),onClick:_=>{t.onClick?.(_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ct(t.onPointerMove,$0(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Ct(t.onPointerLeave,$0(_=>{v();const S=n.content?.getBoundingClientRect();if(S){const E=n.content?.dataset.side,T=E==="right",R=T?-5:5,O=S[T?"left":"right"],j=S[T?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+R,y:_.clientY},{x:O,y:S.top},{x:j,y:S.top},{x:j,y:S.bottom},{x:O,y:S.bottom}],side:E}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ct(t.onKeyDown,_=>{const S=l.searchRef.current!=="";t.disabled||S&&_.key===" "||VP[a.dir].includes(_.key)&&(n.onOpenChange(!0),n.content?.focus(),_.preventDefault())})})})});G8.displayName=O0;var q8="MenuSubContent",V8=M.forwardRef((t,e)=>{const n=T8(Dr,t.__scopeMenu),{forceMount:a=n.forceMount,...r}=t,l=Zc(Dr,t.__scopeMenu),c=cg(Dr,t.__scopeMenu),d=H8(q8,t.__scopeMenu),g=M.useRef(null),m=fa(e,g);return A.jsx(Q0.Provider,{scope:t.__scopeMenu,children:A.jsx(xu,{present:a||l.open,children:A.jsx(Q0.Slot,{scope:t.__scopeMenu,children:A.jsx(F2,{id:d.contentId,"aria-labelledby":d.triggerId,...r,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{c.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ct(t.onFocusOutside,v=>{v.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ct(t.onEscapeKeyDown,v=>{c.onClose(),v.preventDefault()}),onKeyDown:Ct(t.onKeyDown,v=>{const _=v.currentTarget.contains(v.target),S=YP[c.dir].includes(v.key);_&&S&&(l.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});V8.displayName=q8;function Y8(t){return t?"open":"closed"}function Fm(t){return t==="indeterminate"}function J2(t){return Fm(t)?"indeterminate":t?"checked":"unchecked"}function cB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function fB(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function dB(t,e,n){const r=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=fB(t,Math.max(l,0));r.length===1&&(c=c.filter(m=>m!==n));const g=c.find(m=>m.toLowerCase().startsWith(r.toLowerCase()));return g!==n?g:void 0}function hB(t,e){const{x:n,y:a}=t;let r=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],g=e[c],m=d.x,v=d.y,_=g.x,S=g.y;v>a!=S>a&&n<(_-m)*(a-v)/(S-v)+m&&(r=!r)}return r}function gB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return hB(n,e)}function $0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var pB=C8,mB=K2,vB=A8,yB=R8,bB=Q2,_B=O8,SB=Av,wB=D8,xB=j8,EB=U8,CB=k8,TB=P8,AB=B8,RB=G8,OB=V8,Rv="DropdownMenu",[MB]=so(Rv,[x8]),yi=x8(),[DB,Z8]=MB(Rv),K8=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:r,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,g=yi(e),m=M.useRef(null),[v,_]=Hd({prop:r,defaultProp:l??!1,onChange:c,caller:Rv});return A.jsx(DB,{scope:e,triggerId:Md(),triggerRef:m,contentId:Md(),open:v,onOpenChange:_,onOpenToggle:M.useCallback(()=>_(S=>!S),[_]),modal:d,children:A.jsx(pB,{...g,open:v,onOpenChange:_,dir:a,modal:d,children:n})})};K8.displayName=Rv;var I8="DropdownMenuTrigger",X8=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...r}=t,l=Z8(I8,n),c=yi(n);return A.jsx(mB,{asChild:!0,...c,children:A.jsx(Sn.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...r,ref:vv(e,l.triggerRef),onPointerDown:Ct(t.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ct(t.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});X8.displayName=I8;var NB="DropdownMenuPortal",F8=t=>{const{__scopeDropdownMenu:e,...n}=t,a=yi(e);return A.jsx(vB,{...a,...n})};F8.displayName=NB;var Q8="DropdownMenuContent",$8=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Z8(Q8,n),l=yi(n),c=M.useRef(!1);return A.jsx(yB,{id:r.contentId,"aria-labelledby":r.triggerId,...l,...a,ref:e,onCloseAutoFocus:Ct(t.onCloseAutoFocus,d=>{c.current||r.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ct(t.onInteractOutside,d=>{const g=d.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0,v=g.button===2||m;(!r.modal||v)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$8.displayName=Q8;var jB="DropdownMenuGroup",zB=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(bB,{...r,...a,ref:e})});zB.displayName=jB;var UB="DropdownMenuLabel",J8=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(_B,{...r,...a,ref:e})});J8.displayName=UB;var LB="DropdownMenuItem",W8=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(SB,{...r,...a,ref:e})});W8.displayName=LB;var kB="DropdownMenuCheckboxItem",PB=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(wB,{...r,...a,ref:e})});PB.displayName=kB;var BB="DropdownMenuRadioGroup",HB=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(xB,{...r,...a,ref:e})});HB.displayName=BB;var GB="DropdownMenuRadioItem",qB=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(EB,{...r,...a,ref:e})});qB.displayName=GB;var VB="DropdownMenuItemIndicator",YB=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(CB,{...r,...a,ref:e})});YB.displayName=VB;var ZB="DropdownMenuSeparator",ew=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(TB,{...r,...a,ref:e})});ew.displayName=ZB;var KB="DropdownMenuArrow",tw=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(AB,{...r,...a,ref:e})});tw.displayName=KB;var IB="DropdownMenuSubTrigger",XB=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(RB,{...r,...a,ref:e})});XB.displayName=IB;var FB="DropdownMenuSubContent",QB=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=yi(n);return A.jsx(OB,{...r,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QB.displayName=FB;var ay=K8,iy=X8,ry=F8,sy=$8,$B=J8,us=W8,mm=ew,JB=tw,WB="Separator",B5="horizontal",eH=["horizontal","vertical"],nw=M.forwardRef((t,e)=>{const{decorative:n,orientation:a=B5,...r}=t,l=tH(a)?a:B5,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return A.jsx(Sn.div,{"data-orientation":l,...d,...r,ref:e})});nw.displayName=WB;function tH(t){return eH.includes(t)}var nH=nw,aw="Toggle",iw=M.forwardRef((t,e)=>{const{pressed:n,defaultPressed:a,onPressedChange:r,...l}=t,[c,d]=Hd({prop:n,onChange:r,defaultProp:a??!1,caller:aw});return A.jsx(Sn.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:e,onClick:Ct(t.onClick,()=>{t.disabled||d(!c)})})});iw.displayName=aw;var Eu="ToggleGroup",[rw,sw]=so(Eu,[Vd]),lw=Vd(),W2=nt.forwardRef((t,e)=>{const{type:n,...a}=t;if(n==="single"){const r=a;return A.jsx(aH,{...r,ref:e})}if(n==="multiple"){const r=a;return A.jsx(iH,{...r,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Eu}\``)});W2.displayName=Eu;var[ow,uw]=rw(Eu),aH=nt.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...l}=t,[c,d]=Hd({prop:n,defaultProp:a??"",onChange:r,caller:Eu});return A.jsx(ow,{scope:t.__scopeToggleGroup,type:"single",value:nt.useMemo(()=>c?[c]:[],[c]),onItemActivate:d,onItemDeactivate:nt.useCallback(()=>d(""),[d]),children:A.jsx(cw,{...l,ref:e})})}),iH=nt.forwardRef((t,e)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...l}=t,[c,d]=Hd({prop:n,defaultProp:a??[],onChange:r,caller:Eu}),g=nt.useCallback(v=>d((_=[])=>[..._,v]),[d]),m=nt.useCallback(v=>d((_=[])=>_.filter(S=>S!==v)),[d]);return A.jsx(ow,{scope:t.__scopeToggleGroup,type:"multiple",value:c,onItemActivate:g,onItemDeactivate:m,children:A.jsx(cw,{...l,ref:e})})});W2.displayName=Eu;var[rH,sH]=rw(Eu),cw=nt.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:r=!0,orientation:l,dir:c,loop:d=!0,...g}=t,m=lw(n),v=yv(c),_={role:"group",dir:v,...g};return A.jsx(rH,{scope:n,rovingFocus:r,disabled:a,children:r?A.jsx(Z2,{asChild:!0,...m,orientation:l,dir:v,loop:d,children:A.jsx(Sn.div,{..._,ref:e})}):A.jsx(Sn.div,{..._,ref:e})})}),Qm="ToggleGroupItem",fw=nt.forwardRef((t,e)=>{const n=uw(Qm,t.__scopeToggleGroup),a=sH(Qm,t.__scopeToggleGroup),r=lw(t.__scopeToggleGroup),l=n.value.includes(t.value),c=a.disabled||t.disabled,d={...t,pressed:l,disabled:c},g=nt.useRef(null);return a.rovingFocus?A.jsx(Cv,{asChild:!0,...r,focusable:!c,active:l,ref:g,children:A.jsx(H5,{...d,ref:e})}):A.jsx(H5,{...d,ref:e})});fw.displayName=Qm;var H5=nt.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:a,...r}=t,l=uw(Qm,n),c={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},d=l.type==="single"?c:void 0;return A.jsx(iw,{...d,...r,ref:e,onPressedChange:g=>{g?l.onItemActivate(a):l.onItemDeactivate(a)}})}),lH=W2,oH=fw,eb="Toolbar",[uH]=so(eb,[Vd,sw]),tb=Vd(),dw=sw(),[cH,hw]=uH(eb),gw=M.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:r,loop:l=!0,...c}=t,d=tb(n),g=yv(r);return A.jsx(cH,{scope:n,orientation:a,dir:g,children:A.jsx(Z2,{asChild:!0,...d,orientation:a,dir:g,loop:l,children:A.jsx(Sn.div,{role:"toolbar","aria-orientation":a,dir:g,...c,ref:e})})})});gw.displayName=eb;var pw="ToolbarSeparator",mw=M.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=hw(pw,n);return A.jsx(nH,{orientation:r.orientation==="horizontal"?"vertical":"horizontal",...a,ref:e})});mw.displayName=pw;var fH="ToolbarButton",vw=M.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=tb(n);return A.jsx(Cv,{asChild:!0,...r,focusable:!t.disabled,children:A.jsx(Sn.button,{type:"button",...a,ref:e})})});vw.displayName=fH;var dH="ToolbarLink",hH=M.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=tb(n);return A.jsx(Cv,{asChild:!0,...r,focusable:!0,children:A.jsx(Sn.a,{...a,ref:e,onKeyDown:Ct(t.onKeyDown,l=>{l.key===" "&&l.currentTarget.click()})})})});hH.displayName=dH;var yw="ToolbarToggleGroup",bw=M.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=hw(yw,n),l=dw(n);return A.jsx(lH,{"data-orientation":r.orientation,dir:r.dir,...l,...a,ref:e,rovingFocus:!1})});bw.displayName=yw;var gH="ToolbarToggleItem",_w=M.forwardRef((t,e)=>{const{__scopeToolbar:n,...a}=t,r=dw(n),l={__scopeToolbar:t.__scopeToolbar};return A.jsx(vw,{asChild:!0,...l,children:A.jsx(oH,{...r,...a,ref:e})})});_w.displayName=gH;var pH=gw,G5=mw,ly=bw,tu=_w;function mH({onShapeClick:t,onTodoClick:e,onDrawClick:n,onSelectClick:a,onEraserClick:r,setTool:l}){return A.jsxs(pH,{className:"flex w-100 max-w-100 rounded-lg bg-white border-2 border-zinc-300 shadow-sm p-2 justify-center",children:[A.jsxs(ly,{type:"single",children:[A.jsx(tu,{value:"task",children:A.jsxs("div",{className:"add-shape group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",onClick:t,children:[A.jsx(q3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Task"})]})}),A.jsx(tu,{value:"todo",children:A.jsxs("div",{className:"add-shape group flex flex-col justify-center items-center  rounded-l-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",onClick:()=>e(),children:[A.jsx(lT,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add To-do"})]})})]}),A.jsx(G5,{className:"w-px my-3 mx-2 bg-black"}),A.jsxs(ly,{type:"single",children:[A.jsx(tu,{value:"annotate",children:A.jsxs("div",{className:"add-annotate group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(G3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Annotate"})]})}),A.jsx(tu,{value:"image",children:A.jsxs("div",{className:"add-image group relative border-none inline-flex flex-col items-center justify-center w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(Z3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Add Image"})]})})]}),A.jsx(G5,{className:"w-px my-3 mx-2 bg-black"}),A.jsxs(ly,{type:"single",onValueChange:c=>{c&&l(c)},children:[A.jsx(tu,{value:"hand",children:A.jsxs("div",{className:"pan-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(V3,{className:"-rotate-[45deg] text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Pan Canvas"})]})}),A.jsx(tu,{value:"select",onClick:a,children:A.jsxs("div",{className:"select-canvas group flex flex-col justify-center items-center  rounded-sm border-none w-10 h-10 p-1 text-gray-700 transition-colors duration-50 hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(rT,{className:"-rotate-[45deg] text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Select"})]})}),A.jsx(tu,{value:"draw",className:"relative group",onClick:n,children:A.jsxs("div",{className:"draw-canvas flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 duration-50 text-gray-700 transition-colors hover:bg-blue-50 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2  focus:ring-offset-white focus:outline-none [data-state=on]:bg-violet-200 [data-state=on]:text-purple-700 disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(Y3,{className:"text-xl"}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Draw"})]})}),A.jsx(tu,{value:"eraser",onClick:r,children:A.jsxs("div",{className:"add-shape group flex flex-col justify-center items-center rounded-sm border-none w-10 h-10 p-1 transition-colors duration-50 hover:text-red-500 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white focus:outline-none [&[data-state='on']]:bg-blue-500 [data-state=on]:text-purple-700 disabled:pointer-events-auto disabled:opacity-50",children:[A.jsx(I3,{className:"text-xl",style:{strokeWidth:.5}}),A.jsx("span",{className:"absolute -top-3 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Delete Task"})]})})]})]})}async function Sw(t){const{data:e,error:n}=await na.from("canvas").select("canvas_id").order("created_at",{ascending:!1}).limit(1).eq("owner_id",t).maybeSingle();if(n)return console.error("Error fetching canvas:",n),null;if(e)return e.canvas_id;console.log("canvas id doesnt exist");const{data:a,error:r}=await na.from("canvas").insert({owner_id:t,viewport_x:0,viewport_y:0,viewport_zoom:100}).select("canvas_id").single();return r?(console.error("Error creating canvas:",r),null):a.canvas_id}async function vH(t,e){try{const{data:n,error:a}=await na.from("canvas").insert({owner_id:t,canvas_name:e||`Canvas ${Date.now()}`,viewport_x:0,viewport_y:0,viewport_zoom:100}).select("canvas_id").single();return a?{success:!1,error:a.message}:{success:!0,canvasId:n.canvas_id}}catch(n){return{success:!1,error:String(n)}}}async function q5(t){try{const{data:e,error:n}=await na.from("canvas").select("canvas_id, canvas_name, created_at, updated_at").eq("owner_id",t).order("updated_at",{ascending:!1});return n?{success:!1,error:n.message}:{success:!0,canvases:e||[]}}catch(e){return{success:!1,error:String(e)}}}async function vm(t,e){try{const{data:{user:n}}=await na.auth.getUser();if(!n)return new Promise(r=>{const l=indexedDB.open("CanvasDB"),c={local_canvas:"local",canvasData:t,updatedAt:Date.now()};l.onsuccess=()=>{const g=l.result.transaction("Canvas","readwrite"),m=g.objectStore("Canvas");g.oncomplete=()=>r({success:!0}),g.onerror=()=>r({success:!1,error:g.error?.message}),m.put(c),r({success:!0})},l.onerror=()=>{console.log("error"),r({success:!1,error:l.error?.message??"IndexedDB error"})}});let a=e;if(!a&&(a=await Sw(n.id),!a))return{success:!1,error:"Failed to get canvas"};if(t.shapes.length>0){await na.from("shapes").delete().eq("canvas_id",a);const r=t.shapes.map(g=>({canvas_id:a,shape_data:g})),l=t.connectors.map(g=>({canvas_id:a,shape_data:g}));console.log("connectors to insert:",l);const c=[...r,...l];console.log(c);const{error:d}=await na.from("shapes").insert(c);if(d)return{success:!1,error:d.message}}else await na.from("shapes").delete().eq("canvas_id",a);return{success:!0,canvasId:a}}catch(n){return console.error("Error saving:",n),{success:!1,error:String(n)}}}async function V5(t){try{const{data:{user:e}}=await na.auth.getUser();if(!e)return new Promise(d=>{const g=indexedDB.open("CanvasDB");g.onsuccess=()=>{const S=g.result.transaction("Canvas","readonly").objectStore("Canvas").get("local");S.onsuccess=()=>{const E=S.result;d(E?{success:!0,data:E.canvasData,canvasId:E.local_canvas}:{success:!1,error:"No offline canvas found"})},S.onerror=()=>d({success:!1,error:"Failed to get canvas data"})}});let n=t;if(!n&&(n=await Sw(e.id),!n))return{success:!1,error:"Failed to get or create canvas"};const{data:a,error:r}=await na.from("shapes").select("shape_data").eq("canvas_id",n);if(r)return{success:!1,error:r.message};const l=a.filter(d=>d.shape_data.shape==="rect").map(d=>d.shape_data),c=a.filter(d=>d.shape_data.shape==="connector").map(d=>d.shape_data);return console.log("rects to load: ",l),console.log("connectors to load: ",c),{success:!0,data:{shapes:l,connectors:c},canvasId:n}}catch(e){return console.error("loadCanvas error:",e),{success:!1,error:String(e)}}}async function yH(t){try{const{data:{user:e}}=await na.auth.getUser();if(!e)return{success:!1,error:"User not authenticated"};const{error:n}=await na.from("shapes").delete().eq("canvas_id",t);return n?{success:!1,error:n.message}:{success:!0}}catch(e){return console.error("deleteCanvas error:",e),{success:!1,error:String(e)}}}async function bH(){try{const{data:{user:t}}=await na.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:e,error:n}=await na.from("users").select("*").eq("id",t.id).maybeSingle();return n?{success:!1,error:n.message}:{success:!0,data:{id:e.id,avatar_url:e.avatar_url,created_at:e.created_at,updated_at:e.updated_at}}}catch(t){return console.error("getUserProfile error:",t),{success:!1,error:String(t)}}}const _H=async()=>{let t,e,n=1;return new Promise(a=>{t=indexedDB.open("CanvasDB",1),t.onupgradeneeded=()=>{e=t.result,e.objectStoreNames.contains("Canvas")||(console.log("create object store"),e.createObjectStore("Canvas",{keyPath:"local_canvas"}))},t.onsuccess=()=>{e=t.result,n=e.version,console.log("version: ",n),a(!0)},t.onerror=()=>{a(!1)}})},SH=()=>({init:M.useCallback(async()=>{const e=sessionStorage.getItem("isDbReady"),n=sessionStorage.getItem("isExpired");(!e||!n)&&(sessionStorage.setItem("isDbReady",JSON.stringify(!0)),sessionStorage.setItem("isExpired",JSON.stringify(!0)),await _H()?console.log("IndexedDB Initialized (first time)"):console.error("InitDb - Something went wrong")),console.log("IndexedDB initailized")},[])});function wH(t,e,n){const a=M.useRef(void 0);M.useEffect(()=>(a.current&&(clearTimeout(a.current),console.log("saved")),a.current=window.setTimeout(()=>{n()},e),()=>{a.current&&clearTimeout(a.current)}),[t,e,n])}function xH(){const{init:t}=SH(),{session:e}=P3(),[n,a]=M.useState([]),[r,l]=M.useState(100),[c,d]=M.useState(!1),[g,m]=M.useState([]),[v,_]=M.useState([]),[S,E]=M.useState("select"),[T,R]=M.useState("#000000"),O=M.useRef(0),j=ev(),[N,z]=M.useState(null),[B,G]=M.useState(!1),[k,K]=M.useState(null),[$,oe]=M.useState(null),[be,Re]=M.useState([]),[pe,ye]=M.useState(!1);wH({shapes:g,connectors:v},600,()=>vm({shapes:g,connectors:v},$)),M.useEffect(()=>{let Me=!0;return(async()=>{await t();const gt=await V5(null);if(!Me||(gt.success?(m(gt.data.shapes),oe(gt.canvasId),_(gt.data.connectors)):console.error("Failed to load canvas:",gt.error),!e))return;const ot=await q5(e.user.id);if(!Me)return;ot.success?Re(ot.canvases||[]):console.error("Failed to load canvas list:",ot.error);const un=await bH();Me&&(un.success?K(un.data.avatar_url):console.error("Failed to load user profile:",un.error))})(),()=>{Me=!1}},[t,e]);const me=Me=>{z(Me),d(!0)},_e=()=>{z(null),d(!1)},L=Me=>{console.log(Me?Me.id:"no parent");const gt=new Date("March 30, 2026").toISOString(),ot={id:"todo-"+Date.now().toString(),x:Me?Me.x+600:100,y:Me?Me.y:100,color:Me?Me.color:"#00bc7d",isCollapsed:!1,scaleX:1,scaleY:1,shape:"todo",behavior:"node",width:400,height:75,title:"Something-something",description:"Even more things",dueDate:gt,completed:!1,owner:e?e.user.user_metadata.name:"Guest",status:"Something",parents:Me?Me.id:""};m([...g,ot])},Q=Me=>{O.current+=1,E("hand");const gt={shape:"rect",id:"rect-"+Date.now().toString(),behavior:"node",x:100,y:100,width:300,height:200,color:Me.color,title:Me.title,description:Me.description,dueDate:Me.date,status:"In Progress",isCollapsed:!1,children:[],parents:"",scaleX:1,scaleY:1};m([...g,gt])},X=(Me,gt)=>{m(ot=>ot.map(un=>un.id===Me.id?{...un,title:gt.title,description:gt.description,color:gt.color,dueDate:gt.date}:un))},se=()=>{E(S==="draw"?"hand":"draw")},H=()=>{E(S==="eraser"?"hand":"eraser")},J=()=>{E(S==="select"?"hand":"select")},ve=async()=>{m([]),_([]);const Me=await yH($);Me.success||console.error("Failed to delete canvas from supabase",Me.error),O.current=0},Se=async()=>{G(!0);try{await na.auth.signOut(),await new Promise(Me=>setTimeout(Me,2e3))}catch{}finally{G(!1)}},He=async()=>{G(!0);try{await vm({shapes:g,connectors:v},$||null)}catch{}finally{G(!1)}},it=async Me=>{G(!0);try{$&&Me&&Me!==$&&await vm({shapes:g,connectors:v},$);const gt=await V5(Me||null);gt.success?(m(gt.data.shapes),_(gt.data.connectors),console.log("after setting connectors: ",v),oe(gt.canvasId)):console.error("Load failed:",gt.error)}catch(gt){console.error("Load error:",gt)}finally{G(!1)}},Ye=async()=>{if(!e){console.warn("No session");return}G(!0);try{$&&await vm({shapes:g,connectors:v},$);const Me=await vH(e.user.id,`Canvas ${be.length+1}`);if(Me.success&&Me.canvasId){m([]),oe(Me.canvasId),O.current=0;const gt=await q5(e.user.id);gt.success&&Re(gt.canvases||[])}else console.error("Create failed:",Me.error)}catch(Me){console.error("Create canvas error:",Me)}finally{G(!1)}},lt=async Me=>{Me!==$&&await it(Me)};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"relative w-full h-screen overflow-hidden ",children:[A.jsxs("nav",{className:"top-nav absolute w-full z-50 flex flex-wrap justify-between items-center p-5",children:[A.jsx("div",{className:"more-options ",children:A.jsxs(ay,{children:[A.jsx(iy,{asChild:!0,children:A.jsx("button",{className:"p-2.5 bg-blue-200 border-blue-300 border-2 rounded-lg hover:cursor-pointer",children:A.jsx(iT,{})})}),A.jsx(ry,{children:A.jsxs(sy,{sideOffset:5,align:"start",alignOffset:5,className:"min-w-56 rounded-lg shadow-lg p-5 text-blue-700 hover:cursor-default hover:border-none bg-white",children:[A.jsx(us,{className:"group py-1 pl-2 hover:bg-sky-200 rounded-lg hover:text-blue-700 flex items-center",children:A.jsxs("div",{className:"flex items-center gap-2",onClick:He,children:[A.jsx(G_,{}),"Save"]})}),A.jsx(us,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",onClick:()=>ye(!pe),children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(hT,{}),"My Canvases (",be.length,")"]})}),pe&&be.map(Me=>A.jsx(us,{children:A.jsxs("div",{onClick:()=>lt(Me.canvas_id),className:$===Me.canvas_id?"bg-blue-100":"",children:[A.jsx(G_,{className:"w-4 h-4 mr-2"}),A.jsx("span",{children:Me.canvas_name||"Untitled"}),$===Me.canvas_id&&A.jsx(uT,{className:"w-4 h-4 ml-auto"})]})},Me.canvas_id)),A.jsx(us,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(dT,{}),"Export PDF"]})}),A.jsx(mm,{}),A.jsx(us,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:A.jsxs("div",{className:"flex items-center gap-2",onClick:Ye,children:[A.jsx(pT,{}),A.jsx("span",{children:B?"Creating":"New Canvas"})]})}),A.jsx(us,{onSelect:Me=>Me.preventDefault(),className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:A.jsxs(y5,{children:[A.jsx(b5,{asChild:!0,children:A.jsxs("button",{className:"flex items-center gap-2",children:[A.jsx(K3,{}),"Clear Canvas"]})}),A.jsxs(_5,{children:[A.jsx(S5,{className:"fixed bg-black opacity-50 inset-0 z-100"}),A.jsxs(w5,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[A.jsx(C5,{className:"text-xl font-bold mb-2",children:"Are you sure?"}),A.jsx(T5,{className:"my-3 text-gray-700",children:"This action cannot be undone. This will permanently clear the canvas."}),A.jsxs("div",{className:"flex justify-end gap-4",children:[A.jsx(E5,{asChild:!0,children:A.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),A.jsx(x5,{asChild:!0,children:A.jsx("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white",onClick:ve,children:"Yes, clear canvas"})})]})]})]})]})}),A.jsx(mm,{className:"h-[2px] my-2 bg-gray-500"}),A.jsx($B,{className:"py-0.5 pl-2 text-sm text-gray-400",children:"Canvas Theme"}),A.jsx(us,{className:"py-1 pl-2  hover:bg-sky-200 rounded-lg hover:text-blue-700",children:"Change Color Here"})]})})]})}),A.jsx("div",{className:"tool-bar-tab absolute left-1/2 transform -translate-x-1/2 hidden sm:flex",children:A.jsx(mH,{onShapeClick:()=>me(null),onTodoClick:L,onEraserClick:H,onClearClick:ve,onDrawClick:se,onSelectClick:J,onColorSelect:R,isActive:S==="eraser"||S==="draw",tool:S,setTool:E})}),A.jsxs("div",{className:"user-account",children:[A.jsxs("div",{className:"big-buttons hidden gap-2 lg:flex",children:[e&&A.jsx("div",{children:A.jsxs(ay,{children:[A.jsx(iy,{asChild:!0,children:A.jsx("button",{children:A.jsxs("div",{className:"inline-flex text-center items-center justify-center px-5 py-2.5 gap-2 text-black font-medium bg-purple-100 rounded-lg",children:[A.jsx(p0,{className:"text-lg"}),A.jsxs("div",{className:"inline-flex gap-1 text-center items-center justify-center",children:[A.jsx("span",{className:"text-xs",children:"Manage Account"}),A.jsx(cT,{className:"text-xs"})]})]})})}),A.jsx(ry,{children:A.jsxs(sy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[A.jsx("div",{children:k?A.jsx("img",{src:k,alt:"profile avatar",className:"w-10 h-10 rounded-full object-cover"}):A.jsx(p0,{className:"text-3xl text-blue-500"})}),A.jsxs("div",{className:"flex flex-col items-center justify-center",children:[A.jsx("span",{className:"text-sm font-medium",children:e?.user?.user_metadata.name}),A.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),A.jsx(mm,{className:"h-[2px] my-2 bg-gray-500"}),A.jsx(us,{onSelect:Me=>Me.preventDefault(),children:A.jsxs(y5,{children:[A.jsx(b5,{asChild:!0,children:A.jsxs("div",{className:"inline-flex gap-2 items-center text-center justify-start text-sm hover:border-none hover:bg-purple-300 w-full h-full px-2 py-1 rounded-lg",children:[A.jsx(M1,{}),A.jsx("span",{children:"Sign Out"})]})}),A.jsxs(_5,{children:[A.jsx(S5,{className:"fixed bg-black opacity-50 inset-0 z-100"}),A.jsxs(w5,{className:"bg-white min-w-md max-w-lg fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-5 rounded-lg z-101",children:[A.jsx(C5,{className:"text-xl font-bold mb-2",children:"Oh no! You're Leaving!"}),A.jsx(T5,{className:"my-3 text-gray-700",children:"Are you sure? You will be logged out from this session"}),A.jsxs("div",{className:"flex justify-end gap-4",children:[A.jsx(E5,{asChild:!0,children:A.jsx("button",{className:"hover:underline decoration-1 hover:cursor-pointer",children:"Cancel"})}),A.jsx(x5,{asChild:!0,children:A.jsxs("button",{className:"bg-red-300 text-red-500 px-2.5 py-1 rounded-lg hover:cursor-pointer hover:bg-red-500 hover:text-white inline-flex items-center justify-center text-center gap-1",onClick:async()=>{await Se()},children:[A.jsx(M1,{}),"Sign Out"]})})]})]})]})]})}),A.jsx(JB,{className:"fill-purple-100"})]})})]})}),B&&A.jsx("div",{children:A.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:A.jsxs("div",{role:"status",children:[A.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),A.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),A.jsx("span",{className:"sr-only",children:"Loading..."})]})})}),!e&&A.jsx(xy,{title:"Sign In",onClick:async()=>{j("/signin")}}),!e&&A.jsx(bT,{title:"Create Account",onClick:()=>j("/create-acc")})]}),A.jsxs("div",{className:"account-mobile flex lg:hidden",children:[A.jsxs(ay,{children:[A.jsx(iy,{asChild:!0,children:A.jsx("button",{className:"p-2.5 bg-purple-200 rounded-lg hover:bg-purple-100 hover:cursor-pointer",children:A.jsx(p0,{})})}),A.jsx(ry,{children:A.jsxs(sy,{sideOffset:10,align:"center",className:"min-w-56 rounded-lg shadow-lg p-5 text-black hover:cursor-default hover:border-none bg-purple-100",children:[!e&&A.jsxs("div",{children:[A.jsx(us,{children:A.jsxs("div",{onClick:async()=>{j("/signin")},className:"inline-flex w-full items-center justify-start gap-2",children:[A.jsx(gT,{}),A.jsx("span",{children:"Sign In"})]})}),A.jsx(us,{children:A.jsxs("div",{onClick:()=>j("/create-acc"),className:"inline-flex w-full items-center justify-start gap-2",children:[A.jsx(p0,{}),A.jsx("span",{children:"Create Account"})]})})]}),e&&A.jsxs("div",{children:[A.jsxs("div",{className:"mob-user-info flex flex-col items-start justify-center",children:[A.jsx("div",{className:"pb-2",children:k?A.jsx("img",{src:k,alt:"user profile",className:"w-10 h-10 rounded-full object-cover"}):A.jsx(p0,{className:"text-2xl"})}),A.jsxs("div",{className:"flex flex-col items-start justify-start text-center",children:[A.jsx("span",{className:"text-xs font-semibold",children:e?.user?.user_metadata.name}),A.jsx("span",{className:"text-xs font-light",children:e?.user?.email})]})]}),A.jsx(mm,{className:"h-px my-2 bg-gray-500"}),A.jsx(us,{children:A.jsxs("div",{onClick:async()=>{await Se()},className:"inline-flex items-center justify-start gap-2 ",children:[A.jsx(M1,{className:"text-sm font-semibold"}),A.jsx("span",{className:"text-sm font-semibold",children:"Sign Out"})]})})]})]})})]}),B&&A.jsx("div",{children:A.jsx("div",{className:"flex items-center justify-center w-screen h-screen bg-black dark:bg-gray-800 dark:border-gray-700 absolute z-9999 inset-0 opacity-40",children:A.jsxs("div",{role:"status",children:[A.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),A.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),A.jsx("span",{className:"sr-only",children:"Loading..."})]})})})]})]})]}),A.jsx("div",{className:"absolute toolbar-mob flex sm:hidden z-100 w-full justify-center p-2 bottom-4",children:A.jsx(ST,{onShapeClick:me,onEraserClick:H,onClearClick:ve,onDrawClick:se,onColorSelect:R,isActive:S==="eraser"||S==="draw"})}),A.jsx("div",{className:"account-buttons absolute flex flex-row top-1.5 right-0 gap-2 m-4 z-51"}),A.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 w-xs rounded-md shadow-md/15 shadow-gray-600"}),A.jsxs("div",{className:"absolute bottom-4 left-4  items-center z-10 bg-amber-100 border-2 border-amber-200 rounded-xl w-fit hidden sm:inline-flex",children:[A.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-l-lg",onClick:()=>l(Math.max(r-10,10)),children:A.jsx(vT,{})}),A.jsxs("button",{onClick:()=>l(100),className:"relative w-20 py-2 hover:cursor-pointer text-center group",children:[r,"%",A.jsx("span",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"Reset Value"})]}),A.jsx("button",{className:"hover:bg-orange-200 hover:cursor-pointer px-4 py-2 rounded-r-lg h-full",onClick:()=>l(Math.min(r+10,500)),children:A.jsx(mT,{})})]}),A.jsx("a",{href:"https://forms.gle/5s7W6VNtgeGiRFyL8",children:A.jsxs("button",{className:"absolute bottom-4 right-4 items-center z-10 bg-red-100 border-2 border-red-200 rounded-xl w-fit p-2.5 hover:bg-red-200 hover:cursor-pointer group",children:[A.jsx(oT,{}),A.jsx("span",{className:"absolute right-12 -top-5 translate-x-1/2 text-nowrap px-2 py-1 rounded-sm bg-gray-700 text-sm text-white font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-500 ",children:"RectUp Form"})]})}),c&&A.jsx(vU,{onAddTask:Q,onUpdateTask:X,onCloseForm:_e,initialData:N}),A.jsx(VM,{shapes:g,setShapes:m,tool:S,setTool:E,setZoomValue:l,zoom:r,connectors:v,setConnectors:_,strokeColor:T,onShapeClick:me,addTodo:L})]}),A.jsx("ul",{children:n.map(Me=>A.jsx("li",{children:Me.name},Me.name))})]})}const EH=f9([{path:"/",element:A.jsx(xH,{})},{path:"/signin",element:A.jsx(yT,{})},{path:"/create-acc",element:A.jsx(_T,{})}]);gx.createRoot(document.getElementById("root")).render(A.jsx(M.StrictMode,{children:A.jsx(XC,{children:A.jsx(E9,{router:EH})})}));
